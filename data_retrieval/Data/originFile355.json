{"items":[{"tags":["java","pbkdf2"],"comments":[{"owner":{"account_id":4952071,"reputation":68,"user_id":3985685,"display_name":"DebugCode"},"score":1,"creation_date":1687456513,"post_id":76534507,"comment_id":134943034,"body_markdown":"I think your approach is a recommended method for protecting passwords in a database. The default values you mentioned for the algorithm, iterations, salt size, and key size are reasonable. Newer algorithms like bcrypt, scrypt, or Argon2 have gained popularity due to their stronger resistance against GPU-based attacks. If you can apply it may be worth considering these algorithms as potential alternatives to PBKDF2.","body":"I think your approach is a recommended method for protecting passwords in a database. The default values you mentioned for the algorithm, iterations, salt size, and key size are reasonable. Newer algorithms like bcrypt, scrypt, or Argon2 have gained popularity due to their stronger resistance against GPU-based attacks. If you can apply it may be worth considering these algorithms as potential alternatives to PBKDF2."}],"answers":[{"tags":[],"owner":{"account_id":3059859,"reputation":5657,"user_id":2592760,"accept_rate":93,"display_name":"Transcendent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687456680,"creation_date":1687456680,"answer_id":76534563,"question_id":76534507,"body_markdown":"You do not need to store salts! Given that you have the following function for creating your hashes: \r\n\r\n    string crypt(string password, string salt);\r\n\r\nif you create a salted hash for your password like: \r\n\r\n    string hashedPassword = crypt(&quot;mypassword&quot;, saltFunction(&quot;md5&quot;));\r\n\r\nyou can verify passwords like: \r\n\r\n    string hash = crypt(&quot;mypassword&quot;, hashedPassword); \r\n    if(hash == hashedPassword) {\r\n       // Password is correct\r\n    }\r\n\r\nThis is common practice and widely used in Postgres. ","title":"Save salt with hashed password","body":"<p>You do not need to store salts! Given that you have the following function for creating your hashes:</p>\n<pre><code>string crypt(string password, string salt);\n</code></pre>\n<p>if you create a salted hash for your password like:</p>\n<pre><code>string hashedPassword = crypt(&quot;mypassword&quot;, saltFunction(&quot;md5&quot;));\n</code></pre>\n<p>you can verify passwords like:</p>\n<pre><code>string hash = crypt(&quot;mypassword&quot;, hashedPassword); \nif(hash == hashedPassword) {\n   // Password is correct\n}\n</code></pre>\n<p>This is common practice and widely used in Postgres.</p>\n"}],"owner":{"account_id":169166,"reputation":183,"user_id":395093,"accept_rate":56,"display_name":"DanialAbdi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687456680,"creation_date":1687456171,"question_id":76534507,"body_markdown":"I&#39;m saving hashed password with this pattern in the Database:\r\n```\r\nPkGzO4WINLmDHLeXETzsjoxdtNzz0ngR3ux4P5E61go=:ffApiGPDwAuZL+a/GO8ooPt2JxXk2CXumlyhC0eZd8Q=\r\n Pattern-&gt; HashedPassword:Salt\r\n```\r\nAfter character **&quot;:&quot;** is salt.\r\n\r\nThis is configuration for hashing:\r\n\r\n    private static final String DEFAULT_ALGORITHM = &quot;PBKDF2WithHmacSHA512&quot;;\r\n\r\n    private static final int DEFAULT_ITERATIONS = 2048;\r\n    private static final int DEFAULT_SALT_SIZE = 64;         // 32-byte/256-bit salt\r\n    private static final int DEFAULT_KEY_SIZE = 64;\r\n\r\nIs it a bad way? Do exist a better way?","title":"Save salt with hashed password","body":"<p>I'm saving hashed password with this pattern in the Database:</p>\n<pre><code>PkGzO4WINLmDHLeXETzsjoxdtNzz0ngR3ux4P5E61go=:ffApiGPDwAuZL+a/GO8ooPt2JxXk2CXumlyhC0eZd8Q=\n Pattern-&gt; HashedPassword:Salt\n</code></pre>\n<p>After character <strong>&quot;:&quot;</strong> is salt.</p>\n<p>This is configuration for hashing:</p>\n<pre><code>private static final String DEFAULT_ALGORITHM = &quot;PBKDF2WithHmacSHA512&quot;;\n\nprivate static final int DEFAULT_ITERATIONS = 2048;\nprivate static final int DEFAULT_SALT_SIZE = 64;         // 32-byte/256-bit salt\nprivate static final int DEFAULT_KEY_SIZE = 64;\n</code></pre>\n<p>Is it a bad way? Do exist a better way?</p>\n"},{"tags":["java","memory-management","profiling","instrumentation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687461701,"post_id":76534560,"comment_id":134944042,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28861501,"reputation":21,"user_id":22105195,"display_name":"Shaurya Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687456659,"creation_date":1687456659,"question_id":76534560,"body_markdown":"I am trying to track and instrument memory loads for Java programs. \r\nA very simple usecase is to print all the memory accessed by load instruction in a program while it is running. I want to do this using a lightweight mechanism like Intel PIN because I will restrict its memory to cause memory pressure. One option is to use simics, but I don&#39;t know how simics reacts when I constrain memory using cgroups for example. \r\n\r\nI have built this tool for C applications using PIN but PIN doesn&#39;t work for Java, is there any similar tool that I can use for Java?\r\n\r\nI tried using PIN with Java along with the -follow_execv flag, since PIN doesn&#39;t have access to the binary it seems like it can&#39;t work. I confirmed this with the community. I briefly tried to use DynamoRIO but that didn&#39;t seem to work for my usecase as there is a delay in the printing of the assembly instructions and I need them to be instrumented when the instructions are executed. ","title":"Tracking and instrumenting memory accesses for Java application","body":"<p>I am trying to track and instrument memory loads for Java programs.\nA very simple usecase is to print all the memory accessed by load instruction in a program while it is running. I want to do this using a lightweight mechanism like Intel PIN because I will restrict its memory to cause memory pressure. One option is to use simics, but I don't know how simics reacts when I constrain memory using cgroups for example.</p>\n<p>I have built this tool for C applications using PIN but PIN doesn't work for Java, is there any similar tool that I can use for Java?</p>\n<p>I tried using PIN with Java along with the -follow_execv flag, since PIN doesn't have access to the binary it seems like it can't work. I confirmed this with the community. I briefly tried to use DynamoRIO but that didn't seem to work for my usecase as there is a delay in the printing of the assembly instructions and I need them to be instrumented when the instructions are executed.</p>\n"},{"tags":["java","spring","sap-commerce-cloud","java-ee-6"],"comments":[{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586350518,"post_id":61060987,"comment_id":108095658,"body_markdown":"I believe that if the cmscockpit users do not have read access on the SyncJob they should not be able to perform the sync. Have you tried that ?","body":"I believe that if the cmscockpit users do not have read access on the SyncJob they should not be able to perform the sync. Have you tried that ?"},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586350615,"post_id":61060987,"comment_id":108095716,"body_markdown":"But if you want to restrict only one instance( i.e the Global Sync Job) and allow the cmscockpit users to perform other sync jobs(i.e non global) then User Rights is not the answer. This instead can be achieved via a search restriction which will be applied to cmscockpit usergroup and will imply that the Global Sync job only will not be visible to them","body":"But if you want to restrict only one instance( i.e the Global Sync Job) and allow the cmscockpit users to perform other sync jobs(i.e non global) then User Rights is not the answer. This instead can be achieved via a search restriction which will be applied to cmscockpit usergroup and will imply that the Global Sync job only will not be visible to them"},{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1586353023,"post_id":61060987,"comment_id":108097011,"body_markdown":"@dj_frunza Search restriction might not be correct, if the User also needs to see the catalog. What they might want is to see both the Source and Target catalog, but to disable the sync.","body":"@dj_frunza Search restriction might not be correct, if the User also needs to see the catalog. What they might want is to see both the Source and Target catalog, but to disable the sync."},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1586354140,"post_id":61060987,"comment_id":108097711,"body_markdown":"@geffchang The way the users are seeing catalogs will not change, They will still be able to see the Source and Target catalogs. The restriction will be applied for &quot;CatalogVersionSyncJob&quot; type meaning that only the global sync job (which I expect to be of this type) will not be visble, hence the sync will not be possible. I did something similar and it worked as expected in backoffice","body":"@geffchang The way the users are seeing catalogs will not change, They will still be able to see the Source and Target catalogs. The restriction will be applied for &quot;CatalogVersionSyncJob&quot; type meaning that only the global sync job (which I expect to be of this type) will not be visble, hence the sync will not be possible. I did something similar and it worked as expected in backoffice"}],"answers":[{"comments":[{"owner":{"account_id":1294805,"reputation":4533,"user_id":1246145,"accept_rate":87,"display_name":"Adil"},"score":0,"creation_date":1593681171,"post_id":61124608,"comment_id":110867165,"body_markdown":"I am trying to do the exact same thing, disable the synchronization of full catalog for some users, but let them synchronize the pages or components one by one. If I use SearchRestriction on CatalogVersionSyncJob, all synchronization buttons disappear. Please can you explain your solution with Restriction on the button ? Thank you.","body":"I am trying to do the exact same thing, disable the synchronization of full catalog for some users, but let them synchronize the pages or components one by one. If I use SearchRestriction on CatalogVersionSyncJob, all synchronization buttons disappear. Please can you explain your solution with Restriction on the button ? Thank you."}],"tags":[],"owner":{"account_id":13593468,"reputation":11,"user_id":9806201,"display_name":"MoiPuissance"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586445897,"creation_date":1586445897,"answer_id":61124608,"question_id":61060987,"body_markdown":"I was in the catalog section selected renderer. I captured the right-click event. I have restricted the display of the button only for the new group that I have created.","title":"How can I disable the synchronization button in the cmscockpit for the cockpit users?","body":"<p>I was in the catalog section selected renderer. I captured the right-click event. I have restricted the display of the button only for the new group that I have created.</p>\n"}],"owner":{"account_id":13593468,"reputation":11,"user_id":9806201,"display_name":"MoiPuissance"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61124608,"answer_count":1,"score":0,"last_activity_date":1687456587,"creation_date":1586179794,"question_id":61060987,"body_markdown":"I want to deactivate the global synchronization of the catalog in the cmscockpit.\r\n\r\nIs it possible to do it with usergroups? If yes, how can I do it? \r\n\r\nIf not, how should I do it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Bry2.png","title":"How can I disable the synchronization button in the cmscockpit for the cockpit users?","body":"<p>I want to deactivate the global synchronization of the catalog in the cmscockpit.</p>\n\n<p>Is it possible to do it with usergroups? If yes, how can I do it? </p>\n\n<p>If not, how should I do it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Bry2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Bry2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","proxy","okhttp","apache-httpclient-4.x"],"owner":{"account_id":6414314,"reputation":11,"user_id":4972991,"display_name":"Adithya R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687455843,"creation_date":1687455843,"question_id":76534458,"body_markdown":"Currently, I am using the Apache HttpClient with RestTemplate. We have a HTTPS proxy and currently connect by using a DefaultProxyRoutePlanner as given below.\r\n```\r\nHttpHost proxy = new HttpHost(host, port, &quot;https&quot;);\r\nHttpClientBuilder.create()\r\n                    .setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {\r\n                        @Override\r\n                        public HttpHost determineProxy(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\r\n                            return super.determineProxy(target, request, context);\r\n                        }\r\n                    });\r\n```\r\nThis allows me to connect to a Https proxy.\r\n\r\nHow can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.\r\n\r\n\r\n\r\nHow can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.\r\n\r\nI will not be able to set JVM level proxy or System level proxy property as its running in a kubernetes pod.","title":"Connect to Https Proxy using OkHttp Client","body":"<p>Currently, I am using the Apache HttpClient with RestTemplate. We have a HTTPS proxy and currently connect by using a DefaultProxyRoutePlanner as given below.</p>\n<pre><code>HttpHost proxy = new HttpHost(host, port, &quot;https&quot;);\nHttpClientBuilder.create()\n                    .setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {\n                        @Override\n                        public HttpHost determineProxy(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\n                            return super.determineProxy(target, request, context);\n                        }\n                    });\n</code></pre>\n<p>This allows me to connect to a Https proxy.</p>\n<p>How can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.</p>\n<p>How can I achieve the same thing using a OkHttp client. I can see only an option to add java.net.Proxy which only shows the TYPE.HTTP as an option.</p>\n<p>I will not be able to set JVM level proxy or System level proxy property as its running in a kubernetes pod.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446929,"creation_date":1687446929,"answer_id":76533350,"question_id":76533026,"body_markdown":"I have whitelisted/unsecured some swagger endpoints previously using below code, this should work for you.\r\nAlso make sure priority of this Bean `SecurityFilterChain` is set if there are more than one Bean for above class.\r\n\r\n```\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity.csrf().disable().authorizeHttpRequests(auth -&gt; {\r\n\t\t\tauth.requestMatchers(&quot;/v3/**&quot;, &quot;/swagger-ui/**&quot;).permitAll();\r\n            auth.requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll();\r\n\t\t\tauth.anyRequest().authenticated();\r\n\t\t}).httpBasic();\r\n\t\treturn httpSecurity.build();\r\n\t}\r\n```","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>I have whitelisted/unsecured some swagger endpoints previously using below code, this should work for you.\nAlso make sure priority of this Bean <code>SecurityFilterChain</code> is set if there are more than one Bean for above class.</p>\n<pre><code>\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().authorizeHttpRequests(auth -&gt; {\n            auth.requestMatchers(&quot;/v3/**&quot;, &quot;/swagger-ui/**&quot;).permitAll();\n            auth.requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll();\n            auth.anyRequest().authenticated();\n        }).httpBasic();\n        return httpSecurity.build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687455035,"creation_date":1687455035,"answer_id":76534370,"question_id":76533026,"body_markdown":"Try add this to your code if it extends WebSecurityConfigurerAdapter.\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(&quot;/login&quot;)\r\n                .antMatchers(&quot;/home&quot;);\r\n    }\r\n\r\n","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>Try add this to your code if it extends WebSecurityConfigurerAdapter.</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) {\n    web.ignoring()\n            .antMatchers(&quot;/login&quot;)\n            .antMatchers(&quot;/home&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":9748411,"reputation":511,"user_id":7227547,"accept_rate":64,"display_name":"Spongi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687455035,"creation_date":1687444525,"question_id":76533026,"body_markdown":"I am using spring 3.1.0 and I want to be able to access some routes without authentication. However, after using the code below, the browser opens a small login window, where I need to add a username and password.\r\n\r\n```\r\n  @Bean\r\n  public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests((requests) -&gt; requests\r\n            .requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n        )\r\n        .httpBasic(withDefaults())\r\n        .anonymous(a -&gt; a.disable());\r\n    return http.build();\r\n  }\r\n```\r\n\r\nThis is how the code will look when I use spring security 2.x . How to migrate the code below using spring 3.1.0?\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/login&quot;, &quot;/home&quot;).permitAll()\r\n    }\r\n```\r\n","title":"Spring Security[3.1.0] public(unprotected) endpoints","body":"<p>I am using spring 3.1.0 and I want to be able to access some routes without authentication. However, after using the code below, the browser opens a small login window, where I need to add a username and password.</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((requests) -&gt; requests\n            .requestMatchers(&quot;/login&quot;, &quot;/home&quot;).permitAll()\n            .anyRequest().authenticated()\n        )\n        .httpBasic(withDefaults())\n        .anonymous(a -&gt; a.disable());\n    return http.build();\n  }\n</code></pre>\n<p>This is how the code will look when I use spring security 2.x . How to migrate the code below using spring 3.1.0?</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/login&quot;, &quot;/home&quot;).permitAll()\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687453066,"post_id":76533959,"comment_id":134942360,"body_markdown":"It means your result (ie instanse of Optioanl class) is null. You would better check why your repository return null instead of empty Optional","body":"It means your result (ie instanse of Optioanl class) is null. You would better check why your repository return null instead of empty Optional"},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1687461585,"post_id":76533959,"comment_id":134944017,"body_markdown":"There was an issue with findById() method. Its behaviour was wired , it should have returned Optional.empty() but was returning null for some reason. Thank you @yahorbarkouski for your help.","body":"There was an issue with findById() method. Its behaviour was wired , it should have returned Optional.empty() but was returning null for some reason. Thank you @yahorbarkouski for your help."}],"answers":[{"comments":[{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1687461646,"post_id":76534177,"comment_id":134944031,"body_markdown":"Thank you for the suggestion.","body":"Thank you for the suggestion."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687536429,"post_id":76534177,"comment_id":134955775,"body_markdown":"kindly reminder: you could upvote if was helpful","body":"kindly reminder: you could upvote if was helpful"}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687453432,"creation_date":1687453432,"answer_id":76534177,"question_id":76533959,"body_markdown":"Exception says `fooRepository.findById` returns null instead of empty Optional. It&#39;s not supposed, so I would suggest to check why it happens.\r\n\r\nAnyway, to deal with `result` equals to `null`, you could use\r\n\r\n    Optional.ofNullable(result).flatMap(Function.identity()).map(MyObject::getSpecificValue).orElse(null);","title":"Optimize optional flow Java 8+","body":"<p>Exception says <code>fooRepository.findById</code> returns null instead of empty Optional. It's not supposed, so I would suggest to check why it happens.</p>\n<p>Anyway, to deal with <code>result</code> equals to <code>null</code>, you could use</p>\n<pre><code>Optional.ofNullable(result).flatMap(Function.identity()).map(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687453459,"creation_date":1687453459,"answer_id":76534182,"question_id":76533959,"body_markdown":"I bet this indicates a problem with the `findById` method in `fooRepository` -  it shouldn&#39;t return null, but rather an `Optional.empty()` when no object is found with the given id, so you might need to check how `findById` is implemented.\r\n\r\nBut if for some specific reason, you don&#39;t have control over the `fooRepository` code and it can return null, you may use `Optional.ofNullable()` + `flatMap()` to get the desired result:\r\n```java\r\nOptional&lt;MyObject&gt; result = Optional.ofNullable(fooRepository.findById(Id));\r\nreturn result.flatMap(MyObject::getSpecificValue).orElse(null);\r\n```","title":"Optimize optional flow Java 8+","body":"<p>I bet this indicates a problem with the <code>findById</code> method in <code>fooRepository</code> -  it shouldn't return null, but rather an <code>Optional.empty()</code> when no object is found with the given id, so you might need to check how <code>findById</code> is implemented.</p>\n<p>But if for some specific reason, you don't have control over the <code>fooRepository</code> code and it can return null, you may use <code>Optional.ofNullable()</code> + <code>flatMap()</code> to get the desired result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;MyObject&gt; result = Optional.ofNullable(fooRepository.findById(Id));\nreturn result.flatMap(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76534182,"answer_count":2,"score":1,"last_activity_date":1687453459,"creation_date":1687451817,"question_id":76533959,"body_markdown":"I am trying to optimize below code:- \r\n``` \r\nOptional&lt;MyObject&gt; result = fooRepository.findById(Id);\r\nif(result.isPresent()) {\r\n   return result.getSpecificValue();\r\n}else {\r\n   return null;\r\n}\r\n```\r\nI tried to convert this to:-\r\n```\r\nreturn result.map(MyObject::getSpecificValue).orElse(null);\r\n```\r\nBut somehow, after execution it thows NPE saying \r\n\r\n*Cannot invoke &quot;java.util.Optional.map(java.util.function.Function)&quot; because &quot;result&quot; is null*\r\n\r\nI spent a few hours figuring out to optimize it, I am not sure if I am doing something wrong.\r\nI would be really grateful for any help or any guiding pointers.\r\n\r\n","title":"Optimize optional flow Java 8+","body":"<p>I am trying to optimize below code:-</p>\n<pre><code>Optional&lt;MyObject&gt; result = fooRepository.findById(Id);\nif(result.isPresent()) {\n   return result.getSpecificValue();\n}else {\n   return null;\n}\n</code></pre>\n<p>I tried to convert this to:-</p>\n<pre><code>return result.map(MyObject::getSpecificValue).orElse(null);\n</code></pre>\n<p>But somehow, after execution it thows NPE saying</p>\n<p><em>Cannot invoke &quot;java.util.Optional.map(java.util.function.Function)&quot; because &quot;result&quot; is null</em></p>\n<p>I spent a few hours figuring out to optimize it, I am not sure if I am doing something wrong.\nI would be really grateful for any help or any guiding pointers.</p>\n"},{"tags":["java","tess4j","debug-mode","multiple-results"],"owner":{"account_id":4721847,"reputation":1,"user_id":3819496,"display_name":"Trantor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687451817,"creation_date":1687451817,"question_id":76533960,"body_markdown":"I am running Tesseract in Java 11.0.16 (Tess4j 5.7.0) for getting all words from an image.\r\nThe process uses no threads. If I run it on &#39;Run&#39; mode I get list of 174 words. If I run the exact same one with the same image in &#39;Debug&#39; mode with no breakpoints, I get a different list, now with 169 words.\r\nThe lists also differ in the skew angle detected for each mode. In &#39;Run&#39; mode the calculated angle is: 0.0842, and in &#39;Debug&#39; mode the angle value is: 0.0421\r\n\r\nThe &#39;Run&#39; mode list starts like this:\r\n```\r\nWord 01, x: 1398.00, y: 0266.00, x+w: 1410.00, y+h: 0284.00, text: 1\r\nWord 02, x: 0081.00, y: 0311.00, x+w: 0255.00, y+h: 0333.00, text: TERT\r\nWord 03, x: 0268.00, y: 0304.00, x+w: 0290.00, y+h: 0341.00, text: vo\r\nWord 04, x: 0302.00, y: 0312.00, x+w: 0346.00, y+h: 0334.00, text: LL\r\nWord 05, x: 0422.00, y: 0311.00, x+w: 0500.00, y+h: 0334.00, text: a\r\nWord 06, x: 0576.00, y: 0311.00, x+w: 0641.00, y+h: 0333.00, text: a\r\nWord 07, x: 0762.00, y: 0307.00, x+w: 0872.00, y+h: 0324.00, text: Ref\r\nWord 08, x: 0889.00, y: 0307.00, x+w: 0995.00, y+h: 0324.00, text: Number:\r\nWord 09, x: 1018.00, y: 0307.00, x+w: 1141.00, y+h: 0325.00, text: 3491159\r\nWord 10, x: 1271.00, y: 0308.00, x+w: 1381.00, y+h: 0329.00, text: Commp\r\nWord 11, x: 1396.00, y: 0307.00, x+w: 1502.00, y+h: 0325.00, text: Number:\r\n```\r\n\r\nAnd the &#39;Debug&#39; mode list starts like this:\r\n```\r\nWord 01, x: 1397.00, y: 0266.00, x+w: 1409.00, y+h: 0283.00, text: 1\r\nWord 02, x: 0080.00, y: 0310.00, x+w: 0234.00, y+h: 0328.00, text: SEE\r\nWord 03, x: 0268.00, y: 0300.00, x+w: 0289.00, y+h: 0336.00, text: Oo\r\nWord 04, x: 0302.00, y: 0300.00, x+w: 0348.00, y+h: 0336.00, text: Tone\r\nWord 05, x: 0364.00, y: 0310.00, x+w: 0430.00, y+h: 0332.00, text: SE\r\nWord 06, x: 0481.00, y: 0310.00, x+w: 0528.00, y+h: 0332.00, text: IE\r\nWord 07, x: 0556.00, y: 0310.00, x+w: 0640.00, y+h: 0332.00, text: ETE\r\nWord 08, x: 0761.00, y: 0306.00, x+w: 0871.00, y+h: 0323.00, text: Ref\r\nWord 09, x: 0888.00, y: 0306.00, x+w: 0994.00, y+h: 0323.00, text: Number:\r\nWord 10, x: 1017.00, y: 0306.00, x+w: 1140.00, y+h: 0324.00, text: 3491159\r\nWord 11, x: 1270.00, y: 0308.00, x+w: 1380.00, y+h: 0328.00, text: Commp\r\n```\r\n\r\nIf you see, the x, y coordinates also change.\r\n\r\nThe parameters values for PageIterator is 3 and PageSegMode is 6.\r\n\r\nHaving both different lists heavily impact on the final results, so this is quite undesired.\r\nAny idea how this is happening? Any suggestion about how to get the exact same lists under &#39;Debug&#39; and &#39;Run&#39; mode, since any other running conditions are the same?\r\n\r\nI have tried the same without de-skewing the images, or with different values for PageIterator and PageSegMode. Also, I placed a short sleep command, even though I am not using threads.\r\n\r\nThank you very much.\r\n\r\n","title":"Tesseract Tess4J giving different results whether running in debug or run mode","body":"<p>I am running Tesseract in Java 11.0.16 (Tess4j 5.7.0) for getting all words from an image.\nThe process uses no threads. If I run it on 'Run' mode I get list of 174 words. If I run the exact same one with the same image in 'Debug' mode with no breakpoints, I get a different list, now with 169 words.\nThe lists also differ in the skew angle detected for each mode. In 'Run' mode the calculated angle is: 0.0842, and in 'Debug' mode the angle value is: 0.0421</p>\n<p>The 'Run' mode list starts like this:</p>\n<pre><code>Word 01, x: 1398.00, y: 0266.00, x+w: 1410.00, y+h: 0284.00, text: 1\nWord 02, x: 0081.00, y: 0311.00, x+w: 0255.00, y+h: 0333.00, text: TERT\nWord 03, x: 0268.00, y: 0304.00, x+w: 0290.00, y+h: 0341.00, text: vo\nWord 04, x: 0302.00, y: 0312.00, x+w: 0346.00, y+h: 0334.00, text: LL\nWord 05, x: 0422.00, y: 0311.00, x+w: 0500.00, y+h: 0334.00, text: a\nWord 06, x: 0576.00, y: 0311.00, x+w: 0641.00, y+h: 0333.00, text: a\nWord 07, x: 0762.00, y: 0307.00, x+w: 0872.00, y+h: 0324.00, text: Ref\nWord 08, x: 0889.00, y: 0307.00, x+w: 0995.00, y+h: 0324.00, text: Number:\nWord 09, x: 1018.00, y: 0307.00, x+w: 1141.00, y+h: 0325.00, text: 3491159\nWord 10, x: 1271.00, y: 0308.00, x+w: 1381.00, y+h: 0329.00, text: Commp\nWord 11, x: 1396.00, y: 0307.00, x+w: 1502.00, y+h: 0325.00, text: Number:\n</code></pre>\n<p>And the 'Debug' mode list starts like this:</p>\n<pre><code>Word 01, x: 1397.00, y: 0266.00, x+w: 1409.00, y+h: 0283.00, text: 1\nWord 02, x: 0080.00, y: 0310.00, x+w: 0234.00, y+h: 0328.00, text: SEE\nWord 03, x: 0268.00, y: 0300.00, x+w: 0289.00, y+h: 0336.00, text: Oo\nWord 04, x: 0302.00, y: 0300.00, x+w: 0348.00, y+h: 0336.00, text: Tone\nWord 05, x: 0364.00, y: 0310.00, x+w: 0430.00, y+h: 0332.00, text: SE\nWord 06, x: 0481.00, y: 0310.00, x+w: 0528.00, y+h: 0332.00, text: IE\nWord 07, x: 0556.00, y: 0310.00, x+w: 0640.00, y+h: 0332.00, text: ETE\nWord 08, x: 0761.00, y: 0306.00, x+w: 0871.00, y+h: 0323.00, text: Ref\nWord 09, x: 0888.00, y: 0306.00, x+w: 0994.00, y+h: 0323.00, text: Number:\nWord 10, x: 1017.00, y: 0306.00, x+w: 1140.00, y+h: 0324.00, text: 3491159\nWord 11, x: 1270.00, y: 0308.00, x+w: 1380.00, y+h: 0328.00, text: Commp\n</code></pre>\n<p>If you see, the x, y coordinates also change.</p>\n<p>The parameters values for PageIterator is 3 and PageSegMode is 6.</p>\n<p>Having both different lists heavily impact on the final results, so this is quite undesired.\nAny idea how this is happening? Any suggestion about how to get the exact same lists under 'Debug' and 'Run' mode, since any other running conditions are the same?</p>\n<p>I have tried the same without de-skewing the images, or with different values for PageIterator and PageSegMode. Also, I placed a short sleep command, even though I am not using threads.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","enums","sdk","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1460112699,"creation_date":1460112699,"answer_id":36497817,"question_id":36495898,"body_markdown":"I found the answer myself. I create a custom marshall like below.\r\n\r\n    public class TransportMarshaller implements DynamoDBMarshaller&lt;List&lt;Transport&gt;&gt; {\r\n\r\n    @Override\r\n    public String marshall(List&lt;Transport&gt; transports) {\r\n        List&lt;String&gt;transportMap=new ArrayList&lt;&gt;();\r\n        for(Transport transport:transports){\r\n            transportMap.add(transport.name());\r\n        }\r\n        return transportMap.toString().replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;);//Save as comma separate value for the purpose of easiness to unmarshall\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Transport&gt; unmarshall(Class&lt;List&lt;Transport&gt;&gt; aClass, String s) {\r\n        List&lt;String&gt;map= Arrays.asList(s.split(&quot;\\\\s*,\\\\s*&quot;)); //split from comma and parse to List\r\n        List&lt;Transport&gt;transports=new ArrayList&lt;&gt;();\r\n        for (String st:map){\r\n            transports.add(Transport.valueOf(st));\r\n        }\r\n        return transports;\r\n    }\r\n    }\r\n\r\n  ","title":"DynamoDB mapping List of Enum","body":"<p>I found the answer myself. I create a custom marshall like below.</p>\n\n<pre><code>public class TransportMarshaller implements DynamoDBMarshaller&lt;List&lt;Transport&gt;&gt; {\n\n@Override\npublic String marshall(List&lt;Transport&gt; transports) {\n    List&lt;String&gt;transportMap=new ArrayList&lt;&gt;();\n    for(Transport transport:transports){\n        transportMap.add(transport.name());\n    }\n    return transportMap.toString().replaceAll(\"\\\\[|\\\\]\", \"\");//Save as comma separate value for the purpose of easiness to unmarshall\n}\n\n@Override\npublic List&lt;Transport&gt; unmarshall(Class&lt;List&lt;Transport&gt;&gt; aClass, String s) {\n    List&lt;String&gt;map= Arrays.asList(s.split(\"\\\\s*,\\\\s*\")); //split from comma and parse to List\n    List&lt;Transport&gt;transports=new ArrayList&lt;&gt;();\n    for (String st:map){\n        transports.add(Transport.valueOf(st));\n    }\n    return transports;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3104535,"reputation":233,"user_id":2627749,"display_name":"shimiA"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1687451544,"creation_date":1489496415,"answer_id":42786725,"question_id":36495898,"body_markdown":"DynamoDBMarshaller is deprecated. \r\nUse DynamoDBTypeConverter instead.\r\n\r\nExample:\r\n\r\nEnum class\r\n\r\n    public static enum ValidationFailure {\r\n\t\tFRAUD, GENERAL_ERROR\r\n\t}\r\n\r\nDynamoDBTable class\r\n\r\n   \r\n\r\n     @DynamoDBTable(tableName = &quot;receipt&quot;)\r\n    public class Receipt {\r\n\t\r\n\t\tprivate Long id;\r\n\t\tprivate List&lt;ValidationFailure&gt; validation;\r\n\t\r\n\t\t@DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n\t\tpublic Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\t@DynamoDBTypeConverted(converter = ValidationConverter.class)\r\n\t\tpublic List&lt;ValidationFailure&gt; getValidation() {\r\n\t\t\treturn validation;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setValidation(List&lt;ValidationFailure&gt; validation) {\r\n\t\t\tthis.validation = validation;\r\n\t\t}\r\n    }\r\n    \r\n\r\nConverter:\r\n\r\n    public class ValidationConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;ValidationFailure&gt;&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;String&gt; convert(List&lt;ValidationFailure&gt; object) {\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\t\tif (object != null) {\r\n\t\t\tobject.stream().forEach(e -&gt; result.add(e.name()));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ValidationFailure&gt; unconvert(List&lt;String&gt; object) {\r\n\t\tList&lt;ValidationFailure&gt; result = new ArrayList&lt;ValidationFailure&gt;();\r\n\t\tif (object != null) {\r\n\t\t\tobject.stream().forEach(e -&gt; result.add(ValidationFailure.valueOf(e)));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n    }","title":"DynamoDB mapping List of Enum","body":"<p>DynamoDBMarshaller is deprecated.\nUse DynamoDBTypeConverter instead.</p>\n<p>Example:</p>\n<p>Enum class</p>\n<pre><code>public static enum ValidationFailure {\n    FRAUD, GENERAL_ERROR\n}\n</code></pre>\n<p>DynamoDBTable class</p>\n<pre><code> @DynamoDBTable(tableName = &quot;receipt&quot;)\npublic class Receipt {\n\n    private Long id;\n    private List&lt;ValidationFailure&gt; validation;\n\n    @DynamoDBHashKey(attributeName = &quot;id&quot;)\n    public Long getId() {\n        return id;\n    }\n\n    @DynamoDBTypeConverted(converter = ValidationConverter.class)\n    public List&lt;ValidationFailure&gt; getValidation() {\n        return validation;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setValidation(List&lt;ValidationFailure&gt; validation) {\n        this.validation = validation;\n    }\n}\n</code></pre>\n<p>Converter:</p>\n<pre><code>public class ValidationConverter implements DynamoDBTypeConverter&lt;List&lt;String&gt;, List&lt;ValidationFailure&gt;&gt; {\n\n@Override\npublic List&lt;String&gt; convert(List&lt;ValidationFailure&gt; object) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    if (object != null) {\n        object.stream().forEach(e -&gt; result.add(e.name()));\n    }\n    return result;\n}\n\n@Override\npublic List&lt;ValidationFailure&gt; unconvert(List&lt;String&gt; object) {\n    List&lt;ValidationFailure&gt; result = new ArrayList&lt;ValidationFailure&gt;();\n    if (object != null) {\n        object.stream().forEach(e -&gt; result.add(ValidationFailure.valueOf(e)));\n    }\n    return result;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903177,"reputation":61,"user_id":10038287,"display_name":"Viacheslav Petriaiev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544626549,"creation_date":1544626549,"answer_id":53745723,"question_id":36495898,"body_markdown":"It&#39;s working for me, I have used the Set\r\n\r\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.SS)\r\n    var roles: MutableSet&lt;Employee.Role&gt;? = null\r\n\r\nI think the same approach would work for List with DynamoDBAttributeType.L","title":"DynamoDB mapping List of Enum","body":"<p>It's working for me, I have used the Set</p>\n\n<pre><code>@DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.SS)\nvar roles: MutableSet&lt;Employee.Role&gt;? = null\n</code></pre>\n\n<p>I think the same approach would work for List with DynamoDBAttributeType.L</p>\n"}],"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8011,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36497817,"answer_count":3,"score":7,"last_activity_date":1687451544,"creation_date":1460107084,"question_id":36495898,"body_markdown":"Mapping an enum class in to DynamoDB object is really simple by using Custom Marshall. But how to map a List of Enum?\r\n\r\nEnum class\r\n\r\n    public enum Transport {\r\n    SMS,EMAIL,ALL;\r\n    }\r\n\r\nDynamoDB mapper\r\n\r\n    public class Campaign{\r\n       private List&lt;Transport&gt; transport;\r\n       \r\n       @DynamoDBAttribute(attributeName = &quot;transport&quot;)\r\n       public List&lt;Transport&gt; getTransport() {\r\n           return transport;\r\n       }\r\n\r\n       public void setTransport(List&lt;Transport&gt; transport) {\r\n          this.transport = transport;\r\n       }\r\n    }\r\n","title":"DynamoDB mapping List of Enum","body":"<p>Mapping an enum class in to DynamoDB object is really simple by using Custom Marshall. But how to map a List of Enum?</p>\n\n<p>Enum class</p>\n\n<pre><code>public enum Transport {\nSMS,EMAIL,ALL;\n}\n</code></pre>\n\n<p>DynamoDB mapper</p>\n\n<pre><code>public class Campaign{\n   private List&lt;Transport&gt; transport;\n\n   @DynamoDBAttribute(attributeName = \"transport\")\n   public List&lt;Transport&gt; getTransport() {\n       return transport;\n   }\n\n   public void setTransport(List&lt;Transport&gt; transport) {\n      this.transport = transport;\n   }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-atlas"],"answers":[{"tags":[],"owner":{"account_id":17532494,"reputation":88,"user_id":12716256,"display_name":"Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610942835,"creation_date":1610942256,"answer_id":65768635,"question_id":65767870,"body_markdown":"    db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$nin:[1,2]}});\r\n\r\nIf you want to use `$in`, you can use it below... using &#39;$in&#39;\r\n\r\n    db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$in:[1,2]}});","title":"How number value Search in MongoDB Atlas work?","body":"<pre><code>db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$nin:[1,2]}});\n</code></pre>\n<p>If you want to use <code>$in</code>, you can use it below... using '$in'</p>\n<pre><code>db.getCollection(&quot;yourCollection&quot;).find({&quot;message&quot;:&quot;Hello&quot;,&quot;status&quot;:{$in:[1,2]}});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":971372,"reputation":2847,"user_id":993892,"accept_rate":65,"display_name":"Isuru Gunawardana"},"score":0,"creation_date":1611015567,"post_id":65768686,"comment_id":116309900,"body_markdown":"Thanks for the answer, the $search one gives below error in Atlas MongoDb\n`caused by :: \\&quot;query[0]\\&quot; must be a string (from \\&quot;compound.mustNot[0].text\\&quot;)&#39;`","body":"Thanks for the answer, the $search one gives below error in Atlas MongoDb <code>caused by :: \\&quot;query[0]\\&quot; must be a string (from \\&quot;compound.mustNot[0].text\\&quot;)&#39;</code>"}],"tags":[],"owner":{"account_id":10846480,"reputation":8794,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610942692,"creation_date":1610942692,"answer_id":65768686,"question_id":65767870,"body_markdown":"Somethin if you want to try with find\r\n\r\n    db.collection.find({\r\n      $and: [\r\n        {  message: &quot;Hello&quot; },\r\n        {  status: { $nin: [1,2]}\r\n        }\r\n      ]\r\n    })\r\n\r\n**Working [mongo playground][1]**\r\n\r\nIf you need to use `$search`, you can use array\r\n\r\n    $search: {\r\n    \tcompound:{\r\n    \t\tmust:[{\r\n    \t\t  text: {\r\n    \t\t\tquery: &#39;Hello&#39;,\r\n    \t\t\tpath: &#39;message&#39;\r\n    \t\t  }\r\n    \t\t}],\r\n    \t   \r\n    \t\tmustNot:[\r\n    \t\t  {\r\n    \t\t  text: {\r\n    \t\t\tquery: [1,2],\r\n    \t\t\tpath: &#39;status&#39;\r\n    \t\t  }\r\n    \t\t}\r\n    \t]\r\n      }\r\n    }\r\n\r\n  [1]: https://mongoplayground.net/p/QB5PNIUeKp-","title":"How number value Search in MongoDB Atlas work?","body":"<p>Somethin if you want to try with find</p>\n<pre><code>db.collection.find({\n  $and: [\n    {  message: &quot;Hello&quot; },\n    {  status: { $nin: [1,2]}\n    }\n  ]\n})\n</code></pre>\n<p><strong>Working <a href=\"https://mongoplayground.net/p/QB5PNIUeKp-\" rel=\"nofollow noreferrer\">mongo playground</a></strong></p>\n<p>If you need to use <code>$search</code>, you can use array</p>\n<pre><code>$search: {\n    compound:{\n        must:[{\n          text: {\n            query: 'Hello',\n            path: 'message'\n          }\n        }],\n       \n        mustNot:[\n          {\n          text: {\n            query: [1,2],\n            path: 'status'\n          }\n        }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14046966,"reputation":1743,"user_id":10146901,"display_name":"Firoj Siddiki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629810588,"creation_date":1629810588,"answer_id":68908201,"question_id":65767870,"body_markdown":"- Try this, check if it works\r\n```mql\r\ncompound:{\r\n    must:[{\r\n      text: {\r\n        query: &#39;Hello&#39;,\r\n        path: &#39;message&#39;\r\n      }\r\n    }],\r\n   \r\n    mustNot:[\r\n      {\r\n      text: {\r\n        query: 1,\r\n        path: &#39;status&#39;\r\n      }\r\n    },\r\n    {\r\n      text: {\r\n        query: 2,\r\n        path: &#39;status&#39;\r\n      }\r\n    },\r\n    {\r\n      regex: {\r\n        query: &quot;([1-2]{1})&quot;,\r\n        path: &quot;status&quot;,\r\n        allowAnalyzedField: true\r\n      }\r\n    } \r\n    ]\r\n  }\r\n```\r\n[doc][1]\r\n\r\n\r\n  [1]: https://docs.atlas.mongodb.com/reference/atlas-search/tutorial/run-query/","title":"How number value Search in MongoDB Atlas work?","body":"<ul>\n<li>Try this, check if it works</li>\n</ul>\n<pre><code>compound:{\n    must:[{\n      text: {\n        query: 'Hello',\n        path: 'message'\n      }\n    }],\n   \n    mustNot:[\n      {\n      text: {\n        query: 1,\n        path: 'status'\n      }\n    },\n    {\n      text: {\n        query: 2,\n        path: 'status'\n      }\n    },\n    {\n      regex: {\n        query: &quot;([1-2]{1})&quot;,\n        path: &quot;status&quot;,\n        allowAnalyzedField: true\n      }\n    } \n    ]\n  }\n</code></pre>\n<p><a href=\"https://docs.atlas.mongodb.com/reference/atlas-search/tutorial/run-query/\" rel=\"nofollow noreferrer\">doc</a></p>\n"},{"tags":[],"owner":{"account_id":1669565,"reputation":533,"user_id":1536289,"accept_rate":89,"display_name":"evolross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687450850,"creation_date":1687450850,"answer_id":76533853,"question_id":65767870,"body_markdown":"We&#39;ve found that in MongoDB Search any search of a number value must use the [equals][1] operator on a per-field basis. It also takes a single `value` not an array of `value`. Your example would look something like this:\r\n```\r\nconst searchAggregation = {\r\n   index: &quot;some-search-index&quot;,\r\n   compound: {\r\n      text: {\r\n         query: &quot;Hello&quot;,\r\n         path: &quot;message&quot;\r\n      }\r\n      mustNot: [\r\n         {\r\n            equals: {\r\n               value: 1,\r\n               path: &quot;status&quot;\r\n            }\r\n         },\r\n         {\r\n            equals: {\r\n               value: 2,\r\n               path: &quot;status&quot;\r\n            }\r\n         }\r\n      ]\r\n   }\r\n};\r\n```\r\nIt has to be done this way because normal text queries don&#39;t work with numbers in Mongo Search (Lucene). They use `equals` operators. And `equals` operators only work on set fields, so they can&#39;t be done in a single `equals`, but they can be all added to a compound search.\r\n\r\nIn reality, in our searches, we do a base `text` search, but then also run a `parseInt()` on the `query` input that returns true if the entire `query` is an integer or if the first key in the query is an integer. If it&#39;s true, then we dynamically add the `equals` operators on our various fields passing the parsed integer as the query. We also use `should`:\r\n```\r\nconst parseIntQuery = parseInt(query);\r\nif(!isNaN(parseIntQuery)) {\r\n   //  Push the integer comparison for Number field &quot;order&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;order&quot;\r\n      }\r\n   });\r\n\r\n   //  Push the integer comparison for Number field &quot;quantity&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;quantity&quot;\r\n      }\r\n   });\r\n\r\n   //  Push the integer comparison for  Number field &quot;age&quot;\r\n   searchAggregation.compound.should.push({\r\n      equals: {\r\n         value: parseIntQuery,\r\n         path: &quot;age&quot;\r\n      }\r\n   });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/atlas/atlas-search/equals/","title":"How number value Search in MongoDB Atlas work?","body":"<p>We've found that in MongoDB Search any search of a number value must use the <a href=\"https://www.mongodb.com/docs/atlas/atlas-search/equals/\" rel=\"nofollow noreferrer\">equals</a> operator on a per-field basis. It also takes a single <code>value</code> not an array of <code>value</code>. Your example would look something like this:</p>\n<pre><code>const searchAggregation = {\n   index: &quot;some-search-index&quot;,\n   compound: {\n      text: {\n         query: &quot;Hello&quot;,\n         path: &quot;message&quot;\n      }\n      mustNot: [\n         {\n            equals: {\n               value: 1,\n               path: &quot;status&quot;\n            }\n         },\n         {\n            equals: {\n               value: 2,\n               path: &quot;status&quot;\n            }\n         }\n      ]\n   }\n};\n</code></pre>\n<p>It has to be done this way because normal text queries don't work with numbers in Mongo Search (Lucene). They use <code>equals</code> operators. And <code>equals</code> operators only work on set fields, so they can't be done in a single <code>equals</code>, but they can be all added to a compound search.</p>\n<p>In reality, in our searches, we do a base <code>text</code> search, but then also run a <code>parseInt()</code> on the <code>query</code> input that returns true if the entire <code>query</code> is an integer or if the first key in the query is an integer. If it's true, then we dynamically add the <code>equals</code> operators on our various fields passing the parsed integer as the query. We also use <code>should</code>:</p>\n<pre><code>const parseIntQuery = parseInt(query);\nif(!isNaN(parseIntQuery)) {\n   //  Push the integer comparison for Number field &quot;order&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;order&quot;\n      }\n   });\n\n   //  Push the integer comparison for Number field &quot;quantity&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;quantity&quot;\n      }\n   });\n\n   //  Push the integer comparison for  Number field &quot;age&quot;\n   searchAggregation.compound.should.push({\n      equals: {\n         value: parseIntQuery,\n         path: &quot;age&quot;\n      }\n   });\n}\n</code></pre>\n"}],"owner":{"account_id":971372,"reputation":2847,"user_id":993892,"accept_rate":65,"display_name":"Isuru Gunawardana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687450850,"creation_date":1610934784,"question_id":65767870,"body_markdown":"I&#39;m newbie to MongoDB Atlas. I want to execute a query as below,\r\n\r\nSample document:\r\n\r\n    {\r\n      message: &quot;Hello&quot;,\r\n      role: &quot;student&quot;,\r\n      status: 1\r\n    }\r\n\r\nQuery\r\n\r\n    search \r\n    WHERE \r\n    &#39;Hello&#39; in field &#39;message&#39; \r\n    NOT [1 OR 2] in field &#39;status&#39;\r\n\r\nI tried with `compound` and `search` as below, but couldn&#39;t get what I want.\r\n\r\n    compound:{\r\n        must:[{\r\n          text: {\r\n            query: &#39;Hello&#39;,\r\n            path: &#39;message&#39;\r\n          }\r\n        }],\r\n       \r\n        mustNot:[\r\n          {\r\n          text: {\r\n            query: 1,\r\n            path: &#39;status&#39;\r\n          }\r\n        },\r\n        {\r\n          text: {\r\n            query: 2,\r\n            path: &#39;status&#39;\r\n          }\r\n        }\r\n        ]\r\n      }\r\n\r\nThis returns an error saying,\r\n\r\n    &quot;Query&quot; must be a string (from &quot;compund.mustNot[2].text&quot;).\r\n\r\nAnd when I make those as String it doesn&#39;t return any values. I understand that I&#39;m using a text search here, but I couldn&#39;t find any other alternatives.\r\nIs it not possible to search int values in MongoDB Atlas?","title":"How number value Search in MongoDB Atlas work?","body":"<p>I'm newbie to MongoDB Atlas. I want to execute a query as below,</p>\n<p>Sample document:</p>\n<pre><code>{\n  message: &quot;Hello&quot;,\n  role: &quot;student&quot;,\n  status: 1\n}\n</code></pre>\n<p>Query</p>\n<pre><code>search \nWHERE \n'Hello' in field 'message' \nNOT [1 OR 2] in field 'status'\n</code></pre>\n<p>I tried with <code>compound</code> and <code>search</code> as below, but couldn't get what I want.</p>\n<pre><code>compound:{\n    must:[{\n      text: {\n        query: 'Hello',\n        path: 'message'\n      }\n    }],\n   \n    mustNot:[\n      {\n      text: {\n        query: 1,\n        path: 'status'\n      }\n    },\n    {\n      text: {\n        query: 2,\n        path: 'status'\n      }\n    }\n    ]\n  }\n</code></pre>\n<p>This returns an error saying,</p>\n<pre><code>&quot;Query&quot; must be a string (from &quot;compund.mustNot[2].text&quot;).\n</code></pre>\n<p>And when I make those as String it doesn't return any values. I understand that I'm using a text search here, but I couldn't find any other alternatives.\nIs it not possible to search int values in MongoDB Atlas?</p>\n"},{"tags":["java","cloudbees","sslcontext","sslserversocket"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687453791,"post_id":76533802,"comment_id":134942500,"body_markdown":"The issue is that you are enabling the cipher suites on an SSLSocket instance, but then you are not using this socket, so the settings on this socket do not automatically apply to the SSLContext or other sockets created by the same SSLSocketFactory","body":"The issue is that you are enabling the cipher suites on an SSLSocket instance, but then you are not using this socket, so the settings on this socket do not automatically apply to the SSLContext or other sockets created by the same SSLSocketFactory"},{"owner":{"account_id":25914244,"reputation":1,"user_id":19637867,"display_name":"user"},"score":0,"creation_date":1687514826,"post_id":76533802,"comment_id":134950925,"body_markdown":"But how do we set this SSLSocket instance after we set cipher to SSLContext?","body":"But how do we set this SSLSocket instance after we set cipher to SSLContext?"}],"owner":{"account_id":25914244,"reputation":1,"user_id":19637867,"display_name":"user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687450284,"creation_date":1687450284,"question_id":76533802,"body_markdown":"We are trying to set only those ciphers required for us in client hello , so trying to set ciphers in context object as shown in below code but our changes are not reflecting still client uses default ciphers only and it created sockets every time instead considering our specific setting, can you suggest ways to set ciphers to context and client should offer only those ciphers in request?\r\n  \r\n```\r\n {\r\n    TcpSyslogMessageSender messageSendertcp = new TcpSyslogMessageSender();\r\n    // Construct tcp Header\r\n    messageSendertcp.setSyslogServerHostname(syslogServerDetails.getHostName());\r\n    messageSendertcp.setSyslogServerPort(syslogServerDetails.getPort());\r\n    messageSendertcp.setMessageFormat(MessageFormat.RFC_5425);\r\n    messageSendertcp.setDefaultMessageHostname(this.getHostName());\r\n    messageSendertcp.setDefaultAppName(syslogMessage.getAppName());\r\n    messageSendertcp.setDefaultFacility(syslogMessage.getFacility());\r\n    messageSendertcp.setDefaultSeverity(syslogMessage.getSeverity());\r\n    messageSendertcp.setPostfix(&quot;&quot;);\r\n    SSLContext context = getSSLContext();\r\n    if (context != null) {\r\n\r\n        messageSendertcp.setSSLContext(context);\r\n        messageSendertcp.setSsl(true);\r\n        messageSendertcp.getSSLContext().setDefault(context);\r\n    }\r\n  }\r\n   public SSLContext getContext() {\r\n    String[] cipherSuites = Arrays.asList(&quot;Ciphers&quot;); // required Ciphers list\r\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\r\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\r\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\r\n    SSLSocketFactory socketFac = context.getSocketFactory();\r\n    SSLSocket sslSocket = (SSLSocket) socketFac.createSocket();\r\n    sslSocket.setEnabledCipherSuites(cipherSuites);\r\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\r\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\r\n   } \r\n\r\n```","title":"How to set user required ciphers to SSLContext asper syslog cloudbees client specific?","body":"<p>We are trying to set only those ciphers required for us in client hello , so trying to set ciphers in context object as shown in below code but our changes are not reflecting still client uses default ciphers only and it created sockets every time instead considering our specific setting, can you suggest ways to set ciphers to context and client should offer only those ciphers in request?</p>\n<pre><code> {\n    TcpSyslogMessageSender messageSendertcp = new TcpSyslogMessageSender();\n    // Construct tcp Header\n    messageSendertcp.setSyslogServerHostname(syslogServerDetails.getHostName());\n    messageSendertcp.setSyslogServerPort(syslogServerDetails.getPort());\n    messageSendertcp.setMessageFormat(MessageFormat.RFC_5425);\n    messageSendertcp.setDefaultMessageHostname(this.getHostName());\n    messageSendertcp.setDefaultAppName(syslogMessage.getAppName());\n    messageSendertcp.setDefaultFacility(syslogMessage.getFacility());\n    messageSendertcp.setDefaultSeverity(syslogMessage.getSeverity());\n    messageSendertcp.setPostfix(&quot;&quot;);\n    SSLContext context = getSSLContext();\n    if (context != null) {\n\n        messageSendertcp.setSSLContext(context);\n        messageSendertcp.setSsl(true);\n        messageSendertcp.getSSLContext().setDefault(context);\n    }\n  }\n   public SSLContext getContext() {\n    String[] cipherSuites = Arrays.asList(&quot;Ciphers&quot;); // required Ciphers list\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\n    SSLSocketFactory socketFac = context.getSocketFactory();\n    SSLSocket sslSocket = (SSLSocket) socketFac.createSocket();\n    sslSocket.setEnabledCipherSuites(cipherSuites);\n    context.init(keyManagerFactory.getKeyManagers(), trustMgrFactory.getTrustManagers(),\n        SecureRandom.getInstance(&quot;DEFAULT&quot;, provider));\n   } \n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687537218,"post_id":76533758,"comment_id":134955933,"body_markdown":"Sorry but you question is not clear what your real problem is... and please add your pom file ... JDK version, spring boot version etc. and what you like to achieve..","body":"Sorry but you question is not clear what your real problem is... and please add your pom file ... JDK version, spring boot version etc. and what you like to achieve.."}],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687449963,"creation_date":1687449963,"question_id":76533758,"body_markdown":" 1. I have a fat jar which has a &quot;provided&quot; scoped maven dependency on a\r\n        particular jar. I&#39;ve ensured that this provided dependency is not\r\n        packaged with the fat jar and is supposed to be provided at the\r\n        runtime. Based on what I&#39;ve read, if this was not embedded tomcat, I\r\n        could provide any &quot;provided&quot; scoped jars by dumping them inside\r\n        tomcat/lib folder.\r\n\r\nIs there a way to replicate this with a fat jar\r\nrunning in embedded tomcat?\r\n\r\n","title":"Giving a provided scope dependency to a spring boot fat jar running embedded tomcat","body":"<ol>\n<li>I have a fat jar which has a &quot;provided&quot; scoped maven dependency on a\nparticular jar. I've ensured that this provided dependency is not\npackaged with the fat jar and is supposed to be provided at the\nruntime. Based on what I've read, if this was not embedded tomcat, I\ncould provide any &quot;provided&quot; scoped jars by dumping them inside\ntomcat/lib folder.</li>\n</ol>\n<p>Is there a way to replicate this with a fat jar\nrunning in embedded tomcat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687445229,"post_id":76533122,"comment_id":134940676,"body_markdown":"No. A thread can do only one thing at a time.","body":"No. A thread can do only one thing at a time."},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1687445373,"post_id":76533122,"comment_id":134940722,"body_markdown":"Does timing-out out of the HTTP request early (like after 5 seconds) even help here?","body":"Does timing-out out of the HTTP request early (like after 5 seconds) even help here?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687445446,"post_id":76533122,"comment_id":134940739,"body_markdown":"you could use nonblocking http clients, including a built-in in java `HttpClient`, however they would use auxiliary thread under the hood","body":"you could use nonblocking http clients, including a built-in in java <code>HttpClient</code>, however they would use auxiliary thread under the hood"},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":3,"creation_date":1687445485,"post_id":76533122,"comment_id":134940748,"body_markdown":"@Jorn That&#39;s [only partially accurate](https://stackoverflow.com/questions/14177891/understanding-async-await-in-c-sharp). While threads are technically only doing one thing at a time, asynchronous programming allows threads to do other tasks while they&#39;re waiting for slow external processes (such as network calls).","body":"@Jorn That&#39;s <a href=\"https://stackoverflow.com/questions/14177891/understanding-async-await-in-c-sharp\">only partially accurate</a>. While threads are technically only doing one thing at a time, asynchronous programming allows threads to do other tasks while they&#39;re waiting for slow external processes (such as network calls)."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687446275,"post_id":76533122,"comment_id":134940942,"body_markdown":"@EJoshuaS I don&#39;t see how that&#39;s relevant to the question. You either block your main thread or you use a second thread.","body":"@EJoshuaS I don&#39;t see how that&#39;s relevant to the question. You either block your main thread or you use a second thread."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1687446472,"post_id":76533122,"comment_id":134940988,"body_markdown":"@Jorn That&#39;s not true at all. Plenty of languages offer non-blocking I/O and network calls, which typically don&#39;t require the creation of additional threads. Please see the article I link to for an explanation of why C#&#39;s async calls don&#39;t require additional threads. Java admittedly doesn&#39;t appear to have particularly great support for this, but that&#39;s not an accurate statement in the general case.","body":"@Jorn That&#39;s not true at all. Plenty of languages offer non-blocking I/O and network calls, which typically don&#39;t require the creation of additional threads. Please see the article I link to for an explanation of why C#&#39;s async calls don&#39;t require additional threads. Java admittedly doesn&#39;t appear to have particularly great support for this, but that&#39;s not an accurate statement in the general case."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":3,"creation_date":1687446582,"post_id":76533122,"comment_id":134941014,"body_markdown":"*our main process is restricted to be single-threaded* Has anyone involved in coming up with that restriction ever counted the number of threads any instance of `java` has?  Adding one more to that isn&#39;t going to change much.","body":"<i>our main process is restricted to be single-threaded</i> Has anyone involved in coming up with that restriction ever counted the number of threads any instance of <code>java</code> has?  Adding one more to that isn&#39;t going to change much."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687447161,"post_id":76533122,"comment_id":134941150,"body_markdown":"Do you need GET or POST?","body":"Do you need GET or POST?"},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1687447314,"post_id":76533122,"comment_id":134941185,"body_markdown":"@gdomo, we are POSTing some data but we don&#39;t care about the results.","body":"@gdomo, we are POSTing some data but we don&#39;t care about the results."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687447919,"post_id":76533122,"comment_id":134941351,"body_markdown":"@EJoshuaS If you are talking about Project Loom&#39;s Virtual Threads... I still say that&#39;s out of scope for this question. Don&#39;t make thing more difficult than they need to be. Even if you are right about what *can* be done, it doesn&#39;t help OP. As for non-blocking IO... there&#39;s always *something* that waits for it to complete. Whether that&#39;s a full thread, virtual thread, coroutine or something else doesn&#39;t really matter.","body":"@EJoshuaS If you are talking about Project Loom&#39;s Virtual Threads... I still say that&#39;s out of scope for this question. Don&#39;t make thing more difficult than they need to be. Even if you are right about what <i>can</i> be done, it doesn&#39;t help OP. As for non-blocking IO... there&#39;s always <i>something</i> that waits for it to complete. Whether that&#39;s a full thread, virtual thread, coroutine or something else doesn&#39;t really matter."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687449358,"creation_date":1687449358,"answer_id":76533688,"question_id":76533122,"body_markdown":"If you don&#39;t need an answer you could open connection and synchronously send your data without waiting for response. For example, with basic built-in java URLConnection:\r\n\r\n    HttpURLConnection urlConnection = (HttpURLConnection) new URL(urlString).openConnection();\r\n    urlConnection.setDoOutput(true);\r\n    urlConnection.setRequestMethod(&quot;POST&quot;);\r\n    urlConnection.setRequestProperty(&quot;Header-name&quot;, &quot;header value&quot;);\r\n    try (OutputStream os = urlConnection.getOutputStream()) {\r\n        os.write(&quot;any payload&quot;.getBytes());\r\n        os.flush();\r\n    }\r\n    try (InputStream ignored = urlConnection.getInputStream()) {\r\n    }\r\n    urlConnection.disconnect();\r\n\r\nIt wouldn&#39;t wait for response, however sending the data could also take a while. More information on URLConnection [here][1] and [there][2].\r\nAlso, be cautious, it&#39;s up to the server how it would handle premature connection close, which would happen if you don&#39;t wait for the answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29\r\n  [2]: https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests","title":"Is Fire &amp; Forget (HTTP call) possible without using a separate thread?","body":"<p>If you don't need an answer you could open connection and synchronously send your data without waiting for response. For example, with basic built-in java URLConnection:</p>\n<pre><code>HttpURLConnection urlConnection = (HttpURLConnection) new URL(urlString).openConnection();\nurlConnection.setDoOutput(true);\nurlConnection.setRequestMethod(&quot;POST&quot;);\nurlConnection.setRequestProperty(&quot;Header-name&quot;, &quot;header value&quot;);\ntry (OutputStream os = urlConnection.getOutputStream()) {\n    os.write(&quot;any payload&quot;.getBytes());\n    os.flush();\n}\ntry (InputStream ignored = urlConnection.getInputStream()) {\n}\nurlConnection.disconnect();\n</code></pre>\n<p>It wouldn't wait for response, however sending the data could also take a while. More information on URLConnection <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">there</a>.\nAlso, be cautious, it's up to the server how it would handle premature connection close, which would happen if you don't wait for the answer.</p>\n"}],"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687449358,"creation_date":1687445181,"question_id":76533122,"body_markdown":"We are required to call an HTTP endpoint but our main process is restricted to be single-threaded (we are running multiple instances of the same process and we don&#39;t have enough resource on the machine).\r\n\r\nIs it possible to do a fire and forget to do it?\r\nOptions I always see (which I understand and appreciate) are `ExecutorService`, `@Async` or other approaches that essentially creates a new thread (or uses an existing one).\r\n\r\nIs this doable?","title":"Is Fire &amp; Forget (HTTP call) possible without using a separate thread?","body":"<p>We are required to call an HTTP endpoint but our main process is restricted to be single-threaded (we are running multiple instances of the same process and we don't have enough resource on the machine).</p>\n<p>Is it possible to do a fire and forget to do it?\nOptions I always see (which I understand and appreciate) are <code>ExecutorService</code>, <code>@Async</code> or other approaches that essentially creates a new thread (or uses an existing one).</p>\n<p>Is this doable?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":4255278,"reputation":905,"user_id":4219397,"accept_rate":53,"display_name":"Swarup Saha"},"score":0,"creation_date":1687606747,"post_id":76533629,"comment_id":134962345,"body_markdown":"The producer produces only once, not on continuous basis. Imagine, they are producing 3 millions messages in a span of 1 hour. Thats it for that day. The lag option, I didn&#39;t get quite well. Can you explain more on it pls.","body":"The producer produces only once, not on continuous basis. Imagine, they are producing 3 millions messages in a span of 1 hour. Thats it for that day. The lag option, I didn&#39;t get quite well. Can you explain more on it pls."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687608631,"post_id":76533629,"comment_id":134962547,"body_markdown":"When a consumer starts, it has 3 million records to read. That&#39;s it&#39;s lag... If it consumes 1 million, it has a lag of 2 million... https://stackoverflow.com/q/57344627/2308683  So, you keep track of that, and if/when it reaches zero, that&#39;s the only point when you can possibly know you&#39;re &quot;done consuming&quot;. Kafka itself doesn&#39;t track this for consumers, or push any event when they are complete, only consumers can know themselves","body":"When a consumer starts, it has 3 million records to read. That&#39;s it&#39;s lag... If it consumes 1 million, it has a lag of 2 million... <a href=\"https://stackoverflow.com/q/57344627/2308683\">stackoverflow.com/q/57344627/2308683</a>  So, you keep track of that, and if/when it reaches zero, that&#39;s the only point when you can possibly know you&#39;re &quot;done consuming&quot;. Kafka itself doesn&#39;t track this for consumers, or push any event when they are complete, only consumers can know themselves"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687448828,"creation_date":1687448828,"answer_id":76533629,"question_id":76532712,"body_markdown":"Your consumer is able to know its own lag, in relation to the end of the topic. This would be the best option since when lag == 0 (which may never happen if the topic is actively produced to), you can send some external event to trigger any downstream workflow.\r\n\r\n\r\nOtherwise, you will need to run tools like Burrow or Kafka-Exporter in Prometheus, then poll the API of those, on some interval to get lag (again, may never reach zero)","title":"How to detect if all consumer instances under a single group have consumed all Kafka messages from a particular topic?","body":"<p>Your consumer is able to know its own lag, in relation to the end of the topic. This would be the best option since when lag == 0 (which may never happen if the topic is actively produced to), you can send some external event to trigger any downstream workflow.</p>\n<p>Otherwise, you will need to run tools like Burrow or Kafka-Exporter in Prometheus, then poll the API of those, on some interval to get lag (again, may never reach zero)</p>\n"}],"owner":{"account_id":4255278,"reputation":905,"user_id":4219397,"accept_rate":53,"display_name":"Swarup Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687448828,"creation_date":1687442379,"question_id":76532712,"body_markdown":"I am currently working on de-bulking file feed (daily one time) into single messages and posting in Kafka topic. Consumers start processing as soon as the message is available. This is in Kubernetes environment in OCP.\r\n\r\nI need to perform a Job once all the consumer instances have finished consuming those messages in the Kafka Topic for that day.\r\n\r\nHow this can be captured in microservices built using Java?","title":"How to detect if all consumer instances under a single group have consumed all Kafka messages from a particular topic?","body":"<p>I am currently working on de-bulking file feed (daily one time) into single messages and posting in Kafka topic. Consumers start processing as soon as the message is available. This is in Kubernetes environment in OCP.</p>\n<p>I need to perform a Job once all the consumer instances have finished consuming those messages in the Kafka Topic for that day.</p>\n<p>How this can be captured in microservices built using Java?</p>\n"},{"tags":["java","spring-boot","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672585205,"creation_date":1672584072,"answer_id":74975233,"question_id":74974924,"body_markdown":"This error occurs when we serialize a Java object or deserialize JSON to POJO. The POJO contains new Java 8+ date time classes such as LocalDate, LocalTime, LocalDateTime etc.&lt;br/&gt;\r\nSteps:\r\n\r\n 1. Add dependency\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n 2. Register the module `JavaTimeModule` either with ObjectMapper or JsonMapper\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\n\r\n// If JsonMapper is used in application\r\nJsonMapper jsonMapper = new JsonMapper();\r\njsonMapper.registerModule(new JavaTimeModule());\r\n```\r\n\r\nHere you are using `Jackson2JsonRedisSerializer` in the bean. So you can create the ObjectMapper object and set the `JavaTimeModule`. After that register the ObjectMapper to the Jackson2JsonRedisSerializer object.\r\n```\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n\r\nJackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\r\njackson2JsonRedisSerializer.setObjectMapper(objectMapper);\r\n```\r\n\r\n","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>This error occurs when we serialize a Java object or deserialize JSON to POJO. The POJO contains new Java 8+ date time classes such as LocalDate, LocalTime, LocalDateTime etc.<br/>\nSteps:</p>\n<ol>\n<li>Add dependency</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Register the module <code>JavaTimeModule</code> either with ObjectMapper or JsonMapper</li>\n</ol>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\n\n// If JsonMapper is used in application\nJsonMapper jsonMapper = new JsonMapper();\njsonMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>Here you are using <code>Jackson2JsonRedisSerializer</code> in the bean. So you can create the ObjectMapper object and set the <code>JavaTimeModule</code>. After that register the ObjectMapper to the Jackson2JsonRedisSerializer object.</p>\n<pre><code>\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n\nJackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\njackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2654476,"reputation":11,"user_id":2295454,"display_name":"user2295454"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687448647,"creation_date":1687448647,"answer_id":76533603,"question_id":74974924,"body_markdown":"The setObjectMapper() method of Jackson2JsonRedisSerializer has been deprecated; just put the objectMapper in the constructor:\r\n\r\n    Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(objectMapper, Object.class);","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>The setObjectMapper() method of Jackson2JsonRedisSerializer has been deprecated; just put the objectMapper in the constructor:</p>\n<pre><code>Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(objectMapper, Object.class);\n</code></pre>\n"}],"owner":{"account_id":26746321,"reputation":59,"user_id":20346340,"display_name":"Hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74975233,"answer_count":2,"score":2,"last_activity_date":1687448647,"creation_date":1672580262,"question_id":74974924,"body_markdown":"I am using Jackson2JsonRedisSerializer. \r\n\r\n```\r\n@Bean\r\n    public RedisOperations&lt;String , Aircraft&gt; redisOperations(RedisConnectionFactory factory){\r\n        Jackson2JsonRedisSerializer&lt;Aircraft&gt; serializer = new Jackson2JsonRedisSerializer&lt;Aircraft&gt;(Aircraft.class);\r\n        RedisTemplate&lt;String, Aircraft&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(factory);\r\n        template.setDefaultSerializer(serializer);\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        return template;\r\n    }\r\n\r\n```\r\n\r\nMy aircraft has field of type Instant. \r\n```\r\n    @JsonProperty(&quot;last_seen_time&quot;)\r\n    private Instant lastSeenTime;\r\n```\r\n\r\nWhile deserializing it gives me an error: \r\n```\r\nJava 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.example.chapter6.sburredis.Aircraft[&quot;last_seen_time&quot;])\r\n```\r\n\r\nI have already added the maven dependency in my pom.xml \r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nThe json file is as follows:\r\n```\r\n{\r\n  &quot;aircraft&quot;: [\r\n    {\r\n      &quot;id&quot;: 108,\r\n      &quot;callsign&quot;: &quot;AMF4263&quot;,\r\n      &quot;squawk&quot;: &quot;4136&quot;,\r\n      &quot;reg&quot;: &quot;N49UC&quot;,\r\n      &quot;flightno&quot;: &quot;&quot;,\r\n      &quot;route&quot;: &quot;LAN-DFW&quot;,\r\n      &quot;type&quot;: &quot;B190&quot;,\r\n      &quot;category&quot;: &quot;A1&quot;,\r\n      &quot;altitude&quot;: 20000,\r\n      &quot;heading&quot;: 235,\r\n      &quot;speed&quot;: 248,\r\n      &quot;lat&quot;: 38.865905,\r\n      &quot;lon&quot;: -90.429382,\r\n      &quot;barometer&quot;: 0,\r\n      &quot;vert_rate&quot;: 0,\r\n      &quot;selected_altitude&quot;: 0,\r\n      &quot;polar_distance&quot;: 12.99378,\r\n      &quot;polar_bearing&quot;: 345.393951,\r\n      &quot;is_adsb&quot;: true,\r\n      &quot;is_on_ground&quot;: false,\r\n      &quot;last_seen_time&quot;: 1672576769,\r\n      &quot;pos_update_time&quot;: 1672576769,\r\n      &quot;bds40_seen_time&quot;: null\r\n      }\r\n  ]\r\n}\r\n\r\n``` \r\n","title":"How to deserialize java.time.Instant in Jackson2JsonRedisSerializer","body":"<p>I am using Jackson2JsonRedisSerializer.</p>\n<pre><code>@Bean\n    public RedisOperations&lt;String , Aircraft&gt; redisOperations(RedisConnectionFactory factory){\n        Jackson2JsonRedisSerializer&lt;Aircraft&gt; serializer = new Jackson2JsonRedisSerializer&lt;Aircraft&gt;(Aircraft.class);\n        RedisTemplate&lt;String, Aircraft&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(factory);\n        template.setDefaultSerializer(serializer);\n        template.setKeySerializer(new StringRedisSerializer());\n        return template;\n    }\n\n</code></pre>\n<p>My aircraft has field of type Instant.</p>\n<pre><code>    @JsonProperty(&quot;last_seen_time&quot;)\n    private Instant lastSeenTime;\n</code></pre>\n<p>While deserializing it gives me an error:</p>\n<pre><code>Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.example.chapter6.sburredis.Aircraft[&quot;last_seen_time&quot;])\n</code></pre>\n<p>I have already added the maven dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The json file is as follows:</p>\n<pre><code>{\n  &quot;aircraft&quot;: [\n    {\n      &quot;id&quot;: 108,\n      &quot;callsign&quot;: &quot;AMF4263&quot;,\n      &quot;squawk&quot;: &quot;4136&quot;,\n      &quot;reg&quot;: &quot;N49UC&quot;,\n      &quot;flightno&quot;: &quot;&quot;,\n      &quot;route&quot;: &quot;LAN-DFW&quot;,\n      &quot;type&quot;: &quot;B190&quot;,\n      &quot;category&quot;: &quot;A1&quot;,\n      &quot;altitude&quot;: 20000,\n      &quot;heading&quot;: 235,\n      &quot;speed&quot;: 248,\n      &quot;lat&quot;: 38.865905,\n      &quot;lon&quot;: -90.429382,\n      &quot;barometer&quot;: 0,\n      &quot;vert_rate&quot;: 0,\n      &quot;selected_altitude&quot;: 0,\n      &quot;polar_distance&quot;: 12.99378,\n      &quot;polar_bearing&quot;: 345.393951,\n      &quot;is_adsb&quot;: true,\n      &quot;is_on_ground&quot;: false,\n      &quot;last_seen_time&quot;: 1672576769,\n      &quot;pos_update_time&quot;: 1672576769,\n      &quot;bds40_seen_time&quot;: null\n      }\n  ]\n}\n\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687448367,"post_id":76533498,"comment_id":134941445,"body_markdown":"Hi, thanks for answering. When receiving the `ResponseEntity` in the field, can I still receive JSON body without the field `fullname`, but still be able to read the value under it in tests (I&#39;ve tried the `value` option of `@JsonIgnore`)?","body":"Hi, thanks for answering. When receiving the <code>ResponseEntity</code> in the field, can I still receive JSON body without the field <code>fullname</code>, but still be able to read the value under it in tests (I&#39;ve tried the <code>value</code> option of <code>@JsonIgnore</code>)?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687448930,"post_id":76533498,"comment_id":134941561,"body_markdown":"And, if I understand correctly, the serialization happens when passing the object into `ResponseEntity`. How come, then, that the `ResponseEntity` in controller persists the `fullname` value?","body":"And, if I understand correctly, the serialization happens when passing the object into <code>ResponseEntity</code>. How come, then, that the <code>ResponseEntity</code> in controller persists the <code>fullname</code> value?"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":1,"creation_date":1687450810,"post_id":76533498,"comment_id":134941961,"body_markdown":"Serialisation happens when you convert an object (`EntityResponseDTO` in this case) to a string (to a `JSON` in this case). What happens in your REST endpoint is that you serialise the `EntityResponseDTO` when sending it over as the response. That&#39;s why `fullname` is not available in the response. You can find it in the controller since you take it from the object in the controller side.","body":"Serialisation happens when you convert an object (<code>EntityResponseDTO</code> in this case) to a string (to a <code>JSON</code> in this case). What happens in your REST endpoint is that you serialise the <code>EntityResponseDTO</code> when sending it over as the response. That&#39;s why <code>fullname</code> is not available in the response. You can find it in the controller since you take it from the object in the controller side."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1687450974,"post_id":76533498,"comment_id":134941992,"body_markdown":"More on serialisation - https://stackoverflow.com/questions/3316762/what-is-deserialize-and-serialize-in-json","body":"More on serialisation - <a href=\"https://stackoverflow.com/questions/3316762/what-is-deserialize-and-serialize-in-json\" title=\"what is deserialize and serialize in json\">stackoverflow.com/questions/3316762/&hellip;</a>"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687463843,"post_id":76533498,"comment_id":134944397,"body_markdown":"OK. I read it, but I still have no clue how to achieve what I want. I&#39;ve stumbled upon `@JsonIgnore` on the getter, but `@JsonPropety` on the setter. I&#39;ve stumbled upon `@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)`. I&#39;ve stumbled upon class annotation. None of the solutions worked for me. I really am helpless. :/","body":"OK. I read it, but I still have no clue how to achieve what I want. I&#39;ve stumbled upon <code>@JsonIgnore</code> on the getter, but <code>@JsonPropety</code> on the setter. I&#39;ve stumbled upon <code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)</code>. I&#39;ve stumbled upon class annotation. None of the solutions worked for me. I really am helpless. :/"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1687491673,"post_id":76533498,"comment_id":134947407,"body_markdown":"Could you explain more on what you are trying to achieve? If you don&#39;t want the `fullname` to be present in the response, then you can use `@JsonIgnore`. If you want to it to be present, then you should not use the `@JsonIgnore` annotation.","body":"Could you explain more on what you are trying to achieve? If you don&#39;t want the <code>fullname</code> to be present in the response, then you can use <code>@JsonIgnore</code>. If you want to it to be present, then you should not use the <code>@JsonIgnore</code> annotation."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687510663,"post_id":76533498,"comment_id":134950124,"body_markdown":"I&#39;d like the above test to pass. I&#39;d like the fullname to not be present in the JSON response, but I&#39;d still like to be able to get `fullname` by `getFullname()` method, which - currently - returns null.","body":"I&#39;d like the above test to pass. I&#39;d like the fullname to not be present in the JSON response, but I&#39;d still like to be able to get <code>fullname</code> by <code>getFullname()</code> method, which - currently - returns null."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687510817,"post_id":76533498,"comment_id":134950152,"body_markdown":"Note: the fullname *is* present in controller. Not the test","body":"Note: the fullname <i>is</i> present in controller. Not the test"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1687529644,"post_id":76533498,"comment_id":134954245,"body_markdown":"If you don&#39;t want `fullname` to be present in the JSON response, then you have done correctly. That means on the receiving side there isn&#39;t a value received for `fullname`. Hence the `getFullname()` method gives a null. There isn&#39;t a way to get the value of fullname from the receiving end (Test method in your case) because the value never came with the response. Hope you understand this.","body":"If you don&#39;t want <code>fullname</code> to be present in the JSON response, then you have done correctly. That means on the receiving side there isn&#39;t a value received for <code>fullname</code>. Hence the <code>getFullname()</code> method gives a null. There isn&#39;t a way to get the value of fullname from the receiving end (Test method in your case) because the value never came with the response. Hope you understand this."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1687537335,"post_id":76533498,"comment_id":134955957,"body_markdown":"Hm, okay. I was convinced there was a way to do so. Then, I have no clue what the `access` is for in `@JsonIgnore`.","body":"Hm, okay. I was convinced there was a way to do so. Then, I have no clue what the <code>access</code> is for in <code>@JsonIgnore</code>."}],"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687447820,"creation_date":1687447820,"answer_id":76533498,"question_id":76533306,"body_markdown":"Using `@JsonIgnore` is the issue here. As the name suggests, `@JsonIgnore` annotation ignores the corresponding field in serialisation. That means it will not be included in your response. This does not affect what you are doing in your `create` method. Therefore it gets printed successfully.\r\n\r\nRemoving `@JsonIgnore` will resolve this. To read more on `@JsonIgnore` - https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm","title":"Test receives different ResponseEntity?","body":"<p>Using <code>@JsonIgnore</code> is the issue here. As the name suggests, <code>@JsonIgnore</code> annotation ignores the corresponding field in serialisation. That means it will not be included in your response. This does not affect what you are doing in your <code>create</code> method. Therefore it gets printed successfully.</p>\n<p>Removing <code>@JsonIgnore</code> will resolve this. To read more on <code>@JsonIgnore</code> - <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonignore.htm</a></p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687447820,"creation_date":1687446553,"question_id":76533306,"body_markdown":"I have a weird issue with a unit test and `ResponseEntity`. Here&#39;s the test:\r\n```\r\n@Test\r\n@DirtiesContext\r\npublic void createEntityTest() {\r\n    EntityRequestDTO requestDTO = new EntityRequestDTO();\r\n    dto.setTitle(&quot;foo&quot;);\r\n    dto.setDescription(&quot;bar&quot;);\r\n    ResponseEntity&lt;EntityResponseDTO&gt; postResponse = \r\n        testRestTemplate.postForEntity(&quot;/api/test&quot;, dto, EntityResponseDTO.class);\r\n    EntityResponseDTO responseDTO = postResponse.getBody();\r\n    \r\n    assertThat(responseDTO.getTitle()).isEqualTo(&quot;foo&quot;);\r\n    assertThat(responseDTO.getDescription()).isEqualTo(&quot;bar&quot;);\r\n    assertThat(responseDTO.getFullname()).isEqualTo(&quot;foobar&quot;);\r\n}\r\n```\r\n\r\nThe full name is set in the background by service. The issue is, this last assertion fails. `getFullname()` returns `null`. That may be because of several reasons, but, here&#39;s the controller endpoint:\r\n\r\n```\r\n@PostMapping(&quot;/api/test&quot;)\r\npublic ResponseEntity&lt;EntityResponseDTO&gt; create(@RequestBody EntityRequestDTO requestDTO) {\r\n    Entity saved = entityService.add(requestDTO);\r\n    EntityResponseDTO savedDto = new EntityResponseDTO(saved);\r\n    URI location = ServletUriComponentsBuilder\r\n                .fromCurrentRequest()\r\n                .path(&quot;/{id}&quot;)\r\n                .buildAndExpand(saved.getId())\r\n                .toUri();\r\n    ResponseEntity&lt;EntityResponseDTO&gt; resEntity = ResponseEntity.created(location).body(savedDto);\r\n    System.out.println(&quot;Before: ResponseEntity in controller.&quot;);\r\n    System.out.println(resEntity.getBody().getFullname());\r\n}\r\n```\r\nHowever here, just before returning the `ResponseEntity` the `System.out.println(resEntity.getBody().getFullname())` method prints `foobar`. I can&#39;t wrap my head around this. What is going on?\r\n\r\n**Note**: I have `@JsonIgnore` on the `fullname` field because I want it to be present, but not shown in the response. When removing annotation, test passes.","title":"Test receives different ResponseEntity?","body":"<p>I have a weird issue with a unit test and <code>ResponseEntity</code>. Here's the test:</p>\n<pre><code>@Test\n@DirtiesContext\npublic void createEntityTest() {\n    EntityRequestDTO requestDTO = new EntityRequestDTO();\n    dto.setTitle(&quot;foo&quot;);\n    dto.setDescription(&quot;bar&quot;);\n    ResponseEntity&lt;EntityResponseDTO&gt; postResponse = \n        testRestTemplate.postForEntity(&quot;/api/test&quot;, dto, EntityResponseDTO.class);\n    EntityResponseDTO responseDTO = postResponse.getBody();\n    \n    assertThat(responseDTO.getTitle()).isEqualTo(&quot;foo&quot;);\n    assertThat(responseDTO.getDescription()).isEqualTo(&quot;bar&quot;);\n    assertThat(responseDTO.getFullname()).isEqualTo(&quot;foobar&quot;);\n}\n</code></pre>\n<p>The full name is set in the background by service. The issue is, this last assertion fails. <code>getFullname()</code> returns <code>null</code>. That may be because of several reasons, but, here's the controller endpoint:</p>\n<pre><code>@PostMapping(&quot;/api/test&quot;)\npublic ResponseEntity&lt;EntityResponseDTO&gt; create(@RequestBody EntityRequestDTO requestDTO) {\n    Entity saved = entityService.add(requestDTO);\n    EntityResponseDTO savedDto = new EntityResponseDTO(saved);\n    URI location = ServletUriComponentsBuilder\n                .fromCurrentRequest()\n                .path(&quot;/{id}&quot;)\n                .buildAndExpand(saved.getId())\n                .toUri();\n    ResponseEntity&lt;EntityResponseDTO&gt; resEntity = ResponseEntity.created(location).body(savedDto);\n    System.out.println(&quot;Before: ResponseEntity in controller.&quot;);\n    System.out.println(resEntity.getBody().getFullname());\n}\n</code></pre>\n<p>However here, just before returning the <code>ResponseEntity</code> the <code>System.out.println(resEntity.getBody().getFullname())</code> method prints <code>foobar</code>. I can't wrap my head around this. What is going on?</p>\n<p><strong>Note</strong>: I have <code>@JsonIgnore</code> on the <code>fullname</code> field because I want it to be present, but not shown in the response. When removing annotation, test passes.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687449180,"post_id":76533454,"comment_id":134941611,"body_markdown":"Re, &quot;...sub-threads...parent thread...&quot; Java does not keep track of which threads in a program created which other threads. Every thread belongs to a[`ThreadGroup`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html), and there is a parent/child relationship between thread _groups,_ but there is no such relationship between individual threads. If it is meaningful for your program to keep track of which thread created which other thread, then it is up to you to write the code for that.","body":"Re, &quot;...sub-threads...parent thread...&quot; Java does not keep track of which threads in a program created which other threads. Every thread belongs to a<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\"><code>ThreadGroup</code></a>, and there is a parent/child relationship between thread <i>groups,</i> but there is no such relationship between individual threads. If it is meaningful for your program to keep track of which thread created which other thread, then it is up to you to write the code for that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687450946,"post_id":76533454,"comment_id":134941986,"body_markdown":"BTW difference between `interrupted()` and `isInterrupted()` (despite first being `static` while second not): `interrupted()` clears the *interrupted status*, while `isInterrupted()` does not (the Thread continues being *interrupted*.) See [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupted())","body":"BTW difference between <code>interrupted()</code> and <code>isInterrupted()</code> (despite first being <code>static</code> while second not): <code>interrupted()</code> clears the <i>interrupted status</i>, while <code>isInterrupted()</code> does not (the Thread continues being <i>interrupted</i>.) See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupted()\" rel=\"nofollow noreferrer\">documentation</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1687452179,"post_id":76533454,"comment_id":134942182,"body_markdown":"Aside from main question, please note that `class ... extends Thread` is usually code smell. You can think of difference between Thread and Runnable as difference between Worker and Task it needs to do. Purpose of your class is most likely NOT to modify/specify *how* thread (worker) should work, but only *what* it should do (what task it needs to handle). So our default choice should be `class ... implements Runnable`.","body":"Aside from main question, please note that <code>class ... extends Thread</code> is usually code smell. You can think of difference between Thread and Runnable as difference between Worker and Task it needs to do. Purpose of your class is most likely NOT to modify/specify <i>how</i> thread (worker) should work, but only <i>what</i> it should do (what task it needs to handle). So our default choice should be <code>class ... implements Runnable</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1687452243,"post_id":76533454,"comment_id":134942190,"body_markdown":"You may also be interested in [Java: Difference in usage between Thread.interrupted() and Thread.isInterrupted()?](https://stackoverflow.com/q/1904072), and [&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java](https://stackoverflow.com/q/541487). And don&#39;t read *only* currently top/accepted answers. Often even better answers appear years later after question was asked so if you have time I encourage you to read also other answers.","body":"You may also be interested in <a href=\"https://stackoverflow.com/q/1904072\">Java: Difference in usage between Thread.interrupted() and Thread.isInterrupted()?</a>, and <a href=\"https://stackoverflow.com/q/541487\">&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java</a>. And don&#39;t read <i>only</i> currently top/accepted answers. Often even better answers appear years later after question was asked so if you have time I encourage you to read also other answers."}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687447598,"creation_date":1687447598,"question_id":76533454,"body_markdown":"\r\n    public class Letters extends Thread implements Iterable&lt;Thread&gt;\r\n    {\r\n        private String chars;\r\n    \r\n        private Thread[] threads;\r\n        int index = 0;\r\n    \r\n        public Letters(String chars)\r\n        {\r\n            this.chars = chars;\r\n            this.threads = new Thread[chars.length()];\r\n    \r\n            for (int i = 0; i &lt; threads.length; i++)\r\n            {\r\n                int finalI = i;\r\n                Thread thread = new Thread()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        while (!Letters.this.isInterrupted())\r\n                        {\r\n                            System.out.print(chars.charAt(finalI));\r\n                            try\r\n                            {\r\n                                Thread.sleep((int) (Math.random() * 2000));\r\n                            }\r\n                            catch (InterruptedException e)\r\n                            {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n    \r\n                threads[finalI] = thread;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            for (Thread thread : threads)\r\n            {\r\n                thread.start();\r\n            }\r\n    \r\n            while (true)\r\n            {\r\n                if (this.isInterrupted())\r\n                    return;\r\n            }\r\n            \r\n        }\r\n    \r\n        Iterator&lt;Thread&gt; threadsIterator = new Iterator&lt;Thread&gt;()\r\n        {\r\n            @Override\r\n            public boolean hasNext()\r\n            {\r\n                return index &lt; threads.length;\r\n            }\r\n    \r\n            @Override\r\n            public Thread next()\r\n            {\r\n                return threads[index++];\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public Iterator iterator()\r\n        {\r\n            return threadsIterator;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe Letters class object is created in main method and there is interrupted:                                    \r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Letters letters = new Letters(&quot;ABCD&quot;);\r\n\r\n        for (Thread t : letters)\r\n            System.out.println(t.getName() + &quot; starting&quot;);\r\n\r\n        letters.start();\r\n        try\r\n        {\r\n            Thread.sleep(5000);\r\n        }\r\n        catch(InterruptedException ignore)\r\n        {\r\n\r\n        }\r\n        letters.interrupt();\r\n        System.out.println(&quot;\\nProgram completed.&quot;);\r\n    }\r\nMy question is about this part:\r\n\r\n    @Override\r\n        public void run()\r\n        {\r\n            for (Thread thread : threads)\r\n            {\r\n                thread.start();\r\n            }\r\n    \r\n            while (true)\r\n            {\r\n                if (this.isInterrupted())\r\n                    return;\r\n            }\r\n            \r\n        }\r\n\r\nWhy if i use Thread.interrupted() instead of isInterrupted() it doesn&#39;t intterupt the parent threads that was started by this thread? In Java, how are sub-threads closed when the parent thread finishes its work?\r\n\r\n","title":"Java isInterrupted() and interrupted()","body":"<pre><code>public class Letters extends Thread implements Iterable&lt;Thread&gt;\n{\n    private String chars;\n\n    private Thread[] threads;\n    int index = 0;\n\n    public Letters(String chars)\n    {\n        this.chars = chars;\n        this.threads = new Thread[chars.length()];\n\n        for (int i = 0; i &lt; threads.length; i++)\n        {\n            int finalI = i;\n            Thread thread = new Thread()\n            {\n                @Override\n                public void run()\n                {\n                    while (!Letters.this.isInterrupted())\n                    {\n                        System.out.print(chars.charAt(finalI));\n                        try\n                        {\n                            Thread.sleep((int) (Math.random() * 2000));\n                        }\n                        catch (InterruptedException e)\n                        {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n            };\n\n            threads[finalI] = thread;\n        }\n    }\n\n    @Override\n    public void run()\n    {\n        for (Thread thread : threads)\n        {\n            thread.start();\n        }\n\n        while (true)\n        {\n            if (this.isInterrupted())\n                return;\n        }\n        \n    }\n\n    Iterator&lt;Thread&gt; threadsIterator = new Iterator&lt;Thread&gt;()\n    {\n        @Override\n        public boolean hasNext()\n        {\n            return index &lt; threads.length;\n        }\n\n        @Override\n        public Thread next()\n        {\n            return threads[index++];\n        }\n    };\n\n    @Override\n    public Iterator iterator()\n    {\n        return threadsIterator;\n    }\n}\n</code></pre>\n<p>The Letters class object is created in main method and there is interrupted:</p>\n<pre><code>public static void main(String[] args)\n{\n    Letters letters = new Letters(&quot;ABCD&quot;);\n\n    for (Thread t : letters)\n        System.out.println(t.getName() + &quot; starting&quot;);\n\n    letters.start();\n    try\n    {\n        Thread.sleep(5000);\n    }\n    catch(InterruptedException ignore)\n    {\n\n    }\n    letters.interrupt();\n    System.out.println(&quot;\\nProgram completed.&quot;);\n}\n</code></pre>\n<p>My question is about this part:</p>\n<pre><code>@Override\n    public void run()\n    {\n        for (Thread thread : threads)\n        {\n            thread.start();\n        }\n\n        while (true)\n        {\n            if (this.isInterrupted())\n                return;\n        }\n        \n    }\n</code></pre>\n<p>Why if i use Thread.interrupted() instead of isInterrupted() it doesn't intterupt the parent threads that was started by this thread? In Java, how are sub-threads closed when the parent thread finishes its work?</p>\n"},{"tags":["java","opencv","intellij-idea","libraries","video-compression"],"answers":[{"tags":[],"owner":{"account_id":23948390,"reputation":11,"user_id":17940413,"display_name":"Lio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687447585,"creation_date":1687447585,"answer_id":76533452,"question_id":75117095,"body_markdown":"I am on openpnp 4.7.0-0 and had the same error.\r\n\r\nInstead of \r\n````\r\nnu.pattern.OpenCV.loadLocally();\r\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n````\r\nI used\r\n````\r\nnu.pattern.OpenCV.loadShared();\r\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n````\r\nAnd it solved it.\r\n\r\n","title":"OpenCV (packaged by OpenPnP) library not loading","body":"<p>I am on openpnp 4.7.0-0 and had the same error.</p>\n<p>Instead of</p>\n<pre><code>nu.pattern.OpenCV.loadLocally();\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>I used</p>\n<pre><code>nu.pattern.OpenCV.loadShared();\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>And it solved it.</p>\n"}],"owner":{"account_id":22647490,"reputation":21,"user_id":16822647,"display_name":"Ranveer Behl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687447585,"creation_date":1673690330,"question_id":75117095,"body_markdown":"I am trying to use OpenVC and encounter an erorr that says that it is not in java.library.path. I have followed the github page for this version of OpenCV (https://github.com/openpnp/opencv) but still the probelm persisits, I tried using maven but it would still not locate the file.\r\n\r\nI tried to use maven but the dependency would not work, I then used the inbuilt library system in IntelliJ but I am constantly getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java460 in java.library.path: /Users/ranveerbehl/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:2015)\r\n\tat Main.main(Main.java:13)\r\n```\r\nI am trying to compress video files as my previous library (IVCompressor) just plain stopped working one day and after days of troubleshooting, I was not able to fix it. Here is the code I wrote for reference:\r\n\r\n```\r\npublic static void main(String[] args){\r\n\r\n        // Load the OpenCV library\r\n        nu.pattern.OpenCV.loadLocally();\r\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n        // Define the input and output file paths\r\n        String inputFile = &quot;input.mov&quot;;\r\n        String outputFile = &quot;output.mov&quot;;\r\n\r\n        // Create a VideoCapture object to read the input video\r\n        VideoCapture capture = new VideoCapture(inputFile);\r\n\r\n        // Get the video frames per second\r\n        double fps = capture.get(Videoio.CAP_PROP_FPS);\r\n\r\n        // Get the video frame size\r\n        int frameWidth = (int) capture.get(Videoio.CAP_PROP_FRAME_WIDTH);\r\n        int frameHeight = (int) capture.get(Videoio.CAP_PROP_FRAME_HEIGHT);\r\n\r\n        // Create a VideoWriter object to write the output video\r\n        VideoWriter writer = new VideoWriter(outputFile, VideoWriter.fourcc(&#39;M&#39;, &#39;P&#39;, &#39;4&#39;, &#39;V&#39;), fps, new Size(frameWidth, frameHeight));\r\n\r\n        // Read and write the video frames\r\n        Mat frame = new Mat();\r\n        while (capture.read(frame)) {\r\n            writer.write(frame);\r\n        }\r\n\r\n        // Release the resources\r\n        capture.release();\r\n        writer.release();\r\n    }\r\n```\r\n\r\nAll imports are imported.\r\n\r\nI feel the main probelm lies in these two lines of code if not with the library installation itself:\r\n\r\n```\r\n// Load the OpenCV library\r\n        nu.pattern.OpenCV.loadLocally();\r\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\n```\r\n\r\nOpenCV version 4.6.0.\r\n\r\nThank you.","title":"OpenCV (packaged by OpenPnP) library not loading","body":"<p>I am trying to use OpenVC and encounter an erorr that says that it is not in java.library.path. I have followed the github page for this version of OpenCV (<a href=\"https://github.com/openpnp/opencv\" rel=\"nofollow noreferrer\">https://github.com/openpnp/opencv</a>) but still the probelm persisits, I tried using maven but it would still not locate the file.</p>\n<p>I tried to use maven but the dependency would not work, I then used the inbuilt library system in IntelliJ but I am constantly getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java460 in java.library.path: /Users/ranveerbehl/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\n    at java.base/java.lang.System.loadLibrary(System.java:2015)\n    at Main.main(Main.java:13)\n</code></pre>\n<p>I am trying to compress video files as my previous library (IVCompressor) just plain stopped working one day and after days of troubleshooting, I was not able to fix it. Here is the code I wrote for reference:</p>\n<pre><code>public static void main(String[] args){\n\n        // Load the OpenCV library\n        nu.pattern.OpenCV.loadLocally();\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n        // Define the input and output file paths\n        String inputFile = &quot;input.mov&quot;;\n        String outputFile = &quot;output.mov&quot;;\n\n        // Create a VideoCapture object to read the input video\n        VideoCapture capture = new VideoCapture(inputFile);\n\n        // Get the video frames per second\n        double fps = capture.get(Videoio.CAP_PROP_FPS);\n\n        // Get the video frame size\n        int frameWidth = (int) capture.get(Videoio.CAP_PROP_FRAME_WIDTH);\n        int frameHeight = (int) capture.get(Videoio.CAP_PROP_FRAME_HEIGHT);\n\n        // Create a VideoWriter object to write the output video\n        VideoWriter writer = new VideoWriter(outputFile, VideoWriter.fourcc('M', 'P', '4', 'V'), fps, new Size(frameWidth, frameHeight));\n\n        // Read and write the video frames\n        Mat frame = new Mat();\n        while (capture.read(frame)) {\n            writer.write(frame);\n        }\n\n        // Release the resources\n        capture.release();\n        writer.release();\n    }\n</code></pre>\n<p>All imports are imported.</p>\n<p>I feel the main probelm lies in these two lines of code if not with the library installation itself:</p>\n<pre><code>// Load the OpenCV library\n        nu.pattern.OpenCV.loadLocally();\n        System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n<p>OpenCV version 4.6.0.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jenkins-pipeline","allure"],"comments":[{"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"score":1,"creation_date":1688116002,"post_id":76533435,"comment_id":135033552,"body_markdown":"issue is with JDK installation not with Allure Plugin. were you able to resolve this ?","body":"issue is with JDK installation not with Allure Plugin. were you able to resolve this ?"},{"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"score":0,"creation_date":1689097802,"post_id":76533435,"comment_id":135164004,"body_markdown":"yes it is resolved","body":"yes it is resolved"}],"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687447492,"creation_date":1687447492,"question_id":76533435,"body_markdown":"I have installed the latest Allure plugins in Jenkins server.\r\nThat specific code when it tries to generate allure report, it has thrown me the following error\r\n    \r\n\r\n&gt; \r\n\r\n    [Pipeline] { (Generate Report)\r\n    [Pipeline] script\r\n    [Pipeline] {\r\n    [Pipeline] allure\r\n    Unable to auto-install JDK until the license is accepted.\r\n    [Pipeline] }\r\n    [Pipeline] // script\r\n    [Pipeline] }\r\n    [Pipeline] // stage\r\n    [Pipeline] }\r\n    [Pipeline] // ws\r\n    [Pipeline] }\r\n    [Pipeline] // node\r\n    [Pipeline] End of Pipeline\r\n    java.lang.NullPointerException\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisherDescriptor.getCommandlineInstallation(AllureReportPublisherDescriptor.java:112)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.getCommandline(AllureReportPublisher.java:346)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:303)\r\n    \tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\r\n    \tat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n    \tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:101)\r\n    \tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:71)\r\n    \tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Finished: FAILURE","title":"Allure Jenkins plugin giving error while generating report","body":"<p>I have installed the latest Allure plugins in Jenkins server.\nThat specific code when it tries to generate allure report, it has thrown me the following error</p>\n<blockquote>\n</blockquote>\n<pre><code>[Pipeline] { (Generate Report)\n[Pipeline] script\n[Pipeline] {\n[Pipeline] allure\nUnable to auto-install JDK until the license is accepted.\n[Pipeline] }\n[Pipeline] // script\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // ws\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\njava.lang.NullPointerException\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisherDescriptor.getCommandlineInstallation(AllureReportPublisherDescriptor.java:112)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.getCommandline(AllureReportPublisher.java:346)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:303)\n    at ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\n    at jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\n    at org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:101)\n    at org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:71)\n    at org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","android","kotlin","service","android-service"],"comments":[{"owner":{"account_id":17020425,"reputation":4743,"user_id":12313157,"display_name":"Xid"},"score":0,"creation_date":1616340841,"post_id":66728240,"comment_id":117965705,"body_markdown":"This is an issue with many devices. Have a look at this [site](https://dontkillmyapp.com/).","body":"This is an issue with many devices. Have a look at this <a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">site</a>."},{"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"score":1,"creation_date":1616351707,"post_id":66728240,"comment_id":117968957,"body_markdown":"@KeyserS&#246;ze The users use another app, that has another service location and the other one never gets killed, only my app","body":"@KeyserS&#246;ze The users use another app, that has another service location and the other one never gets killed, only my app"}],"answers":[{"comments":[{"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"score":0,"creation_date":1616363897,"post_id":66728324,"comment_id":117972378,"body_markdown":"I will try that this week, thank you so much for the help!","body":"I will try that this week, thank you so much for the help!"},{"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"score":0,"creation_date":1616629265,"post_id":66728324,"comment_id":118066352,"body_markdown":"It worked, somehow, we implemented also an alarm, but it seems to keep happening, we will keep monitoring anyway. Thanks for the answer","body":"It worked, somehow, we implemented also an alarm, but it seems to keep happening, we will keep monitoring anyway. Thanks for the answer"}],"tags":[],"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616293978,"creation_date":1616293978,"answer_id":66728324,"question_id":66728240,"body_markdown":"There are a couple of things here. I cannot see `&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;` in your manifest. Also make sure about `foregroundServiceType=&quot;location&quot;` in your service attributes inside manifest. In addition, if you have a foreground service for location, `ACCESS_BACKGROUND_LOCATION` is not required.\r\nOn the other hand, Xiaomi devices will kill foreground services when user closes the application from app switcher (Xiaomi is the worst) and you should ask Xiaomi users to manually exclude your application from being killed in battery saver or extra permissions in app details (and even if they do that, still there won&#39;t be a guarantee, also different MiUI versions have different rules)\r\nMoreover, star your service using `ContextCompat.startForegroundService` and in your service&#39;s onStartCommand call`startForeground` ","title":"Foreground service getting killed","body":"<p>There are a couple of things here. I cannot see <code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;</code> in your manifest. Also make sure about <code>foregroundServiceType=&quot;location&quot;</code> in your service attributes inside manifest. In addition, if you have a foreground service for location, <code>ACCESS_BACKGROUND_LOCATION</code> is not required.\nOn the other hand, Xiaomi devices will kill foreground services when user closes the application from app switcher (Xiaomi is the worst) and you should ask Xiaomi users to manually exclude your application from being killed in battery saver or extra permissions in app details (and even if they do that, still there won't be a guarantee, also different MiUI versions have different rules)\nMoreover, star your service using <code>ContextCompat.startForegroundService</code> and in your service's onStartCommand call<code>startForeground</code></p>\n"},{"tags":[],"owner":{"account_id":12359904,"reputation":202,"user_id":9014504,"display_name":"Asif A. Sohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616294829,"creation_date":1616294829,"answer_id":66728381,"question_id":66728240,"body_markdown":"There have been several latest restrictions with Android 11. It&#39;s difficult to provide an exact solution. Here is couple of things you should recheck that might resolve your problem:\r\n\r\n - Disable **battery optimization** for your app in the device.\r\n - Check if the device is not operating in **doze mode**.\r\n - Specify **android:foregroundServiceType** in manifest .\r\n\r\n\r\n\r\n  ","title":"Foreground service getting killed","body":"<p>There have been several latest restrictions with Android 11. It's difficult to provide an exact solution. Here is couple of things you should recheck that might resolve your problem:</p>\n<ul>\n<li>Disable <strong>battery optimization</strong> for your app in the device.</li>\n<li>Check if the device is not operating in <strong>doze mode</strong>.</li>\n<li>Specify <strong>android:foregroundServiceType</strong> in manifest .</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13821428,"reputation":289,"user_id":9976764,"display_name":"Rakesh Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446718,"creation_date":1687446153,"answer_id":76533247,"question_id":66728240,"body_markdown":"To Resolve this issue kindly check following code.\r\n\r\n1) Create method in onCreate() - checkBatteryOptimization()\r\n2) On checkBatteryOptimization() method implement the given code.\r\n       \r\n\r\n       boolean isBatteryOptimized = false;\r\n       if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            Intent intent = new Intent();\r\n            String packageName = getActivity().getPackageName();\r\n            PowerManager pm = (PowerManager) getActivity().getSystemService(POWER_SERVICE);\r\n            if (!pm.isIgnoringBatteryOptimizations(packageName)) {\r\n                intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n                intent.setData(Uri.parse(&quot;package:&quot; + packageName));\r\n                startActivity(intent);\r\n            } else {\r\n                isBatteryOptimized = pm.isIgnoringBatteryOptimizations(packageName);\r\n                Log.e(&quot;hello battery optimize &quot;,&quot;&quot;+pm.isIgnoringBatteryOptimizations(packageName));\r\n            }\r\n\r\n","title":"Foreground service getting killed","body":"<p>To Resolve this issue kindly check following code.</p>\n<ol>\n<li><p>Create method in onCreate() - checkBatteryOptimization()</p>\n</li>\n<li><p>On checkBatteryOptimization() method implement the given code.</p>\n<pre><code>boolean isBatteryOptimized = false;\nif(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n     Intent intent = new Intent();\n     String packageName = getActivity().getPackageName();\n     PowerManager pm = (PowerManager) getActivity().getSystemService(POWER_SERVICE);\n     if (!pm.isIgnoringBatteryOptimizations(packageName)) {\n         intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n         intent.setData(Uri.parse(&quot;package:&quot; + packageName));\n         startActivity(intent);\n     } else {\n         isBatteryOptimized = pm.isIgnoringBatteryOptimizations(packageName);\n         Log.e(&quot;hello battery optimize &quot;,&quot;&quot;+pm.isIgnoringBatteryOptimizations(packageName));\n     }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66728324,"answer_count":3,"score":4,"last_activity_date":1687446718,"creation_date":1616292806,"question_id":66728240,"body_markdown":"I have a service, that updates my backend from time to time, with the newest location of the user, the problem is, some users are reporting that the Foreground notification sometimes disappears, but it doesn&#39;t happen to all the users, there might be users using the app 8 hours a day, and it doesn&#39;t disappear, but no crash appears on Crashlytics.\r\n\r\n\r\nHere is my ServiceClass\r\n\r\n```\r\npackage com.xxxxxxx.xxxxxxxx.service\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.app.Notification\r\nimport android.app.Notification.FLAG_NO_CLEAR\r\nimport android.app.Notification.FLAG_ONGOING_EVENT\r\nimport android.app.NotificationChannel\r\nimport android.app.NotificationManager\r\nimport android.app.PendingIntent\r\nimport android.app.PendingIntent.FLAG_UPDATE_CURRENT\r\nimport android.app.Service\r\nimport android.content.Intent\r\nimport android.content.Intent.FLAG_ACTIVITY_CLEAR_TOP\r\nimport android.content.Intent.FLAG_ACTIVITY_SINGLE_TOP\r\nimport android.graphics.Color\r\nimport android.location.Location\r\nimport android.os.Build.VERSION.SDK_INT\r\nimport android.os.Build.VERSION_CODES.O\r\nimport android.os.IBinder\r\nimport android.util.Base64\r\nimport android.util.Base64.DEFAULT\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.core.app.NotificationCompat\r\nimport androidx.core.content.ContextCompat\r\nimport com.google.android.gms.location.LocationCallback\r\nimport com.google.android.gms.location.LocationRequest\r\nimport com.google.android.gms.location.LocationResult\r\nimport com.google.android.gms.location.LocationServices\r\nimport com.google.android.gms.maps.model.LatLng\r\nimport com.xxxx.commons.XXXXXXCommons\r\nimport com.xxxxxxx.xxxxxxxx.R\r\nimport com.xxxxxxx.xxxxxxxx.di.DataSourceModule\r\nimport com.xxxxxxx.xxxxxxxx.domain.GetAppStateUseCase.Companion.LOCATION_DELIMITER\r\nimport com.xxxxxxx.xxxxxxxx.model.local.CachedLocation\r\nimport com.xxxxxxx.xxxxxxxx.model.local.DriverLocation\r\nimport com.xxxxxxx.xxxxxxxx.utils.LOCATION_PERMISSIONS\r\nimport com.xxxxxxx.xxxxxxxx.utils.OnGoingTrip\r\nimport com.xxxxxxx.xxxxxxxx.utils.checkPermissions\r\nimport com.xxxxxxx.xxxxxxxx.view.activity.SplashActivity\r\nimport kotlinx.coroutines.CoroutineExceptionHandler\r\nimport kotlinx.coroutines.CoroutineScope\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.Job\r\nimport kotlinx.coroutines.cancel\r\nimport kotlinx.coroutines.isActive\r\nimport kotlinx.coroutines.launch\r\nimport kotlin.text.Charsets.UTF_8\r\n\r\nclass LocationTrackingService : Service() {\r\n\r\n    private companion object {\r\n        const val NOTIFICATION_ID = 856\r\n        const val FOREGROUND_SERVICE_ID = 529\r\n        const val LOCATION_UPDATE_INTERVAL = 10000L\r\n        const val LOCATION_UPDATE_FASTEST_INTERVAL = 5000L\r\n    }\r\n\r\n    private val updateJob: Job = Job()\r\n    private val errorHandler = CoroutineExceptionHandler { _, throwable -&gt;\r\n        XXXXXXCommons.crashHandler?.log(throwable)\r\n    }\r\n    private val locationTrackingCoroutineScope =\r\n        CoroutineScope(Dispatchers.IO + updateJob + errorHandler)\r\n\r\n    private val rideApiService by lazy { DataSourceModule.provideRideApiService() }\r\n    private val locationDao by lazy { DataSourceModule.provideLocationDao(XXXXXXCommons.provideApplicationContext()) }\r\n\r\n    private val locationRequest = LocationRequest().apply {\r\n        interval = LOCATION_UPDATE_INTERVAL\r\n        fastestInterval = LOCATION_UPDATE_FASTEST_INTERVAL\r\n        priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n    }\r\n\r\n    private val callback = object : LocationCallback() {\r\n        override fun onLocationResult(result: LocationResult?) = onLocationReceived(result)\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private fun requestLocationUpdates() {\r\n        if (checkPermissions(*LOCATION_PERMISSIONS)) {\r\n            LocationServices.getFusedLocationProviderClient(this)\r\n                .requestLocationUpdates(locationRequest, callback, null)\r\n        }\r\n    }\r\n\r\n    private fun onLocationReceived(result: LocationResult?) = result?.lastLocation?.run {\r\n        postDriverLocation(this)\r\n    } ?: Unit\r\n\r\n    private fun postDriverLocation(location: Location) {\r\n        val driverLocation = DriverLocation(\r\n            location.latitude.toFloat(),\r\n            location.longitude.toFloat(),\r\n            location.bearing,\r\n            OnGoingTrip.rideData.rideId,\r\n            OnGoingTrip.orderData.orderId\r\n        )\r\n        OnGoingTrip.currentLocation = LatLng(location.latitude, location.longitude)\r\n        OnGoingTrip.reportLocationUpdate()\r\n        locationTrackingCoroutineScope.launch(Dispatchers.IO) {\r\n            cacheDriverLocation(driverLocation)\r\n            rideApiService.postCurrentDriverLocation(driverLocation)\r\n        }\r\n    }\r\n\r\n    private suspend fun cacheDriverLocation(driverLocation: DriverLocation) {\r\n        val bytes = &quot;${driverLocation.latitude}$LOCATION_DELIMITER${driverLocation.longitude}&quot;\r\n            .toByteArray(UTF_8)\r\n        val safeLocation = Base64.encode(bytes, DEFAULT).toString(UTF_8)\r\n        locationDao.createOrUpdate(CachedLocation(location = safeLocation))\r\n    }\r\n\r\n    override fun onBind(intent: Intent): IBinder? = null\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        buildNotification(\r\n            if (SDK_INT &gt;= O) {\r\n                createNotificationChannel(getString(R.string.app_name))\r\n            } else {\r\n                NOTIFICATION_ID.toString()\r\n            }\r\n        )\r\n        requestLocationUpdates()\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        if (locationTrackingCoroutineScope.isActive) {\r\n            locationTrackingCoroutineScope.cancel()\r\n        }\r\n        LocationServices.getFusedLocationProviderClient(this).removeLocationUpdates(callback)\r\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.cancel(NOTIFICATION_ID)\r\n    }\r\n\r\n    @RequiresApi(O)\r\n    private fun createNotificationChannel(channelName: String): String {\r\n        val chan = NotificationChannel(\r\n            NOTIFICATION_ID.toString(),\r\n            channelName,\r\n            NotificationManager.IMPORTANCE_NONE\r\n        )\r\n        chan.lightColor = Color.CYAN\r\n        chan.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\r\n        val service = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\r\n        service.createNotificationChannel(chan)\r\n        return NOTIFICATION_ID.toString()\r\n    }\r\n\r\n    private fun buildNotification(channelId: String) {\r\n        val ctx = this\r\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.run {\r\n            val intent = Intent(ctx, SplashActivity::class.java).apply {\r\n                flags = FLAG_ACTIVITY_CLEAR_TOP or FLAG_ACTIVITY_SINGLE_TOP\r\n            }\r\n            val resultPendingIntent =\r\n                PendingIntent.getActivity(ctx, 0, intent, FLAG_UPDATE_CURRENT)\r\n            val notification = NotificationCompat.Builder(ctx, channelId)\r\n                .setSmallIcon(R.drawable.ic_xxxxxx_icon_background)\r\n                .setColor(ContextCompat.getColor(ctx, R.color.xxxxxxTurquoise))\r\n                .setContentTitle(ctx.getString(R.string.app_name))\r\n                .setOngoing(true)\r\n                .setContentText(ctx.getString(R.string.usage_message))\r\n                .setContentIntent(resultPendingIntent)\r\n                .build().apply { flags = FLAG_ONGOING_EVENT or FLAG_NO_CLEAR }\r\n            startForeground(FOREGROUND_SERVICE_ID, notification)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is how I start the service:\r\n\r\n```\r\nstartService(Intent(this, LocationTrackingService::class.java));\r\n```\r\n\r\nHere are the permissions I have and how I declared it on the AndroidManifest.xml:\r\n\r\n\r\n```\r\n&lt;service\r\n            android:name=&quot;.service.LocationTrackingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n```\r\n**Edit**\r\n\r\nMost of the devices run Android 9 and 10, a few from 5 to 8, and almost no 11\r\n\r\nMore information I would be happy to share.","title":"Foreground service getting killed","body":"<p>I have a service, that updates my backend from time to time, with the newest location of the user, the problem is, some users are reporting that the Foreground notification sometimes disappears, but it doesn't happen to all the users, there might be users using the app 8 hours a day, and it doesn't disappear, but no crash appears on Crashlytics.</p>\n<p>Here is my ServiceClass</p>\n<pre><code>package com.xxxxxxx.xxxxxxxx.service\n\nimport android.annotation.SuppressLint\nimport android.app.Notification\nimport android.app.Notification.FLAG_NO_CLEAR\nimport android.app.Notification.FLAG_ONGOING_EVENT\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.app.PendingIntent\nimport android.app.PendingIntent.FLAG_UPDATE_CURRENT\nimport android.app.Service\nimport android.content.Intent\nimport android.content.Intent.FLAG_ACTIVITY_CLEAR_TOP\nimport android.content.Intent.FLAG_ACTIVITY_SINGLE_TOP\nimport android.graphics.Color\nimport android.location.Location\nimport android.os.Build.VERSION.SDK_INT\nimport android.os.Build.VERSION_CODES.O\nimport android.os.IBinder\nimport android.util.Base64\nimport android.util.Base64.DEFAULT\nimport androidx.annotation.RequiresApi\nimport androidx.core.app.NotificationCompat\nimport androidx.core.content.ContextCompat\nimport com.google.android.gms.location.LocationCallback\nimport com.google.android.gms.location.LocationRequest\nimport com.google.android.gms.location.LocationResult\nimport com.google.android.gms.location.LocationServices\nimport com.google.android.gms.maps.model.LatLng\nimport com.xxxx.commons.XXXXXXCommons\nimport com.xxxxxxx.xxxxxxxx.R\nimport com.xxxxxxx.xxxxxxxx.di.DataSourceModule\nimport com.xxxxxxx.xxxxxxxx.domain.GetAppStateUseCase.Companion.LOCATION_DELIMITER\nimport com.xxxxxxx.xxxxxxxx.model.local.CachedLocation\nimport com.xxxxxxx.xxxxxxxx.model.local.DriverLocation\nimport com.xxxxxxx.xxxxxxxx.utils.LOCATION_PERMISSIONS\nimport com.xxxxxxx.xxxxxxxx.utils.OnGoingTrip\nimport com.xxxxxxx.xxxxxxxx.utils.checkPermissions\nimport com.xxxxxxx.xxxxxxxx.view.activity.SplashActivity\nimport kotlinx.coroutines.CoroutineExceptionHandler\nimport kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.Job\nimport kotlinx.coroutines.cancel\nimport kotlinx.coroutines.isActive\nimport kotlinx.coroutines.launch\nimport kotlin.text.Charsets.UTF_8\n\nclass LocationTrackingService : Service() {\n\n    private companion object {\n        const val NOTIFICATION_ID = 856\n        const val FOREGROUND_SERVICE_ID = 529\n        const val LOCATION_UPDATE_INTERVAL = 10000L\n        const val LOCATION_UPDATE_FASTEST_INTERVAL = 5000L\n    }\n\n    private val updateJob: Job = Job()\n    private val errorHandler = CoroutineExceptionHandler { _, throwable -&gt;\n        XXXXXXCommons.crashHandler?.log(throwable)\n    }\n    private val locationTrackingCoroutineScope =\n        CoroutineScope(Dispatchers.IO + updateJob + errorHandler)\n\n    private val rideApiService by lazy { DataSourceModule.provideRideApiService() }\n    private val locationDao by lazy { DataSourceModule.provideLocationDao(XXXXXXCommons.provideApplicationContext()) }\n\n    private val locationRequest = LocationRequest().apply {\n        interval = LOCATION_UPDATE_INTERVAL\n        fastestInterval = LOCATION_UPDATE_FASTEST_INTERVAL\n        priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n    }\n\n    private val callback = object : LocationCallback() {\n        override fun onLocationResult(result: LocationResult?) = onLocationReceived(result)\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private fun requestLocationUpdates() {\n        if (checkPermissions(*LOCATION_PERMISSIONS)) {\n            LocationServices.getFusedLocationProviderClient(this)\n                .requestLocationUpdates(locationRequest, callback, null)\n        }\n    }\n\n    private fun onLocationReceived(result: LocationResult?) = result?.lastLocation?.run {\n        postDriverLocation(this)\n    } ?: Unit\n\n    private fun postDriverLocation(location: Location) {\n        val driverLocation = DriverLocation(\n            location.latitude.toFloat(),\n            location.longitude.toFloat(),\n            location.bearing,\n            OnGoingTrip.rideData.rideId,\n            OnGoingTrip.orderData.orderId\n        )\n        OnGoingTrip.currentLocation = LatLng(location.latitude, location.longitude)\n        OnGoingTrip.reportLocationUpdate()\n        locationTrackingCoroutineScope.launch(Dispatchers.IO) {\n            cacheDriverLocation(driverLocation)\n            rideApiService.postCurrentDriverLocation(driverLocation)\n        }\n    }\n\n    private suspend fun cacheDriverLocation(driverLocation: DriverLocation) {\n        val bytes = &quot;${driverLocation.latitude}$LOCATION_DELIMITER${driverLocation.longitude}&quot;\n            .toByteArray(UTF_8)\n        val safeLocation = Base64.encode(bytes, DEFAULT).toString(UTF_8)\n        locationDao.createOrUpdate(CachedLocation(location = safeLocation))\n    }\n\n    override fun onBind(intent: Intent): IBinder? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        buildNotification(\n            if (SDK_INT &gt;= O) {\n                createNotificationChannel(getString(R.string.app_name))\n            } else {\n                NOTIFICATION_ID.toString()\n            }\n        )\n        requestLocationUpdates()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        if (locationTrackingCoroutineScope.isActive) {\n            locationTrackingCoroutineScope.cancel()\n        }\n        LocationServices.getFusedLocationProviderClient(this).removeLocationUpdates(callback)\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.cancel(NOTIFICATION_ID)\n    }\n\n    @RequiresApi(O)\n    private fun createNotificationChannel(channelName: String): String {\n        val chan = NotificationChannel(\n            NOTIFICATION_ID.toString(),\n            channelName,\n            NotificationManager.IMPORTANCE_NONE\n        )\n        chan.lightColor = Color.CYAN\n        chan.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n        val service = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n        service.createNotificationChannel(chan)\n        return NOTIFICATION_ID.toString()\n    }\n\n    private fun buildNotification(channelId: String) {\n        val ctx = this\n        (getSystemService(NOTIFICATION_SERVICE) as? NotificationManager)?.run {\n            val intent = Intent(ctx, SplashActivity::class.java).apply {\n                flags = FLAG_ACTIVITY_CLEAR_TOP or FLAG_ACTIVITY_SINGLE_TOP\n            }\n            val resultPendingIntent =\n                PendingIntent.getActivity(ctx, 0, intent, FLAG_UPDATE_CURRENT)\n            val notification = NotificationCompat.Builder(ctx, channelId)\n                .setSmallIcon(R.drawable.ic_xxxxxx_icon_background)\n                .setColor(ContextCompat.getColor(ctx, R.color.xxxxxxTurquoise))\n                .setContentTitle(ctx.getString(R.string.app_name))\n                .setOngoing(true)\n                .setContentText(ctx.getString(R.string.usage_message))\n                .setContentIntent(resultPendingIntent)\n                .build().apply { flags = FLAG_ONGOING_EVENT or FLAG_NO_CLEAR }\n            startForeground(FOREGROUND_SERVICE_ID, notification)\n        }\n    }\n}\n</code></pre>\n<p>Here is how I start the service:</p>\n<pre><code>startService(Intent(this, LocationTrackingService::class.java));\n</code></pre>\n<p>Here are the permissions I have and how I declared it on the AndroidManifest.xml:</p>\n<pre><code>&lt;service\n            android:name=&quot;.service.LocationTrackingService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Most of the devices run Android 9 and 10, a few from 5 to 8, and almost no 11</p>\n<p>More information I would be happy to share.</p>\n"},{"tags":["java","xpath","sax"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634879824,"post_id":69671709,"comment_id":123149899,"body_markdown":"why are you doing this twice `document = builder.parse(connection.getInputStream());` &amp;&amp; `Document documentBuider = builder.parse(connection.getInputStream());`","body":"why are you doing this twice <code>document = builder.parse(connection.getInputStream());</code> &amp;&amp; <code>Document documentBuider = builder.parse(connection.getInputStream());</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634879979,"post_id":69671709,"comment_id":123149927,"body_markdown":"It&#39;s because you are trying to parse HTML with an XML parser. `&#39;&amp;l=&#39;+l` looks like an entity to an XML parser.","body":"It&#39;s because you are trying to parse HTML with an XML parser. <code>&#39;&amp;l=&#39;+l</code> looks like an entity to an XML parser."},{"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"score":0,"creation_date":1634882080,"post_id":69671709,"comment_id":123150333,"body_markdown":"Scary Wombat - i have removed the duplicate getConnection .","body":"Scary Wombat - i have removed the duplicate getConnection ."},{"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"score":0,"creation_date":1634882137,"post_id":69671709,"comment_id":123150349,"body_markdown":"@tgdavies - how can I fix it. similar code has been working fine with other websites like fidelity where i am scraping html data.","body":"@tgdavies - how can I fix it. similar code has been working fine with other websites like fidelity where i am scraping html data."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634882216,"post_id":69671709,"comment_id":123150370,"body_markdown":"Using tagsoup is the usual suggestion. I haven&#39;t used it personally.","body":"Using tagsoup is the usual suggestion. I haven&#39;t used it personally."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1634883393,"post_id":69671709,"comment_id":123150654,"body_markdown":"[JSoup](https://jsoup.org/) is what I&#39;ve used successfully for HTML parsing","body":"<a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a> is what I&#39;ve used successfully for HTML parsing"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634886896,"creation_date":1634886896,"answer_id":69672761,"question_id":69671709,"body_markdown":"The error arises because you are treating the data coming from the site as XML, and it isn&#39;t well-formed XML.\r\n\r\nIf it&#39;s advertised as XML (e.g if it&#39;s delivered with an XML media type) then the site is faulty and you should complain to them, or take your custom elsewhere.\r\n\r\nIf it&#39;s advertised as HTML then you should parse it using an HTML parser not an XML parser.","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>The error arises because you are treating the data coming from the site as XML, and it isn't well-formed XML.</p>\n<p>If it's advertised as XML (e.g if it's delivered with an XML media type) then the site is faulty and you should complain to them, or take your custom elsewhere.</p>\n<p>If it's advertised as HTML then you should parse it using an HTML parser not an XML parser.</p>\n"},{"tags":[],"owner":{"account_id":1773188,"reputation":2439,"user_id":1617550,"accept_rate":50,"display_name":"mwarren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687446432,"creation_date":1687446432,"answer_id":76533290,"question_id":69671709,"body_markdown":"I got this precise error when I tried to include a Google Analytics 4 script in an xhtml page.\r\n\r\nYou can solve the problem in the analytics script on an xhtml page by changing `&#39;&amp;l=&#39;+l` to `&#39;&amp;amp;l=&#39;+l`","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>I got this precise error when I tried to include a Google Analytics 4 script in an xhtml page.</p>\n<p>You can solve the problem in the analytics script on an xhtml page by changing <code>'&amp;l='+l</code> to <code>'&amp;amp;l='+l</code></p>\n"}],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687446432,"creation_date":1634879587,"question_id":69671709,"body_markdown":"i am trying to extract the fund rating which is shown as number of stars in the morning star website. You can see it before the word Bronze in the below link. Below is my code to get the value , but I am getting an error &#39;[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.&#39;. Not sure how to resolve this issue or why is it showing up? \r\n\r\nURL trying to get the value from \r\nhttps://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1\r\n\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.xpath.*;\r\n    import java.io.IOException;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class MSExtrctor {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        String url = &quot;https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1&quot;;\r\n        HttpURLConnection connection = connect(url);\r\n        int responseCode = 0;\r\n        try {\r\n            responseCode = connection.getResponseCode();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (responseCode == 200) {\r\n            DocumentBuilder builder = null;\r\n            try {\r\n                builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n                Document document = builder.parse(connection.getInputStream());\r\n                 XPath xpath = XPathFactory.newInstance().newXPath();\r\n            \r\n                XPathExpression expr = xpath.compile(&quot;//span[contains(@class,&#39;rating_sprite star&#39;)]/@class&quot;);\r\n               \r\n                String starVal = evaluateStr(document, expr);\r\n                System.out.println(starVal);\r\n            } catch (ParserConfigurationException | IOException e) {\r\n                e.printStackTrace();\r\n            } catch (SAXException e) {\r\n                e.printStackTrace();\r\n            } catch (XPathExpressionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            throw new RuntimeException(&quot;Response &quot; + responseCode + &quot; from URL : &quot; + url);\r\n        }\r\n\r\n    }\r\n\r\n    private static String evaluateStr(Document document, XPathExpression xPathExpression){\r\n        String str = null;\r\n        try {\r\n            str = (String) xPathExpression.evaluate(document, XPathConstants.STRING);\r\n        } catch (XPathExpressionException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return str;\r\n    }\r\n\r\n    private static HttpURLConnection connect(String urlStr) {\r\n        HttpURLConnection httpConnection = null;\r\n        URL url = null;\r\n        try {\r\n            url = new URL(urlStr);\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            httpConnection = (HttpURLConnection) url.openConnection();\r\n            httpConnection.connect();\r\n            return httpConnection;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return httpConnection;\r\n    }\r\n}\r\n\r\n\r\n**Error trace**\r\n\r\n    [Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.\r\n    org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 218; The reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter.\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:261)\r\n    \tat java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n    \tat java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)","title":"How to resolve error reference to entity &quot;l&quot; must end with the &#39;;&#39; delimiter while fetching from morning star","body":"<p>i am trying to extract the fund rating which is shown as number of stars in the morning star website. You can see it before the word Bronze in the below link. Below is my code to get the value , but I am getting an error '[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the ';' delimiter.'. Not sure how to resolve this issue or why is it showing up?</p>\n<p>URL trying to get the value from\n<a href=\"https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1\" rel=\"nofollow noreferrer\">https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1</a></p>\n<pre><code>import org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.xpath.*;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class MSExtrctor {\n\n\npublic static void main(String[] args) {\n    String url = &quot;https://www.morningstar.co.uk/uk/funds/snapshot/snapshot.aspx?id=F00000WYA1&quot;;\n    HttpURLConnection connection = connect(url);\n    int responseCode = 0;\n    try {\n        responseCode = connection.getResponseCode();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    if (responseCode == 200) {\n        DocumentBuilder builder = null;\n        try {\n            builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            Document document = builder.parse(connection.getInputStream());\n             XPath xpath = XPathFactory.newInstance().newXPath();\n        \n            XPathExpression expr = xpath.compile(&quot;//span[contains(@class,'rating_sprite star')]/@class&quot;);\n           \n            String starVal = evaluateStr(document, expr);\n            System.out.println(starVal);\n        } catch (ParserConfigurationException | IOException e) {\n            e.printStackTrace();\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (XPathExpressionException e) {\n            e.printStackTrace();\n        }\n    } else {\n        throw new RuntimeException(&quot;Response &quot; + responseCode + &quot; from URL : &quot; + url);\n    }\n\n}\n\nprivate static String evaluateStr(Document document, XPathExpression xPathExpression){\n    String str = null;\n    try {\n        str = (String) xPathExpression.evaluate(document, XPathConstants.STRING);\n    } catch (XPathExpressionException e) {\n        e.printStackTrace();\n    }\n    return str;\n}\n\nprivate static HttpURLConnection connect(String urlStr) {\n    HttpURLConnection httpConnection = null;\n    URL url = null;\n    try {\n        url = new URL(urlStr);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n    try {\n        httpConnection = (HttpURLConnection) url.openConnection();\n        httpConnection.connect();\n        return httpConnection;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return httpConnection;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Error trace</strong></p>\n<pre><code>[Fatal Error] :5:218: The reference to entity &quot;l&quot; must end with the ';' delimiter.\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 218; The reference to entity &quot;l&quot; must end with the ';' delimiter.\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:261)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n    at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\n</code></pre>\n"},{"tags":["java","android","android-studio","textview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687452302,"post_id":76533208,"comment_id":134942200,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20891294,"reputation":1,"user_id":15346589,"display_name":"Hassan Amer "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687445794,"creation_date":1687445794,"question_id":76533208,"body_markdown":"When I put a TextView, make the top constraint on the parent, and its left and right constraints on two vertical guidelines, and then run the app, the textview disappears\r\n\r\nI tried to restart the app, and restart Android Studio","title":"TextView does not appear when put it between two vertical guidelines in constraintLayout, Android Studio, Java","body":"<p>When I put a TextView, make the top constraint on the parent, and its left and right constraints on two vertical guidelines, and then run the app, the textview disappears</p>\n<p>I tried to restart the app, and restart Android Studio</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687303308,"post_id":76518941,"comment_id":134916958,"body_markdown":"Please ask an actual and specific answerable question. Put some text in the question that gives the details of the code and the problem.","body":"Please ask an actual and specific answerable question. Put some text in the question that gives the details of the code and the problem."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687334504,"post_id":76518941,"comment_id":134920590,"body_markdown":"If you replace `@Parameter(...)` with `@Schema(...)`, does it resolve the issue?","body":"If you replace <code>@Parameter(...)</code> with <code>@Schema(...)</code>, does it resolve the issue?"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687363312,"post_id":76518941,"comment_id":134927385,"body_markdown":"And no, unfortunately although I tried @Schema(description = &quot;my first attribute&quot;, required = true) it still did not mark the RequestBody field &quot;attribute1&quot; as &quot;required&quot;.","body":"And no, unfortunately although I tried @Schema(description = &quot;my first attribute&quot;, required = true) it still did not mark the RequestBody field &quot;attribute1&quot; as &quot;required&quot;."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687450335,"post_id":76518941,"comment_id":134941860,"body_markdown":"@Helen - I accidentally entered this question (due to misunderstanding how to use the SO UI) without details and SO moderators deleted my &quot;real&quot; question.  I have updated this one now - and attempted your suggestion with &quot;Schema&quot; - which didn&#39;t work, unfortunately.  Do you have any other suggestions for me?  Thanks!","body":"@Helen - I accidentally entered this question (due to misunderstanding how to use the SO UI) without details and SO moderators deleted my &quot;real&quot; question.  I have updated this one now - and attempted your suggestion with &quot;Schema&quot; - which didn&#39;t work, unfortunately.  Do you have any other suggestions for me?  Thanks!"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687468992,"post_id":76518941,"comment_id":134945329,"body_markdown":"You wrote _&#39;Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.&#39;_ If you switch to the &quot;Schema&quot; tab in the &quot;Request body&quot; section, does the info there indicate the required properties? I&#39;m asking because the required field are only indicated in the &quot;Schema&quot; view and not in the &quot;Example Value&quot; view - see https://i.stack.imgur.com/gxlsY.png","body":"You wrote <i>&#39;Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.&#39;</i> If you switch to the &quot;Schema&quot; tab in the &quot;Request body&quot; section, does the info there indicate the required properties? I&#39;m asking because the required field are only indicated in the &quot;Schema&quot; view and not in the &quot;Example Value&quot; view - see <a href=\"https://i.stack.imgur.com/gxlsY.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gxlsY.png</a>"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687469169,"post_id":76518941,"comment_id":134945371,"body_markdown":"I&#39;m not super familiar with Swagger and have only ever used annotations in Java code.  I&#39;m guessing that the &quot;Schema&quot; tab you mention is in some tool that is associated with Swagger in some way?  If so - we don&#39;t have that in our apps/services.","body":"I&#39;m not super familiar with Swagger and have only ever used annotations in Java code.  I&#39;m guessing that the &quot;Schema&quot; tab you mention is in some tool that is associated with Swagger in some way?  If so - we don&#39;t have that in our apps/services."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687470078,"post_id":76518941,"comment_id":134945512,"body_markdown":"If this is something that is generated by Swagger and available somewhere in a project, I&#39;d be grateful for a hint on where to look for it.  Thanks!","body":"If this is something that is generated by Swagger and available somewhere in a project, I&#39;d be grateful for a hint on where to look for it.  Thanks!"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687725854,"post_id":76518941,"comment_id":134973115,"body_markdown":"The &quot;Schema&quot; tab is part of the &quot;Request body&quot; section in Swagger UI, check the link to the right of the &quot;Example Value&quot; caption, as indicated on the screenshot: https://i.stack.imgur.com/gxlsY.png. The required properties are marked with `*` there.","body":"The &quot;Schema&quot; tab is part of the &quot;Request body&quot; section in Swagger UI, check the link to the right of the &quot;Example Value&quot; caption, as indicated on the screenshot: <a href=\"https://i.stack.imgur.com/gxlsY.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gxlsY.png</a>. The required properties are marked with <code>*</code> there."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":1,"creation_date":1687795929,"post_id":76518941,"comment_id":134983471,"body_markdown":"Ha!  It was there all along...  So the user has to know that the word &quot;Schema&quot; is a link and that clicking on it will show which fields are required.  I was unaware of that - as are most/all of my API endpoint consumers.  I will find a way to let them know.  Thanks!","body":"Ha!  It was there all along...  So the user has to know that the word &quot;Schema&quot; is a link and that clicking on it will show which fields are required.  I was unaware of that - as are most/all of my API endpoint consumers.  I will find a way to let them know.  Thanks!"},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1687796028,"post_id":76518941,"comment_id":134983492,"body_markdown":"@Helen - if you want to drop a quick &quot;answer&quot; in here, I&#39;ll vote it up.  Thanks for helping me learn this about Swagger UI.","body":"@Helen - if you want to drop a quick &quot;answer&quot; in here, I&#39;ll vote it up.  Thanks for helping me learn this about Swagger UI."}],"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":683,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1687445630,"creation_date":1687302806,"question_id":76518941,"body_markdown":"I have the following DTO which uses the @Parameter annotation to mark the first field as &quot;required&quot;:\r\n\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Schema(description = &quot;My DTO&quot;)\r\n    class VectorFoo {\r\n      // The below attribute is required\r\n      @NotNull\r\n      @Parameter(description = &quot;my first attribute&quot;, required = true)\r\n      private String attribute1;\r\n    \r\n      // The below attribute is optional\r\n      @Parameter(description = &quot;my second attribute&quot;, required  = false)\r\n      private String attribute2;\r\n    \r\n      public String getAttribute1() {\r\n        return attribute1;\r\n      }\r\n    \r\n      public void setAttribute1(String attribute1) {\r\n        this.attribute1 = attribute1;\r\n      }\r\n    \r\n      public String getAttribute2() {\r\n        return attribute2;\r\n      }\r\n    \r\n      public void setAttribute2(String attribute2) {\r\n        this.attribute2 = attribute2;\r\n      }\r\n    }\r\n\r\nAnd the following REST Endpoint code:\r\n\r\n      @PostMapping(&quot;/fstVector&quot;)\r\n      public ResponseEntity&lt;VectorFoo&gt; fstVPost(\r\n          // RequestBody objects are &quot;required&quot; by default. To make them optional, add &quot;(required = false)&quot;\r\n          @org.springframework.web.bind.annotation.RequestBody   // Spring\r\n          @io.swagger.v3.oas.annotations.parameters.RequestBody  // Swagger\r\n          @Valid // Bean validation to ensure if the incoming object is valid\r\n          final VectorFoo v1\r\n      ) {\r\n        return new ResponseEntity&lt;&gt;(v1, HttpStatus.OK);\r\n      }\r\n\r\nWhich produces the following Swagger UI. Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI understand from this StackOverflow post that this should have worked to show &quot;required&quot; in the Swagger UI for the Request Body example (see final answer with Swagger UI Screenshots): [Post about Swagger UI and &quot;required&quot; fields in RequestBody][2]\r\n\r\nCan anyone help me understand how I can get Swagger to show the required fields that have been marked as &quot;required&quot; (on the DTO with the @Parameter annotation) in the Request Body documentation on the Swagger UI?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yhbuy.png\r\n  [2]: https://stackoverflow.com/questions/64732175/how-to-annotate-to-require-individual-elements-of-requestbody-in-springdoc","title":"How to get Swagger UI to show required fields from DTO for POST RequestBody","body":"<p>I have the following DTO which uses the @Parameter annotation to mark the first field as &quot;required&quot;:</p>\n<pre><code>import io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\nimport javax.validation.constraints.NotNull;\n\n@Schema(description = &quot;My DTO&quot;)\nclass VectorFoo {\n  // The below attribute is required\n  @NotNull\n  @Parameter(description = &quot;my first attribute&quot;, required = true)\n  private String attribute1;\n\n  // The below attribute is optional\n  @Parameter(description = &quot;my second attribute&quot;, required  = false)\n  private String attribute2;\n\n  public String getAttribute1() {\n    return attribute1;\n  }\n\n  public void setAttribute1(String attribute1) {\n    this.attribute1 = attribute1;\n  }\n\n  public String getAttribute2() {\n    return attribute2;\n  }\n\n  public void setAttribute2(String attribute2) {\n    this.attribute2 = attribute2;\n  }\n}\n</code></pre>\n<p>And the following REST Endpoint code:</p>\n<pre><code>  @PostMapping(&quot;/fstVector&quot;)\n  public ResponseEntity&lt;VectorFoo&gt; fstVPost(\n      // RequestBody objects are &quot;required&quot; by default. To make them optional, add &quot;(required = false)&quot;\n      @org.springframework.web.bind.annotation.RequestBody   // Spring\n      @io.swagger.v3.oas.annotations.parameters.RequestBody  // Swagger\n      @Valid // Bean validation to ensure if the incoming object is valid\n      final VectorFoo v1\n  ) {\n    return new ResponseEntity&lt;&gt;(v1, HttpStatus.OK);\n  }\n</code></pre>\n<p>Which produces the following Swagger UI. Note the lack of &quot;required&quot; notation on on any of the fields the Request Body section.</p>\n<p><a href=\"https://i.stack.imgur.com/yhbuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhbuy.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand from this StackOverflow post that this should have worked to show &quot;required&quot; in the Swagger UI for the Request Body example (see final answer with Swagger UI Screenshots): <a href=\"https://stackoverflow.com/questions/64732175/how-to-annotate-to-require-individual-elements-of-requestbody-in-springdoc\">Post about Swagger UI and &quot;required&quot; fields in RequestBody</a></p>\n<p>Can anyone help me understand how I can get Swagger to show the required fields that have been marked as &quot;required&quot; (on the DTO with the @Parameter annotation) in the Request Body documentation on the Swagger UI?</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":13409689,"reputation":1,"user_id":9676633,"display_name":"bgolab7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687445390,"creation_date":1687445390,"answer_id":76533150,"question_id":74452776,"body_markdown":"In camel 3.2 Main class that supports ApplicationContext was moved to `camel-spring-main`.\r\n\r\nLook here: https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring","title":"upgrading Apache Camel 2 to 3, where did Main.setApplicationContextUri() method go?","body":"<p>In camel 3.2 Main class that supports ApplicationContext was moved to <code>camel-spring-main</code>.</p>\n<p>Look here: <a href=\"https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/camel-3x-upgrade-guide-3_2.html#_main_in_camel_spring</a></p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687445390,"creation_date":1668550271,"question_id":74452776,"body_markdown":"I have an old codebase that uses camel 2.something. We have to upgrade to camel 3.14 for Nexus-flagged security issues. I&#39;m going through the [Upgrade Camel 2 to 3 docs][1]. I see that Main moved packages, which I did, but now I&#39;m getting an error that Main.setApplicationContextUri(&quot;camel-context.xml&quot;) is no longer a method on Main. I can&#39;t find it, nor a replacement in the upgrade docs.  \r\n\r\nWhat am I missing?\r\n\r\nAlso, if there&#39;s a way to do a simple camel config via beans and annotations instead of xml, I&#39;d love a pointer to that. I&#39;m also running into an issue parsing the camel-context.xml, so if I can get rid of that whole mess, I&#39;d love to.  \r\n  \r\nWe are using Java 8 so I think the latest that works with that is Camel 3.14.6 so that&#39;s what I&#39;m trying.  \r\n\r\nHere&#39;s our camel-context.xml:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n\txmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:http=&quot;http://cxf.apache.org/transports/http/configuration&quot;\r\n\txmlns:sec=&quot;http://cxf.apache.org/configuration/security&quot; xmlns:camel=&quot;http://camel.apache.org/schema/spring&quot;\r\n\txsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n      http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\r\n      http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd\r\n      http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd\r\n      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\r\n      http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\r\n    &quot;&gt;\r\n\r\n\t&lt;!-- ================================== --&gt;\r\n\t&lt;!-- Define camel context --&gt;\r\n\t&lt;!-- ================================== --&gt;\r\n\t&lt;camel:camelContext id=&quot;camel&quot; trace=&quot;false&quot;&gt;\r\n\t\t&lt;camel:propertyPlaceholder id=&quot;queriesConfig&quot; location=&quot;lib/queries.properties&quot; /&gt;\r\n\t\t&lt;!-- Location for route scan --&gt;\r\n\t\t&lt;camel:package&gt;com.blah.listener&lt;/camel:package&gt;\r\n\t&lt;/camel:camelContext&gt;\r\n\r\n\t&lt;!-- configure the Camel SQL component to use the JDBC data source --&gt;\r\n\t&lt;bean id=&quot;sqlComponent&quot; class=&quot;org.apache.camel.component.sql.SqlComponent&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;bean1&quot; class=&quot;com.foo.OurThing&quot; /&gt;\r\n\t&lt;bean id=&quot;bean2&quot; class=&quot;com.bar.OtherThing&quot; /&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nEdit: Just found [this][2]. Are we supposed to convert camel-context.xml to application.properties? We also have an app-context.xml for basic Spring configuration, and there&#39;s a reference to the camel-context.xml there. I wonder if we replace camel-context.xml with application.properties, what to do with this reference? Just remove it, or change it?\r\n\r\n\r\n  [1]: https://camel.apache.org/manual/camel-3-migration-guide.html\r\n  [2]: https://camel.apache.org/components/3.14.x/others/main.html#_camel_main_configurations","title":"upgrading Apache Camel 2 to 3, where did Main.setApplicationContextUri() method go?","body":"<p>I have an old codebase that uses camel 2.something. We have to upgrade to camel 3.14 for Nexus-flagged security issues. I'm going through the <a href=\"https://camel.apache.org/manual/camel-3-migration-guide.html\" rel=\"nofollow noreferrer\">Upgrade Camel 2 to 3 docs</a>. I see that Main moved packages, which I did, but now I'm getting an error that Main.setApplicationContextUri(&quot;camel-context.xml&quot;) is no longer a method on Main. I can't find it, nor a replacement in the upgrade docs.</p>\n<p>What am I missing?</p>\n<p>Also, if there's a way to do a simple camel config via beans and annotations instead of xml, I'd love a pointer to that. I'm also running into an issue parsing the camel-context.xml, so if I can get rid of that whole mess, I'd love to.</p>\n<p>We are using Java 8 so I think the latest that works with that is Camel 3.14.6 so that's what I'm trying.</p>\n<p>Here's our camel-context.xml:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\nxmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\nxmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:http=&quot;http://cxf.apache.org/transports/http/configuration&quot;\nxmlns:sec=&quot;http://cxf.apache.org/configuration/security&quot; xmlns:camel=&quot;http://camel.apache.org/schema/spring&quot;\nxsi:schemaLocation=&quot;\n  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n  http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n  http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\n  http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd\n  http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd\n  http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\n  http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\n&quot;&gt;\n\n&lt;!-- ================================== --&gt;\n&lt;!-- Define camel context --&gt;\n&lt;!-- ================================== --&gt;\n&lt;camel:camelContext id=&quot;camel&quot; trace=&quot;false&quot;&gt;\n    &lt;camel:propertyPlaceholder id=&quot;queriesConfig&quot; location=&quot;lib/queries.properties&quot; /&gt;\n    &lt;!-- Location for route scan --&gt;\n    &lt;camel:package&gt;com.blah.listener&lt;/camel:package&gt;\n&lt;/camel:camelContext&gt;\n\n&lt;!-- configure the Camel SQL component to use the JDBC data source --&gt;\n&lt;bean id=&quot;sqlComponent&quot; class=&quot;org.apache.camel.component.sql.SqlComponent&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;bean1&quot; class=&quot;com.foo.OurThing&quot; /&gt;\n&lt;bean id=&quot;bean2&quot; class=&quot;com.bar.OtherThing&quot; /&gt;\n</code></pre>\n\n<p>Edit: Just found <a href=\"https://camel.apache.org/components/3.14.x/others/main.html#_camel_main_configurations\" rel=\"nofollow noreferrer\">this</a>. Are we supposed to convert camel-context.xml to application.properties? We also have an app-context.xml for basic Spring configuration, and there's a reference to the camel-context.xml there. I wonder if we replace camel-context.xml with application.properties, what to do with this reference? Just remove it, or change it?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679064088,"post_id":75768657,"comment_id":133658910,"body_markdown":"Thank you so much for your help: I&#39;ve tried, but unfortunately this doesn&#39;t change the error.","body":"Thank you so much for your help: I&#39;ve tried, but unfortunately this doesn&#39;t change the error."},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679242473,"post_id":75768657,"comment_id":133682249,"body_markdown":"Just want to say that, despite it wasn&#39;t the correct answer, you really gave me a useful hint. Someway, the Beans inside my application contexts where loaded in different order between Java 7 and 8, so yes, there was something more strict in Java 8. I had to explicit a &quot;depends-on&quot; attribute. Thank you so much.","body":"Just want to say that, despite it wasn&#39;t the correct answer, you really gave me a useful hint. Someway, the Beans inside my application contexts where loaded in different order between Java 7 and 8, so yes, there was something more strict in Java 8. I had to explicit a &quot;depends-on&quot; attribute. Thank you so much."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679062521,"creation_date":1679062521,"answer_id":75768657,"question_id":75768073,"body_markdown":"The `SessionlessAuthenticationMgr` (scope=&quot;singleton&quot;) has a parent `AuthenticationMgr` (scope=&quot;session&quot;).\r\n\r\nI suspect that the scope of `AuthenticationMgr` should also be `singleton` and not `session`.\r\n\r\nPerhaps older jdk was less strict about this?","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>The <code>SessionlessAuthenticationMgr</code> (scope=&quot;singleton&quot;) has a parent <code>AuthenticationMgr</code> (scope=&quot;session&quot;).</p>\n<p>I suspect that the scope of <code>AuthenticationMgr</code> should also be <code>singleton</code> and not <code>session</code>.</p>\n<p>Perhaps older jdk was less strict about this?</p>\n"},{"comments":[{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679065187,"post_id":75768727,"comment_id":133659245,"body_markdown":"Thank you so much for your answer. Basically, the sessionless is used for autenthication (towards FileNet) with superuser, at the startup of the server. The &quot;non sessionless&quot; is used for managing the sessions of users via navigation on the web app. Consider that it always worked with Java 7.","body":"Thank you so much for your answer. Basically, the sessionless is used for autenthication (towards FileNet) with superuser, at the startup of the server. The &quot;non sessionless&quot; is used for managing the sessions of users via navigation on the web app. Consider that it always worked with Java 7."},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679065799,"post_id":75768727,"comment_id":133659478,"body_markdown":"Have you tried to use Java 8 with 3.1 jars? Or Java 7 with 3.2 jars?","body":"Have you tried to use Java 8 with 3.1 jars? Or Java 7 with 3.2 jars?"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679065998,"post_id":75768727,"comment_id":133659536,"body_markdown":"I&#39;ve just tried:\n- Server Java 7 + app Java 7 + libs 3.1 (working)\n\n- Server Java 8 + app Java 7 + libs 3.1 (not working)\n\n- Server Java 8 + app Java 8 + libs 3.1 (not working)\n\n- Server Java 8 + app Java 8 + libs 3.2 (not working)","body":"I&#39;ve just tried: - Server Java 7 + app Java 7 + libs 3.1 (working)  - Server Java 8 + app Java 7 + libs 3.1 (not working)  - Server Java 8 + app Java 8 + libs 3.1 (not working)  - Server Java 8 + app Java 8 + libs 3.2 (not working)"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679066391,"post_id":75768727,"comment_id":133659656,"body_markdown":"Same error everywhere? Server Java 8 + app Java 7/8 + libs 3.1 fails with the same error we are getting somewhere, it means 100% that Java version bump break something","body":"Same error everywhere? Server Java 8 + app Java 7/8 + libs 3.1 fails with the same error we are getting somewhere, it means 100% that Java version bump break something"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679066828,"post_id":75768727,"comment_id":133659776,"body_markdown":"Exactly. Always the the same NullPointer when trying to instantiate the authenticationMgr.","body":"Exactly. Always the the same NullPointer when trying to instantiate the authenticationMgr."},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679067045,"post_id":75768727,"comment_id":133659845,"body_markdown":"Okay, just to clarify. What is null on line 84? _authenticationMgr_ or _loginInfo_ object? And try please Java 7 + Java 7 + libs 3.2 to ensure that libs are ok","body":"Okay, just to clarify. What is null on line 84? <i>authenticationMgr</i> or <i>loginInfo</i> object? And try please Java 7 + Java 7 + libs 3.2 to ensure that libs are ok"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679067214,"post_id":75768727,"comment_id":133659885,"body_markdown":"Yes, it&#39;s the authenticationMgr. It fails the BeanFactory.getBean() and it returns null. Thank you so much for your effort in helping me.","body":"Yes, it&#39;s the authenticationMgr. It fails the BeanFactory.getBean() and it returns null. Thank you so much for your effort in helping me."},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679067527,"post_id":75768727,"comment_id":133659995,"body_markdown":"(I&#39;ve added more info to my question)","body":"(I&#39;ve added more info to my question)"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679069280,"post_id":75768727,"comment_id":133660449,"body_markdown":"So line *SpringApplicationContext.getBean(beanName)* returns null. When app is working correctly, bean is received through line *context.getBean(beanName);* or through another one?","body":"So line <i>SpringApplicationContext.getBean(beanName)</i> returns null. When app is working correctly, bean is received through line <i>context.getBean(beanName);</i> or through another one?"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679071060,"post_id":75768727,"comment_id":133660948,"body_markdown":"I confim. I also added the SpringApplicationContext.","body":"I confim. I also added the SpringApplicationContext."},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679072751,"post_id":75768727,"comment_id":133661382,"body_markdown":"Now we are getting somewhere. Jeez, what a mess, haha. Seems like context isn&#39;t saved to CONTEXT variable. Is method setApplicationContext called? First stupid idea is to try to create listener for ContextStartedEvent, set context manually and see what will happen","body":"Now we are getting somewhere. Jeez, what a mess, haha. Seems like context isn&#39;t saved to CONTEXT variable. Is method setApplicationContext called? First stupid idea is to try to create listener for ContextStartedEvent, set context manually and see what will happen"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1679073014,"post_id":75768727,"comment_id":133661440,"body_markdown":"In fact. Looks like setApplicationContext is not call as soon as the server starts up. :( that&#39;s the difference between the two Java versions&#39; behaviour on server.","body":"In fact. Looks like setApplicationContext is not call as soon as the server starts up. :( that&#39;s the difference between the two Java versions&#39; behaviour on server."},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679079038,"post_id":75768727,"comment_id":133662819,"body_markdown":"It would be interesting to dig up why it stopped calling. Maybe some changes in reflection API? Anyway, it will takes too long, so I suggest to you to write listeners in xml config and see what will be changed. Good luck!","body":"It would be interesting to dig up why it stopped calling. Maybe some changes in reflection API? Anyway, it will takes too long, so I suggest to you to write listeners in xml config and see what will be changed. Good luck!"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679062909,"creation_date":1679062909,"answer_id":75768727,"question_id":75768073,"body_markdown":"My guess is that problem lays in *AuthenticationMgr* scope session. You&#39;ve updated Spring version from 3.1 to 3.2. Spring 3.2.0 [release notes][1] says that:\r\n\r\n&gt; child bean definition&#39;s scope attribute can be inherited from parent bean definition now\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/changelog.txt\r\n\r\n\r\nYour *SessionlessAuthenticationMgr* parent is  *AuthenticationMgr* with session scope. It still doesn&#39;t answer the question why getBean returns null, but you definitely should check what is going on here","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>My guess is that problem lays in <em>AuthenticationMgr</em> scope session. You've updated Spring version from 3.1 to 3.2. Spring 3.2.0 <a href=\"https://docs.spring.io/spring-framework/docs/3.2.0.RELEASE/changelog.txt\" rel=\"nofollow noreferrer\">release notes</a> says that:</p>\n<blockquote>\n<p>child bean definition's scope attribute can be inherited from parent bean definition now</p>\n</blockquote>\n<p>Your <em>SessionlessAuthenticationMgr</em> parent is  <em>AuthenticationMgr</em> with session scope. It still doesn't answer the question why getBean returns null, but you definitely should check what is going on here</p>\n"},{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687445291,"creation_date":1679246482,"answer_id":75783740,"question_id":75768073,"body_markdown":"I have been able to solve my issue. Basically, my application has a lot of Spring context files:\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n    \t\t/WEB-INF/spring/applicationContext*.xml\r\n    \t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\nThe `DataDictionaryService`, which wasn&#39;t starting, was defined - in one of those - this way (as I told in the question):\r\n\r\n    &lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis depends on `SpringApplicationContext` (for initializing the context), and it is defined (in another xml) like this:\r\n\r\n    &lt;bean id=&quot;SpringApplicationContext&quot; class=&quot;it.reply.bean.SpringApplicationContext&quot; scope=&quot;singleton&quot;/&gt;\r\n\r\nFor some reasons, when on Java 7, `SpringApplicationContext` was started at first. On Java 8, this does not happen. Almost for sure, the Spring classloader has a different logic among different JREs, regarding implicit Beans&#39; taxonomy.\r\n\r\nI solved by specifing the `depends-on` attribute:\r\n\r\n\t&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot; depends-on=&quot;SpringApplicationContext&quot;&gt;\r\n\t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI&#39;ve also been able to keep the version 3.1.x of Spring.\r\n\r\nMany thanks to the people who tried to help me out!","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>I have been able to solve my issue. Basically, my application has a lot of Spring context files:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/spring/applicationContext*.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>The <code>DataDictionaryService</code>, which wasn't starting, was defined - in one of those - this way (as I told in the question):</p>\n<pre><code>&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>This depends on <code>SpringApplicationContext</code> (for initializing the context), and it is defined (in another xml) like this:</p>\n<pre><code>&lt;bean id=&quot;SpringApplicationContext&quot; class=&quot;it.reply.bean.SpringApplicationContext&quot; scope=&quot;singleton&quot;/&gt;\n</code></pre>\n<p>For some reasons, when on Java 7, <code>SpringApplicationContext</code> was started at first. On Java 8, this does not happen. Almost for sure, the Spring classloader has a different logic among different JREs, regarding implicit Beans' taxonomy.</p>\n<p>I solved by specifing the <code>depends-on</code> attribute:</p>\n<pre><code>&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot; depends-on=&quot;SpringApplicationContext&quot;&gt;\n    &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I've also been able to keep the version 3.1.x of Spring.</p>\n<p>Many thanks to the people who tried to help me out!</p>\n"}],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783740,"answer_count":3,"score":1,"last_activity_date":1687445291,"creation_date":1679059255,"question_id":75768073,"body_markdown":"I am facing a project upgrade, and I&#39;m struggling with a problem from many days. I really hope that some Spring expert can help.\r\nBasically, this project is a Java application using Spring and ZK, deploied on Websphere.\r\nThe project was compiled with Java 7 running on Websphere with Java 7, now it have to be Java 8 to Java 8.\r\n\r\nMy problem happens at server startup:\r\n\r\n    [3/17/23 14:07:16:223 CET] 00000094 SystemOut     O [Default : 0] 14:07:16.222 | ERROR (Logger.java:37) - getSession error\r\n    java.lang.NullPointerException\r\n    \tat it.reply.filenet.services.SuperUserService.getSession(SuperUserService.java:84)\r\n    \tat it.reply.filenet.services.DataDictionaryService.init(DataDictionaryService.java:212)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1640)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1581)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1511)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:384)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1734)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:415)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n    \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:171)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:904)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:789)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:427)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:719)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1211)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1390)\r\n    \tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:979)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\r\n    \tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5554)\r\n    \tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5680)\r\n    \tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\r\n    \tat sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:508)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\r\n    \tat javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:664)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:91)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\r\n    \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1096)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:831)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:813)\r\n    \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1350)\r\n    \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1243)\r\n    \tat com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\r\n    \tat com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:360)\r\n    \tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:602)\r\n    \tat com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1833)\r\n    \tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n    \tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    \tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    \tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    \tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    \tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    \tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)\r\n\r\nThe `SuperUserService` is this, and it fails because `authenticationMgr` is null (note that when &quot;Java 7 to 7&quot; worked):\r\n\r\n        @Override\r\n        public Object getSession() {\r\n        \tif (session != null) return session;\r\n        \r\n        \ttry {\r\n        \t\tITrustedLoginManager trustedLoginManager = new TrustedLoginManager(loginFile);\r\n        \t\tLoginInfo loginInfo = trustedLoginManager.getLoginInfo();\r\n        \r\n        \t\tif (authenticationMgr == null) {\r\n        \t\t\tauthenticationMgr = (IAuthenticationMgr) BeanFactory.getBean(&quot;SessionlessAuthenticationMgr&quot;);\r\n        \t\t}\r\n        \r\n        \t\tsession = (ObjectStore) authenticationMgr.generateSession(loginInfo.getUser(), loginInfo.getPassword(),\r\n        \t\t\t\tloginInfo.getRepository()); //LINE 84\r\n        \t} catch (Exception e) {\r\n        \t\tBeanFactory.getLogger().error(this, &quot;getSession error&quot;, e);\r\n        \t}\r\n        \treturn session;\r\n        }\r\n\r\nThe BeanFactory.getBean(), which returns null:\r\n    \r\n    \tpublic static Object getBean(String beanName) {\r\n    \t\tObject bean = null;\r\n    \t\ttry {\r\n    \t\t\tbean = SpringUtil.getBean(beanName);\r\n    \t\t} catch (org.zkoss.zk.ui.UiException e) {\r\n    \t\t\tWebApplicationContext context = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes())\r\n    \t\t\t\t\t\t.getRequest();\r\n    \t\t\t\tcontext = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext());\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// ignore, returns null\r\n    \t\t\t\t// Logger.getRootLogger().debug(&quot;Eccezione ignorata - getBean: &quot; + beanName);\r\n    \t\t\t}\r\n    \t\t\tif (context != null) {\r\n    \t\t\t\tbean = context.getBean(beanName);\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tbean = SpringApplicationContext.getBean(beanName); //&lt;-- RETURNS NULL HERE, BECAUSE THERE&#39;S NO CONTEXT\r\n    \t\t\t\t} catch (BeanCreationException ex) {\r\n    \t\t\t\t\t\tLogger.getRootLogger().warn(beanName\r\n    \t\t\t\t\t\t\t\t+ &quot; - E&#39; richiesta la creazione del bean in un contesto non valido. Nota: &#232; possibile che il chiamante ignori l&#39;errore&quot;,\r\n    \t\t\t\t\t\t\t\tex);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tLogger.getRootLogger()\r\n    \t\t\t\t\t\t\t\t.warn(&quot;Problema in creazione del bean spring tramite SpringApplicationContext&quot;, ex);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} catch (Throwable t) {\r\n    \t\t\t\t\tLogger.getRootLogger().warn(\r\n    \t\t\t\t\t\t\t&quot;Eccezione non gestita in creazione del bean spring tramite SpringApplicationContext&quot;, t);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n    \t\treturn bean;\r\n    \t}\r\n\r\nThe SpringApplicationContext:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    \r\n    /**\r\n     * Wrapper to always return a reference to the Spring Application Context from within non-Spring enabled beans. Unlike\r\n     * Spring MVC&#39;s WebApplicationContextUtils we do not need a reference to the Servlet context for this. All we need is\r\n     * for this bean to be initialized during application startup.\r\n     */\r\n    public class SpringApplicationContext implements ApplicationContextAware {\r\n    \r\n    \tprivate static ApplicationContext CONTEXT;\r\n    \r\n    \t/**\r\n    \t * This method is called from within the ApplicationContext once it is done starting up, it will stick a reference\r\n    \t * to itself into this bean.\r\n    \t *\r\n    \t * @param context\r\n    \t *            a reference to the ApplicationContext.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void setApplicationContext(ApplicationContext context) throws BeansException {\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;_____________________________ SpringApplicationContext - calling setApplicationContext _____________________________&quot;);\r\n    \t\tif (Logger.getRootLogger().isDebugEnabled()) Logger.getRootLogger()\r\n    \t\t\t\t.debug(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\r\n    \t\tSystem.out.println(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\r\n    \t\tCONTEXT = context;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This is about the same as context.getBean(&quot;beanName&quot;), except it has its own static handle to the Spring context,\r\n    \t * so calling this method statically will give access to the beans by name in the Spring application context. As in\r\n    \t * the context.getBean(&quot;beanName&quot;) call, the caller must cast to the appropriate target class. If the bean does not\r\n    \t * exist, then a Runtime error will be thrown.\r\n    \t *\r\n    \t * @param beanName\r\n    \t *            the name of the bean to get.\r\n    \t * @return an Object reference to the named bean.\r\n    \t */\r\n    \tpublic static Object getBean(String beanName) {\r\n    \t\tif (CONTEXT != null) {\r\n    \t\t\t//System.out.println(&quot;start getBean Spring di &quot; + beanName);\r\n    \t\t\treturn CONTEXT.getBean(beanName);\r\n    \t\t} else {\r\n    \t\t\t//System.out.println(&quot;No CONTEXT defined in SpringApplicationContext&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nWhen entering the `getBean()`, `CONTEXT` is null, because `setApplicationContext()` is never launched!\r\n\r\nThe project was compiled with some very old jars:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, I have updated them with the 3.2.16 version (I read in some other thread that it&#39;s the minimum version for Java 8):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUnfortunately, the problem is the same.\r\n\r\nSome other info.\r\nPart of my applicationContext (note that `GlobalCacheService` and `GlobalPropertiesService` are instantiated, with both versions of Spring):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;\r\n                http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n                http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n                http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd\r\n                http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;GlobalCacheService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalCacheService&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;ObjectsAttrsDef&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.entities.ObjectsAttrsDef&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;ObjectActionService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.client.services.actions.ObjectActionService&quot;/&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;GlobalPropertiesService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalPropertiesService&quot; init-method=&quot;init&quot; &gt;\r\n    \t\t&lt;property name=&quot;propertiesFiles&quot; value=&quot;${geno.global.properties}&quot; /&gt;\r\n    \t&lt;/bean&gt;\t\r\n    \r\n     \t&lt;bean id=&quot;SessionlessAuthenticationMgr&quot; scope=&quot;singleton&quot; parent=&quot;AuthenticationMgr&quot; &gt;\r\n      \t\t&lt;property name=&quot;sessionless&quot; value=&quot;true&quot;/&gt;\r\n     \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;AuthenticationMgr&quot; scope=&quot;session&quot; class=&quot;it.reply.client.filenet.authentication.ClientAuthenticationMgr&quot; init-method=&quot;init&quot; &gt;\r\n    \t\t&lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;userService&quot; ref=&quot;UserService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;objectStoreName&quot; value=&quot;${login.objectStore.name}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;objectStoreUri&quot; value=&quot;${login.objectStore.uri}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;contentEngineTransport&quot; value=&quot;${login.objectStore.transport}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nEven the `init()` of `AuthenticationMgr` is called and it ends propertly, wih both versions of Spring, because I can log it.\r\n\r\nI know that the problem is complex and my question could lack of some information, but please, if you need some other info about my project, an help would be extremely appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/YNfFu.png\r\n  [2]: https://i.stack.imgur.com/b70rY.png\r\n","title":"Cannot instantiating a bean with a newer version of Java","body":"<p>I am facing a project upgrade, and I'm struggling with a problem from many days. I really hope that some Spring expert can help.\nBasically, this project is a Java application using Spring and ZK, deploied on Websphere.\nThe project was compiled with Java 7 running on Websphere with Java 7, now it have to be Java 8 to Java 8.</p>\n<p>My problem happens at server startup:</p>\n<pre><code>[3/17/23 14:07:16:223 CET] 00000094 SystemOut     O [Default : 0] 14:07:16.222 | ERROR (Logger.java:37) - getSession error\njava.lang.NullPointerException\n    at it.reply.filenet.services.SuperUserService.getSession(SuperUserService.java:84)\n    at it.reply.filenet.services.DataDictionaryService.init(DataDictionaryService.java:212)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1640)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1581)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1511)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:384)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1734)\n    at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:415)\n    at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n    at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:171)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:904)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:789)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:427)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:719)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1211)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1390)\n    at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:979)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:795)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMgrImpl.java:1413)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2273)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:436)\n    at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:379)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:127)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:654)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5554)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5680)\n    at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:668)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitMgrImpl.java:612)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:1303)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:83)\n    at sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:287)\n    at javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1263)\n    at java.security.AccessController.doPrivileged(AccessController.java:664)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:91)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1257)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1096)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:831)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:813)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1350)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1243)\n    at com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\n    at com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:360)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:602)\n    at com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1833)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)\n</code></pre>\n<p>The <code>SuperUserService</code> is this, and it fails because <code>authenticationMgr</code> is null (note that when &quot;Java 7 to 7&quot; worked):</p>\n<pre><code>    @Override\n    public Object getSession() {\n        if (session != null) return session;\n    \n        try {\n            ITrustedLoginManager trustedLoginManager = new TrustedLoginManager(loginFile);\n            LoginInfo loginInfo = trustedLoginManager.getLoginInfo();\n    \n            if (authenticationMgr == null) {\n                authenticationMgr = (IAuthenticationMgr) BeanFactory.getBean(&quot;SessionlessAuthenticationMgr&quot;);\n            }\n    \n            session = (ObjectStore) authenticationMgr.generateSession(loginInfo.getUser(), loginInfo.getPassword(),\n                    loginInfo.getRepository()); //LINE 84\n        } catch (Exception e) {\n            BeanFactory.getLogger().error(this, &quot;getSession error&quot;, e);\n        }\n        return session;\n    }\n</code></pre>\n<p>The BeanFactory.getBean(), which returns null:</p>\n<pre><code>    public static Object getBean(String beanName) {\n        Object bean = null;\n        try {\n            bean = SpringUtil.getBean(beanName);\n        } catch (org.zkoss.zk.ui.UiException e) {\n            WebApplicationContext context = null;\n            try {\n                HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes())\n                        .getRequest();\n                context = WebApplicationContextUtils.getWebApplicationContext(request.getSession().getServletContext());\n            } catch (Throwable t) {\n                // ignore, returns null\n                // Logger.getRootLogger().debug(&quot;Eccezione ignorata - getBean: &quot; + beanName);\n            }\n            if (context != null) {\n                bean = context.getBean(beanName);\n            } else {\n                try {\n                    bean = SpringApplicationContext.getBean(beanName); //&lt;-- RETURNS NULL HERE, BECAUSE THERE'S NO CONTEXT\n                } catch (BeanCreationException ex) {\n                        Logger.getRootLogger().warn(beanName\n                                + &quot; - E' richiesta la creazione del bean in un contesto non valido. Nota: è possibile che il chiamante ignori l'errore&quot;,\n                                ex);\n                    } else {\n                        Logger.getRootLogger()\n                                .warn(&quot;Problema in creazione del bean spring tramite SpringApplicationContext&quot;, ex);\n                    }\n                } catch (Throwable t) {\n                    Logger.getRootLogger().warn(\n                            &quot;Eccezione non gestita in creazione del bean spring tramite SpringApplicationContext&quot;, t);\n                }\n            }\n        } catch (Exception e) {\n        }\n        return bean;\n    }\n</code></pre>\n<p>The SpringApplicationContext:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n\n/**\n * Wrapper to always return a reference to the Spring Application Context from within non-Spring enabled beans. Unlike\n * Spring MVC's WebApplicationContextUtils we do not need a reference to the Servlet context for this. All we need is\n * for this bean to be initialized during application startup.\n */\npublic class SpringApplicationContext implements ApplicationContextAware {\n\n    private static ApplicationContext CONTEXT;\n\n    /**\n     * This method is called from within the ApplicationContext once it is done starting up, it will stick a reference\n     * to itself into this bean.\n     *\n     * @param context\n     *            a reference to the ApplicationContext.\n     */\n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException {\n        System.out.println(\n                &quot;_____________________________ SpringApplicationContext - calling setApplicationContext _____________________________&quot;);\n        if (Logger.getRootLogger().isDebugEnabled()) Logger.getRootLogger()\n                .debug(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\n        System.out.println(&quot;SpringApplicationContext - calling setApplicationContext&quot;);\n        CONTEXT = context;\n    }\n\n    /**\n     * This is about the same as context.getBean(&quot;beanName&quot;), except it has its own static handle to the Spring context,\n     * so calling this method statically will give access to the beans by name in the Spring application context. As in\n     * the context.getBean(&quot;beanName&quot;) call, the caller must cast to the appropriate target class. If the bean does not\n     * exist, then a Runtime error will be thrown.\n     *\n     * @param beanName\n     *            the name of the bean to get.\n     * @return an Object reference to the named bean.\n     */\n    public static Object getBean(String beanName) {\n        if (CONTEXT != null) {\n            //System.out.println(&quot;start getBean Spring di &quot; + beanName);\n            return CONTEXT.getBean(beanName);\n        } else {\n            //System.out.println(&quot;No CONTEXT defined in SpringApplicationContext&quot;);\n            return null;\n        }\n    }\n</code></pre>\n<p>When entering the <code>getBean()</code>, <code>CONTEXT</code> is null, because <code>setApplicationContext()</code> is never launched!</p>\n<p>The project was compiled with some very old jars:</p>\n<p><a href=\"https://i.stack.imgur.com/YNfFu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNfFu.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I have updated them with the 3.2.16 version (I read in some other thread that it's the minimum version for Java 8):</p>\n<p><a href=\"https://i.stack.imgur.com/b70rY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b70rY.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, the problem is the same.</p>\n<p>Some other info.\nPart of my applicationContext (note that <code>GlobalCacheService</code> and <code>GlobalPropertiesService</code> are instantiated, with both versions of Spring):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;\n            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\n            http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\n\n    &lt;bean id=&quot;GlobalCacheService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalCacheService&quot; /&gt;\n    \n    &lt;bean id=&quot;ObjectsAttrsDef&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.entities.ObjectsAttrsDef&quot; /&gt;\n    \n    &lt;bean id=&quot;ObjectActionService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.client.services.actions.ObjectActionService&quot;/&gt;\n    \n    &lt;bean id=&quot;GlobalPropertiesService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.services.GlobalPropertiesService&quot; init-method=&quot;init&quot; &gt;\n        &lt;property name=&quot;propertiesFiles&quot; value=&quot;${geno.global.properties}&quot; /&gt;\n    &lt;/bean&gt; \n\n    &lt;bean id=&quot;SessionlessAuthenticationMgr&quot; scope=&quot;singleton&quot; parent=&quot;AuthenticationMgr&quot; &gt;\n        &lt;property name=&quot;sessionless&quot; value=&quot;true&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;DataDictionaryService&quot; scope=&quot;singleton&quot; class=&quot;it.reply.filenet.services.DataDictionaryService&quot; init-method=&quot;init&quot;&gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;AuthenticationMgr&quot; scope=&quot;session&quot; class=&quot;it.reply.client.filenet.authentication.ClientAuthenticationMgr&quot; init-method=&quot;init&quot; &gt;\n        &lt;property name=&quot;globalPropertiesService&quot; ref=&quot;GlobalPropertiesService&quot; /&gt;\n        &lt;property name=&quot;userService&quot; ref=&quot;UserService&quot; /&gt;\n        &lt;property name=&quot;objectStoreName&quot; value=&quot;${login.objectStore.name}&quot; /&gt;\n        &lt;property name=&quot;objectStoreUri&quot; value=&quot;${login.objectStore.uri}&quot; /&gt;\n        &lt;property name=&quot;contentEngineTransport&quot; value=&quot;${login.objectStore.transport}&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Even the <code>init()</code> of <code>AuthenticationMgr</code> is called and it ends propertly, wih both versions of Spring, because I can log it.</p>\n<p>I know that the problem is complex and my question could lack of some information, but please, if you need some other info about my project, an help would be extremely appreciated.</p>\n"},{"tags":["java","android","kotlin","retrofit"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687444810,"post_id":76533050,"comment_id":134940566,"body_markdown":"According to [google](https://google.com?q=android%20emulator%20localhost%20ip), the IP of the local machine from the emulator is 10.0.2.2.","body":"According to <a href=\"https://google.com?q=android%20emulator%20localhost%20ip\" rel=\"nofollow noreferrer\">google</a>, the IP of the local machine from the emulator is 10.0.2.2."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687445489,"post_id":76533050,"comment_id":134940750,"body_markdown":"Yes. And localhost is the emulator itself in this case. Every device is its own localhost/127.0.0.1.","body":"Yes. And localhost is the emulator itself in this case. Every device is its own localhost/127.0.0.1."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687451232,"post_id":76533050,"comment_id":134942038,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/5806220/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/5806220/150978\">stackoverflow.com/q/5806220/150978</a>"}],"owner":{"account_id":25661467,"reputation":1,"user_id":19427149,"display_name":"Selmen Bouazra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687444678,"creation_date":1687444678,"question_id":76533050,"body_markdown":"I was trying to connect to android emulator on localhost and i&#39;m getting the following error\r\n\r\nonFailure: java.net.ConnectException: Failed to connect to /127.0.0.1:3000\r\n\r\nAny help would be greatly appreciated thanks in advance.\r\n\r\n\r\n\r\nHere is the code i&#39;m trying to run\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        call()\r\n    }\r\n\r\n    private fun call() {\r\n\r\n        val retrofit = Retrofit.Builder()\r\n            .baseUrl(&quot;http://127.0.0.1:3000&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n\r\n        val apiService = retrofit.create(ApiService::class.java)\r\n\r\n        val call = apiService.login()\r\n        call.enqueue(object : Callback&lt;String&gt;{\r\n            override fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\r\n                Log.i(&quot;api_test&quot;, &quot;onSuccess: ${response.body()}&quot;)\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\r\n                Log.i(&quot;api_test&quot;, &quot;onFailure: $t&quot;)\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\ninterface ApiService {\r\n    @GET(&quot;test&quot;)\r\n    fun login(): Call&lt;String&gt;\r\n}\r\n```\r\n","title":"connect android emulator to localhost","body":"<p>I was trying to connect to android emulator on localhost and i'm getting the following error</p>\n<p>onFailure: java.net.ConnectException: Failed to connect to /127.0.0.1:3000</p>\n<p>Any help would be greatly appreciated thanks in advance.</p>\n<p>Here is the code i'm trying to run</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        call()\n    }\n\n    private fun call() {\n\n        val retrofit = Retrofit.Builder()\n            .baseUrl(&quot;http://127.0.0.1:3000&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n        val apiService = retrofit.create(ApiService::class.java)\n\n        val call = apiService.login()\n        call.enqueue(object : Callback&lt;String&gt;{\n            override fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\n                Log.i(&quot;api_test&quot;, &quot;onSuccess: ${response.body()}&quot;)\n            }\n\n            override fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\n                Log.i(&quot;api_test&quot;, &quot;onFailure: $t&quot;)\n            }\n\n        })\n\n    }\n}\n</code></pre>\n<pre><code>interface ApiService {\n    @GET(&quot;test&quot;)\n    fun login(): Call&lt;String&gt;\n}\n</code></pre>\n"},{"tags":["java","spring-data-elasticsearch"],"owner":{"account_id":28874243,"reputation":11,"user_id":22115144,"display_name":"Matheus Yudi Matsubara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687444556,"creation_date":1687444556,"question_id":76533033,"body_markdown":"I&#39;m using the spring-boot-starter-data-elasticsearch 2.2.13.RELEASE to fetch data from an external elasticsearch 6.7.2. However I have limited access to this elasticsearch, only allowing me to use the _search for the indexes.\r\n\r\nThat&#39;s my entity:\r\n```\r\n@Document(indexName = &quot;funds_v1&quot;, createIndex = false, type = &quot;doc&quot;)\r\n@Getter\r\n@Setter\r\npublic class Funds {\r\n\r\n    @Id\r\n    private String id;\r\n    private String issuerId;\r\n    private String strategyShortName;\r\n}\r\n```\r\nWhen I call the method findAll() from the repository in the logs it displays that:\r\n**curl -iX POST &#39;https://{host}:443/es/funds_v1/doc/_search?rest_total_hits_as_int=true&amp;typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512&#39; -d &#39;{&quot;size&quot;:0,&quot;query&quot;:{&quot;match_all&quot;:{&quot;boost&quot;:1.0}}}&#39;**\r\n\r\nhowever I don&#39;t want that **/doc** and if I just remove the type from the Annotation @Document it will be replaced to the simple name of the class.","title":"Query without type using spring data elasticsearch","body":"<p>I'm using the spring-boot-starter-data-elasticsearch 2.2.13.RELEASE to fetch data from an external elasticsearch 6.7.2. However I have limited access to this elasticsearch, only allowing me to use the _search for the indexes.</p>\n<p>That's my entity:</p>\n<pre><code>@Document(indexName = &quot;funds_v1&quot;, createIndex = false, type = &quot;doc&quot;)\n@Getter\n@Setter\npublic class Funds {\n\n    @Id\n    private String id;\n    private String issuerId;\n    private String strategyShortName;\n}\n</code></pre>\n<p>When I call the method findAll() from the repository in the logs it displays that:\n<strong>curl -iX POST 'https://{host}:443/es/funds_v1/doc/_search?rest_total_hits_as_int=true&amp;typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512' -d '{&quot;size&quot;:0,&quot;query&quot;:{&quot;match_all&quot;:{&quot;boost&quot;:1.0}}}'</strong></p>\n<p>however I don't want that <strong>/doc</strong> and if I just remove the type from the Annotation @Document it will be replaced to the simple name of the class.</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687443865,"post_id":76532873,"comment_id":134940325,"body_markdown":"Always possible to extract Random object via reflection. Look at `Math.RandomNumberGeneratorHolder.randomNumberGenerator`","body":"Always possible to extract Random object via reflection. Look at <code>Math.RandomNumberGeneratorHolder.randomNumberGenerator</code>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687444371,"post_id":76532873,"comment_id":134940454,"body_markdown":"@gdomo Reflection is not the answer.","body":"@gdomo Reflection is not the answer."},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687445015,"post_id":76532873,"comment_id":134940620,"body_markdown":"@gdomo it&#39;s private in Math.","body":"@gdomo it&#39;s private in Math."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687445182,"post_id":76532873,"comment_id":134940662,"body_markdown":"use `setAccessible(true)` as usual for private fields","body":"use <code>setAccessible(true)</code> as usual for private fields"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687468172,"post_id":76532873,"comment_id":134945181,"body_markdown":"May I ask why you want to do that? Questions such as this are often the result of an [XY problem](https://en.wikipedia.org/wiki/XY_problem)","body":"May I ask why you want to do that? Questions such as this are often the result of an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>"},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687501344,"post_id":76532873,"comment_id":134948370,"body_markdown":"@OldDogProgrammer well, it&#39;s not real work task. Just a part of one contest problem that I&#39;m trying to solve. In other words, the question is it possible to predict next Math.random() value?","body":"@OldDogProgrammer well, it&#39;s not real work task. Just a part of one contest problem that I&#39;m trying to solve. In other words, the question is it possible to predict next Math.random() value?"}],"answers":[{"comments":[{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687444842,"post_id":76533020,"comment_id":134940576,"body_markdown":"I know it. The question is what if I can&#39;t create my own Random object? Let&#39;s say I have such a limitation. I believe I mentioned it in my initial question.","body":"I know it. The question is what if I can&#39;t create my own Random object? Let&#39;s say I have such a limitation. I believe I mentioned it in my initial question."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687444876,"post_id":76533020,"comment_id":134940584,"body_markdown":"Why wouldn&#39;t you be able to create it? If old code is using `Math.random`, refactor it.","body":"Why wouldn&#39;t you be able to create it? If old code is using <code>Math.random</code>, refactor it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687444972,"post_id":76533020,"comment_id":134940608,"body_markdown":"In other words, &quot;Can I&quot; is the wrong question. The right question is &quot;Should I?&quot;, and the answer is &quot;no&quot;.","body":"In other words, &quot;Can I&quot; is the wrong question. The right question is &quot;Should I?&quot;, and the answer is &quot;no&quot;."},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687445475,"post_id":76533020,"comment_id":134940746,"body_markdown":"Let&#39;s say I have a code that pick a random number using Math.random() and I can&#39;t touch the code. I need to guess the number.","body":"Let&#39;s say I have a code that pick a random number using Math.random() and I can&#39;t touch the code. I need to guess the number."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687446144,"post_id":76533020,"comment_id":134940911,"body_markdown":"@chaika_sv Others have already told you it can be done using reflection. I&#39;ve already told you how to do it properly. What more do you want?","body":"@chaika_sv Others have already told you it can be done using reflection. I&#39;ve already told you how to do it properly. What more do you want?"},{"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"score":0,"creation_date":1687446512,"post_id":76533020,"comment_id":134941000,"body_markdown":"Reflection doesn&#39;t work for me. Trying this  https://stackoverflow.com/questions/72982904/how-to-resolve-inaccessibleobjectexception-for-field-setaccessible-in-jdk-17","body":"Reflection doesn&#39;t work for me. Trying this  <a href=\"https://stackoverflow.com/questions/72982904/how-to-resolve-inaccessibleobjectexception-for-field-setaccessible-in-jdk-17\" title=\"how to resolve inaccessibleobjectexception for field setaccessible in jdk 17\">stackoverflow.com/questions/72982904/&hellip;</a>"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687444475,"creation_date":1687444475,"answer_id":76533020,"question_id":76532873,"body_markdown":"`Math.random` is just a shortcut that uses an internal `Random` object. If you need or want control over the seed, just don&#39;t use it, and use a `(Secure)Random` you create yourself. It has the same features as `Math.random`, plus quite a few more.","title":"How to get &quot;default&quot; random object (or seed) in Java?","body":"<p><code>Math.random</code> is just a shortcut that uses an internal <code>Random</code> object. If you need or want control over the seed, just don't use it, and use a <code>(Secure)Random</code> you create yourself. It has the same features as <code>Math.random</code>, plus quite a few more.</p>\n"}],"owner":{"account_id":1338052,"reputation":410,"user_id":1280304,"accept_rate":62,"display_name":"chaika_sv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687444475,"creation_date":1687443534,"question_id":76532873,"body_markdown":"I know that I can create Random object and set seed for the object like this:\r\n\r\n    Random random = new Random();\r\n    random.setSeed(seed);\r\n\r\nBut what if I can&#39;t create Random object? What if I have to use Math.random()?\r\n\r\nI know that Math.random() creates Random object behind the scene.\r\n\r\nSo the question is there any way to get the Random object created by Math.random and set seed for the object or at least get seed that the object is using?\r\n","title":"How to get &quot;default&quot; random object (or seed) in Java?","body":"<p>I know that I can create Random object and set seed for the object like this:</p>\n<pre><code>Random random = new Random();\nrandom.setSeed(seed);\n</code></pre>\n<p>But what if I can't create Random object? What if I have to use Math.random()?</p>\n<p>I know that Math.random() creates Random object behind the scene.</p>\n<p>So the question is there any way to get the Random object created by Math.random and set seed for the object or at least get seed that the object is using?</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","rest-assured"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674204005,"post_id":75179409,"comment_id":132668015,"body_markdown":"Which JUnit extension do you use? Can you show your class header?","body":"Which JUnit extension do you use? Can you show your class header?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199119,"creation_date":1674199119,"answer_id":75180850,"question_id":75179409,"body_markdown":"Your mixing up unit test and integration test config.  \r\n\r\nAnnotations for unit tests look like this:\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyTest {\r\n\r\n    @Mock\r\n    private ServiceA myMock;\r\n\r\n    @Spy\r\n    private ServiceB mySpy;\r\n\r\n    @InjectMocks\r\n    private ServiceC myClassUnderTest;\r\n\r\n    @Test\r\n    void receive() {\r\n         // test logic\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAnnotations for integration tests look like this:\r\n```java\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\nclass MyTest {\r\n\r\n    @MockBean\r\n    private ServiceA myMock;\r\n\r\n    @SpyBean\r\n    private ServiceB mySpy;\r\n\r\n    @Autowired\r\n    private ServiceC myClassUnderTest;\r\n\r\n    @Test\r\n    void receive() {\r\n         // test logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know about your test config because you didn&#39;t post it here, but I suppose you should use `@MockBean` instead of `@Mock` for `PacienteService service`.","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>Your mixing up unit test and integration test config.</p>\n<p>Annotations for unit tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private ServiceA myMock;\n\n    @Spy\n    private ServiceB mySpy;\n\n    @InjectMocks\n    private ServiceC myClassUnderTest;\n\n    @Test\n    void receive() {\n         // test logic\n    }\n\n}\n</code></pre>\n<p>Annotations for integration tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\nclass MyTest {\n\n    @MockBean\n    private ServiceA myMock;\n\n    @SpyBean\n    private ServiceB mySpy;\n\n    @Autowired\n    private ServiceC myClassUnderTest;\n\n    @Test\n    void receive() {\n         // test logic\n    }\n\n}\n</code></pre>\n<p>I don't know about your test config because you didn't post it here, but I suppose you should use <code>@MockBean</code> instead of <code>@Mock</code> for <code>PacienteService service</code>.</p>\n"},{"tags":[],"owner":{"account_id":20252864,"reputation":81,"user_id":14853403,"display_name":"kings"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687443701,"creation_date":1687443701,"answer_id":76532903,"question_id":75179409,"body_markdown":"Your PacieteService&quot;&quot;&quot; should be autowired not mocked. SO...\r\n@Mock\r\n    private PacienteService service;\r\n\r\nShould be *************\r\n\r\n@Autowired\r\n    private PacienteService service;\r\n\r\n\r\n   \r\n","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>Your PacieteService&quot;&quot;&quot; should be autowired not mocked. SO...\n@Mock\nprivate PacienteService service;</p>\n<p>Should be *************</p>\n<p>@Autowired\nprivate PacienteService service;</p>\n"}],"owner":{"account_id":23515844,"reputation":5,"user_id":17563773,"display_name":"Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687443701,"creation_date":1674172294,"question_id":75179409,"body_markdown":"I&#39;m trying test a RestAPI in Java, but I can&#39;t mock my Service class\r\n\r\nWhen start test, it gives me an error: `java.lang.NullPointerException: Cannot invoke &quot;com.tcc.tccbackend.services.PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null`.\r\n\r\nCode:\r\n\r\n    @WebMvcTest(PacienteController.class)\r\n    public class PacienteTest extends BaseTest {\r\n\r\n    @Mock\r\n        private PacienteService service;\r\n    \r\n    @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n    @BeforeEach\r\n        public void setup() {\r\n            RestAssuredMockMvc.mockMvc(mockMvc);\r\n        }\r\n    \r\n    @Test\r\n        @DisplayName(&quot;Retorna sucesso quando busca um paciente &quot;)\r\n        public void t4() {\r\n            Mockito.when(service.findById(9999))\r\n                    .thenReturn(new Paciente(9999, &quot;Gilberson&quot;, &quot;gilber@gmail.com&quot;, &quot;68211836104&quot;, &quot;(67) 99625-5371&quot;, new Date(), List.of()));\r\n            RestAssuredMockMvc\r\n                    .given()\r\n                    .header(&quot;Authorization&quot;, getJWT())\r\n                    .accept(ContentType.JSON)\r\n                    .when()\r\n                    .get(&quot;/pacientes/9999&quot;)\r\n                    .then().statusCode(200);\r\n        }\r\n\r\nBaseTest.class:\r\n\r\n    public class BaseTest {\r\n        public BaseTest(){\r\n            baseURI = &quot;http://localhost&quot;;\r\n            port = 8080;\r\n            basePath = &quot;/api&quot;;\r\n        }\r\n    \r\n        public static String getJWT() {\r\n            return given()\r\n                    .body(&quot;{\\n&quot; + &quot;\\t\\&quot;email\\&quot;: \\&quot;paula@gmail.com\\&quot;,\\n&quot; + &quot;\\t\\&quot;senha\\&quot;: \\&quot;senha\\&quot;\\n&quot; + &quot;}&quot;)\r\n                    .contentType(ContentType.JSON)\r\n                    .when()\r\n                    .post(&quot;/user/login&quot;)\r\n                    .then()\r\n                    .extract()\r\n                    .path(&quot;token&quot;);\r\n        }\r\n    }\r\n\r\nVersions:\r\n\r\n - Java 17\r\n - RestAssured 5.3.0\r\n - SpringBoot 2.7.0\r\n - SpringBoot Starter Test 2.7.0\r\n - Junit 4.13.2","title":"Cannot invoke &quot;PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null","body":"<p>I'm trying test a RestAPI in Java, but I can't mock my Service class</p>\n<p>When start test, it gives me an error: <code>java.lang.NullPointerException: Cannot invoke &quot;com.tcc.tccbackend.services.PacienteService.findById(java.lang.Integer)&quot; because &quot;this.service&quot; is null</code>.</p>\n<p>Code:</p>\n<pre><code>@WebMvcTest(PacienteController.class)\npublic class PacienteTest extends BaseTest {\n\n@Mock\n    private PacienteService service;\n\n@Autowired\n    private MockMvc mockMvc;\n\n@BeforeEach\n    public void setup() {\n        RestAssuredMockMvc.mockMvc(mockMvc);\n    }\n\n@Test\n    @DisplayName(&quot;Retorna sucesso quando busca um paciente &quot;)\n    public void t4() {\n        Mockito.when(service.findById(9999))\n                .thenReturn(new Paciente(9999, &quot;Gilberson&quot;, &quot;gilber@gmail.com&quot;, &quot;68211836104&quot;, &quot;(67) 99625-5371&quot;, new Date(), List.of()));\n        RestAssuredMockMvc\n                .given()\n                .header(&quot;Authorization&quot;, getJWT())\n                .accept(ContentType.JSON)\n                .when()\n                .get(&quot;/pacientes/9999&quot;)\n                .then().statusCode(200);\n    }\n</code></pre>\n<p>BaseTest.class:</p>\n<pre><code>public class BaseTest {\n    public BaseTest(){\n        baseURI = &quot;http://localhost&quot;;\n        port = 8080;\n        basePath = &quot;/api&quot;;\n    }\n\n    public static String getJWT() {\n        return given()\n                .body(&quot;{\\n&quot; + &quot;\\t\\&quot;email\\&quot;: \\&quot;paula@gmail.com\\&quot;,\\n&quot; + &quot;\\t\\&quot;senha\\&quot;: \\&quot;senha\\&quot;\\n&quot; + &quot;}&quot;)\n                .contentType(ContentType.JSON)\n                .when()\n                .post(&quot;/user/login&quot;)\n                .then()\n                .extract()\n                .path(&quot;token&quot;);\n    }\n}\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Java 17</li>\n<li>RestAssured 5.3.0</li>\n<li>SpringBoot 2.7.0</li>\n<li>SpringBoot Starter Test 2.7.0</li>\n<li>Junit 4.13.2</li>\n</ul>\n"},{"tags":["java","javafx","package"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1687447669,"post_id":76532896,"comment_id":134941284,"body_markdown":"Looks like this may be a version mismatch between the javafx.graphics module and the javafx.media modules. Check you are using the same version for all modules. Post your module-info.java (if you have one) and your pom.xml or gradle.build file.","body":"Looks like this may be a version mismatch between the javafx.graphics module and the javafx.media modules. Check you are using the same version for all modules. Post your module-info.java (if you have one) and your pom.xml or gradle.build file."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1687447736,"post_id":76532896,"comment_id":134941303,"body_markdown":"This isn&#39;t the cause of the problem, but the way you are accessing the media file is incorrect. (The `src` folder is not typically available at runtime.) See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","body":"This isn&#39;t the cause of the problem, but the way you are accessing the media file is incorrect. (The <code>src</code> folder is not typically available at runtime.) See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1687453959,"post_id":76532896,"comment_id":134942540,"body_markdown":"JavaFX classes should not be in the unnamed module.  That means you have misconfigured your runtime.  The javafx-media jmod (or Maven artifact jar or JavaFX SDK lib directory) should be on your module path and the javafx.media module should be either added as a module in your VM parameters or required in your application&#39;s module-info.java.  An alternative is to delete your JavaFX SDK and JDK and instead use a JDK that includes JavaFX such as Azul Zulu &quot;JDK FX&quot;, then you don&#39;t need any special module settings to use JavaFX from your app.","body":"JavaFX classes should not be in the unnamed module.  That means you have misconfigured your runtime.  The javafx-media jmod (or Maven artifact jar or JavaFX SDK lib directory) should be on your module path and the javafx.media module should be either added as a module in your VM parameters or required in your application&#39;s module-info.java.  An alternative is to delete your JavaFX SDK and JDK and instead use a JDK that includes JavaFX such as Azul Zulu &quot;JDK FX&quot;, then you don&#39;t need any special module settings to use JavaFX from your app."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1687462540,"post_id":76532896,"comment_id":134944184,"body_markdown":"&quot;_And yes, I know the program doesn&#39;t leave the method_&quot; -- Actually, the program _will_ leave the method, as the media will play asynchronously. Though this fact will lead to another problem once you fix your current error. Since you do not keep a strong reference to the `MediaPlayer`, it will eventually be garbage collected. And when that happens--which _could_ happen immediately--the media will stop playing &quot;unexpectedly&quot;.","body":"&quot;<i>And yes, I know the program doesn&#39;t leave the method</i>&quot; -- Actually, the program <i>will</i> leave the method, as the media will play asynchronously. Though this fact will lead to another problem once you fix your current error. Since you do not keep a strong reference to the <code>MediaPlayer</code>, it will eventually be garbage collected. And when that happens--which <i>could</i> happen immediately--the media will stop playing &quot;unexpectedly&quot;."}],"owner":{"account_id":26289387,"reputation":3,"user_id":19956612,"display_name":"Nichlas Andersson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687461533,"answer_count":0,"score":0,"last_activity_date":1687443650,"creation_date":1687443650,"question_id":76532896,"body_markdown":"This is the code i&#39;m trying to execute:\r\n\r\n```\r\n    public void playSound (){\r\n        Media media = new Media(new File(audioFile).toURI().toString());\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        mediaPlayer.setCycleCount(MediaPlayer.INDEFINITE);\r\n        mediaPlayer.play();\r\n    }\r\n```\r\n\r\n*(And yes, I know the program doesn&#39;t leave the method, but I wanted to see first if the Media object works)*\r\n\r\nThis is the value of the audioFile instance:\r\n\r\n```\r\nthis.audioFile = &quot;C:\\\\(...)\\\\Pomodoro\\\\src\\\\Sounds\\\\calm.wav&quot;;\r\n```\r\n\r\nI&#39;m trying to call this method when a timer reaches zero. But I get the following error message when my Media object is instantiated:\r\n\r\n*Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x2e23a125) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x2e23a125*\r\n\r\nAny suggestion on how to proceed?\r\n\r\nI use JavaFX sdk - 20.0.1 and Java jdk-19\r\n\r\nI asked ChatGPT for some advice, and it suggested that I should add *&#39;--add-exports javafx.graphics/com.sun.glass.utils=ALL-UNNAMED*&#39; in the VM-options run configuration. But that didn&#39;t help. I got the same error message.","title":"Why doesn&#39;t my Media object work in JavaFX? &quot;javafx.graphics does not export com.sun.glass.utils&quot;","body":"<p>This is the code i'm trying to execute:</p>\n<pre><code>    public void playSound (){\n        Media media = new Media(new File(audioFile).toURI().toString());\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.setCycleCount(MediaPlayer.INDEFINITE);\n        mediaPlayer.play();\n    }\n</code></pre>\n<p><em>(And yes, I know the program doesn't leave the method, but I wanted to see first if the Media object works)</em></p>\n<p>This is the value of the audioFile instance:</p>\n<pre><code>this.audioFile = &quot;C:\\\\(...)\\\\Pomodoro\\\\src\\\\Sounds\\\\calm.wav&quot;;\n</code></pre>\n<p>I'm trying to call this method when a timer reaches zero. But I get the following error message when my Media object is instantiated:</p>\n<p><em>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x2e23a125) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x2e23a125</em></p>\n<p>Any suggestion on how to proceed?</p>\n<p>I use JavaFX sdk - 20.0.1 and Java jdk-19</p>\n<p>I asked ChatGPT for some advice, and it suggested that I should add <em>'--add-exports javafx.graphics/com.sun.glass.utils=ALL-UNNAMED</em>' in the VM-options run configuration. But that didn't help. I got the same error message.</p>\n"},{"tags":["java","web-services","spring","maven","cxf"],"comments":[{"owner":{"account_id":124832,"reputation":21488,"user_id":320180,"accept_rate":80,"display_name":"ndeverge"},"score":0,"creation_date":1335164550,"post_id":10276054,"comment_id":13217315,"body_markdown":"Did you add `spring-context` as a Maven dependency ?","body":"Did you add <code>spring-context</code> as a Maven dependency ?"}],"answers":[{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1335167115,"creation_date":1335167115,"answer_id":10276684,"question_id":10276054,"body_markdown":"You probably have multiple versions of Spring (2.5.6 vs 3.0 or 3.1) on the classpath. Check your Maven dependencies.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>You probably have multiple versions of Spring (2.5.6 vs 3.0 or 3.1) on the classpath. Check your Maven dependencies.</p>\n"},{"tags":[],"owner":{"account_id":16683,"reputation":14507,"user_id":36611,"display_name":"Daniel Kulp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1335198343,"creation_date":1335198343,"answer_id":10284414,"question_id":10276054,"body_markdown":"\r\nCouple of options:\r\n\r\n1) Update to Spring 3.x - it looks like you are using 2.5.x.\r\n\r\n2) Update to the latest releases of CXF released last week.   CXF SHOULD still work with spring 2.5.x (but likely not for much longer), but an errant commit caused the 2.5.2 to no longer work with 2.5.x.  This was fixed for 2.6/2.5.3.\r\n\r\n","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>Couple of options:</p>\n\n<p>1) Update to Spring 3.x - it looks like you are using 2.5.x.</p>\n\n<p>2) Update to the latest releases of CXF released last week.   CXF SHOULD still work with spring 2.5.x (but likely not for much longer), but an errant commit caused the 2.5.2 to no longer work with 2.5.x.  This was fixed for 2.6/2.5.3.</p>\n"},{"tags":[],"owner":{"account_id":406518,"reputation":517,"user_id":776087,"accept_rate":75,"display_name":"fizmax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419138827,"creation_date":1419138827,"answer_id":27586931,"question_id":10276054,"body_markdown":"I had that same problem when trying to use cxf with Camel. \r\n\r\nBut it occurred because I added old `cxf-rt-ws-security` module that had dependency on older cxf than my `camel-cxf` had. Make sure you have common version for all cxf modules.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I had that same problem when trying to use cxf with Camel. </p>\n\n<p>But it occurred because I added old <code>cxf-rt-ws-security</code> module that had dependency on older cxf than my <code>camel-cxf</code> had. Make sure you have common version for all cxf modules.</p>\n"},{"tags":[],"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671818789,"creation_date":1671818789,"answer_id":74902738,"question_id":10276054,"body_markdown":"I had similar issue where I had my Spring context available inside the lib folder of my war and its transitive dependency such as cxf-rt-ws-policy, cxf-core was kept in tomcat lib folder.\r\n\r\nMoving cxf-rt-ws-policy and cxf-core to the war&#39;s lib folder solved the issue.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I had similar issue where I had my Spring context available inside the lib folder of my war and its transitive dependency such as cxf-rt-ws-policy, cxf-core was kept in tomcat lib folder.</p>\n<p>Moving cxf-rt-ws-policy and cxf-core to the war's lib folder solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687442520,"creation_date":1687442520,"answer_id":76532737,"question_id":10276054,"body_markdown":"In my case the root cause was, that I had `cxf:bus` in `clients.xml` \r\n\r\n```xml\r\n\t&lt;cxf:bus&gt;\r\n\t\t&lt;cxf:features&gt;\r\n\t\t\t&lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;/&gt;\r\n\t\t&lt;/cxf:features&gt;\r\n\t&lt;/cxf:bus&gt;\r\n```\r\n\r\nbut I had CXF:Bus bean created on other places.","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>In my case the root cause was, that I had <code>cxf:bus</code> in <code>clients.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;/&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n<p>but I had CXF:Bus bean created on other places.</p>\n"}],"owner":{"account_id":1028935,"reputation":1706,"user_id":1037644,"accept_rate":100,"display_name":"Tino M Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19917,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":10276684,"answer_count":5,"score":3,"last_activity_date":1687442520,"creation_date":1335164145,"question_id":10276054,"body_markdown":"I just tried to run a simple web service application with Apache CXF and Spring by Maven, but I got the following error when I started Tomcat:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cxf&#39; defined in class path resource [META-INF/cxf/cxf.xml]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\r\n    \tat org.apache.cxf.bus.spring.SpringBus.setApplicationContext(SpringBus.java:78)\r\n    \tat org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:86)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:843)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:419)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:241)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:152)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:199)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:661)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerListeners(AbstractApplicationContext.java:505)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:328)\r\n    \tat org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.refresh(AbstractRefreshableWebApplicationContext.java:155)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:184)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4205)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4704)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n\r\nIs there any way to resolve this error?\r\n","title":"Error creating bean with name &#39;cxf&#39; defined in class path resource META-INF/cxf/cxf.xml","body":"<p>I just tried to run a simple web service application with Apache CXF and Spring by Maven, but I got the following error when I started Tomcat:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cxf' defined in class path resource [META-INF/cxf/cxf.xml]: Initialization of bean failed; nested exception is java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\nCaused by: java.lang.NoSuchMethodError: org.springframework.context.support.AbstractApplicationContext.addApplicationListener(Lorg/springframework/context/ApplicationListener;)V\n    at org.apache.cxf.bus.spring.SpringBus.setApplicationContext(SpringBus.java:78)\n    at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:86)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:296)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:843)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:419)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:241)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:152)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:661)\n    at org.springframework.context.support.AbstractApplicationContext.registerListeners(AbstractApplicationContext.java:505)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:328)\n    at org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.refresh(AbstractRefreshableWebApplicationContext.java:155)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:246)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:184)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:49)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4205)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4704)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\n</code></pre>\n<p>Is there any way to resolve this error?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687291679,"post_id":76517922,"comment_id":134915486,"body_markdown":"Use a custom serializer. [Here&#39;s an example.](https://www.baeldung.com/jackson-custom-serialization)","body":"Use a custom serializer. <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Here&#39;s an example.</a>"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687293705,"post_id":76517922,"comment_id":134915785,"body_markdown":"@Christopher Schneider I updated the question title to make it more clear. I&#39;m looking for a solution for HTTP Get Response for the Rest API.","body":"@Christopher Schneider I updated the question title to make it more clear. I&#39;m looking for a solution for HTTP Get Response for the Rest API."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687300313,"post_id":76517922,"comment_id":134916674,"body_markdown":"As usual with this kind of question, you should not serialize/deserialize your entities. Use DTOs for this purpose.","body":"As usual with this kind of question, you should not serialize/deserialize your entities. Use DTOs for this purpose."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687304630,"post_id":76517922,"comment_id":134917073,"body_markdown":"I do have DTOs. I didn&#39;t put in the question for simplicity. You can consider that the two classes I mentioned in the question are DTOs. What would be the solution in that case?","body":"I do have DTOs. I didn&#39;t put in the question for simplicity. You can consider that the two classes I mentioned in the question are DTOs. What would be the solution in that case?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687305071,"post_id":76517922,"comment_id":134917104,"body_markdown":"And btw I had updated the question title to remove the word serialization.","body":"And btw I had updated the question title to remove the word serialization."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687316811,"post_id":76517922,"comment_id":134918070,"body_markdown":"@jkfe That doesn&#39;t change that the solution is to use a custom serializer.","body":"@jkfe That doesn&#39;t change that the solution is to use a custom serializer."}],"answers":[{"comments":[{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1687297452,"post_id":76518274,"comment_id":134916343,"body_markdown":"I need this information in the response: ```{&quot;roleId&quot;: &quot;5&quot;, &quot;role&quot;: &quot;ADMIN&quot;}``` for GetUsers and vice-versa for GetRoles. In reality there are more fields than just those and need all of them in the response. Just don&#39;t need the part that makes the circular reference. Like in the two last blocks of code in my question.","body":"I need this information in the response: <code>{&quot;roleId&quot;: &quot;5&quot;, &quot;role&quot;: &quot;ADMIN&quot;}</code> for GetUsers and vice-versa for GetRoles. In reality there are more fields than just those and need all of them in the response. Just don&#39;t need the part that makes the circular reference. Like in the two last blocks of code in my question."},{"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"score":0,"creation_date":1687373955,"post_id":76518274,"comment_id":134929395,"body_markdown":"@jkfe - There are a number of ways to approach this. I&#39;ve added another to my answer.","body":"@jkfe - There are a number of ways to approach this. I&#39;ve added another to my answer."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":1,"creation_date":1687444352,"post_id":76518274,"comment_id":134940446,"body_markdown":"Right. DTOs without the circular reference is a good solution. Setting to null also worked. Answer accepted. Although in this second case, would need to do that every time it needs to be called which is not good. So DTO is better. The only thing is that more than one Response DTO would need to be created, one for each situation.","body":"Right. DTOs without the circular reference is a good solution. Setting to null also worked. Answer accepted. Although in this second case, would need to do that every time it needs to be called which is not good. So DTO is better. The only thing is that more than one Response DTO would need to be created, one for each situation."}],"tags":[],"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687442264,"creation_date":1687293786,"answer_id":76518274,"question_id":76517922,"body_markdown":"One way to approach this is to return references to identifiers rather than the full object:\r\n\r\n```json\r\n{\r\n  &quot;users&quot;: [ \r\n     {\r\n        &quot;userId&quot;: &quot;1&quot;,\r\n        &quot;userName&quot;: &quot;USER1&quot;,\r\n        &quot;roleIds&quot;: [&quot;5, 6&quot;]\r\n     },\r\n     {\r\n         &quot;userId&quot;: &quot;2&quot;,\r\n         &quot;userName&quot;: &quot;USER2&quot;,\r\n         &quot;roleIds&quot;: [&quot;5, 6&quot;]\r\n     }\r\n  ],\r\n\r\n  &quot;roles&quot;: [\r\n     {\r\n        &quot;roleId&quot;: &quot;5&quot;,\r\n        &quot;role&quot;: &quot;ADMIN&quot;,\r\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\r\n     },\r\n     {\r\n        &quot;roleId&quot;: &quot;6&quot;,\r\n        &quot;role&quot;: &quot;MANAGER&quot;,\r\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\r\n     }\r\n  ]\r\n}\r\n```\r\n\r\nYou can also use a more generic approach as described in [Falcor](https://netflix.github.io/falcor/documentation/jsongraph.html):\r\n\r\n```json\r\n{\r\n    &quot;usersById&quot;: {\r\n        &quot;1&quot;: {\r\n            userName: &quot;USER1&quot;,\r\n            roles: [\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\r\n            ]\r\n        },\r\n        &quot;2&quot;: {\r\n            userName: &quot;USER2&quot;,\r\n            roles: [\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\r\n            ]\r\n        }\r\n    },\r\n    &quot;rolesById&quot;: {\r\n        &quot;5&quot;: {\r\n           role: &quot;ADMIN&quot;,\r\n           users: [\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\r\n           ]\r\n        },\r\n        &quot;6&quot;: {\r\n           role: &quot;MANAGER&quot;,\r\n           users: [\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\r\n           ]\r\n        }\r\n\r\n    },\r\n    &quot;users&quot;: [\r\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\r\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }       \r\n    ],\r\n    &quot;roles&quot;: [\r\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\r\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }       \r\n    ]\r\n}\r\n```\r\n\r\n# Edit\r\n\r\n## GetUsers\r\n\r\nJust craft DTOs that don&#39;t have the circular references:\r\n\r\n```json\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n        {\r\n            &quot;roleId&quot;: &quot;5&quot;,\r\n            &quot;role&quot;: &quot;ADMIN&quot;\r\n        },\r\n        {\r\n            &quot;roleId&quot;: &quot;6&quot;,\r\n            &quot;role&quot;: &quot;MANAGER&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"How to remove circular reference from a REST API response?","body":"<p>One way to approach this is to return references to identifiers rather than the full object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;users&quot;: [ \n     {\n        &quot;userId&quot;: &quot;1&quot;,\n        &quot;userName&quot;: &quot;USER1&quot;,\n        &quot;roleIds&quot;: [&quot;5, 6&quot;]\n     },\n     {\n         &quot;userId&quot;: &quot;2&quot;,\n         &quot;userName&quot;: &quot;USER2&quot;,\n         &quot;roleIds&quot;: [&quot;5, 6&quot;]\n     }\n  ],\n\n  &quot;roles&quot;: [\n     {\n        &quot;roleId&quot;: &quot;5&quot;,\n        &quot;role&quot;: &quot;ADMIN&quot;,\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\n     },\n     {\n        &quot;roleId&quot;: &quot;6&quot;,\n        &quot;role&quot;: &quot;MANAGER&quot;,\n        &quot;userIds&quot;: [&quot;1&quot;, &quot;2&quot;]\n     }\n  ]\n}\n</code></pre>\n<p>You can also use a more generic approach as described in <a href=\"https://netflix.github.io/falcor/documentation/jsongraph.html\" rel=\"nofollow noreferrer\">Falcor</a>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;usersById&quot;: {\n        &quot;1&quot;: {\n            userName: &quot;USER1&quot;,\n            roles: [\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\n            ]\n        },\n        &quot;2&quot;: {\n            userName: &quot;USER2&quot;,\n            roles: [\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }\n            ]\n        }\n    },\n    &quot;rolesById&quot;: {\n        &quot;5&quot;: {\n           role: &quot;ADMIN&quot;,\n           users: [\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\n           ]\n        },\n        &quot;6&quot;: {\n           role: &quot;MANAGER&quot;,\n           users: [\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n              { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }\n           ]\n        }\n\n    },\n    &quot;users&quot;: [\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;1&quot;] },\n        { $type: &quot;ref&quot;, value: [&quot;usersById&quot;, &quot;2&quot;] }       \n    ],\n    &quot;roles&quot;: [\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;5&quot;] },\n        { $type: &quot;ref&quot;, value: [&quot;rolesById&quot;, &quot;6&quot;] }       \n    ]\n}\n</code></pre>\n<h1>Edit</h1>\n<h2>GetUsers</h2>\n<p>Just craft DTOs that don't have the circular references:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76518274,"answer_count":1,"score":-2,"last_activity_date":1687442264,"creation_date":1687290008,"question_id":76517922,"body_markdown":"When returning a json that has a child object that refereces the parent, there&#39;s a circular reference problem causing an error because the loop never ends.\r\n\r\nFor instance, let&#39;s say I have a relationship between User entity and a Roles entity and I want to return them in a json.\r\n\r\nGetUsers\r\n\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n    \t{\r\n        \t&quot;roleId&quot;: &quot;5&quot;,\r\n        \t&quot;role&quot;: &quot;ADMIN&quot;,\r\n\t\t\t&quot;users&quot;: [\r\n\t\t\t\t\t{   /*CIRCULAR REFERENCE HERE*/\r\n\t\t\t\t\t\t&quot;userId&quot;: &quot;1&quot;,\r\n\t\t\t\t\t\t&quot;userName&quot;: &quot;USER1&quot;,\r\n\t\t\t\t\t\t&quot;roles&quot;: [...]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;userId&quot;: &quot;2&quot;,\r\n\t\t\t\t\t\t&quot;userName&quot;: &quot;USER2&quot;,\r\n\t\t\t\t\t\t&quot;roles&quot;: [...]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n    \t},\r\n    \t{\r\n       \t\t&quot;roleId&quot;: &quot;6&quot;,\r\n        \t&quot;role&quot;: &quot;MANAGER&quot;\r\n\t\t\t&quot;users&quot;: [...]\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nGetRoles\r\n\r\n```\r\n{\r\n    &quot;roleId&quot;: &quot;5&quot;,\r\n    &quot;role&quot;: &quot;ADMIN&quot;,\r\n    &quot;users&quot;: [\r\n    \t{\r\n        \t&quot;userId&quot;: &quot;1&quot;,\r\n        \t&quot;userName&quot;: &quot;USER1&quot;,\r\n\t\t\t&quot;roles&quot;: [\r\n\t\t\t\t\t{   /*CIRCULAR REFERENCE HERE*/\r\n\t\t\t\t\t\t&quot;roleId&quot;: &quot;5&quot;,\r\n\t\t\t\t\t\t&quot;role&quot;: &quot;ADMIN&quot;,\r\n\t\t\t\t\t\t&quot;users&quot;: [...]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;roleId&quot;: &quot;6&quot;,\r\n\t\t\t\t\t\t&quot;role&quot;: &quot;MANAGER&quot;,\r\n\t\t\t\t\t\t&quot;users&quot;: [...]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n    \t},\r\n    \t{\r\n       \t\t&quot;userId&quot;: &quot;2&quot;,\r\n        \t&quot;userName&quot;: &quot;USER2&quot;,\r\n\t\t\t&quot;roles&quot;: [...]\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nWhat is the best approach to solve this issue?\r\n\r\nI know I could use @JsonIgnore for Roles attribute in the Users entity and for Users attribute in Roles entity.\r\n\r\nBut then GetUsers would not return roles data and GetRoles would not return users data.\r\n\r\nI&#39;d like a solution that returns those, but not the circular reference. Like this:\r\n\r\nGetUsers\r\n\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;1&quot;,\r\n    &quot;userName&quot;: &quot;USER1&quot;,\r\n    &quot;roles&quot;: [\r\n    \t{\r\n        \t&quot;roleId&quot;: &quot;5&quot;,\r\n        \t&quot;role&quot;: &quot;ADMIN&quot;\r\n    \t},\r\n    \t{\r\n       \t\t&quot;roleId&quot;: &quot;6&quot;,\r\n        \t&quot;role&quot;: &quot;MANAGER&quot;\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\nGetRoles\r\n\r\n```\r\n{\r\n    &quot;roleId&quot;: &quot;5&quot;,\r\n    &quot;role&quot;: &quot;ADMIN&quot;,\r\n    &quot;users&quot;: [\r\n    \t{\r\n        \t&quot;userId&quot;: &quot;1&quot;,\r\n        \t&quot;userName&quot;: &quot;USER1&quot;\r\n    \t},\r\n    \t{\r\n       \t\t&quot;userId&quot;: &quot;2&quot;,\r\n        \t&quot;userName&quot;: &quot;USER2&quot;\r\n    \t}\r\n\t]\r\n}\r\n```\r\n\r\n","title":"How to remove circular reference from a REST API response?","body":"<p>When returning a json that has a child object that refereces the parent, there's a circular reference problem causing an error because the loop never ends.</p>\n<p>For instance, let's say I have a relationship between User entity and a Roles entity and I want to return them in a json.</p>\n<p>GetUsers</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;,\n            &quot;users&quot;: [\n                    {   /*CIRCULAR REFERENCE HERE*/\n                        &quot;userId&quot;: &quot;1&quot;,\n                        &quot;userName&quot;: &quot;USER1&quot;,\n                        &quot;roles&quot;: [...]\n                    },\n                    {\n                        &quot;userId&quot;: &quot;2&quot;,\n                        &quot;userName&quot;: &quot;USER2&quot;,\n                        &quot;roles&quot;: [...]\n                    }\n                ]\n\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n            &quot;users&quot;: [...]\n        }\n    ]\n}\n</code></pre>\n<p>GetRoles</p>\n<pre><code>{\n    &quot;roleId&quot;: &quot;5&quot;,\n    &quot;role&quot;: &quot;ADMIN&quot;,\n    &quot;users&quot;: [\n        {\n            &quot;userId&quot;: &quot;1&quot;,\n            &quot;userName&quot;: &quot;USER1&quot;,\n            &quot;roles&quot;: [\n                    {   /*CIRCULAR REFERENCE HERE*/\n                        &quot;roleId&quot;: &quot;5&quot;,\n                        &quot;role&quot;: &quot;ADMIN&quot;,\n                        &quot;users&quot;: [...]\n                    },\n                    {\n                        &quot;roleId&quot;: &quot;6&quot;,\n                        &quot;role&quot;: &quot;MANAGER&quot;,\n                        &quot;users&quot;: [...]\n                    }\n                ]\n\n        },\n        {\n            &quot;userId&quot;: &quot;2&quot;,\n            &quot;userName&quot;: &quot;USER2&quot;,\n            &quot;roles&quot;: [...]\n        }\n    ]\n}\n</code></pre>\n<p>What is the best approach to solve this issue?</p>\n<p>I know I could use @JsonIgnore for Roles attribute in the Users entity and for Users attribute in Roles entity.</p>\n<p>But then GetUsers would not return roles data and GetRoles would not return users data.</p>\n<p>I'd like a solution that returns those, but not the circular reference. Like this:</p>\n<p>GetUsers</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;1&quot;,\n    &quot;userName&quot;: &quot;USER1&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;roleId&quot;: &quot;5&quot;,\n            &quot;role&quot;: &quot;ADMIN&quot;\n        },\n        {\n            &quot;roleId&quot;: &quot;6&quot;,\n            &quot;role&quot;: &quot;MANAGER&quot;\n        }\n    ]\n}\n</code></pre>\n<p>GetRoles</p>\n<pre><code>{\n    &quot;roleId&quot;: &quot;5&quot;,\n    &quot;role&quot;: &quot;ADMIN&quot;,\n    &quot;users&quot;: [\n        {\n            &quot;userId&quot;: &quot;1&quot;,\n            &quot;userName&quot;: &quot;USER1&quot;\n        },\n        {\n            &quot;userId&quot;: &quot;2&quot;,\n            &quot;userName&quot;: &quot;USER2&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","integration-testing","testcontainers"],"owner":{"account_id":8567037,"reputation":59,"user_id":6419217,"accept_rate":12,"display_name":"user6419217"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687442232,"creation_date":1687440528,"question_id":76532428,"body_markdown":"During integration tests execution some of the test cases randomly fail with the error below. Sometimes test run finishes successfully with all green.\r\n```java\r\norg.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [space_pkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n\r\n....\r\n\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n\r\n....\r\n\r\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (&#39;system&#39;, &#39;2023-06-22 13:02:28.606027+00&#39;, &#39;system&#39;, &#39;2023-06-22 13:02:28.606027+00&#39;, &#39;shouldDeleteSpaceWithGroups&#39;, NULL, 1, 0, 100092) was aborted: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\r\n  Detail: Key (id)=(100092) already exists.\r\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\r\n\r\n...\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\r\n  Detail: Key (id)=(100092) already exists.\r\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\r\n  Server SQLState: 23505\r\n```\r\n\r\nThe respected entity looks like:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true, of = &quot;alias&quot;)\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;space&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\npublic class Space extends AbstractAuditingEntity {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;alias&quot;, nullable = false, unique = true)\r\n    private String alias;\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n    @Column(name = &quot;state&quot;, nullable = false)\r\n    private EntityState state = EntityState.ENABLED;\r\n\r\n    @OneToMany(mappedBy = &quot;space&quot;)\r\n    private Set&lt;UserGroup&gt; userGroups = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;business_unit_id&quot;)\r\n    private BusinessUnit businessUnit;\r\n}\r\n```\r\n\r\nAnd the class it extends:\r\n```java\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\n@Audited\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic abstract class AbstractAuditingEntity implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public AbstractAuditingEntity() {\r\n    }\r\n\r\n    public AbstractAuditingEntity(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;, sequenceName = &quot;hibernate_sequence&quot;)\r\n    private Long id;\r\n\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\r\n    @JsonIgnore\r\n    private String createdBy;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\r\n    @JsonIgnore\r\n    private Instant createdDate = Instant.now();\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n    @JsonIgnore\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;last_modified_date&quot;)\r\n    @JsonIgnore\r\n    private Instant lastModifiedDate = Instant.now();\r\n}\r\n```\r\n\r\nMy setup:\r\n 1. I execute `Spring Boot`(2.7.3) integration tests using `TestContainers`(1.18.0) running `PostgreSQL`. `Hibernate` version 5.6.10.Final\r\n 2. About 20 test classes with 260 tests.\r\n 3. I enabled Spring Application Context DEBUG logging, and I see that 8 application contexts are cached.\r\n 4. Anotation I use on all integration test classes:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@ActiveProfiles({&quot;unittest&quot;, &quot;non-async&quot;})\r\n@SpringBootTest(classes = TicApp.class)\r\npublic @interface TicIntegrationTest {\r\n}\r\n```\r\n5. I also have a helper class which I use a lot to prepare db state for test cases. The error in 99% happens when executing `createSpace()` method. Class reduced version:\r\n```java\r\npublic class RestHelper {\r\n\r\n    private static final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    private final MockMvc mockMvc;\r\n\r\n    static {\r\n        objectMapper.findAndRegisterModules();\r\n    }\r\n\r\n    public RestHelper(MockMvc mockMvc) {\r\n        this.mockMvc = mockMvc;\r\n    }\r\n\r\n    public SpaceHeaderDTO createSpace(String spaceAlias, String spaceName, HttpStatus expectedStatus) throws Exception {\r\n        SpaceHeaderDTO spaceHeaderDTO = SpaceHeaderDTO.builder()\r\n            .alias(spaceAlias)\r\n            .name(spaceName)\r\n            .admins(Collections.emptySet())\r\n            .businessUnitId(1)\r\n            .build();\r\n\r\n        String jsonRequest = objectMapper.writeValueAsString(spaceHeaderDTO);\r\n        String json = mockMvc.perform(post(&quot;/api/spaces&quot;, spaceHeaderDTO)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(jsonRequest))\r\n            .andExpect(status().is(expectedStatus.value()))\r\n            .andReturn().getResponse().getContentAsString();\r\n        return parseJson(json, SpaceHeaderDTO.class, null, expectedStatus);\r\n    }\r\n}\r\n```\r\n\r\nAt first I was thinking that the problem resides in Spring Application Context switching: a mismatch between DB state in TestContainers and the context. But when I set a debug point - I see that DB contains not all tests, but just a subset of them. So, I think it switches with the context.\r\n\r\nI was trying to add `@BeforeAll/@AfterAll` annotation to each class in order to clean up DB by calling all `repositoryName.deleteAll()`. But in this case I started receiving errors that it tried to delete entity with ID which wasn&#39;t found in DB. So to say, the opposite error.\r\n\r\nIn what direction to look in order to solve this problem?\r\n\r\n\r\n","title":"Spring Boot Integration Test using TestContainers: primary key violation on DB insert","body":"<p>During integration tests execution some of the test cases randomly fail with the error below. Sometimes test run finishes successfully with all green.</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.dao.DataIntegrityViolationException: could not execute batch; SQL [insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values (?, ?, ?, ?, ?, ?, ?, ?, ?)]; constraint [space_pkey]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute batch\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n\n....\n\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute batch\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\n\n....\n\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;space&quot; (&quot;created_by&quot;, &quot;created_date&quot;, &quot;last_modified_by&quot;, &quot;last_modified_date&quot;, &quot;alias&quot;, &quot;banner_text&quot;, &quot;business_unit_id&quot;, &quot;state&quot;, &quot;id&quot;) values ('system', '2023-06-22 13:02:28.606027+00', 'system', '2023-06-22 13:02:28.606027+00', 'shouldDeleteSpaceWithGroups', NULL, 1, 0, 100092) was aborted: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\n  Detail: Key (id)=(100092) already exists.\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\n\n...\n\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;space_pkey&quot;\n  Detail: Key (id)=(100092) already exists.\n  Location: File: nbtinsert.c, Routine: _bt_check_unique, Line: 534\n  Server SQLState: 23505\n</code></pre>\n<p>The respected entity looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString(callSuper = true, of = &quot;alias&quot;)\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;space&quot;)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Space extends AbstractAuditingEntity {\n    private static final long serialVersionUID = 1L;\n\n    @NotNull\n    @Column(name = &quot;alias&quot;, nullable = false, unique = true)\n    private String alias;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name = &quot;state&quot;, nullable = false)\n    private EntityState state = EntityState.ENABLED;\n\n    @OneToMany(mappedBy = &quot;space&quot;)\n    private Set&lt;UserGroup&gt; userGroups = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;business_unit_id&quot;)\n    private BusinessUnit businessUnit;\n}\n</code></pre>\n<p>And the class it extends:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@MappedSuperclass\n@Audited\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AbstractAuditingEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    public AbstractAuditingEntity() {\n    }\n\n    public AbstractAuditingEntity(Long id) {\n        this.id = id;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;, sequenceName = &quot;hibernate_sequence&quot;)\n    private Long id;\n\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\n    @JsonIgnore\n    private String createdBy;\n\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\n    @JsonIgnore\n    private Instant createdDate = Instant.now();\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\n    @JsonIgnore\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;last_modified_date&quot;)\n    @JsonIgnore\n    private Instant lastModifiedDate = Instant.now();\n}\n</code></pre>\n<p>My setup:</p>\n<ol>\n<li>I execute <code>Spring Boot</code>(2.7.3) integration tests using <code>TestContainers</code>(1.18.0) running <code>PostgreSQL</code>. <code>Hibernate</code> version 5.6.10.Final</li>\n<li>About 20 test classes with 260 tests.</li>\n<li>I enabled Spring Application Context DEBUG logging, and I see that 8 application contexts are cached.</li>\n<li>Anotation I use on all integration test classes:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@ActiveProfiles({&quot;unittest&quot;, &quot;non-async&quot;})\n@SpringBootTest(classes = TicApp.class)\npublic @interface TicIntegrationTest {\n}\n</code></pre>\n<ol start=\"5\">\n<li>I also have a helper class which I use a lot to prepare db state for test cases. The error in 99% happens when executing <code>createSpace()</code> method. Class reduced version:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class RestHelper {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    private final MockMvc mockMvc;\n\n    static {\n        objectMapper.findAndRegisterModules();\n    }\n\n    public RestHelper(MockMvc mockMvc) {\n        this.mockMvc = mockMvc;\n    }\n\n    public SpaceHeaderDTO createSpace(String spaceAlias, String spaceName, HttpStatus expectedStatus) throws Exception {\n        SpaceHeaderDTO spaceHeaderDTO = SpaceHeaderDTO.builder()\n            .alias(spaceAlias)\n            .name(spaceName)\n            .admins(Collections.emptySet())\n            .businessUnitId(1)\n            .build();\n\n        String jsonRequest = objectMapper.writeValueAsString(spaceHeaderDTO);\n        String json = mockMvc.perform(post(&quot;/api/spaces&quot;, spaceHeaderDTO)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(jsonRequest))\n            .andExpect(status().is(expectedStatus.value()))\n            .andReturn().getResponse().getContentAsString();\n        return parseJson(json, SpaceHeaderDTO.class, null, expectedStatus);\n    }\n}\n</code></pre>\n<p>At first I was thinking that the problem resides in Spring Application Context switching: a mismatch between DB state in TestContainers and the context. But when I set a debug point - I see that DB contains not all tests, but just a subset of them. So, I think it switches with the context.</p>\n<p>I was trying to add <code>@BeforeAll/@AfterAll</code> annotation to each class in order to clean up DB by calling all <code>repositoryName.deleteAll()</code>. But in this case I started receiving errors that it tried to delete entity with ID which wasn't found in DB. So to say, the opposite error.</p>\n<p>In what direction to look in order to solve this problem?</p>\n"},{"tags":["java","intellij-idea","classpath","classnotfoundexception"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1615490784,"post_id":66589103,"comment_id":117713863,"body_markdown":"Does https://stackoverflow.com/a/42660624/104891 help?","body":"Does <a href=\"https://stackoverflow.com/a/42660624/104891\">stackoverflow.com/a/42660624/104891</a> help?"},{"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"score":0,"creation_date":1615503932,"post_id":66589103,"comment_id":117718725,"body_markdown":"@CrazyCoder I tried/checked all these approaches. Unfortunately, they didn&#39;t solve the problem. Plus, the Exception in the link seems to be of a different nature than the one in my problem, since the main method seems to be found in that other question. I want to emphasize that the compilation and running works as usual if the *Dependencies storage format* is set to Intellij IDEA. For the usage of a certain library, I&#39;d like to use a `.classpath` file instead, though.","body":"@CrazyCoder I tried/checked all these approaches. Unfortunately, they didn&#39;t solve the problem. Plus, the Exception in the link seems to be of a different nature than the one in my problem, since the main method seems to be found in that other question. I want to emphasize that the compilation and running works as usual if the <i>Dependencies storage format</i> is set to Intellij IDEA. For the usage of a certain library, I&#39;d like to use a <code>.classpath</code> file instead, though."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1615503991,"post_id":66589103,"comment_id":117718739,"body_markdown":"Please file a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the sample project to reproduce attached and the logs (Help | Collect Logs and Diagnostic Data).","body":"Please file a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the sample project to reproduce attached and the logs (Help | Collect Logs and Diagnostic Data)."},{"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"score":0,"creation_date":1615505091,"post_id":66589103,"comment_id":117718993,"body_markdown":"@CrazyCoder Done, thank you: https://youtrack.jetbrains.com/issue/IDEA-264135","body":"@CrazyCoder Done, thank you: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-264135\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-264135</a>"}],"answers":[{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":1,"creation_date":1656152707,"post_id":66592197,"comment_id":128504995,"body_markdown":"This doesn&#39;t qualify as an answer, since you haven&#39;t provided a solution.","body":"This doesn&#39;t qualify as an answer, since you haven&#39;t provided a solution."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1656200077,"post_id":66592197,"comment_id":128513957,"body_markdown":"@OjonugwaJudeOchalifu There is no solution until this bug is fixed. As a workaround do not store dependencies in Eclipse format, use IntelliJ IDEA project, Gradle or Maven project instead.","body":"@OjonugwaJudeOchalifu There is no solution until this bug is fixed. As a workaround do not store dependencies in Eclipse format, use IntelliJ IDEA project, Gradle or Maven project instead."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615506410,"creation_date":1615506410,"answer_id":66592197,"question_id":66589103,"body_markdown":"Thanks for the report, it [appears to be a bug](https://youtrack.jetbrains.com/issue/IDEA-264135) in IntelliJ IDEA project configuration when the dependencies format is set to Eclipse. IDE loads the project incorrectly and the sources root configuration is lost, therefore compiler doesn&#39;t get the correct information about the source files and nothing is produced in the output directory. Classpath doesn&#39;t contain any classes and the execution of the main class fails since it doesn&#39;t exist in the output (classpath).","title":"Intellij IDEA: &quot;Could not find or load main class&quot; if Dependencies Storage Format is changed to &quot;Eclipse&quot;","body":"<p>Thanks for the report, it <a href=\"https://youtrack.jetbrains.com/issue/IDEA-264135\" rel=\"nofollow noreferrer\">appears to be a bug</a> in IntelliJ IDEA project configuration when the dependencies format is set to Eclipse. IDE loads the project incorrectly and the sources root configuration is lost, therefore compiler doesn't get the correct information about the source files and nothing is produced in the output directory. Classpath doesn't contain any classes and the execution of the main class fails since it doesn't exist in the output (classpath).</p>\n"}],"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66592197,"answer_count":1,"score":1,"last_activity_date":1687441942,"creation_date":1615490322,"question_id":66589103,"body_markdown":"I wrote a simple &quot;Hello World&quot; program in my test project in Intellij IDEA 2020.3.2 (Ultimate):\r\n\r\n```lang-java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\n}\r\n```\r\nEverything works fine when running `Test.main()` with the default configuration. Now, if I go to *File | Project Structure... | Project Settings | Modules* and change *Dependencies storage format* to *Eclipse (.classpath)*, a `.classpath` file and an `.eml` file are created (the `.iml` file is still there, but it doesn&#39;t affect the following problem, whether it&#39;s there or not).\r\nIf I now run `Test.main()`, the following error output is returned in the IDE console:\r\n\r\n```lang-txt\r\n&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=51699:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 Test\r\nError: Could not find or load main class Test\r\nCaused by: java.lang.ClassNotFoundException: Test\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nWhat might be the the problem? I tried [these solutions][1], but they seem to have no effect here. Could there be a problem with the Windows 10 environment variables? The given CLASSPATH value here is `.;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45486856/11583484","title":"Intellij IDEA: &quot;Could not find or load main class&quot; if Dependencies Storage Format is changed to &quot;Eclipse&quot;","body":"<p>I wrote a simple &quot;Hello World&quot; program in my test project in Intellij IDEA 2020.3.2 (Ultimate):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n\n}\n</code></pre>\n<p>Everything works fine when running <code>Test.main()</code> with the default configuration. Now, if I go to <em>File | Project Structure... | Project Settings | Modules</em> and change <em>Dependencies storage format</em> to <em>Eclipse (.classpath)</em>, a <code>.classpath</code> file and an <code>.eml</code> file are created (the <code>.iml</code> file is still there, but it doesn't affect the following problem, whether it's there or not).\nIf I now run <code>Test.main()</code>, the following error output is returned in the IDE console:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-15.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=51699:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 Test\nError: Could not find or load main class Test\nCaused by: java.lang.ClassNotFoundException: Test\n\nProcess finished with exit code 1\n</code></pre>\n<p>What might be the the problem? I tried <a href=\"https://stackoverflow.com/a/45486856/11583484\">these solutions</a>, but they seem to have no effect here. Could there be a problem with the Windows 10 environment variables? The given CLASSPATH value here is <code>.;</code>.</p>\n"},{"tags":["jvm","java"],"comments":[{"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"score":0,"creation_date":1292969046,"post_id":4504179,"comment_id":4929976,"body_markdown":"there is no support for this JVM from SUN or ORACLE ???","body":"there is no support for this JVM from SUN or ORACLE ???"}],"answers":[{"comments":[{"owner":{"account_id":232391,"reputation":3552,"user_id":497193,"accept_rate":100,"display_name":"Nubok"},"score":0,"creation_date":1292968057,"post_id":4504202,"comment_id":4929805,"body_markdown":"No, JavaOS got an inofficial open source &quot;sequel&quot; called &quot;JNode&quot;: http://www.jnode.org/\n\nBut as far as I know it&#39;s still beta.","body":"No, JavaOS got an inofficial open source &quot;sequel&quot; called &quot;JNode&quot;: <a href=\"http://www.jnode.org/\" rel=\"nofollow noreferrer\">jnode.org</a>  But as far as I know it&#39;s still beta."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292967802,"creation_date":1292967802,"answer_id":4504202,"question_id":4504179,"body_markdown":"[JavaOS][1]\r\n\r\nGood lucking getting hold of it, though, it&#39;s nothing more than a historical curiosity.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaOS","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p><a href=\"http://en.wikipedia.org/wiki/JavaOS\" rel=\"nofollow\">JavaOS</a></p>\n\n<p>Good lucking getting hold of it, though, it's nothing more than a historical curiosity.</p>\n"},{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292968489,"creation_date":1292967849,"answer_id":4504206,"question_id":4504179,"body_markdown":"No.\r\n\r\nThere was an idea of making a machine that could run a JVM as an actual machine (non virtualized), similiar to LISP machines, but that idea never took off...\r\n\r\nYou need a host OS to run a JVM.\r\n\r\nGoogling &quot;java real machine&quot; might give you some interesting articles.\r\n\r\nI&#39;ve found two: [one from 2004][1], talking about how such a machine could be built and [another one][2], talking about how JVM runs as a real machine on hardware such as mobile devices.\r\n\r\nStill, no dice with a plain PC.\r\n\r\n\r\n  [1]: http://www.particle.kth.se/~lindsey/JavaCourse/Book/Part3/Chapter24/javaRealMachines.html\r\n  [2]: http://connectedplanetonline.com/mag/telecom_real_java_machine/","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>No.</p>\n\n<p>There was an idea of making a machine that could run a JVM as an actual machine (non virtualized), similiar to LISP machines, but that idea never took off...</p>\n\n<p>You need a host OS to run a JVM.</p>\n\n<p>Googling \"java real machine\" might give you some interesting articles.</p>\n\n<p>I've found two: <a href=\"http://www.particle.kth.se/~lindsey/JavaCourse/Book/Part3/Chapter24/javaRealMachines.html\" rel=\"nofollow\">one from 2004</a>, talking about how such a machine could be built and <a href=\"http://connectedplanetonline.com/mag/telecom_real_java_machine/\" rel=\"nofollow\">another one</a>, talking about how JVM runs as a real machine on hardware such as mobile devices.</p>\n\n<p>Still, no dice with a plain PC.</p>\n"},{"tags":[],"owner":{"account_id":232391,"reputation":3552,"user_id":497193,"accept_rate":100,"display_name":"Nubok"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687441269,"creation_date":1292968546,"answer_id":4504312,"question_id":4504179,"body_markdown":"There are two JVMs that I am aware of, which have this property:\r\n\r\nThe Fiji VM: http://www.fiji-systems.com/index.html\r\n\r\nAccording to http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html it also runs on bare metal.\r\n\r\nThe next possibility is JNode: an open source operating system where most parts are written in Java (the rest in assembly): http://www.jnode.org/\r\n\r\nJNode is still beta, though.","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>There are two JVMs that I am aware of, which have this property:</p>\n<p>The Fiji VM: <a href=\"http://www.fiji-systems.com/index.html\" rel=\"nofollow noreferrer\">http://www.fiji-systems.com/index.html</a></p>\n<p>According to <a href=\"http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html\" rel=\"nofollow noreferrer\">http://rtjava.blogspot.com/2009/11/new-real-time-vm-was-born-fiji-vm.html</a> it also runs on bare metal.</p>\n<p>The next possibility is JNode: an open source operating system where most parts are written in Java (the rest in assembly): <a href=\"http://www.jnode.org/\" rel=\"nofollow noreferrer\">http://www.jnode.org/</a></p>\n<p>JNode is still beta, though.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1292969179,"creation_date":1292968630,"answer_id":4504321,"question_id":4504179,"body_markdown":"Sure, have a look at **JRockit Virtual Edition**. As I understand it it&#39;s basically a micro kernel especially tailored for the JRockit VM.\r\n\r\nFrom [this page](http://realjavasoa.blogspot.com/2009/10/java-without-os-jrockit-virtual-edition.html):\r\n\r\n&gt; ***Java without the OS: JRockit Virtual Edition (VE)***\r\n&gt;\r\n&gt; *Am I the only one that&#39;s never heard of this before? The Oracle JRockit team is looking at eliminating the OS from the stack required to run Java. This product will be called JRockit VE (not out yet)*\r\n","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>Sure, have a look at <strong>JRockit Virtual Edition</strong>. As I understand it it's basically a micro kernel especially tailored for the JRockit VM.</p>\n\n<p>From <a href=\"http://realjavasoa.blogspot.com/2009/10/java-without-os-jrockit-virtual-edition.html\">this page</a>:</p>\n\n<blockquote>\n  <p><em><strong>Java without the OS: JRockit Virtual Edition (VE)</em></strong></p>\n  \n  <p><em>Am I the only one that's never heard of this before? The Oracle JRockit team is looking at eliminating the OS from the stack required to run Java. This product will be called JRockit VE (not out yet)</em></p>\n</blockquote>\n"}],"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4935,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1687441269,"creation_date":1292967674,"question_id":4504179,"body_markdown":"As i know java programs are able to run on any Operating System.\r\nand there are JVM&#39;s for any kind of machines.\r\n\r\nI need a JVM that runs on my PC stand alone, and not on my OS (windows or any thing else).\r\n\r\nI mean a JVM that acts like a boot, instead of the OS boot\r\n\r\ni searched for all versions of JVM on &quot;www.java.com/en/download/manual.jsp&quot;, but i did not get the suitable JVM.\r\n\r\nthe following link helped me a little but that was not enough\r\n\r\n[http://java-virtual-machine.net/other.html#jvm][1]\r\n\r\nmy PC CPU is AMD Athlon(tm) 64X2 Dual Core Processor 5200 + 2.69 GHz\r\n\r\n\r\n  [1]: http://java-virtual-machine.net/other.html#jvm\r\n\r\nany body can help me to find the suitable jvm version ?!","title":"is there a stand alone JVM that run&#39;s on a PC without any OS","body":"<p>As i know java programs are able to run on any Operating System.\nand there are JVM's for any kind of machines.</p>\n\n<p>I need a JVM that runs on my PC stand alone, and not on my OS (windows or any thing else).</p>\n\n<p>I mean a JVM that acts like a boot, instead of the OS boot</p>\n\n<p>i searched for all versions of JVM on \"www.java.com/en/download/manual.jsp\", but i did not get the suitable JVM.</p>\n\n<p>the following link helped me a little but that was not enough</p>\n\n<p><a href=\"http://java-virtual-machine.net/other.html#jvm\">http://java-virtual-machine.net/other.html#jvm</a></p>\n\n<p>my PC CPU is AMD Athlon(tm) 64X2 Dual Core Processor 5200 + 2.69 GHz</p>\n\n<p>any body can help me to find the suitable jvm version ?!</p>\n"},{"tags":["java","android","http","networking","httpserver"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687440616,"post_id":76532267,"comment_id":134939563,"body_markdown":"Base don the code you have posted you should build a minimal Java program that demonstrate your problem and that can be directly executed.","body":"Base don the code you have posted you should build a minimal Java program that demonstrate your problem and that can be directly executed."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1687441819,"post_id":76532267,"comment_id":134939853,"body_markdown":"Consider not using `setDoOutput(true)`: https://stackoverflow.com/questions/8587913/what-exactly-does-urlconnection-setdooutput-affect.","body":"Consider not using <code>setDoOutput(true)</code>: <a href=\"https://stackoverflow.com/questions/8587913/what-exactly-does-urlconnection-setdooutput-affect\" title=\"what exactly does urlconnection setdooutput affect\">stackoverflow.com/questions/8587913/&hellip;</a>."},{"owner":{"account_id":28033555,"reputation":3,"user_id":21412345,"display_name":"Farbod Bijary"},"score":0,"creation_date":1687442260,"post_id":76532267,"comment_id":134939949,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b thanks a lot!!! that fixed my issue. consider posting your comment as the answer.","body":"@5f3bde39-70a2-4df1-afa2-47f61b thanks a lot!!! that fixed my issue. consider posting your comment as the answer."}],"owner":{"account_id":28033555,"reputation":3,"user_id":21412345,"display_name":"Farbod Bijary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687441249,"creation_date":1687439320,"question_id":76532267,"body_markdown":"I&#39;m writing an application in which both the server-side and client codes are written by me, I&#39;m not using any frameworks (e.g Spring Boot etc). when I send an http GET request from my android device to my laptop (which runs the server code), the request method that I had already explicitly set using `setRequestMethod(&quot;GET&quot;)` becomes post, I also checked it using wireshark and it also shows that the request is a POST not a get. \r\n\r\nThe code for sending the requests from android device: \r\n\r\n```\r\npublic class ClientHttpUtils {\r\n    private final static Gson GSON = GsonUtils.getInstance();\r\n    private static final ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n\r\npublic static &lt;T&gt; void get(\r\n            String path,\r\n            Map&lt;String, String&gt; query,\r\n            Class&lt;T&gt; contentType,\r\n            RequestErrorCallback onError,\r\n            RequestSuccessCallback&lt;T&gt; onSuccess\r\n    ) {\r\n       execute(&quot;GET&quot;, path, null, query, null, contentType, onError, onSuccess);\r\n    }\r\n\r\nprivate static &lt;T&gt; void execute(\r\n            String method,\r\n            String path,\r\n            Serializable data,\r\n            Map&lt;String, String&gt; query,\r\n            Headers headers,\r\n            Class&lt;T&gt; contentType,\r\n            RequestErrorCallback onError,\r\n            RequestSuccessCallback&lt;T&gt; onSuccess\r\n    ) {\r\n        executorService.submit(()-&gt; {\r\n            try {\r\n                ResponseModel&lt;T&gt; responseModel = executeRequest(method, path, data, query, headers, contentType);\r\n                if (responseModel != null) {\r\n                    onSuccess.onRequestSuccess(responseModel);\r\n\r\n                } else {\r\n                    onError.onRequestError(new Exception(&quot;Request failed&quot;));\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                onError.onRequestError(e);\r\n            }\r\n        });\r\n    }\r\n\r\nprivate static &lt;T&gt; ResponseModel&lt;T&gt; executeRequest(\r\n            String method,\r\n            String path,\r\n            Serializable data,\r\n            Map&lt;String, String&gt; query,\r\n            Headers headers,\r\n            Class&lt;T&gt; contentType\r\n    ) throws IOException {\r\n\r\n        ResponseModel&lt;T&gt; responseModel = null;\r\n\r\n        URL url = new URL(API.BASE_URL + path + mapToQuery(query));\r\n\r\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n        conn.setRequestMethod(method);\r\n        conn.setDoOutput(true);\r\n\r\n        if(headers != null) {\r\n            for (String header: headers.keySet()){\r\n                conn.setRequestProperty(header, String.join(&quot;,&quot;, headers.get(header)));\r\n            }\r\n        }\r\n\r\n        if (data != null &amp;&amp; method.equals(&quot;POST&quot;)) {\r\n            byte[] bytes = SerializationUtils.serialize(data);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n            conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(bytes.length));\r\n            conn.getOutputStream().write(bytes);\r\n        } else {\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        }\r\n\r\n        if(conn.getResponseCode() == StatusCode.SUCCESS){\r\n            responseModel = GSON.fromJson(\r\n                    new InputStreamReader(conn.getInputStream()),\r\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\r\n        }\r\n        else {\r\n            responseModel = GSON.fromJson(\r\n                    new InputStreamReader(conn.getErrorStream()),\r\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\r\n        }\r\n\r\n        return responseModel;\r\n    }\r\n    private static String mapToQuery(Map&lt;String, String&gt; query) {\r\n        StringBuilder queryStr = new StringBuilder();\r\n\r\n        if (query != null) {\r\n            queryStr = new StringBuilder(&quot;?&quot;);\r\n            for (Map.Entry&lt;String, String&gt; entry : query.entrySet()) {\r\n                String entity = entry.getValue();\r\n                try {\r\n                    entity = URLEncoder.encode(entity, StandardCharsets.UTF_8.toString());\r\n                } catch (Exception ignore) {\r\n                }\r\n\r\n                queryStr.append(entry.getKey()).append(&quot;=&quot;).append(entity).append(&quot;&amp;&quot;);\r\n            }\r\n            queryStr = new StringBuilder(queryStr.substring(0, queryStr.length() - 1));\r\n        }\r\n\r\n        return queryStr.toString();\r\n    }\r\n}\r\n```\r\n\r\nthe `ResponseModel&lt;T&gt;` class:\r\n\r\n```\r\npublic class ResponseModel&lt;T&gt; {\r\n\r\n    private final int status;\r\n    private final boolean success;\r\n    private final String message;\r\n    private final T content;\r\n\r\n    public ResponseModel(int status, boolean success, String message, T content) {\r\n        this.status = status;\r\n        this.success = success;\r\n        this.message = message;\r\n        this.content = content;\r\n    }\r\n\r\n    public boolean isSuccess() {\r\n        return success;\r\n    }\r\n    public int getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public T get() {\r\n        return content;\r\n    }\r\n}\r\n```\r\n\r\n\r\nalso this is the code that creates my server: \r\n`httpServer = HttpServer.create(new InetSocketAddress(&quot;192.168.1.X&quot;,API.PORT), 0);`\r\nand the endpoint for performing sign-in is `/auth/sign-in/`.\r\nif needed i can post a captured request using wireshark too.\r\nif any change is needed in the format of my question or anything I would do it quickly just say it in comments.\r\nthanks everyone in advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have already read [this](https://stackoverflow.com/questions/17886865/post-request-becomes-get) post on SO but adding a slash to my request URI (e.g converting /auth/sign-in?username=something... to /auth/sign-in/?username=something...) niether adding one to the end of my request could fix my problem. \r\non my server side code i have a `HttpServer` object and I couldn&#39;t find anything like `allowNullPathInfo()` as said in the SO post I shared.\r\nhere are my codes for sending and handling the requests.","title":"GET request from android being handled has POST - java","body":"<p>I'm writing an application in which both the server-side and client codes are written by me, I'm not using any frameworks (e.g Spring Boot etc). when I send an http GET request from my android device to my laptop (which runs the server code), the request method that I had already explicitly set using <code>setRequestMethod(&quot;GET&quot;)</code> becomes post, I also checked it using wireshark and it also shows that the request is a POST not a get.</p>\n<p>The code for sending the requests from android device:</p>\n<pre><code>public class ClientHttpUtils {\n    private final static Gson GSON = GsonUtils.getInstance();\n    private static final ExecutorService executorService = Executors.newFixedThreadPool(4);\n\npublic static &lt;T&gt; void get(\n            String path,\n            Map&lt;String, String&gt; query,\n            Class&lt;T&gt; contentType,\n            RequestErrorCallback onError,\n            RequestSuccessCallback&lt;T&gt; onSuccess\n    ) {\n       execute(&quot;GET&quot;, path, null, query, null, contentType, onError, onSuccess);\n    }\n\nprivate static &lt;T&gt; void execute(\n            String method,\n            String path,\n            Serializable data,\n            Map&lt;String, String&gt; query,\n            Headers headers,\n            Class&lt;T&gt; contentType,\n            RequestErrorCallback onError,\n            RequestSuccessCallback&lt;T&gt; onSuccess\n    ) {\n        executorService.submit(()-&gt; {\n            try {\n                ResponseModel&lt;T&gt; responseModel = executeRequest(method, path, data, query, headers, contentType);\n                if (responseModel != null) {\n                    onSuccess.onRequestSuccess(responseModel);\n\n                } else {\n                    onError.onRequestError(new Exception(&quot;Request failed&quot;));\n                }\n\n            } catch (Exception e) {\n                onError.onRequestError(e);\n            }\n        });\n    }\n\nprivate static &lt;T&gt; ResponseModel&lt;T&gt; executeRequest(\n            String method,\n            String path,\n            Serializable data,\n            Map&lt;String, String&gt; query,\n            Headers headers,\n            Class&lt;T&gt; contentType\n    ) throws IOException {\n\n        ResponseModel&lt;T&gt; responseModel = null;\n\n        URL url = new URL(API.BASE_URL + path + mapToQuery(query));\n\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod(method);\n        conn.setDoOutput(true);\n\n        if(headers != null) {\n            for (String header: headers.keySet()){\n                conn.setRequestProperty(header, String.join(&quot;,&quot;, headers.get(header)));\n            }\n        }\n\n        if (data != null &amp;&amp; method.equals(&quot;POST&quot;)) {\n            byte[] bytes = SerializationUtils.serialize(data);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n            conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(bytes.length));\n            conn.getOutputStream().write(bytes);\n        } else {\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        }\n\n        if(conn.getResponseCode() == StatusCode.SUCCESS){\n            responseModel = GSON.fromJson(\n                    new InputStreamReader(conn.getInputStream()),\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\n        }\n        else {\n            responseModel = GSON.fromJson(\n                    new InputStreamReader(conn.getErrorStream()),\n                    TypeToken.getParameterized(ResponseModel.class, contentType).getType());\n        }\n\n        return responseModel;\n    }\n    private static String mapToQuery(Map&lt;String, String&gt; query) {\n        StringBuilder queryStr = new StringBuilder();\n\n        if (query != null) {\n            queryStr = new StringBuilder(&quot;?&quot;);\n            for (Map.Entry&lt;String, String&gt; entry : query.entrySet()) {\n                String entity = entry.getValue();\n                try {\n                    entity = URLEncoder.encode(entity, StandardCharsets.UTF_8.toString());\n                } catch (Exception ignore) {\n                }\n\n                queryStr.append(entry.getKey()).append(&quot;=&quot;).append(entity).append(&quot;&amp;&quot;);\n            }\n            queryStr = new StringBuilder(queryStr.substring(0, queryStr.length() - 1));\n        }\n\n        return queryStr.toString();\n    }\n}\n</code></pre>\n<p>the <code>ResponseModel&lt;T&gt;</code> class:</p>\n<pre><code>public class ResponseModel&lt;T&gt; {\n\n    private final int status;\n    private final boolean success;\n    private final String message;\n    private final T content;\n\n    public ResponseModel(int status, boolean success, String message, T content) {\n        this.status = status;\n        this.success = success;\n        this.message = message;\n        this.content = content;\n    }\n\n    public boolean isSuccess() {\n        return success;\n    }\n    public int getStatus() {\n        return status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public T get() {\n        return content;\n    }\n}\n</code></pre>\n<p>also this is the code that creates my server:\n<code>httpServer = HttpServer.create(new InetSocketAddress(&quot;192.168.1.X&quot;,API.PORT), 0);</code>\nand the endpoint for performing sign-in is <code>/auth/sign-in/</code>.\nif needed i can post a captured request using wireshark too.\nif any change is needed in the format of my question or anything I would do it quickly just say it in comments.\nthanks everyone in advance.</p>\n<p>I have already read <a href=\"https://stackoverflow.com/questions/17886865/post-request-becomes-get\">this</a> post on SO but adding a slash to my request URI (e.g converting /auth/sign-in?username=something... to /auth/sign-in/?username=something...) niether adding one to the end of my request could fix my problem.\non my server side code i have a <code>HttpServer</code> object and I couldn't find anything like <code>allowNullPathInfo()</code> as said in the SO post I shared.\nhere are my codes for sending and handling the requests.</p>\n"},{"tags":["java","android","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1427958817,"post_id":29407084,"comment_id":46988439,"body_markdown":"iterate over them and implement the logic yourself.","body":"iterate over them and implement the logic yourself."}],"answers":[{"comments":[{"owner":{"account_id":5103110,"reputation":1070,"user_id":4122507,"accept_rate":38,"display_name":"asdec90"},"score":0,"creation_date":1427959085,"post_id":29407101,"comment_id":46988587,"body_markdown":"Its a boolean and does not match my requirement to get the String value.","body":"Its a boolean and does not match my requirement to get the String value."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1427961296,"post_id":29407101,"comment_id":46989618,"body_markdown":"@asdec90 It removes &quot;Alpha&quot; from the list. It returns &quot;true&quot; if &quot;Alpha&quot; was found and removed. After you remove it, you can iterate over the list and display the remaining Strings. I was assuming you know how to iterate over a list. The simplest way - `for (String s : myStrings) {...}`.","body":"@asdec90 It removes &quot;Alpha&quot; from the list. It returns &quot;true&quot; if &quot;Alpha&quot; was found and removed. After you remove it, you can iterate over the list and display the remaining Strings. I was assuming you know how to iterate over a list. The simplest way - <code>for (String s : myStrings) {...}</code>."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1427958823,"creation_date":1427958823,"answer_id":29407101,"question_id":29407084,"body_markdown":"Use remove :\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\n\r\nNote that this would only remove the first occurrence of &quot;Alpha&quot; from your list.","title":"Remove a String Item from a List of Strings","body":"<p>Use remove :</p>\n\n<pre><code>myStrings.remove(\"Alpha\");\n</code></pre>\n\n<p>Note that this would only remove the first occurrence of \"Alpha\" from your list.</p>\n"},{"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427959307,"creation_date":1427959307,"answer_id":29407245,"question_id":29407084,"body_markdown":"Do you have duplicates in the list of String that you also wish to remove?\r\n\r\nIf so, you can convert the `list` of String into a `set` of String. Then, you can remove strings from the `set` efficiently, convert it back into a `map`.\r\n\r\n    // converting to set will remove duplicates\r\n    final Set&lt;String&gt; uniqueStrSet = new HashSet&lt;String&gt;(listOfString);\r\n    \r\n    // remove string from set\r\n    uniqueStrSet.remove(strToRemove);\r\n    \r\n    // convert set back to list\r\n    list = new ArrayList&lt;String&gt;(uniqueStrSet);\r\n\r\n","title":"Remove a String Item from a List of Strings","body":"<p>Do you have duplicates in the list of String that you also wish to remove?</p>\n\n<p>If so, you can convert the <code>list</code> of String into a <code>set</code> of String. Then, you can remove strings from the <code>set</code> efficiently, convert it back into a <code>map</code>.</p>\n\n<pre><code>// converting to set will remove duplicates\nfinal Set&lt;String&gt; uniqueStrSet = new HashSet&lt;String&gt;(listOfString);\n\n// remove string from set\nuniqueStrSet.remove(strToRemove);\n\n// convert set back to list\nlist = new ArrayList&lt;String&gt;(uniqueStrSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5048751,"reputation":564,"user_id":4053944,"display_name":"Deepika Rajani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427968452,"creation_date":1427968452,"answer_id":29410003,"question_id":29407084,"body_markdown":"    boolean remove(Object o)\r\nThe above method of ArrayList class will remove the first occurence of **Object o** from the list.\r\n\r\nYou can do:\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\nIt will return **true** if the ArrayList contained the specified element.","title":"Remove a String Item from a List of Strings","body":"<pre><code>boolean remove(Object o)\n</code></pre>\n\n<p>The above method of ArrayList class will remove the first occurence of <strong>Object o</strong> from the list.</p>\n\n<p>You can do:</p>\n\n<pre><code>myStrings.remove(\"Alpha\");\n</code></pre>\n\n<p>It will return <strong>true</strong> if the ArrayList contained the specified element.</p>\n"},{"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620236601,"creation_date":1620236601,"answer_id":67406269,"question_id":29407084,"body_markdown":"if this not work\r\n\r\n    myStrings.remove(&quot;Alpha&quot;);\r\n\r\ntry this it works fine with me\r\n\r\n    int pos = myStrings.indexOf(&quot;Alpha&quot;);//Getting string position\r\n    myStrings.remove(pos);","title":"Remove a String Item from a List of Strings","body":"<p>if this not work</p>\n<pre><code>myStrings.remove(&quot;Alpha&quot;);\n</code></pre>\n<p>try this it works fine with me</p>\n<pre><code>int pos = myStrings.indexOf(&quot;Alpha&quot;);//Getting string position\nmyStrings.remove(pos);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687440834,"creation_date":1687440834,"answer_id":76532484,"question_id":29407084,"body_markdown":"If you work with immutable lists which is quite often the case now, you will not be able to use the `remove` method; instead you shall get an `UnsupportedOperationException`.\r\n\r\nUse a Lamda instead:\r\n\r\n    List&lt;String&gt; filteredList = myStrings.stream()\r\n            .filter(toRemove -&gt; !&quot;Alpha&quot;.equals(toRemove))\r\n            .toList();\r\n\r\nThat&#39;s the idea. It should be adapted to your specific use case.\r\n\r\nNB: the `&quot;Alpha&quot;.equals(...)` is recommanded by Sonarqube when using litterals. Please don&#39;t lash me for it.","title":"Remove a String Item from a List of Strings","body":"<p>If you work with immutable lists which is quite often the case now, you will not be able to use the <code>remove</code> method; instead you shall get an <code>UnsupportedOperationException</code>.</p>\n<p>Use a Lamda instead:</p>\n<pre><code>List&lt;String&gt; filteredList = myStrings.stream()\n        .filter(toRemove -&gt; !&quot;Alpha&quot;.equals(toRemove))\n        .toList();\n</code></pre>\n<p>That's the idea. It should be adapted to your specific use case.</p>\n<p>NB: the <code>&quot;Alpha&quot;.equals(...)</code> is recommanded by Sonarqube when using litterals. Please don't lash me for it.</p>\n"}],"owner":{"account_id":5103110,"reputation":1070,"user_id":4122507,"accept_rate":38,"display_name":"asdec90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81656,"favorite_count":0,"down_vote_count":4,"up_vote_count":17,"accepted_answer_id":29407101,"answer_count":5,"score":13,"last_activity_date":1687440834,"creation_date":1427958729,"question_id":29407084,"body_markdown":"How do I remove a specific string from a List that contains Strings....\r\n\r\nAs in:\r\n\r\n    ArrayList&lt;String&gt; myStrings = new ArrayList&lt;&gt;();\r\n    myStrings.add(&quot;Alpha&quot;);\r\n    myStrings.add(&quot;Beta&quot;);\r\n    myStrings.add(&quot;Gama&quot;);\r\n    .                           //The order can be random \r\n    .\r\n    .\r\n    .\r\n\r\nNow , I only have the list myStrings and I don&#39;t know which String is at which index. But I know, that I want to display all the strings after removing say &quot;Alpha&quot;. \r\n\r\nTo Summarize , How can I get the strings from a String array after removing a String that I know that array contains , but don&#39;t know its index/position.","title":"Remove a String Item from a List of Strings","body":"<p>How do I remove a specific string from a List that contains Strings....</p>\n\n<p>As in:</p>\n\n<pre><code>ArrayList&lt;String&gt; myStrings = new ArrayList&lt;&gt;();\nmyStrings.add(\"Alpha\");\nmyStrings.add(\"Beta\");\nmyStrings.add(\"Gama\");\n.                           //The order can be random \n.\n.\n.\n</code></pre>\n\n<p>Now , I only have the list myStrings and I don't know which String is at which index. But I know, that I want to display all the strings after removing say \"Alpha\". </p>\n\n<p>To Summarize , How can I get the strings from a String array after removing a String that I know that array contains , but don't know its index/position.</p>\n"},{"tags":["java","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687327384,"post_id":76515154,"comment_id":134919159,"body_markdown":"Welcome to SO. I think, you could improve your question and the chance to get a good answer: Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. There are great people here who like to help others. Do yourself a favour and help them to help you. &#128578;","body":"Welcome to SO. I think, you could improve your question and the chance to get a good answer: Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. There are great people here who like to help others. Do yourself a favour and help them to help you. 🙂"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687327596,"post_id":76515154,"comment_id":134919185,"body_markdown":"Without having seen the code, just trying to understand your description, my first guess is that you should look at the tests as such as a root cause, not at the IDE, its cache or try things like a reboot. Chances are, that the problem is simply suboptimal test code. Without seeing a reproducer, however, I have no way of being sure.","body":"Without having seen the code, just trying to understand your description, my first guess is that you should look at the tests as such as a root cause, not at the IDE, its cache or try things like a reboot. Chances are, that the problem is simply suboptimal test code. Without seeing a reproducer, however, I have no way of being sure."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687442033,"post_id":76532446,"comment_id":134939905,"body_markdown":"The problem probably was not that you mocked the mono, but that one or more of its non-stubbed methods were called while you were using it during the test. Good to know that you found a simpler way to deal with your problem.","body":"The problem probably was not that you mocked the mono, but that one or more of its non-stubbed methods were called while you were using it during the test. Good to know that you found a simpler way to deal with your problem."},{"owner":{"account_id":14202197,"reputation":21,"user_id":11927776,"display_name":"Bradley M. Small"},"score":0,"creation_date":1687456465,"post_id":76532446,"comment_id":134943021,"body_markdown":"I think the Mono&lt;T&gt; v = Mock() could not survive a .flatMap(x-&gt;...) call\nI haven&#39;t tried but perhaps a Mono&lt;T&gt; v = Mono.just(Mock()) may have or something similar. I just haven&#39;t found any documentation yet suggesting that.","body":"I think the Mono&lt;T&gt; v = Mock() could not survive a .flatMap(x-&gt;...) call I haven&#39;t tried but perhaps a Mono&lt;T&gt; v = Mono.just(Mock()) may have or something similar. I just haven&#39;t found any documentation yet suggesting that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687507914,"post_id":76532446,"comment_id":134949557,"body_markdown":"Well, you did not stub `flatMap`, i.e. by default the mock will return `null`. That is to be expected. Either way, it is not a Spock problem.","body":"Well, you did not stub <code>flatMap</code>, i.e. by default the mock will return <code>null</code>. That is to be expected. Either way, it is not a Spock problem."}],"tags":[],"owner":{"account_id":14202197,"reputation":21,"user_id":11927776,"display_name":"Bradley M. Small"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687440597,"creation_date":1687440597,"answer_id":76532446,"question_id":76515154,"body_markdown":"Thanks for anyone who took the time to look at this. I apologize that it was poorly submitted, but due to the nature of it, it would have been prohibitively difficult to create something that could be more accurate.\r\n\r\nThe cause was due to declaring a variable as a Mono&lt;Variable&gt; then setting it to Mock(). Even though stubs were written for its members, this does not go through project reactor reactor chains and in so bouncing out, causes a long hang, that seems never to actually complete. \r\n\r\nHere is a &quot;genericized&quot; code illustration that hopefully will help someone doing the same mistake that I did.\r\n\r\n    // The existing code looked something like this, however it was\r\n    // spread out among class variables, and setup() method and \r\n    // given/when/then sections of the UTs. \r\n    // Declare a variable\r\n    Mono&lt;ClassVar&gt; classVar \r\n    // that is mocked\r\n    classVar = Mock()\r\n    // create an expected member variable\r\n    MemberType member = new MemberType()\r\n    // stub the mocked class to return the member variable\r\n    classVar.getMember() &gt;&gt; member\r\n    // When the reactive chains encounter this, they go off into \r\n    // what feels like a forever grind... \r\n\r\n    // The correction involved restructuring things like this;\r\n    // Declare a variable\r\n    Mono&lt;ClassVar&gt; classVar \r\n    // create an minimal inner payload for it (I think this could still be\r\n    // a Mock() though I decided to simplify at the same time)\r\n    ClassVar classVarValue = new ClassVar()\r\n    // create the expect member variable\r\n    MemberType member = new MemberType()\r\n    // place it into the minimal inner payload variable\r\n    classVarValue.setMember(member)\r\n    // populate the initial variable with the result of a Mono.just() call\r\n    // that contains the minimal inner payload variable\r\n    classVar = Mono.just(classVarValue)\r\n    \r\nI could have done this with more mocking, but the issue is that you can&#39;t do \r\n\r\nMono&lt;Something&gt; something = Mock()\r\n\r\nI am not sure if you can do \r\nMono&lt;Something&gt; something = Mono.just(Mock()) \r\n\r\nBut I suspect that would have worked out. I avoided that by declaring a variable that was sparse, and creating the Mono&lt;&gt; from that.     ","title":"Using IntelliJ an unchanged spock test will begin taking a long time to complete, if at all","body":"<p>Thanks for anyone who took the time to look at this. I apologize that it was poorly submitted, but due to the nature of it, it would have been prohibitively difficult to create something that could be more accurate.</p>\n<p>The cause was due to declaring a variable as a Mono then setting it to Mock(). Even though stubs were written for its members, this does not go through project reactor reactor chains and in so bouncing out, causes a long hang, that seems never to actually complete.</p>\n<p>Here is a &quot;genericized&quot; code illustration that hopefully will help someone doing the same mistake that I did.</p>\n<pre><code>// The existing code looked something like this, however it was\n// spread out among class variables, and setup() method and \n// given/when/then sections of the UTs. \n// Declare a variable\nMono&lt;ClassVar&gt; classVar \n// that is mocked\nclassVar = Mock()\n// create an expected member variable\nMemberType member = new MemberType()\n// stub the mocked class to return the member variable\nclassVar.getMember() &gt;&gt; member\n// When the reactive chains encounter this, they go off into \n// what feels like a forever grind... \n\n// The correction involved restructuring things like this;\n// Declare a variable\nMono&lt;ClassVar&gt; classVar \n// create an minimal inner payload for it (I think this could still be\n// a Mock() though I decided to simplify at the same time)\nClassVar classVarValue = new ClassVar()\n// create the expect member variable\nMemberType member = new MemberType()\n// place it into the minimal inner payload variable\nclassVarValue.setMember(member)\n// populate the initial variable with the result of a Mono.just() call\n// that contains the minimal inner payload variable\nclassVar = Mono.just(classVarValue)\n</code></pre>\n<p>I could have done this with more mocking, but the issue is that you can't do</p>\n<p>Mono something = Mock()</p>\n<p>I am not sure if you can do\nMono something = Mono.just(Mock())</p>\n<p>But I suspect that would have worked out. I avoided that by declaring a variable that was sparse, and creating the Mono&lt;&gt; from that.</p>\n"}],"owner":{"account_id":14202197,"reputation":21,"user_id":11927776,"display_name":"Bradley M. Small"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76532446,"answer_count":1,"score":1,"last_activity_date":1687440597,"creation_date":1687267032,"question_id":76515154,"body_markdown":"I am using IntelliJ with java/gradle/spock unit tests. \r\n\r\nUpon making changes to any code the build runs the whole suite of unit tests and it has come to a well known timing. *Build takes 2:xx and testing takes 8:xx minutes*\r\n\r\nAt some point, the tests will far exceed this amount of time and usually one would have to reboot and/or clear caching and so forth. \r\n\r\nIn this last incidence, I used @Ignore to clear all the tests from one particular file. This corrected the timing, and I added each one back in by removing the @Ignore. Most tests would run immediately in a very short time. I have come down to 3 tests that when added will bring back this long running behavior. \r\n\r\nWe have seen this issue in the past, and usually it is corrected by &quot;magic&quot;. (Things like, clearing cache, freeing memory, rebooting a computer, and other hard to associate things). \r\n\r\nMy question is, if someone has experienced this and knows a fix? Or, if someone can point me in a direction to actually investigate what is going on so that I can better dig into it. I will be trying setting some debug break points and things like that today. But anything else that I may be overlooking or unaware of like settings of things like that would be helpful.  \r\n\r\nTried:\r\nRestarting, clearing of cache, rebooting. \r\nExpected:\r\nSpontaneous correction. \r\nExperienced:\r\nContinued failure. \r\n\r\nTried:\r\nIsolate UT&#39;s using @Ignore\r\nExpected:\r\nSpontaneous correction.\r\nExperienced:\r\nSuccess\r\n\r\nTried:\r\nReintroducing @Ignored tests\r\nExpected:\r\nLocate correlated causative tests\r\nExperienced:\r\n3 tests when added back in will each cause this similar behavior ","title":"Using IntelliJ an unchanged spock test will begin taking a long time to complete, if at all","body":"<p>I am using IntelliJ with java/gradle/spock unit tests.</p>\n<p>Upon making changes to any code the build runs the whole suite of unit tests and it has come to a well known timing. <em>Build takes 2:xx and testing takes 8:xx minutes</em></p>\n<p>At some point, the tests will far exceed this amount of time and usually one would have to reboot and/or clear caching and so forth.</p>\n<p>In this last incidence, I used @Ignore to clear all the tests from one particular file. This corrected the timing, and I added each one back in by removing the @Ignore. Most tests would run immediately in a very short time. I have come down to 3 tests that when added will bring back this long running behavior.</p>\n<p>We have seen this issue in the past, and usually it is corrected by &quot;magic&quot;. (Things like, clearing cache, freeing memory, rebooting a computer, and other hard to associate things).</p>\n<p>My question is, if someone has experienced this and knows a fix? Or, if someone can point me in a direction to actually investigate what is going on so that I can better dig into it. I will be trying setting some debug break points and things like that today. But anything else that I may be overlooking or unaware of like settings of things like that would be helpful.</p>\n<p>Tried:\nRestarting, clearing of cache, rebooting.\nExpected:\nSpontaneous correction.\nExperienced:\nContinued failure.</p>\n<p>Tried:\nIsolate UT's using @Ignore\nExpected:\nSpontaneous correction.\nExperienced:\nSuccess</p>\n<p>Tried:\nReintroducing @Ignored tests\nExpected:\nLocate correlated causative tests\nExperienced:\n3 tests when added back in will each cause this similar behavior</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687787259,"post_id":76532411,"comment_id":134981420,"body_markdown":"Please edit your question and show how you query the Realtime Database.","body":"Please edit your question and show how you query the Realtime Database."}],"owner":{"account_id":26555327,"reputation":1,"user_id":20184039,"display_name":"Viktor Orudzhev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687440410,"creation_date":1687440410,"question_id":76532411,"body_markdown":"I created AdapterChat like this:\r\n\r\nAdapterChat:\r\n\r\n```\r\npublic class AdapterChat  extends RecyclerView.Adapter&lt;AdapterChat.MyHolder&gt;{\r\n\r\n\r\n    private static final int  MSG_TYPE_LEFT = 0;\r\n    private static final int  MSG_TYPE_RIGHT = 1;\r\n\r\n    Context context;\r\n    List&lt;ModelChat&gt; chatList;\r\n    String imageUrl;\r\n\r\n    FirebaseUser fuser;\r\n\r\n    public AdapterChat(Context context, List&lt;ModelChat&gt; chatList, String imageUrl){\r\n        this.context = context;\r\n        this.chatList = chatList;\r\n        this.imageUrl = imageUrl;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n        if (viewType==MSG_TYPE_RIGHT){\r\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_right, viewGroup, false);\r\n            return new MyHolder(view);\r\n        } else {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_left, viewGroup, false);\r\n            return new MyHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyHolder myHolder, final int position) {\r\n\r\n        String message = chatList.get(position).getMeesage();\r\n        String timeStamp = chatList.get(position).getTimestamp();\r\n        Calendar cal = Calendar.getInstance(Locale.ENGLISH);\r\n        cal.setTimeInMillis(Long.parseLong(timeStamp));\r\n\r\n        String dateTime = DateFormat.format(&quot;dd/MM/yyyyy hh:mm aa&quot;, cal).toString();\r\n\r\n        myHolder.messageTv.setText(message);\r\n        myHolder.timeTv.setText(dateTime);\r\n\r\n        try{\r\n            Picasso.get().load(imageUrl).into(myHolder.profileIv);\r\n        } catch (Exception e){\r\n\r\n        }\r\n        if (position==chatList.size()-1){\r\n            if (chatList.get(position).isSeen()){\r\n                myHolder.isSeenTv.setText(&quot;Seen&quot;);\r\n            } else {\r\n                myHolder.isSeenTv.setText(&quot;Delivered&quot;);\r\n            }\r\n\r\n        } else {\r\n            myHolder.isSeenTv.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chatList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n\r\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if(chatList.get(position).getSender().equals(fuser.getUid())){\r\n            return MSG_TYPE_RIGHT;\r\n        } else {\r\n            return MSG_TYPE_LEFT;\r\n        }\r\n    }\r\n\r\n    static class  MyHolder extends RecyclerView.ViewHolder{\r\n        ImageView profileIv;\r\n        TextView messageTv, timeTv, isSeenTv;\r\n\r\n        public  MyHolder(@NonNull View itemView){\r\n            super(itemView);\r\n\r\n            profileIv = itemView.findViewById(R.id.profileIv);\r\n            messageTv = itemView.findViewById(R.id.messageTv);\r\n            timeTv = itemView.findViewById(R.id.timeTv);\r\n            isSeenTv = itemView.findViewById(R.id.isSeenTv);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/ETpXI.png)](https://i.stack.imgur.com/ETpXI.png)\r\n\r\n\r\n\r\nI have heard from a lot of people that the adapter has a problem but I checked again but did not find that problem, I tried a lot of ways but my problem cannot be changed, I need your help\r\n\r\nChats always don&#39;t have text, but on Firebase the chat has been updated\r\n\r\n[![enter image description here](https://i.stack.imgur.com/950mh.png)](https://i.stack.imgur.com/950mh.png)","title":"I&#39;m having trouble showing up Messages.When I text, the message doesn&#39;t show up","body":"<p>I created AdapterChat like this:</p>\n<p>AdapterChat:</p>\n<pre><code>public class AdapterChat  extends RecyclerView.Adapter&lt;AdapterChat.MyHolder&gt;{\n\n\n    private static final int  MSG_TYPE_LEFT = 0;\n    private static final int  MSG_TYPE_RIGHT = 1;\n\n    Context context;\n    List&lt;ModelChat&gt; chatList;\n    String imageUrl;\n\n    FirebaseUser fuser;\n\n    public AdapterChat(Context context, List&lt;ModelChat&gt; chatList, String imageUrl){\n        this.context = context;\n        this.chatList = chatList;\n        this.imageUrl = imageUrl;\n\n    }\n\n    @NonNull\n    @Override\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n        if (viewType==MSG_TYPE_RIGHT){\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_right, viewGroup, false);\n            return new MyHolder(view);\n        } else {\n            View view = LayoutInflater.from(context).inflate(R.layout.row_chat_left, viewGroup, false);\n            return new MyHolder(view);\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyHolder myHolder, final int position) {\n\n        String message = chatList.get(position).getMeesage();\n        String timeStamp = chatList.get(position).getTimestamp();\n        Calendar cal = Calendar.getInstance(Locale.ENGLISH);\n        cal.setTimeInMillis(Long.parseLong(timeStamp));\n\n        String dateTime = DateFormat.format(&quot;dd/MM/yyyyy hh:mm aa&quot;, cal).toString();\n\n        myHolder.messageTv.setText(message);\n        myHolder.timeTv.setText(dateTime);\n\n        try{\n            Picasso.get().load(imageUrl).into(myHolder.profileIv);\n        } catch (Exception e){\n\n        }\n        if (position==chatList.size()-1){\n            if (chatList.get(position).isSeen()){\n                myHolder.isSeenTv.setText(&quot;Seen&quot;);\n            } else {\n                myHolder.isSeenTv.setText(&quot;Delivered&quot;);\n            }\n\n        } else {\n            myHolder.isSeenTv.setVisibility(View.GONE);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return chatList.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\n        if(chatList.get(position).getSender().equals(fuser.getUid())){\n            return MSG_TYPE_RIGHT;\n        } else {\n            return MSG_TYPE_LEFT;\n        }\n    }\n\n    static class  MyHolder extends RecyclerView.ViewHolder{\n        ImageView profileIv;\n        TextView messageTv, timeTv, isSeenTv;\n\n        public  MyHolder(@NonNull View itemView){\n            super(itemView);\n\n            profileIv = itemView.findViewById(R.id.profileIv);\n            messageTv = itemView.findViewById(R.id.messageTv);\n            timeTv = itemView.findViewById(R.id.timeTv);\n            isSeenTv = itemView.findViewById(R.id.isSeenTv);\n\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ETpXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETpXI.png\" alt=\"enter image description here\" /></a></p>\n<p>I have heard from a lot of people that the adapter has a problem but I checked again but did not find that problem, I tried a lot of ways but my problem cannot be changed, I need your help</p>\n<p>Chats always don't have text, but on Firebase the chat has been updated</p>\n<p><a href=\"https://i.stack.imgur.com/950mh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/950mh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687372827,"creation_date":1687372827,"answer_id":76526233,"question_id":76525442,"body_markdown":"Based on [this bug report](https://github.com/bcgit/bc-java/issues/660) HttpURLConnection will only use SNI with SunJSSE as JSSE provider but not with others like BouncyCastle - which you are using. That&#39;s why you see that it tries to check the certificate against the IP address instead of the FQDN:\r\n\r\n&gt; Caused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\r\n","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>Based on <a href=\"https://github.com/bcgit/bc-java/issues/660\" rel=\"nofollow noreferrer\">this bug report</a> HttpURLConnection will only use SNI with SunJSSE as JSSE provider but not with others like BouncyCastle - which you are using. That's why you see that it tries to check the certificate against the IP address instead of the FQDN:</p>\n<blockquote>\n<p>Caused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687413520,"creation_date":1687413520,"answer_id":76528943,"question_id":76525442,"body_markdown":"This is an underlying issue with HttpsURLConnection not working properly with third-party JSSE implementations.\r\n\r\nSince you are opening the URL directly (rather than via some framework that&#39;s hard to modify) the simplest solution is probably to use the BCJSSE utility class `org.bouncycastle.jsse.util.URLConnectionUtil`:\r\n\r\n    new URLConnectionUtil().openConnection(url)\r\n\r\nYou can also pass a specific SSLSocketFactory to URLConnectionUtil constructor if BCJSSE is not configured as the default provider.\r\n\r\nFor background on the underlying problem refer to various issues:\r\n\r\n - https://github.com/bcgit/bc-java/issues/460\r\n - https://github.com/bcgit/bc-java/issues/660\r\n - https://github.com/bcgit/bc-java/issues/709\r\n - https://github.com/bcgit/bc-java/issues/1331\r\n","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>This is an underlying issue with HttpsURLConnection not working properly with third-party JSSE implementations.</p>\n<p>Since you are opening the URL directly (rather than via some framework that's hard to modify) the simplest solution is probably to use the BCJSSE utility class <code>org.bouncycastle.jsse.util.URLConnectionUtil</code>:</p>\n<pre><code>new URLConnectionUtil().openConnection(url)\n</code></pre>\n<p>You can also pass a specific SSLSocketFactory to URLConnectionUtil constructor if BCJSSE is not configured as the default provider.</p>\n<p>For background on the underlying problem refer to various issues:</p>\n<ul>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/460\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/460</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/660\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/660</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/709\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/709</a></li>\n<li><a href=\"https://github.com/bcgit/bc-java/issues/1331\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/1331</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687440381,"creation_date":1687440381,"answer_id":76532407,"question_id":76525442,"body_markdown":"Since I didn&#39;t want to change the code, I digged in the BouncyCastle&#39;s Githb issue tracker and I found this JVM property:\r\n\r\n&gt; From v1.70 if you want to use option 1 please prefer\r\n**`-Dorg.bouncycastle.jsse.client.assumeOriginalHostName=true`**\r\ninstead of\r\n`-Djdk.tls.trustNameService=true`\r\n\r\n(see [issue 460](https://github.com/bcgit/bc-java/issues/460) and linked issues for more references)\r\n\r\nSo I have added this property to my JVM arg list and now the TLS handshake to `precision.epayworldwide.com` works.","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>Since I didn't want to change the code, I digged in the BouncyCastle's Githb issue tracker and I found this JVM property:</p>\n<blockquote>\n<p>From v1.70 if you want to use option 1 please prefer\n<strong><code>-Dorg.bouncycastle.jsse.client.assumeOriginalHostName=true</code></strong>\ninstead of\n<code>-Djdk.tls.trustNameService=true</code></p>\n</blockquote>\n<p>(see <a href=\"https://github.com/bcgit/bc-java/issues/460\" rel=\"nofollow noreferrer\">issue 460</a> and linked issues for more references)</p>\n<p>So I have added this property to my JVM arg list and now the TLS handshake to <code>precision.epayworldwide.com</code> works.</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76532407,"answer_count":3,"score":0,"last_activity_date":1687440381,"creation_date":1687365320,"question_id":76525442,"body_markdown":"I am trying to send an HTTPS request to `precision.epayworldwide.com` from my Java application.\r\n\r\nThis is the code I am using:\r\n\r\n``` java\r\nURL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString responseLine = reader.readLine();\r\n\r\nwhile (responseLine != null)\r\n{\r\n\tSystem.out.printf(&quot;%s\\n&quot;, responseLine);\r\n\tresponseLine = reader.readLine();\r\n}\r\n```\r\n\r\nand this is the exception I get:\r\n\r\n```\r\nException in thread &quot;main&quot; org.bouncycastle.tls.TlsFatalAlert: certificate_unknown(46)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.checkServerTrusted(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvTlsClient$1.notifyServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsUtils.processServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.handleServerCertificate(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.processRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.RecordStream.readRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.safeReadRecord(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsProtocol.blockForHandshake(Unknown Source)\r\n\tat org.bouncycastle.tls.TlsClientProtocol.connect(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat Main.main(Main.java:17)\r\nCaused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\r\n\tat org.bouncycastle.jsse.provider.HostnameUtil.checkHostname(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkExtendedTrust(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkTrusted(Unknown Source)\r\n\tat org.bouncycastle.jsse.provider.ProvX509TrustManager.checkServerTrusted(Unknown Source)\r\n\t... 18 more\r\n```\r\n\r\nI have correctly imported the TLS certificate of that hostname:\r\n\r\n```\r\nOwner: C=GB,L=Billericay,O=Epay Limited,CN=*.epayworldwide.com\r\nIssuer: C=US,O=DigiCert Inc,CN=DigiCert TLS RSA SHA256 2020 CA1\r\nSerial number: 97cc7ab5601ca15b1e65530f3a3e8a3\r\nValid from: Mon Oct 10 02:00:00 CEST 2022 until: Sun Nov 05 00:59:59 CET 2023\r\nCertificate fingerprints:\r\n         MD5:  AF:C4:FA:F6:A2:99:D8:C3:C3:9A:1D:B7:A4:6D:D7:21\r\n         SHA1: 4D:55:B9:2B:69:67:2E:AA:2A:B4:3B:B6:D1:BC:35:77:B0:FD:50:A0\r\n         SHA256: 96:AF:91:70:80:F6:F1:9E:30:18:CC:97:53:10:B4:7E:B2:CC:37:31:77:CB:C1:E1:1C:14:BC:CF:19:08:04:3B\r\n         Signature algorithm name: SHA256WITHRSA\r\n         Version: 3\r\nTrust this certificate? [no]:  yes\r\nCertificate was added to keystore\r\n```\r\n\r\nI don&#39;t understand why the code is throwing that exception. I have searched here on StackOverflow and I have found similar questions ([1](https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative), [2](https://stackoverflow.com/questions/67185157/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no), [3](https://stackoverflow.com/questions/29157861/java-certificateexception-no-subject-alternative-names-matching-ip-address)), but these people used an IP address to connect to the server, instead of an FQDN.\r\n\r\nI do not control the server so I can&#39;t change the certificate in any way. \r\n\r\nIs there something I can do client-side without disabling the hostname verification?","title":"java.security.cert.CertificateException: No subject alternative name found matching IP address even when using a FQDN","body":"<p>I am trying to send an HTTPS request to <code>precision.epayworldwide.com</code> from my Java application.</p>\n<p>This is the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString responseLine = reader.readLine();\n\nwhile (responseLine != null)\n{\n    System.out.printf(&quot;%s\\n&quot;, responseLine);\n    responseLine = reader.readLine();\n}\n</code></pre>\n<p>and this is the exception I get:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.tls.TlsFatalAlert: certificate_unknown(46)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.checkServerTrusted(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvTlsClient$1.notifyServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsUtils.processServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.handleServerCertificate(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.handleHandshakeMessage(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.processRecord(Unknown Source)\n    at org.bouncycastle.tls.RecordStream.readRecord(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.safeReadRecord(Unknown Source)\n    at org.bouncycastle.tls.TlsProtocol.blockForHandshake(Unknown Source)\n    at org.bouncycastle.tls.TlsClientProtocol.connect(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvSSLSocketDirect.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at Main.main(Main.java:17)\nCaused by: java.security.cert.CertificateException: No subject alternative name found matching IP address 195.145.98.203\n    at org.bouncycastle.jsse.provider.HostnameUtil.checkHostname(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkEndpointID(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkExtendedTrust(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkTrusted(Unknown Source)\n    at org.bouncycastle.jsse.provider.ProvX509TrustManager.checkServerTrusted(Unknown Source)\n    ... 18 more\n</code></pre>\n<p>I have correctly imported the TLS certificate of that hostname:</p>\n<pre><code>Owner: C=GB,L=Billericay,O=Epay Limited,CN=*.epayworldwide.com\nIssuer: C=US,O=DigiCert Inc,CN=DigiCert TLS RSA SHA256 2020 CA1\nSerial number: 97cc7ab5601ca15b1e65530f3a3e8a3\nValid from: Mon Oct 10 02:00:00 CEST 2022 until: Sun Nov 05 00:59:59 CET 2023\nCertificate fingerprints:\n         MD5:  AF:C4:FA:F6:A2:99:D8:C3:C3:9A:1D:B7:A4:6D:D7:21\n         SHA1: 4D:55:B9:2B:69:67:2E:AA:2A:B4:3B:B6:D1:BC:35:77:B0:FD:50:A0\n         SHA256: 96:AF:91:70:80:F6:F1:9E:30:18:CC:97:53:10:B4:7E:B2:CC:37:31:77:CB:C1:E1:1C:14:BC:CF:19:08:04:3B\n         Signature algorithm name: SHA256WITHRSA\n         Version: 3\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n<p>I don't understand why the code is throwing that exception. I have searched here on StackOverflow and I have found similar questions (<a href=\"https://stackoverflow.com/questions/19540289/how-to-fix-the-java-security-cert-certificateexception-no-subject-alternative\">1</a>, <a href=\"https://stackoverflow.com/questions/67185157/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no\">2</a>, <a href=\"https://stackoverflow.com/questions/29157861/java-certificateexception-no-subject-alternative-names-matching-ip-address\">3</a>), but these people used an IP address to connect to the server, instead of an FQDN.</p>\n<p>I do not control the server so I can't change the certificate in any way.</p>\n<p>Is there something I can do client-side without disabling the hostname verification?</p>\n"},{"tags":["java","spring","aspectj","slf4j","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687803968,"post_id":76532389,"comment_id":134985062,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). You already provided a lot of information, which is great. Unfortunately, it is still fragmentary. The problems could be in many places. Please publish your MCVE on GitHub, so I can take a look. Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. You already provided a lot of information, which is great. Unfortunately, it is still fragmentary. The problems could be in many places. Please publish your MCVE on GitHub, so I can take a look. Thank you."}],"owner":{"account_id":28873675,"reputation":11,"user_id":22114685,"display_name":"Steppe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687440276,"creation_date":1687440276,"question_id":76532389,"body_markdown":"I have two Java projects with Spring Boot and Maven:\r\n\r\n- Backend-Client which communicates with a webservice\r\n- MonitoringSystem Backend Client which is added as an external library to the first project and contanins the AOP implementation\r\n\r\nIn the later one I have one aspect which is already working in SpringAOP and reports every thrown error to the MonitoringSystem.\r\n```\r\n    @Pointcut(&quot;(within(foo.xy..*) || within(foo.doo..*)) &amp;&amp; &quot; +\r\n            &quot;!within(is(FinalType)) &amp;&amp; &quot; +\r\n            &quot;!within(is(EnumType))&quot;)\r\n\r\n```\r\n\r\n\r\nNow I am trying to set up a second one to catch every log entry created during runtime with the most common logging frameworks like SLF4J to write them in a separate log file. I tried this with the following pointcut expression: \r\n\r\n\r\n\r\n```\r\n    @Pointcut(&quot;call(* org.apache.logging.log4j.Logger.*(..)) &quot; +\r\n            &quot;|| call(* org.slf4j.Logger.*(..)) &quot; +\r\n            &quot;|| call(* org.slf4j.LoggerFactory.*(..))&quot;)\r\n    public void loggerCalls() {}\r\n```\r\n\r\n\r\n\r\nAs this packages are not in the Spring context I tried this with loadTimeWeaving enabled:\r\n\r\n\r\n```\r\n\r\n@EnableLoadTimeWeaving\r\n\r\naop.xml set right\r\n\r\n-javaagent:...\\spring-instrument.jar\r\n-Dorg.aspectj.weaver.showWeaveInfo=true\r\n```\r\n\r\nBut the aspect is never triggered. The frist one still runs like its supposed, but with a pretty long stacktrace which doesnt contain any usefull information for debugging.\r\nThe fun thing is, that this aspect worked for a time, but after a few changes I was never again able to make it work.\r\n\r\nEven with the expression\r\n```\r\n execution(public * *(..)) \r\n```\r\nthe aspect is not working, so i guess the weaving is just not working.\r\n\r\nI have no clue where the problem is or how i can further track this down. What I can do next to make it work again. Is there a good example out there for my use case?\r\n\r\nThank you in advance.","title":"SpringAOP and Aspectj: Aspect to get all Logger calls","body":"<p>I have two Java projects with Spring Boot and Maven:</p>\n<ul>\n<li>Backend-Client which communicates with a webservice</li>\n<li>MonitoringSystem Backend Client which is added as an external library to the first project and contanins the AOP implementation</li>\n</ul>\n<p>In the later one I have one aspect which is already working in SpringAOP and reports every thrown error to the MonitoringSystem.</p>\n<pre><code>    @Pointcut(&quot;(within(foo.xy..*) || within(foo.doo..*)) &amp;&amp; &quot; +\n            &quot;!within(is(FinalType)) &amp;&amp; &quot; +\n            &quot;!within(is(EnumType))&quot;)\n\n</code></pre>\n<p>Now I am trying to set up a second one to catch every log entry created during runtime with the most common logging frameworks like SLF4J to write them in a separate log file. I tried this with the following pointcut expression:</p>\n<pre><code>    @Pointcut(&quot;call(* org.apache.logging.log4j.Logger.*(..)) &quot; +\n            &quot;|| call(* org.slf4j.Logger.*(..)) &quot; +\n            &quot;|| call(* org.slf4j.LoggerFactory.*(..))&quot;)\n    public void loggerCalls() {}\n</code></pre>\n<p>As this packages are not in the Spring context I tried this with loadTimeWeaving enabled:</p>\n<pre><code>\n@EnableLoadTimeWeaving\n\naop.xml set right\n\n-javaagent:...\\spring-instrument.jar\n-Dorg.aspectj.weaver.showWeaveInfo=true\n</code></pre>\n<p>But the aspect is never triggered. The frist one still runs like its supposed, but with a pretty long stacktrace which doesnt contain any usefull information for debugging.\nThe fun thing is, that this aspect worked for a time, but after a few changes I was never again able to make it work.</p>\n<p>Even with the expression</p>\n<pre><code> execution(public * *(..)) \n</code></pre>\n<p>the aspect is not working, so i guess the weaving is just not working.</p>\n<p>I have no clue where the problem is or how i can further track this down. What I can do next to make it work again. Is there a good example out there for my use case?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring","apache-kafka","spring-webflux","reactor-kafka"],"answers":[{"comments":[{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1687429292,"post_id":76530132,"comment_id":134937050,"body_markdown":"Thanks. I added my own serializer and deserilalizer logic. Serialization seems to be working but deserialisation is failing.","body":"Thanks. I added my own serializer and deserilalizer logic. Serialization seems to be working but deserialisation is failing."},{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1687429302,"post_id":76530132,"comment_id":134937051,"body_markdown":"I modified message class as well.","body":"I modified message class as well."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687438813,"post_id":76530132,"comment_id":134939124,"body_markdown":"Looks like your object is not properly serialized. Please provide serialization code","body":"Looks like your object is not properly serialized. Please provide serialization code"},{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1687439823,"post_id":76530132,"comment_id":134939351,"body_markdown":"i added serialisation and deserialisation code in message class but now it fails with a different error as updated in the question","body":"i added serialisation and deserialisation code in message class but now it fails with a different error as updated in the question"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687440463,"post_id":76530132,"comment_id":134939514,"body_markdown":"1) include [serialVersionUuid](https://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it), it&#39;s always a good practice 2) purge/recreate topic, to make sure you are trying to deserialize only newly created messages","body":"1) include <a href=\"https://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it\">serialVersionUuid</a>, it&#39;s always a good practice 2) purge/recreate topic, to make sure you are trying to deserialize only newly created messages"}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687424033,"creation_date":1687424033,"answer_id":76530132,"question_id":76529982,"body_markdown":"You are right, you are manually returning `null` from you deserializer, which is `Message` class:\r\n\r\n    @Override\r\n    public Object deserialize(String topic, byte[] data) {\r\n        return null;\r\n    }\r\n    \r\n    @Override\r\n    public Object deserialize(String topic, Headers headers, byte[] data) {\r\n        return Deserializer.super.deserialize(topic, headers, data);\r\n    }\r\n\r\nImplement actual deserialization instead of returning `null` here.\r\nSecond method calls `Deserializer.super.deserialize` which forwards to the first one according to its implementation:\r\n\r\n\r\n    default T deserialize(String topic, Headers headers, byte[] data) {\r\n        return this.deserialize(topic, data);\r\n    }\r\nso you get null in any case. Common practice is to override only `deserialize(String topic, byte[] data)` if you don&#39;t need headers. `deserialize(String topic, Headers headers, byte[] data)` would use it by default as shown above.","title":"Reactor Kafka is receiving the message but printing value as &quot;null&quot;","body":"<p>You are right, you are manually returning <code>null</code> from you deserializer, which is <code>Message</code> class:</p>\n<pre><code>@Override\npublic Object deserialize(String topic, byte[] data) {\n    return null;\n}\n\n@Override\npublic Object deserialize(String topic, Headers headers, byte[] data) {\n    return Deserializer.super.deserialize(topic, headers, data);\n}\n</code></pre>\n<p>Implement actual deserialization instead of returning <code>null</code> here.\nSecond method calls <code>Deserializer.super.deserialize</code> which forwards to the first one according to its implementation:</p>\n<pre><code>default T deserialize(String topic, Headers headers, byte[] data) {\n    return this.deserialize(topic, data);\n}\n</code></pre>\n<p>so you get null in any case. Common practice is to override only <code>deserialize(String topic, byte[] data)</code> if you don't need headers. <code>deserialize(String topic, Headers headers, byte[] data)</code> would use it by default as shown above.</p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687439704,"creation_date":1687422783,"question_id":76529982,"body_markdown":"Received messages are showing payload as null.\r\n\r\nPublishing and consuming  is working. I can see the logs printing getting triggered whenever there is a publish and consumption. Messages are produced every second.\r\n\r\nI think the issue might be with the serialization. Im not sure though. I have a pojo of class &quot;Message&quot; as payload. This is my config class:\r\n\r\n```\r\npackage com.example.demo.config;\r\n\r\nimport com.example.demo.model.Message;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\r\nimport org.springframework.kafka.support.serializer.JsonSerializer;\r\nimport reactor.kafka.receiver.KafkaReceiver;\r\nimport reactor.kafka.receiver.ReceiverOptions;\r\nimport reactor.kafka.receiver.internals.ConsumerFactory;\r\nimport reactor.kafka.receiver.internals.DefaultKafkaReceiver;\r\nimport reactor.kafka.sender.KafkaSender;\r\nimport reactor.kafka.sender.SenderOptions;\r\n\r\nimport javax.swing.*;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    private static final String TOPIC = &quot;data-store&quot;;\r\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\r\n    private static final String CLIENT_ID_CONFIG = &quot;webflux-client&quot;;\r\n    private static final String GROUP_ID_CONFIG = &quot;webflux-group&quot;;\r\n\r\n    @Bean\r\n    public KafkaReceiver kafkaReceiver(){\r\n\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, CLIENT_ID_CONFIG);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID_CONFIG);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Message.class.getName());\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put (ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\r\n\r\n        return new DefaultKafkaReceiver(ConsumerFactory.INSTANCE, ReceiverOptions.create(props).subscription(Collections.singleton(TOPIC)));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaSender&lt;String, Message&gt; kafkaSender(){\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n        props.put(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID_CONFIG);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, Message.class.getName());\r\n\r\n        SenderOptions&lt;String, Message&gt; senderOptions = SenderOptions.create(props);\r\n        return KafkaSender.create(senderOptions);\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThis is my Producer controller :\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport com.example.demo.model.Message;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\nimport org.apache.kafka.clients.producer.RecordMetadata;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.kafka.sender.KafkaSender;\r\nimport reactor.kafka.sender.SenderRecord;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.Duration;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Date;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class KafkaProducerController {\r\n\r\n    private static final String TOPIC = &quot;data-store&quot;;\r\n\r\n    private final KafkaSender&lt;String, Message&gt; sender;\r\n\r\n    @GetMapping(&quot;/kafka/stop-generation&quot;)\r\n    public void close(){\r\n        sender.close();\r\n    }\r\n\r\n    @GetMapping(&quot;/kafka/generate-messages&quot;)\r\n    public void generateMessages() throws InterruptedException {\r\n        sender.send(generateFlux()\r\n                .map(i -&gt; SenderRecord.create(new ProducerRecord&lt;&gt;(TOPIC,&quot;Key&quot; + i,i), i)))\r\n                .doOnError(error -&gt; System.out.println(&quot;Send failed&quot; + error))\r\n                .subscribe(record -&gt; {\r\n                    System.out.println(&quot;::: &quot; + record.recordMetadata().toString() + &quot;:::&quot; + record.correlationMetadata());\r\n                   \r\n                });\r\n        }\r\n\r\n    public Flux&lt;Message&gt; generateFlux() {\r\n        return Flux.interval(Duration.ofSeconds(1))\r\n                .map(sequence -&gt; generateMessage());\r\n    }\r\n\r\n    public Message generateMessage() {\r\n        double id = Math.random() * 100 ;\r\n        return new Message((int) id, &quot;Message &quot; + id, LocalDateTime.now().toString());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my consumer :\r\n```\r\n\r\n@RestController\r\npublic class KafkaReceiverController {\r\n\r\n    @Autowired\r\n    private KafkaReceiver&lt;String,Message&gt; kafkaReceiver;\r\n\r\n    @GetMapping(value = &quot;/kafka/get-messages&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public void getMessageFlux() {\r\n        Flux&lt;ReceiverRecord&lt;String, Message&gt;&gt; kafkaFlux = kafkaReceiver.receive();\r\n\r\n         kafkaFlux\r\n                 .doOnNext(record -&gt; System.out.println(&quot; received :: &quot; + record.value()))\r\n                 .subscribe();\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nMy Message class :\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.apache.kafka.common.header.Headers;\r\nimport org.apache.kafka.common.serialization.Deserializer;\r\nimport org.apache.kafka.common.serialization.Serializer;\r\n\r\nimport java.util.Map;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Message implements Serializer, Deserializer {\r\n\r\n    private int id;\r\n    private String content;\r\n    private String timestamp;\r\n\r\n    @Override\r\n    public void configure(Map configs, boolean isKey) {\r\n        Serializer.super.configure(configs, isKey);\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Object data) {\r\n        return new byte[0];\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Headers headers, Object data) {\r\n        return Serializer.super.serialize(topic, headers, data);\r\n    }\r\n\r\n    @Override\r\n    public Object deserialize(String topic, byte[] data) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Object deserialize(String topic, Headers headers, byte[] data) {\r\n        return Deserializer.super.deserialize(topic, headers, data);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        Serializer.super.close();\r\n    }\r\n}\r\n\r\n````\r\n\r\nEDIT 1:\r\nI overrode the deserialisation mechanism but it is failing with the below error:\r\n```\r\n@Override\r\n    public Message deserialize(String topic, byte[] data) {\r\n        ByteArrayInputStream byteStream = new ByteArrayInputStream(data);\r\n        ObjectInputStream objectStream = new ObjectInputStream(byteStream);\r\n        Object obj = objectStream.readObject();\r\n        objectStream.close();\r\n        return (Message) obj;\r\n    }\r\n\r\n```\r\nError:\r\nIT fails at ObjecinputStream call\r\n```\r\n\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.io.StreamCorruptedException: invalid stream header: 4D657373\r\nCaused by: java.io.StreamCorruptedException: invalid stream header: 4D657373\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963) ~[na:na]\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397) ~[na:na]\r\n\tat com.example.demo.model.Message.deserialize(Message.java:31) ~[main/:na]\r\n\tat com.example.demo.model.Message.deserialize(Message.java:19) ~[main/:na]\r\n```\r\n\r\nI modified Message class to include serialisation and deserialisation:\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Message implements Serializable, Serializer&lt;Message&gt;, Deserializer&lt;Message&gt; {\r\n\r\n    private int id;\r\n    private String content;\r\n    private String timestamp;\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Message deserialize(String topic, byte[] data) {\r\n        ByteArrayInputStream byteStream = new ByteArrayInputStream(data);\r\n        ObjectInputStream objectStream = new ObjectInputStream(byteStream);\r\n        Object obj = objectStream.readObject();\r\n        objectStream.close();\r\n        return (Message) obj;\r\n    }\r\n\r\n    @Override\r\n    public Message deserialize(String topic, Headers headers, byte[] data) {\r\n        return Deserializer.super.deserialize(topic, headers, data);\r\n    }\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        Serializer.super.configure(configs, isKey);\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public byte[] serialize(String topic, Message data) {\r\n        ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n        ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\r\n        objectStream.writeObject(data);\r\n        objectStream.close();\r\n        byte[] byteArray = byteStream.toByteArray();\r\n        byteStream.close();\r\n        return byteArray;\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Headers headers, Message data) {\r\n        return Serializer.super.serialize(topic, headers, data);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        Serializer.super.close();\r\n    }\r\n}\r\n```\r\n\r\nNow the error during deserialisation is :\r\n```\r\nCaused by: java.io.StreamCorruptedException: invalid stream header: 4D657373\r\n\r\n```","title":"Reactor Kafka is receiving the message but printing value as &quot;null&quot;","body":"<p>Received messages are showing payload as null.</p>\n<p>Publishing and consuming  is working. I can see the logs printing getting triggered whenever there is a publish and consumption. Messages are produced every second.</p>\n<p>I think the issue might be with the serialization. Im not sure though. I have a pojo of class &quot;Message&quot; as payload. This is my config class:</p>\n<pre><code>package com.example.demo.config;\n\nimport com.example.demo.model.Message;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\nimport reactor.kafka.receiver.KafkaReceiver;\nimport reactor.kafka.receiver.ReceiverOptions;\nimport reactor.kafka.receiver.internals.ConsumerFactory;\nimport reactor.kafka.receiver.internals.DefaultKafkaReceiver;\nimport reactor.kafka.sender.KafkaSender;\nimport reactor.kafka.sender.SenderOptions;\n\nimport javax.swing.*;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaConfiguration {\n\n    private static final String TOPIC = &quot;data-store&quot;;\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\n    private static final String CLIENT_ID_CONFIG = &quot;webflux-client&quot;;\n    private static final String GROUP_ID_CONFIG = &quot;webflux-group&quot;;\n\n    @Bean\n    public KafkaReceiver kafkaReceiver(){\n\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, CLIENT_ID_CONFIG);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID_CONFIG);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Message.class.getName());\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put (ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);\n\n        return new DefaultKafkaReceiver(ConsumerFactory.INSTANCE, ReceiverOptions.create(props).subscription(Collections.singleton(TOPIC)));\n    }\n\n    @Bean\n    public KafkaSender&lt;String, Message&gt; kafkaSender(){\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        props.put(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID_CONFIG);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, Message.class.getName());\n\n        SenderOptions&lt;String, Message&gt; senderOptions = SenderOptions.create(props);\n        return KafkaSender.create(senderOptions);\n\n    }\n}\n\n\n</code></pre>\n<p>This is my Producer controller :</p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.model.Message;\nimport lombok.RequiredArgsConstructor;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.RecordMetadata;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Flux;\nimport reactor.kafka.sender.KafkaSender;\nimport reactor.kafka.sender.SenderRecord;\n\nimport java.text.SimpleDateFormat;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.util.Date;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.TimeUnit;\n\n@RestController\n@RequiredArgsConstructor\npublic class KafkaProducerController {\n\n    private static final String TOPIC = &quot;data-store&quot;;\n\n    private final KafkaSender&lt;String, Message&gt; sender;\n\n    @GetMapping(&quot;/kafka/stop-generation&quot;)\n    public void close(){\n        sender.close();\n    }\n\n    @GetMapping(&quot;/kafka/generate-messages&quot;)\n    public void generateMessages() throws InterruptedException {\n        sender.send(generateFlux()\n                .map(i -&gt; SenderRecord.create(new ProducerRecord&lt;&gt;(TOPIC,&quot;Key&quot; + i,i), i)))\n                .doOnError(error -&gt; System.out.println(&quot;Send failed&quot; + error))\n                .subscribe(record -&gt; {\n                    System.out.println(&quot;::: &quot; + record.recordMetadata().toString() + &quot;:::&quot; + record.correlationMetadata());\n                   \n                });\n        }\n\n    public Flux&lt;Message&gt; generateFlux() {\n        return Flux.interval(Duration.ofSeconds(1))\n                .map(sequence -&gt; generateMessage());\n    }\n\n    public Message generateMessage() {\n        double id = Math.random() * 100 ;\n        return new Message((int) id, &quot;Message &quot; + id, LocalDateTime.now().toString());\n    }\n\n}\n\n</code></pre>\n<p>This is my consumer :</p>\n<pre><code>\n@RestController\npublic class KafkaReceiverController {\n\n    @Autowired\n    private KafkaReceiver&lt;String,Message&gt; kafkaReceiver;\n\n    @GetMapping(value = &quot;/kafka/get-messages&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public void getMessageFlux() {\n        Flux&lt;ReceiverRecord&lt;String, Message&gt;&gt; kafkaFlux = kafkaReceiver.receive();\n\n         kafkaFlux\n                 .doOnNext(record -&gt; System.out.println(&quot; received :: &quot; + record.value()))\n                 .subscribe();\n\n\n    }\n}\n\n</code></pre>\n<p>My Message class :</p>\n<pre><code>package com.example.demo.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.apache.kafka.common.header.Headers;\nimport org.apache.kafka.common.serialization.Deserializer;\nimport org.apache.kafka.common.serialization.Serializer;\n\nimport java.util.Map;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Message implements Serializer, Deserializer {\n\n    private int id;\n    private String content;\n    private String timestamp;\n\n    @Override\n    public void configure(Map configs, boolean isKey) {\n        Serializer.super.configure(configs, isKey);\n    }\n\n    @Override\n    public byte[] serialize(String topic, Object data) {\n        return new byte[0];\n    }\n\n    @Override\n    public byte[] serialize(String topic, Headers headers, Object data) {\n        return Serializer.super.serialize(topic, headers, data);\n    }\n\n    @Override\n    public Object deserialize(String topic, byte[] data) {\n        return null;\n    }\n\n    @Override\n    public Object deserialize(String topic, Headers headers, byte[] data) {\n        return Deserializer.super.deserialize(topic, headers, data);\n    }\n\n    @Override\n    public void close() {\n        Serializer.super.close();\n    }\n}\n\n</code></pre>\n<p>EDIT 1:\nI overrode the deserialisation mechanism but it is failing with the below error:</p>\n<pre><code>@Override\n    public Message deserialize(String topic, byte[] data) {\n        ByteArrayInputStream byteStream = new ByteArrayInputStream(data);\n        ObjectInputStream objectStream = new ObjectInputStream(byteStream);\n        Object obj = objectStream.readObject();\n        objectStream.close();\n        return (Message) obj;\n    }\n\n</code></pre>\n<p>Error:\nIT fails at ObjecinputStream call</p>\n<pre><code>\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.io.StreamCorruptedException: invalid stream header: 4D657373\nCaused by: java.io.StreamCorruptedException: invalid stream header: 4D657373\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963) ~[na:na]\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397) ~[na:na]\n    at com.example.demo.model.Message.deserialize(Message.java:31) ~[main/:na]\n    at com.example.demo.model.Message.deserialize(Message.java:19) ~[main/:na]\n</code></pre>\n<p>I modified Message class to include serialisation and deserialisation:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\npublic class Message implements Serializable, Serializer&lt;Message&gt;, Deserializer&lt;Message&gt; {\n\n    private int id;\n    private String content;\n    private String timestamp;\n\n    @SneakyThrows\n    @Override\n    public Message deserialize(String topic, byte[] data) {\n        ByteArrayInputStream byteStream = new ByteArrayInputStream(data);\n        ObjectInputStream objectStream = new ObjectInputStream(byteStream);\n        Object obj = objectStream.readObject();\n        objectStream.close();\n        return (Message) obj;\n    }\n\n    @Override\n    public Message deserialize(String topic, Headers headers, byte[] data) {\n        return Deserializer.super.deserialize(topic, headers, data);\n    }\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n        Serializer.super.configure(configs, isKey);\n    }\n\n    @SneakyThrows\n    @Override\n    public byte[] serialize(String topic, Message data) {\n        ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n        ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\n        objectStream.writeObject(data);\n        objectStream.close();\n        byte[] byteArray = byteStream.toByteArray();\n        byteStream.close();\n        return byteArray;\n    }\n\n    @Override\n    public byte[] serialize(String topic, Headers headers, Message data) {\n        return Serializer.super.serialize(topic, headers, data);\n    }\n\n    @Override\n    public void close() {\n        Serializer.super.close();\n    }\n}\n</code></pre>\n<p>Now the error during deserialisation is :</p>\n<pre><code>Caused by: java.io.StreamCorruptedException: invalid stream header: 4D657373\n\n</code></pre>\n"},{"tags":["java","android","osmand"],"owner":{"account_id":25806521,"reputation":1,"user_id":19547975,"display_name":"Bandish Sapphire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687439443,"creation_date":1687439108,"question_id":76532242,"body_markdown":"I have three activities, in all the activities below map view of OsmAnd is loaded.\r\n\r\n```\r\n&lt;com.data.net.osmand.plus.views.MapViewWithLayers\r\n                android:id=&quot;@+id/map_view_with_layers&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;/&gt;\r\n```\r\nWhen the first activity loaded it worked fine. The map is shown and the lat long is set.\r\nLoading the second activity from the first activity will load the map.\r\nLoading the third activity from the second activity will load the map.\r\n\r\nBut when I return from the third activity, the second activity map was black screen.\r\nWhen I got back from the second activity, in the first activity map was a black screen\r\n\r\nPlease help me with this.\r\n\r\n    OsmandApplication app = (OsmandApplication) getApplication();\r\n    mapTileView = app.getOsmandMap().getMapView();\r\n    mapTileView.setupRenderingView();\r\n    mapTileView.setIntZoom(18);\r\n    mapTileView.setLatLon(mLatitude, mLongitude);\r\n\r\n","title":"OsmAnd Map black screen","body":"<p>I have three activities, in all the activities below map view of OsmAnd is loaded.</p>\n<pre><code>&lt;com.data.net.osmand.plus.views.MapViewWithLayers\n                android:id=&quot;@+id/map_view_with_layers&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;/&gt;\n</code></pre>\n<p>When the first activity loaded it worked fine. The map is shown and the lat long is set.\nLoading the second activity from the first activity will load the map.\nLoading the third activity from the second activity will load the map.</p>\n<p>But when I return from the third activity, the second activity map was black screen.\nWhen I got back from the second activity, in the first activity map was a black screen</p>\n<p>Please help me with this.</p>\n<pre><code>OsmandApplication app = (OsmandApplication) getApplication();\nmapTileView = app.getOsmandMap().getMapView();\nmapTileView.setupRenderingView();\nmapTileView.setIntZoom(18);\nmapTileView.setLatLon(mLatitude, mLongitude);\n</code></pre>\n"},{"tags":["java","unit-testing","tdd","junit4"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687361558,"post_id":76524686,"comment_id":134926992,"body_markdown":"Can you be more specific?  What do you mean by, _&quot;test each element individually&quot;_?","body":"Can you be more specific?  What do you mean by, <i>&quot;test each element individually&quot;</i>?"},{"owner":{"account_id":27163971,"reputation":1,"user_id":20701737,"display_name":"reichan"},"score":0,"creation_date":1687426966,"post_id":76524686,"comment_id":134936469,"body_markdown":"I mean let&#39;s say you add 3 strings to String Array,  I want to test if those are the same inside the String Array you created.  My apologies if it confuses you","body":"I mean let&#39;s say you add 3 strings to String Array,  I want to test if those are the same inside the String Array you created.  My apologies if it confuses you"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687449496,"post_id":76524686,"comment_id":134941693,"body_markdown":"Isn&#39;t that what the _assertArrayEquals_ method does?  Possibly, you are looking to locate just one value?  You can use _List.of(actual).contains(&quot;value&quot;)_.","body":"Isn&#39;t that what the <i>assertArrayEquals</i> method does?  Possibly, you are looking to locate just one value?  You can use <i>List.of(actual).contains(&quot;value&quot;)</i>."}],"answers":[{"tags":[],"owner":{"account_id":24557191,"reputation":101,"user_id":18465532,"display_name":"Mina-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687439059,"creation_date":1687439059,"answer_id":76532232,"question_id":76524686,"body_markdown":"You can use `assertArrayEquals()` method for array comparing, If you use pure JUnit API. check this [Junit document](https://junit.org/junit4/javadoc/4.12/org/junit/Assert.html#:~:text=assertArrayEquals,-public%20static%20void&amp;text=junit.internal.ArrayComparisonFailure-,Asserts%20that%20two%20object%20arrays%20are%20equal.,null%20%2C%20they%20are%20considered%20equal.)\r\n\r\nIf you use `assertj` as assertion library, you can use `usingRecursiveComparison()` method when you start builder.\r\n\r\nPS. this question can be searchable easily... please google it as possible as you can and create question if there is no answer.","title":"How do you test the each element inside String Array in java Junit5?","body":"<p>You can use <code>assertArrayEquals()</code> method for array comparing, If you use pure JUnit API. check this <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/Assert.html#:%7E:text=assertArrayEquals,-public%20static%20void&amp;text=junit.internal.ArrayComparisonFailure-,Asserts%20that%20two%20object%20arrays%20are%20equal.,null%20%2C%20they%20are%20considered%20equal.\" rel=\"nofollow noreferrer\">Junit document</a></p>\n<p>If you use <code>assertj</code> as assertion library, you can use <code>usingRecursiveComparison()</code> method when you start builder.</p>\n<p>PS. this question can be searchable easily... please google it as possible as you can and create question if there is no answer.</p>\n"}],"owner":{"account_id":27163971,"reputation":1,"user_id":20701737,"display_name":"reichan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687439059,"creation_date":1687359637,"question_id":76524686,"body_markdown":"Let&#39;s say I have this following String Array \r\n\r\n```\r\nString[] expected = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;scissor&quot;};\r\n```\r\n\r\n\r\n\r\n\r\nSounds dummy, I am fairly new junit5, how do you do test element inside the String Array? I only know how to compare two different String Array by doing this.\r\n```\r\n\r\n@Test\r\n    public void testStringArray() throws Exception {\r\n        String[] expected = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;scissor&quot;};\r\n        String[] actual = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;sci&quot;};\r\n        assertArrayEquals(expected, actual);\r\n\r\n    }\r\n```\r\n\r\nNow I want to test each element from the &#39;expected&#39; individually, is there a better way to do that?","title":"How do you test the each element inside String Array in java Junit5?","body":"<p>Let's say I have this following String Array</p>\n<pre><code>String[] expected = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;scissor&quot;};\n</code></pre>\n<p>Sounds dummy, I am fairly new junit5, how do you do test element inside the String Array? I only know how to compare two different String Array by doing this.</p>\n<pre><code>\n@Test\n    public void testStringArray() throws Exception {\n        String[] expected = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;scissor&quot;};\n        String[] actual = new String[]{&quot;rock&quot;, &quot;paper&quot;, &quot;sci&quot;};\n        assertArrayEquals(expected, actual);\n\n    }\n</code></pre>\n<p>Now I want to test each element from the 'expected' individually, is there a better way to do that?</p>\n"},{"tags":["java","spring-boot","jjwt"],"owner":{"account_id":4783457,"reputation":406,"user_id":5085934,"accept_rate":50,"display_name":"Joshua Schroijen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687439015,"creation_date":1687439015,"question_id":76532224,"body_markdown":"I&#39;m trying to implement JWT enabled authentication in my Spring Boot application. I&#39;m using the [io.jsonwebtoken.jjwt library](https://github.com/jwtk/jjwt). But unfortunately I&#39;m facing issues with parsing JWT tokens my application has created.\r\nJwtParser.parseClaimsJws doesn&#39;t consider my token just created by JwtBuilder.compact to be valid. The exact same javax.crypto.SecretKey is used for signing and checking. The token is definitely not expired. When JwtParser.parseClaimsJws is called the following exception is thrown:\r\nio.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.\r\n\r\nHere is a truncated version of the class I&#39;m writing to manage JWTs in my Spring Boot project:\r\n\r\n\r\n    import java.security.SecureRandom;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    \r\n    @Component\r\n    public class JwtUtils {\r\n      private SecretKey jwtSigningKey;\r\n    \r\n      public JwtUtils() throws Exception {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;HmacSHA256&quot;);\r\n        keyGenerator.init(SecureRandom.getInstanceStrong());\r\n        jwtSigningKey = keyGenerator.generateKey();\r\n      }\r\n    \r\n      private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n          .parserBuilder()\r\n          .setSigningKey(jwtSigningKey)\r\n          .build()\r\n          .parseClaimsJws(token)\r\n          .getBody();\r\n      }\r\n    \r\n      public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        return createToken(claims, userDetails);\r\n      }\r\n    \r\n      public String generateToken(\r\n        UserDetails userDetails,\r\n        Map&lt;String, Object&gt; claims\r\n      ) {\r\n        return createToken(claims, userDetails);\r\n      }\r\n    \r\n      private String createToken(\r\n        Map&lt;String, Object&gt; claims,\r\n        UserDetails userDetails\r\n      ) {\r\n        return Jwts\r\n          .builder()\r\n          .setClaims(claims)\r\n          .setSubject(userDetails.getUsername())\r\n          .claim(&quot;authorities&quot;, userDetails.getAuthorities())\r\n          .setIssuedAt(new Date(System.currentTimeMillis()))\r\n          .setExpiration(\r\n            new Date(System.currentTimeMillis() + TimeUnit.HOURS.toMillis(24))\r\n          )\r\n          .signWith(jwtSigningKey)\r\n          .compact();\r\n      }\r\n    }\r\n\r\n\r\nWhen createToken is executed, a token is successfully generated and returned to an Angular frontend application. After that, when the token is successfully passed back to my code and passed into the extractAllClaims method successfully a few seconds later, the SignatureException is thrown on line 24 in the call to parseClaimsJws.\r\n\r\nThe constructor of this class, creating the secret key, also ran without problems. Because of Spring Boot&#39;s @Component annotation, I know this class is a singleton in my running application and the key stays the same. I have confirmed this through logging the hash code of the key over several independent requests to my application.\r\n\r\nI&#39;m using the following versions of the libraries:  \r\n\r\n    io.jsonwebtoken.jjwt-api: 0.11.5\r\n    io.jsonwebtoken.jjwt-impl: 0.11.5\r\n    io.jsonwebtoken.jjwt-jackson: 0.11.5\r\n    spring-boot: 3.1.0\r\n\r\nAny help or insight is much appreciated!\r\n\r\nThank you in advance and best regards,  \r\nJoshua Schroijen","title":"JwtParser.parseClaimsJws doesn&#39;t consider token just created by JwtBuilder.compact to be valid","body":"<p>I'm trying to implement JWT enabled authentication in my Spring Boot application. I'm using the <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">io.jsonwebtoken.jjwt library</a>. But unfortunately I'm facing issues with parsing JWT tokens my application has created.\nJwtParser.parseClaimsJws doesn't consider my token just created by JwtBuilder.compact to be valid. The exact same javax.crypto.SecretKey is used for signing and checking. The token is definitely not expired. When JwtParser.parseClaimsJws is called the following exception is thrown:\nio.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.</p>\n<p>Here is a truncated version of the class I'm writing to manage JWTs in my Spring Boot project:</p>\n<pre><code>import java.security.SecureRandom;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport org.springframework.stereotype.Component;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\n\n@Component\npublic class JwtUtils {\n  private SecretKey jwtSigningKey;\n\n  public JwtUtils() throws Exception {\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;HmacSHA256&quot;);\n    keyGenerator.init(SecureRandom.getInstanceStrong());\n    jwtSigningKey = keyGenerator.generateKey();\n  }\n\n  private Claims extractAllClaims(String token) {\n    return Jwts\n      .parserBuilder()\n      .setSigningKey(jwtSigningKey)\n      .build()\n      .parseClaimsJws(token)\n      .getBody();\n  }\n\n  public String generateToken(UserDetails userDetails) {\n    Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n    return createToken(claims, userDetails);\n  }\n\n  public String generateToken(\n    UserDetails userDetails,\n    Map&lt;String, Object&gt; claims\n  ) {\n    return createToken(claims, userDetails);\n  }\n\n  private String createToken(\n    Map&lt;String, Object&gt; claims,\n    UserDetails userDetails\n  ) {\n    return Jwts\n      .builder()\n      .setClaims(claims)\n      .setSubject(userDetails.getUsername())\n      .claim(&quot;authorities&quot;, userDetails.getAuthorities())\n      .setIssuedAt(new Date(System.currentTimeMillis()))\n      .setExpiration(\n        new Date(System.currentTimeMillis() + TimeUnit.HOURS.toMillis(24))\n      )\n      .signWith(jwtSigningKey)\n      .compact();\n  }\n}\n</code></pre>\n<p>When createToken is executed, a token is successfully generated and returned to an Angular frontend application. After that, when the token is successfully passed back to my code and passed into the extractAllClaims method successfully a few seconds later, the SignatureException is thrown on line 24 in the call to parseClaimsJws.</p>\n<p>The constructor of this class, creating the secret key, also ran without problems. Because of Spring Boot's @Component annotation, I know this class is a singleton in my running application and the key stays the same. I have confirmed this through logging the hash code of the key over several independent requests to my application.</p>\n<p>I'm using the following versions of the libraries:</p>\n<pre><code>io.jsonwebtoken.jjwt-api: 0.11.5\nio.jsonwebtoken.jjwt-impl: 0.11.5\nio.jsonwebtoken.jjwt-jackson: 0.11.5\nspring-boot: 3.1.0\n</code></pre>\n<p>Any help or insight is much appreciated!</p>\n<p>Thank you in advance and best regards,<br />\nJoshua Schroijen</p>\n"},{"tags":["java","json","parsing","gson","amazon-sqs"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1687350200,"post_id":76522606,"comment_id":134923990,"body_markdown":"It looks to me like the problem is that the timestamp is not quoted, so the value of it gets terminated at the colon. Actually, in JSON the property names should be quoted as well, so even if the parser can handle some of that, it might be tough to parse a json of something that is not a valid json.","body":"It looks to me like the problem is that the timestamp is not quoted, so the value of it gets terminated at the colon. Actually, in JSON the property names should be quoted as well, so even if the parser can handle some of that, it might be tough to parse a json of something that is not a valid json."},{"owner":{"account_id":24203229,"reputation":1,"user_id":18160791,"display_name":"Ravi Keshri"},"score":0,"creation_date":1687350711,"post_id":76522606,"comment_id":134924133,"body_markdown":"Hi @DanielBarbarian Thanks for your response. Yes I can also see the same but I cannot change the message structure at the source. Can we do something in our side? I don&#39;t need the Timestamp field. I am only intereseted in ObjectId.","body":"Hi @DanielBarbarian Thanks for your response. Yes I can also see the same but I cannot change the message structure at the source. Can we do something in our side? I don&#39;t need the Timestamp field. I am only intereseted in ObjectId."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687351143,"post_id":76522606,"comment_id":134924244,"body_markdown":"If what you are trying to parse is not a valid json you can probably not rely on a json parser. The two options I see is that either you change the content of the data after it has arrived to make it into valid json or to write your own parser.","body":"If what you are trying to parse is not a valid json you can probably not rely on a json parser. The two options I see is that either you change the content of the data after it has arrived to make it into valid json or to write your own parser."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687438263,"creation_date":1687438263,"answer_id":76532111,"question_id":76522606,"body_markdown":"In addition to what @DanielBarbarian wrote in the comments, the complete `Message` value is not valid JSON. None of the member names (e.g. `ObjectId`) are quoted, which is required by JSON. Gson just happens to accept this because it is [lenient by default](https://github.com/google/gson/blob/main/Troubleshooting.md#default-lenient).  \r\nBut if possible you should not rely on this, because this &quot;lenient mode&quot; of Gson is not standardized in any way and allows all kind of malformed JSON. So if you were to switch to a different JSON library in the future, or tried to port the code to another programming language, you would run into issues.\r\n\r\nThe proper solution might be to find out how exactly this `Message` value is structured and if necessary write your own parser for it.\r\n","title":"Timestamp field is not getting deserialized using Gson","body":"<p>In addition to what @DanielBarbarian wrote in the comments, the complete <code>Message</code> value is not valid JSON. None of the member names (e.g. <code>ObjectId</code>) are quoted, which is required by JSON. Gson just happens to accept this because it is <a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#default-lenient\" rel=\"nofollow noreferrer\">lenient by default</a>.<br />\nBut if possible you should not rely on this, because this &quot;lenient mode&quot; of Gson is not standardized in any way and allows all kind of malformed JSON. So if you were to switch to a different JSON library in the future, or tried to port the code to another programming language, you would run into issues.</p>\n<p>The proper solution might be to find out how exactly this <code>Message</code> value is structured and if necessary write your own parser for it.</p>\n"}],"owner":{"account_id":24203229,"reputation":1,"user_id":18160791,"display_name":"Ravi Keshri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687438263,"creation_date":1687345583,"question_id":76522606,"body_markdown":"I am trying to deserialize an SQS message whose message field is something like this:\r\n\r\n```\r\n{&quot;Message&quot;:&quot;{ObjectId:\\&quot;SomeObjectId:SomeVersion:1\\&quot;,WorkId:\\&quot;12345abcdde\\&quot;,Timestamp:2023-06-18T19:36:43.219Z,MsgFormatVer:1}&quot;}\r\n```\r\n\r\nBasically I am able to get the String `Message` but I am not able to further deserialize.\r\n\r\nThese are the POJOs I am using to desrialize the message:\r\n\r\n```\r\npublic class EventModel {\r\n    private String Message;\r\n}\r\n\r\npublic class SQSMessageBody {\r\n    private String ObjectId;\r\n}\r\n```\r\n\r\nThis is the code:\r\n\r\n```\r\nprivate static final Gson gson = new GsonBuilder().create();\r\n\r\npublic static &lt;Message&gt; Message getSQSMessage(final String message, final Class&lt;Message&gt; clazz) {\r\n    EventModel eventModel = gson.fromJson(message, EventModel.class);\r\n    return gson.fromJson(eventModel.getMessage(), clazz);\r\n}\r\n\r\nSQSMessageBody sqsMessageBody = getSQSMessage(message.getBody(), SQSMessageBody.class);\r\n```\r\n\r\nI don&#39;t need timestamp but it is not getting ignored. I also tried building the Gson builder like this:\r\n\r\n```\r\nprivate static final Gson gson = new GsonBuilder()\r\n            .setDateFormat(&quot;yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n            .create();\r\n```\r\n\r\nI am getting either of the below errors:\r\n\r\n```\r\nMalformedJsonException: Unterminated object at line 1 column 137 path $.Timestamp\r\n```\r\n\r\n```\r\nUnparseable date: &quot;2023-06-18T19&quot;\r\n```\r\n\r\nNote:\r\n\r\n1. I cannot change the structure of SQS message.\r\n2. I cannot add quotes to Timestamp value.\r\n3. Without Timestamp field it works fine.","title":"Timestamp field is not getting deserialized using Gson","body":"<p>I am trying to deserialize an SQS message whose message field is something like this:</p>\n<pre><code>{&quot;Message&quot;:&quot;{ObjectId:\\&quot;SomeObjectId:SomeVersion:1\\&quot;,WorkId:\\&quot;12345abcdde\\&quot;,Timestamp:2023-06-18T19:36:43.219Z,MsgFormatVer:1}&quot;}\n</code></pre>\n<p>Basically I am able to get the String <code>Message</code> but I am not able to further deserialize.</p>\n<p>These are the POJOs I am using to desrialize the message:</p>\n<pre><code>public class EventModel {\n    private String Message;\n}\n\npublic class SQSMessageBody {\n    private String ObjectId;\n}\n</code></pre>\n<p>This is the code:</p>\n<pre><code>private static final Gson gson = new GsonBuilder().create();\n\npublic static &lt;Message&gt; Message getSQSMessage(final String message, final Class&lt;Message&gt; clazz) {\n    EventModel eventModel = gson.fromJson(message, EventModel.class);\n    return gson.fromJson(eventModel.getMessage(), clazz);\n}\n\nSQSMessageBody sqsMessageBody = getSQSMessage(message.getBody(), SQSMessageBody.class);\n</code></pre>\n<p>I don't need timestamp but it is not getting ignored. I also tried building the Gson builder like this:</p>\n<pre><code>private static final Gson gson = new GsonBuilder()\n            .setDateFormat(&quot;yyyy-mm-dd'T'HH:mm:ss.SSSZ&quot;)\n            .create();\n</code></pre>\n<p>I am getting either of the below errors:</p>\n<pre><code>MalformedJsonException: Unterminated object at line 1 column 137 path $.Timestamp\n</code></pre>\n<pre><code>Unparseable date: &quot;2023-06-18T19&quot;\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>I cannot change the structure of SQS message.</li>\n<li>I cannot add quotes to Timestamp value.</li>\n<li>Without Timestamp field it works fine.</li>\n</ol>\n"},{"tags":["java","publish-subscribe","google-cloud-pubsub"],"comments":[{"owner":{"account_id":24835761,"reputation":3,"user_id":18714423,"display_name":"grusome"},"score":0,"creation_date":1689339036,"post_id":76532071,"comment_id":135203197,"body_markdown":"Fixed this - We should add \n`spring.cloud.gcp.pubsub.subscriber.flow-control.max-outstanding-request-bytes: 50000000`\nproperty as well.","body":"Fixed this - We should add  <code>spring.cloud.gcp.pubsub.subscriber.flow-control.max-outstand&zwnj;&#8203;ing-request-bytes: 50000000</code> property as well."}],"owner":{"account_id":24835761,"reputation":3,"user_id":18714423,"display_name":"grusome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687437956,"creation_date":1687437956,"question_id":76532071,"body_markdown":"I need to flow control the messages when pulling the messages using `pubSubTemplate.subscribeAndConvert`.\r\n\r\nI am using \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand pulling the messages \r\n\r\n```\r\nprivate &lt;T&gt; void subscribeAndAck(String subscriptionId, Consumer&lt;T&gt; processor, Class&lt;T&gt; messageType) {\r\n        pubSubTemplate.subscribeAndConvert(subscriptionId, message -&gt; {\r\n            try {\r\n                log.info(&quot;Received message {} {}&quot;, subscriptionId, message.getPayload());\r\n                processor.accept(message.getPayload());\r\n                message.ack();\r\n            } catch (Throwable e) {\r\n                log.error(&quot;Failed processing from subscriptionId {} payload {}&quot;, subscriptionId, message.getPayload(), e);\r\n                message.nack();\r\n               }\r\n        }, messageType);\r\n    }\r\n```\r\n\r\nBy default the flowControl is 1000 messages which is very high for my application. So I have added \r\n```\r\nspring.cloud.gcp.pubsub.subscriber.flow-control.max-outstanding-element-count=10\r\n```\r\nBut when the application starts it subscribes but throws this exception\r\n\r\n\r\n```\r\n2023-06-22T11:27:38.409Z ERROR 7 --- [-worker-ELG-1-1] io.grpc.internal.ManagedChannelImpl      : [Channel&lt;11&gt;: (pubsub.googleapis.com:443)] Uncaught exception in the SynchronizationContext. Panic!\r\n\r\njava.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@7f8c8292[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@11f058e4[Wrapped task = io.grpc.internal.DelayedClientTransport$5@3014d032]] rejected from java.util.concurrent.ScheduledThreadPoolExecutor@9bc0fb5[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2065) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2065) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:340) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:562) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.execute(ScheduledThreadPoolExecutor.java:705) ~[na:na]\r\n\tat io.grpc.internal.DelayedClientTransport.reprocess(DelayedClientTransport.java:297) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.ManagedChannelImpl.updateSubchannelPicker(ManagedChannelImpl.java:831) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.ManagedChannelImpl.access$4400(ManagedChannelImpl.java:105) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:340) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:562) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor.execute(ScheduledThreadPoolExecutor.java:705) ~[na:na]\r\n\tat io.grpc.internal.DelayedClientTransport.reprocess(DelayedClientTransport.java:297) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.ManagedChannelImpl$LbHelperImpl$1UpdateBalancingState.run(ManagedChannelImpl.java:1146) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95) ~[grpc-api-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127) ~[grpc-api-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.InternalSubchannel$TransportListener.transportReady(InternalSubchannel.java:546) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.ManagedChannelImpl.updateSubchannelPicker(ManagedChannelImpl.java:831) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.internal.ManagedChannelImpl.access$4400(ManagedChannelImpl.java:105) ~[grpc-core-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.grpc.netty.ClientTransportLifecycleManager.notifyReady(ClientTransportLifecycleManager.java:43) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.grpc.netty.NettyClientHandler$FrameListener.onSettingsRead(NettyClientHandler.java:854) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onSettingsRead(DefaultHttp2ConnectionDecoder.java:479) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$PrefaceFrameListener.onSettingsRead(DefaultHttp2ConnectionDecoder.java:702) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2InboundFrameLogger$1.onSettingsRead(Http2InboundFrameLogger.java:93) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readSettingsFrame(DefaultHttp2FrameReader.java:542) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:263) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:160) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2InboundFrameLogger.readFrame(Http2InboundFrameLogger.java:41) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:174) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:378) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:242) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:438) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:498) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:437) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1486) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1282) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:498) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:437) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nI want to control the flow of the messages using subscribeAndConvert. ","title":"SubscribeAndConvert with flowcontrol","body":"<p>I need to flow control the messages when pulling the messages using <code>pubSubTemplate.subscribeAndConvert</code>.</p>\n<p>I am using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and pulling the messages</p>\n<pre><code>private &lt;T&gt; void subscribeAndAck(String subscriptionId, Consumer&lt;T&gt; processor, Class&lt;T&gt; messageType) {\n        pubSubTemplate.subscribeAndConvert(subscriptionId, message -&gt; {\n            try {\n                log.info(&quot;Received message {} {}&quot;, subscriptionId, message.getPayload());\n                processor.accept(message.getPayload());\n                message.ack();\n            } catch (Throwable e) {\n                log.error(&quot;Failed processing from subscriptionId {} payload {}&quot;, subscriptionId, message.getPayload(), e);\n                message.nack();\n               }\n        }, messageType);\n    }\n</code></pre>\n<p>By default the flowControl is 1000 messages which is very high for my application. So I have added</p>\n<pre><code>spring.cloud.gcp.pubsub.subscriber.flow-control.max-outstanding-element-count=10\n</code></pre>\n<p>But when the application starts it subscribes but throws this exception</p>\n<pre><code>2023-06-22T11:27:38.409Z ERROR 7 --- [-worker-ELG-1-1] io.grpc.internal.ManagedChannelImpl      : [Channel&lt;11&gt;: (pubsub.googleapis.com:443)] Uncaught exception in the SynchronizationContext. Panic!\n\njava.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@7f8c8292[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@11f058e4[Wrapped task = io.grpc.internal.DelayedClientTransport$5@3014d032]] rejected from java.util.concurrent.ScheduledThreadPoolExecutor@9bc0fb5[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2065) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2065) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:340) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:562) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.execute(ScheduledThreadPoolExecutor.java:705) ~[na:na]\n    at io.grpc.internal.DelayedClientTransport.reprocess(DelayedClientTransport.java:297) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.ManagedChannelImpl.updateSubchannelPicker(ManagedChannelImpl.java:831) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.ManagedChannelImpl.access$4400(ManagedChannelImpl.java:105) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:340) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:562) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.execute(ScheduledThreadPoolExecutor.java:705) ~[na:na]\n    at io.grpc.internal.DelayedClientTransport.reprocess(DelayedClientTransport.java:297) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.ManagedChannelImpl$LbHelperImpl$1UpdateBalancingState.run(ManagedChannelImpl.java:1146) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.SynchronizationContext.drain(SynchronizationContext.java:95) ~[grpc-api-1.30.2.jar!/:1.30.2]\n    at io.grpc.SynchronizationContext.execute(SynchronizationContext.java:127) ~[grpc-api-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.InternalSubchannel$TransportListener.transportReady(InternalSubchannel.java:546) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.ManagedChannelImpl.updateSubchannelPicker(ManagedChannelImpl.java:831) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.internal.ManagedChannelImpl.access$4400(ManagedChannelImpl.java:105) ~[grpc-core-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.grpc.netty.ClientTransportLifecycleManager.notifyReady(ClientTransportLifecycleManager.java:43) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.grpc.netty.NettyClientHandler$FrameListener.onSettingsRead(NettyClientHandler.java:854) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onSettingsRead(DefaultHttp2ConnectionDecoder.java:479) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$PrefaceFrameListener.onSettingsRead(DefaultHttp2ConnectionDecoder.java:702) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2InboundFrameLogger$1.onSettingsRead(Http2InboundFrameLogger.java:93) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readSettingsFrame(DefaultHttp2FrameReader.java:542) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:263) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:160) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2InboundFrameLogger.readFrame(Http2InboundFrameLogger.java:41) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:174) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:378) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:242) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:438) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:498) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:437) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1486) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1282) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:498) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:437) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.30.2.jar!/:1.30.2]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>I want to control the flow of the messages using subscribeAndConvert.</p>\n"},{"tags":["java","akka-http"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687442792,"post_id":76532055,"comment_id":134940079,"body_markdown":"Doest [this](https://doc.akka.io/docs/akka-http/current/common/timeouts.html#client-timeouts) or [that](https://www.baeldung.com/scala/akka-response-body-to-string#1-strict-request) help?","body":"Doest <a href=\"https://doc.akka.io/docs/akka-http/current/common/timeouts.html#client-timeouts\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://www.baeldung.com/scala/akka-response-body-to-string#1-strict-request\" rel=\"nofollow noreferrer\">that</a> help?"}],"owner":{"account_id":11145649,"reputation":65,"user_id":8180498,"display_name":"Giuse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687437860,"creation_date":1687437860,"question_id":76532055,"body_markdown":"Im on  a project that is using: akka.http.javadsl.Http;\r\n\r\nIm modyfing a piece of code that used to work well,\r\nnow the problem is the http call i make need to wait more for the response,\r\nso i have to set the timeout, but even if i tried to read the documentation i didnt find any example.\r\n\r\n            Http http = Http.get(context().system());\r\n\r\n\t\t\tCompletionStage&lt;HttpResponse&gt; response = http.singleRequest(HttpRequest.create(url), materializer);\r\n\t\t\t\r\n\t\t\tCompletionStage&lt;JsonNode&gt; result = response.thenCompose( res -&gt; {\r\n\t\t\t\tif (res.status().intValue()!=200) {\r\n\t\t\t\t\t....\r\n\r\ni need to do something like &quot;http.setTimeout(5000)&quot;\r\n\r\nor &quot; .. = http.singleRequest(HttpRequest.create(url), materializer,5000);&quot;\r\n\r\nwith 5000 as number of milliseconds to wait for the response before to go on timeout.\r\n\r\nCan you help me?","title":"how to set timeout on a call using akka.http.javadsl.Http","body":"<p>Im on  a project that is using: akka.http.javadsl.Http;</p>\n<p>Im modyfing a piece of code that used to work well,\nnow the problem is the http call i make need to wait more for the response,\nso i have to set the timeout, but even if i tried to read the documentation i didnt find any example.</p>\n<pre><code>        Http http = Http.get(context().system());\n\n        CompletionStage&lt;HttpResponse&gt; response = http.singleRequest(HttpRequest.create(url), materializer);\n        \n        CompletionStage&lt;JsonNode&gt; result = response.thenCompose( res -&gt; {\n            if (res.status().intValue()!=200) {\n                ....\n</code></pre>\n<p>i need to do something like &quot;http.setTimeout(5000)&quot;</p>\n<p>or &quot; .. = http.singleRequest(HttpRequest.create(url), materializer,5000);&quot;</p>\n<p>with 5000 as number of milliseconds to wait for the response before to go on timeout.</p>\n<p>Can you help me?</p>\n"},{"tags":["java","android","webkit","androidx","webviewchromium"],"owner":{"account_id":28873236,"reputation":1,"user_id":22114326,"display_name":"Tal Schneider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687437515,"creation_date":1687437515,"question_id":76532002,"body_markdown":"I&#39;m trying to build and run an Android application that uses `androidx.webkit.ProxyController` class. After initializing a ProxyController using `ProxyController.getInstance()`, at some point it tries to load dynamically `org.chromium.support_lib_glue.SupportLibReflectionUtil` class using some kind of reflection in WebViewGlueCommunicator.java (https://programtalk.com/vs4/java/androidx/androidx/webkit/webkit/src/main/java/androidx/webkit/internal/WebViewGlueCommunicator.java/) under the `fetchGlueProviderFactoryImpl` function. The class is not found and a ClassNotFoundException is thrown which leads to initialization of `IncompatibleApkWebViewProviderFactory` which consequently later crashes the application with UnsupportedOperationException (with &quot;Proxy override not supported&quot; message).\r\n\r\nCan you please advice why is the `org.chromium.support_lib_glue` package is missing and how this can be resolved? There is not much info available online.\r\n\r\nI will also note that I am able to use the androidx.webkit with other features which are not proxy related so the androidx.webkit library is imported correctly. The android API I am using is 33 which should be fine. \r\n\r\nI tried create a dummy shell class for `SupportLibReflectionUtil` under a dummy package `org.chromium.support_lib_glue` I created and included it under the project. This class was loaded dynamically successfully but off-course this is not a real solution. ","title":"Missing chromium dependencies when trying to use androix.webkit.ProxyController","body":"<p>I'm trying to build and run an Android application that uses <code>androidx.webkit.ProxyController</code> class. After initializing a ProxyController using <code>ProxyController.getInstance()</code>, at some point it tries to load dynamically <code>org.chromium.support_lib_glue.SupportLibReflectionUtil</code> class using some kind of reflection in WebViewGlueCommunicator.java (<a href=\"https://programtalk.com/vs4/java/androidx/androidx/webkit/webkit/src/main/java/androidx/webkit/internal/WebViewGlueCommunicator.java/\" rel=\"nofollow noreferrer\">https://programtalk.com/vs4/java/androidx/androidx/webkit/webkit/src/main/java/androidx/webkit/internal/WebViewGlueCommunicator.java/</a>) under the <code>fetchGlueProviderFactoryImpl</code> function. The class is not found and a ClassNotFoundException is thrown which leads to initialization of <code>IncompatibleApkWebViewProviderFactory</code> which consequently later crashes the application with UnsupportedOperationException (with &quot;Proxy override not supported&quot; message).</p>\n<p>Can you please advice why is the <code>org.chromium.support_lib_glue</code> package is missing and how this can be resolved? There is not much info available online.</p>\n<p>I will also note that I am able to use the androidx.webkit with other features which are not proxy related so the androidx.webkit library is imported correctly. The android API I am using is 33 which should be fine.</p>\n<p>I tried create a dummy shell class for <code>SupportLibReflectionUtil</code> under a dummy package <code>org.chromium.support_lib_glue</code> I created and included it under the project. This class was loaded dynamically successfully but off-course this is not a real solution.</p>\n"},{"tags":["java","spring-boot","post","bulkinsert","spring-hateoas"],"owner":{"account_id":28871618,"reputation":1,"user_id":22113043,"display_name":"user22113043"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687437416,"creation_date":1687420897,"question_id":76529730,"body_markdown":"i have written a REST Api endpoint for Bulk-Add of an entity. Requestbody is List&lt;EntityModel&lt;Data1&gt;&gt; and i get the below exception,\r\n\r\nm.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Could not resolve subtype of [simple type, class *.Entity]: missing type id property &#39;sourceType&#39; (for POJO property &#39;Data2&#39;); nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Data2]: missing type id property &#39;dataType&#39; (for POJO property &#39;data2&#39;)&lt;EOL&gt; at [Source: (PushbackInputStream); line: 1, column: 271] (through reference chain: java.util.ArrayList[0]-&gt;Data1[&quot;data2&quot;])]\r\n\r\nData2(independent Entity) is a child property of Data1 Entity. I want to bulk add Data1. I am giving a list of Data1 from frontend(Data2&#39;s URI is passed) in the below format,\r\n\r\n[\r\n{\r\nflag: false\r\ncount: &quot;&quot;\r\nname: &quot;A1&quot;\r\ndata2: &quot;http://localhost:xx/xx/v1/datas/12{?projection}&quot; -&gt;URI\r\nrequirement: &quot;http://localhost:xx/xx/v1/xx/122&quot;\r\ntype: &quot;DATA_TYPE&quot;\r\n}\r\n{\r\nflag: false\r\ncount: &quot;&quot;\r\nname: &quot;A2&quot;\r\ndata2: &quot;http://localhost:xx/xx/v1/datas/11{?projection}&quot; -&gt;URI\r\nrequirement: &quot;http://localhost:xx/xx/v1/xx/122&quot;\r\ntype: &quot;DATA_TYPE&quot;\r\n}\r\n]\r\n\r\nHas anyone here experienced similiar issues? It will be really helpful if someone could throw an insight on this issue?\r\n\r\nSame requestbody format (only one Object from the array as input)  works fine with a simple add entpoint where requestBody is EntityModel&lt;Data1&gt;. Only Bulkadd is not working. ","title":"Spring hateoas could not resolve entity from URI when requestbody is List&lt;EntityModel&lt;Data1&gt;&gt; - Bulk Add","body":"<p>i have written a REST Api endpoint for Bulk-Add of an entity. Requestbody is List&lt;EntityModel&gt; and i get the below exception,</p>\n<p>m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Could not resolve subtype of [simple type, class *.Entity]: missing type id property 'sourceType' (for POJO property 'Data2'); nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Data2]: missing type id property 'dataType' (for POJO property 'data2') at [Source: (PushbackInputStream); line: 1, column: 271] (through reference chain: java.util.ArrayList[0]-&gt;Data1[&quot;data2&quot;])]</p>\n<p>Data2(independent Entity) is a child property of Data1 Entity. I want to bulk add Data1. I am giving a list of Data1 from frontend(Data2's URI is passed) in the below format,</p>\n<p>[\n{\nflag: false\ncount: &quot;&quot;\nname: &quot;A1&quot;\ndata2: &quot;http://localhost:xx/xx/v1/datas/12{?projection}&quot; -&gt;URI\nrequirement: &quot;http://localhost:xx/xx/v1/xx/122&quot;\ntype: &quot;DATA_TYPE&quot;\n}\n{\nflag: false\ncount: &quot;&quot;\nname: &quot;A2&quot;\ndata2: &quot;http://localhost:xx/xx/v1/datas/11{?projection}&quot; -&gt;URI\nrequirement: &quot;http://localhost:xx/xx/v1/xx/122&quot;\ntype: &quot;DATA_TYPE&quot;\n}\n]</p>\n<p>Has anyone here experienced similiar issues? It will be really helpful if someone could throw an insight on this issue?</p>\n<p>Same requestbody format (only one Object from the array as input)  works fine with a simple add entpoint where requestBody is EntityModel. Only Bulkadd is not working.</p>\n"},{"tags":["java","gson"],"answers":[{"comments":[{"owner":{"account_id":9311988,"reputation":401,"user_id":6913443,"accept_rate":57,"display_name":"sikidhart"},"score":0,"creation_date":1488871633,"post_id":42525714,"comment_id":72412147,"body_markdown":"upvoted. the &quot;Person&quot; object is just a simplified example, so the DTO style solution might not be the cleanest way to go... probably something like personbuilder().withfax().build() something??","body":"upvoted. the &quot;Person&quot; object is just a simplified example, so the DTO style solution might not be the cleanest way to go... probably something like personbuilder().withfax().build() something??"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1488872431,"post_id":42525714,"comment_id":72412588,"body_markdown":"@sikidhart Well, it depends, and I would go with DTOs to make it less error-prone. Note the trick: Gson can distinguish between `PersonDto` and `PersonDtoWithFax` upon the object actual type when invoking the `toJson` method. The builder pattern you mentioned is just another way of creating a DTO (I used constructors for the answer simplicity purposes only). If you want to use builder, it&#39;s all up to you, and you can easily create your own builder with `withFax(...)` returning a PersonDtoWithFaxBuilder` instance. But introducing builders usually brings some complexity. You decide.","body":"@sikidhart Well, it depends, and I would go with DTOs to make it less error-prone. Note the trick: Gson can distinguish between <code>PersonDto</code> and <code>PersonDtoWithFax</code> upon the object actual type when invoking the <code>toJson</code> method. The builder pattern you mentioned is just another way of creating a DTO (I used constructors for the answer simplicity purposes only). If you want to use builder, it&#39;s all up to you, and you can easily create your own builder with <code>withFax(...)</code> returning a PersonDtoWithFaxBuilder` instance. But introducing builders usually brings some complexity. You decide."}],"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1488353496,"creation_date":1488353496,"answer_id":42525714,"question_id":42523266,"body_markdown":"&gt; Using ExclusionStrategy, I can define the field, but I cannot seem to find a way to get the value.\r\n\r\nYes, it does not provide a way of determining the current field value. This is because of how Gson `ReflectiveTypeAdapterFactory` works internally (the `BoundField.serialized` is `final` and only resolved once):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override public boolean writeField(Object value) throws IOException, IllegalAccessException {\r\n      if (!serialized) return false;\r\n      Object fieldValue = field.get(value);\r\n      return fieldValue != value; // avoid recursion for example for Throwable.cause\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    for (BoundField boundField : boundFields.values()) {\r\n      if (boundField.writeField(value)) {\r\n        out.name(boundField.name);\r\n        boundField.write(out, value);\r\n      }\r\n    }\r\n\r\nThis behavior cannot be changed, but I believe it&#39;s a good design choice to segregate application objects and their serialized representations (see the [Data Transfer Object](https://en.wikipedia.org/wiki/Data_transfer_object) pattern) in order not to mix concepts and make applicaiton components loosely coupled (migrating from Gson someday would take only modifications for the respective DTO classes only).\r\n\r\nIf you&#39;re fine with having DTOs introduced to your application, then you could create separate DTO classes for both scenarios: preserving `phone` and discarding `fax` depending on the `fax` field value.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tclass PersonDto {\r\n\t\t@Expose String name;\r\n\t\t@Expose String phone;\r\n\t\tPersonDto(final Person person) {\r\n\t\t\tname = person.name;\r\n\t\t\tphone = person.phone;\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tclass PersonDtoWithFax extends PersonDto {\r\n\t\t@Expose String fax;\r\n\t\tPersonDtoWithFax(final Person person) {\r\n\t\t\tsuper(person);\r\n\t\t\tfax = person.fax;\r\n\t\t}\r\n\t}\r\n\r\nIn this case the serialization is straight-forward:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal Gson gson = new GsonBuilder()\r\n\t\t\t.serializeNulls()\r\n\t\t\t.create();\r\n\tfinal Person person = new Person();\r\n\tperson.name = &quot;John&quot;;\r\n\tfinal PersonDto personDto = person.fax == null\r\n\t\t\t? new PersonDto(person)\r\n\t\t\t: new PersonDtoWithFax(person);\r\n\tSystem.out.println(gson.toJson(personDto));\r\n\r\nIf you don&#39;t want to introduce the segregated DTO concept per se, you probably might want to implement a custom serializer that is somewhat more complicated in implementation and probably somewhat error-prone due to property names hardcoding (but you can have good tests, of course, or extract the names from `java.lang.reflect.Field` instances).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class SpecialJsonSerializer&lt;T&gt;\r\n\t\t\timplements JsonSerializer&lt;T&gt; {\r\n\t\r\n\t\tprivate final Gson gson; // Unfortunately, Gson does not provide much from JsonSerialiationContext, so we have to get it ourselves\r\n\t\tprivate final Iterable&lt;String&gt; excludeIfNull;\r\n\t\r\n\t\tprivate SpecialJsonSerializer(final Gson gson, final Iterable&lt;String&gt; excludeIfNull) {\r\n\t\t\tthis.gson = gson;\r\n\t\t\tthis.excludeIfNull = excludeIfNull;\r\n\t\t}\r\n\t\r\n\t\tstatic &lt;T&gt; JsonSerializer&lt;T&gt; getSpecialJsonSerializer(final Gson gson, final Iterable&lt;String&gt; excludeIfNull) {\r\n\t\t\treturn new SpecialJsonSerializer&lt;&gt;(gson, excludeIfNull);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic JsonElement serialize(final T object, final Type type, final JsonSerializationContext context) {\r\n\t\t\t// context.serialize(person, type) cannot work due to infinite recursive serialization\r\n\t\t\t// therefore the backing Gson instance is used\r\n\t\t\tfinal JsonObject jsonObject = gson.toJsonTree(object, type).getAsJsonObject();\r\n\t\t\tfor ( final String propertyName : excludeIfNull ) {\r\n\t\t\t\tfinal JsonElement property = jsonObject.get(propertyName);\r\n\t\t\t\tif ( property != null &amp;&amp; property.isJsonNull() ) {\r\n\t\t\t\t\tjsonObject.remove(propertyName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn jsonObject;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI&#39;m not really sure, but I think that creating JSON trees for serialization purposes rather than using DTOs may be slightly more expensive from the memory consumption point of view (at least because of more complicated `JsonElement` structure).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t// Both Gson instances must have serializeNulls()\r\n\tfinal Gson gson = new GsonBuilder()\r\n\t\t\t.serializeNulls()\r\n\t\t\t.create();\r\n\tfinal Gson gsonWrapper = new GsonBuilder()\r\n\t\t\t.serializeNulls()\r\n\t\t\t.registerTypeAdapter(Person.class, getSpecialJsonSerializer(gson, singletonList(&quot;fax&quot;)))\r\n\t\t\t.create();\r\n\tfinal Person person = new Person();\r\n\tperson.name = &quot;John&quot;;\r\n\tSystem.out.println(gsonWrapper.toJson(person));\r\n\r\nBoth solutions output:\r\n\r\n&gt;{&quot;name&quot;:&quot;John&quot;,&quot;phone&quot;:null}","title":"Gson serialization: exclude SOME fields if null but not all of them","body":"<blockquote>\n  <p>Using ExclusionStrategy, I can define the field, but I cannot seem to find a way to get the value.</p>\n</blockquote>\n\n<p>Yes, it does not provide a way of determining the current field value. This is because of how Gson <code>ReflectiveTypeAdapterFactory</code> works internally (the <code>BoundField.serialized</code> is <code>final</code> and only resolved once):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override public boolean writeField(Object value) throws IOException, IllegalAccessException {\n  if (!serialized) return false;\n  Object fieldValue = field.get(value);\n  return fieldValue != value; // avoid recursion for example for Throwable.cause\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (BoundField boundField : boundFields.values()) {\n  if (boundField.writeField(value)) {\n    out.name(boundField.name);\n    boundField.write(out, value);\n  }\n}\n</code></pre>\n\n<p>This behavior cannot be changed, but I believe it's a good design choice to segregate application objects and their serialized representations (see the <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"noreferrer\">Data Transfer Object</a> pattern) in order not to mix concepts and make applicaiton components loosely coupled (migrating from Gson someday would take only modifications for the respective DTO classes only).</p>\n\n<p>If you're fine with having DTOs introduced to your application, then you could create separate DTO classes for both scenarios: preserving <code>phone</code> and discarding <code>fax</code> depending on the <code>fax</code> field value.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class PersonDto {\n    @Expose String name;\n    @Expose String phone;\n    PersonDto(final Person person) {\n        name = person.name;\n        phone = person.phone;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>class PersonDtoWithFax extends PersonDto {\n    @Expose String fax;\n    PersonDtoWithFax(final Person person) {\n        super(person);\n        fax = person.fax;\n    }\n}\n</code></pre>\n\n<p>In this case the serialization is straight-forward:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final Gson gson = new GsonBuilder()\n        .serializeNulls()\n        .create();\nfinal Person person = new Person();\nperson.name = \"John\";\nfinal PersonDto personDto = person.fax == null\n        ? new PersonDto(person)\n        : new PersonDtoWithFax(person);\nSystem.out.println(gson.toJson(personDto));\n</code></pre>\n\n<p>If you don't want to introduce the segregated DTO concept per se, you probably might want to implement a custom serializer that is somewhat more complicated in implementation and probably somewhat error-prone due to property names hardcoding (but you can have good tests, of course, or extract the names from <code>java.lang.reflect.Field</code> instances).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class SpecialJsonSerializer&lt;T&gt;\n        implements JsonSerializer&lt;T&gt; {\n\n    private final Gson gson; // Unfortunately, Gson does not provide much from JsonSerialiationContext, so we have to get it ourselves\n    private final Iterable&lt;String&gt; excludeIfNull;\n\n    private SpecialJsonSerializer(final Gson gson, final Iterable&lt;String&gt; excludeIfNull) {\n        this.gson = gson;\n        this.excludeIfNull = excludeIfNull;\n    }\n\n    static &lt;T&gt; JsonSerializer&lt;T&gt; getSpecialJsonSerializer(final Gson gson, final Iterable&lt;String&gt; excludeIfNull) {\n        return new SpecialJsonSerializer&lt;&gt;(gson, excludeIfNull);\n    }\n\n    @Override\n    public JsonElement serialize(final T object, final Type type, final JsonSerializationContext context) {\n        // context.serialize(person, type) cannot work due to infinite recursive serialization\n        // therefore the backing Gson instance is used\n        final JsonObject jsonObject = gson.toJsonTree(object, type).getAsJsonObject();\n        for ( final String propertyName : excludeIfNull ) {\n            final JsonElement property = jsonObject.get(propertyName);\n            if ( property != null &amp;&amp; property.isJsonNull() ) {\n                jsonObject.remove(propertyName);\n            }\n        }\n        return jsonObject;\n    }\n\n}\n</code></pre>\n\n<p>I'm not really sure, but I think that creating JSON trees for serialization purposes rather than using DTOs may be slightly more expensive from the memory consumption point of view (at least because of more complicated <code>JsonElement</code> structure).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Both Gson instances must have serializeNulls()\nfinal Gson gson = new GsonBuilder()\n        .serializeNulls()\n        .create();\nfinal Gson gsonWrapper = new GsonBuilder()\n        .serializeNulls()\n        .registerTypeAdapter(Person.class, getSpecialJsonSerializer(gson, singletonList(\"fax\")))\n        .create();\nfinal Person person = new Person();\nperson.name = \"John\";\nSystem.out.println(gsonWrapper.toJson(person));\n</code></pre>\n\n<p>Both solutions output:</p>\n\n<blockquote>\n  <p>{\"name\":\"John\",\"phone\":null}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687437323,"creation_date":1687437323,"answer_id":76531977,"question_id":42523266,"body_markdown":"This can be solved using a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) and [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html). The `TypeAdapterFactory` will be responsible for delegating to the actual adapter and omitting the field if its value is `null`. And `@JsonAdapter` will be used to only apply this to the specific fields where you want this behavior.\r\n\r\n```java\r\nclass ExcludeIfNullAdapterFactory implements TypeAdapterFactory {\r\n    // Constructor is called by Gson using reflection\r\n    public ExcludeIfNullAdapterFactory() {\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Note: Should rather use Gson.getDelegateAdapter(...), but that currently does not work\r\n        // in combination with @JsonAdapter, see https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; delegate = gson.getAdapter(type);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                return delegate.read(in);\r\n            }\r\n\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                if (value == null) {\r\n                    // Temporarily disable serialization of null\r\n                    boolean oldSerializeNulls = out.getSerializeNulls();\r\n                    try {\r\n                        out.setSerializeNulls(false);\r\n                        out.nullValue();\r\n                    } finally {\r\n                        out.setSerializeNulls(oldSerializeNulls);\r\n                    }\r\n                } else {\r\n                    delegate.write(out, value);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nYou then also have to use [`GsonBuilder.serializeNulls()`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#serializeNulls()) so that by default `null` is serialized for all fields, except the ones you have annotated with `@JsonAdapter`.\r\n\r\nHere is a full example:\r\n```java\r\nclass Person {\r\n    String name;\r\n    String phone;\r\n\r\n    // Important: Must set `nullSafe = false` to not use default null handling\r\n    @JsonAdapter(value = ExcludeIfNullAdapterFactory.class, nullSafe = false)\r\n    String fax;\r\n}\r\n```\r\n```java\r\nGson gson = new GsonBuilder()\r\n    .serializeNulls()\r\n    .create();\r\n\r\nPerson p = new Person();\r\nSystem.out.println(gson.toJson(p));\r\n```\r\n\r\n----\r\n\r\n[Here is an example for the opposite case](https://github.com/google/gson/issues/532#issuecomment-1465332100), that is, by default exclude `null` values, except for certain fields where `null` must be serialized. The main difference is that you omit the call to `GsonBuilder.serializeNulls()`, and that the `TypeAdapterFactory` calls `setSerializeNulls(true)` instead of `setSerializeNulls(false)`.","title":"Gson serialization: exclude SOME fields if null but not all of them","body":"<p>This can be solved using a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> and <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a>. The <code>TypeAdapterFactory</code> will be responsible for delegating to the actual adapter and omitting the field if its value is <code>null</code>. And <code>@JsonAdapter</code> will be used to only apply this to the specific fields where you want this behavior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExcludeIfNullAdapterFactory implements TypeAdapterFactory {\n    // Constructor is called by Gson using reflection\n    public ExcludeIfNullAdapterFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Note: Should rather use Gson.getDelegateAdapter(...), but that currently does not work\n        // in combination with @JsonAdapter, see https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; delegate = gson.getAdapter(type);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public T read(JsonReader in) throws IOException {\n                return delegate.read(in);\n            }\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                if (value == null) {\n                    // Temporarily disable serialization of null\n                    boolean oldSerializeNulls = out.getSerializeNulls();\n                    try {\n                        out.setSerializeNulls(false);\n                        out.nullValue();\n                    } finally {\n                        out.setSerializeNulls(oldSerializeNulls);\n                    }\n                } else {\n                    delegate.write(out, value);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>You then also have to use <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#serializeNulls()\" rel=\"nofollow noreferrer\"><code>GsonBuilder.serializeNulls()</code></a> so that by default <code>null</code> is serialized for all fields, except the ones you have annotated with <code>@JsonAdapter</code>.</p>\n<p>Here is a full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n    String name;\n    String phone;\n\n    // Important: Must set `nullSafe = false` to not use default null handling\n    @JsonAdapter(value = ExcludeIfNullAdapterFactory.class, nullSafe = false)\n    String fax;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new GsonBuilder()\n    .serializeNulls()\n    .create();\n\nPerson p = new Person();\nSystem.out.println(gson.toJson(p));\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/google/gson/issues/532#issuecomment-1465332100\" rel=\"nofollow noreferrer\">Here is an example for the opposite case</a>, that is, by default exclude <code>null</code> values, except for certain fields where <code>null</code> must be serialized. The main difference is that you omit the call to <code>GsonBuilder.serializeNulls()</code>, and that the <code>TypeAdapterFactory</code> calls <code>setSerializeNulls(true)</code> instead of <code>setSerializeNulls(false)</code>.</p>\n"}],"owner":{"account_id":9311988,"reputation":401,"user_id":6913443,"accept_rate":57,"display_name":"sikidhart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7112,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42525714,"answer_count":2,"score":9,"last_activity_date":1687437323,"creation_date":1488342896,"question_id":42523266,"body_markdown":"Given a POJO:\r\n\r\n    class Person {\r\n        @Expose\r\n        String name;\r\n        @Expose\r\n        String phone;\r\n        @Expose\r\n        String fax;\r\n    }\r\n\r\nI want &quot;phone&quot; to be serialized at all times, but &quot;fax&quot; only when it is not null. So given a Person &quot;John&quot; with no phone or fax:\r\n\r\nCurrent:\r\n\r\n    { &quot;name&quot;: &quot;John&quot;, &quot;phone&quot;: null, &quot;fax&quot;: null }\r\nWhat I need:\r\n\r\n    { &quot;name&quot;: &quot;John&quot;, &quot;phone&quot;: null }\r\n\r\nIs there something like:\r\n\r\n    @Expose (serialize_if_null = false)\r\n\r\ntransient doesn&#39;t work because I still want it serialized if it has a value.\r\n\r\nUsing ExclusionStrategy, I can define the field, but I cannot seem to find a way to get the value.\r\n\r\nThanks","title":"Gson serialization: exclude SOME fields if null but not all of them","body":"<p>Given a POJO:</p>\n\n<pre><code>class Person {\n    @Expose\n    String name;\n    @Expose\n    String phone;\n    @Expose\n    String fax;\n}\n</code></pre>\n\n<p>I want \"phone\" to be serialized at all times, but \"fax\" only when it is not null. So given a Person \"John\" with no phone or fax:</p>\n\n<p>Current:</p>\n\n<pre><code>{ \"name\": \"John\", \"phone\": null, \"fax\": null }\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>{ \"name\": \"John\", \"phone\": null }\n</code></pre>\n\n<p>Is there something like:</p>\n\n<pre><code>@Expose (serialize_if_null = false)\n</code></pre>\n\n<p>transient doesn't work because I still want it serialized if it has a value.</p>\n\n<p>Using ExclusionStrategy, I can define the field, but I cannot seem to find a way to get the value.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"score":0,"creation_date":1687437485,"post_id":76531967,"comment_id":134938779,"body_markdown":"There are Features in Java 8 that are not only deprecated but even fully removed in Java 17. Also for external libraries this is also not always the case.","body":"There are Features in Java 8 that are not only deprecated but even fully removed in Java 17. Also for external libraries this is also not always the case."}],"tags":[],"owner":{"account_id":12510916,"reputation":265,"user_id":9106074,"display_name":"Null Pointer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687437239,"creation_date":1687437239,"answer_id":76531967,"question_id":76531866,"body_markdown":"The better approach will be:\r\n\r\nUpdate the module that is using Java 8 to Java 17.\r\nAll the feature of Java 8 will be compatible to Java 17. Later on, you can work on deprecated class of Java 8.","title":"SonarQube exclude rules based on Java version per module in multi-module project","body":"<p>The better approach will be:</p>\n<p>Update the module that is using Java 8 to Java 17.\nAll the feature of Java 8 will be compatible to Java 17. Later on, you can work on deprecated class of Java 8.</p>\n"}],"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687437239,"creation_date":1687436677,"question_id":76531866,"body_markdown":"we have a (Maven) multi-module project that uses two different Java versions (some modules use Java 8, some modules use Java 17). The issue that we are running into now is that the configured rule-set contains rules that only apply to Java 9 and above. Since the sonar analysis is running on the entire project, we get violations in the Java 8 modules for Java9+ rules, which are in that way not possible to fix.\r\n\r\nIs there a way to configure the sonar analysis to apply different rulesets to different modules within the same project, or to only apply a certain subset of the ruleset to a module, depending on its configured java version?","title":"SonarQube exclude rules based on Java version per module in multi-module project","body":"<p>we have a (Maven) multi-module project that uses two different Java versions (some modules use Java 8, some modules use Java 17). The issue that we are running into now is that the configured rule-set contains rules that only apply to Java 9 and above. Since the sonar analysis is running on the entire project, we get violations in the Java 8 modules for Java9+ rules, which are in that way not possible to fix.</p>\n<p>Is there a way to configure the sonar analysis to apply different rulesets to different modules within the same project, or to only apply a certain subset of the ruleset to a module, depending on its configured java version?</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1409215140,"post_id":25543910,"comment_id":39884351,"body_markdown":"Tell us how did you configure your test cases. We can&#39;t help by just looking at exception stacktrace....","body":"Tell us how did you configure your test cases. We can&#39;t help by just looking at exception stacktrace...."},{"owner":{"account_id":3583726,"reputation":361,"user_id":2991323,"display_name":"user2991323"},"score":0,"creation_date":1409221593,"post_id":25543910,"comment_id":39888091,"body_markdown":"I configure test cases by taking the help of this link   http://selftechy.com/2012/01/09/setting-up-testng-with-eclipse","body":"I configure test cases by taking the help of this link   <a href=\"http://selftechy.com/2012/01/09/setting-up-testng-with-eclipse\" rel=\"nofollow noreferrer\">selftechy.com/2012/01/09/setting-up-testng-with-eclipse</a>"},{"owner":{"account_id":3583726,"reputation":361,"user_id":2991323,"display_name":"user2991323"},"score":0,"creation_date":1409223505,"post_id":25543910,"comment_id":39889179,"body_markdown":"1) I create a new java project  2) Downloaded the TestNG archive (testng-6.8.jar file)  3) Configure the build path for testng-6.8.jar","body":"1) I create a new java project  2) Downloaded the TestNG archive (testng-6.8.jar file)  3) Configure the build path for testng-6.8.jar"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1409228548,"post_id":25543910,"comment_id":39892321,"body_markdown":"If you&#39;re using Maven, why don&#39;t you include TestNG on your Maven POM and with a `test` scope? From there, add your test classes in your `src/test` folder?","body":"If you&#39;re using Maven, why don&#39;t you include TestNG on your Maven POM and with a <code>test</code> scope? From there, add your test classes in your <code>src&#47;test</code> folder?"},{"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"score":0,"creation_date":1433874430,"post_id":25543910,"comment_id":49535905,"body_markdown":"For me, this problem turned out to be a problem with not using the standard directory layout, so maven wasn&#39;t seeing the needed java file when it compiled.","body":"For me, this problem turned out to be a problem with not using the standard directory layout, so maven wasn&#39;t seeing the needed java file when it compiled."},{"owner":{"account_id":15547265,"reputation":97,"user_id":11216073,"display_name":"Vaitheeswaran"},"score":0,"creation_date":1614756687,"post_id":25543910,"comment_id":117478780,"body_markdown":"Sometimes I had the same issue try with &quot;Install jars bson, Compress extend, freemarker, reactive streams, rxjava, sparkcore, testng&quot;","body":"Sometimes I had the same issue try with &quot;Install jars bson, Compress extend, freemarker, reactive streams, rxjava, sparkcore, testng&quot;"}],"answers":[{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":1,"creation_date":1586369347,"post_id":25751231,"comment_id":108106201,"body_markdown":"It does not work for me at all. And hasn&#39;t any sense, too - if it can&#39;t find TestNGException file, how can help exact pointing to test classes?","body":"It does not work for me at all. And hasn&#39;t any sense, too - if it can&#39;t find TestNGException file, how can help exact pointing to test classes?"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":1,"creation_date":1586376856,"post_id":25751231,"comment_id":108109841,"body_markdown":"Oh, sorry, my IntelliJ cannot find the TestNGException itself... Then you have only one problem in your explanations: You cannot point to classes and packages in one test description, it is shown as an error. Your example is OK.","body":"Oh, sorry, my IntelliJ cannot find the TestNGException itself... Then you have only one problem in your explanations: You cannot point to classes and packages in one test description, it is shown as an error. Your example is OK."},{"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"score":0,"creation_date":1586643299,"post_id":25751231,"comment_id":108204282,"body_markdown":"Cool, Good luck :)","body":"Cool, Good luck :)"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":1,"creation_date":1672189690,"post_id":25751231,"comment_id":132239147,"body_markdown":"I was facing the same error and it helped!. Thanks, pal :)","body":"I was facing the same error and it helped!. Thanks, pal :)"}],"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1410286531,"creation_date":1410286531,"answer_id":25751231,"question_id":25543910,"body_markdown":"You have to edit your tests Runner xml file.\r\nSee this example:\r\n\r\n     &lt;test name=&quot;Employees Test&quot;&gt;\r\n                   &lt;classes&gt;\r\n                          &lt;class name=&quot;packagename.classname&quot;&gt;\r\n                           &lt;/class&gt;\r\n                   &lt;/classes&gt;\r\n     &lt;/test&gt;\r\n\r\nIn `&lt;class name=&quot;packagename.classname&quot;&gt;` row you must enter your tests package name then name of class that you want to run.\r\n\r\n\r\nThanks and wish you all the best.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>You have to edit your tests Runner xml file.\nSee this example:</p>\n\n<pre><code> &lt;test name=\"Employees Test\"&gt;\n               &lt;classes&gt;\n                      &lt;class name=\"packagename.classname\"&gt;\n                       &lt;/class&gt;\n               &lt;/classes&gt;\n &lt;/test&gt;\n</code></pre>\n\n<p>In <code>&lt;class name=\"packagename.classname\"&gt;</code> row you must enter your tests package name then name of class that you want to run.</p>\n\n<p>Thanks and wish you all the best.</p>\n"},{"comments":[{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1475743663,"post_id":26097072,"comment_id":67068891,"body_markdown":"Was facing Same error. Cleaning the project worked for me.","body":"Was facing Same error. Cleaning the project worked for me."},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1475746722,"post_id":26097072,"comment_id":67071020,"body_markdown":"After every run of TestNG test, I had to do a mvn clean install and then re-run the test. Otherwise, the error persists.","body":"After every run of TestNG test, I had to do a mvn clean install and then re-run the test. Otherwise, the error persists."},{"owner":{"account_id":1192360,"reputation":2417,"user_id":1164847,"accept_rate":28,"display_name":"Yuval Levy"},"score":2,"creation_date":1577265733,"post_id":26097072,"comment_id":105131302,"body_markdown":"In Intellij IDE - File-&gt;Invalidate Caches-&gt;Invalidate Caches/Restart-&gt;Invalidate and Restart","body":"In Intellij IDE - File-&gt;Invalidate Caches-&gt;Invalidate Caches/Restart-&gt;Invalidate and Restart"},{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1669261016,"post_id":26097072,"comment_id":131605879,"body_markdown":"2022, it still works. I just rebuild mvn project by navigating Build &gt; Rebuild project","body":"2022, it still works. I just rebuild mvn project by navigating Build &gt; Rebuild project"}],"tags":[],"owner":{"account_id":4475411,"reputation":387,"user_id":3640657,"accept_rate":0,"display_name":"user3640657"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1486744373,"creation_date":1411984309,"answer_id":26097072,"question_id":25543910,"body_markdown":"I also got the same exception:\r\n\r\nI tried the following steps:\r\n\r\n1. In Eclipse&gt; Project &gt; Clean. (The Exception remained)\r\n\r\n2. I ran another project(The testng.xml ran successfully)\r\n\r\nAfter running another project, I ran the project in which I was getting the Exception, and fortunately it worked for me, with no errors.\r\n","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I also got the same exception:</p>\n\n<p>I tried the following steps:</p>\n\n<ol>\n<li><p>In Eclipse> Project > Clean. (The Exception remained)</p></li>\n<li><p>I ran another project(The testng.xml ran successfully)</p></li>\n</ol>\n\n<p>After running another project, I ran the project in which I was getting the Exception, and fortunately it worked for me, with no errors.</p>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413446192,"creation_date":1413446192,"answer_id":26399098,"question_id":25543910,"body_markdown":"I had similar issue and the project had some build errors.\r\nI did sudo -R 777 to the project and then I cleaned my project.\r\nAfter that it worked fine.\r\n\r\nHope it helps.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had similar issue and the project had some build errors.\nI did sudo -R 777 to the project and then I cleaned my project.\nAfter that it worked fine.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":5034749,"reputation":482,"user_id":4043926,"display_name":"Cl&#225;udio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420649364,"creation_date":1420649364,"answer_id":27824371,"question_id":25543910,"body_markdown":"I had the same error when tried to run my tests in a JSF project.\r\n\r\nI&#180;m using Eclipse IDE (kepler). So, I did &quot;project &gt; clean&quot; and then ran the tests again of the same project.\r\n\r\nIt worked!","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had the same error when tried to run my tests in a JSF project.</p>\n\n<p>I´m using Eclipse IDE (kepler). So, I did \"project > clean\" and then ran the tests again of the same project.</p>\n\n<p>It worked!</p>\n"},{"tags":[],"owner":{"account_id":5831930,"reputation":1,"user_id":4596129,"display_name":"Key"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424680668,"creation_date":1424680668,"answer_id":28669666,"question_id":25543910,"body_markdown":"Note: You have to specify class name along with packages as given below.\r\n\r\n    &lt;suite name=&quot;testNGLearning&quot;&gt;\r\n\t    &lt;test name=&quot;simpleTest&quot;&gt;\r\n\t\t    &lt;classes&gt;\r\n\t\t\t    &lt;class name=&quot;testngTests.TestNGSimpleTest&quot; /&gt;\r\n\t\t\t    &lt;class name=&quot;testngTests.TestMessageUtil&quot; /&gt;\r\n\t\t    &lt;/classes&gt;\r\n\t    &lt;/test&gt;\r\n    &lt;/suite&gt;","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Note: You have to specify class name along with packages as given below.</p>\n\n<pre><code>&lt;suite name=\"testNGLearning\"&gt;\n    &lt;test name=\"simpleTest\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"testngTests.TestNGSimpleTest\" /&gt;\n            &lt;class name=\"testngTests.TestMessageUtil\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6200876,"reputation":115,"user_id":4830718,"display_name":"Anthony Moon Beam Toorie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429925048,"creation_date":1429925048,"answer_id":29859947,"question_id":25543910,"body_markdown":"Got the IDE working again. The solution is quite funny - and even a re-install, and deleting the IDE does not fix it on windows. What you need to do in that case, is to go to the testNG run configurations - and delete them all. \r\nThis is for the TestNG XML classpath error on windows OS. I am using spring tools suite 3.6.4.\r\n\r\nMake certain that you delete all the configurations, make sure the project can build, and if there are no problems, the test should run now.\r\n\r\nRegards\r\n-Anthony Toorie","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Got the IDE working again. The solution is quite funny - and even a re-install, and deleting the IDE does not fix it on windows. What you need to do in that case, is to go to the testNG run configurations - and delete them all. \nThis is for the TestNG XML classpath error on windows OS. I am using spring tools suite 3.6.4.</p>\n\n<p>Make certain that you delete all the configurations, make sure the project can build, and if there are no problems, the test should run now.</p>\n\n<p>Regards\n-Anthony Toorie</p>\n"},{"tags":[],"owner":{"account_id":2811364,"reputation":513,"user_id":2417546,"accept_rate":25,"display_name":"zishan paya"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1431500174,"creation_date":1431500174,"answer_id":30207705,"question_id":25543910,"body_markdown":"\r\nI faced the similar issue on importing maven with testng project. This was solved by converting again into TestNg project by \r\n\r\n&gt; right click on eclipse project &gt; TestNG &gt; Convert to TestNG\r\n\r\n and replacing the existing `testng.xml` file with the newly created. Clean and update the maven project with `mvn install`\r\n\r\nNote: take backup of your `testng.xml` ","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I faced the similar issue on importing maven with testng project. This was solved by converting again into TestNg project by </p>\n\n<blockquote>\n  <p>right click on eclipse project > TestNG > Convert to TestNG</p>\n</blockquote>\n\n<p>and replacing the existing <code>testng.xml</code> file with the newly created. Clean and update the maven project with <code>mvn install</code></p>\n\n<p>Note: take backup of your <code>testng.xml</code> </p>\n"},{"tags":[],"owner":{"account_id":6913189,"reputation":1,"user_id":5308338,"display_name":"Harish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441617116,"creation_date":1441617116,"answer_id":32435000,"question_id":25543910,"body_markdown":"In testng.xml file, remove &quot;.&quot; from tag &quot;&lt;class name=&quot;.TestClass&quot;/&gt;&quot; class name if you are not using packages.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>In testng.xml file, remove \".\" from tag \"\" class name if you are not using packages.</p>\n"},{"tags":[],"owner":{"account_id":4225247,"reputation":106,"user_id":3458915,"accept_rate":100,"display_name":"Jitendra kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441716994,"creation_date":1441716994,"answer_id":32458465,"question_id":25543910,"body_markdown":"include the package name with class. It will remove your name. I also got the same issue but adding the package name with class fixed this issue. \r\n\r\n&lt;class name=&quot;yourpackagename.classname&quot;&gt; ","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>include the package name with class. It will remove your name. I also got the same issue but adding the package name with class fixed this issue. </p>\n\n<p> </p>\n"},{"tags":[],"owner":{"account_id":5616688,"reputation":2866,"user_id":4447761,"accept_rate":83,"display_name":"NateW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447688190,"creation_date":1447688190,"answer_id":33739070,"question_id":25543910,"body_markdown":"For me the problem was very strange.  \r\nI have a testng.xml file at the root of my Eclipse project.  When I changed the file through Eclipse, it wasn&#39;t changing the testng.xml file in my directory.  \r\n\r\nTurns out it made a copy of the folder into the eclipse workspace..\r\n\r\nHope this helps someone out","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>For me the problem was very strange.<br>\nI have a testng.xml file at the root of my Eclipse project.  When I changed the file through Eclipse, it wasn't changing the testng.xml file in my directory.  </p>\n\n<p>Turns out it made a copy of the folder into the eclipse workspace..</p>\n\n<p>Hope this helps someone out</p>\n"},{"tags":[],"owner":{"account_id":7320594,"reputation":77,"user_id":5576758,"display_name":"siraj "},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1452495833,"creation_date":1452495833,"answer_id":34715846,"question_id":25543910,"body_markdown":"Go to \r\nProject&gt;Build Path&gt;Configure Build Path&gt;Libraries&gt;Remove Error libraries\r\n\r\nAfter Refresh project and run again program.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Go to \nProject>Build Path>Configure Build Path>Libraries>Remove Error libraries</p>\n\n<p>After Refresh project and run again program.</p>\n"},{"tags":[],"owner":{"account_id":4129702,"reputation":430,"user_id":3387943,"display_name":"Sneh Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453280791,"creation_date":1453280791,"answer_id":34895676,"question_id":25543910,"body_markdown":"In my opinion if src has test/java/ folders then in build path out location should be like target/test-classes.\r\n\r\nIf src has main/java/ folders then in build path out location should be like target/classes. ","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>In my opinion if src has test/java/ folders then in build path out location should be like target/test-classes.</p>\n\n<p>If src has main/java/ folders then in build path out location should be like target/classes. </p>\n"},{"tags":[],"owner":{"account_id":2173945,"reputation":391,"user_id":1925138,"accept_rate":38,"display_name":"Sapna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454073215,"creation_date":1454073215,"answer_id":35085466,"question_id":25543910,"body_markdown":"I came across the same issue stated above today. **setting the class-path again in eclipse ** solved the issue .","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I came across the same issue stated above today. **setting the class-path again in eclipse ** solved the issue .</p>\n"},{"tags":[],"owner":{"account_id":104518,"reputation":6167,"user_id":279393,"accept_rate":71,"display_name":"bnieland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461766937,"creation_date":1461766937,"answer_id":36892659,"question_id":25543910,"body_markdown":"I had no problems with this until recently.  \r\n\r\nNow I had to **move the suite&#39;s xml test file into the root of the project I was testing.**  \r\n\r\nIt may be that there is a setting to point at the classes I am testing, but I have not found it.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had no problems with this until recently.  </p>\n\n<p>Now I had to <strong>move the suite's xml test file into the root of the project I was testing.</strong>  </p>\n\n<p>It may be that there is a setting to point at the classes I am testing, but I have not found it.</p>\n"},{"tags":[],"owner":{"account_id":30529,"reputation":2538,"user_id":83280,"accept_rate":77,"display_name":"Steven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464198059,"creation_date":1464198059,"answer_id":37444197,"question_id":25543910,"body_markdown":"For me, the issue was because I excluded the test from compilation in the POM. My pom.xml looked like this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;testExcludes&gt;\r\n                &lt;exclude&gt;com/mycompany/app/AppTest.java&lt;/exclude&gt;\r\n            &lt;/testExcludes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter removing the `&lt;exclude&gt;`, I was able to run the tests in `AppTest.java` again.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>For me, the issue was because I excluded the test from compilation in the POM. My pom.xml looked like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;testExcludes&gt;\n            &lt;exclude&gt;com/mycompany/app/AppTest.java&lt;/exclude&gt;\n        &lt;/testExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After removing the <code>&lt;exclude&gt;</code>, I was able to run the tests in <code>AppTest.java</code> again.</p>\n"},{"tags":[],"owner":{"account_id":4289133,"reputation":670,"user_id":3505954,"accept_rate":43,"display_name":"Dinesh Chitta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466061393,"creation_date":1466061393,"answer_id":37852334,"question_id":25543910,"body_markdown":"In my case I imported maven project as Default existing project in eclipse.After that I imported as maven project.That worked for me.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>In my case I imported maven project as Default existing project in eclipse.After that I imported as maven project.That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8626196,"reputation":1088,"user_id":6459358,"accept_rate":80,"display_name":"Jeni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498477177,"creation_date":1498477177,"answer_id":44758897,"question_id":25543910,"body_markdown":"My 2 cents on the problem: I was experiencing the same problem, while some part of my path was in Cyrillic. So check the path to your project for special characters. Once I removed this, the problem was fixed","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>My 2 cents on the problem: I was experiencing the same problem, while some part of my path was in Cyrillic. So check the path to your project for special characters. Once I removed this, the problem was fixed</p>\n"},{"tags":[],"owner":{"account_id":278302,"reputation":188,"user_id":3284345,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499165658,"creation_date":1499165658,"answer_id":44904043,"question_id":25543910,"body_markdown":"Project&gt;&gt;Clean and Maven&gt;&gt;Update Project worked for me","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Project>>Clean and Maven>>Update Project worked for me</p>\n"},{"tags":[],"owner":{"account_id":8169868,"reputation":41,"user_id":6150731,"display_name":"Bheemashankar Pattar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501912143,"creation_date":1501912143,"answer_id":45518702,"question_id":25543910,"body_markdown":"This issue can be resolved by adding TestNG.class package to OnlineStore package as below\r\n\r\n 1. Step 1: Build Path &gt; Configure Build Path &gt; Java Build Path &gt; Select\r\n    &quot;Project&quot; tab\r\n 2. Step 2: Click &quot;add&quot; button and select the project with contains the\r\n    TestNG source.\r\n 3. Step 3 select TestNG.xml run as &quot;TestNG Suite&quot;","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>This issue can be resolved by adding TestNG.class package to OnlineStore package as below</p>\n\n<ol>\n<li>Step 1: Build Path > Configure Build Path > Java Build Path > Select\n\"Project\" tab</li>\n<li>Step 2: Click \"add\" button and select the project with contains the\nTestNG source.</li>\n<li>Step 3 select TestNG.xml run as \"TestNG Suite\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3870865,"reputation":121,"user_id":3206173,"display_name":"realnikunj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521455840,"creation_date":1521455840,"answer_id":49360865,"question_id":25543910,"body_markdown":"I also ran into the same problem with TestNG version 6.14.2\r\n\r\nHowever, this was due to a foolish mistake on my end and there is no issue whatsoever with maven, testng or eclipse. What I was doing was -\r\n\r\n1. Run project as &quot;mvn clean&quot;\r\n2. Select &quot;testng.xml&quot; file and right click on it to run as TestNG suite\r\n3. This was giving me the same error as reported in the original question\r\n4. I soon realized that I have not compiled the project and the required class files have not been generated that the TestNG would utilize subsequently\r\n5. The &quot;target&quot; folder will be generated only after the project is compiled (Run as &quot;mvn build&quot;)\r\n6. If your project is compiled, this issue should not be there.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I also ran into the same problem with TestNG version 6.14.2</p>\n\n<p>However, this was due to a foolish mistake on my end and there is no issue whatsoever with maven, testng or eclipse. What I was doing was -</p>\n\n<ol>\n<li>Run project as \"mvn clean\"</li>\n<li>Select \"testng.xml\" file and right click on it to run as TestNG suite</li>\n<li>This was giving me the same error as reported in the original question</li>\n<li>I soon realized that I have not compiled the project and the required class files have not been generated that the TestNG would utilize subsequently</li>\n<li>The \"target\" folder will be generated only after the project is compiled (Run as \"mvn build\")</li>\n<li>If your project is compiled, this issue should not be there.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5157876,"reputation":393,"user_id":4130574,"display_name":"Sachin Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529345921,"creation_date":1529345463,"answer_id":50915209,"question_id":25543910,"body_markdown":"I had the same issue when i was using selenium 3.11.xx dependency however my problem was resolved when i used selenium 3.4.x dependency.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had the same issue when i was using selenium 3.11.xx dependency however my problem was resolved when i used selenium 3.4.x dependency.</p>\n"},{"tags":[],"owner":{"account_id":7865099,"reputation":2247,"user_id":5944123,"accept_rate":20,"display_name":"Pratik Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537446775,"creation_date":1537446775,"answer_id":52425274,"question_id":25543910,"body_markdown":"I had this same problem when I imported my project from one PC to another on IntelliJ IDEA.\r\n\r\nBelow Solution worked for me:\r\n\r\n 1. Import project using Git.\r\n 2. After Importing IDE would prompt you a dialog on the bottom right corner saying &quot;Import as Gradle&quot;, you need to select that but make Sure you have set JAVA_HOME and GRADLE(Gradle Home or Gradle wrapper both should work) properly.\r\n 3. Run the build.gradle and make sure all the dependencies are downloaded correctly without any error.\r\n 4. Now move to your Test Case and try to run with TestNG or JUnit and if you have followed above 3 steps properly you should able to run the test case.\r\n\r\n\r\n\r\n","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had this same problem when I imported my project from one PC to another on IntelliJ IDEA.</p>\n\n<p>Below Solution worked for me:</p>\n\n<ol>\n<li>Import project using Git.</li>\n<li>After Importing IDE would prompt you a dialog on the bottom right corner saying \"Import as Gradle\", you need to select that but make Sure you have set JAVA_HOME and GRADLE(Gradle Home or Gradle wrapper both should work) properly.</li>\n<li>Run the build.gradle and make sure all the dependencies are downloaded correctly without any error.</li>\n<li>Now move to your Test Case and try to run with TestNG or JUnit and if you have followed above 3 steps properly you should able to run the test case.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9470795,"reputation":9,"user_id":7041699,"display_name":"Dhananjay D. Argade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540123238,"creation_date":1540123238,"answer_id":52915094,"question_id":25543910,"body_markdown":"After done trying everything that I found on this issue, in eclipse, \r\n\r\nI selected my project --&gt; right click --&gt; Run as --&gt; Maven generate-sources\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nLMcG.jpg\r\n\r\nThen I re-ran my TestNG project and it ran perfectly fine without any issues.Hope that helps :)","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>After done trying everything that I found on this issue, in eclipse, </p>\n\n<p>I selected my project --> right click --> Run as --> Maven generate-sources</p>\n\n<p><a href=\"https://i.stack.imgur.com/nLMcG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nLMcG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Then I re-ran my TestNG project and it ran perfectly fine without any issues.Hope that helps :)</p>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540358174,"creation_date":1540358174,"answer_id":52961508,"question_id":25543910,"body_markdown":"For me it was that I added **Skip Tests** checkbox/flag in the Maven Build of the Project\r\n\r\nTherefore the test classes **weren&#39;t compiled** and then weren&#39;t found by TestNG","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>For me it was that I added <strong>Skip Tests</strong> checkbox/flag in the Maven Build of the Project</p>\n\n<p>Therefore the test classes <strong>weren't compiled</strong> and then weren't found by TestNG</p>\n"},{"tags":[],"owner":{"account_id":10527442,"reputation":1017,"user_id":7758011,"display_name":"SanjX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547471585,"creation_date":1547471585,"answer_id":54182248,"question_id":25543910,"body_markdown":"I also had this issue.\r\nI&#39;m using IntelliJ IDEA.\r\nI was using `src/main/java` for configuration files and `src/test/java` for test files. &lt;br&gt;\r\nBecause of this testNG couldn&#39;t find the class path. \r\nTo prevent getting that error need to move all the files from `src/main/java` to `src/test/java` or vice versa.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I also had this issue.\nI'm using IntelliJ IDEA.\nI was using <code>src/main/java</code> for configuration files and <code>src/test/java</code> for test files. <br>\nBecause of this testNG couldn't find the class path. \nTo prevent getting that error need to move all the files from <code>src/main/java</code> to <code>src/test/java</code> or vice versa.</p>\n"},{"tags":[],"owner":{"account_id":10794327,"reputation":173,"user_id":7940641,"accept_rate":40,"display_name":"Aashir Haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548483956,"creation_date":1548483956,"answer_id":54376195,"question_id":25543910,"body_markdown":"You should create **package** first and then create new TestNG class under that package.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>You should create <strong>package</strong> first and then create new TestNG class under that package.</p>\n"},{"tags":[],"owner":{"account_id":8044116,"reputation":458,"user_id":6064822,"display_name":"Saurabh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559210635,"creation_date":1559210635,"answer_id":56375995,"question_id":25543910,"body_markdown":"Make sure that your class is under src. ","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Make sure that your class is under src. </p>\n"},{"tags":[],"owner":{"account_id":7527385,"reputation":2093,"user_id":5717031,"accept_rate":17,"display_name":"Mike ASP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564788275,"creation_date":1564788275,"answer_id":57334399,"question_id":25543910,"body_markdown":"Let me share what worked for me:\r\n\r\n1. When we do &quot;mvn clean&quot;  - we are cleaning old compiled classes\r\nplease lgo to ocation &quot;your project directroy -&gt; target &quot; you will find this folder is getting cleaned because that&#39;s where MVN places it&#39;s compiled artifacts \r\n\r\n2. Since it&#39;s already a MAVEN project then go to your project folder and open in command prompt. And issue &quot;mvn clean&quot; and then &quot;mvn test&quot;\r\n-&gt; &quot;mvn test&quot; command will place all the compiled files under proper folders and then you can run your tests through TestNG or MAVEN itself.  \r\n\r\n3. Make sure you set up &quot;M2_HOME&quot; or &quot;MAVEN_HOME&quot; to your env path , sometime \r\n&quot;MAVEN_HOME&quot; doesn&#39;t work so add &quot;M2_HOME&quot; as well (google it for this set up)\r\n \r\nAbove suggestions worked for me so I wanted to share, good luck","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Let me share what worked for me:</p>\n\n<ol>\n<li><p>When we do \"mvn clean\"  - we are cleaning old compiled classes\nplease lgo to ocation \"your project directroy -> target \" you will find this folder is getting cleaned because that's where MVN places it's compiled artifacts </p></li>\n<li><p>Since it's already a MAVEN project then go to your project folder and open in command prompt. And issue \"mvn clean\" and then \"mvn test\"\n-> \"mvn test\" command will place all the compiled files under proper folders and then you can run your tests through TestNG or MAVEN itself.  </p></li>\n<li><p>Make sure you set up \"M2_HOME\" or \"MAVEN_HOME\" to your env path , sometime \n\"MAVEN_HOME\" doesn't work so add \"M2_HOME\" as well (google it for this set up)</p></li>\n</ol>\n\n<p>Above suggestions worked for me so I wanted to share, good luck</p>\n"},{"tags":[],"owner":{"account_id":5190058,"reputation":41,"user_id":4153252,"display_name":"Obie Du"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574931568,"creation_date":1574931568,"answer_id":59085024,"question_id":25543910,"body_markdown":"I had the same error. I cleaned the maven project then the problem was solved.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I had the same error. I cleaned the maven project then the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":3413391,"reputation":49,"user_id":3598956,"display_name":"Sandeep Srivastav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579851340,"creation_date":1579851340,"answer_id":59892197,"question_id":25543910,"body_markdown":"It happens when MAVEN is not installed locally on the system. \r\n\r\nI faced the same issue when i cloned a Maven based Project from GIT and then as soon as I executed I got exception &quot;Cannot Find Class In ClassPath : Class Name&quot;\r\n\r\nSo i did a **mvn clean test** and found that maven is not installed locally. \r\n\r\nAfter doing **sudo apt install maven** Maven got installed and i was able to Run the code\r\n\r\n","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>It happens when MAVEN is not installed locally on the system. </p>\n\n<p>I faced the same issue when i cloned a Maven based Project from GIT and then as soon as I executed I got exception \"Cannot Find Class In ClassPath : Class Name\"</p>\n\n<p>So i did a <strong>mvn clean test</strong> and found that maven is not installed locally. </p>\n\n<p>After doing <strong>sudo apt install maven</strong> Maven got installed and i was able to Run the code</p>\n"},{"tags":[],"owner":{"account_id":5038567,"reputation":776,"user_id":4046691,"display_name":"Hossain Mahmood Tuhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587555579,"creation_date":1587555579,"answer_id":61364218,"question_id":25543910,"body_markdown":"If you use IntelliJ IDEA, try the following:\r\n\r\n1. From &#39;File&#39;, select &quot;Invalidate Caches/ Restart&quot; option.\r\n2. Confirm this action by clicking the &quot;Invalidate and Restart&quot; button.\r\n3. Then the IDEA will be restarted.\r\n4. You will then find a fresh copy of your project.\r\n5. You then need to import/ change project format to the Maven project. IDEA will show you options at the bottom right corner. \r\n6. After this, you should be able to run your project.","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>If you use IntelliJ IDEA, try the following:</p>\n\n<ol>\n<li>From 'File', select \"Invalidate Caches/ Restart\" option.</li>\n<li>Confirm this action by clicking the \"Invalidate and Restart\" button.</li>\n<li>Then the IDEA will be restarted.</li>\n<li>You will then find a fresh copy of your project.</li>\n<li>You then need to import/ change project format to the Maven project. IDEA will show you options at the bottom right corner. </li>\n<li>After this, you should be able to run your project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20920425,"reputation":19,"user_id":15369171,"display_name":"Faketester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620301984,"creation_date":1620301984,"answer_id":67417580,"question_id":25543910,"body_markdown":"I was having the same issue when listener  was under src/main/java folder and the base class was under src/test/java, I moved base class under src/main/java  and it worked perfectly well [![enter image description here][1]][1]l\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GCz3y.png","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>I was having the same issue when listener  was under src/main/java folder and the base class was under src/test/java, I moved base class under src/main/java  and it worked perfectly well <a href=\"https://i.stack.imgur.com/GCz3y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCz3y.png\" alt=\"enter image description here\" /></a>l</p>\n"},{"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634811904,"creation_date":1634811904,"answer_id":69660212,"question_id":25543910,"body_markdown":"Same issue here. In my case it was caused by an abstract test class in a separate `test` package from which all my NG tests were derived. Once I moved that abstract class to the root of the test package, it worked. ","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>Same issue here. In my case it was caused by an abstract test class in a separate <code>test</code> package from which all my NG tests were derived. Once I moved that abstract class to the root of the test package, it worked.</p>\n"},{"tags":[],"owner":{"account_id":15044389,"reputation":33,"user_id":10858017,"display_name":"Sanket Bhosale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687436690,"creation_date":1687436690,"answer_id":76531872,"question_id":25543910,"body_markdown":"If you use the Maven project in Eclipse, the following steps will fix your issue.\r\n\r\n1. Right-click on the Project folder(Workplace)\r\n2. Follow this path and select the **Update project** option\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bF7Uw.png","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>If you use the Maven project in Eclipse, the following steps will fix your issue.</p>\n<ol>\n<li>Right-click on the Project folder(Workplace)</li>\n<li>Follow this path and select the <strong>Update project</strong> option</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bF7Uw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bF7Uw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3583726,"reputation":361,"user_id":2991323,"display_name":"user2991323"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320112,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":34,"score":36,"last_activity_date":1687436690,"creation_date":1409213484,"question_id":25543910,"body_markdown":"   When i&#39;m trying to run the test suite, am getting this exception. We are using maven project here and i am done with refreshing, cleaning, reinstalling testNG and then imported the maven projects but then also am getting the same exception. Please suggest any ways that am missing here.\r\n\r\nError console:\r\n\r\n    org.testng.TestNGException: \r\n    Cannot find class in classpath: EmpClass\r\n\r\n\tat org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\r\n\tat org.testng.xml.XmlClass.init(XmlClass.java:73)\r\n\tat org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\r\n\tat org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:543)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:766)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1350)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2778)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\r\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\r\n\tat org.testng.xml.XMLParser.parse(XMLParser.java:39)\r\n\tat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:17)\r\n\tat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:10)\r\n\tat org.testng.xml.Parser.parse(Parser.java:168)\r\n\tat org.testng.TestNG.initializeSuitesAndJarFile(TestNG.java:311)\r\n\tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:88)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n","title":"Error: org.testng.TestNGException: Cannot find class in classpath: EmpClass","body":"<p>When i'm trying to run the test suite, am getting this exception. We are using maven project here and i am done with refreshing, cleaning, reinstalling testNG and then imported the maven projects but then also am getting the same exception. Please suggest any ways that am missing here.</p>\n\n<p>Error console:</p>\n\n<pre><code>org.testng.TestNGException: \nCannot find class in classpath: EmpClass\n\nat org.testng.xml.XmlClass.loadClass(XmlClass.java:81)\nat org.testng.xml.XmlClass.init(XmlClass.java:73)\nat org.testng.xml.XmlClass.&lt;init&gt;(XmlClass.java:59)\nat org.testng.xml.TestNGContentHandler.startElement(TestNGContentHandler.java:543)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\nat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\nat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDValidator.java:766)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1350)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2778)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\nat javax.xml.parsers.SAXParser.parse(SAXParser.java:195)\nat org.testng.xml.XMLParser.parse(XMLParser.java:39)\nat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:17)\nat org.testng.xml.SuiteXmlParser.parse(SuiteXmlParser.java:10)\nat org.testng.xml.Parser.parse(Parser.java:168)\nat org.testng.TestNG.initializeSuitesAndJarFile(TestNG.java:311)\nat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:88)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n"},{"tags":["java","google-bigquery","integration-testing","testcontainers","google-bigquery-java"],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687436586,"creation_date":1687420514,"question_id":76529686,"body_markdown":"I am working with the [Java BigQuery API Client][1] and I am not sure how to write some integration tests for it. \r\n\r\nI saw this [old StackOverflow post][2] but I don&#39;t know If anything has changed since then. I can see [testcontaienrs for some of the GCloud modules][3], but nothing for BigQuery out of the box. Does anybody have any idea or suggestions on how to test?\r\n\r\n\r\nIf none of this is possible, I have also found the [com.google.cloud.bigquery.testing][4] which will perform the actual HTTP calls. Has anybody tried it and has any feedback? \r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/libraries#client-libraries-install-java\r\n  [2]: https://stackoverflow.com/questions/49336013/how-can-i-make-integration-tests-with-google-cloud-bigquery\r\n  [3]: https://java.testcontainers.org/modules/gcloud/\r\n  [4]: https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.testing","title":"Are there Testconatiners for BigQuery emaulator?","body":"<p>I am working with the <a href=\"https://cloud.google.com/bigquery/docs/reference/libraries#client-libraries-install-java\" rel=\"nofollow noreferrer\">Java BigQuery API Client</a> and I am not sure how to write some integration tests for it.</p>\n<p>I saw this <a href=\"https://stackoverflow.com/questions/49336013/how-can-i-make-integration-tests-with-google-cloud-bigquery\">old StackOverflow post</a> but I don't know If anything has changed since then. I can see <a href=\"https://java.testcontainers.org/modules/gcloud/\" rel=\"nofollow noreferrer\">testcontaienrs for some of the GCloud modules</a>, but nothing for BigQuery out of the box. Does anybody have any idea or suggestions on how to test?</p>\n<p>If none of this is possible, I have also found the <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigquery/latest/com.google.cloud.bigquery.testing\" rel=\"nofollow noreferrer\">com.google.cloud.bigquery.testing</a> which will perform the actual HTTP calls. Has anybody tried it and has any feedback?</p>\n"},{"tags":["java","windows","maven","intellij-idea","checkstyle"],"comments":[{"owner":{"account_id":16725468,"reputation":919,"user_id":12089183,"display_name":"Ambro-r"},"score":0,"creation_date":1570220720,"post_id":58236549,"comment_id":102857779,"body_markdown":"Where is `google_checks.xml` located?","body":"Where is <code>google_checks.xml</code> located?"},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":0,"creation_date":1570413445,"post_id":58236549,"comment_id":102893636,"body_markdown":"Your configuration must include SuppressionFilter, or a similar filter, for suppressions to work. See https://checkstyle.org/config_filters.html#SuppressionFilter","body":"Your configuration must include SuppressionFilter, or a similar filter, for suppressions to work. See <a href=\"https://checkstyle.org/config_filters.html#SuppressionFilter\" rel=\"nofollow noreferrer\">checkstyle.org/config_filters.html#SuppressionFilter</a>"},{"owner":{"account_id":8020064,"reputation":91,"user_id":6048968,"display_name":"Sergey  Ch"},"score":0,"creation_date":1691397402,"post_id":58236549,"comment_id":135480679,"body_markdown":"Also beware that a path to suppressions file should be changed to use \\\\ instead of /  similarly as paths to individual files you are applying the suppressions to","body":"Also beware that a path to suppressions file should be changed to use \\\\ instead of /  similarly as paths to individual files you are applying the suppressions to"}],"answers":[{"tags":[],"owner":{"account_id":14593176,"reputation":115,"user_id":10539722,"display_name":"3AKOBAH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687435868,"creation_date":1570529101,"answer_id":58284210,"question_id":58236549,"body_markdown":"Unix based systems(Linux/MacOS), use forward slash &quot;/&quot; as a path separator. But Windows uses backward slash &quot;\\\\&quot; for that purpose. That&#39;s why regex did not match the path to the files and did not apply any suppressions.\r\nOne way for the path Regex to make it work on both Linux/MacOS and Windows is to replace slashes with “[/\\\\\\\\]” and accept both shashes as a path separator.\r\nExample:\r\n\r\n\t&lt;suppress checks=&quot;AbbreviationAsWordInName&quot; files=&quot;[/\\\\]foo[/\\\\]bar[/\\\\].*IT.java&quot;/&gt;\r\n\r\n\r\n","title":"Maven: On Windows Checkstyle plug-in does not apply suppression filter","body":"<p>Unix based systems(Linux/MacOS), use forward slash &quot;/&quot; as a path separator. But Windows uses backward slash &quot;\\&quot; for that purpose. That's why regex did not match the path to the files and did not apply any suppressions.\nOne way for the path Regex to make it work on both Linux/MacOS and Windows is to replace slashes with “[/\\\\]” and accept both shashes as a path separator.\nExample:</p>\n<pre><code>&lt;suppress checks=&quot;AbbreviationAsWordInName&quot; files=&quot;[/\\\\]foo[/\\\\]bar[/\\\\].*IT.java&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14593176,"reputation":115,"user_id":10539722,"display_name":"3AKOBAH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58284210,"answer_count":1,"score":0,"last_activity_date":1687435868,"creation_date":1570192548,"question_id":58236549,"body_markdown":"On Linux/MacOS, Checkstyle plug-in applies suppression filter as expected, but on Windows it seems as if the filter is not applied and the build fails with the exact warnings intended to be suppressed in the suppressions.xml file.\r\n\r\nWhat could be the problem?\r\n\r\nSnippet from the pom.xml:\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;configLocation&gt;google_checks.xml&lt;/configLocation&gt;\r\n             &lt;suppressionsLocation&gt;foo/bar/checkstyle/suppressions.xml&lt;/suppressionsLocation&gt;\r\n             &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n            &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n            &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n            &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n            &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nAnd this is the whole suppressions.xml:\r\n\r\n```\r\n&lt;!DOCTYPE suppressions PUBLIC &quot;-//Puppy Crawl//DTD Suppressions 1.1//EN&quot;\r\n\t&quot;http://www.puppycrawl.com/dtds/suppressions_1_1.dtd&quot;&gt;\r\n&lt;suppressions&gt;\r\n\t&lt;suppress checks=&quot;NonEmptyAtclauseDescription&quot; files=&quot;.*&quot;/&gt;\r\n\t&lt;suppress checks=&quot;AbbreviationAsWordInName&quot; files=&quot;/foo/bar/.*IT.java&quot;/&gt;\r\n\t&lt;suppress checks=&quot;JavadocMethod&quot; files=&quot;/foo/bar/.*&quot;/&gt;\r\n&lt;/suppressions&gt;\r\n```\r\n","title":"Maven: On Windows Checkstyle plug-in does not apply suppression filter","body":"<p>On Linux/MacOS, Checkstyle plug-in applies suppression filter as expected, but on Windows it seems as if the filter is not applied and the build fails with the exact warnings intended to be suppressed in the suppressions.xml file.</p>\n\n<p>What could be the problem?</p>\n\n<p>Snippet from the pom.xml:</p>\n\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;configLocation&gt;google_checks.xml&lt;/configLocation&gt;\n             &lt;suppressionsLocation&gt;foo/bar/checkstyle/suppressions.xml&lt;/suppressionsLocation&gt;\n             &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n            &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n            &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n            &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n            &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n\n<p>And this is the whole suppressions.xml:</p>\n\n<pre><code>&lt;!DOCTYPE suppressions PUBLIC \"-//Puppy Crawl//DTD Suppressions 1.1//EN\"\n    \"http://www.puppycrawl.com/dtds/suppressions_1_1.dtd\"&gt;\n&lt;suppressions&gt;\n    &lt;suppress checks=\"NonEmptyAtclauseDescription\" files=\".*\"/&gt;\n    &lt;suppress checks=\"AbbreviationAsWordInName\" files=\"/foo/bar/.*IT.java\"/&gt;\n    &lt;suppress checks=\"JavadocMethod\" files=\"/foo/bar/.*\"/&gt;\n&lt;/suppressions&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1682499233,"post_id":76108889,"comment_id":134224160,"body_markdown":"`getReferernceById` will always return a proxy, instead use `findById`.","body":"<code>getReferernceById</code> will always return a proxy, instead use <code>findById</code>."},{"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"score":0,"creation_date":1682501559,"post_id":76108889,"comment_id":134224740,"body_markdown":"Oh yes ok thank you. Previsously it was `getOne` that was used and it was replaced by `getReferernceById` following javadoc because it was deprecated. But it is not what we wanted following the code. And do you know why the javadoc talks about EntityNotFoundException if not found?","body":"Oh yes ok thank you. Previsously it was <code>getOne</code> that was used and it was replaced by <code>getReferernceById</code> following javadoc because it was deprecated. But it is not what we wanted following the code. And do you know why the javadoc talks about EntityNotFoundException if not found?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682502725,"post_id":76108889,"comment_id":134225013,"body_markdown":"That will only be thrown if you start using the proxy by caling methods, it will then go to the database to fetch the entity, and that is the point it will throw an exception.","body":"That will only be thrown if you start using the proxy by caling methods, it will then go to the database to fetch the entity, and that is the point it will throw an exception."}],"answers":[{"tags":[],"owner":{"account_id":10189537,"reputation":21,"user_id":7523421,"display_name":"uanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687435842,"creation_date":1687435842,"answer_id":76531748,"question_id":76108889,"body_markdown":"The simple solution to run it is to use transaction for your test\r\n\r\nFor example \r\n\r\n```java\r\n@Test\r\n@Transactional\r\nvoid testSomething() {\r\n   //logic    \r\n}\r\n```","title":"Spring boot JPA: getReferenceById returns an hibernate proxy instead of EntityNotFoundException","body":"<p>The simple solution to run it is to use transaction for your test</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@Transactional\nvoid testSomething() {\n   //logic    \n}\n</code></pre>\n"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687435842,"creation_date":1682499170,"question_id":76108889,"body_markdown":"I cannot find a solution to my issue wth a JUnit test.\r\n\r\nThe database is initialized with two lines in a table (H2 database). The aim of the JUnit test is to check that we have an exception when we search a line with a unknown id.\r\n\r\nIn my service I have something like that:\r\n\r\n    private MyEntity getMyEntityById(final String id) throws MyBusinessException {\r\n        try {\r\n            MyEntity entity = this.myEntityRepository.getReferenceById(id);\r\n            if (entity == null) {\r\n                throw new MyBusinessException(BusinessError.UNKNOWN_ID_CODE);\r\n            }\r\n        }\r\n        catch (final EntityNotFoundException e) {\r\n            throw new MyBusinessException(BusinessError.UNKNOWN_ID_CODE, e);\r\n        }\r\n    }\r\n\r\nIn the test I expect to have MyBusinessException with BusinessError.UNKNOWN_ID_CODE because in the service I expect to have an EntityNotFoundException because the javadoc of `getReferenceById()` method says that:\r\n&quot;Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an javax.persistence.EntityNotFoundException on first access.&quot;.\r\n\r\nAt least, I expect to have null as return.\r\n\r\nInstead of that, I have an hibernate proxy returned and the test is in failure.\r\n\r\nI do not understand how to have what I expect. Can you help me to understand please?","title":"Spring boot JPA: getReferenceById returns an hibernate proxy instead of EntityNotFoundException","body":"<p>I cannot find a solution to my issue wth a JUnit test.</p>\n<p>The database is initialized with two lines in a table (H2 database). The aim of the JUnit test is to check that we have an exception when we search a line with a unknown id.</p>\n<p>In my service I have something like that:</p>\n<pre><code>private MyEntity getMyEntityById(final String id) throws MyBusinessException {\n    try {\n        MyEntity entity = this.myEntityRepository.getReferenceById(id);\n        if (entity == null) {\n            throw new MyBusinessException(BusinessError.UNKNOWN_ID_CODE);\n        }\n    }\n    catch (final EntityNotFoundException e) {\n        throw new MyBusinessException(BusinessError.UNKNOWN_ID_CODE, e);\n    }\n}\n</code></pre>\n<p>In the test I expect to have MyBusinessException with BusinessError.UNKNOWN_ID_CODE because in the service I expect to have an EntityNotFoundException because the javadoc of <code>getReferenceById()</code> method says that:\n&quot;Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an javax.persistence.EntityNotFoundException on first access.&quot;.</p>\n<p>At least, I expect to have null as return.</p>\n<p>Instead of that, I have an hibernate proxy returned and the test is in failure.</p>\n<p>I do not understand how to have what I expect. Can you help me to understand please?</p>\n"},{"tags":["java","math","vector","processing","orthogonal"],"answers":[{"comments":[{"owner":{"account_id":1391132,"reputation":846,"user_id":1321944,"accept_rate":67,"display_name":"Nolo"},"score":0,"creation_date":1459052972,"post_id":36243716,"comment_id":60117842,"body_markdown":"Note that the point q will still appear beyond either end of the line segment, i.e. there are no &quot;bounds&quot; checks applied here.","body":"Note that the point q will still appear beyond either end of the line segment, i.e. there are no &quot;bounds&quot; checks applied here."},{"owner":{"account_id":7770896,"reputation":107,"user_id":5880513,"display_name":"B. Boe"},"score":0,"creation_date":1459088196,"post_id":36243716,"comment_id":60126253,"body_markdown":"Thank you! This was very helpful.","body":"Thank you! This was very helpful."},{"owner":{"account_id":7770896,"reputation":107,"user_id":5880513,"display_name":"B. Boe"},"score":0,"creation_date":1459088530,"post_id":36243716,"comment_id":60126389,"body_markdown":"Something I am looking for as well though is the circle moving towards whatever the closest point is on the line segment. Like we see the circle move. Any thoughts about how to do that would be great!","body":"Something I am looking for as well though is the circle moving towards whatever the closest point is on the line segment. Like we see the circle move. Any thoughts about how to do that would be great!"},{"owner":{"account_id":1391132,"reputation":846,"user_id":1321944,"accept_rate":67,"display_name":"Nolo"},"score":0,"creation_date":1459096263,"post_id":36243716,"comment_id":60129124,"body_markdown":"You can use the same vector formulation for that where t is a value from 0-1 and n is the normalized vector in the direction from the ball to the nearest point (i.e. norm(q - p) using the variables we already have).  The wikipedia article describes each vector component as one works through the formula. :)  For example when t is 0 then the above results in the ball being at the point p, when t is 1 the ball would be at point q.","body":"You can use the same vector formulation for that where t is a value from 0-1 and n is the normalized vector in the direction from the ball to the nearest point (i.e. norm(q - p) using the variables we already have).  The wikipedia article describes each vector component as one works through the formula. :)  For example when t is 0 then the above results in the ball being at the point p, when t is 1 the ball would be at point q."},{"owner":{"account_id":1391132,"reputation":846,"user_id":1321944,"accept_rate":67,"display_name":"Nolo"},"score":0,"creation_date":1459096592,"post_id":36243716,"comment_id":60129241,"body_markdown":"If you need help working out how to animate the ball in that case, just ask another question.  Post a link to it here if you don&#39;t get a quick response, I&#39;ll be able to look at it after work.","body":"If you need help working out how to animate the ball in that case, just ask another question.  Post a link to it here if you don&#39;t get a quick response, I&#39;ll be able to look at it after work."},{"owner":{"account_id":7770896,"reputation":107,"user_id":5880513,"display_name":"B. Boe"},"score":0,"creation_date":1459114621,"post_id":36243716,"comment_id":60135596,"body_markdown":"I had this other sketch I was working on and it&#39;s a part of the new question about how to animate the ball- http://stackoverflow.com/questions/36252964/how-to-move-a-circle-across-a-line-in-processing","body":"I had this other sketch I was working on and it&#39;s a part of the new question about how to animate the ball- <a href=\"http://stackoverflow.com/questions/36252964/how-to-move-a-circle-across-a-line-in-processing\" title=\"how to move a circle across a line in processing\">stackoverflow.com/questions/36252964/&hellip;</a>"}],"tags":[],"owner":{"account_id":1391132,"reputation":846,"user_id":1321944,"accept_rate":67,"display_name":"Nolo"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459053138,"creation_date":1459051679,"answer_id":36243716,"question_id":36238017,"body_markdown":"The projection of a point onto a line is as follows:\r\n\r\nStart with a line of the form x = a + t * n and a point p.\r\n- - -\r\nThe vector compontent representing the nearest point on the line from the point p is:\r\n\r\n(a - p) - ((a - p) dot n)n\r\n\r\nso we have: p + (a - p) - ((a - p) dot n)n\r\n\r\nafter some simplification we have:\r\na - ((a - p) dot n)n\r\n\r\n- - -\r\n\r\nNote that ((a - p) dot n) n is the vector component that represents the position along the line from the nearest point to the beginning (i.e. from nearest point to p back to a)\r\n\r\nLet&#39;s use `PVector`s to make life a bit easier.\r\n\r\n    PVector p = new PVector(200, 200);\r\n    PVector a = new PVector(50, 50);\r\n    PVector b = new PVector(350, 50);\r\n    PVector n = new PVector(350, 50); // |p2 - p1|\r\n    \r\n    void setup() {\r\n        size(400, 400); \r\n        strokeWeight(2);\r\n        strokeWeight(1);\r\n\r\n        // initialize our normalized (unit length) line direction\r\n        n.sub(a);\r\n        n.normalize();\r\n    }\r\n    \r\n    void draw() {\r\n        drawCircle();\r\n    }\r\n    \r\n    PVector getNearestPointOnLine(PVector p, PVector a, PVector n){\r\n        // the notation turns the computation inside out,\r\n        // but this is equivalent to the above equation\r\n        PVector q = PVector.mult(n, -PVector.sub(a, p).dot(n));\r\n        q.add(a);\r\n        return q;\r\n    }\r\n    \r\n    void drawCircle() {\r\n        // lets draw everything here where we can see it\r\n        background(255, 255, 255);\r\n        line(a.x, a.y, b.x, b.y);\r\n        \r\n        fill(50, 120, 120);\r\n        //circle\r\n\r\n        // NOTE: this may require hooking up a mouse move event handler\r\n        p.x = mouseX;\r\n        p.y = mouseY;\r\n        PVector q = getNearestPointOnLine(p, a, n);\r\n        \r\n        ellipse(q.x, q.y, 75, 75); \r\n        //circle center\r\n        ellipse(q.x, q.y, 7, 7);  \r\n        fill(0); // make text visible on white background\r\n        text(&quot;Q&quot;, q.x + 15, q.y + 5);\r\n        //fill(50, 120, 120);\r\n    }\r\n\r\nReference: https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line#Vector_formulation","title":"Orthogonal projection of a point onto a line in processing?","body":"<p>The projection of a point onto a line is as follows:</p>\n\n<p>Start with a line of the form x = a + t * n and a point p.</p>\n\n<hr>\n\n<p>The vector compontent representing the nearest point on the line from the point p is:</p>\n\n<p>(a - p) - ((a - p) dot n)n</p>\n\n<p>so we have: p + (a - p) - ((a - p) dot n)n</p>\n\n<p>after some simplification we have:\na - ((a - p) dot n)n</p>\n\n<hr>\n\n<p>Note that ((a - p) dot n) n is the vector component that represents the position along the line from the nearest point to the beginning (i.e. from nearest point to p back to a)</p>\n\n<p>Let's use <code>PVector</code>s to make life a bit easier.</p>\n\n<pre><code>PVector p = new PVector(200, 200);\nPVector a = new PVector(50, 50);\nPVector b = new PVector(350, 50);\nPVector n = new PVector(350, 50); // |p2 - p1|\n\nvoid setup() {\n    size(400, 400); \n    strokeWeight(2);\n    strokeWeight(1);\n\n    // initialize our normalized (unit length) line direction\n    n.sub(a);\n    n.normalize();\n}\n\nvoid draw() {\n    drawCircle();\n}\n\nPVector getNearestPointOnLine(PVector p, PVector a, PVector n){\n    // the notation turns the computation inside out,\n    // but this is equivalent to the above equation\n    PVector q = PVector.mult(n, -PVector.sub(a, p).dot(n));\n    q.add(a);\n    return q;\n}\n\nvoid drawCircle() {\n    // lets draw everything here where we can see it\n    background(255, 255, 255);\n    line(a.x, a.y, b.x, b.y);\n\n    fill(50, 120, 120);\n    //circle\n\n    // NOTE: this may require hooking up a mouse move event handler\n    p.x = mouseX;\n    p.y = mouseY;\n    PVector q = getNearestPointOnLine(p, a, n);\n\n    ellipse(q.x, q.y, 75, 75); \n    //circle center\n    ellipse(q.x, q.y, 7, 7);  \n    fill(0); // make text visible on white background\n    text(\"Q\", q.x + 15, q.y + 5);\n    //fill(50, 120, 120);\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line#Vector_formulation\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line#Vector_formulation</a></p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687435818,"creation_date":1687435371,"answer_id":76531684,"question_id":36238017,"body_markdown":"*If you need implementation in Javafx* \r\n\r\n### vv\r\n\r\nAB is the line. \\\r\nP is a point close to line. \\\r\nM is the point on the line that is closest to P.\r\n\r\n```java\r\n  public static Point findPointMOnLineClosestToGivenPointP(Point vector_A, Point vector_B, Point vector_P) {\r\n    Point vector_AB = vector_B.subtract(vector_A);\r\n    Point vector_AP = vector_P.subtract(vector_A);\r\n    double distance_AM = vector_AB.dotProduct(vector_AP) / vector_AB.magnitude();\r\n    Point vector_AM = vector_AB.normalize().multiply(distance_AM);\r\n    Point vector_M = vector_A.add(vector_AM);\r\n    return vector_M;\r\n  }\r\n```\r\n\r\n*the `Point` class is just the same as `javafx.geometry.Point2D` class, it just I renamed it...*\r\n\r\n---\r\n\r\n*(Following are not important)*\r\n\r\n### test case &amp; compare\r\n\r\n(This produce same result as the other answer&#39;s `getNearestPointOnLine()`, similar Math formula.)\r\n\r\n```java\r\npackage com.redfrog.trafficsm;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.util.Random;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.redfrog.trafficsm.model.Point;\r\nimport com.redfrog.trafficsm.util.MathUtil;\r\n\r\nimport processing.core.PVector;\r\n\r\nclass SimpleTest {\r\n\r\n  Random random = new Random(111);\r\n\r\n  @Test\r\n  public void test_getNearestPointOnLine() {\r\n    float bound = 100;\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n      float f_x;\r\n      float f_y;\r\n      f_x = random.nextFloat(-bound, bound);\r\n      f_y = random.nextFloat(-bound, bound);\r\n      Point point_A = new Point(f_x, f_y);\r\n      PVector pvector_A = new PVector(f_x, f_y);\r\n\r\n      f_x = random.nextFloat(-bound, bound);\r\n      f_y = random.nextFloat(-bound, bound);\r\n      Point point_B = new Point(f_x, f_y);\r\n      PVector pvector_B = new PVector(f_x, f_y);\r\n      PVector pvector_N = pvector_B.sub(pvector_A).normalize();\r\n\r\n      f_x = random.nextFloat(-bound, bound);\r\n      f_y = random.nextFloat(-bound, bound);\r\n      Point point_P = new Point(f_x, f_y);\r\n      PVector pvector_P = new PVector(f_x, f_y);\r\n\r\n      Point point_M = MathUtil.findPointMOnLineClosestToGivenPointP(point_A, point_B, point_P);\r\n      PVector pvector_M = MathUtil.getNearestPointOnLine(pvector_P, pvector_A, pvector_N);\r\n\r\n      System.out.println();\r\n      System.out.println(point_M);\r\n      System.out.println(pvector_M);\r\n\r\n      int scale = 2;\r\n      System.out.println(MathUtil.round(point_M.getX(), scale));\r\n      System.out.println(MathUtil.round(pvector_M.x, scale));\r\n      System.out.println(MathUtil.round(point_M.getY(), scale));\r\n      System.out.println(MathUtil.round(pvector_M.y, scale));\r\n      assertEquals(MathUtil.round(point_M.getX(), scale), MathUtil.round(pvector_M.x, scale));\r\n      assertEquals(MathUtil.round(point_M.getY(), scale), MathUtil.round(pvector_M.y, scale));\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.redfrog.trafficsm.util;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\n\r\nimport com.redfrog.trafficsm.model.Point;\r\n\r\nimport processing.core.PVector;\r\n\r\npublic class MathUtil {\r\n\r\n  public static double round(double value, int scale) {\r\n    return round(value, scale, RoundingMode.HALF_DOWN); // \r\n  }\r\n\r\n  public static double round(double value, int scale, RoundingMode roundingMode) {\r\n    return new BigDecimal(value).setScale(scale, roundingMode).doubleValue(); // \r\n  }\r\n\r\n  // ############\r\n\r\n  public static Point findPointMOnLineClosestToGivenPointP(Point vector_A, Point vector_B, Point vector_P) {\r\n    Point vector_AB = vector_B.subtract(vector_A);\r\n    Point vector_AP = vector_P.subtract(vector_A);\r\n    double distance_AM = vector_AB.dotProduct(vector_AP) / vector_AB.magnitude();\r\n    Point vector_AM = vector_AB.normalize().multiply(distance_AM);\r\n    Point vector_M = vector_A.add(vector_AM);\r\n    return vector_M;\r\n  }\r\n\r\n  // https://stackoverflow.com/questions/36238017/orthogonal-projection-of-a-point-onto-a-line-in-processing\r\n  public static PVector getNearestPointOnLine(PVector p, PVector a, PVector n) {\r\n    // the notation turns the computation inside out,\r\n    // but this is equivalent to the above equation\r\n    PVector q = PVector.mult(n, -PVector.sub(a, p).dot(n));\r\n    q.add(a);\r\n    return q;\r\n  }\r\n}\r\n\r\n```\r\n\r\n### visualization in Javafx \r\n\r\n```java\r\npackage com.redfrog.note;\r\n\r\nimport java.util.Random;\r\n\r\nimport com.google.common.util.concurrent.AtomicDouble;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.scene.Cursor;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\nimport processing.core.PVector;\r\n\r\npublic class TestAppJavafxBoot extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    AnchorPane pane_JfxRoot = new AnchorPane();\r\n\r\n    AnchorPane panel_SemanticRoot = new AnchorPane();\r\n    pane_JfxRoot.getChildren().add(panel_SemanticRoot);\r\n\r\n    final double opacity = 0.9;\r\n\r\n    panel_SemanticRoot.setLayoutX(350);\r\n    panel_SemanticRoot.setLayoutY(350);\r\n\r\n    Random random = new Random(111);\r\n\r\n    float bound = 100;\r\n\r\n    float f_x;\r\n    float f_y;\r\n\r\n    f_x = random.nextFloat(-bound, bound);\r\n    f_y = random.nextFloat(-bound, bound);\r\n    Point2D point_A = new Point2D(f_x, f_y);\r\n    PVector pvector_A = new PVector(f_x, f_y);\r\n\r\n    final Circle circle = new Circle();\r\n    panel_SemanticRoot.getChildren().add(circle);\r\n    circle.setRadius(3);\r\n    circle.setFill(Color.rgb(255, 0, 0, opacity));\r\n    circle.setCenterX(f_x);\r\n    circle.setCenterY(f_y);\r\n\r\n    f_x = random.nextFloat(-bound, bound);\r\n    f_y = random.nextFloat(-bound, bound);\r\n    Point2D point_B = new Point2D(f_x, f_y);\r\n    PVector pvector_B = new PVector(f_x, f_y);\r\n    PVector pvector_N = pvector_B.sub(pvector_A).normalize();\r\n\r\n    final Circle circle_02 = new Circle();\r\n    panel_SemanticRoot.getChildren().add(circle_02);\r\n    circle_02.setRadius(3);\r\n    circle_02.setFill(Color.rgb(0, 255, 0, opacity));\r\n    circle_02.setCenterX(f_x);\r\n    circle_02.setCenterY(f_y);\r\n\r\n    f_x = random.nextFloat(-bound, bound);\r\n    f_y = random.nextFloat(-bound, bound);\r\n    Point2D point_P = new Point2D(f_x, f_y);\r\n    PVector pvector_P = new PVector(f_x, f_y);\r\n\r\n    final Circle circle_03 = new Circle();\r\n    panel_SemanticRoot.getChildren().add(circle_03);\r\n    circle_03.setRadius(3);\r\n    circle_03.setFill(Color.rgb(0, 0, 255, opacity));\r\n    circle_03.setCenterX(f_x);\r\n    circle_03.setCenterY(f_y);\r\n\r\n    Point2D point_M = MathUtil.findPointMOnLineClosestToGivenPointP(point_A, point_B, point_P);\r\n    PVector pvector_M = MathUtil.getNearestPointOnLine(pvector_P, pvector_A, pvector_N);\r\n\r\n    System.out.println();\r\n    System.out.println(point_M);\r\n\r\n    final Circle circle_04 = new Circle();\r\n    panel_SemanticRoot.getChildren().add(circle_04);\r\n    circle_04.setRadius(3);\r\n    circle_04.setFill(Color.rgb(0, 255, 255, opacity));\r\n    circle_04.setCenterX(point_M.getX());\r\n    circle_04.setCenterY(point_M.getY());\r\n\r\n    final Circle circle_05 = new Circle();\r\n    panel_SemanticRoot.getChildren().add(circle_05);\r\n    circle_05.setRadius(3);\r\n    circle_05.setFill(Color.rgb(255, 255, 0, opacity));\r\n    circle_05.setCenterX(pvector_M.x);\r\n    circle_05.setCenterY(pvector_M.y);\r\n\r\n\r\n    Scene scene = new Scene(pane_JfxRoot, 950, 750);\r\n    primaryStage.setTitle(&quot;DDD&quot;);\r\n    primaryStage.setScene(scene);\r\n    primaryStage.show();\r\n\r\n  }\r\n}\r\n```","title":"Orthogonal projection of a point onto a line in processing?","body":"<p><em>If you need implementation in Javafx</em></p>\n<h3>vv</h3>\n<p>AB is the line. <br />\nP is a point close to line. <br />\nM is the point on the line that is closest to P.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static Point findPointMOnLineClosestToGivenPointP(Point vector_A, Point vector_B, Point vector_P) {\n    Point vector_AB = vector_B.subtract(vector_A);\n    Point vector_AP = vector_P.subtract(vector_A);\n    double distance_AM = vector_AB.dotProduct(vector_AP) / vector_AB.magnitude();\n    Point vector_AM = vector_AB.normalize().multiply(distance_AM);\n    Point vector_M = vector_A.add(vector_AM);\n    return vector_M;\n  }\n</code></pre>\n<p><em>the <code>Point</code> class is just the same as <code>javafx.geometry.Point2D</code> class, it just I renamed it...</em></p>\n<hr />\n<p><em>(Following are not important)</em></p>\n<h3>test case &amp; compare</h3>\n<p>(This produce same result as the other answer's <code>getNearestPointOnLine()</code>, similar Math formula.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.redfrog.trafficsm;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.Random;\n\nimport org.junit.jupiter.api.Test;\n\nimport com.redfrog.trafficsm.model.Point;\nimport com.redfrog.trafficsm.util.MathUtil;\n\nimport processing.core.PVector;\n\nclass SimpleTest {\n\n  Random random = new Random(111);\n\n  @Test\n  public void test_getNearestPointOnLine() {\n    float bound = 100;\n\n    for (int i = 0; i &lt; 100; i++) {\n      float f_x;\n      float f_y;\n      f_x = random.nextFloat(-bound, bound);\n      f_y = random.nextFloat(-bound, bound);\n      Point point_A = new Point(f_x, f_y);\n      PVector pvector_A = new PVector(f_x, f_y);\n\n      f_x = random.nextFloat(-bound, bound);\n      f_y = random.nextFloat(-bound, bound);\n      Point point_B = new Point(f_x, f_y);\n      PVector pvector_B = new PVector(f_x, f_y);\n      PVector pvector_N = pvector_B.sub(pvector_A).normalize();\n\n      f_x = random.nextFloat(-bound, bound);\n      f_y = random.nextFloat(-bound, bound);\n      Point point_P = new Point(f_x, f_y);\n      PVector pvector_P = new PVector(f_x, f_y);\n\n      Point point_M = MathUtil.findPointMOnLineClosestToGivenPointP(point_A, point_B, point_P);\n      PVector pvector_M = MathUtil.getNearestPointOnLine(pvector_P, pvector_A, pvector_N);\n\n      System.out.println();\n      System.out.println(point_M);\n      System.out.println(pvector_M);\n\n      int scale = 2;\n      System.out.println(MathUtil.round(point_M.getX(), scale));\n      System.out.println(MathUtil.round(pvector_M.x, scale));\n      System.out.println(MathUtil.round(point_M.getY(), scale));\n      System.out.println(MathUtil.round(pvector_M.y, scale));\n      assertEquals(MathUtil.round(point_M.getX(), scale), MathUtil.round(pvector_M.x, scale));\n      assertEquals(MathUtil.round(point_M.getY(), scale), MathUtil.round(pvector_M.y, scale));\n    }\n\n  }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.redfrog.trafficsm.util;\n\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\n\nimport com.redfrog.trafficsm.model.Point;\n\nimport processing.core.PVector;\n\npublic class MathUtil {\n\n  public static double round(double value, int scale) {\n    return round(value, scale, RoundingMode.HALF_DOWN); // \n  }\n\n  public static double round(double value, int scale, RoundingMode roundingMode) {\n    return new BigDecimal(value).setScale(scale, roundingMode).doubleValue(); // \n  }\n\n  // ############\n\n  public static Point findPointMOnLineClosestToGivenPointP(Point vector_A, Point vector_B, Point vector_P) {\n    Point vector_AB = vector_B.subtract(vector_A);\n    Point vector_AP = vector_P.subtract(vector_A);\n    double distance_AM = vector_AB.dotProduct(vector_AP) / vector_AB.magnitude();\n    Point vector_AM = vector_AB.normalize().multiply(distance_AM);\n    Point vector_M = vector_A.add(vector_AM);\n    return vector_M;\n  }\n\n  // https://stackoverflow.com/questions/36238017/orthogonal-projection-of-a-point-onto-a-line-in-processing\n  public static PVector getNearestPointOnLine(PVector p, PVector a, PVector n) {\n    // the notation turns the computation inside out,\n    // but this is equivalent to the above equation\n    PVector q = PVector.mult(n, -PVector.sub(a, p).dot(n));\n    q.add(a);\n    return q;\n  }\n}\n\n</code></pre>\n<h3>visualization in Javafx</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.redfrog.note;\n\nimport java.util.Random;\n\nimport com.google.common.util.concurrent.AtomicDouble;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Cursor;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\nimport processing.core.PVector;\n\npublic class TestAppJavafxBoot extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    AnchorPane pane_JfxRoot = new AnchorPane();\n\n    AnchorPane panel_SemanticRoot = new AnchorPane();\n    pane_JfxRoot.getChildren().add(panel_SemanticRoot);\n\n    final double opacity = 0.9;\n\n    panel_SemanticRoot.setLayoutX(350);\n    panel_SemanticRoot.setLayoutY(350);\n\n    Random random = new Random(111);\n\n    float bound = 100;\n\n    float f_x;\n    float f_y;\n\n    f_x = random.nextFloat(-bound, bound);\n    f_y = random.nextFloat(-bound, bound);\n    Point2D point_A = new Point2D(f_x, f_y);\n    PVector pvector_A = new PVector(f_x, f_y);\n\n    final Circle circle = new Circle();\n    panel_SemanticRoot.getChildren().add(circle);\n    circle.setRadius(3);\n    circle.setFill(Color.rgb(255, 0, 0, opacity));\n    circle.setCenterX(f_x);\n    circle.setCenterY(f_y);\n\n    f_x = random.nextFloat(-bound, bound);\n    f_y = random.nextFloat(-bound, bound);\n    Point2D point_B = new Point2D(f_x, f_y);\n    PVector pvector_B = new PVector(f_x, f_y);\n    PVector pvector_N = pvector_B.sub(pvector_A).normalize();\n\n    final Circle circle_02 = new Circle();\n    panel_SemanticRoot.getChildren().add(circle_02);\n    circle_02.setRadius(3);\n    circle_02.setFill(Color.rgb(0, 255, 0, opacity));\n    circle_02.setCenterX(f_x);\n    circle_02.setCenterY(f_y);\n\n    f_x = random.nextFloat(-bound, bound);\n    f_y = random.nextFloat(-bound, bound);\n    Point2D point_P = new Point2D(f_x, f_y);\n    PVector pvector_P = new PVector(f_x, f_y);\n\n    final Circle circle_03 = new Circle();\n    panel_SemanticRoot.getChildren().add(circle_03);\n    circle_03.setRadius(3);\n    circle_03.setFill(Color.rgb(0, 0, 255, opacity));\n    circle_03.setCenterX(f_x);\n    circle_03.setCenterY(f_y);\n\n    Point2D point_M = MathUtil.findPointMOnLineClosestToGivenPointP(point_A, point_B, point_P);\n    PVector pvector_M = MathUtil.getNearestPointOnLine(pvector_P, pvector_A, pvector_N);\n\n    System.out.println();\n    System.out.println(point_M);\n\n    final Circle circle_04 = new Circle();\n    panel_SemanticRoot.getChildren().add(circle_04);\n    circle_04.setRadius(3);\n    circle_04.setFill(Color.rgb(0, 255, 255, opacity));\n    circle_04.setCenterX(point_M.getX());\n    circle_04.setCenterY(point_M.getY());\n\n    final Circle circle_05 = new Circle();\n    panel_SemanticRoot.getChildren().add(circle_05);\n    circle_05.setRadius(3);\n    circle_05.setFill(Color.rgb(255, 255, 0, opacity));\n    circle_05.setCenterX(pvector_M.x);\n    circle_05.setCenterY(pvector_M.y);\n\n\n    Scene scene = new Scene(pane_JfxRoot, 950, 750);\n    primaryStage.setTitle(&quot;DDD&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7770896,"reputation":107,"user_id":5880513,"display_name":"B. Boe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36243716,"answer_count":2,"score":3,"last_activity_date":1687435818,"creation_date":1459010980,"question_id":36238017,"body_markdown":"I have a line segment and a circle in my processing sketch. I want the center of the circle, point q, to find the closest point, p, on the line segment and the circle will move towards it. \r\nI&#39;m not quite sure how to code this (in processing), so any suggestions would be great! Thanks! \r\nThis is my code so far:\r\n\r\n    int xPos1 = 200;\r\n    int yPos1 = 200;\r\n    int xp1 = 50;\r\n    int yp1 = 50;\r\n    int xp2 = 350;\r\n    int yp2 = 50;\r\n\r\n    void setup() {\r\n        size(400, 400); \r\n        strokeWeight(2);\r\n        line(xp1, yp1, xp2, yp2);\r\n        strokeWeight(1);\r\n    }\r\n\r\n    void draw() {\r\n        drawCircle();\r\n    }\r\n\r\n    void drawCircle() {\r\n        fill(50, 120, 120);\r\n        //circle\r\n        ellipse(xPos1, yPos1, 75, 75); \r\n        //circle center\r\n        ellipse(xPos1, yPos1, 7, 7);  \r\n        fill(255);\r\n        text(&quot;Q&quot;, xPos1 + 15, yPos1 + 5);\r\n        fill(50, 120, 120);\r\n    }","title":"Orthogonal projection of a point onto a line in processing?","body":"<p>I have a line segment and a circle in my processing sketch. I want the center of the circle, point q, to find the closest point, p, on the line segment and the circle will move towards it. \nI'm not quite sure how to code this (in processing), so any suggestions would be great! Thanks! \nThis is my code so far:</p>\n\n<pre><code>int xPos1 = 200;\nint yPos1 = 200;\nint xp1 = 50;\nint yp1 = 50;\nint xp2 = 350;\nint yp2 = 50;\n\nvoid setup() {\n    size(400, 400); \n    strokeWeight(2);\n    line(xp1, yp1, xp2, yp2);\n    strokeWeight(1);\n}\n\nvoid draw() {\n    drawCircle();\n}\n\nvoid drawCircle() {\n    fill(50, 120, 120);\n    //circle\n    ellipse(xPos1, yPos1, 75, 75); \n    //circle center\n    ellipse(xPos1, yPos1, 7, 7);  \n    fill(255);\n    text(\"Q\", xPos1 + 15, yPos1 + 5);\n    fill(50, 120, 120);\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"answers":[{"comments":[{"owner":{"account_id":18310027,"reputation":23,"user_id":13333035,"display_name":"BengalTiger"},"score":0,"creation_date":1681665250,"post_id":76024846,"comment_id":134089570,"body_markdown":"Thank you so much! That definitely did the trick. Appreciate you jon.","body":"Thank you so much! That definitely did the trick. Appreciate you jon."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1681668515,"post_id":76024846,"comment_id":134090054,"body_markdown":"NP. Can you accept the answer (i.e. click the tick icon next to it).","body":"NP. Can you accept the answer (i.e. click the tick icon next to it)."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681594031,"creation_date":1681594031,"answer_id":76024846,"question_id":76024670,"body_markdown":"Your `indexOfSmallestFrom` method isn&#39;t using the `startIndex` argument - it always searches from 0. If you correct this:\r\n\r\n    public static int indexOfSmallestFrom(int[] table, int startIndex) {\r\n\r\n        int minValue = table[startIndex]; //keeps running count of the smallest value\r\n        int minIdx = startIndex; //will store the index of minVal\r\n        for (int index = startIndex + 1; index &lt; table.length; index++) {\r\n            if (table[index] &lt; minValue) {\r\n                minValue = table[index];\r\n                minIdx = index;\r\n            }\r\n        }\r\n\r\n        return minIdx;\r\n    }\r\n\r\nthen the sorting works and it eventually arrives at an ordered list:\r\n\r\n    [1, 3, 7, 9, 8, 2, 4]\r\n    [1, 2, 7, 9, 8, 3, 4]\r\n    [1, 2, 3, 9, 8, 7, 4]\r\n    [1, 2, 3, 4, 8, 7, 9]\r\n    [1, 2, 3, 4, 7, 8, 9]\r\n    [1, 2, 3, 4, 7, 8, 9]\r\n    [1, 2, 3, 4, 7, 8, 9]\r\n\r\n","title":"Why is my sorting method not swapping after the second iteration of the for loop? (Java Helsinki MOOC PART 7-3)","body":"<p>Your <code>indexOfSmallestFrom</code> method isn't using the <code>startIndex</code> argument - it always searches from 0. If you correct this:</p>\n<pre><code>public static int indexOfSmallestFrom(int[] table, int startIndex) {\n\n    int minValue = table[startIndex]; //keeps running count of the smallest value\n    int minIdx = startIndex; //will store the index of minVal\n    for (int index = startIndex + 1; index &lt; table.length; index++) {\n        if (table[index] &lt; minValue) {\n            minValue = table[index];\n            minIdx = index;\n        }\n    }\n\n    return minIdx;\n}\n</code></pre>\n<p>then the sorting works and it eventually arrives at an ordered list:</p>\n<pre><code>[1, 3, 7, 9, 8, 2, 4]\n[1, 2, 7, 9, 8, 3, 4]\n[1, 2, 3, 9, 8, 7, 4]\n[1, 2, 3, 4, 8, 7, 9]\n[1, 2, 3, 4, 7, 8, 9]\n[1, 2, 3, 4, 7, 8, 9]\n[1, 2, 3, 4, 7, 8, 9]\n</code></pre>\n"}],"owner":{"account_id":18310027,"reputation":23,"user_id":13333035,"display_name":"BengalTiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76024846,"answer_count":1,"score":1,"last_activity_date":1687435711,"creation_date":1681591488,"question_id":76024670,"body_markdown":"Working on part 5 of exercise 7-3 of https://java-programming.mooc.fi/part-7/2-algorithms\r\n\r\nI can&#39;t figure out why I can&#39;t get the array to print from least to greatest. Can anyone point out what I&#39;m doing wrong? \r\n\r\nMy sorting Method: \r\n\r\n```\r\npublic static void sort(int[] array) {\r\n    for (int i =0; i &lt; array.length; i++) {\r\n        if (array[i] &gt; array[indexOfSmallestFrom(array,i)]) {\r\n            swap(array, i, indexOfSmallestFrom(array, i));\r\n        }\r\n\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n}\r\n```\r\n\r\nMy swap method: \r\n\r\n```\r\npublic static void swap(int[] array, int index1, int index2) {\r\n    int oldint1 = array[index1];\r\n    array[index1] = array[index2];\r\n    array[index2] = oldint1;\r\n}\r\n```\r\n\r\nAnd my indexOfSmallestFrom method: \r\n\r\n```\r\npublic static int indexOfSmallestFrom(int[] table, int startIndex) {\r\n    int minValue = table[0]; //keeps running count of the smallest value\r\n    int minIdx = 0; //will store the index of minVal\r\n\r\n    for (int index = 1 ; index &lt; table.length; index++) {\r\n        if (table[index] &lt; minValue) {\r\n            minValue = table[index];\r\n            minIdx = index;\r\n        }\r\n    }\r\n\r\n    return minIdx;\r\n}\r\n```\r\n\r\nHere is the original array: \r\n\r\n```\r\npublic static void main(String[] args) {\r\n    // write your test code here\r\n    int[] numbers = {8, 3, 7, 9, 1, 2, 4};\r\n    MainProgram.sort(numbers);\r\n}\r\n```\r\n\r\nTrying to the get sort method to print from least to greatest.","title":"Why is my sorting method not swapping after the second iteration of the for loop? (Java Helsinki MOOC PART 7-3)","body":"<p>Working on part 5 of exercise 7-3 of <a href=\"https://java-programming.mooc.fi/part-7/2-algorithms\" rel=\"nofollow noreferrer\">https://java-programming.mooc.fi/part-7/2-algorithms</a></p>\n<p>I can't figure out why I can't get the array to print from least to greatest. Can anyone point out what I'm doing wrong?</p>\n<p>My sorting Method:</p>\n<pre><code>public static void sort(int[] array) {\n    for (int i =0; i &lt; array.length; i++) {\n        if (array[i] &gt; array[indexOfSmallestFrom(array,i)]) {\n            swap(array, i, indexOfSmallestFrom(array, i));\n        }\n\n        System.out.println(Arrays.toString(array));\n    }\n}\n</code></pre>\n<p>My swap method:</p>\n<pre><code>public static void swap(int[] array, int index1, int index2) {\n    int oldint1 = array[index1];\n    array[index1] = array[index2];\n    array[index2] = oldint1;\n}\n</code></pre>\n<p>And my indexOfSmallestFrom method:</p>\n<pre><code>public static int indexOfSmallestFrom(int[] table, int startIndex) {\n    int minValue = table[0]; //keeps running count of the smallest value\n    int minIdx = 0; //will store the index of minVal\n\n    for (int index = 1 ; index &lt; table.length; index++) {\n        if (table[index] &lt; minValue) {\n            minValue = table[index];\n            minIdx = index;\n        }\n    }\n\n    return minIdx;\n}\n</code></pre>\n<p>Here is the original array:</p>\n<pre><code>public static void main(String[] args) {\n    // write your test code here\n    int[] numbers = {8, 3, 7, 9, 1, 2, 4};\n    MainProgram.sort(numbers);\n}\n</code></pre>\n<p>Trying to the get sort method to print from least to greatest.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687378232,"post_id":76526771,"comment_id":134930107,"body_markdown":"How have you defined your endpoint? First guess is that you have it looking for a query parameter &quot;price&quot; and it being null causes your issue. Query parameters are not interchangeable with JSON body request data.","body":"How have you defined your endpoint? First guess is that you have it looking for a query parameter &quot;price&quot; and it being null causes your issue. Query parameters are not interchangeable with JSON body request data."},{"owner":{"account_id":28842520,"reputation":85,"user_id":22090364,"display_name":"BabouG"},"score":0,"creation_date":1687378639,"post_id":76526771,"comment_id":134930165,"body_markdown":"`@PutMapping(path = &quot;/{productId}&quot;)\n    public void updateStudent(\n        @PathVariable(&quot;productId&quot;) Long productId,\n        @RequestParam(required = false) String title,\n        @RequestParam(required = false) Double price,\n        @RequestParam(required = false) String description,\n        @RequestParam(required = false) String category,\n        @RequestParam(required = false) String image\n    )\n    {\n        productService.updateProduct(productId,title,price,description,category,image);\n    }` @Chris","body":"<code>@PutMapping(path = &quot;&#47;{productId}&quot;)     public void updateStudent(         @PathVariable(&quot;productId&quot;) Long productId,         @RequestParam(required = false) String title,         @RequestParam(required = false) Double price,         @RequestParam(required = false) String description,         @RequestParam(required = false) String category,         @RequestParam(required = false) String image     )     {         productService.updateProduct(productId,title,price,descripti&zwnj;&#8203;on,category,image);     }</code> @Chris"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687379596,"post_id":76526771,"comment_id":134930313,"body_markdown":"see https://stackoverflow.com/a/44553356/496099 and https://www.baeldung.com/spring-mvc-send-json-parameters but in short, you can&#39;t do what you are trying to do, not like that anyway as RequestParam is used for path parameters to help with GET requests. Pass in a DTO for JSON handling (you marked this with the JPA tag, so an entity is likely your end result anyway)","body":"see <a href=\"https://stackoverflow.com/a/44553356/496099\">stackoverflow.com/a/44553356/496099</a> and <a href=\"https://www.baeldung.com/spring-mvc-send-json-parameters\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-send-json-parameters</a> but in short, you can&#39;t do what you are trying to do, not like that anyway as RequestParam is used for path parameters to help with GET requests. Pass in a DTO for JSON handling (you marked this with the JPA tag, so an entity is likely your end result anyway)"}],"answers":[{"tags":[],"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687435623,"creation_date":1687435623,"answer_id":76531710,"question_id":76526771,"body_markdown":"For handling that json content you need to change the signature of your method as a @RequestParam wouldn&#39;t work that way, use a @RequestBody instead as stated by spring docs https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\r\nwhere it says this annotation indicates a method parameter should be bound to the body of the web request, so the change might look like this:\r\n\r\n    @PutMapping(path = &quot;/{productId}&quot;)\r\n    public void updateProduct(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestBody ProductUpdateDto updateDto) {\r\n\r\n        productService.updateProduct(productId, &lt;values From The Dto like updateDto.getPrice()&gt;);\r\n    }\r\n\r\nWith this kind of implementation you need to provide a ProductUpdateDto class which will encapsulate the data required to be Put.\r\n\r\nSo a sample ProductUpdateDto class might be:\r\n\r\n    public class ProductUpdateDto {\r\n        private Double price;\r\n\r\n        // Getter and setter for the price field\r\n        // Additional fields can be added as per the request payload structure\r\n    }\r\n","title":"Test PUT request with JSON causes transmitted data to be null","body":"<p>For handling that json content you need to change the signature of your method as a @RequestParam wouldn't work that way, use a @RequestBody instead as stated by spring docs <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html</a>\nwhere it says this annotation indicates a method parameter should be bound to the body of the web request, so the change might look like this:</p>\n<pre><code>@PutMapping(path = &quot;/{productId}&quot;)\npublic void updateProduct(\n    @PathVariable(&quot;productId&quot;) Long productId,\n    @RequestBody ProductUpdateDto updateDto) {\n\n    productService.updateProduct(productId, &lt;values From The Dto like updateDto.getPrice()&gt;);\n}\n</code></pre>\n<p>With this kind of implementation you need to provide a ProductUpdateDto class which will encapsulate the data required to be Put.</p>\n<p>So a sample ProductUpdateDto class might be:</p>\n<pre><code>public class ProductUpdateDto {\n    private Double price;\n\n    // Getter and setter for the price field\n    // Additional fields can be added as per the request payload structure\n}\n</code></pre>\n"}],"owner":{"account_id":28842520,"reputation":85,"user_id":22090364,"display_name":"BabouG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687435623,"creation_date":1687377907,"question_id":76526771,"body_markdown":"I have following problem. If I try to test the PUT request in Android Studio this is working :\r\n\r\nI&#39;m using Android Studio to test the request and spring-boot\r\n\r\n\r\n```\r\nPUT http://localhost:8080/api/v1/products/3?price=800\r\nContent-Type: application/json\r\n```\r\n\r\nBut if I try to do it with a json : \r\n\r\n\r\n```\r\n###\r\nPUT http://localhost:8080/api/v1/products/3\r\nContent-Type: application/json\r\n\r\n{\r\n &quot;price&quot; :800\r\n}\r\n```\r\n\r\nI get following error:\r\n\r\n\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2023-06-21T20:00:23.051+00:00&quot;,\r\n  &quot;status&quot;: 500,\r\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n  &quot;message&quot;: &quot;Cannot invoke \\&quot;java.lang.Double.doubleValue()\\&quot; because \\&quot;price\\&quot; is null&quot;,\r\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\r\n}\r\n```\r\n\r\nDoes someone has an idea where this can come from ? Thank you in advance\r\n\r\n\r\nMy Endpoint: \r\n```\r\n@PutMapping(path = &quot;/{productId}&quot;)\r\n    public void updateStudent(\r\n        @PathVariable(&quot;productId&quot;) Long productId,\r\n        @RequestParam(required = false) String title,\r\n        @RequestParam(required = false) Double price,\r\n        @RequestParam(required = false) String description,\r\n        @RequestParam(required = false) String category,\r\n        @RequestParam(required = false) String image\r\n    )\r\n    {\r\n        productService.updateProduct(productId,title,price,description,category,image);\r\n    }\r\n```\r\n\r\n\r\nI expect that the the request is proceed","title":"Test PUT request with JSON causes transmitted data to be null","body":"<p>I have following problem. If I try to test the PUT request in Android Studio this is working :</p>\n<p>I'm using Android Studio to test the request and spring-boot</p>\n<pre><code>PUT http://localhost:8080/api/v1/products/3?price=800\nContent-Type: application/json\n</code></pre>\n<p>But if I try to do it with a json :</p>\n<pre><code>###\nPUT http://localhost:8080/api/v1/products/3\nContent-Type: application/json\n\n{\n &quot;price&quot; :800\n}\n</code></pre>\n<p>I get following error:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2023-06-21T20:00:23.051+00:00&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;Cannot invoke \\&quot;java.lang.Double.doubleValue()\\&quot; because \\&quot;price\\&quot; is null&quot;,\n  &quot;path&quot;: &quot;/api/v1/products/3&quot;\n}\n</code></pre>\n<p>Does someone has an idea where this can come from ? Thank you in advance</p>\n<p>My Endpoint:</p>\n<pre><code>@PutMapping(path = &quot;/{productId}&quot;)\n    public void updateStudent(\n        @PathVariable(&quot;productId&quot;) Long productId,\n        @RequestParam(required = false) String title,\n        @RequestParam(required = false) Double price,\n        @RequestParam(required = false) String description,\n        @RequestParam(required = false) String category,\n        @RequestParam(required = false) String image\n    )\n    {\n        productService.updateProduct(productId,title,price,description,category,image);\n    }\n</code></pre>\n<p>I expect that the the request is proceed</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","google-chrome-headless"],"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1528105410,"post_id":49520558,"comment_id":88364715,"body_markdown":"so how the problem could be solved?","body":"so how the problem could be solved?"},{"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"score":1,"creation_date":1548258798,"post_id":49520558,"comment_id":95479942,"body_markdown":"Same issue for me with python. It&#39;s OK in normal mode mode but throws in headless.","body":"Same issue for me with python. It&#39;s OK in normal mode mode but throws in headless."}],"answers":[{"comments":[{"owner":{"account_id":2129194,"reputation":199,"user_id":1890431,"accept_rate":100,"display_name":"mishra"},"score":2,"creation_date":1522442470,"post_id":49525240,"comment_id":86170242,"body_markdown":"I have tried with implicit waits but it doesn&#39;t work. This problem happens only in headless mode and not otherwise.","body":"I have tried with implicit waits but it doesn&#39;t work. This problem happens only in headless mode and not otherwise."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1522448015,"post_id":49525240,"comment_id":86172245,"body_markdown":"Can you update the question with the relevant _HTML_, your code trial and the error stack trace for further analysis?","body":"Can you update the question with the relevant <i>HTML</i>, your code trial and the error stack trace for further analysis?"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522204978,"creation_date":1522204978,"answer_id":49525240,"question_id":49520558,"body_markdown":"As you are seeing **NoSuchElementException** you can consider using the `xpath` along with a waiter for the element to be visible as follows :\r\n\r\n\t//tr/td/div[@class=&#39;x-grid-cell-inner&#39; and contains(., &#39;Global Test Merchant&#39;)]","title":"NoSuchElementException with headless chrome and selenium","body":"<p>As you are seeing <strong>NoSuchElementException</strong> you can consider using the <code>xpath</code> along with a waiter for the element to be visible as follows :</p>\n\n<pre><code>//tr/td/div[@class='x-grid-cell-inner' and contains(., 'Global Test Merchant')]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2129194,"reputation":199,"user_id":1890431,"accept_rate":100,"display_name":"mishra"},"score":2,"creation_date":1522444241,"post_id":49548370,"comment_id":86170952,"body_markdown":"I tried the above solution but i still get the same exception.","body":"I tried the above solution but i still get the same exception."}],"tags":[],"owner":{"account_id":10180921,"reputation":77,"user_id":7517741,"display_name":"Bobby Mor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544443785,"creation_date":1522299710,"answer_id":49548370,"question_id":49520558,"body_markdown":"I had a similar issue when I ran headless as well, my project while running headless continue to trigger the NoSuchElementException and the default-browser-check was getting in the way, try adding these arguments. Just a thought  \r\n\r\n    chromeOptions.addArguments(&quot;--headless&quot;);\r\n    chromeOptions.addArguments(&quot;--test-type&quot;);\r\n    chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n    chromeOptions.addArguments(&quot;--no-first-run&quot;);\r\n    chromeOptions.addArguments(&quot;--no-default-browser-check&quot;);\r\n    chromeOptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);","title":"NoSuchElementException with headless chrome and selenium","body":"<p>I had a similar issue when I ran headless as well, my project while running headless continue to trigger the NoSuchElementException and the default-browser-check was getting in the way, try adding these arguments. Just a thought  </p>\n\n<pre><code>chromeOptions.addArguments(\"--headless\");\nchromeOptions.addArguments(\"--test-type\");\nchromeOptions.addArguments(\"--disable-gpu\");\nchromeOptions.addArguments(\"--no-first-run\");\nchromeOptions.addArguments(\"--no-default-browser-check\");\nchromeOptions.addArguments(\"--ignore-certificate-errors\");\nchromeOptions.addArguments(\"--start-maximized\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16188785,"reputation":21,"user_id":11688153,"display_name":"Lucas Barros"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561291974,"creation_date":1561291974,"answer_id":56723743,"question_id":49520558,"body_markdown":"I had the same issue, my mistake was because i was making driver.get(&quot;localhost:...&quot;) instead of driver.get(&quot;http://localhost:...&quot;)","title":"NoSuchElementException with headless chrome and selenium","body":"<p>I had the same issue, my mistake was because i was making driver.get(\"localhost:...\") instead of driver.get(\"<a href=\"http://localhost\" rel=\"nofollow noreferrer\">http://localhost</a>:...\")</p>\n"},{"tags":[],"owner":{"account_id":7722776,"reputation":342,"user_id":5848468,"display_name":"Nadee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580454009,"creation_date":1580454009,"answer_id":59999304,"question_id":49520558,"body_markdown":"I had a similar issue.\r\n\r\nI tried following options and it worked for me.\r\n\r\n        options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n        options.addArguments(&quot;--disable-extensions&quot;);\r\n        options.addArguments(&quot;--proxy-server=&#39;direct://&#39;&quot;);\r\n        options.addArguments(&quot;--proxy-bypass-list=*&quot;);\r\n        options.addArguments(&quot;--start-maximized&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);","title":"NoSuchElementException with headless chrome and selenium","body":"<p>I had a similar issue.</p>\n\n<p>I tried following options and it worked for me.</p>\n\n<pre><code>    options.addArguments(\"--window-size=1920,1080\");\n    options.addArguments(\"--disable-extensions\");\n    options.addArguments(\"--proxy-server='direct://'\");\n    options.addArguments(\"--proxy-bypass-list=*\");\n    options.addArguments(\"--start-maximized\");\n    options.addArguments(\"--headless\");\n    options.addArguments(\"--disable-gpu\");\n    options.addArguments(\"--disable-dev-shm-usage\");\n    options.addArguments(\"--no-sandbox\");\n    options.addArguments(\"--ignore-certificate-errors\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8469754,"reputation":61,"user_id":7742878,"display_name":"swngstack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604423780,"creation_date":1602610256,"answer_id":64340239,"question_id":49520558,"body_markdown":"In my particular case I only had to use these 3 arguments to solve the same issue:\r\n\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--start-maximized&quot;);\r\n    options.addArguments(&quot;--window-size=1920,1080&quot;);","title":"NoSuchElementException with headless chrome and selenium","body":"<p>In my particular case I only had to use these 3 arguments to solve the same issue:</p>\n<pre><code>options.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--start-maximized&quot;);\noptions.addArguments(&quot;--window-size=1920,1080&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687653918,"post_id":76531706,"comment_id":134966799,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76531706/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27981164,"reputation":1,"user_id":21368882,"display_name":"kmusial-MP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687435585,"creation_date":1687435585,"answer_id":76531706,"question_id":49520558,"body_markdown":"In my case adding this line (after line where exception shows) helped.\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\r\n\r\n","title":"NoSuchElementException with headless chrome and selenium","body":"<p>In my case adding this line (after line where exception shows) helped.</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\n</code></pre>\n"}],"owner":{"account_id":2129194,"reputation":199,"user_id":1890431,"accept_rate":100,"display_name":"mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7844,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1687435585,"creation_date":1522177209,"question_id":49520558,"body_markdown":"I am trying to use headless chrome for our selenium tests and have made the below changes:\r\n  \r\n\r\n    DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--disable-gpu&quot;);\r\n    options.addArguments(&quot;window-size=1800x1080&quot;);\r\n    desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\nMy test logs into an internal page and then waits for the element to be visible:\r\n\r\n\r\n    selenium.waitForElementVisible(&quot;xpath=//tr/td/div[@class[contains(., &#39;x-grid-cell-inner&#39;)] and text()=&#39;Global Test Merchant 14&#39;]&quot;);\r\n\r\nThis all works well when i do not have the headless option but i get :\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:  {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//tr/td/div[@class[contains(., &#39;x-grid-cell-inner&#39;)] and text()=&#39;Global Test Merchant 14&#39;]&quot;} \r\n\r\nwhen i run the test with --headless.\r\n\r\nChrome Version: 62.0.3202.89\r\nchromeDriver: 2.33.506120\r\nSelenium version: 2.53.0\r\nWindows 7\r\n\r\n\r\n","title":"NoSuchElementException with headless chrome and selenium","body":"<p>I am trying to use headless chrome for our selenium tests and have made the below changes:</p>\n\n<pre><code>DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"--disable-gpu\");\noptions.addArguments(\"window-size=1800x1080\");\ndesiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre>\n\n<p>My test logs into an internal page and then waits for the element to be visible:</p>\n\n<pre><code>selenium.waitForElementVisible(\"xpath=//tr/td/div[@class[contains(., 'x-grid-cell-inner')] and text()='Global Test Merchant 14']\");\n</code></pre>\n\n<p>This all works well when i do not have the headless option but i get :</p>\n\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:  {\"method\":\"xpath\",\"selector\":\"//tr/td/div[@class[contains(., 'x-grid-cell-inner')] and text()='Global Test Merchant 14']\"} \n</code></pre>\n\n<p>when i run the test with --headless.</p>\n\n<p>Chrome Version: 62.0.3202.89\nchromeDriver: 2.33.506120\nSelenium version: 2.53.0\nWindows 7</p>\n"},{"tags":["java","javafx"],"owner":{"account_id":20392975,"reputation":11,"user_id":14960468,"display_name":"Bluetopia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687435283,"creation_date":1687435283,"question_id":76531669,"body_markdown":"I am trying to find out if there is a way that I could react to unexpected communication from within a WebView in JavaFX.  The end goal is to determine if we would be able to prompt the user when an HTML/JS file tries to make an unexpected XHR request to an unknown server.\r\n\r\n\r\nThe following HTML is loaded into a JavaFX WebView:\r\n\r\n```\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\nfunction sendXHR() {\r\n\tvar xhttp = new XMLHttpRequest();\r\n\txhttp.onreadystatechange = function() {\r\n\t\tif (this.readyState == 4 &amp;&amp; this.status == 200) {\r\n\t\t\tdocument.getElementById(&quot;result&quot;).innerHTML = xhttp.responseText;\r\n\t\t}\r\n\t};\r\n\t\r\n\txhttp.open(&quot;GET&quot;, &quot;&lt;URL&gt;&quot;, true);\r\n\txhttp.send();\t\r\n}\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;button onClick=&quot;sendXHR()&quot;&gt;Test&lt;/button&gt;\r\n&lt;p&gt;&lt;b&gt;Result:&lt;/b&gt;&lt;/p&gt;\r\n&lt;p id=&quot;result&quot;&gt;&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThe XHTTP request targets a simple endpoint that returns a string and the string is populated on the page after the request completes.  It&#39;s used to indicate that the request made it through and that I missed an opportunity to catch the request before it goes out.  The use case I&#39;d want to block is less about the clicking of the button, but rather an action that might be triggered silently by a document.onLoad() event, so an event listener on &quot;click&quot; wouldn&#39;t address the next use case.\r\n\r\nI have set up a breakpoint on the event listener to see if I could trip the debugger when I clicked the button, but the breakpoint only gets hit during the initial load of the page. It seems that once the document loads, control is handed over to Webkit for all but UI interactions.  \r\n\r\nBased on information from the [WebEngine javadoc](https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html), I thought there might be a way to override the XMLHttpRequest object with a prompt function in JavaFX.  \r\n\r\n```\r\npublic class XMLHttpRequestInterceptor {\r\n\r\n        // Tried with both no params and JSObject params to match the definitions here:    \r\n        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/open\r\n\tpublic void open() {\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\tAlert a = new Alert(AlertType.ERROR);\r\n\t\t\ta.setTitle(&quot;Blocked&quot;);\r\n\t\t\ta.setHeaderText(&quot;Blocked&quot;);\r\n\t\t\ta.setContentText(&quot;XMLHttpRequest attempted&quot;);\r\n\t\t\ta.showAndWait();\r\n\t\t});\r\n\t}\t\r\n}\r\n```\r\n\r\nI can block the request by overriding the XMLHttpRequest object (not the instance) after the page loads.  Bad news: there is no way to make the block conditional; the open() function I included in the target object fails to get called when the Javascript calls XMLHttpRequest.open(). \r\n\r\nIs this something that is even plausible, or am I spinning my wheels?\r\n\r\nJDK is 11, JavaFX version is 17.0.7 ","title":"Is there a way to intercept or otherwise react to an outgoing XHR call from a JavaFX WebView?","body":"<p>I am trying to find out if there is a way that I could react to unexpected communication from within a WebView in JavaFX.  The end goal is to determine if we would be able to prompt the user when an HTML/JS file tries to make an unexpected XHR request to an unknown server.</p>\n<p>The following HTML is loaded into a JavaFX WebView:</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\nfunction sendXHR() {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\n            document.getElementById(&quot;result&quot;).innerHTML = xhttp.responseText;\n        }\n    };\n    \n    xhttp.open(&quot;GET&quot;, &quot;&lt;URL&gt;&quot;, true);\n    xhttp.send();   \n}\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;button onClick=&quot;sendXHR()&quot;&gt;Test&lt;/button&gt;\n&lt;p&gt;&lt;b&gt;Result:&lt;/b&gt;&lt;/p&gt;\n&lt;p id=&quot;result&quot;&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The XHTTP request targets a simple endpoint that returns a string and the string is populated on the page after the request completes.  It's used to indicate that the request made it through and that I missed an opportunity to catch the request before it goes out.  The use case I'd want to block is less about the clicking of the button, but rather an action that might be triggered silently by a document.onLoad() event, so an event listener on &quot;click&quot; wouldn't address the next use case.</p>\n<p>I have set up a breakpoint on the event listener to see if I could trip the debugger when I clicked the button, but the breakpoint only gets hit during the initial load of the page. It seems that once the document loads, control is handed over to Webkit for all but UI interactions.</p>\n<p>Based on information from the <a href=\"https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">WebEngine javadoc</a>, I thought there might be a way to override the XMLHttpRequest object with a prompt function in JavaFX.</p>\n<pre><code>public class XMLHttpRequestInterceptor {\n\n        // Tried with both no params and JSObject params to match the definitions here:    \n        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/open\n    public void open() {\n        Platform.runLater(() -&gt; {\n            Alert a = new Alert(AlertType.ERROR);\n            a.setTitle(&quot;Blocked&quot;);\n            a.setHeaderText(&quot;Blocked&quot;);\n            a.setContentText(&quot;XMLHttpRequest attempted&quot;);\n            a.showAndWait();\n        });\n    }   \n}\n</code></pre>\n<p>I can block the request by overriding the XMLHttpRequest object (not the instance) after the page loads.  Bad news: there is no way to make the block conditional; the open() function I included in the target object fails to get called when the Javascript calls XMLHttpRequest.open().</p>\n<p>Is this something that is even plausible, or am I spinning my wheels?</p>\n<p>JDK is 11, JavaFX version is 17.0.7</p>\n"},{"tags":["java","android","android-studio","gradle"],"owner":{"account_id":15378480,"reputation":42,"user_id":11094528,"display_name":"Stephan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687434949,"creation_date":1687256691,"question_id":76513745,"body_markdown":"every time i start Android Studio (currently 2022.2.1 Patch 2) it cannot find my interfaces and classes from my external library.\r\n\r\nI use gradle to build my application and i have the following entry in my build.gralde:\r\n\r\n```\r\ndependencies {\r\n  implementation files(&#39;lib/myAPI.jar&#39;)\r\n}\r\n```\r\n\r\nThe strange thing is, after i rename the package path in my application (com.app -&gt; com.appx -&gt; com.app), all external interfaces and classes are successfully recognised. I have no problems with libraries being included in this way:\r\n\r\n```\r\ndependencies {\r\n  implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.11.0&#39;\r\n}\r\n```\r\n\r\nDoes anybody have an idea what causes the problem?\r\n\r\nThanks in advance.\r\n\r\n\r\nUnfortunally google showed nothing useful for my search parameters.\r\n","title":"Cannot resolve symbol after start of Android Studio","body":"<p>every time i start Android Studio (currently 2022.2.1 Patch 2) it cannot find my interfaces and classes from my external library.</p>\n<p>I use gradle to build my application and i have the following entry in my build.gralde:</p>\n<pre><code>dependencies {\n  implementation files('lib/myAPI.jar')\n}\n</code></pre>\n<p>The strange thing is, after i rename the package path in my application (com.app -&gt; com.appx -&gt; com.app), all external interfaces and classes are successfully recognised. I have no problems with libraries being included in this way:</p>\n<pre><code>dependencies {\n  implementation group: 'commons-io', name: 'commons-io', version: '2.11.0'\n}\n</code></pre>\n<p>Does anybody have an idea what causes the problem?</p>\n<p>Thanks in advance.</p>\n<p>Unfortunally google showed nothing useful for my search parameters.</p>\n"},{"tags":["java","methods","boolean"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":6,"creation_date":1582661665,"post_id":60402468,"comment_id":106852661,"body_markdown":"This sounds like it would be easier to solve with regex","body":"This sounds like it would be easier to solve with regex"}],"answers":[{"comments":[{"owner":{"account_id":17251526,"reputation":577,"user_id":12491626,"display_name":"Ronny Giezen"},"score":0,"creation_date":1582665709,"post_id":60402585,"comment_id":106854333,"body_markdown":"Thanks for your help!","body":"Thanks for your help!"},{"owner":{"account_id":17251526,"reputation":577,"user_id":12491626,"display_name":"Ronny Giezen"},"score":0,"creation_date":1582666206,"post_id":60402585,"comment_id":106854534,"body_markdown":"the first number of the postal code needs to be between 1 and 9 because it can not be 0. If I use regex, how can I do that?","body":"the first number of the postal code needs to be between 1 and 9 because it can not be 0. If I use regex, how can I do that?"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1582669452,"creation_date":1582662180,"answer_id":60402585,"question_id":60402468,"body_markdown":"**Solution using regex:**\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Tests\r\n    \t\tSystem.out.println(checkPostcode(&quot;1234AB&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;5678MN&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;0123AB&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;1023AB&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;1230AB&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;AB1234&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;123456&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;ABCDEF&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;12345A&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;A12345&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;A12345B&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;1ABCDE6&quot;));\r\n    \t\tSystem.out.println(checkPostcode(&quot;1ABCD6&quot;));\r\n    \t}\r\n    \r\n    \tpublic static boolean checkPostcode(String postCode) {\r\n    \t\treturn postCode.matches(&quot;[1-9]{1}[0-9]{3}[a-zA-Z]{2}&quot;);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    true\r\n    true\r\n    false\r\n    true\r\n    true\r\n    false\r\n    false\r\n    false\r\n    false\r\n    false\r\n    false\r\n    false\r\n    false\r\n\r\n**Non-regex solution:**\r\n\r\n    public static boolean checkPostcode(String postCode) {\r\n    \tif (postCode.length() != lengthPost || postCode.charAt(0) == &#39;0&#39;) {\r\n    \t\treturn false;\r\n    \t}\r\n    \tif (postCode.length() == lengthPost) {\r\n    \t\tfor (int i = 0; i &lt; postCode.length(); i++) {\r\n    \t\t\tif (i &lt; 4 &amp;&amp; Character.isLetter(postCode.charAt(i))) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\tif (i &gt; 3 &amp;&amp; Character.isDigit(postCode.charAt(i))) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\n\r\n","title":"Method to check &quot;dutch&quot; postal code in java","body":"<p><strong>Solution using regex:</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Tests\n        System.out.println(checkPostcode(\"1234AB\"));\n        System.out.println(checkPostcode(\"5678MN\"));\n        System.out.println(checkPostcode(\"0123AB\"));\n        System.out.println(checkPostcode(\"1023AB\"));\n        System.out.println(checkPostcode(\"1230AB\"));\n        System.out.println(checkPostcode(\"AB1234\"));\n        System.out.println(checkPostcode(\"123456\"));\n        System.out.println(checkPostcode(\"ABCDEF\"));\n        System.out.println(checkPostcode(\"12345A\"));\n        System.out.println(checkPostcode(\"A12345\"));\n        System.out.println(checkPostcode(\"A12345B\"));\n        System.out.println(checkPostcode(\"1ABCDE6\"));\n        System.out.println(checkPostcode(\"1ABCD6\"));\n    }\n\n    public static boolean checkPostcode(String postCode) {\n        return postCode.matches(\"[1-9]{1}[0-9]{3}[a-zA-Z]{2}\");\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>true\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\n</code></pre>\n\n<p><strong>Non-regex solution:</strong></p>\n\n<pre><code>public static boolean checkPostcode(String postCode) {\n    if (postCode.length() != lengthPost || postCode.charAt(0) == '0') {\n        return false;\n    }\n    if (postCode.length() == lengthPost) {\n        for (int i = 0; i &lt; postCode.length(); i++) {\n            if (i &lt; 4 &amp;&amp; Character.isLetter(postCode.charAt(i))) {\n                return false;\n            }\n            if (i &gt; 3 &amp;&amp; Character.isDigit(postCode.charAt(i))) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406828,"reputation":13,"user_id":9674623,"display_name":"Crenshaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582662411,"creation_date":1582662411,"answer_id":60402630,"question_id":60402468,"body_markdown":"If I understand correctly, the first 4 symbols are digits, so the if condition should be \r\n\r\n    (i &lt; 4) \r\nbecause otherwise you check the first 5 symbols for a digit","title":"Method to check &quot;dutch&quot; postal code in java","body":"<p>If I understand correctly, the first 4 symbols are digits, so the if condition should be </p>\n\n<pre><code>(i &lt; 4) \n</code></pre>\n\n<p>because otherwise you check the first 5 symbols for a digit</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582664686,"creation_date":1582662455,"answer_id":60402635,"question_id":60402468,"body_markdown":"While you could solve this problem with regular expressions, it is also possible to solve it along the lines you have chosen. I would write two helper methods, one to check that all characters within a given subsequence of a `String` are digits and another to check for letters. Like,\r\n\r\n\tprivate static boolean allDigits(String s, int start, int end) {\r\n\t\tfor (int i = start; i &lt; end; i++) {\r\n\t\t\tif (!Character.isDigit(s.charAt(i))) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate static boolean allLetters(String s, int start, int end) {\r\n\t\tfor (int i = start; i &lt; end; i++) {\r\n\t\t\tif (!Character.isLetter(s.charAt(i))) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nThen the `checkPostcode` can *delegate* to those two methods. Like,\r\n\r\n\tpublic static boolean checkPostcode(String postCode) {\r\n\t\tif (postCode != null &amp;&amp; postCode.length() == 6) {\r\n\t\t\treturn allDigits(postCode, 0, 4) &amp;&amp; allLetters(postCode, 4, 6);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nAnd if you choose to use a *regular expression* compile it with a [`Pattern`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html) for better performance. Like,\r\n\r\n\tprivate static Pattern POSTCODEPATTERN = Pattern.compile(&quot;\\\\d{4}[A-Za-z]{2}&quot;);\r\n\r\n\tpublic static boolean checkPostcode(String postCode) {\r\n\t\treturn postCode != null &amp;&amp; POSTCODEPATTERN.matcher(postCode).matches();\r\n\t}\r\n","title":"Method to check &quot;dutch&quot; postal code in java","body":"<p>While you could solve this problem with regular expressions, it is also possible to solve it along the lines you have chosen. I would write two helper methods, one to check that all characters within a given subsequence of a <code>String</code> are digits and another to check for letters. Like,</p>\n\n<pre><code>private static boolean allDigits(String s, int start, int end) {\n    for (int i = start; i &lt; end; i++) {\n        if (!Character.isDigit(s.charAt(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate static boolean allLetters(String s, int start, int end) {\n    for (int i = start; i &lt; end; i++) {\n        if (!Character.isLetter(s.charAt(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Then the <code>checkPostcode</code> can <em>delegate</em> to those two methods. Like,</p>\n\n<pre><code>public static boolean checkPostcode(String postCode) {\n    if (postCode != null &amp;&amp; postCode.length() == 6) {\n        return allDigits(postCode, 0, 4) &amp;&amp; allLetters(postCode, 4, 6);\n    }\n    return false;\n}\n</code></pre>\n\n<p>And if you choose to use a <em>regular expression</em> compile it with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> for better performance. Like,</p>\n\n<pre><code>private static Pattern POSTCODEPATTERN = Pattern.compile(\"\\\\d{4}[A-Za-z]{2}\");\n\npublic static boolean checkPostcode(String postCode) {\n    return postCode != null &amp;&amp; POSTCODEPATTERN.matcher(postCode).matches();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687434637,"creation_date":1687434637,"answer_id":76531582,"question_id":60402468,"body_markdown":"sa, ss, sd are not valid (ref: https://en.wikipedia.org/wiki/Postal_codes_in_the_Netherlands )\r\nto check for those too:\r\n\r\n    Pattern dutchZips = Pattern.compile(&quot;^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}&quot;, Pattern.CASE_INSENSITIVE);\r\n    \r\n    return dutchZips.matcher(zip).matches();","title":"Method to check &quot;dutch&quot; postal code in java","body":"<p>sa, ss, sd are not valid (ref: <a href=\"https://en.wikipedia.org/wiki/Postal_codes_in_the_Netherlands\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Postal_codes_in_the_Netherlands</a> )\nto check for those too:</p>\n<pre><code>Pattern dutchZips = Pattern.compile(&quot;^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}&quot;, Pattern.CASE_INSENSITIVE);\n\nreturn dutchZips.matcher(zip).matches();\n</code></pre>\n"}],"owner":{"account_id":17251526,"reputation":577,"user_id":12491626,"display_name":"Ronny Giezen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":60402585,"answer_count":4,"score":1,"last_activity_date":1687434637,"creation_date":1582661616,"question_id":60402468,"body_markdown":"I&#39;m trying to create a method in java to validate a dutch postal code.\r\nthe dutch postal code consist 6 characters which contain 4 numbers (first 4 chars) and 2 letters (last 2 chars) so for example 1010AB. \r\n\r\nI made a boolean to return false if the postcode is not within standard and true if it is. \r\nI&#39;m getting stuck with checking the last 2 letters. \r\n\r\nI&#39;ve created a loop for the first 4 numbers, but I don&#39;t know how to go further from here to check the letters aswell.\r\n\r\nMy java method:\r\n\r\n    public static boolean checkPostcode(String postCode) {\r\n    \r\n    \r\n            boolean value = false;\r\n            if (postCode.length() == lengthPost) {\r\n                for (int i = 0; i &lt; postCode.length(); i++) {\r\n                    if (i &lt;= 4) {\r\n                        if (Character.isDigit(postCode.charAt(i)) {\r\n                            value = true;\r\n                                             \r\n                     else{\r\n                                if (Character.isLetter(postCode.charAt(i))) {\r\n                                    value = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n         return value;\r\n        }\r\n\r\nYou van ignore the last else, because that is the point where I get stuck.... \r\n\r\nIf someone can help me that would be great!!\r\n\r\nThanks in advance\r\n\r\n","title":"Method to check &quot;dutch&quot; postal code in java","body":"<p>I'm trying to create a method in java to validate a dutch postal code.\nthe dutch postal code consist 6 characters which contain 4 numbers (first 4 chars) and 2 letters (last 2 chars) so for example 1010AB. </p>\n\n<p>I made a boolean to return false if the postcode is not within standard and true if it is. \nI'm getting stuck with checking the last 2 letters. </p>\n\n<p>I've created a loop for the first 4 numbers, but I don't know how to go further from here to check the letters aswell.</p>\n\n<p>My java method:</p>\n\n<pre><code>public static boolean checkPostcode(String postCode) {\n\n\n        boolean value = false;\n        if (postCode.length() == lengthPost) {\n            for (int i = 0; i &lt; postCode.length(); i++) {\n                if (i &lt;= 4) {\n                    if (Character.isDigit(postCode.charAt(i)) {\n                        value = true;\n\n                 else{\n                            if (Character.isLetter(postCode.charAt(i))) {\n                                value = true;\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n     return value;\n    }\n</code></pre>\n\n<p>You van ignore the last else, because that is the point where I get stuck.... </p>\n\n<p>If someone can help me that would be great!!</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1609586623,"post_id":65536760,"comment_id":115871022,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/226730/discussion-on-question-by-grant-martin-how-to-kill-the-chrome-driver-process-onc).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/226730/discussion-on-question-by-grant-martin-how-to-kill-the-chrome-driver-process-onc\">moved to chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":20207636,"reputation":107,"user_id":14821591,"display_name":"grant martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609578282,"creation_date":1609578282,"answer_id":65537470,"question_id":65536760,"body_markdown":"Surrounding all of my methods with \r\n```\r\ntry{\r\n    method()\r\n} finally{\r\n   Runtime.getRuntime().exec(&quot;taskkill /F /IM ChromeDriver.exe&quot;)\r\n}\r\n```\r\nended up solving the issue. After the method is either done being run or some exception caused it to stop running (like closing the browser), all instances of ChromeDriver.exe are killed.","title":"How to kill the Chrome driver process once the browser is closed with Selenium","body":"<p>Surrounding all of my methods with</p>\n<pre><code>try{\n    method()\n} finally{\n   Runtime.getRuntime().exec(&quot;taskkill /F /IM ChromeDriver.exe&quot;)\n}\n</code></pre>\n<p>ended up solving the issue. After the method is either done being run or some exception caused it to stop running (like closing the browser), all instances of ChromeDriver.exe are killed.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609580628,"creation_date":1609580628,"answer_id":65537770,"question_id":65536760,"body_markdown":"When you close the browser, Selenium will throw an exception which causes the method to pre-emptively return. You should add a `try...finally` block to be sure that closing the chrome driver exists cleanly whether or not this exception throws:\r\n\r\n```\r\ntry {\r\n    method();\r\n} finally {\r\n    driver.quit();\r\n}\r\n```\r\nThis assumes that `driver` is in scope. So add the `try...finally` wherever it is available. If you are doing this in a lot of places, think about refactoring where you initialize the driver so you can minimize how much you have to repeat the `try...finally` block.","title":"How to kill the Chrome driver process once the browser is closed with Selenium","body":"<p>When you close the browser, Selenium will throw an exception which causes the method to pre-emptively return. You should add a <code>try...finally</code> block to be sure that closing the chrome driver exists cleanly whether or not this exception throws:</p>\n<pre><code>try {\n    method();\n} finally {\n    driver.quit();\n}\n</code></pre>\n<p>This assumes that <code>driver</code> is in scope. So add the <code>try...finally</code> wherever it is available. If you are doing this in a lot of places, think about refactoring where you initialize the driver so you can minimize how much you have to repeat the <code>try...finally</code> block.</p>\n"},{"tags":[],"owner":{"account_id":17841761,"reputation":105,"user_id":12959500,"display_name":"Ledjon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609856689,"creation_date":1609856689,"answer_id":65580745,"question_id":65536760,"body_markdown":"To make sure geckodriver is killed I use the following code snippet:\r\n\r\n    private static final String TASKLIST = &quot;tasklist&quot;;\r\n    private static final String KILL = &quot;taskkill /F /IM &quot;;\r\n\r\n    public boolean isProcessRunning(String serviceName) throws Exception {\r\n        Process p = Runtime.getRuntime().exec(TASKLIST);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n                p.getInputStream()));\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n\r\n           System.out.println(line);\r\n            if (line.contains(serviceName)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public void killProcess(String serviceName) throws Exception {\r\n        Runtime.getRuntime().exec(KILL + serviceName);\r\n    }","title":"How to kill the Chrome driver process once the browser is closed with Selenium","body":"<p>To make sure geckodriver is killed I use the following code snippet:</p>\n<pre><code>private static final String TASKLIST = &quot;tasklist&quot;;\nprivate static final String KILL = &quot;taskkill /F /IM &quot;;\n\npublic boolean isProcessRunning(String serviceName) throws Exception {\n    Process p = Runtime.getRuntime().exec(TASKLIST);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\n            p.getInputStream()));\n    String line;\n    while ((line = reader.readLine()) != null) {\n\n       System.out.println(line);\n        if (line.contains(serviceName)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\npublic void killProcess(String serviceName) throws Exception {\n    Runtime.getRuntime().exec(KILL + serviceName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7795457,"reputation":145,"user_id":5896734,"display_name":"Ashish Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687434213,"creation_date":1687434213,"answer_id":76531536,"question_id":65536760,"body_markdown":"Open console and execute the below command, it will work and kill all pending process related to chrome.\r\n\r\ntaskkill /im chromedriver.exe /f","title":"How to kill the Chrome driver process once the browser is closed with Selenium","body":"<p>Open console and execute the below command, it will work and kill all pending process related to chrome.</p>\n<p>taskkill /im chromedriver.exe /f</p>\n"}],"owner":{"account_id":20207636,"reputation":107,"user_id":14821591,"display_name":"grant martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65537470,"answer_count":4,"score":-1,"last_activity_date":1687434213,"creation_date":1609571064,"question_id":65536760,"body_markdown":"I made a stand-alone GUI for my Selenium project, and I noticed that after using it for a while, I had 10+ chrome drivers opened in task manager. I realize this is because driver.quit() is never called. I need to make it to where in the event that the chrome browser is closed, the driver quits. How do I do this?\r\n\r\nedit: I can make the driver quit once the process is done, but sometimes I want to close the browser and quit the process in the middle of it running, meaning the code that quits the driver wouldn&#39;t be reached. This is why I need to quit the driver in the event that the chrome window is closed.\r\n\r\nedit: Ill give an example:\r\n```\r\npublic static void runJoinGroup(String groupLink, String accounts) {\r\n\t\tScanner sc = new Scanner(accounts);\r\n\t\tprocess(sc);\r\n\t\tlaunchBrowser();\r\n\t\twhile (x &lt; users.size()) {\r\n\t\t\tlogin(users.get(x), pass.get(x));\r\n\t\t\tx++;\r\n\t\t\tjoinGroup(groupLink);\r\n\t\t\tlogout();\r\n\t\t}\r\n\t}\r\n```\r\nthis is the method that one of the buttons on my GUI executes when pressed. I could quit the driver after the method is finished running, like this:\r\n```\r\npublic static void runJoinGroup(String groupLink, String accounts) {\r\n\t\tScanner sc = new Scanner(accounts);\r\n\t\tprocess(sc);\r\n\t\tlaunchBrowser();\r\n\t\twhile (x &lt; users.size()) {\r\n\t\t\tlogin(users.get(x), pass.get(x));\r\n\t\t\tx++;\r\n\t\t\tjoinGroup(groupLink);\r\n\t\t\tlogout();\r\n\t\t}\r\n        driver.quit();\r\n\t}\r\n```\r\nHowever, if I close the browser before it is finished logging into all the accounts (before x&gt;=users.size()), driver.quit() will never be executed and I will still have the chrome driver running in the background. This is what I am trying to prevent.\r\n\r\nedit: Here is a clear, reproducible example:\r\n``` \r\npublic static void example() {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;drivers/chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tfor (int i = 0; i &lt; 100; i++) {\r\n\t\t\tdriver.get(&quot;google.com&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(5000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n    driver.quit();\r\n\r\n\t}\r\n```\r\nThis example code visits google.com and then sleeps for 5 seconds 100 times. If I decide to press the &#39;X&#39; button before google.com has been visited 100 times, the line containing driver.quit() will not have been reached, and therefore the chrome driver will continue to run in the background. This is what I am trying to prevent. I want to make it to where if I decide to close out of the chrome browser (by pressing the &#39;X&#39; button at the top right hand corner of the browser) BEFORE the process is finished, it will quit the driver.\r\n\r\nHere&#39;s an image of how the GUI works: https://i.stack.imgur.com/EqLDx.jpg (Zoom in to see the labels I made).","title":"How to kill the Chrome driver process once the browser is closed with Selenium","body":"<p>I made a stand-alone GUI for my Selenium project, and I noticed that after using it for a while, I had 10+ chrome drivers opened in task manager. I realize this is because driver.quit() is never called. I need to make it to where in the event that the chrome browser is closed, the driver quits. How do I do this?</p>\n<p>edit: I can make the driver quit once the process is done, but sometimes I want to close the browser and quit the process in the middle of it running, meaning the code that quits the driver wouldn't be reached. This is why I need to quit the driver in the event that the chrome window is closed.</p>\n<p>edit: Ill give an example:</p>\n<pre><code>public static void runJoinGroup(String groupLink, String accounts) {\n        Scanner sc = new Scanner(accounts);\n        process(sc);\n        launchBrowser();\n        while (x &lt; users.size()) {\n            login(users.get(x), pass.get(x));\n            x++;\n            joinGroup(groupLink);\n            logout();\n        }\n    }\n</code></pre>\n<p>this is the method that one of the buttons on my GUI executes when pressed. I could quit the driver after the method is finished running, like this:</p>\n<pre><code>public static void runJoinGroup(String groupLink, String accounts) {\n        Scanner sc = new Scanner(accounts);\n        process(sc);\n        launchBrowser();\n        while (x &lt; users.size()) {\n            login(users.get(x), pass.get(x));\n            x++;\n            joinGroup(groupLink);\n            logout();\n        }\n        driver.quit();\n    }\n</code></pre>\n<p>However, if I close the browser before it is finished logging into all the accounts (before x&gt;=users.size()), driver.quit() will never be executed and I will still have the chrome driver running in the background. This is what I am trying to prevent.</p>\n<p>edit: Here is a clear, reproducible example:</p>\n<pre><code>public static void example() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;drivers/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        for (int i = 0; i &lt; 100; i++) {\n            driver.get(&quot;google.com&quot;);\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    driver.quit();\n\n    }\n</code></pre>\n<p>This example code visits google.com and then sleeps for 5 seconds 100 times. If I decide to press the 'X' button before google.com has been visited 100 times, the line containing driver.quit() will not have been reached, and therefore the chrome driver will continue to run in the background. This is what I am trying to prevent. I want to make it to where if I decide to close out of the chrome browser (by pressing the 'X' button at the top right hand corner of the browser) BEFORE the process is finished, it will quit the driver.</p>\n<p>Here's an image of how the GUI works: <a href=\"https://i.stack.imgur.com/EqLDx.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EqLDx.jpg</a> (Zoom in to see the labels I made).</p>\n"},{"tags":["java","spring","docker","docker-compose","h2"],"answers":[{"tags":[],"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687410482,"creation_date":1687410482,"answer_id":76528750,"question_id":76526132,"body_markdown":"This is a common scenario when the program is not able to find the relevant jar.\r\nThe first thing I will do is look into the project dependency file over here and what it says regarding import configs for h2 drivers jar.\r\n\r\nIf in case it is set to provided or test then you to change those accordingly.\r\n\r\nYou can go with the route above or h2 jar can be imported and added to classpath manually as well. steps you need do is copy h2 jar to your docker and your run program command will be: \r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;myapp.jar:h2-1.4.200.jar&quot;,&quot;EntryClass&quot;]\r\n\r\nAlthough this is not recommended practice I just mentioned as an alternative, you can go with shade plugin.\r\n\r\nMore read: https://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java\r\n\r\nHope this helps.\r\n\r\n","title":"Java Spring &amp; H2 Dockerize - Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;","body":"<p>This is a common scenario when the program is not able to find the relevant jar.\nThe first thing I will do is look into the project dependency file over here and what it says regarding import configs for h2 drivers jar.</p>\n<p>If in case it is set to provided or test then you to change those accordingly.</p>\n<p>You can go with the route above or h2 jar can be imported and added to classpath manually as well. steps you need do is copy h2 jar to your docker and your run program command will be:</p>\n<p>ENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;myapp.jar:h2-1.4.200.jar&quot;,&quot;EntryClass&quot;]</p>\n<p>Although this is not recommended practice I just mentioned as an alternative, you can go with shade plugin.</p>\n<p>More read: <a href=\"https://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java\">What is the maven-shade-plugin used for, and why would you want to relocate Java packages?</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":16611460,"reputation":21,"user_id":12004349,"display_name":"Mete Ceviz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687434142,"creation_date":1687430931,"answer_id":76531118,"question_id":76526132,"body_markdown":"I have solved the issue. I will share my files. \r\n\r\napplication.properties: \r\n\r\n    spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nDockerfile\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    RUN mkdir /app\r\n    COPY target/fleet-management-0.0.1-SNAPSHOT.jar /app/myapp.jar\r\n    RUN mkdir /h2-data\r\n    COPY h2-data/ /h2-data/\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/myapp.jar&quot;]\r\n    CMD java -jar myapp.jar --spring.config.additional-location=file:/src/main/resources/application.properties\r\n\r\ndocker-compose.yml\r\n\r\n    version: &quot;3&quot;\r\n    services:\r\n      myapp:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8080:8080\r\n        depends_on:\r\n          - database\r\n    \r\n      database:\r\n        image: oscarfonts/h2:latest\r\n        ports:\r\n          - 1521:1521\r\n          - 81:81\r\n        volumes:\r\n          - ./h2-data:/h2-data\r\n          - ./scripts:/docker-entrypoint-initdb.d\r\n\r\nand h2 dependency in pom.xml: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Java Spring &amp; H2 Dockerize - Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;","body":"<p>I have solved the issue. I will share my files.</p>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nRUN mkdir /app\nCOPY target/fleet-management-0.0.1-SNAPSHOT.jar /app/myapp.jar\nRUN mkdir /h2-data\nCOPY h2-data/ /h2-data/\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/myapp.jar&quot;]\nCMD java -jar myapp.jar --spring.config.additional-location=file:/src/main/resources/application.properties\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: &quot;3&quot;\nservices:\n  myapp:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:8080\n    depends_on:\n      - database\n\n  database:\n    image: oscarfonts/h2:latest\n    ports:\n      - 1521:1521\n      - 81:81\n    volumes:\n      - ./h2-data:/h2-data\n      - ./scripts:/docker-entrypoint-initdb.d\n</code></pre>\n<p>and h2 dependency in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16611460,"reputation":21,"user_id":12004349,"display_name":"Mete Ceviz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687434142,"creation_date":1687371756,"question_id":76526132,"body_markdown":"I was assigned a case study project for recruitment process. I have developed a Java Spring project and used H2 in memory database. \r\n\r\nI have to place a docker-compose.yml to root folder to dockerize that. \r\n\r\nEven if my application runs correctly on intellij, it doesnt run on docker container.\r\n\r\nThey will run the following scenerio to run my application.\r\n\r\n    This scenario will be run by our reviewers during the review process. Make sure that these steps work as exactly same without any additional steps !\r\n    \r\n     1. Clone project  \r\n    git clone {repository-git-url}\r\n    \r\n     2. Run docker compose file (docker-compose.yml) and expose your service on port 8080  \r\n    docker-compose up -d\r\n    \r\n     3. Send a health check request and receive HttpStatus 200   \r\n    curl -L -X GET &#39;http://localhost:8080/health&#39; \r\n\r\nTo dockerize my spring project, i created a Dockerfile file. You can see my dockerfile below:\r\n\r\n    FROM adoptopenjdk/openjdk8\r\n    EXPOSE 8080\r\n    ARG JAR_FILE=target/fleet-management-0.0.1-SNAPSHOT.jar\r\n    ADD ${JAR_FILE} myapp.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myapp.jar&quot;]\r\n    \r\n    ENV SPRING_DATASOURCE_URL=jdbc:h2:mem:testdb\r\n    ENV SPRING_DATASOURCE_USERNAME=sa\r\n    ENV SPRING_DATASOURCE_PASSWORD=&quot;&quot;\r\n\r\nI also created a docker-compose.yml file. You can see below:\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      myapp:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8080:8080\r\n        environment:\r\n          - SPRING_DATASOURCE_URL=jdbc:h2:mem:testdb\r\n          - SPRING_DATASOURCE_USERNAME=sa\r\n          - SPRING_DATASOURCE_PASSWORD=\r\n\r\nI am using Java 8 and Spring Boot 2.7.1. Also, you can see my application.properties file below:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n\r\nI can start a container with command &quot;docker-compose up -d&quot; but i cant run the application with command &quot;docker run -p8080:8080 {ID}&quot;. It gives me error about H2 database. \r\n\r\n     Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependen\r\n    cyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.f\r\n    actory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed\r\n    ; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException\r\n    : Cannot load driver class: org.h2.Driver\r\n\r\nHow can i fix the issue?","title":"Java Spring &amp; H2 Dockerize - Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;","body":"<p>I was assigned a case study project for recruitment process. I have developed a Java Spring project and used H2 in memory database.</p>\n<p>I have to place a docker-compose.yml to root folder to dockerize that.</p>\n<p>Even if my application runs correctly on intellij, it doesnt run on docker container.</p>\n<p>They will run the following scenerio to run my application.</p>\n<pre><code>This scenario will be run by our reviewers during the review process. Make sure that these steps work as exactly same without any additional steps !\n\n 1. Clone project  \ngit clone {repository-git-url}\n\n 2. Run docker compose file (docker-compose.yml) and expose your service on port 8080  \ndocker-compose up -d\n\n 3. Send a health check request and receive HttpStatus 200   \ncurl -L -X GET 'http://localhost:8080/health' \n</code></pre>\n<p>To dockerize my spring project, i created a Dockerfile file. You can see my dockerfile below:</p>\n<pre><code>FROM adoptopenjdk/openjdk8\nEXPOSE 8080\nARG JAR_FILE=target/fleet-management-0.0.1-SNAPSHOT.jar\nADD ${JAR_FILE} myapp.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myapp.jar&quot;]\n\nENV SPRING_DATASOURCE_URL=jdbc:h2:mem:testdb\nENV SPRING_DATASOURCE_USERNAME=sa\nENV SPRING_DATASOURCE_PASSWORD=&quot;&quot;\n</code></pre>\n<p>I also created a docker-compose.yml file. You can see below:</p>\n<pre><code>version: '3'\nservices:\n  myapp:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:8080\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:h2:mem:testdb\n      - SPRING_DATASOURCE_USERNAME=sa\n      - SPRING_DATASOURCE_PASSWORD=\n</code></pre>\n<p>I am using Java 8 and Spring Boot 2.7.1. Also, you can see my application.properties file below:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>I can start a container with command &quot;docker-compose up -d&quot; but i cant run the application with command &quot;docker run -p8080:8080 {ID}&quot;. It gives me error about H2 database.</p>\n<pre><code> Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependen\ncyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.f\nactory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed\n; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException\n: Cannot load driver class: org.h2.Driver\n</code></pre>\n<p>How can i fix the issue?</p>\n"},{"tags":["java","spring","spring-boot","jpa","crud"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687434066,"post_id":76531465,"comment_id":134937933,"body_markdown":"Sounds like you already did some debugging: You&#39;ve figured out that the `updateFields(MyFile, MyFile)` method does its job correctly. The next step is to figure out what happens next. My guess would be it has to do with passing the updated file to `super.save`.","body":"Sounds like you already did some debugging: You&#39;ve figured out that the <code>updateFields(MyFile, MyFile)</code> method does its job correctly. The next step is to figure out what happens next. My guess would be it has to do with passing the updated file to <code>super.save</code>."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687452950,"post_id":76531465,"comment_id":134942335,"body_markdown":"Why are you calling persist if the entity already exists? What does the verifySave/afterSave methods do? What is in your entity within the save call?","body":"Why are you calling persist if the entity already exists? What does the verifySave/afterSave methods do? What is in your entity within the save call?"}],"owner":{"account_id":26715547,"reputation":3,"user_id":20320200,"display_name":"Levent Kaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687433741,"creation_date":1687433741,"question_id":76531465,"body_markdown":"I am trying to update the fields of a very large entity with the patch method. I want to update only certain fields instead of updating the whole file. Even if the request I sent returns as 200, the field on the file does not change.\r\n\r\nMy Controller:\r\n\r\n    @PatchMapping(&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;MyFile&gt; updateFile(@PathVariable(&quot;id&quot;) Long id, @RequestBody MyFile updateMyFile) {\r\n    \t\tMyFile updatedFile = myFileService.updateFields(id, updateMyFile);\r\n    \t\tif (updatedFile == null) {\r\n    \t\t\treturn ResponseEntity.notFound().build();\r\n    \t\t}\r\n    \t\treturn ResponseEntity.ok(updatedFile);\r\n    \t}\r\n\r\nMy Service:\r\n\r\n    @Transactional\r\n    \tpublic MyFile updateFields(Long id, MyFile updatedMyFile) {\r\n    \t\tMyFile existingFile = getFile(id);\r\n    \t\tif (existingFile == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tupdateFields(existingFile, updatedMyFile);\r\n    \t\tvar exp =  super.save(existingFile);\r\n    \t\treturn exp;\r\n    \t}\r\n    \tprivate void updateFields(MyFile existingFile, MyFile updatedMyFile) {\r\n    \t\tField[] fields = updatedFile.getClass().getDeclaredFields();\r\n    \t\tfor (Field field : fields) {\r\n    \t\t\tfield.setAccessible(true);\r\n    \t\t\ttry {\r\n    \t\t\t\tObject updatedValue = field.get(updatedFile);\r\n    \t\t\t\tif (updatedValue != null) {\r\n    \t\t\t\t\tfield.set(existingFile, updatedValue);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IllegalAccessException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nMy save method:\r\n\r\n    @Transactional\r\n    \tpublic ENTITY save(ENTITY entity) {\r\n    \t\tentity.setEditedBy(getCurrentUserId());\r\n    \t\tentity.setCreationDate(new Date());\r\n    \t\tverifySave(entity);\r\n    \t\tentity = persist(entity);\r\n    \t\tafterSave(entity);\r\n    \t\treturn entity;\r\n    \t}\r\nNo matter how hard I try, when I send a sample field, it updates it within the method, but it does not save to the file.","title":"Patch Method Not Updating The Changed Field on File","body":"<p>I am trying to update the fields of a very large entity with the patch method. I want to update only certain fields instead of updating the whole file. Even if the request I sent returns as 200, the field on the file does not change.</p>\n<p>My Controller:</p>\n<pre><code>@PatchMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;MyFile&gt; updateFile(@PathVariable(&quot;id&quot;) Long id, @RequestBody MyFile updateMyFile) {\n        MyFile updatedFile = myFileService.updateFields(id, updateMyFile);\n        if (updatedFile == null) {\n            return ResponseEntity.notFound().build();\n        }\n        return ResponseEntity.ok(updatedFile);\n    }\n</code></pre>\n<p>My Service:</p>\n<pre><code>@Transactional\n    public MyFile updateFields(Long id, MyFile updatedMyFile) {\n        MyFile existingFile = getFile(id);\n        if (existingFile == null) {\n            return null;\n        }\n        updateFields(existingFile, updatedMyFile);\n        var exp =  super.save(existingFile);\n        return exp;\n    }\n    private void updateFields(MyFile existingFile, MyFile updatedMyFile) {\n        Field[] fields = updatedFile.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            field.setAccessible(true);\n            try {\n                Object updatedValue = field.get(updatedFile);\n                if (updatedValue != null) {\n                    field.set(existingFile, updatedValue);\n                }\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>My save method:</p>\n<pre><code>@Transactional\n    public ENTITY save(ENTITY entity) {\n        entity.setEditedBy(getCurrentUserId());\n        entity.setCreationDate(new Date());\n        verifySave(entity);\n        entity = persist(entity);\n        afterSave(entity);\n        return entity;\n    }\n</code></pre>\n<p>No matter how hard I try, when I send a sample field, it updates it within the method, but it does not save to the file.</p>\n"},{"tags":["java","arrays","function"],"answers":[{"tags":[],"owner":{"account_id":27134212,"reputation":21,"user_id":20675966,"display_name":"Christopher Causey"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687432994,"creation_date":1687432994,"answer_id":76531375,"question_id":76531312,"body_markdown":"Please format your code correctly, and for this you would edit your code to rid the string value of the X assuming I understand the premise of the question\r\n\r\ndo this:\r\n\r\n    private void printQueue(String[] cashier1, String[] cashier2, String[] cashier3) {\r\n    int maxQueueSize = Math.max(cashier1.length, Math.max(cashier2.length, cashier3.length));\r\n    int maxLimit1 = 2; // Maximum limit for cashier1\r\n    int maxLimit2 = 3; // Maximum limit for cashier2\r\n    int maxLimit3 = 5; // Maximum limit for cashier3\r\n    \r\n    for (int i = 0; i &lt; maxQueueSize; i++) {\r\n        String value1 = (i &lt; maxLimit1 &amp;&amp; i &lt; cashier1.length &amp;&amp; cashier1[i] != null) ? &quot;O &quot; : &quot;&quot;;\r\n        String value2 = (i &lt; maxLimit2 &amp;&amp; i &lt; cashier2.length &amp;&amp; cashier2[i] != null) ? &quot;O &quot; : &quot;&quot;;\r\n        String value3 = (i &lt; maxLimit3 &amp;&amp; i &lt; cashier3.length &amp;&amp; cashier3[i] != null) ? &quot;O &quot; : &quot;&quot;;\r\n        \r\n        System.out.printf(&quot;%-10s %-10s %-10s%n&quot;, value1, value2, value3);\r\n      }\r\n    }\r\n\r\nThis changes the code in lines 8, 9, and 10 to stop the value of X being assigned to the string","title":"When calling the printQueue method I want to print &quot;O&quot; for elements within the respective limits and without printing any &quot;X&quot; values beyond the limit","body":"<p>Please format your code correctly, and for this you would edit your code to rid the string value of the X assuming I understand the premise of the question</p>\n<p>do this:</p>\n<pre><code>private void printQueue(String[] cashier1, String[] cashier2, String[] cashier3) {\nint maxQueueSize = Math.max(cashier1.length, Math.max(cashier2.length, cashier3.length));\nint maxLimit1 = 2; // Maximum limit for cashier1\nint maxLimit2 = 3; // Maximum limit for cashier2\nint maxLimit3 = 5; // Maximum limit for cashier3\n\nfor (int i = 0; i &lt; maxQueueSize; i++) {\n    String value1 = (i &lt; maxLimit1 &amp;&amp; i &lt; cashier1.length &amp;&amp; cashier1[i] != null) ? &quot;O &quot; : &quot;&quot;;\n    String value2 = (i &lt; maxLimit2 &amp;&amp; i &lt; cashier2.length &amp;&amp; cashier2[i] != null) ? &quot;O &quot; : &quot;&quot;;\n    String value3 = (i &lt; maxLimit3 &amp;&amp; i &lt; cashier3.length &amp;&amp; cashier3[i] != null) ? &quot;O &quot; : &quot;&quot;;\n    \n    System.out.printf(&quot;%-10s %-10s %-10s%n&quot;, value1, value2, value3);\n  }\n}\n</code></pre>\n<p>This changes the code in lines 8, 9, and 10 to stop the value of X being assigned to the string</p>\n"}],"owner":{"account_id":24928217,"reputation":19,"user_id":18795682,"display_name":"Seniru Senarathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687433292,"creation_date":1687432453,"question_id":76531312,"body_markdown":"```\r\n    private void printQueue(String[] cashier1, String[] cashier2, String[] cashier3) {\r\n        int maxQueueSize = Math.max(cashier1.length, Math.max(cashier2.length, cashier3.length));\r\n        int maxLimit1 = 2; // Maximum limit for cashier1\r\n        int maxLimit2 = 3; // Maximum limit for cashier2\r\n        int maxLimit3 = 5; // Maximum limit for cashier3\r\n\r\n        for (int i = 0; i &lt; maxQueueSize; i++) {\r\n            String value1 = (i &lt; cashier1.length &amp;&amp; i &lt; maxLimit1 &amp;&amp; cashier1[i] != null) ? &quot;O &quot; : &quot;X &quot;;\r\n            String value2 = (i &lt; cashier2.length &amp;&amp; i &lt; maxLimit2 &amp;&amp; cashier2[i] != null) ? &quot;O &quot; : &quot;X &quot;;\r\n            String value3 = (i &lt; cashier3.length &amp;&amp; i &lt; maxLimit3 &amp;&amp; cashier3[i] != null) ? &quot;O &quot; : &quot;X &quot;;\r\n\r\n            System.out.printf(&quot;%-10s %-10s %-10s%n&quot;, value1, value2, value3);\r\n        }\r\n    }\r\n```\r\n\r\nWhen calling the printQueue method I want to print &quot;O&quot; for elements within the respective limits and without printing any &quot;X&quot; values beyond the limit.","title":"When calling the printQueue method I want to print &quot;O&quot; for elements within the respective limits and without printing any &quot;X&quot; values beyond the limit","body":"<pre><code>    private void printQueue(String[] cashier1, String[] cashier2, String[] cashier3) {\n        int maxQueueSize = Math.max(cashier1.length, Math.max(cashier2.length, cashier3.length));\n        int maxLimit1 = 2; // Maximum limit for cashier1\n        int maxLimit2 = 3; // Maximum limit for cashier2\n        int maxLimit3 = 5; // Maximum limit for cashier3\n\n        for (int i = 0; i &lt; maxQueueSize; i++) {\n            String value1 = (i &lt; cashier1.length &amp;&amp; i &lt; maxLimit1 &amp;&amp; cashier1[i] != null) ? &quot;O &quot; : &quot;X &quot;;\n            String value2 = (i &lt; cashier2.length &amp;&amp; i &lt; maxLimit2 &amp;&amp; cashier2[i] != null) ? &quot;O &quot; : &quot;X &quot;;\n            String value3 = (i &lt; cashier3.length &amp;&amp; i &lt; maxLimit3 &amp;&amp; cashier3[i] != null) ? &quot;O &quot; : &quot;X &quot;;\n\n            System.out.printf(&quot;%-10s %-10s %-10s%n&quot;, value1, value2, value3);\n        }\n    }\n</code></pre>\n<p>When calling the printQueue method I want to print &quot;O&quot; for elements within the respective limits and without printing any &quot;X&quot; values beyond the limit.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":7,"creation_date":1382742151,"post_id":19600684,"comment_id":29094068,"body_markdown":"The methods shouldn&#39;t be in all caps.","body":"The methods shouldn&#39;t be in all caps."},{"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"score":0,"creation_date":1382742271,"post_id":19600684,"comment_id":29094094,"body_markdown":"Not even for enums? Normally I use camel case, but I thought when referencing something static that never gets changed it should be all caps much like the enum itself would be.","body":"Not even for enums? Normally I use camel case, but I thought when referencing something static that never gets changed it should be all caps much like the enum itself would be."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":6,"creation_date":1382742339,"post_id":19600684,"comment_id":29094115,"body_markdown":"It&#39;s also better if you actually had fields like `name`, `abbreviation`, `isOriginalColony` and had a constructor taking `(String, String, boolean)`. That way, it&#39;s more readable, and also helps prevent someone adding in another state with the arguments in the wrong order.","body":"It&#39;s also better if you actually had fields like <code>name</code>, <code>abbreviation</code>, <code>isOriginalColony</code> and had a constructor taking <code>(String, String, boolean)</code>. That way, it&#39;s more readable, and also helps prevent someone adding in another state with the arguments in the wrong order."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1382742386,"post_id":19600684,"comment_id":29094132,"body_markdown":"Also more efficient, fwiw.","body":"Also more efficient, fwiw."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":1,"creation_date":1382742540,"post_id":19600684,"comment_id":29094172,"body_markdown":"@SonofLysander Methods themselves should always be camel case. I&#39;ve only never seen all caps for enums and constants (like for example, `Math.PI`).","body":"@SonofLysander Methods themselves should always be camel case. I&#39;ve only never seen all caps for enums and constants (like for example, <code>Math.PI</code>)."},{"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"score":0,"creation_date":1382742546,"post_id":19600684,"comment_id":29094173,"body_markdown":"Bamf. Okay, changed everything as suggested so far by you everyone. Anything else?","body":"Bamf. Okay, changed everything as suggested so far by you everyone. Anything else?"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1382742850,"post_id":19600684,"comment_id":29094238,"body_markdown":"Other than what Sotirios and I mentioned, I don&#39;t see anything particularly wrong, though some people might disagree with the constructor visibility. The states themselves should probably be listed in alphabetical order (though it looks like you might be doing that already :) ), and of course, there shouldn&#39;t be any surprises in the methods.","body":"Other than what Sotirios and I mentioned, I don&#39;t see anything particularly wrong, though some people might disagree with the constructor visibility. The states themselves should probably be listed in alphabetical order (though it looks like you might be doing that already :) ), and of course, there shouldn&#39;t be any surprises in the methods."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1382743060,"post_id":19600684,"comment_id":29094290,"body_markdown":"(I&#39;ve also seen all caps for `static final` references that aren&#39;t compile-time constants, though I personally don&#39;t like that. For instance, `public static final FOO = System.getProperty(&quot;foo&quot;)`)","body":"(I&#39;ve also seen all caps for <code>static final</code> references that aren&#39;t compile-time constants, though I personally don&#39;t like that. For instance, <code>public static final FOO = System.getProperty(&quot;foo&quot;)</code>)"}],"answers":[{"comments":[{"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"score":0,"creation_date":1471635972,"post_id":19600768,"comment_id":65443151,"body_markdown":"@Marcin why shouldn&#39;t that be private?","body":"@Marcin why shouldn&#39;t that be private?"},{"owner":{"account_id":349924,"reputation":4745,"user_id":685495,"accept_rate":71,"display_name":"Marcin Wasiluk"},"score":6,"creation_date":1472630847,"post_id":19600768,"comment_id":65824243,"body_markdown":"enum constructors are implicitly private","body":"enum constructors are implicitly private"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1538822893,"post_id":19600768,"comment_id":92285379,"body_markdown":"How to call the method. What would States.getAbbreviatedName() will print in sysout?","body":"How to call the method. What would States.getAbbreviatedName() will print in sysout?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":1,"creation_date":1539376055,"post_id":19600768,"comment_id":92494530,"body_markdown":"we can use `Status.valueOf(&quot;MASSACHUSETTS&quot;).getAbbreviatedName();`, `Status.valueOf(&quot;MASSACHUSETTS&quot;).isOriginalColony();`, etc","body":"we can use <code>Status.valueOf(&quot;MASSACHUSETTS&quot;).getAbbreviatedName();</code>, <code>Status.valueOf(&quot;MASSACHUSETTS&quot;).isOriginalColony();</code>, etc"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1539377324,"post_id":19600768,"comment_id":92494973,"body_markdown":"How to have a default value in this case in-case enum does not match?","body":"How to have a default value in this case in-case enum does not match?"},{"owner":{"account_id":5316140,"reputation":116,"user_id":4240977,"accept_rate":100,"display_name":"Ayad Kara K&#226;hya"},"score":0,"creation_date":1688233536,"post_id":19600768,"comment_id":135047787,"body_markdown":"This does not work in C# right ?","body":"This does not work in C# right ?"}],"tags":[],"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"comment_count":6,"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1502595655,"creation_date":1382742639,"answer_id":19600768,"question_id":19600684,"body_markdown":"First, the enum methods shouldn&#39;t be in all caps. They are methods just like other methods, with the same naming convention.\r\n\r\nSecond, what you are doing is not the best possible way to set up your enum. Instead of using an array of values for the values, you should use separate variables for each value. You can then implement the constructor like you would any other class.\r\n\r\nHere&#39;s how you should do it with all the suggestions above:\r\n\r\n    public enum States {\r\n        ...\r\n        MASSACHUSETTS(&quot;Massachusetts&quot;,  &quot;MA&quot;,   true),\r\n        MICHIGAN     (&quot;Michigan&quot;,       &quot;MI&quot;,   false),\r\n        ...; // all 50 of those\r\n    \r\n        private final String full;\r\n        private final String abbr;\r\n        private final boolean originalColony;\r\n    \r\n        private States(String full, String abbr, boolean originalColony) {\r\n            this.full = full;\r\n            this.abbr = abbr;\r\n            this.originalColony = originalColony;\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return full;\r\n        }\r\n    \r\n        public String getAbbreviatedName() {\r\n            return abbr;\r\n        }\r\n    \r\n        public boolean isOriginalColony(){\r\n            return originalColony;\r\n        }\r\n    }","title":"Java enum with multiple value types","body":"<p>First, the enum methods shouldn't be in all caps. They are methods just like other methods, with the same naming convention.</p>\n\n<p>Second, what you are doing is not the best possible way to set up your enum. Instead of using an array of values for the values, you should use separate variables for each value. You can then implement the constructor like you would any other class.</p>\n\n<p>Here's how you should do it with all the suggestions above:</p>\n\n<pre><code>public enum States {\n    ...\n    MASSACHUSETTS(\"Massachusetts\",  \"MA\",   true),\n    MICHIGAN     (\"Michigan\",       \"MI\",   false),\n    ...; // all 50 of those\n\n    private final String full;\n    private final String abbr;\n    private final boolean originalColony;\n\n    private States(String full, String abbr, boolean originalColony) {\n        this.full = full;\n        this.abbr = abbr;\n        this.originalColony = originalColony;\n    }\n\n    public String getFullName() {\n        return full;\n    }\n\n    public String getAbbreviatedName() {\n        return abbr;\n    }\n\n    public boolean isOriginalColony(){\n        return originalColony;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687432792,"creation_date":1687432792,"answer_id":76531355,"question_id":19600684,"body_markdown":"**This is a filtered value from list**\r\n\r\n```\r\nList&lt;String&gt; valueList= Stream.of(States.values())\r\n               .filter(m-&gt;m.ORIGINAL_COLONY()==true)\r\n                .map(m-&gt;m.ABBR())\r\n                .collect(Collectors.toList());\r\n    enter code here\r\n\r\n\r\n\r\npublic enum States {\r\n    MASSACHUSETTS(&quot;Massachusetts&quot;,  &quot;MA&quot;,   true),\r\n    CHICAGO(&quot;Chicago&quot;,  &quot;MA&quot;,   true),\r\n    TROUT(&quot;trout&quot;,  &quot;MA&quot;,   true),\r\n    MICHIGAN(&quot;Michigan&quot;,            &quot;MI&quot;,   false);\r\n    private final Object[] values;\r\n\r\n    States(Object... vals) {\r\n        values = vals;\r\n    }\r\n\r\n    public String FULL() {\r\n        return (String) values[0];\r\n    }\r\n\r\n    public String ABBR() {\r\n        return (String) values[1];\r\n    }\r\n\r\n\r\n\r\n\r\n    public boolean ORIGINAL_COLONY(){\r\n        return (boolean) values[2];\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java enum with multiple value types","body":"<p><strong>This is a filtered value from list</strong></p>\n<pre><code>List&lt;String&gt; valueList= Stream.of(States.values())\n               .filter(m-&gt;m.ORIGINAL_COLONY()==true)\n                .map(m-&gt;m.ABBR())\n                .collect(Collectors.toList());\n    enter code here\n\n\n\npublic enum States {\n    MASSACHUSETTS(&quot;Massachusetts&quot;,  &quot;MA&quot;,   true),\n    CHICAGO(&quot;Chicago&quot;,  &quot;MA&quot;,   true),\n    TROUT(&quot;trout&quot;,  &quot;MA&quot;,   true),\n    MICHIGAN(&quot;Michigan&quot;,            &quot;MI&quot;,   false);\n    private final Object[] values;\n\n    States(Object... vals) {\n        values = vals;\n    }\n\n    public String FULL() {\n        return (String) values[0];\n    }\n\n    public String ABBR() {\n        return (String) values[1];\n    }\n\n\n\n\n    public boolean ORIGINAL_COLONY(){\n        return (boolean) values[2];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194669,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":19600768,"answer_count":2,"score":75,"last_activity_date":1687432792,"creation_date":1382742108,"question_id":19600684,"body_markdown":"Basically what I&#39;ve done is write an enum for States, and I want to not only be able to access them just as states but also access their abbreviation and whether or not they were an original colony.\r\n\r\n    public enum States {\r\n    \t\t...\r\n    \t\tMASSACHUSETTS(&quot;Massachusetts&quot;,\t&quot;MA&quot;,\ttrue),\r\n    \t\tMICHIGAN(&quot;Michigan&quot;,\t\t\t&quot;MI&quot;,\tfalse),\r\n                ...; //so on and so forth for all fifty states\r\n    \r\n    \t\tprivate final Object[] values;\r\n    \r\n    \t\tStates(Object... vals) {\r\n    \t\t\tvalues = vals;\r\n    \t\t}\r\n    \r\n    \t\tpublic String FULL() {\r\n    \t\t\treturn (String) values[0];\r\n    \t\t}\r\n    \r\n    \t\tpublic String ABBR() {\r\n    \t\t\treturn (String) values[1];\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic boolean ORIGINAL_COLONY(){\r\n    \t\t\treturn (boolean) values[2];\r\n    \t\t}\r\n    \t}\r\n\r\nThis seems to work as I&#39;d expect it to. I can \r\n\r\n    System.out.println(States.ALABAMA);                  // Prints &quot;ALABAMA&quot;\r\n    System.out.println(States.ALABAMA.FULL());           // Prints &quot;Alabama&quot;\r\n    System.out.println(States.ALABAMA.ABBR());           // Prints &quot;AL&quot;\r\n    System.out.println(States.ALABAMA.ORIGINAL_COLONY());// Prints &quot;false&quot;\r\n\r\nFor this particular scenario involving enums, is this the best way to do this or is there a better way to setup and format this enum? Thanks to all in advance!","title":"Java enum with multiple value types","body":"<p>Basically what I've done is write an enum for States, and I want to not only be able to access them just as states but also access their abbreviation and whether or not they were an original colony.</p>\n\n<pre><code>public enum States {\n        ...\n        MASSACHUSETTS(\"Massachusetts\",  \"MA\",   true),\n        MICHIGAN(\"Michigan\",            \"MI\",   false),\n            ...; //so on and so forth for all fifty states\n\n        private final Object[] values;\n\n        States(Object... vals) {\n            values = vals;\n        }\n\n        public String FULL() {\n            return (String) values[0];\n        }\n\n        public String ABBR() {\n            return (String) values[1];\n        }\n\n        public boolean ORIGINAL_COLONY(){\n            return (boolean) values[2];\n        }\n    }\n</code></pre>\n\n<p>This seems to work as I'd expect it to. I can </p>\n\n<pre><code>System.out.println(States.ALABAMA);                  // Prints \"ALABAMA\"\nSystem.out.println(States.ALABAMA.FULL());           // Prints \"Alabama\"\nSystem.out.println(States.ALABAMA.ABBR());           // Prints \"AL\"\nSystem.out.println(States.ALABAMA.ORIGINAL_COLONY());// Prints \"false\"\n</code></pre>\n\n<p>For this particular scenario involving enums, is this the best way to do this or is there a better way to setup and format this enum? Thanks to all in advance!</p>\n"},{"tags":["java","spring","spring-security","jwt"],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687432763,"creation_date":1687398168,"question_id":76528131,"body_markdown":"```java\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        String jwt = request.getHeader(SecurityContext.HEADER);\r\n        if (jwt != null) {\r\n            try {\r\n                jwt = jwt.substring(7);\r\n\r\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n\r\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\r\n\r\n                String username = String.valueOf(claims.get(&quot;username&quot;));\r\n                String authorities = (String)claims.get(&quot;authorities&quot;);\r\n\r\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\r\n\r\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorityList);\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            } catch (Exception e) {\r\n                throw new BadCredentialsException(&quot;Invalid token&quot;);\r\n            }\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return request.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\norg.springframework.security.authentication.BadCredentialsException: Invalid token\r\n\tat com.instacloneapi.instacloneapi.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:49) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\n\r\nHi, I need help with understanding why my api won&#39;t run. The token that I get from postman is not working correctly. Every time I try to login with a registered user, the token won&#39;t refresh, or so I think that&#39;s the problem but it could be something else entirely. This was where the problem occurred but feel free to ask me about other code snippets. It was working a few days ago and suddenly it won&#39;t work","title":"org.springframework.security.authentication.BadCredentialsException: Invalid token","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.instacloneapi.instacloneapi.config;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.List;\n\n@Component\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String jwt = request.getHeader(SecurityContext.HEADER);\n        if (jwt != null) {\n            try {\n                jwt = jwt.substring(7);\n\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\n\n                String username = String.valueOf(claims.get(&quot;username&quot;));\n                String authorities = (String)claims.get(&quot;authorities&quot;);\n\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\n\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorityList);\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            } catch (Exception e) {\n                throw new BadCredentialsException(&quot;Invalid token&quot;);\n            }\n        }\n\n        filterChain.doFilter(request, response);\n\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return request.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.security.authentication.BadCredentialsException: Invalid token\n    at com.instacloneapi.instacloneapi.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:49) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>Hi, I need help with understanding why my api won't run. The token that I get from postman is not working correctly. Every time I try to login with a registered user, the token won't refresh, or so I think that's the problem but it could be something else entirely. This was where the problem occurred but feel free to ask me about other code snippets. It was working a few days ago and suddenly it won't work</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639472549,"post_id":70346056,"comment_id":124350983,"body_markdown":"AFAIK `@Mock` doesn&#39;t work on `static` fields. And you haven&#39;t registered any behavior for the mocked `MongoTemplate`. So the method call will return `null` (the default behavior). On which you try to call a method -&gt; `NullPointerException`. So either way will lead to a `NullPointerException` (no mock, or no behavior at all).","body":"AFAIK <code>@Mock</code> doesn&#39;t work on <code>static</code> fields. And you haven&#39;t registered any behavior for the mocked <code>MongoTemplate</code>. So the method call will return <code>null</code> (the default behavior). On which you try to call a method -&gt; <code>NullPointerException</code>. So either way will lead to a <code>NullPointerException</code> (no mock, or no behavior at all)."},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1639477237,"post_id":70346056,"comment_id":124352726,"body_markdown":"@M.Deinum I have successful several tests that i use static .the reason use static is because BeforeAll annotattion setUp method that is static , so I think static is not problem .","body":"@M.Deinum I have successful several tests that i use static .the reason use static is because BeforeAll annotattion setUp method that is static , so I think static is not problem ."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1639477792,"post_id":70346056,"comment_id":124352895,"body_markdown":"Include actual stacktrace I have no idea where NPE it comes from.","body":"Include actual stacktrace I have no idea where NPE it comes from."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639478910,"post_id":70346056,"comment_id":124353266,"body_markdown":"If that isn&#39;t the problem, than, as stated, the issue is the fact tha tyou aren&#39;t registering any behavior on the mock.","body":"If that isn&#39;t the problem, than, as stated, the issue is the fact tha tyou aren&#39;t registering any behavior on the mock."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1639479956,"post_id":70346056,"comment_id":124353635,"body_markdown":"If you want to test just the `update` method, I dont think you are following a good approach. Better as `when(mongoTemplate.updateFirst(any(Query.class) ,any(Update.class) , anyString()).wasAcknowledged()).thenReturn(true);`","body":"If you want to test just the <code>update</code> method, I dont think you are following a good approach. Better as <code>when(mongoTemplate.updateFirst(any(Query.class) ,any(Update.class) , anyString()).wasAcknowledged()).thenReturn(true);</code>"},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1639553024,"post_id":70346056,"comment_id":124374983,"body_markdown":"@Aman i used code you sent but now I have NPE at the this line in test class ,this code throw NPE !","body":"@Aman i used code you sent but now I have NPE at the this line in test class ,this code throw NPE !"}],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687432729,"creation_date":1639471723,"question_id":70346056,"body_markdown":"How to write a unit test (via Junit) for the MongoTemplate updateFirst() method?\r\n\r\nI have this service class:\r\n\r\n    @Service\r\n    public class TemplateServiceImpl implements TemplateService\r\n    {\r\n        @Resource\r\n        private TemplateRepository templateRepository;\r\n    \r\n        @Resource\r\n        private MongoTemplate mongoTemplate;\r\n    \r\n        @Override\r\n        public TemplateDto create(TemplateDto templateDto)\r\n        {\r\n            TemplateDto result;\r\n            templateDto.setDeleted(false);\r\n            result = templateRepository.insert(templateDto);\r\n            return result;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean update(ObjectId id, TemplateDto templateDto)\r\n        {\r\n            if (templateDto != null)\r\n            {\r\n                Update update = new Update();\r\n    \r\n                if (templateDto.getName() != null)\r\n                {\r\n                    update.set(&quot;name&quot;, templateDto.getName());\r\n                }\r\n                if (templateDto.getTemplate() != null)\r\n                {\r\n                    update.set(&quot;template&quot;, templateDto.getTemplate());\r\n                }\r\n                if (templateDto.isDeleted())\r\n                {\r\n                    update.set(&quot;deleted&quot;, Boolean.TRUE);\r\n                }\r\n                update.set(&quot;lastUpdate&quot;, new Date());\r\n                return mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(id)), update, &quot;template&quot;)\r\n                        .wasAcknowledged();\r\n            }\r\n            return false;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nI want to write a unit test for the update method. This is my relevant test class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TemplateServiceImplTest\r\n    {\r\n    \r\n        @InjectMocks\r\n        private static TemplateServiceImpl templateService;\r\n    \r\n        @Mock\r\n        private static TemplateRepository templateRepository;\r\n        @Mock\r\n        private static MongoTemplate mongoTemplate;\r\n        private static TemplateDto templateDto;\r\n        private static List&lt;TemplateDto&gt; listOfTemplates;\r\n        private static String requestBody;\r\n    \r\n    \r\n        @BeforeAll\r\n        private static void setUp(){\r\n            templateDto = createTemplateDto();\r\n            listOfTemplates = createListOfTemplate();\r\n            requestBody = createRequesyBody();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void create()\r\n        {\r\n            when(templateRepository.insert(templateDto)).thenReturn(templateDto);\r\n            TemplateDto actualResult = templateService.create(TemplateServiceImplTest.templateDto);\r\n            assertThat(actualResult).isNotNull();\r\n            assertThat(actualResult).isInstanceOf(TemplateDto.class);\r\n            assertThat(actualResult.getId()).isEqualTo(templateDto.getId());\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void update()\r\n        {\r\n            Update update = new Update();\r\n    /*\r\n            when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\r\n                    UpdateResult.acknowledged());\r\n    */\r\n    \r\n    /*\r\n            given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\r\n    */\r\n    \r\n            boolean actualResult = templateService.update(templateDto.getId(), templateDto);\r\n            assertThat(actualResult).isNotNull();\r\n            assertThat(actualResult).isTrue();\r\n        }\r\n    // other methods...\r\n    }\r\n\r\n\r\nWhen I run the test I get NPE for mongoTemplate at update method, I searched and I saw these 2 approaches:\r\n\r\n                when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\r\n                UpdateResult.acknowledged());\r\nOr\r\n\r\n        given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\r\n\r\nBut none of them worked.\r\n\r\nactually, how do I test the MongoTemplate update first method?\r\n\r\nThanks\r\n","title":"Mock update method in Junit","body":"<p>How to write a unit test (via Junit) for the MongoTemplate updateFirst() method?</p>\n<p>I have this service class:</p>\n<pre><code>@Service\npublic class TemplateServiceImpl implements TemplateService\n{\n    @Resource\n    private TemplateRepository templateRepository;\n\n    @Resource\n    private MongoTemplate mongoTemplate;\n\n    @Override\n    public TemplateDto create(TemplateDto templateDto)\n    {\n        TemplateDto result;\n        templateDto.setDeleted(false);\n        result = templateRepository.insert(templateDto);\n        return result;\n    }\n\n\n    @Override\n    public boolean update(ObjectId id, TemplateDto templateDto)\n    {\n        if (templateDto != null)\n        {\n            Update update = new Update();\n\n            if (templateDto.getName() != null)\n            {\n                update.set(&quot;name&quot;, templateDto.getName());\n            }\n            if (templateDto.getTemplate() != null)\n            {\n                update.set(&quot;template&quot;, templateDto.getTemplate());\n            }\n            if (templateDto.isDeleted())\n            {\n                update.set(&quot;deleted&quot;, Boolean.TRUE);\n            }\n            update.set(&quot;lastUpdate&quot;, new Date());\n            return mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(id)), update, &quot;template&quot;)\n                    .wasAcknowledged();\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n<p>I want to write a unit test for the update method. This is my relevant test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TemplateServiceImplTest\n{\n\n    @InjectMocks\n    private static TemplateServiceImpl templateService;\n\n    @Mock\n    private static TemplateRepository templateRepository;\n    @Mock\n    private static MongoTemplate mongoTemplate;\n    private static TemplateDto templateDto;\n    private static List&lt;TemplateDto&gt; listOfTemplates;\n    private static String requestBody;\n\n\n    @BeforeAll\n    private static void setUp(){\n        templateDto = createTemplateDto();\n        listOfTemplates = createListOfTemplate();\n        requestBody = createRequesyBody();\n    }\n\n\n    @Test\n    void create()\n    {\n        when(templateRepository.insert(templateDto)).thenReturn(templateDto);\n        TemplateDto actualResult = templateService.create(TemplateServiceImplTest.templateDto);\n        assertThat(actualResult).isNotNull();\n        assertThat(actualResult).isInstanceOf(TemplateDto.class);\n        assertThat(actualResult.getId()).isEqualTo(templateDto.getId());\n    }\n\n\n    @Test\n    void update()\n    {\n        Update update = new Update();\n/*\n        when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\n                UpdateResult.acknowledged());\n*/\n\n/*\n        given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\n*/\n\n        boolean actualResult = templateService.update(templateDto.getId(), templateDto);\n        assertThat(actualResult).isNotNull();\n        assertThat(actualResult).isTrue();\n    }\n// other methods...\n}\n</code></pre>\n<p>When I run the test I get NPE for mongoTemplate at update method, I searched and I saw these 2 approaches:</p>\n<pre><code>            when(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class)).thenReturn(\n            UpdateResult.acknowledged());\n</code></pre>\n<p>Or</p>\n<pre><code>    given(mongoTemplate.updateFirst(new Query(Criteria.where(&quot;_id&quot;).is(templateDto.getId().toString())) ,update , TemplateDto.class));\n</code></pre>\n<p>But none of them worked.</p>\n<p>actually, how do I test the MongoTemplate update first method?</p>\n<p>Thanks</p>\n"},{"tags":["java","ascii-art"],"comments":[{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":4,"creation_date":1302392157,"post_id":5608588,"comment_id":6387492,"body_markdown":"If you are serious about the *ASCII* in ASCII art, then you can only use `+`, `-` and `|` as line drawing characters, not the fancy ones you used in the example.","body":"If you are serious about the <i>ASCII</i> in ASCII art, then you can only use <code>+</code>, <code>-</code> and <code>|</code> as line drawing characters, not the fancy ones you used in the example."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1302395471,"post_id":5608588,"comment_id":6387808,"body_markdown":"I once created such a function in PHP (to format a table for e-mail output). It had the same interface as other functions outputting to HTML or PDF.","body":"I once created such a function in PHP (to format a table for e-mail output). It had the same interface as other functions outputting to HTML or PDF."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1302396111,"post_id":5608588,"comment_id":6387888,"body_markdown":"Here is [the link](http://svn.berlios.de/wsvn/aligilo/programo/iloj/iloj_kotizo_formatado.php) - class TekstaKotizoFormatilo. But it is not much commented, and in Esperanto, and for our own format of table, so it might not help you here. If no suitable library is found here, I might think about porting it to Java.","body":"Here is <a href=\"http://svn.berlios.de/wsvn/aligilo/programo/iloj/iloj_kotizo_formatado.php\" rel=\"nofollow noreferrer\">the link</a> - class TekstaKotizoFormatilo. But it is not much commented, and in Esperanto, and for our own format of table, so it might not help you here. If no suitable library is found here, I might think about porting it to Java."},{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":1,"creation_date":1302401723,"post_id":5608588,"comment_id":6388426,"body_markdown":"Hmm... how come Google Translate doesn&#39;t support Esperanto?","body":"Hmm... how come Google Translate doesn&#39;t support Esperanto?"},{"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"score":1,"creation_date":1302402851,"post_id":5608588,"comment_id":6388537,"body_markdown":"The 1980&#39;s just called... they want their character set back.","body":"The 1980&#39;s just called... they want their character set back."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1484811209,"post_id":5608588,"comment_id":70665771,"body_markdown":"https://github.com/MarounMaroun/simple-table","body":"<a href=\"https://github.com/MarounMaroun/simple-table\" rel=\"nofollow noreferrer\">github.com/MarounMaroun/simple-table</a>"}],"answers":[{"tags":[],"owner":{"account_id":16976,"reputation":5098,"user_id":37548,"display_name":"Jonas Kongslund"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380230596,"creation_date":1302408728,"answer_id":5609723,"question_id":5608588,"body_markdown":"Try [iNamik Text Table Formatter for Java][1].\r\n\r\n\r\n  [1]: https://github.com/iNamik/Java-Text-Table-Formatter","title":"Any Java libraries for drawing ASCII tables?","body":"<p>Try <a href=\"https://github.com/iNamik/Java-Text-Table-Formatter\" rel=\"nofollow\">iNamik Text Table Formatter for Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":42803,"reputation":8951,"user_id":124839,"display_name":"Mike Valenty"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1354127141,"creation_date":1354126075,"answer_id":13611645,"question_id":5608588,"body_markdown":"This worked pretty well for me: [http://code.google.com/p/java-ascii-table/][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/java-ascii-table/\r\n\r\n    String [] header = {\r\n          &quot;User Name&quot;, \r\n          &quot;Salary&quot;, &quot;Designation&quot;,\r\n          &quot;Address&quot;, &quot;Lucky#&quot;\r\n    };\r\n        \r\n    String[][] data = {\r\n          { &quot;Ram&quot;, &quot;2000&quot;, &quot;Manager&quot;, &quot;#99, Silk board&quot;, &quot;1111&quot;  },\r\n          { &quot;Sri&quot;, &quot;12000&quot;, &quot;Developer&quot;, &quot;BTM Layout&quot;, &quot;22222&quot; },\r\n          { &quot;Prasad&quot;, &quot;42000&quot;, &quot;Lead&quot;, &quot;#66, Viaya Bank Layout&quot;, &quot;333333&quot; },\r\n          { &quot;Anu&quot;, &quot;132000&quot;, &quot;QA&quot;, &quot;#22, Vizag&quot;, &quot;4444444&quot; },\r\n          { &quot;Sai&quot;, &quot;62000&quot;, &quot;Developer&quot;, &quot;#3-3, Kakinada&quot;  },\r\n          { &quot;Venkat&quot;, &quot;2000&quot;, &quot;Manager&quot;   },\r\n          { &quot;Raj&quot;, &quot;62000&quot;},\r\n          { &quot;BTC&quot;},\r\n    };\r\n\r\nWhich renders the following:\r\n&lt;pre&gt;\r\n+-----------+--------+-------------+------------------------+---------+\r\n| User Name | Salary | Designation |         Address        |  Lucky# |\r\n+-----------+--------+-------------+------------------------+---------+\r\n|       Ram |   2000 |     Manager |        #99, Silk board |    1111 |\r\n|       Sri |  12000 |   Developer |             BTM Layout |   22222 |\r\n|    Prasad |  42000 |        Lead | #66, Viaya Bank Layout |  333333 |\r\n|       Anu | 132000 |          QA |             #22, Vizag | 4444444 |\r\n|       Sai |  62000 |   Developer |         #3-3, Kakinada |         |\r\n|    Venkat |   2000 |     Manager |                        |         |\r\n|       Raj |  62000 |             |                        |         |\r\n|       BTC |        |             |                        |         |\r\n+-----------+--------+-------------+------------------------+---------+\r\n&lt;/pre&gt;","title":"Any Java libraries for drawing ASCII tables?","body":"<p>This worked pretty well for me: <a href=\"http://code.google.com/p/java-ascii-table/\">http://code.google.com/p/java-ascii-table/</a></p>\n\n<pre><code>String [] header = {\n      \"User Name\", \n      \"Salary\", \"Designation\",\n      \"Address\", \"Lucky#\"\n};\n\nString[][] data = {\n      { \"Ram\", \"2000\", \"Manager\", \"#99, Silk board\", \"1111\"  },\n      { \"Sri\", \"12000\", \"Developer\", \"BTM Layout\", \"22222\" },\n      { \"Prasad\", \"42000\", \"Lead\", \"#66, Viaya Bank Layout\", \"333333\" },\n      { \"Anu\", \"132000\", \"QA\", \"#22, Vizag\", \"4444444\" },\n      { \"Sai\", \"62000\", \"Developer\", \"#3-3, Kakinada\"  },\n      { \"Venkat\", \"2000\", \"Manager\"   },\n      { \"Raj\", \"62000\"},\n      { \"BTC\"},\n};\n</code></pre>\n\n<p>Which renders the following:</p>\n\n<pre>\n+-----------+--------+-------------+------------------------+---------+\n| User Name | Salary | Designation |         Address        |  Lucky# |\n+-----------+--------+-------------+------------------------+---------+\n|       Ram |   2000 |     Manager |        #99, Silk board |    1111 |\n|       Sri |  12000 |   Developer |             BTM Layout |   22222 |\n|    Prasad |  42000 |        Lead | #66, Viaya Bank Layout |  333333 |\n|       Anu | 132000 |          QA |             #22, Vizag | 4444444 |\n|       Sai |  62000 |   Developer |         #3-3, Kakinada |         |\n|    Venkat |   2000 |     Manager |                        |         |\n|       Raj |  62000 |             |                        |         |\n|       BTC |        |             |                        |         |\n+-----------+--------+-------------+------------------------+---------+\n</pre>\n"},{"tags":[],"owner":{"account_id":215617,"reputation":572,"user_id":470370,"accept_rate":50,"display_name":"user470370"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429122302,"creation_date":1429122302,"answer_id":29657938,"question_id":5608588,"body_markdown":"I like your table and wrote that:\r\nhttps://github.com/klaus31/ascii-art-table\r\n ","title":"Any Java libraries for drawing ASCII tables?","body":"<p>I like your table and wrote that:\n<a href=\"https://github.com/klaus31/ascii-art-table\" rel=\"nofollow\">https://github.com/klaus31/ascii-art-table</a></p>\n"},{"tags":[],"owner":{"account_id":2913885,"reputation":1617,"user_id":2497530,"accept_rate":83,"display_name":"zhxchen17"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462221802,"creation_date":1462221802,"answer_id":36991336,"question_id":5608588,"body_markdown":"Here is also a handy library: https://github.com/JakeWharton/flip-tables \r\n\r\nAs the doc said:\r\n\r\n    String[] headers = { &quot;Test&quot;, &quot;Header&quot; };\r\n    String[][] data = {\r\n        { &quot;Foo&quot;, &quot;Bar&quot; },\r\n        { &quot;Kit&quot;, &quot;Kat&quot; },\r\n    };\r\n    System.out.println(FlipTable.of(headers, data));\r\n\r\nshould have the following output:\r\n\r\n    ╔══════╤════════╗\r\n    ║ Test │ Header ║\r\n    ╠══════╪════════╣    \r\n    ║ Foo  │ Bar    ║\r\n    ╟──────┼────────╢\r\n    ║ Kit  │ Kat    ║\r\n    ╚══════╧════════╝","title":"Any Java libraries for drawing ASCII tables?","body":"<p>Here is also a handy library: <a href=\"https://github.com/JakeWharton/flip-tables\" rel=\"nofollow\">https://github.com/JakeWharton/flip-tables</a> </p>\n\n<p>As the doc said:</p>\n\n<pre><code>String[] headers = { \"Test\", \"Header\" };\nString[][] data = {\n    { \"Foo\", \"Bar\" },\n    { \"Kit\", \"Kat\" },\n};\nSystem.out.println(FlipTable.of(headers, data));\n</code></pre>\n\n<p>should have the following output:</p>\n\n<pre><code>╔══════╤════════╗\n║ Test │ Header ║\n╠══════╪════════╣    \n║ Foo  │ Bar    ║\n╟──────┼────────╢\n║ Kit  │ Kat    ║\n╚══════╧════════╝\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15553668"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618147289,"creation_date":1618139861,"answer_id":67044339,"question_id":5608588,"body_markdown":"If you already have a formatted 2d array of strings with the desired column widths, then you can draw a simple table yourself without any libraries, something like this:\r\n```\r\n+------+---------+-------+\r\n|  ID  |  Name   |  Age  |\r\n+------+---------+-------+\r\n|   1  |  John   |   24  |\r\n+------+---------+-------+\r\n|   2  |  Jeff   |   19  |\r\n+------+---------+-------+\r\n|   3  |  Joel   |   42  |\r\n+------+---------+-------+\r\n```\r\n[Try it online!][1]\r\n\r\n```java\r\npublic static String drawTable(String[][] table) {\r\n    String borderRow = Arrays.stream(table[0])\r\n            // border row between rows\r\n            .map(str -&gt; &quot;-&quot;.repeat(str.length()))\r\n            .collect(Collectors.joining(&quot;+&quot;, &quot;+&quot;, &quot;+\\n&quot;));\r\n    return Arrays.stream(table)\r\n            // table row with borders between cells\r\n            .map(row -&gt; Arrays.stream(row)\r\n                    .collect(Collectors.joining(&quot;|&quot;, &quot;|&quot;, &quot;|\\n&quot;)))\r\n            .collect(Collectors.joining(borderRow, borderRow, borderRow));\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    String[][] table = {\r\n            {&quot;  ID  &quot;, &quot;  Name   &quot;, &quot;  Age  &quot;},\r\n            {&quot;   1  &quot;, &quot;  John   &quot;, &quot;   24  &quot;},\r\n            {&quot;   2  &quot;, &quot;  Jeff   &quot;, &quot;   19  &quot;},\r\n            {&quot;   3  &quot;, &quot;  Joel   &quot;, &quot;   42  &quot;}};\r\n\r\n    System.out.println(drawTable(table));\r\n}\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also:\r\n&lt;br&gt;• [How to draw a staircase with Java?][2]\r\n&lt;br&gt;• [Formatting 2d array of numbers][3]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://tio.run/##lZPfT4MwEMff@SsuPEHcOjd9MYsmi75oog/q29xDgY4VS0vaMrJM/nZsx68YcNE@lON6n959jyPBezxNos@qomkmpIbEOFCuKUMrKfFBLZ3BgdKS4BTdC8ZIqIU0MU6WB4yGEDKsFDxjyuHogFmNX2mszeNNS8pjiCQu3nHAiFc71pv1BrR1@A1mVxMcCBkR@SoKuIW6pKYA70SsLzd@h7RrNmswkIYLiC4I4dZWg1CU4swzF8L0DtypiyTJCNbWgxjhsd55vj9MgMJavNc3ASWCclOw5164E2i2D@76/rLDJdG55GMyRjWcTk4SCqp3jSTV6QkJY78IsowR9DORcQ7T/EnRlxVTbydF/2tI9wUnMGa2DSqdkYnZCxpBauapGxXAMlbDOelnyMzJcVDf0QV4fACwGgBecEqgfVnFxnbLySgD8zbsSex4x8Di@gyz6Biy3fbM/OYMc9XnIaxnru1dZbl0erkHpUmKRK5RZoRrxr3@f6pnqWtoWVXf &quot;Java (JDK) – Try It Online&quot;\r\n  [2]: https://stackoverflow.com/a/66772762/15553668\r\n  [3]: https://stackoverflow.com/a/65531478/15553668\r\n","title":"Any Java libraries for drawing ASCII tables?","body":"<p>If you already have a formatted 2d array of strings with the desired column widths, then you can draw a simple table yourself without any libraries, something like this:</p>\n<pre><code>+------+---------+-------+\n|  ID  |  Name   |  Age  |\n+------+---------+-------+\n|   1  |  John   |   24  |\n+------+---------+-------+\n|   2  |  Jeff   |   19  |\n+------+---------+-------+\n|   3  |  Joel   |   42  |\n+------+---------+-------+\n</code></pre>\n<p><a href=\"https://tio.run/##lZPfT4MwEMff@SsuPEHcOjd9MYsmi75oog/q29xDgY4VS0vaMrJM/nZsx68YcNE@lON6n959jyPBezxNos@qomkmpIbEOFCuKUMrKfFBLZ3BgdKS4BTdC8ZIqIU0MU6WB4yGEDKsFDxjyuHogFmNX2mszeNNS8pjiCQu3nHAiFc71pv1BrR1@A1mVxMcCBkR@SoKuIW6pKYA70SsLzd@h7RrNmswkIYLiC4I4dZWg1CU4swzF8L0DtypiyTJCNbWgxjhsd55vj9MgMJavNc3ASWCclOw5164E2i2D@76/rLDJdG55GMyRjWcTk4SCqp3jSTV6QkJY78IsowR9DORcQ7T/EnRlxVTbydF/2tI9wUnMGa2DSqdkYnZCxpBauapGxXAMlbDOelnyMzJcVDf0QV4fACwGgBecEqgfVnFxnbLySgD8zbsSex4x8Di@gyz6Biy3fbM/OYMc9XnIaxnru1dZbl0erkHpUmKRK5RZoRrxr3@f6pnqWtoWVXf\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String drawTable(String[][] table) {\n    String borderRow = Arrays.stream(table[0])\n            // border row between rows\n            .map(str -&gt; &quot;-&quot;.repeat(str.length()))\n            .collect(Collectors.joining(&quot;+&quot;, &quot;+&quot;, &quot;+\\n&quot;));\n    return Arrays.stream(table)\n            // table row with borders between cells\n            .map(row -&gt; Arrays.stream(row)\n                    .collect(Collectors.joining(&quot;|&quot;, &quot;|&quot;, &quot;|\\n&quot;)))\n            .collect(Collectors.joining(borderRow, borderRow, borderRow));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[][] table = {\n            {&quot;  ID  &quot;, &quot;  Name   &quot;, &quot;  Age  &quot;},\n            {&quot;   1  &quot;, &quot;  John   &quot;, &quot;   24  &quot;},\n            {&quot;   2  &quot;, &quot;  Jeff   &quot;, &quot;   19  &quot;},\n            {&quot;   3  &quot;, &quot;  Joel   &quot;, &quot;   42  &quot;}};\n\n    System.out.println(drawTable(table));\n}\n</code></pre>\n<hr />\n<p><sup>See also:\n<br>• <a href=\"https://stackoverflow.com/a/66772762/15553668\">How to draw a staircase with Java?</a>\n<br>• <a href=\"https://stackoverflow.com/a/65531478/15553668\">Formatting 2d array of numbers</a></sup></p>\n"},{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687432460,"creation_date":1687421964,"answer_id":76529876,"question_id":5608588,"body_markdown":"You can try [Text Table Formatter][1]. It&#39;s not a perfect library: it doesn&#39;t have JavaDocs, it doesn&#39;t have a user guide, the source code contains typos (e.g. see the `ShownBorders` class that contains a `HEADER_AND_FIRST_COLLUMN` constant). Even [this project page][2] that contains examples of usages has at least one typo (`HorizontalAlign.right` instead of `HorizontalAlign.RIGHT`). However, it&#39;s in the Maven Central repository (unlike [iNamik&#39;s Text Table Formatter][3]), pretty flexible, easy to use, and it works. Here&#39;s the fixed &quot;advanced&quot; example provided by the library&#39;s creators\r\n```java\r\npublic class Advanced {\r\n\r\n  public static void main(final String[] args) {\r\n\r\n    CellStyle numberStyle = new CellStyle(HorizontalAlign.RIGHT);\r\n\r\n    Table t = new Table(3, BorderStyle.DESIGN_FORMAL,\r\n        ShownBorders.SURROUND_HEADER_FOOTER_AND_COLUMNS);\r\n    t.setColumnWidth(0, 8, 14);\r\n    t.setColumnWidth(1, 7, 16);\r\n    t.setColumnWidth(2, 9, 16);\r\n    \r\n    t.addCell(&quot;Region&quot;);\r\n    t.addCell(&quot;Orders&quot;, numberStyle);\r\n    t.addCell(&quot;Sales&quot;, numberStyle);\r\n\r\n    t.addCell(&quot;North&quot;);\r\n    t.addCell(&quot;6,345&quot;, numberStyle);\r\n    t.addCell(&quot;$87.230&quot;, numberStyle);\r\n\r\n    t.addCell(&quot;Center&quot;);\r\n    t.addCell(&quot;837&quot;, numberStyle);\r\n    t.addCell(&quot;$12.855&quot;, numberStyle);\r\n\r\n    t.addCell(&quot;South&quot;);\r\n    t.addCell(&quot;5,344&quot;, numberStyle);\r\n    t.addCell(&quot;$72.561&quot;, numberStyle);\r\n\r\n    t.addCell(&quot;Total&quot;, numberStyle, 2);\r\n    t.addCell(&quot;$172.646&quot;, numberStyle);\r\n\r\n    System.out.println(t.render());\r\n  }\r\n\r\n}\r\n```\r\nOutput:\r\n```\r\n==========================\r\nRegion    Orders     Sales\r\n-------- ------- ---------\r\nNorth      6,345   $87.230\r\nCenter       837   $12.855\r\nSouth      5,344   $72.561\r\n-------- ------- ---------\r\n           Total  $172.646\r\n==========================\r\n```\r\nAnother option (I personally like it more) is [ASCII Table][4]. Unlike the previous library, it has a good [user guide][5], [JavaDocs][6], and multiple versions in Maven Central (which implies it was maintained, at least for a while, the last one is of May 2017). Here&#39;s an example of what you can do with it (I&#39;ll omit the class and main method declarations)\r\n```java\r\n        AsciiTable table = new AsciiTable();\r\n        table.getContext().setGrid(A8_Grids.lineDobuleTripple());\r\n        table.addHeavyRule();\r\n        table.addRow(null, null, &quot;Countries&quot;);\r\n        table.addHeavyRule();\r\n        table.addRow(&quot;Country&quot;, &quot;Capital&quot;, &quot;Population&quot;);\r\n        table.addRule();\r\n        table.addRow(&quot;United States&quot;, &quot;Washington&quot;, &quot;333,287,557&quot;);\r\n        table.addRow(&quot;United Kingdom&quot;, &quot;London&quot;, &quot;68,138,484&quot;);\r\n        table.addRow(&quot;Australia&quot;, &quot;Canberra&quot;, &quot;26,540,400&quot;);\r\n        table.addHeavyRule();\r\n        System.out.println(table.render());\r\n```\r\nOutput:\r\n```\r\n≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\r\n Countries                                                                      \r\n≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\r\n Country                    Capital                   Population                \r\n────────────────────────────────────────────────────────────────────────────────\r\n United States              Washington                333,287,557               \r\n United Kingdom             London                    68,138,484                \r\n Australia                  Canberra                  26,540,400                \r\n≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.nocrala.tools.texttablefmt/text-table-formatter/1.2.4\r\n  [2]: https://sourceforge.net/p/texttablefmt/svn/HEAD/tree/src/examples/java/examples/\r\n  [3]: https://github.com/iNamik/Java-Text-Table-Formatter\r\n  [4]: https://mvnrepository.com/artifact/de.vandermeer/asciitable/0.3.2\r\n  [5]: http://www.vandermeer.de/projects/skb/java/asciitable\r\n  [6]: http://www.vandermeer.de/projects/skb/java/asciitable/apidocs/index.html","title":"Any Java libraries for drawing ASCII tables?","body":"<p>You can try <a href=\"https://mvnrepository.com/artifact/org.nocrala.tools.texttablefmt/text-table-formatter/1.2.4\" rel=\"nofollow noreferrer\">Text Table Formatter</a>. It's not a perfect library: it doesn't have JavaDocs, it doesn't have a user guide, the source code contains typos (e.g. see the <code>ShownBorders</code> class that contains a <code>HEADER_AND_FIRST_COLLUMN</code> constant). Even <a href=\"https://sourceforge.net/p/texttablefmt/svn/HEAD/tree/src/examples/java/examples/\" rel=\"nofollow noreferrer\">this project page</a> that contains examples of usages has at least one typo (<code>HorizontalAlign.right</code> instead of <code>HorizontalAlign.RIGHT</code>). However, it's in the Maven Central repository (unlike <a href=\"https://github.com/iNamik/Java-Text-Table-Formatter\" rel=\"nofollow noreferrer\">iNamik's Text Table Formatter</a>), pretty flexible, easy to use, and it works. Here's the fixed &quot;advanced&quot; example provided by the library's creators</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Advanced {\n\n  public static void main(final String[] args) {\n\n    CellStyle numberStyle = new CellStyle(HorizontalAlign.RIGHT);\n\n    Table t = new Table(3, BorderStyle.DESIGN_FORMAL,\n        ShownBorders.SURROUND_HEADER_FOOTER_AND_COLUMNS);\n    t.setColumnWidth(0, 8, 14);\n    t.setColumnWidth(1, 7, 16);\n    t.setColumnWidth(2, 9, 16);\n    \n    t.addCell(&quot;Region&quot;);\n    t.addCell(&quot;Orders&quot;, numberStyle);\n    t.addCell(&quot;Sales&quot;, numberStyle);\n\n    t.addCell(&quot;North&quot;);\n    t.addCell(&quot;6,345&quot;, numberStyle);\n    t.addCell(&quot;$87.230&quot;, numberStyle);\n\n    t.addCell(&quot;Center&quot;);\n    t.addCell(&quot;837&quot;, numberStyle);\n    t.addCell(&quot;$12.855&quot;, numberStyle);\n\n    t.addCell(&quot;South&quot;);\n    t.addCell(&quot;5,344&quot;, numberStyle);\n    t.addCell(&quot;$72.561&quot;, numberStyle);\n\n    t.addCell(&quot;Total&quot;, numberStyle, 2);\n    t.addCell(&quot;$172.646&quot;, numberStyle);\n\n    System.out.println(t.render());\n  }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>==========================\nRegion    Orders     Sales\n-------- ------- ---------\nNorth      6,345   $87.230\nCenter       837   $12.855\nSouth      5,344   $72.561\n-------- ------- ---------\n           Total  $172.646\n==========================\n</code></pre>\n<p>Another option (I personally like it more) is <a href=\"https://mvnrepository.com/artifact/de.vandermeer/asciitable/0.3.2\" rel=\"nofollow noreferrer\">ASCII Table</a>. Unlike the previous library, it has a good <a href=\"http://www.vandermeer.de/projects/skb/java/asciitable\" rel=\"nofollow noreferrer\">user guide</a>, <a href=\"http://www.vandermeer.de/projects/skb/java/asciitable/apidocs/index.html\" rel=\"nofollow noreferrer\">JavaDocs</a>, and multiple versions in Maven Central (which implies it was maintained, at least for a while, the last one is of May 2017). Here's an example of what you can do with it (I'll omit the class and main method declarations)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        AsciiTable table = new AsciiTable();\n        table.getContext().setGrid(A8_Grids.lineDobuleTripple());\n        table.addHeavyRule();\n        table.addRow(null, null, &quot;Countries&quot;);\n        table.addHeavyRule();\n        table.addRow(&quot;Country&quot;, &quot;Capital&quot;, &quot;Population&quot;);\n        table.addRule();\n        table.addRow(&quot;United States&quot;, &quot;Washington&quot;, &quot;333,287,557&quot;);\n        table.addRow(&quot;United Kingdom&quot;, &quot;London&quot;, &quot;68,138,484&quot;);\n        table.addRow(&quot;Australia&quot;, &quot;Canberra&quot;, &quot;26,540,400&quot;);\n        table.addHeavyRule();\n        System.out.println(table.render());\n</code></pre>\n<p>Output:</p>\n<pre><code>≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\n Countries                                                                      \n≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\n Country                    Capital                   Population                \n────────────────────────────────────────────────────────────────────────────────\n United States              Washington                333,287,557               \n United Kingdom             London                    68,138,484                \n Australia                  Canberra                  26,540,400                \n≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡\n</code></pre>\n"}],"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11792,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":5609723,"answer_count":6,"score":21,"last_activity_date":1687432460,"creation_date":1302391098,"question_id":5608588,"body_markdown":"I need to output data into a console as a table. I was wondering maybe there are some java libraries that would take care of drawing tables in ASCII art, aligning values inside cells, etc?\r\n\r\n\t ╔══════╤═══════════╤════════╗\r\n\t ║  ID  │ Name      │  Age   ║ \r\n\t ╠══════╪═══════════╪════════╣\r\n\t ║  1   │ John      │   24   ║ \r\n\t ╟──────┼───────────┼────────╢\r\n\t ║  2   │ Jeff      │   19   ║ \r\n\t ╟──────┼───────────┼────────╢\r\n\t ║  3   │ Joel      │   42   ║ \r\n\t ╚══════╧═══════════╧════════╝","title":"Any Java libraries for drawing ASCII tables?","body":"<p>I need to output data into a console as a table. I was wondering maybe there are some java libraries that would take care of drawing tables in ASCII art, aligning values inside cells, etc?</p>\n\n<pre><code> ╔══════╤═══════════╤════════╗\n ║  ID  │ Name      │  Age   ║ \n ╠══════╪═══════════╪════════╣\n ║  1   │ John      │   24   ║ \n ╟──────┼───────────┼────────╢\n ║  2   │ Jeff      │   19   ║ \n ╟──────┼───────────┼────────╢\n ║  3   │ Joel      │   42   ║ \n ╚══════╧═══════════╧════════╝\n</code></pre>\n"},{"tags":["java","android","mobile","azure-ad-msal"],"answers":[{"comments":[{"owner":{"account_id":28304012,"reputation":21,"user_id":21642280,"display_name":"Avataromvatar"},"score":0,"creation_date":1687780039,"post_id":76531181,"comment_id":134979773,"body_markdown":"thanks for the reply. Now the project has already been submitted with WEBVIEW and I will not return to it soon. I tried your option, but the difficulty there is that msauth is not configured for a redirect from the customer. Therefore, it is necessary to solve it comprehensively and configure the azura correctly, but the customer did not want to, and I did not have access to it","body":"thanks for the reply. Now the project has already been submitted with WEBVIEW and I will not return to it soon. I tried your option, but the difficulty there is that msauth is not configured for a redirect from the customer. Therefore, it is necessary to solve it comprehensively and configure the azura correctly, but the customer did not want to, and I did not have access to it"}],"tags":[],"owner":{"account_id":1482499,"reputation":3409,"user_id":1391521,"accept_rate":100,"display_name":"Bibaswann Bandyopadhyay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687431421,"creation_date":1687431421,"answer_id":76531181,"question_id":76014935,"body_markdown":"You need the following data inside your `intent-filter`\r\n\r\n    &lt;data android:scheme=&quot;msauth&quot;\r\n     android:host=&quot;Enter_the_Package_Name&quot;\r\n     android:path=&quot;/Enter_the_Signature_Hash&quot; /&gt;\r\n\r\nIf you use any other package name, Graph API will not accept","title":"More than one app is listening for the URL scheme defined for BrowserTabActivity in the AndroidManifest","body":"<p>You need the following data inside your <code>intent-filter</code></p>\n<pre><code>&lt;data android:scheme=&quot;msauth&quot;\n android:host=&quot;Enter_the_Package_Name&quot;\n android:path=&quot;/Enter_the_Signature_Hash&quot; /&gt;\n</code></pre>\n<p>If you use any other package name, Graph API will not accept</p>\n"}],"owner":{"account_id":28304012,"reputation":21,"user_id":21642280,"display_name":"Avataromvatar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687431421,"creation_date":1681474039,"question_id":76014935,"body_markdown":"Mobile App for Android. Java. Android Studio Electric Eel | 2022.1.1 Patch 1.\r\n\r\nWhen I try to create a new PublicClientApplication entity, this error appears\r\nMSALApplication created ERROR:\r\n*com.microsoft.identity.client.exception.MsalClientException: More than one app is listening for the URL scheme defined for BrowserTabActivity in the AndroidManifest. The package name of this other app is: com.android.chrome*\r\n\r\nThe customer company redirects to its website and this, as I understand it, is the main problem. But still maybe there is some solution? I want it to work from the system browser since I need SSO later\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;activity\r\n    android:exported=&quot;true&quot;\r\n    android:name=&quot;com.microsoft.identity.client.BrowserTabActivity&quot;&gt;\r\n    &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data\r\n            android:scheme=&quot;https&quot;\r\n            android:host=“mysite”/&gt;\r\n       \r\n\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nConfig for msal(PublicClientApplication)\r\n\r\n``` \r\n{\r\n  &quot;client_id&quot; : “app id”,\r\n  &quot;redirect_uri&quot; : &quot;https://mysite&quot;,\r\n  &quot;broker_redirect_uri_registered&quot;: true,\r\n  &quot;authorization_user_agent&quot;: “BROWSER”, \r\n  &quot;account_mode&quot; : &quot;SINGLE&quot;,\r\n  &quot;logging&quot;: {\r\n    &quot;pii_enabled&quot;: false,\r\n    &quot;log_level&quot;: &quot;VERBOSE&quot;,\r\n    &quot;logcat_enabled&quot;: true\r\n  },\r\n  &quot;authorities&quot; : [\r\n    {\r\n      &quot;type&quot;: &quot;AAD&quot;,\r\n      &quot;audience&quot;: {\r\n        &quot;type&quot;: &quot;AzureADMyOrg&quot;,\r\n        &quot;tenant_id&quot;: &quot;tenant_id&quot;\r\n      },\r\n      &quot;default&quot;: true\r\n    }\r\n  ],\r\n  &quot;browser_safelist&quot;: [\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.android.chrome&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;7fmduHKTdHHrlMvldlEqAIlSfii1tl35bxj1OXN5Ve8c4lU6URVu4xtSHc3BVZxS6WWJnxMDhIfQN0N0K2NDJg==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : true\r\n\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.android.chrome&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;7fmduHKTdHHrlMvldlEqAIlSfii1tl35bxj1OXN5Ve8c4lU6URVu4xtSHc3BVZxS6WWJnxMDhIfQN0N0K2NDJg==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;org.mozilla.firefox&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;2gCe6pR_AO_Q2Vu8Iep-4AsiKNnUHQxu0FaDHO_qa178GByKybdT_BuE8_dYk99G5Uvx_gdONXAOO2EaXidpVQ==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;org.mozilla.firefox&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;2gCe6pR_AO_Q2Vu8Iep-4AsiKNnUHQxu0FaDHO_qa178GByKybdT_BuE8_dYk99G5Uvx_gdONXAOO2EaXidpVQ==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : true,\r\n      &quot;browser_version_lower_bound&quot;: &quot;57&quot;\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.sec.android.app.sbrowser&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;ABi2fbt8vkzj7SJ8aD5jc4xJFTDFntdkMrYXL3itsvqY1QIw-dZozdop5rgKNxjbrQAd5nntAGpgh9w84O1Xgg==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : true,\r\n      &quot;browser_version_lower_bound&quot;: &quot;4.0&quot;\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.sec.android.app.sbrowser&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;ABi2fbt8vkzj7SJ8aD5jc4xJFTDFntdkMrYXL3itsvqY1QIw-dZozdop5rgKNxjbrQAd5nntAGpgh9w84O1Xgg==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.cloudmosa.puffinFree&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;1WqG8SoK2WvE4NTYgr2550TRhjhxT-7DWxu6C_o6GrOLK6xzG67Hq7GCGDjkAFRCOChlo2XUUglLRAYu3Mn8Ag==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.duckduckgo.mobile.android&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;S5Av4cfEycCvIvKPpKGjyCuAE5gZ8y60-knFfGkAEIZWPr9lU5kA7iOAlSZxaJei08s0ruDvuEzFYlmH-jAi4Q==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.explore.web.browser&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;BzDzBVSAwah8f_A0MYJCPOkt0eb7WcIEw6Udn7VLcizjoU3wxAzVisCm6bW7uTs4WpMfBEJYf0nDgzTYvYHCag==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.ksmobile.cb&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;lFDYx1Rwc7_XUn4KlfQk2klXLufRyuGHLa3a7rNjqQMkMaxZueQfxukVTvA7yKKp3Md3XUeeDSWGIZcRy7nouw==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.microsoft.emmx&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;Ivy-Rk6ztai_IudfbyUrSHugzRqAtHWslFvHT0PTvLMsEKLUIgv7ZZbVxygWy_M5mOPpfjZrd3vOx3t-cA6fVQ==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.opera.browser&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;FIJ3IIeqB7V0qHpRNEpYNkhEGA_eJaf7ntca-Oa_6Feev3UkgnpguTNV31JdAmpEFPGNPo0RHqdlU0k-3jWJWw==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;com.opera.mini.native&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;TOTyHs086iGIEdxrX_24aAewTZxV7Wbi6niS2ZrpPhLkjuZPAh1c3NQ_U4Lx1KdgyhQE4BiS36MIfP6LbmmUYQ==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;mobi.mgeek.TunnyBrowser&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;RMVoXuK1sfJZuGZ8onG1yhMc-sKiAV2NiB_GZfdNlN8XJ78XEE2wPM6LnQiyltF25GkHiPN2iKQiGwaO2bkyyQ==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    },\r\n\r\n    {\r\n      &quot;browser_package_name&quot;: &quot;org.mozilla.focus&quot;,\r\n      &quot;browser_signature_hashes&quot;: [\r\n        &quot;L72dT-stFqomSY7sYySrgBJ3VYKbipMZapmUXfTZNqOzN_dekT5wdBACJkpz0C6P0yx5EmZ5IciI93Q0hq0oYA==&quot;\r\n      ],\r\n      &quot;browser_use_customTab&quot; : false\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI try:\r\n&quot;broker_redirect_uri_registered&quot;: true-\\&gt;false, no effect\r\n\r\n&quot;authorization_user_agent&quot;: “BROWSER” -\\&gt; WEBVIEW, all work, but if I understand correctly, then there will be no SSO\r\n\r\nif change intent-filter to\r\n```\r\nandroid:scheme=&quot;msauth&quot;\r\nandroid:host=&quot;login.microsoftonline.com&quot;\r\nandroid:path=&quot;/tenant_id&quot;/\\&gt;\r\n```\r\nbut not change redirect in config the same error occurs\r\nif change config - Azure send error what this route unavailable for this customer","title":"More than one app is listening for the URL scheme defined for BrowserTabActivity in the AndroidManifest","body":"<p>Mobile App for Android. Java. Android Studio Electric Eel | 2022.1.1 Patch 1.</p>\n<p>When I try to create a new PublicClientApplication entity, this error appears\nMSALApplication created ERROR:\n<em>com.microsoft.identity.client.exception.MsalClientException: More than one app is listening for the URL scheme defined for BrowserTabActivity in the AndroidManifest. The package name of this other app is: com.android.chrome</em></p>\n<p>The customer company redirects to its website and this, as I understand it, is the main problem. But still maybe there is some solution? I want it to work from the system browser since I need SSO later</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;activity\n    android:exported=&quot;true&quot;\n    android:name=&quot;com.microsoft.identity.client.BrowserTabActivity&quot;&gt;\n    &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data\n            android:scheme=&quot;https&quot;\n            android:host=“mysite”/&gt;\n       \n\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>Config for msal(PublicClientApplication)</p>\n<pre><code>{\n  &quot;client_id&quot; : “app id”,\n  &quot;redirect_uri&quot; : &quot;https://mysite&quot;,\n  &quot;broker_redirect_uri_registered&quot;: true,\n  &quot;authorization_user_agent&quot;: “BROWSER”, \n  &quot;account_mode&quot; : &quot;SINGLE&quot;,\n  &quot;logging&quot;: {\n    &quot;pii_enabled&quot;: false,\n    &quot;log_level&quot;: &quot;VERBOSE&quot;,\n    &quot;logcat_enabled&quot;: true\n  },\n  &quot;authorities&quot; : [\n    {\n      &quot;type&quot;: &quot;AAD&quot;,\n      &quot;audience&quot;: {\n        &quot;type&quot;: &quot;AzureADMyOrg&quot;,\n        &quot;tenant_id&quot;: &quot;tenant_id&quot;\n      },\n      &quot;default&quot;: true\n    }\n  ],\n  &quot;browser_safelist&quot;: [\n    {\n      &quot;browser_package_name&quot;: &quot;com.android.chrome&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;7fmduHKTdHHrlMvldlEqAIlSfii1tl35bxj1OXN5Ve8c4lU6URVu4xtSHc3BVZxS6WWJnxMDhIfQN0N0K2NDJg==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : true\n\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.android.chrome&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;7fmduHKTdHHrlMvldlEqAIlSfii1tl35bxj1OXN5Ve8c4lU6URVu4xtSHc3BVZxS6WWJnxMDhIfQN0N0K2NDJg==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;org.mozilla.firefox&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;2gCe6pR_AO_Q2Vu8Iep-4AsiKNnUHQxu0FaDHO_qa178GByKybdT_BuE8_dYk99G5Uvx_gdONXAOO2EaXidpVQ==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;org.mozilla.firefox&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;2gCe6pR_AO_Q2Vu8Iep-4AsiKNnUHQxu0FaDHO_qa178GByKybdT_BuE8_dYk99G5Uvx_gdONXAOO2EaXidpVQ==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : true,\n      &quot;browser_version_lower_bound&quot;: &quot;57&quot;\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.sec.android.app.sbrowser&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;ABi2fbt8vkzj7SJ8aD5jc4xJFTDFntdkMrYXL3itsvqY1QIw-dZozdop5rgKNxjbrQAd5nntAGpgh9w84O1Xgg==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : true,\n      &quot;browser_version_lower_bound&quot;: &quot;4.0&quot;\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.sec.android.app.sbrowser&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;ABi2fbt8vkzj7SJ8aD5jc4xJFTDFntdkMrYXL3itsvqY1QIw-dZozdop5rgKNxjbrQAd5nntAGpgh9w84O1Xgg==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.cloudmosa.puffinFree&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;1WqG8SoK2WvE4NTYgr2550TRhjhxT-7DWxu6C_o6GrOLK6xzG67Hq7GCGDjkAFRCOChlo2XUUglLRAYu3Mn8Ag==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.duckduckgo.mobile.android&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;S5Av4cfEycCvIvKPpKGjyCuAE5gZ8y60-knFfGkAEIZWPr9lU5kA7iOAlSZxaJei08s0ruDvuEzFYlmH-jAi4Q==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n    {\n      &quot;browser_package_name&quot;: &quot;com.explore.web.browser&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;BzDzBVSAwah8f_A0MYJCPOkt0eb7WcIEw6Udn7VLcizjoU3wxAzVisCm6bW7uTs4WpMfBEJYf0nDgzTYvYHCag==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;com.ksmobile.cb&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;lFDYx1Rwc7_XUn4KlfQk2klXLufRyuGHLa3a7rNjqQMkMaxZueQfxukVTvA7yKKp3Md3XUeeDSWGIZcRy7nouw==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;com.microsoft.emmx&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;Ivy-Rk6ztai_IudfbyUrSHugzRqAtHWslFvHT0PTvLMsEKLUIgv7ZZbVxygWy_M5mOPpfjZrd3vOx3t-cA6fVQ==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;com.opera.browser&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;FIJ3IIeqB7V0qHpRNEpYNkhEGA_eJaf7ntca-Oa_6Feev3UkgnpguTNV31JdAmpEFPGNPo0RHqdlU0k-3jWJWw==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;com.opera.mini.native&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;TOTyHs086iGIEdxrX_24aAewTZxV7Wbi6niS2ZrpPhLkjuZPAh1c3NQ_U4Lx1KdgyhQE4BiS36MIfP6LbmmUYQ==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;mobi.mgeek.TunnyBrowser&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;RMVoXuK1sfJZuGZ8onG1yhMc-sKiAV2NiB_GZfdNlN8XJ78XEE2wPM6LnQiyltF25GkHiPN2iKQiGwaO2bkyyQ==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    },\n\n    {\n      &quot;browser_package_name&quot;: &quot;org.mozilla.focus&quot;,\n      &quot;browser_signature_hashes&quot;: [\n        &quot;L72dT-stFqomSY7sYySrgBJ3VYKbipMZapmUXfTZNqOzN_dekT5wdBACJkpz0C6P0yx5EmZ5IciI93Q0hq0oYA==&quot;\n      ],\n      &quot;browser_use_customTab&quot; : false\n    }\n  ]\n}\n</code></pre>\n<p>I try:\n&quot;broker_redirect_uri_registered&quot;: true-&gt;false, no effect</p>\n<p>&quot;authorization_user_agent&quot;: “BROWSER” -&gt; WEBVIEW, all work, but if I understand correctly, then there will be no SSO</p>\n<p>if change intent-filter to</p>\n<pre><code>android:scheme=&quot;msauth&quot;\nandroid:host=&quot;login.microsoftonline.com&quot;\nandroid:path=&quot;/tenant_id&quot;/\\&gt;\n</code></pre>\n<p>but not change redirect in config the same error occurs\nif change config - Azure send error what this route unavailable for this customer</p>\n"},{"tags":["java","selenium-webdriver","file-upload","automation","sikuli"],"owner":{"account_id":28872854,"reputation":1,"user_id":22114013,"display_name":"Sumit Golaniya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687431382,"creation_date":1687430948,"question_id":76531120,"body_markdown":"I am using `sikuli` for uploading a document in the selenium but whenever I run the TC, it always ask to select a region and then proceed after selecting the region.\r\nHow to avoid this manual intervention.\r\n````\r\nString homeImagePath = &quot;/src/test/resources/SampleFilesForUploading/&quot;;\r\nhomeImagePath = folderPath.replaceAll(&quot;\\\\\\\\|/&quot;, &quot;\\\\&quot; + System.getProperty(&quot;file.separator&quot;));\r\nhomeImagePath = System.getProperty(&quot;user.dir&quot;) + folderPath + &quot;sikuliximage-1687333079257.png&quot;;\r\n\r\nScreen screen = new Screen();\r\nPattern image = new Pattern(homeImagePath);\r\nMatch r = screen.exists(image, 1);\r\n\r\ntry {\r\n     // file = screen.capture(screen.getBounds());\r\n     //screen.mouseMove(image);\r\n     //screen.newRegion(530, 289, 205, 41);\r\n     //screen.newRegion(399, 439, 264, 55).click();\r\n     screen.click(r,0);\r\n\r\n     System.out.println(&quot;CLicked on Home button&quot;);\r\n     } \r\ncatch (FindFailed e) {\r\n     // TODO Auto-generated catch block\r\n     e.printStackTrace();\r\n     }\r\n````\r\nWatched a video on the YouTube and tried the same but facing the above mentioned issue","title":"How to avoid &quot;Select a region on the screen&quot; in Sikuli","body":"<p>I am using <code>sikuli</code> for uploading a document in the selenium but whenever I run the TC, it always ask to select a region and then proceed after selecting the region.\nHow to avoid this manual intervention.</p>\n<pre><code>String homeImagePath = &quot;/src/test/resources/SampleFilesForUploading/&quot;;\nhomeImagePath = folderPath.replaceAll(&quot;\\\\\\\\|/&quot;, &quot;\\\\&quot; + System.getProperty(&quot;file.separator&quot;));\nhomeImagePath = System.getProperty(&quot;user.dir&quot;) + folderPath + &quot;sikuliximage-1687333079257.png&quot;;\n\nScreen screen = new Screen();\nPattern image = new Pattern(homeImagePath);\nMatch r = screen.exists(image, 1);\n\ntry {\n     // file = screen.capture(screen.getBounds());\n     //screen.mouseMove(image);\n     //screen.newRegion(530, 289, 205, 41);\n     //screen.newRegion(399, 439, 264, 55).click();\n     screen.click(r,0);\n\n     System.out.println(&quot;CLicked on Home button&quot;);\n     } \ncatch (FindFailed e) {\n     // TODO Auto-generated catch block\n     e.printStackTrace();\n     }\n</code></pre>\n<p>Watched a video on the YouTube and tried the same but facing the above mentioned issue</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686891789,"post_id":76486842,"comment_id":134863291,"body_markdown":"Does the file exist, yet it throws the error?  I&#39;ve seen this happen when there is still a handle on the file.  Try re-starting the IDE, or restarting the JVM.","body":"Does the file exist, yet it throws the error?  I&#39;ve seen this happen when there is still a handle on the file.  Try re-starting the IDE, or restarting the JVM."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686898825,"post_id":76486842,"comment_id":134864243,"body_markdown":"Path looks wrong. Probably `FileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New \nfolder (4)\\\\message.txt&quot;);` btw try forward slashes, halving their number each time.","body":"Path looks wrong. Probably <code>FileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New  folder (4)\\\\message.txt&quot;);</code> btw try forward slashes, halving their number each time."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686899185,"post_id":76486842,"comment_id":134864304,"body_markdown":"You&#39;ll do yourself a favour by not creating paths with spaces in them.","body":"You&#39;ll do yourself a favour by not creating paths with spaces in them."},{"owner":{"account_id":27328284,"reputation":1,"user_id":20840906,"display_name":"Joshua Gayhart"},"score":0,"creation_date":1686924593,"post_id":76486842,"comment_id":134869613,"body_markdown":"the file does not exist","body":"the file does not exist"},{"owner":{"account_id":27328284,"reputation":1,"user_id":20840906,"display_name":"Joshua Gayhart"},"score":0,"creation_date":1686924685,"post_id":76486842,"comment_id":134869637,"body_markdown":"double slashes are javas thing not mine and forward slashes are the same pretty much.","body":"double slashes are javas thing not mine and forward slashes are the same pretty much."},{"owner":{"account_id":27328284,"reputation":1,"user_id":20840906,"display_name":"Joshua Gayhart"},"score":0,"creation_date":1686924729,"post_id":76486842,"comment_id":134869650,"body_markdown":"Ill try renaming folder but i pretty much copied it from the file path I use to open that folder","body":"Ill try renaming folder but i pretty much copied it from the file path I use to open that folder"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686927026,"post_id":76491245,"comment_id":134870190,"body_markdown":"(As I said) ^^^. That code wouldn&#39;t compile though so this is not an answer","body":"(As I said) ^^^. That code wouldn&#39;t compile though so this is not an answer"}],"tags":[],"owner":{"account_id":27328284,"reputation":1,"user_id":20840906,"display_name":"Joshua Gayhart"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687040838,"creation_date":1686926451,"answer_id":76491245,"question_id":76486842,"body_markdown":"    FileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New  folder (4)\\\\message.txt&quot;);\r\nForgot the last whack whack... how sad","title":"java program that writes file to computer on network throws access denied error","body":"<pre><code>FileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New  folder (4)\\\\message.txt&quot;);\n</code></pre>\n<p>Forgot the last whack whack... how sad</p>\n"}],"owner":{"account_id":27328284,"reputation":1,"user_id":20840906,"display_name":"Joshua Gayhart"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687431347,"creation_date":1686887029,"question_id":76486842,"body_markdown":"Im trying to write a small program that writes to another pc on my network. I send files to this folder regularly but java throws an access denied error to write this txt file. What am I missing?\r\n\r\n    import java.util.Scanner;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n\r\n    public class Answer {\r\n\t    static Scanner input = new Scanner(System.in);\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\t    System.out.println(&quot;What ip?&quot;);\r\n\t\t    String ip = input.nextLine();\r\n\t\t    System.out.println(&quot;message?&quot;);\r\n\t\t    String message = input.nextLine();\r\n\t\t\r\n\t\t    System.out.println(&quot;ip is &quot; + ip + &quot;?&quot;);\r\n\t\t    System.out.println(&quot;message is &quot; + message + &quot;?&quot;);\r\n\t\t\r\n     \t\ttry {\r\n\t    \t\tFileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New \r\n    folder (4)message.txt&quot;);\r\n\t    \t\t\t\twriter.write(ip + message );\r\n\t\t    \t\t\twriter.close();\r\n\t\t\t\t\t\r\n\t\t    }catch (IOException e){\r\n\t\t\t    e.printStackTrace();\r\n\t\t    } \r\n\t    }\r\n    }\r\n\r\n\r\nOUTPUT\r\n``` none\r\nWhat ip?\r\n192.168.1.1\r\nmessage?\r\nbanana\r\nip is 192.168.1.1?\r\nmessage is banana?\r\n    java.io.FileNotFoundException: \\\\JOSHY-PC\\Users\\joshy\\Desktop\\New folder (4)message.txt \r\n    (Access is denied)\r\n\t    at java.base/java.io.FileOutputStream.open0(Native Method)\r\n\t    at java.base/java.io.FileOutputStream.open(FileOutputStream.java:293)\r\n\t    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\r\n\t    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:123)\r\n\t    at java.base/java.io.FileWriter.&lt;init&gt;(FileWriter.java:67)\r\n\t    at answerThePhone/answerThePhone.Answer.main(Answer.java:21)\r\n```\r\n","title":"java program that writes file to computer on network throws access denied error","body":"<p>Im trying to write a small program that writes to another pc on my network. I send files to this folder regularly but java throws an access denied error to write this txt file. What am I missing?</p>\n<pre><code>import java.util.Scanner;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class Answer {\n    static Scanner input = new Scanner(System.in);\n\n    public static void main(String[] args) {\n    \n        System.out.println(&quot;What ip?&quot;);\n        String ip = input.nextLine();\n        System.out.println(&quot;message?&quot;);\n        String message = input.nextLine();\n    \n        System.out.println(&quot;ip is &quot; + ip + &quot;?&quot;);\n        System.out.println(&quot;message is &quot; + message + &quot;?&quot;);\n    \n        try {\n            FileWriter writer = new FileWriter(&quot;\\\\\\\\JOSHY-PC\\\\Users\\\\joshy\\\\Desktop\\\\New \nfolder (4)message.txt&quot;);\n                    writer.write(ip + message );\n                    writer.close();\n                \n        }catch (IOException e){\n            e.printStackTrace();\n        } \n    }\n}\n</code></pre>\n<p>OUTPUT</p>\n<pre class=\"lang-none prettyprint-override\"><code>What ip?\n192.168.1.1\nmessage?\nbanana\nip is 192.168.1.1?\nmessage is banana?\n    java.io.FileNotFoundException: \\\\JOSHY-PC\\Users\\joshy\\Desktop\\New folder (4)message.txt \n    (Access is denied)\n        at java.base/java.io.FileOutputStream.open0(Native Method)\n        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:293)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:123)\n        at java.base/java.io.FileWriter.&lt;init&gt;(FileWriter.java:67)\n        at answerThePhone/answerThePhone.Answer.main(Answer.java:21)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687384011,"post_id":76527239,"comment_id":134931020,"body_markdown":"By &quot;build&quot; do you mean &quot;compile&quot;?","body":"By &quot;build&quot; do you mean &quot;compile&quot;?"},{"owner":{"account_id":264941,"reputation":2896,"user_id":551588,"accept_rate":72,"display_name":"guest86"},"score":0,"creation_date":1687384328,"post_id":76527239,"comment_id":134931081,"body_markdown":"Well, in IntellJ Idea there&#39;s a menu called &quot;Build&quot; and from there I choose &quot;build project&quot; or &quot;Build module&quot;","body":"Well, in IntellJ Idea there&#39;s a menu called &quot;Build&quot; and from there I choose &quot;build project&quot; or &quot;Build module&quot;"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687384812,"post_id":76527239,"comment_id":134931173,"body_markdown":"Don&#39;t do that. IntelliJ automatically compiles your edit. See [JetBrains &quot;Edit running code with Hot Reload&quot; article](https://www.jetbrains.com/help/rider/Hot_Reload.html#Make_changes_when_running), although it does say auto reload only works on Windows. As an aside, I&#39;ve been coding Java for a very long time and I&#39;ve never been tempted to do this, nor have I known anyone else to. Another point is the build should be super fast because apps shouldn&#39;t be monolithic. It sounds like it&#39;s time to split your app up into smaller [microservices](https://en.wikipedia.org/wiki/Microservices).","body":"Don&#39;t do that. IntelliJ automatically compiles your edit. See <a href=\"https://www.jetbrains.com/help/rider/Hot_Reload.html#Make_changes_when_running\" rel=\"nofollow noreferrer\">JetBrains &quot;Edit running code with Hot Reload&quot; article</a>, although it does say auto reload only works on Windows. As an aside, I&#39;ve been coding Java for a very long time and I&#39;ve never been tempted to do this, nor have I known anyone else to. Another point is the build should be super fast because apps shouldn&#39;t be monolithic. It sounds like it&#39;s time to split your app up into smaller <a href=\"https://en.wikipedia.org/wiki/Microservices\" rel=\"nofollow noreferrer\">microservices</a>."},{"owner":{"account_id":264941,"reputation":2896,"user_id":551588,"accept_rate":72,"display_name":"guest86"},"score":0,"creation_date":1687387041,"post_id":76527239,"comment_id":134931421,"body_markdown":"Ah, I&#39;m on Linux.... And i&#39;m still just a cog in the company, it&#39;s not my project hence I was searching for alternative solution....","body":"Ah, I&#39;m on Linux.... And i&#39;m still just a cog in the company, it&#39;s not my project hence I was searching for alternative solution...."}],"answers":[{"tags":[],"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687427165,"creation_date":1687427165,"answer_id":76530596,"question_id":76527239,"body_markdown":"HotSwap is [possible][1] but there are some [limitations][2].\r\n\r\nAlternatively, you can use the Dynamic Code Evolution VM(DCEVM)  with unlimited support for reloading classes at runtime. There are plugins available that implement it.\r\n\r\n[JRebel][3] (paid)\r\n\r\n[Hotswap Agent][4] (free)\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html\r\n  [2]: https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#limitations\r\n  [3]: https://plugins.jetbrains.com/plugin/4441-jrebel-and-xrebel\r\n  [4]: https://plugins.jetbrains.com/plugin/9552-hotswapagent","title":"&quot;Live&quot; debugging in Intellij Idea","body":"<p>HotSwap is <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html\" rel=\"nofollow noreferrer\">possible</a> but there are some <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#limitations\" rel=\"nofollow noreferrer\">limitations</a>.</p>\n<p>Alternatively, you can use the Dynamic Code Evolution VM(DCEVM)  with unlimited support for reloading classes at runtime. There are plugins available that implement it.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/4441-jrebel-and-xrebel\" rel=\"nofollow noreferrer\">JRebel</a> (paid)</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/9552-hotswapagent\" rel=\"nofollow noreferrer\">Hotswap Agent</a> (free)</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687431290,"creation_date":1687430627,"answer_id":76531078,"question_id":76527239,"body_markdown":"While your application is being debugged, IntelliJ will ask to hot reload the loaded classes if they are recompiled. This works on GNU+Linux as well; I have never had a problem with this.\r\n\r\nIf the code was already executed (e.g. your breakpoint is in the middle of a method), you can right-click the top frame in the &quot;Frames&quot; view and select &quot;Drop frame&quot;. This will unwind the stack and you can enter the function again. See https://www.jetbrains.com/help/idea/debug-tool-window.html or https://stackoverflow.com/q/2367816/112968\r\n\r\nNote that any side-effects (print statements, modifying external collections, etc.) caused by the first method execution will _not_ be rolled back.","title":"&quot;Live&quot; debugging in Intellij Idea","body":"<p>While your application is being debugged, IntelliJ will ask to hot reload the loaded classes if they are recompiled. This works on GNU+Linux as well; I have never had a problem with this.</p>\n<p>If the code was already executed (e.g. your breakpoint is in the middle of a method), you can right-click the top frame in the &quot;Frames&quot; view and select &quot;Drop frame&quot;. This will unwind the stack and you can enter the function again. See <a href=\"https://www.jetbrains.com/help/idea/debug-tool-window.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/debug-tool-window.html</a> or <a href=\"https://stackoverflow.com/q/2367816/112968\">When using the Java debugger in IntelliJ, what does &quot;Drop Frame&quot; mean?</a></p>\n<p>Note that any side-effects (print statements, modifying external collections, etc.) caused by the first method execution will <em>not</em> be rolled back.</p>\n"}],"owner":{"account_id":264941,"reputation":2896,"user_id":551588,"accept_rate":72,"display_name":"guest86"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687431290,"creation_date":1687382637,"question_id":76527239,"body_markdown":"After working with Java in Eclipse for 8 years I switched to IntelliJ Idea. Imagine the &quot;cultural shock&quot; I had hehehe\r\nAnyway, there&#39;s one thing I really miss and not sure if IntelliJ supports it: easily editing Java code during a breakpoint.\r\n\r\nIn short, in Eclipse if i edit a line of code below the breakpoint and save the change, it will be automatically applied during program execution.\r\nIf I edit the line of code above the breakpoint (already executed), Eclipse debugger with move the &quot;running cursor&quot; to the beginning of the function whose code I changed and continue running from there including the changes I just added.\r\n\r\nI know that in IntelliJ there&#39;s an option to build the module and approve &quot;hot swap&quot; of the code but the project I&#39;m working on is humongous, build takes about 2 minutes and sometimes while investigating I need to make several changes and adjustments while debugging.\r\n\r\nIs there an option or plugin for IntelliJ to automatically apply changes below the breakpoint or re-execute the function in case I made changes before the breakpoint?","title":"&quot;Live&quot; debugging in Intellij Idea","body":"<p>After working with Java in Eclipse for 8 years I switched to IntelliJ Idea. Imagine the &quot;cultural shock&quot; I had hehehe\nAnyway, there's one thing I really miss and not sure if IntelliJ supports it: easily editing Java code during a breakpoint.</p>\n<p>In short, in Eclipse if i edit a line of code below the breakpoint and save the change, it will be automatically applied during program execution.\nIf I edit the line of code above the breakpoint (already executed), Eclipse debugger with move the &quot;running cursor&quot; to the beginning of the function whose code I changed and continue running from there including the changes I just added.</p>\n<p>I know that in IntelliJ there's an option to build the module and approve &quot;hot swap&quot; of the code but the project I'm working on is humongous, build takes about 2 minutes and sometimes while investigating I need to make several changes and adjustments while debugging.</p>\n<p>Is there an option or plugin for IntelliJ to automatically apply changes below the breakpoint or re-execute the function in case I made changes before the breakpoint?</p>\n"},{"tags":["java","android","byte"],"owner":{"account_id":25542375,"reputation":292,"user_id":19328232,"display_name":"GreenMarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687431079,"creation_date":1683036769,"question_id":76155779,"body_markdown":"I develop an app on Android in Java that displays data from a [BMS][1] (battery management system).\r\n\r\nI have to incorporate a client&#39;s logic in [C++][2] into the app. C++ has JNI &quot;hooks&quot; prepared and Java calls byte[] from client&#39;s code which in turn works as a receiver for the BMS device. (It&#39;s a requirement.)\r\n\r\nI read the communication protocol, but I&#39;m still unsure how the data are logically sorted in byte[]. (Assuming the client&#39;s code doesn&#39;t modify data and keep the BMS generated byte[].)\r\n\r\nWhat I don&#39;t understand is **whether data are send from the BMS as the following**\r\n\r\na) one batch of data includes multiple data identifiers and their data. To read it, I will iterate for a byte with an id and a byte with data next to the id.\r\n\r\n`batch of data= (start frame|...| 70x (Data identification code | n. bytes of data)| ...|end of identity| checksum)`\r\n\r\nor\r\n\r\nb) byteArray consists of fully complete individual data units.  To read it, I have to identify units and then extract their single data.\r\nEach unit starts and ends with all the &quot;bloat&quot; steps.\r\n`unit = (start frame| ...|single Data identifier code | single data| ...|end of identity| checksum )`\r\n\r\n`| unit_1  | unit_2 | unit_3 |... // 70x units in row`\r\n\r\nAlso, in either case, is there a specific order of identifiers to follow? I&#39;m afraid when I iterate byte[] some data will == identifier, e.g., 0x79 which will lead to reading the wrong data, but if I know the order, I basically know their position.\r\n\r\n**I tried:**\r\n\r\n- read the communication protocol\r\n- search stackoverflow.com\r\n- search the Internet\r\n- task it to the [Auto-GPT][3] agent\r\n- [ChatGPT][4]\r\n- [ChatPDF][5] to interpret the protocol\r\n\r\nNone of the sources gave me an answer and the AI also verified that based on the communication protocol, it&#39;s not possible to know.\r\n\r\nMy last hope is anyone who has experience with BMSs communication to explain this to me.\r\n\r\nBellow is my reader method that gets a value from C++ if needed and the relevant communication protocol parts.\r\n\r\nThis is my reader class *bmsReader.java* (I don&#39;t think it matters though):\r\n\r\n```\r\n...\r\npublic static native byte[] bmsBinnaryValue(int parBMSINDEX, int parJKINDEX);\r\n...\r\n\r\n```\r\n\r\n\r\n## An example of communication:\r\n\r\n|The serial numb er|The frame unit|The length of the byte||\r\n| :- | :- | - | :- |\r\n|1|STX|2|Start frame: 0x4E(78&quot;N&quot;) 0x57(87&quot;W&quot;)|\r\n|...|...|..|...|\r\n|7|Data identification code|1|Read individual data references (Table 5.1);Read all data and fill in 0x00|\r\n|...|...|...|...|\r\n|9|End of identity|1|0x68|\r\n|10|The checksum|4||\r\n\r\n\r\n### BMSreply\r\n\r\n|The serial numb er|The frame unit|The length of the||\r\n| :- | :- | :- | :- |\r\n|1|STX|2|Start frame: 0x4E(78&quot;N&quot;) 0x57(87&quot;W&quot;)|\r\n|...|...|...|...|\r\n|7|Identifier on code |1|Write a single data reference (Table 5.1)|\r\n|...|...|...|...|\r\n|9| End of identity|1|0X68|\r\n|10|The checksum|4||\r\n\r\n### 5.1 The BMS sets the data identification code\r\n\r\n|Use instruction|Data identification code|The name of the|byte|type||\r\n| :- | - | - | - | - | :- |\r\n|R|0x79|Single battery voltage|3 \\*n|HEX|The first byte is the battery number, and the second is the voltage value mV. When reading all the data, 0 x 79 is followed by a byte length data, and then every three bytes in a group represents the electricity Pool voltage.|\r\n|R|0X83|Total battery voltage|2|HEX|0\\. 01 V 3500 \\* 0 . 01 = 35 . 0 0 v The minimum unit is 10 mV|\r\n\r\n(The table includes approximately 70 identifiers, [here someone uses the same identifiers][6] if you need more ids, but their project is not directly related.)\r\n\r\nThe final goal is to show data in the Android app via a layout UI to the user, e.g., *battery voltage: 20V.0*, but I need to understand the logic behind reading the data to accomplish that.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Battery_management_system\r\n  [2]: https://en.wikipedia.org/wiki/C%2B%2B\r\n  [3]: https://en.wikipedia.org/wiki/Auto-GPT\r\n  [4]: https://en.wikipedia.org/wiki/ChatGPT\r\n  [5]: https://easywithai.com/ai-writers/chatpdf/\r\n  [6]: https://github.com/jblance/mpp-solar/issues/256#issue-1360057027\r\n","title":"In what logic are data being sent from a BMS device to an app?","body":"<p>I develop an app on Android in Java that displays data from a <a href=\"https://en.wikipedia.org/wiki/Battery_management_system\" rel=\"nofollow noreferrer\">BMS</a> (battery management system).</p>\n<p>I have to incorporate a client's logic in <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a> into the app. C++ has JNI &quot;hooks&quot; prepared and Java calls byte[] from client's code which in turn works as a receiver for the BMS device. (It's a requirement.)</p>\n<p>I read the communication protocol, but I'm still unsure how the data are logically sorted in byte[]. (Assuming the client's code doesn't modify data and keep the BMS generated byte[].)</p>\n<p>What I don't understand is <strong>whether data are send from the BMS as the following</strong></p>\n<p>a) one batch of data includes multiple data identifiers and their data. To read it, I will iterate for a byte with an id and a byte with data next to the id.</p>\n<p><code>batch of data= (start frame|...| 70x (Data identification code | n. bytes of data)| ...|end of identity| checksum)</code></p>\n<p>or</p>\n<p>b) byteArray consists of fully complete individual data units.  To read it, I have to identify units and then extract their single data.\nEach unit starts and ends with all the &quot;bloat&quot; steps.\n<code>unit = (start frame| ...|single Data identifier code | single data| ...|end of identity| checksum )</code></p>\n<p><code>| unit_1  | unit_2 | unit_3 |... // 70x units in row</code></p>\n<p>Also, in either case, is there a specific order of identifiers to follow? I'm afraid when I iterate byte[] some data will == identifier, e.g., 0x79 which will lead to reading the wrong data, but if I know the order, I basically know their position.</p>\n<p><strong>I tried:</strong></p>\n<ul>\n<li>read the communication protocol</li>\n<li>search stackoverflow.com</li>\n<li>search the Internet</li>\n<li>task it to the <a href=\"https://en.wikipedia.org/wiki/Auto-GPT\" rel=\"nofollow noreferrer\">Auto-GPT</a> agent</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ChatGPT\" rel=\"nofollow noreferrer\">ChatGPT</a></li>\n<li><a href=\"https://easywithai.com/ai-writers/chatpdf/\" rel=\"nofollow noreferrer\">ChatPDF</a> to interpret the protocol</li>\n</ul>\n<p>None of the sources gave me an answer and the AI also verified that based on the communication protocol, it's not possible to know.</p>\n<p>My last hope is anyone who has experience with BMSs communication to explain this to me.</p>\n<p>Bellow is my reader method that gets a value from C++ if needed and the relevant communication protocol parts.</p>\n<p>This is my reader class <em>bmsReader.java</em> (I don't think it matters though):</p>\n<pre><code>...\npublic static native byte[] bmsBinnaryValue(int parBMSINDEX, int parJKINDEX);\n...\n\n</code></pre>\n<h2>An example of communication:</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">The serial numb er</th>\n<th style=\"text-align: left;\">The frame unit</th>\n<th>The length of the byte</th>\n<th style=\"text-align: left;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">STX</td>\n<td>2</td>\n<td style=\"text-align: left;\">Start frame: 0x4E(78&quot;N&quot;) 0x57(87&quot;W&quot;)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td>..</td>\n<td style=\"text-align: left;\">...</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">Data identification code</td>\n<td>1</td>\n<td style=\"text-align: left;\">Read individual data references (Table 5.1);Read all data and fill in 0x00</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td>...</td>\n<td style=\"text-align: left;\">...</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">End of identity</td>\n<td>1</td>\n<td style=\"text-align: left;\">0x68</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">The checksum</td>\n<td>4</td>\n<td style=\"text-align: left;\"></td>\n</tr>\n</tbody>\n</table>\n</div><h3>BMSreply</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">The serial numb er</th>\n<th style=\"text-align: left;\">The frame unit</th>\n<th style=\"text-align: left;\">The length of the</th>\n<th style=\"text-align: left;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">STX</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">Start frame: 0x4E(78&quot;N&quot;) 0x57(87&quot;W&quot;)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">Identifier on code</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">Write a single data reference (Table 5.1)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n<td style=\"text-align: left;\">...</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">End of identity</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">0X68</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">The checksum</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\"></td>\n</tr>\n</tbody>\n</table>\n</div><h3>5.1 The BMS sets the data identification code</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Use instruction</th>\n<th>Data identification code</th>\n<th>The name of the</th>\n<th>byte</th>\n<th>type</th>\n<th style=\"text-align: left;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">R</td>\n<td>0x79</td>\n<td>Single battery voltage</td>\n<td>3 *n</td>\n<td>HEX</td>\n<td style=\"text-align: left;\">The first byte is the battery number, and the second is the voltage value mV. When reading all the data, 0 x 79 is followed by a byte length data, and then every three bytes in a group represents the electricity Pool voltage.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">R</td>\n<td>0X83</td>\n<td>Total battery voltage</td>\n<td>2</td>\n<td>HEX</td>\n<td style=\"text-align: left;\">0. 01 V 3500 * 0 . 01 = 35 . 0 0 v The minimum unit is 10 mV</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>(The table includes approximately 70 identifiers, <a href=\"https://github.com/jblance/mpp-solar/issues/256#issue-1360057027\" rel=\"nofollow noreferrer\">here someone uses the same identifiers</a> if you need more ids, but their project is not directly related.)</p>\n<p>The final goal is to show data in the Android app via a layout UI to the user, e.g., <em>battery voltage: 20V.0</em>, but I need to understand the logic behind reading the data to accomplish that.</p>\n"},{"tags":["java","macos","desktop-application","desktop","jxbrowser"],"comments":[{"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"score":0,"creation_date":1687508838,"post_id":76531072,"comment_id":134949753,"body_markdown":"The code itself is totally fine. The problem lies in the area of macOS permissions. JxBrowser launches Chromium in a separate process, so you may need to grant Chromium necessary permissions.","body":"The code itself is totally fine. The problem lies in the area of macOS permissions. JxBrowser launches Chromium in a separate process, so you may need to grant Chromium necessary permissions."}],"owner":{"account_id":28872779,"reputation":1,"user_id":22113955,"display_name":"Suvrat Agnihotri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687430592,"creation_date":1687430592,"question_id":76531072,"body_markdown":"I am using jxbrowser to integrate google maps in my java swing application on macos . But due to permission restriction I am not able to get the geolocation requested by the google maps . Below is my code .\r\n\r\n```\r\nEngine browserEngine = Engine.newInstance(EngineOptions.newBuilder(RenderingMode.HARDWARE_ACCELERATED)\r\n        .enableProprietaryFeature(ProprietaryFeature.WIDEVINE)\r\n        .enableProprietaryFeature(ProprietaryFeature.AAC)\r\n        .enableProprietaryFeature(ProprietaryFeature.H_264)\r\n        .googleApiKey(&quot;api-key&quot;)\r\n        .googleDefaultClientId(&quot;client-id&quot;)\r\n        .googleDefaultClientSecret(&quot;client-secret-id&quot;)\r\n        .licenseKey(&quot;jxbrowser license key&quot;)\r\n        .remoteDebuggingPort(9222)\r\n        .build());\r\n\r\n        browserEngine.permissions().set(RequestPermissionCallback.class, (params, tell) -&gt; {\r\n            PermissionType type = params.permissionType();\r\n            System.out.println(&quot;Permission type is :&quot;+type);\r\n            if (type == PermissionType.VIDEO_CAPTURE || type == PermissionType.AUDIO_CAPTURE) {\r\n                tell.grant();\r\n            } else {\r\n                System.out.println(&quot;Permission type is :&quot;+type);\r\n                tell.grant();\r\n                System.out.println(&quot;Permission granted&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        Browser browser = browserEngine.newBrowser();\r\n        browser.navigation().loadUrl(&quot;https://www.google.com/maps&quot;);\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setExtendedState(JFrame.MAXIMI\r\n\r\nZED_BOTH);\r\n        frame.add(BrowserView.newInstance(browser));\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n```\r\n\r\nI need to solve this issue as soon as possible, I am stuck in this issue.\r\n\r\n\r\nI just need to access the location , but i am not able to get the geolocation on macos . Same code is working well on windows .","title":"Unable to get the geolocation on macos using jxbrowser in java swing application","body":"<p>I am using jxbrowser to integrate google maps in my java swing application on macos . But due to permission restriction I am not able to get the geolocation requested by the google maps . Below is my code .</p>\n<pre><code>Engine browserEngine = Engine.newInstance(EngineOptions.newBuilder(RenderingMode.HARDWARE_ACCELERATED)\n        .enableProprietaryFeature(ProprietaryFeature.WIDEVINE)\n        .enableProprietaryFeature(ProprietaryFeature.AAC)\n        .enableProprietaryFeature(ProprietaryFeature.H_264)\n        .googleApiKey(&quot;api-key&quot;)\n        .googleDefaultClientId(&quot;client-id&quot;)\n        .googleDefaultClientSecret(&quot;client-secret-id&quot;)\n        .licenseKey(&quot;jxbrowser license key&quot;)\n        .remoteDebuggingPort(9222)\n        .build());\n\n        browserEngine.permissions().set(RequestPermissionCallback.class, (params, tell) -&gt; {\n            PermissionType type = params.permissionType();\n            System.out.println(&quot;Permission type is :&quot;+type);\n            if (type == PermissionType.VIDEO_CAPTURE || type == PermissionType.AUDIO_CAPTURE) {\n                tell.grant();\n            } else {\n                System.out.println(&quot;Permission type is :&quot;+type);\n                tell.grant();\n                System.out.println(&quot;Permission granted&quot;);\n\n            }\n        });\n\n        Browser browser = browserEngine.newBrowser();\n        browser.navigation().loadUrl(&quot;https://www.google.com/maps&quot;);\n\n        JFrame frame = new JFrame();\n        frame.setExtendedState(JFrame.MAXIMI\n\nZED_BOTH);\n        frame.add(BrowserView.newInstance(browser));\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n</code></pre>\n<p>I need to solve this issue as soon as possible, I am stuck in this issue.</p>\n<p>I just need to access the location , but i am not able to get the geolocation on macos . Same code is working well on windows .</p>\n"},{"tags":["java","spring","springdoc","customizer"],"owner":{"account_id":24746710,"reputation":29,"user_id":18632791,"display_name":"Jan Přibyl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687430526,"creation_date":1687430526,"question_id":76531066,"body_markdown":"In our spring project we have over hundred of schemas I have a task to set all types in schemas annotated with @Nonnull to required so they appear is required (with a *) in Swagger. I&#39;ve overridden the method customize from springdoc&#39;s PropertyCustomizer the following way:\r\n\r\n    @Override\r\n    public Schema customize(Schema property, AnnotatedType type) {\r\n\r\n        Annotation[] ctxAnnotations = type.getCtxAnnotations();\r\n        if (ctxAnnotations == null) {\r\n            return property;\r\n        }\r\n\r\n        boolean isNonnull = Arrays.stream(ctxAnnotations)\r\n                .anyMatch(annotation -&gt; annotation.annotationType().equals(Nonnull.class));\r\n\r\n        if (isNonnull) {\r\n            if (type.getParent().getRequired() == null) {\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(type.getPropertyName());\r\n                type.getParent().setRequired(list);\r\n            } else {\r\n                type.getParent().getRequired().add(type.getPropertyName());\r\n            }\r\n        }\r\n        return property;\r\n    }\r\n\r\nIt works succesfully for most of the types but for some of them the method customize seems not be inwoked at all. Giving an example we have a class TripListingOgItem:\r\n\r\n    @Value\r\n    @Builder\r\n    public class TripListingOgItem {\r\n\r\n    @Nonnull String name;\r\n\r\n    @Nullable String image;\r\n\r\n    @Nonnull String url;\r\n\r\n    }\r\n\r\nSo according to it both name and url should appear as required in swagger but only name does. I even tried to print all the types with their parents and bool if isNonnull for which the method is inwoked and url was nowhere to be found:\r\n\r\n            System.out.println(\r\n                    &quot;\\nParent: &quot; + type.getParent().getName() +\r\n                    &quot;\\nType: &quot; + type.getPropertyName() +\r\n                    &quot;\\nIsNonnull: &quot; + isNonnull\r\n    );\r\n\r\nI have no idea why the method does not get inwoked for some types. The class with this method is being registered with a simple bean in a configuration class:\r\n\r\n    @Bean\r\n    public PropertyCustomizer propertyCustomizer() {\r\n        return new PropertyCustomizer();\r\n    }\r\n\r\nI am using the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.12&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI know I can simply annotate all the types with schema(required=true) but since it would be a long process and require constant maintenance we consider that a last resort solution. Thanks anyone in advance and have a nice day!","title":"Springdoc PropertyCustomizer is not inwoked for all Types","body":"<p>In our spring project we have over hundred of schemas I have a task to set all types in schemas annotated with @Nonnull to required so they appear is required (with a *) in Swagger. I've overridden the method customize from springdoc's PropertyCustomizer the following way:</p>\n<pre><code>@Override\npublic Schema customize(Schema property, AnnotatedType type) {\n\n    Annotation[] ctxAnnotations = type.getCtxAnnotations();\n    if (ctxAnnotations == null) {\n        return property;\n    }\n\n    boolean isNonnull = Arrays.stream(ctxAnnotations)\n            .anyMatch(annotation -&gt; annotation.annotationType().equals(Nonnull.class));\n\n    if (isNonnull) {\n        if (type.getParent().getRequired() == null) {\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            list.add(type.getPropertyName());\n            type.getParent().setRequired(list);\n        } else {\n            type.getParent().getRequired().add(type.getPropertyName());\n        }\n    }\n    return property;\n}\n</code></pre>\n<p>It works succesfully for most of the types but for some of them the method customize seems not be inwoked at all. Giving an example we have a class TripListingOgItem:</p>\n<pre><code>@Value\n@Builder\npublic class TripListingOgItem {\n\n@Nonnull String name;\n\n@Nullable String image;\n\n@Nonnull String url;\n\n}\n</code></pre>\n<p>So according to it both name and url should appear as required in swagger but only name does. I even tried to print all the types with their parents and bool if isNonnull for which the method is inwoked and url was nowhere to be found:</p>\n<pre><code>        System.out.println(\n                &quot;\\nParent: &quot; + type.getParent().getName() +\n                &quot;\\nType: &quot; + type.getPropertyName() +\n                &quot;\\nIsNonnull: &quot; + isNonnull\n);\n</code></pre>\n<p>I have no idea why the method does not get inwoked for some types. The class with this method is being registered with a simple bean in a configuration class:</p>\n<pre><code>@Bean\npublic PropertyCustomizer propertyCustomizer() {\n    return new PropertyCustomizer();\n}\n</code></pre>\n<p>I am using the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.2.12&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I know I can simply annotate all the types with schema(required=true) but since it would be a long process and require constant maintenance we consider that a last resort solution. Thanks anyone in advance and have a nice day!</p>\n"},{"tags":["java","generics","interface"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687436385,"post_id":76530762,"comment_id":134938484,"body_markdown":"you could change `void feed(T pet, int amount);`  to `void feed(Pet pet, int amount);` and then do the correct casting on the actual implementation. \n\nOn the DogService --&gt; `@Override\n  public void feed(Pet pet, int amount) {\n    Dog dog = (Dog) pet;\n  } `","body":"you could change <code>void feed(T pet, int amount);</code>  to <code>void feed(Pet pet, int amount);</code> and then do the correct casting on the actual implementation.   On the DogService --&gt; <code>@Override   public void feed(Pet pet, int amount) {     Dog dog = (Dog) pet;   } </code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1687451121,"post_id":76530762,"comment_id":134942018,"body_markdown":"You *could* do `&lt;T extends Pet&gt; PetService&lt;T&gt; instantiatePetServiceByType(Class&lt;T&gt; petType)` instead of supplying the pet type as a `String`...","body":"You <i>could</i> do <code>&lt;T extends Pet&gt; PetService&lt;T&gt; instantiatePetServiceByType(Class&lt;T&gt; petType)</code> instead of supplying the pet type as a <code>String</code>..."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1687451362,"post_id":76530762,"comment_id":134942061,"body_markdown":"Oh wait, now I see (after I refreshed the page) that this exact code was already provided in Zabuzard&#39;s answer. Apparently, such is a common solution to the problem you&#39;re describing.","body":"Oh wait, now I see (after I refreshed the page) that this exact code was already provided in Zabuzard&#39;s answer. Apparently, such is a common solution to the problem you&#39;re describing."},{"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"score":0,"creation_date":1687518860,"post_id":76530762,"comment_id":134951674,"body_markdown":"@Anon That is what i did now... A little bit ugly but hey: It works at least somehow.","body":"@Anon That is what i did now... A little bit ugly but hey: It works at least somehow."},{"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"score":0,"creation_date":1687518892,"post_id":76530762,"comment_id":134951679,"body_markdown":"@MCEmperor thank you for the idea but this will still not work for my use case","body":"@MCEmperor thank you for the idea but this will still not work for my use case"}],"answers":[{"comments":[{"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"score":1,"creation_date":1687518914,"post_id":76531033,"comment_id":134951684,"body_markdown":"Thank you for the detailed explanation :)","body":"Thank you for the detailed explanation :)"}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1687430244,"creation_date":1687430244,"answer_id":76531033,"question_id":76530762,"body_markdown":"## Problem and PECS ##\r\n\r\nThe problem here ultimately is a consequence of [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super).\r\n\r\nYour `instantiatePetServiceByType` method returns a service (`PetService&lt;? extends Pet&gt;`) operating on an **unknown** type. All you know is that it is some sort of pet, but you do not know which specific pet.\r\n\r\nNow, when you write\r\n```java\r\nPetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\r\nPet pet = petService.loadPetById(petId);\r\n\r\npetService.feed(pet, amount);\r\n```\r\nJava has a problem with your insertion of the pet in the `feed` method, because the method expects from you the exact type that this service operates on. But this type is unknown to you, you can not _name_ it.\r\n\r\nImagine what would happen if someone writes:\r\n```java\r\nPetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\r\nPet pet = petService.loadPetById(petId);\r\n\r\n// Malicious\r\npet = new Cat();\r\n\r\npetService.feed(pet, amount);\r\n```\r\nNow, `pet` is a `Cat`, but the service operates perhaps on `Dog`s. So if Java would allow your code to compile, users could do above and break the type system.\r\n\r\nAs a consequence of this dilemna, **PECS** just completely disallows you to call the `feed` method all-together, because it is impossible for you to ensure that you supply the correct type. Or rather, it is impossible for the compiler to ensure that you are not messing with it.\r\n\r\n----------\r\n## Solution ##\r\n\r\nIn fact, since you want to find the service dynamically during runtime, it is unfortunately impossible to make the code type-safe. Generics are a compile-time feature and at the point where you know the type of the service (runtime), it is already too late.\r\n\r\nFortunately, there is a way to give the illusion of type-safety to the user and still providing a sane generic system, by dropping type-safety inside your `instantiatePetServiceByType` method.\r\n\r\nThe idea goes as follows:\r\n* let the user tell you which type they expect\r\n* assume it is correct - if not, crash during runtime\r\n* return the service casted to the expected type\r\n\r\n```java\r\n&lt;T extends Pet&gt; PetService&lt;T&gt; instantiatePetServiceByType(Class&lt;T&gt; petType) {\r\n  PetService&lt;? extends Pet&gt; service = ... // find your service\r\n  return petType.cast(service);\r\n}\r\n```\r\n\r\nFor the user, the generics work and are convenient to use:\r\n```java\r\nPetService&lt;Dog&gt; dogService = api.instantiatePetServiceByType(Dog.class);\r\nDog dog = dogService.loadPetById(petId);\r\n\r\ndogService.feed(dog, amount);\r\n```\r\n\r\nNow you just have to make sure that you never save incorrect services. For example registering a `PetService&lt;Cat&gt;` as a service for `Dog`s.","title":"Why can i not use a generic type as parameter in Java?","body":"<h2>Problem and PECS</h2>\n<p>The problem here ultimately is a consequence of <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.</p>\n<p>Your <code>instantiatePetServiceByType</code> method returns a service (<code>PetService&lt;? extends Pet&gt;</code>) operating on an <strong>unknown</strong> type. All you know is that it is some sort of pet, but you do not know which specific pet.</p>\n<p>Now, when you write</p>\n<pre class=\"lang-java prettyprint-override\"><code>PetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\nPet pet = petService.loadPetById(petId);\n\npetService.feed(pet, amount);\n</code></pre>\n<p>Java has a problem with your insertion of the pet in the <code>feed</code> method, because the method expects from you the exact type that this service operates on. But this type is unknown to you, you can not <em>name</em> it.</p>\n<p>Imagine what would happen if someone writes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\nPet pet = petService.loadPetById(petId);\n\n// Malicious\npet = new Cat();\n\npetService.feed(pet, amount);\n</code></pre>\n<p>Now, <code>pet</code> is a <code>Cat</code>, but the service operates perhaps on <code>Dog</code>s. So if Java would allow your code to compile, users could do above and break the type system.</p>\n<p>As a consequence of this dilemna, <strong>PECS</strong> just completely disallows you to call the <code>feed</code> method all-together, because it is impossible for you to ensure that you supply the correct type. Or rather, it is impossible for the compiler to ensure that you are not messing with it.</p>\n<hr />\n<h2>Solution</h2>\n<p>In fact, since you want to find the service dynamically during runtime, it is unfortunately impossible to make the code type-safe. Generics are a compile-time feature and at the point where you know the type of the service (runtime), it is already too late.</p>\n<p>Fortunately, there is a way to give the illusion of type-safety to the user and still providing a sane generic system, by dropping type-safety inside your <code>instantiatePetServiceByType</code> method.</p>\n<p>The idea goes as follows:</p>\n<ul>\n<li>let the user tell you which type they expect</li>\n<li>assume it is correct - if not, crash during runtime</li>\n<li>return the service casted to the expected type</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T extends Pet&gt; PetService&lt;T&gt; instantiatePetServiceByType(Class&lt;T&gt; petType) {\n  PetService&lt;? extends Pet&gt; service = ... // find your service\n  return petType.cast(service);\n}\n</code></pre>\n<p>For the user, the generics work and are convenient to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PetService&lt;Dog&gt; dogService = api.instantiatePetServiceByType(Dog.class);\nDog dog = dogService.loadPetById(petId);\n\ndogService.feed(dog, amount);\n</code></pre>\n<p>Now you just have to make sure that you never save incorrect services. For example registering a <code>PetService&lt;Cat&gt;</code> as a service for <code>Dog</code>s.</p>\n"}],"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76531033,"answer_count":1,"score":-1,"last_activity_date":1687430244,"creation_date":1687428278,"question_id":76530762,"body_markdown":"In Java i have an interface that has a generic type that also implements a different interface.\r\n\r\nWhen i use this generic as a parameter, i cannot pass an instance of the interface because it is of the wrong type.\r\n\r\n\r\nSee this example:\r\n\r\n\r\n```java\r\ninterface Pet {}\r\n\r\ninterface PetService&lt;T extends Pet&gt; {\r\n\r\n  T loadPetById(int petId);\r\n\r\n  void feed(T pet, int amount);\r\n}\r\n\r\nclass Dog implements Pet {}\r\n\r\nclass DogService implements PetService&lt;Dog&gt; {\r\n  @Override\r\n  public Dog loadPetById(int petId) {\r\n    // load and return dog with this id from database\r\n  }\r\n\r\n  @Override\r\n  public void feed(Dog pet, int amount) {\r\n    // feed dog\r\n  } \r\n}\r\n\r\nclass RestApi {\r\n  void feedPet(String petType, int petId, int amount) {\r\n    PetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\r\n    Pet pet = petService.loadPetById(petId);\r\n\r\n    petService.feed(pet, amount);\r\n  }\r\n\r\n  PetService&lt;? extends Pet&gt; instantiatePetServiceByType(String petType) {\r\n    // out of scope\r\n  }\r\n}\r\n```\r\n\r\nNow to my problem:\r\n\r\nThe call to `petService.feed(pet, amount)` complains in the IDE that `pet` is not the correct type.\r\n\r\nIt says:\r\n- Required type: capture of ?\r\n- Provided: Ownable\r\n\r\nWhat am i doing wrong?","title":"Why can i not use a generic type as parameter in Java?","body":"<p>In Java i have an interface that has a generic type that also implements a different interface.</p>\n<p>When i use this generic as a parameter, i cannot pass an instance of the interface because it is of the wrong type.</p>\n<p>See this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Pet {}\n\ninterface PetService&lt;T extends Pet&gt; {\n\n  T loadPetById(int petId);\n\n  void feed(T pet, int amount);\n}\n\nclass Dog implements Pet {}\n\nclass DogService implements PetService&lt;Dog&gt; {\n  @Override\n  public Dog loadPetById(int petId) {\n    // load and return dog with this id from database\n  }\n\n  @Override\n  public void feed(Dog pet, int amount) {\n    // feed dog\n  } \n}\n\nclass RestApi {\n  void feedPet(String petType, int petId, int amount) {\n    PetService&lt;? extends Pet&gt; petService = instantiatePetServiceByType(petType);\n    Pet pet = petService.loadPetById(petId);\n\n    petService.feed(pet, amount);\n  }\n\n  PetService&lt;? extends Pet&gt; instantiatePetServiceByType(String petType) {\n    // out of scope\n  }\n}\n</code></pre>\n<p>Now to my problem:</p>\n<p>The call to <code>petService.feed(pet, amount)</code> complains in the IDE that <code>pet</code> is not the correct type.</p>\n<p>It says:</p>\n<ul>\n<li>Required type: capture of ?</li>\n<li>Provided: Ownable</li>\n</ul>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","android","android-studio","local-storage"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529268686,"creation_date":1529268686,"answer_id":50900368,"question_id":50900312,"body_markdown":"If I were you I would go the sql route. It&#39;s really not hard to get started with sqlite for android. If you haven&#39;t already seen Google&#39;s own tutorial on the subject, check it out [here](https://developer.android.com/training/data-storage/sqlite).\r\n\r\nThat said though, you can also look at the other methods mentioned [here](https://developer.android.com/guide/topics/data/data-storage) if you feel a database is overkill. Realistically the other choices would be **internal storage** or **external storage** if it&#39;s something like a todo list. **Shared preferences** are most often used for persisting user settings.\r\n\r\nIf you choose to go the file route and don&#39;t want to save the data as something like a csv then you need to make your java objects implement the `Serializable` interface and write them to the file with an `ObjectOutputStream`.\r\n\r\nFor example:\r\n\r\n    FileOutputStream fos = new FileOutputStream(&quot;/some/file/path/filename.ser&quot;, true);\r\n    ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n    oos.writeObject(yourSerializableObject);","title":"How do you store app data locally using android studio?","body":"<p>If I were you I would go the sql route. It's really not hard to get started with sqlite for android. If you haven't already seen Google's own tutorial on the subject, check it out <a href=\"https://developer.android.com/training/data-storage/sqlite\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>That said though, you can also look at the other methods mentioned <a href=\"https://developer.android.com/guide/topics/data/data-storage\" rel=\"nofollow noreferrer\">here</a> if you feel a database is overkill. Realistically the other choices would be <strong>internal storage</strong> or <strong>external storage</strong> if it's something like a todo list. <strong>Shared preferences</strong> are most often used for persisting user settings.</p>\n\n<p>If you choose to go the file route and don't want to save the data as something like a csv then you need to make your java objects implement the <code>Serializable</code> interface and write them to the file with an <code>ObjectOutputStream</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(\"/some/file/path/filename.ser\", true);\nObjectOutputStream oos = new ObjectOutputStream(fos);\noos.writeObject(yourSerializableObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3494035,"reputation":1331,"user_id":2922851,"accept_rate":77,"display_name":"MilanNz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529268697,"creation_date":1529268697,"answer_id":50900369,"question_id":50900312,"body_markdown":"First important thing is that Activities, TextViews, Buttons and other view components are not part of Android Studio. They are part of android framework. Android Studio is IDE as Eclipse, NetBeans and etc.\r\n\r\nRegarding your requirement, there are more ways of persisting data in android. You can use files, SharePreferences and sql (sqlite).\r\n\r\nPlease take a look at following document:\r\n\r\nhttps://developer.android.com/guide/topics/data/\r\n\r\nAlso i would suggest you to follow Google android official documentation.\r\nhttps://developer.android.com/guide/\r\n\r\nBest Regards,\r\nMilan","title":"How do you store app data locally using android studio?","body":"<p>First important thing is that Activities, TextViews, Buttons and other view components are not part of Android Studio. They are part of android framework. Android Studio is IDE as Eclipse, NetBeans and etc.</p>\n\n<p>Regarding your requirement, there are more ways of persisting data in android. You can use files, SharePreferences and sql (sqlite).</p>\n\n<p>Please take a look at following document:</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/data/\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/data/</a></p>\n\n<p>Also i would suggest you to follow Google android official documentation.\n<a href=\"https://developer.android.com/guide/\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/</a></p>\n\n<p>Best Regards,\nMilan</p>\n"},{"tags":[],"owner":{"account_id":5649089,"reputation":1597,"user_id":4470323,"accept_rate":72,"display_name":"Ololoking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529270580,"creation_date":1529270580,"answer_id":50900569,"question_id":50900312,"body_markdown":"There are several ways to store your data locally on the device:\r\n\r\n - [SharedPreferences][1] - usually they are used to store app settings (Such as first name, last name, etc.).\r\n - Databases  - used to store structured data, best solution when app needs to store large amount of data. Also, thay has powerful and flexible mechanisms of read/write operations.\r\n - [Files][2] - Not the best way to save structured data, no build-in mechanisms. Also app needs additional permissions to write/read operations (if you decides to save data on external storage), which can be denied by user(if your app is targeting api 23 and greater you should use [runtime permissions][3])\r\n\r\nThe most effective way to store app data in your case is databases.\r\n\r\nGoogle has developed [Room Persistence library][4], which provides abstraction level over SQlite and makes all things simple and easy to understand.\r\n\r\n\r\n[Here][5] is a nice example on Medium, which provides easy to understand tutorial for Room Persistence library.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/SharedPreferences\r\n  [2]: https://developer.android.com/training/data-storage/files\r\n  [3]: https://developer.android.com/training/permissions/requesting\r\n  [4]: https://developer.android.com/topic/libraries/architecture/room\r\n  [5]: https://medium.com/@ajaysaini.official/building-database-with-room-persistence-library-ecf7d0b8f3e9","title":"How do you store app data locally using android studio?","body":"<p>There are several ways to store your data locally on the device:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">SharedPreferences</a> - usually they are used to store app settings (Such as first name, last name, etc.).</li>\n<li>Databases  - used to store structured data, best solution when app needs to store large amount of data. Also, thay has powerful and flexible mechanisms of read/write operations.</li>\n<li><a href=\"https://developer.android.com/training/data-storage/files\" rel=\"nofollow noreferrer\">Files</a> - Not the best way to save structured data, no build-in mechanisms. Also app needs additional permissions to write/read operations (if you decides to save data on external storage), which can be denied by user(if your app is targeting api 23 and greater you should use <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">runtime permissions</a>)</li>\n</ul>\n\n<p>The most effective way to store app data in your case is databases.</p>\n\n<p>Google has developed <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">Room Persistence library</a>, which provides abstraction level over SQlite and makes all things simple and easy to understand.</p>\n\n<p><a href=\"https://medium.com/@ajaysaini.official/building-database-with-room-persistence-library-ecf7d0b8f3e9\" rel=\"nofollow noreferrer\">Here</a> is a nice example on Medium, which provides easy to understand tutorial for Room Persistence library.</p>\n"},{"tags":[],"owner":{"account_id":9926455,"reputation":31,"user_id":7495905,"display_name":"rdnasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687428353,"creation_date":1687428353,"answer_id":76530771,"question_id":50900312,"body_markdown":"Based on your question, I can suggest a [solution][1] that may meet your requirements.\r\n\r\nConsider utilizing [ExpireDB][2] to address your needs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76530471/7495905\r\n  [2]: https://github.com/rdnasim/expirydb","title":"How do you store app data locally using android studio?","body":"<p>Based on your question, I can suggest a <a href=\"https://stackoverflow.com/a/76530471/7495905\">solution</a> that may meet your requirements.</p>\n<p>Consider utilizing <a href=\"https://github.com/rdnasim/expirydb\" rel=\"nofollow noreferrer\">ExpireDB</a> to address your needs.</p>\n"}],"owner":{"account_id":12872421,"reputation":77,"user_id":9310389,"display_name":"Christophe Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1687428353,"creation_date":1529268030,"question_id":50900312,"body_markdown":"I&#39;m just getting started in android studio and app development overall. I&#39;ve done a few tutorials to learn the interface and basics for Android Studio (activities, textviews, buttons, etc) and I&#39;ve taken a college course in Object Oriented Programming in Java. Now, here&#39;s what I&#39;m trying to do:\r\n\r\nI&#39;m making a very basic app that&#39;s meant to help the user budget their money. The app &quot;acts&quot; as your account and you add the amount of money you&#39;ve recently been paid. From here, you can allocate your money to savings, checking, and so on. The data I need to store would be the numbers representing dollar values, the different allocations the users made, and the respective dollar amounts to those allocations.\r\n\r\nI&#39;ve managed to contain the data relatively fine within the Java data structures (I developed some algorithms in eclipse to get started). Do I need to serialize this data? Or try writing it to a text file? I&#39;ve looked around for some tutorials and most low level ones are confusing or require advanced techniques with SQL. I&#39;m interested in simply locally storing just as you would with a to-do list app that keeps record of tasks you entered.\r\n\r\nAny and all insight is appreciated.","title":"How do you store app data locally using android studio?","body":"<p>I'm just getting started in android studio and app development overall. I've done a few tutorials to learn the interface and basics for Android Studio (activities, textviews, buttons, etc) and I've taken a college course in Object Oriented Programming in Java. Now, here's what I'm trying to do:</p>\n\n<p>I'm making a very basic app that's meant to help the user budget their money. The app \"acts\" as your account and you add the amount of money you've recently been paid. From here, you can allocate your money to savings, checking, and so on. The data I need to store would be the numbers representing dollar values, the different allocations the users made, and the respective dollar amounts to those allocations.</p>\n\n<p>I've managed to contain the data relatively fine within the Java data structures (I developed some algorithms in eclipse to get started). Do I need to serialize this data? Or try writing it to a text file? I've looked around for some tutorials and most low level ones are confusing or require advanced techniques with SQL. I'm interested in simply locally storing just as you would with a to-do list app that keeps record of tasks you entered.</p>\n\n<p>Any and all insight is appreciated.</p>\n"},{"tags":["java","security","bouncycastle","tls1.3","x25519"],"owner":{"account_id":28000495,"reputation":29,"user_id":21384903,"display_name":"Discovery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687428329,"creation_date":1687428329,"question_id":76530770,"body_markdown":"I am using java 8 (1.8.0_332-b09) and bouncy castle as security provider for establishing a TLS 1.3 connection.\r\n\r\nAs part of handshake, Client Hello in packetcapture shows the supported namedgroups as follows :\r\n secp256r1, secp384r1, secp521r1, ffdhe2048, ffdhe3072,ffdhe4096.\r\n\r\n\r\nHowever, I want to enable support for X25519 namedgroups. I tried using system property System.setProperty(&quot;jdk.tls.namedGroups&quot;, &quot;x25519,secp256r1,secp384r1,secp521r1&quot;);\r\nin client code. However, in the packet capture, it is showing secp256r1, secp384r1 and secp521r1 only.\r\n\r\n\r\n\r\n","title":"Does Java 8 with Bouncy Castle as security provider support X25519 namedgroup?","body":"<p>I am using java 8 (1.8.0_332-b09) and bouncy castle as security provider for establishing a TLS 1.3 connection.</p>\n<p>As part of handshake, Client Hello in packetcapture shows the supported namedgroups as follows :\nsecp256r1, secp384r1, secp521r1, ffdhe2048, ffdhe3072,ffdhe4096.</p>\n<p>However, I want to enable support for X25519 namedgroups. I tried using system property System.setProperty(&quot;jdk.tls.namedGroups&quot;, &quot;x25519,secp256r1,secp384r1,secp521r1&quot;);\nin client code. However, in the packet capture, it is showing secp256r1, secp384r1 and secp521r1 only.</p>\n"},{"tags":["java","ssh","jsch","portforwarding"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687409516,"post_id":76528560,"comment_id":134933257,"body_markdown":"`ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com` – This forwards *local* port `34567` via `JumpServer.com` to `RemoteServer.com:22`. But in the next step you are not connecting to local port `34567`, you are connecting to `JumpServer.com:34567`. If that works, it works only because the a port `34567` on the `JumpServer.com` is forwarded. And that imo has nothing to do with your previous port-forwarding. You do not even seem to be using the forwarding you have setup earlier. You seem to be using some pre-existing forwarding that is setup on the jump server.","body":"<code>ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com</code> – This forwards <i>local</i> port <code>34567</code> via <code>JumpServer.com</code> to <code>RemoteServer.com:22</code>. But in the next step you are not connecting to local port <code>34567</code>, you are connecting to <code>JumpServer.com:34567</code>. If that works, it works only because the a port <code>34567</code> on the <code>JumpServer.com</code> is forwarded. And that imo has nothing to do with your previous port-forwarding. You do not even seem to be using the forwarding you have setup earlier. You seem to be using some pre-existing forwarding that is setup on the jump server."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687409550,"post_id":76528560,"comment_id":134933261,"body_markdown":"And that would explain why your Java code does not work. Because it forwards random local port, but the it try to use that random port on the `JumpServer.com`. But the `JumpServer.com` seems to have `34567` explicitly forwarded. So you obviously cannot use the random port.","body":"And that would explain why your Java code does not work. Because it forwards random local port, but the it try to use that random port on the <code>JumpServer.com</code>. But the <code>JumpServer.com</code> seems to have <code>34567</code> explicitly forwarded. So you obviously cannot use the random port."},{"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"score":0,"creation_date":1687411745,"post_id":76528560,"comment_id":134933485,"body_markdown":"Hi Martin, you may have misread my post, I&#39;m running the ssh -L command while logged into JumpServer.com, not logged into JavaServer.com. It&#39;s that command itself which is forwarding the port on JumpServer. The two ssh commands I&#39;ve mentioned are on different servers - the first one on the JumpServer, the second one on my Java Server (i.e where my Java app is running.) [If the [user]@JumpServer.com part is unnecessary in the first command, I apologise - it just so happened that it worked when I did it like that, so I continued.]","body":"Hi Martin, you may have misread my post, I&#39;m running the ssh -L command while logged into JumpServer.com, not logged into JavaServer.com. It&#39;s that command itself which is forwarding the port on JumpServer. The two ssh commands I&#39;ve mentioned are on different servers - the first one on the JumpServer, the second one on my Java Server (i.e where my Java app is running.) [If the [user]@JumpServer.com part is unnecessary in the first command, I apologise - it just so happened that it worked when I did it like that, so I continued.]"},{"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"score":0,"creation_date":1687411892,"post_id":76528560,"comment_id":134933508,"body_markdown":"And in my java code, I try to connect to the Jump Server first and forward a port, and then use it. Am I misunderstanding how JSCH port forwarding works at all?","body":"And in my java code, I try to connect to the Jump Server first and forward a port, and then use it. Am I misunderstanding how JSCH port forwarding works at all?"},{"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"score":0,"creation_date":1687413096,"post_id":76528560,"comment_id":134933666,"body_markdown":"Also just to clarify, I am quite sure the jumpserver does not have any port explicitly forwarded - not only do I check every time  to see if forwarding was successful using `lsof -i -n | egrep &#39;ssh&#39;` but if I try to connect from the java server without forwarding a port, I always get connection refused, and only if I forward any given port (not just 34567, tried with a few others to be safe), it sends me through to the remote server.","body":"Also just to clarify, I am quite sure the jumpserver does not have any port explicitly forwarded - not only do I check every time  to see if forwarding was successful using <code>lsof -i -n | egrep &#39;ssh&#39;</code> but if I try to connect from the java server without forwarding a port, I always get connection refused, and only if I forward any given port (not just 34567, tried with a few others to be safe), it sends me through to the remote server."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687416402,"post_id":76528560,"comment_id":134934241,"body_markdown":"Ok, I&#39;ve indeed missed that. But it&#39;s quite strange way to setup the forwarding, imo. Anyway, your Java code does not do that. It forwards *local* port.","body":"Ok, I&#39;ve indeed missed that. But it&#39;s quite strange way to setup the forwarding, imo. Anyway, your Java code does not do that. It forwards <i>local</i> port."},{"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"score":0,"creation_date":1687418728,"post_id":76528560,"comment_id":134934673,"body_markdown":"I am inexperienced with ssh forwarding so I could be wrong; I thought this was the only way to set up the forwarding I want, since `ssh -R` would only be useful if I am already connected to the remote server . In the java code, I thought that since I first connect to the jump server and then set the port forwarding rule, it would set up the rule on the jump server, not the java server. Is that not how it works? If not, is there any way to set it up instead of using this weird localhost hack? Thanks a ton for your help!","body":"I am inexperienced with ssh forwarding so I could be wrong; I thought this was the only way to set up the forwarding I want, since <code>ssh -R</code> would only be useful if I am already connected to the remote server . In the java code, I thought that since I first connect to the jump server and then set the port forwarding rule, it would set up the rule on the jump server, not the java server. Is that not how it works? If not, is there any way to set it up instead of using this weird localhost hack? Thanks a ton for your help!"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687428653,"post_id":76528560,"comment_id":134936895,"body_markdown":"It&#39;s not a weird localhost hack. That&#39;s how it is commonly done. Even with `ssh`. Commonly you would do `ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com` **from the local machine**. And then you will connect to `localhost:34567`.","body":"It&#39;s not a weird localhost hack. That&#39;s how it is commonly done. Even with <code>ssh</code>. Commonly you would do <code>ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com</code> <b>from the local machine</b>. And then you will connect to <code>localhost:34567</code>."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687428818,"post_id":76528560,"comment_id":134936937,"body_markdown":"Because this way, 1) The connection is encrypted all the way from the local machine to the remote end (while with your approach, it&#39;s not encrypted between the local machine and the jump server - well in your case it is, because you are using SSH for both steps. But the port-forwarding/ssh-tunneling is used even with protocols that do not encrypt on their own). 2) You do not need to have the 34567 port opened on the jump server.","body":"Because this way, 1) The connection is encrypted all the way from the local machine to the remote end (while with your approach, it&#39;s not encrypted between the local machine and the jump server - well in your case it is, because you are using SSH for both steps. But the port-forwarding/ssh-tunneling is used even with protocols that do not encrypt on their own). 2) You do not need to have the 34567 port opened on the jump server."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1687428969,"post_id":76528560,"comment_id":134936978,"body_markdown":"Actually, you do not really need to use the physical local port for `ssh`, if you tool/library allows using the underlying SSH channel directly as a transport for another SSH connection. With `ssh`, you can do `ssh -J [user]@JumpServer.com RemoteServer.com` – it internally uses &quot;SSH port forwarding API&quot; without forwarding any actual *port*. The same can be possibly be implemented with JSch too, but I do not know the right API. But you can  see this approach for example here in Python: https://stackoverflow.com/q/35304525/850848 – Note the `sock=vmchannel` and my comment below the answer.","body":"Actually, you do not really need to use the physical local port for <code>ssh</code>, if you tool/library allows using the underlying SSH channel directly as a transport for another SSH connection. With <code>ssh</code>, you can do <code>ssh -J [user]@JumpServer.com RemoteServer.com</code> – it internally uses &quot;SSH port forwarding API&quot; without forwarding any actual <i>port</i>. The same can be possibly be implemented with JSch too, but I do not know the right API. But you can  see this approach for example here in Python: <a href=\"https://stackoverflow.com/q/35304525/850848\">stackoverflow.com/q/35304525/850848</a> – Note the <code>sock=vmchannel</code> and my comment below the answer."},{"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"score":0,"creation_date":1687431279,"post_id":76528560,"comment_id":134937407,"body_markdown":"Thank you very much for all your help. I will do more research on how exactly ssh port forwarding works using the command you showed me instead of my approach, that should help me understand what is going on here. I did indeed come across the -J option for ssh, but I decided against using it because the JSch documentation, at least for the very old version my project is forced to work with, does not have anything about it and may not support it. Thank you again!","body":"Thank you very much for all your help. I will do more research on how exactly ssh port forwarding works using the command you showed me instead of my approach, that should help me understand what is going on here. I did indeed come across the -J option for ssh, but I decided against using it because the JSch documentation, at least for the very old version my project is forced to work with, does not have anything about it and may not support it. Thank you again!"}],"owner":{"account_id":9719441,"reputation":23,"user_id":9989397,"display_name":"Raddaya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687428240,"creation_date":1687407011,"question_id":76528560,"body_markdown":"I have a reasonably simple requirement: I need to open a SSH connection to a Remote server from my Java server using JSCH. I don&#39;t have direct access, so I need to do it via a Jump server.\r\n\r\nFirst I tested it out using basic SSH port forwarding commands. I logged into the Jump server and ran the following command: (port 34567 has no significance, just a random port)\r\n\r\n```\r\nraddaya@jumpserver&gt; ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com\r\n```\r\nAfter this, I logged into my Java server and saw if it worked:\r\n\r\n```\r\nraddaya@javaserver&gt; ssh [user]@JumpServer.com -p 34567\r\n````\r\nAs expected, it logged me into the Remote Server! So far, so good.\r\n\r\nI wrote some Java code that looked roughly like this: [can&#39;t directly copy/paste the code, so please excuse typos]\r\n\r\n\r\n```\r\nSession jumpSession = jSch.getSession(jumpServerUsername,jumpServerAddress,22);\r\njumpSession.setPassword(jumpServerpw);\r\njumpSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\r\njumpSession.connect();\r\n\r\n//now forward the port\r\nint forwardedPort = jumpSession.setPortForwardingL(&quot;*&quot;,0,remoteServerAddress,22);\r\nSystem.out.println(&quot;Port forwarding rules: &quot; + Arrays.toString(jumpSession.getPortForwardingL()));\r\n\r\nSession remoteSession = jSch.getSession(jumpServerUsername,jumpServerAddress,forwardedPort);\r\nremoteSession.setPassword(jumpServerpw);\r\nremoteSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\r\nremoteSession.connect();\r\n\r\n```\r\n\r\nThe port forwarding rule was properly printed here, it would pick a random port between ~30,000 to ~50,000 and forward the port. But to my surprise, I got a &quot;Connection Refused&quot; error when the remote session tried to connect to whatever port was forwarded. I was stuck here for quite some time, because this was pretty much exactly the same code to replicate the SSH commands that worked perfectly. Eventually, a colleague helped me out by showing me the code that worked:\r\n\r\n```\r\nSession jumpSession = jSch.getSession(jumpServerUsername,jumpServerAddress,22);\r\njumpSession.setPassword(jumpServerpw);\r\njumpSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\r\njumpSession.connect();\r\n\r\n//if you don&#39;t give the first argument, it defaults to only allowing loopback forwarding\r\n//i.e you can only connect via localhost!\r\nint forwardedPort = jumpSession.setPortForwardingL(0,remoteServerAddress,22);\r\nSystem.out.println(&quot;Port forwarding rules: &quot; + Arrays.toString(jumpSession.getPortForwardingL()));\r\n\r\n//Now we connect to localhost??\r\nSession remoteSession = jSch.getSession(jumpServerUsername,&quot;127.0.0.1&quot;,forwardedPort);\r\nremoteSession.setPassword(jumpServerpw);\r\nremoteSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\r\nremoteSession.connect();\r\n\r\n```\r\n\r\nThis does work and successfully connects. But I am completely baffled at the logic of this and even my colleague admits he doesn&#39;t know why this works. Is the second getSession somehow running from the jump server instead of the java server? But even in that case, why would I get a Connection Refused the first time? I really don&#39;t want to just use this code without understanding it, so I hope someone can explain.","title":"Port forwarding using JSCH: Expected solution does not work, and the solution which does work makes no sense to me","body":"<p>I have a reasonably simple requirement: I need to open a SSH connection to a Remote server from my Java server using JSCH. I don't have direct access, so I need to do it via a Jump server.</p>\n<p>First I tested it out using basic SSH port forwarding commands. I logged into the Jump server and ran the following command: (port 34567 has no significance, just a random port)</p>\n<pre><code>raddaya@jumpserver&gt; ssh -L *:34567:RemoteServer.com:22 [user]@JumpServer.com\n</code></pre>\n<p>After this, I logged into my Java server and saw if it worked:</p>\n<pre><code>raddaya@javaserver&gt; ssh [user]@JumpServer.com -p 34567\n</code></pre>\n<p>As expected, it logged me into the Remote Server! So far, so good.</p>\n<p>I wrote some Java code that looked roughly like this: [can't directly copy/paste the code, so please excuse typos]</p>\n<pre><code>Session jumpSession = jSch.getSession(jumpServerUsername,jumpServerAddress,22);\njumpSession.setPassword(jumpServerpw);\njumpSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\njumpSession.connect();\n\n//now forward the port\nint forwardedPort = jumpSession.setPortForwardingL(&quot;*&quot;,0,remoteServerAddress,22);\nSystem.out.println(&quot;Port forwarding rules: &quot; + Arrays.toString(jumpSession.getPortForwardingL()));\n\nSession remoteSession = jSch.getSession(jumpServerUsername,jumpServerAddress,forwardedPort);\nremoteSession.setPassword(jumpServerpw);\nremoteSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\nremoteSession.connect();\n\n</code></pre>\n<p>The port forwarding rule was properly printed here, it would pick a random port between ~30,000 to ~50,000 and forward the port. But to my surprise, I got a &quot;Connection Refused&quot; error when the remote session tried to connect to whatever port was forwarded. I was stuck here for quite some time, because this was pretty much exactly the same code to replicate the SSH commands that worked perfectly. Eventually, a colleague helped me out by showing me the code that worked:</p>\n<pre><code>Session jumpSession = jSch.getSession(jumpServerUsername,jumpServerAddress,22);\njumpSession.setPassword(jumpServerpw);\njumpSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\njumpSession.connect();\n\n//if you don't give the first argument, it defaults to only allowing loopback forwarding\n//i.e you can only connect via localhost!\nint forwardedPort = jumpSession.setPortForwardingL(0,remoteServerAddress,22);\nSystem.out.println(&quot;Port forwarding rules: &quot; + Arrays.toString(jumpSession.getPortForwardingL()));\n\n//Now we connect to localhost??\nSession remoteSession = jSch.getSession(jumpServerUsername,&quot;127.0.0.1&quot;,forwardedPort);\nremoteSession.setPassword(jumpServerpw);\nremoteSession.setConfig(STRICTHOSTKEYCHECKING,&quot;no&quot;);\nremoteSession.connect();\n\n</code></pre>\n<p>This does work and successfully connects. But I am completely baffled at the logic of this and even my colleague admits he doesn't know why this works. Is the second getSession somehow running from the jump server instead of the java server? But even in that case, why would I get a Connection Refused the first time? I really don't want to just use this code without understanding it, so I hope someone can explain.</p>\n"},{"tags":["java","gradle","jvm","quarkus"],"comments":[{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1687428388,"post_id":76530730,"comment_id":134936834,"body_markdown":"seems like an issue in native code - i.e. you are loading some dll/so and it has caused the crash","body":"seems like an issue in native code - i.e. you are loading some dll/so and it has caused the crash"}],"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687428066,"creation_date":1687428066,"question_id":76530730,"body_markdown":"I can not start quarkus in dev mode using the &quot;quarkus dev&quot; command. Since I am not sure what has changed but I was hoping someone could point me in the right direction. Longer version of the error is:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd05962778, pid=20072, tid=13304\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, emulated-client, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# V  [jvm.dll+0x3d2778]\r\n```\r\n\r\na bit later:\r\n```\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -javaagent:C:\\Users\\XY\\.gradle\\caches\\modules-2\\files-2.1\\io.quarkus\\quarkus-class-change-agent\\3.0.3.Final\\ab2ac5ecd6b39c764a70e61cbb4ccca7b6dd5084\\quarkus-class-change-agent-3.0.3.Final.jar -Dquarkus-internal.serialized-app-model.path=C:\\GitProjects\\TechEvaluation\\build\\tmp\\quarkusDev\\quarkus-app-model.dat -Dquarkus-internal-test.serialized-app-model.path=C:\\GitProjects\\TechEvaluation\\build\\tmp\\quarkusDev\\quarkus-app-test-model.dat -XX:TieredStopAtLevel=1 -agentlib:jdwp=transport=dt_socket,address=localhost:5005,server=y,suspend=n -Djava.util.logging.manager=org.jboss.logmanager.LogManager C:\\GitProjects\\TechEvaluation\\build\\tech-evaluation-dev.jar\r\n\r\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 15G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3031)\r\nTime: Thu Jun 22 11:53:41 2023 Mitteleurop�ische Sommerzeit elapsed time: 2.204859 seconds (0d 0h 0m 2s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000001ca4b23eaa0):  JavaThread &quot;build-50&quot; [_thread_in_vm, id=13304, stack(0x0000009d98c00000,0x0000009d98d00000)]\r\n\r\nStack: [0x0000009d98c00000,0x0000009d98d00000],  sp=0x0000009d98cfd5b0,  free space=1013k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [jvm.dll+0x3d2778]\r\nC  [jansi.dll+0x104e]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  org.fusesource.jansi.internal.CLibrary.init()V+0\r\nj  org.fusesource.jansi.internal.CLibrary.&lt;clinit&gt;()V+12\r\nv  ~StubRoutines::call_stub\r\nj  org.fusesource.jansi.AnsiConsole.ansiStream(Z)Lorg/fusesource/jansi/AnsiPrintStream;+62\r\nj  org.fusesource.jansi.AnsiConsole.initStreams()V+7\r\nj  org.fusesource.jansi.AnsiConsole.out()Lorg/fusesource/jansi/AnsiPrintStream;+0\r\nj  org.aesh.readline.terminal.impl.WinSysTerminal.&lt;init&gt;(Ljava/lang/String;ZLorg/aesh/terminal/Terminal$SignalHandler;)V+4\r\nj  org.aesh.readline.terminal.impl.WinSysTerminal.&lt;init&gt;(Ljava/lang/String;Z)V+6\r\nj  org.aesh.readline.terminal.TerminalBuilder.createWindowsTerminal(Ljava/lang/String;)Lorg/aesh/terminal/Terminal;+15\r\nj  org.aesh.readline.terminal.TerminalBuilder.build()Lorg/aesh/terminal/Terminal;+125\r\nj  org.aesh.readline.tty.terminal.TerminalConnection.&lt;init&gt;(Ljava/nio/charset/Charset;Ljava/nio/charset/Charset;Ljava/io/InputStream;Ljava/io/OutputStream;Ljava/util/function/Consumer;)V+85\r\nj  org.aesh.readline.tty.terminal.TerminalConnection.&lt;init&gt;(Ljava/util/function/Consumer;)V+14\r\nj  io.quarkus.deployment.console.ConsoleHelper.installConsole(Lio/quarkus/deployment/dev/testing/TestConfig;Lio/quarkus/deployment/console/ConsoleConfig;Lio/quarkus/runtime/console/ConsoleRuntimeConfig;Lio/quarkus/runtime/logging/ConsoleConfig;Z)V+95\r\nj  io.quarkus.deployment.console.ConsoleProcessor.setupConsole(Lio/quarkus/deployment/dev/testing/TestConfig;Lio/quarkus/deployment/annotations/BuildProducer;Lio/quarkus/deployment/builditem/LaunchModeBuildItem;Lio/quarkus/deployment/console/ConsoleConfig;)Lio/quarkus/deployment/console/ConsoleInstalledBuildItem;+101\r\nv  ~StubRoutines::call_stub\r\nj  jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+0 java.base@17.0.6\r\nj  jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+133 java.base@17.0.6\r\nJ 805 c1 jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (10 bytes) @ 0x000001ca38caaa84 [0x000001ca38caaa20+0x0000000000000064]\r\nJ 804 c1 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000001ca38caae8c [0x000001ca38caad60+0x000000000000012c]\r\nj  io.quarkus.deployment.ExtensionLoader$3.execute(Lio/quarkus/builder/BuildContext;)V+265\r\nj  io.quarkus.builder.BuildContext.run()V+70\r\nj  io.quarkus.builder.BuildContext$$Lambda$252+0x0000000800de96b0.run()V+4\r\nj  org.jboss.threads.ContextHandler$1.runWith(Ljava/lang/Runnable;Ljava/lang/Object;)V+1\r\nj  org.jboss.threads.EnhancedQueueExecutor$Task.run()V+67\r\nj  org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run()V+33\r\nj  java.lang.Thread.run()V+11 java.base@17.0.6\r\nj  org.jboss.threads.JBossThread.run()V+12\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\r\n```\r\n\r\net cetera.\r\n\r\nI am using quarkus 3.0.3.Final and gradle with java 17. Not sure how much info else would be helpful. Just let me know.\r\n\r\nThanks,\r\nAyume","title":"Quarkus dev mode start throws EXCEPTION_ACCESS_VIOLATION","body":"<p>I can not start quarkus in dev mode using the &quot;quarkus dev&quot; command. Since I am not sure what has changed but I was hoping someone could point me in the right direction. Longer version of the error is:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd05962778, pid=20072, tid=13304\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, emulated-client, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# V  [jvm.dll+0x3d2778]\n</code></pre>\n<p>a bit later:</p>\n<pre><code>---------------  S U M M A R Y ------------\n\nCommand Line: -javaagent:C:\\Users\\XY\\.gradle\\caches\\modules-2\\files-2.1\\io.quarkus\\quarkus-class-change-agent\\3.0.3.Final\\ab2ac5ecd6b39c764a70e61cbb4ccca7b6dd5084\\quarkus-class-change-agent-3.0.3.Final.jar -Dquarkus-internal.serialized-app-model.path=C:\\GitProjects\\TechEvaluation\\build\\tmp\\quarkusDev\\quarkus-app-model.dat -Dquarkus-internal-test.serialized-app-model.path=C:\\GitProjects\\TechEvaluation\\build\\tmp\\quarkusDev\\quarkus-app-test-model.dat -XX:TieredStopAtLevel=1 -agentlib:jdwp=transport=dt_socket,address=localhost:5005,server=y,suspend=n -Djava.util.logging.manager=org.jboss.logmanager.LogManager C:\\GitProjects\\TechEvaluation\\build\\tech-evaluation-dev.jar\n\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 15G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3031)\nTime: Thu Jun 22 11:53:41 2023 Mitteleurop�ische Sommerzeit elapsed time: 2.204859 seconds (0d 0h 0m 2s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000001ca4b23eaa0):  JavaThread &quot;build-50&quot; [_thread_in_vm, id=13304, stack(0x0000009d98c00000,0x0000009d98d00000)]\n\nStack: [0x0000009d98c00000,0x0000009d98d00000],  sp=0x0000009d98cfd5b0,  free space=1013k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [jvm.dll+0x3d2778]\nC  [jansi.dll+0x104e]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.fusesource.jansi.internal.CLibrary.init()V+0\nj  org.fusesource.jansi.internal.CLibrary.&lt;clinit&gt;()V+12\nv  ~StubRoutines::call_stub\nj  org.fusesource.jansi.AnsiConsole.ansiStream(Z)Lorg/fusesource/jansi/AnsiPrintStream;+62\nj  org.fusesource.jansi.AnsiConsole.initStreams()V+7\nj  org.fusesource.jansi.AnsiConsole.out()Lorg/fusesource/jansi/AnsiPrintStream;+0\nj  org.aesh.readline.terminal.impl.WinSysTerminal.&lt;init&gt;(Ljava/lang/String;ZLorg/aesh/terminal/Terminal$SignalHandler;)V+4\nj  org.aesh.readline.terminal.impl.WinSysTerminal.&lt;init&gt;(Ljava/lang/String;Z)V+6\nj  org.aesh.readline.terminal.TerminalBuilder.createWindowsTerminal(Ljava/lang/String;)Lorg/aesh/terminal/Terminal;+15\nj  org.aesh.readline.terminal.TerminalBuilder.build()Lorg/aesh/terminal/Terminal;+125\nj  org.aesh.readline.tty.terminal.TerminalConnection.&lt;init&gt;(Ljava/nio/charset/Charset;Ljava/nio/charset/Charset;Ljava/io/InputStream;Ljava/io/OutputStream;Ljava/util/function/Consumer;)V+85\nj  org.aesh.readline.tty.terminal.TerminalConnection.&lt;init&gt;(Ljava/util/function/Consumer;)V+14\nj  io.quarkus.deployment.console.ConsoleHelper.installConsole(Lio/quarkus/deployment/dev/testing/TestConfig;Lio/quarkus/deployment/console/ConsoleConfig;Lio/quarkus/runtime/console/ConsoleRuntimeConfig;Lio/quarkus/runtime/logging/ConsoleConfig;Z)V+95\nj  io.quarkus.deployment.console.ConsoleProcessor.setupConsole(Lio/quarkus/deployment/dev/testing/TestConfig;Lio/quarkus/deployment/annotations/BuildProducer;Lio/quarkus/deployment/builditem/LaunchModeBuildItem;Lio/quarkus/deployment/console/ConsoleConfig;)Lio/quarkus/deployment/console/ConsoleInstalledBuildItem;+101\nv  ~StubRoutines::call_stub\nj  jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+0 java.base@17.0.6\nj  jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+133 java.base@17.0.6\nJ 805 c1 jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (10 bytes) @ 0x000001ca38caaa84 [0x000001ca38caaa20+0x0000000000000064]\nJ 804 c1 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000001ca38caae8c [0x000001ca38caad60+0x000000000000012c]\nj  io.quarkus.deployment.ExtensionLoader$3.execute(Lio/quarkus/builder/BuildContext;)V+265\nj  io.quarkus.builder.BuildContext.run()V+70\nj  io.quarkus.builder.BuildContext$$Lambda$252+0x0000000800de96b0.run()V+4\nj  org.jboss.threads.ContextHandler$1.runWith(Ljava/lang/Runnable;Ljava/lang/Object;)V+1\nj  org.jboss.threads.EnhancedQueueExecutor$Task.run()V+67\nj  org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run()V+33\nj  java.lang.Thread.run()V+11 java.base@17.0.6\nj  org.jboss.threads.JBossThread.run()V+12\nv  ~StubRoutines::call_stub\n\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\n</code></pre>\n<p>et cetera.</p>\n<p>I am using quarkus 3.0.3.Final and gradle with java 17. Not sure how much info else would be helpful. Just let me know.</p>\n<p>Thanks,\nAyume</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687427705,"post_id":76530618,"comment_id":134936672,"body_markdown":"That&#39;s not going to be easy as the html is not well-formed. Unless you use regexes, which is not recommendable","body":"That&#39;s not going to be easy as the html is not well-formed. Unless you use regexes, which is not recommendable"},{"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"score":0,"creation_date":1687427819,"post_id":76530618,"comment_id":134936701,"body_markdown":"you should provide more context to the question. Do you need to format the string with carriage return (\\n)? Giving you are dealing with a &lt;table&gt; I think you are looking for a templating engine such as FreeMarker or Thymeleaf.","body":"you should provide more context to the question. Do you need to format the string with carriage return (\\n)? Giving you are dealing with a &lt;table&gt; I think you are looking for a templating engine such as FreeMarker or Thymeleaf."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1687431335,"post_id":76530618,"comment_id":134937418,"body_markdown":"Does this answer your question? [how to convert HTML text to plain text?](https://stackoverflow.com/questions/3607965/how-to-convert-html-text-to-plain-text)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3607965/how-to-convert-html-text-to-plain-text\">how to convert HTML text to plain text?</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687433075,"post_id":76530618,"comment_id":134937749,"body_markdown":"Does this answer your question? [Remove HTML tags from a String](https://stackoverflow.com/questions/240546/remove-html-tags-from-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/240546/remove-html-tags-from-a-string\">Remove HTML tags from a String</a>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687428044,"creation_date":1687428044,"answer_id":76530725,"question_id":76530618,"body_markdown":"You should really use a proper html parser, but if you want something quick and dirty *and your html is well-formed* you can use something from package `javax.swing.text.html`:\r\n\r\n```\r\n    public static String stripTags(String content) throws Exception {\r\n        String result = null;\r\n        HTMLEditorKit kit = new HTMLEditorKit();\r\n        InputStream in = new ByteArrayInputStream(content.getBytes());\r\n        Document doc = new HTMLDocument();\r\n        kit.read(in, doc, 0);\r\n        result = doc.getText(0, doc.getLength());\r\n\r\n        return result;\r\n    }\r\n```","title":"Convert HTML to text in Java","body":"<p>You should really use a proper html parser, but if you want something quick and dirty <em>and your html is well-formed</em> you can use something from package <code>javax.swing.text.html</code>:</p>\n<pre><code>    public static String stripTags(String content) throws Exception {\n        String result = null;\n        HTMLEditorKit kit = new HTMLEditorKit();\n        InputStream in = new ByteArrayInputStream(content.getBytes());\n        Document doc = new HTMLDocument();\n        kit.read(in, doc, 0);\n        result = doc.getText(0, doc.getLength());\n\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":9904615,"reputation":78,"user_id":7333488,"accept_rate":50,"display_name":"Rims"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687428044,"creation_date":1687427285,"question_id":76530618,"body_markdown":"I have a Java string like this:\r\n\r\n```\r\nString str = &quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;ALL,&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt; Please find attached file for this week&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Thanks&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Support Team&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n```\r\n\r\nI want output like this:\r\n\r\n&gt; All,\r\n&gt;\r\n&gt; Please find attached file for this week.\r\n&gt;\r\n&gt; Thanks,\r\n&gt; Support Team","title":"Convert HTML to text in Java","body":"<p>I have a Java string like this:</p>\n<pre><code>String str = &quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;ALL,&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt; Please find attached file for this week&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Thanks&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Support Team&lt;/td&gt;&lt;/tr&gt;&quot;;\n</code></pre>\n<p>I want output like this:</p>\n<blockquote>\n<p>All,</p>\n<p>Please find attached file for this week.</p>\n<p>Thanks,\nSupport Team</p>\n</blockquote>\n"},{"tags":["java","spring","microservices","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687427807,"creation_date":1687427807,"answer_id":76530693,"question_id":76314854,"body_markdown":"I don&#39;t think a trace is meant to cover processing that is scheduled for later execution in an event-based system.\r\n\r\nIn this case, you should consider creating a different trace in the rabbitMQ message processing but [Link to the previous span][1]: both spans aren&#39;t technically parent/child but a Link can materialize this relationship.\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/tracing/issues/182","title":"Micrometer Tracing with Spring 3","body":"<p>I don't think a trace is meant to cover processing that is scheduled for later execution in an event-based system.</p>\n<p>In this case, you should consider creating a different trace in the rabbitMQ message processing but <a href=\"https://github.com/micrometer-metrics/tracing/issues/182\" rel=\"nofollow noreferrer\">Link to the previous span</a>: both spans aren't technically parent/child but a Link can materialize this relationship.</p>\n"}],"owner":{"account_id":24950425,"reputation":49,"user_id":18815294,"display_name":"Khushal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687427807,"creation_date":1684845568,"question_id":76314854,"body_markdown":"Let&#39;s say a request landed at the backend and we got the traceid. Now for some reasons, we need to push a message to the rabbit and that message will be read after a few minutes. How can I do that processing in that same traceid.\r\n\r\nThat message sent has a field in which we preserved the previous trace and span id.\r\n\r\nWe are using Spring 3 with micrometer.\r\n\r\nPOM:\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Micrometer Tracing with Spring 3","body":"<p>Let's say a request landed at the backend and we got the traceid. Now for some reasons, we need to push a message to the rabbit and that message will be read after a few minutes. How can I do that processing in that same traceid.</p>\n<p>That message sent has a field in which we preserved the previous trace and span id.</p>\n<p>We are using Spring 3 with micrometer.</p>\n<p>POM:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n        &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n        &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","searchbar"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687425709,"post_id":76530333,"comment_id":134936166,"body_markdown":"Why? You already have a query which limits this and still do an if check? What is the purpose of the query then? Also why re-fetch the entities? You already have them, why on earth are you executing the same/other query again?","body":"Why? You already have a query which limits this and still do an if check? What is the purpose of the query then? Also why re-fetch the entities? You already have them, why on earth are you executing the same/other query again?"},{"owner":{"account_id":26702011,"reputation":11,"user_id":20308905,"display_name":"R4V3N"},"score":0,"creation_date":1687426910,"post_id":76530333,"comment_id":134936456,"body_markdown":"@M.Deinum I am not really sure what you are asking to be honest because I posted this question to get help. This is the code after a lot of trial and error so I would appreciate if you gave me a helpful reply rather than asking why on earth I am doing anything because my answer is I. Don&#39;t. Know. I need the single search bar to be able to search the full name of a record and give it. Right now it only returns if I search a first name that matches a record or a last name that matches a record. It fails to check that both the first name and last name inputs match a record.","body":"@M.Deinum I am not really sure what you are asking to be honest because I posted this question to get help. This is the code after a lot of trial and error so I would appreciate if you gave me a helpful reply rather than asking why on earth I am doing anything because my answer is I. Don&#39;t. Know. I need the single search bar to be able to search the full name of a record and give it. Right now it only returns if I search a first name that matches a record or a last name that matches a record. It fails to check that both the first name and last name inputs match a record."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687427056,"post_id":76530333,"comment_id":134936495,"body_markdown":"If 1 element (no spaces) call a method that queries for either firstname or lastname matches. If 2 elements call a method that querier for matches on firstname **and** lastname. Just 2 methods, which return a list. No need to re-run queries, use equals etc. You are basically overthinking all of this.","body":"If 1 element (no spaces) call a method that queries for either firstname or lastname matches. If 2 elements call a method that querier for matches on firstname <b>and</b> lastname. Just 2 methods, which return a list. No need to re-run queries, use equals etc. You are basically overthinking all of this."},{"owner":{"account_id":26702011,"reputation":11,"user_id":20308905,"display_name":"R4V3N"},"score":0,"creation_date":1687427361,"post_id":76530333,"comment_id":134936577,"body_markdown":"@M.Deinum Could you edit my controller code to emulate this please? Because it sounds a lot like what I am already trying to do.","body":"@M.Deinum Could you edit my controller code to emulate this please? Because it sounds a lot like what I am already trying to do."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687427797,"post_id":76530333,"comment_id":134936693,"body_markdown":"No you are doing way too much and (as mentioned) overthinking this.","body":"No you are doing way too much and (as mentioned) overthinking this."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687427751,"creation_date":1687427751,"answer_id":76530686,"question_id":76530333,"body_markdown":"Check name for spaces. If space available, get first part as firstname the remainder as lastname. Call query methods with 2 parameters using an `and`, else use `name` parameter as is and call method with 2 parameters using an `or`. \r\n\r\nYour code is overthinking all of this with additional checks and queries. Move the logic to the service instead of in your controller. \r\n\r\n```java\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(String name, String name);\r\n\r\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCaseAndLastNameContainingIgnoreCase(String firstname, String lastname);\r\n```\r\n\r\n```java\r\n@Service\r\npublic EmployeeService {\r\n\r\n  private final EmployeeRepository employees;\r\n\r\n  public EmployeeService(EmployeeRepository employees) {\r\n    this.employees=employees;\r\n  }\r\n\r\n  @Transactional(readOnly=true)\r\n  public List&lt;Employee&gt; findEmployees(String name) {\r\n    var idx = name.indexOf(&#39; &#39;);\r\n    if (idx &gt; -1) {\r\n      var firstname = name.substring(0, idx);\r\n      var lastname = name.substring(idx + 1);\r\n      return employees. findByFirstNameContainingIgnoreCaseAndLastNameContainingIgnoreCase(firstname, lastname);      \r\n    }\r\n    return employees. findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(name, name);      \r\n  }\r\n}\r\n```\r\n\r\nNow in your controller just call the `findEmployees` method. \r\n\r\n```java\r\n@Controller\r\npublic class EmployeeController {\r\n\r\nprivate final EmployeeService empService;\r\n\r\n  public EmployeeController(EmployeeService empService) {\r\n    this.empService = empService;\r\n  }\r\n\r\n  @PostMapping(&quot;search-by-full-name&quot;)\r\n  public String handleSearchByFullName(Model model, @RequestParam(&quot;fullName&quot;) String fullName) {\r\n    \r\n    model.addAttribute(&quot;emps&quot;, empService.findEmployees(fullName));\r\n    return &quot;showEmployees&quot;;\r\n  }\r\n}\r\n```\r\n\r\nSomething like this. ","title":"How do I create one search bar in springboot for two separate things? It should be able to accept first name, or last name, or both to give an output","body":"<p>Check name for spaces. If space available, get first part as firstname the remainder as lastname. Call query methods with 2 parameters using an <code>and</code>, else use <code>name</code> parameter as is and call method with 2 parameters using an <code>or</code>.</p>\n<p>Your code is overthinking all of this with additional checks and queries. Move the logic to the service instead of in your controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(String name, String name);\n\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCaseAndLastNameContainingIgnoreCase(String firstname, String lastname);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic EmployeeService {\n\n  private final EmployeeRepository employees;\n\n  public EmployeeService(EmployeeRepository employees) {\n    this.employees=employees;\n  }\n\n  @Transactional(readOnly=true)\n  public List&lt;Employee&gt; findEmployees(String name) {\n    var idx = name.indexOf(' ');\n    if (idx &gt; -1) {\n      var firstname = name.substring(0, idx);\n      var lastname = name.substring(idx + 1);\n      return employees. findByFirstNameContainingIgnoreCaseAndLastNameContainingIgnoreCase(firstname, lastname);      \n    }\n    return employees. findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(name, name);      \n  }\n}\n</code></pre>\n<p>Now in your controller just call the <code>findEmployees</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class EmployeeController {\n\nprivate final EmployeeService empService;\n\n  public EmployeeController(EmployeeService empService) {\n    this.empService = empService;\n  }\n\n  @PostMapping(&quot;search-by-full-name&quot;)\n  public String handleSearchByFullName(Model model, @RequestParam(&quot;fullName&quot;) String fullName) {\n    \n    model.addAttribute(&quot;emps&quot;, empService.findEmployees(fullName));\n    return &quot;showEmployees&quot;;\n  }\n}\n</code></pre>\n<p>Something like this.</p>\n"}],"owner":{"account_id":26702011,"reputation":11,"user_id":20308905,"display_name":"R4V3N"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687427751,"creation_date":1687425396,"question_id":76530333,"body_markdown":"I have a search bar that can accept any string. It will check the database to see if a record matches the string either in their first name or last name. But it should also be able to take the full name as an argument and return the records based on it.\r\n\r\nI take the fullName as an argument and split it to create a separate first and last name and used an if statement to check it matches. But it doesn&#39;t seem to work although I cannot see an issue with the logic. \r\n\r\nController class:\r\n\r\n    @Controller\r\n    public class EmployeeController {\r\n    private final EmployeeService empService;\r\n\r\n    @Autowired\r\n    public EmployeeController(EmployeeService empService) {\r\n        this.empService = empService;\r\n    }\r\n\r\n    @PostMapping(&quot;search-by-full-name&quot;)\r\n    public String handleSearchByFullName(Model model, @RequestParam(&quot;fullName&quot;) String fullName) {\r\n        if (fullName.contains(&quot; &quot;)) {\r\n            String[] nameParts = fullName.split(&quot; &quot;);\r\n            String firstName = nameParts[0];\r\n            String lastName = nameParts[1];\r\n            for (Employee emp : empService.findByFullName(fullName)) {\r\n                if (emp.getFirstName().equals(firstName) &amp;&amp; emp.getLastName().equals(lastName)) {\r\n                    model.addAttribute(&quot;emps&quot;, empService.findByFirstName(firstName));\r\n                    return &quot;showEmployees&quot;;\r\n                }\r\n            }\r\n        } else if (!empService.findByFullName(fullName).isEmpty()) {\r\n            model.addAttribute(&quot;emps&quot;, empService.findByFullName(fullName));\r\n            return &quot;showEmployees&quot;;\r\n        }\r\n        return &quot;errorPage&quot;;\r\n    }\r\n    }\r\n\r\nService class:\r\n\r\n    @Service\r\n    public class EmployeeService {\r\n    private final EmployeeRepository empRepo;\r\n\r\n    @Autowired\r\n    public EmployeeService(EmployeeRepository empRepo) {\r\n        this.empRepo = empRepo;\r\n    }\r\n\r\n    public List&lt;Employee&gt; findByFullName(String fullName) {\r\n        return empRepo.findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(fullName, fullName);\r\n    }\r\n\r\n    public List&lt;Employee&gt; findByFirstName(String firstName) {\r\n        return empRepo.findByFirstNameContainingIgnoreCase(firstName);\r\n    }\r\n\r\n    public List&lt;Employee&gt; findByLastName(String lastName) {\r\n        return empRepo.findByLastNameContainingIgnoreCase(lastName);\r\n    }\r\n}\r\n\r\nRepository class:\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends \r\n    JpaRepository&lt;Employee, Long&gt; {\r\n    List&lt;Employee&gt; findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(String firstName, String lastName);\r\n\r\n    List&lt;Employee&gt; findByFirstNameContainingIgnoreCase(String firstName);\r\n\r\n    List&lt;Employee&gt; findByLastNameContainingIgnoreCase(String lastName);\r\n}","title":"How do I create one search bar in springboot for two separate things? It should be able to accept first name, or last name, or both to give an output","body":"<p>I have a search bar that can accept any string. It will check the database to see if a record matches the string either in their first name or last name. But it should also be able to take the full name as an argument and return the records based on it.</p>\n<p>I take the fullName as an argument and split it to create a separate first and last name and used an if statement to check it matches. But it doesn't seem to work although I cannot see an issue with the logic.</p>\n<p>Controller class:</p>\n<pre><code>@Controller\npublic class EmployeeController {\nprivate final EmployeeService empService;\n\n@Autowired\npublic EmployeeController(EmployeeService empService) {\n    this.empService = empService;\n}\n\n@PostMapping(&quot;search-by-full-name&quot;)\npublic String handleSearchByFullName(Model model, @RequestParam(&quot;fullName&quot;) String fullName) {\n    if (fullName.contains(&quot; &quot;)) {\n        String[] nameParts = fullName.split(&quot; &quot;);\n        String firstName = nameParts[0];\n        String lastName = nameParts[1];\n        for (Employee emp : empService.findByFullName(fullName)) {\n            if (emp.getFirstName().equals(firstName) &amp;&amp; emp.getLastName().equals(lastName)) {\n                model.addAttribute(&quot;emps&quot;, empService.findByFirstName(firstName));\n                return &quot;showEmployees&quot;;\n            }\n        }\n    } else if (!empService.findByFullName(fullName).isEmpty()) {\n        model.addAttribute(&quot;emps&quot;, empService.findByFullName(fullName));\n        return &quot;showEmployees&quot;;\n    }\n    return &quot;errorPage&quot;;\n}\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class EmployeeService {\nprivate final EmployeeRepository empRepo;\n\n@Autowired\npublic EmployeeService(EmployeeRepository empRepo) {\n    this.empRepo = empRepo;\n}\n\npublic List&lt;Employee&gt; findByFullName(String fullName) {\n    return empRepo.findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(fullName, fullName);\n}\n\npublic List&lt;Employee&gt; findByFirstName(String firstName) {\n    return empRepo.findByFirstNameContainingIgnoreCase(firstName);\n}\n\npublic List&lt;Employee&gt; findByLastName(String lastName) {\n    return empRepo.findByLastNameContainingIgnoreCase(lastName);\n}\n</code></pre>\n<p>}</p>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends \nJpaRepository&lt;Employee, Long&gt; {\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCaseOrLastNameContainingIgnoreCase(String firstName, String lastName);\n\nList&lt;Employee&gt; findByFirstNameContainingIgnoreCase(String firstName);\n\nList&lt;Employee&gt; findByLastNameContainingIgnoreCase(String lastName);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","windows","batch-file","processbuilder","appassembler"],"answers":[{"tags":[],"owner":{"account_id":9348971,"reputation":33,"user_id":6939316,"display_name":"Mr. Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503682352,"creation_date":1503682352,"answer_id":45886742,"question_id":45886513,"body_markdown":"  According to Microsoft&#39;s docs &quot;[Maximum Path Length Limitation][1]&quot; that path is not long enough to hit the windows limit.\r\n\r\n&quot;The input line is too long&quot; must include other characters, possibly parameters being passed to the bat file, or parameters being used to call that bat file.\r\n\r\nTo get a better picture of what is actually being executed, turn on command line process auditing in windows.  [Command line process auditing][2]\r\n\r\nIf you are somehow hitting that limit, and parameter passing is happening, I suggest finding a different way to get to that information, possibly by saving to and reading from a file.\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx#maxpath &quot;Maximum Path Length Limitation&quot;\r\n  [2]: https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/component-updates/command-line-process-auditing &quot;Command line process auditing&quot;","title":"Issue of input line is too long while executing bat file","body":"<p>According to Microsoft's docs \"<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx#maxpath\" rel=\"nofollow noreferrer\" title=\"Maximum Path Length Limitation\">Maximum Path Length Limitation</a>\" that path is not long enough to hit the windows limit.</p>\n\n<p>\"The input line is too long\" must include other characters, possibly parameters being passed to the bat file, or parameters being used to call that bat file.</p>\n\n<p>To get a better picture of what is actually being executed, turn on command line process auditing in windows.  <a href=\"https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/component-updates/command-line-process-auditing\" rel=\"nofollow noreferrer\" title=\"Command line process auditing\">Command line process auditing</a></p>\n\n<p>If you are somehow hitting that limit, and parameter passing is happening, I suggest finding a different way to get to that information, possibly by saving to and reading from a file.</p>\n"},{"tags":[],"owner":{"account_id":1987299,"reputation":3,"user_id":1782164,"display_name":"Thomas N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687427595,"creation_date":1687427595,"answer_id":76530665,"question_id":45886513,"body_markdown":"Also the contents of the PATH environment variable matters. Maybe you are adding to this? If it is too long you can get same error. Depending on windows version it can be as low as 2048\r\n","title":"Issue of input line is too long while executing bat file","body":"<p>Also the contents of the PATH environment variable matters. Maybe you are adding to this? If it is too long you can get same error. Depending on windows version it can be as low as 2048</p>\n"}],"owner":{"account_id":5363221,"reputation":11,"user_id":4273884,"display_name":"sandeep goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687427595,"creation_date":1503681331,"question_id":45886513,"body_markdown":"I have created one automated test which is running a bat file. This abc.bat is generated using application assembler plug-in. Inside bat file, class path has been set and Java commands has been executing). On Linux, it&#39;s working fine, but on Windows environment, I am getting the error of:\r\n\r\n&gt; The input line is too long\r\n \r\nThe path from which batch file is executing is `C:\\build\\work\\work1\\abc\\abc.bat`. I have to keep this path, can&#39;t reduce it to like `C:\\build\\abc.bat`.\r\n\r\nI am using process builder to run this abc.bat file.\r\n\r\n    public Test(Path wp, Path exe) throws IOException {\r\n    builder = new ProcessBuilder()\r\n            .directory(wp.toFile())\r\n            .command(wp.resolve(exe).toAbsolutePath().toString())\r\n            .redirectOutput(Redirect.INHERIT)\r\n            .redirectError(Redirect.INHERIT);\r\n    \t\t\r\n    \t\tbuilder.start();\r\n    }\r\n\t\t\r\nPath wp contains the path of C:\\build\\work\\work1. (I am fetching this path from system environment variables). Path exe contains the path of abc\\abc.bat\r\n\r\nI have done some research and found out that long path issue can be fixed by changing group policy as shown below:\r\n\r\n&gt; Hit the Windows key, type gpedit.msc and press Enter.  \r\nNavigate to Local Computer Policy &gt; Computer Configuration &gt; Administrative Templates &gt; System &gt; Filesystem  \r\nand enable win32 long paths.\r\n\r\nThis doesn&#39;t work for me. I am  using Windows 10 enterprise, OS build is 14393.1593.\r\n\r\nAnother way is using Subst command. Manually I can map the drive using command prompt like:\r\n\r\n    C:\\build&gt; Subst X: “C:\\build\\work\\work1” \r\n    X:\\&gt;abc\\abc.bat\r\n\r\nIt works fine and there is no issue of &quot;The input line is too long&quot;. Is this a good way to overcome this issue? and how to automate this using process builder?\r\n","title":"Issue of input line is too long while executing bat file","body":"<p>I have created one automated test which is running a bat file. This abc.bat is generated using application assembler plug-in. Inside bat file, class path has been set and Java commands has been executing). On Linux, it's working fine, but on Windows environment, I am getting the error of:</p>\n\n<blockquote>\n  <p>The input line is too long</p>\n</blockquote>\n\n<p>The path from which batch file is executing is <code>C:\\build\\work\\work1\\abc\\abc.bat</code>. I have to keep this path, can't reduce it to like <code>C:\\build\\abc.bat</code>.</p>\n\n<p>I am using process builder to run this abc.bat file.</p>\n\n<pre><code>public Test(Path wp, Path exe) throws IOException {\nbuilder = new ProcessBuilder()\n        .directory(wp.toFile())\n        .command(wp.resolve(exe).toAbsolutePath().toString())\n        .redirectOutput(Redirect.INHERIT)\n        .redirectError(Redirect.INHERIT);\n\n        builder.start();\n}\n</code></pre>\n\n<p>Path wp contains the path of C:\\build\\work\\work1. (I am fetching this path from system environment variables). Path exe contains the path of abc\\abc.bat</p>\n\n<p>I have done some research and found out that long path issue can be fixed by changing group policy as shown below:</p>\n\n<blockquote>\n  <p>Hit the Windows key, type gpedit.msc and press Enter.<br>\n  Navigate to Local Computer Policy > Computer Configuration > Administrative Templates > System > Filesystem<br>\n  and enable win32 long paths.</p>\n</blockquote>\n\n<p>This doesn't work for me. I am  using Windows 10 enterprise, OS build is 14393.1593.</p>\n\n<p>Another way is using Subst command. Manually I can map the drive using command prompt like:</p>\n\n<pre><code>C:\\build&gt; Subst X: “C:\\build\\work\\work1” \nX:\\&gt;abc\\abc.bat\n</code></pre>\n\n<p>It works fine and there is no issue of \"The input line is too long\". Is this a good way to overcome this issue? and how to automate this using process builder?</p>\n"},{"tags":["java","relational-database"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687432728,"post_id":76530631,"comment_id":134937683,"body_markdown":"You might get more (than none ;-) ) answers if you limit the scope of the question. For example, to just Postgres.","body":"You might get more (than none ;-) ) answers if you limit the scope of the question. For example, to just Postgres."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687433008,"post_id":76530631,"comment_id":134937734,"body_markdown":"You should be able to achieve point 1 by starting a transaction and just executing the delete statement. An error will mean there are references. No error? Then just rollback the transaction.","body":"You should be able to achieve point 1 by starting a transaction and just executing the delete statement. An error will mean there are references. No error? Then just rollback the transaction."}],"owner":{"account_id":3044540,"reputation":877,"user_id":2580580,"accept_rate":67,"display_name":"Sebastian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687427405,"creation_date":1687427405,"question_id":76530631,"body_markdown":"I have a Java application that is based (JPA, spring-data) on a relational database (PostgreSQL). This database has several tables referencing a specific table. So referencial integrity kicks in, when the user likes to delete an entry in that table.\r\n\r\nCurrently I have a complicated view joining all those referencing tables to see if there are any references. If so I have additional queries (depending on the referencing tables) to show business data to the user (and a link to the corresponding UIs) so that the user can examine the referencing data.\r\n\r\nI don&#39;t like that solution since a) it seems to be a lot of overhead for just displaying a comprehensive error message and b) it duplicates the reference-integrity check of the database.\r\n\r\nWhat I would prefer is:\r\n\r\n - databases to have means to check referencial integrity before executing the delete\r\n - databases to provide information which tables/rows are referencing the data (when the error kicks in)\r\n\r\nI am pretty sure that both is not possible (but I don&#39;t understand why databases don&#39;t have those features). Correct me if I am wrong.\r\nAnd if there are other possibilities / best practices, please let me know.","title":"Best practice on referencial integrity failures","body":"<p>I have a Java application that is based (JPA, spring-data) on a relational database (PostgreSQL). This database has several tables referencing a specific table. So referencial integrity kicks in, when the user likes to delete an entry in that table.</p>\n<p>Currently I have a complicated view joining all those referencing tables to see if there are any references. If so I have additional queries (depending on the referencing tables) to show business data to the user (and a link to the corresponding UIs) so that the user can examine the referencing data.</p>\n<p>I don't like that solution since a) it seems to be a lot of overhead for just displaying a comprehensive error message and b) it duplicates the reference-integrity check of the database.</p>\n<p>What I would prefer is:</p>\n<ul>\n<li>databases to have means to check referencial integrity before executing the delete</li>\n<li>databases to provide information which tables/rows are referencing the data (when the error kicks in)</li>\n</ul>\n<p>I am pretty sure that both is not possible (but I don't understand why databases don't have those features). Correct me if I am wrong.\nAnd if there are other possibilities / best practices, please let me know.</p>\n"},{"tags":["java","ssl","tomcat7","ssl-certificate","windows-8.1"],"comments":[{"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"score":1,"creation_date":1412585423,"post_id":26180650,"comment_id":41107766,"body_markdown":"Just figured out that Eurodw has renewed their certificate a few days ago","body":"Just figured out that Eurodw has renewed their certificate a few days ago"}],"answers":[{"comments":[{"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"score":4,"creation_date":1412586769,"post_id":26183328,"comment_id":41108363,"body_markdown":"&quot;%JAVA_HOME%/lib/security/cacerts&quot; (with quotes) works for me. Will have to repeat the task @ customer site until Oracle releases an updated trust-list","body":"&quot;%JAVA_HOME%/lib/security/cacerts&quot; (with quotes) works for me. Will have to repeat the task @ customer site until Oracle releases an updated trust-list"},{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":0,"creation_date":1475567235,"post_id":26183328,"comment_id":66982225,"body_markdown":"you have to add the double quotes as @usr-local said","body":"you have to add the double quotes as @usr-local said"},{"owner":{"account_id":404962,"reputation":1859,"user_id":773587,"accept_rate":50,"display_name":"Ali Ashraf"},"score":2,"creation_date":1505286538,"post_id":26183328,"comment_id":79344159,"body_markdown":"I checked my build.gradle file, and checked what all repositories project was trying to access, opened those URLs in browser and did as mentioned by @Francois, tried it on Ubuntu, restarted Android studio project and it worked.\n\nIf you are using windows7, to run keytool, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode, then look for keytool.exe in java folder.","body":"I checked my build.gradle file, and checked what all repositories project was trying to access, opened those URLs in browser and did as mentioned by @Francois, tried it on Ubuntu, restarted Android studio project and it worked.  If you are using windows7, to run keytool, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode, then look for keytool.exe in java folder."},{"owner":{"account_id":72430,"reputation":23413,"user_id":209113,"accept_rate":65,"display_name":"Matt"},"score":1,"creation_date":1615919895,"post_id":26183328,"comment_id":117840137,"body_markdown":"What if you don&#39;t have permission to &quot;%JAVA_HOME%/lib/security/cacerts&quot; because it&#39;s a work computer?","body":"What if you don&#39;t have permission to &quot;%JAVA_HOME%/lib/security/cacerts&quot; because it&#39;s a work computer?"}],"tags":[],"owner":{"account_id":5072949,"reputation":819,"user_id":4071229,"display_name":"Francois Laroche"},"comment_count":4,"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1652344111,"creation_date":1412355396,"answer_id":26183328,"question_id":26180650,"body_markdown":"The different certificates can be found in the following keystore :\r\n\r\n`%JAVA_HOME%/jre/lib/security/cacerts`\r\n\r\nIf you want to list the trusted certificates :\r\n\r\n    keytool -list -keystore %JAVA_HOME%/jre/lib/security/cacerts\r\n\r\nThe password is optional to list.\r\n\r\nIf you want to add an entry :\r\n\r\nFirst, export the certificate to import, let&#39;s say it will be c:\\cert.crt. The best way to do it is using firefox, right-click on the lock picture in the URL, and after a few clicks, you have an export feature.\r\n\r\nThen type :\r\n\r\n    keytool -import -alias my-cert -file c:\\cert.crt -keystore %JAVA_HOME%/jre/lib/security/cacerts\r\n\r\nThe default password is: `changeit`\r\n\r\nThe alias is a user-defined label, choose it wisely, to remember if you need it one day, what it was.\r\n\r\nWith all this, you should be able to trust the certificate and have everything working again.\r\n","title":"&quot;unable to find valid certification path to requested target&quot;, but browser says it&#39;s OK","body":"<p>The different certificates can be found in the following keystore :</p>\n<p><code>%JAVA_HOME%/jre/lib/security/cacerts</code></p>\n<p>If you want to list the trusted certificates :</p>\n<pre><code>keytool -list -keystore %JAVA_HOME%/jre/lib/security/cacerts\n</code></pre>\n<p>The password is optional to list.</p>\n<p>If you want to add an entry :</p>\n<p>First, export the certificate to import, let's say it will be c:\\cert.crt. The best way to do it is using firefox, right-click on the lock picture in the URL, and after a few clicks, you have an export feature.</p>\n<p>Then type :</p>\n<pre><code>keytool -import -alias my-cert -file c:\\cert.crt -keystore %JAVA_HOME%/jre/lib/security/cacerts\n</code></pre>\n<p>The default password is: <code>changeit</code></p>\n<p>The alias is a user-defined label, choose it wisely, to remember if you need it one day, what it was.</p>\n<p>With all this, you should be able to trust the certificate and have everything working again.</p>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99146,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"closed_date":1687432981,"accepted_answer_id":26183328,"answer_count":1,"score":35,"last_activity_date":1687427273,"creation_date":1412345717,"question_id":26180650,"body_markdown":"I&#39;m developing a Java application that connects to SOAP services exposed at https://ut.eurodw.eu/ (test environment for European Datawarehouse). I&#39;m working on my development machine, recently reformatted with Windows 8.1. Today, I tried to send them a creation request via SOAP from my program and got this error:\r\n\r\n\r\n    Caused by: javax.xml.ws.WebServiceException: Could not send Message.\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:146)\r\n    \tat com.sun.proxy.$Proxy110.createDeal(Unknown Source)\r\n    \tat it.csttech.edwin.services.spring.EdwinServiceImpl.createDeal(EdwinServiceImpl.java:102)\r\n    \tat it.csttech.edwin.consumercredit.data.managers.spring.DealManagerImpl.createEdCode(DealManagerImpl.java:319)\r\n    \t... 77 more\r\n    Caused by: javax.net.ssl.SSLHandshakeException: SSLHandshakeException invoking https://ut.eurodw.eu/edservices/2.2/DealService.svc: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1339)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1323)\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:628)\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:565)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:135)\r\n    \t... 80 more\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1091)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n    \tat org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.setupWrappedStream(URLConnectionHTTPConduit.java:174)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1283)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1239)\r\n    \tat org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.onFirstWrite(URLConnectionHTTPConduit.java:201)\r\n    \tat org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)\r\n    \tat org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1296)\r\n    \t... 90 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:260)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\r\n    \t... 108 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\r\n    \t... 114 more\r\n\r\n\r\nAs you can see by clicking my above link, that&#39;s no self-signed certificate, but released by GoDaddy public CA, recognized by my Firefox browser. My Java version is `1.7.0_60-b19`. It will be a **bad idea** to modify the code in order to allow insecure SSL connections.\r\n\r\nI&#39;d like instead to ensure that eurodw&#39;s certificate is in the trust store. How do I check that? And how do I possibly import a new certificate?\r\n\r\nPS I cannot currently test on the server where the final application is deployed: I can only use my own Tomcat installation.","title":"&quot;unable to find valid certification path to requested target&quot;, but browser says it&#39;s OK","body":"<p>I'm developing a Java application that connects to SOAP services exposed at <a href=\"https://ut.eurodw.eu/\" rel=\"noreferrer\">https://ut.eurodw.eu/</a> (test environment for European Datawarehouse). I'm working on my development machine, recently reformatted with Windows 8.1. Today, I tried to send them a creation request via SOAP from my program and got this error:</p>\n\n<pre><code>Caused by: javax.xml.ws.WebServiceException: Could not send Message.\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:146)\n    at com.sun.proxy.$Proxy110.createDeal(Unknown Source)\n    at it.csttech.edwin.services.spring.EdwinServiceImpl.createDeal(EdwinServiceImpl.java:102)\n    at it.csttech.edwin.consumercredit.data.managers.spring.DealManagerImpl.createEdCode(DealManagerImpl.java:319)\n    ... 77 more\nCaused by: javax.net.ssl.SSLHandshakeException: SSLHandshakeException invoking https://ut.eurodw.eu/edservices/2.2/DealService.svc: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1339)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1323)\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:628)\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:565)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:135)\n    ... 80 more\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1091)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.setupWrappedStream(URLConnectionHTTPConduit.java:174)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1283)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1239)\n    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.onFirstWrite(URLConnectionHTTPConduit.java:201)\n    at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)\n    at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1296)\n    ... 90 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\n    ... 108 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\n    ... 114 more\n</code></pre>\n\n<p>As you can see by clicking my above link, that's no self-signed certificate, but released by GoDaddy public CA, recognized by my Firefox browser. My Java version is <code>1.7.0_60-b19</code>. It will be a <strong>bad idea</strong> to modify the code in order to allow insecure SSL connections.</p>\n\n<p>I'd like instead to ensure that eurodw's certificate is in the trust store. How do I check that? And how do I possibly import a new certificate?</p>\n\n<p>PS I cannot currently test on the server where the final application is deployed: I can only use my own Tomcat installation.</p>\n"},{"tags":["java","node.js","maven","npm","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1687450623,"post_id":76530566,"comment_id":134941923,"body_markdown":"Which operating system are you running on? Which version of nodejs? run `node -v`. I don&#39;t know how you generated your project, but if you look at the sample project, its `package.json` has a `start` script https://github.com/jhipster/jhipster-sample-app/blob/main/package.json#L67","body":"Which operating system are you running on? Which version of nodejs? run <code>node -v</code>. I don&#39;t know how you generated your project, but if you look at the sample project, its <code>package.json</code> has a <code>start</code> script <a href=\"https://github.com/jhipster/jhipster-sample-app/blob/main/package.json#L67\" rel=\"nofollow noreferrer\">github.com/jhipster/jhipster-sample-app/blob/main/&hellip;</a>"},{"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"score":0,"creation_date":1687464395,"post_id":76530566,"comment_id":134944502,"body_markdown":"I&#39;m on Windows 11 with Node v20.3.1. I tried using the start script from the sample project, but I get this error message: &#39;ng&#39; is not recognized as an internal or external command, operable program or batch file.","body":"I&#39;m on Windows 11 with Node v20.3.1. I tried using the start script from the sample project, but I get this error message: &#39;ng&#39; is not recognized as an internal or external command, operable program or batch file."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1687469628,"post_id":76530566,"comment_id":134945442,"body_markdown":"node v20.3.1 is not a LTS release, JHipster supports only LTS. https://nodejs.dev/fr/about/releases/ More, JHipster 7 has some issues with Node 18 that will be fixed in JHipster 8. **So, for now, use Node 16**.https://nodejs.org/download/release/latest-v16.x/ Then you are on Windows, which shell are you using? To use the sample project, you must run `npm install` in it because you did not generate the project.","body":"node v20.3.1 is not a LTS release, JHipster supports only LTS. <a href=\"https://nodejs.dev/fr/about/releases/\" rel=\"nofollow noreferrer\">nodejs.dev/fr/about/releases</a> More, JHipster 7 has some issues with Node 18 that will be fixed in JHipster 8. <b>So, for now, use Node 16</b>.<a href=\"https://nodejs.org/download/release/latest-v16.x/\" rel=\"nofollow noreferrer\">nodejs.org/download/release/latest-v16.x</a> Then you are on Windows, which shell are you using? To use the sample project, you must run <code>npm install</code> in it because you did not generate the project."},{"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"score":0,"creation_date":1687499465,"post_id":76530566,"comment_id":134948090,"body_markdown":"The issue is I was using jabba as well which only works with Node 18 and up.","body":"The issue is I was using jabba as well which only works with Node 18 and up."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1687517161,"post_id":76530566,"comment_id":134951350,"body_markdown":"So you should use JHipster 8 even if it&#39;s still in beta version, it&#39;s the only version that works with node 18. But maybe this is already what you use because it&#39;s the current default when you npm install -g generator-jhipster","body":"So you should use JHipster 8 even if it&#39;s still in beta version, it&#39;s the only version that works with node 18. But maybe this is already what you use because it&#39;s the current default when you npm install -g generator-jhipster"}],"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687426986,"creation_date":1687426986,"question_id":76530566,"body_markdown":"After creating a JHipster project, I get the following message:\r\n```\r\n Spring Boot application generated successfully.\r\n  Run your Spring Boot application:\r\n  ./mvnw (mvnw if using Windows Command Prompt)\r\n```\r\nWhen I run ./mvnw, I get a build successful message, but nothing happens. So I tried running npm start, but I get this error:\r\n```\r\nnpm ERR! Missing script: &quot;start&quot;\r\nnpm ERR!\r\nnpm ERR! Did you mean one of these?\r\nnpm ERR!     npm star # Mark your favorite packages\r\nnpm ERR!     npm stars # View packages marked as favorites\r\nnpm ERR!\r\nnpm ERR! To see a list of scripts, run:\r\nnpm ERR!   npm run\r\n```\r\nThe only start I have in my package.json is &quot;app:start&quot;: &quot;./mvnw&quot;, so I don&#39;t know if I need to add this the start script to my package.json, and if I do, I don&#39;t know what it should be pointing to. Any help? ","title":"Missing script: start in JHipster","body":"<p>After creating a JHipster project, I get the following message:</p>\n<pre><code> Spring Boot application generated successfully.\n  Run your Spring Boot application:\n  ./mvnw (mvnw if using Windows Command Prompt)\n</code></pre>\n<p>When I run ./mvnw, I get a build successful message, but nothing happens. So I tried running npm start, but I get this error:</p>\n<pre><code>npm ERR! Missing script: &quot;start&quot;\nnpm ERR!\nnpm ERR! Did you mean one of these?\nnpm ERR!     npm star # Mark your favorite packages\nnpm ERR!     npm stars # View packages marked as favorites\nnpm ERR!\nnpm ERR! To see a list of scripts, run:\nnpm ERR!   npm run\n</code></pre>\n<p>The only start I have in my package.json is &quot;app:start&quot;: &quot;./mvnw&quot;, so I don't know if I need to add this the start script to my package.json, and if I do, I don't know what it should be pointing to. Any help?</p>\n"},{"tags":["java","angular","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687426508,"creation_date":1687426508,"answer_id":76530488,"question_id":76529611,"body_markdown":"I have found the problem. This piece of code\r\n```\r\n.formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/loginUser&quot;)\r\n                        .permitAll()\r\n                )\r\n```\r\nwas causing the `HTTP 302` loop. I have changed the `filterChain` method:\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf()\r\n                .disable()\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n                .permitAll()\r\n                        .requestMatchers(&quot;/login&quot;)\r\n                .permitAll()\r\n                        .requestMatchers(\r\n                            //all other urls listed\r\n                        ).authenticated());\r\n        return http.build();\r\n```\r\nAnd the endpoint now is:\r\n```\r\n@RequestMapping(value=&quot;/login&quot;)\r\npublic ResponseEntity&lt;User&gt; login(@RequestBody LoginUserDTO loginUserDTO) {\r\n     return ResponseEntity.ok(this.userService.findByEmail(loginUserDTO.username()));\r\n}\r\n```\r\nMaking `POST` requests to `localhost:8081/login` works perfectly fine now.","title":"GET http://localhost:8081/login net::ERR_TOO_MANY_REDIRECTS 302 Angular and Java","body":"<p>I have found the problem. This piece of code</p>\n<pre><code>.formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/loginUser&quot;)\n                        .permitAll()\n                )\n</code></pre>\n<p>was causing the <code>HTTP 302</code> loop. I have changed the <code>filterChain</code> method:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf()\n                .disable()\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                .permitAll()\n                        .requestMatchers(&quot;/login&quot;)\n                .permitAll()\n                        .requestMatchers(\n                            //all other urls listed\n                        ).authenticated());\n        return http.build();\n</code></pre>\n<p>And the endpoint now is:</p>\n<pre><code>@RequestMapping(value=&quot;/login&quot;)\npublic ResponseEntity&lt;User&gt; login(@RequestBody LoginUserDTO loginUserDTO) {\n     return ResponseEntity.ok(this.userService.findByEmail(loginUserDTO.username()));\n}\n</code></pre>\n<p>Making <code>POST</code> requests to <code>localhost:8081/login</code> works perfectly fine now.</p>\n"}],"owner":{"account_id":16250576,"reputation":552,"user_id":11734659,"display_name":"Programmer2B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76530488,"answer_count":1,"score":1,"last_activity_date":1687426508,"creation_date":1687419820,"question_id":76529611,"body_markdown":"I implemented authentication in Java using Spring Security v6.1.0 and this is the endpoint:\r\n```\r\n @GetMapping(value=&quot;/loginUser&quot;)\r\n    public User login(Principal principal) {\r\n        return this.userService.findByEmail(principal.getName());\r\n    }\r\n```\r\nWebSecurityConfig class:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\r\n                        .requestMatchers(&quot;/scan&quot;,\r\n                                &quot;/loginUser&quot;,\r\n                                &quot;/users&quot;,\r\n                                &quot;/invoices&quot;,\r\n                                &quot;/dueNextWeek&quot;,\r\n                                &quot;/groupedByVendor&quot;,\r\n                                &quot;/groupedByVendorTotalAmountPerMonth&quot;,\r\n                                &quot;/totalAmountPerMonth&quot;).authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/loginUser&quot;)\r\n                        .permitAll()\r\n                )\r\n                .cors((cors) -&gt; cors\r\n                        .configurationSource(corsConfigurationSource())\r\n                );\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nUserServiceImpl:\r\n```\r\n @Override\r\n    public User findByEmail(String email) {\r\n        Optional&lt;User&gt; user = this.userRepository.findByEmail(email);\r\n        return user.get();\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; userOpt = userRepository.findByEmail(username);\r\n        User user = userOpt.orElseThrow(() -&gt; new UsernameNotFoundException(username + &quot; not found!&quot;));\r\n\r\n        return org.springframework.security.core.userdetails.User.builder()\r\n                .username(user.getEmail())\r\n                .password(user.getPassword()).build();\r\n    }\r\n```\r\nThe angular service:\r\n```\r\nimport {Component} from &#39;@angular/core&#39;;\r\nimport {Router} from &quot;@angular/router&quot;;\r\nimport {AuthService} from &quot;../authentication/auth.service&quot;;\r\n\r\n@Component({\r\n  selector: &#39;app-login&#39;,\r\n  templateUrl: &#39;./login.component.html&#39;,\r\n  styleUrls: [&#39;./login.component.css&#39;]\r\n})\r\nexport class LoginComponent {\r\n\r\n  form: any = {\r\n    username: null,\r\n    password: null\r\n  };\r\n\r\n  isLoggedIn = false;\r\n  errorMessage = &#39;&#39;;\r\n  wrongCredentials: boolean = false;\r\n  invalidLogin: boolean = false;\r\n\r\n  constructor(private router: Router, private loginService: AuthService) {\r\n  }\r\n\r\n  onSubmit(): void {\r\n    sessionStorage.setItem(&#39;username&#39;, this.form.username);\r\n    sessionStorage.setItem(&#39;password&#39;, this.form.password);\r\n\r\n    this.loginService.authenticate(this.form.username, this.form.password).subscribe(\r\n      () =&gt; {\r\n        this.router.navigate([&#39;/home&#39;]);\r\n        this.invalidLogin = false;\r\n      },\r\n      (err) =&gt; {\r\n        this.invalidLogin = true;\r\n        this.wrongCredentials = true;\r\n      }\r\n    )\r\n  }\r\n}\r\n```\r\n```\r\nimport {Injectable} from &#39;@angular/core&#39;;\r\nimport {HttpClient, HttpHeaders} from &quot;@angular/common/http&quot;;\r\nimport {catchError, map, throwError} from &quot;rxjs&quot;;\r\n\r\nconst AUTH_API = &#39;http://localhost:8081/login&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class AuthService {\r\n\r\n  isLoggedIn: boolean | undefined;\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  authenticate(username: string, password: string) {\r\n    const httpOptions: Object = {\r\n      headers: new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n        &#39;Authorization&#39;: &quot;Basic &quot; + btoa(username + &quot;:&quot; + password)\r\n      }),\r\n      responseType: &#39;text&#39;\r\n    };\r\n\r\n    let credentials = {username: username, password: password};\r\n\r\n    return this.http.post(AUTH_API, credentials, httpOptions).pipe(\r\n      map(() =&gt; {\r\n          let authString = &#39;Basic &#39; + btoa(username + &#39;:&#39; + password);\r\n          sessionStorage.setItem(&#39;username&#39;, username);\r\n          sessionStorage.setItem(&#39;basicAuth&#39;, authString);\r\n\r\n          this.isLoggedIn = true;\r\n        }),\r\n      catchError((error) =&gt; {\r\n        console.error(&#39;Authentication error:&#39;, error);\r\n        return throwError(error);\r\n      }))\r\n  }\r\n\r\n  isUserLoggedIn() {\r\n    let basicAuth = sessionStorage.getItem(&#39;basicAuth&#39;);\r\n    return basicAuth != null;\r\n  }\r\n\r\n  logOut() {\r\n    sessionStorage.removeItem(&#39;username&#39;);\r\n    sessionStorage.removeItem(&#39;basicAuth&#39;);\r\n\r\n    this.isLoggedIn = false;\r\n  }\r\n}\r\n```\r\nWhen I send POST request from postman to the java application on `/login`, I get the authenticated User as a response, which I guess it works how it should work, but when I send a request from the angular application, I get `GET http://localhost:8081/login net::ERR_TOO_MANY_REDIRECTS 302`. Where do I go wrong?","title":"GET http://localhost:8081/login net::ERR_TOO_MANY_REDIRECTS 302 Angular and Java","body":"<p>I implemented authentication in Java using Spring Security v6.1.0 and this is the endpoint:</p>\n<pre><code> @GetMapping(value=&quot;/loginUser&quot;)\n    public User login(Principal principal) {\n        return this.userService.findByEmail(principal.getName());\n    }\n</code></pre>\n<p>WebSecurityConfig class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\n                        .requestMatchers(&quot;/scan&quot;,\n                                &quot;/loginUser&quot;,\n                                &quot;/users&quot;,\n                                &quot;/invoices&quot;,\n                                &quot;/dueNextWeek&quot;,\n                                &quot;/groupedByVendor&quot;,\n                                &quot;/groupedByVendorTotalAmountPerMonth&quot;,\n                                &quot;/totalAmountPerMonth&quot;).authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/loginUser&quot;)\n                        .permitAll()\n                )\n                .cors((cors) -&gt; cors\n                        .configurationSource(corsConfigurationSource())\n                );\n\n        return http.build();\n    }\n\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>UserServiceImpl:</p>\n<pre><code> @Override\n    public User findByEmail(String email) {\n        Optional&lt;User&gt; user = this.userRepository.findByEmail(email);\n        return user.get();\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; userOpt = userRepository.findByEmail(username);\n        User user = userOpt.orElseThrow(() -&gt; new UsernameNotFoundException(username + &quot; not found!&quot;));\n\n        return org.springframework.security.core.userdetails.User.builder()\n                .username(user.getEmail())\n                .password(user.getPassword()).build();\n    }\n</code></pre>\n<p>The angular service:</p>\n<pre><code>import {Component} from '@angular/core';\nimport {Router} from &quot;@angular/router&quot;;\nimport {AuthService} from &quot;../authentication/auth.service&quot;;\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  form: any = {\n    username: null,\n    password: null\n  };\n\n  isLoggedIn = false;\n  errorMessage = '';\n  wrongCredentials: boolean = false;\n  invalidLogin: boolean = false;\n\n  constructor(private router: Router, private loginService: AuthService) {\n  }\n\n  onSubmit(): void {\n    sessionStorage.setItem('username', this.form.username);\n    sessionStorage.setItem('password', this.form.password);\n\n    this.loginService.authenticate(this.form.username, this.form.password).subscribe(\n      () =&gt; {\n        this.router.navigate(['/home']);\n        this.invalidLogin = false;\n      },\n      (err) =&gt; {\n        this.invalidLogin = true;\n        this.wrongCredentials = true;\n      }\n    )\n  }\n}\n</code></pre>\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from &quot;@angular/common/http&quot;;\nimport {catchError, map, throwError} from &quot;rxjs&quot;;\n\nconst AUTH_API = 'http://localhost:8081/login';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  isLoggedIn: boolean | undefined;\n\n  constructor(private http: HttpClient) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  authenticate(username: string, password: string) {\n    const httpOptions: Object = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': &quot;Basic &quot; + btoa(username + &quot;:&quot; + password)\n      }),\n      responseType: 'text'\n    };\n\n    let credentials = {username: username, password: password};\n\n    return this.http.post(AUTH_API, credentials, httpOptions).pipe(\n      map(() =&gt; {\n          let authString = 'Basic ' + btoa(username + ':' + password);\n          sessionStorage.setItem('username', username);\n          sessionStorage.setItem('basicAuth', authString);\n\n          this.isLoggedIn = true;\n        }),\n      catchError((error) =&gt; {\n        console.error('Authentication error:', error);\n        return throwError(error);\n      }))\n  }\n\n  isUserLoggedIn() {\n    let basicAuth = sessionStorage.getItem('basicAuth');\n    return basicAuth != null;\n  }\n\n  logOut() {\n    sessionStorage.removeItem('username');\n    sessionStorage.removeItem('basicAuth');\n\n    this.isLoggedIn = false;\n  }\n}\n</code></pre>\n<p>When I send POST request from postman to the java application on <code>/login</code>, I get the authenticated User as a response, which I guess it works how it should work, but when I send a request from the angular application, I get <code>GET http://localhost:8081/login net::ERR_TOO_MANY_REDIRECTS 302</code>. Where do I go wrong?</p>\n"},{"tags":["java","audio","sampling"],"answers":[{"comments":[{"owner":{"account_id":3089447,"reputation":1280,"user_id":2615905,"accept_rate":46,"display_name":"T_01"},"score":0,"creation_date":1376520873,"post_id":3496415,"comment_id":26749897,"body_markdown":"what does a negative value? o.O","body":"what does a negative value? o.O"},{"owner":{"account_id":2900087,"reputation":1594,"user_id":2487009,"accept_rate":91,"display_name":"Demurgos"},"score":5,"creation_date":1424725251,"post_id":3496415,"comment_id":45659488,"body_markdown":"@T_01 -3 means 2 times less, -6 means 4 times less, -10 means 10 times less etc. (logarithmic scale) See [Wikipedia](http://en.wikipedia.org/wiki/Decibel)","body":"@T_01 -3 means 2 times less, -6 means 4 times less, -10 means 10 times less etc. (logarithmic scale) See <a href=\"http://en.wikipedia.org/wiki/Decibel\" rel=\"nofollow noreferrer\">Wikipedia</a>"}],"tags":[],"owner":{"account_id":182105,"reputation":1241,"user_id":416571,"display_name":"qmega"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1281985633,"creation_date":1281985633,"answer_id":3496415,"question_id":3495699,"body_markdown":"    FloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\r\n    volume.setValue(gainAmount);\r\n\r\nJust replace `gainAmount` with a float representing the gain in decibels. Can be positive or negative.","title":"Controlling volume of a Clip when using Java Sound (javax,sound.sampled)","body":"<pre><code>FloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\nvolume.setValue(gainAmount);\n</code></pre>\n\n<p>Just replace <code>gainAmount</code> with a float representing the gain in decibels. Can be positive or negative.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1633893211,"post_id":69518101,"comment_id":122875760,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69518101/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22996995,"reputation":1,"user_id":17121591,"display_name":"nobodyKnows"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687425848,"creation_date":1633892294,"answer_id":69518101,"question_id":3495699,"body_markdown":"- adds the amount to your volume:\r\n```\r\nFloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\r\nvolume.setValue(volume.getValue()+gainAmount)\r\n```\r\n\r\n- sets volume to a certain amount from -80.0 to 6.0206:\r\n```\r\nFloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\r\nvolume.setValue(gainAmount);\r\n```","title":"Controlling volume of a Clip when using Java Sound (javax,sound.sampled)","body":"<ul>\n<li>adds the amount to your volume:</li>\n</ul>\n<pre><code>FloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\nvolume.setValue(volume.getValue()+gainAmount)\n</code></pre>\n<ul>\n<li>sets volume to a certain amount from -80.0 to 6.0206:</li>\n</ul>\n<pre><code>FloatControl volume = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\nvolume.setValue(gainAmount);\n</code></pre>\n"}],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8744,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3496415,"answer_count":2,"score":5,"last_activity_date":1687425848,"creation_date":1281980251,"question_id":3495699,"body_markdown":"I&#39;m using Java sound to play back a number of sound samples with the Clip.start() method.\r\n\r\nGiven this, what is the best way to control the playback volume? \r\n\r\nIn particular, I&#39;m very keen that the solution will work reliably across platforms.","title":"Controlling volume of a Clip when using Java Sound (javax,sound.sampled)","body":"<p>I'm using Java sound to play back a number of sound samples with the Clip.start() method.</p>\n\n<p>Given this, what is the best way to control the playback volume? </p>\n\n<p>In particular, I'm very keen that the solution will work reliably across platforms.</p>\n"},{"tags":["java","android","kotlin","video","load"],"owner":{"account_id":24659405,"reputation":67,"user_id":18555779,"display_name":"WilliamVietnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687425562,"creation_date":1687398349,"question_id":76528137,"body_markdown":"Suppose I have video url from any website\r\n\r\n(For example: https://1080.opstream4.com/share/c40c01024a2299498ce379d3253daec4)\r\n\r\nI want load url and play video in my android app. \r\n\r\nCan anyone show me steps to resolve this problem?","title":"Load video URL from any website to ANDROID app","body":"<p>Suppose I have video url from any website</p>\n<p>(For example: <a href=\"https://1080.opstream4.com/share/c40c01024a2299498ce379d3253daec4\" rel=\"nofollow noreferrer\">https://1080.opstream4.com/share/c40c01024a2299498ce379d3253daec4</a>)</p>\n<p>I want load url and play video in my android app.</p>\n<p>Can anyone show me steps to resolve this problem?</p>\n"},{"tags":["java","maven","visual-studio-code","vscode-remote"],"answers":[{"comments":[{"owner":{"account_id":18048321,"reputation":63,"user_id":13118680,"display_name":"DPS100"},"score":0,"creation_date":1687448162,"post_id":76530248,"comment_id":134941408,"body_markdown":"I&#39;m still getting the same error, I added both the path with wildcards to the jars in the .m2 maven folder and the individual path to each .jar, and neither worked.","body":"I&#39;m still getting the same error, I added both the path with wildcards to the jars in the .m2 maven folder and the individual path to each .jar, and neither worked."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1687770805,"post_id":76530248,"comment_id":134977934,"body_markdown":"What if instead of the vscode button I use the maven command in the terminal?","body":"What if instead of the vscode button I use the maven command in the terminal?"},{"owner":{"account_id":18048321,"reputation":63,"user_id":13118680,"display_name":"DPS100"},"score":0,"creation_date":1687886762,"post_id":76530248,"comment_id":134998877,"body_markdown":"If you mean the maven run command, that does work. My issue is that there is no syntax highlighting or method previews or anything of the sort, which is especially troublesome with large maven repositories.","body":"If you mean the maven run command, that does work. My issue is that there is no syntax highlighting or method previews or anything of the sort, which is especially troublesome with large maven repositories."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687424760,"creation_date":1687424760,"answer_id":76530248,"question_id":76526489,"body_markdown":"try the following steps\r\n\r\n 1. Add the following in *settings.json*:\r\n\r\n    ```json\r\n        &quot;java.project.referencedLibraries&quot;: [\r\n            &quot;lib/**/*.jar&quot;\r\n        ]\r\n    ```\r\n\r\n    *Make sure to add the actual location of the JAR*\r\n\r\n 2. &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Java: Clean Java Language Server Workspace`\r\n\r\n 3. Restart vscode","title":"VSCode Java Language Server not detecting artifacts (present, but unavailable) in pom.xml, but Maven still compiling","body":"<p>try the following steps</p>\n<ol>\n<li><p>Add the following in <em>settings.json</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;\n    ]\n</code></pre>\n<p><em>Make sure to add the actual location of the JAR</em></p>\n</li>\n<li><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Java: Clean Java Language Server Workspace</code></p>\n</li>\n<li><p>Restart vscode</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18048321,"reputation":63,"user_id":13118680,"display_name":"DPS100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687424760,"creation_date":1687375178,"question_id":76526489,"body_markdown":"I&#39;m using VSCode&#39;s remote ssh to develop on an amazon EC2 instance, as the GUI on the remote machine is horribly slow. Additionally, I&#39;m using Atlassian&#39;s plugin SDK, which comes with it&#39;s own version of Maven. Maven can package the project fine on the host and remote computer, and the language server can detect the project just fine on the host computer. However, when I use VSCode&#39;s remote ssh tool to open the project on my remote computer, the Java Language Server gives these errors.\r\n\r\n&gt; Error occured while building workspace. Details:\r\n&gt; message: Project build error: Unknown packaging: atlassian-plugin; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 19\r\n&gt; message: Project build error: Unresolveable build extension: Plugin com.atlassian.maven.plugins:jira-maven-plugin:8.1.2 or one of its dependencies could not be resolved: The following artifacts could not be resolved: com.atlassian.maven.plugins:jira-maven-plugin:jar:8.1.2 (present, but unavailable): com.atlassian.maven.plugins:jira-maven-plugin:jar:8.1.2 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 1\r\n&gt; message: Missing artifact com.atlassian.jira:jira-api:jar:7.13.0; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 22\r\n&gt; message: Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 45\r\n&gt; message: Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 71\r\n&gt; message: Missing artifact com.google.code.gson:gson:jar:2.2.2-atlassian-1; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 83\r\n\r\nHowever, the Maven for Java extension can detect all dependencies just fine with this settings.json file:\r\n\r\n```\r\n{\r\n    &quot;java.configuration.maven.globalSettings&quot;: &quot;/usr/share/atlassian-plugin-sdk-8.2.8/apache-maven-3.5.4/conf&quot;,\r\n    &quot;maven.executable.path&quot;: &quot;/usr/bin/atlas-mvn&quot;,\r\n    &quot;java.maven.downloadSources&quot;: true,\r\n    &quot;java.help.collectErrorLog&quot;: true,\r\n    &quot;java.import.maven.offline.enabled&quot;: false,\r\n    &quot;java.maven.updateSnapshots&quot;: true,\r\n    &quot;java.server.launchMode&quot;: &quot;Standard&quot;,\r\n    &quot;java.trace.server&quot;: &quot;messages&quot;,\r\n}\r\n```\r\n\r\nI&#39;m not sure why the Maven extension works while the Java Language Server doesn&#39;t, am I missing some config settings to point to the Maven config file? I don&#39;t have any other version of Maven installed, and atlas-mvn -version returns `Apache Maven 3.5.4`.\r\n\r\nHere&#39;s the pom.xml file in case that&#39;s useful.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?\\&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;\\&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;TESTING&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CSVServerTestPlugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;organization&gt;\r\n        &lt;name&gt;Example Company&lt;/name&gt;\r\n        &lt;url&gt;http://www.example.com/&lt;/url&gt;\r\n    &lt;/organization&gt;\r\n    \r\n    &lt;name&gt;CSVServerTestPlugin&lt;/name&gt;\r\n    &lt;description&gt;This is the TESTING:CSVServerTestPlugin plugin for Atlassian JIRA.&lt;/description&gt;\r\n    &lt;packaging&gt;atlassian-plugin&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jira.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Add dependency on jira-core if you want access to JIRA implementation classes as well as the sanctioned API. --&gt;\r\n        &lt;!-- This is not normally recommended, but may be required eg when migrating a plugin originally developed against JIRA 4.x --&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jira.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;atlassian-plugins-osgi-javaconfig&lt;/artifactId&gt;\r\n            &lt;version&gt;${osgi.javaconfig.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- OSGi Java Config dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.felix.framework&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- WIRED TEST RUNNER DEPENDENCIES --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;atlassian-plugins-osgi-testrunner&lt;/artifactId&gt;\r\n            &lt;version&gt;${plugin.testrunner.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2-atlassian-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Uncomment to use TestKit in your project. Details at https://bitbucket.org/atlassian/jira-testkit --&gt;\r\n        &lt;!-- You can read more about TestKit at https://developer.atlassian.com/display/JIRADEV/Plugin+Tutorial+-+Smarter+integration+testing+with+TestKit --&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira.tests&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-testkit-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${testkit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.atlassian.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jira-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${amps.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;productVersion&gt;${jira.version}&lt;/productVersion&gt;\r\n                    &lt;productDataVersion&gt;${jira.version}&lt;/productDataVersion&gt;\r\n                    &lt;!-- Uncomment to install TestKit backdoor in JIRA. --&gt;\r\n                    &lt;!--\r\n                    &lt;pluginArtifacts&gt;\r\n                        &lt;pluginArtifact&gt;\r\n                            &lt;groupId&gt;com.atlassian.jira.tests&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jira-testkit-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${testkit.version}&lt;/version&gt;\r\n                        &lt;/pluginArtifact&gt;\r\n                    &lt;/pluginArtifacts&gt;\r\n                    --&gt;\r\n                    &lt;enableQuickReload&gt;true&lt;/enableQuickReload&gt;\r\n    \r\n                    &lt;!-- See here for an explanation of default instructions: --&gt;\r\n                    &lt;!-- https://developer.atlassian.com/docs/advanced-topics/configuration-of-instructions-in-atlassian-plugins --&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Atlassian-Plugin-Key&gt;${atlassian.plugin.key}&lt;/Atlassian-Plugin-Key&gt;\r\n    \r\n                        &lt;!-- Add package to export here --&gt;\r\n                        &lt;Export-Package&gt;\r\n                            TESTING.api,\r\n                        &lt;/Export-Package&gt;\r\n    \r\n                        &lt;!-- Add package import here --&gt;\r\n                        &lt;Import-Package&gt;\r\n                            org.springframework.osgi.*;resolution:=&quot;optional&quot;,\r\n                            org.eclipse.gemini.blueprint.*;resolution:=&quot;optional&quot;,\r\n                            *\r\n                        &lt;/Import-Package&gt;\r\n    \r\n                        &lt;!-- Ensure plugin is spring powered --&gt;\r\n                        &lt;Spring-Context&gt;*&lt;/Spring-Context&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;jira.version&gt;7.13.0&lt;/jira.version&gt;\r\n        &lt;amps.version&gt;8.1.2&lt;/amps.version&gt;\r\n        &lt;plugin.testrunner.version&gt;2.0.2&lt;/plugin.testrunner.version&gt;\r\n        &lt;osgi.javaconfig.version&gt;0.2.0&lt;/osgi.javaconfig.version&gt;\r\n        &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt;\r\n        &lt;!-- This property ensures consistency between the key in atlassian-plugin.xml and the OSGi bundle&#39;s key. --&gt;\r\n        &lt;atlassian.plugin.key&gt;${project.groupId}.${project.artifactId}&lt;/atlassian.plugin.key&gt;\r\n        &lt;!-- TestKit version 6.x for JIRA 6.x --&gt;\r\n        &lt;testkit.version&gt;6.3.11&lt;/testkit.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project\\&gt;\r\n```","title":"VSCode Java Language Server not detecting artifacts (present, but unavailable) in pom.xml, but Maven still compiling","body":"<p>I'm using VSCode's remote ssh to develop on an amazon EC2 instance, as the GUI on the remote machine is horribly slow. Additionally, I'm using Atlassian's plugin SDK, which comes with it's own version of Maven. Maven can package the project fine on the host and remote computer, and the language server can detect the project just fine on the host computer. However, when I use VSCode's remote ssh tool to open the project on my remote computer, the Java Language Server gives these errors.</p>\n<blockquote>\n<p>Error occured while building workspace. Details:\nmessage: Project build error: Unknown packaging: atlassian-plugin; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 19\nmessage: Project build error: Unresolveable build extension: Plugin com.atlassian.maven.plugins:jira-maven-plugin:8.1.2 or one of its dependencies could not be resolved: The following artifacts could not be resolved: com.atlassian.maven.plugins:jira-maven-plugin:jar:8.1.2 (present, but unavailable): com.atlassian.maven.plugins:jira-maven-plugin:jar:8.1.2 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 1\nmessage: Missing artifact com.atlassian.jira:jira-api:jar:7.13.0; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 22\nmessage: Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.2.0; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 45\nmessage: Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-testrunner:jar:2.0.2; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 71\nmessage: Missing artifact com.google.code.gson:gson:jar:2.2.2-atlassian-1; code: 0; resource: /home/ec2-user/Desktop/Dev/ResearchPlugin/CSVServerTestPlugin/pom.xml; line: 83</p>\n</blockquote>\n<p>However, the Maven for Java extension can detect all dependencies just fine with this settings.json file:</p>\n<pre><code>{\n    &quot;java.configuration.maven.globalSettings&quot;: &quot;/usr/share/atlassian-plugin-sdk-8.2.8/apache-maven-3.5.4/conf&quot;,\n    &quot;maven.executable.path&quot;: &quot;/usr/bin/atlas-mvn&quot;,\n    &quot;java.maven.downloadSources&quot;: true,\n    &quot;java.help.collectErrorLog&quot;: true,\n    &quot;java.import.maven.offline.enabled&quot;: false,\n    &quot;java.maven.updateSnapshots&quot;: true,\n    &quot;java.server.launchMode&quot;: &quot;Standard&quot;,\n    &quot;java.trace.server&quot;: &quot;messages&quot;,\n}\n</code></pre>\n<p>I'm not sure why the Maven extension works while the Java Language Server doesn't, am I missing some config settings to point to the Maven config file? I don't have any other version of Maven installed, and atlas-mvn -version returns <code>Apache Maven 3.5.4</code>.</p>\n<p>Here's the pom.xml file in case that's useful.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?\\&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;\\&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;TESTING&lt;/groupId&gt;\n    &lt;artifactId&gt;CSVServerTestPlugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    \n    &lt;organization&gt;\n        &lt;name&gt;Example Company&lt;/name&gt;\n        &lt;url&gt;http://www.example.com/&lt;/url&gt;\n    &lt;/organization&gt;\n    \n    &lt;name&gt;CSVServerTestPlugin&lt;/name&gt;\n    &lt;description&gt;This is the TESTING:CSVServerTestPlugin plugin for Atlassian JIRA.&lt;/description&gt;\n    &lt;packaging&gt;atlassian-plugin&lt;/packaging&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-api&lt;/artifactId&gt;\n            &lt;version&gt;${jira.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Add dependency on jira-core if you want access to JIRA implementation classes as well as the sanctioned API. --&gt;\n        &lt;!-- This is not normally recommended, but may be required eg when migrating a plugin originally developed against JIRA 4.x --&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-core&lt;/artifactId&gt;\n            &lt;version&gt;${jira.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-plugins-osgi-javaconfig&lt;/artifactId&gt;\n            &lt;version&gt;${osgi.javaconfig.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- OSGi Java Config dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.felix.framework&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!-- WIRED TEST RUNNER DEPENDENCIES --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-plugins-osgi-testrunner&lt;/artifactId&gt;\n            &lt;version&gt;${plugin.testrunner.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2-atlassian-1&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!-- Uncomment to use TestKit in your project. Details at https://bitbucket.org/atlassian/jira-testkit --&gt;\n        &lt;!-- You can read more about TestKit at https://developer.atlassian.com/display/JIRADEV/Plugin+Tutorial+-+Smarter+integration+testing+with+TestKit --&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira.tests&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-testkit-client&lt;/artifactId&gt;\n            &lt;version&gt;${testkit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.atlassian.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;jira-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${amps.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;productVersion&gt;${jira.version}&lt;/productVersion&gt;\n                    &lt;productDataVersion&gt;${jira.version}&lt;/productDataVersion&gt;\n                    &lt;!-- Uncomment to install TestKit backdoor in JIRA. --&gt;\n                    &lt;!--\n                    &lt;pluginArtifacts&gt;\n                        &lt;pluginArtifact&gt;\n                            &lt;groupId&gt;com.atlassian.jira.tests&lt;/groupId&gt;\n                            &lt;artifactId&gt;jira-testkit-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;${testkit.version}&lt;/version&gt;\n                        &lt;/pluginArtifact&gt;\n                    &lt;/pluginArtifacts&gt;\n                    --&gt;\n                    &lt;enableQuickReload&gt;true&lt;/enableQuickReload&gt;\n    \n                    &lt;!-- See here for an explanation of default instructions: --&gt;\n                    &lt;!-- https://developer.atlassian.com/docs/advanced-topics/configuration-of-instructions-in-atlassian-plugins --&gt;\n                    &lt;instructions&gt;\n                        &lt;Atlassian-Plugin-Key&gt;${atlassian.plugin.key}&lt;/Atlassian-Plugin-Key&gt;\n    \n                        &lt;!-- Add package to export here --&gt;\n                        &lt;Export-Package&gt;\n                            TESTING.api,\n                        &lt;/Export-Package&gt;\n    \n                        &lt;!-- Add package import here --&gt;\n                        &lt;Import-Package&gt;\n                            org.springframework.osgi.*;resolution:=&quot;optional&quot;,\n                            org.eclipse.gemini.blueprint.*;resolution:=&quot;optional&quot;,\n                            *\n                        &lt;/Import-Package&gt;\n    \n                        &lt;!-- Ensure plugin is spring powered --&gt;\n                        &lt;Spring-Context&gt;*&lt;/Spring-Context&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;properties&gt;\n        &lt;jira.version&gt;7.13.0&lt;/jira.version&gt;\n        &lt;amps.version&gt;8.1.2&lt;/amps.version&gt;\n        &lt;plugin.testrunner.version&gt;2.0.2&lt;/plugin.testrunner.version&gt;\n        &lt;osgi.javaconfig.version&gt;0.2.0&lt;/osgi.javaconfig.version&gt;\n        &lt;spring.version&gt;4.2.5.RELEASE&lt;/spring.version&gt;\n        &lt;!-- This property ensures consistency between the key in atlassian-plugin.xml and the OSGi bundle's key. --&gt;\n        &lt;atlassian.plugin.key&gt;${project.groupId}.${project.artifactId}&lt;/atlassian.plugin.key&gt;\n        &lt;!-- TestKit version 6.x for JIRA 6.x --&gt;\n        &lt;testkit.version&gt;6.3.11&lt;/testkit.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project\\&gt;\n</code></pre>\n"},{"tags":["java","spring","jpa"],"answers":[{"comments":[{"owner":{"account_id":1741093,"reputation":1336,"user_id":1592482,"accept_rate":48,"display_name":"mengmeng"},"score":0,"creation_date":1588778267,"post_id":61638284,"comment_id":109031254,"body_markdown":"Thank you for this! Why did I miss this :( haha.","body":"Thank you for this! Why did I miss this :( haha."}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1588776668,"creation_date":1588776668,"answer_id":61638284,"question_id":61638171,"body_markdown":"No, but you can manually call `saveAll()` and then `flush()`.\r\n","title":"Flush saveAll in JpaRepository","body":"<p>No, but you can manually call <code>saveAll()</code> and then <code>flush()</code>.</p>\n"},{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588778205,"creation_date":1588778205,"answer_id":61638803,"question_id":61638171,"body_markdown":"No need to manually call `flush()` after `saveAll()`, just create a `default` method. Eg of `Person`:\r\n\r\n\r\n\t@Repository\r\n\tinterface PersonRepo extends JpaRepository&lt;Person, String&gt; {\r\n\t\tdefault List&lt;Person&gt; saveAllAndFlush(Iterable&lt;Person&gt; iterable) {\r\n\t\t\tList&lt;Person&gt; list = saveAll(iterable);\r\n\t\t\tflush();\r\n\t\t\treturn list;\r\n\t\t}\r\n\t}","title":"Flush saveAll in JpaRepository","body":"<p>No need to manually call <code>flush()</code> after <code>saveAll()</code>, just create a <code>default</code> method. Eg of <code>Person</code>:</p>\n\n<pre><code>@Repository\ninterface PersonRepo extends JpaRepository&lt;Person, String&gt; {\n    default List&lt;Person&gt; saveAllAndFlush(Iterable&lt;Person&gt; iterable) {\n        List&lt;Person&gt; list = saveAll(iterable);\n        flush();\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1741093,"reputation":1336,"user_id":1592482,"accept_rate":48,"display_name":"mengmeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9723,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61638284,"answer_count":2,"score":6,"last_activity_date":1687424685,"creation_date":1588776358,"question_id":61638171,"body_markdown":"Since there&#39;s a `saveAndFlush()`, is there a way to \r\nFlush the updated entities when using `saveAll()`?\r\n\r\nI&#39;m trying to update entities by batch.\r\n\r\nWill really be a big help!\r\n\r\nThank you!","title":"Flush saveAll in JpaRepository","body":"<p>Since there's a <code>saveAndFlush()</code>, is there a way to \nFlush the updated entities when using <code>saveAll()</code>?</p>\n\n<p>I'm trying to update entities by batch.</p>\n\n<p>Will really be a big help!</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1335553995,"post_id":10356137,"comment_id":13343548,"body_markdown":"you use it like `Encryption.getInstance().encryptString(&quot;123&quot;);`? From multiple threads or just from 1?","body":"you use it like <code>Encryption.getInstance().encryptString(&quot;123&quot;);</code>? From multiple threads or just from 1?"},{"owner":{"account_id":189633,"reputation":2129,"user_id":429082,"accept_rate":64,"display_name":"Tustin2121"},"score":0,"creation_date":1343835790,"post_id":10356137,"comment_id":15618020,"body_markdown":"Have you managed to fix this problem? I am also suffering from the same issue - IllegalStateExceptions after several minutes of constant use. I even call init() before every use (due to a constantly changing IV). If you&#39;ve managed to find the problem, please answer your own question with the solution. :)","body":"Have you managed to fix this problem? I am also suffering from the same issue - IllegalStateExceptions after several minutes of constant use. I even call init() before every use (due to a constantly changing IV). If you&#39;ve managed to find the problem, please answer your own question with the solution. :)"},{"owner":{"account_id":198469,"reputation":5288,"user_id":443141,"accept_rate":47,"display_name":"chiranjib"},"score":0,"creation_date":1359362536,"post_id":10356137,"comment_id":20311178,"body_markdown":"was unable to resolve this issue.","body":"was unable to resolve this issue."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1521511842,"post_id":10356137,"comment_id":85751706,"body_markdown":"Please do not use a singleton cipher, ever. Use a singleton *key* if you must, but cipher states should be *local* to the code where it is used. [previous comment was too snarky, my apologies]","body":"Please do not use a singleton cipher, ever. Use a singleton <i>key</i> if you must, but cipher states should be <i>local</i> to the code where it is used. [previous comment was too snarky, my apologies]"}],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":4,"creation_date":1521387162,"post_id":17271234,"comment_id":85699055,"body_markdown":"Voted this down as you can simply create separate ciphers per thread, using the same key. There is no need to share the (minimal) state of a cipher between threads this way.","body":"Voted this down as you can simply create separate ciphers per thread, using the same key. There is no need to share the (minimal) state of a cipher between threads this way."},{"owner":{"account_id":2550338,"reputation":610,"user_id":2214222,"display_name":"Chirayu Chiripal"},"score":0,"creation_date":1643664291,"post_id":17271234,"comment_id":125396444,"body_markdown":"Voted this down for the above reason as well.","body":"Voted this down for the above reason as well."}],"tags":[],"owner":{"account_id":2395225,"reputation":307,"user_id":2094149,"display_name":"AStyle1"},"comment_count":2,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1372063193,"creation_date":1372063193,"answer_id":17271234,"question_id":10356137,"body_markdown":"This problem is bound to occur in a multi threaded environment, as it happened to me. The issue is a clash between mCipher.init() and mCipher.doFinal() methods.\r\n\r\nFollowing are the related methods in Cipher class:\r\n\r\n\r\n    public final void init(int opmode, Key key, AlgorithmParameterSpec params) throws InvalidKeyException, InvalidAlgorithmParameterException\r\n    {\r\n       init(opmode, key, params, JceSecurity.RANDOM);\r\n    }\r\n\r\n\r\n    public final void init(int opmode, Key key, AlgorithmParameterSpec params,\r\n                           SecureRandom random)\r\n            throws InvalidKeyException, InvalidAlgorithmParameterException\r\n    {\r\n        initialized = false;\r\n        checkOpmode(opmode);\r\n\r\n        if (spi != null) {\r\n            checkCryptoPerm(spi, key, params);\r\n            spi.engineInit(opmode, key, params, random);\r\n        } else {\r\n            chooseProvider(I_PARAMSPEC, opmode, key, params, null, random);\r\n        }\r\n\r\n        initialized = true;\r\n        this.opmode = opmode;\r\n    }\r\n\r\n\r\n    public final int doFinal(byte[] output, int outputOffset)\r\n            throws IllegalBlockSizeException, ShortBufferException,\r\n               BadPaddingException {\r\n        checkCipherState();\r\n\r\n        // Input sanity check\r\n        if ((output == null) || (outputOffset &lt; 0)) {\r\n            throw new IllegalArgumentException(&quot;Bad arguments&quot;);\r\n        }\r\n\r\n        chooseFirstProvider();\r\n        return spi.engineDoFinal(null, 0, 0, output, outputOffset);\r\n    }\r\n\r\n\r\n    private void checkCipherState() {\r\n        if (!(this instanceof NullCipher)) {\r\n            if (!initialized) {\r\n                throw new IllegalStateException(&quot;Cipher not initialized&quot;);\r\n            }\r\n            if ((opmode != Cipher.ENCRYPT_MODE) &amp;&amp;\r\n                (opmode != Cipher.DECRYPT_MODE)) {\r\n                throw new IllegalStateException(&quot;Cipher not initialized &quot; +\r\n                                                &quot;for encryption/decryption&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSee the behavior of the &lt;code&gt;initialized&lt;/code&gt; variable in a multi threaded environment with two threads executing init() and doFinal(). The Exception returned is not related to the object not being actually initialized but the &lt;code&gt;initialized&lt;/code&gt; variable being set to &lt;code&gt;false&lt;/code&gt;.\r\n\r\nI solved my issue by synchronizing my encryptString() and decryptString() methods. Hope you can get some insight by going through the Cipher code.\r\n","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>This problem is bound to occur in a multi threaded environment, as it happened to me. The issue is a clash between mCipher.init() and mCipher.doFinal() methods.</p>\n\n<p>Following are the related methods in Cipher class:</p>\n\n<pre><code>public final void init(int opmode, Key key, AlgorithmParameterSpec params) throws InvalidKeyException, InvalidAlgorithmParameterException\n{\n   init(opmode, key, params, JceSecurity.RANDOM);\n}\n\n\npublic final void init(int opmode, Key key, AlgorithmParameterSpec params,\n                       SecureRandom random)\n        throws InvalidKeyException, InvalidAlgorithmParameterException\n{\n    initialized = false;\n    checkOpmode(opmode);\n\n    if (spi != null) {\n        checkCryptoPerm(spi, key, params);\n        spi.engineInit(opmode, key, params, random);\n    } else {\n        chooseProvider(I_PARAMSPEC, opmode, key, params, null, random);\n    }\n\n    initialized = true;\n    this.opmode = opmode;\n}\n\n\npublic final int doFinal(byte[] output, int outputOffset)\n        throws IllegalBlockSizeException, ShortBufferException,\n           BadPaddingException {\n    checkCipherState();\n\n    // Input sanity check\n    if ((output == null) || (outputOffset &lt; 0)) {\n        throw new IllegalArgumentException(\"Bad arguments\");\n    }\n\n    chooseFirstProvider();\n    return spi.engineDoFinal(null, 0, 0, output, outputOffset);\n}\n\n\nprivate void checkCipherState() {\n    if (!(this instanceof NullCipher)) {\n        if (!initialized) {\n            throw new IllegalStateException(\"Cipher not initialized\");\n        }\n        if ((opmode != Cipher.ENCRYPT_MODE) &amp;&amp;\n            (opmode != Cipher.DECRYPT_MODE)) {\n            throw new IllegalStateException(\"Cipher not initialized \" +\n                                            \"for encryption/decryption\");\n        }\n    }\n}\n</code></pre>\n\n<p>See the behavior of the <code>initialized</code> variable in a multi threaded environment with two threads executing init() and doFinal(). The Exception returned is not related to the object not being actually initialized but the <code>initialized</code> variable being set to <code>false</code>.</p>\n\n<p>I solved my issue by synchronizing my encryptString() and decryptString() methods. Hope you can get some insight by going through the Cipher code.</p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1691155701,"post_id":22481231,"comment_id":135457483,"body_markdown":"strange. the problem of multi-threading is actually solved by a synchronized(cipher_Object)-block","body":"strange. the problem of multi-threading is actually solved by a synchronized(cipher_Object)-block"}],"tags":[],"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395150134,"creation_date":1395150134,"answer_id":22481231,"question_id":10356137,"body_markdown":"I had the same issue (`Cipher not initialized`). I was using high-encryption and, for me, the solution was replacing the normal policy jars in `jre/lib/security` with the unlimited strength versions.","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>I had the same issue (<code>Cipher not initialized</code>). I was using high-encryption and, for me, the solution was replacing the normal policy jars in <code>jre/lib/security</code> with the unlimited strength versions.</p>\n"},{"tags":[],"owner":{"account_id":6404,"reputation":11778,"user_id":2601671,"accept_rate":77,"display_name":"Trenton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434697419,"creation_date":1434697419,"answer_id":30931968,"question_id":10356137,"body_markdown":"In your `decryptstring` method, you call\r\n\r\n    byte[] plainText = new byte[mCipher.getOutputSize(encriptedByteDecode64.length)];\r\n\r\na few lines before you call\r\n\r\n    mCipher.init(Cipher.DECRYPT_MODE, mKey, mParamSpec);\r\n\r\nSince the cipher is not yet initialized when you call getOutputSize on it, you get the exception. Reordering these lines should fix it. (It did for me.)","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>In your <code>decryptstring</code> method, you call</p>\n\n<pre><code>byte[] plainText = new byte[mCipher.getOutputSize(encriptedByteDecode64.length)];\n</code></pre>\n\n<p>a few lines before you call</p>\n\n<pre><code>mCipher.init(Cipher.DECRYPT_MODE, mKey, mParamSpec);\n</code></pre>\n\n<p>Since the cipher is not yet initialized when you call getOutputSize on it, you get the exception. Reordering these lines should fix it. (It did for me.)</p>\n"},{"tags":[],"owner":{"account_id":5331360,"reputation":61,"user_id":4251843,"display_name":"Kushal Bhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1588749713,"creation_date":1588718483,"answer_id":61624291,"question_id":10356137,"body_markdown":"Make sure you call `Cipher.getInstance()` in your encrypt and decrypt methods.\r\n\r\n    cipher = Cipher.getInstance(TRANSFORMATION_STR);\r\n    cipher.init(Cipher.ENCRYPT_MODE, mKey, mParamSpec);\r\n    // encrypt code here\r\n\r\n`getInstance()` method grabs a cipher instance for the current thread to avoid race conditions like the exception you just posted.\r\n ","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>Make sure you call <code>Cipher.getInstance()</code> in your encrypt and decrypt methods.</p>\n\n<pre><code>cipher = Cipher.getInstance(TRANSFORMATION_STR);\ncipher.init(Cipher.ENCRYPT_MODE, mKey, mParamSpec);\n// encrypt code here\n</code></pre>\n\n<p><code>getInstance()</code> method grabs a cipher instance for the current thread to avoid race conditions like the exception you just posted.</p>\n"},{"tags":[],"owner":{"account_id":27025997,"reputation":21,"user_id":20583262,"display_name":"abdulsatar sayed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687423791,"creation_date":1687423791,"answer_id":76530109,"question_id":10356137,"body_markdown":"if you use the method\r\n\r\n    public void initCipher(int encryptionMode) throws GeneralSecurityException {\r\n             getCipher().init(encryptionMode, getKey());\r\n         }\r\n\r\nthen you must get rid of this method immediately :D.\r\ninstead you can reinitialize the cipher in both the ConvertToEntity and ConvertToColumn methods. like:\r\n\r\n    public String convertToDatabaseColumn(Object attribute) {\r\n            Cipher cipher = getCipher();\r\n            cipher.init(Cipher.ENCRYPT_MODE, getKey());\r\n            if (attribute == null)\r\n                return null;\r\n            byte[] bytes = SerializationUtils.serialize(attribute);\r\n            assert bytes != null;\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\r\n        }\r\n\r\ni just tried to help it worked for me and i hope for you to .\r\nOne more thing, am using @sneakyThrows instead of try and catch :D \r\n","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>if you use the method</p>\n<pre><code>public void initCipher(int encryptionMode) throws GeneralSecurityException {\n         getCipher().init(encryptionMode, getKey());\n     }\n</code></pre>\n<p>then you must get rid of this method immediately :D.\ninstead you can reinitialize the cipher in both the ConvertToEntity and ConvertToColumn methods. like:</p>\n<pre><code>public String convertToDatabaseColumn(Object attribute) {\n        Cipher cipher = getCipher();\n        cipher.init(Cipher.ENCRYPT_MODE, getKey());\n        if (attribute == null)\n            return null;\n        byte[] bytes = SerializationUtils.serialize(attribute);\n        assert bytes != null;\n        return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\n    }\n</code></pre>\n<p>i just tried to help it worked for me and i hope for you to .\nOne more thing, am using @sneakyThrows instead of try and catch :D</p>\n"}],"owner":{"account_id":198469,"reputation":5288,"user_id":443141,"accept_rate":47,"display_name":"chiranjib"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27353,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1687423791,"creation_date":1335552297,"question_id":10356137,"body_markdown":"I have implemented Encryption / Decryption in Android application.\r\n\r\nI have added an Encryption class which has been made a Singleton class.\r\n\r\nPart of the code as follows:\r\n\r\n    public class Encryption {\r\n       \r\n            private SecretKeySpec mKey = null;\r\n            private Cipher mCipher = null;\r\n            private byte[] mKeyBytes = null;\r\n            private AlgorithmParameterSpec mParamSpec = null;\r\n            private static Encryption sInstance;\r\n        \r\n            public Encryption() {\r\n                byte[] iv = new byte[] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n                mParamSpec = new IvParameterSpec(iv);\r\n                mKeyBytes = getMD5(MD5_KEY.getBytes();\r\n                mKey = new SecretKeySpec(mKeyBytes, AES_TAG);\r\n                try {\r\n                    mCipher = Cipher.getInstance(TRANSFORMATION_STR);\r\n                } catch (NoSuchAlgorithmException e) {\r\n                } catch (NoSuchPaddingException e) {\r\n                }\r\n            }\r\n        \r\n            public static synchronized Encryption getInstance() {\r\n                if (sInstance == null) {\r\n                    sInstance = new Encryption();\r\n                }\r\n                return sInstance;\r\n            }\r\n        \r\n            public String encryptString(String strPwd) {\r\n                String strToEncripted = null;\r\n                strToEncripted = strPwd;\r\n                String result = null;\r\n                byte[] input = null;\r\n                byte[] cipherText = null;\r\n                int ctLength = 0;\r\n                try {\r\n                    input = strToEncripted.getBytes(UTF8_STR);\r\n                    mCipher.init(Cipher.ENCRYPT_MODE, mKey, mParamSpec);\r\n                    cipherText = new byte[mCipher.getOutputSize(input.length)];\r\n                    ctLength = mCipher.update(input, 0, input.length, cipherText, 0);\r\n                    ctLength += mCipher.doFinal(cipherText, ctLength);\r\n                    result = Base64.encodeToString(cipherText, Base64.DEFAULT)\r\n                            .replace(NEWLINE_CHAR, EMPTY_CHAR).trim();\r\n                } catch (InvalidKeyException e) {\r\n                } catch (UnsupportedEncodingException e) {\r\n                } catch (InvalidAlgorithmParameterException e) {\r\n                } catch (ShortBufferException e) {\r\n                } catch (IllegalBlockSizeException e) {\r\n                } catch (BadPaddingException e) {\r\n                } catch (IllegalStateException e) {\r\n                }\r\n                return result;\r\n            }\r\n        \r\n            public String decryptstring(byte[] encripted) {\r\n                String textDecrypt = &quot;&quot;;\r\n                byte[] encriptedByteDecode64 = Base64.decode(encripted, Base64.DEFAULT);\r\n                byte[] plainText = new byte[mCipher.getOutputSize(encriptedByteDecode64.length)];\r\n                int ptLength = 0;\r\n                try {\r\n                    mCipher.init(Cipher.DECRYPT_MODE, mKey, mParamSpec);\r\n                    ptLength = mCipher.update(encriptedByteDecode64, 0, encriptedByteDecode64.length, plainText, 0);\r\n                    ptLength += mCipher.doFinal(plainText, ptLength);\r\n                    textDecrypt = (new String(plainText)).trim();\r\n                } catch (InvalidKeyException e) {\r\n                } catch (InvalidAlgorithmParameterException e) {\r\n                } catch (ShortBufferException e) {\r\n                } catch (IllegalBlockSizeException e) {\r\n                } catch (BadPaddingException e) {\r\n                }\r\n                return textDecrypt;\r\n            }\r\n        \r\n            \r\n            private String getMD5(String strKey) {\r\n                String key = strKey;\r\n                String result = null;\r\n                try {\r\n                    MessageDigest algorithm = MessageDigest.getInstance(MD5_TAG);\r\n                    algorithm.reset();\r\n                    algorithm.update(key.getBytes(UTF8_STR));\r\n                    byte messageDigest[] = algorithm.digest();\r\n                    StringBuilder hexString = new StringBuilder();\r\n                    for (int count = 0; count &lt; messageDigest.length; count++) {\r\n                        String hexaDecimal = Integer.toHexString(0xFF &amp; messageDigest[count]);\r\n                        while (hexaDecimal.length() &lt; 2)\r\n                            hexaDecimal = new StringBuilder(ZERO_STR).append(hexaDecimal).toString();\r\n                        hexString.append(hexaDecimal);\r\n                    }\r\n                    result = hexString.toString();\r\n                } catch (NoSuchAlgorithmException e) {\r\n                } catch (UnsupportedEncodingException e) {\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\nUsing the singleton instance , encryption &amp; decryption of string are implemented &amp; they are working mostly.\r\n\r\nSometimes , though the cipher has been initialised , still its throwing an Exception: **`java.lang.IllegalStateException: Cipher not initialized`**\r\n\r\nThe scenario is mostly when after some time-interval (30 mins), a decryption of string is performed.\r\n\r\n\r\nCan it be due to the incorrect use of Singleton instance?\r\n\r\nInstead of Singleton class , I have tried to encrypt string creating an instance of Encryption class using the new operator , but the problem is I need the same object for decryption , else the **`java.lang.IllegalStateException: Cipher not initialized`** is thrown.\r\n\r\nAny suggestions / hints are welcome.","title":"java.lang.IllegalStateException: Cipher not initialized","body":"<p>I have implemented Encryption / Decryption in Android application.</p>\n\n<p>I have added an Encryption class which has been made a Singleton class.</p>\n\n<p>Part of the code as follows:</p>\n\n<pre><code>public class Encryption {\n\n        private SecretKeySpec mKey = null;\n        private Cipher mCipher = null;\n        private byte[] mKeyBytes = null;\n        private AlgorithmParameterSpec mParamSpec = null;\n        private static Encryption sInstance;\n\n        public Encryption() {\n            byte[] iv = new byte[] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n            mParamSpec = new IvParameterSpec(iv);\n            mKeyBytes = getMD5(MD5_KEY.getBytes();\n            mKey = new SecretKeySpec(mKeyBytes, AES_TAG);\n            try {\n                mCipher = Cipher.getInstance(TRANSFORMATION_STR);\n            } catch (NoSuchAlgorithmException e) {\n            } catch (NoSuchPaddingException e) {\n            }\n        }\n\n        public static synchronized Encryption getInstance() {\n            if (sInstance == null) {\n                sInstance = new Encryption();\n            }\n            return sInstance;\n        }\n\n        public String encryptString(String strPwd) {\n            String strToEncripted = null;\n            strToEncripted = strPwd;\n            String result = null;\n            byte[] input = null;\n            byte[] cipherText = null;\n            int ctLength = 0;\n            try {\n                input = strToEncripted.getBytes(UTF8_STR);\n                mCipher.init(Cipher.ENCRYPT_MODE, mKey, mParamSpec);\n                cipherText = new byte[mCipher.getOutputSize(input.length)];\n                ctLength = mCipher.update(input, 0, input.length, cipherText, 0);\n                ctLength += mCipher.doFinal(cipherText, ctLength);\n                result = Base64.encodeToString(cipherText, Base64.DEFAULT)\n                        .replace(NEWLINE_CHAR, EMPTY_CHAR).trim();\n            } catch (InvalidKeyException e) {\n            } catch (UnsupportedEncodingException e) {\n            } catch (InvalidAlgorithmParameterException e) {\n            } catch (ShortBufferException e) {\n            } catch (IllegalBlockSizeException e) {\n            } catch (BadPaddingException e) {\n            } catch (IllegalStateException e) {\n            }\n            return result;\n        }\n\n        public String decryptstring(byte[] encripted) {\n            String textDecrypt = \"\";\n            byte[] encriptedByteDecode64 = Base64.decode(encripted, Base64.DEFAULT);\n            byte[] plainText = new byte[mCipher.getOutputSize(encriptedByteDecode64.length)];\n            int ptLength = 0;\n            try {\n                mCipher.init(Cipher.DECRYPT_MODE, mKey, mParamSpec);\n                ptLength = mCipher.update(encriptedByteDecode64, 0, encriptedByteDecode64.length, plainText, 0);\n                ptLength += mCipher.doFinal(plainText, ptLength);\n                textDecrypt = (new String(plainText)).trim();\n            } catch (InvalidKeyException e) {\n            } catch (InvalidAlgorithmParameterException e) {\n            } catch (ShortBufferException e) {\n            } catch (IllegalBlockSizeException e) {\n            } catch (BadPaddingException e) {\n            }\n            return textDecrypt;\n        }\n\n\n        private String getMD5(String strKey) {\n            String key = strKey;\n            String result = null;\n            try {\n                MessageDigest algorithm = MessageDigest.getInstance(MD5_TAG);\n                algorithm.reset();\n                algorithm.update(key.getBytes(UTF8_STR));\n                byte messageDigest[] = algorithm.digest();\n                StringBuilder hexString = new StringBuilder();\n                for (int count = 0; count &lt; messageDigest.length; count++) {\n                    String hexaDecimal = Integer.toHexString(0xFF &amp; messageDigest[count]);\n                    while (hexaDecimal.length() &lt; 2)\n                        hexaDecimal = new StringBuilder(ZERO_STR).append(hexaDecimal).toString();\n                    hexString.append(hexaDecimal);\n                }\n                result = hexString.toString();\n            } catch (NoSuchAlgorithmException e) {\n            } catch (UnsupportedEncodingException e) {\n            }\n            return result;\n        }\n    }\n</code></pre>\n\n<p>Using the singleton instance , encryption &amp; decryption of string are implemented &amp; they are working mostly.</p>\n\n<p>Sometimes , though the cipher has been initialised , still its throwing an Exception: <strong><code>java.lang.IllegalStateException: Cipher not initialized</code></strong></p>\n\n<p>The scenario is mostly when after some time-interval (30 mins), a decryption of string is performed.</p>\n\n<p>Can it be due to the incorrect use of Singleton instance?</p>\n\n<p>Instead of Singleton class , I have tried to encrypt string creating an instance of Encryption class using the new operator , but the problem is I need the same object for decryption , else the <strong><code>java.lang.IllegalStateException: Cipher not initialized</code></strong> is thrown.</p>\n\n<p>Any suggestions / hints are welcome.</p>\n"},{"tags":["java","android","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":130475,"reputation":7330,"user_id":329776,"display_name":"jkhouw1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304351546,"creation_date":1304351546,"answer_id":5859282,"question_id":5859261,"body_markdown":"make sure all references in your manifest have been updated to reflect your new package name.","title":"Android: Unable to instantiate application","body":"<p>make sure all references in your manifest have been updated to reflect your new package name.</p>\n"},{"tags":[],"owner":{"account_id":110260,"reputation":31104,"user_id":291827,"accept_rate":81,"display_name":"Jason Robinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304351610,"creation_date":1304351610,"answer_id":5859292,"question_id":5859261,"body_markdown":"Should `package=&quot;Application&quot;` be `package=&quot;MyApplication&quot;`?","title":"Android: Unable to instantiate application","body":"<p>Should <code>package=\"Application\"</code> be <code>package=\"MyApplication\"</code>?</p>\n"},{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304351619,"creation_date":1304351619,"answer_id":5859297,"question_id":5859261,"body_markdown":"You need to correct the `android:name` attribute. Same problem mentioned at https://stackoverflow.com/questions/4407201/classnotfoundexception-after-changing-apps-name-in-android\r\n\r\n","title":"Android: Unable to instantiate application","body":"<p>You need to correct the <code>android:name</code> attribute. Same problem mentioned at <a href=\"https://stackoverflow.com/questions/4407201/classnotfoundexception-after-changing-apps-name-in-android\">ClassNotFoundException after changing app&#39;s name in Android</a></p>\n"},{"comments":[{"owner":{"account_id":186457,"reputation":1696,"user_id":423862,"accept_rate":100,"display_name":"GuyFawkes"},"score":0,"creation_date":1304410193,"post_id":5859500,"comment_id":6744200,"body_markdown":"your are correct. i had a custom android.app.Application (MyApplication). What i forgot was the leading `.` prior to `app.MyApplication`","body":"your are correct. i had a custom android.app.Application (MyApplication). What i forgot was the leading <code>.</code> prior to <code>app.MyApplication</code>"},{"owner":{"account_id":238170,"reputation":19170,"user_id":506879,"display_name":"rekaszeru"},"score":0,"creation_date":1304410309,"post_id":5859500,"comment_id":6744216,"body_markdown":"I&#39;m glad you&#39;ve made it, happy coding further!","body":"I&#39;m glad you&#39;ve made it, happy coding further!"},{"owner":{"account_id":2857334,"reputation":429,"user_id":2453325,"accept_rate":100,"display_name":"Steven De Bock"},"score":0,"creation_date":1399413372,"post_id":5859500,"comment_id":36048830,"body_markdown":"@MichałK +1 for the comment above, Eclipse restart worked for me!","body":"@MichałK +1 for the comment above, Eclipse restart worked for me!"}],"tags":[],"owner":{"account_id":238170,"reputation":19170,"user_id":506879,"display_name":"rekaszeru"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1418235524,"creation_date":1304352870,"answer_id":5859500,"question_id":5859261,"body_markdown":"Let&#39;s assume, that your projects base package is really `Application`, as you&#39;ve stated it in the `manifest`.\r\n\r\nIf your `MyApplication` class is inside this package (the package declaration of the class is `package Application;`), then the `application` element in your `androidManifest.xml` should look like \r\n\r\n    &lt;application android:name=&quot;.MyApplication&quot; [...]\r\n\r\nIf this `MyApplication` class is inside the `Application.app` package (`package Application.app;`), then in the manifest you should write:\r\n\r\n    &lt;application android:name=&quot;.app.MyApplication&quot; [...]\r\n\r\nIf you didn&#39;t extend the `android.app.Application` (you don&#39;t have a `MyApplication extends android.app.Application` class), just wanted to set a name to your application, remove it this attribute, since it says to the compiler that there is an `Application` extension that should be instantiated instead of the default `android.app.Application`.\r\n\r\nAnd finally, if the first assumption is wrong, and you&#39;ve changed for any reason the package declaration in your androidManifest&#39;s `manifest` element, undo it or update your classes to be in that package.","title":"Android: Unable to instantiate application","body":"<p>Let's assume, that your projects base package is really <code>Application</code>, as you've stated it in the <code>manifest</code>.</p>\n\n<p>If your <code>MyApplication</code> class is inside this package (the package declaration of the class is <code>package Application;</code>), then the <code>application</code> element in your <code>androidManifest.xml</code> should look like </p>\n\n<pre><code>&lt;application android:name=\".MyApplication\" [...]\n</code></pre>\n\n<p>If this <code>MyApplication</code> class is inside the <code>Application.app</code> package (<code>package Application.app;</code>), then in the manifest you should write:</p>\n\n<pre><code>&lt;application android:name=\".app.MyApplication\" [...]\n</code></pre>\n\n<p>If you didn't extend the <code>android.app.Application</code> (you don't have a <code>MyApplication extends android.app.Application</code> class), just wanted to set a name to your application, remove it this attribute, since it says to the compiler that there is an <code>Application</code> extension that should be instantiated instead of the default <code>android.app.Application</code>.</p>\n\n<p>And finally, if the first assumption is wrong, and you've changed for any reason the package declaration in your androidManifest's <code>manifest</code> element, undo it or update your classes to be in that package.</p>\n"},{"tags":[],"owner":{"account_id":19723,"reputation":1715,"user_id":46459,"display_name":"realgt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336408011,"creation_date":1336408011,"answer_id":10485627,"question_id":5859261,"body_markdown":"this answer helped me, basically rename your lib to libs if you&#39;re using SDK 17+\r\n[https://stackoverflow.com/a/10176048/46459][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10176048/46459","title":"Android: Unable to instantiate application","body":"<p>this answer helped me, basically rename your lib to libs if you're using SDK 17+\n<a href=\"https://stackoverflow.com/a/10176048/46459\">https://stackoverflow.com/a/10176048/46459</a></p>\n"},{"tags":[],"owner":{"account_id":2219291,"reputation":91,"user_id":1959151,"display_name":"Booyoung Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357670586,"creation_date":1357670586,"answer_id":14221872,"question_id":5859261,"body_markdown":"In my case, I&#39;ve change JAVA compiler compliance level from 1.7 to 1.6 and the problem was solved.","title":"Android: Unable to instantiate application","body":"<p>In my case, I've change JAVA compiler compliance level from 1.7 to 1.6 and the problem was solved.</p>\n"},{"comments":[{"owner":{"account_id":186457,"reputation":1696,"user_id":423862,"accept_rate":100,"display_name":"GuyFawkes"},"score":0,"creation_date":1452700511,"post_id":34767821,"comment_id":57287228,"body_markdown":"1. Read the question (yes, all of it)\n2. This question was answered literally years ago\n3. Welcome to SE","body":"1. Read the question (yes, all of it) 2. This question was answered literally years ago 3. Welcome to SE"},{"owner":{"account_id":3605442,"reputation":179,"user_id":3007705,"display_name":"Lam"},"score":0,"creation_date":1569057663,"post_id":34767821,"comment_id":102478766,"body_markdown":"It&#39;s works for me. My project has modify nothing, it happen suddenly. After delete the build folder, and run again, the problem solved. It&#39;s a bug of android studio.","body":"It&#39;s works for me. My project has modify nothing, it happen suddenly. After delete the build folder, and run again, the problem solved. It&#39;s a bug of android studio."}],"tags":[],"owner":{"account_id":4744850,"reputation":11,"user_id":3836456,"display_name":"forn"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452691251,"creation_date":1452691251,"answer_id":34767821,"question_id":5859261,"body_markdown":"Simple clean the project and rebuild.","title":"Android: Unable to instantiate application","body":"<p>Simple clean the project and rebuild.</p>\n"},{"comments":[{"owner":{"account_id":1848296,"reputation":1625,"user_id":1675469,"accept_rate":38,"display_name":"Zeeshan"},"score":2,"creation_date":1488629036,"post_id":41897220,"comment_id":72322618,"body_markdown":"Android Studio team still didn&#39;t fix this issue","body":"Android Studio team still didn&#39;t fix this issue"},{"owner":{"account_id":439853,"reputation":4059,"user_id":829066,"accept_rate":73,"display_name":"Noman"},"score":0,"creation_date":1490181906,"post_id":41897220,"comment_id":72995489,"body_markdown":"This should be the accepted answer. Instant run was creating issue.","body":"This should be the accepted answer. Instant run was creating issue."},{"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"score":0,"creation_date":1498834021,"post_id":41897220,"comment_id":76679006,"body_markdown":"For disabling instant run -&gt; Settings and write instant run","body":"For disabling instant run -&gt; Settings and write instant run"},{"owner":{"account_id":7463132,"reputation":1819,"user_id":5673746,"accept_rate":50,"display_name":"mco"},"score":0,"creation_date":1549403381,"post_id":41897220,"comment_id":95888296,"body_markdown":"Weird...for me it was enabling instant run","body":"Weird...for me it was enabling instant run"}],"tags":[],"owner":{"account_id":2284477,"reputation":211,"user_id":2008838,"accept_rate":75,"display_name":"Umang"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1485530158,"creation_date":1485530158,"answer_id":41897220,"question_id":5859261,"body_markdown":"For me, the issue was with instant-run. Disabling it solved the issue.\r\n\r\nWill update if I find a solution for re-enabling and making it work.","title":"Android: Unable to instantiate application","body":"<p>For me, the issue was with instant-run. Disabling it solved the issue.</p>\n\n<p>Will update if I find a solution for re-enabling and making it work.</p>\n"},{"tags":[],"owner":{"account_id":8922846,"reputation":81,"user_id":6658638,"display_name":"Mays Attari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537520403,"creation_date":1537414166,"answer_id":52417152,"question_id":5859261,"body_markdown":"Removing these lines worked for me:\r\n\r\n    compileOptions {\r\n       sourceCompatibility JavaVersion.VERSION_1_8\r\n       targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n**Update:**  \r\nThe reason behind this issue is that i have not installed JAVA 8 on my PC\r\n\r\n","title":"Android: Unable to instantiate application","body":"<p>Removing these lines worked for me:</p>\n\n<pre><code>compileOptions {\n   sourceCompatibility JavaVersion.VERSION_1_8\n   targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p><strong>Update:</strong><br>\nThe reason behind this issue is that i have not installed JAVA 8 on my PC</p>\n"},{"tags":[],"owner":{"account_id":7918690,"reputation":167,"user_id":5980366,"display_name":"mortezahosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613390358,"creation_date":1591789368,"answer_id":62302737,"question_id":5859261,"body_markdown":"In my case it throws:\r\n\r\n    Caused by: java.lang.IllegalAccessException: java.lang.Class&lt;foo.bar.MyApp&gt; is not accessible from java.lang.Class&lt;android.app.AppComponentFactory&gt;\r\n\r\n The reason is **the Application class must be declared with the modifier `public`**, e.g. do this:\r\n\r\n    public class MyApp extends Application {\r\n    }\r\n\r\ninstead of:\r\n\r\n    class MyApp extends Application {\r\n    }","title":"Android: Unable to instantiate application","body":"<p>In my case it throws:</p>\n<pre><code>Caused by: java.lang.IllegalAccessException: java.lang.Class&lt;foo.bar.MyApp&gt; is not accessible from java.lang.Class&lt;android.app.AppComponentFactory&gt;\n</code></pre>\n<p>The reason is <strong>the Application class must be declared with the modifier <code>public</code></strong>, e.g. do this:</p>\n<pre><code>public class MyApp extends Application {\n}\n</code></pre>\n<p>instead of:</p>\n<pre><code>class MyApp extends Application {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3699806,"reputation":1,"user_id":4161124,"display_name":"Husain Katawala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599821537,"creation_date":1599821537,"answer_id":63845636,"question_id":5859261,"body_markdown":"For me the issue was due to access level of the class, it has to be public","title":"Android: Unable to instantiate application","body":"<p>For me the issue was due to access level of the class, it has to be public</p>\n"},{"tags":[],"owner":{"account_id":22967140,"reputation":1,"user_id":17096052,"display_name":"Raul Espim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684735069,"creation_date":1684735069,"answer_id":76303367,"question_id":5859261,"body_markdown":"If you are using any dependency injection libraries or other third-party libraries that modify application startup, make sure the configuration is correct. Some frameworks require extra settings to work properly.","title":"Android: Unable to instantiate application","body":"<p>If you are using any dependency injection libraries or other third-party libraries that modify application startup, make sure the configuration is correct. Some frameworks require extra settings to work properly.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686211941,"post_id":76428478,"comment_id":134768936,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76428478/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25685290,"reputation":1,"user_id":19447470,"display_name":"RuDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687423442,"creation_date":1686195814,"answer_id":76428478,"question_id":5859261,"body_markdown":"what works for me is changing these lines in build.gradle:\r\n\r\n    anotationProcessor &quot;androidx.room:room-compiler:$roomVersion&quot;\r\n    anotationProcessor &quot;com.google.dagger:hilt-compiler:$hiltVersion&quot;\r\n\r\nto:\r\n\r\n    kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\r\n    kapt &quot;com.google.dagger:hilt-compiler:$hiltVersion&quot;","title":"Android: Unable to instantiate application","body":"<p>what works for me is changing these lines in build.gradle:</p>\n<pre><code>anotationProcessor &quot;androidx.room:room-compiler:$roomVersion&quot;\nanotationProcessor &quot;com.google.dagger:hilt-compiler:$hiltVersion&quot;\n</code></pre>\n<p>to:</p>\n<pre><code>kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\nkapt &quot;com.google.dagger:hilt-compiler:$hiltVersion&quot;\n</code></pre>\n"}],"owner":{"account_id":186457,"reputation":1696,"user_id":423862,"accept_rate":100,"display_name":"GuyFawkes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47709,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":5859500,"answer_count":13,"score":23,"last_activity_date":1687423442,"creation_date":1304351401,"question_id":5859261,"body_markdown":"I renamed my package and now I get this strange error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Unable to instantiate application\r\n    app.MyApplication: java.lang.ClassNotFoundException: \r\n    app.MyApplication in loaderdalvik.system.PathClassLoader\r\n\r\n\r\nThe `MyApplication` class is in `Application/app`. The Manifest says:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n      package=&quot;Application&quot;&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;application \r\n        android:label=&quot;AGG&quot;\r\n        android:name=&quot;app.MyApplication&quot;...\r\n\r\nI tried restart, clean built. Is doesn&#39;t work on an emulator nor on a real device.\r\n\r\nWhat on Earth is going on? ","title":"Android: Unable to instantiate application","body":"<p>I renamed my package and now I get this strange error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unable to instantiate application\napp.MyApplication: java.lang.ClassNotFoundException: \napp.MyApplication in loaderdalvik.system.PathClassLoader\n</code></pre>\n\n<p>The <code>MyApplication</code> class is in <code>Application/app</code>. The Manifest says:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:tools=\"http://schemas.android.com/tools\"\n  package=\"Application\"&gt;\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;application \n    android:label=\"AGG\"\n    android:name=\"app.MyApplication\"...\n</code></pre>\n\n<p>I tried restart, clean built. Is doesn't work on an emulator nor on a real device.</p>\n\n<p>What on Earth is going on? </p>\n"},{"tags":["java","nlp","stanford-nlp","coreference-resolution"],"owner":{"account_id":11827122,"reputation":361,"user_id":9381321,"display_name":"Hasan Shadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687423090,"creation_date":1687381986,"question_id":76527171,"body_markdown":"I am trying to do some co-referencing using Stanford Corenlp version 4.5.4 using Python with the library Stanza latest version (1.5.0), Stanza turns on the server with the properties that I choose, these are the properties I used:\r\n\r\n    &#39;annotators&#39;: &#39;tokenize,ssplit,coref&#39;\r\n    &#39;coref.algorithm&#39;: &#39;neural&#39;\r\n    &#39;coref.postprocessing.rules&#39;: &#39;true&#39;\r\n    &#39;dcoref.animate&#39;: &#39;true&#39;\r\n    &#39;dcoref.inanimate&#39;: &#39;true&#39;\r\n    &#39;dcoref.gender&#39;: &#39;unknown&#39;\r\n    &#39;ner.useSUTime&#39;: &#39;false&#39;\r\n\r\nafter using these properties, I run the code and for some reason I get this error from the server (run in Java not python), The class \r\n\r\n    edu.stanford.nlp.hcoref.md.MentionDetectionClassifier\r\n\r\n\r\nwas not found\r\nI tried other versions of Stanza and other versions of Stanford corenlp, I always keep getting the same error, I even tried adding this property: \r\n\r\n    coref.mentionDetectionClassifier:edu.stanford.nlp.coref.neural.DocCorefNeuralMentionClassifier\r\n\r\nbut made no difference. I researched a bit on the internet, and I found out that the MentionDetectionClassifier class exists but with &quot;coref&quot; instead of &quot;hcoref&quot; in my current corenlp version (4.5.4), &quot;hcoref&quot; only exists in 3.6.0 stanford corenlp and below. I have no idea why this is happening. Perhaps I did something wrong with the properties?\r\n\r\nof course if I remove the property &quot;coref.algorithm&quot;, it uses the default value which is rule, and does not use neural networks during the co-referencing process, which results in many errors.","title":"Stanford Corenlp MentionDetectionClassifier not found","body":"<p>I am trying to do some co-referencing using Stanford Corenlp version 4.5.4 using Python with the library Stanza latest version (1.5.0), Stanza turns on the server with the properties that I choose, these are the properties I used:</p>\n<pre><code>'annotators': 'tokenize,ssplit,coref'\n'coref.algorithm': 'neural'\n'coref.postprocessing.rules': 'true'\n'dcoref.animate': 'true'\n'dcoref.inanimate': 'true'\n'dcoref.gender': 'unknown'\n'ner.useSUTime': 'false'\n</code></pre>\n<p>after using these properties, I run the code and for some reason I get this error from the server (run in Java not python), The class</p>\n<pre><code>edu.stanford.nlp.hcoref.md.MentionDetectionClassifier\n</code></pre>\n<p>was not found\nI tried other versions of Stanza and other versions of Stanford corenlp, I always keep getting the same error, I even tried adding this property:</p>\n<pre><code>coref.mentionDetectionClassifier:edu.stanford.nlp.coref.neural.DocCorefNeuralMentionClassifier\n</code></pre>\n<p>but made no difference. I researched a bit on the internet, and I found out that the MentionDetectionClassifier class exists but with &quot;coref&quot; instead of &quot;hcoref&quot; in my current corenlp version (4.5.4), &quot;hcoref&quot; only exists in 3.6.0 stanford corenlp and below. I have no idea why this is happening. Perhaps I did something wrong with the properties?</p>\n<p>of course if I remove the property &quot;coref.algorithm&quot;, it uses the default value which is rule, and does not use neural networks during the co-referencing process, which results in many errors.</p>\n"},{"tags":["java","spring","rest","microsoft-graph-api"],"answers":[{"comments":[{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1687426890,"post_id":76530002,"comment_id":134936449,"body_markdown":"Thanks . I have seen this doc already , but the issue is , they dont have any example of passing the bearer token to graphClient . \nI have the bearer token generated from Auth code provider","body":"Thanks . I have seen this doc already , but the issue is , they dont have any example of passing the bearer token to graphClient .  I have the bearer token generated from Auth code provider"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1687429514,"post_id":76530002,"comment_id":134937088,"body_markdown":"@user2315104 is this page helpful? https://github.com/microsoftgraph/msgraph-sdk-java/issues/961","body":"@user2315104 is this page helpful? <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java/issues/961\" rel=\"nofollow noreferrer\">github.com/microsoftgraph/msgraph-sdk-java/issues/961</a>"}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687422927,"creation_date":1687422927,"answer_id":76530002,"question_id":76529766,"body_markdown":"[This][1] is the documentation page of the endpoint you invoke.\r\n\r\nThe error message of your first try is\r\n\r\n&gt; Missing body content\r\n\r\nThe complaint claims that you did not properly define the body content, which is good news in the sense that you were able to request the endpoint you wanted after all and you are pretty close to make it work.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo, you need to represent a [chatMessage][3] object in JSON format. Something like this:\r\n\r\n```\r\n{\r\n  &quot;attachments&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageAttachment&quot;}],\r\n  &quot;body&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.itemBody&quot;},\r\n  &quot;channelIdentity&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.channelIdentity&quot;},\r\n  &quot;chatId&quot;: &quot;String&quot;,\r\n  &quot;createdDateTime&quot;: &quot;String (timestamp)&quot;,\r\n  &quot;deletedDateTime&quot;: &quot;String (timestamp)&quot;,\r\n  &quot;etag&quot;: &quot;String&quot;,\r\n  &quot;eventDetail&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.eventMessageDetail&quot;},\r\n  &quot;from&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageFromIdentitySet&quot;},\r\n  &quot;id&quot;: &quot;String (identifier)&quot;,\r\n  &quot;importance&quot;: &quot;String&quot;,\r\n  &quot;lastEditedDateTime&quot;: &quot;String (timestamp)&quot;,\r\n  &quot;lastModifiedDateTime&quot;: &quot;String (timestamp)&quot;,\r\n  &quot;locale&quot;: &quot;String&quot;,\r\n  &quot;mentions&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageMention&quot;}],\r\n  &quot;messageHistory&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageHistoryItem&quot;}],\r\n  &quot;messageType&quot;: &quot;String&quot;,\r\n  &quot;policyViolation&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessagePolicyViolation&quot;},\r\n  &quot;reactions&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageReaction&quot;}],\r\n  &quot;replyToId&quot;: &quot;String (identifier)&quot;,\r\n  &quot;subject&quot;: &quot;String&quot;,\r\n  &quot;summary&quot;: &quot;String&quot;,\r\n  &quot;webUrl&quot;: &quot;String&quot;\r\n}\r\n```\r\n\r\nExample taken from the documentation:\r\n\r\n```\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nChatMessage chatMessage = new ChatMessage();\r\nItemBody body = new ItemBody();\r\nbody.content = &quot;Hello World&quot;;\r\nchatMessage.body = body;\r\n\r\ngraphClient.teams(&quot;fbe2bf47-16c8-47cf-b4a5-4b9b187c508b&quot;).channels(&quot;19:4a95f7d8db4c4e7fae857bcebe0623e6@thread.tacv2&quot;).messages()\r\n\t.buildRequest()\r\n\t.post(chatMessage);\r\n```\r\n\r\nNotice that a `ChatMessage` object is being created and an `ItemBody` is being assigned to its `body` member. Also notice the use of `GraphServiceClient`.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=java\r\n  [2]: https://i.stack.imgur.com/PMlye.png\r\n  [3]: https://learn.microsoft.com/en-us/graph/api/resources/chatmessage?view=graph-rest-1.0","title":"how to send messages to Teams using JAVA and Microsoft graph API","body":"<p><a href=\"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">This</a> is the documentation page of the endpoint you invoke.</p>\n<p>The error message of your first try is</p>\n<blockquote>\n<p>Missing body content</p>\n</blockquote>\n<p>The complaint claims that you did not properly define the body content, which is good news in the sense that you were able to request the endpoint you wanted after all and you are pretty close to make it work.</p>\n<p><a href=\"https://i.stack.imgur.com/PMlye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMlye.png\" alt=\"enter image description here\" /></a></p>\n<p>So, you need to represent a <a href=\"https://learn.microsoft.com/en-us/graph/api/resources/chatmessage?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">chatMessage</a> object in JSON format. Something like this:</p>\n<pre><code>{\n  &quot;attachments&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageAttachment&quot;}],\n  &quot;body&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.itemBody&quot;},\n  &quot;channelIdentity&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.channelIdentity&quot;},\n  &quot;chatId&quot;: &quot;String&quot;,\n  &quot;createdDateTime&quot;: &quot;String (timestamp)&quot;,\n  &quot;deletedDateTime&quot;: &quot;String (timestamp)&quot;,\n  &quot;etag&quot;: &quot;String&quot;,\n  &quot;eventDetail&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.eventMessageDetail&quot;},\n  &quot;from&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageFromIdentitySet&quot;},\n  &quot;id&quot;: &quot;String (identifier)&quot;,\n  &quot;importance&quot;: &quot;String&quot;,\n  &quot;lastEditedDateTime&quot;: &quot;String (timestamp)&quot;,\n  &quot;lastModifiedDateTime&quot;: &quot;String (timestamp)&quot;,\n  &quot;locale&quot;: &quot;String&quot;,\n  &quot;mentions&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageMention&quot;}],\n  &quot;messageHistory&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageHistoryItem&quot;}],\n  &quot;messageType&quot;: &quot;String&quot;,\n  &quot;policyViolation&quot;: {&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessagePolicyViolation&quot;},\n  &quot;reactions&quot;: [{&quot;@odata.type&quot;: &quot;microsoft.graph.chatMessageReaction&quot;}],\n  &quot;replyToId&quot;: &quot;String (identifier)&quot;,\n  &quot;subject&quot;: &quot;String&quot;,\n  &quot;summary&quot;: &quot;String&quot;,\n  &quot;webUrl&quot;: &quot;String&quot;\n}\n</code></pre>\n<p>Example taken from the documentation:</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nChatMessage chatMessage = new ChatMessage();\nItemBody body = new ItemBody();\nbody.content = &quot;Hello World&quot;;\nchatMessage.body = body;\n\ngraphClient.teams(&quot;fbe2bf47-16c8-47cf-b4a5-4b9b187c508b&quot;).channels(&quot;19:4a95f7d8db4c4e7fae857bcebe0623e6@thread.tacv2&quot;).messages()\n    .buildRequest()\n    .post(chatMessage);\n</code></pre>\n<p>Notice that a <code>ChatMessage</code> object is being created and an <code>ItemBody</code> is being assigned to its <code>body</code> member. Also notice the use of <code>GraphServiceClient</code>.</p>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687422927,"creation_date":1687421182,"question_id":76529766,"body_markdown":"Im trying to send message to MS Team through JAVA . MS Team exposes the POST API through MS Graph which we can use to send messages to Teams channel using teams ID and channel ID . This what I understood from doc  : https://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk\r\n\r\nThere are two codes which I have written . none of them are working \r\n\r\n**CODE 1** \r\n\r\n    public static void main(String[] args) {\r\n    \t\t\t\t\r\n    \t\t    RestTemplate restTemplate = new RestTemplate();\r\n    \t\t    String url = &quot;https://graph.microsoft.com/v1.0/teams/&lt;team id&gt;/channels/&lt;channel id&gt;/messages&quot;;\t    \r\n    \t\t    HttpHeaders headers = new HttpHeaders();\r\n    \t\t    String requestJson = &quot;{\\&quot;queriedQuestion\\&quot;:\\&quot;Is there pain in your hand?\\&quot;}&quot;;\r\n    \t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\t    headers.setBearerAuth(&quot;token&quot;);  \r\n    \t\t \t    \r\n    \t\t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\r\n    \t\t    String answer = restTemplate.postForObject(url, entity, String.class);\r\n    \t\t    System.out.println(answer);\r\n    \r\n    \t}\r\n\r\nerror coming is : \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.springframework.web.client.HttpClientErrorException$BadRequest:\r\n&gt; 400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Missing\r\n&gt; body\r\n&gt; content&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-22T07:44:37&quot;,&quot;request-id&quot;:&quot;dc287932-45c4-4940-8f23-c717cb5d6e09&quot;,&quot;client-request-id&quot;:&quot;dc287932-45c4-4940-8f23-c717cb5d6e09&quot;}}}&quot;\r\n&gt; \tat\r\n&gt; org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:481)\r\n&gt; \tat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:36)\r\n\r\n\r\n**CODE 2** \r\n\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\r\n    \t\r\n    \t\theaders.setBearerAuth(&quot;token&quot;);\r\n    \t\theaders.add(&quot;Header&quot;, &quot;header1&quot;);\r\n    \t\t\r\n    \t\tUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;https://graph.microsoft.com/v1.0/teams/&lt;team id&gt;/channels/&lt;channel id&gt;/messages&quot;);\r\n    \t    \r\n    \t\tHttpEntity&lt;String&gt; response = restTemplate.exchange(\r\n    \t\t        builder.toUriString(), \r\n    \t\t        HttpMethod.POST,\r\n    \t\t        entity, \r\n    \t\t        String.class);\r\n    \t}\r\n\r\nerror coming is : \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.springframework.web.client.HttpClientErrorException$BadRequest:\r\n&gt; 400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\r\n&gt; read JSON request payload. Please ensure Content-Type header is set\r\n&gt; and payload is of valid JSON\r\n&gt; format.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-22T07:52:21&quot;,&quot;request-id&quot;:&quot;229cc590-dcdf-47ed-89cf-e47ddf136be7&quot;,&quot;client-request-id&quot;:&quot;229cc590-dcdf-47ed-89cf-e47ddf136be7&quot;}}}&quot;\r\n&gt; \tat\r\n&gt; org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\r\n&gt; \tat oe.kubeapi.cloudcontroller.TeamMessage1.main(TeamMessage1.java:33)\r\n\r\nI truly don&#39;t understand what is the issue. I searched lot and modified the code accordingly . I referred this question also : https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json\r\n\r\nplease suggest \r\n","title":"how to send messages to Teams using JAVA and Microsoft graph API","body":"<p>Im trying to send message to MS Team through JAVA . MS Team exposes the POST API through MS Graph which we can use to send messages to Teams channel using teams ID and channel ID . This what I understood from doc  : <a href=\"https://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/sdks/sdk-installation#install-the-microsoft-graph-java-sdk</a></p>\n<p>There are two codes which I have written . none of them are working</p>\n<p><strong>CODE 1</strong></p>\n<pre><code>public static void main(String[] args) {\n                \n            RestTemplate restTemplate = new RestTemplate();\n            String url = &quot;https://graph.microsoft.com/v1.0/teams/&lt;team id&gt;/channels/&lt;channel id&gt;/messages&quot;;     \n            HttpHeaders headers = new HttpHeaders();\n            String requestJson = &quot;{\\&quot;queriedQuestion\\&quot;:\\&quot;Is there pain in your hand?\\&quot;}&quot;;\n            headers.setContentType(MediaType.APPLICATION_JSON);\n            headers.setBearerAuth(&quot;token&quot;);  \n                \n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\n            String answer = restTemplate.postForObject(url, entity, String.class);\n            System.out.println(answer);\n\n    }\n</code></pre>\n<p>error coming is :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.springframework.web.client.HttpClientErrorException$BadRequest:\n400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Missing\nbody\ncontent&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-22T07:44:37&quot;,&quot;request-id&quot;:&quot;dc287932-45c4-4940-8f23-c717cb5d6e09&quot;,&quot;client-request-id&quot;:&quot;dc287932-45c4-4940-8f23-c717cb5d6e09&quot;}}}&quot;\nat\norg.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\nat\norg.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat\norg.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\nat\norg.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\nat\norg.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\nat\norg.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:481)\nat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:36)</p>\n</blockquote>\n<p><strong>CODE 2</strong></p>\n<pre><code>public static void main(String[] args) {\n        \n        RestTemplate restTemplate = new RestTemplate();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\n    \n        headers.setBearerAuth(&quot;token&quot;);\n        headers.add(&quot;Header&quot;, &quot;header1&quot;);\n        \n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;https://graph.microsoft.com/v1.0/teams/&lt;team id&gt;/channels/&lt;channel id&gt;/messages&quot;);\n        \n        HttpEntity&lt;String&gt; response = restTemplate.exchange(\n                builder.toUriString(), \n                HttpMethod.POST,\n                entity, \n                String.class);\n    }\n</code></pre>\n<p>error coming is :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.springframework.web.client.HttpClientErrorException$BadRequest:\n400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\nread JSON request payload. Please ensure Content-Type header is set\nand payload is of valid JSON\nformat.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-22T07:52:21&quot;,&quot;request-id&quot;:&quot;229cc590-dcdf-47ed-89cf-e47ddf136be7&quot;,&quot;client-request-id&quot;:&quot;229cc590-dcdf-47ed-89cf-e47ddf136be7&quot;}}}&quot;\nat\norg.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\nat\norg.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat\norg.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\nat\norg.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\nat\norg.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\nat\norg.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\nat oe.kubeapi.cloudcontroller.TeamMessage1.main(TeamMessage1.java:33)</p>\n</blockquote>\n<p>I truly don't understand what is the issue. I searched lot and modified the code accordingly . I referred this question also : <a href=\"https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json\">POST request via RestTemplate in JSON</a></p>\n<p>please suggest</p>\n"},{"tags":["java","sql","oracle","database-comparison"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687253204,"post_id":76513210,"comment_id":134907175,"body_markdown":"How many rows do these tables have? Do you need to compare them programmatically? Does the comparison need to be repeated often, or is it a one-time effort?","body":"How many rows do these tables have? Do you need to compare them programmatically? Does the comparison need to be repeated often, or is it a one-time effort?"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687253432,"post_id":76513210,"comment_id":134907224,"body_markdown":"@AdriaanKoster Thank you for the reply. Yes i want to do it programmatically in java. and the comparison is needed to be done every 5 minutes to check if the data is sync correctly in the second database.","body":"@AdriaanKoster Thank you for the reply. Yes i want to do it programmatically in java. and the comparison is needed to be done every 5 minutes to check if the data is sync correctly in the second database."},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687253695,"post_id":76513210,"comment_id":134907286,"body_markdown":"@AdriaanKoster the table has hardly 30 to 60 rows at the moment.","body":"@AdriaanKoster the table has hardly 30 to 60 rows at the moment."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687254024,"post_id":76513210,"comment_id":134907372,"body_markdown":"read set one in one list, read set two in a different list, compare the content of the lists","body":"read set one in one list, read set two in a different list, compare the content of the lists"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687254308,"post_id":76513210,"comment_id":134907433,"body_markdown":"@Stultuske well if there are 5 to 6 different columns in each table, then how to do it? Can you show me with the code . It would great help.","body":"@Stultuske well if there are 5 to 6 different columns in each table, then how to do it? Can you show me with the code . It would great help."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687254379,"post_id":76513210,"comment_id":134907445,"body_markdown":"you are aware an equals method can compare more than one single field, I assume?","body":"you are aware an equals method can compare more than one single field, I assume?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687255154,"post_id":76513210,"comment_id":134907602,"body_markdown":"What is the primary key of these tables? Can you use an ORM framework like JPA + Hibernate to map the data to objects? Or do you need to use JDCB and ResultSet as shown?","body":"What is the primary key of these tables? Can you use an ORM framework like JPA + Hibernate to map the data to objects? Or do you need to use JDCB and ResultSet as shown?"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687255492,"post_id":76513210,"comment_id":134907670,"body_markdown":"@AdriaanKoster USERID is the primary key in both tables and they are identical in both tables of both databases.","body":"@AdriaanKoster USERID is the primary key in both tables and they are identical in both tables of both databases."},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687255526,"post_id":76513210,"comment_id":134907675,"body_markdown":"@AdriaanKoster i can only use java code to achieve this or some oracle sql commands.","body":"@AdriaanKoster i can only use java code to achieve this or some oracle sql commands."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687262012,"post_id":76513210,"comment_id":134909115,"body_markdown":"@Rio so what is the problem with reading the data into lists and compairing the lists contents?","body":"@Rio so what is the problem with reading the data into lists and compairing the lists contents?"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687266289,"post_id":76513210,"comment_id":134910169,"body_markdown":"@Stultuske it might be a good solution. Can you help me to give a solution in code form that i can try? I can try to compare 1 or 2 columns from that database tables.","body":"@Stultuske it might be a good solution. Can you help me to give a solution in code form that i can try? I can try to compare 1 or 2 columns from that database tables."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687329376,"post_id":76513210,"comment_id":134919511,"body_markdown":"@Rio creating the combination of equals and hashcode methods is part of the basics of OO programming in Java. If you need help with that part, I would recommend not to dabble with databases just yet.","body":"@Rio creating the combination of equals and hashcode methods is part of the basics of OO programming in Java. If you need help with that part, I would recommend not to dabble with databases just yet."},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687335833,"post_id":76513210,"comment_id":134920903,"body_markdown":"@Stultuske I did but i am not getting my desired output. I updated my efforts and question as well sir.","body":"@Stultuske I did but i am not getting my desired output. I updated my efforts and question as well sir."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687348763,"post_id":76513210,"comment_id":134923689,"body_markdown":"yess ... this -&gt; (tags.equals(tags2)) is not how you compare the content of Lists.","body":"yess ... this -&gt; (tags.equals(tags2)) is not how you compare the content of Lists."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1687352173,"post_id":76513210,"comment_id":134924466,"body_markdown":"If you&#39;re using Oracle, have you considered using a database link to connect the two databases directly, and then compare them with a query, instead of in Java?\n\nhttps://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_5005.htm","body":"If you&#39;re using Oracle, have you considered using a database link to connect the two databases directly, and then compare them with a query, instead of in Java?  <a href=\"https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_5005.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B13789_01/server.101/b10759/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687259507,"post_id":76513700,"comment_id":134908552,"body_markdown":"when i tried to print the content, it always print the content of second database. Also if i use the public boolean isSame(), then i can&#39;t run it from main method. but if i add the static keyword, then i am able to run but i cannot print the data from first database table. it somehow always get the connection to second database. seems the first connection is closed.  Can you please help me with somehow to print the content of both databases in your above solution?. i think its a small issue","body":"when i tried to print the content, it always print the content of second database. Also if i use the public boolean isSame(), then i can&#39;t run it from main method. but if i add the static keyword, then i am able to run but i cannot print the data from first database table. it somehow always get the connection to second database. seems the first connection is closed.  Can you please help me with somehow to print the content of both databases in your above solution?. i think its a small issue"},{"owner":{"account_id":25879559,"reputation":19,"user_id":19608895,"display_name":"Levi"},"score":0,"creation_date":1687260044,"post_id":76513700,"comment_id":134908679,"body_markdown":"if you can share the piece of code that you are running right now then maybe I can look for any mistake because I ran this before posting here and it was working fine for me.","body":"if you can share the piece of code that you are running right now then maybe I can look for any mistake because I ran this before posting here and it was working fine for me."},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687266204,"post_id":76513700,"comment_id":134910140,"body_markdown":"I updated my question. I added what i tried with your solution. Somehow i am able to print the data from both database tables. Is there any way to print the content which is similar in both tables and the content which is different or extra in both tables? This way i will get my solution in final stage.  Any idea would be greatly appreciated.","body":"I updated my question. I added what i tried with your solution. Somehow i am able to print the data from both database tables. Is there any way to print the content which is similar in both tables and the content which is different or extra in both tables? This way i will get my solution in final stage.  Any idea would be greatly appreciated."}],"tags":[],"owner":{"account_id":25879559,"reputation":19,"user_id":19608895,"display_name":"Levi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687256433,"creation_date":1687256433,"answer_id":76513700,"question_id":76513210,"body_markdown":"The more convenient way to do this is by having an Orignal table in your single database and make another table with similar characteristics and then compare them but for your scenario.\r\n\r\nThe easy way to do this is by making two separate connection to your 2 databases in single method like this:\r\n\r\n        public boolean isSame(){\r\n            try{\r\n               Connection con = DriverManager.getConnection(URL, userName, pass);\r\n               Connection con2 = DriverManager.getConnection(URL, userName, pass);\r\n               Statement stmt = con.createStatement();\r\n               Statement stmt2 = con2.createStatement();\r\n               ResultSet rs = stmt.executeQuery(SQL_Statement);\r\n               ResultSet rs2 = stmt2.executeQuery(SQL_Statement);\r\n                  int count=0;\r\n                  int rowCount= 0;\r\n                  while (rs.next())\r\n                  {\r\n                     while(rs2.next()){\r\n                          String Customer = rs.getString(1);\r\n                          String Customer2 = rs2.getString(1);\r\n                          if(Customer.equals(Customer2)){\r\n                              return true;\r\n                          }\r\n                     }\r\n                }\r\n           } catch(Exception e){\r\n                System.out.println(e.toString())\r\n         }\r\n         return false; \r\n    }\r\n\r\nCon and Con2 will be two separate connections for your database and then you can create separate statement and result set for them.\r\nIn getting the values you will get the required one&#39;s and compare them and can use &amp;&amp; operator to compare many at once which will solve your problem.","title":"Compare two oracle tables of two different databases in java","body":"<p>The more convenient way to do this is by having an Orignal table in your single database and make another table with similar characteristics and then compare them but for your scenario.</p>\n<p>The easy way to do this is by making two separate connection to your 2 databases in single method like this:</p>\n<pre><code>    public boolean isSame(){\n        try{\n           Connection con = DriverManager.getConnection(URL, userName, pass);\n           Connection con2 = DriverManager.getConnection(URL, userName, pass);\n           Statement stmt = con.createStatement();\n           Statement stmt2 = con2.createStatement();\n           ResultSet rs = stmt.executeQuery(SQL_Statement);\n           ResultSet rs2 = stmt2.executeQuery(SQL_Statement);\n              int count=0;\n              int rowCount= 0;\n              while (rs.next())\n              {\n                 while(rs2.next()){\n                      String Customer = rs.getString(1);\n                      String Customer2 = rs2.getString(1);\n                      if(Customer.equals(Customer2)){\n                          return true;\n                      }\n                 }\n            }\n       } catch(Exception e){\n            System.out.println(e.toString())\n     }\n     return false; \n}\n</code></pre>\n<p>Con and Con2 will be two separate connections for your database and then you can create separate statement and result set for them.\nIn getting the values you will get the required one's and compare them and can use &amp;&amp; operator to compare many at once which will solve your problem.</p>\n"},{"comments":[{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687357847,"post_id":76523097,"comment_id":134925982,"body_markdown":"thank you for the help. this line is giving the error. equals = equals &amp;&amp; (rowCount &lt;&gt; getRowCount(resultSet2)); .","body":"thank you for the help. this line is giving the error. equals = equals &amp;&amp; (rowCount &lt;&gt; getRowCount(resultSet2)); ."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687360545,"post_id":76523097,"comment_id":134926721,"body_markdown":"Yes, that should be `==`, I thought I fixed that but apparently not. Now fixed above. If I would have needed `&lt;&gt;` that should have been expressed as `!=` in Java, don&#39;t know where my head was at ;-)","body":"Yes, that should be <code>==</code>, I thought I fixed that but apparently not. Now fixed above. If I would have needed <code>&lt;&gt;</code> that should have been expressed as <code>!=</code> in Java, don&#39;t know where my head was at ;-)"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687419692,"post_id":76523097,"comment_id":134934878,"body_markdown":"Can you help me to solve the last piece of puzzle i guess. I connec to the database like this &quot;Connection con = DriverManager.getConnection(URL, userName, pass);&quot;    But you mentioned in methods (Database db1, Database db2, String query) .  Query is easy for me .  but the Database db1 and Database db2 confuses me.  It might seems very basic. but can you help me what should i insert here?   Like what should i enter for Database db1 and db2?","body":"Can you help me to solve the last piece of puzzle i guess. I connec to the database like this &quot;Connection con = DriverManager.getConnection(URL, userName, pass);&quot;    But you mentioned in methods (Database db1, Database db2, String query) .  Query is easy for me .  but the Database db1 and Database db2 confuses me.  It might seems very basic. but can you help me what should i insert here?   Like what should i enter for Database db1 and db2?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687422635,"post_id":76523097,"comment_id":134935517,"body_markdown":"I intended a wrapper class called &#39;Database&#39; which contains the fields url, userName, password. You can create that and populate it with the values you need. Or you can replace the Database parameters with three String parameters. Left as an excercise for the reader ;-)","body":"I intended a wrapper class called &#39;Database&#39; which contains the fields url, userName, password. You can create that and populate it with the values you need. Or you can replace the Database parameters with three String parameters. Left as an excercise for the reader ;-)"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687423132,"post_id":76523097,"comment_id":134935628,"body_markdown":"I fixed a bug in compareRows: `for(int column = 1; column &lt;= columCount; column++)` changed `&lt;` to `&lt;=`","body":"I fixed a bug in compareRows: <code>for(int column = 1; column &lt;= columCount; column++)</code> changed <code>&lt;</code> to <code>&lt;=</code>"},{"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"score":0,"creation_date":1687425185,"post_id":76523097,"comment_id":134936041,"body_markdown":"I would be grateful from my heart if you show me either way with the code. Either with the Database wrapper class or using Strings. Can you help me by providing the demo example. I would be really thankful for this help. I tried to change the params to string but failed miserably.","body":"I would be grateful from my heart if you show me either way with the code. Either with the Database wrapper class or using Strings. Can you help me by providing the demo example. I would be really thankful for this help. I tried to change the params to string but failed miserably."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1687434935,"post_id":76523097,"comment_id":134938110,"body_markdown":"You should really be able to figure this out yourself. If not, I suggest getting some basic Java training first, or you will not be able to do anything autonomously. In this case just replace all `Database db` with `String url, String userName, String password`. Where the db is passed into a method replace it with `url, userName, password`. Where fields are read replace &#39;db.getUrl()&#39; with `url` etc. In the part of the code where you have db1 and db2, distinguish the url/userName/password fields in the same way by suffixing with 1 or 2.","body":"You should really be able to figure this out yourself. If not, I suggest getting some basic Java training first, or you will not be able to do anything autonomously. In this case just replace all <code>Database db</code> with <code>String url, String userName, String password</code>. Where the db is passed into a method replace it with <code>url, userName, password</code>. Where fields are read replace &#39;db.getUrl()&#39; with <code>url</code> etc. In the part of the code where you have db1 and db2, distinguish the url/userName/password fields in the same way by suffixing with 1 or 2."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687422894,"creation_date":1687349107,"answer_id":76523097,"question_id":76513210,"body_markdown":"You could structure your code a bit better. For example by breaking down what you are trying to achieve into logical steps. It works better than trial-and-error development:\r\n\r\n 1. Read the results from both databases, ordered by UserID\r\n 2. Compare the row and column counts of both results and exit with failure if they differ\r\n 3. Iterate over both results simultaneously until there is a difference, or the end of both lists is reached.\r\n 4. Within the iteration, take the next row from each result\r\n 5. Iterate over the columns of both rows\r\n 6. Compare the two column values and exit with failure if they are not equal\r\n 7. On reaching the end of the result iteration, exit with success\r\n\r\n\r\nSomething like this (untested):\r\n\r\n    class DatabaseComparisonUtility {\r\n\r\n        private ResultSet resultSet1;\r\n        private ResultSet resultSet2;\r\n        private int columnCount;\r\n        private boolean equals;\r\n\r\n        public boolean areSame(Database db1, Database db2, String query) throws Exception {\r\n           \r\n            equals = true;\r\n\r\n            readResultSets(db1, db2, query);\r\n\r\n            checkDimensions();\r\n\r\n            while (equals &amp;&amp; resultSet1.next() &amp;&amp; resultSet2.next()) {\r\n                compareRows();\r\n            }\r\n\r\n            return equals;\r\n        }\r\n\r\n        private void readResultSets(Database db1, Database db2, String query) throws Exception  {\r\n            resultSet1 = readResultSet(db1, query);\r\n            resultSet2 = readResultSet(db2, query);\r\n        }\r\n \r\n        private ResultSet readResultSet(Database db, String query) throws Exception  {\r\n            Connection conn = DriverManager.getConnection(db.getUrl(), db.getUserName(), db.getPassword());\r\n            Statement stmt = conn.createStatement();\r\n            return stmt.executeQuery(query);\r\n        }\r\n\r\n        private void checkDimensions() {\r\n\r\n            columnCount = getColumnCount(resultSet1):\r\n            equals = equals &amp;&amp; (columnCount == getColumnCount(resultSet2));\r\n\r\n            int rowCount = getRowCount(resultSet1);\r\n            equals = equals &amp;&amp; (rowCount == getRowCount(resultSet2));\r\n        }\r\n\r\n        private int getColumnCount(ResultSet resultSet) {\r\n             return resultSet.getMetaData().getColumnCount();\r\n        }\r\n\r\n        private int getRowCount(ResultSet resultSet) {\r\n             resultSet.last();\r\n             int rowCount = resultSet.getRow();\r\n             resultSet.first();\r\n             return rowCount;\r\n        }\r\n\r\n        private void compareRows() {\r\n            for(int column = 1; column &lt;= columCount; column++) {                \r\n                equals = equals &amp;&amp; equalColumns(column);\r\n            }\r\n        }\r\n\r\n        private boolean equalColumns(int column) {       \r\n            String value1 = resultSet1.getString(column);\r\n            String value2 = resultSet2.getString(column);\r\n            equals = equals &amp;&amp; (value1.equals(value2));\r\n        }\r\n    }\r\n\r\nI am assuming here that it is ok to compare the String representation of your column values, which should be ok for most cases.\r\n\r\nThe statements like `equals = equals &amp;&amp; (rowCount == getRowCount(resultSet2))` are making sure the existing value of equals is not overwritten. To assure that once equals becomes false, subsequent checks will not make it true again.\r\n\r\nThe part `rowCount == getRowCount(resultSet2)` is a boolean expression which evaluates to `true` if the two rowCounts are equal and false otherwise.\r\n\r\nYou need to create the `Database` class yourself, containing the fields needed to connect to the database (url, userName, password).\r\n\r\nThe SQL query needs to sort the rows by UserId, so:\r\n\r\n    &quot;SELECT * FROM Table_All_Customers ORDER BY UserID&quot;\r\n\r\nOtherwise the order of the results is unspecified and comparing them sequentially might fail.","title":"Compare two oracle tables of two different databases in java","body":"<p>You could structure your code a bit better. For example by breaking down what you are trying to achieve into logical steps. It works better than trial-and-error development:</p>\n<ol>\n<li>Read the results from both databases, ordered by UserID</li>\n<li>Compare the row and column counts of both results and exit with failure if they differ</li>\n<li>Iterate over both results simultaneously until there is a difference, or the end of both lists is reached.</li>\n<li>Within the iteration, take the next row from each result</li>\n<li>Iterate over the columns of both rows</li>\n<li>Compare the two column values and exit with failure if they are not equal</li>\n<li>On reaching the end of the result iteration, exit with success</li>\n</ol>\n<p>Something like this (untested):</p>\n<pre><code>class DatabaseComparisonUtility {\n\n    private ResultSet resultSet1;\n    private ResultSet resultSet2;\n    private int columnCount;\n    private boolean equals;\n\n    public boolean areSame(Database db1, Database db2, String query) throws Exception {\n       \n        equals = true;\n\n        readResultSets(db1, db2, query);\n\n        checkDimensions();\n\n        while (equals &amp;&amp; resultSet1.next() &amp;&amp; resultSet2.next()) {\n            compareRows();\n        }\n\n        return equals;\n    }\n\n    private void readResultSets(Database db1, Database db2, String query) throws Exception  {\n        resultSet1 = readResultSet(db1, query);\n        resultSet2 = readResultSet(db2, query);\n    }\n\n    private ResultSet readResultSet(Database db, String query) throws Exception  {\n        Connection conn = DriverManager.getConnection(db.getUrl(), db.getUserName(), db.getPassword());\n        Statement stmt = conn.createStatement();\n        return stmt.executeQuery(query);\n    }\n\n    private void checkDimensions() {\n\n        columnCount = getColumnCount(resultSet1):\n        equals = equals &amp;&amp; (columnCount == getColumnCount(resultSet2));\n\n        int rowCount = getRowCount(resultSet1);\n        equals = equals &amp;&amp; (rowCount == getRowCount(resultSet2));\n    }\n\n    private int getColumnCount(ResultSet resultSet) {\n         return resultSet.getMetaData().getColumnCount();\n    }\n\n    private int getRowCount(ResultSet resultSet) {\n         resultSet.last();\n         int rowCount = resultSet.getRow();\n         resultSet.first();\n         return rowCount;\n    }\n\n    private void compareRows() {\n        for(int column = 1; column &lt;= columCount; column++) {                \n            equals = equals &amp;&amp; equalColumns(column);\n        }\n    }\n\n    private boolean equalColumns(int column) {       \n        String value1 = resultSet1.getString(column);\n        String value2 = resultSet2.getString(column);\n        equals = equals &amp;&amp; (value1.equals(value2));\n    }\n}\n</code></pre>\n<p>I am assuming here that it is ok to compare the String representation of your column values, which should be ok for most cases.</p>\n<p>The statements like <code>equals = equals &amp;&amp; (rowCount == getRowCount(resultSet2))</code> are making sure the existing value of equals is not overwritten. To assure that once equals becomes false, subsequent checks will not make it true again.</p>\n<p>The part <code>rowCount == getRowCount(resultSet2)</code> is a boolean expression which evaluates to <code>true</code> if the two rowCounts are equal and false otherwise.</p>\n<p>You need to create the <code>Database</code> class yourself, containing the fields needed to connect to the database (url, userName, password).</p>\n<p>The SQL query needs to sort the rows by UserId, so:</p>\n<pre><code>&quot;SELECT * FROM Table_All_Customers ORDER BY UserID&quot;\n</code></pre>\n<p>Otherwise the order of the results is unspecified and comparing them sequentially might fail.</p>\n"}],"owner":{"account_id":9183614,"reputation":355,"user_id":6826664,"accept_rate":64,"display_name":"Rio"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687422894,"creation_date":1687252796,"question_id":76513210,"body_markdown":"I have 2 different databases. Actually the second database is with all the records that are identical to the first one. Mean when i create/delete/update any entry in the first database, then after a certain while it is visible in the second database table as well. \r\nAlthough there are some minor differences as well like two rows are different or additional in the first table. \r\n\r\nMy question is how to compare these two tables from two different databases in java. \r\n\r\n\r\n\r\nI connect to the databases like this but i don&#39;t know how to proceed further. \r\nAny help would be appreciated\r\n\r\n \r\n            String SQL_Statement = &quot;SELECT * FROM Table_All_Customers&quot;;\r\n\r\n            for (Connection con : getDBConnections())\r\n            {\r\n\r\n            Statement stmt = con.createStatement();\r\n            ResultSet rs = stmt.executeQuery(SQL_Statement);\r\n            int count=0;\r\n            int rowCount= 0;\r\n            while (rs.next())\r\n            {\r\n                count+=1;\r\n                rowCount+=1;\r\n                String productNumber = rs.getString(&quot;Customer&quot;);\r\n                System.out.println(&quot;This is the result ... &quot; + rowCount + &quot; :&quot; + productNumber);\r\n            }\r\n        }\r\n\r\nWith the above code, i am just fetching the data from the columns of these tables and printing them\r\n\r\nthe tables look like this \r\n\r\ntable 1 in database 1:\r\n\r\n    UserID  Customer    Order    number  \r\n    ----------------------\r\n    2334e3    David       Pizza    2       \r\n    2334e4    David       Cola     3       \r\n    2334e5    Lisa        Cola     4       \r\n    2334e6     Lina       Pizza    5      \r\n    2334e7    Greco       Cola     6       \r\n\r\ntable 1 in database 2:\r\n\r\n     UserID   Customer    Order    number  \r\n        ----------------------  \r\n      2334e3  David       Pizza    2       \r\n      2334e4  David       Cola     3       \r\n      2334e5  Lisa        Cola     4       \r\n      2334e6  Lina        Pizza    5       \r\n\r\nMy aim is to compare these two tables above to check if data is updated successfully in two different databases. Also is there any way to check the differences as well? How to achieve it via Java. \r\nWould be thankful for any help. \r\n\r\nUpdated: \r\n\r\nI tried something like this but i am unable to compare the differences, is it possible to print the differences between two tables? \r\n\r\n    public static boolean isDBSame()\r\n        {\r\n            try\r\n     {\r\n            Connection con = DriverManager.getConnection(URL, userName, pass);\r\n            Connection con2 = DriverManager.getConnection(URL2, userName, pass);\r\n            Statement stmt = con.createStatement();\r\n            Statement stmt2 = con2.createStatement();\r\n            ResultSet rs = stmt.executeQuery(SQL_Statement);\r\n            ResultSet rs2 = stmt2.executeQuery(SQL_Statement_2);\r\n            int count = 0;\r\n            int rowCount = 0;\r\n            int firstDB_count = 0;\r\n            int firstDB_rowCount = 0;\r\n            List&lt;String&gt; tags = new ArrayList&lt;String&gt;();\r\n            List&lt;String&gt; tags2 = new ArrayList&lt;String&gt;();\r\n            List&lt;String&gt; tags3 = new ArrayList&lt;String&gt;();\r\n            Set&lt;String&gt; ad = new HashSet&lt;String&gt;(tags);\r\n            Set&lt;String&gt; bd = new HashSet&lt;String&gt;(tags2);\r\n            while (rs.next())\r\n            {\r\n                String Customer = rs.getString(1);\r\n                System.out.println(&quot;This is the content of 1st database: &quot; + rowCount + &quot; : &quot; + Customer.toString());\r\n                count += 1;\r\n                rowCount += 1;\r\n                tags.add(rs.getString(&quot;UserID&quot;));\r\n       while (rs2.next())\r\n                    {\r\n    String Customer2 = rs2.getString(1);\r\n    tags2.add(rs2.getString(&quot;CUserID&quot;));\r\n     }\r\n\r\n            }\r\n            for (String e : tags2)\r\n            {\r\n                System.out.println(&quot;This is the second database e.... &quot; + e);\r\n            }\r\n            if (tags.equals(tags2))\r\n            {\r\n                System.out.println(&quot;Hi &quot;);\r\n                System.out.println(&quot;Content is same...&quot;);\r\n                return true;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Content is not same and check properly....... &quot; );\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n\r\n            System.out.println(&quot;It is false...&quot;);\r\n            System.out.println(e.toString());\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n           \r\n\r\n\r\nEven i tried this\r\n\r\n    Set&lt;String&gt; ad = new HashSet&lt;String&gt;(tags);\r\n    Set&lt;String&gt; bd = new HashSet&lt;String&gt;(tags2);\r\n    ad.removeAll(bd);\r\n    \r\nBut it result in false or true. Is there anyway that i can print the difference between two lists?\r\nAlso any efficient way to compare different columns of two different tables in the 2 different databases.","title":"Compare two oracle tables of two different databases in java","body":"<p>I have 2 different databases. Actually the second database is with all the records that are identical to the first one. Mean when i create/delete/update any entry in the first database, then after a certain while it is visible in the second database table as well.\nAlthough there are some minor differences as well like two rows are different or additional in the first table.</p>\n<p>My question is how to compare these two tables from two different databases in java.</p>\n<p>I connect to the databases like this but i don't know how to proceed further.\nAny help would be appreciated</p>\n<pre><code>        String SQL_Statement = &quot;SELECT * FROM Table_All_Customers&quot;;\n\n        for (Connection con : getDBConnections())\n        {\n\n        Statement stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(SQL_Statement);\n        int count=0;\n        int rowCount= 0;\n        while (rs.next())\n        {\n            count+=1;\n            rowCount+=1;\n            String productNumber = rs.getString(&quot;Customer&quot;);\n            System.out.println(&quot;This is the result ... &quot; + rowCount + &quot; :&quot; + productNumber);\n        }\n    }\n</code></pre>\n<p>With the above code, i am just fetching the data from the columns of these tables and printing them</p>\n<p>the tables look like this</p>\n<p>table 1 in database 1:</p>\n<pre><code>UserID  Customer    Order    number  \n----------------------\n2334e3    David       Pizza    2       \n2334e4    David       Cola     3       \n2334e5    Lisa        Cola     4       \n2334e6     Lina       Pizza    5      \n2334e7    Greco       Cola     6       \n</code></pre>\n<p>table 1 in database 2:</p>\n<pre><code> UserID   Customer    Order    number  \n    ----------------------  \n  2334e3  David       Pizza    2       \n  2334e4  David       Cola     3       \n  2334e5  Lisa        Cola     4       \n  2334e6  Lina        Pizza    5       \n</code></pre>\n<p>My aim is to compare these two tables above to check if data is updated successfully in two different databases. Also is there any way to check the differences as well? How to achieve it via Java.\nWould be thankful for any help.</p>\n<p>Updated:</p>\n<p>I tried something like this but i am unable to compare the differences, is it possible to print the differences between two tables?</p>\n<pre><code>public static boolean isDBSame()\n    {\n        try\n {\n        Connection con = DriverManager.getConnection(URL, userName, pass);\n        Connection con2 = DriverManager.getConnection(URL2, userName, pass);\n        Statement stmt = con.createStatement();\n        Statement stmt2 = con2.createStatement();\n        ResultSet rs = stmt.executeQuery(SQL_Statement);\n        ResultSet rs2 = stmt2.executeQuery(SQL_Statement_2);\n        int count = 0;\n        int rowCount = 0;\n        int firstDB_count = 0;\n        int firstDB_rowCount = 0;\n        List&lt;String&gt; tags = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; tags2 = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; tags3 = new ArrayList&lt;String&gt;();\n        Set&lt;String&gt; ad = new HashSet&lt;String&gt;(tags);\n        Set&lt;String&gt; bd = new HashSet&lt;String&gt;(tags2);\n        while (rs.next())\n        {\n            String Customer = rs.getString(1);\n            System.out.println(&quot;This is the content of 1st database: &quot; + rowCount + &quot; : &quot; + Customer.toString());\n            count += 1;\n            rowCount += 1;\n            tags.add(rs.getString(&quot;UserID&quot;));\n   while (rs2.next())\n                {\nString Customer2 = rs2.getString(1);\ntags2.add(rs2.getString(&quot;CUserID&quot;));\n }\n\n        }\n        for (String e : tags2)\n        {\n            System.out.println(&quot;This is the second database e.... &quot; + e);\n        }\n        if (tags.equals(tags2))\n        {\n            System.out.println(&quot;Hi &quot;);\n            System.out.println(&quot;Content is same...&quot;);\n            return true;\n        }\n        else\n        {\n            System.out.println(&quot;Content is not same and check properly....... &quot; );\n        }\n    }\n    catch (Exception e)\n    {\n\n        System.out.println(&quot;It is false...&quot;);\n        System.out.println(e.toString());\n    }\n    return false;\n}\n\n\n       \n</code></pre>\n<p>Even i tried this</p>\n<pre><code>Set&lt;String&gt; ad = new HashSet&lt;String&gt;(tags);\nSet&lt;String&gt; bd = new HashSet&lt;String&gt;(tags2);\nad.removeAll(bd);\n</code></pre>\n<p>But it result in false or true. Is there anyway that i can print the difference between two lists?\nAlso any efficient way to compare different columns of two different tables in the 2 different databases.</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1457461853,"post_id":35862409,"comment_id":59413865,"body_markdown":"java version &quot;1.8.0_71&quot;","body":"java version &quot;1.8.0_71&quot;"},{"owner":{"account_id":7085509,"reputation":447,"user_id":5422437,"display_name":"Zhivko.Kostadinov"},"score":0,"creation_date":1457511842,"post_id":35862409,"comment_id":59434329,"body_markdown":"Try to write your variable name with more describe worth,\nlike numeralRows vs numRows.\nIn Array&lt;List&lt;Array&gt;&gt; your name is &quot;l&quot;,and information is colored different.","body":"Try to write your variable name with more describe worth, like numeralRows vs numRows. In Array&lt;List&lt;Array&gt;&gt; your name is &quot;l&quot;,and information is colored different."}],"tags":[],"owner":{"account_id":7085509,"reputation":447,"user_id":5422437,"display_name":"Zhivko.Kostadinov"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457425671,"creation_date":1457425671,"answer_id":35862409,"question_id":35861599,"body_markdown":"In your code,i do not see problem.What Java version do you use?\r\n","title":"Debug information is inconsistent in IntelliJ","body":"<p>In your code,i do not see problem.What Java version do you use?</p>\n"},{"tags":[],"owner":{"account_id":7545306,"reputation":737,"user_id":5728603,"display_name":"Tony Fraser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621881014,"creation_date":1621881014,"answer_id":67677186,"question_id":35861599,"body_markdown":"The same thing happens in my scala projects sometimes. Just a few moments ago my project was configured and ran just fine using java 13 configured as java 1.8 but I got the debug inconsistent output. I swapped the SDKs out to run an actual 1.8, instead of 13 playing as 1.8, and that debug inconsistent stuff went away. \r\n\r\nThat said, I suggest installing [SDKMan][1] and pulling down and using a specific version of the SDK. And any SDK you download with SDKMan will start showing up as a potential SDK in your intellij run configuration screen. It&#39;s an awesome tool.\r\n\r\n  [1]: http://sdkman.io","title":"Debug information is inconsistent in IntelliJ","body":"<p>The same thing happens in my scala projects sometimes. Just a few moments ago my project was configured and ran just fine using java 13 configured as java 1.8 but I got the debug inconsistent output. I swapped the SDKs out to run an actual 1.8, instead of 13 playing as 1.8, and that debug inconsistent stuff went away.</p>\n<p>That said, I suggest installing <a href=\"http://sdkman.io\" rel=\"nofollow noreferrer\">SDKMan</a> and pulling down and using a specific version of the SDK. And any SDK you download with SDKMan will start showing up as a potential SDK in your intellij run configuration screen. It's an awesome tool.</p>\n"},{"tags":[],"owner":{"account_id":3707693,"reputation":257,"user_id":3085766,"accept_rate":27,"display_name":"shemerk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687422894,"creation_date":1687422894,"answer_id":76529995,"question_id":35861599,"body_markdown":"It happened to me during unit test when I tried to debug the tested class.\r\nThe reason was that I updated the tested class by adding a new bean member, but failed to add it as a @Mock field in the test class.\r\n\r\ni.e.\r\nI added \r\n\r\n    private final MyBean myBean;\r\n\r\nand had to add to the test:\r\n\r\n    @Mock \r\n    private final MyBean myBean;\r\n\r\n","title":"Debug information is inconsistent in IntelliJ","body":"<p>It happened to me during unit test when I tried to debug the tested class.\nThe reason was that I updated the tested class by adding a new bean member, but failed to add it as a @Mock field in the test class.</p>\n<p>i.e.\nI added</p>\n<pre><code>private final MyBean myBean;\n</code></pre>\n<p>and had to add to the test:</p>\n<pre><code>@Mock \nprivate final MyBean myBean;\n</code></pre>\n"}],"owner":{"account_id":2808137,"reputation":35560,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3603,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687422894,"creation_date":1457422644,"question_id":35861599,"body_markdown":"My program runs and gives the correct answer however I see the following message:\r\n[![enter image description here][1]][1]\r\n\r\nDebug information is inconsistent. \r\n\r\nIs this something \r\nI should worry about? and is so, how can I solve it?\r\n  [1]: http://i.stack.imgur.com/g0sfD.png\r\n\r\nThis is the whole code for the reference:\r\n\r\n    /**\r\n     * Created by mona on 3/7/16.\r\n     */\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class PascalTriangle {\r\n    \r\n        public static long biCoeff(int n, int k){\r\n            if (n==k){\r\n                return (long) 1;\r\n            }\r\n            if (n==0){\r\n                return (long) n;\r\n            }\r\n    \r\n            return (biCoeff(n-1, k-1)+biCoeff(n-1,k));\r\n        }\r\n    \r\n        public static List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n            List&lt;List&lt;Integer&gt;&gt; mylist = new ArrayList&lt;&gt;();\r\n            for (int i=0; i&lt;numRows; i++){\r\n                mylist.add(new ArrayList&lt;Integer&gt;());\r\n                for (int j=0; j&lt;=i; j++) {\r\n                    mylist.get(i).add((int) biCoeff(numRows, j));\r\n                }\r\n    \r\n            }\r\n            return mylist;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args){\r\n            List&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;&gt;();\r\n    \r\n            l=generate(5);\r\n    \r\n            for (List&lt;Integer&gt; list:l){\r\n                System.out.print(&quot;[&quot;);\r\n                for (Integer i: list){\r\n                    System.out.print(i + &quot;,&quot;);\r\n                }\r\n                System.out.println(&quot;],&quot;);\r\n                System.out.println();\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Debug information is inconsistent in IntelliJ","body":"<p>My program runs and gives the correct answer however I see the following message:\n<a href=\"https://i.stack.imgur.com/g0sfD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0sfD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Debug information is inconsistent. </p>\n\n<p>Is this something \nI should worry about? and is so, how can I solve it?\nThis is the whole code for the reference:</p>\n\n<pre><code>/**\n * Created by mona on 3/7/16.\n */\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class PascalTriangle {\n\n    public static long biCoeff(int n, int k){\n        if (n==k){\n            return (long) 1;\n        }\n        if (n==0){\n            return (long) n;\n        }\n\n        return (biCoeff(n-1, k-1)+biCoeff(n-1,k));\n    }\n\n    public static List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n        List&lt;List&lt;Integer&gt;&gt; mylist = new ArrayList&lt;&gt;();\n        for (int i=0; i&lt;numRows; i++){\n            mylist.add(new ArrayList&lt;Integer&gt;());\n            for (int j=0; j&lt;=i; j++) {\n                mylist.get(i).add((int) biCoeff(numRows, j));\n            }\n\n        }\n        return mylist;\n    }\n\n\n    public static void main(String[] args){\n        List&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;&gt;();\n\n        l=generate(5);\n\n        for (List&lt;Integer&gt; list:l){\n            System.out.print(\"[\");\n            for (Integer i: list){\n                System.out.print(i + \",\");\n            }\n            System.out.println(\"],\");\n            System.out.println();\n        }\n\n\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7807,"page":355,"page_size":100}
