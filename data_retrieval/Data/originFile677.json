{"items":[{"tags":["java","validation","testing"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":1,"creation_date":1675428684,"post_id":75335838,"comment_id":132932129,"body_markdown":"I think You need to write custom annotation.","body":"I think You need to write custom annotation."}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675427813,"creation_date":1675427813,"question_id":75335838,"body_markdown":"I have to declare String array variable for an entity to save an array against my postgre database:\r\n```\r\n    @Type(type = &quot;string-array&quot;)\r\n    @Column(name=&quot;IMAGES&quot;,nullable = true)\r\n    private String[] images;\r\n```\r\nI want to use a javax validation to check if each String in the array have a max length of 256 characters but I&#39;m not sure how to declare it.\r\n\r\nBefore I used this one:\r\n\r\n`private List&lt;@Size(min = 1, max = 256) String&gt; images = new ArrayList&lt;&gt;();`\r\n\r\nBut is not possible any more.\r\n","title":"Javax validation against array","body":"<p>I have to declare String array variable for an entity to save an array against my postgre database:</p>\n<pre><code>    @Type(type = &quot;string-array&quot;)\n    @Column(name=&quot;IMAGES&quot;,nullable = true)\n    private String[] images;\n</code></pre>\n<p>I want to use a javax validation to check if each String in the array have a max length of 256 characters but I'm not sure how to declare it.</p>\n<p>Before I used this one:</p>\n<p><code>private List&lt;@Size(min = 1, max = 256) String&gt; images = new ArrayList&lt;&gt;();</code></p>\n<p>But is not possible any more.</p>\n"},{"tags":["java","android","android-studio","google-maps","maps"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675427463,"creation_date":1675427463,"answer_id":75335773,"question_id":75332399,"body_markdown":"Follow these steps:\r\n\r\nRight-click on app -&gt; New -&gt; Activity -&gt; **Gallery**\r\n\r\nClick on Gallery. There you will find Google Map Activity.","title":"Can we create maps activity in Android Studio with main activity?","body":"<p>Follow these steps:</p>\n<p>Right-click on app -&gt; New -&gt; Activity -&gt; <strong>Gallery</strong></p>\n<p>Click on Gallery. There you will find Google Map Activity.</p>\n"}],"owner":{"account_id":27405976,"reputation":3,"user_id":20906644,"display_name":"Chaitanya Gorule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335773,"answer_count":1,"score":0,"last_activity_date":1675427463,"creation_date":1675407276,"question_id":75332399,"body_markdown":"In all online tutorials they are selecting map activity while creating new project but i want to use map activity as additional feature and hence want to create project with main activity. How can i create maps activity after creating new project with main activity?\r\n\r\nNot getting an option of creating maps activity after creating project with empty activity\r\n","title":"Can we create maps activity in Android Studio with main activity?","body":"<p>In all online tutorials they are selecting map activity while creating new project but i want to use map activity as additional feature and hence want to create project with main activity. How can i create maps activity after creating new project with main activity?</p>\n<p>Not getting an option of creating maps activity after creating project with empty activity</p>\n"},{"tags":["java","android","android-widget","android-imageview","android-view"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1397588842,"post_id":23092178,"comment_id":35295877,"body_markdown":"any reason for not using http://developer.android.com/reference/android/widget/ZoomButtonsController.html ?","body":"any reason for not using <a href=\"http://developer.android.com/reference/android/widget/ZoomButtonsController.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a> ?"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397591351,"post_id":23092178,"comment_id":35297393,"body_markdown":"I don&#39;t believe having accessory zoom controls is what I need. Sorry.","body":"I don&#39;t believe having accessory zoom controls is what I need. Sorry."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397593666,"post_id":23092178,"comment_id":35298779,"body_markdown":"_The handle view doesn&#39;t move with the image._ because it shouldn&#39;t. Your big image is treated for container as it is original size, because `setScaleX()` and other transformation methods effect only on view&#39;s draw, but not its room in layout.","body":"<i>The handle view doesn&#39;t move with the image.</i> because it shouldn&#39;t. Your big image is treated for container as it is original size, because <code>setScaleX()</code> and other transformation methods effect only on view&#39;s draw, but not its room in layout."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397593749,"post_id":23092178,"comment_id":35298830,"body_markdown":"`Math.sqrt(p[0] * p[0] + p[1] * p[1])` could be easily replaced by `Math.hypot(p[0], p[1])` - it&#39;s more readable, precise and effective.","body":"<code>Math.sqrt(p[0] * p[0] + p[1] * p[1])</code> could be easily replaced by <code>Math.hypot(p[0], p[1])</code> - it&#39;s more readable, precise and effective."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397593905,"post_id":23092178,"comment_id":35298919,"body_markdown":"So scale does not change size? @Salauyou?","body":"So scale does not change size? @Salauyou?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594056,"post_id":23092178,"comment_id":35299026,"body_markdown":"@user2676468 scaling, rotation, skewation, translation and other matrix transformations change size in terms of _drawing_, not _layouting_. That&#39;s why your small image doesn&#39;t follow the corner of large one.","body":"@user2676468 scaling, rotation, skewation, translation and other matrix transformations change size in terms of <i>drawing</i>, not <i>layouting</i>. That&#39;s why your small image doesn&#39;t follow the corner of large one."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397594103,"post_id":23092178,"comment_id":35299053,"body_markdown":"So if I wanted to change it&#39;s size, I would have to use imageView.setWidth() imageView.setHeight()?","body":"So if I wanted to change it&#39;s size, I would have to use imageView.setWidth() imageView.setHeight()?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594236,"post_id":23092178,"comment_id":35299139,"body_markdown":"@user2676468 no, it&#39;s bad idea, just move handler image to appropriate distance using `setTranslationX()` and `setTranslationY()`","body":"@user2676468 no, it&#39;s bad idea, just move handler image to appropriate distance using <code>setTranslationX()</code> and <code>setTranslationY()</code>"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397594475,"post_id":23092178,"comment_id":35299300,"body_markdown":"What can I use to pass into setTranslationX,Y? Wouldn&#39;t setX(motionEvent.getRawX,Y) work better?","body":"What can I use to pass into setTranslationX,Y? Wouldn&#39;t setX(motionEvent.getRawX,Y) work better?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594687,"post_id":23092178,"comment_id":35299409,"body_markdown":"I&#39;m not going to rewrite your code since it have much to rewrite... but can provide steps which should be followed. At `ACTION_DOWN`, remember initial coordinates tmpX and tmpY of touch event, using `motionEvent.getRawX()` and `.getRawY()`; and calculate initial `tmpR`. At `ACTION_MOVE` obtain new x and y and calculate new R, based on finger position relative to anchor point of big image, then scale big image and translate small one based on these values.","body":"I&#39;m not going to rewrite your code since it have much to rewrite... but can provide steps which should be followed. At <code>ACTION_DOWN</code>, remember initial coordinates tmpX and tmpY of touch event, using <code>motionEvent.getRawX()</code> and <code>.getRawY()</code>; and calculate initial <code>tmpR</code>. At <code>ACTION_MOVE</code> obtain new x and y and calculate new R, based on finger position relative to anchor point of big image, then scale big image and translate small one based on these values."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594777,"post_id":23092178,"comment_id":35299460,"body_markdown":"no problem, use `setX()` if you want. I mean that it should be done explicitly","body":"no problem, use <code>setX()</code> if you want. I mean that it should be done explicitly"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594948,"post_id":23092178,"comment_id":35299549,"body_markdown":"And I still don&#39;t understand the purpose of the statement `(imageView.getScaleX() * R / tmpR) * 0.1`. What does `*0.1` stand for?","body":"And I still don&#39;t understand the purpose of the statement <code>(imageView.getScaleX() * R &#47; tmpR) * 0.1</code>. What does <code>*0.1</code> stand for?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595063,"post_id":23092178,"comment_id":35299617,"body_markdown":"`setX(motionEvent.getRawX,Y)` this will make small image follow the finger, but I think it should follow the right bottom corner of big image, no?","body":"<code>setX(motionEvent.getRawX,Y)</code> this will make small image follow the finger, but I think it should follow the right bottom corner of big image, no?"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397595239,"post_id":23092178,"comment_id":35299719,"body_markdown":"@Salauyou I want the small image to follow the finger, and the bottom right corner of the image. Just like in photoshop. The onTouchListener is only set on the dragHandle.","body":"@Salauyou I want the small image to follow the finger, and the bottom right corner of the image. Just like in photoshop. The onTouchListener is only set on the dragHandle."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397595450,"post_id":23092178,"comment_id":35299828,"body_markdown":"@Salauyou ALso, *0.1 doesn&#39;t really mean anything. I saw some code snippet online that used 0.2 so I was just playing around with values.","body":"@Salauyou ALso, *0.1 doesn&#39;t really mean anything. I saw some code snippet online that used 0.2 so I was just playing around with values."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595450,"post_id":23092178,"comment_id":35299827,"body_markdown":"@user2676468 I was sure you wanted to avoid unproportional scaling using a kind of &quot;radius&quot; (R and tmpR) and applying `scaleX` and `scaleX` with the same value, no?","body":"@user2676468 I was sure you wanted to avoid unproportional scaling using a kind of &quot;radius&quot; (R and tmpR) and applying <code>scaleX</code> and <code>scaleX</code> with the same value, no?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595460,"post_id":23092178,"comment_id":35299838,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/50727/discussion-between-salauyou-and-user2676468)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/50727/discussion-between-salauyou-and-user2676468\">continue this discussion in chat</a>"}],"answers":[{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397604484,"creation_date":1397603292,"answer_id":23096147,"question_id":23092178,"body_markdown":"So... The main problem is that `getRawX()` and `getRawY()` methods of `MotionEvent` provide _absolute screen coordinates_, while `getX()` and `getY()` provide _layout coordinates_. Coordinates thus differ on heights of progress bar and status bar, so when obtaining touch coordinates, we should recalculate them relatively to layout.\r\n\r\n    dragHandle.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n        float centerX, centerY, startR, startScale, startX, startY;\r\n            \r\n        public boolean onTouch(View v, MotionEvent e) {\r\n\r\n            if (e.getAction() == MotionEvent.ACTION_DOWN) {\r\n\r\n                // calculate center of image\r\n                centerX = (imageView.getLeft() + imageView.getRight()) / 2f;\r\n                centerY = (imageView.getTop() + imageView.getBottom()) / 2f;\r\n\r\n                // recalculate coordinates of starting point\r\n                startX = e.getRawX() - dragHandle.getX() + centerX;\r\n                startY = e.getRawY() - dragHandle.getY() + centerY; \r\n\r\n                // get starting distance and scale\r\n                startR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\r\n                startScale = imageView.getScaleX();\r\n\r\n            } else if (e.getAction() == MotionEvent.ACTION_MOVE) {\r\n                \t\r\n                // calculate new distance\r\n                float newR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\r\n\r\n                // set new scale\r\n                float newScale = newR / startR * startScale;\r\n                imageView.setScaleX(newScale);\r\n                imageView.setScaleY(newScale);\r\n\r\n                // move handler image\r\n                dragHandle.setX(centerX + imageView.getWidth()/2f * newScale);\r\n                dragHandle.setY(centerY + imageView.getHeight()/2f * newScale);\r\n\r\n            } else if (e.getAction() == MotionEvent.ACTION_UP) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\nAlso, I replaced hypothenuse calculation by library method and declared all coordinates as float to avoid unnecessary casting.","title":"How to scale a view in android using a handle?","body":"<p>So... The main problem is that <code>getRawX()</code> and <code>getRawY()</code> methods of <code>MotionEvent</code> provide <em>absolute screen coordinates</em>, while <code>getX()</code> and <code>getY()</code> provide <em>layout coordinates</em>. Coordinates thus differ on heights of progress bar and status bar, so when obtaining touch coordinates, we should recalculate them relatively to layout.</p>\n\n<pre><code>dragHandle.setOnTouchListener(new View.OnTouchListener() {\n\n    float centerX, centerY, startR, startScale, startX, startY;\n\n    public boolean onTouch(View v, MotionEvent e) {\n\n        if (e.getAction() == MotionEvent.ACTION_DOWN) {\n\n            // calculate center of image\n            centerX = (imageView.getLeft() + imageView.getRight()) / 2f;\n            centerY = (imageView.getTop() + imageView.getBottom()) / 2f;\n\n            // recalculate coordinates of starting point\n            startX = e.getRawX() - dragHandle.getX() + centerX;\n            startY = e.getRawY() - dragHandle.getY() + centerY; \n\n            // get starting distance and scale\n            startR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\n            startScale = imageView.getScaleX();\n\n        } else if (e.getAction() == MotionEvent.ACTION_MOVE) {\n\n            // calculate new distance\n            float newR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\n\n            // set new scale\n            float newScale = newR / startR * startScale;\n            imageView.setScaleX(newScale);\n            imageView.setScaleY(newScale);\n\n            // move handler image\n            dragHandle.setX(centerX + imageView.getWidth()/2f * newScale);\n            dragHandle.setY(centerY + imageView.getHeight()/2f * newScale);\n\n        } else if (e.getAction() == MotionEvent.ACTION_UP) {\n\n        }\n        return true;\n    }\n});\n</code></pre>\n\n<p>Also, I replaced hypothenuse calculation by library method and declared all coordinates as float to avoid unnecessary casting.</p>\n"}],"owner":{"display_name":"user2676468"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23096147,"answer_count":1,"score":4,"last_activity_date":1675426797,"creation_date":1397588427,"question_id":23092178,"body_markdown":"I&#39;m trying to implement a handle to scale a view in android. Instead of using something like multitouch I want to be able to resize an image with just one finger.\r\n\r\nHere is my activity code. I feel as though I am very close there are a five things that don&#39;t work properly.\r\n\r\n1. The scaling is off. It grows at a much faster rate than it should. **Solved** Thanks @Salauyou\r\n2. The view will only grow, and not shrink. **Solved** Thanks @Salauyou\r\n3. The handle view doesn&#39;t move with the image. **Solved** Thanks @Salauyou\r\n4. The scaling starts extremely small **Solved** Thanks @Salauyou\r\n5. The handle doesn&#39;t follow your finger exactly.\r\n\r\n\r\nI am looking for any help that could implement such a feature. Whether it&#39;s a library or someone can help with my code that I already have. I have found a library that helps with multi touch scaling of images (https://github.com/brk3/android-multitouch-controller) but the only pointer I could pick up was how to go about implementing the increase in scale. And this has to be done through using two points, and finding the distance between them.\r\n\r\nMy java activity:\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n    \tImageView imageView;\r\n    \tImageView dragHandle;\r\n    \tRelativeLayout layout;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\timageView = (ImageView) findViewById(R.id.imageView1);\r\n    \t\timageView.setBackgroundColor(Color.MAGENTA);\r\n    \t\tdragHandle = (ImageView) findViewById(R.id.imageView2);\r\n    \t\tdragHandle.setBackgroundColor(Color.CYAN);\r\n    \t\tlayout = (RelativeLayout) findViewById(R.id.relativeLayout2);\r\n    \t\tlayout.setBackgroundColor(Color.YELLOW);\r\n    \t\tsetUpResize();\r\n    \r\n    \t}\r\n    \r\n    \tpublic void setUpResize() {\r\n    \t\tdragHandle.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n    \t\t\tint[] touchPoint = new int[2];\r\n    \t\t\tint[] centerOfImage = new int[2];\r\n    \r\n    \t\t\tdouble originalDistance = 0;\r\n    \t\t\tdouble modifiedDistance = 0;\r\n    \r\n    \t\t\tfloat originalScale = 0;\r\n    \t\t\tfloat modifiedScale = 0;\r\n    \r\n    \t\t\tpublic boolean onTouch(View v, MotionEvent motionEvent) {\r\n    \r\n    \t\t\t\tif (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n    \r\n    \t\t\t\t\tcenterOfImage[0] = (int) (imageView.getX() + imageView.getWidth() / 2);\r\n    \t\t\t\t\tcenterOfImage[1] = (int) (imageView.getY() + imageView.getHeight() / 2);\r\n    \r\n    \t\t\t\t\ttouchPoint[0] = (int) motionEvent.getRawX();\r\n    \t\t\t\t\ttouchPoint[1] = (int) motionEvent.getRawY();\r\n    \r\n    \t\t\t\t\tint[] p = new int[2];\r\n    \t\t\t\t\tp[0] = touchPoint[0] - centerOfImage[0];\r\n    \t\t\t\t\tp[1] = touchPoint[1] - centerOfImage[1];\r\n    \r\n    \t\t\t\t\toriginalDistance = (float) Math.sqrt(p[0] * p[0] + p[1] * p[1]);\r\n    \t\t\t\t\toriginalScale = imageView.getScaleX();\r\n    \r\n    \t\t\t\t} else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE) {\r\n    \t\t\t\t\ttouchPoint[0] = (int) motionEvent.getRawX();\r\n    \t\t\t\t\ttouchPoint[1] = (int) motionEvent.getRawY();\r\n    \r\n    \t\t\t\t\tint[] p = new int[2];\r\n    \t\t\t\t\tp[0] = (touchPoint[0] + p[0] - centerOfImage[0]);\r\n    \t\t\t\t\tp[1] = (touchPoint[1] + p[1] - centerOfImage[1]);\r\n    \t\t\t\t\tmodifiedDistance = Math.hypot(touchPoint[0] - centerOfImage[0], touchPoint[1] - centerOfImage[1]);\r\n    \r\n    \t\t\t\t\tLog.e(&quot;resize&quot;, &quot;original &quot; + imageView.getWidth() + &quot; modified: &quot; + imageView.getHeight());\r\n    \t\t\t\t\tmodifiedScale = (float) (modifiedDistance / originalDistance * originalScale);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\timageView.setScaleX(modifiedScale);\r\n    \t\t\t\t\timageView.setScaleY(modifiedScale);\r\n    \r\n    \t\t\t\t\tdragHandle.setX(centerOfImage[0] + imageView.getWidth()/2 * modifiedScale);\r\n    \t\t\t\t\tdragHandle.setY(centerOfImage[1] + imageView.getHeight()/2 * modifiedScale);\r\n    \r\n    \t\t\t\t} else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nMy xml:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/relativeLayout2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_centerInParent=&quot;true&quot; &gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:src=&quot;@drawable/ic_launcher&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;20dp&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_below=&quot;@+id/imageView1&quot;\r\n                android:layout_toRightOf=&quot;@+id/imageView1&quot;\r\n                android:src=&quot;@drawable/dragArrow&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pRF2z.png","title":"How to scale a view in android using a handle?","body":"<p>I'm trying to implement a handle to scale a view in android. Instead of using something like multitouch I want to be able to resize an image with just one finger.</p>\n\n<p>Here is my activity code. I feel as though I am very close there are a five things that don't work properly.</p>\n\n<ol>\n<li>The scaling is off. It grows at a much faster rate than it should. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The view will only grow, and not shrink. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The handle view doesn't move with the image. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The scaling starts extremely small <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The handle doesn't follow your finger exactly.</li>\n</ol>\n\n<p>I am looking for any help that could implement such a feature. Whether it's a library or someone can help with my code that I already have. I have found a library that helps with multi touch scaling of images (<a href=\"https://github.com/brk3/android-multitouch-controller\" rel=\"nofollow noreferrer\">https://github.com/brk3/android-multitouch-controller</a>) but the only pointer I could pick up was how to go about implementing the increase in scale. And this has to be done through using two points, and finding the distance between them.</p>\n\n<p>My java activity:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    ImageView imageView;\n    ImageView dragHandle;\n    RelativeLayout layout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        imageView = (ImageView) findViewById(R.id.imageView1);\n        imageView.setBackgroundColor(Color.MAGENTA);\n        dragHandle = (ImageView) findViewById(R.id.imageView2);\n        dragHandle.setBackgroundColor(Color.CYAN);\n        layout = (RelativeLayout) findViewById(R.id.relativeLayout2);\n        layout.setBackgroundColor(Color.YELLOW);\n        setUpResize();\n\n    }\n\n    public void setUpResize() {\n        dragHandle.setOnTouchListener(new View.OnTouchListener() {\n\n            int[] touchPoint = new int[2];\n            int[] centerOfImage = new int[2];\n\n            double originalDistance = 0;\n            double modifiedDistance = 0;\n\n            float originalScale = 0;\n            float modifiedScale = 0;\n\n            public boolean onTouch(View v, MotionEvent motionEvent) {\n\n                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n\n                    centerOfImage[0] = (int) (imageView.getX() + imageView.getWidth() / 2);\n                    centerOfImage[1] = (int) (imageView.getY() + imageView.getHeight() / 2);\n\n                    touchPoint[0] = (int) motionEvent.getRawX();\n                    touchPoint[1] = (int) motionEvent.getRawY();\n\n                    int[] p = new int[2];\n                    p[0] = touchPoint[0] - centerOfImage[0];\n                    p[1] = touchPoint[1] - centerOfImage[1];\n\n                    originalDistance = (float) Math.sqrt(p[0] * p[0] + p[1] * p[1]);\n                    originalScale = imageView.getScaleX();\n\n                } else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE) {\n                    touchPoint[0] = (int) motionEvent.getRawX();\n                    touchPoint[1] = (int) motionEvent.getRawY();\n\n                    int[] p = new int[2];\n                    p[0] = (touchPoint[0] + p[0] - centerOfImage[0]);\n                    p[1] = (touchPoint[1] + p[1] - centerOfImage[1]);\n                    modifiedDistance = Math.hypot(touchPoint[0] - centerOfImage[0], touchPoint[1] - centerOfImage[1]);\n\n                    Log.e(\"resize\", \"original \" + imageView.getWidth() + \" modified: \" + imageView.getHeight());\n                    modifiedScale = (float) (modifiedDistance / originalDistance * originalScale);\n\n                    imageView.setScaleX(modifiedScale);\n                    imageView.setScaleY(modifiedScale);\n\n                    dragHandle.setX(centerOfImage[0] + imageView.getWidth()/2 * modifiedScale);\n                    dragHandle.setY(centerOfImage[1] + imageView.getHeight()/2 * modifiedScale);\n\n                } else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\n\n                }\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>My xml:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/relativeLayout2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_centerInParent=\"true\" &gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:src=\"@drawable/ic_launcher\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView2\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"20dp\"\n            android:layout_below=\"@+id/imageView1\"\n            android:layout_toRightOf=\"@+id/imageView1\"\n            android:src=\"@drawable/dragArrow\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/pRF2z.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","postgresql","jdbc","pgbouncer"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1621597542,"post_id":67636189,"comment_id":119550246,"body_markdown":"There is probably a timeout configured in pgBouncer","body":"There is probably a timeout configured in pgBouncer"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1621602524,"post_id":67636189,"comment_id":119552310,"body_markdown":"... or on a firewall.","body":"... or on a firewall."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1621606376,"post_id":67636189,"comment_id":119554198,"body_markdown":"What messages do you get, both on the server and the client?","body":"What messages do you get, both on the server and the client?"},{"owner":{"account_id":20607927,"reputation":13,"user_id":15127711,"display_name":"Rawfodog"},"score":0,"creation_date":1622530914,"post_id":67636189,"comment_id":119811235,"body_markdown":"`org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.` in the client. I can&#39;t find the server logs","body":"<code>org.postgresql.util.PSQLException: An I&#47;O error occured while sending to the backend.</code> in the client. I can&#39;t find the server logs"}],"answers":[{"tags":[],"owner":{"account_id":2315254,"reputation":463,"user_id":2032468,"display_name":"alexb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621599468,"creation_date":1621599468,"answer_id":67636688,"question_id":67636189,"body_markdown":"Most connection pools have setting like &quot;keep alive time&quot;, &quot;keep alive query&quot;.\r\nYou can set them in the Java application to prevent network timeout.\r\n\r\nFor example, for HikariCP:\r\n- keepaliveTime - &quot;This property controls how frequently HikariCP will attempt to keep a connection alive, in order to prevent it from being timed out by the database or network infrastructure&quot;\r\n\r\nhttps://github.com/brettwooldridge/HikariCP#frequently-used\r\n\r\n","title":"Postgres Connection drops after 15 mins of idleness","body":"<p>Most connection pools have setting like &quot;keep alive time&quot;, &quot;keep alive query&quot;.\nYou can set them in the Java application to prevent network timeout.</p>\n<p>For example, for HikariCP:</p>\n<ul>\n<li>keepaliveTime - &quot;This property controls how frequently HikariCP will attempt to keep a connection alive, in order to prevent it from being timed out by the database or network infrastructure&quot;</li>\n</ul>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP#frequently-used\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP#frequently-used</a></p>\n"}],"owner":{"account_id":20607927,"reputation":13,"user_id":15127711,"display_name":"Rawfodog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675425866,"creation_date":1621597363,"question_id":67636189,"body_markdown":" We have a java application that uses **Postgres v11** along with **PgBouncer** for connection pooling. When we keep the application idle for 15 mins, the connection drops(JDBC). The database is hosted on **Amazon AWS**\r\n\r\nThe same is observed in Pgadmin.\r\n\r\nWe tried TCP keepalive and few others. Nothing works.\r\n\r\nAny ideas? \r\n\r\n","title":"Postgres Connection drops after 15 mins of idleness","body":"<p>We have a java application that uses <strong>Postgres v11</strong> along with <strong>PgBouncer</strong> for connection pooling. When we keep the application idle for 15 mins, the connection drops(JDBC). The database is hosted on <strong>Amazon AWS</strong></p>\n<p>The same is observed in Pgadmin.</p>\n<p>We tried TCP keepalive and few others. Nothing works.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","maven","firebase-cloud-messaging","pom.xml"],"comments":[{"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"score":0,"creation_date":1675440501,"post_id":75335381,"comment_id":132936137,"body_markdown":"Have you downloaded the Admin SDK linked in the [guide](https://search.maven.org/search?q=g:com.google.firebase%20a:firebase-admin)?","body":"Have you downloaded the Admin SDK linked in the <a href=\"https://search.maven.org/search?q=g:com.google.firebase%20a:firebase-admin\" rel=\"nofollow noreferrer\">guide</a>?"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675425325,"creation_date":1675425325,"question_id":75335381,"body_markdown":"I am creating a Spring Boot Project where I want to use **Firebase Messaging**. I followed this article- https://www.baeldung.com/spring-fcm and https://firebase.google.com/docs/admin/setup but getting an error when adding the **Firebase Admin** dependency-  \r\n```\r\n&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;9.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**I am using Spring Boot version 3.0.2**   \r\nWhen I add this dependency, I get a build error-\r\n```\r\nThe container &#39;Maven Dependencies&#39; references non existing library &#39;C:\\Users\\&lt;my-username&gt;\\.m2\\repository\\com\\google\\firebase\\firebase-admin\\9.1.1\\firebase-admin-9.1.1.jar&#39;\r\n```\r\nEverything works fine when I don&#39;t add this dependency.\r\nOther dependencies in my **pom.xml are-**  \r\n```\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nPlease help me find the error in my project.","title":"Error adding Firebase Admin SDK to Spring Boot Project","body":"<p>I am creating a Spring Boot Project where I want to use <strong>Firebase Messaging</strong>. I followed this article- <a href=\"https://www.baeldung.com/spring-fcm\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-fcm</a> and <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup</a> but getting an error when adding the <strong>Firebase Admin</strong> dependency-</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;9.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>I am using Spring Boot version 3.0.2</strong><br />\nWhen I add this dependency, I get a build error-</p>\n<pre><code>The container 'Maven Dependencies' references non existing library 'C:\\Users\\&lt;my-username&gt;\\.m2\\repository\\com\\google\\firebase\\firebase-admin\\9.1.1\\firebase-admin-9.1.1.jar'\n</code></pre>\n<p>Everything works fine when I don't add this dependency.\nOther dependencies in my <strong>pom.xml are-</strong></p>\n<pre><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please help me find the error in my project.</p>\n"},{"tags":["java","android","showcaseview","taptargetview"],"owner":{"display_name":"user21139885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675425306,"creation_date":1675422624,"question_id":75334867,"body_markdown":"I have a `spinner` element inside a table row, like this:\r\n```\r\n&lt;TableRow android:background=&quot;@drawable/cell_styles_1&quot;&gt;\r\n    &lt;TextView\r\n        android:text=&quot;Bill type&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:layout_marginStart=&quot;10pt&quot;/&gt;\r\n    &lt;Spinner\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/bill_type&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:layout_marginStart=&quot;10pt&quot;&gt;\r\n    &lt;/Spinner&gt;\r\n&lt;/TableRow&gt;\r\n```\r\n\r\n**Rendered view:**\r\n[Please click here](https://i.stack.imgur.com/SisrJ.png)\r\n\r\nI want an animation to play where the `spinner` is focused, so that it gets highlighted to the user. For this purpose I implemented [TapTargetView](https://github.com/KeepSafe/TapTargetView) library, like this:\r\n```\r\nTapTargetView.showFor(this,                 \r\n    TapTarget.forView(findViewById(R.id.bill_type),)\r\n        .outerCircleColor(R.color.red)      \r\n\t.outerCircleAlpha(0.96f)            \r\n        .targetCircleColor(R.color.white)   \r\n        .titleTextSize(20)                  \r\n        .titleTextColor(R.color.white)      \r\n        .descriptionTextSize(10)            \r\n        .descriptionTextColor(R.color.red)  \r\n        .textColor(R.color.blue)            \r\n        .textTypeface(Typeface.SANS_SERIF)  \r\n        .dimColor(R.color.black)            \r\n        .drawShadow(true)                   \r\n        .cancelable(false)                 \r\n        .tintTarget(true)                   \r\n        .transparentTarget(false)           \r\n        .icon(Drawable)                     \r\n        .targetRadius(60),                  \r\n    new TapTargetView.Listener() {          \r\n        @Override\r\n        public void onTargetClick(TapTargetView view) {\r\n            //do something\r\n        }\r\n    });\r\n```\r\n\r\nBut to my utter disappointment, it just shows a circular focus on the `spinner`. I want the complete `spinner` to be focused (the one outlined by the blue border in the image). Is there a way to do so? Is there any other library which will give the desired output?","title":"Android Showcaseview: How do I show a beautiful focused view of a spinner when the activity loads, in android?","body":"<p>I have a <code>spinner</code> element inside a table row, like this:</p>\n<pre><code>&lt;TableRow android:background=&quot;@drawable/cell_styles_1&quot;&gt;\n    &lt;TextView\n        android:text=&quot;Bill type&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:fontFamily=&quot;sans-serif-condensed&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_marginStart=&quot;10pt&quot;/&gt;\n    &lt;Spinner\n        android:layout_width=&quot;wrap_content&quot;\n        android:id=&quot;@+id/bill_type&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_marginStart=&quot;10pt&quot;&gt;\n    &lt;/Spinner&gt;\n&lt;/TableRow&gt;\n</code></pre>\n<p><strong>Rendered view:</strong>\n<a href=\"https://i.stack.imgur.com/SisrJ.png\" rel=\"nofollow noreferrer\">Please click here</a></p>\n<p>I want an animation to play where the <code>spinner</code> is focused, so that it gets highlighted to the user. For this purpose I implemented <a href=\"https://github.com/KeepSafe/TapTargetView\" rel=\"nofollow noreferrer\">TapTargetView</a> library, like this:</p>\n<pre><code>TapTargetView.showFor(this,                 \n    TapTarget.forView(findViewById(R.id.bill_type),)\n        .outerCircleColor(R.color.red)      \n    .outerCircleAlpha(0.96f)            \n        .targetCircleColor(R.color.white)   \n        .titleTextSize(20)                  \n        .titleTextColor(R.color.white)      \n        .descriptionTextSize(10)            \n        .descriptionTextColor(R.color.red)  \n        .textColor(R.color.blue)            \n        .textTypeface(Typeface.SANS_SERIF)  \n        .dimColor(R.color.black)            \n        .drawShadow(true)                   \n        .cancelable(false)                 \n        .tintTarget(true)                   \n        .transparentTarget(false)           \n        .icon(Drawable)                     \n        .targetRadius(60),                  \n    new TapTargetView.Listener() {          \n        @Override\n        public void onTargetClick(TapTargetView view) {\n            //do something\n        }\n    });\n</code></pre>\n<p>But to my utter disappointment, it just shows a circular focus on the <code>spinner</code>. I want the complete <code>spinner</code> to be focused (the one outlined by the blue border in the image). Is there a way to do so? Is there any other library which will give the desired output?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":3,"creation_date":1312899261,"post_id":6997524,"comment_id":8352553,"body_markdown":"Is this class in the `/src/Converters` directory?","body":"Is this class in the <code>&#47;src&#47;Converters</code> directory?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1358516872,"post_id":6997524,"comment_id":20035440,"body_markdown":"If you&#39;re going to change your question retrospectively (which seems pointless, to be honest) you need to be consistent about it - you haven&#39;t edited the first paragraph of the question. You&#39;ve also made all the comments look odd. Why change everything, nearly a year and a half later?","body":"If you&#39;re going to change your question retrospectively (which seems pointless, to be honest) you need to be consistent about it - you haven&#39;t edited the first paragraph of the question. You&#39;ve also made all the comments look odd. Why change everything, nearly a year and a half later?"},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1613551684,"post_id":6997524,"comment_id":117106275,"body_markdown":"In my case (using VSCode Java Project Manager extension), for some reasons, I had to manually change the class&#39; package, or you could hold the mouse pointer on the red line beneath the error and then hit &quot;quick fix&quot; to do it automatically. (Of course I have no idea how this happened because the VSCode Java Project Manager handles this when you create a new folder, on its own and I couldn&#39;t replicate this behavior once again). Anyways.","body":"In my case (using VSCode Java Project Manager extension), for some reasons, I had to manually change the class&#39; package, or you could hold the mouse pointer on the red line beneath the error and then hit &quot;quick fix&quot; to do it automatically. (Of course I have no idea how this happened because the VSCode Java Project Manager handles this when you create a new folder, on its own and I couldn&#39;t replicate this behavior once again). Anyways."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1358516650,"creation_date":1312899230,"answer_id":6997548,"question_id":6997524,"body_markdown":"Eclipse expects the declared package to match the directory hierarchy - so it&#39;s expecting your Java file to be in a directory called &quot;Devices&quot; under your source root. At the moment it looks like the file is directly in your source root. So create the appropriate directory, and move the file in there.\r\n\r\nNote that conventionally, packages are in lower case and include your organization name in reverse DNS order, e.g.\r\n\r\n    com.foo.devices;","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Eclipse expects the declared package to match the directory hierarchy - so it's expecting your Java file to be in a directory called \"Devices\" under your source root. At the moment it looks like the file is directly in your source root. So create the appropriate directory, and move the file in there.</p>\n\n<p>Note that conventionally, packages are in lower case and include your organization name in reverse DNS order, e.g.</p>\n\n<pre><code>com.foo.devices;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358516672,"creation_date":1312899248,"answer_id":6997554,"question_id":6997524,"body_markdown":"Create a new package under your project called &quot;Devices&quot; and place your class in it. This is equivalent to the class being placed in a directory called &quot;Devices&quot; in your project source folder.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Create a new package under your project called \"Devices\" and place your class in it. This is equivalent to the class being placed in a directory called \"Devices\" in your project source folder.</p>\n"},{"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358516659,"creation_date":1312899257,"answer_id":6997557,"question_id":6997524,"body_markdown":"You need to have the class inside a folder `Devices`.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>You need to have the class inside a folder <code>Devices</code>.</p>\n"},{"tags":[],"owner":{"account_id":920174,"reputation":3428,"user_id":951984,"accept_rate":50,"display_name":"nanospeck"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1376902436,"creation_date":1345815036,"answer_id":12110407,"question_id":6997524,"body_markdown":"**Solution 1 :** One solution that worked for me when this error  &quot;**The declared package does not match the expected package**&quot;  occured for a project I checked-out from eclipse CVS :\r\n\r\n1.Right click the project in the navigation bar and click &#39;delete&#39;    \r\n2.Make sure &#39;**Delete project contents on disk**&#39; option is **NOT** checked, and click OK.     \r\n3.Now after the project is deleted, go to **File -&gt; Import -&gt; General -&gt; Existing Projects into Workspace**  \r\n4.Select your workspace from the directory listing and check the box next to your project name. Click &#39;**Finish**&#39;   \r\n\r\n**Solution 2 :** Once again I got this error with the following message \r\n\r\n*Eclipse build errors - java.lang.Object cannot be resolved*\r\nI had to follow another route mention here and the error went away.\r\n\r\nIn the mean time, the work around is to remove the JRE System Library from the project and then add it back again. \r\nHere are the steps:\r\n\r\n1. Go to properties of project with the build error (right click &gt; Properties) View the &quot;Libraries&quot; tab in the &quot;Build Path&quot; section Find the &quot;JRE System Library&quot; in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project) \r\n2. Remove the &quot;JRE System Library&quot;\r\n3. Hit &quot;Add Library ...&quot;, Select &quot;JRE System Library&quot; and add the appropriate JRE for the project (eg. &#39;Workspace default JRE&#39;)\r\n4. Hit &quot;Finish&quot; in the library selection and &quot;OK&quot; in the project properties and then wait for the re-build of the project\r\n\r\nHopefully the error will be resolved ...\r\n ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p><strong>Solution 1 :</strong> One solution that worked for me when this error  \"<strong>The declared package does not match the expected package</strong>\"  occured for a project I checked-out from eclipse CVS :</p>\n\n<p>1.Right click the project in the navigation bar and click 'delete'<br>\n2.Make sure '<strong>Delete project contents on disk</strong>' option is <strong>NOT</strong> checked, and click OK.<br>\n3.Now after the project is deleted, go to <strong>File -> Import -> General -> Existing Projects into Workspace</strong><br>\n4.Select your workspace from the directory listing and check the box next to your project name. Click '<strong>Finish</strong>'   </p>\n\n<p><strong>Solution 2 :</strong> Once again I got this error with the following message </p>\n\n<p><em>Eclipse build errors - java.lang.Object cannot be resolved</em>\nI had to follow another route mention here and the error went away.</p>\n\n<p>In the mean time, the work around is to remove the JRE System Library from the project and then add it back again. \nHere are the steps:</p>\n\n<ol>\n<li>Go to properties of project with the build error (right click > Properties) View the \"Libraries\" tab in the \"Build Path\" section Find the \"JRE System Library\" in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project) </li>\n<li>Remove the \"JRE System Library\"</li>\n<li>Hit \"Add Library ...\", Select \"JRE System Library\" and add the appropriate JRE for the project (eg. 'Workspace default JRE')</li>\n<li>Hit \"Finish\" in the library selection and \"OK\" in the project properties and then wait for the re-build of the project</li>\n</ol>\n\n<p>Hopefully the error will be resolved ...</p>\n"},{"tags":[],"owner":{"account_id":21147,"reputation":130351,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361191646,"creation_date":1361191646,"answer_id":14936714,"question_id":6997524,"body_markdown":"Make sure that `Devices` is defined as a source folder in the project properties.\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure that <code>Devices</code> is defined as a source folder in the project properties.</p>\n"},{"tags":[],"owner":{"account_id":2428566,"reputation":555,"user_id":2120006,"display_name":"ayahuasca"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1371645260,"creation_date":1370945503,"answer_id":17041630,"question_id":6997524,"body_markdown":"I had this problem - the other classes within my package were fine, but one class had the error against it. There was nothing wrong with the package declaration.\r\n\r\nI fixed it by doing `refactor-&gt;move` and moved the class to another package temporarily, then `refactor-&gt;move` back to the original package. ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had this problem - the other classes within my package were fine, but one class had the error against it. There was nothing wrong with the package declaration.</p>\n\n<p>I fixed it by doing <code>refactor-&gt;move</code> and moved the class to another package temporarily, then <code>refactor-&gt;move</code> back to the original package. </p>\n"},{"tags":[],"owner":{"account_id":1238856,"reputation":1,"user_id":1201916,"display_name":"Karthick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392199288,"creation_date":1392199288,"answer_id":21724533,"question_id":6997524,"body_markdown":"Make sure that You have created a correct package.You might get a chance to create folder instead of package","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure that You have created a correct package.You might get a chance to create folder instead of package</p>\n"},{"tags":[],"owner":{"account_id":354203,"reputation":3993,"user_id":1954390,"accept_rate":52,"display_name":"Easwaramoorthy Kanagaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405668833,"creation_date":1405668833,"answer_id":24819572,"question_id":6997524,"body_markdown":"Got the same kind of error but my package was absolutely correct. When I just closed and opened my editor, the error disappears. Hope this might help in some scenarios. ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Got the same kind of error but my package was absolutely correct. When I just closed and opened my editor, the error disappears. Hope this might help in some scenarios. </p>\n"},{"tags":[],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"down_vote_count":1,"up_vote_count":182,"is_accepted":false,"score":181,"last_activity_date":1524768515,"creation_date":1407600407,"answer_id":25220460,"question_id":6997524,"body_markdown":"**Try closing and re-opening the file.**\r\n\r\nIt is possible to get this error in eclipse when there is absolutely nothing wrong with the file location or package declaration.  Try that before spending a lot of time trying these other solutions.  Sometimes eclipse just gets confused.  It&#39;s worked for me on a number of occasions.  I credit [the idea](https://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package/25220460#comment22929069_12110407) to [Joshua Goldberg](https://stackoverflow.com/users/411282/joshua-goldberg).","title":"The declared package does not match the expected package &quot;&quot;","body":"<p><strong>Try closing and re-opening the file.</strong></p>\n\n<p>It is possible to get this error in eclipse when there is absolutely nothing wrong with the file location or package declaration.  Try that before spending a lot of time trying these other solutions.  Sometimes eclipse just gets confused.  It's worked for me on a number of occasions.  I credit <a href=\"https://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package/25220460#comment22929069_12110407\">the idea</a> to <a href=\"https://stackoverflow.com/users/411282/joshua-goldberg\">Joshua Goldberg</a>.</p>\n"},{"tags":[],"owner":{"account_id":4874560,"reputation":1,"user_id":3930075,"display_name":"B347tl7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407769051,"creation_date":1407769051,"answer_id":25246302,"question_id":6997524,"body_markdown":"1. Create directory [your.project.name] in workspace root directory of your project.\r\n\r\n2. Copy *.java from &quot;src&quot; to that directory.\r\n\r\n3. Close and reopen project.\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<ol>\n<li><p>Create directory [your.project.name] in workspace root directory of your project.</p></li>\n<li><p>Copy *.java from \"src\" to that directory.</p></li>\n<li><p>Close and reopen project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4895512,"reputation":143,"user_id":3945283,"accept_rate":67,"display_name":"carl_corder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410884606,"creation_date":1410884606,"answer_id":25873871,"question_id":6997524,"body_markdown":"This happened to me when I was checking out a project from an svn repository in eclipse. There were jar files in my .m2 folder that eclipse wasn&#39;t looking at. To fix the issue I did:\r\n\r\nright click project folder Configure &gt; Convert to Maven Project\r\n\r\nand that solved the issue.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>This happened to me when I was checking out a project from an svn repository in eclipse. There were jar files in my .m2 folder that eclipse wasn't looking at. To fix the issue I did:</p>\n\n<p>right click project folder Configure > Convert to Maven Project</p>\n\n<p>and that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1183500,"reputation":2645,"user_id":1157905,"accept_rate":72,"display_name":"Omri374"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423685804,"creation_date":1423685804,"answer_id":28463675,"question_id":6997524,"body_markdown":"There are a million answers, but here&#39;s another one:\r\ncopy the files into a new package, delete the old package and rename the new package to the old package&#39;s name.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>There are a million answers, but here's another one:\ncopy the files into a new package, delete the old package and rename the new package to the old package's name.</p>\n"},{"tags":[],"owner":{"account_id":5517052,"reputation":171,"user_id":4381420,"display_name":"dafali"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1427835687,"creation_date":1427832793,"answer_id":29377701,"question_id":6997524,"body_markdown":"I resolved the problem by following these steps:\r\n\r\n 1. Select the project - Right click - java build path.\r\n\r\n 2. In source tab - you change the `src` to `src/main/java`.\r\n\r\n 3. Eclipse will reorder all the project.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I resolved the problem by following these steps:</p>\n\n<ol>\n<li><p>Select the project - Right click - java build path.</p></li>\n<li><p>In source tab - you change the <code>src</code> to <code>src/main/java</code>.</p></li>\n<li><p>Eclipse will reorder all the project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user5422523"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444298568,"creation_date":1444298568,"answer_id":33012571,"question_id":6997524,"body_markdown":"Make sure you are not using default package. Create a new package with name &#39;devices&#39; and copy this code inside it and use.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure you are not using default package. Create a new package with name 'devices' and copy this code inside it and use.</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468356980,"creation_date":1468356980,"answer_id":38338738,"question_id":6997524,"body_markdown":"I had have this sort situations when I copied classes from other packages/projects. \r\n\r\nMenu-&gt;Project-&gt;Clean usually helps.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had have this sort situations when I copied classes from other packages/projects. </p>\n\n<p>Menu->Project->Clean usually helps.</p>\n"},{"tags":[],"owner":{"account_id":39521,"reputation":100594,"user_id":114029,"accept_rate":96,"display_name":"Leniel Maccaferri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481390859,"creation_date":1481390859,"answer_id":41078255,"question_id":6997524,"body_markdown":"In my case I selected the error marker in the Problems tab and deleted it since the Java&#39;s file main method was being executed correctly. That is some glitch in Eclipse Neon with the multitude of plugins it has installed.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>In my case I selected the error marker in the Problems tab and deleted it since the Java's file main method was being executed correctly. That is some glitch in Eclipse Neon with the multitude of plugins it has installed.</p>\n"},{"tags":[],"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489251375,"creation_date":1489251375,"answer_id":42737988,"question_id":6997524,"body_markdown":"I fixed this by removing an &quot;excluding&quot; attribute for that package in my `.classpath` file. Remove the attribute, not the whole tag, or &quot;src/java&quot; will cease to be a source folder.\r\n\r\n    &lt;classpathentry excluding=&quot;com/myproject/mypackage/mysubpackage/&quot; kind=&quot;src&quot; path=&quot;src/java&quot;/&gt;","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I fixed this by removing an \"excluding\" attribute for that package in my <code>.classpath</code> file. Remove the attribute, not the whole tag, or \"src/java\" will cease to be a source folder.</p>\n\n<pre><code>&lt;classpathentry excluding=\"com/myproject/mypackage/mysubpackage/\" kind=\"src\" path=\"src/java\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2870758,"reputation":620,"user_id":2464172,"accept_rate":60,"display_name":"Gopi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547843964,"creation_date":1547843964,"answer_id":54261143,"question_id":6997524,"body_markdown":"I faced this issue too when I had imported an existing project to eclipse. It was a gradle project, but while importing I imported it as regular project by clicking General-&gt; Existing Projects into Workspace. To resolve the issue I&#39;ve added Gradle nature to the project by \r\n  :::: Right click on Project folder -&gt; Configure-&gt; Add Gradle Nature ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I faced this issue too when I had imported an existing project to eclipse. It was a gradle project, but while importing I imported it as regular project by clicking General-> Existing Projects into Workspace. To resolve the issue I've added Gradle nature to the project by \n  :::: Right click on Project folder -> Configure-> Add Gradle Nature </p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575911290,"creation_date":1575911290,"answer_id":59253549,"question_id":6997524,"body_markdown":"I was using Spring Tool Suite 4. Not able to figure out the issue. The directory structure was according to the package name. \r\n\r\n&gt; But cleaning the project helped me.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I was using Spring Tool Suite 4. Not able to figure out the issue. The directory structure was according to the package name. </p>\n\n<blockquote>\n  <p>But cleaning the project helped me.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580199178,"creation_date":1580199178,"answer_id":59944527,"question_id":6997524,"body_markdown":"This problem got resolved by mentioning the **package** name \r\n\r\nI moved my file **Test_Steps.java** which was under package **stepDefinition**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nby just adding the **package stepDefinition** the problem got resolved\r\n\r\nSo this problem can occur when you have a package and you are not using in your class file.\r\n\r\n\r\nAdding it has resolved the problem and the error was no longer appearing. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NafAc.png\r\n  [2]: https://i.stack.imgur.com/MLpXO.png","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>This problem got resolved by mentioning the <strong>package</strong> name </p>\n\n<p>I moved my file <strong>Test_Steps.java</strong> which was under package <strong>stepDefinition</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/NafAc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NafAc.png\" alt=\"enter image description here\"></a></p>\n\n<p>by just adding the <strong>package stepDefinition</strong> the problem got resolved</p>\n\n<p>So this problem can occur when you have a package and you are not using in your class file.</p>\n\n<p>Adding it has resolved the problem and the error was no longer appearing. </p>\n\n<p><a href=\"https://i.stack.imgur.com/MLpXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MLpXO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5427046,"reputation":4501,"user_id":4318982,"accept_rate":55,"display_name":"gihan-maduranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603436549,"creation_date":1603436549,"answer_id":64495375,"question_id":6997524,"body_markdown":"I had the same issue with a maven project in Eclipse IDE. I was able to resolve it by replacing the .classpath file with the correct format. After replacing close and open the project.\r\n\r\n**Sample .classpath file** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/webapp&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had the same issue with a maven project in Eclipse IDE. I was able to resolve it by replacing the .classpath file with the correct format. After replacing close and open the project.</p>\n<p><strong>Sample .classpath file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/webapp&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9118625,"reputation":175,"user_id":6784896,"display_name":"Alejandro Garcia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607724735,"creation_date":1607724735,"answer_id":65259323,"question_id":6997524,"body_markdown":"I fix it just changing the name to lowercase and now Eclipse recognizes the package.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I fix it just changing the name to lowercase and now Eclipse recognizes the package.</p>\n"},{"tags":[],"owner":{"account_id":5136427,"reputation":106,"user_id":4115052,"display_name":"Larry Cable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623433812,"creation_date":1623433812,"answer_id":67941471,"question_id":6997524,"body_markdown":"you might want to check your Java &#39;build path&#39; in the project properties, if the &#39;source&#39; directory (path) is not properly setup in there, then this will cause this error to occur for all the classes therein.\r\n\r\nSo the path *must* specify the &#39;root&#39; (containing) directory in which the sources within the package exists ...","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>you might want to check your Java 'build path' in the project properties, if the 'source' directory (path) is not properly setup in there, then this will cause this error to occur for all the classes therein.</p>\n<p>So the path <em>must</em> specify the 'root' (containing) directory in which the sources within the package exists ...</p>\n"},{"tags":[],"owner":{"account_id":1477947,"reputation":19,"user_id":1387904,"display_name":"Shash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665055272,"creation_date":1665055272,"answer_id":73972947,"question_id":6997524,"body_markdown":"Another thing that we can do is\r\nOn the error, ctrl+enter and move the file to the expected package","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Another thing that we can do is\nOn the error, ctrl+enter and move the file to the expected package</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675425198,"creation_date":1675425198,"answer_id":75335350,"question_id":6997524,"body_markdown":"In my case  being used **gradle**, it happend due to wrong name  in **settings.gradle**. Rename `rootProject.name = &#39;somename&#39;` to actual name of your project folder. Cleanup it all with `topbar-&gt;project-&gt;clean`....\r\n\r\n And you are done my friend!\r\n\r\n(Also I&#39;ve reset values in `build.gradle` to latest versions but that just for case)","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>In my case  being used <strong>gradle</strong>, it happend due to wrong name  in <strong>settings.gradle</strong>. Rename <code>rootProject.name = 'somename'</code> to actual name of your project folder. Cleanup it all with <code>topbar-&gt;project-&gt;clean</code>....</p>\n<p>And you are done my friend!</p>\n<p>(Also I've reset values in <code>build.gradle</code> to latest versions but that just for case)</p>\n"}],"owner":{"display_name":"user195488"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269909,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"accepted_answer_id":6997548,"answer_count":25,"score":129,"last_activity_date":1675425198,"creation_date":1312899129,"question_id":6997524,"body_markdown":"I am using Eclipse and have not used Java for sometime. However, I can compile my code on the command-line just fine and generate the necessary `.class` files. In Eclipse, it complains that `The declared package &quot;Devices&quot; does not match the expected package &quot;&quot;`. What does this mean and how can I fix it? \r\n\r\nSample code:\r\n\r\n    package Devices;\r\n    \r\n    public final class DevFrequency \r\n    {\r\n        public short messageID;\r\n        public double frequency;\r\n        public short converterID;\r\n        public DevFrequency() \r\n        {\r\n        }\r\n        public DevFrequency(short _messageID,double _frequency,short _converterID)\r\n        {\r\n            messageID = _messageID;\r\n            frequency = _frequency;\r\n            converterID = _converterID;\r\n        }\r\n    }\r\n\r\nThe name of my project is `DeviceDDS`.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I am using Eclipse and have not used Java for sometime. However, I can compile my code on the command-line just fine and generate the necessary <code>.class</code> files. In Eclipse, it complains that <code>The declared package \"Devices\" does not match the expected package \"\"</code>. What does this mean and how can I fix it? </p>\n\n<p>Sample code:</p>\n\n<pre><code>package Devices;\n\npublic final class DevFrequency \n{\n    public short messageID;\n    public double frequency;\n    public short converterID;\n    public DevFrequency() \n    {\n    }\n    public DevFrequency(short _messageID,double _frequency,short _converterID)\n    {\n        messageID = _messageID;\n        frequency = _frequency;\n        converterID = _converterID;\n    }\n}\n</code></pre>\n\n<p>The name of my project is <code>DeviceDDS</code>.</p>\n"},{"tags":["java","android","database"],"comments":[{"owner":{"account_id":12669815,"reputation":189,"user_id":9207714,"display_name":"M Salman"},"score":0,"creation_date":1675420952,"post_id":75334473,"comment_id":132929901,"body_markdown":"Would you please attach `Logcat` screenshot of the error you are getting?","body":"Would you please attach <code>Logcat</code> screenshot of the error you are getting?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675422323,"post_id":75334473,"comment_id":132930352,"body_markdown":"have you checked whether or not there are actually records with that id? Have you executed other crud  operations that did work?","body":"have you checked whether or not there are actually records with that id? Have you executed other crud  operations that did work?"}],"answers":[{"tags":[],"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675424561,"creation_date":1675424561,"answer_id":75335240,"question_id":75334473,"body_markdown":"I&#39;m pretty sure that you miss a lot of space characters in the query String.\r\n\r\n    String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\r\n\r\nshould be changed to\r\n\r\n    String queryString = &quot;DELETE FROM &quot; + CUSTOMER_TABLE + &quot; WHERE &quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();","title":"delete item from local database function doesn&#39;t work","body":"<p>I'm pretty sure that you miss a lot of space characters in the query String.</p>\n<pre><code>String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n</code></pre>\n<p>should be changed to</p>\n<pre><code>String queryString = &quot;DELETE FROM &quot; + CUSTOMER_TABLE + &quot; WHERE &quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24352258,"reputation":7,"user_id":18287939,"display_name":"Manikandan Ram"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675425169,"creation_date":1675425169,"answer_id":75335344,"question_id":75334473,"body_markdown":"    DeleteBuilder&lt;CustomerModel, Integer&gt; deletebuilder = \r\n                        mcustomermodel.deleteBuilder();","title":"delete item from local database function doesn&#39;t work","body":"<pre><code>DeleteBuilder&lt;CustomerModel, Integer&gt; deletebuilder = \n                    mcustomermodel.deleteBuilder();\n</code></pre>\n"}],"owner":{"account_id":26258371,"reputation":17,"user_id":19930097,"display_name":"user19930097"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335240,"answer_count":2,"score":0,"last_activity_date":1675425169,"creation_date":1675420539,"question_id":75334473,"body_markdown":"```\r\n//the following function &#39;listens to the click&#39; - here we are using an &#39;item click listener&#39; which gives you a number of which one was clicked\r\n        lv_customerList.setOnItemClickListener((parent, view, position, id) -&gt; {\r\n            //getting the customer that was just clicked to send it to the method to delete\r\n            //the parent of the listener is the listview\r\n            CustomerModel clickedCustomer = (CustomerModel) parent.getItemAtPosition(position); //this tells me which person was just clicked\r\n            //now we call the &quot;deleteOne&quot; function from the databaseHelper class\r\n            dataBaseHelper.deleteOne(clickedCustomer);\r\n            //now we update the list view\r\n            ShowCustomersOnListView(dataBaseHelper);\r\n            Toast.makeText(MainActivity.this, &quot;Deleted&quot; + clickedCustomer,Toast.LENGTH_SHORT).show();\r\n        });\r\n```\r\n\r\nThis is the code in the MainActivity\r\n\r\n```\r\n//creating a new function that will delete contents from a database\r\n    public boolean deleteOne(CustomerModel customerModel) {\r\n        //find customerModel in the database. if is is found, delete it and return true, otherwise return false\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\r\n\r\n        Cursor cursor = db.rawQuery(queryString, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAnd this is the code from the DatabaseHelper activity\r\n\r\nI followed the https://youtu.be/312RhjfetP8 tutorial and copied the code exactly (although the android IDE suggested to change the...\r\n\r\n```\r\nnew AdapterView.OnItemClickListener()  \r\n```\r\n\r\nto a lambda (in the method in mainactivity)\r\n\r\nBut now whenever I click one of the rows (see video to understand what i mean) in the app - the app just crashes and I&#39;m not sure why :(\r\n\r\nCould someone please help me out?\r\n\r\nThank you so much!","title":"delete item from local database function doesn&#39;t work","body":"<pre><code>//the following function 'listens to the click' - here we are using an 'item click listener' which gives you a number of which one was clicked\n        lv_customerList.setOnItemClickListener((parent, view, position, id) -&gt; {\n            //getting the customer that was just clicked to send it to the method to delete\n            //the parent of the listener is the listview\n            CustomerModel clickedCustomer = (CustomerModel) parent.getItemAtPosition(position); //this tells me which person was just clicked\n            //now we call the &quot;deleteOne&quot; function from the databaseHelper class\n            dataBaseHelper.deleteOne(clickedCustomer);\n            //now we update the list view\n            ShowCustomersOnListView(dataBaseHelper);\n            Toast.makeText(MainActivity.this, &quot;Deleted&quot; + clickedCustomer,Toast.LENGTH_SHORT).show();\n        });\n</code></pre>\n<p>This is the code in the MainActivity</p>\n<pre><code>//creating a new function that will delete contents from a database\n    public boolean deleteOne(CustomerModel customerModel) {\n        //find customerModel in the database. if is is found, delete it and return true, otherwise return false\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n\n        Cursor cursor = db.rawQuery(queryString, null);\n\n        if (cursor.moveToFirst()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n</code></pre>\n<p>And this is the code from the DatabaseHelper activity</p>\n<p>I followed the <a href=\"https://youtu.be/312RhjfetP8\" rel=\"nofollow noreferrer\">https://youtu.be/312RhjfetP8</a> tutorial and copied the code exactly (although the android IDE suggested to change the...</p>\n<pre><code>new AdapterView.OnItemClickListener()  \n</code></pre>\n<p>to a lambda (in the method in mainactivity)</p>\n<p>But now whenever I click one of the rows (see video to understand what i mean) in the app - the app just crashes and I'm not sure why :(</p>\n<p>Could someone please help me out?</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675419110,"post_id":75334133,"comment_id":132929350,"body_markdown":"Not sure how to explain it much better than what you already have found. Once you get to the `socket.accept()` call it will hang there until something else connect to that server port.","body":"Not sure how to explain it much better than what you already have found. Once you get to the <code>socket.accept()</code> call it will hang there until something else connect to that server port."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675419208,"post_id":75334133,"comment_id":132929393,"body_markdown":"This entire setup doesn&#39;t seem very stable though. If you get another post request to the same servlet while the first one is waiting, that request will fail as you will not be able to have two different threads listening to the same server socket. I suggest you revisit design for this solution.","body":"This entire setup doesn&#39;t seem very stable though. If you get another post request to the same servlet while the first one is waiting, that request will fail as you will not be able to have two different threads listening to the same server socket. I suggest you revisit design for this solution."},{"owner":{"account_id":21210283,"reputation":1,"user_id":15599048,"display_name":"hachi__man"},"score":0,"creation_date":1675419383,"post_id":75334133,"comment_id":132929441,"body_markdown":"@DanielBarbarian I actually want to implement Co-Browsing in a web form where what  ever data he puts in the field shoul reflect on admin web page.... can you suggest something","body":"@DanielBarbarian I actually want to implement Co-Browsing in a web form where what  ever data he puts in the field shoul reflect on admin web page.... can you suggest something"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675420126,"post_id":75334133,"comment_id":132929651,"body_markdown":"Apart from the answer from Stephen C below you could also save the state in your application (for example in a database or in memory depending on your needs) and poll the state on the other page directly from your page. There should be quite a few examples for that on the web.","body":"Apart from the answer from Stephen C below you could also save the state in your application (for example in a database or in memory depending on your needs) and poll the state on the other page directly from your page. There should be quite a few examples for that on the web."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675424975,"creation_date":1675419479,"answer_id":75334287,"question_id":75334133,"body_markdown":"The recommended way to establish a socket-like connection between a web browser or client and a web server is to use WebSockets.  This causes the connection used for the HTTP request / response to be taken over for bidirectional socket communication.  It is a widely supported extension to the HTTP protocol.\r\n\r\nIf you want to connect two or more web browsers or web clients via the web server, you need to  establish WebSockets between each browser server, and then the server needs to route the information from between the server ends of the WebSockets.\r\n\r\nThe implementation details will depend on the technology stack used on the client and server sides.  You could start by reading the following:\r\n\r\n  - The Wikipedia [WebSocket](https://en.wikipedia.org/wiki/WebSocket) article.\r\n  - [A Guide to the Java API for WebSocket](https://www.baeldung.com/java-websockets)\r\n  - [RFC 6455 - The WebSocket Protocol](https://www.rfc-editor.org/rfc/rfc6455)\r\n\r\n----------------\r\n\r\nThey way you are trying to do it looks like it won&#39;t work.  Even if it does kind of work, there will be issues with managing the connections that you have established ... leading to resource leakage, problems with recycling ports, etcetera.  And then you need to deal with potential security issues; e.g. establishing that the client that connects to the `ServerSocket` port you are listening on is not some interloper.","title":"socket connection in servlet class","body":"<p>The recommended way to establish a socket-like connection between a web browser or client and a web server is to use WebSockets.  This causes the connection used for the HTTP request / response to be taken over for bidirectional socket communication.  It is a widely supported extension to the HTTP protocol.</p>\n<p>If you want to connect two or more web browsers or web clients via the web server, you need to  establish WebSockets between each browser server, and then the server needs to route the information from between the server ends of the WebSockets.</p>\n<p>The implementation details will depend on the technology stack used on the client and server sides.  You could start by reading the following:</p>\n<ul>\n<li>The Wikipedia <a href=\"https://en.wikipedia.org/wiki/WebSocket\" rel=\"nofollow noreferrer\">WebSocket</a> article.</li>\n<li><a href=\"https://www.baeldung.com/java-websockets\" rel=\"nofollow noreferrer\">A Guide to the Java API for WebSocket</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc6455\" rel=\"nofollow noreferrer\">RFC 6455 - The WebSocket Protocol</a></li>\n</ul>\n<hr />\n<p>They way you are trying to do it looks like it won't work.  Even if it does kind of work, there will be issues with managing the connections that you have established ... leading to resource leakage, problems with recycling ports, etcetera.  And then you need to deal with potential security issues; e.g. establishing that the client that connects to the <code>ServerSocket</code> port you are listening on is not some interloper.</p>\n"}],"owner":{"account_id":21210283,"reputation":1,"user_id":15599048,"display_name":"hachi__man"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424975,"creation_date":1675418666,"question_id":75334133,"body_markdown":"I am trying to establish a tcp connection through which I want to share data from one webform(jsp page) to another web page with same content. \r\n\r\n\r\nbelow is servlet which gets called when clicking button on jsp page. As I checked the port which trying to connect is in listening state and from servlet it should get redirected to receiver form but it just keeps loading.\r\n\r\nbut program is getting stuck at **Socket insocket = socket.accept();** this line.\r\nI searched in other resources as well but got answer as **&quot;Socket.accept() hangs by design until a client connects to the port that is being waited on, in this case, port 8189. Your program is working fine&quot;**\r\n\r\n\r\n```\r\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString first = request.getParameter(&quot;first_name&quot;);\r\n\t\tString last = request.getParameter(&quot;last_name&quot;);\r\n\t\tString name = first + &quot; &quot; + last;\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tbyte buffer[] = new byte[10240];\r\n\t\tbuffer = name.getBytes();\r\n\t\ttry {\r\n\t\t\tServerSocket socket = new ServerSocket(4333);\r\n\t\t\tSocket insocket = socket.accept();\r\n\t\t\tOutputStream outSocket = insocket.getOutputStream();\r\n\t\t\toutSocket.write(buffer);\r\n\r\n\t\t\tresponse.sendRedirect(&quot;receiver.jsp&quot;);\r\n\t\t} catch (java.net.ConnectException e) {\r\n\t\t\tSystem.out.println(&quot;server application not started.....&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n```\r\n\r\n","title":"socket connection in servlet class","body":"<p>I am trying to establish a tcp connection through which I want to share data from one webform(jsp page) to another web page with same content.</p>\n<p>below is servlet which gets called when clicking button on jsp page. As I checked the port which trying to connect is in listening state and from servlet it should get redirected to receiver form but it just keeps loading.</p>\n<p>but program is getting stuck at <strong>Socket insocket = socket.accept();</strong> this line.\nI searched in other resources as well but got answer as <strong>&quot;Socket.accept() hangs by design until a client connects to the port that is being waited on, in this case, port 8189. Your program is working fine&quot;</strong></p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String first = request.getParameter(&quot;first_name&quot;);\n        String last = request.getParameter(&quot;last_name&quot;);\n        String name = first + &quot; &quot; + last;\n        PrintWriter out = response.getWriter();\n        byte buffer[] = new byte[10240];\n        buffer = name.getBytes();\n        try {\n            ServerSocket socket = new ServerSocket(4333);\n            Socket insocket = socket.accept();\n            OutputStream outSocket = insocket.getOutputStream();\n            outSocket.write(buffer);\n\n            response.sendRedirect(&quot;receiver.jsp&quot;);\n        } catch (java.net.ConnectException e) {\n            System.out.println(&quot;server application not started.....&quot;);\n        }\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405576,"creation_date":1675405576,"answer_id":75332208,"question_id":75217506,"body_markdown":"As a general advice, use a tool to manage your project&#39;s dependencies such as Gradle or Maven. These tools are capable of analyzing not only classpath dependencies but also runtime dependencies. That way, you can just see what the dependencies are - rather than suspecting.","title":"Log4j removal issue","body":"<p>As a general advice, use a tool to manage your project's dependencies such as Gradle or Maven. These tools are capable of analyzing not only classpath dependencies but also runtime dependencies. That way, you can just see what the dependencies are - rather than suspecting.</p>\n"}],"owner":{"account_id":11362919,"reputation":1,"user_id":8330619,"display_name":"Pulkit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675424593,"creation_date":1674535667,"question_id":75217506,"body_markdown":"I&#39;m trying to remove Log4j from my project. The project is building sucessfully after removing but I&#39;m getting this error while running the build.\r\n\r\n```\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/azuga]]\r\n \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162) \r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:755)\r\n \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:731)\r\n \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:973)\r\n \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\r\n \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\r\n \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\r\n \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\r\n \tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:109)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:68)\r\n \tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:336)\r\n \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:776)\r\n \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\r\n \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\r\n \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5262)\r\n \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n \t... 10 more\r\n Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1352)\r\n \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\r\n \t... 24 more\r\n```\r\n\r\nI&#39;ve tried removing dependencies I suspected to be using Log4j.","title":"Log4j removal issue","body":"<p>I'm trying to remove Log4j from my project. The project is building sucessfully after removing but I'm getting this error while running the build.</p>\n<pre><code>org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/azuga]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162) \n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:755)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:731)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:973)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:109)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:68)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:336)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:776)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 10 more\n Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1352)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\n    ... 24 more\n</code></pre>\n<p>I've tried removing dependencies I suspected to be using Log4j.</p>\n"},{"tags":["java","stripe-payments","payment","implementation"],"comments":[{"owner":{"account_id":1665411,"reputation":2936,"user_id":1532919,"accept_rate":60,"display_name":"Alan P."},"score":0,"creation_date":1587590411,"post_id":61373143,"comment_id":108575521,"body_markdown":"I’m not using Stripe with Java, but to issue refunds I had to also pass in an amount to refund, and it had to be less than or equal to the original transaction amount.","body":"I’m not using Stripe with Java, but to issue refunds I had to also pass in an amount to refund, and it had to be less than or equal to the original transaction amount."}],"answers":[{"tags":[],"owner":{"account_id":17230050,"reputation":6368,"user_id":12474862,"display_name":"Nolan H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587585368,"creation_date":1587585368,"answer_id":61374008,"question_id":61373143,"body_markdown":"Usually this error is encountered when you&#39;ve mixed up multiple API keys (for example if you have a separate dev or test account), or if you&#39;re making charges for connected accounts and you haven&#39;t provided the same [account authentication][1] on a subsequent request.\r\n\r\nIf you&#39;re trying to refund a Charge for a connected account, make sure you [supply the `RequestOptions`][2] in your call. Otherwise, double check your API keys match what was used to create the Charge.\r\n\r\n\r\n  [1]: https://stripe.com/docs/connect/authentication\r\n  [2]: https://stripe.com/docs/api/connected_accounts?lang=java","title":"I am using stripe payment java implementation. Stripe refund giving no such charge exist exception exist for the successful payment","body":"<p>Usually this error is encountered when you've mixed up multiple API keys (for example if you have a separate dev or test account), or if you're making charges for connected accounts and you haven't provided the same <a href=\"https://stripe.com/docs/connect/authentication\" rel=\"nofollow noreferrer\">account authentication</a> on a subsequent request.</p>\n\n<p>If you're trying to refund a Charge for a connected account, make sure you <a href=\"https://stripe.com/docs/api/connected_accounts?lang=java\" rel=\"nofollow noreferrer\">supply the <code>RequestOptions</code></a> in your call. Otherwise, double check your API keys match what was used to create the Charge.</p>\n"}],"owner":{"account_id":15955381,"reputation":1,"user_id":11513672,"display_name":"akanksha agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424582,"creation_date":1587582286,"question_id":61373143,"body_markdown":"I have completed the payment through stripe successfully in my java code. But the refund throwing error as &quot;No such charge: ch_1G.....&quot;\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;charge&quot;,chargeID);\r\n    Refund refund = Refund.create(params);\r\n\r\n","title":"I am using stripe payment java implementation. Stripe refund giving no such charge exist exception exist for the successful payment","body":"<p>I have completed the payment through stripe successfully in my java code. But the refund throwing error as &quot;No such charge: ch_1G.....&quot;</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;charge&quot;,chargeID);\nRefund refund = Refund.create(params);\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":6445314,"reputation":31,"user_id":4993975,"display_name":"Anu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675424484,"creation_date":1675424484,"answer_id":75335225,"question_id":75322557,"body_markdown":"It was a version conflict issue. Used netty-all - 4.1.80.Final version in maven to fix it.","title":"Graph API - ClosedChannelException","body":"<p>It was a version conflict issue. Used netty-all - 4.1.80.Final version in maven to fix it.</p>\n"}],"owner":{"account_id":6445314,"reputation":31,"user_id":4993975,"display_name":"Anu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424484,"creation_date":1675337582,"question_id":75322557,"body_markdown":"I am getting the ClosedChannelException error while sending a mail using Graph API.\r\nI know the connection parameters are correct as it works fine when I tried via postman.\r\nAlso my old code with graph API 1.6.0 is working fine. I am trying to upgrade it to 5.45.0.\r\nDoes anyone have any idea what the issue could be? Code looks correct to me. So I tried changing the dependent jar versions too but so far nothing worked.\r\n\r\nI used the following code with TokenCredentialAuthProvider.\r\nhttps://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md\r\n\r\nVersions used: \r\nmicrosoft-graph - 5.45.0\r\nazure-identity - 1.7.3\r\nreactor-core - 3.5.2\r\nreactor-netty - 1.1.2\r\nnetty-all - 4.1.87.Final\r\n\r\n```\r\ncom.microsoft.graph.core.ClientException: Error executing the request\r\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\r\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\r\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\r\n        at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\r\n        at com.microsoft.graph.requests.UserSendMailRequest.post(UserSendMailRequest.java:54)\r\n        at com.test.GraphProducer.sendEmail(GraphProducer.java:151)\r\n       .....................\r\nCaused by: java.io.IOException: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:67)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        .....................\r\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:407)\r\n        ... 52 more\r\nCaused by: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n       .....................\r\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:55)\r\n        ... 60 more\r\nCaused by: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:53)\r\n        .....................\r\nCaused by: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n        at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n        .....................\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequestWithRetries(HttpHelper.java:96)\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:49)\r\n        ... 16 more\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                ... 34 more\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 25 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 31 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                .....................\r\n                at java.lang.Thread.run(Thread.java:745)\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 26 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 32 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                .....................\r\n                at java.lang.Thread.run(Thread.java:745)\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 27 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 33 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\r\n                .....................\r\nCaused by: java.nio.channels.ClosedChannelException\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\r\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:237)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:457)\r\n        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:942)\r\n        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:217)\r\n        at reactor.netty.transport.TransportConnector.lambda$doConnect$8(TransportConnector.java:240)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\n\r\nUpdate on &#39;03Feb2022&#39;:\r\nI tried the below code to check if token part is working and found out that it is throwing the same error.\r\n```\r\nIAuthenticationProvider authProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\r\n\t\t\tjava.net.URL url = new java.net.URL(&quot;https://graph.microsoft.com/v1.0/users&quot;);  \r\n\t\t\tString token = authProvider.getAuthorizationTokenAsync(url).get();\r\n```","title":"Graph API - ClosedChannelException","body":"<p>I am getting the ClosedChannelException error while sending a mail using Graph API.\nI know the connection parameters are correct as it works fine when I tried via postman.\nAlso my old code with graph API 1.6.0 is working fine. I am trying to upgrade it to 5.45.0.\nDoes anyone have any idea what the issue could be? Code looks correct to me. So I tried changing the dependent jar versions too but so far nothing worked.</p>\n<p>I used the following code with TokenCredentialAuthProvider.\n<a href=\"https://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md</a></p>\n<p>Versions used:\nmicrosoft-graph - 5.45.0\nazure-identity - 1.7.3\nreactor-core - 3.5.2\nreactor-netty - 1.1.2\nnetty-all - 4.1.87.Final</p>\n<pre><code>com.microsoft.graph.core.ClientException: Error executing the request\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\n        at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\n        at com.microsoft.graph.requests.UserSendMailRequest.post(UserSendMailRequest.java:54)\n        at com.test.GraphProducer.sendEmail(GraphProducer.java:151)\n       .....................\nCaused by: java.io.IOException: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:67)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        .....................\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:407)\n        ... 52 more\nCaused by: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n       .....................\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:55)\n        ... 60 more\nCaused by: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:53)\n        .....................\nCaused by: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at reactor.core.Exceptions.propagate(Exceptions.java:408)\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\n        at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n        .....................\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequestWithRetries(HttpHelper.java:96)\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:49)\n        ... 16 more\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                ... 34 more\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 25 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 31 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                .....................\n                at java.lang.Thread.run(Thread.java:745)\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 26 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 32 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                .....................\n                at java.lang.Thread.run(Thread.java:745)\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 27 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 33 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\n                .....................\nCaused by: java.nio.channels.ClosedChannelException\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:237)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:457)\n        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:942)\n        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:217)\n        at reactor.netty.transport.TransportConnector.lambda$doConnect$8(TransportConnector.java:240)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Update on '03Feb2022':\nI tried the below code to check if token part is working and found out that it is throwing the same error.</p>\n<pre><code>IAuthenticationProvider authProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\n            java.net.URL url = new java.net.URL(&quot;https://graph.microsoft.com/v1.0/users&quot;);  \n            String token = authProvider.getAuthorizationTokenAsync(url).get();\n</code></pre>\n"},{"tags":["java","php","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1675447952,"post_id":75335212,"comment_id":132938547,"body_markdown":"You say &quot;exception&quot; in the title, but don&#39;t include any error message received. Please include the error received. The debug logs show &quot;INBOUND RST_STREAM&quot; happens first, so the client decides to cancel the RPC before the server responds. But the server also does a GO_AWAY with errorCode=INTERNAL_ERROR, so it does seem there was an exception on server-side that isn&#39;t included.","body":"You say &quot;exception&quot; in the title, but don&#39;t include any error message received. Please include the error received. The debug logs show &quot;INBOUND RST_STREAM&quot; happens first, so the client decides to cancel the RPC before the server responds. But the server also does a GO_AWAY with errorCode=INTERNAL_ERROR, so it does seem there was an exception on server-side that isn&#39;t included."}],"owner":{"account_id":14309189,"reputation":58,"user_id":10336075,"display_name":"Tannenfels"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675424442,"creation_date":1675424442,"question_id":75335212,"body_markdown":"I am invoking my Java gRPC service from a PHP client (PHP client runs in CLI mode for the sake of debugging and will run in FPM mode in production). Yet the connection on a Java side seems to be refused for some reason:\r\n\r\n```\r\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\r\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\r\n14:28:57.681 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@7663df67\r\n14:28:57.777 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=false settings={MAX_CONCURRENT_STREAMS=2147483647, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n14:28:57.782 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\r\n14:28:57.812 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n14:28:57.821 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=4194303, MAX_FRAME_SIZE=4194303, MAX_HEADER_LIST_SIZE=8192, ︃=1}\r\n14:28:57.823 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=true\r\n14:28:57.825 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=4128768\r\n14:28:57.826 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=true\r\n14:28:57.839 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND HEADERS: streamId=1 headers=GrpcHttp2RequestHeaders[:path: /microservices.bitrix.leads.BitrixLeadService/CreateLead, :authority: localhost:50051, :method: POST, :scheme: http, te: trailers, content-type: application/grpc, grpc-accept-encoding: identity, deflate, gzip, user-agent: grpc-c/29.0.0 (linux; chttp2)] padding=0 endStream=false\r\n14:28:57.879 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND DATA: streamId=1 padding=0 endStream=true length=55 bytes=00000000320a0b3739323431303137313035120cd09cd0bed181d0bad0b2d0b018d7162212d0a1d182d0b0d0bdd0b8d181d0bbd0b0d0b2\r\n14:28:57.881 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND RST_STREAM: streamId=1 errorCode=8\r\n14:28:57.899 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND RST_STREAM: streamId=1 errorCode=8\r\n14:28:57.900 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND GO_AWAY: lastStreamId=1 errorCode=2 length=0 bytes=\r\n14:28:57.902 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] Sending GOAWAY failed: lastStreamId &#39;1&#39;, errorCode &#39;2&#39;, debugData &#39;&#39;. Forcing shutdown of the connection.\r\n```\r\n\r\n\r\nFor some reasons, another exception may be thrown, though no changes to the code were made:\r\n\r\n```\r\n14:19:56.666 [grpc-default-worker-ELG-3-2] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xf3d688e2, L:/127.0.0.1:50051 - R:/127.0.0.1:52836] INBOUND RST_STREAM: streamId=1 errorCode=8\r\n```\r\n","title":"Exception while invoking gRPC method","body":"<p>I am invoking my Java gRPC service from a PHP client (PHP client runs in CLI mode for the sake of debugging and will run in FPM mode in production). Yet the connection on a Java side seems to be refused for some reason:</p>\n<pre><code>14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\n14:28:57.681 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@7663df67\n14:28:57.777 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=false settings={MAX_CONCURRENT_STREAMS=2147483647, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n14:28:57.782 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\n14:28:57.812 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n14:28:57.821 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=4194303, MAX_FRAME_SIZE=4194303, MAX_HEADER_LIST_SIZE=8192, ︃=1}\n14:28:57.823 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=true\n14:28:57.825 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=4128768\n14:28:57.826 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=true\n14:28:57.839 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND HEADERS: streamId=1 headers=GrpcHttp2RequestHeaders[:path: /microservices.bitrix.leads.BitrixLeadService/CreateLead, :authority: localhost:50051, :method: POST, :scheme: http, te: trailers, content-type: application/grpc, grpc-accept-encoding: identity, deflate, gzip, user-agent: grpc-c/29.0.0 (linux; chttp2)] padding=0 endStream=false\n14:28:57.879 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND DATA: streamId=1 padding=0 endStream=true length=55 bytes=00000000320a0b3739323431303137313035120cd09cd0bed181d0bad0b2d0b018d7162212d0a1d182d0b0d0bdd0b8d181d0bbd0b0d0b2\n14:28:57.881 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND RST_STREAM: streamId=1 errorCode=8\n14:28:57.899 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND RST_STREAM: streamId=1 errorCode=8\n14:28:57.900 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND GO_AWAY: lastStreamId=1 errorCode=2 length=0 bytes=\n14:28:57.902 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] Sending GOAWAY failed: lastStreamId '1', errorCode '2', debugData ''. Forcing shutdown of the connection.\n</code></pre>\n<p>For some reasons, another exception may be thrown, though no changes to the code were made:</p>\n<pre><code>14:19:56.666 [grpc-default-worker-ELG-3-2] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xf3d688e2, L:/127.0.0.1:50051 - R:/127.0.0.1:52836] INBOUND RST_STREAM: streamId=1 errorCode=8\n</code></pre>\n"},{"tags":["java","types","return","target"],"comments":[{"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"score":1,"creation_date":1418797408,"post_id":27518037,"comment_id":43468587,"body_markdown":"http://blog.jooq.org/2013/11/25/a-lesser-known-java-8-feature-generalized-target-type-inference/ for Target types and http://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html for Return types","body":"<a href=\"http://blog.jooq.org/2013/11/25/a-lesser-known-java-8-feature-generalized-target-type-inference/\" rel=\"nofollow noreferrer\">blog.jooq.org/2013/11/25/&hellip;</a> for Target types and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html</a> for Return types"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":1,"creation_date":1675424348,"post_id":27518037,"comment_id":132930931,"body_markdown":"and I wonder what &quot;possibly an obvious&quot; means..","body":"and I wonder what &quot;possibly an obvious&quot; means.."}],"answers":[{"tags":[],"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675424314,"creation_date":1675424314,"answer_id":75335181,"question_id":27518037,"body_markdown":"I&#39;m not sure, but this is my understanding.\r\n\r\ninferring from the target type:\r\n\r\n    String target = genericMethod();\r\n\r\ninferring from the return type:\r\n\r\n    String outsideMethod() {\r\n      return genericMethod();\r\n    }\r\n\r\nwhen `genericMethod` being:\r\n\r\n    T genericMethod() {\r\n      T result = ...\r\n      return T;\r\n    }","title":"Target types vs return types in java","body":"<p>I'm not sure, but this is my understanding.</p>\n<p>inferring from the target type:</p>\n<pre><code>String target = genericMethod();\n</code></pre>\n<p>inferring from the return type:</p>\n<pre><code>String outsideMethod() {\n  return genericMethod();\n}\n</code></pre>\n<p>when <code>genericMethod</code> being:</p>\n<pre><code>T genericMethod() {\n  T result = ...\n  return T;\n}\n</code></pre>\n"}],"owner":{"account_id":5377228,"reputation":1104,"user_id":4283659,"accept_rate":81,"display_name":"nhooyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675424314,"creation_date":1418788285,"question_id":27518037,"body_markdown":"I was reading the java tutorial from oracle when I stumbled upon this statement: \r\n\r\n&quot;Note: It is important to note that the inference algorithm uses only invocation arguments, target types, and possibly an obvious expected return type to infer types. The inference algorithm does not use results from later in the program.&quot;\r\n\r\nWhat is the difference between the target type and using the return type to infer the type? Could you please provide an example.","title":"Target types vs return types in java","body":"<p>I was reading the java tutorial from oracle when I stumbled upon this statement: </p>\n\n<p>\"Note: It is important to note that the inference algorithm uses only invocation arguments, target types, and possibly an obvious expected return type to infer types. The inference algorithm does not use results from later in the program.\"</p>\n\n<p>What is the difference between the target type and using the return type to infer the type? Could you please provide an example.</p>\n"},{"tags":["java","html","freemarker"],"answers":[{"tags":[],"owner":{"account_id":172149,"reputation":3436,"user_id":399992,"accept_rate":83,"display_name":"Bart Vangeneugden"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1280826378,"creation_date":1280826378,"answer_id":3395057,"question_id":3394917,"body_markdown":"The error magically solved itself after extensive testing. Must be karma.\r\n\r\nMy final code for safe checking:\r\n\r\n    &lt;#assign minititle=(row.title!&quot;&quot;)&gt;\r\n    &lt;#if minititle?length &amp;lt; 27&gt;\r\n    ${minititle}\r\n    &lt;#else&gt;\r\n    ${minititle?substring(0,26)} ...\r\n    &lt;/#if&gt;\r\n\r\nHope it helps somebody else","title":"Limit string length in FreeMarker","body":"<p>The error magically solved itself after extensive testing. Must be karma.</p>\n\n<p>My final code for safe checking:</p>\n\n<pre><code>&lt;#assign minititle=(row.title!\"\")&gt;\n&lt;#if minititle?length &amp;lt; 27&gt;\n${minititle}\n&lt;#else&gt;\n${minititle?substring(0,26)} ...\n&lt;/#if&gt;\n</code></pre>\n\n<p>Hope it helps somebody else</p>\n"},{"tags":[],"owner":{"account_id":207666,"reputation":351,"user_id":457659,"accept_rate":80,"display_name":"RockMeetHardplace"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358459482,"creation_date":1358459482,"answer_id":14388781,"question_id":3394917,"body_markdown":"I&#39;m sure you&#39;re happy it&#39;s working now, but the error you were receiving had nothing to do with your String Truncation Code, it&#39;s because your &amp;lt;/#if&amp;gt; is incorrect.\r\n\r\n    &lt;#if condition &gt;\r\n        This Is Correct\r\n    &lt;/#if&gt;\r\n\r\n\r\n    &lt;#if condition &gt;\r\n        This Will Show An Error\r\n    &lt;#/if&gt;","title":"Limit string length in FreeMarker","body":"<p>I'm sure you're happy it's working now, but the error you were receiving had nothing to do with your String Truncation Code, it's because your &lt;/#if&gt; is incorrect.</p>\n\n<pre><code>&lt;#if condition &gt;\n    This Is Correct\n&lt;/#if&gt;\n\n\n&lt;#if condition &gt;\n    This Will Show An Error\n&lt;#/if&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8431242,"reputation":21,"user_id":6326899,"display_name":"Sandy Xiao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463074033,"creation_date":1463074033,"answer_id":37193708,"question_id":3394917,"body_markdown":"an even easier solution without using if-else \r\n\r\n${minititle?left_pad(26)[0..*26]}\r\n\r\nthis will \r\n- first insert white space on left to ensure the string is at least 26 char long (if the string is short than 26 char)\r\n- truncate string to exact 26 char long (if the string is longer than 26 char)\r\n\r\nI&#39;ve tried and it worked well with VERSION 2.3.24","title":"Limit string length in FreeMarker","body":"<p>an even easier solution without using if-else </p>\n\n<p>${minititle?left_pad(26)[0..*26]}</p>\n\n<p>this will \n- first insert white space on left to ensure the string is at least 26 char long (if the string is short than 26 char)\n- truncate string to exact 26 char long (if the string is longer than 26 char)</p>\n\n<p>I've tried and it worked well with VERSION 2.3.24</p>\n"},{"tags":[],"owner":{"account_id":8430644,"reputation":17,"user_id":6326524,"display_name":"BenG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675401284,"creation_date":1675401284,"answer_id":75331774,"question_id":3394917,"body_markdown":"As of Freemarker 2.3.29 (released 2019-08-17) there is a new built-in called truncate. Per the [release notes][1]:\r\n\r\n&gt; string?truncate(length) truncates the text to the given length, and by default adds [...] at the end if truncation has happened. Truncation happens at word boundaries, unless the result is too short that way, in which case it falls back to truncation mid word. There&#39;s also ?truncate_w to force Word Boundary truncation, and ?truncate_c (for Character Boundary) that doesn&#39;t care about word boundaries.\r\n\r\nSo the question can now be solved simply like\r\n\r\n    ${minititle?truncate(26)}\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/versions_2_3_29.html","title":"Limit string length in FreeMarker","body":"<p>As of Freemarker 2.3.29 (released 2019-08-17) there is a new built-in called truncate. Per the <a href=\"https://freemarker.apache.org/docs/versions_2_3_29.html\" rel=\"nofollow noreferrer\">release notes</a>:</p>\n<blockquote>\n<p>string?truncate(length) truncates the text to the given length, and by default adds [...] at the end if truncation has happened. Truncation happens at word boundaries, unless the result is too short that way, in which case it falls back to truncation mid word. There's also ?truncate_w to force Word Boundary truncation, and ?truncate_c (for Character Boundary) that doesn't care about word boundaries.</p>\n</blockquote>\n<p>So the question can now be solved simply like</p>\n<pre><code>${minititle?truncate(26)}\n</code></pre>\n"}],"owner":{"account_id":172149,"reputation":3436,"user_id":399992,"accept_rate":83,"display_name":"Bart Vangeneugden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29163,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":3395057,"answer_count":4,"score":13,"last_activity_date":1675424159,"creation_date":1280824870,"question_id":3394917,"body_markdown":"I&#39;m trying to get a substring from a string in FreeMarker.\r\nHowever there are 2 thigns to consider:\r\n\r\n 1. The string can be null\r\n 2. The string can be shorter then the maximum string length\r\n\r\nI do the following:\r\n\r\n    &lt;#list landingpage1.popularItems as row&gt;\r\n        &lt;li&gt;\r\n            &lt;span class=&quot;minititle&quot;&gt;\r\n                &lt;#assign minititle=(row.title!&quot;&quot;)&gt;\r\n                &lt;#if minititle?length &amp;lt; 27&gt;\r\n                    ${minititle}\r\n                &lt;#else&gt;\r\n                    ${minititle?substring(0,26)} ...\r\n                &lt;#/if&gt;\r\n            &lt;/span&gt;\r\n        &lt;/li&gt;\r\n    &lt;/#list&gt;\r\n\r\nI get a freemarker error saying:\r\n\r\n\r\n    Failed to load templates: Encountered &quot;&lt;/#list&gt;&quot; at line 144, column 65 in landingpage1.ftl.\r\n    Was expecting one of:\r\n        &lt;ATTEMPT&gt; ...\r\n        &lt;IF&gt; ...\r\n        &lt;LIST&gt; ...\r\n        &lt;FOREACH&gt; ...\r\n        &lt;SWITCH&gt; ...\r\n        &lt;ASSIGN&gt; ...\r\n        &lt;GLOBALASSIGN&gt; ...\r\n        &lt;LOCALASSIGN&gt; ...\r\n        &lt;INCLUDE&gt; ...\r\n        &lt;IMPORT&gt; ...\r\n        &lt;FUNCTION&gt; ...\r\n        &lt;MACRO&gt; ...\r\n        &lt;TRANSFORM&gt; ...\r\n        &lt;VISIT&gt; ...\r\n        &lt;STOP&gt; ...\r\n        &lt;RETURN&gt; ...\r\n        &lt;CALL&gt; ...\r\n        &lt;SETTING&gt; ...\r\n        &lt;COMPRESS&gt; ...\r\n        &lt;COMMENT&gt; ...\r\n        &lt;TERSE_COMMENT&gt; ...\r\n        &lt;NOPARSE&gt; ...\r\n        &lt;END_IF&gt; ...\r\n        &lt;BREAK&gt; ...\r\n        &lt;SIMPLE_RETURN&gt; ...\r\n        &lt;HALT&gt; ...\r\n        &lt;FLUSH&gt; ...\r\n        &lt;TRIM&gt; ...\r\n        &lt;LTRIM&gt; ...\r\n        &lt;RTRIM&gt; ...\r\n        &lt;NOTRIM&gt; ...\r\n        &lt;SIMPLE_NESTED&gt; ...\r\n        &lt;NESTED&gt; ...\r\n        &lt;SIMPLE_RECURSE&gt; ...\r\n        &lt;RECURSE&gt; ...\r\n        &lt;FALLBACK&gt; ...\r\n        &lt;ESCAPE&gt; ...\r\n        &lt;NOESCAPE&gt; ...\r\n        &lt;UNIFIED_CALL&gt; ...\r\n        &lt;WHITESPACE&gt; ...\r\n        &lt;PRINTABLE_CHARS&gt; ...\r\n        &lt;FALSE_ALERT&gt; ...\r\n        &quot;${&quot; ...\r\n        &quot;#{&quot; ...\r\n\r\nVery odd.\r\nCan anybody help?","title":"Limit string length in FreeMarker","body":"<p>I'm trying to get a substring from a string in FreeMarker.\nHowever there are 2 thigns to consider:</p>\n\n<ol>\n<li>The string can be null</li>\n<li>The string can be shorter then the maximum string length</li>\n</ol>\n\n<p>I do the following:</p>\n\n<pre><code>&lt;#list landingpage1.popularItems as row&gt;\n    &lt;li&gt;\n        &lt;span class=\"minititle\"&gt;\n            &lt;#assign minititle=(row.title!\"\")&gt;\n            &lt;#if minititle?length &amp;lt; 27&gt;\n                ${minititle}\n            &lt;#else&gt;\n                ${minititle?substring(0,26)} ...\n            &lt;#/if&gt;\n        &lt;/span&gt;\n    &lt;/li&gt;\n&lt;/#list&gt;\n</code></pre>\n\n<p>I get a freemarker error saying:</p>\n\n<pre><code>Failed to load templates: Encountered \"&lt;/#list&gt;\" at line 144, column 65 in landingpage1.ftl.\nWas expecting one of:\n    &lt;ATTEMPT&gt; ...\n    &lt;IF&gt; ...\n    &lt;LIST&gt; ...\n    &lt;FOREACH&gt; ...\n    &lt;SWITCH&gt; ...\n    &lt;ASSIGN&gt; ...\n    &lt;GLOBALASSIGN&gt; ...\n    &lt;LOCALASSIGN&gt; ...\n    &lt;INCLUDE&gt; ...\n    &lt;IMPORT&gt; ...\n    &lt;FUNCTION&gt; ...\n    &lt;MACRO&gt; ...\n    &lt;TRANSFORM&gt; ...\n    &lt;VISIT&gt; ...\n    &lt;STOP&gt; ...\n    &lt;RETURN&gt; ...\n    &lt;CALL&gt; ...\n    &lt;SETTING&gt; ...\n    &lt;COMPRESS&gt; ...\n    &lt;COMMENT&gt; ...\n    &lt;TERSE_COMMENT&gt; ...\n    &lt;NOPARSE&gt; ...\n    &lt;END_IF&gt; ...\n    &lt;BREAK&gt; ...\n    &lt;SIMPLE_RETURN&gt; ...\n    &lt;HALT&gt; ...\n    &lt;FLUSH&gt; ...\n    &lt;TRIM&gt; ...\n    &lt;LTRIM&gt; ...\n    &lt;RTRIM&gt; ...\n    &lt;NOTRIM&gt; ...\n    &lt;SIMPLE_NESTED&gt; ...\n    &lt;NESTED&gt; ...\n    &lt;SIMPLE_RECURSE&gt; ...\n    &lt;RECURSE&gt; ...\n    &lt;FALLBACK&gt; ...\n    &lt;ESCAPE&gt; ...\n    &lt;NOESCAPE&gt; ...\n    &lt;UNIFIED_CALL&gt; ...\n    &lt;WHITESPACE&gt; ...\n    &lt;PRINTABLE_CHARS&gt; ...\n    &lt;FALSE_ALERT&gt; ...\n    \"${\" ...\n    \"#{\" ...\n</code></pre>\n\n<p>Very odd.\nCan anybody help?</p>\n"},{"tags":["java","spring","sonarqube"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585897417,"post_id":61006175,"comment_id":107930576,"body_markdown":"Please &quot;try&quot;:  `//NOSONAR` or `@SuppressWarnings(&quot;squid:...&quot;)` source: https://www.google.com/search?q=sonar+%40suppresswarnings","body":"Please &quot;try&quot;:  <code>&#47;&#47;NOSONAR</code> or <code>@SuppressWarnings(&quot;squid:...&quot;)</code> source: <a href=\"https://www.google.com/search?q=sonar+%40suppresswarnings\" rel=\"nofollow noreferrer\">google.com/search?q=sonar+%40suppresswarnings</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585897619,"post_id":61006175,"comment_id":107930662,"body_markdown":"..and @suppress... annotation (can) also &quot;takes&quot; a `String[]` ;)","body":"..and @suppress... annotation (can) also &quot;takes&quot; a <code>String[]</code> ;)"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":1,"creation_date":1585898512,"post_id":61006175,"comment_id":107931075,"body_markdown":"I already tried //NOSONAR , it doesn&#39;t work too. Also its good for one liner sonar exclusion only, I have like an entire method to exclude, //NOSONAR really isn&#39;t just that neat and clean in the code. there is no squid for the code coverage what&#39;s inplace of it is defined as &#39;common-java:InsufficientBranchCoverage&#39; in the Rule where I had it reference.","body":"I already tried //NOSONAR , it doesn&#39;t work too. Also its good for one liner sonar exclusion only, I have like an entire method to exclude, //NOSONAR really isn&#39;t just that neat and clean in the code. there is no squid for the code coverage what&#39;s inplace of it is defined as &#39;common-java:InsufficientBranchCoverage&#39; in the Rule where I had it reference."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585931790,"post_id":61006175,"comment_id":107947799,"body_markdown":"(the *accepted* answer to) your cited question, states: &quot;Unfortunately, it is not possible.&quot;  ..a &quot;gentle counter-suggestion&quot; (saddling the horse from &quot;behind&quot;): why not extend your test coverage (on new code)!? (this rule is reasoned)","body":"(the <i>accepted</i> answer to) your cited question, states: &quot;Unfortunately, it is not possible.&quot;  ..a &quot;gentle counter-suggestion&quot; (saddling the horse from &quot;behind&quot;): why not extend your test coverage (on new code)!? (this rule is reasoned)"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1585935966,"post_id":61006175,"comment_id":107949806,"body_markdown":"oh shit, right. I overlooked that line on the answer,haha. Although I was able to work around this issue by creating another project and doing another scan as the project overall has 80%+ code coverage alright, just this annoying issue is appearing on the quality gate due to me editing an existing code, and due to a requirement, I need to be able to have a way to bypass this issue and have a passed status on the quality gate. Any other inputs other than this would be great really, I just really need the issue be gone for the project w/o creating another one.","body":"oh shit, right. I overlooked that line on the answer,haha. Although I was able to work around this issue by creating another project and doing another scan as the project overall has 80%+ code coverage alright, just this annoying issue is appearing on the quality gate due to me editing an existing code, and due to a requirement, I need to be able to have a way to bypass this issue and have a passed status on the quality gate. Any other inputs other than this would be great really, I just really need the issue be gone for the project w/o creating another one."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941055,"post_id":61006175,"comment_id":107952271,"body_markdown":"Due to a (new) requirement/bug/code edit...i would write (at least) a new  test. (..covering the (new) sh...And every proper/experienced developer would agree!?) ...or at least adjust existing tests.","body":"Due to a (new) requirement/bug/code edit...i would write (at least) a new  test. (..covering the (new) sh...And every proper/experienced developer would agree!?) ...or at least adjust existing tests."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941252,"post_id":61006175,"comment_id":107952349,"body_markdown":"..you should cover it! ..and make sonar, your team, your PO happy!:-)","body":"..you should cover it! ..and make sonar, your team, your PO happy!:-)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941499,"post_id":61006175,"comment_id":107952454,"body_markdown":"..except some corner cases (and sonar has a (default) 20% tolerance) , you can test-cover *(almost)all* of *own* code.","body":"..except some corner cases (and sonar has a (default) 20% tolerance) , you can test-cover <i>(almost)all</i> of <i>own</i> code."}],"answers":[{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675423920,"creation_date":1675423920,"answer_id":75335117,"question_id":61006175,"body_markdown":"It&#39;s not going to work with `@SuppressWarnings`, as we can read in the accepted answer to the question you referred to\r\n\r\n&gt; The `InsufficientBranchCoverage` rule applies directly at File level and\r\n&gt; it is consequently not linked to any particular line in the file. To\r\n&gt; remove issues related to a given rule key using `@SuppressWarnings`, the\r\n&gt; rule has to apply at Class or Method level (as you can read in the\r\n&gt; documentation).\r\n\r\nI managed to do what you intend by configuring Sonar using `sonar.coverage.exclusions` [property][1]. \r\nIn gradle:\r\n\r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.coverage.exclusions&quot;, &quot;/src/&lt;path-to-exclude/**,**/class-to-exclude.java&quot;\r\n        }\r\n    }\r\nIn maven:\r\n\r\n    &lt;properties&gt;\r\n        &lt;sonar.coverage.exclusions&gt;\r\n            /src/&lt;path-to-exclude/**,\r\n            **/class-to-exclude.java\r\n        &lt;/sonar.coverage.exclusions&gt;\r\n    &lt;/properties&gt;\r\n\r\n  [1]: https://docs.sonarqube.org/9.6/project-administration/narrowing-the-focus/","title":"@SupressWarnnings for InsufficientBranchCoverage in Sonar doesn&#39;t work","body":"<p>It's not going to work with <code>@SuppressWarnings</code>, as we can read in the accepted answer to the question you referred to</p>\n<blockquote>\n<p>The <code>InsufficientBranchCoverage</code> rule applies directly at File level and\nit is consequently not linked to any particular line in the file. To\nremove issues related to a given rule key using <code>@SuppressWarnings</code>, the\nrule has to apply at Class or Method level (as you can read in the\ndocumentation).</p>\n</blockquote>\n<p>I managed to do what you intend by configuring Sonar using <code>sonar.coverage.exclusions</code> <a href=\"https://docs.sonarqube.org/9.6/project-administration/narrowing-the-focus/\" rel=\"nofollow noreferrer\">property</a>.\nIn gradle:</p>\n<pre><code>sonarqube {\n    properties {\n        property &quot;sonar.coverage.exclusions&quot;, &quot;/src/&lt;path-to-exclude/**,**/class-to-exclude.java&quot;\n    }\n}\n</code></pre>\n<p>In maven:</p>\n<pre><code>&lt;properties&gt;\n    &lt;sonar.coverage.exclusions&gt;\n        /src/&lt;path-to-exclude/**,\n        **/class-to-exclude.java\n    &lt;/sonar.coverage.exclusions&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675423920,"creation_date":1585895241,"question_id":61006175,"body_markdown":"I&#39;ve already did the [steps mentioned in this thread][1] with regards to ignoring the coverage on new code on sonar. Such as adding the @SuppressWarnings on the method or class levels (right above the method/class) w/ the ff. syntax.\r\n\r\n    @SuppressWarnings(&quot;common-java:InsufficientBranchCoverage&quot;)\r\n    @SuppressWarnings(&quot;InsufficientBranchCoverage&quot;)\r\n    @SuppressWarnings(&quot;java:InsufficientBranchCoverage&quot;)\r\n\r\nHowever, the Coverage on new Code is still being reported in sonar.  Thing is, I&#39;ve already reached the minimum required code coverage for the entire project as could be seen in this screenshot.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29343389/how-to-suppresswarnings-for-common-java-rules/29364599\r\n  [2]: https://i.stack.imgur.com/eqD00.png\r\n\r\nHence I don&#39;t need it to be reported alright. This happened when I edited the code and removed the whitespaces and dead code in the project, and it just so happen that the part of the code being reported here not being covered is the thing I could not really have a unit test on. \r\n\r\nHere&#39;s a snippet of my pom config below.\r\n\r\n \r\n\r\n     &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Sonar --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.0.1254&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Code Coverage Report --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;agent-for-it&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                            &lt;phase&gt;verify&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n        \r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nIs there something wrong with my config or declaration,or was the syntax already deprecated?. TIA.\r\n\r\nPS:\r\nI already tried \r\n\r\n    this.method() //NOSONAR\r\n\r\nand\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n\r\n @SuppressWarnings(&quot;all&quot;) is still reporting the code coverage in the Quality Gate. But it did remove the other warnings in the entire class or method. Just not the new code coverage being reported in the scan.","title":"@SupressWarnnings for InsufficientBranchCoverage in Sonar doesn&#39;t work","body":"<p>I've already did the <a href=\"https://stackoverflow.com/questions/29343389/how-to-suppresswarnings-for-common-java-rules/29364599\">steps mentioned in this thread</a> with regards to ignoring the coverage on new code on sonar. Such as adding the @SuppressWarnings on the method or class levels (right above the method/class) w/ the ff. syntax.</p>\n\n<pre><code>@SuppressWarnings(\"common-java:InsufficientBranchCoverage\")\n@SuppressWarnings(\"InsufficientBranchCoverage\")\n@SuppressWarnings(\"java:InsufficientBranchCoverage\")\n</code></pre>\n\n<p>However, the Coverage on new Code is still being reported in sonar.  Thing is, I've already reached the minimum required code coverage for the entire project as could be seen in this screenshot.\n<a href=\"https://i.stack.imgur.com/eqD00.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eqD00.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hence I don't need it to be reported alright. This happened when I edited the code and removed the whitespaces and dead code in the project, and it just so happen that the part of the code being reported here not being covered is the thing I could not really have a unit test on. </p>\n\n<p>Here's a snippet of my pom config below.</p>\n\n<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Sonar --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0.1254&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Code Coverage Report --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-unit-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;agent-for-it&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>Is there something wrong with my config or declaration,or was the syntax already deprecated?. TIA.</p>\n\n<p>PS:\nI already tried </p>\n\n<pre><code>this.method() //NOSONAR\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@SuppressWarnings(\"all\")\n</code></pre>\n\n<p>@SuppressWarnings(\"all\") is still reporting the code coverage in the Quality Gate. But it did remove the other warnings in the entire class or method. Just not the new code coverage being reported in the scan.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675363681,"post_id":75327197,"comment_id":132918517,"body_markdown":"What what does the Data class look like? Does it gave getters for each of the arguments in the 4 argument constructor shown?","body":"What what does the Data class look like? Does it gave getters for each of the arguments in the 4 argument constructor shown?"},{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":0,"creation_date":1675408930,"post_id":75327197,"comment_id":132926625,"body_markdown":"Yeah i am using lombok for this .","body":"Yeah i am using lombok for this ."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675423608,"creation_date":1675423608,"answer_id":75335055,"question_id":75327197,"body_markdown":"Something like this? If its defined in the Data class we can lose the static and all the getters and setters.\r\n\r\n    public static List&lt;Data&gt; sum(Map&lt;String, List&lt;Data&gt;&gt; localMap) {\r\n    \tMap&lt;Integer,Data&gt; indexedAccumulator = new HashMap&lt;&gt;(); // indexed on Data.id\r\n        for(List&lt;Data&gt; localMapEntry: localMap.values()) {\r\n        \tfor(Data data : localMapEntry) {\r\n        \t\tint id = data.getId();\r\n    \t\t\tif(indexedAccumulator.containsKey(id)) {\r\n        \t\t\tData sumData = indexedAccumulator.get(id);\r\n        \t\t\tsumData.setAmount1(sumData.getAmount1() + data.getAmount1());\r\n        \t\t\tsumData.setAmount2(sumData.getAmount2() + data.getAmount2());\r\n        \t\t\tsumData.setAmount3(sumData.getAmount3() + data.getAmount3());\r\n        \t\t\t\r\n        \t\t} else {\r\n        \t\t\tindexedAccumulator.put(id, new Data(id, data.getAmount1(), data.getAmount2(), data.getAmount3())); // new object to preserve original\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        }\r\n    \r\n        List&lt;Data&gt; sheetFinal = new ArrayList&lt;&gt;();\r\n        for (Data summedData : indexedAccumulator.values()) {\r\n        \tsheetFinal.add(summedData);\r\n        }\r\n        \r\n        return sheetFinal;\r\n    }\r\n\r\n","title":"Merging data based on ids in different objects in Java in a efficient way","body":"<p>Something like this? If its defined in the Data class we can lose the static and all the getters and setters.</p>\n<pre><code>public static List&lt;Data&gt; sum(Map&lt;String, List&lt;Data&gt;&gt; localMap) {\n    Map&lt;Integer,Data&gt; indexedAccumulator = new HashMap&lt;&gt;(); // indexed on Data.id\n    for(List&lt;Data&gt; localMapEntry: localMap.values()) {\n        for(Data data : localMapEntry) {\n            int id = data.getId();\n            if(indexedAccumulator.containsKey(id)) {\n                Data sumData = indexedAccumulator.get(id);\n                sumData.setAmount1(sumData.getAmount1() + data.getAmount1());\n                sumData.setAmount2(sumData.getAmount2() + data.getAmount2());\n                sumData.setAmount3(sumData.getAmount3() + data.getAmount3());\n                \n            } else {\n                indexedAccumulator.put(id, new Data(id, data.getAmount1(), data.getAmount2(), data.getAmount3())); // new object to preserve original\n            }\n        }\n        \n    }\n\n    List&lt;Data&gt; sheetFinal = new ArrayList&lt;&gt;();\n    for (Data summedData : indexedAccumulator.values()) {\n        sheetFinal.add(summedData);\n    }\n    \n    return sheetFinal;\n}\n</code></pre>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335055,"answer_count":1,"score":0,"last_activity_date":1675423608,"creation_date":1675360854,"question_id":75327197,"body_markdown":"I have few objects in a sheet object identified by ids , i want to merge these 3 objects  by ids keeping in mind that all ids from all object should be there in the final sheet.\r\n\r\nAlthough i can get all ids form object 1 serach in other object and add it , but i think there must be some smarter way of doing it . \r\n\r\nData\r\n          @Data\r\n          @NoArgsConstructor\r\n          @AllArgsConstructor\r\n          @Builder\r\n          public class Data\r\n\t\t\t\t{\r\n\t\t\t\t\tint id ; \r\n\t\t\t\t\tint amount1 ;\r\n\t\t\t\t\tint amount2 ;\r\n\t\t\t\t\tint amount3 ;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tData data1 = new Data(7001,20,20,10);\r\n\t\t\t\tData data2 = new Data(8002,30,30,10);\r\n\t\t\t\tData data3 = new Data(7003,30,40,10);\r\n\t\t\t\t\r\n\t\t\t\tList ls = new ArrayLisy();\r\n\t\t\t\tls.add(data1);\r\n\t\t\t\tls.add(data2);\r\n\t\t\t\tls.add(data3);\r\n\t\t\t\t\r\n\t\t\t\tMap&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\r\n\t\t\t\tlocalMap.put(&quot;sheet1&quot;,ls);\r\n\r\n\r\nSimilary we have sheet2 and sheet3 with same or some different ids as \r\n\r\n\t\t\t\tData data1 = new Data(7001,5,0,2);\r\n\t\t\t\tData data2 = new Data(8004,2,2,2);\r\n\t\t\t\tData data3 = new Data(7003,3,4,5);\r\n\t\t\t\t\r\n\t\t\t\tList ls = new ArrayLisy();\r\n\t\t\t\tls.add(data1);\r\n\t\t\t\tls.add(data2);\r\n\t\t\t\tls.add(data3);\r\n\t\t\t\t\r\n\t\t\t\tMap&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\r\n\t\t\t\tlocalMap.put(&quot;sheet2&quot;,ls);\r\n\r\nNow i just wand to Merge the Sheets to have one sheet with  Sum of fields as \r\n\r\nFinal sheet data sheetFinal should have a list of Data  like where id 7001 has amount1 added from all sheet (20+5) for amount1.\r\n\r\n\t\t\t\tData data1 = new Data(7001,25,20,12) ;\r\n\t\t\t\tData data2 = new Data(8002,30,30,10) ;\r\n\t\t\t\tData data3 = new Data(8004,2,2,2) ;\r\n\t\t\t\tData data4 = new Data(7003,33,44,20) ;\r\n\t\t\t\t\r\nHow can i merge the sheet by ids and get a final sheet with all data in a smarter and memory efficient way ? Thanks in\r\n","title":"Merging data based on ids in different objects in Java in a efficient way","body":"<p>I have few objects in a sheet object identified by ids , i want to merge these 3 objects  by ids keeping in mind that all ids from all object should be there in the final sheet.</p>\n<p>Although i can get all ids form object 1 serach in other object and add it , but i think there must be some smarter way of doing it .</p>\n<p>Data\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Data\n{\nint id ;\nint amount1 ;\nint amount2 ;\nint amount3 ;</p>\n<pre><code>            }\n            \n            Data data1 = new Data(7001,20,20,10);\n            Data data2 = new Data(8002,30,30,10);\n            Data data3 = new Data(7003,30,40,10);\n            \n            List ls = new ArrayLisy();\n            ls.add(data1);\n            ls.add(data2);\n            ls.add(data3);\n            \n            Map&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\n            localMap.put(&quot;sheet1&quot;,ls);\n</code></pre>\n<p>Similary we have sheet2 and sheet3 with same or some different ids as</p>\n<pre><code>            Data data1 = new Data(7001,5,0,2);\n            Data data2 = new Data(8004,2,2,2);\n            Data data3 = new Data(7003,3,4,5);\n            \n            List ls = new ArrayLisy();\n            ls.add(data1);\n            ls.add(data2);\n            ls.add(data3);\n            \n            Map&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\n            localMap.put(&quot;sheet2&quot;,ls);\n</code></pre>\n<p>Now i just wand to Merge the Sheets to have one sheet with  Sum of fields as</p>\n<p>Final sheet data sheetFinal should have a list of Data  like where id 7001 has amount1 added from all sheet (20+5) for amount1.</p>\n<pre><code>            Data data1 = new Data(7001,25,20,12) ;\n            Data data2 = new Data(8002,30,30,10) ;\n            Data data3 = new Data(8004,2,2,2) ;\n            Data data4 = new Data(7003,33,44,20) ;\n            \n</code></pre>\n<p>How can i merge the sheet by ids and get a final sheet with all data in a smarter and memory efficient way ? Thanks in</p>\n"},{"tags":["java","selenium-webdriver","jmeter","jmeter-plugins"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675423416,"creation_date":1675423416,"answer_id":75335011,"question_id":75334452,"body_markdown":"`driver.manage().getCookieNamed` function gives you an instance of [org.openqa.selenium.Cookie][1] which doesn&#39;t have `split()` function\r\n\r\nIf you want to continue with this approach you need to cast it to [String][2] first:\r\n\r\n    String[] cookie = rawValue.toString().split(&quot;;&quot;);\r\n\r\nAlternatively you can use Cookie class functions instead of &quot;splitting&quot;, i.e.\r\n\r\n - `rawValue.getName()`\r\n - `rawValue.getValue()`\r\n - `rawValue.getDomain()`\r\n - `rawValue.getExpiry()`\r\n - `rawValue.isSecure()`\r\n - `rawValue.isHttpOnly()`\r\n\r\nThe same is for printing it to the log file, you cannot put a Cookie object there, you need to change it to be a String:\r\n\r\n    \r\n`WDS.log.info(rawValue.toString());`\r\n\r\nAlso your approach of writing the variables into the file won&#39;t work if you intend to run your script with 2 or more users, the target file will have corrupt data due to [race conditions][3] so consider switching to [Sample Variables][4] and [Flexible File Writer][5] instead.  \r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Cookie.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [3]: https://en.wikipedia.org/wiki/Race_condition\r\n  [4]: https://jmeter.apache.org/usermanual/listeners.html#sample_variables\r\n  [5]: https://www.blazemeter.com/blog/top-ten-jmeter-plugins#writer","title":"Splitting a cookie string and saving the split cookie value in a external csv file in Apache JMeter Selenium Webdriver Sampler","body":"<p><code>driver.manage().getCookieNamed</code> function gives you an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Cookie.html\" rel=\"nofollow noreferrer\">org.openqa.selenium.Cookie</a> which doesn't have <code>split()</code> function</p>\n<p>If you want to continue with this approach you need to cast it to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> first:</p>\n<pre><code>String[] cookie = rawValue.toString().split(&quot;;&quot;);\n</code></pre>\n<p>Alternatively you can use Cookie class functions instead of &quot;splitting&quot;, i.e.</p>\n<ul>\n<li><code>rawValue.getName()</code></li>\n<li><code>rawValue.getValue()</code></li>\n<li><code>rawValue.getDomain()</code></li>\n<li><code>rawValue.getExpiry()</code></li>\n<li><code>rawValue.isSecure()</code></li>\n<li><code>rawValue.isHttpOnly()</code></li>\n</ul>\n<p>The same is for printing it to the log file, you cannot put a Cookie object there, you need to change it to be a String:</p>\n<p><code>WDS.log.info(rawValue.toString());</code></p>\n<p>Also your approach of writing the variables into the file won't work if you intend to run your script with 2 or more users, the target file will have corrupt data due to <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a> so consider switching to <a href=\"https://jmeter.apache.org/usermanual/listeners.html#sample_variables\" rel=\"nofollow noreferrer\">Sample Variables</a> and <a href=\"https://www.blazemeter.com/blog/top-ten-jmeter-plugins#writer\" rel=\"nofollow noreferrer\">Flexible File Writer</a> instead.</p>\n"}],"owner":{"account_id":14468001,"reputation":251,"user_id":10450825,"display_name":"Angshuman Basak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335011,"answer_count":1,"score":0,"last_activity_date":1675423416,"creation_date":1675420427,"question_id":75334452,"body_markdown":"Objective : I wanna &quot;split&quot; the extracted cookie from &quot;;&quot; and save the cookie value in a iterative manner for each user in a csv file, column wise, for my Apache JMeter code in **Selenium Webdriver Sampler** in **java** language.\r\nI am using a **CSV Dataset config** to fetch the **username** &amp; **password** and would like to save the cookie value in a separate column.\r\n\r\n**I am unable to spilt the cookie and save using the following code snippet.**\r\n\r\nMy code Snippet\r\n\r\n```\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.support.ui.*;\r\nimport org.junit.Assert;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.time.Duration;\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\nimport java.io.FileWriter;\r\nimport java.util.List;\r\nimport java.io.Writer;\r\nimport java.lang.String;\r\n\r\n// Login \r\nString title = driver.getTitle();\r\nSystem.out.println(title);\r\nAssert.assertEquals(&quot;Sign in to your account&quot;, title);\r\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)));\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;username&quot;)});\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;submit&#39;]&quot;)).click();\r\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)));\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;password&quot;)});\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;submit&#39;]&quot;)).click();\r\nThread.sleep(3000L);\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;button&#39;]&quot;)).click();\r\nThread.sleep(3000L);\r\n\r\n// Generating the cookie\r\nString rawValue = driver.manage().getCookieNamed(&quot;.sampleCookie&quot;);\r\nSystem.out.println(rawValue);\r\nWDS.log.info(WDS.vars.get(&quot;rawValue&quot;));\r\nSystem.out.println(&quot;Login Successful&quot;);\r\nWDS.log.info(&quot;Login Successful&quot;);\r\n```\r\n\r\n&gt; I am able to use the above code snippet to generate the cookie, but unable to print in JMeter Log console using \r\n&gt; **WDS.log.info(WDS.vars.get(&quot;rawValue&quot;));**\r\n&gt;\r\n&gt; Info:  2023-02-03 14:34:08,656 INFO c.g.j.p.w.s.WebDriverSampler: null\r\n\r\n**I am unable to split the cookie via below mentioned code.**\r\n\r\n```\r\n//Splitting the cookie \r\n\r\n//Split cookie string from semicolon\r\nString[] cookie = rawValue.split(&quot;;&quot;);\r\n```\r\n&gt; Error:\r\n2023-02-03 15:38:44,557 ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : Typed variable declaration : Error in method invocation: Method split( java.lang.String ) not found in class&#39;org.openqa.selenium.Cookie&#39; : at Line: 53 : in file: inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : rawValue.split ( &quot;;&quot; ) \r\n in inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*;\r\n\r\n**I am unable to save the split cookie value or the raw cookie Value in that case via below mentioned code.**\r\n\r\n```\r\n//Write the cookie value to a csv file\r\n\r\nFileWriter fstream = new FileWriter(&quot;C:\\\\Users\\\\Scripts\\\\TestData\\\\Cookie.csv&quot;,true);\r\nBufferedWriter out = new BufferedWriter(fstream);\r\nout.write(WDS.vars.get(&quot;rawValue&quot;));\r\nout.write(System.getProperty(&quot;line.separator&quot;));\r\nout.close();\r\nfstream.close();\r\n```\r\n\r\n&gt; Error: 2023-02-03 15:45:13,652 ERROR c.g.j.p.w.s.WebDriverSampler:\r\n&gt; Sourced file: inline evaluation of: ``import org.openqa.selenium.*;\r\n&gt; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : Method\r\n&gt; Invocation out.write : at Line: 54 : in file: inline evaluation of:\r\n&gt; ``import org.openqa.selenium.*; import\r\n&gt; org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : out .write (\r\n&gt; WDS .vars .get ( &quot;rawValue&quot; ) ) \r\n&gt; \r\n&gt; Target exception: java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;String.length()&quot; because &quot;str&quot; is null  in inline evaluation of:\r\n&gt; ``import org.openqa.selenium.*; import\r\n&gt; org.openqa.selenium.support.ui.*;\r\n\r\nI have imported the required classes and have tried executing this code snippets individually with the login code, did&#39;nt worked out.\r\nI would really appreciate if anyone can aid me with the solutions.\r\n\r\n```\r\nraw cookie Value = .sampleCookie=eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA;\r\n\r\nsplit cookie value = eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA\r\n```","title":"Splitting a cookie string and saving the split cookie value in a external csv file in Apache JMeter Selenium Webdriver Sampler","body":"<p>Objective : I wanna &quot;split&quot; the extracted cookie from &quot;;&quot; and save the cookie value in a iterative manner for each user in a csv file, column wise, for my Apache JMeter code in <strong>Selenium Webdriver Sampler</strong> in <strong>java</strong> language.\nI am using a <strong>CSV Dataset config</strong> to fetch the <strong>username</strong> &amp; <strong>password</strong> and would like to save the cookie value in a separate column.</p>\n<p><strong>I am unable to spilt the cookie and save using the following code snippet.</strong></p>\n<p>My code Snippet</p>\n<pre><code>import org.openqa.selenium.*;\nimport org.openqa.selenium.support.ui.*;\nimport org.junit.Assert;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.time.Duration;\nimport java.io.*;\nimport java.util.Arrays;\nimport java.io.FileWriter;\nimport java.util.List;\nimport java.io.Writer;\nimport java.lang.String;\n\n// Login \nString title = driver.getTitle();\nSystem.out.println(title);\nAssert.assertEquals(&quot;Sign in to your account&quot;, title);\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type='email']&quot;)));\ndriver.findElement(By.xpath(&quot;.//input[@type='email']&quot;)).click();\ndriver.findElement(By.xpath(&quot;.//input[@type='email']&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;username&quot;)});\ndriver.findElement(By.xpath(&quot;.//input[@type='submit']&quot;)).click();\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type='password']&quot;)));\ndriver.findElement(By.xpath(&quot;.//input[@type='password']&quot;)).click();\ndriver.findElement(By.xpath(&quot;.//input[@type='password']&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;password&quot;)});\ndriver.findElement(By.xpath(&quot;.//input[@type='submit']&quot;)).click();\nThread.sleep(3000L);\ndriver.findElement(By.xpath(&quot;.//input[@type='button']&quot;)).click();\nThread.sleep(3000L);\n\n// Generating the cookie\nString rawValue = driver.manage().getCookieNamed(&quot;.sampleCookie&quot;);\nSystem.out.println(rawValue);\nWDS.log.info(WDS.vars.get(&quot;rawValue&quot;));\nSystem.out.println(&quot;Login Successful&quot;);\nWDS.log.info(&quot;Login Successful&quot;);\n</code></pre>\n<blockquote>\n<p>I am able to use the above code snippet to generate the cookie, but unable to print in JMeter Log console using\n<strong>WDS.log.info(WDS.vars.get(&quot;rawValue&quot;));</strong></p>\n<p>Info:  2023-02-03 14:34:08,656 INFO c.g.j.p.w.s.WebDriverSampler: null</p>\n</blockquote>\n<p><strong>I am unable to split the cookie via below mentioned code.</strong></p>\n<pre><code>//Splitting the cookie \n\n//Split cookie string from semicolon\nString[] cookie = rawValue.split(&quot;;&quot;);\n</code></pre>\n<blockquote>\n<p>Error:\n2023-02-03 15:38:44,557 ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: <code>import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . '' : Typed variable declaration : Error in method invocation: Method split( java.lang.String ) not found in class'org.openqa.selenium.Cookie' : at Line: 53 : in file: inline evaluation of: </code>import org.openqa.selenium.<em>; import org.openqa.selenium.support.ui.</em>; import or . . . '' : rawValue.split ( &quot;;&quot; )\nin inline evaluation of: ``import org.openqa.selenium.<em>; import org.openqa.selenium.support.ui.</em>;</p>\n</blockquote>\n<p><strong>I am unable to save the split cookie value or the raw cookie Value in that case via below mentioned code.</strong></p>\n<pre><code>//Write the cookie value to a csv file\n\nFileWriter fstream = new FileWriter(&quot;C:\\\\Users\\\\Scripts\\\\TestData\\\\Cookie.csv&quot;,true);\nBufferedWriter out = new BufferedWriter(fstream);\nout.write(WDS.vars.get(&quot;rawValue&quot;));\nout.write(System.getProperty(&quot;line.separator&quot;));\nout.close();\nfstream.close();\n</code></pre>\n<blockquote>\n<p>Error: 2023-02-03 15:45:13,652 ERROR c.g.j.p.w.s.WebDriverSampler:\nSourced file: inline evaluation of: <code>import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . '' : Method Invocation out.write : at Line: 54 : in file: inline evaluation of: </code>import org.openqa.selenium.<em>; import\norg.openqa.selenium.support.ui.</em>; import or . . . '' : out .write (\nWDS .vars .get ( &quot;rawValue&quot; ) )</p>\n<p>Target exception: java.lang.NullPointerException: Cannot invoke\n&quot;String.length()&quot; because &quot;str&quot; is null  in inline evaluation of:\n``import org.openqa.selenium.<em>; import\norg.openqa.selenium.support.ui.</em>;</p>\n</blockquote>\n<p>I have imported the required classes and have tried executing this code snippets individually with the login code, did'nt worked out.\nI would really appreciate if anyone can aid me with the solutions.</p>\n<pre><code>raw cookie Value = .sampleCookie=eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA;\n\nsplit cookie value = eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA\n</code></pre>\n"},{"tags":["java","android-studio","heap-memory"],"comments":[{"owner":{"account_id":7511942,"reputation":1,"user_id":5706602,"display_name":"Mert Adsay"},"score":0,"creation_date":1677081033,"post_id":75334965,"comment_id":133267776,"body_markdown":"I had the same issue and tried this solution and that worked.\nhttps://stackoverflow.com/a/59777137/5706602","body":"I had the same issue and tried this solution and that worked. <a href=\"https://stackoverflow.com/a/59777137/5706602\">stackoverflow.com/a/59777137/5706602</a>"},{"owner":{"account_id":12923330,"reputation":91,"user_id":9344934,"display_name":"PK Chahar"},"score":0,"creation_date":1677134707,"post_id":75334965,"comment_id":133278686,"body_markdown":"Hi @MertAdsay thanks for your answer, I just optimize my code and reinstalled AS worked for me","body":"Hi @MertAdsay thanks for your answer, I just optimize my code and reinstalled AS worked for me"}],"owner":{"account_id":12923330,"reputation":91,"user_id":9344934,"display_name":"PK Chahar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675423139,"creation_date":1675423139,"question_id":75334965,"body_markdown":"here is gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    org.gradle.unsafe.configuration-cache=true\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PB1uH.png","title":"Out of memory. Java heap space after update android studio Eel","body":"<p>here is gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\nandroid.useAndroidX=true\nandroid.enableJetifier=true\norg.gradle.unsafe.configuration-cache=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PB1uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PB1uH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rabbitmq","jms","rabbitmq-exchange"],"owner":{"account_id":27692889,"reputation":1,"user_id":21139220,"display_name":"dinnu.pega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675422977,"creation_date":1675422977,"question_id":75334934,"body_markdown":"I wanted to connect to RabbitMQ existing queue using Java JMS API. But I am getting below exception when I am trying to connect it.\r\n\r\n&gt; Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method\\&lt;channel.close\\&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg &#39;x-dead-letter-exchange&#39; for queue &#39;TestDLXQueue2&#39; in vhost &#39;/&#39;: received none but current is the value &#39;TestDLExchnage&#39; of type &#39;longstr&#39;, class-id=50, method-id=10)\r\n\r\n```\r\nRMQConnectionFactory connFactory = new RMQConnectionFactory();\r\nConnection connection = connFactory.createConnection();\r\nconnection.start();\r\n\r\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nDestination destQueue = session.createQueue(&quot;TestDLXQueue2&quot;);\r\n```\r\n\r\nIf I remove the Queue and run the above snippet it worked but I have to pass the &quot;x-dead-letter-exchange&quot; argument in the RabbitMQ queue but I did not find a method to pass in from the JMS API.\r\n\r\nCan anyone help me to resolve this issue without deleting the Queue?\r\n\r\nI have tried removing the Queue and ran the above snippet it worked, Now I want to connect to the existing RabbitMQ Queue which is configured with &quot;x-dead-letter-exchange&quot; policy.","title":"Cannot connect to RabbitMQ existing queue using Java JMS API","body":"<p>I wanted to connect to RabbitMQ existing queue using Java JMS API. But I am getting below exception when I am trying to connect it.</p>\n<blockquote>\n<p>Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'TestDLXQueue2' in vhost '/': received none but current is the value 'TestDLExchnage' of type 'longstr', class-id=50, method-id=10)</p>\n</blockquote>\n<pre><code>RMQConnectionFactory connFactory = new RMQConnectionFactory();\nConnection connection = connFactory.createConnection();\nconnection.start();\n\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nDestination destQueue = session.createQueue(&quot;TestDLXQueue2&quot;);\n</code></pre>\n<p>If I remove the Queue and run the above snippet it worked but I have to pass the &quot;x-dead-letter-exchange&quot; argument in the RabbitMQ queue but I did not find a method to pass in from the JMS API.</p>\n<p>Can anyone help me to resolve this issue without deleting the Queue?</p>\n<p>I have tried removing the Queue and ran the above snippet it worked, Now I want to connect to the existing RabbitMQ Queue which is configured with &quot;x-dead-letter-exchange&quot; policy.</p>\n"},{"tags":["java","jakarta-ee"],"comments":[{"owner":{"account_id":3688125,"reputation":592,"user_id":3071446,"accept_rate":75,"display_name":"fasaas"},"score":1,"creation_date":1539517097,"post_id":52802212,"comment_id":92523108,"body_markdown":"They for sure would use an IDE, and for Java to be executed, they would have written some tests I believe (I hope more so). So they would actually know which java version they are dealing with","body":"They for sure would use an IDE, and for Java to be executed, they would have written some tests I believe (I hope more so). So they would actually know which java version they are dealing with"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1539517332,"post_id":52802212,"comment_id":92523168,"body_markdown":"It depends on the artifact you have at hand. If you have the source projects, you can see the dependencies. If you have the binaries, then you can look at the manifest in jar files to see at least the JDK that built it. For JEE components, you can look at deployment descriptors (`web.xml`, `application.xml` will typically declare the version of the specification in top-level elements).","body":"It depends on the artifact you have at hand. If you have the source projects, you can see the dependencies. If you have the binaries, then you can look at the manifest in jar files to see at least the JDK that built it. For JEE components, you can look at deployment descriptors (<code>web.xml</code>, <code>application.xml</code> will typically declare the version of the specification in top-level elements)."}],"answers":[{"tags":[],"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539519410,"creation_date":1539519410,"answer_id":52802542,"question_id":52802212,"body_markdown":"If you want to know which version of Java was used to compile the class, you can use `javap`, available in the JRE and JDK. It reads your class bytecode and tells you the version.\r\n\r\n`javap -v out/com/kineolyan/tzio/diffs/Main.class` gives you:\r\n\r\n    Classfile /mnt/Grishka/Projets/project-tz-io/out/com/kineolyan/tzio/diffs/Main.class\r\n      Last modified 9 oct. 2018; size 1806 bytes\r\n      MD5 checksum 26b264396d74f1a68032bf5cd17aab09\r\n    final class com.kineolyan.tzio.diffs.Main\r\n      minor version: 0\r\n      major version: 53\r\n      flags: (0x0030) ACC_FINAL, ACC_SUPER\r\n      ....\r\n\r\nSee [this page][1] to match major and minor versions to standard names. For example, 53.0 is Java9.\r\n\r\n  [1]: https://www.wikiwand.com/en/Java_class_file#/General_layout","title":"how to identify the java version in which the code is written?","body":"<p>If you want to know which version of Java was used to compile the class, you can use <code>javap</code>, available in the JRE and JDK. It reads your class bytecode and tells you the version.</p>\n\n<p><code>javap -v out/com/kineolyan/tzio/diffs/Main.class</code> gives you:</p>\n\n<pre><code>Classfile /mnt/Grishka/Projets/project-tz-io/out/com/kineolyan/tzio/diffs/Main.class\n  Last modified 9 oct. 2018; size 1806 bytes\n  MD5 checksum 26b264396d74f1a68032bf5cd17aab09\nfinal class com.kineolyan.tzio.diffs.Main\n  minor version: 0\n  major version: 53\n  flags: (0x0030) ACC_FINAL, ACC_SUPER\n  ....\n</code></pre>\n\n<p>See <a href=\"https://www.wikiwand.com/en/Java_class_file#/General_layout\" rel=\"noreferrer\">this page</a> to match major and minor versions to standard names. For example, 53.0 is Java9.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657847722,"creation_date":1539520773,"answer_id":52802731,"question_id":52802212,"body_markdown":"&gt; How can we identify the version of Core Java/Java EE in which that project was developed? \r\n\r\n(Note that &quot;developed for&quot; and &quot;runs on&quot; are different questions.  I am answering the former ... which is what was asked.)\r\n\r\nThere is no 100% reliable way to do it.  \r\n\r\n  - If the project is built using Maven or Gradle, the project&#39;s declared dependencies (in the build files) will list specific versions of the Java EE APIs, and (typically) specific Java source and target version.\r\n\r\n  - There probably be similar clues in an Ant build file, though in the case of dependencies you will be relying on clues in the pathnames of classpath entries ... which may not be there.\r\n\r\n  - For Java EE, there may be clues in the namespace URLs used the XML files; e.g. `web.xml`, `application.xml`.\r\n\r\n  - If the previous don&#39;t help, then you could test compile the codebase with various JDKs and against various Java EE APIs.  That should narrow down the range of versions that the codebase is *compatible* with.\r\n\r\n  - If you have existing `.class` files, then `javap` can tell you the target bytecode version that was used when building; see [this answer](https://stackoverflow.com/a/52802542/139985).  However, this is not a reliable indicator, because it doesn&#39;t tell you what version of Java the codebase was *developed* for.\r\n\r\n------------------\r\n\r\nIf you want to find out which version or versions of Java a project is actually compatible with or actually runs on, the only way to find out *for sure* is to test it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52802542/139985","title":"how to identify the java version in which the code is written?","body":"<blockquote>\n<p>How can we identify the version of Core Java/Java EE in which that project was developed?</p>\n</blockquote>\n<p>(Note that &quot;developed for&quot; and &quot;runs on&quot; are different questions.  I am answering the former ... which is what was asked.)</p>\n<p>There is no 100% reliable way to do it.</p>\n<ul>\n<li><p>If the project is built using Maven or Gradle, the project's declared dependencies (in the build files) will list specific versions of the Java EE APIs, and (typically) specific Java source and target version.</p>\n</li>\n<li><p>There probably be similar clues in an Ant build file, though in the case of dependencies you will be relying on clues in the pathnames of classpath entries ... which may not be there.</p>\n</li>\n<li><p>For Java EE, there may be clues in the namespace URLs used the XML files; e.g. <code>web.xml</code>, <code>application.xml</code>.</p>\n</li>\n<li><p>If the previous don't help, then you could test compile the codebase with various JDKs and against various Java EE APIs.  That should narrow down the range of versions that the codebase is <em>compatible</em> with.</p>\n</li>\n<li><p>If you have existing <code>.class</code> files, then <code>javap</code> can tell you the target bytecode version that was used when building; see <a href=\"https://stackoverflow.com/a/52802542/139985\">this answer</a>.  However, this is not a reliable indicator, because it doesn't tell you what version of Java the codebase was <em>developed</em> for.</p>\n</li>\n</ul>\n<hr />\n<p>If you want to find out which version or versions of Java a project is actually compatible with or actually runs on, the only way to find out <em>for sure</em> is to test it.</p>\n"},{"tags":[],"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1605860387,"creation_date":1605860387,"answer_id":64926006,"question_id":52802212,"body_markdown":"## To check the java version of a project (if build using maven) ##\r\n\r\n 1. go to  pom.xml\r\n 2. check **properties**\r\n 3. java.version\r\n\r\nthe code look like this\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;org.la.ecom.portal.teacher.EcommercePortalTeacherApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\r\n","title":"how to identify the java version in which the code is written?","body":"<h2>To check the java version of a project (if build using maven)</h2>\n<ol>\n<li>go to  pom.xml</li>\n<li>check <strong>properties</strong></li>\n<li>java.version</li>\n</ol>\n<p>the code look like this</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;start-class&gt;org.la.ecom.portal.teacher.EcommercePortalTeacherApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111800,"reputation":3869,"user_id":4767939,"display_name":"Nick Tsai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422847,"creation_date":1675422847,"answer_id":75334908,"question_id":52802212,"body_markdown":"To check the java compatible version of a project built by **Gradle**\r\n\r\nGo to `build.gradle` file and search for:\r\n\r\n    sourceCompatibility = &#39;{version}&#39;","title":"how to identify the java version in which the code is written?","body":"<p>To check the java compatible version of a project built by <strong>Gradle</strong></p>\n<p>Go to <code>build.gradle</code> file and search for:</p>\n<pre><code>sourceCompatibility = '{version}'\n</code></pre>\n"}],"owner":{"account_id":13647724,"reputation":289,"user_id":10430303,"display_name":"lea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20417,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1675422847,"creation_date":1539516810,"question_id":52802212,"body_markdown":"Let&#39;s say a banking application was developed in Java EE. And we are the new people working on that application now, not sure about the version of the Java EE used to develop that application. \r\n\r\n\r\nHow can we identify the version of Core Java/Java EE in which that project was developed? \r\n","title":"how to identify the java version in which the code is written?","body":"<p>Let's say a banking application was developed in Java EE. And we are the new people working on that application now, not sure about the version of the Java EE used to develop that application. </p>\n\n<p>How can we identify the version of Core Java/Java EE in which that project was developed? </p>\n"},{"tags":["java","deeplearning4j","dl4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675419051,"post_id":75333691,"comment_id":132929334,"body_markdown":"Could you elaborate on your situation a bit? It&#39;s hard to tell much from the stack trace. Are you bundling it in an uber jar? A full payara server? When executing it appears something ends up being missing. That array out of bounds error also looks very weird. I&#39;ve never seen that before. This is likely the side effect of something special in your server. I&#39;ll need to reproduce it though. If you want please file an issue on https://github.com/deeplearning4j/deeplearning4j/issues and I can take a closer look.","body":"Could you elaborate on your situation a bit? It&#39;s hard to tell much from the stack trace. Are you bundling it in an uber jar? A full payara server? When executing it appears something ends up being missing. That array out of bounds error also looks very weird. I&#39;ve never seen that before. This is likely the side effect of something special in your server. I&#39;ll need to reproduce it though. If you want please file an issue on <a href=\"https://github.com/deeplearning4j/deeplearning4j/issues\" rel=\"nofollow noreferrer\">github.com/deeplearning4j/deeplearning4j/issues</a> and I can take a closer look."},{"owner":{"account_id":21188911,"reputation":1,"user_id":15581746,"display_name":"ThomasVoss"},"score":0,"creation_date":1675422286,"post_id":75333691,"comment_id":132930338,"body_markdown":"Dear Adam, I am packing the application as ear-File, having the DL4J Libraries on a provided scope in the POM. The place where the functions are being called is a stateless EJB Service, implementing a Local and a Remote Interface. The OS of the machine is a &quot;CentOS Linux 8&quot;. The Payara Server is Version 5.193.1 #badassfish (build 275).  I&#39;ll open a ticket as you suggested and try to provide an example to reproduce. I have adjusted the origrinal question.","body":"Dear Adam, I am packing the application as ear-File, having the DL4J Libraries on a provided scope in the POM. The place where the functions are being called is a stateless EJB Service, implementing a Local and a Remote Interface. The OS of the machine is a &quot;CentOS Linux 8&quot;. The Payara Server is Version 5.193.1 #badassfish (build 275).  I&#39;ll open a ticket as you suggested and try to provide an example to reproduce. I have adjusted the origrinal question."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675422822,"post_id":75333691,"comment_id":132930505,"body_markdown":"Yes please do. This is a bit of an odd use case. At a minimum dl4j expects certain resources to be present locally.","body":"Yes please do. This is a bit of an odd use case. At a minimum dl4j expects certain resources to be present locally."}],"owner":{"account_id":21188911,"reputation":1,"user_id":15581746,"display_name":"ThomasVoss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675422641,"creation_date":1675415956,"question_id":75333691,"body_markdown":"I have a MultiLayerNetwork which is loaded in an application which is loaded on a payara server. \r\nThe model loads fine but on requesting an output on a INDArray I receive a RuntimeException. \r\n\r\nThe system I&#39;m working on seems to work fine during the initialization:\r\n```\r\norg.nd4j.linalg.factory.Nd4jBackend - Loaded [CpuBackend] backend\r\norg.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 4\r\norg.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory - Binary level Generic x86 optimization level AVX512\r\norg.nd4j.nativeblas.Nd4jBlas - Number of threads used for OpenMP BLAS: 8\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CPU]; OS: [Linux]\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [16]; Memory: [7,1GB]\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [OPENBLAS]\r\n\r\norg.nd4j.linalg.cpu.nativecpu.CpuBackend - Backend build information:\r\n GCC: &quot;7.5.0&quot;\r\nSTD version: 201103L\r\nDEFAULT_ENGINE: samediff::ENGINE_CPU\r\nHAVE_FLATBUFFERS\r\nHAVE_OPENBLAS\r\n\r\norg.deeplearning4j.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\r\n\r\n```\r\n\r\nRequesting a prediction results in:\r\n\r\n```\r\nERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op matmul. Attempted to execute with 2 inputs, 1 outputs, 2 targs,0 bargs and 3 iargs. Inputs: [(FLOAT,[1,9],c), (FLOAT,[9,400],f)]. Outputs: [(FLOAT,[1,400],f)]. tArgs: [1.0, 0.0]. iArgs: [0, 0, 0]. bArgs: -. Op own name: &quot;81f000d9-6011-4d1f-adc4-af57fb7d11e6&quot; - Please see above message (printed out from c++) for a possible cause of error.\r\n\r\n```\r\n\r\nwith the following stack trace:\r\n\r\n\r\n```\r\njava.lang.RuntimeException: Op [matmul] execution failed\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1561) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.factory.Nd4j.exec(Nd4j.java:6522) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.blas.impl.BaseLevel3.gemm(BaseLevel3.java:62) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.ndarray.BaseNDArray.mmuli(BaseNDArray.java:3194) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutputWithPreNorm(BaseLayer.java:322) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutput(BaseLayer.java:295) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.activate(BaseLayer.java:343) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.AbstractLayer.activate(AbstractLayer.java:262) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1341) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2453) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2416) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2407) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2394) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2490) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at com.[****].lambda$nnRegression$1(myCustomJavaClass.java:264)\r\n\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getCustomOperations(NativeOpExecutioner.java:1365) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.ops.DynamicCustomOp.opHash(DynamicCustomOp.java:392) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1900) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1540) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        ... 139 more\r\n\r\n```\r\n\r\n\r\nI have generated a MVP running the DL4J functions in a standalone application and the loading of the model as well as the inference work fine. I would expect the same behavior on the application server. \r\n\r\n\r\n```\r\nMultiLayerNetwork net = MultiLayerNetwork.load(nn, false);\r\nList&lt;Integer&gt; obsList = new ArrayList&lt;&gt;();\r\n\r\nobsList.add(1);obsList.add(18);\r\nobsList.add(1);obsList.add(24);\r\nobsList.add(1);obsList.add(15);\r\nobsList.add(1);obsList.add(13);\r\nobsList.add(2);\r\n\r\nint[] obsArray = obsList.stream().mapToInt(Integer::intValue).toArray();\r\nint[][] flat = new int[][] { obsArray };\r\n\r\nINDArray test = Nd4j.create(flat);\r\nINDArray y = net.output(test); // &lt;---- THIS IS WHERE THE ERROR OCCURS\r\n```\r\n\r\nThe application is packed in an ear-file, the dl4j depedencies are declared as provided in the POM.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nThe server running this application is a Cent OS 8 with a Payara Server 5.193.1 #badassfish (build 275). \r\n\r\nUsing the same pattern results in the given stacktrace on the application server.  I&#39;m wondering what might cause the error.","title":"Using DL4J in web application - RuntimeException: Op [matmul] execution failed","body":"<p>I have a MultiLayerNetwork which is loaded in an application which is loaded on a payara server.\nThe model loads fine but on requesting an output on a INDArray I receive a RuntimeException.</p>\n<p>The system I'm working on seems to work fine during the initialization:</p>\n<pre><code>org.nd4j.linalg.factory.Nd4jBackend - Loaded [CpuBackend] backend\norg.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 4\norg.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory - Binary level Generic x86 optimization level AVX512\norg.nd4j.nativeblas.Nd4jBlas - Number of threads used for OpenMP BLAS: 8\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CPU]; OS: [Linux]\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [16]; Memory: [7,1GB]\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [OPENBLAS]\n\norg.nd4j.linalg.cpu.nativecpu.CpuBackend - Backend build information:\n GCC: &quot;7.5.0&quot;\nSTD version: 201103L\nDEFAULT_ENGINE: samediff::ENGINE_CPU\nHAVE_FLATBUFFERS\nHAVE_OPENBLAS\n\norg.deeplearning4j.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\n\n</code></pre>\n<p>Requesting a prediction results in:</p>\n<pre><code>ERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op matmul. Attempted to execute with 2 inputs, 1 outputs, 2 targs,0 bargs and 3 iargs. Inputs: [(FLOAT,[1,9],c), (FLOAT,[9,400],f)]. Outputs: [(FLOAT,[1,400],f)]. tArgs: [1.0, 0.0]. iArgs: [0, 0, 0]. bArgs: -. Op own name: &quot;81f000d9-6011-4d1f-adc4-af57fb7d11e6&quot; - Please see above message (printed out from c++) for a possible cause of error.\n\n</code></pre>\n<p>with the following stack trace:</p>\n<pre><code>java.lang.RuntimeException: Op [matmul] execution failed\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1561) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.factory.Nd4j.exec(Nd4j.java:6522) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.blas.impl.BaseLevel3.gemm(BaseLevel3.java:62) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.ndarray.BaseNDArray.mmuli(BaseNDArray.java:3194) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutputWithPreNorm(BaseLayer.java:322) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutput(BaseLayer.java:295) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.activate(BaseLayer.java:343) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.AbstractLayer.activate(AbstractLayer.java:262) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1341) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2453) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2416) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2407) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2394) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2490) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at com.[****].lambda$nnRegression$1(myCustomJavaClass.java:264)\n\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getCustomOperations(NativeOpExecutioner.java:1365) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.ops.DynamicCustomOp.opHash(DynamicCustomOp.java:392) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1900) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1540) ~[nd4j-native-1.0.0-M2.jar:?]\n        ... 139 more\n\n</code></pre>\n<p>I have generated a MVP running the DL4J functions in a standalone application and the loading of the model as well as the inference work fine. I would expect the same behavior on the application server.</p>\n<pre><code>MultiLayerNetwork net = MultiLayerNetwork.load(nn, false);\nList&lt;Integer&gt; obsList = new ArrayList&lt;&gt;();\n\nobsList.add(1);obsList.add(18);\nobsList.add(1);obsList.add(24);\nobsList.add(1);obsList.add(15);\nobsList.add(1);obsList.add(13);\nobsList.add(2);\n\nint[] obsArray = obsList.stream().mapToInt(Integer::intValue).toArray();\nint[][] flat = new int[][] { obsArray };\n\nINDArray test = Nd4j.create(flat);\nINDArray y = net.output(test); // &lt;---- THIS IS WHERE THE ERROR OCCURS\n</code></pre>\n<p>The application is packed in an ear-file, the dl4j depedencies are declared as provided in the POM.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The server running this application is a Cent OS 8 with a Payara Server 5.193.1 #badassfish (build 275).</p>\n<p>Using the same pattern results in the given stacktrace on the application server.  I'm wondering what might cause the error.</p>\n"},{"tags":["java","spring-boot","junit","spring-boot-actuator"],"comments":[{"owner":{"account_id":2642430,"reputation":199,"user_id":2285809,"display_name":"WHGIBBO"},"score":0,"creation_date":1469113682,"post_id":38505434,"comment_id":64413806,"body_markdown":"So adding some tracing logging for the success and failing cases.  In the success case I see the following:  \n`TRACE [Test worker] --- org.springframework.test.web.servlet.TestDispatcherServlet: Testing handler map [org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping@2281521a] in DispatcherServlet with name `  \n  \nThis is missing in the failing case..  So I can only assume that I&#39;m using the wrong value for   \n\n`MockMvcBuilders.webAppContextSetup(this.context)`","body":"So adding some tracing logging for the success and failing cases.  In the success case I see the following:   <code>TRACE [Test worker] --- org.springframework.test.web.servlet.TestDispatcherServlet: Testing handler map [org.springframework.boot.actuate.endpoint.mvc.EndpointHandl&zwnj;&#8203;erMapping@2281521a] in DispatcherServlet with name </code>      This is missing in the failing case..  So I can only assume that I&#39;m using the wrong value for     <code>MockMvcBuilders.webAppContextSetup(this.context)</code>"}],"answers":[{"tags":[],"owner":{"account_id":3029576,"reputation":1865,"user_id":2568885,"display_name":"binoternary"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488957533,"creation_date":1488877344,"answer_id":42644044,"question_id":38505434,"body_markdown":"Try using \r\n \r\n    @SpringBootTest(properties = {&quot;management.port=&quot;})\r\n\r\n\r\nProperties defined in the `@SpringBootTest` annotation have a [higher precedence][1] than those in application properties. `&quot;management.port=&quot;` will &quot;unset&quot; the `management.port` property.  \r\nThis way you don&#39;t have to worry about configuring the port in your tests.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html &quot;title&quot;","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Try using </p>\n\n<pre><code>@SpringBootTest(properties = {\"management.port=\"})\n</code></pre>\n\n<p>Properties defined in the <code>@SpringBootTest</code> annotation have a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\" title=\"title\">higher precedence</a> than those in application properties. <code>\"management.port=\"</code> will \"unset\" the <code>management.port</code> property.<br>\nThis way you don't have to worry about configuring the port in your tests.</p>\n"},{"tags":[],"owner":{"account_id":2234801,"reputation":1443,"user_id":1971503,"accept_rate":57,"display_name":"Viswanath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497861203,"creation_date":1497861203,"answer_id":44625695,"question_id":38505434,"body_markdown":"Did you try adding the following annotation to your test class? \r\n\r\n    @TestPropertySource(properties = {&quot;management.port=0&quot;})\r\n\r\n[Check the following link for reference][1]. \r\n\r\n\r\n  [1]: https://spring.io/guides/gs/actuator-service/#_test_your_application","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Did you try adding the following annotation to your test class? </p>\n\n<pre><code>@TestPropertySource(properties = {\"management.port=0\"})\n</code></pre>\n\n<p><a href=\"https://spring.io/guides/gs/actuator-service/#_test_your_application\" rel=\"nofollow noreferrer\">Check the following link for reference</a>. </p>\n"},{"tags":[],"owner":{"account_id":313776,"reputation":116,"user_id":628588,"display_name":"flob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509441377,"creation_date":1509441377,"answer_id":47031727,"question_id":38505434,"body_markdown":"Had the same issue, you just have to make the management.port null by adding this in your application-test.properties (set it to empty value)\r\n\r\n    management.port=\r\n\r\nMake sure you use the test profile in your JUnit by annotating the class with\r\n\r\n    @ActiveProfiles(&quot;test&quot;)","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Had the same issue, you just have to make the management.port null by adding this in your application-test.properties (set it to empty value)</p>\n\n<pre><code>management.port=\n</code></pre>\n\n<p>Make sure you use the test profile in your JUnit by annotating the class with</p>\n\n<pre><code>@ActiveProfiles(\"test\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5309294,"reputation":51,"user_id":4236190,"display_name":"MirzaM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633270702,"creation_date":1522923571,"answer_id":49669904,"question_id":38505434,"body_markdown":"For Spring boot test we need to specify the port it needs to connect to.\r\n\r\nBy default, it connects to `server.port` which in case of actuators is different. \r\n\r\nThis can be done by \r\n\r\n    @SpringBootTest(properties = &quot;server.port=8090&quot;)\r\n\r\n\r\n----------\r\n\r\n\r\nin `application.properties` we specify the management port as below\r\n\r\n    ...\r\n    management.server.port=8090\r\n    ...\r\n\r\n\r\n","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>For Spring boot test we need to specify the port it needs to connect to.</p>\n<p>By default, it connects to <code>server.port</code> which in case of actuators is different.</p>\n<p>This can be done by</p>\n<pre><code>@SpringBootTest(properties = &quot;server.port=8090&quot;)\n</code></pre>\n<hr />\n<p>in <code>application.properties</code> we specify the management port as below</p>\n<pre><code>...\nmanagement.server.port=8090\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12582917,"reputation":227,"user_id":9152953,"accept_rate":0,"display_name":"Diamond"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531660055,"creation_date":1531660055,"answer_id":51348699,"question_id":38505434,"body_markdown":"Isn&#39;t there an error in the property name?\r\nShouldn&#39;t be\r\n`@TestPropertySource(properties = {&quot;management.server.port=...&quot;})` instead of  `@TestPropertySource(properties = {&quot;management.port=..&quot;})`","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Isn't there an error in the property name?\nShouldn't be\n<code>@TestPropertySource(properties = {\"management.server.port=...\"})</code> instead of  <code>@TestPropertySource(properties = {\"management.port=..\"})</code></p>\n"},{"tags":[],"owner":{"account_id":305881,"reputation":5247,"user_id":616290,"accept_rate":57,"display_name":"Dmytro Boichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561467724,"creation_date":1561466107,"answer_id":56754203,"question_id":38505434,"body_markdown":"For Spring Boot 2.x the integration tests configuration could be simplified.\r\n\r\nFor example simple custom `heartbeat` endpoint\r\n\r\n    @Component\r\n    @Endpoint(id = &quot;heartbeat&quot;)\r\n    public class HeartbeatEndpoint {\r\n    \r\n        @ReadOperation\r\n        public String heartbeat() {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nWhere integration test for this endpoint\r\n\r\n    @SpringBootTest(\r\n            classes = HeartbeatEndpointTest.Config.class,\r\n            properties = {\r\n                    &quot;management.endpoint.heartbeat.enabled=true&quot;,\r\n                    &quot;management.endpoints.web.exposure.include=heartbeat&quot;\r\n            })\r\n    @AutoConfigureMockMvc\r\n    @EnableAutoConfiguration\r\n    class HeartbeatEndpointTest {\r\n    \r\n        private static final String ENDPOINT_PATH = &quot;/actuator/heartbeat&quot;;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Test\r\n        void testHeartbeat() throws Exception {\r\n            mockMvc\r\n                    .perform(get(ENDPOINT_PATH))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().string(&quot;&quot;));\r\n        }\r\n    \r\n        @Configuration\r\n        @Import(ProcessorTestConfig.class)\r\n        static class Config {\r\n    \r\n            @Bean\r\n            public HeartbeatEndpoint heartbeatEndpoint() {\r\n                return new HeartbeatEndpoint();\r\n            }\r\n    \r\n        }\r\n    \r\n    }    ","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>For Spring Boot 2.x the integration tests configuration could be simplified.</p>\n\n<p>For example simple custom <code>heartbeat</code> endpoint</p>\n\n<pre><code>@Component\n@Endpoint(id = \"heartbeat\")\npublic class HeartbeatEndpoint {\n\n    @ReadOperation\n    public String heartbeat() {\n        return \"\";\n    }\n}\n</code></pre>\n\n<p>Where integration test for this endpoint</p>\n\n<pre><code>@SpringBootTest(\n        classes = HeartbeatEndpointTest.Config.class,\n        properties = {\n                \"management.endpoint.heartbeat.enabled=true\",\n                \"management.endpoints.web.exposure.include=heartbeat\"\n        })\n@AutoConfigureMockMvc\n@EnableAutoConfiguration\nclass HeartbeatEndpointTest {\n\n    private static final String ENDPOINT_PATH = \"/actuator/heartbeat\";\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void testHeartbeat() throws Exception {\n        mockMvc\n                .perform(get(ENDPOINT_PATH))\n                .andExpect(status().isOk())\n                .andExpect(content().string(\"\"));\n    }\n\n    @Configuration\n    @Import(ProcessorTestConfig.class)\n    static class Config {\n\n        @Bean\n        public HeartbeatEndpoint heartbeatEndpoint() {\n            return new HeartbeatEndpoint();\n        }\n\n    }\n\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626098752,"creation_date":1626098752,"answer_id":68348789,"question_id":38505434,"body_markdown":"I was facing the same issue and tried several things but this is how I was able to solve mine without making any change in the `application.yaml`\r\n\r\nSample actuator endpoint\r\n```\r\n@Component\r\n@RestControllerEndpoint(id = &quot;endpoint&quot;)\r\npublic class SampleEndpoint\r\n{\r\n    @GetMapping\r\n    public String sampleEndpoint(){\r\n      return &quot;&quot;\r\n    }\r\n}\r\n```\r\n\r\nUnit test case\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(\r\n    classes = {SampleEndpointTest.Config.class},\r\n    properties = {&quot;management.server.port=&quot;}\r\n)\r\n@AutoConfigureMockMvc\r\npublic class SampleEndpointTest\r\n{\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @SpringBootApplication(scanBasePackageClasses = {SampleEndpoint.class})\r\n    public static class Config\r\n    {\r\n    }\r\n\r\n    @Test\r\n    public void testSampleEndpoint() throws Exception\r\n    {\r\n\r\n        mockMvc.perform(\r\n            MockMvcRequestBuilders.get(&quot;/actuator/enpoint&quot;).accept(APPLICATION_JSON)\r\n        ).andExpect(status().isOk());\r\n    }\r\n```","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>I was facing the same issue and tried several things but this is how I was able to solve mine without making any change in the <code>application.yaml</code></p>\n<p>Sample actuator endpoint</p>\n<pre><code>@Component\n@RestControllerEndpoint(id = &quot;endpoint&quot;)\npublic class SampleEndpoint\n{\n    @GetMapping\n    public String sampleEndpoint(){\n      return &quot;&quot;\n    }\n}\n</code></pre>\n<p>Unit test case</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(\n    classes = {SampleEndpointTest.Config.class},\n    properties = {&quot;management.server.port=&quot;}\n)\n@AutoConfigureMockMvc\npublic class SampleEndpointTest\n{\n    @Autowired\n    private MockMvc mockMvc;\n\n    @SpringBootApplication(scanBasePackageClasses = {SampleEndpoint.class})\n    public static class Config\n    {\n    }\n\n    @Test\n    public void testSampleEndpoint() throws Exception\n    {\n\n        mockMvc.perform(\n            MockMvcRequestBuilders.get(&quot;/actuator/enpoint&quot;).accept(APPLICATION_JSON)\n        ).andExpect(status().isOk());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23177870,"reputation":31,"user_id":17276100,"display_name":"gosshys"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635475599,"creation_date":1635475599,"answer_id":69763021,"question_id":38505434,"body_markdown":"The guide stated that this can be achieved with @AutoConfigureMetrics.\r\nAnd I moved with this.\r\n\r\n&gt; Regardless of your classpath, meter registries, except the in-memory backed, are not auto-configured when using @SpringBootTest.\r\n&gt; If you need to export metrics to a different backend as part of an integration test, annotate it with @AutoConfigureMetrics.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>The guide stated that this can be achieved with @AutoConfigureMetrics.\nAnd I moved with this.</p>\n<blockquote>\n<p>Regardless of your classpath, meter registries, except the in-memory backed, are not auto-configured when using @SpringBootTest.\nIf you need to export metrics to a different backend as part of an integration test, annotate it with @AutoConfigureMetrics.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics</a></p>\n"},{"tags":[],"owner":{"account_id":16459737,"reputation":11,"user_id":11891098,"display_name":"Mike Ballesteros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639789756,"creation_date":1639789756,"answer_id":70400297,"question_id":38505434,"body_markdown":"Since now info endpoint must be enabled manually make sure the SpringBootTest tag includes this in properties, like this: \r\n\r\n    @SpringBootTest(\r\n            properties = {\r\n                    &quot;management.info.env.enabled=true&quot; ,\r\n                    &quot;management.endpoints.web.exposure.include=info, health&quot;\r\n            })","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Since now info endpoint must be enabled manually make sure the SpringBootTest tag includes this in properties, like this:</p>\n<pre><code>@SpringBootTest(\n        properties = {\n                &quot;management.info.env.enabled=true&quot; ,\n                &quot;management.endpoints.web.exposure.include=info, health&quot;\n        })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661256497,"creation_date":1661256497,"answer_id":73458474,"question_id":38505434,"body_markdown":"I had this problem recently, and as none of the above answers made any sense to me, I decided to do a bit more reading. In my case, I had already defined both `server.port` and `management.server.port` as `8091` in my test `application-test.yaml` file, and could not understand why my test was getting a `connection refused` error message. \r\n\r\nIt turns out that instead of using the annotation `@SpringBootTest()` I needed to use `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)` - which causes the port numbers in the yaml file to be used. This is briefly discussed in the [manual][1]. Quoting the relevant section:\r\n\r\n&gt; DEFINED_PORT — Loads an EmbeddedWebApplicationContext and provides a real servlet environment. Embedded servlet containers are started and listening on a defined port (i.e from your application.properties or on the default port 8080).\r\n\r\nIt seems in `SpringBootTest` the default is to avoid starting a real servlet environment, and if no `WebEnvironment` is explicitly specified then `SpringBootTest.WebEnvironment.MOCK` is used as a default.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-testing.html","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>I had this problem recently, and as none of the above answers made any sense to me, I decided to do a bit more reading. In my case, I had already defined both <code>server.port</code> and <code>management.server.port</code> as <code>8091</code> in my test <code>application-test.yaml</code> file, and could not understand why my test was getting a <code>connection refused</code> error message.</p>\n<p>It turns out that instead of using the annotation <code>@SpringBootTest()</code> I needed to use <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)</code> - which causes the port numbers in the yaml file to be used. This is briefly discussed in the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">manual</a>. Quoting the relevant section:</p>\n<blockquote>\n<p>DEFINED_PORT — Loads an EmbeddedWebApplicationContext and provides a real servlet environment. Embedded servlet containers are started and listening on a defined port (i.e from your application.properties or on the default port 8080).</p>\n</blockquote>\n<p>It seems in <code>SpringBootTest</code> the default is to avoid starting a real servlet environment, and if no <code>WebEnvironment</code> is explicitly specified then <code>SpringBootTest.WebEnvironment.MOCK</code> is used as a default.</p>\n"},{"tags":[],"owner":{"account_id":2687276,"reputation":302,"user_id":2321414,"accept_rate":100,"display_name":"Wouter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422265,"creation_date":1675422265,"answer_id":75334796,"question_id":38505434,"body_markdown":"After a long search: There is this nice Springboot annotation called `@LocalManagementPort`!\r\n\r\nIt works similar to `@LocalServerPort` but for actuator endpoins.\r\n\r\nAn example config would look as follows\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class MetricsIT {\r\n\r\n    @Autowired\r\n    RestTemplateBuilder restTemplateBuilder;\r\n\r\n    @LocalManagementPort\r\n    int managementPort;\r\n\r\n    @Test\r\n    public void testMetrics(){\r\n        ResponseEntity&lt;String&gt; response = restTemplateBuilder\r\n            .rootUri(&quot;http://localhost:&quot; + managementPort + &quot;/actuator&quot;)\r\n            .build().exchange(&quot;/metrics&quot;, HttpMethod.GET, new HttpEntity&lt;&gt;(null), String.class);\r\n    }\r\n}\r\n","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>After a long search: There is this nice Springboot annotation called <code>@LocalManagementPort</code>!</p>\n<p>It works similar to <code>@LocalServerPort</code> but for actuator endpoins.</p>\n<p>An example config would look as follows</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MetricsIT {\n\n    @Autowired\n    RestTemplateBuilder restTemplateBuilder;\n\n    @LocalManagementPort\n    int managementPort;\n\n    @Test\n    public void testMetrics(){\n        ResponseEntity&lt;String&gt; response = restTemplateBuilder\n            .rootUri(&quot;http://localhost:&quot; + managementPort + &quot;/actuator&quot;)\n            .build().exchange(&quot;/metrics&quot;, HttpMethod.GET, new HttpEntity&lt;&gt;(null), String.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2642430,"reputation":199,"user_id":2285809,"display_name":"WHGIBBO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24378,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":11,"score":19,"last_activity_date":1675422265,"creation_date":1469107245,"question_id":38505434,"body_markdown":"recently I changed my spring boot properties to define a management port.\r\nIn doing so, my unit tests started to fail :(\r\n\r\nI wrote a unit test that tested the **/metrics** endpoint as follows:\r\n\r\n    @RunWith (SpringRunner.class)\r\n    @DirtiesContext\r\n    @SpringBootTest\r\n    public class MetricsTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext context;\r\n    \r\n        private MockMvc mvc;\r\n    \r\n        /**\r\n         * Called before each test.\r\n         */\r\n        @Before\r\n        public void setUp() {\r\n            this.context.getBean(MetricsEndpoint.class).setEnabled(true);\r\n            this.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\r\n        }\r\n    \r\n        /**\r\n         * Test for home page.\r\n         *\r\n         * @throws Exception On failure.\r\n         */\r\n        @Test\r\n        public void home()\r\n                throws Exception {\r\n            this.mvc.perform(MockMvcRequestBuilders.get(&quot;/metrics&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }        \r\n\r\nPreviously this was passing.  After adding:\r\n\r\n    management.port=9001\r\n\r\nThe tests started failing with:\r\n\r\n    home Failed: java.lang.AssertionError: Status expected: &lt;200&gt; but was: &lt;404&gt;\r\n\r\n\r\nI tried changing the @SpringBootTest annotation with:\r\n\r\n    @SpringBootTest (properties = {&quot;management.port=&lt;server.port&gt;&quot;})\r\n\r\nWhere &lt;server.port&gt; is the number used for the server.port.  This didn&#39;t seem to make any difference.\r\n\r\nSo then changed the management.port value in the property file to be the same as the server.port.  Same result.\r\n\r\nThe only way to get the test to work is remove the management.port from the property file.\r\n\r\nAny suggestions/thoughts ?\r\n\r\nThanks","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>recently I changed my spring boot properties to define a management port.\nIn doing so, my unit tests started to fail :(</p>\n\n<p>I wrote a unit test that tested the <strong>/metrics</strong> endpoint as follows:</p>\n\n<pre><code>@RunWith (SpringRunner.class)\n@DirtiesContext\n@SpringBootTest\npublic class MetricsTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    /**\n     * Called before each test.\n     */\n    @Before\n    public void setUp() {\n        this.context.getBean(MetricsEndpoint.class).setEnabled(true);\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\n    }\n\n    /**\n     * Test for home page.\n     *\n     * @throws Exception On failure.\n     */\n    @Test\n    public void home()\n            throws Exception {\n        this.mvc.perform(MockMvcRequestBuilders.get(\"/metrics\"))\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}        \n</code></pre>\n\n<p>Previously this was passing.  After adding:</p>\n\n<pre><code>management.port=9001\n</code></pre>\n\n<p>The tests started failing with:</p>\n\n<pre><code>home Failed: java.lang.AssertionError: Status expected: &lt;200&gt; but was: &lt;404&gt;\n</code></pre>\n\n<p>I tried changing the @SpringBootTest annotation with:</p>\n\n<pre><code>@SpringBootTest (properties = {\"management.port=&lt;server.port&gt;\"})\n</code></pre>\n\n<p>Where  is the number used for the server.port.  This didn't seem to make any difference.</p>\n\n<p>So then changed the management.port value in the property file to be the same as the server.port.  Same result.</p>\n\n<p>The only way to get the test to work is remove the management.port from the property file.</p>\n\n<p>Any suggestions/thoughts ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","vaadin","eclipse-mars","vaadin8"],"comments":[{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":1,"creation_date":1505381330,"post_id":46215094,"comment_id":79393370,"body_markdown":"As said in docs, you have a method called `receiveUpload`. In this method, you take a filename and its mime type. Then you must create an `OutputStream`[(java 7 doc)](https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html)  with a `File` with that filename and return it... Of course, the `File` must be located where you want to save the upload.","body":"As said in docs, you have a method called <code>receiveUpload</code>. In this method, you take a filename and its mime type. Then you must create an <code>OutputStream</code><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">(java 7 doc)</a>  with a <code>File</code> with that filename and return it... Of course, the <code>File</code> must be located where you want to save the upload."},{"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"score":0,"creation_date":1505381690,"post_id":46215094,"comment_id":79393653,"body_markdown":"@Shirkam Can I have some code? as location being C:\\","body":"@Shirkam Can I have some code? as location being C:\\"},{"owner":{"account_id":1062313,"reputation":2649,"user_id":1063673,"accept_rate":80,"display_name":"Steffen Harbich"},"score":1,"creation_date":1505387424,"post_id":46215094,"comment_id":79397457,"body_markdown":"Yeah why not, stackoverflow is your cost-free programmer community...","body":"Yeah why not, stackoverflow is your cost-free programmer community..."}],"answers":[{"tags":[],"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675422241,"creation_date":1505385379,"answer_id":46216810,"question_id":46215094,"body_markdown":"To receive a file upload in Vaadin, you must implement `Receiver` interface, wich provides you with a `receiveUpload(filename, mimeType)`method, used to receive the info. The simplest code to do this would be (Taken as example from  [Vaadin 7 docs](https://vaadin.com/docs7/-/part7/framework/components/components-upload.html)):\r\n\r\n    class FileUploader implements Receiver {\r\n        private File file;\r\n        private String BASE_PATH=&quot;C:\\\\&quot;;\r\n\r\n        public OutputStream receiveUpload(String filename,\r\n                                      String mimeType) {\r\n            // Create upload stream\r\n            FileOutputStream fos = null; // Stream to write to\r\n            try {\r\n                // Open the file for writing.\r\n                file = new File(BASE_PATH + filename);\r\n                fos = new FileOutputStream(file);\r\n            } catch (final java.io.FileNotFoundException e) {\r\n                new Notification(&quot;Could not open file&lt;br/&gt;&quot;,\r\n                             e.getMessage(),\r\n                             Notification.Type.ERROR_MESSAGE)\r\n                .show(Page.getCurrent());\r\n                return null;\r\n            }\r\n            return fos; // Return the output stream to write to\r\n        }\r\n    };\r\n\r\n\r\nWith that, the `Uploader` will write you a file in `C:\\`. If you wish to something after the upload has completed successfully, or not, you can implement `SucceeddedListener` or `FailedListener`. Taking the example above, the result (with a `SucceededListener`) could be:\r\n\r\n    class FileUploader implements Receiver {\r\n        //receiveUpload implementation\r\n\r\n        public void uploadSucceeded(SucceededEvent event) {\r\n            //Do some cool stuff here with the file\r\n        }\r\n    }","title":"How to save uploaded file","body":"<p>To receive a file upload in Vaadin, you must implement <code>Receiver</code> interface, wich provides you with a <code>receiveUpload(filename, mimeType)</code>method, used to receive the info. The simplest code to do this would be (Taken as example from  <a href=\"https://vaadin.com/docs7/-/part7/framework/components/components-upload.html\" rel=\"nofollow noreferrer\">Vaadin 7 docs</a>):</p>\n<pre><code>class FileUploader implements Receiver {\n    private File file;\n    private String BASE_PATH=&quot;C:\\\\&quot;;\n\n    public OutputStream receiveUpload(String filename,\n                                  String mimeType) {\n        // Create upload stream\n        FileOutputStream fos = null; // Stream to write to\n        try {\n            // Open the file for writing.\n            file = new File(BASE_PATH + filename);\n            fos = new FileOutputStream(file);\n        } catch (final java.io.FileNotFoundException e) {\n            new Notification(&quot;Could not open file&lt;br/&gt;&quot;,\n                         e.getMessage(),\n                         Notification.Type.ERROR_MESSAGE)\n            .show(Page.getCurrent());\n            return null;\n        }\n        return fos; // Return the output stream to write to\n    }\n};\n</code></pre>\n<p>With that, the <code>Uploader</code> will write you a file in <code>C:\\</code>. If you wish to something after the upload has completed successfully, or not, you can implement <code>SucceeddedListener</code> or <code>FailedListener</code>. Taking the example above, the result (with a <code>SucceededListener</code>) could be:</p>\n<pre><code>class FileUploader implements Receiver {\n    //receiveUpload implementation\n\n    public void uploadSucceeded(SucceededEvent event) {\n        //Do some cool stuff here with the file\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46216810,"answer_count":1,"score":0,"last_activity_date":1675422241,"creation_date":1505380582,"question_id":46215094,"body_markdown":"I would like to know how to get a file from a Vaadin Upload Component. Here is the example on the [Vaadin Website](https://vaadin.com/docs/-/part/framework/components/components-upload.html)\r\nbut it does not include how to save it other than something about OutputStreams.\r\nHelp!","title":"How to save uploaded file","body":"<p>I would like to know how to get a file from a Vaadin Upload Component. Here is the example on the <a href=\"https://vaadin.com/docs/-/part/framework/components/components-upload.html\" rel=\"nofollow noreferrer\">Vaadin Website</a>\nbut it does not include how to save it other than something about OutputStreams.\nHelp!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1675431697,"post_id":75333251,"comment_id":132933040,"body_markdown":"log query and params to be sure that you have properly params \n`logging:\n  level:\n    org.hibernate.SQL: DEBUG\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE`","body":"log query and params to be sure that you have properly params  <code>logging:   level:     org.hibernate.SQL: DEBUG     org.hibernate.type.descriptor.sql.BasicBinder: TRACE</code>"},{"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"score":0,"creation_date":1675446551,"post_id":75333251,"comment_id":132938128,"body_markdown":"@ShakirovRamil, this is where the problem is. I log queries, I trace parameters. When I run the query with substituted parameters, it does return expected result. But the repository method called with same parameters returns null","body":"@ShakirovRamil, this is where the problem is. I log queries, I trace parameters. When I run the query with substituted parameters, it does return expected result. But the repository method called with same parameters returns null"}],"answers":[{"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675422171,"creation_date":1675422171,"answer_id":75334784,"question_id":75333251,"body_markdown":"Its probably happening because of transactions not commited yet\r\n\r\nCan you update your question with where you used this method \r\n`findTopPropertyValue`","title":"Spring Data query returns null but SQL query returns value","body":"<p>Its probably happening because of transactions not commited yet</p>\n<p>Can you update your question with where you used this method\n<code>findTopPropertyValue</code></p>\n"}],"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675422171,"creation_date":1675413350,"question_id":75333251,"body_markdown":"I have a persistent class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    @Entity\r\n    @Table(name = &quot;REGION&quot;)\r\n    @NamedQueries({\r\n\t    @NamedQuery(name = IRegionRepo.QUERY_NAME.findPropertyValue, query = IRegionRepo.QUERY.findPropertyValue)\r\n    })\r\n    public class Region extends NameClassifier {\r\n\r\n\t    /** The Constant serialVersionUID. */\r\n\t    private static final long serialVersionUID = 1L;\r\n\r\n\t    /** The countries. */\r\n\t    @OneToMany\r\n\t    @JoinTable(name = &quot;REGION_COUNTRY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;),     inverseJoinColumns = @JoinColumn(name=&quot;COUNTRY&quot;))\r\n\tprivate Set&lt;Country&gt; countries;\r\n\t\r\n\t    /** The properties. */\r\n\t    @ElementCollection\r\n\t    @JoinTable(name = &quot;REGION_PROPERTY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;))\r\n\t    @MapKeyColumn(name = &quot;PROPERTY_NAME&quot;)\r\n\t    @Column(name = &quot;PROPERTY_VALUE&quot;)\r\n\t    private Map&lt;String, String&gt; properties;\r\n    }\r\n\r\nAnd the String Data repository:\r\n\r\n    public final static String findPropertyValue = &quot;select VALUE(rp) from Region r join r.properties rp &quot;\r\n\t\t\t\t+ &quot;where :country MEMBER OF r.countries and KEY(rp)=:property&quot;;\r\n    \r\n    @Query(name = QUERY_NAME.findPropertyValue)\r\n\tpublic String findTopPropertyValue(@Param(&quot;country&quot;) final Country country, @Param(&quot;property&quot;) final String property);\r\n\r\nWhen I run the method, with certain parameters, it returns null.\r\nHowever, if I substitute the parameters into the generated SQL query and run it in SQL*Plus, it does return a value.\r\n\r\nWhat could be the issue?\r\n\r\nThe query generated:\r\n\r\n    select properties1_.property_value as col_0_0_ \r\n    from region region0_ inner join region_property properties1_ on  region0_.id=properties1_.region \r\n    where (? in (select countries2_.country from region_country countries2_ where region0_.id=countries2_.region)) and properties1_.property_name=?;\r\n\r\n","title":"Spring Data query returns null but SQL query returns value","body":"<p>I have a persistent class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@Entity\n@Table(name = &quot;REGION&quot;)\n@NamedQueries({\n    @NamedQuery(name = IRegionRepo.QUERY_NAME.findPropertyValue, query = IRegionRepo.QUERY.findPropertyValue)\n})\npublic class Region extends NameClassifier {\n\n    /** The Constant serialVersionUID. */\n    private static final long serialVersionUID = 1L;\n\n    /** The countries. */\n    @OneToMany\n    @JoinTable(name = &quot;REGION_COUNTRY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;),     inverseJoinColumns = @JoinColumn(name=&quot;COUNTRY&quot;))\nprivate Set&lt;Country&gt; countries;\n\n    /** The properties. */\n    @ElementCollection\n    @JoinTable(name = &quot;REGION_PROPERTY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;))\n    @MapKeyColumn(name = &quot;PROPERTY_NAME&quot;)\n    @Column(name = &quot;PROPERTY_VALUE&quot;)\n    private Map&lt;String, String&gt; properties;\n}\n</code></pre>\n<p>And the String Data repository:</p>\n<pre><code>public final static String findPropertyValue = &quot;select VALUE(rp) from Region r join r.properties rp &quot;\n            + &quot;where :country MEMBER OF r.countries and KEY(rp)=:property&quot;;\n\n@Query(name = QUERY_NAME.findPropertyValue)\npublic String findTopPropertyValue(@Param(&quot;country&quot;) final Country country, @Param(&quot;property&quot;) final String property);\n</code></pre>\n<p>When I run the method, with certain parameters, it returns null.\nHowever, if I substitute the parameters into the generated SQL query and run it in SQL*Plus, it does return a value.</p>\n<p>What could be the issue?</p>\n<p>The query generated:</p>\n<pre><code>select properties1_.property_value as col_0_0_ \nfrom region region0_ inner join region_property properties1_ on  region0_.id=properties1_.region \nwhere (? in (select countries2_.country from region_country countries2_ where region0_.id=countries2_.region)) and properties1_.property_name=?;\n</code></pre>\n"},{"tags":["java","android","location"],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675385857,"creation_date":1675385857,"answer_id":75330444,"question_id":75330183,"body_markdown":"Remove `ACCESS_COARSE_LOCATION` declaration from manifest and try, else request for both `ACCESS_COARSE_LOCATION` and `ACCESS_FINE_LOCATION`\r\n\r\n&gt; If you try to request only ACCESS_FINE_LOCATION, the system ignores the request on some releases of Android 12\r\n\r\nFollow this [link](https://developer.android.com/training/location/permissions#approximate-request)","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>Remove <code>ACCESS_COARSE_LOCATION</code> declaration from manifest and try, else request for both <code>ACCESS_COARSE_LOCATION</code> and <code>ACCESS_FINE_LOCATION</code></p>\n<blockquote>\n<p>If you try to request only ACCESS_FINE_LOCATION, the system ignores the request on some releases of Android 12</p>\n</blockquote>\n<p>Follow this <a href=\"https://developer.android.com/training/location/permissions#approximate-request\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675422113,"creation_date":1675422113,"answer_id":75334778,"question_id":75330183,"body_markdown":"First ask for COARSE location.\r\n\r\nAnd only after the user allowed that ask for FINE.","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>First ask for COARSE location.</p>\n<p>And only after the user allowed that ask for FINE.</p>\n"}],"owner":{"account_id":21419591,"reputation":13,"user_id":18019817,"display_name":"Mi Espacioec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675422113,"creation_date":1675382837,"question_id":75330183,"body_markdown":"I have an application that requires to use Fine Location, when I request Fine Location permissions, the dialog does not ask for accurate location, only approximate location.\r\n\r\nI have tried on several devices, an Android Studio Emulator, on a Huawei and it does ask for permissions correctly, but when I try on a Samsung Galaxy A32 phone, it doesn&#39;t show me the accurate location option.\r\n\r\nThis is my Manifest:\r\n\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;***&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\n        &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n\r\nRequest Permission\r\n\r\n    LocationRequest locationRequest = new LocationRequest();\r\n    locationRequest.setInterval(10000);\r\n    locationRequest.setFastestInterval(3000);\r\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n        Log.d(&quot;message&quot;, &quot;permission denied&quot;);\r\n        ActivityCompat.requestPermissions(Dashboard.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n        return;\r\n    }\r\n    LocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(LocationResult locationResult) {\r\n            super.onLocationResult(locationResult);\r\n            ...","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>I have an application that requires to use Fine Location, when I request Fine Location permissions, the dialog does not ask for accurate location, only approximate location.</p>\n<p>I have tried on several devices, an Android Studio Emulator, on a Huawei and it does ask for permissions correctly, but when I try on a Samsung Galaxy A32 phone, it doesn't show me the accurate location option.</p>\n<p>This is my Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;***&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n</code></pre>\n<p>Request Permission</p>\n<pre><code>LocationRequest locationRequest = new LocationRequest();\nlocationRequest.setInterval(10000);\nlocationRequest.setFastestInterval(3000);\nlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\nif (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n    Log.d(&quot;message&quot;, &quot;permission denied&quot;);\n    ActivityCompat.requestPermissions(Dashboard.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\n    return;\n}\nLocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\n    @Override\n    public void onLocationResult(LocationResult locationResult) {\n        super.onLocationResult(locationResult);\n        ...\n</code></pre>\n"},{"tags":["java","apache-tika","adobe-illustrator"],"comments":[{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1675414583,"post_id":75324230,"comment_id":132928002,"body_markdown":"I&#39;ve been playing a bit with various export settings in Adobe Illustrator 2021. In these settings it is possible to on/off a setting called &quot;create pdf compatible file&quot; (or something like that). But no matter which setting you choose here, it will always insert a PDF into the AI file. If the setting is disabled, it is a kind of dummy PDF with the hint that it is not a compatible PDF document. So the magic byte is always %PDF. Tika always recognizes a PDF file. Does anyone perhaps have an idea what else could be done here to enable Tika to recognize the &quot;correct&quot; mime-type?","body":"I&#39;ve been playing a bit with various export settings in Adobe Illustrator 2021. In these settings it is possible to on/off a setting called &quot;create pdf compatible file&quot; (or something like that). But no matter which setting you choose here, it will always insert a PDF into the AI file. If the setting is disabled, it is a kind of dummy PDF with the hint that it is not a compatible PDF document. So the magic byte is always %PDF. Tika always recognizes a PDF file. Does anyone perhaps have an idea what else could be done here to enable Tika to recognize the &quot;correct&quot; mime-type?"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":1,"creation_date":1675438395,"post_id":75324230,"comment_id":132935380,"body_markdown":"We have an open issue for this: https://issues.apache.org/jira/browse/TIKA-2689. We could add the logic at parse time, but we can&#39;t do it at detection time without parsing the whole file :(  Please chime in on our JIRA issue if you&#39;re willing to get that info at parse time.","body":"We have an open issue for this: <a href=\"https://issues.apache.org/jira/browse/TIKA-2689\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/TIKA-2689</a>. We could add the logic at parse time, but we can&#39;t do it at detection time without parsing the whole file :(  Please chime in on our JIRA issue if you&#39;re willing to get that info at parse time."}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422073,"creation_date":1675422073,"answer_id":75334766,"question_id":75324230,"body_markdown":"Adobe documentation shows they internally use 3 application/type settings  \r\n\r\n&gt;List of document mime-types that are considered to be PDF or Illustrator documents.\r\n- PDF\r\n- Postscript\r\n- Illustrator \r\n\r\nalso go one to say\r\n\r\n&gt;Adobe Illustrator’s file format is a variant of PDF. The main differences, in the context of Experience Manager Assets, is the following:\r\n\r\n&gt;Adobe Illustrator documents consist of a single page with multiple layers. Each layer is extracted as a PNG subasset under the main Illustrator asset.\r\n\r\n&gt;PDF documents consist of one or more pages. Each page is extracted as a single page PDF subasset under the main multi-page PDF document.\r\n\r\nSo Adobe applications have an inhouse typeset to distinguish application/illustrator, however, that is not a registered mimetype (AI is a subset of PDF as above )\r\n\r\nOther applications may struggle with hybrids that are wrappers of one around the other so as one example  \r\nLinguist reports a content-type of application/postscript for *.ai whilst other report application/PDF  which may be due to   \r\n&quot;Early versions [over 24 years ago] of the AI file format [Illustrator versions 3 through to 8 saved artwork as specialised EPS files,] are true EPS files with a restricted, compact syntax, with additional semantics represented by Illustrator-specific DSC comments that conform to DSC&#39;s Open Structuring Conventions.&quot;\r\n\r\nConfused ? Dont be, simply **[like the current mime type register][1]**, accept AI files that are PDF like are application/pdf.\r\n\r\nI often refer to text/pdf as the legacy format for ansi/pdf but those are not listed either   \r\n\r\nIf a file starts with 40 bit signature `%PDF-` then irrespective of version or content  \r\n\r\nThe RFC https://www.rfc-editor.org/rfc/rfc8118.html\r\n&gt;PDF Versions\r\n&gt;   The PDF format has gone through several revisions, primarily for the\r\n   addition of features.  PDF features have generally been added in a\r\n   way that older viewers &quot;fail gracefully&quot;, because they can just\r\n   ignore features they do not recognize.  Even so, the older the PDF\r\n   version produced, the more legacy viewers will support that version,\r\n   but the fewer features will be enabled.  **The &quot;application/pdf&quot; media\r\n   type is used for all versions.***  See [ISOPDF2] Annex I, &quot;PDF Versions\r\n   and Compatibility&quot;.\r\n\r\n  [1]: https://www.iana.org/assignments/media-types/media-types.xhtml","title":"How to detect Adobe Illustrator files in Tika version 2.6?","body":"<p>Adobe documentation shows they internally use 3 application/type settings</p>\n<blockquote>\n<p>List of document mime-types that are considered to be PDF or Illustrator documents.</p>\n</blockquote>\n<ul>\n<li>PDF</li>\n<li>Postscript</li>\n<li>Illustrator</li>\n</ul>\n<p>also go one to say</p>\n<blockquote>\n<p>Adobe Illustrator’s file format is a variant of PDF. The main differences, in the context of Experience Manager Assets, is the following:</p>\n</blockquote>\n<blockquote>\n<p>Adobe Illustrator documents consist of a single page with multiple layers. Each layer is extracted as a PNG subasset under the main Illustrator asset.</p>\n</blockquote>\n<blockquote>\n<p>PDF documents consist of one or more pages. Each page is extracted as a single page PDF subasset under the main multi-page PDF document.</p>\n</blockquote>\n<p>So Adobe applications have an inhouse typeset to distinguish application/illustrator, however, that is not a registered mimetype (AI is a subset of PDF as above )</p>\n<p>Other applications may struggle with hybrids that are wrappers of one around the other so as one example<br />\nLinguist reports a content-type of application/postscript for *.ai whilst other report application/PDF  which may be due to<br />\n&quot;Early versions [over 24 years ago] of the AI file format [Illustrator versions 3 through to 8 saved artwork as specialised EPS files,] are true EPS files with a restricted, compact syntax, with additional semantics represented by Illustrator-specific DSC comments that conform to DSC's Open Structuring Conventions.&quot;</p>\n<p>Confused ? Dont be, simply <strong><a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">like the current mime type register</a></strong>, accept AI files that are PDF like are application/pdf.</p>\n<p>I often refer to text/pdf as the legacy format for ansi/pdf but those are not listed either</p>\n<p>If a file starts with 40 bit signature <code>%PDF-</code> then irrespective of version or content</p>\n<p>The RFC <a href=\"https://www.rfc-editor.org/rfc/rfc8118.html\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc8118.html</a></p>\n<blockquote>\n<p>PDF Versions\nThe PDF format has gone through several revisions, primarily for the\naddition of features.  PDF features have generally been added in a\nway that older viewers &quot;fail gracefully&quot;, because they can just\nignore features they do not recognize.  Even so, the older the PDF\nversion produced, the more legacy viewers will support that version,\nbut the fewer features will be enabled.  <strong>The &quot;application/pdf&quot; media\ntype is used for all versions.</strong>*  See [ISOPDF2] Annex I, &quot;PDF Versions\nand Compatibility&quot;.</p>\n</blockquote>\n"}],"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675422073,"creation_date":1675346315,"question_id":75324230,"body_markdown":"I want to use Tika 2.6 to detect files with the MIME type &#39;application/illustrator&#39;. When I use the following code snippet, I always get the MIME type &#39;application/pdf&#39;:\r\n\r\n```java\r\npublic MediaType detectMimeTypeFromContent(@NonNull File file) throws IOException {\r\n    TikaConfig config = TikaConfig.getDefaultConfig();\r\n    Detector detector = config.getDetector();\r\n    Metadata metadata = new Metadata();\r\n    TikaInputStream tikaStream = TikaInputStream.get(file, metadata);\r\n    MediaType mediaType = detector.detect(tikaStream, metadata);\r\n    tikaStream.close();\r\n\r\n    return mediaType;\r\n}\r\n```\r\nI use this dependencies:\r\n\r\n```gradle\r\nimplementation &#39;org.apache.tika:tika-core:2.6.0&#39;\r\nimplementation &#39;org.apache.tika:tika-parsers:2.6.0&#39;\r\n```\r\n\r\nHow can I detect Adobe Illustrator files correctly?","title":"How to detect Adobe Illustrator files in Tika version 2.6?","body":"<p>I want to use Tika 2.6 to detect files with the MIME type 'application/illustrator'. When I use the following code snippet, I always get the MIME type 'application/pdf':</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MediaType detectMimeTypeFromContent(@NonNull File file) throws IOException {\n    TikaConfig config = TikaConfig.getDefaultConfig();\n    Detector detector = config.getDetector();\n    Metadata metadata = new Metadata();\n    TikaInputStream tikaStream = TikaInputStream.get(file, metadata);\n    MediaType mediaType = detector.detect(tikaStream, metadata);\n    tikaStream.close();\n\n    return mediaType;\n}\n</code></pre>\n<p>I use this dependencies:</p>\n<pre><code>implementation 'org.apache.tika:tika-core:2.6.0'\nimplementation 'org.apache.tika:tika-parsers:2.6.0'\n</code></pre>\n<p>How can I detect Adobe Illustrator files correctly?</p>\n"},{"tags":["java","eclipse","intellij-idea","ide","gurobi"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1675414219,"post_id":75333120,"comment_id":132927908,"body_markdown":"Where *is* libgurobi100.so?","body":"Where <i>is</i> libgurobi100.so?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675417403,"post_id":75333120,"comment_id":132928824,"body_markdown":"Does the file `/home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so` exist?","body":"Does the file <code>&#47;home&#47;faisal&#47;gurobi1001&#47;linux64&#47;lib&#47;libGurobiJni100.so</code> exist?"},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1675421448,"post_id":75333120,"comment_id":132930069,"body_markdown":"@howlger yes it does","body":"@howlger yes it does"},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1675421553,"post_id":75333120,"comment_id":132930093,"body_markdown":"@nitind I could not find it but I found `/home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so`","body":"@nitind I could not find it but I found <code>&#47;home&#47;faisal&#47;gurobi1001&#47;linux64&#47;lib&#47;libGurobiJni100.so</code>"}],"answers":[{"tags":[],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675421822,"creation_date":1675421822,"answer_id":75334726,"question_id":75333120,"body_markdown":"This got fixed by using the following commands from : https://stackoverflow.com/a/71761881/13061992\r\n```\r\nsudo ln -s $GUROBI_HOME/lib/libgurobi100.so /usr/lib\r\nsudo ln -s $GUROBI_HOME/lib/libGurobiJni100.so /usr/lib\r\nsudo ldconfig\r\n```","title":"Java unsatisfied link error in IDE but execution is seamless in terminal","body":"<p>This got fixed by using the following commands from : <a href=\"https://stackoverflow.com/a/71761881/13061992\">https://stackoverflow.com/a/71761881/13061992</a></p>\n<pre><code>sudo ln -s $GUROBI_HOME/lib/libgurobi100.so /usr/lib\nsudo ln -s $GUROBI_HOME/lib/libGurobiJni100.so /usr/lib\nsudo ldconfig\n</code></pre>\n"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75334726,"answer_count":1,"score":0,"last_activity_date":1675421822,"creation_date":1675412467,"question_id":75333120,"body_markdown":"I am trying to install the Gurobi software with its java interface. I have added the following lines to my `.bashrc` file:\r\n\r\n```\r\nexport GUROBI_HOME=&quot;/opt/gurobi1001/linux64&quot;\r\nexport PATH=&quot;${PATH}:${GUROBI_HOME}/bin&quot;\r\nexport LD_LIBRARY_PATH=&quot;${GUROBI_HOME}/lib&quot;\r\n```\r\nThis was requested in the installation document. Moreover, this library has a lot of test codes we can run, so I ran them by going to their directory and executing `make run_java` and everything executed with no problems at all. Then, I tried installing an IDE (tried Intellij and now I am using Eclipse) but I keep getting the following:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so: libgurobi100.so: cannot open shared object file: No such file or directory\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\tat gurobi.GurobiJni.&lt;clinit&gt;(GurobiJni.java:297)\r\n\tat gurobi.GRBEnv.&lt;init&gt;(GRBEnv.java:108)\r\n\tat test.Mip1.main(Mip1.java:20)\r\n\r\n```\r\n\r\nThis is the same copied code as one of the test files that I ran in the terminal. Error was a bit different but I did the following: went to build path configuration and added the external jar files in the classpath (since I do not have a module-info file, I tried adding it under the module path regardless and it did not work) and added a native library location under `gurobi.jar`. Most solutions I have found to this error consists of doing this. I do not think there is a problem with my `.bashrc` file since I managed to execute the code in the terminal. The output of `java --version` is the following:\r\n```\r\nopenjdk 17.0.5 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\r\n```\r\nand the IDE automatically detects `JavaSE-17` so this seems fine as well.\r\n\r\nMoreover I do not mind switching again to Intellij if anyone has a solution there. Any help would be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qUFx.png","title":"Java unsatisfied link error in IDE but execution is seamless in terminal","body":"<p>I am trying to install the Gurobi software with its java interface. I have added the following lines to my <code>.bashrc</code> file:</p>\n<pre><code>export GUROBI_HOME=&quot;/opt/gurobi1001/linux64&quot;\nexport PATH=&quot;${PATH}:${GUROBI_HOME}/bin&quot;\nexport LD_LIBRARY_PATH=&quot;${GUROBI_HOME}/lib&quot;\n</code></pre>\n<p>This was requested in the installation document. Moreover, this library has a lot of test codes we can run, so I ran them by going to their directory and executing <code>make run_java</code> and everything executed with no problems at all. Then, I tried installing an IDE (tried Intellij and now I am using Eclipse) but I keep getting the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so: libgurobi100.so: cannot open shared object file: No such file or directory\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n    at java.base/java.lang.System.loadLibrary(System.java:1989)\n    at gurobi.GurobiJni.&lt;clinit&gt;(GurobiJni.java:297)\n    at gurobi.GRBEnv.&lt;init&gt;(GRBEnv.java:108)\n    at test.Mip1.main(Mip1.java:20)\n\n</code></pre>\n<p>This is the same copied code as one of the test files that I ran in the terminal. Error was a bit different but I did the following: went to build path configuration and added the external jar files in the classpath (since I do not have a module-info file, I tried adding it under the module path regardless and it did not work) and added a native library location under <code>gurobi.jar</code>. Most solutions I have found to this error consists of doing this. I do not think there is a problem with my <code>.bashrc</code> file since I managed to execute the code in the terminal. The output of <code>java --version</code> is the following:</p>\n<pre><code>openjdk 17.0.5 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>and the IDE automatically detects <code>JavaSE-17</code> so this seems fine as well.</p>\n<p>Moreover I do not mind switching again to Intellij if anyone has a solution there. Any help would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/9qUFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qUFx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","stripe-payments"],"comments":[{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675418464,"post_id":75334018,"comment_id":132929137,"body_markdown":"Could you please give more details about this exception? what code is generating this exception with a complete Stacktrace? What Stripe API are you calling?","body":"Could you please give more details about this exception? what code is generating this exception with a complete Stacktrace? What Stripe API are you calling?"},{"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"score":0,"creation_date":1675418860,"post_id":75334018,"comment_id":132929281,"body_markdown":"@os4m37 now I have shared all the required information","body":"@os4m37 now I have shared all the required information"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675424691,"post_id":75334018,"comment_id":132931022,"body_markdown":"Thanks for sharing, you need to upgrade your Stripe SDK if you want to use newer Java version. Try this Stripe version 22.7.0. You may need to update some of your implementations.","body":"Thanks for sharing, you need to upgrade your Stripe SDK if you want to use newer Java version. Try this Stripe version 22.7.0. You may need to update some of your implementations."},{"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"score":0,"creation_date":1675424915,"post_id":75334018,"comment_id":132931075,"body_markdown":"I have tried but nothing is working i am getting same exception","body":"I have tried but nothing is working i am getting same exception"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675424990,"post_id":75334018,"comment_id":132931098,"body_markdown":"I managed to reproduce the issue using your code, with Java 11. But when upgrading to com.stripe:stripe-java:22.7.0 with Java 17 the issue is resolved","body":"I managed to reproduce the issue using your code, with Java 11. But when upgrading to com.stripe:stripe-java:22.7.0 with Java 17 the issue is resolved"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675425124,"post_id":75334018,"comment_id":132931138,"body_markdown":"Or at least version com.stripe:stripe-java:20.91.0 which is tested on both Java 16 and 17\nhttps://github.com/stripe/stripe-java/blob/master/CHANGELOG.md#20910---2021-12-09","body":"Or at least version com.stripe:stripe-java:20.91.0 which is tested on both Java 16 and 17 <a href=\"https://github.com/stripe/stripe-java/blob/master/CHANGELOG.md#20910---2021-12-09\" rel=\"nofollow noreferrer\">github.com/stripe/stripe-java/blob/master/&hellip;</a>"}],"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675421797,"creation_date":1675417882,"question_id":75334018,"body_markdown":"I am getting an exception while creating a session with Stripe. \r\n\r\nThe create method returns the following exception:\r\n \r\n\r\n    Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n```\r\npublic Session createSession(Long scheduleId, CardPaymentDetailDto paymentSessionDto) {\r\n\t\tList&lt;String&gt; elements = new ArrayList&lt;&gt;();\r\n\t\telements.add(paymentSessionDto.getTourImage());\r\n\t\ttry {\r\n\t\t\tSessionCreateParams params =\r\n\t\t\t\t\tSessionCreateParams.builder()\r\n\t\t\t\t\t\t\t.addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\r\n\t\t\t\t\t\t\t.addLineItem(\r\n\t\t\t\t\t\t\t\t\tSessionCreateParams.LineItem.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t.setName(paymentSessionDto.getTourName())\r\n\t\t\t\t\t\t\t\t\t\t\t.setDescription(paymentSessionDto.getTourDesc())\r\n\t\t\t\t\t\t\t\t\t\t\t.setAmount((long) (paymentSessionDto.getAmount() * 100))\r\n\t\t\t\t\t\t\t\t\t\t\t.setCurrency(paymentSessionDto.getCurrency())\r\n\t\t\t\t\t\t\t\t\t\t\t.addAllImage(elements)\r\n\t\t\t\t\t\t\t\t\t\t\t.setQuantity(1L)\r\n\t\t\t\t\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t\t.setSuccessUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/success?session_id={CHECKOUT_SESSION_ID}&quot; + &quot;&amp;schedule_id=&quot; + scheduleId + &quot;&amp;group_id=&quot; + paymentSessionDto.getTourPaymentDetail().getGroupId())\r\n\t\t\t\t\t\t\t.setCancelUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/cancel?tourId=&quot; + paymentSessionDto.getTourPaymentDetail().getTourId())\r\n\t\t\t\t\t\t\t.setCustomerEmail(paymentSessionDto.getOwnerEmail())\r\n\t\t\t\t\t\t\t//.setCustomer(&quot;cus_HGaPmKuUCOYWrj&quot;)\r\n\t\t\t\t\t\t\t.build();\r\n\t\t\tSession session =Session.create(params);// this line throw exception\r\n\t\t\treturn session;\r\n\t\t} catch (StripeException ex) {\r\n\t\t\tlogger.error(ex.getMessage(), ex);\r\n\t\t\treturn null;\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.error(ex.getMessage(), ex);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe `session.create` method throws the above mentioned exception in Java 17, but works fine in Java 11.\r\n\r\nHere is the complete stacktrace: \r\n\r\n```\r\n2023-02-03T15:13:30.051+05:30 ERROR 27388 --- [nio-8888-exec-3] com.experience.config.StripeClient       : Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\r\ncom.google.gson.JsonIOException: Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.PaymentSourceTypeAdapterFactory.create(PaymentSourceTypeAdapterFactory.java:31) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:32) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1213) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1319) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1261) ~[gson-2.10.jar:na]\r\n\tat com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:133) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:61) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.net.ApiResource.request(ApiResource.java:179) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.model.checkout.Session.create(Session.java:348) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.model.checkout.Session.create(Session.java:341) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.experience.config.StripeClient.createNewSession(StripeClient.java:359) ~[classes/:na]\r\n\tat com.experience.controller.TransactionController.saveFirstPaymentDetailAndSession(TransactionController.java:179) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.experience.security.jwt.JWTFilter.doFilter(JWTFilter.java:36) ~[classes/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.net.Proxy$Type java.net.Proxy.type accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @44bc069d\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:na]\r\n\t... 167 common frames omitted\r\n\r\n```","title":"I am getting exception while creating session with stripe in java 17 and in 11 version it is working fine","body":"<p>I am getting an exception while creating a session with Stripe.</p>\n<p>The create method returns the following exception:</p>\n<pre><code>Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n</code></pre>\n<pre><code>public Session createSession(Long scheduleId, CardPaymentDetailDto paymentSessionDto) {\n        List&lt;String&gt; elements = new ArrayList&lt;&gt;();\n        elements.add(paymentSessionDto.getTourImage());\n        try {\n            SessionCreateParams params =\n                    SessionCreateParams.builder()\n                            .addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\n                            .addLineItem(\n                                    SessionCreateParams.LineItem.builder()\n                                            .setName(paymentSessionDto.getTourName())\n                                            .setDescription(paymentSessionDto.getTourDesc())\n                                            .setAmount((long) (paymentSessionDto.getAmount() * 100))\n                                            .setCurrency(paymentSessionDto.getCurrency())\n                                            .addAllImage(elements)\n                                            .setQuantity(1L)\n                                            .build())\n                            .setSuccessUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/success?session_id={CHECKOUT_SESSION_ID}&quot; + &quot;&amp;schedule_id=&quot; + scheduleId + &quot;&amp;group_id=&quot; + paymentSessionDto.getTourPaymentDetail().getGroupId())\n                            .setCancelUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/cancel?tourId=&quot; + paymentSessionDto.getTourPaymentDetail().getTourId())\n                            .setCustomerEmail(paymentSessionDto.getOwnerEmail())\n                            //.setCustomer(&quot;cus_HGaPmKuUCOYWrj&quot;)\n                            .build();\n            Session session =Session.create(params);// this line throw exception\n            return session;\n        } catch (StripeException ex) {\n            logger.error(ex.getMessage(), ex);\n            return null;\n        } catch (Exception ex) {\n            logger.error(ex.getMessage(), ex);\n            return null;\n        }\n    }\n</code></pre>\n<p>The <code>session.create</code> method throws the above mentioned exception in Java 17, but works fine in Java 11.</p>\n<p>Here is the complete stacktrace:</p>\n<pre><code>2023-02-03T15:13:30.051+05:30 ERROR 27388 --- [nio-8888-exec-3] com.experience.config.StripeClient       : Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n\ncom.google.gson.JsonIOException: Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.PaymentSourceTypeAdapterFactory.create(PaymentSourceTypeAdapterFactory.java:31) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:32) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1213) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1319) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1261) ~[gson-2.10.jar:na]\n    at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:133) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:61) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.net.ApiResource.request(ApiResource.java:179) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.model.checkout.Session.create(Session.java:348) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.model.checkout.Session.create(Session.java:341) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.experience.config.StripeClient.createNewSession(StripeClient.java:359) ~[classes/:na]\n    at com.experience.controller.TransactionController.saveFirstPaymentDetailAndSession(TransactionController.java:179) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.experience.security.jwt.JWTFilter.doFilter(JWTFilter.java:36) ~[classes/:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.net.Proxy$Type java.net.Proxy.type accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @44bc069d\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:na]\n    ... 167 common frames omitted\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675436621,"post_id":75334535,"comment_id":132934747,"body_markdown":"If you don&#39;t want to use a library but to use your own authentication mechanism, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"If you don&#39;t want to use a library but to use your own authentication mechanism, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675421669,"creation_date":1675421669,"answer_id":75334693,"question_id":75334535,"body_markdown":"Since you&#39;re calling:\r\n\r\n    new AuthUI.IdpConfig.GoogleBuilder().build()\r\n\r\nIt means that you want to enable Firebase sign-in with Google, which indeed [requires the Google Play services library to be installed][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth/android/google-signin#before_you_begin","title":"Firebase Auth UI not working on Windows Subsystem for Android","body":"<p>Since you're calling:</p>\n<pre><code>new AuthUI.IdpConfig.GoogleBuilder().build()\n</code></pre>\n<p>It means that you want to enable Firebase sign-in with Google, which indeed <a href=\"https://firebase.google.com/docs/auth/android/google-signin#before_you_begin\" rel=\"nofollow noreferrer\">requires the Google Play services library to be installed</a>.</p>\n"}],"owner":{"account_id":1170060,"reputation":1032,"user_id":1147447,"display_name":"Alex Busuioc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75334693,"answer_count":1,"score":1,"last_activity_date":1675421739,"creation_date":1675420892,"question_id":75334535,"body_markdown":"I&#39;m trying to run my app on Windows Subsystem for an Android emulator. Everything works fine except for the authentication.\r\n\r\nLibraries used:\r\n\r\n    &#39;com.firebaseui:firebase-ui-auth:8.0.2&#39;\r\n    &#39;com.google.firebase:firebase-bom:31.2.0&#39;\r\n\r\nMy code:\r\n\r\n        activity.startActivityForResult(\r\n                AuthUI.getInstance()\r\n                        .createSignInIntentBuilder()\r\n                        .setAvailableProviders(Arrays.asList(\r\n                                new AuthUI.IdpConfig.EmailBuilder().build(),\r\n                                new AuthUI.IdpConfig.GoogleBuilder().build()\r\n                        ))\r\n                        .setTosAndPrivacyPolicyUrls(activity.getString(R.string.terms_and_conditions_url)\r\n                                ,activity.getString(R.string.privacy_policy_url))\r\n                        .setLogo(R.drawable.app_icon_512)\r\n                        .setIsSmartLockEnabled(false)\r\n                        .build(),\r\n                C.CODE_AUTH_REQUEST);\r\n\r\n\r\nIt won&#39;t start the authentication activity, and I&#39;m getting the following errors:\r\n\r\n&gt; [package name] requires the Google Play Store, but it is missing.\r\n \r\n&gt; The service for com.google.android.gms.internal.auth-api.zbo is not\r\n&gt; available: ConnectionResult{statusCode=SERVICE_INVALID,\r\n&gt; resolution=null, message=null}\r\n\r\n\r\nI suppose this happens because Google Play Services is not installed on the Windows Emulator.\r\n\r\nHowever, from the Firebase docs, we can see that Google Play Services is not mandatory for Auth or other services.\r\n[https://firebase.google.com/docs/android/android-play-services#play-services-required-summary][1]\r\n\r\n\r\n**Has anyone run into the same problem?**\r\n\r\n  [1]: https://firebase.google.com/docs/android/android-play-services#play-services-required-summary","title":"Firebase Auth UI not working on Windows Subsystem for Android","body":"<p>I'm trying to run my app on Windows Subsystem for an Android emulator. Everything works fine except for the authentication.</p>\n<p>Libraries used:</p>\n<pre><code>'com.firebaseui:firebase-ui-auth:8.0.2'\n'com.google.firebase:firebase-bom:31.2.0'\n</code></pre>\n<p>My code:</p>\n<pre><code>    activity.startActivityForResult(\n            AuthUI.getInstance()\n                    .createSignInIntentBuilder()\n                    .setAvailableProviders(Arrays.asList(\n                            new AuthUI.IdpConfig.EmailBuilder().build(),\n                            new AuthUI.IdpConfig.GoogleBuilder().build()\n                    ))\n                    .setTosAndPrivacyPolicyUrls(activity.getString(R.string.terms_and_conditions_url)\n                            ,activity.getString(R.string.privacy_policy_url))\n                    .setLogo(R.drawable.app_icon_512)\n                    .setIsSmartLockEnabled(false)\n                    .build(),\n            C.CODE_AUTH_REQUEST);\n</code></pre>\n<p>It won't start the authentication activity, and I'm getting the following errors:</p>\n<blockquote>\n<p>[package name] requires the Google Play Store, but it is missing.</p>\n</blockquote>\n<blockquote>\n<p>The service for com.google.android.gms.internal.auth-api.zbo is not\navailable: ConnectionResult{statusCode=SERVICE_INVALID,\nresolution=null, message=null}</p>\n</blockquote>\n<p>I suppose this happens because Google Play Services is not installed on the Windows Emulator.</p>\n<p>However, from the Firebase docs, we can see that Google Play Services is not mandatory for Auth or other services.\n<a href=\"https://firebase.google.com/docs/android/android-play-services#play-services-required-summary\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/android/android-play-services#play-services-required-summary</a></p>\n<p><strong>Has anyone run into the same problem?</strong></p>\n"},{"tags":["java","list","arraylist","java-stream"],"answers":[{"tags":[],"owner":{"account_id":10215964,"reputation":133,"user_id":7541656,"display_name":"Gaurav Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419817,"creation_date":1675419817,"answer_id":75334352,"question_id":75334145,"body_markdown":"you can use static variable which will always keep increasing , and you can assign that to your order number.\r\n\r\nor better if you are saving your order into Db , then **initilize a sequence** in Db .\r\n\r\n\tpublic class Test {\r\n\r\n\t\tprivate static int orderNo =1;\r\n        public static void main(String args[])\r\n        {\r\n             createOrder(&quot;Andrew&quot;,52);\r\n             createOrder(&quot;James&quot;,34);\r\n             createOrder(&quot;Jemas&quot;,28);\r\n             createOrder(&quot;Maria&quot;,19);\r\n        }\r\n\r\n        public void createOrder(String name , int age)\r\n        {\r\n            Order order = new Order(name , age , orderNo);\r\n            orderNo++;\r\n            System.out.print(order);\r\n        }\r\n\r\n\t}","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>you can use static variable which will always keep increasing , and you can assign that to your order number.</p>\n<p>or better if you are saving your order into Db , then <strong>initilize a sequence</strong> in Db .</p>\n<pre><code>public class Test {\n\n    private static int orderNo =1;\n    public static void main(String args[])\n    {\n         createOrder(&quot;Andrew&quot;,52);\n         createOrder(&quot;James&quot;,34);\n         createOrder(&quot;Jemas&quot;,28);\n         createOrder(&quot;Maria&quot;,19);\n    }\n\n    public void createOrder(String name , int age)\n    {\n        Order order = new Order(name , age , orderNo);\n        orderNo++;\n        System.out.print(order);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419920,"creation_date":1675419920,"answer_id":75334368,"question_id":75334145,"body_markdown":"Try IntStream.range from Java 8 Stream API.\r\n\r\n    IntStream.range(0, personList.size())\r\n     .forEach(i -&gt; personList.get(i).setOrden(i));","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>Try IntStream.range from Java 8 Stream API.</p>\n<pre><code>IntStream.range(0, personList.size())\n .forEach(i -&gt; personList.get(i).setOrden(i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675421710,"creation_date":1675421710,"answer_id":75334703,"question_id":75334145,"body_markdown":"You don&#39;t need Stream API for that, for-each loop is enough\r\n\r\n```java\r\nint index = 1;\r\nfor(Person p : personList) {\r\n    p.setOrder(index++);\r\n}\r\n```","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>You don't need Stream API for that, for-each loop is enough</p>\n<pre class=\"lang-java prettyprint-override\"><code>int index = 1;\nfor(Person p : personList) {\n    p.setOrder(index++);\n}\n</code></pre>\n"}],"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675421710,"creation_date":1675418715,"question_id":75334145,"body_markdown":"Imagine I have a simple Person object with three fields: name (string), age (string) and order (int).\r\n\r\nThen, I create a list of Person object (List&lt;Person&gt; personList), ordered by name and age (descending in my case), but with the order field initialized only, that looks like this:\r\n\r\n&quot;Andrew&quot;,&quot;52&quot;,0\r\n&quot;James&quot;,&quot;34&quot;,0\r\n&quot;James&quot;,&quot;28&quot;,0\r\n&quot;Maria&quot;,&quot;19&quot;,0\r\n\r\nMi goal is to fill the order field with a sequential number that shows the order in the list, something like this:\r\n\r\n&quot;August&quot;,&quot;52&quot;,1\r\n&quot;James&quot;,&quot;34&quot;,2\r\n&quot;James&quot;,&quot;28&quot;,3\r\n&quot;Maria&quot;,&quot;19&quot;,4\r\n\r\n\r\n\r\nI achieved this using a simple For loop\r\n\r\n`for(int i=0;i&lt;personList.size();i++) {\r\n\tpersonList.get(i).setOrden(i+1);\r\n}`\r\n\r\nIs there any cleaner / more efficient way to do this?\r\n\r\nThank you.\r\nRegards.","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>Imagine I have a simple Person object with three fields: name (string), age (string) and order (int).</p>\n<p>Then, I create a list of Person object (List personList), ordered by name and age (descending in my case), but with the order field initialized only, that looks like this:</p>\n<p>&quot;Andrew&quot;,&quot;52&quot;,0\n&quot;James&quot;,&quot;34&quot;,0\n&quot;James&quot;,&quot;28&quot;,0\n&quot;Maria&quot;,&quot;19&quot;,0</p>\n<p>Mi goal is to fill the order field with a sequential number that shows the order in the list, something like this:</p>\n<p>&quot;August&quot;,&quot;52&quot;,1\n&quot;James&quot;,&quot;34&quot;,2\n&quot;James&quot;,&quot;28&quot;,3\n&quot;Maria&quot;,&quot;19&quot;,4</p>\n<p>I achieved this using a simple For loop</p>\n<p><code>for(int i=0;i&lt;personList.size();i++) { personList.get(i).setOrden(i+1); }</code></p>\n<p>Is there any cleaner / more efficient way to do this?</p>\n<p>Thank you.\nRegards.</p>\n"},{"tags":["java","json","moshi"],"answers":[{"tags":[],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675421599,"creation_date":1675421599,"answer_id":75334675,"question_id":75325675,"body_markdown":"It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. After changing this\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n```\r\nto this\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\r\n```\r\nI now have a working solution - I get a `Map` with `List&lt;SomeClass&gt;` values not `LinkedHashTreeMap`s.","title":"Moshi can&#39;t deserialize Map with List of values, returns LinkedHashTreeMap instead of value&#39;s class instance","body":"<p>It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. After changing this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n</code></pre>\n<p>to this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\n</code></pre>\n<p>I now have a working solution - I get a <code>Map</code> with <code>List&lt;SomeClass&gt;</code> values not <code>LinkedHashTreeMap</code>s.</p>\n"}],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75334675,"answer_count":1,"score":2,"last_activity_date":1675421599,"creation_date":1675353039,"question_id":75325675,"body_markdown":"Can&#39;t deserialize json to this structure: `Map&lt;String, List&lt;SomeClass&gt;&gt;`\r\n\r\nI can deserialize to `Map&lt;String, SomeClass&gt;` like this:\r\n\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, SomeClass.class);\r\nJsonAdapter&lt;Map&lt;String, SomeClass&gt;&gt; adapter = moshi.adapter(type);\r\n```\r\nBut when there are two collections nested, for example, `Map&lt;String, List&lt;SomeClass&gt;&gt;`, the next code\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, SomeClass.class);\r\nJsonAdapter&lt;Map&lt;String, List&lt;SomeClass&gt;&gt;&gt; adapter = moshi.adapter(type);\r\n```\r\nreturns `Map&lt;String, List&lt;LinkedHashTreeMap&gt;&gt;`, `LinkedHashTreeMap` has properties of `SomeClass` as keys and their values as values, and `&quot;type&quot;=&quot;SomeClass&quot;`.\r\n\r\nHow can I solve this, so that deserialization runs okay, as in the first example?","title":"Moshi can&#39;t deserialize Map with List of values, returns LinkedHashTreeMap instead of value&#39;s class instance","body":"<p>Can't deserialize json to this structure: <code>Map&lt;String, List&lt;SomeClass&gt;&gt;</code></p>\n<p>I can deserialize to <code>Map&lt;String, SomeClass&gt;</code> like this:</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, SomeClass.class);\nJsonAdapter&lt;Map&lt;String, SomeClass&gt;&gt; adapter = moshi.adapter(type);\n</code></pre>\n<p>But when there are two collections nested, for example, <code>Map&lt;String, List&lt;SomeClass&gt;&gt;</code>, the next code</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, SomeClass.class);\nJsonAdapter&lt;Map&lt;String, List&lt;SomeClass&gt;&gt;&gt; adapter = moshi.adapter(type);\n</code></pre>\n<p>returns <code>Map&lt;String, List&lt;LinkedHashTreeMap&gt;&gt;</code>, <code>LinkedHashTreeMap</code> has properties of <code>SomeClass</code> as keys and their values as values, and <code>&quot;type&quot;=&quot;SomeClass&quot;</code>.</p>\n<p>How can I solve this, so that deserialization runs okay, as in the first example?</p>\n"},{"tags":["java","android","kotlin","android-audiomanager","mediacontroller"],"owner":{"account_id":27693725,"reputation":1,"user_id":21139890,"display_name":"jerale1626"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675421561,"creation_date":1675421487,"question_id":75334645,"body_markdown":"Following this demo: https://github.com/googlesamples/android-media-controller\r\n\r\nI have this \r\n\r\n\r\n        if (playbackState == null) {\r\n            Log.e(TAG, &quot;Failed to update media info, null PlaybackState.&quot;);\r\n            return null;\r\n        }\r\n\r\n        Map&lt;String, String&gt; mediaInfos = new HashMap&lt;&gt;();\r\n        mediaInfos.put(getString(R.string.info_state_string),\r\n                playbackStateToName(playbackState.getState()));\r\n\r\n        MediaMetadataCompat mediaMetadata = mController.getMetadata();\r\n        if (mediaMetadata != null) {\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_title_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_artist_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_album_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\r\n\r\n            binding.controlsPage.mediaTitle.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\r\n            binding.controlsPage.mediaArtist.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\r\n            binding.controlsPage.mediaAlbum.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\r\n\r\n            final Bitmap art = mediaMetadata.getBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART);\r\n            if (art != null) {\r\n                binding.controlsPage.mediaArt.setImageBitmap(art);\r\n            } else {\r\n                binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\r\n            }\r\n            // Prefer user rating, but fall back to global rating if available.\r\n            RatingCompat rating =\r\n                    mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_USER_RATING);\r\n            if (rating == null) {\r\n                rating = mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_RATING);\r\n            }\r\n            mRatingUiHelper.setRating(rating);\r\n        } else {\r\n            binding.controlsPage.mediaArtist.setText(R.string.media_info_default);\r\n            binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\r\n            mRatingUiHelper.setRating(null);\r\n        }\r\n\r\n        final long actions = playbackState.getActions();\r\n\r\n\r\n`\r\n\r\nI&#39;m interested in getting the current pitch and changing it to the one I want.\r\n\r\n\r\n\r\n\r\n\r\nI can see this api here https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters) does what I want, but it&#39;s only for the MediaController, not for the MediaControllerCompat.\r\n\r\nI tried doing `mController.getMediaController()`\r\nhttps://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController() with no changes at all.\r\n\r\nAny ideas?","title":"use setPlaybackParameters in MediaControllerCompat","body":"<p>Following this demo: <a href=\"https://github.com/googlesamples/android-media-controller\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-media-controller</a></p>\n<p>I have this</p>\n<pre><code>    if (playbackState == null) {\n        Log.e(TAG, &quot;Failed to update media info, null PlaybackState.&quot;);\n        return null;\n    }\n\n    Map&lt;String, String&gt; mediaInfos = new HashMap&lt;&gt;();\n    mediaInfos.put(getString(R.string.info_state_string),\n            playbackStateToName(playbackState.getState()));\n\n    MediaMetadataCompat mediaMetadata = mController.getMetadata();\n    if (mediaMetadata != null) {\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_title_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_artist_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_album_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\n\n        binding.controlsPage.mediaTitle.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\n        binding.controlsPage.mediaArtist.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\n        binding.controlsPage.mediaAlbum.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\n\n        final Bitmap art = mediaMetadata.getBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART);\n        if (art != null) {\n            binding.controlsPage.mediaArt.setImageBitmap(art);\n        } else {\n            binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\n        }\n        // Prefer user rating, but fall back to global rating if available.\n        RatingCompat rating =\n                mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_USER_RATING);\n        if (rating == null) {\n            rating = mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_RATING);\n        }\n        mRatingUiHelper.setRating(rating);\n    } else {\n        binding.controlsPage.mediaArtist.setText(R.string.media_info_default);\n        binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\n        mRatingUiHelper.setRating(null);\n    }\n\n    final long actions = playbackState.getActions();\n</code></pre>\n<p>`</p>\n<p>I'm interested in getting the current pitch and changing it to the one I want.</p>\n<p>I can see this api here <a href=\"https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters)</a> does what I want, but it's only for the MediaController, not for the MediaControllerCompat.</p>\n<p>I tried doing <code>mController.getMediaController()</code>\n<a href=\"https://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController()</a> with no changes at all.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","eclipse","maven","meta-inf","serviceloader"],"answers":[{"tags":[],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496505893,"creation_date":1496505893,"answer_id":44345907,"question_id":44345359,"body_markdown":"From the code snippet of your class `HelloWorldPlugin` it is not clear which interface is &#39;the contract&#39;. And in the link that you gave:\r\n\r\n&gt; If you have multiple interfaces and/or base type, the library cannot infer the contract type. In such a case, specify the contract type explicitly by giving it to @MetaInfServices ..\r\n\r\nSo first of all you have to be sure which contract you wish to fulfill and if the parent class(es) implement several then you&#39;ll need to explicitly state which one in the `@MetaInfServices` annotation.\r\n\r\nThat&#39;s the first thing to check I think.\r\n\r\n","title":"ServiceLoader and META-INF/services generator between different modules in maven?","body":"<p>From the code snippet of your class <code>HelloWorldPlugin</code> it is not clear which interface is 'the contract'. And in the link that you gave:</p>\n\n<blockquote>\n  <p>If you have multiple interfaces and/or base type, the library cannot infer the contract type. In such a case, specify the contract type explicitly by giving it to @MetaInfServices ..</p>\n</blockquote>\n\n<p>So first of all you have to be sure which contract you wish to fulfill and if the parent class(es) implement several then you'll need to explicitly state which one in the <code>@MetaInfServices</code> annotation.</p>\n\n<p>That's the first thing to check I think.</p>\n"}],"owner":{"account_id":10147137,"reputation":109,"user_id":7494942,"accept_rate":30,"display_name":"Armin Beda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675421307,"creation_date":1496502548,"question_id":44345359,"body_markdown":"I would like to use service ServiceLoader between diferrent modules in a maven Project. I have a parent module called iMage. In the parent module there is a module with a name jmjrst.main and it has a public abstract class called `JmjrstPlugin`.\r\n\r\nThen there is another module called prizm-plugin with the following class:\r\n\r\n    public class HelloWorldPlugin extends JmjrstPlugin{ ... }\r\n\r\nI added `jmjrst.main` as a dependency to `prizm-plugin` and vica-versa as well. \r\n\r\nIn order to use ServiceLoader I wanted to use [META-INF/services generator][1].\r\nI added the following line to the pom.xml of prizm-plugin:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.kohsuke.metainf-services&lt;/groupId&gt;\r\n      &lt;artifactId&gt;metainf-services&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the class HelloWorldPlugin starts like that:\r\n\r\n    @MetaInfServices(JmjrstPlugin.class) \r\n    public class HelloWorldPlugin extends JmjrstPlugin{ ... }\r\n\r\n\r\nOn the website on [META-INF/services generator][1] goes: &quot;When you use javac in JavaSE6, META-INF/services/* files are generated automatically. No additional compiler switches are necessary. This library handles incremental compilation correctly, too.&quot;\r\n\r\nAt my case nothing is generated. Can somebody help me with that? \r\n\r\n  [1]: http://metainf-services.kohsuke.org/","title":"ServiceLoader and META-INF/services generator between different modules in maven?","body":"<p>I would like to use service ServiceLoader between diferrent modules in a maven Project. I have a parent module called iMage. In the parent module there is a module with a name jmjrst.main and it has a public abstract class called <code>JmjrstPlugin</code>.</p>\n<p>Then there is another module called prizm-plugin with the following class:</p>\n<pre><code>public class HelloWorldPlugin extends JmjrstPlugin{ ... }\n</code></pre>\n<p>I added <code>jmjrst.main</code> as a dependency to <code>prizm-plugin</code> and vica-versa as well.</p>\n<p>In order to use ServiceLoader I wanted to use <a href=\"http://metainf-services.kohsuke.org/\" rel=\"nofollow noreferrer\">META-INF/services generator</a>.\nI added the following line to the pom.xml of prizm-plugin:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.kohsuke.metainf-services&lt;/groupId&gt;\n  &lt;artifactId&gt;metainf-services&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And the class HelloWorldPlugin starts like that:</p>\n<pre><code>@MetaInfServices(JmjrstPlugin.class) \npublic class HelloWorldPlugin extends JmjrstPlugin{ ... }\n</code></pre>\n<p>On the website on <a href=\"http://metainf-services.kohsuke.org/\" rel=\"nofollow noreferrer\">META-INF/services generator</a> goes: &quot;When you use javac in JavaSE6, META-INF/services/* files are generated automatically. No additional compiler switches are necessary. This library handles incremental compilation correctly, too.&quot;</p>\n<p>At my case nothing is generated. Can somebody help me with that?</p>\n"},{"tags":["java","package","java-package"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675358496,"post_id":75326720,"comment_id":132916852,"body_markdown":"What happens when you add `public class Competitor {}` to that file? Maybe it&#39;s just a bad error message for not having anything defined in that file? The only file that I know of that makes sense to have only a `package` statement is `package-info.java` (which is mostly used for holding JavaDoc that&#39;s relevant for the whole package).","body":"What happens when you add <code>public class Competitor {}</code> to that file? Maybe it&#39;s just a bad error message for not having anything defined in that file? The only file that I know of that makes sense to have only a <code>package</code> statement is <code>package-info.java</code> (which is mostly used for holding JavaDoc that&#39;s relevant for the whole package)."},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675358726,"post_id":75326720,"comment_id":132916942,"body_markdown":"That doesn&#39;t do it either. This just make no sense.","body":"That doesn&#39;t do it either. This just make no sense."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675359040,"post_id":75326720,"comment_id":132917059,"body_markdown":"I don&#39;t see any other obvious problems. I assume you don&#39;t use Maven or Gradle or anything like that and just configured the project in VS code itself? Can you show us how the source folder(s) are configured? The `testing`  folder being marked as a test source root (if I interpret the icon correctly) seems a bit fishy to me, but that shouldn&#39;t break your `Competitor.java`. Do all the other .java files in your project compile fine?","body":"I don&#39;t see any other obvious problems. I assume you don&#39;t use Maven or Gradle or anything like that and just configured the project in VS code itself? Can you show us how the source folder(s) are configured? The <code>testing</code>  folder being marked as a test source root (if I interpret the icon correctly) seems a bit fishy to me, but that shouldn&#39;t break your <code>Competitor.java</code>. Do all the other .java files in your project compile fine?"},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675359308,"post_id":75326720,"comment_id":132917143,"body_markdown":"Yup, every single file compiles correctly except those in the part2/stage2 folder. I&#39;m only running the code through VScode. I don&#39;t have any configurations outside VScode as far as I&#39;m aware.","body":"Yup, every single file compiles correctly except those in the part2/stage2 folder. I&#39;m only running the code through VScode. I don&#39;t have any configurations outside VScode as far as I&#39;m aware."},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675359540,"post_id":75326720,"comment_id":132917222,"body_markdown":"And yes, the testing file was marked as source. The `ManagerTest.java` file had `package testing;` instead of `package part2.stage2.testing;`, That&#39;s why it was not highlighted red. `package part2.stage2.testing;` should have worked though.","body":"And yes, the testing file was marked as source. The <code>ManagerTest.java</code> file had <code>package testing;</code> instead of <code>package part2.stage2.testing;</code>, That&#39;s why it was not highlighted red. <code>package part2.stage2.testing;</code> should have worked though."}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675392765,"creation_date":1675392765,"answer_id":75331028,"question_id":75326720,"body_markdown":"It&#39;s because in the file `ManagerTest`, the package is declared as `package testing;`. So the extension inferred the source root to be `src/part2/stage2`.\r\n\r\nWhat you can do is:\r\n\r\nChange the package name to:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd then reload VS Code window.\r\n\r\n---\r\n\r\nOr, if you want to disable the auto source root inference and want to specify it by your own. You can leverage the setting `java.project.sourcePaths`\r\n\r\n&gt; Remember to set it in the WORKSPACE scope.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qvnu2.png","title":"Error `The declared package &quot;part2.stage2&quot; does not match the expected package &quot;&quot;` with correct package name","body":"<p>It's because in the file <code>ManagerTest</code>, the package is declared as <code>package testing;</code>. So the extension inferred the source root to be <code>src/part2/stage2</code>.</p>\n<p>What you can do is:</p>\n<p>Change the package name to:</p>\n<p><a href=\"https://i.stack.imgur.com/qvnu2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qvnu2.png\" alt=\"enter image description here\" /></a></p>\n<p>And then reload VS Code window.</p>\n<hr />\n<p>Or, if you want to disable the auto source root inference and want to specify it by your own. You can leverage the setting <code>java.project.sourcePaths</code></p>\n<blockquote>\n<p>Remember to set it in the WORKSPACE scope.</p>\n</blockquote>\n"}],"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331028,"answer_count":1,"score":0,"last_activity_date":1675421152,"creation_date":1675358230,"question_id":75326720,"body_markdown":"So I have a `Competitor.java` file on path: `/home/john/javaStuff/CMTR/src/part2/stage2/Competitor.java`. I have VSCode open in the CMTR. So CMTR is my current working directory if that info is necessary.\r\n\r\nThe only content I have in the `CompetorList.java` file is\r\n```java\r\npackage part2.stage2;\r\n\r\n```\r\nIt seems that the error expects me to not have the package keyword there. If I remove it, it works fine indeed. But I want to use packages. After some Googling, Java does not require a default package, so I don&#39;t know why it wants me to have no package. The file path matches and all other packages work, just not this. Here&#39;s the tree of of structure:\r\nI have other Java files in different stages eg. stage 1 with the same layout and they all work including that of `part1.stage1`. But `part2.stage2` is just misbehaving.\r\n\r\n[![Screenshot of IDE][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPxxq.png","title":"Error `The declared package &quot;part2.stage2&quot; does not match the expected package &quot;&quot;` with correct package name","body":"<p>So I have a <code>Competitor.java</code> file on path: <code>/home/john/javaStuff/CMTR/src/part2/stage2/Competitor.java</code>. I have VSCode open in the CMTR. So CMTR is my current working directory if that info is necessary.</p>\n<p>The only content I have in the <code>CompetorList.java</code> file is</p>\n<pre class=\"lang-java prettyprint-override\"><code>package part2.stage2;\n\n</code></pre>\n<p>It seems that the error expects me to not have the package keyword there. If I remove it, it works fine indeed. But I want to use packages. After some Googling, Java does not require a default package, so I don't know why it wants me to have no package. The file path matches and all other packages work, just not this. Here's the tree of of structure:\nI have other Java files in different stages eg. stage 1 with the same layout and they all work including that of <code>part1.stage1</code>. But <code>part2.stage2</code> is just misbehaving.</p>\n<p><a href=\"https://i.stack.imgur.com/vPxxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPxxq.png\" alt=\"Screenshot of IDE\" /></a></p>\n"},{"tags":["java","arrays","automated-tests"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675336959,"post_id":75322381,"comment_id":132909021,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675337116,"post_id":75322381,"comment_id":132909095,"body_markdown":"It&#39;s my first post here ever. How can I make it better? Thank you for your comment :)","body":"It&#39;s my first post here ever. How can I make it better? Thank you for your comment :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675337173,"post_id":75322381,"comment_id":132909112,"body_markdown":"My comment *tells* you how","body":"My comment <i>tells</i> you how"},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675337382,"post_id":75322381,"comment_id":132909173,"body_markdown":"Changed it a bit. Is it better?","body":"Changed it a bit. Is it better?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675337857,"post_id":75322381,"comment_id":132909319,"body_markdown":"@Viktor: yes, better, but the test is still just in screenshot form. [This post explains](https://meta.stackoverflow.com/q/285551/40342) why that&#39;s bad.","body":"@Viktor: yes, better, but the test is still just in screenshot form. <a href=\"https://meta.stackoverflow.com/q/285551/40342\">This post explains</a> why that&#39;s bad."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675337916,"post_id":75322381,"comment_id":132909343,"body_markdown":"As to your question: arrays can&#39;t be resized and you start with size 0. So you need to copy everything into a new array when you find another hit (or start with a &quot;too big&quot; one and resize down at the end of the method or use an `ArrayList` during the method and convert to an array at the end).","body":"As to your question: arrays can&#39;t be resized and you start with size 0. So you need to copy everything into a new array when you find another hit (or start with a &quot;too big&quot; one and resize down at the end of the method or use an <code>ArrayList</code> during the method and convert to an array at the end)."},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675338868,"post_id":75322381,"comment_id":132909653,"body_markdown":"@Joachim Sauer For now, I know that in &quot;searchBy&quot; I should add some code in if { ... }, but my newbie java brain can&#39;t think of an idea, what to write haha","body":"@Joachim Sauer For now, I know that in &quot;searchBy&quot; I should add some code in if { ... }, but my newbie java brain can&#39;t think of an idea, what to write haha"}],"answers":[{"tags":[],"owner":{"account_id":18026647,"reputation":26,"user_id":13102408,"display_name":"WhiteKnight9801"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675348916,"creation_date":1675348895,"answer_id":75324778,"question_id":75322381,"body_markdown":"This is how the searchBy() method should be implemented with an ArrayList. Notice the method still returns an array by calling the toArray() method on the ArrayList object at the end. But the toArray() method returns an array of Object so you must cast it to Product, that is what the (Product[]) before the result.toArray() does. \r\n\r\nDon&#39;t for get to import java.util.ArrayList;\r\n\r\n    public Product[] searchBy() {\r\n    ArrayList&lt;Product&gt; result = new ArrayList&lt;Product&gt;();\r\n        for (Product product : repo.findAll()) {\r\n            if (matches(product, text)) {\r\n                for (int i = 0; i &lt; result.length ; i++)\r\n                    result.add(product);\r\n            }\r\n        }\r\n        return (Product[])result.toArray();\r\n    }\r\n\r\n","title":"Add &quot;product&quot; to the end of an array &quot;result&quot;","body":"<p>This is how the searchBy() method should be implemented with an ArrayList. Notice the method still returns an array by calling the toArray() method on the ArrayList object at the end. But the toArray() method returns an array of Object so you must cast it to Product, that is what the (Product[]) before the result.toArray() does.</p>\n<p>Don't for get to import java.util.ArrayList;</p>\n<pre><code>public Product[] searchBy() {\nArrayList&lt;Product&gt; result = new ArrayList&lt;Product&gt;();\n    for (Product product : repo.findAll()) {\n        if (matches(product, text)) {\n            for (int i = 0; i &lt; result.length ; i++)\n                result.add(product);\n        }\n    }\n    return (Product[])result.toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75324778,"answer_count":1,"score":-1,"last_activity_date":1675421117,"creation_date":1675336717,"question_id":75322381,"body_markdown":"I&#39;m trying to make a method that returns an array of all found products. I&#39;m a beginner in Java, so I&#39;ve been thinking for hours and can&#39;t understand this.\r\n\r\n[![Check 16th line][1]][1]\r\n\r\nHere is the code and the screenshot of what I&#39;ve tried and the result:\r\n\r\n```java\r\npublic class ProductManager {\r\n    private ProductRepository repo;\r\n\r\n    public ProductManager(ProductRepository repo) {\r\n        this.repo = repo;\r\n    }\r\n\r\n    public void add(Product product) {\r\n        repo.save(product);\r\n    }\r\n\r\n    public Product[] searchBy(String text) {\r\n        Product[] result = new Product[0];\r\n        for (Product product : repo.findAll()) {\r\n            if (matches(product, text)) {\r\n                for (int i = 0; i &lt; result.length ; i++)\r\n                    result[result.length - 1] = product;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public boolean matches(Product product, String search) {\r\n        if (product.getName().contains(search)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn `shouldFindProducts()` method the test **fails** with:\r\n\r\n    org.opentest4j.AssertionFailedError: array lengths differ, expected: &lt;1&gt; but was: &lt;0&gt;\r\n\r\nMy **TestClass**:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class ProductManagerTest {\r\n\r\n    ProductRepository repo = new ProductRepository();\r\n    ProductManager manager = new ProductManager(repo);\r\n\r\n    Product product1 = new Product(1, &quot;футболка&quot;, 550);\r\n    Product product2 = new Product(2, &quot;весна&quot;, 480);\r\n    Product product3 = new Product(45, &quot;iphone 12&quot;, 34800);\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        manager.add(product1);\r\n        manager.add(product2);\r\n        manager.add(product3);\r\n    }\r\n\r\n    @Test\r\n    public void shouldFindProducts() {\r\n\r\n        manager.matches(product2, &quot;весна&quot;);\r\n\r\n        Product[] expected = {product2};\r\n        Product[] actual = manager.searchBy(&quot;весна&quot;);\r\n\r\n        Assertions.assertArrayEquals(expected, actual);\r\n\r\n    }\r\n}\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/BQkJY.png","title":"Add &quot;product&quot; to the end of an array &quot;result&quot;","body":"<p>I'm trying to make a method that returns an array of all found products. I'm a beginner in Java, so I've been thinking for hours and can't understand this.</p>\n<p><a href=\"https://i.stack.imgur.com/BQkJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQkJY.png\" alt=\"Check 16th line\" /></a></p>\n<p>Here is the code and the screenshot of what I've tried and the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductManager {\n    private ProductRepository repo;\n\n    public ProductManager(ProductRepository repo) {\n        this.repo = repo;\n    }\n\n    public void add(Product product) {\n        repo.save(product);\n    }\n\n    public Product[] searchBy(String text) {\n        Product[] result = new Product[0];\n        for (Product product : repo.findAll()) {\n            if (matches(product, text)) {\n                for (int i = 0; i &lt; result.length ; i++)\n                    result[result.length - 1] = product;\n            }\n        }\n        return result;\n    }\n\n    public boolean matches(Product product, String search) {\n        if (product.getName().contains(search)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>In <code>shouldFindProducts()</code> method the test <strong>fails</strong> with:</p>\n<pre><code>org.opentest4j.AssertionFailedError: array lengths differ, expected: &lt;1&gt; but was: &lt;0&gt;\n</code></pre>\n<p>My <strong>TestClass</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class ProductManagerTest {\n\n    ProductRepository repo = new ProductRepository();\n    ProductManager manager = new ProductManager(repo);\n\n    Product product1 = new Product(1, &quot;футболка&quot;, 550);\n    Product product2 = new Product(2, &quot;весна&quot;, 480);\n    Product product3 = new Product(45, &quot;iphone 12&quot;, 34800);\n\n    @BeforeEach\n    public void setup() {\n        manager.add(product1);\n        manager.add(product2);\n        manager.add(product3);\n    }\n\n    @Test\n    public void shouldFindProducts() {\n\n        manager.matches(product2, &quot;весна&quot;);\n\n        Product[] expected = {product2};\n        Product[] actual = manager.searchBy(&quot;весна&quot;);\n\n        Assertions.assertArrayEquals(expected, actual);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","git","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675420536,"creation_date":1675345901,"answer_id":75324147,"question_id":75323449,"body_markdown":"[Gradle Build Cache](https://docs.gradle.org/current/userguide/build_cache.html) will automatically track the inputs and outputs of tasks and will skip any that have not changed.\r\n\r\n#### Enabling Gradle Build Cache\r\n\r\nIt can be enabled locally by adding in `gradle.properties`\r\n\r\n```lang-properties\r\norg.gradle.caching=true\r\n```\r\n\r\nor by adding a flag to the command line\r\n\r\n```lang-shell\r\n./gradlew tests --build-cache\r\n```\r\n\r\n#### Sharing the build cache\r\n\r\nThe build cache for a project [can be shared](https://docs.gradle.org/current/userguide/build_cache.html#sec:build_cache_setup_http_backend) across multiple machines over HTTP. Sharing the build cache remotely isn&#39;t necessary - it can still work, even if the cache is stored locally.\r\n\r\n#### Register task inputs\r\n\r\nGradle needs to know about the all inputs and outputs of tasks, otherwise tasks might be skipped, so make sure they are correctly registered. \r\n\r\nFor example, if some integration tests depend on an environment variable, then register the environment variable as a test-task input.\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\ntasks.named(&quot;integrationTest&quot;) {\r\n  // TEST_TASK_QUALITY is used in integration tests to change &lt;blah blah blah&gt;\r\n  // register it as an input so Gradle knows when to re-run the tests\r\n  inputs.property(&quot;TEST_TASK_QUALITY&quot;, providers.environmentVariable(&quot;TEST_TASK_QUALITY&quot;))\r\n}\r\n```\r\n\r\n#### Stable task outputs\r\n\r\nGradle will use the outputs of some tasks as the inputs of other tasks. If the outputs aren&#39;t stable, then Gradle will always re-run the dependent tasks.\r\n\r\nFor that reason, it&#39;s worth enabling [reproducible builds](https://docs.gradle.org/current/userguide/working_with_files.html#sec:reproducible_archives) in all projects.\r\n\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\ntasks.withType&lt;AbstractArchiveTask&gt;().configureEach {\r\n    isPreserveFileTimestamps = false\r\n    isReproducibleFileOrder = true\r\n}\r\n```\r\n\r\nAlso, consider [input normalization](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:configure_input_normalization) for any custom files your project has.","title":"How to build only modified modules and dependencies in Gradle","body":"<p><a href=\"https://docs.gradle.org/current/userguide/build_cache.html\" rel=\"nofollow noreferrer\">Gradle Build Cache</a> will automatically track the inputs and outputs of tasks and will skip any that have not changed.</p>\n<h4>Enabling Gradle Build Cache</h4>\n<p>It can be enabled locally by adding in <code>gradle.properties</code></p>\n<pre class=\"lang-properties prettyprint-override\"><code>org.gradle.caching=true\n</code></pre>\n<p>or by adding a flag to the command line</p>\n<pre class=\"lang-shell prettyprint-override\"><code>./gradlew tests --build-cache\n</code></pre>\n<h4>Sharing the build cache</h4>\n<p>The build cache for a project <a href=\"https://docs.gradle.org/current/userguide/build_cache.html#sec:build_cache_setup_http_backend\" rel=\"nofollow noreferrer\">can be shared</a> across multiple machines over HTTP. Sharing the build cache remotely isn't necessary - it can still work, even if the cache is stored locally.</p>\n<h4>Register task inputs</h4>\n<p>Gradle needs to know about the all inputs and outputs of tasks, otherwise tasks might be skipped, so make sure they are correctly registered.</p>\n<p>For example, if some integration tests depend on an environment variable, then register the environment variable as a test-task input.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\ntasks.named(&quot;integrationTest&quot;) {\n  // TEST_TASK_QUALITY is used in integration tests to change &lt;blah blah blah&gt;\n  // register it as an input so Gradle knows when to re-run the tests\n  inputs.property(&quot;TEST_TASK_QUALITY&quot;, providers.environmentVariable(&quot;TEST_TASK_QUALITY&quot;))\n}\n</code></pre>\n<h4>Stable task outputs</h4>\n<p>Gradle will use the outputs of some tasks as the inputs of other tasks. If the outputs aren't stable, then Gradle will always re-run the dependent tasks.</p>\n<p>For that reason, it's worth enabling <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:reproducible_archives\" rel=\"nofollow noreferrer\">reproducible builds</a> in all projects.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\ntasks.withType&lt;AbstractArchiveTask&gt;().configureEach {\n    isPreserveFileTimestamps = false\n    isReproducibleFileOrder = true\n}\n</code></pre>\n<p>Also, consider <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:configure_input_normalization\" rel=\"nofollow noreferrer\">input normalization</a> for any custom files your project has.</p>\n"}],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675420536,"creation_date":1675342220,"question_id":75323449,"body_markdown":"I use [gitflow-incremental-builder][1] with Maven in a monorepo model. It allows me to:\r\n- Build only these modules in feature branch that differ from main branch.\r\n- Build only these modules that changed from last successful build tag.\r\n- When a library changes, build all the modules that use it.\r\n- Build a library if needed for modules, but if nothing changed, skip tests (`skipTestsForUpstreamModules`)\r\n- Force build all.\r\n\r\nChanges are resolved using git log and then it affects the reactor config.\r\n\r\nI am looking for a similar tool that will do it for Gradle. \r\n\r\n  [1]: https://github.com/gitflow-incremental-builder/gitflow-incremental-builder#configuration","title":"How to build only modified modules and dependencies in Gradle","body":"<p>I use <a href=\"https://github.com/gitflow-incremental-builder/gitflow-incremental-builder#configuration\" rel=\"nofollow noreferrer\">gitflow-incremental-builder</a> with Maven in a monorepo model. It allows me to:</p>\n<ul>\n<li>Build only these modules in feature branch that differ from main branch.</li>\n<li>Build only these modules that changed from last successful build tag.</li>\n<li>When a library changes, build all the modules that use it.</li>\n<li>Build a library if needed for modules, but if nothing changed, skip tests (<code>skipTestsForUpstreamModules</code>)</li>\n<li>Force build all.</li>\n</ul>\n<p>Changes are resolved using git log and then it affects the reactor config.</p>\n<p>I am looking for a similar tool that will do it for Gradle.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675336730,"post_id":75322363,"comment_id":132908933,"body_markdown":"For starters `T extends Object` is the same as just `T`","body":"For starters <code>T extends Object</code> is the same as just <code>T</code>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1675336805,"post_id":75322363,"comment_id":132908957,"body_markdown":"The `String e` param is not necessarily the key type. The type key is T, which may be String, but may also be literally anything else.","body":"The <code>String e</code> param is not necessarily the key type. The type key is T, which may be String, but may also be literally anything else."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675337536,"creation_date":1675336812,"answer_id":75322398,"question_id":75322363,"body_markdown":"`get()` requires as an argument a key, which is of type `T`, not `String`.\r\n\r\nSo either you need to change `e` to type `T` or change the type of the `Map`, e.g., to `TestMap&lt;String, T&gt;`.","title":"Java generic T extends Object","body":"<p><code>get()</code> requires as an argument a key, which is of type <code>T</code>, not <code>String</code>.</p>\n<p>So either you need to change <code>e</code> to type <code>T</code> or change the type of the <code>Map</code>, e.g., to <code>TestMap&lt;String, T&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419957,"creation_date":1675417846,"answer_id":75334012,"question_id":75322363,"body_markdown":"Generics describe what an Object is, `List&lt;String&gt; strings` is a list of `String`s. That gives us some convenience, we don&#39;t have to cast. `String s = strings.get(0);` and we get some compile-time protection. `Integer i = 1;` then `strings.add(i);` fails to compile. \r\n\r\nThe error you are getting is a compile time protection. The key you&#39;re providing is an Object, so it *might* be the correct type. In the case of a map, &quot;why not check?&quot; It is just going to hashcode and check for equality which is ok. In the case of a List though, `strings.add((Object)i);` *needs to fail*.\r\n\r\nIf the doesn&#39;t fail, then later something might call. `for(String s: strings)` and get a class cast exception. \r\n\r\nTo fix this you can change you `V get(K k)` method to a `V get(Object k)` the same as map uses. **Your get method requires type `K` a map normally has a get method with a `Object`**\r\n\r\nAs mentioned &quot;T extends Object&quot; is the same as just &quot;T&quot;. You use the extends when you want to put a lower bound on something. `public &lt;T extends Number&gt; int sum(List&lt;T&gt; numbers)`. In this case &quot;T&quot; can be any class that extends numbers. We can do `Number n = numbers.get(0);` because we know it is *at least* a number. But we could not do `numbers.add(n);` because while `T` is at least a number, it could be something else like an Integer, Double, Number, BigDecimal etc.","title":"Java generic T extends Object","body":"<p>Generics describe what an Object is, <code>List&lt;String&gt; strings</code> is a list of <code>String</code>s. That gives us some convenience, we don't have to cast. <code>String s = strings.get(0);</code> and we get some compile-time protection. <code>Integer i = 1;</code> then <code>strings.add(i);</code> fails to compile.</p>\n<p>The error you are getting is a compile time protection. The key you're providing is an Object, so it <em>might</em> be the correct type. In the case of a map, &quot;why not check?&quot; It is just going to hashcode and check for equality which is ok. In the case of a List though, <code>strings.add((Object)i);</code> <em>needs to fail</em>.</p>\n<p>If the doesn't fail, then later something might call. <code>for(String s: strings)</code> and get a class cast exception.</p>\n<p>To fix this you can change you <code>V get(K k)</code> method to a <code>V get(Object k)</code> the same as map uses. <strong>Your get method requires type <code>K</code> a map normally has a get method with a <code>Object</code></strong></p>\n<p>As mentioned &quot;T extends Object&quot; is the same as just &quot;T&quot;. You use the extends when you want to put a lower bound on something. <code>public &lt;T extends Number&gt; int sum(List&lt;T&gt; numbers)</code>. In this case &quot;T&quot; can be any class that extends numbers. We can do <code>Number n = numbers.get(0);</code> because we know it is <em>at least</em> a number. But we could not do <code>numbers.add(n);</code> because while <code>T</code> is at least a number, it could be something else like an Integer, Double, Number, BigDecimal etc.</p>\n"}],"owner":{"account_id":27202239,"reputation":3,"user_id":20734346,"display_name":"rimrotarorot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675419957,"creation_date":1675336623,"question_id":75322363,"body_markdown":"Given the following class:\r\n\r\n\r\n```\r\npublic class TestMap&lt;K,V&gt; {\r\n\tprivate HashMap&lt;K,V&gt; map;\r\n\tpublic void put(K k, V v) {\r\n\t\tmap.put(k, v);\r\n\t}\r\n\tpublic V get(K k) {\r\n\t\treturn map.get(k);\r\n\t}\r\n}\r\n```\r\n\r\nand this function:\r\n\r\n```\r\nstatic&lt;T extends Object&gt; String getObj(TestMap&lt;T, String&gt; m, String e) {\r\n\treturn m.get(e);\r\n} \r\n```\r\n\r\nWhy does &quot;get&quot; show this error:\r\n`The method get(T) in the type MyHashMap&lt;T,String&gt; is not applicable for the arguments (String)`\r\n\r\nWhen `getObj` states `T extends Object`, and the map has been initialized with `TestMap&lt;T, String&gt; m`, why can&#39;t String be used as parameter? I cant wrap my head around why this doesnt work, as String is a subtype of Object ?\r\n\r\nI tried extending T from a custom superclass and using a subclass instead of String.","title":"Java generic T extends Object","body":"<p>Given the following class:</p>\n<pre><code>public class TestMap&lt;K,V&gt; {\n    private HashMap&lt;K,V&gt; map;\n    public void put(K k, V v) {\n        map.put(k, v);\n    }\n    public V get(K k) {\n        return map.get(k);\n    }\n}\n</code></pre>\n<p>and this function:</p>\n<pre><code>static&lt;T extends Object&gt; String getObj(TestMap&lt;T, String&gt; m, String e) {\n    return m.get(e);\n} \n</code></pre>\n<p>Why does &quot;get&quot; show this error:\n<code>The method get(T) in the type MyHashMap&lt;T,String&gt; is not applicable for the arguments (String)</code></p>\n<p>When <code>getObj</code> states <code>T extends Object</code>, and the map has been initialized with <code>TestMap&lt;T, String&gt; m</code>, why can't String be used as parameter? I cant wrap my head around why this doesnt work, as String is a subtype of Object ?</p>\n<p>I tried extending T from a custom superclass and using a subclass instead of String.</p>\n"},{"tags":["java","database","hibernate","methods"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1675419150,"post_id":75334185,"comment_id":132929375,"body_markdown":"`query.toString()`--Your query is not the _result_ of the query. You need to execute the query and look at the result.","body":"<code>query.toString()</code>--Your query is not the <i>result</i> of the query. You need to execute the query and look at the result."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419746,"creation_date":1675419746,"answer_id":75334337,"question_id":75334185,"body_markdown":"The best thing you can do to learn a new language/technology is to just try out stuff and to figure it out yourself!\r\n\r\nE.g. try using a debugger - If you don&#39;t know what that is or how to use it, just watch a tutorial online :) This helps a ton on finding out, what exactly is wrong with your code -&gt; Thus helping you narrowing down your problem even more, so you can e.g. google more specific questions.\r\n\r\nBut to answer your question, and maybe a few more:\r\n\r\n### Transactions\r\nGenerally, you don&#39;t have to create a transaction for each query; As long as it&#39;s just a SELECT. (You&#39;re not changing anything in the DB, which means you&#39;re not altering any information; Nothing happens to your data, even if your program were to crash).\r\n\r\nSpeaking of transactions: `transaction.commit()` does not execute your query. It just commits the transaction; Meaning, it&#39;s not rolled back.\r\n\r\n### The query itself\r\n\r\nAs stated previously, `transaction.commit()` doesn&#39;t execute any queries.\r\n&lt;br/&gt;\r\nAnd spoiler alert: `query.toString()` doesn&#39;t do it either. \r\n\r\nYou should use `query.getResultList()` and then you&#39;re able to iterate over it by e.g. using a while loop.\r\n\r\n### Cleaner syntax\r\n\r\nYou can also link multiple things together like this:\r\n\r\n```\r\nem.createNativeQuery(&quot;...&quot;, User.class)\r\n    .setParameter(...)\r\n    .getResultList();\r\n```","title":"Java method to log in from user from hibernate","body":"<p>The best thing you can do to learn a new language/technology is to just try out stuff and to figure it out yourself!</p>\n<p>E.g. try using a debugger - If you don't know what that is or how to use it, just watch a tutorial online :) This helps a ton on finding out, what exactly is wrong with your code -&gt; Thus helping you narrowing down your problem even more, so you can e.g. google more specific questions.</p>\n<p>But to answer your question, and maybe a few more:</p>\n<h3>Transactions</h3>\n<p>Generally, you don't have to create a transaction for each query; As long as it's just a SELECT. (You're not changing anything in the DB, which means you're not altering any information; Nothing happens to your data, even if your program were to crash).</p>\n<p>Speaking of transactions: <code>transaction.commit()</code> does not execute your query. It just commits the transaction; Meaning, it's not rolled back.</p>\n<h3>The query itself</h3>\n<p>As stated previously, <code>transaction.commit()</code> doesn't execute any queries.\n<br/>\nAnd spoiler alert: <code>query.toString()</code> doesn't do it either.</p>\n<p>You should use <code>query.getResultList()</code> and then you're able to iterate over it by e.g. using a while loop.</p>\n<h3>Cleaner syntax</h3>\n<p>You can also link multiple things together like this:</p>\n<pre><code>em.createNativeQuery(&quot;...&quot;, User.class)\n    .setParameter(...)\n    .getResultList();\n</code></pre>\n"}],"owner":{"account_id":27670190,"reputation":11,"user_id":21121178,"display_name":"Maks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675419746,"creation_date":1675418925,"question_id":75334185,"body_markdown":"I learning Java, SQL, Hibernate and I must make a method to log in as user from MySQL DB. I&#39;m trying write the code but I can&#39;t compare String from scanner and from DB. I don&#39;t have Spring for now.\r\n\r\n    import com.sda.util.HibernateUtil;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.Query;\r\n    import java.util.Scanner;\r\n\r\n    public class UserLogging {\r\n        EntityManager em = HibernateUtil.getSessionFactory().createEntityManager();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n\r\n        public void logging() {\r\n\r\n\r\n            System.out.println(&quot;Enter email:&quot;);\r\n            String userInputEmail = scanner.nextLine();\r\n\r\n\r\n\r\n            em.getTransaction().begin();\r\n            Query query = em.createNativeQuery(&quot;select from user u where u.email = :?&quot;, User.class);\r\n            query.setParameter(&quot;?&quot;, userInputEmail);\r\n\r\n\r\n            if (userInputEmail.equals(query.toString())) {\r\n\r\n                System.out.println(&quot;You are logged in.&quot;);\r\n            } else\r\n                System.out.println(&quot;Login failed.&quot;);\r\n\r\n\r\n            em.getTransaction().commit();\r\n\r\n        }\r\n    }","title":"Java method to log in from user from hibernate","body":"<p>I learning Java, SQL, Hibernate and I must make a method to log in as user from MySQL DB. I'm trying write the code but I can't compare String from scanner and from DB. I don't have Spring for now.</p>\n<pre><code>import com.sda.util.HibernateUtil;\nimport javax.persistence.EntityManager;\nimport javax.persistence.Query;\nimport java.util.Scanner;\n\npublic class UserLogging {\n    EntityManager em = HibernateUtil.getSessionFactory().createEntityManager();\n    Scanner scanner = new Scanner(System.in);\n\n\n    public void logging() {\n\n\n        System.out.println(&quot;Enter email:&quot;);\n        String userInputEmail = scanner.nextLine();\n\n\n\n        em.getTransaction().begin();\n        Query query = em.createNativeQuery(&quot;select from user u where u.email = :?&quot;, User.class);\n        query.setParameter(&quot;?&quot;, userInputEmail);\n\n\n        if (userInputEmail.equals(query.toString())) {\n\n            System.out.println(&quot;You are logged in.&quot;);\n        } else\n            System.out.println(&quot;Login failed.&quot;);\n\n\n        em.getTransaction().commit();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1489064883,"post_id":42696178,"comment_id":72514327,"body_markdown":"The static variable is being initialized, so the constructor will be run. What would you expect to happen?","body":"The static variable is being initialized, so the constructor will be run. What would you expect to happen?"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1489064937,"post_id":42696178,"comment_id":72514359,"body_markdown":"Can you *simplify* this code to specifically the one thing you&#39;re trying to demonstrate, and specify the exact output you&#39;re seeing?","body":"Can you <i>simplify</i> this code to specifically the one thing you&#39;re trying to demonstrate, and specify the exact output you&#39;re seeing?"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1489074214,"post_id":42696178,"comment_id":72520998,"body_markdown":"Are you quite sure that the exact code you posted here actually compiled?","body":"Are you quite sure that the exact code you posted here actually compiled?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489078120,"post_id":42696178,"comment_id":72523924,"body_markdown":"I have compiled and run it. @LewBloch","body":"I have compiled and run it. @LewBloch"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1489096443,"post_id":42696178,"comment_id":72534226,"body_markdown":"My mistake. I think I confused the `i` and `j` declarations.","body":"My mistake. I think I confused the <code>i</code> and <code>j</code> declarations."}],"answers":[{"tags":[],"owner":{"account_id":10417146,"reputation":135,"user_id":7680884,"display_name":"Ocean15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1489064985,"creation_date":1489064985,"answer_id":42696293,"question_id":42696178,"body_markdown":"You dont do a `static call` there. The `new Object()` &quot;method&quot; calls the `constructor` and is never `static`.  ","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<p>You dont do a <code>static call</code> there. The <code>new Object()</code> \"method\" calls the <code>constructor</code> and is never <code>static</code>.  </p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489066229,"creation_date":1489066229,"answer_id":42696722,"question_id":42696178,"body_markdown":"Output from your program:\r\n\r\n    1:j i=0 n=0\r\n    2:构造块 i=1 n=1\r\n    3:t1 i=2 n=2 this:mypackage.StaticTest@6d06d69c\r\n    4:j i=3 n=3\r\n    5:构造块 i=4 n=4\r\n    6:t2 i=5 n=5 this:mypackage.StaticTest@7852e922\r\n    7:i i=6 n=6\r\n    8:静态块 i=7 n=99\r\n    9:j i=8 n=100\r\n    10:构造块 i=9 n=101\r\n    11:init i=10 n=102 this:mypackage.StaticTest@4e25154f\r\n\r\nYou are correct that Java embarks on doing the static initializations first, from the top, before invoking the `main` method. Things are getting a little more complicated when you do\r\n\r\n\tpublic static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n\r\nAt this point, even though the static initializtions are not complete, the creation of the `t1` instance begins. I don’t think I would ever dare rely on someting like this working in my code. Anyway, construction of `t1` involves initializing `j` and running the non-static initializer block (`print(&quot;构造块&quot;);`) and the constructor; this produces lines 1 through 3 in the output. Construction of `t2` produces lines 4 through 6.\r\n\r\nStatic initialization continues with `i` (line 7), `n` and then the static initializer block (line 8).\r\n\r\nFinally `main()` is invoked, creating one more object, which in turn gives you lines 9 through 11.","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<p>Output from your program:</p>\n\n<pre><code>1:j i=0 n=0\n2:构造块 i=1 n=1\n3:t1 i=2 n=2 this:mypackage.StaticTest@6d06d69c\n4:j i=3 n=3\n5:构造块 i=4 n=4\n6:t2 i=5 n=5 this:mypackage.StaticTest@7852e922\n7:i i=6 n=6\n8:静态块 i=7 n=99\n9:j i=8 n=100\n10:构造块 i=9 n=101\n11:init i=10 n=102 this:mypackage.StaticTest@4e25154f\n</code></pre>\n\n<p>You are correct that Java embarks on doing the static initializations first, from the top, before invoking the <code>main</code> method. Things are getting a little more complicated when you do</p>\n\n<pre><code>public static StaticTest t1 = new StaticTest(\"t1\");\n</code></pre>\n\n<p>At this point, even though the static initializtions are not complete, the creation of the <code>t1</code> instance begins. I don’t think I would ever dare rely on someting like this working in my code. Anyway, construction of <code>t1</code> involves initializing <code>j</code> and running the non-static initializer block (<code>print(\"构造块\");</code>) and the constructor; this produces lines 1 through 3 in the output. Construction of <code>t2</code> produces lines 4 through 6.</p>\n\n<p>Static initialization continues with <code>i</code> (line 7), <code>n</code> and then the static initializer block (line 8).</p>\n\n<p>Finally <code>main()</code> is invoked, creating one more object, which in turn gives you lines 9 through 11.</p>\n"}],"owner":{"account_id":8020698,"reputation":13,"user_id":6049448,"display_name":"Third_Thinker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":42696293,"answer_count":2,"score":-3,"last_activity_date":1675419715,"creation_date":1489064706,"question_id":42696178,"body_markdown":"    public class StaticTest {\r\n    \r\n    \tpublic static int k = 0;\r\n    \tpublic static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n    \tpublic static StaticTest t2 = new StaticTest(&quot;t2&quot;);\r\n    \tpublic static int i = print(&quot;i&quot;);\r\n    \tpublic static int n = 99;\r\n    \tpublic int j = print(&quot;j&quot;);\r\n    \r\n    \t{\r\n    \t\tprint(&quot;构造块&quot;);\r\n    \t}\r\n    \r\n    \tstatic {\r\n    \t\tprint(&quot;静态块&quot;);\r\n    \t}\r\n    \r\n    \tpublic StaticTest(String str) {\r\n    \t\tSystem.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n + &quot; this:&quot; + this);\r\n    \t\t++n;\r\n    \t\t++i;\r\n    \t}\r\n    \r\n    \tpublic static int print(String str) {\r\n    \t\tSystem.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n);\r\n    \t\t++i;\r\n    \t\treturn ++n;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew StaticTest(&quot;init&quot;);\r\n    \t}\r\n    }\r\n\r\nthe source code as above,I knew the class loading order，which is **static variable &gt;&gt; static block of code &gt;&gt; member variable &gt;&gt; tectonic block of code &gt;&gt; tectonic method** .what confused me was that when \r\n\r\n&gt; public static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n\r\nexecuted,why the static block of code not ran\r\n\r\n&gt; static{\r\n&gt;         print(&quot;静态块&quot;);\r\n&gt;     }\r\n\r\nbut \r\n\r\n&gt; public int j = print(&quot;j&quot;);\r\n \r\nran? what was happened in it? I hope you could tell me something,I&#39;ll appreciate it.\r\n","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<pre><code>public class StaticTest {\n\n    public static int k = 0;\n    public static StaticTest t1 = new StaticTest(&quot;t1&quot;);\n    public static StaticTest t2 = new StaticTest(&quot;t2&quot;);\n    public static int i = print(&quot;i&quot;);\n    public static int n = 99;\n    public int j = print(&quot;j&quot;);\n\n    {\n        print(&quot;构造块&quot;);\n    }\n\n    static {\n        print(&quot;静态块&quot;);\n    }\n\n    public StaticTest(String str) {\n        System.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n + &quot; this:&quot; + this);\n        ++n;\n        ++i;\n    }\n\n    public static int print(String str) {\n        System.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n);\n        ++i;\n        return ++n;\n    }\n\n    public static void main(String[] args) {\n        new StaticTest(&quot;init&quot;);\n    }\n}\n</code></pre>\n<p>the source code as above,I knew the class loading order，which is <strong>static variable &gt;&gt; static block of code &gt;&gt; member variable &gt;&gt; tectonic block of code &gt;&gt; tectonic method</strong> .what confused me was that when</p>\n<blockquote>\n<p>public static StaticTest t1 = new StaticTest(&quot;t1&quot;);</p>\n</blockquote>\n<p>executed,why the static block of code not ran</p>\n<blockquote>\n<p>static{\nprint(&quot;静态块&quot;);\n}</p>\n</blockquote>\n<p>but</p>\n<blockquote>\n<p>public int j = print(&quot;j&quot;);</p>\n</blockquote>\n<p>ran? what was happened in it? I hope you could tell me something,I'll appreciate it.</p>\n"},{"tags":["java","dictionary","generics","types"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1674071405,"post_id":75164546,"comment_id":132639302,"body_markdown":"Does this answer your question? [What are Generics in Java?](https://stackoverflow.com/questions/7815528/what-are-generics-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7815528/what-are-generics-in-java\">What are Generics in Java?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1674071421,"post_id":75164546,"comment_id":132639307,"body_markdown":"The types are there. They are `K` and `V`. The term you should be looking for is &quot;generics&quot;","body":"The types are there. They are <code>K</code> and <code>V</code>. The term you should be looking for is &quot;generics&quot;"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1674071841,"post_id":75164546,"comment_id":132639419,"body_markdown":"&lt;rant&gt;Wouldn&#39;t it be nice if the &quot;generics&quot; (ie, type parameter) naming convention were NOT from the 1970&#39;s? `KeyType` and `ValueType` would be so much more intuitive than`K` and `V`.&lt;/rant&gt;","body":"&lt;rant&gt;Wouldn&#39;t it be nice if the &quot;generics&quot; (ie, type parameter) naming convention were NOT from the 1970&#39;s? <code>KeyType</code> and <code>ValueType</code> would be so much more intuitive than<code>K</code> and <code>V</code>.&lt;/rant&gt;"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674073454,"post_id":75164546,"comment_id":132639841,"body_markdown":"Think `Integer i` or `String s`","body":"Think <code>Integer i</code> or <code>String s</code>"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419657,"creation_date":1674071720,"answer_id":75164633,"question_id":75164546,"body_markdown":"Even when understanding what are generics this code alone is not really clear.\r\n\r\nTherefore you need to take a look at the top of the `Map` interface declaration\r\n\r\n    public interface Map&lt;K,V&gt;\r\n\r\nRead also:\r\n* [Lesson: Generics][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p>Even when understanding what are generics this code alone is not really clear.</p>\n<p>Therefore you need to take a look at the top of the <code>Map</code> interface declaration</p>\n<pre><code>public interface Map&lt;K,V&gt;\n</code></pre>\n<p>Read also:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Lesson: Generics</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674102983,"creation_date":1674102983,"answer_id":75167801,"question_id":75164546,"body_markdown":"`Map&lt;K, V&gt;` is a _parameterised type_, which means that it represents a whole family of different types, such as\r\n\r\n- `Map&lt;String, Integer&gt;` - a `Map` where the keys are `String`s and the values are `Integer`s\r\n- `Map&lt;Integer, LocalDate&gt;` - a `Map` where the keys are `Integer`s and the values are `LocalDate`s\r\n\r\nand so on.  But there&#39;s a kind of sameness about all these types - they&#39;re all a `Map` where the keys have some type and the values have some other type.  \r\n\r\nNow the processing inside the `Map` is going to be much the same, regardless of the type of its keys or the type of its values.  So none of the code inside `Map.class` should specify what those types are.  Instead, it uses `K` to represent whatever type the keys will be, and `V` to represent whatever type the values will be.  These letters are called _type parameters_, and they are used in `Map.class` as a way to refer to the types that will be used in the `Map`.  \r\n\r\nFor example, if you have a `Map&lt;String, Integer&gt;`, then `K` means `String` and `V` means `Integer`.  If you have a `Map` with different key type and value type, then `K` and `V` will mean something else.\r\n\r\nIn the method that you&#39;ve shown in your question, `k` is a local variable of the type represented by `K` and `v` is a local variable of the type represented by `V`.  Again, if you have a `Map&lt;String, Integer&gt;`, `k` is effectively a `String` variable, and `v` is an `Integer` variable.  But these could actually be any types at all.\r\n\r\nWhere you&#39;ve written `//more code follows...` the code in question will just be pulling a key and value out of the `Map`, pointing the variables `k` and `v` at them, and then applying the `BiConsumer` called `action` to them.\r\n","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p><code>Map&lt;K, V&gt;</code> is a <em>parameterised type</em>, which means that it represents a whole family of different types, such as</p>\n<ul>\n<li><code>Map&lt;String, Integer&gt;</code> - a <code>Map</code> where the keys are <code>String</code>s and the values are <code>Integer</code>s</li>\n<li><code>Map&lt;Integer, LocalDate&gt;</code> - a <code>Map</code> where the keys are <code>Integer</code>s and the values are <code>LocalDate</code>s</li>\n</ul>\n<p>and so on.  But there's a kind of sameness about all these types - they're all a <code>Map</code> where the keys have some type and the values have some other type.</p>\n<p>Now the processing inside the <code>Map</code> is going to be much the same, regardless of the type of its keys or the type of its values.  So none of the code inside <code>Map.class</code> should specify what those types are.  Instead, it uses <code>K</code> to represent whatever type the keys will be, and <code>V</code> to represent whatever type the values will be.  These letters are called <em>type parameters</em>, and they are used in <code>Map.class</code> as a way to refer to the types that will be used in the <code>Map</code>.</p>\n<p>For example, if you have a <code>Map&lt;String, Integer&gt;</code>, then <code>K</code> means <code>String</code> and <code>V</code> means <code>Integer</code>.  If you have a <code>Map</code> with different key type and value type, then <code>K</code> and <code>V</code> will mean something else.</p>\n<p>In the method that you've shown in your question, <code>k</code> is a local variable of the type represented by <code>K</code> and <code>v</code> is a local variable of the type represented by <code>V</code>.  Again, if you have a <code>Map&lt;String, Integer&gt;</code>, <code>k</code> is effectively a <code>String</code> variable, and <code>v</code> is an <code>Integer</code> variable.  But these could actually be any types at all.</p>\n<p>Where you've written <code>//more code follows...</code> the code in question will just be pulling a key and value out of the <code>Map</code>, pointing the variables <code>k</code> and <code>v</code> at them, and then applying the <code>BiConsumer</code> called <code>action</code> to them.</p>\n"}],"owner":{"account_id":27523537,"reputation":3,"user_id":21003264,"display_name":"Dave "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75167801,"answer_count":2,"score":0,"last_activity_date":1675419657,"creation_date":1674071202,"question_id":75164546,"body_markdown":"I&#39;m new to Java and am looking at the forEach method in the Map.class in Java... here is an excerpt of that method:\r\n\r\n```\r\ndefault void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n    Objects.requireNonNull(action);\r\n    for (Map.Entry&lt;K, V&gt; entry : entrySet()) {\r\n        K k;\r\n        V v;\r\n        //more code follows...\r\n```\r\n\r\nMy question is... what is going on with K k; and V v;?  The method goes on the use k and v as local variables so I&#39;m guessing the K k; and V v; lines are assigning the arguments to local variables... but if that&#39;s true why doesn&#39;t this syntax need a type?  Thank you in advance for the help. \r\n\r\n\r\nI didn&#39;t try anything or expect anything... just want to better understand what this code is doing. ","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p>I'm new to Java and am looking at the forEach method in the Map.class in Java... here is an excerpt of that method:</p>\n<pre><code>default void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\n    Objects.requireNonNull(action);\n    for (Map.Entry&lt;K, V&gt; entry : entrySet()) {\n        K k;\n        V v;\n        //more code follows...\n</code></pre>\n<p>My question is... what is going on with K k; and V v;?  The method goes on the use k and v as local variables so I'm guessing the K k; and V v; lines are assigning the arguments to local variables... but if that's true why doesn't this syntax need a type?  Thank you in advance for the help.</p>\n<p>I didn't try anything or expect anything... just want to better understand what this code is doing.</p>\n"},{"tags":["java","spring-boot","mockmvc"],"comments":[{"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"score":0,"creation_date":1675418401,"post_id":75334071,"comment_id":132929119,"body_markdown":"Hello! This is quite hard to know what your issue might be as we don&#39;t have the line number. But I guess the line with `this.mockMvc.perform` throws the NPE?","body":"Hello! This is quite hard to know what your issue might be as we don&#39;t have the line number. But I guess the line with <code>this.mockMvc.perform</code> throws the NPE?"},{"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"score":0,"creation_date":1675418646,"post_id":75334071,"comment_id":132929210,"body_markdown":"Yes, Line 33 is  this.mockMvc.perform, it throws the NPE because mockMvc is null but i don&#39;t know why?","body":"Yes, Line 33 is  this.mockMvc.perform, it throws the NPE because mockMvc is null but i don&#39;t know why?"}],"answers":[{"tags":[],"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675418585,"creation_date":1675418585,"answer_id":75334124,"question_id":75334071,"body_markdown":"I see that your only anontation on your test is `@AutoConfigureMockMvc`. However that is not sufficient to start a Spring Boot application context.\r\n\r\nAs you are targeting a controller you should at least add `@WebMvcTest(controllers=[controller_class_here]`. \r\n\r\nThis will setup everything and maybe resolve your NullPointerException.\r\n\r\nAlso doing so you won&#39;t need the `@AutoconfigureMockMvc` annotation","title":"What is the cause of java.lang.NullPointerException in my spring boot mockMVC test case?","body":"<p>I see that your only anontation on your test is <code>@AutoConfigureMockMvc</code>. However that is not sufficient to start a Spring Boot application context.</p>\n<p>As you are targeting a controller you should at least add <code>@WebMvcTest(controllers=[controller_class_here]</code>.</p>\n<p>This will setup everything and maybe resolve your NullPointerException.</p>\n<p>Also doing so you won't need the <code>@AutoconfigureMockMvc</code> annotation</p>\n"}],"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75334124,"answer_count":1,"score":-1,"last_activity_date":1675418585,"creation_date":1675418199,"question_id":75334071,"body_markdown":"   \r\n**MyCode**\r\n```\r\n @AutoConfigureMockMvc\r\n    public class NewsletterTest {\r\n\r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n\r\n\r\n      @MockBean\r\n      private NewsletterService service;\r\n\r\n      @Test\r\n      public void deleteNewsletterShouldDelete() throws Exception {\r\n\r\n        this.mockMvc.perform(MockMvcRequestBuilders\r\n                .delete(&quot;/delete-newsletter/11&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk());\r\n\r\n        verify(service, times(1)).deleteNewsletter(11L);\r\n\r\n    }\r\n```\r\n\r\n**The error:**\r\n```\r\njava.lang.NullPointerException\r\n\tat controller.NewsletterTest.deleteNewsletterShouldDelete(NewsletterTest.java:33)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat \r\n```\r\n\r\nIn my spring boot test case, I am using @AutoConfigureMockMvc and @MockBean to test a delete method in my newsletter controller. However, I am encountering a java.lang.NullPointerException at line 33 of my test case. I want to understand the cause of this error.","title":"What is the cause of java.lang.NullPointerException in my spring boot mockMVC test case?","body":"<p><strong>MyCode</strong></p>\n<pre><code> @AutoConfigureMockMvc\n    public class NewsletterTest {\n\n      @Autowired\n      private MockMvc mockMvc;\n\n\n      @MockBean\n      private NewsletterService service;\n\n      @Test\n      public void deleteNewsletterShouldDelete() throws Exception {\n\n        this.mockMvc.perform(MockMvcRequestBuilders\n                .delete(&quot;/delete-newsletter/11&quot;)\n                .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk());\n\n        verify(service, times(1)).deleteNewsletter(11L);\n\n    }\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>java.lang.NullPointerException\n    at controller.NewsletterTest.deleteNewsletterShouldDelete(NewsletterTest.java:33)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at \n</code></pre>\n<p>In my spring boot test case, I am using @AutoConfigureMockMvc and @MockBean to test a delete method in my newsletter controller. However, I am encountering a java.lang.NullPointerException at line 33 of my test case. I want to understand the cause of this error.</p>\n"},{"tags":["java","android","dictionary","google-maps"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1685070568,"post_id":75334061,"comment_id":134613074,"body_markdown":"Have you tried this guide from the [documentation](https://developers.google.com/maps/documentation/android-sdk/location)?","body":"Have you tried this guide from the <a href=\"https://developers.google.com/maps/documentation/android-sdk/location\" rel=\"nofollow noreferrer\">documentation</a>?"}],"owner":{"account_id":27426458,"reputation":1,"user_id":20923868,"display_name":"lowstimulate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675418115,"creation_date":1675418115,"question_id":75334061,"body_markdown":"My project use the Android Google Map, hoping to display the positioning blue dot at the current position 。But whether I use all methods, the project cannot show the current blue dot.\r\n   I hope to use the blue dot that comes with Google instead of the mark drawn by myself。\r\n   show code:\r\n\r\nstep1:\r\n```\r\n MapsInitializer.initialize(context, MapsInitializer.Renderer.LATEST, new OnMapsSdkInitializedCallback() {\r\n            @Override\r\n            public void onMapsSdkInitialized(@NonNull MapsInitializer.Renderer renderer) {\r\n                switch (renderer) {\r\n                    case LATEST:\r\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LATEST &quot;);\r\n                        break;\r\n                    case LEGACY:\r\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LEGACY &quot;);\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nstep2：\r\n\r\n```\r\n   mMapViewLayout = (MapView) mapView;\r\n        mMapViewLayout.onCreate(savedInstanceState);\r\n        mMapViewLayout.getMapAsync(this);\r\n```\r\n\r\nstep3: when onMapLoaded run\r\n\r\n```\r\n\r\n            if (ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                mGoogleClient.setMyLocationEnabled(needLocationEnable);// true\r\n             \r\n                UiSettings uiSettings = mGoogleClient.getUiSettings();\r\n                if (uiSettings != null) {\r\n                    uiSettings.setMyLocationButtonEnabled(false);\r\n                }\r\n            } else {\r\n                PermissionUtils.requestPermissions(mainActivity);\r\n            }\r\n\r\n\r\n```\r\n\r\nRuntime Environment:\r\n```\r\n   implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    ...\r\n    compileSdkVersion = 31\r\n\r\n```\r\nin build.gradle\r\n\r\n\r\n\r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\nin manifest.xml\r\n\r\n\r\n```\r\n Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                Manifest.permission.RECORD_AUDIO,\r\n                Manifest.permission.CAMERA,\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                Manifest.permission.READ_PHONE_STATE,\r\n                Manifest.permission.BLUETOOTH_CONNECT,\r\n                Manifest.permission.BLUETOOTH_SCAN\r\n```\r\nin permisstion request\r\n\r\n\r\n\r\n```\r\n    pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n```\r\nin setting.gradle\r\n\r\n\r\nat android version 12\r\n\r\napp screenshot:\r\n[enter image description here](https://i.stack.imgur.com/MuljA.jpg)\r\n\r\n\r\n\r\nIf you can help me, be grateful!Thanks!\r\n\r\n\r\n   I hope to use the blue dot that comes with Google instead of the mark drawn by myself。Because I can display the blue dot normally in the other project, but I really can&#39;t find the difference\r\n","title":"Why my googlemap&#39;s locate blue dot does not shown?","body":"<p>My project use the Android Google Map, hoping to display the positioning blue dot at the current position 。But whether I use all methods, the project cannot show the current blue dot.\nI hope to use the blue dot that comes with Google instead of the mark drawn by myself。\nshow code:</p>\n<p>step1:</p>\n<pre><code> MapsInitializer.initialize(context, MapsInitializer.Renderer.LATEST, new OnMapsSdkInitializedCallback() {\n            @Override\n            public void onMapsSdkInitialized(@NonNull MapsInitializer.Renderer renderer) {\n                switch (renderer) {\n                    case LATEST:\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LATEST &quot;);\n                        break;\n                    case LEGACY:\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LEGACY &quot;);\n                        break;\n                }\n            }\n        });\n</code></pre>\n<p>step2：</p>\n<pre><code>   mMapViewLayout = (MapView) mapView;\n        mMapViewLayout.onCreate(savedInstanceState);\n        mMapViewLayout.getMapAsync(this);\n</code></pre>\n<p>step3: when onMapLoaded run</p>\n<pre><code>\n            if (ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                mGoogleClient.setMyLocationEnabled(needLocationEnable);// true\n             \n                UiSettings uiSettings = mGoogleClient.getUiSettings();\n                if (uiSettings != null) {\n                    uiSettings.setMyLocationButtonEnabled(false);\n                }\n            } else {\n                PermissionUtils.requestPermissions(mainActivity);\n            }\n\n\n</code></pre>\n<p>Runtime Environment:</p>\n<pre><code>   implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n    ...\n    compileSdkVersion = 31\n\n</code></pre>\n<p>in build.gradle</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>in manifest.xml</p>\n<pre><code> Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.RECORD_AUDIO,\n                Manifest.permission.CAMERA,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.READ_PHONE_STATE,\n                Manifest.permission.BLUETOOTH_CONNECT,\n                Manifest.permission.BLUETOOTH_SCAN\n</code></pre>\n<p>in permisstion request</p>\n<pre><code>    pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>in setting.gradle</p>\n<p>at android version 12</p>\n<p>app screenshot:\n<a href=\"https://i.stack.imgur.com/MuljA.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>If you can help me, be grateful!Thanks!</p>\n<p>I hope to use the blue dot that comes with Google instead of the mark drawn by myself。Because I can display the blue dot normally in the other project, but I really can't find the difference</p>\n"},{"tags":["java","android","amazon-web-services","aws-amplify","datastore"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1675291876,"post_id":75316187,"comment_id":132900142,"body_markdown":"Are you interested in using AMazon DyanamoDB with the AWS SDK for Java or this amplify JS script","body":"Are you interested in using AMazon DyanamoDB with the AWS SDK for Java or this amplify JS script"},{"owner":{"account_id":21505789,"reputation":29,"user_id":15849197,"display_name":"jessa"},"score":0,"creation_date":1675322714,"post_id":75316187,"comment_id":132904850,"body_markdown":"@smac2020 Im using Amplify but in Java (for the arduino app im building)","body":"@smac2020 Im using Amplify but in Java (for the arduino app im building)"}],"answers":[{"tags":[],"owner":{"account_id":6447558,"reputation":46,"user_id":4995616,"display_name":"Duncan Skilton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675417899,"creation_date":1675417899,"answer_id":75334019,"question_id":75316187,"body_markdown":"You&#39;re potential going to be sending and retrieving a lot of data from dynamodb. Could you cache the data locally when your app starts, then write the data to dynamodb before your program ends? \r\n\r\nYou could add ZonedDateTime.now() or similar, to record when each point of data is created? If you use Set&lt;ClassName&gt; setName, you could use something like setName.sort(Comparator.comparing(ClassName::getZonedDateTime))","title":"How to retrieve latest item from DynamoDB table (Java)","body":"<p>You're potential going to be sending and retrieving a lot of data from dynamodb. Could you cache the data locally when your app starts, then write the data to dynamodb before your program ends?</p>\n<p>You could add ZonedDateTime.now() or similar, to record when each point of data is created? If you use Set setName, you could use something like setName.sort(Comparator.comparing(ClassName::getZonedDateTime))</p>\n"}],"owner":{"account_id":21505789,"reputation":29,"user_id":15849197,"display_name":"jessa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675417899,"creation_date":1675285562,"question_id":75316187,"body_markdown":"I am trying to create an IoT project where sensor data is sent every second to DynamoDB and an android app has to display it on the front-end. Using AWS Amplify, I was able to build an app that retrieves the data from the table with a button press according to its ID. What I want to retrieve is the latest item from the DB. I believe this can be done by sorting all the items in descending order and limiting the items to be retrieved by 1, and putting it in a loop. \r\n\r\nMy problem is I am having difficulty in writing the correct syntax for it. This is my current code:\r\n\r\n```\r\n    public void readById() {\r\n        String objectId = &quot;f5d470f6-72e2-49b6-bf28-43d7db130de4&quot;;\r\n\r\n        Amplify.DataStore.query(\r\n                MyModel.class,\r\n                Where.id(objectId),\r\n                items -&gt; {\r\n\r\n                    while (items.hasNext()) {\r\n                        MyModel item = items.next();\r\n                        retrievedItem = item.getName().toString();\r\n\r\n                        Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId() + &quot; &quot; + item.getName());\r\n                    }\r\n                    \r\n                },\r\n                failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\r\n        );\r\n    }\r\n```\r\n\r\nThe code below is what I want to achieve, but trying this method did not work because I can&#39;t find the builder() method under QueryOptions or QueryPredicate even though my AWS amplify dependencies is up to date. \r\n```\r\nAmplify.DataStore.query(MyModel.class, QueryOptions.builder()\r\n    .sort(MyModel.TIMESTAMP, SortOrder.DESCENDING)\r\n    .limit(1)\r\n    .build(),\r\n    result -&gt; {\r\n        System.out.println(result.get(0));\r\n    },\r\n    error -&gt; {\r\n        System.out.println(error.getCause());\r\n    });\r\n```\r\n\r\nI saw a code snippet from amplify docs (https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime) about advanced use cases of Query but it does not seem to sync with my code, see image below:\r\n\r\n```\r\nAmplify.addPlugin(AWSDataStorePlugin.builder().dataStoreConfiguration(\r\n    DataStoreConfiguration.builder()\r\n        .syncExpression(User.class, () -&gt; User.LAST_NAME.eq(&quot;Doe&quot;).and(User.CREATED_AT.gt(&quot;2020-10-10&quot;)))\r\n        .build())\r\n    .build());\r\n```\r\n\r\nI am new to AWS so it&#39;s a struggle but I&#39;m willing to learn. Any input is appreciated!","title":"How to retrieve latest item from DynamoDB table (Java)","body":"<p>I am trying to create an IoT project where sensor data is sent every second to DynamoDB and an android app has to display it on the front-end. Using AWS Amplify, I was able to build an app that retrieves the data from the table with a button press according to its ID. What I want to retrieve is the latest item from the DB. I believe this can be done by sorting all the items in descending order and limiting the items to be retrieved by 1, and putting it in a loop.</p>\n<p>My problem is I am having difficulty in writing the correct syntax for it. This is my current code:</p>\n<pre><code>    public void readById() {\n        String objectId = &quot;f5d470f6-72e2-49b6-bf28-43d7db130de4&quot;;\n\n        Amplify.DataStore.query(\n                MyModel.class,\n                Where.id(objectId),\n                items -&gt; {\n\n                    while (items.hasNext()) {\n                        MyModel item = items.next();\n                        retrievedItem = item.getName().toString();\n\n                        Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId() + &quot; &quot; + item.getName());\n                    }\n                    \n                },\n                failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\n        );\n    }\n</code></pre>\n<p>The code below is what I want to achieve, but trying this method did not work because I can't find the builder() method under QueryOptions or QueryPredicate even though my AWS amplify dependencies is up to date.</p>\n<pre><code>Amplify.DataStore.query(MyModel.class, QueryOptions.builder()\n    .sort(MyModel.TIMESTAMP, SortOrder.DESCENDING)\n    .limit(1)\n    .build(),\n    result -&gt; {\n        System.out.println(result.get(0));\n    },\n    error -&gt; {\n        System.out.println(error.getCause());\n    });\n</code></pre>\n<p>I saw a code snippet from amplify docs (<a href=\"https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime\" rel=\"nofollow noreferrer\">https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime</a>) about advanced use cases of Query but it does not seem to sync with my code, see image below:</p>\n<pre><code>Amplify.addPlugin(AWSDataStorePlugin.builder().dataStoreConfiguration(\n    DataStoreConfiguration.builder()\n        .syncExpression(User.class, () -&gt; User.LAST_NAME.eq(&quot;Doe&quot;).and(User.CREATED_AT.gt(&quot;2020-10-10&quot;)))\n        .build())\n    .build());\n</code></pre>\n<p>I am new to AWS so it's a struggle but I'm willing to learn. Any input is appreciated!</p>\n"},{"tags":["java","hashmap","unmodifiable"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1380122850,"post_id":19008993,"comment_id":28084179,"body_markdown":"There is no way to achieve this if the return type of the Method is `java.util.Map`. You can only change the return type to a custom class that wraps a `Map`.","body":"There is no way to achieve this if the return type of the Method is <code>java.util.Map</code>. You can only change the return type to a custom class that wraps a <code>Map</code>."},{"owner":{"account_id":993465,"reputation":2454,"user_id":1010048,"accept_rate":74,"display_name":"Boundless"},"score":0,"creation_date":1380122877,"post_id":19008993,"comment_id":28084203,"body_markdown":"That&#39;s fine, what do I change the return type to?","body":"That&#39;s fine, what do I change the return type to?"},{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1380122945,"post_id":19008993,"comment_id":28084245,"body_markdown":"Perhaps you shouldn&#39;t return the whole map in that case","body":"Perhaps you shouldn&#39;t return the whole map in that case"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1380124112,"post_id":19008993,"comment_id":28085025,"body_markdown":"As a side note, the problem relaxes when you properly unit test your application - this should catch attempts to modify your unmodifiable collections.","body":"As a side note, the problem relaxes when you properly unit test your application - this should catch attempts to modify your unmodifiable collections."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1380127886,"post_id":19008993,"comment_id":28087278,"body_markdown":"If you can use third-party libraries, Guava&#39;s `ImmutableMap` implements the `Map` interface, but marks the mutation methods as `@Deprecated`, so it&#39;ll be a compile-time warning.","body":"If you can use third-party libraries, Guava&#39;s <code>ImmutableMap</code> implements the <code>Map</code> interface, but marks the mutation methods as <code>@Deprecated</code>, so it&#39;ll be a compile-time warning."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380123246,"creation_date":1380122899,"answer_id":19009057,"question_id":19008993,"body_markdown":"You can not do it.\r\n\r\nAn unmodifiable Collection is an *implementation* choice, not a *type*.\r\n\r\nThe best you could do is to document it with javadoc, something like:\r\n\r\n    /**\r\n     * Gets the map\r\n     * @returns An unmodifiable Map\r\n     */\r\n    public Map&lt;String, Bar&gt; getMap(){\r\n        return Collections.unmodifiableMap(aMap);\r\n    }\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You can not do it.</p>\n\n<p>An unmodifiable Collection is an <em>implementation</em> choice, not a <em>type</em>.</p>\n\n<p>The best you could do is to document it with javadoc, something like:</p>\n\n<pre><code>/**\n * Gets the map\n * @returns An unmodifiable Map\n */\npublic Map&lt;String, Bar&gt; getMap(){\n    return Collections.unmodifiableMap(aMap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2229408,"reputation":865,"user_id":1967402,"accept_rate":33,"display_name":"Micha&#235;l Benjamin Saerens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380123227,"creation_date":1380123227,"answer_id":19009181,"question_id":19008993,"body_markdown":"A default Map is modifiable, period.\r\n\r\nIf you want it to be unmodifiable, you&#39;ll have to write your own class that has a Map as variable, implement all methods you need again and pass it on to the map.\r\n\r\nSince you don&#39;t want the .put() method, you skip that one.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>A default Map is modifiable, period.</p>\n\n<p>If you want it to be unmodifiable, you'll have to write your own class that has a Map as variable, implement all methods you need again and pass it on to the map.</p>\n\n<p>Since you don't want the .put() method, you skip that one.</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1380123877,"creation_date":1380123409,"answer_id":19009258,"question_id":19008993,"body_markdown":"You could create a class like\r\n\r\n    class ReadOnlyMap&lt;K, V&gt; {\r\n    \r\n        private final Map&lt;K, V&gt; map;\r\n        \r\n        public ReadOnlyMap(Map&lt;K, V&gt; map) {\r\n           this.map = map;\r\n        }\r\n    \r\n        public V get(Object key) {\r\n            return map.get(key);\r\n        }\r\n    \r\n        // also implement size() method\r\n        // and everything else you want to expose\r\n    }\r\n\r\nand use it as the return type of your method. Then your method would be\r\n\r\n    public ReadOnlyMap&lt;String, Bar&gt; getMap() {\r\n        return new ReadOnlyMap(aMap);\r\n    }\r\n\r\nBeware that this won&#39;t hinder the caller to mutate the value objects, if they&#39;re not instances of immutable classes.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You could create a class like</p>\n\n<pre><code>class ReadOnlyMap&lt;K, V&gt; {\n\n    private final Map&lt;K, V&gt; map;\n\n    public ReadOnlyMap(Map&lt;K, V&gt; map) {\n       this.map = map;\n    }\n\n    public V get(Object key) {\n        return map.get(key);\n    }\n\n    // also implement size() method\n    // and everything else you want to expose\n}\n</code></pre>\n\n<p>and use it as the return type of your method. Then your method would be</p>\n\n<pre><code>public ReadOnlyMap&lt;String, Bar&gt; getMap() {\n    return new ReadOnlyMap(aMap);\n}\n</code></pre>\n\n<p>Beware that this won't hinder the caller to mutate the value objects, if they're not instances of immutable classes.</p>\n"},{"tags":[],"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380123546,"creation_date":1380123546,"answer_id":19009311,"question_id":19008993,"body_markdown":"You cannot do it with the standard classes. With the standard classes, the only way that you know that it is unmodifiable is to try to modify it and receive an `UnsupportedOperationException`.\r\n\r\nYou can achieve compile-time checking by creating your own `UnmodifiableMap` implementation that uses a normal `Map` internally (probably unmodifiable). It would have the usual &quot;read&quot; operations and they would be delegated to the underlying `Map`. It would not have the usual &quot;write&quot; operations. I would guess that you would want to also have a method that would return the underlying `Map` (or a copy of it) to enhance interoperability with other code.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You cannot do it with the standard classes. With the standard classes, the only way that you know that it is unmodifiable is to try to modify it and receive an <code>UnsupportedOperationException</code>.</p>\n\n<p>You can achieve compile-time checking by creating your own <code>UnmodifiableMap</code> implementation that uses a normal <code>Map</code> internally (probably unmodifiable). It would have the usual \"read\" operations and they would be delegated to the underlying <code>Map</code>. It would not have the usual \"write\" operations. I would guess that you would want to also have a method that would return the underlying <code>Map</code> (or a copy of it) to enhance interoperability with other code.</p>\n"},{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380123580,"creation_date":1380123580,"answer_id":19009322,"question_id":19008993,"body_markdown":"You can create a `UnmodifiableMap` object that has all read methods of the `Map` interface but lacks the write methods. This object would wrap the map you want. It would look like :\r\n\r\n    public class UnmodifiableMap&lt;K, V&gt; {\r\n\r\n        private final Map&lt;K, V&gt; map;\r\n\r\n        public UnmodifiableMap(final Map&lt;K, V&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        public boolean containsKey(final K key) {\r\n            return map.containsKey(key);\r\n        }\r\n\r\n        public V get(final K key) {\r\n            return map.get(key);\r\n        }\r\n\r\n        // And so on.\r\n\r\n    }\r\n\r\nBeware that the values() and entrySet() methods returns *modifiable* collections, so you would need to wrap their returned value too.\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You can create a <code>UnmodifiableMap</code> object that has all read methods of the <code>Map</code> interface but lacks the write methods. This object would wrap the map you want. It would look like :</p>\n\n<pre><code>public class UnmodifiableMap&lt;K, V&gt; {\n\n    private final Map&lt;K, V&gt; map;\n\n    public UnmodifiableMap(final Map&lt;K, V&gt; map) {\n        this.map = map;\n    }\n\n    public boolean containsKey(final K key) {\n        return map.containsKey(key);\n    }\n\n    public V get(final K key) {\n        return map.get(key);\n    }\n\n    // And so on.\n\n}\n</code></pre>\n\n<p>Beware that the values() and entrySet() methods returns <em>modifiable</em> collections, so you would need to wrap their returned value too.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380124613,"creation_date":1380124127,"answer_id":19009513,"question_id":19008993,"body_markdown":"This seems to get near what you are asking for. It does not give an error but it does give a warning!\r\n\r\n    public class Solid {\r\n      // My map has no put.\r\n      public interface Map&lt;K, V&gt; extends java.util.Map&lt;K, V&gt; {\r\n        /**\r\n         * Put to the Map.\r\n         *\r\n         * @deprecated SolidMap is unmodifiable. put() will fail!\r\n         */\r\n        @Deprecated\r\n        @Override\r\n        V put(K key, V value);\r\n\r\n      }\r\n\r\n      // Could also do this for lists etc.\r\n\r\n      // Helper wrappers from each kind of map.\r\n      public class HashMap&lt;K, V&gt; extends java.util.HashMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\r\n      }\r\n\r\n      public class TreeMap&lt;K, V&gt; extends java.util.TreeMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\r\n      }\r\n      //...\r\n\r\n      // Test only.\r\n      public void test() {\r\n        Solid.Map&lt;String, String&gt; sm = new Solid.HashMap&lt;&gt;();\r\n        // Warning that put is deprecated!\r\n        String put = sm.put(&quot;Key&quot;, &quot;Value&quot;);\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        try {\r\n          new Solid().test();\r\n        } catch (Throwable t) {\r\n          t.printStackTrace(System.err);\r\n        }\r\n      }\r\n\r\n    }\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>This seems to get near what you are asking for. It does not give an error but it does give a warning!</p>\n\n<pre><code>public class Solid {\n  // My map has no put.\n  public interface Map&lt;K, V&gt; extends java.util.Map&lt;K, V&gt; {\n    /**\n     * Put to the Map.\n     *\n     * @deprecated SolidMap is unmodifiable. put() will fail!\n     */\n    @Deprecated\n    @Override\n    V put(K key, V value);\n\n  }\n\n  // Could also do this for lists etc.\n\n  // Helper wrappers from each kind of map.\n  public class HashMap&lt;K, V&gt; extends java.util.HashMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\n  }\n\n  public class TreeMap&lt;K, V&gt; extends java.util.TreeMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\n  }\n  //...\n\n  // Test only.\n  public void test() {\n    Solid.Map&lt;String, String&gt; sm = new Solid.HashMap&lt;&gt;();\n    // Warning that put is deprecated!\n    String put = sm.put(\"Key\", \"Value\");\n  }\n\n  public static void main(String args[]) {\n    try {\n      new Solid().test();\n    } catch (Throwable t) {\n      t.printStackTrace(System.err);\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12902473,"reputation":321,"user_id":9330812,"display_name":"MadHatter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675417330,"creation_date":1675417330,"answer_id":75333927,"question_id":19008993,"body_markdown":"Currently I&#39;m debugging an issue in Jenkins, then come across the default variable &quot;prams&quot; in Jenkins. With `echo params.getClass().getSimpleName()`, the output is `UnmodifiableMap`.   \r\nThen find out there is a method in ***groovy*** which will return a `UnmodifiableMap` class: `Map map = [:]`, `def updatedMap = Collections.unmodifiableMap(map)`, then the type of the &quot;updatedMap&quot; is &quot;UnmodifiableMap&quot;.  \r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>Currently I'm debugging an issue in Jenkins, then come across the default variable &quot;prams&quot; in Jenkins. With <code>echo params.getClass().getSimpleName()</code>, the output is <code>UnmodifiableMap</code>.<br />\nThen find out there is a method in <em><strong>groovy</strong></em> which will return a <code>UnmodifiableMap</code> class: <code>Map map = [:]</code>, <code>def updatedMap = Collections.unmodifiableMap(map)</code>, then the type of the &quot;updatedMap&quot; is &quot;UnmodifiableMap&quot;.</p>\n"}],"owner":{"account_id":993465,"reputation":2454,"user_id":1010048,"accept_rate":74,"display_name":"Boundless"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19009258,"answer_count":7,"score":1,"last_activity_date":1675417330,"creation_date":1380122734,"question_id":19008993,"body_markdown":"I&#39;m returning an unmodifiable map from a method.  How do I make sure that any code that tries to modify the returned map will get a compile time error, as opposed to a run time error?\r\n\r\nMy class:\r\n\r\n    public class Foo\r\n    {\r\n        private final Map&lt;String, Bar&gt; aMap;\r\n    \r\n        public Foo()\r\n        {\r\n    \t...\r\n        }\r\n    \r\n        public Map&lt;String, Bar&gt; getMap(){\r\n            return Collections.unmodifiableMap(aMap);\r\n        }\r\n    }\r\n\r\nI want this to create a compile time error:\r\n\r\n    Foo foo = new Foo();\r\n    Map&lt;String, Bar&gt; m = foo.getMap();\r\n    m.put(&#39;key&#39;,null); // user should be notified that the map is unmodifiable here, not at run time\r\n\r\nCan I change the return type?\r\nCan I add an appropriate annotation?","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>I'm returning an unmodifiable map from a method.  How do I make sure that any code that tries to modify the returned map will get a compile time error, as opposed to a run time error?</p>\n\n<p>My class:</p>\n\n<pre><code>public class Foo\n{\n    private final Map&lt;String, Bar&gt; aMap;\n\n    public Foo()\n    {\n    ...\n    }\n\n    public Map&lt;String, Bar&gt; getMap(){\n        return Collections.unmodifiableMap(aMap);\n    }\n}\n</code></pre>\n\n<p>I want this to create a compile time error:</p>\n\n<pre><code>Foo foo = new Foo();\nMap&lt;String, Bar&gt; m = foo.getMap();\nm.put('key',null); // user should be notified that the map is unmodifiable here, not at run time\n</code></pre>\n\n<p>Can I change the return type?\nCan I add an appropriate annotation?</p>\n"},{"tags":["java","json","moshi"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675360506,"post_id":75323887,"comment_id":132917564,"body_markdown":"What do you mean by &quot;won&#39;t deserialize&quot; and &quot;won&#39;t work&quot;? Any excpetion messages?","body":"What do you mean by &quot;won&#39;t deserialize&quot; and &quot;won&#39;t work&quot;? Any excpetion messages?"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1675408711,"post_id":75323887,"comment_id":132926584,"body_markdown":"If you post runnable code with your expected result and your actual result and tag me, I&#39;ll take a look.","body":"If you post runnable code with your expected result and your actual result and tag me, I&#39;ll take a look."},{"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"score":0,"creation_date":1675416619,"post_id":75323887,"comment_id":132928581,"body_markdown":"@kerbermeister added more context - structure (Map&lt;String, List&lt;&gt;&gt;) I get is okay, the problem is in List&#39;s elements - they are not deserialized to target classes polymorphically, but to LinkedHashTreeMap&#39;s. No exceptions or errors, just wrong types","body":"@kerbermeister added more context - structure (Map&lt;String, List&lt;&gt;&gt;) I get is okay, the problem is in List&#39;s elements - they are not deserialized to target classes polymorphically, but to LinkedHashTreeMap&#39;s. No exceptions or errors, just wrong types"}],"answers":[{"tags":[],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675416907,"creation_date":1675416907,"answer_id":75333853,"question_id":75323887,"body_markdown":"It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. \r\nAfter changing this \r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n```\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\r\n```\r\nI now have a working solution - I get a `Map` with `List&lt;? extends T&gt;` values, where values are actual descendants of a common ancestor and not `LinkedHashTreeMap`s.","title":"Can&#39;t perform polymorphic deserialization of nested collections using Moshi PolymorphicJsonAdapterFactory","body":"<p>It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter.\nAfter changing this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n</code></pre>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\n</code></pre>\n<p>I now have a working solution - I get a <code>Map</code> with <code>List&lt;? extends T&gt;</code> values, where values are actual descendants of a common ancestor and not <code>LinkedHashTreeMap</code>s.</p>\n"}],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75333853,"answer_count":1,"score":0,"last_activity_date":1675417160,"creation_date":1675344521,"question_id":75323887,"body_markdown":"Complex nested Data types won&#39;t deserialize to intended classes using a standard approach.\r\n\r\nAs of now, I have this working code, which deserializes json to `Map&lt;String, ? extends T&gt;` structure: \r\n\r\n```\r\n    private static &lt;T&gt; Map&lt;String, ? extends T&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\r\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\r\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\r\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\r\n        }\r\n        Moshi moshi = new Moshi.Builder().add(factory).build();\r\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, baseType);\r\n        JsonAdapter&lt;Map&lt;String, ? extends T&gt;&gt; adapter = moshi.adapter(type);\r\n        return adapter.fromJson(json);\r\n```\r\n\r\n\r\nWhat I actually need to deserialize is  `Map&lt;String, List&lt;? extends T&gt;&gt;`, but this code\r\n\r\n```\r\n    private static &lt;T&gt; Map&lt;String, List&lt;? extends T&gt;&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\r\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\r\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\r\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\r\n        }\r\n        Moshi moshi = new Moshi.Builder().add(factory).build();\r\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n        JsonAdapter&lt;Map&lt;String, List&lt;? extends T&gt;&gt;&gt; adapter = moshi.adapter(type);\r\n        return adapter.fromJson(json);\r\n```\r\nhowever gives me the correct structure - `Map` with `String` keys and `List` values, but inside of those lists instead of subclasses&#39; instances, I receive Gson&#39;s `LinkedHashTreeMap` with &quot;type&quot; property storing the actual class.\r\nI couldn&#39;t find an example for deserializing nested collections. What do I need to add?","title":"Can&#39;t perform polymorphic deserialization of nested collections using Moshi PolymorphicJsonAdapterFactory","body":"<p>Complex nested Data types won't deserialize to intended classes using a standard approach.</p>\n<p>As of now, I have this working code, which deserializes json to <code>Map&lt;String, ? extends T&gt;</code> structure:</p>\n<pre><code>    private static &lt;T&gt; Map&lt;String, ? extends T&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\n        }\n        Moshi moshi = new Moshi.Builder().add(factory).build();\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, baseType);\n        JsonAdapter&lt;Map&lt;String, ? extends T&gt;&gt; adapter = moshi.adapter(type);\n        return adapter.fromJson(json);\n</code></pre>\n<p>What I actually need to deserialize is  <code>Map&lt;String, List&lt;? extends T&gt;&gt;</code>, but this code</p>\n<pre><code>    private static &lt;T&gt; Map&lt;String, List&lt;? extends T&gt;&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\n        }\n        Moshi moshi = new Moshi.Builder().add(factory).build();\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n        JsonAdapter&lt;Map&lt;String, List&lt;? extends T&gt;&gt;&gt; adapter = moshi.adapter(type);\n        return adapter.fromJson(json);\n</code></pre>\n<p>however gives me the correct structure - <code>Map</code> with <code>String</code> keys and <code>List</code> values, but inside of those lists instead of subclasses' instances, I receive Gson's <code>LinkedHashTreeMap</code> with &quot;type&quot; property storing the actual class.\nI couldn't find an example for deserializing nested collections. What do I need to add?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15699209,"reputation":1056,"user_id":11327755,"display_name":"Jakob F"},"score":0,"creation_date":1581437747,"post_id":60173028,"comment_id":106429445,"body_markdown":"Could you show more of your code, we need to know where you call `setRadius()`.","body":"Could you show more of your code, we need to know where you call <code>setRadius()</code>."},{"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"score":0,"creation_date":1581438382,"post_id":60173028,"comment_id":106429810,"body_markdown":"@JakobF Question updated as requested","body":"@JakobF Question updated as requested"}],"answers":[{"tags":[],"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1581457219,"creation_date":1581441784,"answer_id":60174311,"question_id":60173028,"body_markdown":"Adding a Background or Background Color to a CardView will remove Rounded Corners.","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>Adding a Background or Background Color to a CardView will remove Rounded Corners.</p>\n"},{"tags":[],"owner":{"account_id":14351438,"reputation":31,"user_id":10366774,"display_name":"b y f hc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675416613,"creation_date":1675416613,"answer_id":75333807,"question_id":60173028,"body_markdown":"My solution: add a LinearLayout(or other) inside the Cardview ,change backgroundColor of LinearLayout instead using `setBackgroundColor`\r\n\r\n\r\n\r\n      &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;12dp&quot;\r\n            &gt;\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/video_card_duration_size&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                &gt;\r\n              ...\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n in java code\r\n \r\n\r\n    linearLayout.setBackgroundColor(SurfaceColors.SURFACE_2.getColor(context));","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>My solution: add a LinearLayout(or other) inside the Cardview ,change backgroundColor of LinearLayout instead using <code>setBackgroundColor</code></p>\n<pre><code>  &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;12dp&quot;\n        &gt;\n        &lt;LinearLayout\n            android:id=&quot;@+id/video_card_duration_size&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            &gt;\n          ...\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>in java code</p>\n<pre><code>linearLayout.setBackgroundColor(SurfaceColors.SURFACE_2.getColor(context));\n</code></pre>\n"}],"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1476,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60174311,"answer_count":2,"score":4,"last_activity_date":1675416613,"creation_date":1581437239,"question_id":60173028,"body_markdown":"So in my program, I want to generate CardViews dynamically on a predefined Layout that I intend to place inside a LinearLayout with horizontal orientation, which is inside a horizontal ScrollView. Everything in the code works fine except:\r\n\r\n    cv.setRadius(Tools.convertDpToPx(context,5));\r\n\r\n[cv is a CardView Object]\r\n\r\n[Tools.convertDpToPx(context,float) resides in Tools as static function and returns translated values in Pixels from DP]\r\n\r\nTried getting **cv.getRadius()** to check if my values are getting assigned, and they are.\r\n\r\nDoes anyone have an idea why the **setRadius()** is not working?\r\n\r\n**IMPLEMENTATION OF CODE**\r\n\r\n    CardView cv = new CardView(context);\r\n    // Set external card view wrapper(cv) properties\r\n    CardView.LayoutParams cvlp=new CardView.LayoutParams(Tools.convertDpToPx(context,155),Tools.convertDpToPx(context,200));\r\n    cvlp.leftMargin=Tools.convertDpToPx(context,10);\r\n    cv.setLayoutParams(cvlp);\r\n    cv.setBackground(new ColorDrawable(Color.parseColor(&quot;#002038&quot;)));\r\n    cv.setPreventCornerOverlap(false);\r\n    cv.setRadius(Tools.convertDpToPx(context,5));\r\n    //And more elements added to Card View Layout\r\n    cv.setId(View.generateViewId());","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>So in my program, I want to generate CardViews dynamically on a predefined Layout that I intend to place inside a LinearLayout with horizontal orientation, which is inside a horizontal ScrollView. Everything in the code works fine except:</p>\n\n<pre><code>cv.setRadius(Tools.convertDpToPx(context,5));\n</code></pre>\n\n<p>[cv is a CardView Object]</p>\n\n<p>[Tools.convertDpToPx(context,float) resides in Tools as static function and returns translated values in Pixels from DP]</p>\n\n<p>Tried getting <strong>cv.getRadius()</strong> to check if my values are getting assigned, and they are.</p>\n\n<p>Does anyone have an idea why the <strong>setRadius()</strong> is not working?</p>\n\n<p><strong>IMPLEMENTATION OF CODE</strong></p>\n\n<pre><code>CardView cv = new CardView(context);\n// Set external card view wrapper(cv) properties\nCardView.LayoutParams cvlp=new CardView.LayoutParams(Tools.convertDpToPx(context,155),Tools.convertDpToPx(context,200));\ncvlp.leftMargin=Tools.convertDpToPx(context,10);\ncv.setLayoutParams(cvlp);\ncv.setBackground(new ColorDrawable(Color.parseColor(\"#002038\")));\ncv.setPreventCornerOverlap(false);\ncv.setRadius(Tools.convertDpToPx(context,5));\n//And more elements added to Card View Layout\ncv.setId(View.generateViewId());\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1326418,"reputation":826,"user_id":1271131,"accept_rate":50,"display_name":"Vipul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675407919,"creation_date":1675407919,"answer_id":75332487,"question_id":75332429,"body_markdown":"You can use single value association something like below\r\n\r\n        @Entity\r\n    public class Person {\r\n      @Id\r\n      private Long id;\r\n    \r\n      @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;address_id&quot;)\r\n      private Address address;\r\n    }\r\n    \r\n    @Embeddable\r\n    public class Address {\r\n      private String street;\r\n      private String city;\r\n    }\r\n\r\nYou can read more about @oneToOne [here][1]\r\n \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToOne.html","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>You can use single value association something like below</p>\n<pre><code>    @Entity\npublic class Person {\n  @Id\n  private Long id;\n\n  @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;address_id&quot;)\n  private Address address;\n}\n\n@Embeddable\npublic class Address {\n  private String street;\n  private String city;\n}\n</code></pre>\n<p>You can read more about @oneToOne <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToOne.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1232942,"reputation":1911,"user_id":1197140,"accept_rate":30,"display_name":"Chandu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675416420,"creation_date":1675416420,"answer_id":75333767,"question_id":75332429,"body_markdown":"Using **@Embedded** annotation the columns of **@Embeddable** class will be mapped to parent entity&#39;s table and hence will have only one instance.","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>Using <strong>@Embedded</strong> annotation the columns of <strong>@Embeddable</strong> class will be mapped to parent entity's table and hence will have only one instance.</p>\n"}],"owner":{"account_id":1232942,"reputation":1911,"user_id":1197140,"accept_rate":30,"display_name":"Chandu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675416420,"creation_date":1675407587,"question_id":75332429,"body_markdown":"I am trying to generate JPA classes for legacy RDMS project.\r\n\r\nThere is an entity class **Person**, written in JPA.\r\nThe entity **Person** has another **Embeddale** class called **Address**.\r\n\r\nI can use **set**, **list** or **map** mapping for Embeddable **Address**. With any of these there can be multiple embedded objects in **Person**.\r\n\r\nBut the requirement is - *there can be at most only one instance of embeddable object. How to achieve this requirement? I cannot use subclass entities, it has to be embeddable object only.*","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>I am trying to generate JPA classes for legacy RDMS project.</p>\n<p>There is an entity class <strong>Person</strong>, written in JPA.\nThe entity <strong>Person</strong> has another <strong>Embeddale</strong> class called <strong>Address</strong>.</p>\n<p>I can use <strong>set</strong>, <strong>list</strong> or <strong>map</strong> mapping for Embeddable <strong>Address</strong>. With any of these there can be multiple embedded objects in <strong>Person</strong>.</p>\n<p>But the requirement is - <em>there can be at most only one instance of embeddable object. How to achieve this requirement? I cannot use subclass entities, it has to be embeddable object only.</em></p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675416004,"creation_date":1675416004,"answer_id":75333699,"question_id":75333493,"body_markdown":"The pipeline you described is a batch pipeline because it read from a bounded source.\r\n\r\nThe job will automatically finish after reading all your data from GCS files and written them to BigTable.\r\n\r\nNo need to drain or stop it because it’s not a steaming job.\r\n\r\nIt will stop by itself after treating all the data.","title":"How to drain a java apache beam job from inside the java code?","body":"<p>The pipeline you described is a batch pipeline because it read from a bounded source.</p>\n<p>The job will automatically finish after reading all your data from GCS files and written them to BigTable.</p>\n<p>No need to drain or stop it because it’s not a steaming job.</p>\n<p>It will stop by itself after treating all the data.</p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75333699,"answer_count":1,"score":0,"last_activity_date":1675416004,"creation_date":1675414739,"question_id":75333493,"body_markdown":"I am creating an apache beam pipeline that reads data from cloud storage and writes that data to Big Table. I want the job to stop automatically by itself when the data was fully read and written. How to accomplish that?\r\n\r\nhttps://stackoverflow.com/questions/30859829/how-to-stop-a-streaming-pipeline-in-google-cloud-dataflow\r\nI saw this question and there is a way to cancel the job. But this will stop before the end of the execution. How to ensure the job is done?","title":"How to drain a java apache beam job from inside the java code?","body":"<p>I am creating an apache beam pipeline that reads data from cloud storage and writes that data to Big Table. I want the job to stop automatically by itself when the data was fully read and written. How to accomplish that?</p>\n<p><a href=\"https://stackoverflow.com/questions/30859829/how-to-stop-a-streaming-pipeline-in-google-cloud-dataflow\">How to stop a streaming pipeline in google cloud dataflow</a>\nI saw this question and there is a way to cancel the job. But this will stop before the end of the execution. How to ensure the job is done?</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675364048,"post_id":75327547,"comment_id":132918631,"body_markdown":"I believe you need a combination of &quot;armed&quot;, &quot;selected&quot; and &quot;pressed&quot; to be true to have the button painted in a pressed state. Don&#39;t remember if you need all 3 or two of the 3.","body":"I believe you need a combination of &quot;armed&quot;, &quot;selected&quot; and &quot;pressed&quot; to be true to have the button painted in a pressed state. Don&#39;t remember if you need all 3 or two of the 3."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675431695,"post_id":75327547,"comment_id":132933038,"body_markdown":"judging by your self-answer, the required behavior is not fully specified here .. you might consider improving the description :) Depending on your _exact_ requirement, overriding the buttonModel might not be the best approach: if you want to change the appearance only (all behaviour the same, like OS specifics on when/how to trigger an action) solving it with a custom UI might be cleaner.","body":"judging by your self-answer, the required behavior is not fully specified here .. you might consider improving the description :) Depending on your <i>exact</i> requirement, overriding the buttonModel might not be the best approach: if you want to change the appearance only (all behaviour the same, like OS specifics on when/how to trigger an action) solving it with a custom UI might be cleaner."}],"answers":[{"tags":[],"owner":{"account_id":1931674,"reputation":529,"user_id":1740939,"accept_rate":69,"display_name":"Philipp Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675368879,"creation_date":1675368879,"answer_id":75328498,"question_id":75327547,"body_markdown":"you also need to override isArmed():\r\n\r\n    class MyButtonModel extends DefaultButtonModel\r\n    {\r\n        private boolean appearPressed = true;\r\n\r\n        @Override\r\n        public boolean isPressed()\r\n        {\r\n            return super.isPressed() || appearPressed;\r\n        }\r\n\r\n        @Override\r\n        public boolean isArmed() {\r\n            return super.isArmed() || appearPressed;\r\n        }\r\n    }","title":"JButton appearance as if it were pressed","body":"<p>you also need to override isArmed():</p>\n<pre><code>class MyButtonModel extends DefaultButtonModel\n{\n    private boolean appearPressed = true;\n\n    @Override\n    public boolean isPressed()\n    {\n        return super.isPressed() || appearPressed;\n    }\n\n    @Override\n    public boolean isArmed() {\n        return super.isArmed() || appearPressed;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675415907,"creation_date":1675415907,"answer_id":75333677,"question_id":75327547,"body_markdown":"The partial reply was given by **@Philipp Li** and **@camickr**. Thank you.  \r\nMy button model needs to override `isArmed()` in order to obtain the desired result.\r\n\r\nHowever, once the button is pressed, it doesn&#39;t respond anymore.  \r\nDigging in the source of `DefaultButtonModel`, I found this:\r\n\r\n    public void setPressed(boolean b)\r\n    {\r\n      if ((isPressed() == b) || (!isEnabled()))\r\n        return;\r\n      ...\r\n    }\r\n\r\nThis method is invoked by `AbstractButton.doClick()` in order to notify the various ActionListeners.  \r\nIn other words, if the overridden method `isPressed()` returns true because I want to make the button appear pressed, a successive click on that button will be ignored.  \r\nA similar thing occurs within `DefaultButtonModel.setArmed()`.\r\n\r\nTherefore, I implemented my button model as follows:\r\n\r\n    class MyButtonModel extends DefaultButtonModel\r\n    {\r\n      boolean appearPressed = false;\r\n    \r\n      private boolean withinSetPressedMethod = false;\r\n    \r\n      private boolean withinSetArmedMethod = false;\r\n    \r\n      @Override\r\n      public void setPressed(boolean pressed)\r\n      {\r\n        withinSetPressedMethod = true;\r\n        super.setPressed(pressed);\r\n        withinSetPressedMethod = false;\r\n      }\r\n    \r\n      @Override\r\n      public void setArmed(boolean armed)\r\n      {\r\n        withinSetArmedMethod = true;\r\n        super.setArmed(armed);\r\n        withinSetArmedMethod = false;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isPressed()\r\n      {\r\n        if (withinSetPressedMethod)\r\n          return (super.isPressed());\r\n        else\r\n          return (super.isPressed() || appearPressed);\r\n      }\r\n      \r\n      @Override\r\n      public boolean isArmed()\r\n      {\r\n        if (withinSetArmedMethod)\r\n          return (super.isArmed());\r\n        else\r\n          return (super.isArmed() || appearPressed);\r\n      }\r\n      \r\n    } // class MyButtonModel\r\n\r\n","title":"JButton appearance as if it were pressed","body":"<p>The partial reply was given by <strong>@Philipp Li</strong> and <strong>@camickr</strong>. Thank you.<br />\nMy button model needs to override <code>isArmed()</code> in order to obtain the desired result.</p>\n<p>However, once the button is pressed, it doesn't respond anymore.<br />\nDigging in the source of <code>DefaultButtonModel</code>, I found this:</p>\n<pre><code>public void setPressed(boolean b)\n{\n  if ((isPressed() == b) || (!isEnabled()))\n    return;\n  ...\n}\n</code></pre>\n<p>This method is invoked by <code>AbstractButton.doClick()</code> in order to notify the various ActionListeners.<br />\nIn other words, if the overridden method <code>isPressed()</code> returns true because I want to make the button appear pressed, a successive click on that button will be ignored.<br />\nA similar thing occurs within <code>DefaultButtonModel.setArmed()</code>.</p>\n<p>Therefore, I implemented my button model as follows:</p>\n<pre><code>class MyButtonModel extends DefaultButtonModel\n{\n  boolean appearPressed = false;\n\n  private boolean withinSetPressedMethod = false;\n\n  private boolean withinSetArmedMethod = false;\n\n  @Override\n  public void setPressed(boolean pressed)\n  {\n    withinSetPressedMethod = true;\n    super.setPressed(pressed);\n    withinSetPressedMethod = false;\n  }\n\n  @Override\n  public void setArmed(boolean armed)\n  {\n    withinSetArmedMethod = true;\n    super.setArmed(armed);\n    withinSetArmedMethod = false;\n  }\n\n  @Override\n  public boolean isPressed()\n  {\n    if (withinSetPressedMethod)\n      return (super.isPressed());\n    else\n      return (super.isPressed() || appearPressed);\n  }\n  \n  @Override\n  public boolean isArmed()\n  {\n    if (withinSetArmedMethod)\n      return (super.isArmed());\n    else\n      return (super.isArmed() || appearPressed);\n  }\n  \n} // class MyButtonModel\n</code></pre>\n"}],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75333677,"answer_count":2,"score":1,"last_activity_date":1675415907,"creation_date":1675362883,"question_id":75327547,"body_markdown":"In some cases a need my JButton to appear as if it were pressed. This depends on some boolean.  \r\nI tried to create my own ButtonModel that overrides the default `isPressed()` method but in that way the button appears pressed only in case the mouse pointer is on top of it (without pressing a mouse button). I need it to appear pressed also if the mouse is somewhere else.\r\n\r\nSo far I tried this:\r\n\r\n    class MyButtonModel extends DefaultButtonModel\r\n    {\r\n      private boolean appearPressed;\r\n    \r\n      @Override\r\n      public boolean isPressed()\r\n      {\r\n        return super.isPressed() || appearPressed;\r\n      }\r\n    }\r\n\r\nI cannot use a `JToggleButton` or something similar.  \r\nMy button derives from another class that implements some additional features and derives itself from `JButton`.\r\n\r\nUPDATE:  \r\nI&#39;m running on Windows 10 and use the WindowsClassic Look&amp;Feel.","title":"JButton appearance as if it were pressed","body":"<p>In some cases a need my JButton to appear as if it were pressed. This depends on some boolean.<br />\nI tried to create my own ButtonModel that overrides the default <code>isPressed()</code> method but in that way the button appears pressed only in case the mouse pointer is on top of it (without pressing a mouse button). I need it to appear pressed also if the mouse is somewhere else.</p>\n<p>So far I tried this:</p>\n<pre><code>class MyButtonModel extends DefaultButtonModel\n{\n  private boolean appearPressed;\n\n  @Override\n  public boolean isPressed()\n  {\n    return super.isPressed() || appearPressed;\n  }\n}\n</code></pre>\n<p>I cannot use a <code>JToggleButton</code> or something similar.<br />\nMy button derives from another class that implements some additional features and derives itself from <code>JButton</code>.</p>\n<p>UPDATE:<br />\nI'm running on Windows 10 and use the WindowsClassic Look&amp;Feel.</p>\n"},{"tags":["java","sockets","ssl","haproxy"],"owner":{"account_id":15827631,"reputation":9,"user_id":11420018,"display_name":"lekiam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675415740,"creation_date":1675415740,"question_id":75333649,"body_markdown":"I am trying to write a Server\\&lt;-\\&gt;Client based Software which encrypt the Data via SSL so that I dont have to handle the Encryption manually. For getting the Certificates I am using letsencrypt, so I have to create the Keystore manually from that Files every Time they renew. Because such manual Processes are not the best for using them in production I think of putting an haproxy in front of my Server and let this do the SSL Termination.\r\n\r\nFor what I tested this works somehow because the Client and Server can communicate with each other, but when I have a look with TCP Dump at the Port I see the Data being transfered unencrypted.\r\n\r\nSo is it principle possible to do it in this way with haproxy and do I miss something or should I stop thinking about it?\r\n\r\nHere ist my Code for Client:\r\n\r\n```\r\n            SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\r\n            SSLSocket socket = (SSLSocket)factory.createSocket(&quot;test.com&quot;, 9999);\r\n\r\n            socket.setEnabledProtocols(protocols);\r\n            socket.setEnabledCipherSuites(cipher_suites);\r\n\r\n            socket.startHandshake();\r\n\r\n            OutputStream socketoutstr = socket.getOutputStream();\r\n            OutputStreamWriter osr = new OutputStreamWriter(socketoutstr, &quot;UTF-8&quot;);\r\n            BufferedWriter bw = new BufferedWriter(osr);\r\n\r\n            InputStream socketinstr = socket.getInputStream();\r\n            InputStreamReader isr = new InputStreamReader(socketinstr, &quot;UTF-8&quot;);\r\n            BufferedReader br = new BufferedReader(isr);\r\n\r\n            InstanceVariables.reset();\r\n\r\n            bw.write(&quot;1&quot;);\r\n            bw.newLine();\r\n            bw.flush();\r\n```\r\n\r\nand Server:\r\n\r\n```\r\n        @Override\r\n        public void run() {\r\n            Socket socket = new ServerSocket(9999);\r\n            while (MainApplication.isRunning()) {\r\n                try {\r\n                    Socket clientSocket = socket.accept();            \r\n                    Thread thread = new Thread(new Handler(clientSocket));\r\n                thread.start();\r\n            } catch (IOException e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n       }\r\n    \r\n       public class Handler implements Runnable {\r\n    \r\n          private Socket clientSocket;\r\n    \r\n          public Handler(Socket clientSocket) {\r\n              this.clientSocket = clientSocket;\r\n          }\r\n    \r\n          @Override\r\n          public void run() {\r\n            try {\r\n                SystemOperations.load();\r\n                OutputStream socketoutstr = clientSocket.getOutputStream();\r\n                OutputStreamWriter osr = new OutputStreamWriter(socketoutstr, &quot;UTF-8&quot;);\r\n                BufferedWriter bw = new BufferedWriter(osr);\r\n    \r\n                InputStream socketinstr = clientSocket.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(socketinstr, &quot;UTF-8&quot;);\r\n                BufferedReader br = new BufferedReader(isr);\r\n    \r\n                String request = &quot;&quot;;\r\n                request = br.readLine();\r\n    \r\n                switch (request) {\r\n                    case &quot;1&quot;:\r\n                    //Do Stuff here            \r\n                }\r\n            } catch (IOException uhe) {\r\n                uhe.printStackTrace();\r\n            }\r\n          }\r\n       }\r\n```","title":"Terminate Java Socket SSL Connection at haproxy?","body":"<p>I am trying to write a Server&lt;-&gt;Client based Software which encrypt the Data via SSL so that I dont have to handle the Encryption manually. For getting the Certificates I am using letsencrypt, so I have to create the Keystore manually from that Files every Time they renew. Because such manual Processes are not the best for using them in production I think of putting an haproxy in front of my Server and let this do the SSL Termination.</p>\n<p>For what I tested this works somehow because the Client and Server can communicate with each other, but when I have a look with TCP Dump at the Port I see the Data being transfered unencrypted.</p>\n<p>So is it principle possible to do it in this way with haproxy and do I miss something or should I stop thinking about it?</p>\n<p>Here ist my Code for Client:</p>\n<pre><code>            SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\n            SSLSocket socket = (SSLSocket)factory.createSocket(&quot;test.com&quot;, 9999);\n\n            socket.setEnabledProtocols(protocols);\n            socket.setEnabledCipherSuites(cipher_suites);\n\n            socket.startHandshake();\n\n            OutputStream socketoutstr = socket.getOutputStream();\n            OutputStreamWriter osr = new OutputStreamWriter(socketoutstr, &quot;UTF-8&quot;);\n            BufferedWriter bw = new BufferedWriter(osr);\n\n            InputStream socketinstr = socket.getInputStream();\n            InputStreamReader isr = new InputStreamReader(socketinstr, &quot;UTF-8&quot;);\n            BufferedReader br = new BufferedReader(isr);\n\n            InstanceVariables.reset();\n\n            bw.write(&quot;1&quot;);\n            bw.newLine();\n            bw.flush();\n</code></pre>\n<p>and Server:</p>\n<pre><code>        @Override\n        public void run() {\n            Socket socket = new ServerSocket(9999);\n            while (MainApplication.isRunning()) {\n                try {\n                    Socket clientSocket = socket.accept();            \n                    Thread thread = new Thread(new Handler(clientSocket));\n                thread.start();\n            } catch (IOException e) {\n                System.out.println(e);\n            }\n        }\n       }\n    \n       public class Handler implements Runnable {\n    \n          private Socket clientSocket;\n    \n          public Handler(Socket clientSocket) {\n              this.clientSocket = clientSocket;\n          }\n    \n          @Override\n          public void run() {\n            try {\n                SystemOperations.load();\n                OutputStream socketoutstr = clientSocket.getOutputStream();\n                OutputStreamWriter osr = new OutputStreamWriter(socketoutstr, &quot;UTF-8&quot;);\n                BufferedWriter bw = new BufferedWriter(osr);\n    \n                InputStream socketinstr = clientSocket.getInputStream();\n                InputStreamReader isr = new InputStreamReader(socketinstr, &quot;UTF-8&quot;);\n                BufferedReader br = new BufferedReader(isr);\n    \n                String request = &quot;&quot;;\n                request = br.readLine();\n    \n                switch (request) {\n                    case &quot;1&quot;:\n                    //Do Stuff here            \n                }\n            } catch (IOException uhe) {\n                uhe.printStackTrace();\n            }\n          }\n       }\n</code></pre>\n"},{"tags":["javascript","java","android-studio","opencv"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675417549,"post_id":75333607,"comment_id":132928868,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21224479,"reputation":1,"user_id":15610414,"display_name":"melilili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675415511,"creation_date":1675415511,"question_id":75333607,"body_markdown":"Incorrect package=&quot;org.opencv&quot; found in source AndroidManifest.xml: C:\\Users\\SL-3\\AndroidStudioProjects\\2project\\OpenCV\\java\\AndroidManifest.xml.\r\nSetting the namespace via the package attribute in the source AndroidManifest.xml is no longer supported.\r\n\r\nhow can i solve this problem","title":"Android Studio OpenCV","body":"<p>Incorrect package=&quot;org.opencv&quot; found in source AndroidManifest.xml: C:\\Users\\SL-3\\AndroidStudioProjects\\2project\\OpenCV\\java\\AndroidManifest.xml.\nSetting the namespace via the package attribute in the source AndroidManifest.xml is no longer supported.</p>\n<p>how can i solve this problem</p>\n"},{"tags":["java","file-io","java-io","filewriter","ctrl"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675415467,"post_id":75333581,"comment_id":132928256,"body_markdown":"Does this answer your question? [How can I &quot;intercept&quot; Ctrl+C in a CLI application?](https://stackoverflow.com/questions/1216172/how-can-i-intercept-ctrlc-in-a-cli-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1216172/how-can-i-intercept-ctrlc-in-a-cli-application\">How can I &quot;intercept&quot; Ctrl+C in a CLI application?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1675415760,"post_id":75333581,"comment_id":132928333,"body_markdown":"Unrelated note, don&#39;t close any reader wrapping around `System.in`, unless you are sure it&#39;s the last statement in your program (in which case there is no point in doing it), you won&#39;t be able to read again. Move the scanner outside from the `try-with-resources` block as well - it will close it.","body":"Unrelated note, don&#39;t close any reader wrapping around <code>System.in</code>, unless you are sure it&#39;s the last statement in your program (in which case there is no point in doing it), you won&#39;t be able to read again. Move the scanner outside from the <code>try-with-resources</code> block as well - it will close it."}],"owner":{"account_id":26953102,"reputation":41,"user_id":20521976,"display_name":"Sanjay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675415346,"creation_date":1675415346,"question_id":75333581,"body_markdown":"i am using the following in one of my application.\r\n\r\n    public static void concatenation(List&lt;String&gt; commands) throws IOException {\r\n        if (commands.get(1).equals(&quot;&gt;&quot;)) {\r\n            String path = history.getFilePath();\r\n            File file = new File(path + &quot;\\\\&quot; + commands.get(2));\r\n            if (file.exists() &amp;&amp; file.isFile()) {\r\n                try (FileWriter writer = new FileWriter(file)) {\r\n                    Scanner scanner = new Scanner(System.in);\r\n                    String line;\r\n                    System.out.println(&quot;Write to file. Press Ctrl+C to stop.&quot;);\r\n                    while (true) {\r\n                        try {\r\n                            line = scanner.nextLine();\r\n                            writer.write(line + System.lineSeparator());\r\n                            writer.flush();\r\n                        } catch (Exception e) {\r\n                            System.out.println(&quot;Interrupted. Stopping...&quot;);\r\n                            break;\r\n                        }\r\n                    }\r\n                    scanner.close();\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;Error writing to file: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;bash : &quot; + commands.get(1) + &quot; : unrecognized operator&quot;);\r\n        }\r\n    }\r\n\r\ni want to exit out of the while loop when ctrl + c is pressed. And it is a console application. How to achieve this?\r\n","title":"how to stop a process when &quot;ctrl+c&quot; is pressed in java?","body":"<p>i am using the following in one of my application.</p>\n<pre><code>public static void concatenation(List&lt;String&gt; commands) throws IOException {\n    if (commands.get(1).equals(&quot;&gt;&quot;)) {\n        String path = history.getFilePath();\n        File file = new File(path + &quot;\\\\&quot; + commands.get(2));\n        if (file.exists() &amp;&amp; file.isFile()) {\n            try (FileWriter writer = new FileWriter(file)) {\n                Scanner scanner = new Scanner(System.in);\n                String line;\n                System.out.println(&quot;Write to file. Press Ctrl+C to stop.&quot;);\n                while (true) {\n                    try {\n                        line = scanner.nextLine();\n                        writer.write(line + System.lineSeparator());\n                        writer.flush();\n                    } catch (Exception e) {\n                        System.out.println(&quot;Interrupted. Stopping...&quot;);\n                        break;\n                    }\n                }\n                scanner.close();\n            } catch (IOException e) {\n                System.out.println(&quot;Error writing to file: &quot; + e.getMessage());\n            }\n        }\n    } else {\n        System.out.println(&quot;bash : &quot; + commands.get(1) + &quot; : unrecognized operator&quot;);\n    }\n}\n</code></pre>\n<p>i want to exit out of the while loop when ctrl + c is pressed. And it is a console application. How to achieve this?</p>\n"},{"tags":["java","memory-management","memory-leaks","executorservice"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675369285,"post_id":75328278,"comment_id":132920050,"body_markdown":"Visual VM can monitor your JVM and tell you all about CPU, memory, and thread consumption: https://visualvm.github.io/","body":"Visual VM can monitor your JVM and tell you all about CPU, memory, and thread consumption: <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">visualvm.github.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675414948,"creation_date":1675369139,"answer_id":75328538,"question_id":75328278,"body_markdown":"In the first loop you are creating a new Future on every iteration and storing it inside the List:\r\n\r\n    // adds a new Future instance to the list of futures\r\n    futures.add(executorService.submit(() -&gt; {\r\n                    \r\nThis ever-growing list is consuming your memory.\r\n\r\nI don&#39;t know what you are trying to achieve exactly, but you can avoid the memory issue by clearing the list at the end of every iteration of the while-loop, instead of calling GC.\r\n\r\nAlso you probably don&#39;t want to throw a RuntimeException when the Thread is interrupted. Either re-throw the InterruptedException, or re-interrupt the thread as shown below (see this [Baeldung article on Thread interruption][1])\r\n\r\n    while (true) {\r\n\r\n        for (int i = 0; i &lt; threadCount; i++) {\r\n            int finalI = i;\r\n            futures.add(executorService.submit(() -&gt; {\r\n                try {\r\n                    Thread.sleep(8000);\r\n                    return finalI  ;\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }));\r\n        }\r\n\r\n        for (int i = 0; i &lt; threadCount; i++) {\r\n            System.out.println(&quot;Value: &quot;+futures.get(i).get());\r\n        }\r\n\r\n        futures.clear();\r\n    }\r\n\r\nAlternatively you could use an array of the right length and set the futures by index instead of adding to a list, so you don&#39;t have to clear.\r\n\r\n    Future[] futures = new Future[threadCount];\r\n        // ...\r\n        futures[i] = executorService.submit(() -&gt; {\r\n        // ...\r\n        System.out.println(&quot;Value: &quot; + futures[i].get());\r\n\r\nEDIT: I just realized that the original program is not only consuming a lot of memory, it&#39;s also wrong. The second for-loop keeps iterating over indexes 0 to 6 of the futures list, not the ones added by the previous run of the first loop.\r\n\r\n  [1]: https://www.baeldung.com/java-interrupted-exception","title":"Increasing memory consumption using FixedThreadPool","body":"<p>In the first loop you are creating a new Future on every iteration and storing it inside the List:</p>\n<pre><code>// adds a new Future instance to the list of futures\nfutures.add(executorService.submit(() -&gt; {\n                \n</code></pre>\n<p>This ever-growing list is consuming your memory.</p>\n<p>I don't know what you are trying to achieve exactly, but you can avoid the memory issue by clearing the list at the end of every iteration of the while-loop, instead of calling GC.</p>\n<p>Also you probably don't want to throw a RuntimeException when the Thread is interrupted. Either re-throw the InterruptedException, or re-interrupt the thread as shown below (see this <a href=\"https://www.baeldung.com/java-interrupted-exception\" rel=\"nofollow noreferrer\">Baeldung article on Thread interruption</a>)</p>\n<pre><code>while (true) {\n\n    for (int i = 0; i &lt; threadCount; i++) {\n        int finalI = i;\n        futures.add(executorService.submit(() -&gt; {\n            try {\n                Thread.sleep(8000);\n                return finalI  ;\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }));\n    }\n\n    for (int i = 0; i &lt; threadCount; i++) {\n        System.out.println(&quot;Value: &quot;+futures.get(i).get());\n    }\n\n    futures.clear();\n}\n</code></pre>\n<p>Alternatively you could use an array of the right length and set the futures by index instead of adding to a list, so you don't have to clear.</p>\n<pre><code>Future[] futures = new Future[threadCount];\n    // ...\n    futures[i] = executorService.submit(() -&gt; {\n    // ...\n    System.out.println(&quot;Value: &quot; + futures[i].get());\n</code></pre>\n<p>EDIT: I just realized that the original program is not only consuming a lot of memory, it's also wrong. The second for-loop keeps iterating over indexes 0 to 6 of the futures list, not the ones added by the previous run of the first loop.</p>\n"}],"owner":{"account_id":25676685,"reputation":91,"user_id":19440016,"display_name":"Dioswison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328538,"answer_count":1,"score":0,"last_activity_date":1675414948,"creation_date":1675367427,"question_id":75328278,"body_markdown":"im testing with Executors.newFixedThreadPool() and i am having extremely high memory consumption, the code is the following:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.*;\r\n\r\npublic class ExecutorServiceTest {\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n\r\n        int threadCount = 7;\r\n\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(threadCount);\r\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n\r\n            for (int i = 0; i &lt; threadCount; i++) {\r\n\r\n                int finalI = i;\r\n                futures.add(executorService.submit(() -&gt; {\r\n                    try {\r\n                        Thread.sleep(8000);\r\n                        return finalI  ;\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                }));\r\n            }\r\n\r\n            for (int i = 0; i &lt; threadCount; i++) {\r\n\r\n                System.out.println(&quot;Value: &quot;+futures.get(i).get());\r\n            }\r\n//            System.gc();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nThe heap memory goes to like 4GB in a couple of minutes(It nevers goes back down again, left it for hours and it goes until it runs out of memory). If i uncomment the System.gc() line it gets way better, but it still increases, it starts at around 37MB and after approximately 10 minutes it scales up to 49MB and never stops increasing(left it for around 20 minutes and still increasing).\r\nI made a heap Dump with visualVM from the test without manually calling GC.\r\n\r\n[![Heap Dump Summary](https://i.stack.imgur.com/y6SZq.png)](https://i.stack.imgur.com/y6SZq.png)\r\n[![Heap Dump Objects](https://i.stack.imgur.com/VAxtb.png)](https://i.stack.imgur.com/VAxtb.png)\r\n[![All objects in FutureTasks are 32B, there are more than 50k ](https://i.stack.imgur.com/jCisP.png)](https://i.stack.imgur.com/jCisP.png)\r\n[![Also more than 50k of LinkedBlockingQueueNode](https://i.stack.imgur.com/0Jf89.png)](https://i.stack.imgur.com/0Jf89.png)\r\n[![And also more than 50k of Lambdas](https://i.stack.imgur.com/YfSs1.png)](https://i.stack.imgur.com/YfSs1.png)\r\n","title":"Increasing memory consumption using FixedThreadPool","body":"<p>im testing with Executors.newFixedThreadPool() and i am having extremely high memory consumption, the code is the following:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\n\npublic class ExecutorServiceTest {\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n\n        int threadCount = 7;\n\n\n        ExecutorService executorService = Executors.newFixedThreadPool(threadCount);\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n        while (true) {\n\n            for (int i = 0; i &lt; threadCount; i++) {\n\n                int finalI = i;\n                futures.add(executorService.submit(() -&gt; {\n                    try {\n                        Thread.sleep(8000);\n                        return finalI  ;\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                }));\n            }\n\n            for (int i = 0; i &lt; threadCount; i++) {\n\n                System.out.println(&quot;Value: &quot;+futures.get(i).get());\n            }\n//            System.gc();\n        }\n\n    }\n\n}\n</code></pre>\n<p>The heap memory goes to like 4GB in a couple of minutes(It nevers goes back down again, left it for hours and it goes until it runs out of memory). If i uncomment the System.gc() line it gets way better, but it still increases, it starts at around 37MB and after approximately 10 minutes it scales up to 49MB and never stops increasing(left it for around 20 minutes and still increasing).\nI made a heap Dump with visualVM from the test without manually calling GC.</p>\n<p><a href=\"https://i.stack.imgur.com/y6SZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y6SZq.png\" alt=\"Heap Dump Summary\" /></a>\n<a href=\"https://i.stack.imgur.com/VAxtb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VAxtb.png\" alt=\"Heap Dump Objects\" /></a>\n<a href=\"https://i.stack.imgur.com/jCisP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jCisP.png\" alt=\"All objects in FutureTasks are 32B, there are more than 50k \" /></a>\n<a href=\"https://i.stack.imgur.com/0Jf89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Jf89.png\" alt=\"Also more than 50k of LinkedBlockingQueueNode\" /></a>\n<a href=\"https://i.stack.imgur.com/YfSs1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YfSs1.png\" alt=\"And also more than 50k of Lambdas\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17497296,"reputation":315,"user_id":12688287,"display_name":"Junaid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607406852,"creation_date":1607406852,"answer_id":65193808,"question_id":65193674,"body_markdown":"Use MediaMetadataRetriever class to get the size. Size will be equal to the size of video file created.\r\n\r\n    public static Size getThumbSize(String path) {\r\n        MediaMetadataRetriever dataRetriever = new MediaMetadataRetriever();\r\n        dataRetriever.setDataSource(path);\r\n        String width = \r\n        dataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_WIDTH);\r\n        String height = \r\n        dataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_HEIGHT);\r\n        return new Size(Integer.parseInt(width), Integer.parseInt(height));\r\n    }\r\n\r\n","title":"Android ThumbnailUtils.createVideoThumbnail with no Size specified is deprecated in API level 29","body":"<p>Use MediaMetadataRetriever class to get the size. Size will be equal to the size of video file created.</p>\n<pre><code>public static Size getThumbSize(String path) {\n    MediaMetadataRetriever dataRetriever = new MediaMetadataRetriever();\n    dataRetriever.setDataSource(path);\n    String width = \n    dataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_WIDTH);\n    String height = \n    dataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_HEIGHT);\n    return new Size(Integer.parseInt(width), Integer.parseInt(height));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14956643,"reputation":53,"user_id":10797722,"display_name":"Ade Dyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675414912,"creation_date":1675414912,"answer_id":75333515,"question_id":65193674,"body_markdown":"you can try this \r\n\r\n```\r\n            val retriever = MediaMetadataRetriever()\r\n            retriever.setDataSource(context, uri)\r\n            val bitmap = retriever.frameAtTime\r\n            viewBinding.yourImageView.setImageBitmap(bitmap)\r\n            retriever.release()\r\n            bitmap?.recycle()\r\n```","title":"Android ThumbnailUtils.createVideoThumbnail with no Size specified is deprecated in API level 29","body":"<p>you can try this</p>\n<pre><code>            val retriever = MediaMetadataRetriever()\n            retriever.setDataSource(context, uri)\n            val bitmap = retriever.frameAtTime\n            viewBinding.yourImageView.setImageBitmap(bitmap)\n            retriever.release()\n            bitmap?.recycle()\n</code></pre>\n"}],"owner":{"account_id":6440715,"reputation":79,"user_id":4990823,"display_name":"MaxSped"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675414912,"creation_date":1607405984,"question_id":65193674,"body_markdown":"```\r\npublic static Bitmap createVideoThumbnail (String filePath, \r\n                int kind)\r\n```\r\n\r\nThe above method is deprecated in `API` level 29. \r\n\r\nWe are required to use this now:\r\n\r\n```\r\npublic static Bitmap createVideoThumbnail (File file, \r\n                Size size, \r\n                CancellationSignal signal)\r\n```\r\n\r\nMy question is **how can I set the `Size` to be the native size of the video `File` that I am creating the thumbnail from**? \r\n\r\n**I want it to be the same `height/width and dimensions`**. \r\n\r\nBefore, I could just use \r\n`ThumbnailUtils.createVideoThumbnail(file_path,\r\nMediaStore.Images.Thumbnails.FULL_SCREEN_KIND)`;","title":"Android ThumbnailUtils.createVideoThumbnail with no Size specified is deprecated in API level 29","body":"<pre><code>public static Bitmap createVideoThumbnail (String filePath, \n                int kind)\n</code></pre>\n<p>The above method is deprecated in <code>API</code> level 29.</p>\n<p>We are required to use this now:</p>\n<pre><code>public static Bitmap createVideoThumbnail (File file, \n                Size size, \n                CancellationSignal signal)\n</code></pre>\n<p>My question is <strong>how can I set the <code>Size</code> to be the native size of the video <code>File</code> that I am creating the thumbnail from</strong>?</p>\n<p><strong>I want it to be the same <code>height/width and dimensions</code></strong>.</p>\n<p>Before, I could just use\n<code>ThumbnailUtils.createVideoThumbnail(file_path, MediaStore.Images.Thumbnails.FULL_SCREEN_KIND)</code>;</p>\n"},{"tags":["java","collections","hash","hashmap"],"comments":[{"owner":{"account_id":943775,"reputation":7895,"user_id":1306394,"accept_rate":75,"display_name":"shashwat"},"score":0,"creation_date":1643598066,"post_id":11700659,"comment_id":125374827,"body_markdown":"Off the context, just another instance where C# appears to be a more practical language than Java.","body":"Off the context, just another instance where C# appears to be a more practical language than Java."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1343476465,"creation_date":1343475419,"answer_id":11700674,"question_id":11700659,"body_markdown":"Why not create a (say) `Pair` object, which contains the two strings as members, and then use this as the key ?\r\n\r\ne.g.\r\n\r\n    public class Pair {\r\n       private final String str1;\r\n       private final String str2;\r\n    \r\n       // this object should be immutable to reliably perform subsequent lookups\r\n    }\r\n\r\nDon&#39;t forget about [equals()][1] and [hashCode()][2]. See [this blog entry][3] for more on HashMaps and keys, including a background on the immutability requirements. If your key isn&#39;t immutable, then you can change its components and a subsequent lookup will fail to locate it (this is why immutable objects such as `String` are good candidates for a key)\r\n\r\nYou&#39;re right that concatenation isn&#39;t ideal. For some circumstances it&#39;ll work, but it&#39;s often an unreliable and fragile solution (e.g. is **AB/C** a different key from **A/BC** ?).\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=17\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=28\r\n  [3]: http://javarevisited.blogspot.co.uk/2011/02/how-hashmap-works-in-java.html","title":"Java: Composite key in hashmaps","body":"<p>Why not create a (say) <code>Pair</code> object, which contains the two strings as members, and then use this as the key ?</p>\n\n<p>e.g.</p>\n\n<pre><code>public class Pair {\n   private final String str1;\n   private final String str2;\n\n   // this object should be immutable to reliably perform subsequent lookups\n}\n</code></pre>\n\n<p>Don't forget about <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=17\" rel=\"noreferrer\">equals()</a> and <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=28\" rel=\"noreferrer\">hashCode()</a>. See <a href=\"http://javarevisited.blogspot.co.uk/2011/02/how-hashmap-works-in-java.html\" rel=\"noreferrer\">this blog entry</a> for more on HashMaps and keys, including a background on the immutability requirements. If your key isn't immutable, then you can change its components and a subsequent lookup will fail to locate it (this is why immutable objects such as <code>String</code> are good candidates for a key)</p>\n\n<p>You're right that concatenation isn't ideal. For some circumstances it'll work, but it's often an unreliable and fragile solution (e.g. is <strong>AB/C</strong> a different key from <strong>A/BC</strong> ?).</p>\n"},{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1366370300,"creation_date":1343475481,"answer_id":11700684,"question_id":11700659,"body_markdown":"You could have a custom object containing the two strings:\r\n\r\n    class StringKey {\r\n        private String str1;\r\n        private String str2;\r\n    }\r\n\r\nProblem is, you need to determine the equality test and the hash code for two such objects.\r\n\r\nEquality could be the match on both strings and the hashcode could be the hashcode of the concatenated members (this is debatable):\r\n\r\n    class StringKey {\r\n        private String str1;\r\n        private String str2;\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if(obj != null &amp;&amp; obj instanceof StringKey) {\r\n                StringKey s = (StringKey)obj;\r\n                return str1.equals(s.str1) &amp;&amp; str2.equals(s.str2);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return (str1 + str2).hashCode();\r\n        }\r\n    }\r\n\r\n","title":"Java: Composite key in hashmaps","body":"<p>You could have a custom object containing the two strings:</p>\n\n<pre><code>class StringKey {\n    private String str1;\n    private String str2;\n}\n</code></pre>\n\n<p>Problem is, you need to determine the equality test and the hash code for two such objects.</p>\n\n<p>Equality could be the match on both strings and the hashcode could be the hashcode of the concatenated members (this is debatable):</p>\n\n<pre><code>class StringKey {\n    private String str1;\n    private String str2;\n\n    @Override\n    public boolean equals(Object obj) {\n        if(obj != null &amp;&amp; obj instanceof StringKey) {\n            StringKey s = (StringKey)obj;\n            return str1.equals(s.str1) &amp;&amp; str2.equals(s.str2);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return (str1 + str2).hashCode();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":886633,"reputation":4739,"user_id":925927,"accept_rate":75,"display_name":"EdgeCase"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1343477185,"creation_date":1343477185,"answer_id":11700876,"question_id":11700659,"body_markdown":"I have a similar case.  All I do is concatenate the two strings separated by a tilde ( ~ ).\r\n\r\nSo when the client calls the service function to get the object from the map, it looks like this:\r\n\r\n    MyObject getMyObject(String key1, String key2) {\r\n        String cacheKey = key1 + &quot;~&quot; + key2;\r\n        return map.get(cachekey);\r\n    }\r\n\r\nIt is simple, but it works.","title":"Java: Composite key in hashmaps","body":"<p>I have a similar case.  All I do is concatenate the two strings separated by a tilde ( ~ ).</p>\n\n<p>So when the client calls the service function to get the object from the map, it looks like this:</p>\n\n<pre><code>MyObject getMyObject(String key1, String key2) {\n    String cacheKey = key1 + \"~\" + key2;\n    return map.get(cachekey);\n}\n</code></pre>\n\n<p>It is simple, but it works.</p>\n"},{"tags":[],"owner":{"account_id":2498789,"reputation":311,"user_id":2174512,"display_name":"Nelson Azevedo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363360846,"creation_date":1363360251,"answer_id":15435825,"question_id":11700659,"body_markdown":"    public static String fakeMapKey(final String... arrayKey) {\r\n        String[] keys = arrayKey;\r\n\r\n        if (keys == null || keys.length == 0)\r\n            return null;\r\n\r\n        if (keys.length == 1)\r\n            return keys[0];\r\n\r\n        String key = &quot;&quot;;\r\n        for (int i = 0; i &lt; keys.length; i++)\r\n            key += &quot;{&quot; + i + &quot;}&quot; + (i == keys.length - 1 ? &quot;&quot; : &quot;{&quot; + keys.length + &quot;}&quot;);\r\n\r\n        keys = Arrays.copyOf(keys, keys.length + 1);\r\n\r\n        keys[keys.length - 1] = FAKE_KEY_SEPARATOR;\r\n\r\n        return  MessageFormat.format(key, (Object[]) keys);}\r\n\r\n&lt;pre&gt;public static string FAKE_KEY_SEPARATOR = &quot;~&quot;;\r\n&lt;br&gt;\r\nINPUT:\r\nfakeMapKey(&quot;keyPart1&quot;,&quot;keyPart2&quot;,&quot;keyPart3&quot;);\r\n&lt;br&gt;\r\nOUTPUT: keyPart1~keyPart2~keyPart3&lt;/pre&gt;","title":"Java: Composite key in hashmaps","body":"<pre><code>public static String fakeMapKey(final String... arrayKey) {\n    String[] keys = arrayKey;\n\n    if (keys == null || keys.length == 0)\n        return null;\n\n    if (keys.length == 1)\n        return keys[0];\n\n    String key = \"\";\n    for (int i = 0; i &lt; keys.length; i++)\n        key += \"{\" + i + \"}\" + (i == keys.length - 1 ? \"\" : \"{\" + keys.length + \"}\");\n\n    keys = Arrays.copyOf(keys, keys.length + 1);\n\n    keys[keys.length - 1] = FAKE_KEY_SEPARATOR;\n\n    return  MessageFormat.format(key, (Object[]) keys);}\n</code></pre>\n\n<pre>public static string FAKE_KEY_SEPARATOR = \"~\";\n<br>\nINPUT:\nfakeMapKey(\"keyPart1\",\"keyPart2\",\"keyPart3\");\n<br>\nOUTPUT: keyPart1~keyPart2~keyPart3</pre>\n"},{"tags":[],"owner":{"account_id":3128661,"reputation":1179,"user_id":2647036,"display_name":"Thomas Bitonti"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1375468666,"creation_date":1375468666,"answer_id":18023900,"question_id":11700659,"body_markdown":"    public int hashCode() {\r\n        return (str1 + str2).hashCode();\r\n    }\r\n\r\nThis seems to be a terrible way to generate the hashCode: Creating a new string instance every time the hash code is computed is terrible!  (Even generating the string instance once and caching the result is poor practice.)\r\n\r\nThere are a lot of suggestions here:\r\n\r\nhttps://stackoverflow.com/questions/2730865/how-do-i-calculate-a-good-hash-code-for-a-list-of-strings\r\n\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        for ( String s : strings ) {\r\n            result = result * prime + s.hashCode();\r\n        }\r\n        return result;\r\n    }\r\n\r\nFor a pair of strings, that becomes:\r\n\r\n    return string1.hashCode() * 31 + string2.hashCode();\r\n\r\nThat is a very basic implementation.  Lots of advice through the link to suggest better tuned strategies.","title":"Java: Composite key in hashmaps","body":"<pre><code>public int hashCode() {\n    return (str1 + str2).hashCode();\n}\n</code></pre>\n\n<p>This seems to be a terrible way to generate the hashCode: Creating a new string instance every time the hash code is computed is terrible!  (Even generating the string instance once and caching the result is poor practice.)</p>\n\n<p>There are a lot of suggestions here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2730865/how-do-i-calculate-a-good-hash-code-for-a-list-of-strings\">How do I calculate a good hash code for a list of strings?</a></p>\n\n<pre><code>public int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    for ( String s : strings ) {\n        result = result * prime + s.hashCode();\n    }\n    return result;\n}\n</code></pre>\n\n<p>For a pair of strings, that becomes:</p>\n\n<pre><code>return string1.hashCode() * 31 + string2.hashCode();\n</code></pre>\n\n<p>That is a very basic implementation.  Lots of advice through the link to suggest better tuned strategies.</p>\n"},{"tags":[],"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391449887,"creation_date":1391443898,"answer_id":21532177,"question_id":11700659,"body_markdown":"I see that many people use nested maps. That is, to map `Key1 -&gt; Key2 -&gt; Value` (I use the computer science/ aka haskell curring notation for `(Key1 x Key2) -&gt; Value` mapping which has two arguments and produces a value), you first supply the first key -- this returns you a [(partial) map][1] `Key2 -&gt; Value`, which you unfold in the next step. \r\n\r\nFor instance, \r\n\r\n    Map&lt;File, Map&lt;Integer, String&gt;&gt; table = new HashMap(); // maps (File, Int) -&gt; Distance\r\n\r\n    add(k1, k2, value) {\r\n      table2 = table1.get(k1);\r\n      if (table2 == null) table2 = table1.add(k1, new HashMap())\r\n      table2.add(k2, value)\r\n    }\r\n    \r\n    get(k1, k2) {\r\n      table2 = table1.get(k1);\r\n      return table2.get(k2)\r\n    }\r\n\r\nI am not sure that it is better or not than the plain composite key construction. You may comment on that.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Partial_application\r\n","title":"Java: Composite key in hashmaps","body":"<p>I see that many people use nested maps. That is, to map <code>Key1 -&gt; Key2 -&gt; Value</code> (I use the computer science/ aka haskell curring notation for <code>(Key1 x Key2) -&gt; Value</code> mapping which has two arguments and produces a value), you first supply the first key -- this returns you a <a href=\"https://en.wikipedia.org/wiki/Partial_application\" rel=\"noreferrer\">(partial) map</a> <code>Key2 -&gt; Value</code>, which you unfold in the next step. </p>\n\n<p>For instance, </p>\n\n<pre><code>Map&lt;File, Map&lt;Integer, String&gt;&gt; table = new HashMap(); // maps (File, Int) -&gt; Distance\n\nadd(k1, k2, value) {\n  table2 = table1.get(k1);\n  if (table2 == null) table2 = table1.add(k1, new HashMap())\n  table2.add(k2, value)\n}\n\nget(k1, k2) {\n  table2 = table1.get(k1);\n  return table2.get(k2)\n}\n</code></pre>\n\n<p>I am not sure that it is better or not than the plain composite key construction. You may comment on that.</p>\n"},{"tags":[],"owner":{"account_id":452431,"reputation":21,"user_id":848869,"display_name":"Rupert Hide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401902725,"creation_date":1401902083,"answer_id":24043600,"question_id":11700659,"body_markdown":" Reading about the spaguetti/cactus stack I came up with a variant which may serve for this purpose, including the possibility of mapping your keys in any order so that  map.lookup(&quot;a&quot;,&quot;b&quot;)  and map.lookup(&quot;b&quot;,&quot;a&quot;) returns the same element. It also works with any number of keys not just two.\r\n\r\n I use it as a stack for experimenting with dataflow programming but here is a quick and dirty version which works as a multi key map (it should be improved: Sets instead of arrays should be used to avoid looking up duplicated ocurrences of a key)\r\n\r\n\tpublic class MultiKeyMap &lt;K,E&gt; {\r\n\t\tclass Mapping {\r\n\t\t\tE element;\r\n\t\t\tint numKeys;\r\n\t\t\tpublic Mapping(E element,int numKeys){\r\n\t\t\t\tthis.element = element;\r\n\t\t\t\tthis.numKeys = numKeys;\r\n\t\t\t}\r\n\t\t}\r\n\t\tclass KeySlot{\r\n\t\t\tMapping parent;\r\n\t\t\tpublic KeySlot(Mapping mapping) {\r\n\t\t\t\tparent = mapping;\r\n\t\t\t}\r\n\t\t}\r\n\t\tclass KeySlotList extends LinkedList&lt;KeySlot&gt;{}\r\n\t\tclass MultiMap extends HashMap&lt;K,KeySlotList&gt;{}\r\n\t\tclass MappingTrackMap extends HashMap&lt;Mapping,Integer&gt;{}\r\n\t\r\n\t\tMultiMap map = new MultiMap();\r\n\t\t\r\n\t\tpublic void put(E element, K ...keys){\r\n\t\t\tMapping mapping = new Mapping(element,keys.length);\r\n\t\t\tfor(int i=0;i&lt;keys.length;i++){\r\n\t\t\t\tKeySlot k = new KeySlot(mapping);\r\n\t\t\t\tKeySlotList l = map.get(keys[i]);\r\n\t\t\t\tif(l==null){\r\n\t\t\t\t\tl = new KeySlotList();\r\n\t\t\t\t\tmap.put(keys[i], l);\r\n\t\t\t\t}\r\n\t\t\t\tl.add(k);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic E lookup(K ...keys){\r\n\t\t\tMappingTrackMap tmp  = new MappingTrackMap();\r\n\t\t\tfor(K key:keys){\r\n\t\t\t\tKeySlotList l = map.get(key);\r\n\t\t\t\tif(l==null)return null;\r\n\t\t\t\tfor(KeySlot keySlot:l){\r\n\t\t\t\t\tMapping parent = keySlot.parent;\r\n\t\t\t\t\tInteger count = tmp.get(parent);\r\n\t\t\t\t\tif(parent.numKeys!=keys.length)continue;\r\n\t\t\t\t\tif(count == null){\r\n\t\t\t\t\t\tcount = parent.numKeys-1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count == 0){\r\n\t\t\t\t\t\treturn parent.element;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttmp.put(parent, count);\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMultiKeyMap&lt;String,String&gt; m = new MultiKeyMap&lt;String,String&gt;();\r\n\t\t\tm.put(&quot;brazil&quot;, &quot;yellow&quot;, &quot;green&quot;);\r\n\t\t\tm.put(&quot;canada&quot;, &quot;red&quot;, &quot;white&quot;);\r\n\t\t\tm.put(&quot;USA&quot;, &quot;red&quot; ,&quot;white&quot; ,&quot;blue&quot;);\r\n\t\t\tm.put(&quot;argentina&quot;, &quot;white&quot;,&quot;blue&quot;);\r\n\t               \r\n\t\t\tSystem.out.println(m.lookup(&quot;red&quot;,&quot;white&quot;));  // canada\r\n\t\t\tSystem.out.println(m.lookup(&quot;white&quot;,&quot;red&quot;));  // canada\r\n\t\t\tSystem.out.println(m.lookup(&quot;white&quot;,&quot;red&quot;,&quot;blue&quot;)); // USA\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n","title":"Java: Composite key in hashmaps","body":"<p>Reading about the spaguetti/cactus stack I came up with a variant which may serve for this purpose, including the possibility of mapping your keys in any order so that  map.lookup(\"a\",\"b\")  and map.lookup(\"b\",\"a\") returns the same element. It also works with any number of keys not just two.</p>\n\n<p>I use it as a stack for experimenting with dataflow programming but here is a quick and dirty version which works as a multi key map (it should be improved: Sets instead of arrays should be used to avoid looking up duplicated ocurrences of a key)</p>\n\n<pre><code>public class MultiKeyMap &lt;K,E&gt; {\n    class Mapping {\n        E element;\n        int numKeys;\n        public Mapping(E element,int numKeys){\n            this.element = element;\n            this.numKeys = numKeys;\n        }\n    }\n    class KeySlot{\n        Mapping parent;\n        public KeySlot(Mapping mapping) {\n            parent = mapping;\n        }\n    }\n    class KeySlotList extends LinkedList&lt;KeySlot&gt;{}\n    class MultiMap extends HashMap&lt;K,KeySlotList&gt;{}\n    class MappingTrackMap extends HashMap&lt;Mapping,Integer&gt;{}\n\n    MultiMap map = new MultiMap();\n\n    public void put(E element, K ...keys){\n        Mapping mapping = new Mapping(element,keys.length);\n        for(int i=0;i&lt;keys.length;i++){\n            KeySlot k = new KeySlot(mapping);\n            KeySlotList l = map.get(keys[i]);\n            if(l==null){\n                l = new KeySlotList();\n                map.put(keys[i], l);\n            }\n            l.add(k);\n        }\n    }\n    public E lookup(K ...keys){\n        MappingTrackMap tmp  = new MappingTrackMap();\n        for(K key:keys){\n            KeySlotList l = map.get(key);\n            if(l==null)return null;\n            for(KeySlot keySlot:l){\n                Mapping parent = keySlot.parent;\n                Integer count = tmp.get(parent);\n                if(parent.numKeys!=keys.length)continue;\n                if(count == null){\n                    count = parent.numKeys-1;\n                }else{\n                    count--;\n                }\n                if(count == 0){\n                    return parent.element;\n                }else{\n                    tmp.put(parent, count);\n                }               \n            }\n        }\n        return null;\n    }\n    public static void main(String[] args) {\n        MultiKeyMap&lt;String,String&gt; m = new MultiKeyMap&lt;String,String&gt;();\n        m.put(\"brazil\", \"yellow\", \"green\");\n        m.put(\"canada\", \"red\", \"white\");\n        m.put(\"USA\", \"red\" ,\"white\" ,\"blue\");\n        m.put(\"argentina\", \"white\",\"blue\");\n\n        System.out.println(m.lookup(\"red\",\"white\"));  // canada\n        System.out.println(m.lookup(\"white\",\"red\"));  // canada\n        System.out.println(m.lookup(\"white\",\"red\",\"blue\")); // USA\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2669830,"reputation":1076,"user_id":2307470,"display_name":"TMtech"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1675413958,"creation_date":1467887070,"answer_id":38243101,"question_id":11700659,"body_markdown":"You don&#39;t need to reinvent the wheel. Simply use the [Guava][1]&#39;s `HashBasedTable&lt;R,C,V&gt;` implementation of `Table&lt;R,C,V&gt;` interface, for your need. Here is an example\r\n\r\n    Table&lt;String, String, Integer&gt; table = HashBasedTable.create();\r\n    \r\n    table.put(&quot;key-1&quot;, &quot;lock-1&quot;, 50);\r\n    table.put(&quot;lock-1&quot;, &quot;key-1&quot;, 100);\r\n    \r\n    System.out.println(table.get(&quot;key-1&quot;, &quot;lock-1&quot;)); //prints 50\r\n    System.out.println(table.get(&quot;lock-1&quot;, &quot;key-1&quot;)); //prints 100\r\n\r\n    table.put(&quot;key-1&quot;, &quot;lock-1&quot;, 150); //replaces 50 with 150\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"Java: Composite key in hashmaps","body":"<p>You don't need to reinvent the wheel. Simply use the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <code>HashBasedTable&lt;R,C,V&gt;</code> implementation of <code>Table&lt;R,C,V&gt;</code> interface, for your need. Here is an example</p>\n<pre><code>Table&lt;String, String, Integer&gt; table = HashBasedTable.create();\n\ntable.put(&quot;key-1&quot;, &quot;lock-1&quot;, 50);\ntable.put(&quot;lock-1&quot;, &quot;key-1&quot;, 100);\n\nSystem.out.println(table.get(&quot;key-1&quot;, &quot;lock-1&quot;)); //prints 50\nSystem.out.println(table.get(&quot;lock-1&quot;, &quot;key-1&quot;)); //prints 100\n\ntable.put(&quot;key-1&quot;, &quot;lock-1&quot;, 150); //replaces 50 with 150\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607572305,"creation_date":1607441930,"answer_id":65202009,"question_id":11700659,"body_markdown":"I’d like to mention two options that I don’t think were covered in the other answers. Whether they are good for your purpose you will have to decide yourself.\r\n\r\n## Map&lt;String, Map&lt;String, YourObject&gt;&gt;\r\n\r\nYou may use a map of maps, using string 1 as key in the outer map and string 2 as key in each inner map.\r\n\r\nI do not think it’s a very nice solution syntax-wise, but it’s simple and I have seen it used in some places. It’s also supposed to be efficient in time and memory, while this shouldn’t be the main reason in 99 % of cases. What I don’t like about it is that we’ve lost the explicit information about the type of the key: it’s only inferred from the code that the effective key is two strings, it’s not clear to read.\r\n\r\n## Map&lt;YourObject, YourObject&gt;\r\n\r\nThis is for a special case. I have had this situation more than once, so it’s not more special than that. If your objects contain the two strings used as key and it makes sense to define object equality based on the two, then define `equals` and `hashCode` in accordance and use the object as both key and value.\r\n\r\nOne would have wished to use a `Set` rather than a `Map` in this case, but a Java `HashSet` doesn’t provide any method to retrieve an object form a set based on an equal object. So we do need the map.\r\n\r\nOne liability is that you need to create a new object in order to do lookup. This goes for the solutions in many of the other answers too.\r\n\r\n## Link\r\n\r\n[Jer&#243;nimo L&#243;pez: Composite key in HashMaps](https://www.jeronimo.dev/composite-key-in-hashmaps/) on the efficiency of the map of maps.","title":"Java: Composite key in hashmaps","body":"<p>I’d like to mention two options that I don’t think were covered in the other answers. Whether they are good for your purpose you will have to decide yourself.</p>\n<h2>Map&lt;String, Map&lt;String, YourObject&gt;&gt;</h2>\n<p>You may use a map of maps, using string 1 as key in the outer map and string 2 as key in each inner map.</p>\n<p>I do not think it’s a very nice solution syntax-wise, but it’s simple and I have seen it used in some places. It’s also supposed to be efficient in time and memory, while this shouldn’t be the main reason in 99 % of cases. What I don’t like about it is that we’ve lost the explicit information about the type of the key: it’s only inferred from the code that the effective key is two strings, it’s not clear to read.</p>\n<h2>Map&lt;YourObject, YourObject&gt;</h2>\n<p>This is for a special case. I have had this situation more than once, so it’s not more special than that. If your objects contain the two strings used as key and it makes sense to define object equality based on the two, then define <code>equals</code> and <code>hashCode</code> in accordance and use the object as both key and value.</p>\n<p>One would have wished to use a <code>Set</code> rather than a <code>Map</code> in this case, but a Java <code>HashSet</code> doesn’t provide any method to retrieve an object form a set based on an equal object. So we do need the map.</p>\n<p>One liability is that you need to create a new object in order to do lookup. This goes for the solutions in many of the other answers too.</p>\n<h2>Link</h2>\n<p><a href=\"https://www.jeronimo.dev/composite-key-in-hashmaps/\" rel=\"nofollow noreferrer\">Jerónimo López: Composite key in HashMaps</a> on the efficiency of the map of maps.</p>\n"}],"owner":{"account_id":1241334,"reputation":1177,"user_id":1203861,"accept_rate":88,"display_name":"user1203861"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59580,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":11700684,"answer_count":9,"score":37,"last_activity_date":1675413958,"creation_date":1343475311,"question_id":11700659,"body_markdown":"I would like to store a group of objects in a hashmap , where the key shall be a composite of two string values. is there a way to achieve this?\r\n\r\ni can simply concatenate the two strings , but im sure there is a better way to do this.","title":"Java: Composite key in hashmaps","body":"<p>I would like to store a group of objects in a hashmap , where the key shall be a composite of two string values. is there a way to achieve this?</p>\n\n<p>i can simply concatenate the two strings , but im sure there is a better way to do this.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675413349,"creation_date":1675413349,"answer_id":75333250,"question_id":75332804,"body_markdown":"`min.insync.replicas` and `replication.factor` are both **Topic Configs**, not a Kafka (Streams) client property. \r\n\r\nFrom Spring Kafka , you can use `@Bean NewTopic` to define Kafka topic resources with their configurations. \r\n\r\n---\r\n\r\nYour error probably went away because the cluster had healed itself, while your app was retrying the request. You should look at the broker server logs rather than your app&#39;s. ","title":"NotEnoughReplicasException: Messages are rejected since there are fewer in-sync replicas than required","body":"<p><code>min.insync.replicas</code> and <code>replication.factor</code> are both <strong>Topic Configs</strong>, not a Kafka (Streams) client property.</p>\n<p>From Spring Kafka , you can use <code>@Bean NewTopic</code> to define Kafka topic resources with their configurations.</p>\n<hr />\n<p>Your error probably went away because the cluster had healed itself, while your app was retrying the request. You should look at the broker server logs rather than your app's.</p>\n"}],"owner":{"account_id":17655636,"reputation":13,"user_id":12815306,"display_name":"Turxan D&#252;nya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75333250,"answer_count":1,"score":1,"last_activity_date":1675413349,"creation_date":1675410211,"question_id":75332804,"body_markdown":"l have 5 kafka broker. And in my producer app, my configs is like below:\r\nInteresting part is that, after getting this exception 2 times, in third time message is producing to topic.\r\n```\r\nspring:\r\n  kafka:\r\n    streams:\r\n      replication-factor: 3\r\n    properties:\r\n      min.insync.replicas: 2\r\n    producer:\r\n      acks: &quot;all&quot;\r\n      batch-size: 1\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n      compression-type: &quot;lz4&quot;\r\n      retries: 2\r\n      properties:\r\n        linger.ms: 1\r\n        request:\r\n          timeout:\r\n            ms: 60000\r\n```\r\n\r\nSo, l tried to assign different count for replication-factor and min.insync.replicas. ","title":"NotEnoughReplicasException: Messages are rejected since there are fewer in-sync replicas than required","body":"<p>l have 5 kafka broker. And in my producer app, my configs is like below:\nInteresting part is that, after getting this exception 2 times, in third time message is producing to topic.</p>\n<pre><code>spring:\n  kafka:\n    streams:\n      replication-factor: 3\n    properties:\n      min.insync.replicas: 2\n    producer:\n      acks: &quot;all&quot;\n      batch-size: 1\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      compression-type: &quot;lz4&quot;\n      retries: 2\n      properties:\n        linger.ms: 1\n        request:\n          timeout:\n            ms: 60000\n</code></pre>\n<p>So, l tried to assign different count for replication-factor and min.insync.replicas.</p>\n"},{"tags":["java","android","android-permissions","android-bluetooth","startactivityforresult"],"comments":[{"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"score":0,"creation_date":1644287703,"post_id":71021593,"comment_id":125560768,"body_markdown":"What&#39;s the `targetSdk` set as?","body":"What&#39;s the <code>targetSdk</code> set as?"}],"answers":[{"tags":[],"owner":{"account_id":11547848,"reputation":1276,"user_id":8461344,"display_name":"Code Demon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1675413245,"creation_date":1644294107,"answer_id":71028573,"question_id":71021593,"body_markdown":"Currently the recommended approach is using a `ActivityResultLauncher` to get the results like so:\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                 if (result.getResultCode() == Activity.RESULT_OK) {\r\n                     Log.e(&quot;Activity result&quot;,&quot;OK&quot;);\r\n                     // There are no request codes\r\n                    Intent data = result.getData();\r\n                }\r\n            });\r\n\r\nso just call it like:\r\n\r\n    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            activityResultLauncher.launch(intent);\r\n\r\nand for your case assuming everything else is working fine ,you update to something like below:\r\n\r\n    package com.example.bluetoothexamples;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import android.app.Activity;\r\n    import android.util.Log;\r\n    \r\n    import java.util.Set;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n        private static final int REQUEST_ENABLE_BT = 0;\r\n        private static final int REQUEST_DISCOVER_BT = 1;\r\n    \r\n        TextView mStatusBlueTv;\r\n        TextView mPairedTv;\r\n    \r\n        ImageView mBlueIv;\r\n    \r\n        Button mOnBtn;\r\n        Button mOffBtn;\r\n        Button mDiscoverBtn;\r\n        Button mPairedBtn;\r\n    \r\n        BluetoothAdapter mBlueAdapter;\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                     if (result.getResultCode() == Activity.RESULT_OK) {\r\n                         Log.e(&quot;Activity result&quot;,&quot;OK&quot;);\r\n                         // There are no request codes\r\n                        Intent data = result.getData();\r\n                    }\r\n                });\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mStatusBlueTv = findViewById(R.id.statusBluetoothTv);\r\n            mPairedTv = findViewById(R.id.pairedTv);\r\n    \r\n            mBlueIv = findViewById(R.id.bluetoothIv);\r\n    \r\n            mOnBtn = findViewById(R.id.onBtn);\r\n            mOffBtn = findViewById(R.id.offBtn);\r\n            mDiscoverBtn = findViewById(R.id.discoverableBtn);\r\n            mPairedBtn = findViewById(R.id.pairedBtn);\r\n    \r\n            // Adapter\r\n            mBlueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            //Check if bluetooth is available or not\r\n            if (mBlueAdapter == null) {\r\n                mStatusBlueTv.setText(&quot;Bluetooth is NOT Available&quot;);\r\n            } else {\r\n                mStatusBlueTv.setText(&quot;Bluetooth is Available&quot;);\r\n    \r\n                // Set image according to bluetooth status (on/off)\r\n                if (mBlueAdapter.isEnabled()) {\r\n                    mBlueIv.setImageResource(R.drawable.ic_action_on);\r\n                } else {\r\n                    mBlueIv.setImageResource(R.drawable.ic_action_off);\r\n                }\r\n    \r\n                mOnBtn.setOnClickListener(this);          // Turn on Bluetooth btn click\r\n                mDiscoverBtn.setOnClickListener(this);    // Discover bluetooth btn click\r\n                mOffBtn.setOnClickListener(this);         // Turn off Bluetooth btn click\r\n                mPairedBtn.setOnClickListener(this);      // Get Paired devices button click\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n    \r\n                // Turn on Bluetooth btn click\r\n                case R.id.onBtn:\r\n    \r\n                    if (!mBlueAdapter.isEnabled()) {\r\n                       // showToast(&quot;Turning On Bluetooth...&quot;);\r\n    \r\n    //                    if (getApplicationContext().checkSelfPermission(Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\r\n    //                    } else {\r\n    //                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\r\n    //                    }\r\n    \r\n    \r\n                        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                            // TODO: Consider calling\r\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\r\n                            // here to request the missing permissions, and then overriding\r\n                            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                            //                                          int[] grantResults)\r\n                            // to handle the case where the user grants the permission. See the documentation\r\n                            // for ActivityCompat#requestPermissions for more details.\r\n                            return;\r\n                        }\r\n    \r\n                        // Intent to On Bluetooth\r\n                        Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                      //  startActivityForResult(intent, REQUEST_ENABLE_BT);\r\n    \t\t\t\t\t  \r\n            activityResultLauncher.launch(intent);\r\n                    }\r\n                    else {\r\n                        showToast(&quot;Bluetooth is already on&quot;);\r\n                    }\r\n    \r\n                break;\r\n    \r\n                // Discover bluetooth btn click\r\n                case R.id.discoverableBtn:\r\n    \r\n                    if (!mBlueAdapter.isDiscovering()){\r\n                        showToast(&quot;Making Your Device Discoverable&quot;);\r\n                        Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n                        //startActivityForResult(intent ,REQUEST_DISCOVER_BT);\r\n    \t\t\t\t\t activityResultLauncher.launch(intent);\r\n                    }\r\n    \r\n                break;\r\n    \r\n                // Turn off Bluetooth btn click\r\n                case R.id.offBtn:\r\n    \r\n                    if (mBlueAdapter.isEnabled()) {\r\n                        mBlueAdapter.disable();\r\n                        showToast(&quot;Turning Bluetooth Off&quot;);\r\n                        mBlueIv.setImageResource(R.drawable.ic_action_off);\r\n                    }\r\n                    else {\r\n                        showToast(&quot;Bluetooth is already off&quot;);\r\n                    }\r\n    \r\n                 break;\r\n                    // Get Paired devices button click\r\n                case R.id.pairedBtn:\r\n    \r\n                    if (mBlueAdapter.isEnabled()) {\r\n                        mPairedTv.setText(&quot;Paired Devices&quot;);\r\n                        Set&lt;BluetoothDevice&gt; devices = mBlueAdapter.getBondedDevices();\r\n                        for (BluetoothDevice device: devices){\r\n                            mPairedTv.append(&quot;\\nDevice: &quot; + device.getName() + &quot;, &quot; + device);\r\n                        }\r\n                    }\r\n                    else {\r\n                        //bluetooth is off so can&#39;t get paired devices\r\n                        showToast(&quot;Turn ON Bluetooth to get paired devices&quot;);\r\n                    }\r\n    \r\n                    break;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            if (requestCode == 1){\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    showToast(&quot;Permission Granted&quot;);\r\n                }\r\n                else {\r\n                    showToast(&quot;Permission Denied&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            switch (requestCode){\r\n                case REQUEST_ENABLE_BT:\r\n    \r\n                    if (resultCode == RESULT_OK) {\r\n                        // Bluetooth is on\r\n                        mBlueIv.setImageResource(R.drawable.ic_action_on);\r\n                        showToast(&quot;Bluetooth is on&quot;);\r\n                    }\r\n                    else {\r\n                        showToast(&quot;Failed to connect to bluetooth&quot;);\r\n                    }\r\n    \r\n                break;\r\n            }\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    \r\n        //Toast message function\r\n        private void showToast (String msg) {\r\n            Toast.makeText(this, msg, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\nfor java &lt;8 :\r\n\r\n       ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            Log.e(&quot;Activity result&quot;, &quot;OK&quot;);\r\n                            // There are no request codes\r\n                            Intent data = result.getData();\r\n                        }\r\n                    }\r\n                }\r\n                );\r\n\r\n","title":"I&#39;m try to grant access to Enable and Disable Bluetooth on Android Studio using JAVA; but startActivityForResult has been Deprecated. What I can do?","body":"<p>Currently the recommended approach is using a <code>ActivityResultLauncher</code> to get the results like so:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n             if (result.getResultCode() == Activity.RESULT_OK) {\n                 Log.e(&quot;Activity result&quot;,&quot;OK&quot;);\n                 // There are no request codes\n                Intent data = result.getData();\n            }\n        });\n</code></pre>\n<p>so just call it like:</p>\n<pre><code>Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        activityResultLauncher.launch(intent);\n</code></pre>\n<p>and for your case assuming everything else is working fine ,you update to something like below:</p>\n<pre><code>package com.example.bluetoothexamples;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport android.app.Activity;\nimport android.util.Log;\n\nimport java.util.Set;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private static final int REQUEST_ENABLE_BT = 0;\n    private static final int REQUEST_DISCOVER_BT = 1;\n\n    TextView mStatusBlueTv;\n    TextView mPairedTv;\n\n    ImageView mBlueIv;\n\n    Button mOnBtn;\n    Button mOffBtn;\n    Button mDiscoverBtn;\n    Button mPairedBtn;\n\n    BluetoothAdapter mBlueAdapter;\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                 if (result.getResultCode() == Activity.RESULT_OK) {\n                     Log.e(&quot;Activity result&quot;,&quot;OK&quot;);\n                     // There are no request codes\n                    Intent data = result.getData();\n                }\n            });\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mStatusBlueTv = findViewById(R.id.statusBluetoothTv);\n        mPairedTv = findViewById(R.id.pairedTv);\n\n        mBlueIv = findViewById(R.id.bluetoothIv);\n\n        mOnBtn = findViewById(R.id.onBtn);\n        mOffBtn = findViewById(R.id.offBtn);\n        mDiscoverBtn = findViewById(R.id.discoverableBtn);\n        mPairedBtn = findViewById(R.id.pairedBtn);\n\n        // Adapter\n        mBlueAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        //Check if bluetooth is available or not\n        if (mBlueAdapter == null) {\n            mStatusBlueTv.setText(&quot;Bluetooth is NOT Available&quot;);\n        } else {\n            mStatusBlueTv.setText(&quot;Bluetooth is Available&quot;);\n\n            // Set image according to bluetooth status (on/off)\n            if (mBlueAdapter.isEnabled()) {\n                mBlueIv.setImageResource(R.drawable.ic_action_on);\n            } else {\n                mBlueIv.setImageResource(R.drawable.ic_action_off);\n            }\n\n            mOnBtn.setOnClickListener(this);          // Turn on Bluetooth btn click\n            mDiscoverBtn.setOnClickListener(this);    // Discover bluetooth btn click\n            mOffBtn.setOnClickListener(this);         // Turn off Bluetooth btn click\n            mPairedBtn.setOnClickListener(this);      // Get Paired devices button click\n        }\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n\n            // Turn on Bluetooth btn click\n            case R.id.onBtn:\n\n                if (!mBlueAdapter.isEnabled()) {\n                   // showToast(&quot;Turning On Bluetooth...&quot;);\n\n//                    if (getApplicationContext().checkSelfPermission(Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\n//                    } else {\n//                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\n//                    }\n\n\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                        // TODO: Consider calling\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\n                        // here to request the missing permissions, and then overriding\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                        //                                          int[] grantResults)\n                        // to handle the case where the user grants the permission. See the documentation\n                        // for ActivityCompat#requestPermissions for more details.\n                        return;\n                    }\n\n                    // Intent to On Bluetooth\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                  //  startActivityForResult(intent, REQUEST_ENABLE_BT);\n                      \n        activityResultLauncher.launch(intent);\n                }\n                else {\n                    showToast(&quot;Bluetooth is already on&quot;);\n                }\n\n            break;\n\n            // Discover bluetooth btn click\n            case R.id.discoverableBtn:\n\n                if (!mBlueAdapter.isDiscovering()){\n                    showToast(&quot;Making Your Device Discoverable&quot;);\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n                    //startActivityForResult(intent ,REQUEST_DISCOVER_BT);\n                     activityResultLauncher.launch(intent);\n                }\n\n            break;\n\n            // Turn off Bluetooth btn click\n            case R.id.offBtn:\n\n                if (mBlueAdapter.isEnabled()) {\n                    mBlueAdapter.disable();\n                    showToast(&quot;Turning Bluetooth Off&quot;);\n                    mBlueIv.setImageResource(R.drawable.ic_action_off);\n                }\n                else {\n                    showToast(&quot;Bluetooth is already off&quot;);\n                }\n\n             break;\n                // Get Paired devices button click\n            case R.id.pairedBtn:\n\n                if (mBlueAdapter.isEnabled()) {\n                    mPairedTv.setText(&quot;Paired Devices&quot;);\n                    Set&lt;BluetoothDevice&gt; devices = mBlueAdapter.getBondedDevices();\n                    for (BluetoothDevice device: devices){\n                        mPairedTv.append(&quot;\\nDevice: &quot; + device.getName() + &quot;, &quot; + device);\n                    }\n                }\n                else {\n                    //bluetooth is off so can't get paired devices\n                    showToast(&quot;Turn ON Bluetooth to get paired devices&quot;);\n                }\n\n                break;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == 1){\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                showToast(&quot;Permission Granted&quot;);\n            }\n            else {\n                showToast(&quot;Permission Denied&quot;);\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        switch (requestCode){\n            case REQUEST_ENABLE_BT:\n\n                if (resultCode == RESULT_OK) {\n                    // Bluetooth is on\n                    mBlueIv.setImageResource(R.drawable.ic_action_on);\n                    showToast(&quot;Bluetooth is on&quot;);\n                }\n                else {\n                    showToast(&quot;Failed to connect to bluetooth&quot;);\n                }\n\n            break;\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    //Toast message function\n    private void showToast (String msg) {\n        Toast.makeText(this, msg, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>for java &lt;8 :</p>\n<pre><code>   ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Log.e(&quot;Activity result&quot;, &quot;OK&quot;);\n                        // There are no request codes\n                        Intent data = result.getData();\n                    }\n                }\n            }\n            );\n</code></pre>\n"}],"owner":{"account_id":24182576,"reputation":31,"user_id":18143005,"display_name":"Adrian Suarez del Villar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1644627791,"answer_count":1,"score":3,"last_activity_date":1675413245,"creation_date":1644249686,"question_id":71021593,"body_markdown":"I would like grant access to Enable and Disable Bluetooth from Android Studio. I also pretend to use other functionalities of Bluetooth as list of devices and connect to previous pared device and more.\r\n\r\nSince `starActivityForResult` has been Deprecated, I&#39;m having trouble to lunch the pop up activity that ask the user for allowance.\r\n\r\nThis is my manifest\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.bluetoothonofftest&quot;\r\n    tools:ignore=&quot;CoarseFineLocation&quot;&gt;\r\n\r\n    &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;\r\n        android:maxSdkVersion=&quot;30&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;\r\n        android:maxSdkVersion=&quot;30&quot;\r\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\r\n\r\n    &lt;!-- Needed only if your app looks for Bluetooth devices.\r\n         If your app doesn&#39;t use Bluetooth scan results to derive physical\r\n         location information, you can strongly assert that your app\r\n         doesn&#39;t derive physical location. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n\r\n    &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\r\n         devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n\r\n    &lt;!-- Needed only if your app communicates with already-paired Bluetooth\r\n         devices. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n\r\n    &lt;!-- Needed only if your app uses Bluetooth scan results to derive physical location. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.BlUetoothTest&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;   \r\n```\r\n\r\n\r\nThis is my ManinActivity\r\n\r\n\r\n```\r\npackage com.example.bluetoothexamples;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Set;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private static final int REQUEST_ENABLE_BT = 0;\r\n    private static final int REQUEST_DISCOVER_BT = 1;\r\n\r\n    TextView mStatusBlueTv;\r\n    TextView mPairedTv;\r\n\r\n    ImageView mBlueIv;\r\n\r\n    Button mOnBtn;\r\n    Button mOffBtn;\r\n    Button mDiscoverBtn;\r\n    Button mPairedBtn;\r\n\r\n    BluetoothAdapter mBlueAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mStatusBlueTv = findViewById(R.id.statusBluetoothTv);\r\n        mPairedTv = findViewById(R.id.pairedTv);\r\n\r\n        mBlueIv = findViewById(R.id.bluetoothIv);\r\n\r\n        mOnBtn = findViewById(R.id.onBtn);\r\n        mOffBtn = findViewById(R.id.offBtn);\r\n        mDiscoverBtn = findViewById(R.id.discoverableBtn);\r\n        mPairedBtn = findViewById(R.id.pairedBtn);\r\n\r\n        // Adapter\r\n        mBlueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        //Check if bluetooth is available or not\r\n        if (mBlueAdapter == null) {\r\n            mStatusBlueTv.setText(&quot;Bluetooth is NOT Available&quot;);\r\n        } else {\r\n            mStatusBlueTv.setText(&quot;Bluetooth is Available&quot;);\r\n\r\n            // Set image according to bluetooth status (on/off)\r\n            if (mBlueAdapter.isEnabled()) {\r\n                mBlueIv.setImageResource(R.drawable.ic_action_on);\r\n            } else {\r\n                mBlueIv.setImageResource(R.drawable.ic_action_off);\r\n            }\r\n\r\n            mOnBtn.setOnClickListener(this);          // Turn on Bluetooth btn click\r\n            mDiscoverBtn.setOnClickListener(this);    // Discover bluetooth btn click\r\n            mOffBtn.setOnClickListener(this);         // Turn off Bluetooth btn click\r\n            mPairedBtn.setOnClickListener(this);      // Get Paired devices button click\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n\r\n            // Turn on Bluetooth btn click\r\n            case R.id.onBtn:\r\n\r\n                if (!mBlueAdapter.isEnabled()) {\r\n                   // showToast(&quot;Turning On Bluetooth...&quot;);\r\n\r\n//                    if (getApplicationContext().checkSelfPermission(Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\r\n//                    } else {\r\n//                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\r\n//                    }\r\n\r\n\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                        // TODO: Consider calling\r\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\r\n                        // here to request the missing permissions, and then overriding\r\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                        //                                          int[] grantResults)\r\n                        // to handle the case where the user grants the permission. See the documentation\r\n                        // for ActivityCompat#requestPermissions for more details.\r\n                        return;\r\n                    }\r\n\r\n                    // Intent to On Bluetooth\r\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                    startActivityForResult(intent, REQUEST_ENABLE_BT);\r\n                }\r\n                else {\r\n                    showToast(&quot;Bluetooth is already on&quot;);\r\n                }\r\n\r\n            break;\r\n\r\n            // Discover bluetooth btn click\r\n            case R.id.discoverableBtn:\r\n\r\n                if (!mBlueAdapter.isDiscovering()){\r\n                    showToast(&quot;Making Your Device Discoverable&quot;);\r\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n                    startActivityForResult(intent ,REQUEST_DISCOVER_BT);\r\n                }\r\n\r\n            break;\r\n\r\n            // Turn off Bluetooth btn click\r\n            case R.id.offBtn:\r\n\r\n                if (mBlueAdapter.isEnabled()) {\r\n                    mBlueAdapter.disable();\r\n                    showToast(&quot;Turning Bluetooth Off&quot;);\r\n                    mBlueIv.setImageResource(R.drawable.ic_action_off);\r\n                }\r\n                else {\r\n                    showToast(&quot;Bluetooth is already off&quot;);\r\n                }\r\n\r\n             break;\r\n                // Get Paired devices button click\r\n            case R.id.pairedBtn:\r\n\r\n                if (mBlueAdapter.isEnabled()) {\r\n                    mPairedTv.setText(&quot;Paired Devices&quot;);\r\n                    Set&lt;BluetoothDevice&gt; devices = mBlueAdapter.getBondedDevices();\r\n                    for (BluetoothDevice device: devices){\r\n                        mPairedTv.append(&quot;\\nDevice: &quot; + device.getName() + &quot;, &quot; + device);\r\n                    }\r\n                }\r\n                else {\r\n                    //bluetooth is off so can&#39;t get paired devices\r\n                    showToast(&quot;Turn ON Bluetooth to get paired devices&quot;);\r\n                }\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == 1){\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                showToast(&quot;Permission Granted&quot;);\r\n            }\r\n            else {\r\n                showToast(&quot;Permission Denied&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        switch (requestCode){\r\n            case REQUEST_ENABLE_BT:\r\n\r\n                if (resultCode == RESULT_OK) {\r\n                    // Bluetooth is on\r\n                    mBlueIv.setImageResource(R.drawable.ic_action_on);\r\n                    showToast(&quot;Bluetooth is on&quot;);\r\n                }\r\n                else {\r\n                    showToast(&quot;Failed to connect to bluetooth&quot;);\r\n                }\r\n\r\n            break;\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    //Toast message function\r\n    private void showToast (String msg) {\r\n        Toast.makeText(this, msg, Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is my XML\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center_horizontal&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n&lt;!--    Display whether bluetooth is available or not--&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/statusBluetoothTv&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textColor=&quot;#000&quot; /&gt;\r\n\r\n&lt;!--    Bluetooth icon--&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/bluetoothIv&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot; /&gt;\r\n\r\n&lt;!--    on Button--&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/onBtn&quot;\r\n        android:minWidth=&quot;200dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Turn On&quot;\r\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\r\n\r\n&lt;!--    off Button--&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/offBtn&quot;\r\n        android:minWidth=&quot;200dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Turn Off&quot;\r\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\r\n\r\n&lt;!--    Discoverable button--&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/discoverableBtn&quot;\r\n        android:minWidth=&quot;200dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Discoverable&quot;\r\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\r\n\r\n&lt;!--    Get list of paired devices button--&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/pairedBtn&quot;\r\n        android:minWidth=&quot;200dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Get Paired Devices&quot;\r\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\r\n\r\n&lt;!--    Show paired devices here--&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/pairedTv&quot;\r\n        android:minWidth=&quot;200dp&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n","title":"I&#39;m try to grant access to Enable and Disable Bluetooth on Android Studio using JAVA; but startActivityForResult has been Deprecated. What I can do?","body":"<p>I would like grant access to Enable and Disable Bluetooth from Android Studio. I also pretend to use other functionalities of Bluetooth as list of devices and connect to previous pared device and more.</p>\n<p>Since <code>starActivityForResult</code> has been Deprecated, I'm having trouble to lunch the pop up activity that ask the user for allowance.</p>\n<p>This is my manifest</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.bluetoothonofftest&quot;\n    tools:ignore=&quot;CoarseFineLocation&quot;&gt;\n\n    &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;\n        android:maxSdkVersion=&quot;30&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;\n        android:maxSdkVersion=&quot;30&quot;\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\n\n    &lt;!-- Needed only if your app looks for Bluetooth devices.\n         If your app doesn't use Bluetooth scan results to derive physical\n         location information, you can strongly assert that your app\n         doesn't derive physical location. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n\n    &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\n         devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n\n    &lt;!-- Needed only if your app communicates with already-paired Bluetooth\n         devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n\n    &lt;!-- Needed only if your app uses Bluetooth scan results to derive physical location. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.BlUetoothTest&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;   \n</code></pre>\n<p>This is my ManinActivity</p>\n<pre><code>package com.example.bluetoothexamples;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.Set;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private static final int REQUEST_ENABLE_BT = 0;\n    private static final int REQUEST_DISCOVER_BT = 1;\n\n    TextView mStatusBlueTv;\n    TextView mPairedTv;\n\n    ImageView mBlueIv;\n\n    Button mOnBtn;\n    Button mOffBtn;\n    Button mDiscoverBtn;\n    Button mPairedBtn;\n\n    BluetoothAdapter mBlueAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mStatusBlueTv = findViewById(R.id.statusBluetoothTv);\n        mPairedTv = findViewById(R.id.pairedTv);\n\n        mBlueIv = findViewById(R.id.bluetoothIv);\n\n        mOnBtn = findViewById(R.id.onBtn);\n        mOffBtn = findViewById(R.id.offBtn);\n        mDiscoverBtn = findViewById(R.id.discoverableBtn);\n        mPairedBtn = findViewById(R.id.pairedBtn);\n\n        // Adapter\n        mBlueAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        //Check if bluetooth is available or not\n        if (mBlueAdapter == null) {\n            mStatusBlueTv.setText(&quot;Bluetooth is NOT Available&quot;);\n        } else {\n            mStatusBlueTv.setText(&quot;Bluetooth is Available&quot;);\n\n            // Set image according to bluetooth status (on/off)\n            if (mBlueAdapter.isEnabled()) {\n                mBlueIv.setImageResource(R.drawable.ic_action_on);\n            } else {\n                mBlueIv.setImageResource(R.drawable.ic_action_off);\n            }\n\n            mOnBtn.setOnClickListener(this);          // Turn on Bluetooth btn click\n            mDiscoverBtn.setOnClickListener(this);    // Discover bluetooth btn click\n            mOffBtn.setOnClickListener(this);         // Turn off Bluetooth btn click\n            mPairedBtn.setOnClickListener(this);      // Get Paired devices button click\n        }\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n\n            // Turn on Bluetooth btn click\n            case R.id.onBtn:\n\n                if (!mBlueAdapter.isEnabled()) {\n                   // showToast(&quot;Turning On Bluetooth...&quot;);\n\n//                    if (getApplicationContext().checkSelfPermission(Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) {\n//                    } else {\n//                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\n//                    }\n\n\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                        // TODO: Consider calling\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_ADMIN},1);\n                        // here to request the missing permissions, and then overriding\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                        //                                          int[] grantResults)\n                        // to handle the case where the user grants the permission. See the documentation\n                        // for ActivityCompat#requestPermissions for more details.\n                        return;\n                    }\n\n                    // Intent to On Bluetooth\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                    startActivityForResult(intent, REQUEST_ENABLE_BT);\n                }\n                else {\n                    showToast(&quot;Bluetooth is already on&quot;);\n                }\n\n            break;\n\n            // Discover bluetooth btn click\n            case R.id.discoverableBtn:\n\n                if (!mBlueAdapter.isDiscovering()){\n                    showToast(&quot;Making Your Device Discoverable&quot;);\n                    Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n                    startActivityForResult(intent ,REQUEST_DISCOVER_BT);\n                }\n\n            break;\n\n            // Turn off Bluetooth btn click\n            case R.id.offBtn:\n\n                if (mBlueAdapter.isEnabled()) {\n                    mBlueAdapter.disable();\n                    showToast(&quot;Turning Bluetooth Off&quot;);\n                    mBlueIv.setImageResource(R.drawable.ic_action_off);\n                }\n                else {\n                    showToast(&quot;Bluetooth is already off&quot;);\n                }\n\n             break;\n                // Get Paired devices button click\n            case R.id.pairedBtn:\n\n                if (mBlueAdapter.isEnabled()) {\n                    mPairedTv.setText(&quot;Paired Devices&quot;);\n                    Set&lt;BluetoothDevice&gt; devices = mBlueAdapter.getBondedDevices();\n                    for (BluetoothDevice device: devices){\n                        mPairedTv.append(&quot;\\nDevice: &quot; + device.getName() + &quot;, &quot; + device);\n                    }\n                }\n                else {\n                    //bluetooth is off so can't get paired devices\n                    showToast(&quot;Turn ON Bluetooth to get paired devices&quot;);\n                }\n\n                break;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == 1){\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                showToast(&quot;Permission Granted&quot;);\n            }\n            else {\n                showToast(&quot;Permission Denied&quot;);\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        switch (requestCode){\n            case REQUEST_ENABLE_BT:\n\n                if (resultCode == RESULT_OK) {\n                    // Bluetooth is on\n                    mBlueIv.setImageResource(R.drawable.ic_action_on);\n                    showToast(&quot;Bluetooth is on&quot;);\n                }\n                else {\n                    showToast(&quot;Failed to connect to bluetooth&quot;);\n                }\n\n            break;\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    //Toast message function\n    private void showToast (String msg) {\n        Toast.makeText(this, msg, Toast.LENGTH_LONG).show();\n    }\n}\n\n</code></pre>\n<p>This is my XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center_horizontal&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;!--    Display whether bluetooth is available or not--&gt;\n    &lt;TextView\n        android:id=&quot;@+id/statusBluetoothTv&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textColor=&quot;#000&quot; /&gt;\n\n&lt;!--    Bluetooth icon--&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/bluetoothIv&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot; /&gt;\n\n&lt;!--    on Button--&gt;\n    &lt;Button\n        android:id=&quot;@+id/onBtn&quot;\n        android:minWidth=&quot;200dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Turn On&quot;\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\n\n&lt;!--    off Button--&gt;\n    &lt;Button\n        android:id=&quot;@+id/offBtn&quot;\n        android:minWidth=&quot;200dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Turn Off&quot;\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\n\n&lt;!--    Discoverable button--&gt;\n    &lt;Button\n        android:id=&quot;@+id/discoverableBtn&quot;\n        android:minWidth=&quot;200dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Discoverable&quot;\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\n\n&lt;!--    Get list of paired devices button--&gt;\n    &lt;Button\n        android:id=&quot;@+id/pairedBtn&quot;\n        android:minWidth=&quot;200dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Get Paired Devices&quot;\n        style=&quot;@style/Base.Widget.AppCompat.Button.Colored&quot; /&gt;\n\n&lt;!--    Show paired devices here--&gt;\n    &lt;TextView\n        android:id=&quot;@+id/pairedTv&quot;\n        android:minWidth=&quot;200dp&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#000&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675412957,"creation_date":1675412957,"answer_id":75333205,"question_id":75275550,"body_markdown":"I reckon that you can do simpler:\r\n\r\n    public class ServiceB implements Service {\r\n    \r\n        @Override\r\n        public void work(ConfB bConf) {\r\n            ConfB confB = bConf;\r\n        }\r\n    }\r\n\r\nSo high level module will inject `ConfB` into lower level module `ServiceB`.\r\n\r\n","title":"Best pattern to read a configuration object","body":"<p>I reckon that you can do simpler:</p>\n<pre><code>public class ServiceB implements Service {\n\n    @Override\n    public void work(ConfB bConf) {\n        ConfB confB = bConf;\n    }\n}\n</code></pre>\n<p>So high level module will inject <code>ConfB</code> into lower level module <code>ServiceB</code>.</p>\n"}],"owner":{"account_id":12924748,"reputation":2034,"user_id":9345911,"accept_rate":82,"display_name":"Juan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75333205,"answer_count":1,"score":1,"last_activity_date":1675412957,"creation_date":1675001558,"question_id":75275550,"body_markdown":"I need to map a configuration file into an object `Configuration` (this is already done) which is a composition of several configuration objects, each one used by a service. For instance, the `Configuration` class is composed by `ConfA` and `ConfB` classes:\r\n\r\n    public class Configuration {\r\n\r\n        private ConfA confA;\r\n        private ConfB confB;\r\n\r\n        //getters and setters\r\n    }\r\n\r\nThen we have an interface `Service` implemented by classes `ServiceA` and `ServiceB`, each one uses `ConfA` and `ConfB` respectively:\r\n\r\n    public interface Service {\r\n\r\n        void work(Configuration configuration);\r\n    }\r\n\r\nWith my current approach, in each particular service I have to do something like this to obtain the proper configuration:\r\n\r\n    public class ServiceB implements Service {\r\n\r\n        @Override\r\n        public void work(Configuration configuration) {\r\n            ConfB confB = configuration.getConfB();\r\n        }\r\n    }\r\n\r\nIs there any pattern to avoid this code repetition `ConfB confB = configuration.getConfB();` in each service? Any way to avoid the service to know how to retrieve their own configuration?","title":"Best pattern to read a configuration object","body":"<p>I need to map a configuration file into an object <code>Configuration</code> (this is already done) which is a composition of several configuration objects, each one used by a service. For instance, the <code>Configuration</code> class is composed by <code>ConfA</code> and <code>ConfB</code> classes:</p>\n<pre><code>public class Configuration {\n\n    private ConfA confA;\n    private ConfB confB;\n\n    //getters and setters\n}\n</code></pre>\n<p>Then we have an interface <code>Service</code> implemented by classes <code>ServiceA</code> and <code>ServiceB</code>, each one uses <code>ConfA</code> and <code>ConfB</code> respectively:</p>\n<pre><code>public interface Service {\n\n    void work(Configuration configuration);\n}\n</code></pre>\n<p>With my current approach, in each particular service I have to do something like this to obtain the proper configuration:</p>\n<pre><code>public class ServiceB implements Service {\n\n    @Override\n    public void work(Configuration configuration) {\n        ConfB confB = configuration.getConfB();\n    }\n}\n</code></pre>\n<p>Is there any pattern to avoid this code repetition <code>ConfB confB = configuration.getConfB();</code> in each service? Any way to avoid the service to know how to retrieve their own configuration?</p>\n"},{"tags":["java","android","amazon-web-services","smtp","gmail-imap"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1653163531,"post_id":72331923,"comment_id":127785873,"body_markdown":"I don&#39;t know why you think GMail SMTP is decommissioned (it&#39;s not) but what errors are you getting?  Are you sure you want to put credentials such as username/password into your application?  If someone decompiled your app they could send email as you.","body":"I don&#39;t know why you think GMail SMTP is decommissioned (it&#39;s not) but what errors are you getting?  Are you sure you want to put credentials such as username/password into your application?  If someone decompiled your app they could send email as you."}],"answers":[{"tags":[],"owner":{"account_id":24820598,"reputation":1,"user_id":18700985,"display_name":"str58290_03"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675412655,"creation_date":1675408934,"answer_id":75332633,"question_id":72331923,"body_markdown":"Experienced the same exact problem you had too.\r\n\r\n&lt;b&gt;Networking operations, like transport.connect(), have to be ran in Threads too&lt;/b&gt;! Making a network request on the main thread will cause the thread to wait, or block. Thus, the problem to your solution would be to extend the AmazonSESSample class to the Thread class.\r\n\r\n&lt;b&gt;Step 1)&lt;/b&gt; I am assuming that you have &lt;b&gt;followed the steps provided on Amazon&#39;s AWS documentation to send emails programmatically through Amazon SES SMTP interface&lt;/b&gt;. If not here is the link to it: [here](https://docs.aws.amazon.com/ses/latest/dg/send-using-smtp-programmatically.html).\r\n\r\n&lt;b&gt;Step 2)&lt;/b&gt; Download and import the following jar files if you have yet to do so:\r\n\r\n&gt; https://drive.google.com/drive/folders/1q5n2ROQvlmvkW7DAWyhGxzceRustouhK?usp=sharing\r\n\r\n&lt;b&gt;Step 3)&lt;/b&gt; Add the following implementations to your build.gradle file:\r\n\r\n    dependencies{\r\n    implementation files(&#39;libs\\\\javax.mail.jar&#39;)\r\n    implementation files(&#39;libs\\\\javax.activation.jar&#39;)\r\n    implementation files(&#39;libs\\\\javax.additionnal.jar&#39;)\r\n    }\r\n\r\n&lt;b&gt;Step 4)&lt;/b&gt; Instead of following the code they provided, this is the modified version that worked:\r\n\r\n    import android.os.Build;\r\n\r\n    import androidx.annotation.RequiresApi;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.NoSuchProviderException;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public class AmazonSESSample extends Thread{\r\n    \r\n        // Replace sender@example.com with your &quot;From&quot; address.\r\n        // This address must be verified.\r\n        static final String FROM = &quot;sender@example.com&quot;;\r\n        static final String FROMNAME = &quot;Sender Name&quot;;\r\n    \t\r\n        // Replace recipient@example.com with a &quot;To&quot; address. If your account \r\n        // is still in the sandbox, this address must be verified.\r\n        static final String TO = &quot;recipient@example.com&quot;;\r\n        \r\n        // Replace smtp_username with your Amazon SES SMTP user name.\r\n        static final String SMTP_USERNAME = &quot;smtp_username&quot;;\r\n        \r\n        // Replace smtp_password with your Amazon SES SMTP password.\r\n        static final String SMTP_PASSWORD = &quot;smtp_password&quot;;\r\n        \r\n        // The name of the Configuration Set to use for this message.\r\n        // If you comment out or remove this variable, you will also need to\r\n        // comment out or remove the header below.\r\n        static final String CONFIGSET = &quot;ConfigSet&quot;;\r\n        \r\n        // Amazon SES SMTP host name. This example uses the US West (Oregon) region.\r\n        // See https://docs.aws.amazon.com/ses/latest/DeveloperGuide/regions.html#region-endpoints\r\n        // for more information.\r\n        static final String HOST = &quot;email-smtp.us-west-2.amazonaws.com&quot;;\r\n        \r\n        // The port you will connect to on the Amazon SES SMTP endpoint. \r\n        static final int PORT = 587;\r\n        \r\n        static final String SUBJECT = &quot;Amazon SES test (SMTP interface accessed using Java)&quot;;\r\n        \r\n        static final String BODY = String.join(\r\n        \t    System.getProperty(&quot;line.separator&quot;),\r\n        \t    &quot;&lt;h1&gt;Amazon SES SMTP Email Test&lt;/h1&gt;&quot;,\r\n        \t    &quot;&lt;p&gt;This email was sent with Amazon SES using the &quot;, \r\n        \t    &quot;&lt;a href=&#39;https://github.com/javaee/javamail&#39;&gt;Javamail Package&lt;/a&gt;&quot;,\r\n        \t    &quot; for &lt;a href=&#39;https://www.java.com&#39;&gt;Java&lt;/a&gt;.&quot;\r\n        \t);\r\n    \r\n        public void run() {\r\n    \r\n            // Create a Properties object to contain connection configuration information.\r\n        \tProperties props = System.getProperties();\r\n        \tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        \tprops.put(&quot;mail.smtp.port&quot;, PORT); \r\n        \tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        \tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n            // Create a Session object to represent a mail session with the specified properties. \r\n        \tSession session = Session.getDefaultInstance(props);\r\n    \r\n            // Create a message with the specified information. \r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.setFrom(new InternetAddress(FROM,FROMNAME));\r\n            msg.setRecipient(Message.RecipientType.TO, new InternetAddress(TO));\r\n            msg.setSubject(SUBJECT);\r\n            msg.setContent(BODY,&quot;text/html&quot;);\r\n            \r\n            // Add a configuration set header. Comment or delete the \r\n            // next line if you are not using a configuration set\r\n            msg.setHeader(&quot;X-SES-CONFIGURATION-SET&quot;, CONFIGSET);\r\n                \r\n            // Create a transport.\r\n            Transport transport = session.getTransport();\r\n                        \r\n            // Send the message.\r\n            try\r\n            {\r\n                System.out.println(&quot;Sending...&quot;);\r\n                \r\n                // Connect to Amazon SES using the SMTP username and password you specified above.\r\n                transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\r\n            \t\r\n                // Send the email.\r\n                transport.sendMessage(msg, msg.getAllRecipients());\r\n                System.out.println(&quot;Email sent!&quot;);\r\n            }\r\n            catch (Exception ex) {\r\n                System.out.println(&quot;The email was not sent.&quot;);\r\n                System.out.println(&quot;Error message: &quot; + ex.getMessage());\r\n            }\r\n            finally\r\n            {\r\n                // Close and terminate the connection.\r\n                transport.close();\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;b&gt;It is important that you have imported the following jar libraries into your project too:&lt;/b&gt;\r\n\r\n 1. javax.activation.jar\r\n 2. javax.additionnal.jar\r\n 3. javax.mail.jar\r\n\r\n   ","title":"How do we send an SMTP email using AWS from my JAVA (Android studio) app","body":"<p>Experienced the same exact problem you had too.</p>\n<p><b>Networking operations, like transport.connect(), have to be ran in Threads too</b>! Making a network request on the main thread will cause the thread to wait, or block. Thus, the problem to your solution would be to extend the AmazonSESSample class to the Thread class.</p>\n<p><b>Step 1)</b> I am assuming that you have <b>followed the steps provided on Amazon's AWS documentation to send emails programmatically through Amazon SES SMTP interface</b>. If not here is the link to it: <a href=\"https://docs.aws.amazon.com/ses/latest/dg/send-using-smtp-programmatically.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><b>Step 2)</b> Download and import the following jar files if you have yet to do so:</p>\n<blockquote>\n<p><a href=\"https://drive.google.com/drive/folders/1q5n2ROQvlmvkW7DAWyhGxzceRustouhK?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1q5n2ROQvlmvkW7DAWyhGxzceRustouhK?usp=sharing</a></p>\n</blockquote>\n<p><b>Step 3)</b> Add the following implementations to your build.gradle file:</p>\n<pre><code>dependencies{\nimplementation files('libs\\\\javax.mail.jar')\nimplementation files('libs\\\\javax.activation.jar')\nimplementation files('libs\\\\javax.additionnal.jar')\n}\n</code></pre>\n<p><b>Step 4)</b> Instead of following the code they provided, this is the modified version that worked:</p>\n<pre><code>import android.os.Build;\n\nimport androidx.annotation.RequiresApi;\n\nimport java.io.UnsupportedEncodingException;\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.NoSuchProviderException;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n@RequiresApi(api = Build.VERSION_CODES.O)\npublic class AmazonSESSample extends Thread{\n\n    // Replace sender@example.com with your &quot;From&quot; address.\n    // This address must be verified.\n    static final String FROM = &quot;sender@example.com&quot;;\n    static final String FROMNAME = &quot;Sender Name&quot;;\n    \n    // Replace recipient@example.com with a &quot;To&quot; address. If your account \n    // is still in the sandbox, this address must be verified.\n    static final String TO = &quot;recipient@example.com&quot;;\n    \n    // Replace smtp_username with your Amazon SES SMTP user name.\n    static final String SMTP_USERNAME = &quot;smtp_username&quot;;\n    \n    // Replace smtp_password with your Amazon SES SMTP password.\n    static final String SMTP_PASSWORD = &quot;smtp_password&quot;;\n    \n    // The name of the Configuration Set to use for this message.\n    // If you comment out or remove this variable, you will also need to\n    // comment out or remove the header below.\n    static final String CONFIGSET = &quot;ConfigSet&quot;;\n    \n    // Amazon SES SMTP host name. This example uses the US West (Oregon) region.\n    // See https://docs.aws.amazon.com/ses/latest/DeveloperGuide/regions.html#region-endpoints\n    // for more information.\n    static final String HOST = &quot;email-smtp.us-west-2.amazonaws.com&quot;;\n    \n    // The port you will connect to on the Amazon SES SMTP endpoint. \n    static final int PORT = 587;\n    \n    static final String SUBJECT = &quot;Amazon SES test (SMTP interface accessed using Java)&quot;;\n    \n    static final String BODY = String.join(\n            System.getProperty(&quot;line.separator&quot;),\n            &quot;&lt;h1&gt;Amazon SES SMTP Email Test&lt;/h1&gt;&quot;,\n            &quot;&lt;p&gt;This email was sent with Amazon SES using the &quot;, \n            &quot;&lt;a href='https://github.com/javaee/javamail'&gt;Javamail Package&lt;/a&gt;&quot;,\n            &quot; for &lt;a href='https://www.java.com'&gt;Java&lt;/a&gt;.&quot;\n        );\n\n    public void run() {\n\n        // Create a Properties object to contain connection configuration information.\n        Properties props = System.getProperties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.put(&quot;mail.smtp.port&quot;, PORT); \n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n        // Create a Session object to represent a mail session with the specified properties. \n        Session session = Session.getDefaultInstance(props);\n\n        // Create a message with the specified information. \n        MimeMessage msg = new MimeMessage(session);\n        msg.setFrom(new InternetAddress(FROM,FROMNAME));\n        msg.setRecipient(Message.RecipientType.TO, new InternetAddress(TO));\n        msg.setSubject(SUBJECT);\n        msg.setContent(BODY,&quot;text/html&quot;);\n        \n        // Add a configuration set header. Comment or delete the \n        // next line if you are not using a configuration set\n        msg.setHeader(&quot;X-SES-CONFIGURATION-SET&quot;, CONFIGSET);\n            \n        // Create a transport.\n        Transport transport = session.getTransport();\n                    \n        // Send the message.\n        try\n        {\n            System.out.println(&quot;Sending...&quot;);\n            \n            // Connect to Amazon SES using the SMTP username and password you specified above.\n            transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\n            \n            // Send the email.\n            transport.sendMessage(msg, msg.getAllRecipients());\n            System.out.println(&quot;Email sent!&quot;);\n        }\n        catch (Exception ex) {\n            System.out.println(&quot;The email was not sent.&quot;);\n            System.out.println(&quot;Error message: &quot; + ex.getMessage());\n        }\n        finally\n        {\n            // Close and terminate the connection.\n            transport.close();\n        }\n    }\n}\n</code></pre>\n<p><b>It is important that you have imported the following jar libraries into your project too:</b></p>\n<ol>\n<li>javax.activation.jar</li>\n<li>javax.additionnal.jar</li>\n<li>javax.mail.jar</li>\n</ol>\n"}],"owner":{"account_id":18491447,"reputation":13,"user_id":16094130,"display_name":"Mleendox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675412655,"creation_date":1653154909,"question_id":72331923,"body_markdown":"I suspect it is my transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD); line. I think there is no connection established at all. My code currently looks like this:\r\n\r\n    private void sendEmail(String messegeToSend) {\r\n\r\n        final String FROM = &quot;joe.blogs@mydomain.com&quot;;\r\n        final String FROMNAME = &quot;Joe Blogs&quot;;\r\n        final String TO = &quot;joe.blogs@joeblogs.com&quot;;\r\n        final String HOST = &quot;email-smtp.us-west-2.amazonaws.com&quot;;\r\n        final int PORT = 587;\r\n        final String SMTP_USERNAME = &quot;smtpusername&quot;;\r\n        final String SMTP_PASSWORD = &quot;smtppassword&quot;;\r\n\r\n        try {\r\n            Properties props = System.getProperties();\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, PORT);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n            Session session = Session.getDefaultInstance(props);\r\n            Message message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(FROM));\r\n            message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(TO));\r\n            message.setSubject(&quot;InvoiceRequest&quot;);\r\n            message.setText(messegeToSend);\r\n            Transport transport = session.getTransport();\r\n\r\n            transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\r\n\r\n            Toast.makeText(getApplicationContext(),&quot;Connected!&quot;,Toast.LENGTH_LONG).show();\r\n\r\n            transport.sendMessage(message, message.getAllRecipients());\r\n            transport.close();\r\n\r\n        }catch (MessagingException e){\r\n            Toast.makeText(getApplicationContext(),&quot;Sorry, We ran into a problem&quot;+ e.getMessage(),Toast.LENGTH_LONG).show();\r\n            throw  new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nAt the end of it all, I want to finally send an email from within this app. I was previously using Google&#39;s Gmail SMTP but it is to be decommissioned, hence  I have switched to \r\nAWS SES, which I am now struggling with. ","title":"How do we send an SMTP email using AWS from my JAVA (Android studio) app","body":"<p>I suspect it is my transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD); line. I think there is no connection established at all. My code currently looks like this:</p>\n<pre><code>private void sendEmail(String messegeToSend) {\n\n    final String FROM = &quot;joe.blogs@mydomain.com&quot;;\n    final String FROMNAME = &quot;Joe Blogs&quot;;\n    final String TO = &quot;joe.blogs@joeblogs.com&quot;;\n    final String HOST = &quot;email-smtp.us-west-2.amazonaws.com&quot;;\n    final int PORT = 587;\n    final String SMTP_USERNAME = &quot;smtpusername&quot;;\n    final String SMTP_PASSWORD = &quot;smtppassword&quot;;\n\n    try {\n        Properties props = System.getProperties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.put(&quot;mail.smtp.port&quot;, PORT);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n        Session session = Session.getDefaultInstance(props);\n        Message message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(FROM));\n        message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(TO));\n        message.setSubject(&quot;InvoiceRequest&quot;);\n        message.setText(messegeToSend);\n        Transport transport = session.getTransport();\n\n        transport.connect(HOST, SMTP_USERNAME, SMTP_PASSWORD);\n\n        Toast.makeText(getApplicationContext(),&quot;Connected!&quot;,Toast.LENGTH_LONG).show();\n\n        transport.sendMessage(message, message.getAllRecipients());\n        transport.close();\n\n    }catch (MessagingException e){\n        Toast.makeText(getApplicationContext(),&quot;Sorry, We ran into a problem&quot;+ e.getMessage(),Toast.LENGTH_LONG).show();\n        throw  new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>At the end of it all, I want to finally send an email from within this app. I was previously using Google's Gmail SMTP but it is to be decommissioned, hence  I have switched to\nAWS SES, which I am now struggling with.</p>\n"},{"tags":["java","c#","jwt"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1675411135,"post_id":75332796,"comment_id":132927100,"body_markdown":"With `Encoding.ASCII.GetBytes` you&#39;re just getting the byte values of each character while hex encoding means that for example &quot;2A&quot; is interpreted as two 4 bit values. So you need to decide how to use the secret and it must be the same on both ends. Could you please show the C#  and online generated tokens? Then it might be easier to see what is the actual difference.","body":"With <code>Encoding.ASCII.GetBytes</code> you&#39;re just getting the byte values of each character while hex encoding means that for example &quot;2A&quot; is interpreted as two 4 bit values. So you need to decide how to use the secret and it must be the same on both ends. Could you please show the C#  and online generated tokens? Then it might be easier to see what is the actual difference."},{"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"score":0,"creation_date":1675411494,"post_id":75332796,"comment_id":132927172,"body_markdown":"Token generated from code: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6InNvbWUtY2xpZW50LUlEIiwiZXhwIjoiMTY3NTQxMzAzNCIsInRzIjoiMTY3NTQxMTIzMzY4MyJ9.KSwTlrn2EiTA04XKDCvJBlft3B2zu_01Vemc7zdRyfU","body":"Token generated from code: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6InNvbWU&zwnj;&#8203;tY2xpZW50LUlEIiwiZXh&zwnj;&#8203;wIjoiMTY3NTQxMzAzNCI&zwnj;&#8203;sInRzIjoiMTY3NTQxMTI&zwnj;&#8203;zMzY4MyJ9.KSwTlrn2Ei&zwnj;&#8203;TA04XKDCvJBlft3B2zu_&zwnj;&#8203;01Vemc7zdRyfU"},{"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"score":0,"creation_date":1675411536,"post_id":75332796,"comment_id":132927186,"body_markdown":"Token generated from online: eyJhbGciOiJIUzI1NiJ9.eyJjbGllbnRJZCI6InNvbWUtY2xpZW50LUlEIiwiZXhwIjoxNjc1NDQ3MzExLCJ0cyI6IjE2NzU0MTEzNjk1NjAifQ.aJ6t1oV5dqJogLZwMp4bL3jt2gQuBK9ojwKQzAmaKZ8","body":"Token generated from online: eyJhbGciOiJIUzI1NiJ9.eyJjbGllbnRJZCI6InNvbWUtY2xpZW50LUlEIiw&zwnj;&#8203;iZXhwIjoxNjc1NDQ3MzE&zwnj;&#8203;xLCJ0cyI6IjE2NzU0MTE&zwnj;&#8203;zNjk1NjAifQ.aJ6t1oV5&zwnj;&#8203;dqJogLZwMp4bL3jt2gQu&zwnj;&#8203;BK9ojwKQzAmaKZ8"},{"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"score":0,"creation_date":1675411648,"post_id":75332796,"comment_id":132927218,"body_markdown":"I am using https://jwt.io/ to decode the token online for verification purpose if claims are proper or not","body":"I am using <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> to decode the token online for verification purpose if claims are proper or not"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1675412109,"post_id":75332796,"comment_id":132927333,"body_markdown":"Did you use the same secret as in the code above? In the linked jwtgenerator you can just paste a string for the secret, right? But I can&#39;t verify any of the tokens on jwt.io with the secret from the code.","body":"Did you use the same secret as in the code above? In the linked jwtgenerator you can just paste a string for the secret, right? But I can&#39;t verify any of the tokens on jwt.io with the secret from the code."},{"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"score":0,"creation_date":1675412219,"post_id":75332796,"comment_id":132927360,"body_markdown":"Yes, I have used the same secret key as mentioned in the code snippet in the original question","body":"Yes, I have used the same secret key as mentioned in the code snippet in the original question"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1675412754,"post_id":75332796,"comment_id":132927506,"body_markdown":"Could you also show the Java code that is used to verify?","body":"Could you also show the Java code that is used to verify?"},{"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"score":0,"creation_date":1675412944,"post_id":75332796,"comment_id":132927566,"body_markdown":"That I do not have. It is with API creator. We just know that it is written in Java. API Creators won&#39;t share their code with us. Still let me try to get a code snippet from them.","body":"That I do not have. It is with API creator. We just know that it is written in Java. API Creators won&#39;t share their code with us. Still let me try to get a code snippet from them."}],"owner":{"account_id":907566,"reputation":464,"user_id":942132,"accept_rate":69,"display_name":"Sagar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675412246,"creation_date":1675410187,"question_id":75332796,"body_markdown":"I want to generate a JWT token from WPF app. I am supposed to send this JWT token in the web API calls as Authorization token. \r\nI am creating JWT from .net using `Microsoft.IdentityModel.Tokens` and `System.IdentityModel.Tokens.Jwt` libraries. Entire method implementation is listed below.\r\n\r\n    public static string GenerateToken()\r\n    {\r\n    \tstring secretKey = &quot;2A590574A992810FD98FF1E02F1FC7FBFFA0DF8304957CD86E29805B53E0EA9D&quot;;\r\n    \tstring signatureAlgo = &quot;HS256&quot;;\r\n    \r\n    \tTimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\r\n    \tstring millis = ((long)ts.TotalMilliseconds).ToString();\r\n    \r\n    \tTimeSpan expt = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc)).Add(new TimeSpan(0, 30, 0));\r\n    \tlong dt = ((long)expt.TotalSeconds);\r\n    \r\n    \tvar claims = new Claim[]{\r\n    \t\tnew Claim(&quot;clientId&quot;,&quot;some-client-ID&quot;),\r\n    \t\tnew Claim(&quot;exp&quot;, dt.ToString(), ClaimValueTypes.Integer64),\r\n    \t\tnew Claim(&quot;ts&quot;, millis.ToString())\r\n    \t};\r\n    \r\n    \tSecurityKey securityKey = new SymmetricSecurityKey(Encoding.ASCII.GetBytes(secretKey));\r\n    \r\n    \tSigningCredentials signingCredentials = new SigningCredentials(securityKey, signatureAlgo);\r\n    \tJwtHeader header = new JwtHeader(signingCredentials);\r\n    \tJwtPayload payload = new JwtPayload(claims);\r\n    \r\n    \tvar token = new JwtSecurityToken(header, payload);\r\n    \treturn new JwtSecurityTokenHandler().WriteToken(token);\r\n    }\r\n\r\nWhen I pass JWT generated from above method to API, it is not able to validate the JWT. API code is written in Java. \r\n\r\nContrary to the above mentioned approach of JWT generation, if I generate JWT online from https://www.javainuse.com/jwtgenerator and pass the online generated JWT to the API then API is able to validate the token. \r\n\r\nSo currently I am not able to figure out what could be the possible correction in JWT generation in .net which will enable the APIs algo to validate the JWT.\r\n\r\n**Note:** Regarding secret key conversion to byte array.\r\n\r\nSince the above key is in HEX format I have also tried below mentioned method to convert the hex string to byte array which gives an array of 32 bytes where as the `Encoding.ASCII.GetBytes` method is giving an array of 64 bytes. But in any case token is not getting authenticated.\r\n\r\n    public static byte[] StringToByteArray(string hex)\r\n    {\r\n    \treturn Enumerable.Range(0, hex.Length)\r\n    \t\t\t\t\t .Where(x =&gt; x % 2 == 0)\r\n    \t\t\t\t\t .Select(x =&gt; Convert.ToByte(hex.Substring(x, 2), 16))\r\n    \t\t\t\t\t .ToArray();\r\n    }\r\n\r\nEdit1 : Have changed claim value type from &quot;long&quot; to `ClaimValueTypes.Integer64`","title":"JWT .Net and Java compatibility issue","body":"<p>I want to generate a JWT token from WPF app. I am supposed to send this JWT token in the web API calls as Authorization token.\nI am creating JWT from .net using <code>Microsoft.IdentityModel.Tokens</code> and <code>System.IdentityModel.Tokens.Jwt</code> libraries. Entire method implementation is listed below.</p>\n<pre><code>public static string GenerateToken()\n{\n    string secretKey = &quot;2A590574A992810FD98FF1E02F1FC7FBFFA0DF8304957CD86E29805B53E0EA9D&quot;;\n    string signatureAlgo = &quot;HS256&quot;;\n\n    TimeSpan ts = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc));\n    string millis = ((long)ts.TotalMilliseconds).ToString();\n\n    TimeSpan expt = (DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Utc)).Add(new TimeSpan(0, 30, 0));\n    long dt = ((long)expt.TotalSeconds);\n\n    var claims = new Claim[]{\n        new Claim(&quot;clientId&quot;,&quot;some-client-ID&quot;),\n        new Claim(&quot;exp&quot;, dt.ToString(), ClaimValueTypes.Integer64),\n        new Claim(&quot;ts&quot;, millis.ToString())\n    };\n\n    SecurityKey securityKey = new SymmetricSecurityKey(Encoding.ASCII.GetBytes(secretKey));\n\n    SigningCredentials signingCredentials = new SigningCredentials(securityKey, signatureAlgo);\n    JwtHeader header = new JwtHeader(signingCredentials);\n    JwtPayload payload = new JwtPayload(claims);\n\n    var token = new JwtSecurityToken(header, payload);\n    return new JwtSecurityTokenHandler().WriteToken(token);\n}\n</code></pre>\n<p>When I pass JWT generated from above method to API, it is not able to validate the JWT. API code is written in Java.</p>\n<p>Contrary to the above mentioned approach of JWT generation, if I generate JWT online from <a href=\"https://www.javainuse.com/jwtgenerator\" rel=\"nofollow noreferrer\">https://www.javainuse.com/jwtgenerator</a> and pass the online generated JWT to the API then API is able to validate the token.</p>\n<p>So currently I am not able to figure out what could be the possible correction in JWT generation in .net which will enable the APIs algo to validate the JWT.</p>\n<p><strong>Note:</strong> Regarding secret key conversion to byte array.</p>\n<p>Since the above key is in HEX format I have also tried below mentioned method to convert the hex string to byte array which gives an array of 32 bytes where as the <code>Encoding.ASCII.GetBytes</code> method is giving an array of 64 bytes. But in any case token is not getting authenticated.</p>\n<pre><code>public static byte[] StringToByteArray(string hex)\n{\n    return Enumerable.Range(0, hex.Length)\n                     .Where(x =&gt; x % 2 == 0)\n                     .Select(x =&gt; Convert.ToByte(hex.Substring(x, 2), 16))\n                     .ToArray();\n}\n</code></pre>\n<p>Edit1 : Have changed claim value type from &quot;long&quot; to <code>ClaimValueTypes.Integer64</code></p>\n"},{"tags":["java","hive","jar","executable-jar"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675401309,"post_id":75331731,"comment_id":132925373,"body_markdown":"When packaging, you need to package org.apache.hive.jdbc.HiveDriver into the jar file. \nOtherwise, you need to use `-cp` to specify HiveDriver","body":"When packaging, you need to package org.apache.hive.jdbc.HiveDriver into the jar file.  Otherwise, you need to use <code>-cp</code> to specify HiveDriver"},{"owner":{"account_id":13745290,"reputation":3,"user_id":9919179,"display_name":"hong kun"},"score":0,"creation_date":1675402763,"post_id":75331731,"comment_id":132925578,"body_markdown":"hi thanks to reply when I make the jar I use intellij so when I make it jar is it automatically included all imported libraries right?","body":"hi thanks to reply when I make the jar I use intellij so when I make it jar is it automatically included all imported libraries right?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675403266,"post_id":75331731,"comment_id":132925640,"body_markdown":"! I&#39;m not sure how to use the intellij, but the dependent jar packages or class files must be packaged together. \nOtherwise, you must specify the location of the dependent package through -classpath","body":"! I&#39;m not sure how to use the intellij, but the dependent jar packages or class files must be packaged together.  Otherwise, you must specify the location of the dependent package through -classpath"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675403335,"post_id":75331731,"comment_id":132925646,"body_markdown":"Imagine you have a toolbox, you can use it to pick a lock, but the wrench must be in the toolbox, otherwise, you have to borrow the wrench from your neighbor","body":"Imagine you have a toolbox, you can use it to pick a lock, but the wrench must be in the toolbox, otherwise, you have to borrow the wrench from your neighbor"}],"owner":{"account_id":13745290,"reputation":3,"user_id":9919179,"display_name":"hong kun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675412198,"creation_date":1675400845,"question_id":75331731,"body_markdown":"I am using Java 11.\r\n\r\nwhen I running the source code in intelligence it was working very well but when I packed jar flie after that I running the jar file it show the error \r\n\r\n&gt;&quot;Java.lang.classnamefoundexception: org.apache.hive.jdbc.HiveDriver&quot;\r\n\r\nwhen I running the jar I use this command\r\n````\r\n&quot;Java-jar test.jar&quot;\r\n````\r\nI don&#39;t understand I run in local(intellij) is good work\r\nbut I used in Linux env it show above the error\r\nif know the why is wrong please give me a hand\r\nI want to add up image I can&#39;t do it because of my company policy... \r\n","title":"When I ran in the Linux jar file is not working why?","body":"<p>I am using Java 11.</p>\n<p>when I running the source code in intelligence it was working very well but when I packed jar flie after that I running the jar file it show the error</p>\n<blockquote>\n<p>&quot;Java.lang.classnamefoundexception: org.apache.hive.jdbc.HiveDriver&quot;</p>\n</blockquote>\n<p>when I running the jar I use this command</p>\n<pre><code>&quot;Java-jar test.jar&quot;\n</code></pre>\n<p>I don't understand I run in local(intellij) is good work\nbut I used in Linux env it show above the error\nif know the why is wrong please give me a hand\nI want to add up image I can't do it because of my company policy...</p>\n"},{"tags":["javascript","java","jquery","ajax"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675404632,"post_id":75332069,"comment_id":132925827,"body_markdown":"This is Javascript, not Java","body":"This is Javascript, not Java"},{"owner":{"account_id":27691733,"reputation":11,"user_id":21138267,"display_name":"Garima Mahajan"},"score":0,"creation_date":1675406281,"post_id":75332069,"comment_id":132926093,"body_markdown":"the ajax post call which I am doing is to a JAVA post api. below is the skeleton of my API. @tgdavies","body":"the ajax post call which I am doing is to a JAVA post api. below is the skeleton of my API. @tgdavies"},{"owner":{"account_id":27691733,"reputation":11,"user_id":21138267,"display_name":"Garima Mahajan"},"score":0,"creation_date":1675406300,"post_id":75332069,"comment_id":132926096,"body_markdown":"@POST\n\t@Path(&quot;/updateAfterAttachment&quot;)\n\t@Produces(MediaType.APPLICATION_JSON)\n\t@Consumes(MediaType.MULTIPART_FORM_DATA)\n\tpublic Response createAttachment(@FormDataParam(&quot;incidentId&quot;) String incidentId,\n\t\t\t@FormDataParam(&quot;file1&quot;) String file1,\n\t\t\t@FormDataParam(&quot;file2&quot;) MultiPart file2, \n\t\t\t@FormDataParam(&quot;file3&quot;) MultiPart file3) {\n\t\t}","body":"@POST \t@Path(&quot;/updateAfterAttachment&quot;) \t@Produces(MediaType.APPLICATION_JSON) \t@Consumes(MediaType.MULTIPART_FORM_DATA) \tpublic Response createAttachment(@FormDataParam(&quot;incidentId&quot;) String incidentId, \t\t\t@FormDataParam(&quot;file1&quot;) String file1, \t\t\t@FormDataParam(&quot;file2&quot;) MultiPart file2,  \t\t\t@FormDataParam(&quot;file3&quot;) MultiPart file3) { \t\t}"},{"owner":{"account_id":15213948,"reputation":557,"user_id":10977818,"display_name":"EternalObserver"},"score":0,"creation_date":1675408046,"post_id":75332069,"comment_id":132926451,"body_markdown":"@GarimaMahajan please update your question with the Java code snippet as well.","body":"@GarimaMahajan please update your question with the Java code snippet as well."}],"answers":[{"tags":[],"owner":{"account_id":27568815,"reputation":15,"user_id":21040426,"display_name":"Hậu tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675411922,"creation_date":1675411922,"answer_id":75333027,"question_id":75332069,"body_markdown":"You try use case this :\r\n\r\n     var fileUpload = $(&quot;#FileUpload&quot;).get(0);\r\n                var files = fileUpload.files;\r\n\r\n                // Create FormData object\r\n                var fileData = new FormData();\r\n\r\n                // Looping over all files and add it to FormData object\r\n                for (var i = 0; i &lt; files.length; i++) {\r\n                    fileData.append(files[i].name, files[i]);\r\n                }\r\n\r\n                // Adding one more key to FormData object\r\n                fileData.append(&#39;username&#39;, &quot;Dillion&quot;);\r\n\r\n                $.ajax({\r\n                    url: `url`,\r\n                    type: &quot;POST&quot;,\r\n                    contentType: false, // Not to set any content header\r\n                    processData: false, // Not to process data\r\n                    data: fileData,\r\n                    success: function (result) {\r\n                       \r\n                    },\r\n                    error: function (err) {\r\n                        alert(err.statusText);\r\n                    }\r\n                });","title":"How to fetch image file in java post api which is being sent as formdata in jquery?","body":"<p>You try use case this :</p>\n<pre><code> var fileUpload = $(&quot;#FileUpload&quot;).get(0);\n            var files = fileUpload.files;\n\n            // Create FormData object\n            var fileData = new FormData();\n\n            // Looping over all files and add it to FormData object\n            for (var i = 0; i &lt; files.length; i++) {\n                fileData.append(files[i].name, files[i]);\n            }\n\n            // Adding one more key to FormData object\n            fileData.append('username', &quot;Dillion&quot;);\n\n            $.ajax({\n                url: `url`,\n                type: &quot;POST&quot;,\n                contentType: false, // Not to set any content header\n                processData: false, // Not to process data\n                data: fileData,\n                success: function (result) {\n                   \n                },\n                error: function (err) {\n                    alert(err.statusText);\n                }\n            });\n</code></pre>\n"}],"owner":{"account_id":27691733,"reputation":11,"user_id":21138267,"display_name":"Garima Mahajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675597533,"answer_count":1,"score":1,"last_activity_date":1675411922,"creation_date":1675404325,"question_id":75332069,"body_markdown":"I have 3 input file fields in my Javascript , the value of which i am sending using formdata in jquery on click of submit button.\r\nI am unable to fetch the file data in my post api which is being called using ajax.\r\n\r\n```\r\n&quot;\\&lt;div class=&#39;row&#39;\\&gt;\\&lt;div class=&#39;col-sm-10&#39;\\&gt;\\&lt;input type=&#39;file&#39; id=&#39;myfile_requester1&#39; name=&#39;requesterSignatureFile1&#39; accept=&#39;image/x-png,image/gif,image/jpeg&#39; style=&#39;box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); &#39;/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot; +\r\n&quot;\\&lt;div class=&#39;row&#39;\\&gt;\\&lt;div class=&#39;col-sm-10&#39;\\&gt;\\&lt;input type=&#39;file&#39; id=&#39;myfile_requester2&#39; name=&#39;requesterSignatureFile2&#39; accept=&#39;image/x-png,image/gif,image/jpeg&#39; style=&#39;box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); &#39;/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot; +\r\n&quot;\\&lt;div class=&#39;row&#39;\\&gt;\\&lt;div class=&#39;col-sm-10&#39;\\&gt;\\&lt;input type=&#39;file&#39; id=&#39;myfile_requester3&#39; name=&#39;requesterSignatureFile3&#39; accept=&#39;image/x-png,image/gif,image/jpeg&#39; style=&#39;box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); &#39;/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot;+\r\n&quot;&lt;div class=&#39;row&#39;&gt;&lt;div class=&#39;col-sm-10&#39;&gt;&lt;button type=&#39;submit&#39; id=&#39;submitAttachment&#39;&gt;Submit&lt;/button&gt;&lt;/div&gt;&quot; \r\n```\r\n\r\n \r\n```\r\n $(&#39;#submitAttachment&#39;).click(function() {\r\n var formData = new FormData();\r\n  \t  formData.append(&quot;incidentId&quot;, jsondata.id );\r\n  \t  var file1 = $(&#39;#myfile_requester1&#39;).val();\r\n  \t  var file2 =  $(&#39;#myfile_requester2&#39;).val();\r\n  \t  var file3 =  $(&#39;#myfile_requester3&#39;).val();\r\n  \t  var file1Val = $(&#39;#myfile_requester1&#39;).val();\r\n  \t  var file2Val =  $(&#39;#myfile_requester2&#39;).val();\r\n  \t  var file3Val =  $(&#39;#myfile_requester3&#39;).val();\r\n\r\n  \t\tif(file1 != &#39;&#39;){\r\n  \t\t\tfile1Val =  $(&#39;#myfile_requester1&#39;).get(0).files[0];\r\n  \t\t\tformData.append(&quot;file1&quot;,file1Val);\r\n  \t\t}else{\r\n  \t\t\tfile1Val = null;\r\n  \t\t\tfile1 = null;\r\n  \t\t}\r\n  \t\tif(file2 != &#39;&#39;){\r\n  \t\t\tfile2Val =  $(&#39;#myfile_requester2&#39;).get(0).files[0];\r\n  \t\t\tformData.append(&quot;file2&quot;,file2Val);\r\n  \t\t}else{\r\n  \t\t\tfile2Val = null;\r\n  \t\t\tfile2 = null;\r\n  \t\t}\r\n  \t\tif(file3 != &#39;&#39;){\r\n  \t\t\tfile3Val =  $(&#39;#myfile_requester3&#39;).get(0).files[0];\r\n  \t\t\tformData.append(&quot;file3&quot;,file3Val);\r\n  \t\t}else{\r\n  \t\t\tfile3Val = null;\r\n  \t\t\tfile3 = null;\r\n  \t\t}\r\n\r\n  \t\t $.ajax({ \r\n  \t\t\turl : apiUrl + &#39;updateAfterAttachment&#39;, \r\n  \t\t\ttype : &#39;POST&#39;, \r\n  \t\t\tcontentType : &quot;multipart/form-data&quot;, \r\n  \t\t\tdata : formData, \r\n  \t\t\tsuccess : function(data) {\r\n  \t\t  }, error : function(e) {\r\n  \t\t\t$(&quot;#submit_attachment_error&quot;).html(&quot;An error occured while submitting, please try again&quot;).show(); \t\t\t\r\n  \t\t  } });\r\n}\r\n```\r\n\r\nJAVA SNIPPET--- \r\n\r\n    @POST @Path(&quot;/updateAfterAttachment&quot;) @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.MULTIPART_FORM_DATA) public Response createAttachment(@FormDataParam(&quot;incidentId&quot;) String incidentId, @FormDataParam(&quot;file1&quot;) InputStream file1, @FormDataParam(&quot;file2&quot;) InputStream file2, @FormDataParam(&quot;file3&quot;) InputStream file3) { \r\n    // TO DO\r\n    }\r\n\r\n\r\nSolution to fetch file in post api java as my ajax call is not hitting the api.","title":"How to fetch image file in java post api which is being sent as formdata in jquery?","body":"<p>I have 3 input file fields in my Javascript , the value of which i am sending using formdata in jquery on click of submit button.\nI am unable to fetch the file data in my post api which is being called using ajax.</p>\n<pre><code>&quot;\\&lt;div class='row'\\&gt;\\&lt;div class='col-sm-10'\\&gt;\\&lt;input type='file' id='myfile_requester1' name='requesterSignatureFile1' accept='image/x-png,image/gif,image/jpeg' style='box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); '/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot; +\n&quot;\\&lt;div class='row'\\&gt;\\&lt;div class='col-sm-10'\\&gt;\\&lt;input type='file' id='myfile_requester2' name='requesterSignatureFile2' accept='image/x-png,image/gif,image/jpeg' style='box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); '/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot; +\n&quot;\\&lt;div class='row'\\&gt;\\&lt;div class='col-sm-10'\\&gt;\\&lt;input type='file' id='myfile_requester3' name='requesterSignatureFile3' accept='image/x-png,image/gif,image/jpeg' style='box-shadow: 0 5px 50px rgba(0, 0, 0, 0.2); '/\\&gt;\\&lt;/div\\&gt;\\&lt;/div\\&gt;&quot;+\n&quot;&lt;div class='row'&gt;&lt;div class='col-sm-10'&gt;&lt;button type='submit' id='submitAttachment'&gt;Submit&lt;/button&gt;&lt;/div&gt;&quot; \n</code></pre>\n<pre><code> $('#submitAttachment').click(function() {\n var formData = new FormData();\n      formData.append(&quot;incidentId&quot;, jsondata.id );\n      var file1 = $('#myfile_requester1').val();\n      var file2 =  $('#myfile_requester2').val();\n      var file3 =  $('#myfile_requester3').val();\n      var file1Val = $('#myfile_requester1').val();\n      var file2Val =  $('#myfile_requester2').val();\n      var file3Val =  $('#myfile_requester3').val();\n\n        if(file1 != ''){\n            file1Val =  $('#myfile_requester1').get(0).files[0];\n            formData.append(&quot;file1&quot;,file1Val);\n        }else{\n            file1Val = null;\n            file1 = null;\n        }\n        if(file2 != ''){\n            file2Val =  $('#myfile_requester2').get(0).files[0];\n            formData.append(&quot;file2&quot;,file2Val);\n        }else{\n            file2Val = null;\n            file2 = null;\n        }\n        if(file3 != ''){\n            file3Val =  $('#myfile_requester3').get(0).files[0];\n            formData.append(&quot;file3&quot;,file3Val);\n        }else{\n            file3Val = null;\n            file3 = null;\n        }\n\n         $.ajax({ \n            url : apiUrl + 'updateAfterAttachment', \n            type : 'POST', \n            contentType : &quot;multipart/form-data&quot;, \n            data : formData, \n            success : function(data) {\n          }, error : function(e) {\n            $(&quot;#submit_attachment_error&quot;).html(&quot;An error occured while submitting, please try again&quot;).show();           \n          } });\n}\n</code></pre>\n<p>JAVA SNIPPET---</p>\n<pre><code>@POST @Path(&quot;/updateAfterAttachment&quot;) @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.MULTIPART_FORM_DATA) public Response createAttachment(@FormDataParam(&quot;incidentId&quot;) String incidentId, @FormDataParam(&quot;file1&quot;) InputStream file1, @FormDataParam(&quot;file2&quot;) InputStream file2, @FormDataParam(&quot;file3&quot;) InputStream file3) { \n// TO DO\n}\n</code></pre>\n<p>Solution to fetch file in post api java as my ajax call is not hitting the api.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675331903,"post_id":75320853,"comment_id":132907328,"body_markdown":"The lombok `Nonnull` has a totally different approach/meaning then the validation `NotNull`. Also you are using `@MessageMapping` so this implies a websocket connection (if it is a controller). You would need `@Payload` and `@Validated` for validation with JSR303 annotations to work. You seem to be lacking the first one. And I would strongly suggest to use the validation one and not the lombok one.","body":"The lombok <code>Nonnull</code> has a totally different approach/meaning then the validation <code>NotNull</code>. Also you are using <code>@MessageMapping</code> so this implies a websocket connection (if it is a controller). You would need <code>@Payload</code> and <code>@Validated</code> for validation with JSR303 annotations to work. You seem to be lacking the first one. And I would strongly suggest to use the validation one and not the lombok one."},{"owner":{"account_id":8871956,"reputation":420,"user_id":6625422,"display_name":"Henry Fung"},"score":0,"creation_date":1675333033,"post_id":75320853,"comment_id":132907701,"body_markdown":"@M.Deinum I just took away the lombok `@Nonnull` and replaced with validation `@NotNull`. There used to be the `@Payload` but with or without it, the validation is still not performed...","body":"@M.Deinum I just took away the lombok <code>@Nonnull</code> and replaced with validation <code>@NotNull</code>. There used to be the <code>@Payload</code> but with or without it, the validation is still not performed..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675335172,"post_id":75320853,"comment_id":132908415,"body_markdown":"Which annotations are you using, do you have `spring-boot-starter-validation` on your dependencies? Or just `validation-api` (if so replace with the starter). Also which annotation you are using and which version of Spring Boot are you using? Please add your pom.xml or build.gradle.","body":"Which annotations are you using, do you have <code>spring-boot-starter-validation</code> on your dependencies? Or just <code>validation-api</code> (if so replace with the starter). Also which annotation you are using and which version of Spring Boot are you using? Please add your pom.xml or build.gradle."},{"owner":{"account_id":8871956,"reputation":420,"user_id":6625422,"display_name":"Henry Fung"},"score":0,"creation_date":1675385361,"post_id":75320853,"comment_id":132923387,"body_markdown":"@M.Deinum Just added `pom.xml` to the question. I have `spring-boot-starter-validation`.","body":"@M.Deinum Just added <code>pom.xml</code> to the question. I have <code>spring-boot-starter-validation</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675411102,"post_id":75320853,"comment_id":132927093,"body_markdown":"Remove the `hibernate-validator` dependency and the version of the `spring-boot-starter-validation`. You are now mixing SPring Boot 2.7.7 and Spring Boot 3.0.2 modules which aren&#39;t compatible (never mix modules from different versions of a framework). The `spring-boot-starter-validation` will include the `hibernate-validator` which is compatible with your version of Spring (Boot). hibernate validator 8 isn&#39;t compatible. Spring Boot 2.7 is for JavaEE and Spring Boot 3.0 is JakartaEE (different namespaces). Hibernate validator 8 is JakartaEE.","body":"Remove the <code>hibernate-validator</code> dependency and the version of the <code>spring-boot-starter-validation</code>. You are now mixing SPring Boot 2.7.7 and Spring Boot 3.0.2 modules which aren&#39;t compatible (never mix modules from different versions of a framework). The <code>spring-boot-starter-validation</code> will include the <code>hibernate-validator</code> which is compatible with your version of Spring (Boot). hibernate validator 8 isn&#39;t compatible. Spring Boot 2.7 is for JavaEE and Spring Boot 3.0 is JakartaEE (different namespaces). Hibernate validator 8 is JakartaEE."}],"answers":[{"tags":[],"owner":{"account_id":6988093,"reputation":121,"user_id":5462346,"display_name":"Anurag Ambuj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675340240,"creation_date":1675340240,"answer_id":75323057,"question_id":75320853,"body_markdown":"\r\n\r\n    \r\nI guess you are looking for `@NotEmpty` or `@NotNull` in jakarta-validation api. Kindly consider the sample below.\r\n\r\n    import lombok.Data;\r\n    import javax.validation.constraints.NotEmpty;\r\n    \r\n    @Data\r\n    public class Data {\r\n        \r\n        @NotEmpty(message=&quot;Name cannot be null or blank&quot;)\r\n        private String name;\r\n    }\r\n\r\nValidations are present in\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n          &lt;version&gt;Your spring boot version&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot Data class not respecting @NonNull or @NotNull if default constructor exists","body":"<p>I guess you are looking for <code>@NotEmpty</code> or <code>@NotNull</code> in jakarta-validation api. Kindly consider the sample below.</p>\n<pre><code>import lombok.Data;\nimport javax.validation.constraints.NotEmpty;\n\n@Data\npublic class Data {\n    \n    @NotEmpty(message=&quot;Name cannot be null or blank&quot;)\n    private String name;\n}\n</code></pre>\n<p>Validations are present in</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;version&gt;Your spring boot version&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675411479,"creation_date":1675411479,"answer_id":75332972,"question_id":75320853,"body_markdown":"The problem is your `pom.xml`, you are mixing modules from different versions of Spring Boot, which is not going to work. \r\n\r\nSpring Boot 3.0 and higher are for JakartaEE while Spring Boot 2.7 and lower are for JavaEE. The Hibernate Validator version you are including is for JakartaEE which isn&#39;t compatible with Spring Framework 5 (used by Spring Boot 2.7). Hence no validation will take place simply because it doesn&#39;t understand the annotations. \r\n\r\nTo fix remove the `version` from the `spring-boot-starter-validation` and remove the `hibernate-validator` dependency. Everything with compatible versions will be pulled in by `spring-boot-starter-validation`. \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath /&gt;\r\n        &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo2&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**TIP:** Instead of using `spring-rabbit` as a single dependency use `spring-boot-starter-amqp` which will pull in all you need. \r\n\r\nWhen changing the dependencies you probably get compilation errors on the validation annotations. Change the package from `jakarta.validation` to `javax.validation` to import the proper validation annotations. ","title":"Spring Boot Data class not respecting @NonNull or @NotNull if default constructor exists","body":"<p>The problem is your <code>pom.xml</code>, you are mixing modules from different versions of Spring Boot, which is not going to work.</p>\n<p>Spring Boot 3.0 and higher are for JakartaEE while Spring Boot 2.7 and lower are for JavaEE. The Hibernate Validator version you are including is for JakartaEE which isn't compatible with Spring Framework 5 (used by Spring Boot 2.7). Hence no validation will take place simply because it doesn't understand the annotations.</p>\n<p>To fix remove the <code>version</code> from the <code>spring-boot-starter-validation</code> and remove the <code>hibernate-validator</code> dependency. Everything with compatible versions will be pulled in by <code>spring-boot-starter-validation</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath /&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>TIP:</strong> Instead of using <code>spring-rabbit</code> as a single dependency use <code>spring-boot-starter-amqp</code> which will pull in all you need.</p>\n<p>When changing the dependencies you probably get compilation errors on the validation annotations. Change the package from <code>jakarta.validation</code> to <code>javax.validation</code> to import the proper validation annotations.</p>\n"}],"owner":{"account_id":8871956,"reputation":420,"user_id":6625422,"display_name":"Henry Fung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75332972,"answer_count":2,"score":3,"last_activity_date":1675411479,"creation_date":1675328986,"question_id":75320853,"body_markdown":"# Background\r\n\r\nI have a data class\r\n\r\n```java\r\n@Data\r\npublic class Data {\r\n    @lombok.NonNull\r\n    private String name;\r\n}\r\n```\r\n\r\na controller\r\n```java\r\n@MessageMapping(&quot;/data&quot;)\r\npublic void handleData(@Validated Data data) throws Exception {\r\n    if (data.getName().compareTo(&quot;Alice&quot;) == 0) {\r\n        logger.info(&quot;Alice is here!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand a bean to config jackson to convert booleans to integers (True -&gt; 1, False -&gt; 0)\r\n```java\r\n@Bean\r\nObjectMapper registerObjectMapper() {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    SimpleModule module = new SimpleModule(&quot;MyBoolSerializer&quot;);\r\n    module.addSerializer(Boolean.class, new MyBoolSerializer());\r\n    module.addDeserializer(Boolean.class, new MyBoolDeserializer());\r\n    module.addSerializer(boolean.class, new MyBoolSerializer());\r\n    module.addDeserializer(boolean.class, new MyBoolDeserializer());\r\n    \r\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n    return mapper;\r\n}\r\n```\r\n\r\nWhen I make a request to `/data` without setting the `name` parameter, Jackson will set it to `null`. However, I get the following exception (unwrapped)\r\n\r\n```\r\norg.springframework.messaging.converter.MessageConversionException: \r\nCould not read JSON: Cannot construct instance of `com.example.myapp.entity.Data`\r\n(no Creators, like default constructor, exist): \r\ncannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\n# Attempted fix\r\n\r\nSo then I added `@NoArgsConstructor` to `Data`. \r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor   // &lt;&lt;&lt;&lt;\r\npublic class Data {\r\n    @lombok.NonNull\r\n    private String name;\r\n}\r\n```\r\n\r\nNow request to `/data` will result in `NullPointerException`. The parameters are NOT null-checked and the `if-statement` is run.\r\n\r\nI tried to use `hibernate-validator`&#39;s `@NotNull` annotation to the `name` attribute in Data, but the result is the same: `NPE`.\r\n\r\n# Question\r\n\r\nWhat I thought about the `@NonNull` and `@NotNull` annotations is that they help validating the data so that I don&#39;t need to manually validate them in controllers(check null, check within range, etc.). However it seems to be only valid if the default constructor does not exist. It makes sense because null-checks are not performed in default constructor (no data to validate...).\r\n\r\n**But then it contradicts with the exception I encountered.**\r\n\r\n### Info that might help\r\nI have `amqp` enabled and it has its own `MessageConverter` bean that returns a new `Jackson2JsonMessageConverter` instance.\r\n```java\r\nimport org.springframework.amqp.support.converter.MessageConverter;\r\n@Bean\r\nMessageConverter jsonMessageConverter() {\r\n    return new Jackson2JsonMessageConverter();\r\n}\r\n```\r\n\r\nAny thoughts?\r\n\r\nBTW, the title might be a bit ambiguous or misleading, but I genuinely have no idea what the problem is.\r\n\r\n\r\n--- Edit 1:\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t\t&lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Spring Boot Data class not respecting @NonNull or @NotNull if default constructor exists","body":"<h1>Background</h1>\n<p>I have a data class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Data {\n    @lombok.NonNull\n    private String name;\n}\n</code></pre>\n<p>a controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageMapping(&quot;/data&quot;)\npublic void handleData(@Validated Data data) throws Exception {\n    if (data.getName().compareTo(&quot;Alice&quot;) == 0) {\n        logger.info(&quot;Alice is here!&quot;);\n    }\n}\n</code></pre>\n<p>and a bean to config jackson to convert booleans to integers (True -&gt; 1, False -&gt; 0)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nObjectMapper registerObjectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n\n    SimpleModule module = new SimpleModule(&quot;MyBoolSerializer&quot;);\n    module.addSerializer(Boolean.class, new MyBoolSerializer());\n    module.addDeserializer(Boolean.class, new MyBoolDeserializer());\n    module.addSerializer(boolean.class, new MyBoolSerializer());\n    module.addDeserializer(boolean.class, new MyBoolDeserializer());\n    \n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n    return mapper;\n}\n</code></pre>\n<p>When I make a request to <code>/data</code> without setting the <code>name</code> parameter, Jackson will set it to <code>null</code>. However, I get the following exception (unwrapped)</p>\n<pre><code>org.springframework.messaging.converter.MessageConversionException: \nCould not read JSON: Cannot construct instance of `com.example.myapp.entity.Data`\n(no Creators, like default constructor, exist): \ncannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<h1>Attempted fix</h1>\n<p>So then I added <code>@NoArgsConstructor</code> to <code>Data</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor   // &lt;&lt;&lt;&lt;\npublic class Data {\n    @lombok.NonNull\n    private String name;\n}\n</code></pre>\n<p>Now request to <code>/data</code> will result in <code>NullPointerException</code>. The parameters are NOT null-checked and the <code>if-statement</code> is run.</p>\n<p>I tried to use <code>hibernate-validator</code>'s <code>@NotNull</code> annotation to the <code>name</code> attribute in Data, but the result is the same: <code>NPE</code>.</p>\n<h1>Question</h1>\n<p>What I thought about the <code>@NonNull</code> and <code>@NotNull</code> annotations is that they help validating the data so that I don't need to manually validate them in controllers(check null, check within range, etc.). However it seems to be only valid if the default constructor does not exist. It makes sense because null-checks are not performed in default constructor (no data to validate...).</p>\n<p><strong>But then it contradicts with the exception I encountered.</strong></p>\n<h3>Info that might help</h3>\n<p>I have <code>amqp</code> enabled and it has its own <code>MessageConverter</code> bean that returns a new <code>Jackson2JsonMessageConverter</code> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.amqp.support.converter.MessageConverter;\n@Bean\nMessageConverter jsonMessageConverter() {\n    return new Jackson2JsonMessageConverter();\n}\n</code></pre>\n<p>Any thoughts?</p>\n<p>BTW, the title might be a bit ambiguous or misleading, but I genuinely have no idea what the problem is.</p>\n<p>--- Edit 1:\npom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath /&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;2.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-reactor-netty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1665593979,"post_id":74044494,"comment_id":130739401,"body_markdown":"What is your logger configuration?","body":"What is your logger configuration?"}],"answers":[{"tags":[],"owner":{"account_id":5992737,"reputation":1440,"user_id":4708399,"display_name":"Xin Cheng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665771959,"creation_date":1665771656,"answer_id":74073341,"question_id":74044494,"body_markdown":"The less important logs would be ignored. For commonly used logging levels (`ERROR`, `WARN`, `INFO`, `DEBUG`, and `TRACE`, etc). Their precedence are:\r\n\r\n `Trace` &lt; `Debug` &lt; `Info` &lt; `Warn` &lt; `Error` &lt; `Fatal`.\r\n  \r\n  \r\n\r\nSo You need to change the log level to `Warn` or less to be able to catch the message. You can change the level either by customizing the configuration **or** simply calling relative API in code ahead.\r\n\r\n* code method example:\r\n\r\n      Logger root = (Logger)LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\r\n      root.setLevel(Level.WARN);\r\n\r\n* configuration example: find the configuration file name `simplelogger.properties` and modify it accordingly.\r\n\r\n      org.slf4j.Logger.defaultLogLevel=warn\r\n\r\n \r\n","title":"Not Seeing MDC Properties in logs","body":"<p>The less important logs would be ignored. For commonly used logging levels (<code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, and <code>TRACE</code>, etc). Their precedence are:</p>\n<p><code>Trace</code> &lt; <code>Debug</code> &lt; <code>Info</code> &lt; <code>Warn</code> &lt; <code>Error</code> &lt; <code>Fatal</code>.</p>\n<p>So You need to change the log level to <code>Warn</code> or less to be able to catch the message. You can change the level either by customizing the configuration <strong>or</strong> simply calling relative API in code ahead.</p>\n<ul>\n<li><p>code method example:</p>\n<pre><code>Logger root = (Logger)LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\nroot.setLevel(Level.WARN);\n</code></pre>\n</li>\n<li><p>configuration example: find the configuration file name <code>simplelogger.properties</code> and modify it accordingly.</p>\n<pre><code>org.slf4j.Logger.defaultLogLevel=warn\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10585662,"reputation":816,"user_id":7798109,"display_name":"Kshitij Dhakal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675411285,"creation_date":1675411285,"answer_id":75332943,"question_id":74044494,"body_markdown":"You need to specify your logger to print MDC data. If you are using logback, it can be done with \r\n\r\n```xml\r\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \r\n  &lt;layout&gt;\r\n    &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{5} - %msg User : %X{user}%m%n&lt;/Pattern&gt;\r\n  &lt;/layout&gt; \r\n&lt;/appender&gt;\r\n```\r\n\r\n`%x{user}` specifies logback to append it from MDC. \r\n\r\nReference : [Chapter 8: Mapped Diagnostic Context][1]\r\n\r\n  [1]: https://logback.qos.ch/manual/mdc.html","title":"Not Seeing MDC Properties in logs","body":"<p>You need to specify your logger to print MDC data. If you are using logback, it can be done with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n  &lt;layout&gt;\n    &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{5} - %msg User : %X{user}%m%n&lt;/Pattern&gt;\n  &lt;/layout&gt; \n&lt;/appender&gt;\n</code></pre>\n<p><code>%x{user}</code> specifies logback to append it from MDC.</p>\n<p>Reference : <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">Chapter 8: Mapped Diagnostic Context</a></p>\n"}],"owner":{"display_name":"user19471184"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675411285,"creation_date":1665588788,"question_id":74044494,"body_markdown":"I have a simple program as shown below \r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.MDC;\r\n    \r\n        public class SLF4JMDC {\r\n          private static Logger LOGGER = LoggerFactory.getLogger(SLF4JMDC.class);\r\n        \r\n          public static void main(String[] args) {\r\n            MDC.put(&quot;user&quot;, &quot;rafal.kuc@sematext.com&quot;);\r\n            LOGGER.info(&quot;This is an info level log message!&quot;);\r\n            LOGGER.warn(&quot;This is an WARN level log&quot;);\r\n          }\r\n        }\r\n\r\nWhen I ran this program the output is just \r\n\r\nThis is an info level log message!\r\nThis is an WARN level log\r\n\r\n**Its not showing up MDC Properties in logs** ","title":"Not Seeing MDC Properties in logs","body":"<p>I have a simple program as shown below</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.MDC;\n\n    public class SLF4JMDC {\n      private static Logger LOGGER = LoggerFactory.getLogger(SLF4JMDC.class);\n    \n      public static void main(String[] args) {\n        MDC.put(&quot;user&quot;, &quot;rafal.kuc@sematext.com&quot;);\n        LOGGER.info(&quot;This is an info level log message!&quot;);\n        LOGGER.warn(&quot;This is an WARN level log&quot;);\n      }\n    }\n</code></pre>\n<p>When I ran this program the output is just</p>\n<p>This is an info level log message!\nThis is an WARN level log</p>\n<p><strong>Its not showing up MDC Properties in logs</strong></p>\n"},{"tags":["java","linkedin-api","spring-social"],"answers":[{"tags":[],"owner":{"account_id":19423258,"reputation":703,"user_id":14803323,"display_name":"Ashavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675197883,"creation_date":1675197883,"answer_id":75302937,"question_id":75293329,"body_markdown":"It sounds like you&#39;re looking for some of the Marketing APIs. There is a [Posts API][1] that would allow you to search for posts by author. There is also a [Social Actions API][2] to get numbers of comments and likes. Note that you need to be [approved to use][3] these APIs.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/posts-api?view=li-lms-2023-01&amp;tabs=http#find-posts-by-authors\r\n  [2]: https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/network-update-social-actions?view=li-lms-2023-01&amp;tabs=http\r\n  [3]: https://learn.microsoft.com/en-us/linkedin/marketing/quick-start?view=li-lms-2023-01","title":"Linkedin Social Action API Related","body":"<p>It sounds like you're looking for some of the Marketing APIs. There is a <a href=\"https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/posts-api?view=li-lms-2023-01&amp;tabs=http#find-posts-by-authors\" rel=\"nofollow noreferrer\">Posts API</a> that would allow you to search for posts by author. There is also a <a href=\"https://learn.microsoft.com/en-us/linkedin/marketing/integrations/community-management/shares/network-update-social-actions?view=li-lms-2023-01&amp;tabs=http\" rel=\"nofollow noreferrer\">Social Actions API</a> to get numbers of comments and likes. Note that you need to be <a href=\"https://learn.microsoft.com/en-us/linkedin/marketing/quick-start?view=li-lms-2023-01\" rel=\"nofollow noreferrer\">approved to use</a> these APIs.</p>\n"}],"owner":{"account_id":27663339,"reputation":1,"user_id":21115652,"display_name":"Mohammad Taha Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675410844,"creation_date":1675145973,"question_id":75293329,"body_markdown":"#LinkedIn \r\nGreeting to all,\r\nI have a question regarding Social Actions API, Basically I wanted to know that there is an particular API for getting all number of Posts along with data like (comments or like) on are linkedin Page? (Please Share an Proper Example [this is demo API which we are using https://api.linkedin.com/v2/socialActions/urn:li:ugcPost:xxxxxxxx/])\r\n\r\nBasically, our target is that to getting all numbers of posts which are present on my linked page plus we wanted to check also that if we received a comment on my any post so how we can reply on against him using an linkedin API&#39;s ","title":"Linkedin Social Action API Related","body":"<p>#LinkedIn\nGreeting to all,\nI have a question regarding Social Actions API, Basically I wanted to know that there is an particular API for getting all number of Posts along with data like (comments or like) on are linkedin Page? (Please Share an Proper Example [this is demo API which we are using https://api.linkedin.com/v2/socialActions/urn:li:ugcPost:xxxxxxxx/])</p>\n<p>Basically, our target is that to getting all numbers of posts which are present on my linked page plus we wanted to check also that if we received a comment on my any post so how we can reply on against him using an linkedin API's</p>\n"},{"tags":["java","jmonkeyengine"],"answers":[{"tags":[],"owner":{"account_id":6814152,"reputation":983,"user_id":5243408,"display_name":"reden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675410655,"creation_date":1675410655,"answer_id":75332859,"question_id":75116759,"body_markdown":"Are you using the gradle project template? It doesn&#39;t have &#39;libraries&#39;, per se. You add them as &#39;dependencies&#39; in build.gradle.\r\n\r\nIf you open build.gradle you can see \r\n\r\n    dependencies {\r\n      implementation &quot;org.jmonkeyengine:jme3-core:$jmeVer&quot;\r\n      ...\r\n    }\r\n\r\nAdd\r\n\r\n    implementation &quot;org.jmonkeyengine:jme3-test-data:$jmeVer&quot;\r\n\r\n(The video explains how to add libraries to the &#39;Ant&#39; project template)","title":"JMonkey 3.5.2 SDK: How to add a library to the project?","body":"<p>Are you using the gradle project template? It doesn't have 'libraries', per se. You add them as 'dependencies' in build.gradle.</p>\n<p>If you open build.gradle you can see</p>\n<pre><code>dependencies {\n  implementation &quot;org.jmonkeyengine:jme3-core:$jmeVer&quot;\n  ...\n}\n</code></pre>\n<p>Add</p>\n<pre><code>implementation &quot;org.jmonkeyengine:jme3-test-data:$jmeVer&quot;\n</code></pre>\n<p>(The video explains how to add libraries to the 'Ant' project template)</p>\n"}],"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332859,"answer_count":1,"score":0,"last_activity_date":1675410655,"creation_date":1673685994,"question_id":75116759,"body_markdown":"How to add an existing library to my project in JMonkeyEngine SDK 3.5.2?\r\n\r\nI&#39;m watching this: https://www.youtube.com/watch?v=h6Xl3MRjMLM\r\n\r\nI do not have Libraries folder in the project tree, so I was finding another way. I did find Tools -&gt; Libraries, but it is just a list of libraries and I can&#39;t add a library from there to my project.\r\n\r\nI searched JMonkey wiki, and it says:\r\n\r\nRMB select your project and select “Properties”.\r\n\r\nSelect “Libraries” on the left and then press “Add Library”.\r\n\r\nSelect the library from the list and press OK\r\n\r\nBut when going to Properties, I do not have Libraries there on the left.\r\n\r\nSo what am I doing wrong? I want to add standard jme3-test-data library to my project so I can do what the guy did in his video.","title":"JMonkey 3.5.2 SDK: How to add a library to the project?","body":"<p>How to add an existing library to my project in JMonkeyEngine SDK 3.5.2?</p>\n<p>I'm watching this: <a href=\"https://www.youtube.com/watch?v=h6Xl3MRjMLM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=h6Xl3MRjMLM</a></p>\n<p>I do not have Libraries folder in the project tree, so I was finding another way. I did find Tools -&gt; Libraries, but it is just a list of libraries and I can't add a library from there to my project.</p>\n<p>I searched JMonkey wiki, and it says:</p>\n<p>RMB select your project and select “Properties”.</p>\n<p>Select “Libraries” on the left and then press “Add Library”.</p>\n<p>Select the library from the list and press OK</p>\n<p>But when going to Properties, I do not have Libraries there on the left.</p>\n<p>So what am I doing wrong? I want to add standard jme3-test-data library to my project so I can do what the guy did in his video.</p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":1421803,"reputation":20653,"user_id":1346276,"accept_rate":70,"display_name":"phipsgabler"},"score":0,"creation_date":1675429067,"post_id":75332776,"comment_id":132932237,"body_markdown":"Honestly, wouldn&#39;t this be easier and more readable with a loop?","body":"Honestly, wouldn&#39;t this be easier and more readable with a loop?"},{"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"score":0,"creation_date":1675437175,"post_id":75332776,"comment_id":132934913,"body_markdown":"We are using it for validating HTTP method body with @Pattern annotation on the field","body":"We are using it for validating HTTP method body with @Pattern annotation on the field"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675410630,"creation_date":1675410349,"answer_id":75332815,"question_id":75332776,"body_markdown":"You can remove the outer capture group, and then use a negative lookahead with a backreference to group 1 to exclude 2 repeating characters on after another.\r\n\r\n    ^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*])(?!.*(.)\\1)\r\n\r\nIn Java\r\n\r\n    String regex = &quot;^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*])(?!.*(.)\\\\1)&quot;;\r\n\r\n[Regex demo](https://regex101.com/r/i4dN2T/1)\r\n\r\n**Note** that if using the pattern only for a password validation, the minimum length is just 4 characters.\r\n\r\n\r\nTo reduce some backtracking, you could also use negation:\r\n\r\n    ^(?=[^\\r\\n\\d]*\\d)(?=[^\\r\\na-z]*[a-z])(?=[^\\r\\nA-Z]*[A-Z])(?=[^\\r\\n!@#$%&amp;*]*[!@#$%&amp;*])(?!.*(.)\\1)\r\n\r\n[Regex demo](https://regex101.com/r/Rj8TpG/1)","title":"Java password validation regex","body":"<p>You can remove the outer capture group, and then use a negative lookahead with a backreference to group 1 to exclude 2 repeating characters on after another.</p>\n<pre><code>^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*])(?!.*(.)\\1)\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*])(?!.*(.)\\\\1)&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/i4dN2T/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p><strong>Note</strong> that if using the pattern only for a password validation, the minimum length is just 4 characters.</p>\n<p>To reduce some backtracking, you could also use negation:</p>\n<pre><code>^(?=[^\\r\\n\\d]*\\d)(?=[^\\r\\na-z]*[a-z])(?=[^\\r\\nA-Z]*[A-Z])(?=[^\\r\\n!@#$%&amp;*]*[!@#$%&amp;*])(?!.*(.)\\1)\n</code></pre>\n<p><a href=\"https://regex101.com/r/Rj8TpG/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332815,"answer_count":1,"score":0,"last_activity_date":1675410630,"creation_date":1675410076,"question_id":75332776,"body_markdown":"We have password requirements:\r\n 1. Must contain capital letters\r\n 2. Must contain lowercase letters\r\n 3. Must contain numbers\r\n 4. Must contain special characters\r\n 5. There should be no characters repeating one after another\r\n\r\nNow our validation regex is:\r\n\r\n    ^((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*]))\r\n\r\nSo it doesn&#39;t validating the 5th requirement.\r\n\r\nHow to improve regex to validate characters repeating?","title":"Java password validation regex","body":"<p>We have password requirements:</p>\n<ol>\n<li>Must contain capital letters</li>\n<li>Must contain lowercase letters</li>\n<li>Must contain numbers</li>\n<li>Must contain special characters</li>\n<li>There should be no characters repeating one after another</li>\n</ol>\n<p>Now our validation regex is:</p>\n<pre><code>^((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&amp;*]))\n</code></pre>\n<p>So it doesn't validating the 5th requirement.</p>\n<p>How to improve regex to validate characters repeating?</p>\n"},{"tags":["java","jsp","custom-tags"],"answers":[{"tags":[],"owner":{"account_id":5770399,"reputation":69,"user_id":4553986,"display_name":"David Buddrige"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675409760,"creation_date":1675409760,"answer_id":75332737,"question_id":75332470,"body_markdown":"I figured out what was wrong.  It wasn&#39;t in the Java code at all.  It was in my associated mytag.tld.  I needed to change the &lt;body-content&gt; tag to JSP, whereas previously it was tagdependent.\r\n\r\nThe myTag.tld was:\r\n\r\n    &lt;taglib version=&quot;2.1&quot; \r\n            xmlns=&quot;http://java.sun.com/xml/j2ee&quot; \r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;&gt;\r\n      &lt;tlib-version&gt;2.0&lt;/tlib-version&gt;\r\n      &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;\r\n      &lt;short-name&gt;MyTag&lt;/short-name&gt;\r\n      &lt;uri&gt;http://my.org.name/MyTag&lt;/uri&gt;\r\n      &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n      &lt;description&gt;\r\n         \r\n      &lt;/description&gt;\r\n      &lt;tag&gt;\r\n        &lt;name&gt;MyTag&lt;/name&gt;\r\n         &lt;tag-class&gt;my.org.name.MyTag&lt;/tag-class&gt;\r\n        &lt;body-content&gt;tagdependent&lt;/body-content&gt;        \r\n      &lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nBut I changed the myTag.tld to this (note the change in the &lt;body-content&gt; tag:\r\n\r\n    &lt;taglib version=&quot;2.1&quot; \r\n            xmlns=&quot;http://java.sun.com/xml/j2ee&quot; \r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;&gt;\r\n      &lt;tlib-version&gt;2.0&lt;/tlib-version&gt;\r\n      &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;\r\n      &lt;short-name&gt;MyTag&lt;/short-name&gt;\r\n      &lt;uri&gt;http://my.org.name/MyTag&lt;/uri&gt;\r\n      &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n      &lt;description&gt;\r\n         \r\n      &lt;/description&gt;\r\n      &lt;tag&gt;\r\n        &lt;name&gt;MyTag&lt;/name&gt;\r\n         &lt;tag-class&gt;my.org.name.MyTag&lt;/tag-class&gt;\r\n        &lt;body-content&gt;JSP&lt;/body-content&gt;        \r\n      &lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\n\r\nHaving made this change, the custom tag now evaluates the JSP in the body.","title":"How do you get a custom JSP tag to evaluate tags in its body","body":"<p>I figured out what was wrong.  It wasn't in the Java code at all.  It was in my associated mytag.tld.  I needed to change the  tag to JSP, whereas previously it was tagdependent.</p>\n<p>The myTag.tld was:</p>\n<pre><code>&lt;taglib version=&quot;2.1&quot; \n        xmlns=&quot;http://java.sun.com/xml/j2ee&quot; \n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;&gt;\n  &lt;tlib-version&gt;2.0&lt;/tlib-version&gt;\n  &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;\n  &lt;short-name&gt;MyTag&lt;/short-name&gt;\n  &lt;uri&gt;http://my.org.name/MyTag&lt;/uri&gt;\n  &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n  &lt;description&gt;\n     \n  &lt;/description&gt;\n  &lt;tag&gt;\n    &lt;name&gt;MyTag&lt;/name&gt;\n     &lt;tag-class&gt;my.org.name.MyTag&lt;/tag-class&gt;\n    &lt;body-content&gt;tagdependent&lt;/body-content&gt;        \n  &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>But I changed the myTag.tld to this (note the change in the  tag:</p>\n<pre><code>&lt;taglib version=&quot;2.1&quot; \n        xmlns=&quot;http://java.sun.com/xml/j2ee&quot; \n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;&gt;\n  &lt;tlib-version&gt;2.0&lt;/tlib-version&gt;\n  &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;\n  &lt;short-name&gt;MyTag&lt;/short-name&gt;\n  &lt;uri&gt;http://my.org.name/MyTag&lt;/uri&gt;\n  &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n  &lt;description&gt;\n     \n  &lt;/description&gt;\n  &lt;tag&gt;\n    &lt;name&gt;MyTag&lt;/name&gt;\n     &lt;tag-class&gt;my.org.name.MyTag&lt;/tag-class&gt;\n    &lt;body-content&gt;JSP&lt;/body-content&gt;        \n  &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Having made this change, the custom tag now evaluates the JSP in the body.</p>\n"}],"owner":{"account_id":5770399,"reputation":69,"user_id":4553986,"display_name":"David Buddrige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332737,"answer_count":1,"score":0,"last_activity_date":1675409760,"creation_date":1675407848,"question_id":75332470,"body_markdown":"I am writing a custom JSP tag.  What I want my tag to do is check some conditions, and if the condition is TRUE, then evaluate the JSP/HTML contained in the body.  Otherwise, redirect to another page.\r\n\r\nThe redirect part works just fine - the problem is that I can&#39;t (seem to) get the custom tag to evaluate any JSP in the custom tag&#39;s body.\r\n\r\nMy tag looks like this:\r\n\r\n    public class MyTag extends BodyTagSupport implements BodyTag\r\n    {\r\n        private function checkImportantCondition()\r\n        {\r\n             ...\r\n        }\r\n\r\n        public int doStartTag() throws JspException\r\n        {\r\n            int retVal = SKIP_BODY;\r\n            if(checkImportantCondition()==false)\r\n            {\r\n                try\r\n                {\r\n                pageContext.forward(&quot;myredirectPage.jsp&quot;);\r\n                }\r\n                catch (ServletException e) \r\n\t\t\t    {\r\n\t\t\t\t    e.printStackTrace();\r\n                } \r\n                catch (IOException e) \r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            else\r\n            {\r\n                retVal = EVAL_BODY_BUFFERED;  // Why doesn&#39;t this cause the JSP body to be evaluated?\r\n            }\r\n            return retVal;\r\n        }\r\n    }\r\n\r\nMy JSP that uses the custom tag then looks like this:\r\n\r\n    ...\r\n    &lt;%@ taglib uri=&quot;http://my.org.name/MyTag&quot; prefix=&quot;myt&quot; %&gt;\r\n\r\n    &lt;myt:MyTag&gt;\r\n        &lt;h:form id=&quot;form1&quot;&gt;\r\n             ... some other JSP tags here\r\n        &lt;/h:form&gt;\r\n    &lt;/myt:MyTag&gt;\r\n    \r\nNow, when the checkImportantCondition() method returns false, it successfully redirects to myredirectpage.jsp.\r\n\r\nHowever, when the checkImportantCondition() method returns true, the &lt;h:form&gt; tag and all the other jsp tag&#39;s that are *inside* the custom &lt;myt:MyTag&gt; tag - are not evaluted - instead, I just get a blank screen.\r\n\r\nCan anyone advise what I need to do?  I was under the impression that returning EVAL_BODY_BUFFERED  from doStartTag() method should cause the subsequent JSP tags in the body to be evaluated, but this doesn&#39;t seem to be happening.\r\n\r\nThanks heaps :-)","title":"How do you get a custom JSP tag to evaluate tags in its body","body":"<p>I am writing a custom JSP tag.  What I want my tag to do is check some conditions, and if the condition is TRUE, then evaluate the JSP/HTML contained in the body.  Otherwise, redirect to another page.</p>\n<p>The redirect part works just fine - the problem is that I can't (seem to) get the custom tag to evaluate any JSP in the custom tag's body.</p>\n<p>My tag looks like this:</p>\n<pre><code>public class MyTag extends BodyTagSupport implements BodyTag\n{\n    private function checkImportantCondition()\n    {\n         ...\n    }\n\n    public int doStartTag() throws JspException\n    {\n        int retVal = SKIP_BODY;\n        if(checkImportantCondition()==false)\n        {\n            try\n            {\n            pageContext.forward(&quot;myredirectPage.jsp&quot;);\n            }\n            catch (ServletException e) \n            {\n                e.printStackTrace();\n            } \n            catch (IOException e) \n            {\n                e.printStackTrace();\n            }\n        }\n        else\n        {\n            retVal = EVAL_BODY_BUFFERED;  // Why doesn't this cause the JSP body to be evaluated?\n        }\n        return retVal;\n    }\n}\n</code></pre>\n<p>My JSP that uses the custom tag then looks like this:</p>\n<pre><code>...\n&lt;%@ taglib uri=&quot;http://my.org.name/MyTag&quot; prefix=&quot;myt&quot; %&gt;\n\n&lt;myt:MyTag&gt;\n    &lt;h:form id=&quot;form1&quot;&gt;\n         ... some other JSP tags here\n    &lt;/h:form&gt;\n&lt;/myt:MyTag&gt;\n</code></pre>\n<p>Now, when the checkImportantCondition() method returns false, it successfully redirects to myredirectpage.jsp.</p>\n<p>However, when the checkImportantCondition() method returns true, the &lt;h:form&gt; tag and all the other jsp tag's that are <em>inside</em> the custom myt:MyTag tag - are not evaluted - instead, I just get a blank screen.</p>\n<p>Can anyone advise what I need to do?  I was under the impression that returning EVAL_BODY_BUFFERED  from doStartTag() method should cause the subsequent JSP tags in the body to be evaluated, but this doesn't seem to be happening.</p>\n<p>Thanks heaps :-)</p>\n"},{"tags":["java","xml","spring","spring-mvc","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3396762,"reputation":187,"user_id":2850171,"accept_rate":100,"display_name":"ephemeralCoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1453743119,"creation_date":1453743119,"answer_id":34998635,"question_id":34995549,"body_markdown":"I had to remove a jackson dependency on the classpath:\r\n\r\n\t   \t\r\n\t&lt;dependency&gt;\r\n   \t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n   \t\t&lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\r\n   \t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMappingJackson2XmlHttpMessageConverter@3f767117 takes precedence over the jaxb converter, if it is on the classpath, hence the marshaling was being done by that converter and not my jaxb one.","title":"Spring Jaxb2RootElementHttpMessageConverter not working with jaxb annotations","body":"<p>I had to remove a jackson dependency on the classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>MappingJackson2XmlHttpMessageConverter@3f767117 takes precedence over the jaxb converter, if it is on the classpath, hence the marshaling was being done by that converter and not my jaxb one.</p>\n"},{"tags":[],"owner":{"account_id":15707823,"reputation":16,"user_id":11334082,"display_name":"kiarash shamaii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675409704,"creation_date":1675409704,"answer_id":75332732,"question_id":34995549,"body_markdown":"    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n        converters.add(new MappingJackson2HttpMessageConverter());\r\n        converters.add(new Jaxb2RootElementHttpMessageConverter());\r\n    }\r\n\r\n//in pom add this \r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Spring Jaxb2RootElementHttpMessageConverter not working with jaxb annotations","body":"<pre><code>@Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n    converters.add(new MappingJackson2HttpMessageConverter());\n    converters.add(new Jaxb2RootElementHttpMessageConverter());\n}\n</code></pre>\n<p>//in pom add this\n\n\ncom.fasterxml.jackson.core\njackson-databind\n2.13.5\n\n\n\ncom.fasterxml.jackson.jaxrs\njackson-jaxrs-json-provider\n2.14.0\n</p>\n"}],"owner":{"account_id":3396762,"reputation":187,"user_id":2850171,"accept_rate":100,"display_name":"ephemeralCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8330,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34998635,"answer_count":2,"score":3,"last_activity_date":1675409704,"creation_date":1453733721,"question_id":34995549,"body_markdown":"I have spring set up to use: Jaxb2RootElementHttpMessageConverter as the message converter to convert an object to xml. In my rest service when a response is generated it does not adhere to the JAXB annotations i have provided on the model classes. &lt;br /&gt;:\r\n\r\nBaseResponse:\r\n\r\n    @XmlRootElement(name=&quot;response&quot;)\r\n    @XmlSeeAlso({AddMemberResponse.class,UpdateMemberResponse.class})\r\n    public abstract class BaseResponse {\r\n\t\r\n\r\n        private int status;\r\n    \tprivate String message;\r\n    \tprivate String confirmationCode;\r\n    \t\r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \tpublic int getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \tpublic void setStatus(int httpInternalError) {\r\n    \t\tthis.status = httpInternalError;\r\n    \t}\r\n    \tpublic String getConfirmationCode() {\r\n    \t\treturn confirmationCode;\r\n    \t}\r\n    \tpublic void setConfirmationCode(String confirmationCode) {\r\n    \t\tthis.confirmationCode = confirmationCode;\r\n    \t}\r\n    }\r\n\r\n\r\nAddMemberResponse:\r\n\r\n    @XmlRootElement(name = &quot;response&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class AddMemberResponse extends BaseResponse {\r\n    \r\n    \tprivate Member member;\r\n    \t\r\n    \tpublic AddMemberResponse() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Member getMember() {\r\n    \t\treturn member;\r\n    \t}\r\n    \r\n    \tpublic void setMember(Member member) {\r\n    \t\tthis.member = member;\r\n    \t}\r\n    }\r\n\r\n\r\nIn one point in my code, I have to save the xml to the database, so I have to manually convert this to a String to be saved later, and for this I use the JaxbMarshaller class and this works fine:\r\n\r\n\t/**\r\n\t * Converts object to xml using jaxb marshaller\r\n\t */\r\n\tprivate String objectToXML(Object graph) throws IOException {\r\n\r\n\t\tString finalstring = null;\r\n\t\ttry {\r\n\r\n\t\t\tJaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n\t\t\tmarshaller.setPackagesToScan(&quot;com.company.ws&quot;);\r\n\t\t\tMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\t\t\tmap.put(&quot;jaxb.formatted.output&quot;, true);\r\n\t\t\tmarshaller.setMarshallerProperties(map);\r\n\r\n\t\t\t// create a StringWriter for the output\r\n\t\t\tStringWriter outWriter = new StringWriter();\r\n\t\t\tStreamResult result = new StreamResult(outWriter);\r\n\t\t\tmarshaller.marshal(graph, result);\r\n\r\n\t\t\tStringBuffer sb = outWriter.getBuffer();\r\n\t\t\tfinalstring = sb.toString();\r\n\t\t\tlog.debug(finalstring);\r\n\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn finalstring;\r\n\t}\r\n\r\nIt stores this in the database with the jaxbmarshaller like this:\r\n\r\n    &lt;response&gt;\r\n        &lt;status&gt;500&lt;/status&gt;\r\n    &lt;/response&gt; \r\n\r\nBut it returns this as the response in POSTMAN:\r\n\r\n    &lt;AddMemberResponse&gt;\r\n        &lt;status&gt;500&lt;/status&gt;\r\n        &lt;message/&gt;\r\n        &lt;confirmationCode&gt;UVHRWLHB6UMQ&lt;/confirmationCode&gt;\r\n        &lt;member/&gt;\r\n    &lt;/AddMemberResponse&gt;\r\n\r\nThe 500 comes from it not being able to connect to an external service for data, so it is not relevant, it should still return the initial way as described.\r\n\r\napp-servlet.xml with the message converters configured:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context \r\n            http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- Enables the Spring4 @Controller  --&gt;\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n\r\n        &lt;!-- To  convert JSON to Object and vice versa --&gt;\r\n        &lt;bean id=&quot;jsonMessageConverter&quot; class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n        &lt;/bean&gt; \r\n    \t\r\n    \t &lt;!-- To  convert XML to Object and vice versa --&gt;\r\n        &lt;bean id=&quot;xmlMessageConverter&quot; class=&quot;org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter&quot;&gt;\r\n        &lt;/bean&gt; \r\n   \r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n    \t&lt;property name=&quot;messageConverters&quot;&gt;\r\n    \t    &lt;list&gt;\r\n    \t        &lt;ref bean=&quot;jsonMessageConverter&quot;/&gt;\r\n    \t        &lt;ref bean=&quot;xmlMessageConverter&quot;/&gt;\r\n    \t    &lt;/list&gt;\r\n    \t&lt;/property&gt; \r\n    &lt;/bean&gt; \t\r\n    \t&lt;!-- Dozer configuration --&gt;\r\n        &lt;bean id=&quot;beanMapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot;&gt;\r\n    \t  &lt;property name=&quot;mappingFiles&quot;&gt;\r\n    \t    &lt;list&gt;\r\n    \t      &lt;value&gt;dozerMapping.xml&lt;/value&gt;\r\n    \t    &lt;/list&gt;\r\n    \t  &lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n                     \r\n    \t&lt;context:component-scan base-package=&quot;com.company&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nUpdate1:\r\n\r\n    as &quot;application/xml&quot; using [org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter@3f767117]\r\n\r\nis showing in the logs, so it isn&#39;t using the right converter when marshaling it for the response.\r\n\r\n","title":"Spring Jaxb2RootElementHttpMessageConverter not working with jaxb annotations","body":"<p>I have spring set up to use: Jaxb2RootElementHttpMessageConverter as the message converter to convert an object to xml. In my rest service when a response is generated it does not adhere to the JAXB annotations i have provided on the model classes. <br />:</p>\n\n<p>BaseResponse:</p>\n\n<pre><code>@XmlRootElement(name=\"response\")\n@XmlSeeAlso({AddMemberResponse.class,UpdateMemberResponse.class})\npublic abstract class BaseResponse {\n\n\n    private int status;\n    private String message;\n    private String confirmationCode;\n\n    public String getMessage() {\n        return message;\n    }\n    public void setMessage(String message) {\n        this.message = message;\n    }\n    public int getStatus() {\n        return status;\n    }\n    public void setStatus(int httpInternalError) {\n        this.status = httpInternalError;\n    }\n    public String getConfirmationCode() {\n        return confirmationCode;\n    }\n    public void setConfirmationCode(String confirmationCode) {\n        this.confirmationCode = confirmationCode;\n    }\n}\n</code></pre>\n\n<p>AddMemberResponse:</p>\n\n<pre><code>@XmlRootElement(name = \"response\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class AddMemberResponse extends BaseResponse {\n\n    private Member member;\n\n    public AddMemberResponse() {\n        super();\n    }\n\n    public Member getMember() {\n        return member;\n    }\n\n    public void setMember(Member member) {\n        this.member = member;\n    }\n}\n</code></pre>\n\n<p>In one point in my code, I have to save the xml to the database, so I have to manually convert this to a String to be saved later, and for this I use the JaxbMarshaller class and this works fine:</p>\n\n<pre><code>/**\n * Converts object to xml using jaxb marshaller\n */\nprivate String objectToXML(Object graph) throws IOException {\n\n    String finalstring = null;\n    try {\n\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setPackagesToScan(\"com.company.ws\");\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        map.put(\"jaxb.formatted.output\", true);\n        marshaller.setMarshallerProperties(map);\n\n        // create a StringWriter for the output\n        StringWriter outWriter = new StringWriter();\n        StreamResult result = new StreamResult(outWriter);\n        marshaller.marshal(graph, result);\n\n        StringBuffer sb = outWriter.getBuffer();\n        finalstring = sb.toString();\n        log.debug(finalstring);\n\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    return finalstring;\n}\n</code></pre>\n\n<p>It stores this in the database with the jaxbmarshaller like this:</p>\n\n<pre><code>&lt;response&gt;\n    &lt;status&gt;500&lt;/status&gt;\n&lt;/response&gt; \n</code></pre>\n\n<p>But it returns this as the response in POSTMAN:</p>\n\n<pre><code>&lt;AddMemberResponse&gt;\n    &lt;status&gt;500&lt;/status&gt;\n    &lt;message/&gt;\n    &lt;confirmationCode&gt;UVHRWLHB6UMQ&lt;/confirmationCode&gt;\n    &lt;member/&gt;\n&lt;/AddMemberResponse&gt;\n</code></pre>\n\n<p>The 500 comes from it not being able to connect to an external service for data, so it is not relevant, it should still return the initial way as described.</p>\n\n<p>app-servlet.xml with the message converters configured:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n    &lt;!-- Enables the Spring4 @Controller  --&gt;\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;!-- To  convert JSON to Object and vice versa --&gt;\n    &lt;bean id=\"jsonMessageConverter\" class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n    &lt;/bean&gt; \n\n     &lt;!-- To  convert XML to Object and vice versa --&gt;\n    &lt;bean id=\"xmlMessageConverter\" class=\"org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter\"&gt;\n    &lt;/bean&gt; \n\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;ref bean=\"jsonMessageConverter\"/&gt;\n            &lt;ref bean=\"xmlMessageConverter\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt; \n&lt;/bean&gt;     \n    &lt;!-- Dozer configuration --&gt;\n    &lt;bean id=\"beanMapper\" class=\"org.dozer.DozerBeanMapper\"&gt;\n      &lt;property name=\"mappingFiles\"&gt;\n        &lt;list&gt;\n          &lt;value&gt;dozerMapping.xml&lt;/value&gt;\n        &lt;/list&gt;\n      &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;context:component-scan base-package=\"com.company\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Update1:</p>\n\n<pre><code>as \"application/xml\" using [org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter@3f767117]\n</code></pre>\n\n<p>is showing in the logs, so it isn't using the right converter when marshaling it for the response.</p>\n"},{"tags":["java","android","json","retrofit","retrofit2"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675422087,"post_id":75332723,"comment_id":132930269,"body_markdown":"have you tried to add ```@Headers(&quot;Content-Type: application/json&quot;)``` or ```@Headers({&quot;Accept: application/json&quot;})```  in interface upon ```storeUser``` method?","body":"have you tried to add <code>@Headers(&quot;Content-Type: application&#47;json&quot;)</code> or <code>@Headers({&quot;Accept: application&#47;json&quot;})</code>  in interface upon <code>storeUser</code> method?"}],"owner":{"account_id":23606839,"reputation":45,"user_id":17642440,"display_name":"max256"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675409611,"creation_date":1675409611,"question_id":75332723,"body_markdown":"I want to post a json array (the `users` in the following json object) to a server:\r\n\r\n    // Acceptable request because the &#39;users&#39; is a json array \r\n    {&quot;users&quot;: [{&quot;name&quot;: &quot;Mike&quot;, &quot;role&quot;: &quot;editor&quot;}, {&quot;name&quot;:&quot;Alice&quot;, &quot;role&quot;: &quot;admin&quot;}]}\r\n\r\nThe server accepts the `users` as a json array not a string. But, the retrofit converts the `users` to a string by adding quotation marks to it like this:\r\n\r\n    // Unacceptable request because the &#39;users&#39; is a string\r\n    {&quot;users&quot;: &quot;[{&quot;name&quot;: &quot;Mike&quot;, &quot;role&quot;: &quot;editor&quot;}, {&quot;name&quot;:&quot;Alice&quot;, &quot;role&quot;: &quot;admin&quot;}]&quot;}\r\n\r\nHere is my retrofit codes:\r\n\r\n    // interface\r\n    @FormUrlEncoded\r\n    @POST(&quot;users/store&quot;)\r\n    Call&lt;ResponseBody&gt; storeUser(@Field(&quot;users&quot;) JSONArray users);\r\n    \r\n    // implementation\r\n    String users = &quot;[{\\&quot;name\\&quot;: \\&quot;Mike\\&quot;, \\&quot;role\\&quot;: \\&quot;editor\\&quot;}, {\\&quot;name\\&quot;:\\&quot;Alice\\&quot;, \\&quot;role\\&quot;: \\&quot;admin\\&quot;}]&quot;;\r\n    JSONArray jsonArrayUsers = new JSONArray(users);\r\n    userViewModel.storeUser(jsonArrayUsers).observe(...)\r\n\r\nSo, how can I send the `users` as a json array to the server without allowing retrofit to convert it to string?","title":"Retrofit converts json array to string","body":"<p>I want to post a json array (the <code>users</code> in the following json object) to a server:</p>\n<pre><code>// Acceptable request because the 'users' is a json array \n{&quot;users&quot;: [{&quot;name&quot;: &quot;Mike&quot;, &quot;role&quot;: &quot;editor&quot;}, {&quot;name&quot;:&quot;Alice&quot;, &quot;role&quot;: &quot;admin&quot;}]}\n</code></pre>\n<p>The server accepts the <code>users</code> as a json array not a string. But, the retrofit converts the <code>users</code> to a string by adding quotation marks to it like this:</p>\n<pre><code>// Unacceptable request because the 'users' is a string\n{&quot;users&quot;: &quot;[{&quot;name&quot;: &quot;Mike&quot;, &quot;role&quot;: &quot;editor&quot;}, {&quot;name&quot;:&quot;Alice&quot;, &quot;role&quot;: &quot;admin&quot;}]&quot;}\n</code></pre>\n<p>Here is my retrofit codes:</p>\n<pre><code>// interface\n@FormUrlEncoded\n@POST(&quot;users/store&quot;)\nCall&lt;ResponseBody&gt; storeUser(@Field(&quot;users&quot;) JSONArray users);\n\n// implementation\nString users = &quot;[{\\&quot;name\\&quot;: \\&quot;Mike\\&quot;, \\&quot;role\\&quot;: \\&quot;editor\\&quot;}, {\\&quot;name\\&quot;:\\&quot;Alice\\&quot;, \\&quot;role\\&quot;: \\&quot;admin\\&quot;}]&quot;;\nJSONArray jsonArrayUsers = new JSONArray(users);\nuserViewModel.storeUser(jsonArrayUsers).observe(...)\n</code></pre>\n<p>So, how can I send the <code>users</code> as a json array to the server without allowing retrofit to convert it to string?</p>\n"},{"tags":["java","spring-boot","kotlin","thymeleaf","cyrillic"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675367639,"post_id":75328010,"comment_id":132919626,"body_markdown":"`// exception` - What exception is that? You can show us the full stack trace (as formatted text) in the question.","body":"<code>&#47;&#47; exception</code> - What exception is that? You can show us the full stack trace (as formatted text) in the question."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675375723,"post_id":75328010,"comment_id":132921689,"body_markdown":"Thank you. Is that the full stack trace?","body":"Thank you. Is that the full stack trace?"},{"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"score":0,"creation_date":1675376873,"post_id":75328010,"comment_id":132921915,"body_markdown":"no that is not , SOF doesn&#39;t let me put more :(","body":"no that is not , SOF doesn&#39;t let me put more :("},{"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"score":0,"creation_date":1675377309,"post_id":75328010,"comment_id":132922015,"body_markdown":"@andrewJames updated, added url on full stack trace\nhttps://docs.google.com/document/d/1vFSCnGlEIeAwr5V0K2M7UnKYzEz3OKIWjHB-FuHQPm8/edit?usp=sharing","body":"@andrewJames updated, added url on full stack trace <a href=\"https://docs.google.com/document/d/1vFSCnGlEIeAwr5V0K2M7UnKYzEz3OKIWjHB-FuHQPm8/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675378733,"post_id":75328010,"comment_id":132922296,"body_markdown":"I am sorry but the stack track needs to be added to the question. Also, can you show us the Spring config properties for your Thymeleaf? (I cannot recreate your issue, right now. Your code works OK for me.)","body":"I am sorry but the stack track needs to be added to the question. Also, can you show us the Spring config properties for your Thymeleaf? (I cannot recreate your issue, right now. Your code works OK for me.)"},{"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"score":0,"creation_date":1675405991,"post_id":75328010,"comment_id":132926043,"body_markdown":"@andrewJames Hmm I don&#39;t put any property settings for it.. Could you tel me please wich setings do you used ?","body":"@andrewJames Hmm I don&#39;t put any property settings for it.. Could you tel me please wich setings do you used ?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675427389,"post_id":75328010,"comment_id":132931746,"body_markdown":"Please show us the full stack trace. Not a link.","body":"Please show us the full stack trace. Not a link."}],"owner":{"account_id":3497387,"reputation":43,"user_id":5984851,"display_name":"Илья Косолапов"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1675409449,"creation_date":1675365606,"question_id":75328010,"body_markdown":"How can use Thymeleaf with Cyrillic keywords (token) my settings is:\r\n\r\nconfig:\r\n  \r\n    @Bean\r\n     public SpringTemplateEngine springTemplateEngine() {\r\n         SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n         StringTemplateResolver stringTemplateResolver = new StringTemplateResolver();\r\n         templateEngine.addTemplateResolver(stringTemplateResolver);\r\n         return templateEngine;\r\n     }\r\n\r\n\r\nclass:\r\n\r\n    public class TemplateConverter {\r\n\r\n    private SpringTemplateEngine templateEngine;\r\n\r\n    private final static String TEMPLATE_LOCAL = &quot;RU&quot;;\r\n\r\n    public String getTemplateFromAttributes(String template, Map&lt;String, Object&gt; attr) {\r\n        Context context = new Context(new Locale(TEMPLATE_LOCAL));\r\n        if (!CollectionUtils.isEmpty(attr)) {\r\n            attr.forEach((k, v) -&gt; context.setVariable(k, v));\r\n        }\r\n\r\n        return templateEngine.process(template, context);\r\n        }\r\n    }\r\n\r\n\r\nworks:\r\n\r\n    //..\r\n    String template = &quot;Привет [(${keyword})]&quot;;\r\n    String result = templateConverter.getTemplateFromAttributes(template, Map.of(&quot;keyword&quot;, &quot;мир&quot;));\r\n    System.out.println(result); // &quot;Привет мир&quot;\r\n\r\n\r\nBut when I try make it with cyrillic words it don&#39;t works\r\n\r\n    //..\r\n    String template = &quot;Привет [(${ключевое_слово})]&quot;;\r\n    String result = templateConverter.getTemplateFromAttributes(template, Map.of(&quot;ключевое_слово&quot;,   &quot;мир&quot;));  // exception\r\n    System.out.println(result);\r\n\r\n**UPDATE**\r\n \r\n```\r\n00:47:07.123 [main] DEBUG org.thymeleaf.TemplateEngine - [THYMELEAF] TEMPLATE ENGINE INITIALIZED\r\n00:47:07.196 [main] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][main] Exception processing template &quot;Привет [(${ключевое_слово})]&quot;: An error happened during template parsing (template: &quot;Привет [(${ключевое_слово})]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;Привет [(${ключевое_слово})]&quot;)\r\n\tat org.thymeleaf.templateparser.text.AbstractTextTemplateParser.parse(AbstractTextTemplateParser.java:180)\r\n\tat org.thymeleaf.templateparser.text.AbstractTextTemplateParser.parseStandalone(AbstractTextTemplateParser.java:92)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\r\n\tat ru.mm.util.converter.TemplateConverter.getTemplateFromAttributes(TemplateConverter.java:35)\r\n\tat ru.mm.util.converter.TemplateConverterTest.whenPutRightStringThenRightPlainText(TemplateConverterTest.java:39)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n...\r\n```\r\n\r\n**UPDATE**\r\n\r\n[all stac trace](docs.google.com)\r\n&lt;a href=&quot;https://docs.google.com/document/d/1vFSCnGlEIeAwr5V0K2M7UnKYzEz3OKIWjHB-FuHQPm8/edit?usp=sharing&quot;&gt;docs.google.com&lt;/a&gt;\r\n\r\n**TEMPLATE_LOCAL = &quot;RU&quot;** - not effect\r\n**StringTemplateResolver** doesn&#39;t have something for setup UTF-8 key\r\n\r\n\r\n\r\n\r\n**UPDATE - !!SOLUTION!!**\r\n\r\nchanged maven dependency\r\nfrom:\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand change engine SpringTemplateEngine -&gt; TemplateEngine\r\n```\r\nconfig:\r\n  \r\n    @Bean\r\n     public TemplateEngine springTemplateEngine() {\r\n         TemplateEngine templateEngine = new TemplateEngine();\r\n         StringTemplateResolver stringTemplateResolver = new StringTemplateResolver();\r\n         templateEngine.addTemplateResolver(stringTemplateResolver);\r\n         return templateEngine;\r\n     }\r\n```","title":"How can use Thymeleaf with Cyrillic keywords (token)","body":"<p>How can use Thymeleaf with Cyrillic keywords (token) my settings is:</p>\n<p>config:</p>\n<pre><code>@Bean\n public SpringTemplateEngine springTemplateEngine() {\n     SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n     StringTemplateResolver stringTemplateResolver = new StringTemplateResolver();\n     templateEngine.addTemplateResolver(stringTemplateResolver);\n     return templateEngine;\n }\n</code></pre>\n<p>class:</p>\n<pre><code>public class TemplateConverter {\n\nprivate SpringTemplateEngine templateEngine;\n\nprivate final static String TEMPLATE_LOCAL = &quot;RU&quot;;\n\npublic String getTemplateFromAttributes(String template, Map&lt;String, Object&gt; attr) {\n    Context context = new Context(new Locale(TEMPLATE_LOCAL));\n    if (!CollectionUtils.isEmpty(attr)) {\n        attr.forEach((k, v) -&gt; context.setVariable(k, v));\n    }\n\n    return templateEngine.process(template, context);\n    }\n}\n</code></pre>\n<p>works:</p>\n<pre><code>//..\nString template = &quot;Привет [(${keyword})]&quot;;\nString result = templateConverter.getTemplateFromAttributes(template, Map.of(&quot;keyword&quot;, &quot;мир&quot;));\nSystem.out.println(result); // &quot;Привет мир&quot;\n</code></pre>\n<p>But when I try make it with cyrillic words it don't works</p>\n<pre><code>//..\nString template = &quot;Привет [(${ключевое_слово})]&quot;;\nString result = templateConverter.getTemplateFromAttributes(template, Map.of(&quot;ключевое_слово&quot;,   &quot;мир&quot;));  // exception\nSystem.out.println(result);\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<pre><code>00:47:07.123 [main] DEBUG org.thymeleaf.TemplateEngine - [THYMELEAF] TEMPLATE ENGINE INITIALIZED\n00:47:07.196 [main] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][main] Exception processing template &quot;Привет [(${ключевое_слово})]&quot;: An error happened during template parsing (template: &quot;Привет [(${ключевое_слово})]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;Привет [(${ключевое_слово})]&quot;)\n    at org.thymeleaf.templateparser.text.AbstractTextTemplateParser.parse(AbstractTextTemplateParser.java:180)\n    at org.thymeleaf.templateparser.text.AbstractTextTemplateParser.parseStandalone(AbstractTextTemplateParser.java:92)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\n    at ru.mm.util.converter.TemplateConverter.getTemplateFromAttributes(TemplateConverter.java:35)\n    at ru.mm.util.converter.TemplateConverterTest.whenPutRightStringThenRightPlainText(TemplateConverterTest.java:39)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n...\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>all stac trace\n<a href=\"https://docs.google.com/document/d/1vFSCnGlEIeAwr5V0K2M7UnKYzEz3OKIWjHB-FuHQPm8/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com</a></p>\n<p><strong>TEMPLATE_LOCAL = &quot;RU&quot;</strong> - not effect\n<strong>StringTemplateResolver</strong> doesn't have something for setup UTF-8 key</p>\n<p><strong>UPDATE - !!SOLUTION!!</strong></p>\n<p>changed maven dependency\nfrom:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n   &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and change engine SpringTemplateEngine -&gt; TemplateEngine</p>\n<pre><code>config:\n  \n    @Bean\n     public TemplateEngine springTemplateEngine() {\n         TemplateEngine templateEngine = new TemplateEngine();\n         StringTemplateResolver stringTemplateResolver = new StringTemplateResolver();\n         templateEngine.addTemplateResolver(stringTemplateResolver);\n         return templateEngine;\n     }\n</code></pre>\n"},{"tags":["java","api","request","multivalue"],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675408586,"creation_date":1675403926,"question_id":75332023,"body_markdown":"I have a post mapping in my controller with @RequestBody MultiValueMap&lt;String, String&gt;.\r\nGetting 415 unsupported media type error in post man while giving request body like this. Request type is json.\r\n```\r\n{\r\n&quot;name&quot; : &quot;john&quot;\r\n}\r\n```\r\nCan someone help on this?","title":"Use MultiValueMap Request body","body":"<p>I have a post mapping in my controller with @RequestBody MultiValueMap&lt;String, String&gt;.\nGetting 415 unsupported media type error in post man while giving request body like this. Request type is json.</p>\n<pre><code>{\n&quot;name&quot; : &quot;john&quot;\n}\n</code></pre>\n<p>Can someone help on this?</p>\n"},{"tags":["java","list","arraylist","sublist","notserializableexception"],"comments":[{"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"score":0,"creation_date":1675408936,"post_id":75332569,"comment_id":132926630,"body_markdown":"I tried to change the type to ArrayList but it gives me class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]. So no, the above solution did not work for me.","body":"I tried to change the type to ArrayList but it gives me class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]. So no, the above solution did not work for me."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675409754,"post_id":75332569,"comment_id":132926790,"body_markdown":"see the accepted answer from the question linked in first comment - note: it is NOT using cast (a cast does NOT change the instance type); it is creating a new `ArrayList`","body":"see the accepted answer from the question linked in first comment - note: it is NOT using cast (a cast does NOT change the instance type); it is creating a new <code>ArrayList</code>"},{"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"score":0,"creation_date":1675424103,"post_id":75332569,"comment_id":132930867,"body_markdown":"Thanks @user16320675! It worked. I misunderstood and tried casting hence was getting class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList .","body":"Thanks @user16320675! It worked. I misunderstood and tried casting hence was getting class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList ."}],"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675431066,"answer_count":0,"score":0,"last_activity_date":1675408474,"creation_date":1675408474,"question_id":75332569,"body_markdown":"I am receiving error **caused java.io.NotSerializableException: java.util.ArrayList$SubList, please check method&#39;s implementation for the cause nested exception is:java.io.NotSerializableException: java.util.ArrayList$SubList ** with my below mentioned code...\r\n\r\n```\r\npublic static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\r\n        int size = list.size();\r\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\r\n            return Collections.emptyList();\r\n        } \r\n        fromIndex = Math.max(0, fromIndex);\r\n        toIndex = Math.min(size, toIndex); \r\n        return list.subList(fromIndex, toIndex);\r\n    }\r\n```\r\nThe sublist not able to be serialized as it is of type List and sublist method of List is from RandomAccess and RandomAccess doesn&#39;t implement Serializable.\r\n\r\nAttaching the code where and how this method is called:\r\n\r\n\r\n```\r\nList&lt;String&gt; subList = ContextUtil.safeSubList(customerIds, i, i+10); \r\n               List&lt;Customer&gt; customers = convertObjectsToCustomers(asiakashallinta.haeAsiakaslistaAsiakastunnuksila(getCustomerListQuery(subList, jopoContext), jopoContext)); \r\n               if(customers != null){\r\n                  result.addAll(customers);\r\n```\r\n\r\n\r\nI tried to change the type to ArrayList, but then it gives **class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]**\r\n\r\nBelow is the code that I tried: \r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; safeSubList(ArrayList&lt;T&gt; list, int fromIndex, int toIndex) {\r\n        int size = list.size();\r\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\r\n            return (ArrayList&lt;T&gt;)Collections.emptyList();\r\n        } \r\n        fromIndex = Math.max(0, fromIndex);\r\n        toIndex = Math.min(size, toIndex); \r\n        return (ArrayList&lt;T&gt;) list.subList(fromIndex, toIndex);\r\n    }\r\n```\r\nI am sure, this is not the correct way to fix it but wanted desperately to fix the issue. Any help would be appreciated.","title":"How do I resolve *caused java.io.NotSerializableException: java.util.ArrayList$SubList*","body":"<p>I am receiving error **caused java.io.NotSerializableException: java.util.ArrayList$SubList, please check method's implementation for the cause nested exception is:java.io.NotSerializableException: java.util.ArrayList$SubList ** with my below mentioned code...</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\n        int size = list.size();\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\n            return Collections.emptyList();\n        } \n        fromIndex = Math.max(0, fromIndex);\n        toIndex = Math.min(size, toIndex); \n        return list.subList(fromIndex, toIndex);\n    }\n</code></pre>\n<p>The sublist not able to be serialized as it is of type List and sublist method of List is from RandomAccess and RandomAccess doesn't implement Serializable.</p>\n<p>Attaching the code where and how this method is called:</p>\n<pre><code>List&lt;String&gt; subList = ContextUtil.safeSubList(customerIds, i, i+10); \n               List&lt;Customer&gt; customers = convertObjectsToCustomers(asiakashallinta.haeAsiakaslistaAsiakastunnuksila(getCustomerListQuery(subList, jopoContext), jopoContext)); \n               if(customers != null){\n                  result.addAll(customers);\n</code></pre>\n<p>I tried to change the type to ArrayList, but then it gives <strong>class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader 'bootstrap')]</strong></p>\n<p>Below is the code that I tried:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; ArrayList&lt;T&gt; safeSubList(ArrayList&lt;T&gt; list, int fromIndex, int toIndex) {\n        int size = list.size();\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\n            return (ArrayList&lt;T&gt;)Collections.emptyList();\n        } \n        fromIndex = Math.max(0, fromIndex);\n        toIndex = Math.min(size, toIndex); \n        return (ArrayList&lt;T&gt;) list.subList(fromIndex, toIndex);\n    }\n</code></pre>\n<p>I am sure, this is not the correct way to fix it but wanted desperately to fix the issue. Any help would be appreciated.</p>\n"},{"tags":["java","spring-mvc","spring-boot-actuator","spring-autoconfiguration"],"owner":{"account_id":16883170,"reputation":11,"user_id":12208647,"display_name":"Joshua Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675408212,"creation_date":1675407946,"question_id":75332494,"body_markdown":"I&#39;m trying to upgrade the version from \r\nspringVersion = &#39;4.3.27.RELEASE&#39;\r\nspringBootVersion = &#39;1.5.22.RELEASE&#39;to \r\n\r\nspringVersion = &#39;5.3.25&#39;\r\nspringBootVersion =&#39;2.3.5.RELEASE&#39;\r\n\r\nThe issue i face is in ActuatorConfiguation.java where **No beans of &#39;WebEndpointsSupplier&#39; type found.** \r\n\r\n\r\n\r\n**ActuatorConfiguration.java:**\r\n```\r\n\r\n\r\n@Configuration\r\n@Import({\r\n        EndpointAutoConfiguration.class,\r\n        HealthIndicatorAutoConfiguration.class,\r\n\r\n        InfoEndpointAutoConfiguration.class,\r\n        HealthEndpointAutoConfiguration.class,\r\n\r\n        WebEndpointAutoConfiguration.class,\r\n        ServletManagementContextAutoConfiguration.class,\r\n        ManagementContextAutoConfiguration.class,\r\n})\r\n@EnableConfigurationProperties(CorsEndpointProperties.class)\r\nclass ActuatorConfiguration {\r\n\r\n    @Bean //taken from WebMvcEndpointManagementContextConfiguration.class\r\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\r\n                                                                         ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\r\n                                                                         EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\r\n                                                                         WebEndpointProperties webEndpointProperties) {\r\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList&lt;&gt;();\r\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n        allEndpoints.addAll(webEndpoints);\r\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n        EndpointMapping endpointMapping = new EndpointMapping(webEndpointProperties.getBasePath());\r\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\r\n                corsProperties.toCorsConfiguration(),\r\n                new EndpointLinksResolver(allEndpoints, webEndpointProperties.getBasePath()),true);\r\n    }\r\n\r\n    @Bean\r\n    DispatcherServletPath dispatcherServletPath() {\r\n        return () -&gt; &quot;/&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**build.gradle:**\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\nbootstrap {\r\n\tjava()\r\n\tjavaLibrary()\r\n}\r\n\r\ngroup = &#39;be.cipal.common&#39;\r\ndescription = &quot;Spring Actuator support for CipalCommon&quot;\r\n\r\ndependencies {\r\n    api &quot;org.springframework.boot:spring-boot-actuator:${springBootVersion}&quot;\r\n    \r\n    api &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n    api &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\r\n    api &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\r\n    \r\n    api &quot;org.springframework:spring-web:${springVersion}&quot;\r\n    api &quot;org.springframework:spring-webmvc:${springVersion}&quot;\r\n\r\n    api (&#39;io.prometheus:simpleclient_spring_boot:0.8.1&#39;) {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n    }\r\n\r\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\r\n\r\n\r\n    implementation &#39;io.prometheus:simpleclient_hotspot:0.8.1&#39;\r\n\r\n    implementation &#39;javax.inject:javax.inject:1&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.13.2&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:2.28.2&#39;\r\n}\r\n```\r\n\r\n**Web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; version=&quot;2.5&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;description&gt;Application code for this application, this code is used to authenticate users against porta&lt;/description&gt;\r\n\t\t&lt;param-name&gt;appCode&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;METIS&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;LoadingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipalschaubroeck.common.modern.ui.startup.StartupFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.filter.UncaughtExceptionFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.setup.SetupFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;description&gt;Filter that handles the security. This filter is responsible for the user Authentication&lt;/description&gt;\r\n\t\t&lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;targetBeanName&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;ssoAuthenticationFilter&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;description&gt;Filter that synchronizes the appModeCookie&lt;/description&gt;\r\n\t\t&lt;display-name&gt;AppModeFilter&lt;/display-name&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.web.struts.tiles.AppModeFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.web.filter.NoCacheFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.filter.UTF8Filter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.metis.web.filter.MetisRestSecurityFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/rs/secured/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/rest-api-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;config&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/struts-config.xml, struts-anafora-config.xml, struts-config-porta-sso.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;debug&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;detail&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;chainConfig&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;org/apache/struts/tiles/chain-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;be.cipal.web.servlet.ResourceServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;be.cipal.manual.ManualServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/actuator-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/static/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/help/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/rs/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/actuator/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;be.cipal.charta.openoffice.listener.OfficeServiceServletContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;be.cipal.web.util.SessionAttributeListener&lt;/listener-class&gt;\t\t\r\n\t&lt;/listener&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**actuator-config.xml**\r\n``` &lt;context:annotation-config /&gt;\r\n    &lt;bean name=&quot;actuatorConfiguration&quot; class=&quot;be.cipalschaubroeck.common.actuator.ActuatorConfiguration&quot; /&gt;\r\n&lt;/beans&gt;\r\n\r\n```\r\n\r\n\r\nI&#39;m new to springboot and spring. Went through various resources but couldn&#39;t find the solution\r\n\r\n\r\n","title":"No Beans Found: spring-boot-actuator 2.3.5 in spring mvc without springboot","body":"<p>I'm trying to upgrade the version from\nspringVersion = '4.3.27.RELEASE'\nspringBootVersion = '1.5.22.RELEASE'to</p>\n<p>springVersion = '5.3.25'\nspringBootVersion ='2.3.5.RELEASE'</p>\n<p>The issue i face is in ActuatorConfiguation.java where <strong>No beans of 'WebEndpointsSupplier' type found.</strong></p>\n<p><strong>ActuatorConfiguration.java:</strong></p>\n<pre><code>\n\n@Configuration\n@Import({\n        EndpointAutoConfiguration.class,\n        HealthIndicatorAutoConfiguration.class,\n\n        InfoEndpointAutoConfiguration.class,\n        HealthEndpointAutoConfiguration.class,\n\n        WebEndpointAutoConfiguration.class,\n        ServletManagementContextAutoConfiguration.class,\n        ManagementContextAutoConfiguration.class,\n})\n@EnableConfigurationProperties(CorsEndpointProperties.class)\nclass ActuatorConfiguration {\n\n    @Bean //taken from WebMvcEndpointManagementContextConfiguration.class\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\n                                                                         ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\n                                                                         EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\n                                                                         WebEndpointProperties webEndpointProperties) {\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList&lt;&gt;();\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n        allEndpoints.addAll(webEndpoints);\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n        EndpointMapping endpointMapping = new EndpointMapping(webEndpointProperties.getBasePath());\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\n                corsProperties.toCorsConfiguration(),\n                new EndpointLinksResolver(allEndpoints, webEndpointProperties.getBasePath()),true);\n    }\n\n    @Bean\n    DispatcherServletPath dispatcherServletPath() {\n        return () -&gt; &quot;/&quot;;\n    }\n\n}\n\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'java-library'\n}\nbootstrap {\n    java()\n    javaLibrary()\n}\n\ngroup = 'be.cipal.common'\ndescription = &quot;Spring Actuator support for CipalCommon&quot;\n\ndependencies {\n    api &quot;org.springframework.boot:spring-boot-actuator:${springBootVersion}&quot;\n    \n    api &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    api &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\n    api &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\n    \n    api &quot;org.springframework:spring-web:${springVersion}&quot;\n    api &quot;org.springframework:spring-webmvc:${springVersion}&quot;\n\n    api ('io.prometheus:simpleclient_spring_boot:0.8.1') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\n\n\n    implementation 'io.prometheus:simpleclient_hotspot:0.8.1'\n\n    implementation 'javax.inject:javax.inject:1'\n\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.assertj:assertj-core:3.13.2'\n    testImplementation 'org.mockito:mockito-core:2.28.2'\n}\n</code></pre>\n<p><strong>Web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; version=&quot;2.5&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;description&gt;Application code for this application, this code is used to authenticate users against porta&lt;/description&gt;\n        &lt;param-name&gt;appCode&lt;/param-name&gt;\n        &lt;param-value&gt;METIS&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;LoadingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipalschaubroeck.common.modern.ui.startup.StartupFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.filter.UncaughtExceptionFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.setup.SetupFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;description&gt;Filter that handles the security. This filter is responsible for the user Authentication&lt;/description&gt;\n        &lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;targetBeanName&lt;/param-name&gt;\n            &lt;param-value&gt;ssoAuthenticationFilter&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;description&gt;Filter that synchronizes the appModeCookie&lt;/description&gt;\n        &lt;display-name&gt;AppModeFilter&lt;/display-name&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.web.struts.tiles.AppModeFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.web.filter.NoCacheFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.filter.UTF8Filter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.metis.web.filter.MetisRestSecurityFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/rs/secured/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/rest-api-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;config&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/struts-config.xml, struts-anafora-config.xml, struts-config-porta-sso.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;debug&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;detail&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;chainConfig&lt;/param-name&gt;\n            &lt;param-value&gt;org/apache/struts/tiles/chain-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;be.cipal.web.servlet.ResourceServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;be.cipal.manual.ManualServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/actuator-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    \n    \n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/static/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/help/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rs/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/actuator/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;be.cipal.charta.openoffice.listener.OfficeServiceServletContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;be.cipal.web.util.SessionAttributeListener&lt;/listener-class&gt;     \n    &lt;/listener&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>actuator-config.xml</strong></p>\n<pre><code>    &lt;bean name=&quot;actuatorConfiguration&quot; class=&quot;be.cipalschaubroeck.common.actuator.ActuatorConfiguration&quot; /&gt;\n&lt;/beans&gt;\n\n</code></pre>\n<p>I'm new to springboot and spring. Went through various resources but couldn't find the solution</p>\n"},{"tags":["java","ajax","liferay","liferay-6"],"answers":[{"tags":[],"owner":{"account_id":82643,"reputation":2663,"user_id":232206,"accept_rate":100,"display_name":"Jonny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1356334589,"creation_date":1356334589,"answer_id":14018507,"question_id":14017867,"body_markdown":"Simple answer is because you&#39;re not actually navigating around Liferay. Using AJAX doesn&#39;t count as the user performing actions that stop their session expiring. You&#39;ll need the page to reload or extend the session time. ","title":"Liferay session expire even when user is doing activities on the page","body":"<p>Simple answer is because you're not actually navigating around Liferay. Using AJAX doesn't count as the user performing actions that stop their session expiring. You'll need the page to reload or extend the session time. </p>\n"},{"tags":[],"owner":{"account_id":1028902,"reputation":467,"user_id":1037615,"accept_rate":52,"display_name":"wikimix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356562073,"creation_date":1356562073,"answer_id":14047219,"question_id":14017867,"body_markdown":"You can fix this problem by following this two steps:\r\n\r\n1- add this lines to the **portal-ext.properties** file:\r\n\r\n(3000 is the number of minutes before the session will expired)\r\n\r\n    session.timeout=3000\r\n    \r\n    session.timeout.warning=0\r\n\r\n\r\n2-Go to **/conf/web.xml** ( Tomcat server) and edit the session configuration Timeout:\r\n\r\n \r\n\r\n    &lt;session-config&gt;\r\n            &lt;session-timeout&gt;3000&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n\r\n\r\n","title":"Liferay session expire even when user is doing activities on the page","body":"<p>You can fix this problem by following this two steps:</p>\n\n<p>1- add this lines to the <strong>portal-ext.properties</strong> file:</p>\n\n<p>(3000 is the number of minutes before the session will expired)</p>\n\n<pre><code>session.timeout=3000\n\nsession.timeout.warning=0\n</code></pre>\n\n<p>2-Go to <strong>/conf/web.xml</strong> ( Tomcat server) and edit the session configuration Timeout:</p>\n\n<pre><code>&lt;session-config&gt;\n        &lt;session-timeout&gt;3000&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10211887,"reputation":213,"user_id":8186824,"display_name":"Juhil Kamothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675408033,"creation_date":1675408033,"answer_id":75332504,"question_id":14017867,"body_markdown":"Another way\r\n\r\nIf You have React/Angular/Vue (SPA) portlets or any JS Code where you can predict that the user will not reload for some time, You can use Liferay web API to extend the session whenever you want. \r\n\r\n    Liferay.Session.extend();\r\n\r\n You can run the above code in many scenarios, Like calling Ajax Or in some functions where the user is interacting with only SPA apps. Or you can make a global timer in your portlet which extends Liferay&#39;s session automatically. ","title":"Liferay session expire even when user is doing activities on the page","body":"<p>Another way</p>\n<p>If You have React/Angular/Vue (SPA) portlets or any JS Code where you can predict that the user will not reload for some time, You can use Liferay web API to extend the session whenever you want.</p>\n<pre><code>Liferay.Session.extend();\n</code></pre>\n<p>You can run the above code in many scenarios, Like calling Ajax Or in some functions where the user is interacting with only SPA apps. Or you can make a global timer in your portlet which extends Liferay's session automatically.</p>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14018507,"answer_count":3,"score":1,"last_activity_date":1675408033,"creation_date":1356330554,"question_id":14017867,"body_markdown":"I have a portlet on my page, for all the user action we are calling the resource URLs with ajax, and only the contents inside the portlet keeps changing.\r\nNow the problem is, even though the user continuously active on the page, we are getting session expired on page. Why is this happening?","title":"Liferay session expire even when user is doing activities on the page","body":"<p>I have a portlet on my page, for all the user action we are calling the resource URLs with ajax, and only the contents inside the portlet keeps changing.\nNow the problem is, even though the user continuously active on the page, we are getting session expired on page. Why is this happening?</p>\n"},{"tags":["java","spring-boot","jhipster","jdl"],"answers":[{"tags":[],"owner":{"account_id":13382267,"reputation":515,"user_id":9657154,"display_name":"chrisdns"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1533714765,"creation_date":1533714765,"answer_id":51741343,"question_id":51739007,"body_markdown":"You cannot use List directly\r\n\r\nInstead you can create a one-to-many relationship in order to make **ResponseJson** have multiple String by wrapping this String in another Object\r\n\r\nYour JDL should be:\r\n\r\n    entity ResponseJson {\r\n        ...\r\n    }\r\n    \r\n    entity ObjectContainingString {\r\n        name String\r\n    }\r\n    \r\n    relationship OneToMany {\r\n        ResponseJson{name} to ObjectContainingString{json}\r\n    } \r\n\r\n","title":"How to use List with JDL entities in Jhipster","body":"<p>You cannot use List directly</p>\n\n<p>Instead you can create a one-to-many relationship in order to make <strong>ResponseJson</strong> have multiple String by wrapping this String in another Object</p>\n\n<p>Your JDL should be:</p>\n\n<pre><code>entity ResponseJson {\n    ...\n}\n\nentity ObjectContainingString {\n    name String\n}\n\nrelationship OneToMany {\n    ResponseJson{name} to ObjectContainingString{json}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13350837,"reputation":553,"user_id":9636100,"display_name":"Alexandre GC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533728648,"creation_date":1533717534,"answer_id":51742213,"question_id":51739007,"body_markdown":"If you want to opt for a solution that is not using JDL, you can change you model to use a `List` like this:\r\n\r\n\r\n    public class ResponseJson implements Serializable {\r\n        @ElementCollection\r\n        @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n        private Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n        \r\n        ...\r\n    \r\n    }","title":"How to use List with JDL entities in Jhipster","body":"<p>If you want to opt for a solution that is not using JDL, you can change you model to use a <code>List</code> like this:</p>\n\n<pre><code>public class ResponseJson implements Serializable {\n    @ElementCollection\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    private Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17428561,"reputation":109,"user_id":12632999,"display_name":"Ranjul Arumadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407356,"creation_date":1675405614,"answer_id":75332212,"question_id":51739007,"body_markdown":"Jhipsters page on [Field types and validations][1] discusses the available JDL types. \r\n\r\nCurrently, it does not support List, text[] etc directly.\r\n\r\nFor people who want to create entities having these types, one workaround is to make the entity with the types that Jhipster JDL offers and then use [Liquibase][2] to add the other fields types like List, text[] etc.\r\n\r\n\r\n  [1]: https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations\r\n  [2]: https://www.liquibase.org/","title":"How to use List with JDL entities in Jhipster","body":"<p>Jhipsters page on <a href=\"https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations\" rel=\"nofollow noreferrer\">Field types and validations</a> discusses the available JDL types.</p>\n<p>Currently, it does not support List, text[] etc directly.</p>\n<p>For people who want to create entities having these types, one workaround is to make the entity with the types that Jhipster JDL offers and then use <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a> to add the other fields types like List, text[] etc.</p>\n"}],"owner":{"account_id":3170095,"reputation":439,"user_id":2679280,"accept_rate":77,"display_name":"RYJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6114,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51741343,"answer_count":3,"score":4,"last_activity_date":1675407356,"creation_date":1533705058,"question_id":51739007,"body_markdown":"I&#39;m new to use Jhipster. I want to create a JDL entity using my existing model classes. Here is my model class.\r\n\r\n    @Data\r\n    public class ResponseJson implements Serializable {\r\n        private List&lt;String&gt; names;\r\n    }\r\n\r\nNormal JDL entity can be created like,\r\n\r\n    entity ResponseJson{\r\n      names String\r\n    }\r\n\r\nBut I need to know **how to use List** in JDL entities. ","title":"How to use List with JDL entities in Jhipster","body":"<p>I'm new to use Jhipster. I want to create a JDL entity using my existing model classes. Here is my model class.</p>\n\n<pre><code>@Data\npublic class ResponseJson implements Serializable {\n    private List&lt;String&gt; names;\n}\n</code></pre>\n\n<p>Normal JDL entity can be created like,</p>\n\n<pre><code>entity ResponseJson{\n  names String\n}\n</code></pre>\n\n<p>But I need to know <strong>how to use List</strong> in JDL entities. </p>\n"},{"tags":["java","maven","logging","log4j"],"comments":[{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":2,"creation_date":1651609793,"post_id":72105057,"comment_id":127403445,"body_markdown":"Log4J version 1.x is completely different from version 2.x, and was not vulnerable to Log4Shell.","body":"Log4J version 1.x is completely different from version 2.x, and was not vulnerable to Log4Shell."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1651609869,"post_id":72105057,"comment_id":127403473,"body_markdown":"If you do want to upgrade, then the Log4J 2.x project [has instructions](https://logging.apache.org/log4j/2.x/manual/migration.html).","body":"If you do want to upgrade, then the Log4J 2.x project <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">has instructions</a>."},{"owner":{"account_id":21607587,"reputation":43,"user_id":15934752,"display_name":"Vani"},"score":0,"creation_date":1651635115,"post_id":72105057,"comment_id":127407736,"body_markdown":"I agree, but log4j 1.x is not allowed in my org and it is considered an outdated version","body":"I agree, but log4j 1.x is not allowed in my org and it is considered an outdated version"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1651647386,"post_id":72105057,"comment_id":127409949,"body_markdown":"You are clearly performing some programmatic configuration in your code, you should share the code that has compile errors. Remark that Log4j2 is not binary compatible with Log4j 1.x (they are different projects), but `log4j-1.2-api` provides _some_ binary compatibility.","body":"You are clearly performing some programmatic configuration in your code, you should share the code that has compile errors. Remark that Log4j2 is not binary compatible with Log4j 1.x (they are different projects), but <code>log4j-1.2-api</code> provides <i>some</i> binary compatibility."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1651666430,"post_id":72105057,"comment_id":127416304,"body_markdown":"@Vani - so follow the upgrade guide that I linked. It&#39;s not as simple as changing the JAR.","body":"@Vani - so follow the upgrade guide that I linked. It&#39;s not as simple as changing the JAR."}],"answers":[{"tags":[],"owner":{"account_id":27692090,"reputation":11,"user_id":21138561,"display_name":"seshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675407331,"creation_date":1675407331,"answer_id":75332406,"question_id":72105057,"body_markdown":"Change your imports as follows:\r\n\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.apache.logging.log4j.core.appender.ConsoleAppender;\r\n    import org.apache.logging.log4j.core.layout.PatternLayout;\r\nThis is because 2.x.x version of log4j had major structure changes.","title":"log4j - log4j-core update","body":"<p>Change your imports as follows:</p>\n<pre><code>import org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\n</code></pre>\n<p>This is because 2.x.x version of log4j had major structure changes.</p>\n"}],"owner":{"account_id":21607587,"reputation":43,"user_id":15934752,"display_name":"Vani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675407331,"creation_date":1651609361,"question_id":72105057,"body_markdown":"I have updated my log4j version from 1.2.17 to log4j-core-2.17.1, this is for the log4jshell&#160;vulnerability fix.\r\n\r\nWhile building the code, I am getting the cannot find PatternLayout and ConsoleAppender error message.\r\n\r\nI should not have other any log4j version other than log4j-core-2.17.1 in the war file, so I have excluded lo4j in the slf4j dependency in pom.xml file\r\n\r\nPlease know how to fix this error.\r\n\r\n**Code Snippet**\r\n```\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.ConsoleAppender;\r\nimport org.apache.logging.log4j.PatternLayout;\r\n\r\nimport jxl.common.Logger;\r\n\r\npublic class Booking {\r\n\r\n    static Logger logger = Logger.getLogger(Booking.class);\r\n\r\n    public static boolean isChecked(String[] includeProps) {\r\n\r\n        logger.info(&quot;Start of method&quot;);\r\n\treturn true;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n   &lt;version&gt;2.17.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n   &lt;version&gt;2.17.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.36&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n   &lt;exclusion&gt;\r\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n   &lt;exclusion&gt;\r\n   &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.36&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**log4j.properties**\r\n```\r\nlog4j.rootLogger=INFO,stdout\r\nlog4j.logger.requestLogger=debug, requestAppender\r\nlog4j.additivity.requestLogger=false\r\nlog4j.appender.stdout=org.apache.log4j.FileAppender\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.File=/apps/opt/logs/App.log\r\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n```\r\n\r\n**Error message**\r\n```\r\ncannot find symbol\r\n[ERROR] symbol: class PatternLayout\r\n\r\ncannot find symbol\r\n[ERROR] symbol: class ConsoleAppender\r\n\r\n[ERROR] symbol: class variable Logger\r\n```","title":"log4j - log4j-core update","body":"<p>I have updated my log4j version from 1.2.17 to log4j-core-2.17.1, this is for the log4jshell vulnerability fix.</p>\n<p>While building the code, I am getting the cannot find PatternLayout and ConsoleAppender error message.</p>\n<p>I should not have other any log4j version other than log4j-core-2.17.1 in the war file, so I have excluded lo4j in the slf4j dependency in pom.xml file</p>\n<p>Please know how to fix this error.</p>\n<p><strong>Code Snippet</strong></p>\n<pre><code>import org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ConsoleAppender;\nimport org.apache.logging.log4j.PatternLayout;\n\nimport jxl.common.Logger;\n\npublic class Booking {\n\n    static Logger logger = Logger.getLogger(Booking.class);\n\n    public static boolean isChecked(String[] includeProps) {\n\n        logger.info(&quot;Start of method&quot;);\n    return true;\n\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n   &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n   &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n   &lt;version&gt;1.7.36&lt;/version&gt;\n   &lt;exclusions&gt;\n   &lt;exclusion&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n   &lt;exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n   &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j.properties</strong></p>\n<pre><code>log4j.rootLogger=INFO,stdout\nlog4j.logger.requestLogger=debug, requestAppender\nlog4j.additivity.requestLogger=false\nlog4j.appender.stdout=org.apache.log4j.FileAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.File=/apps/opt/logs/App.log\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n</code></pre>\n<p><strong>Error message</strong></p>\n<pre><code>cannot find symbol\n[ERROR] symbol: class PatternLayout\n\ncannot find symbol\n[ERROR] symbol: class ConsoleAppender\n\n[ERROR] symbol: class variable Logger\n</code></pre>\n"},{"tags":["java","scala","hdfs"],"answers":[{"tags":[],"owner":{"account_id":27692024,"reputation":1,"user_id":21138508,"display_name":"AllenYang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407317,"creation_date":1675407317,"answer_id":75332405,"question_id":57212002,"body_markdown":"When you create your FileSystem, more exactly the Configuration Class, add the flowing property setting:\r\n\r\n    \r\n    Configuration conf = new Configuration();\r\n    conf.set(&quot;fs.defaultFS&quot;, HDFS_PATH);\r\n    conf.set(&quot;fs.hdfs.impl&quot;, DistributedFileSystem.class.getName());\r\n    conf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.policy&quot;, &quot;NEVER&quot;);\r\n    conf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.enable&quot;, &quot;true&quot;);\r\n\r\n","title":"How to fix hdfs append excepiton:already the current lease holder","body":"<p>When you create your FileSystem, more exactly the Configuration Class, add the flowing property setting:</p>\n<pre><code>Configuration conf = new Configuration();\nconf.set(&quot;fs.defaultFS&quot;, HDFS_PATH);\nconf.set(&quot;fs.hdfs.impl&quot;, DistributedFileSystem.class.getName());\nconf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.policy&quot;, &quot;NEVER&quot;);\nconf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.enable&quot;, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":16377256,"reputation":21,"user_id":11829094,"display_name":"Spring Brother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675407317,"creation_date":1564104318,"question_id":57212002,"body_markdown":"I pull data from kafka,and append data to HDFS.But I got exception message when append data.\r\n\r\nhere is exception message\r\n\r\n```\r\nCaused by: org.apache.hadoop.ipc.RemoteException: Failed to APPEND_FILE T_LOG_RECORD_CS/web-Thread-3 for DFSClient_NONMAPREDUCE_-558981961_18 on IP地址 because DFSClient_NONMAPREDUCE_-558981961_18 is already the current lease holder.\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:2970)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInternal(FSNamesystem.java:2766)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInt(FSNamesystem.java:3073)\r\n        at ...\r\ncom.sharing.hdfs.HdfsHelper$.getFSDataOutputSteam(HdfsHelper.scala:225)\r\n        at com.sharing.hdfs.HdfsHelper$.writeLines(HdfsHelper.scala:149)\r\n```\r\n\r\nthis is my code,I use writeLines method to append datas to HDFS.\r\n\r\n```\r\n/**\r\n    * 创建fsDataOutputSteam\r\n    *\r\n    * @param path\r\n    * @return\r\n    */\r\n  def getFSDataOutputSteam(path: String): FSDataOutputStream = {\r\n    val pathIsExist = isExist(path)\r\n    if (pathIsExist) {\r\n      fileSystem.append(path)\r\n    } else {\r\n      fileSystem.create(path)\r\n    }\r\n  }\r\n\r\n// 写入数据\r\ndef writeLines(lines: java.util.List[String], path: String): Unit = {\r\n\r\n\r\n    var outputStream: FSDataOutputStream = null\r\n    try {\r\n\r\n      outputStream = getFSDataOutputSteam(path)\r\n      lines.foreach({\r\n        line =&gt;\r\n          outputStream.write(line.trim.getBytes(&quot;UTF-8&quot;))\r\n          outputStream.write(&quot;\\n&quot;.getBytes(&quot;UTF-8&quot;))\r\n      })\r\n      LOGGER.info(&quot;HDFS写入成功！&quot;)\r\n    }\r\n    catch {\r\n      case e: IOException =&gt;\r\n        LOGGER.error(e.getMessage, e)\r\n        updateLease(path)\r\n        throw new IOException(e)\r\n    } finally {\r\n      if (Objects.nonNull(outputStream)) {\r\n        outputStream.close()\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nPlease give me some help！Thank you~","title":"How to fix hdfs append excepiton:already the current lease holder","body":"<p>I pull data from kafka,and append data to HDFS.But I got exception message when append data.</p>\n\n<p>here is exception message</p>\n\n<pre><code>Caused by: org.apache.hadoop.ipc.RemoteException: Failed to APPEND_FILE T_LOG_RECORD_CS/web-Thread-3 for DFSClient_NONMAPREDUCE_-558981961_18 on IP地址 because DFSClient_NONMAPREDUCE_-558981961_18 is already the current lease holder.\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:2970)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInternal(FSNamesystem.java:2766)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInt(FSNamesystem.java:3073)\n        at ...\ncom.sharing.hdfs.HdfsHelper$.getFSDataOutputSteam(HdfsHelper.scala:225)\n        at com.sharing.hdfs.HdfsHelper$.writeLines(HdfsHelper.scala:149)\n</code></pre>\n\n<p>this is my code,I use writeLines method to append datas to HDFS.</p>\n\n<pre><code>/**\n    * 创建fsDataOutputSteam\n    *\n    * @param path\n    * @return\n    */\n  def getFSDataOutputSteam(path: String): FSDataOutputStream = {\n    val pathIsExist = isExist(path)\n    if (pathIsExist) {\n      fileSystem.append(path)\n    } else {\n      fileSystem.create(path)\n    }\n  }\n\n// 写入数据\ndef writeLines(lines: java.util.List[String], path: String): Unit = {\n\n\n    var outputStream: FSDataOutputStream = null\n    try {\n\n      outputStream = getFSDataOutputSteam(path)\n      lines.foreach({\n        line =&gt;\n          outputStream.write(line.trim.getBytes(\"UTF-8\"))\n          outputStream.write(\"\\n\".getBytes(\"UTF-8\"))\n      })\n      LOGGER.info(\"HDFS写入成功！\")\n    }\n    catch {\n      case e: IOException =&gt;\n        LOGGER.error(e.getMessage, e)\n        updateLease(path)\n        throw new IOException(e)\n    } finally {\n      if (Objects.nonNull(outputStream)) {\n        outputStream.close()\n      }\n    }\n  }\n</code></pre>\n\n<p>Please give me some help！Thank you~</p>\n"},{"tags":["java","android","kotlin","stripe-payments"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675417511,"post_id":75331802,"comment_id":132928860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":132746,"reputation":1266,"user_id":333638,"display_name":"qichuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407033,"creation_date":1675407033,"answer_id":75332374,"question_id":75331802,"body_markdown":"Yes. You can create a payment method from your Android app by calling [stripe.createPaymentMethod()][1].\r\n\r\nThere&#39;s also an [example code][2] that you find from the Stripe Android Github repo.\r\n\r\n\r\n  [1]: https://stripe.dev/stripe-android/payments-core/com.stripe.android/create-payment-method.html\r\n  [2]: https://github.com/stripe/stripe-android/blob/master/example/src/main/java/com/stripe/example/activity/PaymentMethodViewModel.kt#L21","title":"Can I add card on stripe using stripe public key with android SDK","body":"<p>Yes. You can create a payment method from your Android app by calling <a href=\"https://stripe.dev/stripe-android/payments-core/com.stripe.android/create-payment-method.html\" rel=\"nofollow noreferrer\">stripe.createPaymentMethod()</a>.</p>\n<p>There's also an <a href=\"https://github.com/stripe/stripe-android/blob/master/example/src/main/java/com/stripe/example/activity/PaymentMethodViewModel.kt#L21\" rel=\"nofollow noreferrer\">example code</a> that you find from the Stripe Android Github repo.</p>\n"}],"owner":{"account_id":27691516,"reputation":1,"user_id":21138084,"display_name":"Bhringesh Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675407033,"creation_date":1675401523,"question_id":75331802,"body_markdown":"I am unable to card on stripe using public key, I want add card on stripe for feature payment using PaymentMethodId. Is it possible?\r\n\r\nIt is working with stripe secret key, But I cant use secret key at App level.","title":"Can I add card on stripe using stripe public key with android SDK","body":"<p>I am unable to card on stripe using public key, I want add card on stripe for feature payment using PaymentMethodId. Is it possible?</p>\n<p>It is working with stripe secret key, But I cant use secret key at App level.</p>\n"},{"tags":["java","libgdx","collision-detection","collision"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675360787,"post_id":75326046,"comment_id":132917646,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1675382075,"post_id":75326046,"comment_id":132922927,"body_markdown":"Do you need this as additional check in your //Collidable code for all the possibilities ```daShape instanceof daRect &amp;&amp; nextShape instanceof daCircle``` because they might not necessarily always be in this order ```daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ``` i.e you might find a rect before a circle as you iterate which would be missed.","body":"Do you need this as additional check in your //Collidable code for all the possibilities <code>daShape instanceof daRect &amp;&amp; nextShape instanceof daCircle</code> because they might not necessarily always be in this order <code>daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect </code> i.e you might find a rect before a circle as you iterate which would be missed."},{"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"score":0,"creation_date":1675409094,"post_id":75326046,"comment_id":132926672,"body_markdown":"@londonBadger You are absolutely right. One of the problems I have now is that my circles are able to collide with my rectangle but my rectangles are not able to collide with my circle(Code crashes). I believe this has something to do with my conditional checks or at least the math logic of circIntersectRect. I am still trying to find ways to get my Rectangle to collide with my circle but i&#39;m at an impasse. If you got any idea, I would love to try them!","body":"@londonBadger You are absolutely right. One of the problems I have now is that my circles are able to collide with my rectangle but my rectangles are not able to collide with my circle(Code crashes). I believe this has something to do with my conditional checks or at least the math logic of circIntersectRect. I am still trying to find ways to get my Rectangle to collide with my circle but i&#39;m at an impasse. If you got any idea, I would love to try them!"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1675444235,"post_id":75326046,"comment_id":132937400,"body_markdown":"If you are suspicious about your intersection test (and all this is axis-aligned), replace it with this one which seems optimised as well https://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection","body":"If you are suspicious about your intersection test (and all this is axis-aligned), replace it with this one which seems optimised as well <a href=\"https://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection\" title=\"circle rectangle collision detection intersection\">stackoverflow.com/questions/401847/&hellip;</a>"},{"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"score":0,"creation_date":1675541032,"post_id":75326046,"comment_id":132952852,"body_markdown":"@londonBadger That is the one I am using! XD\nUPDATE: I manage to get the Rectangle intersecting with the circle by tweaking the algorithm a little and account for the move position of the rectangle. However, I have a slight issue whereas if the rectangle collides into a shape from the left or right, they are unable to back out. Weird, I&#39;ll keep trying and update my progress!","body":"@londonBadger That is the one I am using! XD UPDATE: I manage to get the Rectangle intersecting with the circle by tweaking the algorithm a little and account for the move position of the rectangle. However, I have a slight issue whereas if the rectangle collides into a shape from the left or right, they are unable to back out. Weird, I&#39;ll keep trying and update my progress!"}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675406267,"creation_date":1675406267,"answer_id":75332280,"question_id":75326046,"body_markdown":"The problem might be your `checkForCollision` method.\r\n\r\nYou are iterating over all `GeometricObjects` in `listOfAllShapes`. Then you set the collision flag for the current iteration of the GeometricObject:\r\n\r\n    setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\r\n\r\nSo if any collision is detected the flag will be set to true. **But if the next object doesn&#39;t collide, the flag is reset to false**. Therefore it seems that only the last shapes of each type in the iteration list can collide.\r\n\r\nTo fix this you need to change the lines `set...CollisionFlag ...` to **not reset the flag if it was already set to true**. Also you need to reset the flags once before the start of the loop.\r\n\r\nA solution could look like this:\r\n\r\n    public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {\r\n        // initially reset the flags before the loop\r\n        setCirclesCollisionFlag(false);\r\n        setRectanglesCollisionFlag(false);\r\n        setCircleRectangleCollisionFlag(false);\r\n\r\n        for (GeometricObjects daShape : listOfAllShapes) {\r\n            if (daShape instanceof Collidable) {\r\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\r\n                while(iter.hasNext()) {\r\n                    GeometricObjects nextShape = iter.next();\r\n                    if (daShape != nextShape) {\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle //\r\n                            &amp;&amp; isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setCirclesCollisionFlag(true);\r\n                        }\r\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect //\r\n                            &amp;&amp; isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setRectanglesCollisionFlag(true);\r\n                        }\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect //\r\n                            &amp;&amp; circIntersectRect((daCircle)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setCircleRectangleCollisionFlag(true);\r\n                        } \r\n                    } \r\n                } \r\n            }\r\n        }\r\n    }","title":"LibGDX - Collision Detection | Collision Reaction | Collision doesn&#39;t apply to all?","body":"<p>The problem might be your <code>checkForCollision</code> method.</p>\n<p>You are iterating over all <code>GeometricObjects</code> in <code>listOfAllShapes</code>. Then you set the collision flag for the current iteration of the GeometricObject:</p>\n<pre><code>setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\n</code></pre>\n<p>So if any collision is detected the flag will be set to true. <strong>But if the next object doesn't collide, the flag is reset to false</strong>. Therefore it seems that only the last shapes of each type in the iteration list can collide.</p>\n<p>To fix this you need to change the lines <code>set...CollisionFlag ...</code> to <strong>not reset the flag if it was already set to true</strong>. Also you need to reset the flags once before the start of the loop.</p>\n<p>A solution could look like this:</p>\n<pre><code>public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {\n    // initially reset the flags before the loop\n    setCirclesCollisionFlag(false);\n    setRectanglesCollisionFlag(false);\n    setCircleRectangleCollisionFlag(false);\n\n    for (GeometricObjects daShape : listOfAllShapes) {\n        if (daShape instanceof Collidable) {\n            Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\n            while(iter.hasNext()) {\n                GeometricObjects nextShape = iter.next();\n                if (daShape != nextShape) {\n                    if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle //\n                        &amp;&amp; isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction)) { // only set to true, but never reset to false here\n                        setCirclesCollisionFlag(true);\n                    }\n                    if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect //\n                        &amp;&amp; isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\n                        setRectanglesCollisionFlag(true);\n                    }\n                    if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect //\n                        &amp;&amp; circIntersectRect((daCircle)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\n                        setCircleRectangleCollisionFlag(true);\n                    } \n                } \n            } \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675406267,"creation_date":1675354817,"question_id":75326046,"body_markdown":"I have parent classes that create shape entities and I can choose to make the entity a collidable entity or a Non-Collidable Entity.\r\nSo far, in this project, Circles and Rectangles are collidables. Whereas, the ellipse is a Non-Collidable.\r\nThe funny thing is even though I have created multiple circles and rectangles. Only 1 pair of circles and rectangles are collidable whereas the rest isn&#39;t. I am really confused as I thought the child always inherits the property from the parent. Therefore, if all shapes have the same parent. I do not see how is it possible that the child does not behave the same way.\r\n\r\n// CIRCLE ENTITY\r\n\r\n```\r\npublic class daCircle extends Collidable{\r\n\r\n    protected float circleRadius;\r\n    protected int upKey;\r\n    protected int downKey;\r\n    protected int leftKey;\r\n    protected int rightKey;\r\n\r\n    public daCircle(int circleXPos, int circleYPos, float circleRadius, int circleSpeed, Color circleColor, \r\n    int upKey, int downKey, int leftKey, int rightKey) {\r\n        super(circleXPos, circleYPos, circleColor, circleSpeed);\r\n        this.circleRadius = circleRadius;\r\n        super.keyMovementList.set(0, upKey);\r\n        super.keyMovementList.set(1, downKey);\r\n        super.keyMovementList.set(2, leftKey);\r\n        super.keyMovementList.set(3, rightKey);\r\n    }\r\n}\r\n```\r\n\r\n// Collidable \r\n\r\n```\r\npublic void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {      \r\n        for (GeometricObjects daShape : listOfAllShapes) {\r\n            if (daShape instanceof Collidable) {\r\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\r\n                while(iter.hasNext()) {\r\n                    GeometricObjects nextShape = iter.next();\r\n                    if (daShape != nextShape) {\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle) {\r\n                            setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\r\n                        }\r\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect) {\r\n                            setRectanglesCollisionFlag(isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction));\r\n                        }\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ) {\r\n                            setCircleRectangleCollisionFlag(circIntersectRect((daCircle)daShape, (daRect)nextShape, direction));\r\n                        } \r\n                    } \r\n                } \r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n// Controller\r\n\r\n\r\n```\r\npublic void movementController(ArrayList&lt;GeometricObjects&gt; allGeometricShapes) { \r\n        int temporaryObjSpeedHolder = 0;\r\n\r\n        GeometricObjects daObject = (GeometricObjects) this;\r\n        if (daObject instanceof Collidable) {\r\n            collidableShape = (Collidable) daObject;\r\n            daObject = collidableShape;\r\n        }\r\n\r\n        // if (Gdx.input.isTouched()) {\r\n        //     daObject.setXPos(Gdx.input.getX());\r\n        //     daObject.setYPos(Gdx.graphics.getHeight() - Gdx.input.getY());\r\n        // }\r\n\r\n        if(Gdx.input.isKeyPressed(keyMovementList.get(0))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;UP&quot;);\r\n            }\r\n            \r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.yPos += temporaryObjSpeedHolder;\r\n        \r\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(1))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;DOWN&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.yPos -= temporaryObjSpeedHolder;\r\n\r\n        }\r\n\r\n        if(Gdx.input.isKeyPressed(keyMovementList.get(2))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;LEFT&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.xPos -= temporaryObjSpeedHolder;\r\n\r\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(3))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;RIGHT&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.xPos += temporaryObjSpeedHolder;\r\n        }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have created many circles and rectangles and discovered that only the latest created shapes are able to collide.\r\nI thought that maybe since the shapes are all on different layers that it might not be able to collide. \r\nI really dk what else I can be testing to see why it is the way it is. If you guys got suggestions of testing. I&#39;m all for it!","title":"LibGDX - Collision Detection | Collision Reaction | Collision doesn&#39;t apply to all?","body":"<p>I have parent classes that create shape entities and I can choose to make the entity a collidable entity or a Non-Collidable Entity.\nSo far, in this project, Circles and Rectangles are collidables. Whereas, the ellipse is a Non-Collidable.\nThe funny thing is even though I have created multiple circles and rectangles. Only 1 pair of circles and rectangles are collidable whereas the rest isn't. I am really confused as I thought the child always inherits the property from the parent. Therefore, if all shapes have the same parent. I do not see how is it possible that the child does not behave the same way.</p>\n<p>// CIRCLE ENTITY</p>\n<pre><code>public class daCircle extends Collidable{\n\n    protected float circleRadius;\n    protected int upKey;\n    protected int downKey;\n    protected int leftKey;\n    protected int rightKey;\n\n    public daCircle(int circleXPos, int circleYPos, float circleRadius, int circleSpeed, Color circleColor, \n    int upKey, int downKey, int leftKey, int rightKey) {\n        super(circleXPos, circleYPos, circleColor, circleSpeed);\n        this.circleRadius = circleRadius;\n        super.keyMovementList.set(0, upKey);\n        super.keyMovementList.set(1, downKey);\n        super.keyMovementList.set(2, leftKey);\n        super.keyMovementList.set(3, rightKey);\n    }\n}\n</code></pre>\n<p>// Collidable</p>\n<pre><code>public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {      \n        for (GeometricObjects daShape : listOfAllShapes) {\n            if (daShape instanceof Collidable) {\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\n                while(iter.hasNext()) {\n                    GeometricObjects nextShape = iter.next();\n                    if (daShape != nextShape) {\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle) {\n                            setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\n                        }\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect) {\n                            setRectanglesCollisionFlag(isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction));\n                        }\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ) {\n                            setCircleRectangleCollisionFlag(circIntersectRect((daCircle)daShape, (daRect)nextShape, direction));\n                        } \n                    } \n                } \n            }\n        }\n    }\n</code></pre>\n<p>// Controller</p>\n<pre><code>public void movementController(ArrayList&lt;GeometricObjects&gt; allGeometricShapes) { \n        int temporaryObjSpeedHolder = 0;\n\n        GeometricObjects daObject = (GeometricObjects) this;\n        if (daObject instanceof Collidable) {\n            collidableShape = (Collidable) daObject;\n            daObject = collidableShape;\n        }\n\n        // if (Gdx.input.isTouched()) {\n        //     daObject.setXPos(Gdx.input.getX());\n        //     daObject.setYPos(Gdx.graphics.getHeight() - Gdx.input.getY());\n        // }\n\n        if(Gdx.input.isKeyPressed(keyMovementList.get(0))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;UP&quot;);\n            }\n            \n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.yPos += temporaryObjSpeedHolder;\n        \n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(1))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;DOWN&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.yPos -= temporaryObjSpeedHolder;\n\n        }\n\n        if(Gdx.input.isKeyPressed(keyMovementList.get(2))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;LEFT&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.xPos -= temporaryObjSpeedHolder;\n\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(3))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;RIGHT&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.xPos += temporaryObjSpeedHolder;\n        }\n</code></pre>\n<p>I have created many circles and rectangles and discovered that only the latest created shapes are able to collide.\nI thought that maybe since the shapes are all on different layers that it might not be able to collide.\nI really dk what else I can be testing to see why it is the way it is. If you guys got suggestions of testing. I'm all for it!</p>\n"},{"tags":["java","powershell","performance","jvm","processbuilder"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675334823,"post_id":75321805,"comment_id":132908271,"body_markdown":"ProcessBuilder just launches external processes, it shouldn&#39;t have a major impact on how those processes execute, since it uses the exact same mechanism that the rest of the OS uses (fork/exec or whatever the Windows equivalent is). One thing that could influence your script is how much memory and/or cpu time is available while your Java application is running. Is your application doing any heavy work *while* waiting for the script to execute? How much memory is available and how much is used by your JVM?","body":"ProcessBuilder just launches external processes, it shouldn&#39;t have a major impact on how those processes execute, since it uses the exact same mechanism that the rest of the OS uses (fork/exec or whatever the Windows equivalent is). One thing that could influence your script is how much memory and/or cpu time is available while your Java application is running. Is your application doing any heavy work <i>while</i> waiting for the script to execute? How much memory is available and how much is used by your JVM?"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675339202,"post_id":75321805,"comment_id":132909747,"body_markdown":"Yes, the application will be doing heavy work all the time. Maximum heap memory available for JVM is 2093 MB (May increase during usage) but under normal conditions with less work, the JVM will be consuming around 800MB with 350 threads. Will this information suffice?","body":"Yes, the application will be doing heavy work all the time. Maximum heap memory available for JVM is 2093 MB (May increase during usage) but under normal conditions with less work, the JVM will be consuming around 800MB with 350 threads. Will this information suffice?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1675339960,"post_id":75321805,"comment_id":132910000,"body_markdown":"Check with Task manager memory.  You may have an object that is not being disposed.  If memory is constantly increasing that an object is not being disposed or the application is using more memory as time goes on.","body":"Check with Task manager memory.  You may have an object that is not being disposed.  If memory is constantly increasing that an object is not being disposed or the application is using more memory as time goes on."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675340256,"post_id":75321805,"comment_id":132910095,"body_markdown":"The above info is from the task manager only. Memory will increase during usage and will decrease after it. But the thing is PowerShell runs as a separate service when invoked from JVM in task manager. So, why is it running so slow?","body":"The above info is from the task manager only. Memory will increase during usage and will decrease after it. But the thing is PowerShell runs as a separate service when invoked from JVM in task manager. So, why is it running so slow?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675345969,"post_id":75321805,"comment_id":132912192,"body_markdown":"[This question](https://stackoverflow.com/q/74362226/2711488) seems to have a similar or even the same issue, a program running slower with `ProcessBuilder` than stand-alone. But again we have not enough information, i.e. code to reproduce the issue. At the moment, it’s not clear whether the issue is connected to the way you use the API (e.g. reading the pipe) or whether there’s a deeper problem with the API itself.","body":"<a href=\"https://stackoverflow.com/q/74362226/2711488\">This question</a> seems to have a similar or even the same issue, a program running slower with <code>ProcessBuilder</code> than stand-alone. But again we have not enough information, i.e. code to reproduce the issue. At the moment, it’s not clear whether the issue is connected to the way you use the API (e.g. reading the pipe) or whether there’s a deeper problem with the API itself."},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675359594,"post_id":75321805,"comment_id":132917246,"body_markdown":"Please add the basic powershell script too, or a simplified version. If you&#39;re just getting mailbox properties, include about how many mailboxes you process too. When running via processBuilder, are you launching multiple instances of powershell? Exchange Online has some tight throttling and concurrency limits per-user and per-tenant.","body":"Please add the basic powershell script too, or a simplified version. If you&#39;re just getting mailbox properties, include about how many mailboxes you process too. When running via processBuilder, are you launching multiple instances of powershell? Exchange Online has some tight throttling and concurrency limits per-user and per-tenant."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675399563,"post_id":75321805,"comment_id":132925122,"body_markdown":"Have added code snippets as requested. Please look into it. @Cpt.Whale","body":"Have added code snippets as requested. Please look into it. @Cpt.Whale"},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675438283,"post_id":75321805,"comment_id":132935328,"body_markdown":"Do you ever have more than one instance of powershell running? You may want to `Disconnect-ExchangeOnline` between. The majority of the performance there is going to be just the response time from EXO which can be pretty inconsistent, and always going to be pretty slow for all mailboxes. Since you&#39;re doing all mailboxes anyways, the ms graph reports might be better, `/reports/getMailboxUsageDetail(period=&#39;D7&#39;)` only takes a second or two for example for a few hundred mailboxes","body":"Do you ever have more than one instance of powershell running? You may want to <code>Disconnect-ExchangeOnline</code> between. The majority of the performance there is going to be just the response time from EXO which can be pretty inconsistent, and always going to be pretty slow for all mailboxes. Since you&#39;re doing all mailboxes anyways, the ms graph reports might be better, <code>&#47;reports&#47;getMailboxUsageDetail(period=&#39;D7&#39;)</code> only takes a second or two for example for a few hundred mailboxes"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675661105,"post_id":75321805,"comment_id":132969570,"body_markdown":"We do use the `/reports/getMailboxUsageDetail(period=&#39;D7&#39;)` API but it is archived data. For live data, we are using PowerShell. As you suggested we are not using `Disconnect-ExchangeOnline` command. However, I think the lag is not due to this as I have tested the same code in a separate JAVA file but the time lag was not there. The delay is only when executing this via our JVM environment with multiple threads even though memory allocation is sufficient and similar to standalone PowerShell console.","body":"We do use the <code>&#47;reports&#47;getMailboxUsageDetail(period=&#39;D7&#39;)</code> API but it is archived data. For live data, we are using PowerShell. As you suggested we are not using <code>Disconnect-ExchangeOnline</code> command. However, I think the lag is not due to this as I have tested the same code in a separate JAVA file but the time lag was not there. The delay is only when executing this via our JVM environment with multiple threads even though memory allocation is sufficient and similar to standalone PowerShell console."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1675786401,"post_id":75321805,"comment_id":133001800,"body_markdown":"In my own PB-PWSH tests I noticed two ways that speed was improved:  Use a more recent version of Powershell than v1.0, and trim excessive stdout. If writing huge reports, perhaps try adding `| Out-File -FilePath reportXYZ.csv` in appropriate places to generate directly to file within Powershell, and scan in Java afterwards. However I didn&#39;t see much difference between PB-PWSH vs PWSH.","body":"In my own PB-PWSH tests I noticed two ways that speed was improved:  Use a more recent version of Powershell than v1.0, and trim excessive stdout. If writing huge reports, perhaps try adding <code>| Out-File -FilePath reportXYZ.csv</code> in appropriate places to generate directly to file within Powershell, and scan in Java afterwards. However I didn&#39;t see much difference between PB-PWSH vs PWSH."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675833741,"post_id":75321805,"comment_id":133011145,"body_markdown":"`v1.0` is the folder name where `PowerShell.exe` is present. The Output will be around 50 lines only. Performance should not differ for 50 lines. Tried the `Out-File` method also, couldn&#39;t find any difference.","body":"<code>v1.0</code> is the folder name where <code>PowerShell.exe</code> is present. The Output will be around 50 lines only. Performance should not differ for 50 lines. Tried the <code>Out-File</code> method also, couldn&#39;t find any difference."},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675867794,"post_id":75321805,"comment_id":133020568,"body_markdown":"@Meiruko Are you running multiple EXO queries -at the same time- in different threads? Exchange online will suspend your connections if you open too many. Are you using a current version of the `ExchangeOnlineManagement` module?","body":"@Meiruko Are you running multiple EXO queries -at the same time- in different threads? Exchange online will suspend your connections if you open too many. Are you using a current version of the <code>ExchangeOnlineManagement</code> module?"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675917020,"post_id":75321805,"comment_id":133032070,"body_markdown":"@Cpt.Whale we are not running multiple queries at the same time. Exchange Online will allow only upto three simultaneous connections. We have suggested the below command for EXO for users.\n`Install-Module -Name ExchangeOnlineManagement -RequiredVersion 2.0.5`","body":"@Cpt.Whale we are not running multiple queries at the same time. Exchange Online will allow only upto three simultaneous connections. We have suggested the below command for EXO for users. <code>Install-Module -Name ExchangeOnlineManagement -RequiredVersion 2.0.5</code>"}],"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675406240,"creation_date":1675333858,"question_id":75321805,"body_markdown":"I&#39;m trying to execute a PowerShell script which retirves Exchange Online mailboxes. When running the script separately in PowerShell prompt and running the script via JAVA class file (in eclipse), the time taken is 5 minutes. But when invoking the script inside our application which is multi threaded JVM environment with huge heap memory, it takes almost double the time.\r\n\r\nWe are using ProcessBuilder to invoke the script and read the InuptStream. Only the script execution time is higher and parsing time is fast enough  in JAVA side. If any extra info needed, feel free to comment.\r\n\r\nI&#39;m quite new to JAVA ProcessBuilder. So, still trying to understand some concepts.\r\n\r\nI tried to trobleshoot in our environemnt but the issue seems to be of PowerShell side.\r\nI seacrhed everywhere about this but couldn&#39;t find any.\r\n\r\n\r\n**Edit**: We are fetching mailboxes and processing to sort top 10 mailboxes based on usage and top inactive mailboxes in desired format. Please find the **PowerShell snippet** requested below:\r\n\r\n    Import-Module ExchangeOnlineManagement -ErrorAction Stop -WarningAction SilentlyContinue\r\n    Connect-ExchangeOnline -ShowBanner:$false -Credential $credential -ErrorAction Stop -WarningAction SilentlyContinue\r\n    $mailboxes = $null\r\n    if ($metricsList -contains &quot;InactiveMailboxes&quot; -or $metricsList -contains &quot;TopMailboxes&quot;) {\r\n    $mailboxes = Get-EXOMailbox -ResultSize Unlimited -WarningAction SilentlyContinue | Where-Object { (!$_.Name.startswith(&quot;SystemMailbox&quot;)) -and (!$_.Name.startswith(&quot;FederatedEmail&quot;)) -and (!$_.Name.startswith(&quot;DiscoverySearchMailbox&quot;)) } | select -expand userprincipalname | Get-EXOMailboxStatistics -Properties DisplayName,ItemCount,TotalItemSize,LastLogonTime -WarningAction SilentlyContinue}\r\n\r\n    $inactivemailbox = $mailboxes | Where-Object { $_.LastLogonTime -ne $null } | Where-Object { $_.LastLogonTime -lt (Get-Date).AddDays(-30) } | Sort-Object LastLogonTime -Descending | Select-Object -First 100 | Select-Object DisplayName,LastLogonTime | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace(&#39;&quot;&#39;,&#39;&#39;) } | Select-Object -Skip 1\r\n\r\n    $topmailbox = $mailboxes | Sort-Object TotalItemSize -Descending | Select-Object -First 10 | Select-Object DisplayName,@{ Name = &quot;TotalItemSizeMB&quot;; expression = { [math]::Round(($_.TotalItemSize.ToString().split(&quot;(&quot;)[1].split(&quot; &quot;)[0].Replace(&quot;,&quot;,&quot;&quot;) / 1MB),2) } },ItemCount | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace(&#39;&quot;&#39;,&#39;&#39;) } | Select-Object -Skip 1\r\n\r\n**Java Code snippet**:\r\nWe are framing the script execution for ProcessBuilder like below for security reasons:\r\n\r\n    String POWERSHELL_PATH = System.getenv(&quot;SystemRoot&quot;) + File.separator + &quot;System32&quot; + File.separator + &quot;WindowsPowerShell&quot; + File.separator + &quot;v1.0&quot; + File.separator + &quot;powershell.exe&quot;;\r\n    ProcessBuilder pb = new ProcessBuilder(POWERSHELL_PATH);\r\n    List args = [-ExecutionPolicy, Bypass, -NoLogo, -NonInteractive, -NoProfile, -WindowStyle, Hidden, &quot;&amp;{&amp;, &#39;Script_With_Path&#39;, &#39;Comma separated args&#39; }&quot;]; // Sample values\r\n    pb.command().addAll(args);\r\n\r\nReading the InputStream as below:\r\n\r\n    BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    while((str = br.readLine()) != null) {\r\n    \tif(str.indexOf(&quot;Script execution time was exceeded&quot;)!=-1) {\r\n    \t\toutputBuff.append(&quot;Error # Script execution time was exceeded for the host&quot;); // NO I18N\r\n    \t\tbr.close();\r\n    \t\treturn;\r\n    \t}\r\n    \toutputBuff.append(str);\r\n    \toutputBuff.append(&quot;\\n&quot;); // NO I18N\r\n    }\r\n","title":"Why running a PowerShell script is slow inside a JVM multithreaded environment whereas it is faster otherwise?","body":"<p>I'm trying to execute a PowerShell script which retirves Exchange Online mailboxes. When running the script separately in PowerShell prompt and running the script via JAVA class file (in eclipse), the time taken is 5 minutes. But when invoking the script inside our application which is multi threaded JVM environment with huge heap memory, it takes almost double the time.</p>\n<p>We are using ProcessBuilder to invoke the script and read the InuptStream. Only the script execution time is higher and parsing time is fast enough  in JAVA side. If any extra info needed, feel free to comment.</p>\n<p>I'm quite new to JAVA ProcessBuilder. So, still trying to understand some concepts.</p>\n<p>I tried to trobleshoot in our environemnt but the issue seems to be of PowerShell side.\nI seacrhed everywhere about this but couldn't find any.</p>\n<p><strong>Edit</strong>: We are fetching mailboxes and processing to sort top 10 mailboxes based on usage and top inactive mailboxes in desired format. Please find the <strong>PowerShell snippet</strong> requested below:</p>\n<pre><code>Import-Module ExchangeOnlineManagement -ErrorAction Stop -WarningAction SilentlyContinue\nConnect-ExchangeOnline -ShowBanner:$false -Credential $credential -ErrorAction Stop -WarningAction SilentlyContinue\n$mailboxes = $null\nif ($metricsList -contains &quot;InactiveMailboxes&quot; -or $metricsList -contains &quot;TopMailboxes&quot;) {\n$mailboxes = Get-EXOMailbox -ResultSize Unlimited -WarningAction SilentlyContinue | Where-Object { (!$_.Name.startswith(&quot;SystemMailbox&quot;)) -and (!$_.Name.startswith(&quot;FederatedEmail&quot;)) -and (!$_.Name.startswith(&quot;DiscoverySearchMailbox&quot;)) } | select -expand userprincipalname | Get-EXOMailboxStatistics -Properties DisplayName,ItemCount,TotalItemSize,LastLogonTime -WarningAction SilentlyContinue}\n\n$inactivemailbox = $mailboxes | Where-Object { $_.LastLogonTime -ne $null } | Where-Object { $_.LastLogonTime -lt (Get-Date).AddDays(-30) } | Sort-Object LastLogonTime -Descending | Select-Object -First 100 | Select-Object DisplayName,LastLogonTime | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace('&quot;','') } | Select-Object -Skip 1\n\n$topmailbox = $mailboxes | Sort-Object TotalItemSize -Descending | Select-Object -First 10 | Select-Object DisplayName,@{ Name = &quot;TotalItemSizeMB&quot;; expression = { [math]::Round(($_.TotalItemSize.ToString().split(&quot;(&quot;)[1].split(&quot; &quot;)[0].Replace(&quot;,&quot;,&quot;&quot;) / 1MB),2) } },ItemCount | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace('&quot;','') } | Select-Object -Skip 1\n</code></pre>\n<p><strong>Java Code snippet</strong>:\nWe are framing the script execution for ProcessBuilder like below for security reasons:</p>\n<pre><code>String POWERSHELL_PATH = System.getenv(&quot;SystemRoot&quot;) + File.separator + &quot;System32&quot; + File.separator + &quot;WindowsPowerShell&quot; + File.separator + &quot;v1.0&quot; + File.separator + &quot;powershell.exe&quot;;\nProcessBuilder pb = new ProcessBuilder(POWERSHELL_PATH);\nList args = [-ExecutionPolicy, Bypass, -NoLogo, -NonInteractive, -NoProfile, -WindowStyle, Hidden, &quot;&amp;{&amp;, 'Script_With_Path', 'Comma separated args' }&quot;]; // Sample values\npb.command().addAll(args);\n</code></pre>\n<p>Reading the InputStream as below:</p>\n<pre><code>BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\nwhile((str = br.readLine()) != null) {\n    if(str.indexOf(&quot;Script execution time was exceeded&quot;)!=-1) {\n        outputBuff.append(&quot;Error # Script execution time was exceeded for the host&quot;); // NO I18N\n        br.close();\n        return;\n    }\n    outputBuff.append(str);\n    outputBuff.append(&quot;\\n&quot;); // NO I18N\n}\n</code></pre>\n"},{"tags":["java","javafx-2","javafx","java-3d","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384198839,"creation_date":1384127748,"answer_id":19896794,"question_id":19896562,"body_markdown":"Not in 2D world. But you can imitate card flip using two `ScaleTransition`s:\r\n\r\n    Rectangle front = new Rectangle(50, 50);\r\n\r\n    ScaleTransition stHideFront = new ScaleTransition(Duration.millis(1500), front);\r\n    stHideFront.setFromX(1);\r\n    stHideFront.setToX(0);\r\n\r\n    Rectangle back = new Rectangle(50, 50, Color.RED);\r\n    back.setScaleX(0);\r\n\r\n    ScaleTransition stShowBack = new ScaleTransition(Duration.millis(1500), back);\r\n    stShowBack.setFromX(0);\r\n    stShowBack.setToX(1);\r\n\r\n    stHideFront.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\r\n        @Override\r\n        public void handle(ActionEvent t) {\r\n            stShowBack.play();\r\n        }\r\n    });\r\n\r\n    StackPane root = new StackPane();\r\n    root.getChildren().addAll(front, back);\r\n    Scene scene = new Scene(root, 300, 250);\r\n    primaryStage.setScene(scene);\r\n\r\n    primaryStage.show();\r\n    stHideFront.play();","title":"Flip a card animation","body":"<p>Not in 2D world. But you can imitate card flip using two <code>ScaleTransition</code>s:</p>\n\n<pre><code>Rectangle front = new Rectangle(50, 50);\n\nScaleTransition stHideFront = new ScaleTransition(Duration.millis(1500), front);\nstHideFront.setFromX(1);\nstHideFront.setToX(0);\n\nRectangle back = new Rectangle(50, 50, Color.RED);\nback.setScaleX(0);\n\nScaleTransition stShowBack = new ScaleTransition(Duration.millis(1500), back);\nstShowBack.setFromX(0);\nstShowBack.setToX(1);\n\nstHideFront.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\n    @Override\n    public void handle(ActionEvent t) {\n        stShowBack.play();\n    }\n});\n\nStackPane root = new StackPane();\nroot.getChildren().addAll(front, back);\nScene scene = new Scene(root, 300, 250);\nprimaryStage.setScene(scene);\n\nprimaryStage.show();\nstHideFront.play();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1384170951,"creation_date":1384170951,"answer_id":19905744,"question_id":19896562,"body_markdown":"I like Sergey&#39;s solution, it is such a clever use of ScaleTransition and working in 2D means you don&#39;t need to deal with some of the complexities of 3D.\r\n\r\n-----\r\n\r\nHere a couple of 3D rotation samples.  \r\n\r\nRotates a 2D Node (an ImageView) round the Y axis (requires JavaFX 2.2 + 3D support). \r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class QuickFlip extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Node card = createCard();\r\n    \r\n            stage.setScene(createScene(card));\r\n            stage.show();\r\n    \r\n            RotateTransition rotator = createRotator(card);\r\n            rotator.play();\r\n        }\r\n    \r\n        private Scene createScene(Node card) {\r\n            StackPane root = new StackPane();\r\n            root.getChildren().addAll(card);\r\n    \r\n            Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\r\n            scene.setCamera(new PerspectiveCamera());\r\n    \r\n            return scene;\r\n        }\r\n    \r\n        private Node createCard() {\r\n            return new ImageView(\r\n                new Image(\r\n                    &quot;http://www.ohmz.net/wp-content/uploads/2012/05/Game-of-Throne-Magic-trading-cards-2.jpg&quot;\r\n                )\r\n            );\r\n        }\r\n    \r\n        private RotateTransition createRotator(Node card) {\r\n            RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\r\n            rotator.setAxis(Rotate.Y_AXIS);\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(360);\r\n            rotator.setInterpolator(Interpolator.LINEAR);\r\n            rotator.setCycleCount(10);\r\n    \r\n            return rotator;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n![Daenerys][1]\r\n\r\n-----\r\n\r\nRotates a 3D Node (a TriangleMesh) round the Y axis (requires Java 8 + 3D support).\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.*;\r\n    import javafx.scene.shape.*;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class CardFlip extends Application {\r\n        final Image CARD_IMAGE = new Image(\r\n            &quot;http://fc05.deviantart.net/fs70/i/2010/345/7/7/vitam_et_mortem_by_obviouschild-d34oni2.png&quot;\r\n            // sourced from: http://obviouschild.deviantart.com/art/Vitam-et-Mortem-189267194\r\n        );\r\n        final int W = (int) (CARD_IMAGE.getWidth()  / 2);\r\n        final int H = (int) CARD_IMAGE.getHeight();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Node card = createCard();\r\n    \r\n            stage.setScene(createScene(card));\r\n            stage.show();\r\n    \r\n            RotateTransition rotator = createRotator(card);\r\n            rotator.play();\r\n        }\r\n    \r\n        private Scene createScene(Node card) {\r\n            StackPane root = new StackPane();\r\n            root.getChildren().addAll(card, new AmbientLight(Color.WHITE));\r\n    \r\n            Scene scene = new Scene(root, W + 200, H + 200, true, SceneAntialiasing.BALANCED);\r\n            scene.setFill(Color.MIDNIGHTBLUE.darker().darker().darker().darker());\r\n            scene.setCamera(new PerspectiveCamera());\r\n    \r\n            return scene;\r\n        }\r\n    \r\n        private RotateTransition createRotator(Node card) {\r\n            RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\r\n            rotator.setAxis(Rotate.Y_AXIS);\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(360);\r\n            rotator.setInterpolator(Interpolator.LINEAR);\r\n            rotator.setCycleCount(10);\r\n    \r\n            return rotator;\r\n        }\r\n    \r\n        private Node createCard() {\r\n            MeshView card = new MeshView(createCardMesh());\r\n    \r\n            PhongMaterial material = new PhongMaterial();\r\n            material.setDiffuseMap(CARD_IMAGE);\r\n            card.setMaterial(material);\r\n    \r\n            return card;\r\n        }\r\n    \r\n        private TriangleMesh createCardMesh() {\r\n            TriangleMesh mesh = new TriangleMesh();\r\n    \r\n            mesh.getPoints().addAll(-1 * W/2, -1 * H/2 , 0, 1 * W/2, -1 * H/2, 0, -1 * W/2, 1 * H/2, 0, 1 * W/2, 1 * H/2, 0);\r\n            mesh.getFaces().addAll(0, 0, 2, 2, 3, 3, 3, 3, 1, 1, 0, 0);\r\n            mesh.getFaces().addAll(0, 4, 3, 7, 2, 6, 3, 7, 0, 4, 1, 5);\r\n            mesh.getTexCoords().addAll(0, 0, 0.5f, 0, 0, 1, 0.5f, 1, 0.5f, 0, 1, 0, 0.5f, 1, 1, 1);\r\n    \r\n            return mesh;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n![lightanddark][2]\r\n\r\n  [1]: http://i.stack.imgur.com/Gr2ya.png\r\n  [2]: http://i.stack.imgur.com/PWsac.png","title":"Flip a card animation","body":"<p>I like Sergey's solution, it is such a clever use of ScaleTransition and working in 2D means you don't need to deal with some of the complexities of 3D.</p>\n\n<hr>\n\n<p>Here a couple of 3D rotation samples.  </p>\n\n<p>Rotates a 2D Node (an ImageView) round the Y axis (requires JavaFX 2.2 + 3D support). </p>\n\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class QuickFlip extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Node card = createCard();\n\n        stage.setScene(createScene(card));\n        stage.show();\n\n        RotateTransition rotator = createRotator(card);\n        rotator.play();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card);\n\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private Node createCard() {\n        return new ImageView(\n            new Image(\n                \"http://www.ohmz.net/wp-content/uploads/2012/05/Game-of-Throne-Magic-trading-cards-2.jpg\"\n            )\n        );\n    }\n\n    private RotateTransition createRotator(Node card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n        rotator.setFromAngle(0);\n        rotator.setToAngle(360);\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(10);\n\n        return rotator;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Gr2ya.png\" alt=\"Daenerys\"></p>\n\n<hr>\n\n<p>Rotates a 3D Node (a TriangleMesh) round the Y axis (requires Java 8 + 3D support).</p>\n\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.*;\nimport javafx.scene.shape.*;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class CardFlip extends Application {\n    final Image CARD_IMAGE = new Image(\n        \"http://fc05.deviantart.net/fs70/i/2010/345/7/7/vitam_et_mortem_by_obviouschild-d34oni2.png\"\n        // sourced from: http://obviouschild.deviantart.com/art/Vitam-et-Mortem-189267194\n    );\n    final int W = (int) (CARD_IMAGE.getWidth()  / 2);\n    final int H = (int) CARD_IMAGE.getHeight();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Node card = createCard();\n\n        stage.setScene(createScene(card));\n        stage.show();\n\n        RotateTransition rotator = createRotator(card);\n        rotator.play();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card, new AmbientLight(Color.WHITE));\n\n        Scene scene = new Scene(root, W + 200, H + 200, true, SceneAntialiasing.BALANCED);\n        scene.setFill(Color.MIDNIGHTBLUE.darker().darker().darker().darker());\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private RotateTransition createRotator(Node card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n        rotator.setFromAngle(0);\n        rotator.setToAngle(360);\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(10);\n\n        return rotator;\n    }\n\n    private Node createCard() {\n        MeshView card = new MeshView(createCardMesh());\n\n        PhongMaterial material = new PhongMaterial();\n        material.setDiffuseMap(CARD_IMAGE);\n        card.setMaterial(material);\n\n        return card;\n    }\n\n    private TriangleMesh createCardMesh() {\n        TriangleMesh mesh = new TriangleMesh();\n\n        mesh.getPoints().addAll(-1 * W/2, -1 * H/2 , 0, 1 * W/2, -1 * H/2, 0, -1 * W/2, 1 * H/2, 0, 1 * W/2, 1 * H/2, 0);\n        mesh.getFaces().addAll(0, 0, 2, 2, 3, 3, 3, 3, 1, 1, 0, 0);\n        mesh.getFaces().addAll(0, 4, 3, 7, 2, 6, 3, 7, 0, 4, 1, 5);\n        mesh.getTexCoords().addAll(0, 0, 0.5f, 0, 0, 1, 0.5f, 1, 0.5f, 0, 1, 0, 0.5f, 1, 1, 1);\n\n        return mesh;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/PWsac.png\" alt=\"lightanddark\"></p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675405796,"creation_date":1675405796,"answer_id":75332233,"question_id":19896562,"body_markdown":"Here is an extension of @jewelsea&#39;s answer. This example shows one way to flip and show the back of the card. The way I thought of this was to change the `ImageView&#39;s` image at half the duration of the `RotateTransition`.\r\n\r\n```\r\nimport javafx.animation.*;\r\nimport javafx.application.Application;\r\nimport javafx.scene.*;\r\nimport javafx.scene.image.*;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class App extends Application {\r\n\r\n    boolean isFrontShowing = true;\r\n    Image frontImage = new Image(getClass().getResourceAsStream(&quot;image/front.jpg&quot;));\r\n    Image backImage = new Image(getClass().getResourceAsStream(&quot;image/back.jpg&quot;));\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        ImageView card = createCard();\r\n        card.setOnMouseClicked((t) -&gt; {\r\n            RotateTransition rotator = createRotator(card);\r\n            PauseTransition ptChangeCardFace = changeCardFace(card);\r\n            \r\n            ParallelTransition parallelTransition = new ParallelTransition(rotator, ptChangeCardFace);\r\n            parallelTransition.play();\r\n\r\n            isFrontShowing = !isFrontShowing;\r\n        });\r\n\r\n        stage.setScene(createScene(card));\r\n        stage.show();\r\n    }\r\n\r\n    private Scene createScene(Node card) {\r\n        StackPane root = new StackPane();\r\n        root.getChildren().addAll(card);\r\n\r\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\r\n        scene.setCamera(new PerspectiveCamera());\r\n\r\n        return scene;\r\n    }\r\n\r\n    private ImageView createCard() {\r\n        ImageView card = new ImageView(frontImage);\r\n\r\n        return card;\r\n    }\r\n\r\n    private RotateTransition createRotator(ImageView card) {\r\n        RotateTransition rotator = new RotateTransition(Duration.millis(1000), card);\r\n        rotator.setAxis(Rotate.Y_AXIS);\r\n\r\n        if (isFrontShowing) {\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(180);\r\n        } else {\r\n            rotator.setFromAngle(180);\r\n            rotator.setToAngle(360);\r\n        }\r\n        rotator.setInterpolator(Interpolator.LINEAR);\r\n        rotator.setCycleCount(1);\r\n\r\n        return rotator;\r\n    }\r\n\r\n    private PauseTransition changeCardFace(ImageView card) {\r\n        PauseTransition pause = new PauseTransition(Duration.millis(500));\r\n\r\n        if (isFrontShowing) {\r\n            pause.setOnFinished(\r\n                    e -&gt; {\r\n                        card.setImage(backImage);\r\n                    });\r\n        } else {\r\n            pause.setOnFinished(\r\n                    e -&gt; {\r\n                        card.setImage(frontImage);\r\n                    });\r\n        }\r\n\r\n        return pause;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LWdtU.gif","title":"Flip a card animation","body":"<p>Here is an extension of @jewelsea's answer. This example shows one way to flip and show the back of the card. The way I thought of this was to change the <code>ImageView's</code> image at half the duration of the <code>RotateTransition</code>.</p>\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class App extends Application {\n\n    boolean isFrontShowing = true;\n    Image frontImage = new Image(getClass().getResourceAsStream(&quot;image/front.jpg&quot;));\n    Image backImage = new Image(getClass().getResourceAsStream(&quot;image/back.jpg&quot;));\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ImageView card = createCard();\n        card.setOnMouseClicked((t) -&gt; {\n            RotateTransition rotator = createRotator(card);\n            PauseTransition ptChangeCardFace = changeCardFace(card);\n            \n            ParallelTransition parallelTransition = new ParallelTransition(rotator, ptChangeCardFace);\n            parallelTransition.play();\n\n            isFrontShowing = !isFrontShowing;\n        });\n\n        stage.setScene(createScene(card));\n        stage.show();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card);\n\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private ImageView createCard() {\n        ImageView card = new ImageView(frontImage);\n\n        return card;\n    }\n\n    private RotateTransition createRotator(ImageView card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(1000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n\n        if (isFrontShowing) {\n            rotator.setFromAngle(0);\n            rotator.setToAngle(180);\n        } else {\n            rotator.setFromAngle(180);\n            rotator.setToAngle(360);\n        }\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(1);\n\n        return rotator;\n    }\n\n    private PauseTransition changeCardFace(ImageView card) {\n        PauseTransition pause = new PauseTransition(Duration.millis(500));\n\n        if (isFrontShowing) {\n            pause.setOnFinished(\n                    e -&gt; {\n                        card.setImage(backImage);\n                    });\n        } else {\n            pause.setOnFinished(\n                    e -&gt; {\n                        card.setImage(frontImage);\n                    });\n        }\n\n        return pause;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LWdtU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWdtU.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1143417,"reputation":776,"user_id":1126722,"accept_rate":71,"display_name":"Cyberlurk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13357,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":19905744,"answer_count":3,"score":8,"last_activity_date":1675405796,"creation_date":1384126014,"question_id":19896562,"body_markdown":"I&#39;m trying to flip a coloured rectangle. Is it possible to use the rotateTransition to do this?\r\n\r\nI have tried the following code:\r\n    \r\n     public void rotateField(){\r\n        RotateTransition rt = new RotateTransition(Duration.millis(3000), field[4][4]);\r\n        rt.setByAngle(360);\r\n        rt.setCycleCount(1);\r\n        rt.play();\r\n    }\r\n\r\nHowever, this doesn&#39;t flip the rectangle, it just rotates it.\r\nI would like to actually flip the rectangle as you would flip a playing card. \r\n\r\nIs it possible to use the rotateTransition class for this?","title":"Flip a card animation","body":"<p>I'm trying to flip a coloured rectangle. Is it possible to use the rotateTransition to do this?</p>\n\n<p>I have tried the following code:</p>\n\n<pre><code> public void rotateField(){\n    RotateTransition rt = new RotateTransition(Duration.millis(3000), field[4][4]);\n    rt.setByAngle(360);\n    rt.setCycleCount(1);\n    rt.play();\n}\n</code></pre>\n\n<p>However, this doesn't flip the rectangle, it just rotates it.\nI would like to actually flip the rectangle as you would flip a playing card. </p>\n\n<p>Is it possible to use the rotateTransition class for this?</p>\n"},{"tags":["java","filenet-p8","filenet"],"answers":[{"tags":[],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675405770,"creation_date":1675405770,"answer_id":75332230,"question_id":75319857,"body_markdown":"So I eventually solved it myself, although I&#39;m sure there are better ways to do this.\r\n\r\n`fnService` is a class that essentially does what the code in the question does: creating a connection and executing an SQL query. The query doesn&#39;t really have to make much sense, even if it finds nothing it won&#39;t throw an exception. It will have to be valid SQL though.\r\n\r\n```java\r\n@Component\r\npublic class FilenetHealthIndicator implements HealthIndicator {\r\n    private final FilenetService fnService;\r\n\r\n    @Autowired\r\n    public FilenetHealthIndicator(FilenetService fnService) {\r\n        this.fnService = fnService;\r\n    }\r\n\r\n    @Override\r\n    public Health health() {\r\n        log.debug(&quot;Executing automated health check Filenet&quot;);\r\n\r\n        try {\r\n            //We try to make an SQL query, if something doesn&#39;t work it will throw an EngineRuntimeException\r\n            this.fnService.searchObjectStoreWithSqlQuery(&quot;SELECT Id FROM Document WHERE Id = &#39;{B1111111-1111-1111-AFB1-1111CD1DF11E}&#39;&quot;);\r\n        } catch (EngineRuntimeException e){\r\n            log.error(&quot;Automated health check cannot connect to Filenet&quot;);\r\n            return Health\r\n                    .down(e)\r\n                    .build();\r\n        }\r\n\r\n        log.debug(&quot;Automated health check to Filenet succeeded&quot;);\r\n        return Health\r\n                .up()\r\n                .build();\r\n    }\r\n}\r\n```","title":"How can I check if the connection to Filenet was successful?","body":"<p>So I eventually solved it myself, although I'm sure there are better ways to do this.</p>\n<p><code>fnService</code> is a class that essentially does what the code in the question does: creating a connection and executing an SQL query. The query doesn't really have to make much sense, even if it finds nothing it won't throw an exception. It will have to be valid SQL though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class FilenetHealthIndicator implements HealthIndicator {\n    private final FilenetService fnService;\n\n    @Autowired\n    public FilenetHealthIndicator(FilenetService fnService) {\n        this.fnService = fnService;\n    }\n\n    @Override\n    public Health health() {\n        log.debug(&quot;Executing automated health check Filenet&quot;);\n\n        try {\n            //We try to make an SQL query, if something doesn't work it will throw an EngineRuntimeException\n            this.fnService.searchObjectStoreWithSqlQuery(&quot;SELECT Id FROM Document WHERE Id = '{B1111111-1111-1111-AFB1-1111CD1DF11E}'&quot;);\n        } catch (EngineRuntimeException e){\n            log.error(&quot;Automated health check cannot connect to Filenet&quot;);\n            return Health\n                    .down(e)\n                    .build();\n        }\n\n        log.debug(&quot;Automated health check to Filenet succeeded&quot;);\n        return Health\n                .up()\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332230,"answer_count":1,"score":0,"last_activity_date":1675405770,"creation_date":1675322626,"question_id":75319857,"body_markdown":"My Spring Boot application should connect to Filenet, which it is doing fine with the Filenet Java SDK. Now I&#39;d like to implement a health indicator, to periodically check if the connection is still okey. Which leads me to my question:\r\n\r\n*How do I check if the connection to Filenet is successful?*\r\n\r\n**What I&#39;ve already tried**  \r\nCreating a connection and checking if I can get the ObjectStore, which always works and never throws any error:\r\n```Java\r\nConnection conn = com.filenet.api.core.Factory.Connection.getConnection(&quot;https://...&quot;);\r\nSubject subject = UserContext.createSubject(conn, &quot;User&quot;, &quot;password&quot;, &quot;jaasStanzaName&quot;);\r\nUserContext uc = UserContext.get();\r\nuc.pushSubject(subject);\r\nObjectStore os = Factory.ObjectStore.getInstance(Factory.Domain.getInstance(conn, null), &quot;objectStoreName&quot;);\r\n```\r\n\r\nTrying to do any SQL query works sort of, because it throws an `EngineRuntimeException`.\r\n\r\n```java\r\n// Same connection as above\r\nSearchSQL sqlObject = new SearchSQL(&quot;SELECT * FROM ...&quot;);\r\nSearchScope searchScope = new SearchScope(conn.getObjectStore());\r\nIndependentObjectSet results = searchScope.fetchObjects(sqlObject, null, filter, true);\r\n```\r\nBut using an Exception for logic and method flows seems to me like bad code.\r\n\r\n*So are there any good methods or tried practices that I am missing?*\r\n\r\nThanks in advance","title":"How can I check if the connection to Filenet was successful?","body":"<p>My Spring Boot application should connect to Filenet, which it is doing fine with the Filenet Java SDK. Now I'd like to implement a health indicator, to periodically check if the connection is still okey. Which leads me to my question:</p>\n<p><em>How do I check if the connection to Filenet is successful?</em></p>\n<p><strong>What I've already tried</strong><br />\nCreating a connection and checking if I can get the ObjectStore, which always works and never throws any error:</p>\n<pre><code>Connection conn = com.filenet.api.core.Factory.Connection.getConnection(&quot;https://...&quot;);\nSubject subject = UserContext.createSubject(conn, &quot;User&quot;, &quot;password&quot;, &quot;jaasStanzaName&quot;);\nUserContext uc = UserContext.get();\nuc.pushSubject(subject);\nObjectStore os = Factory.ObjectStore.getInstance(Factory.Domain.getInstance(conn, null), &quot;objectStoreName&quot;);\n</code></pre>\n<p>Trying to do any SQL query works sort of, because it throws an <code>EngineRuntimeException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Same connection as above\nSearchSQL sqlObject = new SearchSQL(&quot;SELECT * FROM ...&quot;);\nSearchScope searchScope = new SearchScope(conn.getObjectStore());\nIndependentObjectSet results = searchScope.fetchObjects(sqlObject, null, filter, true);\n</code></pre>\n<p>But using an Exception for logic and method flows seems to me like bad code.</p>\n<p><em>So are there any good methods or tried practices that I am missing?</em></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":3581588,"reputation":1354,"user_id":2989680,"display_name":"Carlo Espino"},"score":0,"creation_date":1533571498,"post_id":51707267,"comment_id":90384528,"body_markdown":"What is the version of you MongoDB Compass?","body":"What is the version of you MongoDB Compass?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1533620675,"post_id":51707267,"comment_id":90399853,"body_markdown":"I am using 1.14.6 version of Compass","body":"I am using 1.14.6 version of Compass"}],"answers":[{"tags":[],"owner":{"account_id":3581588,"reputation":1354,"user_id":2989680,"display_name":"Carlo Espino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533571328,"creation_date":1533570807,"answer_id":51711465,"question_id":51707267,"body_markdown":"Please try with:\r\n\r\n\r\n    Hostname: experimental-1-epdri.mongodb.net\r\n    SRV Record: checked\r\n    Authentication: Username / Password\r\n    Username: admin_eventdb\r\n    Password: &lt;PASSWORD&gt;\r\n    Authentication Database: admin\r\n    Replica Set Name:\r\n    Read Preference: Primary\r\n    SSL: System CA / Atlas Deployment\r\n    SSL Tunnel: None\r\n\r\n\r\n","title":"MongoDB atlas, connection not working","body":"<p>Please try with:</p>\n\n<pre><code>Hostname: experimental-1-epdri.mongodb.net\nSRV Record: checked\nAuthentication: Username / Password\nUsername: admin_eventdb\nPassword: &lt;PASSWORD&gt;\nAuthentication Database: admin\nReplica Set Name:\nRead Preference: Primary\nSSL: System CA / Atlas Deployment\nSSL Tunnel: None\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624126953,"creation_date":1538522719,"answer_id":52617710,"question_id":51707267,"body_markdown":"I had the same [issue][1]. Via connection string using Java Driver 3.4 it would be:\r\n\r\n\r\n    mongodb://user:&lt;PASSWORD&gt;@cluster0-shard-00-00-ox90k.mongodb.net:27017,cluster0-shard-00-01-ox90k.mongodb.net:27017,cluster0-shard-00-02-ox90k.mongodb.net:27017/test?ssl=true&amp;replicaSet=Cluster0-shard-0&amp;authSource=admin&amp;retryWrites=true\r\n    \r\n\r\n[![!\\[enter image description here][2]][2]\r\n\r\n\r\nInstead of `&lt;PASSWORD&gt;` I wrote own password. `admin1`is my admin-user.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n----------\r\n**Updated:** if you want to use drivers `3.7+`, you need to write instead of format connection (and to avoid my issues above)\r\n\r\n    MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\r\n    MongoClient mongoClient = new MongoClient(uri);\r\n\r\nanother variant using `MongoClients.create()` [(as of the 3.7 release),][4]:\r\n\r\n       MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\r\n\r\n\r\n**Note:** the password need to write not like `mongodb://user:&lt;mypassword&gt;@...`, just in format `mongodb://user:mypassword@...` without braces `&lt;&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51042704/8370915\r\n  [2]: https://i.stack.imgur.com/D6wbd.png\r\n  [3]: https://i.stack.imgur.com/p8O6X.png\r\n  [4]: https://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/connect-to-mongodb/","title":"MongoDB atlas, connection not working","body":"<p>I had the same <a href=\"https://stackoverflow.com/a/51042704/8370915\">issue</a>. Via connection string using Java Driver 3.4 it would be:</p>\n<pre><code>mongodb://user:&lt;PASSWORD&gt;@cluster0-shard-00-00-ox90k.mongodb.net:27017,cluster0-shard-00-01-ox90k.mongodb.net:27017,cluster0-shard-00-02-ox90k.mongodb.net:27017/test?ssl=true&amp;replicaSet=Cluster0-shard-0&amp;authSource=admin&amp;retryWrites=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D6wbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6wbd.png\" alt=\"![enter image description here\" /></a></p>\n<p>Instead of <code>&lt;PASSWORD&gt;</code> I wrote own password. <code>admin1</code>is my admin-user.\n<a href=\"https://i.stack.imgur.com/p8O6X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p8O6X.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Updated:</strong> if you want to use drivers <code>3.7+</code>, you need to write instead of format connection (and to avoid my issues above)</p>\n<pre><code>MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\nMongoClient mongoClient = new MongoClient(uri);\n</code></pre>\n<p>another variant using <code>MongoClients.create()</code> <a href=\"https://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/connect-to-mongodb/\" rel=\"nofollow noreferrer\">(as of the 3.7 release),</a>:</p>\n<pre><code>   MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\n</code></pre>\n<p><strong>Note:</strong> the password need to write not like <code>mongodb://user:&lt;mypassword&gt;@...</code>, just in format <code>mongodb://user:mypassword@...</code> without braces <code>&lt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":17656603,"reputation":9583,"user_id":12816049,"display_name":"Rafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590390708,"creation_date":1590390708,"answer_id":61997446,"question_id":51707267,"body_markdown":"**for Node.js** : checkout https://stackoverflow.com/questions/55971993/atlas-mongodb-connection/61997396#61997396\r\n\r\n```\r\nconst mongoose = require(&#39;mongoose&#39;);\r\nconst conStr = &#39;mongodb+srv://lord:&lt;password&gt;@cluster5-eeev8.mongodb.net/test?retryWrites=true&amp;w=majority&#39;\r\n\r\nconst DB = conStr.replace(\r\n  &#39;&lt;password&gt;&#39;,\r\n  myPass\r\n);\r\n\r\nconst DB = conStr.replace(\r\n  &#39;test&#39;,\r\n  myDatabaseName\r\n);\r\n//remember mongoose.connect() return promise\r\nmongoose\r\n  .connect(DB, {\r\n    usedNewUrlParser: true,\r\n    useCreateIndex: true,\r\n    useFindAndModify: false,\r\n  })\r\n  .then((con) =&gt; {\r\n    console.log(con.connection);\r\n    console.log(&#39;DB connection successful&#39;);\r\n  });\r\n```\r\n","title":"MongoDB atlas, connection not working","body":"<p><strong>for Node.js</strong> : checkout <a href=\"https://stackoverflow.com/questions/55971993/atlas-mongodb-connection/61997396#61997396\">Atlas MongoDB connection</a></p>\n\n<pre><code>const mongoose = require('mongoose');\nconst conStr = 'mongodb+srv://lord:&lt;password&gt;@cluster5-eeev8.mongodb.net/test?retryWrites=true&amp;w=majority'\n\nconst DB = conStr.replace(\n  '&lt;password&gt;',\n  myPass\n);\n\nconst DB = conStr.replace(\n  'test',\n  myDatabaseName\n);\n//remember mongoose.connect() return promise\nmongoose\n  .connect(DB, {\n    usedNewUrlParser: true,\n    useCreateIndex: true,\n    useFindAndModify: false,\n  })\n  .then((con) =&gt; {\n    console.log(con.connection);\n    console.log('DB connection successful');\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593413163,"creation_date":1593413163,"answer_id":62632614,"question_id":51707267,"body_markdown":"Just tried to use Atlas.  This is the configuration that worked for me with Spring Boot 2.3.1.RELEASE\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          database: sample_training \r\n          uri: mongodb+srv://&lt;user&gt;:&lt;pass&gt;@cluster0-hosturl.aws|gcp.mongodb.net/?retryWrites=true&amp;w=majority\r\n\r\n","title":"MongoDB atlas, connection not working","body":"<p>Just tried to use Atlas.  This is the configuration that worked for me with Spring Boot 2.3.1.RELEASE</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: sample_training \n      uri: mongodb+srv://&lt;user&gt;:&lt;pass&gt;@cluster0-hosturl.aws|gcp.mongodb.net/?retryWrites=true&amp;w=majority\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485984,"reputation":61,"user_id":7052355,"display_name":"Rakesh Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675405667,"creation_date":1660894213,"answer_id":73413259,"question_id":51707267,"body_markdown":"    I point I mentioned\r\n    \r\n    Please login to mongodb atlas\r\n    1.go to security section\r\n    2.network access\r\n    Then allow anywhere access that it&#39;s may be helps. ","title":"MongoDB atlas, connection not working","body":"<pre><code>I point I mentioned\n\nPlease login to mongodb atlas\n1.go to security section\n2.network access\nThen allow anywhere access that it's may be helps. \n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12321,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1675405667,"creation_date":1533557181,"question_id":51707267,"body_markdown":"I just created a free MongoDB atlas cluster instance. But somehow I am failing to connect it from my application as well as from the MongoDB Compas.\n\nI get below error when I try to run my application.\n\n    Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=experimental-1-epdri.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: experimental-1-epdri.mongodb.net}, caused by {java.net.UnknownHostException: experimental-1-epdri.mongodb.net}}]\n        at com.mongodb.connection.BaseCluster.createTimeoutException(BaseCluster.java:377) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.connection.BaseCluster.selectServer(BaseCluster.java:104) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:75) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding.getWriteConnectionSource(ClusterBinding.java:68) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:411) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:144) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.Mongo.execute(Mongo.java:845) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.Mongo$2.execute(Mongo.java:828) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:491) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:458) ~[mongodb-driver-3.4.2.jar:na]\n        at org.axonframework.mongo.eventsourcing.eventstore.AbstractMongoEventStorageStrategy.ensureIndexes(AbstractMongoEventStorageStrategy.java:201) ~[axon-mongo-3.0.5.jar:3.0.5]\n        at org.axonframework.mongo.eventsourcing.eventstore.MongoEventStorageEngine.ensureIndexes(MongoEventStorageEngine.java:123) ~[axon-mongo-3.0.5.jar:3.0.5]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        ... 76 common frames omitted\n    \n    \n    Process finished with exit code 1\n\nOn Compas it simply says MongoDB instance isn&#39;t running at this place. I have checked my cluster and I see below. \n\n[![Seems like it is up..][1]][1]\n\nBut still I can&#39;t connect to mongo cluster. Further more I tried with `Mongo CLI as well where I found error as shown below.\n[![Error while connecting using CLI.][2]][2]\n\nBelow is the connection string that I get from the MongoDB atlas page.\n\n`mongodb+srv://admin_eventdb:&lt;PASSWORD&gt;@experimental-1-epdri.mongodb.net/test?retryWrites=true`\n\nPlease help solve this.\n\n  [1]: https://i.stack.imgur.com/bwitV.png\n  [2]: https://i.stack.imgur.com/T1Bfu.png","title":"MongoDB atlas, connection not working","body":"<p>I just created a free MongoDB atlas cluster instance. But somehow I am failing to connect it from my application as well as from the MongoDB Compas.</p>\n<p>I get below error when I try to run my application.</p>\n<pre><code>Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=experimental-1-epdri.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: experimental-1-epdri.mongodb.net}, caused by {java.net.UnknownHostException: experimental-1-epdri.mongodb.net}}]\n    at com.mongodb.connection.BaseCluster.createTimeoutException(BaseCluster.java:377) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.connection.BaseCluster.selectServer(BaseCluster.java:104) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:75) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding.getWriteConnectionSource(ClusterBinding.java:68) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:411) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:144) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.Mongo.execute(Mongo.java:845) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.Mongo$2.execute(Mongo.java:828) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:491) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:458) ~[mongodb-driver-3.4.2.jar:na]\n    at org.axonframework.mongo.eventsourcing.eventstore.AbstractMongoEventStorageStrategy.ensureIndexes(AbstractMongoEventStorageStrategy.java:201) ~[axon-mongo-3.0.5.jar:3.0.5]\n    at org.axonframework.mongo.eventsourcing.eventstore.MongoEventStorageEngine.ensureIndexes(MongoEventStorageEngine.java:123) ~[axon-mongo-3.0.5.jar:3.0.5]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    ... 76 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>On Compas it simply says MongoDB instance isn't running at this place. I have checked my cluster and I see below.</p>\n<p><a href=\"https://i.stack.imgur.com/bwitV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwitV.png\" alt=\"Seems like it is up..\" /></a></p>\n<p>But still I can't connect to mongo cluster. Further more I tried with `Mongo CLI as well where I found error as shown below.\n<a href=\"https://i.stack.imgur.com/T1Bfu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1Bfu.png\" alt=\"Error while connecting using CLI.\" /></a></p>\n<p>Below is the connection string that I get from the MongoDB atlas page.</p>\n<p><code>mongodb+srv://admin_eventdb:&lt;PASSWORD&gt;@experimental-1-epdri.mongodb.net/test?retryWrites=true</code></p>\n<p>Please help solve this.</p>\n"},{"tags":["java","string","jvm","constants"],"comments":[{"owner":{"account_id":66671,"reputation":3328,"user_id":2591612,"accept_rate":96,"display_name":"Engineer2021"},"score":0,"creation_date":1398279431,"post_id":23252767,"comment_id":35581477,"body_markdown":"https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool?rq=1","body":"<a href=\"https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool?rq=1\" title=\"regarding java string constant pool\">stackoverflow.com/questions/5457146/&hellip;</a>"},{"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"score":0,"creation_date":1398279696,"post_id":23252767,"comment_id":35581618,"body_markdown":"possible duplicate of [When should we use intern method of String on String constants](http://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string-on-string-constants)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string-on-string-constants\">When should we use intern method of String on String constants</a>"}],"answers":[{"tags":[],"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398280082,"creation_date":1398279323,"answer_id":23252917,"question_id":23252767,"body_markdown":"There is only one string pool, and all string literals are automatically interned.  \r\nAlso, there are other pools for autoboxing and such.\r\n\r\nThe constant pool is where those literals are put for the class.","title":"String pool vs Constant pool","body":"<p>There is only one string pool, and all string literals are automatically interned.<br>\nAlso, there are other pools for autoboxing and such.</p>\n\n<p>The constant pool is where those literals are put for the class.</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1398280363,"creation_date":1398280036,"answer_id":23253122,"question_id":23252767,"body_markdown":"&gt; My questions are,\n&gt;\n&gt; 1. Does string pool refers to the pool of constant string object in the constant pool?\n\nNo.\n\n&quot;Constant pool&quot; refers to a specially formatted collection of bytes in a class file that has meaning to the Java class loader.  The &quot;strings&quot; in it are [serialized](http://en.wikipedia.org/wiki/Serialization), they are not Java objects.  There are also many kinds of constants, not just strings in it.\n\nSee [Chapter 4.4 the constant pool table](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4)\n\n&gt; Java Virtual Machine instructions do not rely on the run-time layout of classes, interfaces, class instances, or arrays. Instead, instructions refer to symbolic information in the `constant_pool` table.\n\nIn contrast, the &quot;String pool&quot; is used at runtime (not just during class loading), **contains only strings**, and the &quot;strings&quot; in the string pool are java objects.\nThe &quot;string pool&quot; is a thread-safe weak-map from `java.lang.String` instances to `java.lang.String` instances used to intern strings.\n\n[Chapter 3.10.5. String Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5) says\n\n&gt; A string literal is a reference to an instance of class `String` (&#167;4.3.1, &#167;4.3.3).\n&gt;\n&gt; Moreover, a string literal always refers to the **same** instance of class `String`. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method `String.intern`.","title":"String pool vs Constant pool","body":"<blockquote>\n<p>My questions are,</p>\n<ol>\n<li>Does string pool refers to the pool of constant string object in the constant pool?</li>\n</ol>\n</blockquote>\n<p>No.</p>\n<p>&quot;Constant pool&quot; refers to a specially formatted collection of bytes in a class file that has meaning to the Java class loader.  The &quot;strings&quot; in it are <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"noreferrer\">serialized</a>, they are not Java objects.  There are also many kinds of constants, not just strings in it.</p>\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4\" rel=\"noreferrer\">Chapter 4.4 the constant pool table</a></p>\n<blockquote>\n<p>Java Virtual Machine instructions do not rely on the run-time layout of classes, interfaces, class instances, or arrays. Instead, instructions refer to symbolic information in the <code>constant_pool</code> table.</p>\n</blockquote>\n<p>In contrast, the &quot;String pool&quot; is used at runtime (not just during class loading), <strong>contains only strings</strong>, and the &quot;strings&quot; in the string pool are java objects.\nThe &quot;string pool&quot; is a thread-safe weak-map from <code>java.lang.String</code> instances to <code>java.lang.String</code> instances used to intern strings.</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">Chapter 3.10.5. String Literals</a> says</p>\n<blockquote>\n<p>A string literal is a reference to an instance of class <code>String</code> (§4.3.1, §4.3.3).</p>\n<p>Moreover, a string literal always refers to the <strong>same</strong> instance of class <code>String</code>. This is because string literals - or, more generally, strings that are the values of constant expressions (§15.28) - are &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27475651,"reputation":1,"user_id":20963703,"display_name":"Bruce_he"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405649,"creation_date":1675403826,"answer_id":75332009,"question_id":23252767,"body_markdown":"constans_pool(all constans, including Strings) is a data structure in class file(out of JVM). \r\nWhen class file is loaded into JVM, then constans_pool -&gt; run-time constans_pool(General), in hotspot &amp; SE8:\r\n1. Strings in constans_pool will be stored in Heap, and we call it string-pool;  https://openjdk.org/jeps/122    https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects\r\n2. the other data in constans_pool will be stored in native-memory(Metaspace),and we call it run-time constans_pool(Special).","title":"String pool vs Constant pool","body":"<p>constans_pool(all constans, including Strings) is a data structure in class file(out of JVM).\nWhen class file is loaded into JVM, then constans_pool -&gt; run-time constans_pool(General), in hotspot &amp; SE8:</p>\n<ol>\n<li>Strings in constans_pool will be stored in Heap, and we call it string-pool;  <a href=\"https://openjdk.org/jeps/122\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/122</a>    <a href=\"https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects</a></li>\n<li>the other data in constans_pool will be stored in native-memory(Metaspace),and we call it run-time constans_pool(Special).</li>\n</ol>\n"}],"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13814,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":23253122,"answer_count":3,"score":24,"last_activity_date":1675405649,"creation_date":1398278815,"question_id":23252767,"body_markdown":"Let&#39;s look at the folloing code snippet:\r\n\r\n      String s1 = &quot;Hello&quot;;\r\n      String s2 = &quot;Hello&quot;; \r\n\r\nBoth variables refer to the same object due to interning. Since strings are immutable, only one object is created and both refer to the same object.\r\n\r\nA `constant pool` is also something, which holds all the constants (integer, string, etc.) that are declared in a class. It is specific to each class.\r\n\r\n     System.out.println(&quot;Hello&quot;);  // I believe this Hello is different from above.\r\n\r\n  \r\n**Questions:**\r\n   \r\n   1. Does `string pool` refer to the pool of a constant string object in the constant pool?\r\n   2. If yes, is *String pool* common throughout the whole application or specific to a class?","title":"String pool vs Constant pool","body":"<p>Let's look at the folloing code snippet:</p>\n\n<pre><code>  String s1 = \"Hello\";\n  String s2 = \"Hello\"; \n</code></pre>\n\n<p>Both variables refer to the same object due to interning. Since strings are immutable, only one object is created and both refer to the same object.</p>\n\n<p>A <code>constant pool</code> is also something, which holds all the constants (integer, string, etc.) that are declared in a class. It is specific to each class.</p>\n\n<pre><code> System.out.println(\"Hello\");  // I believe this Hello is different from above.\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Does <code>string pool</code> refer to the pool of a constant string object in the constant pool?</li>\n<li>If yes, is <em>String pool</em> common throughout the whole application or specific to a class?</li>\n</ol>\n"},{"tags":["java","spring-boot","apache-pulsar","pulsar","spring-pulsar"],"answers":[{"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675405312,"creation_date":1675405312,"answer_id":75332174,"question_id":75330621,"body_markdown":"cho ,\r\nWelcome to Pulsar and Spring Pulsar! I believe there are a few things to cover to fully answer your question.\r\n\r\n### Spring Pulsar Usage\r\nIn your example you are crafting a Producer directly from the PulsarClient. There is absolutely nothing wrong/bad about using that API directly. However, if you want to use Spring Pulsar, the recommended approach to send messages in a Spring Boot app using Spring Pulsar is via the auto-configured `PulsarTemplate` (or `ReactivePulsarTemplate` if using Reactive). It simplifies usage and allows configuring the template/producer using configuration properties. For example, instead of building up and then using `Producer.send()` you would instead inject the pulsar template and use it as follows:\r\n```java\r\npulsarTemplate.newMessage(foo)\r\n    .withTopic(&quot;Json_Test&quot;)\r\n    .withSchema(Schema.JSON(Foo.class))\r\n    .withProducerCustomizer((producerBuilder) -&gt; {\r\n      producerBuilder\r\n          .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\r\n          .batchingMaxMessages(2)\r\n          .enableBatching(true)\r\n          .compressionType(CompressionType.LZ4);\r\n    })\r\n    .send();\r\n```\r\nFurthermore you can replace the builder calls w/ configuration properties like:\r\n```yaml\r\nspring:\r\n  pulsar:\r\n    producer:\r\n      batching-enabled: true\r\n      batching-max-publish-delay: 60s\r\n      batching-max-messages: 2\r\n      compression-type: lz4\r\n```\r\nand then your code becomes:\r\n```java\r\npulsarTemplate.newMessage(foo)\r\n    .withTopic(&quot;Json_Test&quot;)\r\n    .withSchema(Schema.JSON(Foo.class))\r\n    .send();\r\n```\r\n**NOTE:** I replace json array w/ Foo for simplicity.\r\n\r\n### Schemas\r\nIn Pulsar, the [Schema](https://pulsar.apache.org/docs/2.10.x/schema-get-started/) knows how to de/serialize the data. The built-in Pulsar `Schema.JSON` by default uses the Jackson json lib to de/serialize the data. This requires that the data must be able to be handled by Jackson `ObjectMapper.readValue/writeValue` methods. It handles POJOs really well, but does not handle the JSON impl you are using.  \r\n\r\nI noticed the latest `json-lib` is `2.4` and (AFAICT) has [9 CVEs](https://mvnrepository.com/artifact/net.sf.json-lib/json-lib/2.4) against it and was last released in 2010. If I had to use a Json level API for my data I would pick a more contemporary and well supported / used lib such as Jackson or Gson. \r\n\r\nI switched your sample to use Jackson ArrayNode and it worked well. I did have to replace the single quotes in your data string to backslash double-quote as Jackson by default does not like single-quoted data. Here is the re-worked sample app using Jackson ArrayNode:\r\n```\r\n@SpringBootApplication\r\npublic class HyunginChoSpringPulsarUserApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner sendDataOnStartup(PulsarTemplate&lt;ArrayNode&gt; pulsarTemplate) {\r\n\t\treturn (args) -&gt; {\r\n\t\t\tString data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\r\n\t\t\tArrayNode jsonArray = (ArrayNode) ObjectMapperFactory.create().readTree(data2).get(&quot;users&quot;);\r\n\t\t\tSystem.out.printf(&quot;*** SENDING: %s%n&quot;, jsonArray);\r\n\t\t\tpulsarTemplate.newMessage(jsonArray)\r\n\t\t\t\t\t.withTopic(&quot;Json_Test&quot;)\r\n\t\t\t\t\t.withSchema(Schema.JSON(ArrayNode.class))\r\n\t\t\t\t\t.send();\r\n\t\t};\r\n\t}\r\n\r\n\t@PulsarListener(topics = &quot;Json_Test&quot;, schemaType = SchemaType.JSON, batch = true)\r\n\tpublic void listenForData(List&lt;ArrayNode&gt; user) {\r\n\t\tSystem.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user));\r\n\t}\r\n}\r\n```\r\nThe output looks like:\r\n```\r\n*** SENDING: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\r\n\r\n***** LISTEN: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\r\n```\r\n\r\n### Data Model\r\nYour data is an array of users. Do you have a requirement to use a Json level API or you instead deal with a `List&lt;User&gt;` POJOs? This would simplify things and make it much better experience to use. The Java record is a great choice such as: \r\n```java\r\npublic record(String userId, String firstName) {}\r\n```\r\nthen you can pass in a `List&lt;User&gt;` to your PulsarTemplate and everything will work well. For example:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class HyunginChoSpringPulsarUserApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner sendDataOnStartup(PulsarTemplate&lt;User&gt; pulsarTemplate) {\r\n\t\treturn (args) -&gt; {\r\n\t\t\tString data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\r\n\t\t\tObjectMapper objectMapper = ObjectMapperFactory.create();\r\n\t\t\tJsonNode usersNode = objectMapper.readTree(data2).get(&quot;users&quot;);\r\n\t\t\tList&lt;User&gt; users = objectMapper.convertValue(usersNode, new TypeReference&lt;&gt;() {});\r\n\t\t\tSystem.out.printf(&quot;*** SENDING: %s%n&quot;, users);\r\n\t\t\tfor (User user : users) {\r\n\t\t\t\tpulsarTemplate.newMessage(user)\r\n\t\t\t\t\t\t.withTopic(&quot;Json_Test2&quot;)\r\n\t\t\t\t\t\t.withSchema(Schema.JSON(User.class))\r\n\t\t\t\t\t\t.send();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@PulsarListener(topics = &quot;Json_Test2&quot;, schemaType = SchemaType.JSON, batch = true)\r\n\tpublic void listenForData(List&lt;User&gt; users) {\r\n\t\tusers.forEach((user) -&gt; System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user)));\r\n\t}\r\n\r\n\tpublic record User(String userId, String firstName) {}\r\n}\r\n```\r\n\r\n```\r\n*** SENDING: [User[userId=1, firstName=AAAAA], User[userId=2, firstName=BBBB], User[userId=3, firstName=CCCCC], User[userId=4, firstName=DDDDD], User[userId=5, firstName=EEEEE]]\r\n...\r\n***** LISTEN: User[userId=1, firstName=AAAAA]\r\n***** LISTEN: User[userId=2, firstName=BBBB]\r\n***** LISTEN: User[userId=3, firstName=CCCCC]\r\n***** LISTEN: User[userId=4, firstName=DDDDD]\r\n***** LISTEN: User[userId=5, firstName=EEEEE]\r\n```\r\nI hope this helps. Take care.","title":"How to send JsonArray data in apache-pulsar-client?","body":"<p>cho ,\nWelcome to Pulsar and Spring Pulsar! I believe there are a few things to cover to fully answer your question.</p>\n<h3>Spring Pulsar Usage</h3>\n<p>In your example you are crafting a Producer directly from the PulsarClient. There is absolutely nothing wrong/bad about using that API directly. However, if you want to use Spring Pulsar, the recommended approach to send messages in a Spring Boot app using Spring Pulsar is via the auto-configured <code>PulsarTemplate</code> (or <code>ReactivePulsarTemplate</code> if using Reactive). It simplifies usage and allows configuring the template/producer using configuration properties. For example, instead of building up and then using <code>Producer.send()</code> you would instead inject the pulsar template and use it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pulsarTemplate.newMessage(foo)\n    .withTopic(&quot;Json_Test&quot;)\n    .withSchema(Schema.JSON(Foo.class))\n    .withProducerCustomizer((producerBuilder) -&gt; {\n      producerBuilder\n          .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\n          .batchingMaxMessages(2)\n          .enableBatching(true)\n          .compressionType(CompressionType.LZ4);\n    })\n    .send();\n</code></pre>\n<p>Furthermore you can replace the builder calls w/ configuration properties like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  pulsar:\n    producer:\n      batching-enabled: true\n      batching-max-publish-delay: 60s\n      batching-max-messages: 2\n      compression-type: lz4\n</code></pre>\n<p>and then your code becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pulsarTemplate.newMessage(foo)\n    .withTopic(&quot;Json_Test&quot;)\n    .withSchema(Schema.JSON(Foo.class))\n    .send();\n</code></pre>\n<p><strong>NOTE:</strong> I replace json array w/ Foo for simplicity.</p>\n<h3>Schemas</h3>\n<p>In Pulsar, the <a href=\"https://pulsar.apache.org/docs/2.10.x/schema-get-started/\" rel=\"nofollow noreferrer\">Schema</a> knows how to de/serialize the data. The built-in Pulsar <code>Schema.JSON</code> by default uses the Jackson json lib to de/serialize the data. This requires that the data must be able to be handled by Jackson <code>ObjectMapper.readValue/writeValue</code> methods. It handles POJOs really well, but does not handle the JSON impl you are using.</p>\n<p>I noticed the latest <code>json-lib</code> is <code>2.4</code> and (AFAICT) has <a href=\"https://mvnrepository.com/artifact/net.sf.json-lib/json-lib/2.4\" rel=\"nofollow noreferrer\">9 CVEs</a> against it and was last released in 2010. If I had to use a Json level API for my data I would pick a more contemporary and well supported / used lib such as Jackson or Gson.</p>\n<p>I switched your sample to use Jackson ArrayNode and it worked well. I did have to replace the single quotes in your data string to backslash double-quote as Jackson by default does not like single-quoted data. Here is the re-worked sample app using Jackson ArrayNode:</p>\n<pre><code>@SpringBootApplication\npublic class HyunginChoSpringPulsarUserApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\n    }\n\n    @Bean\n    ApplicationRunner sendDataOnStartup(PulsarTemplate&lt;ArrayNode&gt; pulsarTemplate) {\n        return (args) -&gt; {\n            String data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\n            ArrayNode jsonArray = (ArrayNode) ObjectMapperFactory.create().readTree(data2).get(&quot;users&quot;);\n            System.out.printf(&quot;*** SENDING: %s%n&quot;, jsonArray);\n            pulsarTemplate.newMessage(jsonArray)\n                    .withTopic(&quot;Json_Test&quot;)\n                    .withSchema(Schema.JSON(ArrayNode.class))\n                    .send();\n        };\n    }\n\n    @PulsarListener(topics = &quot;Json_Test&quot;, schemaType = SchemaType.JSON, batch = true)\n    public void listenForData(List&lt;ArrayNode&gt; user) {\n        System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user));\n    }\n}\n</code></pre>\n<p>The output looks like:</p>\n<pre><code>*** SENDING: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\n\n***** LISTEN: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\n</code></pre>\n<h3>Data Model</h3>\n<p>Your data is an array of users. Do you have a requirement to use a Json level API or you instead deal with a <code>List&lt;User&gt;</code> POJOs? This would simplify things and make it much better experience to use. The Java record is a great choice such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record(String userId, String firstName) {}\n</code></pre>\n<p>then you can pass in a <code>List&lt;User&gt;</code> to your PulsarTemplate and everything will work well. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class HyunginChoSpringPulsarUserApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\n    }\n\n    @Bean\n    ApplicationRunner sendDataOnStartup(PulsarTemplate&lt;User&gt; pulsarTemplate) {\n        return (args) -&gt; {\n            String data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\n            ObjectMapper objectMapper = ObjectMapperFactory.create();\n            JsonNode usersNode = objectMapper.readTree(data2).get(&quot;users&quot;);\n            List&lt;User&gt; users = objectMapper.convertValue(usersNode, new TypeReference&lt;&gt;() {});\n            System.out.printf(&quot;*** SENDING: %s%n&quot;, users);\n            for (User user : users) {\n                pulsarTemplate.newMessage(user)\n                        .withTopic(&quot;Json_Test2&quot;)\n                        .withSchema(Schema.JSON(User.class))\n                        .send();\n            }\n        };\n    }\n\n    @PulsarListener(topics = &quot;Json_Test2&quot;, schemaType = SchemaType.JSON, batch = true)\n    public void listenForData(List&lt;User&gt; users) {\n        users.forEach((user) -&gt; System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user)));\n    }\n\n    public record User(String userId, String firstName) {}\n}\n</code></pre>\n<pre><code>*** SENDING: [User[userId=1, firstName=AAAAA], User[userId=2, firstName=BBBB], User[userId=3, firstName=CCCCC], User[userId=4, firstName=DDDDD], User[userId=5, firstName=EEEEE]]\n...\n***** LISTEN: User[userId=1, firstName=AAAAA]\n***** LISTEN: User[userId=2, firstName=BBBB]\n***** LISTEN: User[userId=3, firstName=CCCCC]\n***** LISTEN: User[userId=4, firstName=DDDDD]\n***** LISTEN: User[userId=5, firstName=EEEEE]\n</code></pre>\n<p>I hope this helps. Take care.</p>\n"}],"owner":{"account_id":25831681,"reputation":35,"user_id":19568750,"display_name":"Hyungin Cho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332174,"answer_count":1,"score":0,"last_activity_date":1675405312,"creation_date":1675387825,"question_id":75330621,"body_markdown":"I am a beginner who just started developing pulsar-client with spring boot.\r\nFirst of all, I learned the basics through pulsar doc and git, but I was stuck testing batch transmission of messages from the pulsar-client producer.\r\nIn particular, I want to send JsonArray data in batches, but I keep getting a JsonArray.getAsInt error.\r\nPlease take a look at my code and tell me what&#39;s wrong\r\n\r\n```\r\npackage com.refactorizando.example.pulsar.producer;\r\n\r\nimport static java.util.stream.Collectors.toList;\r\n\r\nimport com.refactorizando.example.pulsar.config.PulsarConfiguration;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.IntStream;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport net.sf.json.JSONArray;\r\n\r\nimport org.apache.pulsar.client.api.CompressionType;\r\nimport org.apache.pulsar.client.api.Message;\r\nimport org.apache.pulsar.client.api.MessageId;\r\nimport org.apache.pulsar.client.api.Producer;\r\nimport org.apache.pulsar.client.api.PulsarClient;\r\nimport org.apache.pulsar.client.api.PulsarClientException;\r\nimport org.apache.pulsar.client.impl.schema.JSONSchema;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonArray;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonElement;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonObject;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonParser;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class PulsarProducer {\r\n\r\n  private static final String TOPIC_NAME = &quot;Json_Test&quot;;\r\n\r\n  private final PulsarClient client;\r\n\r\n\r\n  @Bean(name = &quot;producer&quot;)\r\n  public void producer() throws PulsarClientException {\r\n   \r\n    // batching\r\n    Producer&lt;JsonArray&gt; producer = client.newProducer(JSONSchema.of(JsonArray.class))\r\n        .topic(TOPIC_NAME)\r\n        .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\r\n        .batchingMaxMessages(2)\r\n        .enableBatching(true)\r\n        .compressionType(CompressionType.LZ4)\r\n        .create();\r\n    String data = &quot;{&#39;users&#39;: [{&#39;userId&#39;: 1,&#39;firstName&#39;: &#39;AAAAA&#39;},{&#39;userId&#39;: 2,&#39;firstName&#39;: &#39;BBBB&#39;},{&#39;userId&#39;: 3,&#39;firstName&#39;: &#39;CCCCC&#39;},{&#39;userId&#39;: 4,&#39;firstName&#39;: &#39;DDDDD&#39;},{&#39;userId&#39;: 5,&#39;firstName&#39;: &#39;EEEEE&#39;}]}&quot;;\r\n    JsonElement element = JsonParser.parseString(data);\r\n    JsonObject obj = element.getAsJsonObject();\r\n    JsonArray arr = obj.getAsJsonArray(&quot;users&quot;);\r\n    try {\r\n      producer.send(arr);\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error sending mesasage&quot;);\r\n      e.printStackTrace();\r\n    }\r\n\r\n    producer.close();\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI&#39;m still a beginner developer, so I couldn&#39;t find it on stackOverflow because I couldn&#39;t search well. If you have anything related to it, please leave a link and I&#39;ll delete the question.\r\nThanks for reading my question and have a nice day!\r\n\r\nI tried several things, such as converting to JsonObject and sending, converting to String and sending, etc., but the same error came out.","title":"How to send JsonArray data in apache-pulsar-client?","body":"<p>I am a beginner who just started developing pulsar-client with spring boot.\nFirst of all, I learned the basics through pulsar doc and git, but I was stuck testing batch transmission of messages from the pulsar-client producer.\nIn particular, I want to send JsonArray data in batches, but I keep getting a JsonArray.getAsInt error.\nPlease take a look at my code and tell me what's wrong</p>\n<pre><code>package com.refactorizando.example.pulsar.producer;\n\nimport static java.util.stream.Collectors.toList;\n\nimport com.refactorizando.example.pulsar.config.PulsarConfiguration;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport net.sf.json.JSONArray;\n\nimport org.apache.pulsar.client.api.CompressionType;\nimport org.apache.pulsar.client.api.Message;\nimport org.apache.pulsar.client.api.MessageId;\nimport org.apache.pulsar.client.api.Producer;\nimport org.apache.pulsar.client.api.PulsarClient;\nimport org.apache.pulsar.client.api.PulsarClientException;\nimport org.apache.pulsar.client.impl.schema.JSONSchema;\nimport org.apache.pulsar.shade.com.google.gson.JsonArray;\nimport org.apache.pulsar.shade.com.google.gson.JsonElement;\nimport org.apache.pulsar.shade.com.google.gson.JsonObject;\nimport org.apache.pulsar.shade.com.google.gson.JsonParser;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\n@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class PulsarProducer {\n\n  private static final String TOPIC_NAME = &quot;Json_Test&quot;;\n\n  private final PulsarClient client;\n\n\n  @Bean(name = &quot;producer&quot;)\n  public void producer() throws PulsarClientException {\n   \n    // batching\n    Producer&lt;JsonArray&gt; producer = client.newProducer(JSONSchema.of(JsonArray.class))\n        .topic(TOPIC_NAME)\n        .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\n        .batchingMaxMessages(2)\n        .enableBatching(true)\n        .compressionType(CompressionType.LZ4)\n        .create();\n    String data = &quot;{'users': [{'userId': 1,'firstName': 'AAAAA'},{'userId': 2,'firstName': 'BBBB'},{'userId': 3,'firstName': 'CCCCC'},{'userId': 4,'firstName': 'DDDDD'},{'userId': 5,'firstName': 'EEEEE'}]}&quot;;\n    JsonElement element = JsonParser.parseString(data);\n    JsonObject obj = element.getAsJsonObject();\n    JsonArray arr = obj.getAsJsonArray(&quot;users&quot;);\n    try {\n      producer.send(arr);\n    } catch (Exception e) {\n      log.error(&quot;Error sending mesasage&quot;);\n      e.printStackTrace();\n    }\n\n    producer.close();\n\n  }\n\n}\n</code></pre>\n<p>I'm still a beginner developer, so I couldn't find it on stackOverflow because I couldn't search well. If you have anything related to it, please leave a link and I'll delete the question.\nThanks for reading my question and have a nice day!</p>\n<p>I tried several things, such as converting to JsonObject and sending, converting to String and sending, etc., but the same error came out.</p>\n"},{"tags":["java","csv","filter","stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675402969,"post_id":75331844,"comment_id":132925605,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"score":0,"creation_date":1675403786,"post_id":75331844,"comment_id":132925709,"body_markdown":"Unfortunately no, still having the incorrect visualization","body":"Unfortunately no, still having the incorrect visualization"}],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405012,"creation_date":1675405012,"answer_id":75332148,"question_id":75331844,"body_markdown":"You are making this more complicated that it needs to be. The common pseudo code for finding lowest value is:\r\n\r\n    set lowestValue to null\r\n    for each value\r\n       if lowestValue == null || value &lt; lowestValue\r\n           lowestValue = value\r\n\r\nAs you have multiple values to look for, each identified by the stock name, you define lowest_value as `Map&lt;String, BigDecimal&gt;` where the key is the stock identifier. Once you have processed each line in the input data, the map contains the lowest value for each stock. There is no need for nested loops, as everyting is done during the single pass. Once the you have populated the map, you can do the printing in a separate single loop over the map data.","title":"Visualizating incorrect dada using the stream filter in Java","body":"<p>You are making this more complicated that it needs to be. The common pseudo code for finding lowest value is:</p>\n<pre><code>set lowestValue to null\nfor each value\n   if lowestValue == null || value &lt; lowestValue\n       lowestValue = value\n</code></pre>\n<p>As you have multiple values to look for, each identified by the stock name, you define lowest_value as <code>Map&lt;String, BigDecimal&gt;</code> where the key is the stock identifier. Once you have processed each line in the input data, the map contains the lowest value for each stock. There is no need for nested loops, as everyting is done during the single pass. Once the you have populated the map, you can do the printing in a separate single loop over the map data.</p>\n"}],"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675405012,"creation_date":1675402016,"question_id":75331844,"body_markdown":"I have a csv file of the stock exchange I am taking data from, reading it and printing it under certain conditions. One of the conditions under which I must display them is to display the lowest value of a share of each share. My code only shows the first record of each of the three stocks, and does not show the lowest value of these stocks. Where am I going wrong in my filtering using the filter?\r\n\r\nMy code\r\n\r\n```\r\nprivate static void smallestPriceByStock(List&lt;String&gt; stocks) throws ParseException {\r\n\t\tList&lt;StockPrice&gt; stockPrices = new ArrayList&lt;&gt;();\r\n\t\tHashSet&lt;String&gt; stock = new HashSet&lt;&gt;();\r\n\t\tSimpleDateFormat sdfOriginal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tSimpleDateFormat sdfNovaData = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tfor (String s : stocks) {\r\n\t\t\t\tString[] array = a.split(&quot;,&quot;);\r\n\t\t\t\tString name = array[0];\r\n\t\t\t\tString date = array[1];\r\n\t\t\t\tDate dataOriginal = sdfOriginal.parse(date);\r\n\t\t\t\tfloat fechamento = Float.parseFloat(array[2]);\r\n\t\t\t\tlong volume = Long.parseLong(array[3]);\r\n\t\t\t\tStockPrice stockPrice = new StockPrice(nome, dataOriginal, price, volume);\r\n\t\t\t\tstockPrices.add(stockPrice);\r\n\t\t\t\tStock st = new Stock(name);\r\n\t\t\t\tst.addStockPrice(stockPrice);\r\n\t\t\t\tstock.add(st.getNome());\r\n\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Menores fechamentos&quot;);\r\n\t\t\tList&lt;Cotacao&gt; cotas = new ArrayList&lt;&gt;();\r\n\t\t\tdouble smallestValue = 0;\r\n\t\t\tfor(String a : acao) {\r\n\t\t\t\tfor (Cotacao c : cotacoes) {\r\n\t\t\t\t\tif (c.getNome().contains(a)) {\r\n\t\t\t\t\t\tsmallestValue = cotacoes.stream()\r\n\t\t\t\t\t\t\t\t.filter(x -&gt; x.getNome() == a)\r\n\t\t\t\t\t\t\t\t.mapToDouble(x -&gt; x.getValue()).summaryStatistics().getMax();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Stock: &quot; + c.getNome() + &quot;, &quot; + &quot;Price: &quot; + smallestValue + &quot;, &quot; + &quot;Date: &quot; + sdfNovaData.format(c.getData()));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tfor(Cotacao cotacao : cotas){\r\n\t\t\t\tSystem.out.println(cotacao.getNome());\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t} catch (UnsupportedOperationException | ParseException e) {\r\n\t\t\tthrow new UnsupportedOperationException(&quot;calculaMenorFechamentoPorAcao n&#227;o implementado&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nA little sampe of the csv file\r\n\r\n```\r\nAcao,Data,Fechamento,Volume\r\nOGXP3,2013-01-01,4.38,0\r\nOGXP3,2013-01-02,4.76,45904000\r\nOGXP3,2013-01-03,4.90,38143400\r\nPETR4,2013-01-02,19.69,30182600\r\nPETR4,2013-01-03,20.40,30552600\r\nPETR4,2013-01-04,20.43,36141000\r\nPETR4,2013-01-07,20.08,28069600\r\nVALE5,2013-01-01,40.87,0\r\nVALE5,2013-01-02,42.60,18515700\r\nVALE5,2013-01-03,42.09,15001800\r\nVALE5,2013-01-04,41.36,26351900\r\n\r\n```\r\n\r\n","title":"Visualizating incorrect dada using the stream filter in Java","body":"<p>I have a csv file of the stock exchange I am taking data from, reading it and printing it under certain conditions. One of the conditions under which I must display them is to display the lowest value of a share of each share. My code only shows the first record of each of the three stocks, and does not show the lowest value of these stocks. Where am I going wrong in my filtering using the filter?</p>\n<p>My code</p>\n<pre><code>private static void smallestPriceByStock(List&lt;String&gt; stocks) throws ParseException {\n        List&lt;StockPrice&gt; stockPrices = new ArrayList&lt;&gt;();\n        HashSet&lt;String&gt; stock = new HashSet&lt;&gt;();\n        SimpleDateFormat sdfOriginal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat sdfNovaData = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n        try {\n            for (String s : stocks) {\n                String[] array = a.split(&quot;,&quot;);\n                String name = array[0];\n                String date = array[1];\n                Date dataOriginal = sdfOriginal.parse(date);\n                float fechamento = Float.parseFloat(array[2]);\n                long volume = Long.parseLong(array[3]);\n                StockPrice stockPrice = new StockPrice(nome, dataOriginal, price, volume);\n                stockPrices.add(stockPrice);\n                Stock st = new Stock(name);\n                st.addStockPrice(stockPrice);\n                stock.add(st.getNome());\n\n            }\n            System.out.println(&quot;Menores fechamentos&quot;);\n            List&lt;Cotacao&gt; cotas = new ArrayList&lt;&gt;();\n            double smallestValue = 0;\n            for(String a : acao) {\n                for (Cotacao c : cotacoes) {\n                    if (c.getNome().contains(a)) {\n                        smallestValue = cotacoes.stream()\n                                .filter(x -&gt; x.getNome() == a)\n                                .mapToDouble(x -&gt; x.getValue()).summaryStatistics().getMax();\n                            System.out.println(&quot;Stock: &quot; + c.getNome() + &quot;, &quot; + &quot;Price: &quot; + smallestValue + &quot;, &quot; + &quot;Date: &quot; + sdfNovaData.format(c.getData()));\n                            break;\n                        }\n                    }\n                }\n\n            for(Cotacao cotacao : cotas){\n                System.out.println(cotacao.getNome());\n            }\n            System.out.println();\n        } catch (UnsupportedOperationException | ParseException e) {\n            throw new UnsupportedOperationException(&quot;calculaMenorFechamentoPorAcao não implementado&quot;, e);\n        }\n    }\n</code></pre>\n<p>A little sampe of the csv file</p>\n<pre><code>Acao,Data,Fechamento,Volume\nOGXP3,2013-01-01,4.38,0\nOGXP3,2013-01-02,4.76,45904000\nOGXP3,2013-01-03,4.90,38143400\nPETR4,2013-01-02,19.69,30182600\nPETR4,2013-01-03,20.40,30552600\nPETR4,2013-01-04,20.43,36141000\nPETR4,2013-01-07,20.08,28069600\nVALE5,2013-01-01,40.87,0\nVALE5,2013-01-02,42.60,18515700\nVALE5,2013-01-03,42.09,15001800\nVALE5,2013-01-04,41.36,26351900\n\n</code></pre>\n"},{"tags":["java","jackson","migration","gson"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1675371811,"post_id":75328730,"comment_id":132920752,"body_markdown":"can you share the class `PermissionOverwrites` ?","body":"can you share the class <code>PermissionOverwrites</code> ?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675373832,"post_id":75328730,"comment_id":132921246,"body_markdown":"Can you drop a sample of the json?","body":"Can you drop a sample of the json?"}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675403667,"creation_date":1675403226,"answer_id":75331948,"question_id":75328730,"body_markdown":"This code uses Jackson to do the same as your code that uses Gson:\r\n\r\n```\r\nJsonNode array = mapper.readTree(json);\r\nfor (JsonNode element : array) {\r\n  Map&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\r\n  Permissionable p = switch (element.get(&quot;type&quot;).asInt()) {\r\n    case 0 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\r\n    case 1 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\r\n    default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;, null);\r\n  };\r\n  Permissions perms = new Permissions(element.get(&quot;allow&quot;).asLong(), element.get(&quot;deny&quot;).asLong());\r\n  map.put(p, perms);\r\n}\r\n\r\nreturn new PermissionOverwrites(map);\r\n```\r\n\r\nHere&#39;s [an article about how to work with Jackson JSON tree model ](https://www.baeldung.com/jackson-json-node-tree-model).","title":"Deserialize a JSON array into a Java object (Not a List nor a Collection) using Jackson","body":"<p>This code uses Jackson to do the same as your code that uses Gson:</p>\n<pre><code>JsonNode array = mapper.readTree(json);\nfor (JsonNode element : array) {\n  Map&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\n  Permissionable p = switch (element.get(&quot;type&quot;).asInt()) {\n    case 0 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\n    case 1 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\n    default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;, null);\n  };\n  Permissions perms = new Permissions(element.get(&quot;allow&quot;).asLong(), element.get(&quot;deny&quot;).asLong());\n  map.put(p, perms);\n}\n\nreturn new PermissionOverwrites(map);\n</code></pre>\n<p>Here's <a href=\"https://www.baeldung.com/jackson-json-node-tree-model\" rel=\"nofollow noreferrer\">an article about how to work with Jackson JSON tree model </a>.</p>\n"}],"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331948,"answer_count":1,"score":0,"last_activity_date":1675403667,"creation_date":1675370670,"question_id":75328730,"body_markdown":"I was previously using Gson and decided to move to Jackson for practical reasons.\r\nPreviously, I had a JSON deserializer that was deserializing an array of json objects into a single java object.\r\n\r\nThe json structure of the field is :\r\n```json\r\n{\r\n    id: number,\r\n    type: (0 | 1),\r\n    allow: number,\r\n    deny: number\r\n}[]\r\n```\r\n\r\nAnd I need to deserialize this array into my own object: `PermissionOverwrites`.\r\n\r\nPreviously, I was using this code with Gson:\r\n```java\r\nJsonArray array = json.getAsJsonArray();\r\nMap&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\r\n \r\nfor (JsonElement element : array) {\r\n    JsonObject object = element.getAsJsonObject();\r\n    Permissionable p = switch (object.get(&quot;type&quot;).getAsInt()) {\r\n        case 0 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \r\n        case 1 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \r\n        default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;);\r\n    };\r\n    Permissions perms = new Permissions(object.get(&quot;allow&quot;).getAsLong(), object.get(&quot;deny&quot;).getAsLong());\r\n    map.put(p, perms);\r\n}\r\n \r\nreturn new PermissionOverwrites(map);\r\n```\r\n\r\nBut now, with Jackson, I&#39;ve got a JsonParser and a DeserializationContext and I can&#39;t find anything in any of the two files to parse an ArrayNode. Do you know any way I can do this using Jackson.\r\n\r\nThank you in advance!\r\n\r\nEDIT:\r\n\r\n`PermissionsOverwrites.java`\r\n```java\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class PermissionOverwrites {\r\n\r\n    private Map&lt;Permissionable, Permissions&gt; overwrites;\r\n    \r\n    public PermissionOverwrites(Map&lt;Permissionable, Permissions&gt; overwrites) {\r\n        this.overwrites = overwrites;\r\n    }\r\n    \r\n    public PermissionOverwrites() {\r\n        this.overwrites = new HashMap&lt;&gt;();\r\n    }\r\n    \r\n    public Map&lt;Permissionable, Permissions&gt; getOverwrites() {\r\n        return Collections.unmodifiableMap(overwrites);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nExample of the JSON object:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;111111111111111111&quot;,\r\n        &quot;type&quot;: &quot;0&quot;,\r\n        &quot;allow&quot;: &quot;01010&quot;,\r\n        &quot;deny&quot;: &quot;10101&quot;\r\n    }\r\n],\r\n```","title":"Deserialize a JSON array into a Java object (Not a List nor a Collection) using Jackson","body":"<p>I was previously using Gson and decided to move to Jackson for practical reasons.\nPreviously, I had a JSON deserializer that was deserializing an array of json objects into a single java object.</p>\n<p>The json structure of the field is :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    id: number,\n    type: (0 | 1),\n    allow: number,\n    deny: number\n}[]\n</code></pre>\n<p>And I need to deserialize this array into my own object: <code>PermissionOverwrites</code>.</p>\n<p>Previously, I was using this code with Gson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonArray array = json.getAsJsonArray();\nMap&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\n \nfor (JsonElement element : array) {\n    JsonObject object = element.getAsJsonObject();\n    Permissionable p = switch (object.get(&quot;type&quot;).getAsInt()) {\n        case 0 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \n        case 1 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \n        default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;);\n    };\n    Permissions perms = new Permissions(object.get(&quot;allow&quot;).getAsLong(), object.get(&quot;deny&quot;).getAsLong());\n    map.put(p, perms);\n}\n \nreturn new PermissionOverwrites(map);\n</code></pre>\n<p>But now, with Jackson, I've got a JsonParser and a DeserializationContext and I can't find anything in any of the two files to parse an ArrayNode. Do you know any way I can do this using Jackson.</p>\n<p>Thank you in advance!</p>\n<p>EDIT:</p>\n<p><code>PermissionsOverwrites.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@EqualsAndHashCode\npublic class PermissionOverwrites {\n\n    private Map&lt;Permissionable, Permissions&gt; overwrites;\n    \n    public PermissionOverwrites(Map&lt;Permissionable, Permissions&gt; overwrites) {\n        this.overwrites = overwrites;\n    }\n    \n    public PermissionOverwrites() {\n        this.overwrites = new HashMap&lt;&gt;();\n    }\n    \n    public Map&lt;Permissionable, Permissions&gt; getOverwrites() {\n        return Collections.unmodifiableMap(overwrites);\n    }\n    \n}\n</code></pre>\n<p>Example of the JSON object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: &quot;111111111111111111&quot;,\n        &quot;type&quot;: &quot;0&quot;,\n        &quot;allow&quot;: &quot;01010&quot;,\n        &quot;deny&quot;: &quot;10101&quot;\n    }\n],\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1457444007,"post_id":35865949,"comment_id":59401344,"body_markdown":"Do you have write permissions on the classes directory?  See: http://stackoverflow.com/questions/12514867/cannot-compile-wordcount-java","body":"Do you have write permissions on the classes directory?  See: <a href=\"http://stackoverflow.com/questions/12514867/cannot-compile-wordcount-java\" title=\"cannot compile wordcount java\">stackoverflow.com/questions/12514867/&hellip;</a>"},{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1457483694,"post_id":35865949,"comment_id":59424734,"body_markdown":"Yes, I have. The only special thing here is that it is on mounted directory.","body":"Yes, I have. The only special thing here is that it is on mounted directory."},{"owner":{"account_id":7709938,"reputation":89,"user_id":5839609,"display_name":"Ravi"},"score":0,"creation_date":1602544149,"post_id":35865949,"comment_id":113748696,"body_markdown":"@zjffdu Were you able to resolve this issue? If so, can you please share more details? Thanks.","body":"@zjffdu Were you able to resolve this issue? If so, can you please share more details? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2168211,"reputation":152,"user_id":1920823,"accept_rate":50,"display_name":"Atmaram"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488210715,"creation_date":1488210715,"answer_id":42490041,"question_id":35865949,"body_markdown":"I also faced this is issue.. It occurs mainly due to two reasons:\r\n\r\n1. Permission Problem: some folder doesn&#39;t have write permission in the project. Try to change the permission of those folders.\r\n2. While importing the code from any repository, their might chances of file may get ^M characters at end of line. For this use &quot;dos2unix&quot; command. (I faced same problem due to this, as all my java files were containing this character.) ","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>I also faced this is issue.. It occurs mainly due to two reasons:</p>\n\n<ol>\n<li>Permission Problem: some folder doesn't have write permission in the project. Try to change the permission of those folders.</li>\n<li>While importing the code from any repository, their might chances of file may get ^M characters at end of line. For this use \"dos2unix\" command. (I faced same problem due to this, as all my java files were containing this character.) </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17579345,"reputation":11,"user_id":12753460,"display_name":"Sunny Chunchuwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579598003,"creation_date":1579598003,"answer_id":59837606,"question_id":35865949,"body_markdown":"My issue is resolved after restarting the eclipse.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>My issue is resolved after restarting the eclipse.</p>\n"},{"tags":[],"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660812421,"creation_date":1660812421,"answer_id":73400020,"question_id":35865949,"body_markdown":"For me I think I was out of disk space. Hoovering up some files with `sudo journalctl --vacuum-size=500M` seems to have fixed it.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>For me I think I was out of disk space. Hoovering up some files with <code>sudo journalctl --vacuum-size=500M</code> seems to have fixed it.</p>\n"},{"tags":[],"owner":{"account_id":12619254,"reputation":1,"user_id":19852410,"display_name":"Knocksholesinwalls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661522810,"creation_date":1661522810,"answer_id":73502288,"question_id":35865949,"body_markdown":"From August 2022, I was getting this error on everything I tried, all java maven projects.  For me simply upgrading from Maven 3.6.3 -&gt; Maven 3.8.6 solved the issue.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>From August 2022, I was getting this error on everything I tried, all java maven projects.  For me simply upgrading from Maven 3.6.3 -&gt; Maven 3.8.6 solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":942897,"reputation":2171,"user_id":970673,"accept_rate":69,"display_name":"Jordan Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675403159,"creation_date":1675403159,"answer_id":75331937,"question_id":35865949,"body_markdown":"May be caused by a file lock, e.g. if you previously built it in your IDE and the IDE is still open.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>May be caused by a file lock, e.g. if you previously built it in your IDE and the IDE is still open.</p>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19578,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1675403159,"creation_date":1457435981,"question_id":35865949,"body_markdown":"Got the following weird exception, any one can help ? Thanks\r\n\r\n    [info] Compiling 3 Java sources to /mnt/nfs0/jzhang/spark-1.6.1/tags/target/scala-2.10/classes...\r\n    [error] /mnt/nfs0/jzhang/spark-1.6.1/tags/src/main/java/org/apache/spark/tags/DockerTest.java:26: error: error while writing DockerTest: could not create parent directories\r\n    [error] public @interface DockerTest { }\r\n    [error]         ^\r\n    [error] 1 error\r\n    [error] Compile failed at Mar 8, 2016 11:17:18 AM [0.817s]","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>Got the following weird exception, any one can help ? Thanks</p>\n\n<pre><code>[info] Compiling 3 Java sources to /mnt/nfs0/jzhang/spark-1.6.1/tags/target/scala-2.10/classes...\n[error] /mnt/nfs0/jzhang/spark-1.6.1/tags/src/main/java/org/apache/spark/tags/DockerTest.java:26: error: error while writing DockerTest: could not create parent directories\n[error] public @interface DockerTest { }\n[error]         ^\n[error] 1 error\n[error] Compile failed at Mar 8, 2016 11:17:18 AM [0.817s]\n</code></pre>\n"},{"tags":["java","rmi"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402680,"creation_date":1578264803,"answer_id":59604908,"question_id":59603819,"body_markdown":"Your `ImlementationInterfaceChefDept` RMI server is incorrectly registered. You are binding both to the same `ServerDesAvis` endpoint :\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n\r\nImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\r\n```\r\n\r\n... which means the first one (`ImlementationInterfaceChefDept`) will be overridden by the second one. You need to replace:\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n```\r\n... with this:\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;, c);\r\n```\r\n\r\nHope this helps.","title":"i have a problem in a java rmi multiclient code","body":"<p>Your <code>ImlementationInterfaceChefDept</code> RMI server is incorrectly registered. You are binding both to the same <code>ServerDesAvis</code> endpoint :</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\n\nImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\n</code></pre>\n<p>... which means the first one (<code>ImlementationInterfaceChefDept</code>) will be overridden by the second one. You need to replace:</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\n</code></pre>\n<p>... with this:</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;, c);\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17460042,"reputation":19,"user_id":12657945,"display_name":"user12657945"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59604908,"answer_count":1,"score":0,"last_activity_date":1675402680,"creation_date":1578255273,"question_id":59603819,"body_markdown":"i am writing a java rmi multi_client code where the first client (client1 ) have the right to modify or create  an object and the succond client (client2) have access to the object created by client1 return the onject to see it, but it&#39;s not working \r\n**first client class** \r\n\r\n   \r\n\r\n     import java.net.MalformedURLException;\r\n    import java.rmi.Naming;\r\n    import java.rmi.NotBoundException;\r\n    import java.rmi.RemoteException;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class ChefDeDepartement {\r\n    \t\r\n    \tstatic Scanner sc1  =  new Scanner(System.in);\r\n    \tstatic Scanner sc2  =  new Scanner(System.in);\r\n    \tstatic Scanner sc3  =  new Scanner(System.in);\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)throws RemoteException, NotBoundException, MalformedURLException {\r\n    \t\t\r\n    \t\tint i=0;\r\n    \t\t\ttry\r\n    \t        {\r\n    \t\t\t //java.rmi.registry.LocateRegistry.createRegistry(1000);\r\n    \t\t\t \r\n    \t\t\t InterfaceChefDept c = (InterfaceChefDept)Naming.lookup(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;);\r\n    \t\t\t \r\n    \t            System.out.println(&quot;connection au serveur&quot;);\r\n    \t    \t\t\r\n    \t            \r\n    \t            c.Ajouter(&quot;1ere avis&quot;);\r\n    \t    \t\tc.Ajouter(&quot;2eme avis&quot;);\r\n    \t    \t\tc.Ajouter(&quot;3eme avis&quot;);\r\n    \t    \t\tList&lt;String&gt; avis = c.returnArrayList();\r\n    \t    \t\tSystem.out.println(&quot;Bienvenu !!!!!!!!!!&quot;);\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t            while(i==0){\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \t\r\n    \r\n    //affichage*************************************************************\t            \t\r\n    \t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t        \t\t\r\n    \t        \t\tList&lt;String&gt; listAvis = avis;\r\n    \t        \t\tint j=0;\r\n    \t        \t\tint k=0;\r\n    \t        \t\tfor(String e: listAvis){\r\n    \t        \t\t\tj=j+1;\r\n    \t        \t\t\tSystem.out.println(j + &quot; :&quot; + e);\r\n    \t        \t\t\t\r\n    \t        \t\t}\r\n    \t            \t\r\n    //affichage*************************************************************\t            \t\r\n    \t            \t\r\n    \t            \t\r\n    \t            \tSystem.out.println(&quot;*********************&quot;);\r\n    \t\t            System.out.println(&quot;**********&quot;);\r\n    \t\t            System.out.println(&quot;choisire votre Action :&quot;);\r\n    \t\t            System.out.println(&quot;             1: Ajouter un avis \\n&quot;);\r\n    \t\t            System.out.println(&quot;             2: Supprimer \\n&quot;);\r\n    \t\t            int choice  = sc1.nextInt();\r\n    \t\t            String newAvis;\r\n    \t\t            int idAvis;\r\n    \t\t            \r\n    \t\t            if (choice==1)\r\n    \r\n    \t\t                {\r\n    \t\t                    System.out.println(&quot;donner le nouvel avis : &quot;);\r\n    \t\t                    newAvis = sc2.nextLine();\r\n    \t\t                    c.Ajouter(newAvis);\r\n    \t\t                    avis = c.returnArrayList();\r\n    /*\t\t                    \r\n    //affichage*************************************************************\t            \t\r\n    \t\t\t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t\t\t        \t\t\r\n    \t\t\t        \t\tint l=0;\r\n    \t\t\t        \t\tfor(String f: avis){\r\n    \t\t\t        \t\t\tl=l+1;\r\n    \t\t\t        \t\t\tSystem.out.println(l + &quot; :&quot; + f);\r\n    \t\t\t        \t\t\t\r\n    \t\t\t        \t\t}\r\n    \t\t\t            \t\r\n    //affichage*************************************************************\r\n    \t\r\n      */\r\n    \t\t                }\r\n    \t\t                \r\n    \t\t                \r\n    \t\t                if (choice==2)\r\n    \t\t                {\r\n    \t\t                    System.out.println(&quot;donner l&#39;indice de l&#39;avis a supprimer &quot;);\r\n    \t\t                    idAvis = sc3.nextInt();\r\n    \t\t                    System.out.println(&quot;scan done&quot;);\r\n    \t\t                    c.Supprimer(idAvis);\r\n    \t\t                    System.out.println(&quot;supp done &quot;);\r\n    \t\t                    avis = c.returnArrayList();\r\n    /*\t\t                    \r\n     //affichage*************************************************************\t            \t\r\n    \t\t\t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t\t\t        \t\t\r\n    \t\t\t        \t\tint n=0;\r\n    \t\t\t        \t\tfor(String f: avis){\r\n    \t\t\t        \t\t\tn=n+1;\r\n    \t\t\t        \t\t\tSystem.out.println(n + &quot; :&quot; + f);\r\n    \t\t\t        \t\t\t\r\n    \t\t\t        \t\t}\r\n    \t\t\t            \t\r\n    //affichage*************************************************************\t\t                    \r\n    */\t\t                    \r\n    \t\t                }\r\n    \t            }\r\n    \t    \t\t\r\n    \t        \r\n    \t        }\r\n    \t\t \r\n    \t        catch(Exception e)\r\n    \t        {\r\n    \t            System.out.println(e);\r\n    \t        \r\n    \t        }\r\n    \t        }\r\n    \r\n    }\r\n\r\n**succond client class**\r\n\r\n   \r\n\r\n     import java.rmi.Naming;\r\n    import java.rmi.RemoteException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Etudiant {\r\n    \t\r\n    public static void main(String [] args) throws RemoteException {\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tint i=0;\r\n    \t\t\t\r\n    \t\t\tInterfaceChefDept c = (InterfaceChefDept) Naming.lookup(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;);\r\n    \t\t\tInterfaceEtudiant s = (InterfaceEtudiant) Naming.lookup(&quot;rmi://localhost/ServerDesAvis&quot;);\r\n    \t\t\t\r\n    \t\t\tList&lt;String&gt; avis = c.returnArrayList();\r\n    \t\t\tList&lt;String&gt; lavis = s.AfficherAvis(avis);\r\n    \t\r\n            \tSystem.out.println(&quot;La liste des avis disponibles :&quot;);\r\n        \t\t\r\n        \t\tfor(String f: lavis){\r\n        \t\t\ti=i+1;\r\n        \t\t\tSystem.out.println(i + &quot; :   &quot; + f);\r\n        \t\t\t\r\n        \t\t}\r\n        \t\tSystem.out.println(&quot;:) :) :) :) :) &quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n**server class** \r\n\r\n        import java.rmi.Naming;\r\n    import java.rmi.RemoteException;\r\n    import java.rmi.registry.LocateRegistry;\r\n    import java.rmi.registry.Registry;\r\n    import java.rmi.NotBoundException;\r\n    import java.rmi.Remote;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class ServerDesAvis {\r\n    \r\n    \r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) throws RemoteException,NotBoundException{\r\n    \r\n    \r\n    \t\ttry\r\n    \t    {\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\n    \t\t\tNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n    \t\t\t\r\n    \t\t\tImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\r\n    \t\t\tNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t        System.out.println(&quot;server is running&quot;);\r\n    \t        System.out.println(&quot;.......&quot;);\r\n    \t        System.out.println(&quot;.....&quot;);\r\n    \t        System.out.println(&quot;...&quot;);\r\n    \t    }\r\n    \t\t\r\n    \t\tcatch(RemoteException re){\r\n    \t\t\tre.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t    catch(Exception e) {\r\n    \t                System.out.println(e);\r\n    \t            }\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nafter **java ChefDeDepartement localhost**\r\ni get this error \r\njava.rmi.NotBoundException: ImlementationInterfaceChefDept\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"i have a problem in a java rmi multiclient code","body":"<p>i am writing a java rmi multi_client code where the first client (client1 ) have the right to modify or create  an object and the succond client (client2) have access to the object created by client1 return the onject to see it, but it's not working \n<strong>first client class</strong> </p>\n\n<pre><code> import java.net.MalformedURLException;\nimport java.rmi.Naming;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.List;\n\n\npublic class ChefDeDepartement {\n\n    static Scanner sc1  =  new Scanner(System.in);\n    static Scanner sc2  =  new Scanner(System.in);\n    static Scanner sc3  =  new Scanner(System.in);\n\n\n    public static void main(String[] args)throws RemoteException, NotBoundException, MalformedURLException {\n\n        int i=0;\n            try\n            {\n             //java.rmi.registry.LocateRegistry.createRegistry(1000);\n\n             InterfaceChefDept c = (InterfaceChefDept)Naming.lookup(\"rmi://localhost/ImlementationInterfaceChefDept\");\n\n                System.out.println(\"connection au serveur\");\n\n\n                c.Ajouter(\"1ere avis\");\n                c.Ajouter(\"2eme avis\");\n                c.Ajouter(\"3eme avis\");\n                List&lt;String&gt; avis = c.returnArrayList();\n                System.out.println(\"Bienvenu !!!!!!!!!!\");\n\n\n                while(i==0){\n                    System.out.println(\" \");\n                    System.out.println(\" \");\n                    System.out.println(\" \");\n\n\n//affichage*************************************************************                    \n                    System.out.println(\"La liste des avis :\");\n\n                    List&lt;String&gt; listAvis = avis;\n                    int j=0;\n                    int k=0;\n                    for(String e: listAvis){\n                        j=j+1;\n                        System.out.println(j + \" :\" + e);\n\n                    }\n\n//affichage*************************************************************                    \n\n\n                    System.out.println(\"*********************\");\n                    System.out.println(\"**********\");\n                    System.out.println(\"choisire votre Action :\");\n                    System.out.println(\"             1: Ajouter un avis \\n\");\n                    System.out.println(\"             2: Supprimer \\n\");\n                    int choice  = sc1.nextInt();\n                    String newAvis;\n                    int idAvis;\n\n                    if (choice==1)\n\n                        {\n                            System.out.println(\"donner le nouvel avis : \");\n                            newAvis = sc2.nextLine();\n                            c.Ajouter(newAvis);\n                            avis = c.returnArrayList();\n/*                          \n//affichage*************************************************************                    \n                            System.out.println(\"La liste des avis :\");\n\n                            int l=0;\n                            for(String f: avis){\n                                l=l+1;\n                                System.out.println(l + \" :\" + f);\n\n                            }\n\n//affichage*************************************************************\n\n  */\n                        }\n\n\n                        if (choice==2)\n                        {\n                            System.out.println(\"donner l'indice de l'avis a supprimer \");\n                            idAvis = sc3.nextInt();\n                            System.out.println(\"scan done\");\n                            c.Supprimer(idAvis);\n                            System.out.println(\"supp done \");\n                            avis = c.returnArrayList();\n/*                          \n //affichage*************************************************************                   \n                            System.out.println(\"La liste des avis :\");\n\n                            int n=0;\n                            for(String f: avis){\n                                n=n+1;\n                                System.out.println(n + \" :\" + f);\n\n                            }\n\n//affichage*************************************************************                            \n*/                          \n                        }\n                }\n\n\n            }\n\n            catch(Exception e)\n            {\n                System.out.println(e);\n\n            }\n            }\n\n}\n</code></pre>\n\n<p><strong>succond client class</strong></p>\n\n<pre><code> import java.rmi.Naming;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Etudiant {\n\npublic static void main(String [] args) throws RemoteException {\n\n        try{\n            int i=0;\n\n            InterfaceChefDept c = (InterfaceChefDept) Naming.lookup(\"rmi://localhost/ImlementationInterfaceChefDept\");\n            InterfaceEtudiant s = (InterfaceEtudiant) Naming.lookup(\"rmi://localhost/ServerDesAvis\");\n\n            List&lt;String&gt; avis = c.returnArrayList();\n            List&lt;String&gt; lavis = s.AfficherAvis(avis);\n\n            System.out.println(\"La liste des avis disponibles :\");\n\n            for(String f: lavis){\n                i=i+1;\n                System.out.println(i + \" :   \" + f);\n\n            }\n            System.out.println(\":) :) :) :) :) \");\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n\n    }\n\n\n\n}\n</code></pre>\n\n<p><strong>server class</strong> </p>\n\n<pre><code>    import java.rmi.Naming;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.NotBoundException;\nimport java.rmi.Remote;\nimport java.util.ArrayList;\n\n\npublic class ServerDesAvis {\n\n\n\n\n    public static void main(String[] args) throws RemoteException,NotBoundException{\n\n\n        try\n        {\n\n\n            ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\n            Naming.rebind(\"rmi://localhost/ServerDesAvis\", c);\n\n            ImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\n            Naming.rebind(\"rmi://localhost/ServerDesAvis\", s);\n\n\n            System.out.println(\"server is running\");\n            System.out.println(\".......\");\n            System.out.println(\".....\");\n            System.out.println(\"...\");\n        }\n\n        catch(RemoteException re){\n            re.printStackTrace();\n        }\n\n        catch(Exception e) {\n                    System.out.println(e);\n                }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>after <strong>java ChefDeDepartement localhost</strong>\ni get this error \njava.rmi.NotBoundException: ImlementationInterfaceChefDept</p>\n"},{"tags":["java","collections","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1578197475,"post_id":59587180,"comment_id":105358622,"body_markdown":"Since the current answer doesn&#39;t explain much. Relate *binary operator for Float type elements* =&gt; `BinaryOperator&lt;Float&gt; binaryOp`. No from the stream you need to filter elements for which the predicate holds true using `stream.filter(predicate)` and finally reduce such elements when found in multiple occurrence using the operation with `stream.filter(predicate).reduce(binaryOp).`","body":"Since the current answer doesn&#39;t explain much. Relate <i>binary operator for Float type elements</i> =&gt; <code>BinaryOperator&lt;Float&gt; binaryOp</code>. No from the stream you need to filter elements for which the predicate holds true using <code>stream.filter(predicate)</code> and finally reduce such elements when found in multiple occurrence using the operation with <code>stream.filter(predicate).reduce(binaryOp).</code>"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1675402676,"creation_date":1578101720,"answer_id":59587217,"question_id":59587180,"body_markdown":"The following method is the one you are looking for:\r\n\r\n```java\r\npublic Optional&lt;Float&gt; davidist(\r\n\t\tStream&lt;Float&gt; stream, Predicate&lt;Float&gt; tester, BinaryOperator&lt;Float&gt; op) {\r\n\r\n\treturn stream           // Elements stream\r\n\t\t\t.filter(tester) // Stream of elements that passed &#39;tester&#39; test\r\n\t\t\t.reduce(op);    // Optional&lt;Float&gt; resulting by reducing elements using &#39;op&#39;\r\n}\r\n```\r\n\r\nHope this helps.\r\n","title":"Functional Programming/Streams Exercise","body":"<p>The following method is the one you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Float&gt; davidist(\n        Stream&lt;Float&gt; stream, Predicate&lt;Float&gt; tester, BinaryOperator&lt;Float&gt; op) {\n\n    return stream           // Elements stream\n            .filter(tester) // Stream of elements that passed 'tester' test\n            .reduce(op);    // Optional&lt;Float&gt; resulting by reducing elements using 'op'\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17247342,"reputation":31,"user_id":12488280,"display_name":"spinos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":59587217,"answer_count":1,"score":0,"last_activity_date":1675402676,"creation_date":1578101222,"question_id":59587180,"body_markdown":"&gt; Write a method named davidist which returns an `Optional&lt;Float&gt;`\r\n&gt; result and has 3 parameters:\r\n&gt; \r\n&gt; * a Stream s (Float type)\r\n&gt; * a Predicate p for Float type elements\r\n&gt; * a binary operator for Float type elements\r\n&gt; \r\n&gt; Method chooses from the stream the elements for which p is true and\r\n&gt; returns: if there are more than one elements, the result of the binary\r\n&gt; operator applied between the elements for which p is true (i.e a1 c a2\r\n&gt; c a3 c a4 c), otherwise it returns Optional.empty().\r\n\r\nThis is what I&#39;ve done so far, can somebody help me out?\r\n\r\n```\t\r\npublic Optional&lt;Float&gt; davidist(Stream&lt;Float&gt; s, Predicate&lt;Float&gt; p, byte b) {\r\n    if () {\r\n\r\n    } else {\r\n\t    return Optional.empty();\r\n\t}\r\n}\r\n```\r\n","title":"Functional Programming/Streams Exercise","body":"<blockquote>\n  <p>Write a method named davidist which returns an <code>Optional&lt;Float&gt;</code>\n  result and has 3 parameters:</p>\n  \n  <ul>\n  <li>a Stream s (Float type)</li>\n  <li>a Predicate p for Float type elements</li>\n  <li>a binary operator for Float type elements</li>\n  </ul>\n  \n  <p>Method chooses from the stream the elements for which p is true and\n  returns: if there are more than one elements, the result of the binary\n  operator applied between the elements for which p is true (i.e a1 c a2\n  c a3 c a4 c), otherwise it returns Optional.empty().</p>\n</blockquote>\n\n<p>This is what I've done so far, can somebody help me out?</p>\n\n<pre><code>public Optional&lt;Float&gt; davidist(Stream&lt;Float&gt; s, Predicate&lt;Float&gt; p, byte b) {\n    if () {\n\n    } else {\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle","android-studio","android-gradle-plugin"],"comments":[{"owner":{"account_id":3576085,"reputation":79494,"user_id":2985303,"display_name":"Scott Barta"},"score":0,"creation_date":1400857755,"post_id":23828085,"comment_id":36670220,"body_markdown":"Try deleting the .gradle folders in both your home directory and your project&#39;s directory.","body":"Try deleting the .gradle folders in both your home directory and your project&#39;s directory."},{"owner":{"account_id":1339540,"reputation":6509,"user_id":1281522,"accept_rate":85,"display_name":"Omri Btian"},"score":0,"creation_date":1400885835,"post_id":23828085,"comment_id":36683555,"body_markdown":"@ScottBarta deleting .gradle folder from my user&#39;s directory and then clicking &#39;Sync Project with Gradle files&#39; solved it for me. if you&#39;ll write it as an answer i&#39;ll mark it as accepted. Thanks :)","body":"@ScottBarta deleting .gradle folder from my user&#39;s directory and then clicking &#39;Sync Project with Gradle files&#39; solved it for me. if you&#39;ll write it as an answer i&#39;ll mark it as accepted. Thanks :)"},{"owner":{"account_id":5812009,"reputation":549,"user_id":4582746,"accept_rate":65,"display_name":"Akshay Kumar"},"score":0,"creation_date":1488106399,"post_id":23828085,"comment_id":72076268,"body_markdown":"@ScottBarta can you tell me where the .gradle folder exists. sorry i am very new in android","body":"@ScottBarta can you tell me where the .gradle folder exists. sorry i am very new in android"}],"answers":[{"tags":[],"owner":{"account_id":3576085,"reputation":79494,"user_id":2985303,"display_name":"Scott Barta"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1400887529,"creation_date":1400887529,"answer_id":23839694,"question_id":23828085,"body_markdown":"An &quot;error in opening zip file&quot; tends to mean that a file that Gradle has downloaded has somehow become corrupted -- this might be the download of Gradle itself (which the wrapper does), or a dependency that Gradle has downloaded to run your build.\r\n\r\nGradle doesn&#39;t attempt to detect or resolve the problem, so you need to fix it manually. The solution is often to purge Gradle&#39;s download caches and let it get fresh copies of what it needs. To do that, delete the `.gradle` directories in both your home directory and in your project&#39;s root directory and try building again.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>An \"error in opening zip file\" tends to mean that a file that Gradle has downloaded has somehow become corrupted -- this might be the download of Gradle itself (which the wrapper does), or a dependency that Gradle has downloaded to run your build.</p>\n\n<p>Gradle doesn't attempt to detect or resolve the problem, so you need to fix it manually. The solution is often to purge Gradle's download caches and let it get fresh copies of what it needs. To do that, delete the <code>.gradle</code> directories in both your home directory and in your project's root directory and try building again.</p>\n"},{"tags":[],"owner":{"account_id":4997543,"reputation":1,"user_id":4429756,"display_name":"HadenRobert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422410241,"creation_date":1422410241,"answer_id":28183377,"question_id":23828085,"body_markdown":"I fixed this issue by...\r\n\r\n - Going to Settings... &gt; Gradle\r\n - Selecting &quot;Use local Gradle distribution.&quot;\r\n - Pointed it to my Gradle zip file: **home/kersting/.gradle/wrapper/dists/gradle-1.12-all/6vpvhqu0efs1fqmqr2decq1v12/gradle-1.12**\r\n\r\nIt should be something similar for you if you downloaded Gradle which you should have when you downloaded Android Studio. Be careful, the .gradle file may be hidden. I found it through the terminal, but &quot;ls&quot; didn&#39;t reveal it.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I fixed this issue by...</p>\n\n<ul>\n<li>Going to Settings... > Gradle</li>\n<li>Selecting \"Use local Gradle distribution.\"</li>\n<li>Pointed it to my Gradle zip file: <strong>home/kersting/.gradle/wrapper/dists/gradle-1.12-all/6vpvhqu0efs1fqmqr2decq1v12/gradle-1.12</strong></li>\n</ul>\n\n<p>It should be something similar for you if you downloaded Gradle which you should have when you downloaded Android Studio. Be careful, the .gradle file may be hidden. I found it through the terminal, but \"ls\" didn't reveal it.</p>\n"},{"tags":[],"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429609942,"creation_date":1429609942,"answer_id":29768719,"question_id":23828085,"body_markdown":"I had the same problem, happened after turning on and off jack and jill tool chain. I tried removing .gradle but it didn&#39;t help. Removing the **build** directory inside my project folder resolves the problem. \r\n\r\nTry this before removing .gradle as it will need near 200MB worth of download.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same problem, happened after turning on and off jack and jill tool chain. I tried removing .gradle but it didn't help. Removing the <strong>build</strong> directory inside my project folder resolves the problem. </p>\n\n<p>Try this before removing .gradle as it will need near 200MB worth of download.</p>\n"},{"tags":[],"owner":{"display_name":"user5008047"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434276810,"creation_date":1434276810,"answer_id":30828166,"question_id":23828085,"body_markdown":"I fixed the same issue via the following:\r\n\r\nGo to File -&gt; Settings -&gt; Gradle\r\n\r\nInput the following in the &quot;Gradle VM options:&quot; box: -XX:MaxHeapSize=256m -Xmx256m\r\n\r\nHit apply and Android Studio should build your project successfully.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I fixed the same issue via the following:</p>\n\n<p>Go to File -> Settings -> Gradle</p>\n\n<p>Input the following in the \"Gradle VM options:\" box: -XX:MaxHeapSize=256m -Xmx256m</p>\n\n<p>Hit apply and Android Studio should build your project successfully.</p>\n"},{"tags":[],"owner":{"account_id":6592644,"reputation":349,"user_id":5093366,"display_name":"Khurshid A Bhuyan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1675308452,"creation_date":1436351442,"answer_id":31290028,"question_id":23828085,"body_markdown":"If you have limited internet plan then use the following method.\r\n\r\n**Step1**: Close android studio\r\n\r\n**Step2**: *Go to C:\\Users\\Khurshid\\\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo* (if you want to configure gradle 1.12)\r\n\r\n**Step3**: try to open the gradle-1.12-all.zip by double clicking it. If it gives error message then delete the zip file.\r\n\r\n**step4**: go to https://services.gradle.org/distributions and download gradle-1.12-all.zip (54mb approx) and copy the same to the folder where you have previously deleted the zip file.\r\n\r\n**step5**: open android studio and go to file-&gt;setting select &#39;gradle&#39; and click on &#39;use local gradle distribution&#39; and set &#39;gradle home&#39; to  &#39;*C:\\Users\\Khurshid\\\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo\\gradle-1.12-all.zip*&#39; and click ok. \r\n\r\n**step6**: It will download some file over the internet. If download doesn&#39;t start automatically then restart android studio. \r\n\r\n**step7**: Be patience and let it download some important stuff and after that everything should be working fine. This method will help you save your internet data. Downloading the entire gradle directory will consume double the data.\r\n\r\n\r\n\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>If you have limited internet plan then use the following method.</p>\n<p><strong>Step1</strong>: Close android studio</p>\n<p><strong>Step2</strong>: <em>Go to C:\\Users\\Khurshid\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo</em> (if you want to configure gradle 1.12)</p>\n<p><strong>Step3</strong>: try to open the gradle-1.12-all.zip by double clicking it. If it gives error message then delete the zip file.</p>\n<p><strong>step4</strong>: go to <a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a> and download gradle-1.12-all.zip (54mb approx) and copy the same to the folder where you have previously deleted the zip file.</p>\n<p><strong>step5</strong>: open android studio and go to file-&gt;setting select 'gradle' and click on 'use local gradle distribution' and set 'gradle home' to  '<em>C:\\Users\\Khurshid\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo\\gradle-1.12-all.zip</em>' and click ok.</p>\n<p><strong>step6</strong>: It will download some file over the internet. If download doesn't start automatically then restart android studio.</p>\n<p><strong>step7</strong>: Be patience and let it download some important stuff and after that everything should be working fine. This method will help you save your internet data. Downloading the entire gradle directory will consume double the data.</p>\n"},{"tags":[],"owner":{"account_id":1746603,"reputation":2185,"user_id":1596646,"display_name":"asamoylenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453136633,"creation_date":1453136633,"answer_id":34860223,"question_id":23828085,"body_markdown":"Clearing **.gradle** directory didn&#39;t help, but clearing **build** directory did the job for me.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Clearing <strong>.gradle</strong> directory didn't help, but clearing <strong>build</strong> directory did the job for me.</p>\n"},{"tags":[],"owner":{"account_id":4278962,"reputation":1983,"user_id":3498931,"accept_rate":60,"display_name":"Ajay P. Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456955102,"creation_date":1456955102,"answer_id":35758714,"question_id":23828085,"body_markdown":"You just have to edit `build.gradle` file.\r\n\r\nyou should set the classpath to the latest gradle version\r\n\r\n      dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:1.5.0&#39;\r\n    }\r\n\r\nand Sync the project. All errors will be gone. What you can do is, make new project in android studio, which will have classpath of latest gradle and paste it into your project that having `Cause: error in opening zip file.` this error.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>You just have to edit <code>build.gradle</code> file.</p>\n\n<p>you should set the classpath to the latest gradle version</p>\n\n<pre><code>  dependencies {\n    classpath 'com.android.tools.build:gradle:1.5.0'\n}\n</code></pre>\n\n<p>and Sync the project. All errors will be gone. What you can do is, make new project in android studio, which will have classpath of latest gradle and paste it into your project that having <code>Cause: error in opening zip file.</code> this error.</p>\n"},{"tags":[],"owner":{"account_id":458026,"reputation":2652,"user_id":857681,"display_name":"speedynomads"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485457298,"creation_date":1485457298,"answer_id":41880963,"question_id":23828085,"body_markdown":"For me the solution to this error was to change the gradle wrapper version in ../gradle/wraper/gradle-wrapper.properties to a different/newer version.. I used:\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-2.14.1-all.zip\r\n\r\nThen call:\r\n\r\n&gt; ./gradlew --refresh-dependencies \r\n\r\nThis tells the wrapper to point to a new version and re-download all required dependencies. I suspect the error for me was caused by an interrupted download when first building the relevant project.\r\n\r\n ","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>For me the solution to this error was to change the gradle wrapper version in ../gradle/wraper/gradle-wrapper.properties to a different/newer version.. I used:</p>\n\n<blockquote>\n  <p>distributionUrl=https://services.gradle.org/distributions/gradle-2.14.1-all.zip</p>\n</blockquote>\n\n<p>Then call:</p>\n\n<blockquote>\n  <p>./gradlew --refresh-dependencies </p>\n</blockquote>\n\n<p>This tells the wrapper to point to a new version and re-download all required dependencies. I suspect the error for me was caused by an interrupted download when first building the relevant project.</p>\n"},{"tags":[],"owner":{"account_id":9906941,"reputation":65,"user_id":7335167,"accept_rate":75,"display_name":"na3na3iss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490184210,"creation_date":1490184210,"answer_id":42951110,"question_id":23828085,"body_markdown":"I had the same problem so and to fix it i download  the last version of gradle:\r\n\r\nhttps://services.gradle.org/distributions\r\n\r\nand  open the gradle in the right bar then choose gradle parameters and change the path of the old gradle into the new one.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same problem so and to fix it i download  the last version of gradle:</p>\n\n<p><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a></p>\n\n<p>and  open the gradle in the right bar then choose gradle parameters and change the path of the old gradle into the new one.</p>\n"},{"tags":[],"owner":{"account_id":10328378,"reputation":1,"user_id":7619154,"display_name":"fera10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492283245,"creation_date":1492283245,"answer_id":43430152,"question_id":23828085,"body_markdown":"Deleting the .gradle folder worked for me. Problem resolved after I deleted .gradle folder","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Deleting the .gradle folder worked for me. Problem resolved after I deleted .gradle folder</p>\n"},{"tags":[],"owner":{"account_id":1247402,"reputation":2062,"user_id":1208563,"accept_rate":80,"display_name":"Virag Brahme"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492588462,"creation_date":1492588462,"answer_id":43489725,"question_id":23828085,"body_markdown":"I also faced the similar issue when imported the existing project into Android Studio, this might happened because of gradle version mismatch between two different Android Studio platform.\r\n\r\n**Solution(on Mac OS):**\r\n\r\n1. Close the Android Studio.\r\n2. Locate the .gradle folder at **User/.gradle/**\r\n3. Delete the folder &amp; clear the Trash.\r\n4. Relaunch the Android Studio &amp; Sync your project. It will re-download the gradle plugins &amp; configurations.\r\n\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I also faced the similar issue when imported the existing project into Android Studio, this might happened because of gradle version mismatch between two different Android Studio platform.</p>\n\n<p><strong>Solution(on Mac OS):</strong></p>\n\n<ol>\n<li>Close the Android Studio.</li>\n<li>Locate the .gradle folder at <strong>User/.gradle/</strong></li>\n<li>Delete the folder &amp; clear the Trash.</li>\n<li>Relaunch the Android Studio &amp; Sync your project. It will re-download the gradle plugins &amp; configurations.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495795191,"creation_date":1495795191,"answer_id":44199471,"question_id":23828085,"body_markdown":"In recent versions of Android Studio File -&gt; Invalidate Caches / Restart is worth trying.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>In recent versions of Android Studio File -> Invalidate Caches / Restart is worth trying.</p>\n"},{"tags":[],"owner":{"account_id":11541044,"reputation":1,"user_id":8456732,"display_name":"Jesus Navas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502604371,"creation_date":1502592823,"answer_id":45656639,"question_id":23828085,"body_markdown":"I had the same issue\r\n\r\n - Go to C:\\Users\\Jesus Navas\\.gradle\\wrapper\\dists\\gradle-3.3-all(your gradle version). \r\n\r\n - Erase your current gradle version and write again in cmd &quot;ionic build android&quot;. \r\n\r\n - However, your gradle will download again, then it will unzip it automatically, ready checkout the output .apk, \r\n\r\nthis solved my issue","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same issue</p>\n\n<ul>\n<li><p>Go to C:\\Users\\Jesus Navas.gradle\\wrapper\\dists\\gradle-3.3-all(your gradle version). </p></li>\n<li><p>Erase your current gradle version and write again in cmd \"ionic build android\". </p></li>\n<li><p>However, your gradle will download again, then it will unzip it automatically, ready checkout the output .apk, </p></li>\n</ul>\n\n<p>this solved my issue</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402672,"creation_date":1575791266,"answer_id":59233472,"question_id":23828085,"body_markdown":"One of the causes of this problem (since late 2019) is the [decommissioning of HTTP services by Gradle][1] - and I see you are using `HTTP` protocol in your `distributionUrl`. This means that if your `[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties` file has an entry like:\r\n\r\n```\r\ndistributionUrl=http\\://services.gradle.org/distributions/gradle-{version}.zip\r\n```\r\n\r\n... then this entry will try to retrieve a `ZIP` file from a service no longer servicing it (`http` based one) and it will silently return an empty `ZIP` file; which consequentially will be the source of an error from any process trying to unzip that empty `ZIP` file.\r\n\r\nTo fix this, just change your `[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties` file to have its `distributionUrl` entry to use `https`:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-{version}.zip\r\n```\r\n\r\nHope this helps.\r\n\r\n\r\n[1]: https://blog.gradle.org/decommissioning-http","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>One of the causes of this problem (since late 2019) is the <a href=\"https://blog.gradle.org/decommissioning-http\" rel=\"nofollow noreferrer\">decommissioning of HTTP services by Gradle</a> - and I see you are using <code>HTTP</code> protocol in your <code>distributionUrl</code>. This means that if your <code>[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties</code> file has an entry like:</p>\n<pre><code>distributionUrl=http\\://services.gradle.org/distributions/gradle-{version}.zip\n</code></pre>\n<p>... then this entry will try to retrieve a <code>ZIP</code> file from a service no longer servicing it (<code>http</code> based one) and it will silently return an empty <code>ZIP</code> file; which consequentially will be the source of an error from any process trying to unzip that empty <code>ZIP</code> file.</p>\n<p>To fix this, just change your <code>[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties</code> file to have its <code>distributionUrl</code> entry to use <code>https</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-{version}.zip\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580473513,"creation_date":1580473513,"answer_id":60003879,"question_id":23828085,"body_markdown":"Simply change `distributionUrl` to latest like this:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-all.zip\r\n\r\nIt will download all necessary gradle files and your good to go.\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Simply change <code>distributionUrl</code> to latest like this:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-all.zip\n</code></pre>\n\n<p>It will download all necessary gradle files and your good to go.</p>\n"}],"owner":{"account_id":1339540,"reputation":6509,"user_id":1281522,"accept_rate":85,"display_name":"Omri Btian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76182,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":23839694,"answer_count":15,"score":29,"last_activity_date":1675402672,"creation_date":1400844701,"question_id":23828085,"body_markdown":"I&#39;m new to android development and android studio IDE.\r\n\r\nI&#39;ve checked-out a project from bitbucket and when I try to compile it I get the following error:\r\n\r\n&gt; Failed to complete Gradle Execution\r\n&gt; \r\n&gt; Cause:\r\n&gt; error in opening zip file.\r\n\r\nMy `gradle-wrapper.properties` is as follows:\r\n\r\n&gt; distributionBase=GRADLE_USER_HOME  \r\n&gt; distributionPath=wrapper/dists  \r\n&gt; zipStoreBase=GRADLE_USER_HOME  \r\n&gt; zipStorePath=wrapper/dists  \r\n&gt; distributionUrl=http\\://services.gradle.org/distributions/gradle-1.11-all.zip\r\n\r\nI wasn&#39;t able to get too much information from this but the full log states:\r\n\r\n&gt; 2014-05-23 14:06:28,950 [  32077]   WARN -\r\n&gt; nal.AbstractExternalSystemTask - Cause: error in opening zip file \r\n&gt; com.intellij.openapi.externalSystem.model.ExternalSystemException:\r\n&gt; Cause: error in opening zip file \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleExecutionHelper.execute(GradleExecutionHelper.java:206)\r\n&gt; \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:116)\r\n&gt; \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:64)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:48)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:137)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:123)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:467)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:546)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:464)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:373)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745) \tat\r\n&gt; com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:149)\r\n&gt; \r\n&gt; 2014-05-23 14:06:28,950 [  32077]   WARN -\r\n&gt; .project.GradleProjectImporter -   2014-05-23 14:06:28,951 [  32078]  \r\n&gt; INFO - .project.GradleProjectImporter - Cause: error in opening zip\r\n&gt; file\r\n\r\nI&#39;m using Android studio 0.5.2.\r\n\r\nCan someone point me in the right direction on how to solve this?","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I'm new to android development and android studio IDE.</p>\n\n<p>I've checked-out a project from bitbucket and when I try to compile it I get the following error:</p>\n\n<blockquote>\n  <p>Failed to complete Gradle Execution</p>\n  \n  <p>Cause:\n  error in opening zip file.</p>\n</blockquote>\n\n<p>My <code>gradle-wrapper.properties</code> is as follows:</p>\n\n<blockquote>\n  <p>distributionBase=GRADLE_USER_HOME<br>\n  distributionPath=wrapper/dists<br>\n  zipStoreBase=GRADLE_USER_HOME<br>\n  zipStorePath=wrapper/dists<br>\n  distributionUrl=http\\://services.gradle.org/distributions/gradle-1.11-all.zip</p>\n</blockquote>\n\n<p>I wasn't able to get too much information from this but the full log states:</p>\n\n<blockquote>\n  <p>2014-05-23 14:06:28,950 [  32077]   WARN -\n  nal.AbstractExternalSystemTask - Cause: error in opening zip file \n  com.intellij.openapi.externalSystem.model.ExternalSystemException:\n  Cause: error in opening zip file  at\n  org.jetbrains.plugins.gradle.service.project.GradleExecutionHelper.execute(GradleExecutionHelper.java:206)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:116)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:64)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\n    at\n  com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:48)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:137)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:123)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:467)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:546)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:464)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)\n    at\n  com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:373)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)    at\n  com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:149)</p>\n  \n  <p>2014-05-23 14:06:28,950 [  32077]   WARN -\n  .project.GradleProjectImporter -   2014-05-23 14:06:28,951 [  32078]<br>\n  INFO - .project.GradleProjectImporter - Cause: error in opening zip\n  file</p>\n</blockquote>\n\n<p>I'm using Android studio 0.5.2.</p>\n\n<p>Can someone point me in the right direction on how to solve this?</p>\n"},{"tags":["java","generics","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1575139887,"post_id":59119189,"comment_id":104468213,"body_markdown":"Do these objects implement a common interface? Can they? Are you sure?","body":"Do these objects implement a common interface? Can they? Are you sure?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1575139950,"post_id":59119189,"comment_id":104468230,"body_markdown":"To make all the classes implement a common interface or extend a common superclass, defining the common `call()` method. Then to create a List&lt;ThatInterface&gt;, to iterate over it, and to call `.call()` on each of them. That&#39;s the whole principle of polymorphism.","body":"To make all the classes implement a common interface or extend a common superclass, defining the common <code>call()</code> method. Then to create a List&lt;ThatInterface&gt;, to iterate over it, and to call <code>.call()</code> on each of them. That&#39;s the whole principle of polymorphism."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1575142975,"post_id":59119189,"comment_id":104468950,"body_markdown":"@JBNizet What would this `call` method do, what behavior?","body":"@JBNizet What would this <code>call</code> method do, what behavior?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575143242,"post_id":59119189,"comment_id":104469018,"body_markdown":"It would do what the OP means by &quot;They need to be [...] recalled in the order they were stored&quot;.","body":"It would do what the OP means by &quot;They need to be [...] recalled in the order they were stored&quot;."},{"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"score":0,"creation_date":1575148936,"post_id":59119189,"comment_id":104470368,"body_markdown":"@JBNizet How would the interface manage this functionality? Can you give a rough outline of your logic here?","body":"@JBNizet How would the interface manage this functionality? Can you give a rough outline of your logic here?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575149736,"post_id":59119189,"comment_id":104470513,"body_markdown":"The interface doesn&#39;t manage anything. All classes implement the interface, and when you call thatInterface.call(), you actually call A.call() if thatInterface is an instance of A, or B.call if thatInterface is an instance of B. Really, it&#39;s the basic principle of interfaces and polymorphism. Your text book **must** cover that. The Java tutorial does: https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html","body":"The interface doesn&#39;t manage anything. All classes implement the interface, and when you call thatInterface.call(), you actually call A.call() if thatInterface is an instance of A, or B.call if thatInterface is an instance of B. Really, it&#39;s the basic principle of interfaces and polymorphism. Your text book <b>must</b> cover that. The Java tutorial does: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html</a>"},{"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"score":0,"creation_date":1575159151,"post_id":59119189,"comment_id":104472440,"body_markdown":"@JBNizet I believe you are misunderstanding the issue. These classes aren&#39;t related. They share no common ancestor. I must simply create and remember what order they were added to a collection of some sort. This is an architecture issue - but one I cannot resolve. I could implement a common interface - but I see how that could get the order in any meaningful way that offers advantages besides a basic list of untyped objects.\n\nCan you clarify your suggested implemented?","body":"@JBNizet I believe you are misunderstanding the issue. These classes aren&#39;t related. They share no common ancestor. I must simply create and remember what order they were added to a collection of some sort. This is an architecture issue - but one I cannot resolve. I could implement a common interface - but I see how that could get the order in any meaningful way that offers advantages besides a basic list of untyped objects.  Can you clarify your suggested implemented?"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675402601,"creation_date":1575162321,"answer_id":59121698,"question_id":59119189,"body_markdown":"If the objects do not share a common ancestor: \r\n\r\n&gt; These classes aren&#39;t related. They share no common ancestor.\r\n\r\nThen what you can do is to create another class that acts as a wrapper for:\r\n\r\n1. An object of type `T`.\r\n2. A `Consumer&lt;T&gt;` object to act as a reference to the code that needs to be invoked.\r\n\r\nFor example:\r\n\r\n```\r\n\tclass Invocable&lt;T&gt; {\r\n\t\tprivate final T target;\r\n\t\tprivate final Consumer&lt;T&gt; invocation;\r\n\t\t\r\n\t\tpublic Invocable(T target, Consumer&lt;T&gt; invocation) {\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.invocation = invocation;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void runInvocation() {\r\n\t\t\tinvocation.accept(target);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThen create another class that manages a `List&lt;Invocable&gt;` like the following:\r\n\r\n```\r\nclass RunnableList {\r\n\t\r\n\tprivate List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\r\n\t\r\n\tpublic &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\r\n\t\tinvocables.add(new Invocable&lt;T&gt;(target, invocation));\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tinvocables.forEach(Invocable::runInvocation);\r\n\t}\r\n}\t\r\n```\r\n\r\nAnd that&#39;s it! Just add ANY object to the `RunnableList` using the `add(T target, Consumer&lt;T&gt; invocation)` method and when you are done adding all your objects (with a reference to the respective code to be invoked) just invoke `run` on the `RunnableList`.\r\n\r\nThe following is a full working example of this, try it out to get the idea:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.function.Consumer;\r\n\r\npublic class RunnableList {\r\n\t\r\n\tprivate List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\r\n\t\r\n\tpublic &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\r\n\t\tinvocables.add(new Invocable&lt;T&gt;(target, invocation));\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tinvocables.forEach(Invocable::runInvocation);\r\n\t}\r\n\r\n\tstatic class Invocable&lt;T&gt; {\r\n\t\tprivate final T target;\r\n\t\tprivate final Consumer&lt;T&gt; invocation;\r\n\t\t\r\n\t\tpublic Invocable(T target, Consumer&lt;T&gt; invocation) {\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.invocation = invocation;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void runInvocation() {\r\n\t\t\tinvocation.accept(target);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// TEST\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tRunnableList runnableList = new RunnableList();\r\n\t\trunnableList.add(new ClassA(), o -&gt; o.run1(&quot;hello from A1&quot;));\r\n\t\trunnableList.add(new ClassB(), o -&gt; o.run1(&quot;hello from B1&quot;));\r\n\t\trunnableList.add(new ClassC(), o -&gt; o.run1(&quot;hello from C1&quot;));\r\n\r\n\t\trunnableList.add(new ClassA(), ClassA::run2);\r\n\t\trunnableList.add(new ClassB(), ClassB::run2);\r\n\t\trunnableList.add(new ClassC(), ClassC::run2);\r\n\t\trunnableList.run();\r\n\t}\r\n\t\r\n\tstatic class ClassA {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;A.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;A.run2&quot;); }\r\n\t}\r\n\tstatic class ClassB {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;B.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;B.run2&quot;); }\r\n\t}\r\n\tstatic class ClassC {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;C.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;C.run2&quot;); }\r\n\t}\r\n}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59121698)\r\n\r\nHope this helps.","title":"Best way to store an ordered list of objects that are of different types in Java?","body":"<p>If the objects do not share a common ancestor:</p>\n<blockquote>\n<p>These classes aren't related. They share no common ancestor.</p>\n</blockquote>\n<p>Then what you can do is to create another class that acts as a wrapper for:</p>\n<ol>\n<li>An object of type <code>T</code>.</li>\n<li>A <code>Consumer&lt;T&gt;</code> object to act as a reference to the code that needs to be invoked.</li>\n</ol>\n<p>For example:</p>\n<pre><code>    class Invocable&lt;T&gt; {\n        private final T target;\n        private final Consumer&lt;T&gt; invocation;\n        \n        public Invocable(T target, Consumer&lt;T&gt; invocation) {\n            this.target = target;\n            this.invocation = invocation;\n        }\n        \n        public void runInvocation() {\n            invocation.accept(target);\n        }\n    }\n</code></pre>\n<p>Then create another class that manages a <code>List&lt;Invocable&gt;</code> like the following:</p>\n<pre><code>class RunnableList {\n    \n    private List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\n    \n    public &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\n        invocables.add(new Invocable&lt;T&gt;(target, invocation));\n    }\n    \n    public void run() {\n        invocables.forEach(Invocable::runInvocation);\n    }\n}   \n</code></pre>\n<p>And that's it! Just add ANY object to the <code>RunnableList</code> using the <code>add(T target, Consumer&lt;T&gt; invocation)</code> method and when you are done adding all your objects (with a reference to the respective code to be invoked) just invoke <code>run</code> on the <code>RunnableList</code>.</p>\n<p>The following is a full working example of this, try it out to get the idea:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\npublic class RunnableList {\n    \n    private List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\n    \n    public &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\n        invocables.add(new Invocable&lt;T&gt;(target, invocation));\n    }\n    \n    public void run() {\n        invocables.forEach(Invocable::runInvocation);\n    }\n\n    static class Invocable&lt;T&gt; {\n        private final T target;\n        private final Consumer&lt;T&gt; invocation;\n        \n        public Invocable(T target, Consumer&lt;T&gt; invocation) {\n            this.target = target;\n            this.invocation = invocation;\n        }\n        \n        public void runInvocation() {\n            invocation.accept(target);\n        }\n    }\n    \n    // TEST\n    \n    public static void main(String[] args) {\n        RunnableList runnableList = new RunnableList();\n        runnableList.add(new ClassA(), o -&gt; o.run1(&quot;hello from A1&quot;));\n        runnableList.add(new ClassB(), o -&gt; o.run1(&quot;hello from B1&quot;));\n        runnableList.add(new ClassC(), o -&gt; o.run1(&quot;hello from C1&quot;));\n\n        runnableList.add(new ClassA(), ClassA::run2);\n        runnableList.add(new ClassB(), ClassB::run2);\n        runnableList.add(new ClassC(), ClassC::run2);\n        runnableList.run();\n    }\n    \n    static class ClassA {\n        public void run1(String msg) {\n            System.out.println(&quot;A.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;A.run2&quot;); }\n    }\n    static class ClassB {\n        public void run1(String msg) {\n            System.out.println(&quot;B.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;B.run2&quot;); }\n    }\n    static class ClassC {\n        public void run1(String msg) {\n            System.out.println(&quot;C.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;C.run2&quot;); }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59121698\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59121698,"answer_count":1,"score":2,"last_activity_date":1675402601,"creation_date":1575139735,"question_id":59119189,"body_markdown":"I have several classes that are used to create objects. These objects each have code that must be run that depends on the order of insertion.\r\n\r\nThey need to be stored in order - and recalled in the order they were stored.\r\n\r\n 1. Object A\r\n 2. Object B\r\n 3. Object A\r\n 4. Object A\r\n 5. Object C\r\n 6. Object D\r\n\r\n\r\nI&#39;m not sure if the proper way of handling this in Java is a generic list and checking typing at runtime.\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nI&#39;ve also thought about storing each object type in their own typed list with a parent object reading from the lists in the proper order. However, this seems more complex than just dealing with checking object types at runtime.\r\n\r\nWhat is the proper &quot;Java&quot; way to handle this?","title":"Best way to store an ordered list of objects that are of different types in Java?","body":"<p>I have several classes that are used to create objects. These objects each have code that must be run that depends on the order of insertion.</p>\n\n<p>They need to be stored in order - and recalled in the order they were stored.</p>\n\n<ol>\n<li>Object A</li>\n<li>Object B</li>\n<li>Object A</li>\n<li>Object A</li>\n<li>Object C</li>\n<li>Object D</li>\n</ol>\n\n<p>I'm not sure if the proper way of handling this in Java is a generic list and checking typing at runtime.</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>I've also thought about storing each object type in their own typed list with a parent object reading from the lists in the proper order. However, this seems more complex than just dealing with checking object types at runtime.</p>\n\n<p>What is the proper \"Java\" way to handle this?</p>\n"},{"tags":["java","algorithm","design-patterns","enums","functional-interface"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1574982545,"post_id":59097012,"comment_id":104427326,"body_markdown":"Are they actually strings? (Which seems like the wrong data type for a number.)","body":"Are they actually strings? (Which seems like the wrong data type for a number.)"},{"owner":{"account_id":15275486,"reputation":376,"user_id":11021331,"display_name":"Kelvin Ho"},"score":0,"creation_date":1574984864,"post_id":59097012,"comment_id":104427733,"body_markdown":"Do you store the value as String in DB? If they are actually numeric, it is better to do the mapping using comparison operators.","body":"Do you store the value as String in DB? If they are actually numeric, it is better to do the mapping using comparison operators."}],"answers":[{"tags":[],"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574983293,"creation_date":1574983293,"answer_id":59097113,"question_id":59097012,"body_markdown":"Use other hash map to store expected value and involve values based on your database value and put into your hashmap.\r\nDatabase value would be key to your expected hashmap hm in below example.\r\nfor example:\r\n\r\n    HashMap&lt;Integer,String&gt; hm=new HashMap&lt;Integer,String&gt;();  \r\n    hm.put(1,&quot;Sad&quot;); \r\n    hm.put(2,&quot;Sad&quot;); \r\n    hm.put(3,&quot;Sad&quot;);\r\n    hm.put(7,&quot;Ok&quot;);\r\n    hm.put(10,&quot;Happy&quot;);\r\n    String expval = hm.get(3);\r\n    map.put(Value, expval)\r\n","title":"How to create HashMap, using value retrieved from Database?","body":"<p>Use other hash map to store expected value and involve values based on your database value and put into your hashmap.\nDatabase value would be key to your expected hashmap hm in below example.\nfor example:</p>\n\n<pre><code>HashMap&lt;Integer,String&gt; hm=new HashMap&lt;Integer,String&gt;();  \nhm.put(1,\"Sad\"); \nhm.put(2,\"Sad\"); \nhm.put(3,\"Sad\");\nhm.put(7,\"Ok\");\nhm.put(10,\"Happy\");\nString expval = hm.get(3);\nmap.put(Value, expval)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675402596,"creation_date":1574984358,"answer_id":59097202,"question_id":59097012,"body_markdown":"You could use Java `enum`. Define an `enum` that contains all your message mappings linked to the associated numbers. Then create an API in this enum to reverse look for the enum constant that contains a specific number and use that API to resolve what to put in your map.\r\n\r\nThe following is a working demo of this approach, you can run it to see how it works:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EnumSelector {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;Integer, String&gt; store = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tstore.computeIfAbsent(1, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(4, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(8, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(10, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(35, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(0, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(40, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(25, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(33, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(55, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(-1, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(100, EmotionalState::findLabel);\r\n\r\n\t\tSystem.out.println(store);\r\n\t}\r\n\r\n\tpublic static enum EmotionalState {\r\n\t\tNULL(&quot;Null&quot;), // No levels\r\n\t\tSINGLE(&quot;Single&quot;, 0), // Single level of 0\r\n\t\tCOMBO_ENUM(&quot;Combo&quot;, 20, 30, 40, 50, 60), // From 20-30 + 40, 50, 60\r\n\t\tENUMERATED(&quot;Enumerated&quot;, 33, 33, 28, 55), // From 33-33 + 28, 55\r\n\t\t\r\n\t\tSAD(&quot;Sad&quot;, 1, 6), \r\n\t\tOK(&quot;Ok&quot;, 7, 8), \r\n\t\tHAPPY(&quot;Happy&quot;, 9, 15),\r\n\t\tDEFAULT_STATE(&quot;Default&quot;);\r\n\t\t\r\n\t\tprivate String name;\r\n\t\tprivate List&lt;Integer&gt; levels;\r\n\t\t\r\n\t\tEmotionalState(String name, int... levels) {\r\n\t\t\tthis.name = name;\r\n\r\n\t\t\t// The first two values will be considered as range\r\n\t\t\tIntStream initialStream = (levels.length &lt; 2) ? \r\n\t\t\t\t\tArrays.stream(levels) : // Single value\r\n\t\t\t\t\tIntStream.range(levels[0], levels[1] + 1); // Range of values\r\n\t\t\t\r\n\t\t\tthis.levels = initialStream\r\n\t\t\t\t\t.mapToObj(Integer::new)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\t\r\n\t\t\t// Add remaining values as literals\r\n\t\t\tif (levels.length &gt; 2)\r\n\t\t\t\tArrays.stream(Arrays.copyOfRange(levels, 2, levels.length))\r\n\t\t\t\t\t.mapToObj(Integer::new)\r\n\t\t\t\t\t.forEach(this.levels::add);\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic boolean containsLevel(int level) {\r\n\t\t\treturn levels.stream()\r\n\t\t\t\t\t.filter(l -&gt; l.intValue() == level)\r\n\t\t\t\t\t.findAny()\r\n\t\t\t\t\t.isPresent();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static EmotionalState findFor(int level) {\r\n\t\t\treturn Stream.of(EmotionalState.values())\r\n\t\t\t\t\t.filter(en -&gt; en.containsLevel(level))\r\n\t\t\t\t\t.findAny()\r\n\t\t\t\t\t.orElse(DEFAULT_STATE);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String findLabel(String level) {\r\n\t\t\treturn findLabel(Integer.parseInt(level));\r\n\t\t}\r\n\r\n\t\tpublic static String findLabel(int level) {\r\n\t\t\treturn EmotionalState.findFor(level).getName();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59097202)\r\n\r\nHope this helps.","title":"How to create HashMap, using value retrieved from Database?","body":"<p>You could use Java <code>enum</code>. Define an <code>enum</code> that contains all your message mappings linked to the associated numbers. Then create an API in this enum to reverse look for the enum constant that contains a specific number and use that API to resolve what to put in your map.</p>\n<p>The following is a working demo of this approach, you can run it to see how it works:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\nimport java.util.stream.Stream;\n\npublic class EnumSelector {\n    \n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; store = new HashMap&lt;&gt;();\n        \n        store.computeIfAbsent(1, EmotionalState::findLabel);\n        store.computeIfAbsent(4, EmotionalState::findLabel);\n        store.computeIfAbsent(8, EmotionalState::findLabel);\n        store.computeIfAbsent(10, EmotionalState::findLabel);\n        store.computeIfAbsent(35, EmotionalState::findLabel);\n        store.computeIfAbsent(0, EmotionalState::findLabel);\n        store.computeIfAbsent(40, EmotionalState::findLabel);\n        store.computeIfAbsent(25, EmotionalState::findLabel);\n        store.computeIfAbsent(33, EmotionalState::findLabel);\n        store.computeIfAbsent(55, EmotionalState::findLabel);\n        store.computeIfAbsent(-1, EmotionalState::findLabel);\n        store.computeIfAbsent(100, EmotionalState::findLabel);\n\n        System.out.println(store);\n    }\n\n    public static enum EmotionalState {\n        NULL(&quot;Null&quot;), // No levels\n        SINGLE(&quot;Single&quot;, 0), // Single level of 0\n        COMBO_ENUM(&quot;Combo&quot;, 20, 30, 40, 50, 60), // From 20-30 + 40, 50, 60\n        ENUMERATED(&quot;Enumerated&quot;, 33, 33, 28, 55), // From 33-33 + 28, 55\n        \n        SAD(&quot;Sad&quot;, 1, 6), \n        OK(&quot;Ok&quot;, 7, 8), \n        HAPPY(&quot;Happy&quot;, 9, 15),\n        DEFAULT_STATE(&quot;Default&quot;);\n        \n        private String name;\n        private List&lt;Integer&gt; levels;\n        \n        EmotionalState(String name, int... levels) {\n            this.name = name;\n\n            // The first two values will be considered as range\n            IntStream initialStream = (levels.length &lt; 2) ? \n                    Arrays.stream(levels) : // Single value\n                    IntStream.range(levels[0], levels[1] + 1); // Range of values\n            \n            this.levels = initialStream\n                    .mapToObj(Integer::new)\n                    .collect(Collectors.toList());\n            \n            // Add remaining values as literals\n            if (levels.length &gt; 2)\n                Arrays.stream(Arrays.copyOfRange(levels, 2, levels.length))\n                    .mapToObj(Integer::new)\n                    .forEach(this.levels::add);\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public boolean containsLevel(int level) {\n            return levels.stream()\n                    .filter(l -&gt; l.intValue() == level)\n                    .findAny()\n                    .isPresent();\n        }\n        \n        public static EmotionalState findFor(int level) {\n            return Stream.of(EmotionalState.values())\n                    .filter(en -&gt; en.containsLevel(level))\n                    .findAny()\n                    .orElse(DEFAULT_STATE);\n        }\n        \n        public static String findLabel(String level) {\n            return findLabel(Integer.parseInt(level));\n        }\n\n        public static String findLabel(int level) {\n            return EmotionalState.findFor(level).getName();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59097202\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":16923780,"reputation":73,"user_id":12239920,"display_name":"Jazz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59097202,"answer_count":2,"score":2,"last_activity_date":1675402596,"creation_date":1574982195,"question_id":59097012,"body_markdown":"I have a database column which contains values from 0 to 10\r\nBased on value retrieved from database, i need to create a HashMap&lt;String, String&gt;\r\n\r\nExample: If I get value from 0 to 6, I need to store &#39;sad&#39; in HashMap\r\n         If I get value from 7 to 8 , I need to store &#39;ok&#39; in HashMap\r\n         If I get value from 9 to 10, I need to store &#39;happy&#39; in HashMap\r\n\r\nI know one way to do it like \r\n\r\n    if (value.equals(&quot;1&quot;) || value.equals(&quot;2&quot;) || value.equals(&quot;3&quot;)..... || value.equals(&quot;6&quot;){\r\n    map.put (value,&quot;sad&quot;)\r\n    }\r\n    else if (value.equals(&quot;7&quot;) || value.equals(&quot;8&quot;)){\r\n    map.put(value, &quot;ok&quot;)\r\n    } else{\r\n    map.put(value, &quot;happy&quot;)\r\n    }\r\n\r\nI am not sure if this is the Correct way to do it or not? Because if there are more values from lets say 0 to 50, it would be cumbersome. Is there any better way to do it?","title":"How to create HashMap, using value retrieved from Database?","body":"<p>I have a database column which contains values from 0 to 10\nBased on value retrieved from database, i need to create a HashMap</p>\n\n<p>Example: If I get value from 0 to 6, I need to store 'sad' in HashMap\n         If I get value from 7 to 8 , I need to store 'ok' in HashMap\n         If I get value from 9 to 10, I need to store 'happy' in HashMap</p>\n\n<p>I know one way to do it like </p>\n\n<pre><code>if (value.equals(\"1\") || value.equals(\"2\") || value.equals(\"3\")..... || value.equals(\"6\"){\nmap.put (value,\"sad\")\n}\nelse if (value.equals(\"7\") || value.equals(\"8\")){\nmap.put(value, \"ok\")\n} else{\nmap.put(value, \"happy\")\n}\n</code></pre>\n\n<p>I am not sure if this is the Correct way to do it or not? Because if there are more values from lets say 0 to 50, it would be cumbersome. Is there any better way to do it?</p>\n"},{"tags":["java","android","arrays","arraylist","collections"],"comments":[{"owner":{"account_id":7921597,"reputation":1911,"user_id":5982406,"accept_rate":94,"display_name":"Syed Ahmed Jamil"},"score":2,"creation_date":1574972360,"post_id":59095599,"comment_id":104424885,"body_markdown":"It would be great if you could share some screenshots of what you are currently experiencing and also some related code.","body":"It would be great if you could share some screenshots of what you are currently experiencing and also some related code."},{"owner":{"account_id":5292766,"reputation":576,"user_id":4224811,"accept_rate":100,"display_name":"Gabriel Vasconcelos"},"score":0,"creation_date":1574972681,"post_id":59095599,"comment_id":104424977,"body_markdown":"Sounds to me that what you want is to simply get the one item in the list you want and throw within *another* `ArrayList` that can be then passed to the other ArrayAdapter.","body":"Sounds to me that what you want is to simply get the one item in the list you want and throw within <i>another</i> <code>ArrayList</code> that can be then passed to the other ArrayAdapter."},{"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"score":0,"creation_date":1574977395,"post_id":59095599,"comment_id":104426220,"body_markdown":"@SyedAhmedJamil Good point, I added a screenshot but let me know what code you&#39;d like me to include and I will.","body":"@SyedAhmedJamil Good point, I added a screenshot but let me know what code you&#39;d like me to include and I will."},{"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"score":0,"creation_date":1574978733,"post_id":59095599,"comment_id":104426523,"body_markdown":"@GabrielVasconcelos I was beginning to think the same. I will give it a try.","body":"@GabrielVasconcelos I was beginning to think the same. I will give it a try."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675402591,"creation_date":1574973791,"answer_id":59095919,"question_id":59095599,"body_markdown":"You could start by creating a *trimmed version* of the object you want to view and then create a method utility that allows you to filter out the elements of your original `List` according to a parametrized condition. The elements left standing you map them to the new *trim* version and use that new `List` as the source for your custom `ArrayAdapter`. The following is a skeleton of this idea:\r\n\r\n```\r\n\tpublic ArrayAdapter&lt;TrimmedElement&gt; createCustomArrayAdapter(\r\n\t\t\tContext context, List&lt;WholeElement&gt; target, Predicate&lt;WholeElement&gt; condition) {\r\n\t\t\r\n\t\tList&lt;TrimmedElement&gt; trimmedList = target.stream()\r\n\t\t\t\t.filter(condition)\r\n\t\t\t\t.map(TrimmedElement::new)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn new MyCustomArrayAdapter&lt;TrimmedElement&gt;(context, trimmedList);\r\n\t}\r\n\t\r\n\tstatic class WholeElement {}\r\n\tstatic class TrimmedElement {\r\n\t\tpublic TrimmedElement(WholeElement ele) {\r\n\t\t\t// Copy the information desired\r\n\t\t}\r\n\t}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59095919)\r\n\r\nHope this helps.","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>You could start by creating a <em>trimmed version</em> of the object you want to view and then create a method utility that allows you to filter out the elements of your original <code>List</code> according to a parametrized condition. The elements left standing you map them to the new <em>trim</em> version and use that new <code>List</code> as the source for your custom <code>ArrayAdapter</code>. The following is a skeleton of this idea:</p>\n<pre><code>    public ArrayAdapter&lt;TrimmedElement&gt; createCustomArrayAdapter(\n            Context context, List&lt;WholeElement&gt; target, Predicate&lt;WholeElement&gt; condition) {\n        \n        List&lt;TrimmedElement&gt; trimmedList = target.stream()\n                .filter(condition)\n                .map(TrimmedElement::new)\n                .collect(Collectors.toList());\n        \n        return new MyCustomArrayAdapter&lt;TrimmedElement&gt;(context, trimmedList);\n    }\n    \n    static class WholeElement {}\n    static class TrimmedElement {\n        public TrimmedElement(WholeElement ele) {\n            // Copy the information desired\n        }\n    }\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59095919\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7921597,"reputation":1911,"user_id":5982406,"accept_rate":94,"display_name":"Syed Ahmed Jamil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575056654,"creation_date":1574974559,"answer_id":59096053,"question_id":59095599,"body_markdown":"By default the `ArrayAdapter` will create views for each array item in your `ArrayList`. To customise how the `ArrayAdapter` create views for your data you need to extend it and override its `getView()` method and use a different layout for each item like this \r\n\r\n***NOTE:** Im assuming `Music` is that class which has those 3 strings and you have created a new layout called `unique_layout.xml` which has only one `TextView` to display one you those strings.*\r\n\r\n    public class CustomArrayAdapter extends ArrayAdapter&lt;Music&gt; {\r\n        public CustomArrayAdapter(Context context, ArrayList&lt;Music&gt; musicList) {\r\n           super(context, 0, users);\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n           Music music = getItem(position); \r\n   \r\n           // Here use that new layout that you created \r\n           if (convertView == null) {\r\n              convertView = LayoutInflater.from(getContext()).inflate(R.layout.unique_layout, parent, false);\r\n           }\r\n\r\n           // Assign text to the TextView from that new layout\r\n           TextView category = (TextView) convertView.findViewById(R.id.category);\r\n           category.setText(music.category);\r\n\r\n           return convertView;\r\n       }\r\n    }\r\n\r\n\r\n**UPDATE: Remove Duplicates from ArrayList**\r\n\r\n***NOTE:** The following methods removes duplicates and put the resulting list in a new `ArrayList&lt;String&gt;` which you can use as source of your `ArrayAdapter`. So you don&#39;t have to extend `ArrayAdapter` now.* \r\n\r\nThere are 3 common ways to remove duplicates from `ArrayList`\r\n\r\n 1. Do it manually *( good luck in that )*\r\n 2. Use `Streams` *( only available for API 24: Nougat and greater )*\r\n 3. Use `LinkedHashSet` *( available since API 1 )*\r\n\r\nLets say you have array list defined as follows\r\n\r\n    ArrayList&lt;Music&gt; musicList = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; categoryList = new ArrayList&lt;&gt;();\r\n\r\n    musicList.add(new Music(&quot;song1&quot;, &quot;category1&quot;, &quot;artist1&quot;));\r\n    musicList.add(new Music(&quot;song2&quot;, &quot;category2&quot;, &quot;artist2&quot;));\r\n    musicList.add(new Music(&quot;song3&quot;, &quot;category3&quot;, &quot;artist3&quot;));\r\n    musicList.add(new Music(&quot;song4&quot;, &quot;category2&quot;, &quot;artist4&quot;));\r\n    musicList.add(new Music(&quot;song5&quot;, &quot;category1&quot;, &quot;artist1&quot;));\r\n    musicList.add(new Music(&quot;song6&quot;, &quot;category4&quot;, &quot;artist5&quot;));\r\n    musicList.add(new Music(&quot;song7&quot;, &quot;category3&quot;, &quot;artist2&quot;));\r\n\r\n\r\n\r\n**Option 2 : Using `Streams`**\r\n\r\nWhat I&#39;m doing here is that I&#39;m extracting only the `category` field using the `map()` method and removing duplicates using the `distinct()` method then finally  collecting all this modification in `categoryList`. If you need to extract unique artist, just change `music.category` to `music.artist` \r\n\r\nEZ !\r\n\r\n***NOTE:** After the `map()` method we are now dealing with array of strings so `distinct()` uses the `equals()` and `hashCode()` methods of the `String` class to find and remove duplicates. If you are using `distinct()` directly on your `musicList` which is an array of `Music` class then your `Music` class should override and provide implementation of `equals()` and `hashCode()` methods.*\r\n\r\nRead more about them [here][1] or [here][2]\r\n\r\n\r\n    categoryList = musicList.stream()\r\n                  .map((music)-&gt; music.category)\r\n                  .distinct()\r\n                  .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n    Log.d(&quot;CATEGORY LIST&quot; ,  categoryList.toString())\r\n\r\n    //LOG Output \r\n    CATEGORY LIST: [category1, category2, category3, category4]\r\n\r\n**Option 3 : Using `LinkedHashSet`**\r\n\r\nThis method is rather simple. As before first extracting `category` fields and storing them into `categoryList`. Creating `LinkedHashSet` will automatically remove duplicate values just like the `distinct()` method did when using streams. Afterwards just clearing the `categoryList` and updating it with unique values from the hash set.\r\n\r\n    musicList.forEach((music) -&gt; {\r\n        categoryList.add(music.category);\r\n    });\r\n\r\n    LinkedHashSet&lt;String&gt; uniqueCategoryHashSet = new LinkedHashSet(categoryList);\r\n\r\n    categoryList.clear();\r\n    categoryList.addAll(uniqueCategoryHashSet);\r\n\r\n    Log.d(&quot;CATEGORY LIST&quot; ,  categoryList.toString())\r\n\r\n    //LOG Output \r\n    CATEGORY LIST: [category1, category2, category3, category4]\r\n\r\nNow by no means I would mark **Option 3** as an efficient solution. Maybe you can do better doing it manually if you can&#39;t use streams due to API restriction. But this gets the job done.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-equals-hashcode-contracts\r\n  [2]: https://www.journaldev.com/21095/java-equals-hashcode","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>By default the <code>ArrayAdapter</code> will create views for each array item in your <code>ArrayList</code>. To customise how the <code>ArrayAdapter</code> create views for your data you need to extend it and override its <code>getView()</code> method and use a different layout for each item like this </p>\n\n<p><strong><em>NOTE:</strong> Im assuming <code>Music</code> is that class which has those 3 strings and you have created a new layout called <code>unique_layout.xml</code> which has only one <code>TextView</code> to display one you those strings.</em></p>\n\n<pre><code>public class CustomArrayAdapter extends ArrayAdapter&lt;Music&gt; {\n    public CustomArrayAdapter(Context context, ArrayList&lt;Music&gt; musicList) {\n       super(context, 0, users);\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n       Music music = getItem(position); \n\n       // Here use that new layout that you created \n       if (convertView == null) {\n          convertView = LayoutInflater.from(getContext()).inflate(R.layout.unique_layout, parent, false);\n       }\n\n       // Assign text to the TextView from that new layout\n       TextView category = (TextView) convertView.findViewById(R.id.category);\n       category.setText(music.category);\n\n       return convertView;\n   }\n}\n</code></pre>\n\n<p><strong>UPDATE: Remove Duplicates from ArrayList</strong></p>\n\n<p><strong><em>NOTE:</strong> The following methods removes duplicates and put the resulting list in a new <code>ArrayList&lt;String&gt;</code> which you can use as source of your <code>ArrayAdapter</code>. So you don't have to extend <code>ArrayAdapter</code> now.</em> </p>\n\n<p>There are 3 common ways to remove duplicates from <code>ArrayList</code></p>\n\n<ol>\n<li>Do it manually <em>( good luck in that )</em></li>\n<li>Use <code>Streams</code> <em>( only available for API 24: Nougat and greater )</em></li>\n<li>Use <code>LinkedHashSet</code> <em>( available since API 1 )</em></li>\n</ol>\n\n<p>Lets say you have array list defined as follows</p>\n\n<pre><code>ArrayList&lt;Music&gt; musicList = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; categoryList = new ArrayList&lt;&gt;();\n\nmusicList.add(new Music(\"song1\", \"category1\", \"artist1\"));\nmusicList.add(new Music(\"song2\", \"category2\", \"artist2\"));\nmusicList.add(new Music(\"song3\", \"category3\", \"artist3\"));\nmusicList.add(new Music(\"song4\", \"category2\", \"artist4\"));\nmusicList.add(new Music(\"song5\", \"category1\", \"artist1\"));\nmusicList.add(new Music(\"song6\", \"category4\", \"artist5\"));\nmusicList.add(new Music(\"song7\", \"category3\", \"artist2\"));\n</code></pre>\n\n<p><strong>Option 2 : Using <code>Streams</code></strong></p>\n\n<p>What I'm doing here is that I'm extracting only the <code>category</code> field using the <code>map()</code> method and removing duplicates using the <code>distinct()</code> method then finally  collecting all this modification in <code>categoryList</code>. If you need to extract unique artist, just change <code>music.category</code> to <code>music.artist</code> </p>\n\n<p>EZ !</p>\n\n<p><strong><em>NOTE:</strong> After the <code>map()</code> method we are now dealing with array of strings so <code>distinct()</code> uses the <code>equals()</code> and <code>hashCode()</code> methods of the <code>String</code> class to find and remove duplicates. If you are using <code>distinct()</code> directly on your <code>musicList</code> which is an array of <code>Music</code> class then your <code>Music</code> class should override and provide implementation of <code>equals()</code> and <code>hashCode()</code> methods.</em></p>\n\n<p>Read more about them <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://www.journaldev.com/21095/java-equals-hashcode\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>categoryList = musicList.stream()\n              .map((music)-&gt; music.category)\n              .distinct()\n              .collect(Collectors.toCollection(ArrayList::new));\n\nLog.d(\"CATEGORY LIST\" ,  categoryList.toString())\n\n//LOG Output \nCATEGORY LIST: [category1, category2, category3, category4]\n</code></pre>\n\n<p><strong>Option 3 : Using <code>LinkedHashSet</code></strong></p>\n\n<p>This method is rather simple. As before first extracting <code>category</code> fields and storing them into <code>categoryList</code>. Creating <code>LinkedHashSet</code> will automatically remove duplicate values just like the <code>distinct()</code> method did when using streams. Afterwards just clearing the <code>categoryList</code> and updating it with unique values from the hash set.</p>\n\n<pre><code>musicList.forEach((music) -&gt; {\n    categoryList.add(music.category);\n});\n\nLinkedHashSet&lt;String&gt; uniqueCategoryHashSet = new LinkedHashSet(categoryList);\n\ncategoryList.clear();\ncategoryList.addAll(uniqueCategoryHashSet);\n\nLog.d(\"CATEGORY LIST\" ,  categoryList.toString())\n\n//LOG Output \nCATEGORY LIST: [category1, category2, category3, category4]\n</code></pre>\n\n<p>Now by no means I would mark <strong>Option 3</strong> as an efficient solution. Maybe you can do better doing it manually if you can't use streams due to API restriction. But this gets the job done.</p>\n"}],"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59096053,"answer_count":2,"score":0,"last_activity_date":1675402591,"creation_date":1574971862,"question_id":59095599,"body_markdown":"\r\nWorking on a project and have hit a mental wall trying to use a custom ````ArrayAdapter```` to display only unique elements from a class. I have a Class I&#39;ve created that is simply made up of 3 strings. SongName, Category and Artist. \r\n\r\nWith that class I have created an ````ArrayList```` in my `MainActivity`. I would like to use that `ArrayList` in a few different activities. I&#39;ve been able to use it in an ````ArrayAdapter```` that I created that displays all 3 fields in ````TextViews```` but I would like to create another `ArrayAdapter` for a different activity that only displays 1 of those fields and doesn&#39;t show the repeating items. So, for example, an `ArrayAdapter`  that is only provided Category element and only displays the unique ones.  \r\n\r\nI&#39;m having a hard time wrapping my head around how to only pass 1 element from the `ArrayList` to `ArrayAdapter` and make sure it doesn&#39;t display duplicates. \r\n\r\n\r\nFairly new to the android development and haven&#39;t been able to find an answer to this, so would appreciate it if you could help me or point me in the right direction, I would greatly appreciate it.\r\n\r\nEdit Answer: was able to get it to work by adding this:\r\n````\r\n        ArrayList&lt;Music&gt; Library = MainActivity.music;\r\n\r\n\r\n        ArrayList&lt;String&gt; artists = new ArrayList&lt;String&gt;();\r\n\r\n        Log.i(&quot;MainActivity&quot;, String.valueOf(Library.size()));\r\n        for (int i = 0; i&lt;Library.size(); i++){\r\n            String artist = Library.get(i).getArtist();\r\n            if (!artists.contains(artist))\r\n            artists.add(artist);\r\n\r\n            Log.i(&quot;MainActivity&quot;, &quot;artist&quot;);\r\n        } \r\n````\r\n\r\nEdit: including screenshot of the original ArrayList below. As you can see in my idea some of the categories and artists would repeat. I would like to create an activity that only displays the artists and another that only displays the categories. With the caveat being I only want the unique values to be displayed not duplicates &amp; including github link. \r\n\r\ngithub : https://github.com/Nimzr/Music-Player\r\n\r\n[![Arraylist music from the Music class][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Syc4V.png","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>Working on a project and have hit a mental wall trying to use a custom <code>ArrayAdapter</code> to display only unique elements from a class. I have a Class I've created that is simply made up of 3 strings. SongName, Category and Artist.</p>\n<p>With that class I have created an <code>ArrayList</code> in my <code>MainActivity</code>. I would like to use that <code>ArrayList</code> in a few different activities. I've been able to use it in an <code>ArrayAdapter</code> that I created that displays all 3 fields in <code>TextViews</code> but I would like to create another <code>ArrayAdapter</code> for a different activity that only displays 1 of those fields and doesn't show the repeating items. So, for example, an <code>ArrayAdapter</code>  that is only provided Category element and only displays the unique ones.</p>\n<p>I'm having a hard time wrapping my head around how to only pass 1 element from the <code>ArrayList</code> to <code>ArrayAdapter</code> and make sure it doesn't display duplicates.</p>\n<p>Fairly new to the android development and haven't been able to find an answer to this, so would appreciate it if you could help me or point me in the right direction, I would greatly appreciate it.</p>\n<p>Edit Answer: was able to get it to work by adding this:</p>\n<pre><code>        ArrayList&lt;Music&gt; Library = MainActivity.music;\n\n\n        ArrayList&lt;String&gt; artists = new ArrayList&lt;String&gt;();\n\n        Log.i(&quot;MainActivity&quot;, String.valueOf(Library.size()));\n        for (int i = 0; i&lt;Library.size(); i++){\n            String artist = Library.get(i).getArtist();\n            if (!artists.contains(artist))\n            artists.add(artist);\n\n            Log.i(&quot;MainActivity&quot;, &quot;artist&quot;);\n        } \n</code></pre>\n<p>Edit: including screenshot of the original ArrayList below. As you can see in my idea some of the categories and artists would repeat. I would like to create an activity that only displays the artists and another that only displays the categories. With the caveat being I only want the unique values to be displayed not duplicates &amp; including github link.</p>\n<p>github : <a href=\"https://github.com/Nimzr/Music-Player\" rel=\"nofollow noreferrer\">https://github.com/Nimzr/Music-Player</a></p>\n<p><a href=\"https://i.stack.imgur.com/Syc4V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Syc4V.png\" alt=\"Arraylist music from the Music class\" /></a></p>\n"},{"tags":["java","math","finance"],"comments":[{"owner":{"account_id":2332358,"reputation":93,"user_id":2045423,"display_name":"Tony Farias"},"score":0,"creation_date":1574908673,"post_id":59080847,"comment_id":104398714,"body_markdown":"For Java switch statements, you should  add &quot;break;&quot; at the end of the case, or you will execute subsequent statement. So you may see multiple print statements here. Regarding the maturity formula, what is the unit of the time of investment you are entering in ? Is it  years? can you give an example of the inputs and the result you are getting?","body":"For Java switch statements, you should  add &quot;break;&quot; at the end of the case, or you will execute subsequent statement. So you may see multiple print statements here. Regarding the maturity formula, what is the unit of the time of investment you are entering in ? Is it  years? can you give an example of the inputs and the result you are getting?"},{"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"score":0,"creation_date":1574909479,"post_id":59080847,"comment_id":104398859,"body_markdown":"for example, im putting 11 but its as a month so i have to do 11/12 and then the calculation part where im stuck on","body":"for example, im putting 11 but its as a month so i have to do 11/12 and then the calculation part where im stuck on"},{"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"score":0,"creation_date":1574910272,"post_id":59080847,"comment_id":104399006,"body_markdown":"for example The maturity value of $700 at an interest rate of 1.5% p.m. after 4 months =  is $742 but i get something else","body":"for example The maturity value of $700 at an interest rate of 1.5% p.m. after 4 months =  is $742 but i get something else"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1574911850,"post_id":59080847,"comment_id":104399345,"body_markdown":"What is the &quot;something else&quot; you are getting? With your example, are you getting $3.5 rather than $42?","body":"What is the &quot;something else&quot; you are getting? With your example, are you getting $3.5 rather than $42?"},{"owner":{"account_id":9716614,"reputation":736,"user_id":7206778,"accept_rate":75,"display_name":"Austin"},"score":0,"creation_date":1574912774,"post_id":59080847,"comment_id":104399563,"body_markdown":"What is the exact formula you are trying to use to calculate the maturity","body":"What is the exact formula you are trying to use to calculate the maturity"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402586,"creation_date":1574923164,"answer_id":59083054,"question_id":59080847,"body_markdown":"The formula for maturity includes a compounding rate, so instead of:\r\n\r\n```\r\nprinciple * (1 + rate * monthly)\r\n```\r\n\r\nyou should be using in general:\r\n\r\n```\r\nprinciple * Math.pow(1 + periodicRate, compoundingPeriods)\r\n```\r\n\r\nSo specifically for your monthly compounding, the following method computes the desired maturity:\r\n\r\n```\r\n\tdouble computeMaturity(double principle, double monthlyRate, double months) {\r\n\t\treturn principle * Math.pow(1 + monthlyRate, months);\r\n\t}\r\n``` \r\n\r\nA final note to remind that the annual rate has to be given in fractional value and not percentual (10% rate = 0.1 `monthlyRate`).\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59083054)\r\n\r\nHope this helps.","title":"How to get the maturity value from simple interest and the equation for it","body":"<p>The formula for maturity includes a compounding rate, so instead of:</p>\n<pre><code>principle * (1 + rate * monthly)\n</code></pre>\n<p>you should be using in general:</p>\n<pre><code>principle * Math.pow(1 + periodicRate, compoundingPeriods)\n</code></pre>\n<p>So specifically for your monthly compounding, the following method computes the desired maturity:</p>\n<pre><code>    double computeMaturity(double principle, double monthlyRate, double months) {\n        return principle * Math.pow(1 + monthlyRate, months);\n    }\n</code></pre>\n<p>A final note to remind that the annual rate has to be given in fractional value and not percentual (10% rate = 0.1 <code>monthlyRate</code>).</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59083054\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59083054,"answer_count":1,"score":1,"last_activity_date":1675402586,"creation_date":1574907235,"question_id":59080847,"body_markdown":"For the maturity I think the formula is wrong and it gives wrong answer. I just want it monthly. Maturity case is at the end. Any help would be appreciated.\r\n\r\n\r\n```\r\npackage interest;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Interest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner userInput = new Scanner(System.in);\r\n        Scanner whatKindPeriod = new Scanner(System.in);\r\n        double principle;\r\n        double rate;\r\n        double period;\r\n        double result;\r\n        double periodNumber;\r\n        String type;\r\n        String matOrSimp;\r\n        double matResult;\r\n\r\n        System.out.println(&quot;find maturity or simple interest? for simple interest enter simple, and for maturity enter maturity&quot;);\r\n        matOrSimp = userInput.next();\r\n        switch (matOrSimp) {\r\n            case &quot;simple&quot;:\r\n                System.out.println(&quot;please enter the principle:&quot;);\r\n                principle = userInput.nextDouble();\r\n                System.out.println(&quot;Enter the rate:&quot;);\r\n                rate = userInput.nextDouble();\r\n                System.out.println(&quot;enter period:&quot;);\r\n                period = userInput.nextDouble();\r\n                System.out.println(&quot;is it daily, monthly or yearly?&quot;);\r\n                type = userInput.next();\r\n                switch (type) {\r\n                    case &quot;yearly&quot;:\r\n                        result = (principle * rate * period) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                    case &quot;daily&quot;:\r\n                        double daily = period / 365;\r\n                        result = (principle * rate * daily) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                    case &quot;monthly&quot;:\r\n                        double monthly = period / 12;\r\n                        result = (principle * rate * monthly) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                        SimpleInterest interest = new SimpleInterest(principle, rate, period);\r\n                }\r\n            case &quot;maturity&quot;:\r\n\r\n                System.out.println(&quot;please enter the principle:&quot;);\r\n                principle = userInput.nextDouble();\r\n                System.out.println(&quot;Enter the rate:&quot;);\r\n                rate = userInput.nextDouble();\r\n                System.out.println(&quot;enter time of invesment:&quot;);\r\n                period = userInput.nextDouble();\r\n                double monthly = period / 12;\r\n\r\n                matResult = (principle * (1 + rate * monthly));\r\n                System.out.println(&quot;result is:&quot; + matResult);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How to get the maturity value from simple interest and the equation for it","body":"<p>For the maturity I think the formula is wrong and it gives wrong answer. I just want it monthly. Maturity case is at the end. Any help would be appreciated.</p>\n\n<pre><code>package interest;\n\nimport java.util.Scanner;\n\npublic class Interest {\n\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n        Scanner whatKindPeriod = new Scanner(System.in);\n        double principle;\n        double rate;\n        double period;\n        double result;\n        double periodNumber;\n        String type;\n        String matOrSimp;\n        double matResult;\n\n        System.out.println(\"find maturity or simple interest? for simple interest enter simple, and for maturity enter maturity\");\n        matOrSimp = userInput.next();\n        switch (matOrSimp) {\n            case \"simple\":\n                System.out.println(\"please enter the principle:\");\n                principle = userInput.nextDouble();\n                System.out.println(\"Enter the rate:\");\n                rate = userInput.nextDouble();\n                System.out.println(\"enter period:\");\n                period = userInput.nextDouble();\n                System.out.println(\"is it daily, monthly or yearly?\");\n                type = userInput.next();\n                switch (type) {\n                    case \"yearly\":\n                        result = (principle * rate * period) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                    case \"daily\":\n                        double daily = period / 365;\n                        result = (principle * rate * daily) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                    case \"monthly\":\n                        double monthly = period / 12;\n                        result = (principle * rate * monthly) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                        SimpleInterest interest = new SimpleInterest(principle, rate, period);\n                }\n            case \"maturity\":\n\n                System.out.println(\"please enter the principle:\");\n                principle = userInput.nextDouble();\n                System.out.println(\"Enter the rate:\");\n                rate = userInput.nextDouble();\n                System.out.println(\"enter time of invesment:\");\n                period = userInput.nextDouble();\n                double monthly = period / 12;\n\n                matResult = (principle * (1 + rate * monthly));\n                System.out.println(\"result is:\" + matResult);\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","math","design-patterns","twos-complement"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1574906848,"post_id":59080627,"comment_id":104398368,"body_markdown":"You seem to have skipped a step, or at least not shown it. You&#39;ve described what needs to be done. The next step is to define an algorithm, and reason why you think it works. Then, only after you&#39;ve convinced yourself it&#39;s correct, you should reduce it to code. It will help us if you can add a high-level description of the algorithm with enough detail to evaluate its correctness and check that your code implements it.","body":"You seem to have skipped a step, or at least not shown it. You&#39;ve described what needs to be done. The next step is to define an algorithm, and reason why you think it works. Then, only after you&#39;ve convinced yourself it&#39;s correct, you should reduce it to code. It will help us if you can add a high-level description of the algorithm with enough detail to evaluate its correctness and check that your code implements it."}],"answers":[{"tags":[],"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574906697,"creation_date":1574906697,"answer_id":59080788,"question_id":59080627,"body_markdown":"I think there&#39;s a problem around here:\r\n\r\n    if (i &lt; outDigits.length - 1) {\r\n        outDigits[i + 1] = outDigits[i] / base;\r\n    }\r\n\r\nLet&#39;s say you&#39;re using base 10. Since a digit can only be 0 through 9, dividing by 10 would mean the result of this calculation is always 0. I don&#39;t think you intended this.","title":"Base Negation given an inDigits","body":"<p>I think there's a problem around here:</p>\n\n<pre><code>if (i &lt; outDigits.length - 1) {\n    outDigits[i + 1] = outDigits[i] / base;\n}\n</code></pre>\n\n<p>Let's say you're using base 10. Since a digit can only be 0 through 9, dividing by 10 would mean the result of this calculation is always 0. I don't think you intended this.</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402557,"creation_date":1574910630,"answer_id":59081207,"question_id":59080627,"body_markdown":"Your problem is that you may seem to be trying to do the negation of the complement while calculating the complement and it is complicating your solution.\r\n\r\nYou could try to simplify your solution by splitting it into two phases:\r\n\r\n* First compute the complement.\r\n* Second add the +1 to the computed complement.\r\n\r\nThe following method is a working version of this:\r\n\r\n```java\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\t// Compute the complement of the digits\r\n\t\tfor (int i = outDigits.length - 1; i &gt;= 0; i--)  \r\n\t\t\toutDigits[i] = base - (1 + inDigits[i]);\r\n\r\n\t\t// Negate the complement by adding +1 to the computed number (collection of digits)\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {  \r\n\t\t\tif (outDigits[i] == base - 1) {\r\n\t\t\t\t// Max out digit. Set it to zero and try with the higher order next. \r\n\t\t\t\toutDigits[i] = 0;\r\n\t\t\t} else {\r\n\t\t\t\t// Digit that has room for +1. Finally add the 1 and DONE!\r\n\t\t\t\toutDigits[i]++;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis approach is clearer, better performing and the code is self explanatory; but I added comments in the code to follow the logic used.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59081207)\r\n\r\nHope this helps.","title":"Base Negation given an inDigits","body":"<p>Your problem is that you may seem to be trying to do the negation of the complement while calculating the complement and it is complicating your solution.</p>\n<p>You could try to simplify your solution by splitting it into two phases:</p>\n<ul>\n<li>First compute the complement.</li>\n<li>Second add the +1 to the computed complement.</li>\n</ul>\n<p>The following method is a working version of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n        // Compute the complement of the digits\n        for (int i = outDigits.length - 1; i &gt;= 0; i--)  \n            outDigits[i] = base - (1 + inDigits[i]);\n\n        // Negate the complement by adding +1 to the computed number (collection of digits)\n        for (int i = 0; i &lt; outDigits.length; i++) {  \n            if (outDigits[i] == base - 1) {\n                // Max out digit. Set it to zero and try with the higher order next. \n                outDigits[i] = 0;\n            } else {\n                // Digit that has room for +1. Finally add the 1 and DONE!\n                outDigits[i]++;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>This approach is clearer, better performing and the code is self explanatory; but I added comments in the code to follow the logic used.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59081207\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574911106,"creation_date":1574910708,"answer_id":59081215,"question_id":59080627,"body_markdown":"Since the &quot;expected&quot; values show that index 0 is the lowest order digit, it means that for number `123₁₀` the array would be `[3, 2, 1]`, i.e. the digits are in reverse order of what you&#39;d expect as a human. To a computer, it makes sense that value at index `i` is the value that must be multiplied by `baseⁱ`.\r\n\r\nThat means you need the `i` loop to iterate up, not down, so you can track the carry-over. Otherwise you code works fine:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\toutDigits[0] = 1;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) { // &lt;== reversed iteration\r\n\t\t\toutDigits[i] += base - (1 + inDigits[i]);\r\n\t\t\tif (i &lt; outDigits.length - 1) {\r\n\t\t\t\toutDigits[i + 1] = outDigits[i] / base;\r\n\t\t\t}\r\n\t\t\toutDigits[i] %= base;\r\n\t\t}\r\n\t}\r\n\r\nPersonally, writing it like this makes more sense, especially since it doesn&#39;t rely on `outDigits` array to be pre-initialized to all 0&#39;s:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\tint carry = 0;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {\r\n\t\t\toutDigits[i] = (base - inDigits[i] - carry) % base;\r\n\t\t\tcarry = (inDigits[i] + outDigits[i] + carry) / base;\r\n\t\t}\r\n\t}\r\n\r\nFor better performance, you don&#39;t want to use `%` and `/`, so something like this might be better:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\tboolean carry = false;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {\r\n\t\t\tif (carry) {\r\n\t\t\t\toutDigits[i] = base - inDigits[i] - 1;\r\n\t\t\t} else if (inDigits[i] != 0) {\r\n\t\t\t\toutDigits[i] = base - inDigits[i];\r\n\t\t\t\tcarry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*Test*\r\n\r\nAll 3 will give the same result:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttest(10, 5,6,3);\r\n\t\ttest(2,  1,1,0,0,1,1,0,1,0,1);\r\n\t\ttest(16, 0,15,10,7);\r\n\t\ttest(8,  0,0,0); // 0 -&gt; 0 (000)\r\n\t\ttest(8,  1,0,0); // 1 -&gt; -1 (777)\r\n\t\ttest(8,  7,7,3); // 255 -&gt; -255 (104)\r\n\t\ttest(8,  0,0,4); // -256 -&gt; -256 (004)\r\n\t}\r\n\r\n\tstatic void test(int base, int... inDigits) {\r\n\t\tint[] outDigits = new int[inDigits.length];\r\n\t\tbaseNegate(base, inDigits, outDigits);\r\n\t\tSystem.out.printf(&quot;%d: %s -&gt; %s%n&quot;, base, Arrays.toString(inDigits),\r\n\t\t                                    Arrays.toString(outDigits));\r\n\t}\r\n\r\n*Output*\r\n\r\n```lang-none\r\n10: [5, 6, 3] -&gt; [5, 3, 6]\r\n2: [1, 1, 0, 0, 1, 1, 0, 1, 0, 1] -&gt; [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\r\n16: [0, 15, 10, 7] -&gt; [0, 1, 5, 8]\r\n8: [0, 0, 0] -&gt; [0, 0, 0]\r\n8: [1, 0, 0] -&gt; [7, 7, 7]\r\n8: [7, 7, 3] -&gt; [1, 0, 4]\r\n8: [0, 0, 4] -&gt; [0, 0, 4]\r\n```","title":"Base Negation given an inDigits","body":"<p>Since the \"expected\" values show that index 0 is the lowest order digit, it means that for number <code>123₁₀</code> the array would be <code>[3, 2, 1]</code>, i.e. the digits are in reverse order of what you'd expect as a human. To a computer, it makes sense that value at index <code>i</code> is the value that must be multiplied by <code>baseⁱ</code>.</p>\n\n<p>That means you need the <code>i</code> loop to iterate up, not down, so you can track the carry-over. Otherwise you code works fine:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    outDigits[0] = 1;\n    for (int i = 0; i &lt; outDigits.length; i++) { // &lt;== reversed iteration\n        outDigits[i] += base - (1 + inDigits[i]);\n        if (i &lt; outDigits.length - 1) {\n            outDigits[i + 1] = outDigits[i] / base;\n        }\n        outDigits[i] %= base;\n    }\n}\n</code></pre>\n\n<p>Personally, writing it like this makes more sense, especially since it doesn't rely on <code>outDigits</code> array to be pre-initialized to all 0's:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    int carry = 0;\n    for (int i = 0; i &lt; outDigits.length; i++) {\n        outDigits[i] = (base - inDigits[i] - carry) % base;\n        carry = (inDigits[i] + outDigits[i] + carry) / base;\n    }\n}\n</code></pre>\n\n<p>For better performance, you don't want to use <code>%</code> and <code>/</code>, so something like this might be better:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    boolean carry = false;\n    for (int i = 0; i &lt; outDigits.length; i++) {\n        if (carry) {\n            outDigits[i] = base - inDigits[i] - 1;\n        } else if (inDigits[i] != 0) {\n            outDigits[i] = base - inDigits[i];\n            carry = true;\n        }\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<p>All 3 will give the same result:</p>\n\n<pre><code>public static void main(String[] args) {\n    test(10, 5,6,3);\n    test(2,  1,1,0,0,1,1,0,1,0,1);\n    test(16, 0,15,10,7);\n    test(8,  0,0,0); // 0 -&gt; 0 (000)\n    test(8,  1,0,0); // 1 -&gt; -1 (777)\n    test(8,  7,7,3); // 255 -&gt; -255 (104)\n    test(8,  0,0,4); // -256 -&gt; -256 (004)\n}\n\nstatic void test(int base, int... inDigits) {\n    int[] outDigits = new int[inDigits.length];\n    baseNegate(base, inDigits, outDigits);\n    System.out.printf(\"%d: %s -&gt; %s%n\", base, Arrays.toString(inDigits),\n                                        Arrays.toString(outDigits));\n}\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>10: [5, 6, 3] -&gt; [5, 3, 6]\n2: [1, 1, 0, 0, 1, 1, 0, 1, 0, 1] -&gt; [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\n16: [0, 15, 10, 7] -&gt; [0, 1, 5, 8]\n8: [0, 0, 0] -&gt; [0, 0, 0]\n8: [1, 0, 0] -&gt; [7, 7, 7]\n8: [7, 7, 3] -&gt; [1, 0, 4]\n8: [0, 0, 4] -&gt; [0, 0, 4]\n</code></pre>\n"}],"owner":{"account_id":12629452,"reputation":365,"user_id":9181509,"display_name":"Yuki1112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59081207,"answer_count":3,"score":0,"last_activity_date":1675402557,"creation_date":1574905200,"question_id":59080627,"body_markdown":"I have the following problem:\r\nGiven an input in base (the input is given as an array of its digits in that base), write the negation of the number in &quot;base&#39;s&quot;-complement notatation in outDigits.    \r\nThe &quot;base&#39;s complement&quot; notation of a number is a generalization of &quot;two&#39;s complement&quot;: if we treat (-x) as an unsigned number in base and add it to x, we should get 0 (modulo base^digit-size). **I cannot call other function (even Math.pow)**     \r\nI keep getting an error with my tests. My code:\r\n\r\n```\r\npublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\toutDigits[0] = 1;\r\n\t\tfor (int i = outDigits.length - 1; i &gt;= 0; i--) {\r\n\t\t\toutDigits[i] += base - (1 + inDigits[i]);\r\n\t\t\tif (i &lt; outDigits.length - 1) {\r\n\t\t\t\toutDigits[i + 1] = outDigits[i] / base;\r\n\t\t\t}\r\n\t\t\toutDigits[i] %= base;\r\n\t\t}\r\n\t}\r\n```\r\nI cannot find the error in my calculations, please help.\r\nmy test:\r\n```\r\n\r\n------------------------------------ Negate number 365 in base 10 ------------------------------------\r\nTest case have FAILED.\r\nBase:    10\r\nInput number:    [5, 6, 3]\r\nExpected:        [5, 3, 6]\r\nOutput:          [5, 0, 0]\r\n\r\n-------------------------------- Negate number b1010110011 in base 2 --------------------------------\r\nTest case have FAILED.\r\nBase:    2\r\nInput number:    [1, 1, 0, 0, 1, 1, 0, 1, 0, 1]\r\nExpected:        [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\r\nOutput:          [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n\r\n-------------------------------------- Negate 0x7AF0 in base 16 --------------------------------------\r\nTest case have FAILED.\r\nBase:    16\r\nInput number:    [0, 15, 10, 7]\r\nExpected:        [0, 1, 5, 8]\r\nOutput:          [0, 1, 0, 0]\r\n```","title":"Base Negation given an inDigits","body":"<p>I have the following problem:\nGiven an input in base (the input is given as an array of its digits in that base), write the negation of the number in \"base's\"-complement notatation in outDigits.<br>\nThe \"base's complement\" notation of a number is a generalization of \"two's complement\": if we treat (-x) as an unsigned number in base and add it to x, we should get 0 (modulo base^digit-size). <strong>I cannot call other function (even Math.pow)</strong><br>\nI keep getting an error with my tests. My code:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n        outDigits[0] = 1;\n        for (int i = outDigits.length - 1; i &gt;= 0; i--) {\n            outDigits[i] += base - (1 + inDigits[i]);\n            if (i &lt; outDigits.length - 1) {\n                outDigits[i + 1] = outDigits[i] / base;\n            }\n            outDigits[i] %= base;\n        }\n    }\n</code></pre>\n\n<p>I cannot find the error in my calculations, please help.\nmy test:</p>\n\n<pre><code>\n------------------------------------ Negate number 365 in base 10 ------------------------------------\nTest case have FAILED.\nBase:    10\nInput number:    [5, 6, 3]\nExpected:        [5, 3, 6]\nOutput:          [5, 0, 0]\n\n-------------------------------- Negate number b1010110011 in base 2 --------------------------------\nTest case have FAILED.\nBase:    2\nInput number:    [1, 1, 0, 0, 1, 1, 0, 1, 0, 1]\nExpected:        [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\nOutput:          [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n-------------------------------------- Negate 0x7AF0 in base 16 --------------------------------------\nTest case have FAILED.\nBase:    16\nInput number:    [0, 15, 10, 7]\nExpected:        [0, 1, 5, 8]\nOutput:          [0, 1, 0, 0]\n</code></pre>\n"},{"tags":["java","algorithm","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574895490,"post_id":59078887,"comment_id":104396137,"body_markdown":"can you please give us more information on your problem that you are trying to solve: is it `IllegalStateException` exception or `the category table we&#39;ll be full of duplicates`. if it is the later one, can you please add more clarifications on this statement?","body":"can you please give us more information on your problem that you are trying to solve: is it <code>IllegalStateException</code> exception or <code>the category table we&#39;ll be full of duplicates</code>. if it is the later one, can you please add more clarifications on this statement?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1574898937,"post_id":59078887,"comment_id":104396955,"body_markdown":"The table of categories should have n categories and each question from the questions table should point to it&#39;s categorie using a foreign key but what i&#39;m getting is a table (categories) where for each question the categorie is persisted again so the categories table has the exact amount of rows as the questions instead of heaving n rows wich makes the table full of duplicates and i think this is because of the cascade. is it more clear ?","body":"The table of categories should have n categories and each question from the questions table should point to it&#39;s categorie using a foreign key but what i&#39;m getting is a table (categories) where for each question the categorie is persisted again so the categories table has the exact amount of rows as the questions instead of heaving n rows wich makes the table full of duplicates and i think this is because of the cascade. is it more clear ?"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574900163,"post_id":59078887,"comment_id":104397202,"body_markdown":"For me it not a `cascade` problem : in fact `cascade` is a handy feature from JPA to avoid calling `persist` method on child entities which is in your case `Question` entities and many other handy tasks. For your problem, can you give more information on the `data` variable that you have on the `persist` method, what you obtain in the database and what you expect ?","body":"For me it not a <code>cascade</code> problem : in fact <code>cascade</code> is a handy feature from JPA to avoid calling <code>persist</code> method on child entities which is in your case <code>Question</code> entities and many other handy tasks. For your problem, can you give more information on the <code>data</code> variable that you have on the <code>persist</code> method, what you obtain in the database and what you expect ?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1574901053,"post_id":59078887,"comment_id":104397361,"body_markdown":"the persist method takes a categorie object ( in the code above ) from a list that contains many categories. i obtain questions table like it should be and  categorie table that has for every question a row so it&#39;s does not use the fk that in the questions table ( fk_categorieID)","body":"the persist method takes a categorie object ( in the code above ) from a list that contains many categories. i obtain questions table like it should be and  categorie table that has for every question a row so it&#39;s does not use the fk that in the questions table ( fk_categorieID)"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574929075,"post_id":59078887,"comment_id":104404619,"body_markdown":"So if I understand your problem, in `data` variable, you have let say 5 `Category` and for each one you have 3 `Question`. You expect obtaining 5 rows in the `Category` table and 15 rows in the `Question` table. But you obtain 15 rows in each table, isn&#39;t ?","body":"So if I understand your problem, in <code>data</code> variable, you have let say 5 <code>Category</code> and for each one you have 3 <code>Question</code>. You expect obtaining 5 rows in the <code>Category</code> table and 15 rows in the <code>Question</code> table. But you obtain 15 rows in each table, isn&#39;t ?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1575010748,"post_id":59078887,"comment_id":104432695,"body_markdown":"this is exactly what i meant","body":"this is exactly what i meant"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1575015567,"post_id":59078887,"comment_id":104434432,"body_markdown":"OK, can you please show us your implenetation of `equals` and `hashcode` methods ? I think that they are the root cause of your problem","body":"OK, can you please show us your implenetation of <code>equals</code> and <code>hashcode</code> methods ? I think that they are the root cause of your problem"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1575016636,"post_id":59078887,"comment_id":104434949,"body_markdown":"i&#39;ve added them to the entities","body":"i&#39;ve added them to the entities"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402553,"creation_date":1574905283,"answer_id":59080640,"question_id":59078887,"body_markdown":"Without much details it is hard to infer the root of your problems; so if what you want to accomplish is to persist a collection of an entity with a one to many association with another entity, then you surely do it semi brute force programmatically without chasing the problem with your annotations configuration. \r\n\r\nFirst remove all `CascadeType` annotations from your entities.\r\n\r\nThen write your persist method as follows:\r\n\r\n```java\r\n\tpublic void persist(Collection&lt;Category&gt; categories) {\r\n\t\tEntityManager em = getEntityManager();\r\n\t\tem.getTransaction().begin();\r\n\t\t\r\n\t\t// Persist all categories first, without persisting the questions\r\n\t\tcategories.forEach(cat -&gt; safelyPersistCategory(em, cat));\r\n\t\t// Associated the not yet persisted questions with the persisted categories  \r\n\t\tcategories.stream().forEach(cat -&gt; cat.getQuestions().stream().forEach(question -&gt; question.setCategory(cat)));\r\n\t\t// Finally persist each question\r\n\t\tcategories.stream().flatMap(cat -&gt; cat.getQuestions().stream()).forEach(question -&gt; em.persist(question));\r\n\r\n\t\tem.getTransaction().commit();\r\n\t\tem.close();\r\n\t}\r\n\t\r\n\t// Safely persists Category without trying to create a relationship to \r\n\t// potentially not persisted Questions\r\n\tprivate void safelyPersistCategory(EntityManager em, Category category) {\r\n\t\tList&lt;Question&gt; questions = category.getQuestions();\r\n\t\tcategory.setQuestions(null);\r\n\t\tem.persist(category);\r\n\t\tcategory.setQuestions(questions);\r\n\t}\r\n```\r\n\r\nAs you can see in the comments in the code you manually:\r\n\r\n* Add the `Category` entities to the persistence context safely (without\r\nassociating them to potentially non-managed Questions).\r\n* Then associate these **managed** `Category` entities with their `Question` entities.\r\n* Finally add the `Question` entities to the persistence context. \r\n\r\nFrom there you can commit the transaction. \r\n\r\nThe reason for this sequence is that the `Question` entity is the owner of the relationship, so it must relate to an **already persisted/managed** entity (`Category`), otherwise it will try to link to create an association to a non-persisted/non-managed entity which would cause problems (and which I suspect was what was happening with your original `IllegalStateException`). \r\n\r\nFinally, by persisting the `Category` entities first, you can link the `Question` entities to already managed entities and not create them on the fly.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080640)\r\n\r\nHope this helps.","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>Without much details it is hard to infer the root of your problems; so if what you want to accomplish is to persist a collection of an entity with a one to many association with another entity, then you surely do it semi brute force programmatically without chasing the problem with your annotations configuration.</p>\n<p>First remove all <code>CascadeType</code> annotations from your entities.</p>\n<p>Then write your persist method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void persist(Collection&lt;Category&gt; categories) {\n        EntityManager em = getEntityManager();\n        em.getTransaction().begin();\n        \n        // Persist all categories first, without persisting the questions\n        categories.forEach(cat -&gt; safelyPersistCategory(em, cat));\n        // Associated the not yet persisted questions with the persisted categories  \n        categories.stream().forEach(cat -&gt; cat.getQuestions().stream().forEach(question -&gt; question.setCategory(cat)));\n        // Finally persist each question\n        categories.stream().flatMap(cat -&gt; cat.getQuestions().stream()).forEach(question -&gt; em.persist(question));\n\n        em.getTransaction().commit();\n        em.close();\n    }\n    \n    // Safely persists Category without trying to create a relationship to \n    // potentially not persisted Questions\n    private void safelyPersistCategory(EntityManager em, Category category) {\n        List&lt;Question&gt; questions = category.getQuestions();\n        category.setQuestions(null);\n        em.persist(category);\n        category.setQuestions(questions);\n    }\n</code></pre>\n<p>As you can see in the comments in the code you manually:</p>\n<ul>\n<li>Add the <code>Category</code> entities to the persistence context safely (without\nassociating them to potentially non-managed Questions).</li>\n<li>Then associate these <strong>managed</strong> <code>Category</code> entities with their <code>Question</code> entities.</li>\n<li>Finally add the <code>Question</code> entities to the persistence context.</li>\n</ul>\n<p>From there you can commit the transaction.</p>\n<p>The reason for this sequence is that the <code>Question</code> entity is the owner of the relationship, so it must relate to an <strong>already persisted/managed</strong> entity (<code>Category</code>), otherwise it will try to link to create an association to a non-persisted/non-managed entity which would cause problems (and which I suspect was what was happening with your original <code>IllegalStateException</code>).</p>\n<p>Finally, by persisting the <code>Category</code> entities first, you can link the <code>Question</code> entities to already managed entities and not create them on the fly.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080640\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575061260,"creation_date":1575026921,"answer_id":59103941,"question_id":59078887,"body_markdown":"The only thing I have done to fix your problem in my local machine, was to change the type of your entities id: `int` to `Long`\r\n\r\n**Working example based on your code :**\r\n\r\n*Category entity*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.NamedQueries;\r\nimport javax.persistence.NamedQuery;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Category&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@NamedQueries({@NamedQuery(name = Category.FIND_ALL, query = &quot;SELECT c FROM Category c&quot;)})\r\npublic class Category {\r\n\r\n    public static final String FIND_ALL = &quot;Category.findAll&quot;;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;CID&quot;)\r\n    private Long categoryId;\r\n\r\n    @Column(name = &quot;CNAME&quot;)\r\n    private String categoryName;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.PERSIST)\r\n    public List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Category)) {\r\n            return false;\r\n        }\r\n        Category category = (Category) o;\r\n        return categoryId == category.categoryId &amp;&amp; getCategoryName().equals(category.getCategoryName()) &amp;&amp; questions\r\n                .equals(category.questions);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getCategoryName());\r\n    }\r\n}\r\n\r\n```\r\n\r\n*Question*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport java.util.Objects;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.NamedQueries;\r\nimport javax.persistence.NamedQuery;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Question&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@NamedQueries({@NamedQuery(name = Question.FIND_ALL, query = &quot;SELECT q FROM Question q&quot;)})\r\npublic class Question {\r\n\r\n    public static final String FIND_ALL = &quot;Question.findAll&quot;;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;QID&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;QText&quot;)\r\n    private String question;\r\n    @ManyToOne()\r\n    private Category category;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Question)) {\r\n            return false;\r\n        }\r\n        Question question = (Question) o;\r\n        return getId() == question.getId();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n}\r\n```\r\n\r\n*persistence.xml*\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence \r\n  xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n  version=&quot;2.2&quot;&gt;\r\n\r\n  &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    &lt;class&gt;io.ahenteti.java.Question&lt;/class&gt;\r\n    &lt;class&gt;io.ahenteti.java.Category&lt;/class&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:demo&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n*Main*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.Persistence;\r\nimport javax.persistence.TypedQuery;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        EntityManager em = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;).createEntityManager();\r\n        EntityTransaction transaction = em.getTransaction();\r\n        transaction.begin();\r\n        em.persist(createCategory(&quot;C1&quot;));\r\n        em.persist(createCategory(&quot;C2&quot;));\r\n        em.persist(createCategory(&quot;C3&quot;));\r\n        transaction.commit();\r\n        System.out.println(&quot;number of categories in database: &quot; + getAllCategories(em).size());\r\n        System.out.println(&quot;number of questions in database: &quot; + getAllQuestions(em).size());\r\n    }\r\n\r\n    private static List&lt;Question&gt; getAllQuestions(EntityManager em) {\r\n        TypedQuery&lt;Question&gt; getAllQuestions = em.createNamedQuery(Question.FIND_ALL, Question.class);\r\n        return getAllQuestions.getResultList();\r\n    }\r\n\r\n    private static List&lt;Category&gt; getAllCategories(EntityManager em) {\r\n        TypedQuery&lt;Category&gt; getAllCategories = em.createNamedQuery(Category.FIND_ALL, Category.class);\r\n        return getAllCategories.getResultList();\r\n    }\r\n\r\n    private static Category createCategory(String category) {\r\n        Category res = new Category();\r\n        res.setCategoryName(category);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            res.getQuestions().add(createQuestion(res, category + &quot; - Q&quot; + i));\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static Question createQuestion(Category category, String question) {\r\n        Question q1 = new Question();\r\n        q1.setQuestion(question);\r\n        q1.setCategory(category);\r\n        return q1;\r\n    }\r\n\r\n}\r\n```\r\n\r\n*output*\r\n\r\n```\r\nnumber of categories in database: 3\r\nnumber of questions in database: 15\r\n```\r\n\r\nHope it helps :)","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>The only thing I have done to fix your problem in my local machine, was to change the type of your entities id: <code>int</code> to <code>Long</code></p>\n\n<p><strong>Working example based on your code :</strong></p>\n\n<p><em>Category entity</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@Table(name = \"Category\")\n@AllArgsConstructor\n@NoArgsConstructor\n@NamedQueries({@NamedQuery(name = Category.FIND_ALL, query = \"SELECT c FROM Category c\")})\npublic class Category {\n\n    public static final String FIND_ALL = \"Category.findAll\";\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"CID\")\n    private Long categoryId;\n\n    @Column(name = \"CNAME\")\n    private String categoryName;\n\n    @OneToMany(mappedBy = \"category\", cascade = CascadeType.PERSIST)\n    public List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Category)) {\n            return false;\n        }\n        Category category = (Category) o;\n        return categoryId == category.categoryId &amp;&amp; getCategoryName().equals(category.getCategoryName()) &amp;&amp; questions\n                .equals(category.questions);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getCategoryName());\n    }\n}\n\n</code></pre>\n\n<p><em>Question</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport java.util.Objects;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@Table(name = \"Question\")\n@AllArgsConstructor\n@NoArgsConstructor\n@NamedQueries({@NamedQuery(name = Question.FIND_ALL, query = \"SELECT q FROM Question q\")})\npublic class Question {\n\n    public static final String FIND_ALL = \"Question.findAll\";\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"QID\")\n    private Long id;\n    @Column(name = \"QText\")\n    private String question;\n    @ManyToOne()\n    private Category category;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Question)) {\n            return false;\n        }\n        Question question = (Question) o;\n        return getId() == question.getId();\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n}\n</code></pre>\n\n<p><em>persistence.xml</em></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;persistence \n  xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"\n  version=\"2.2\"&gt;\n\n  &lt;persistence-unit name=\"persistence-unit\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;class&gt;io.ahenteti.java.Question&lt;/class&gt;\n    &lt;class&gt;io.ahenteti.java.Category&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.h2.Driver\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:h2:mem:demo\"/&gt;\n      &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><em>Main</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\nimport javax.persistence.TypedQuery;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        EntityManager em = Persistence.createEntityManagerFactory(\"persistence-unit\").createEntityManager();\n        EntityTransaction transaction = em.getTransaction();\n        transaction.begin();\n        em.persist(createCategory(\"C1\"));\n        em.persist(createCategory(\"C2\"));\n        em.persist(createCategory(\"C3\"));\n        transaction.commit();\n        System.out.println(\"number of categories in database: \" + getAllCategories(em).size());\n        System.out.println(\"number of questions in database: \" + getAllQuestions(em).size());\n    }\n\n    private static List&lt;Question&gt; getAllQuestions(EntityManager em) {\n        TypedQuery&lt;Question&gt; getAllQuestions = em.createNamedQuery(Question.FIND_ALL, Question.class);\n        return getAllQuestions.getResultList();\n    }\n\n    private static List&lt;Category&gt; getAllCategories(EntityManager em) {\n        TypedQuery&lt;Category&gt; getAllCategories = em.createNamedQuery(Category.FIND_ALL, Category.class);\n        return getAllCategories.getResultList();\n    }\n\n    private static Category createCategory(String category) {\n        Category res = new Category();\n        res.setCategoryName(category);\n        for (int i = 0; i &lt; 5; i++) {\n            res.getQuestions().add(createQuestion(res, category + \" - Q\" + i));\n        }\n        return res;\n    }\n\n    private static Question createQuestion(Category category, String question) {\n        Question q1 = new Question();\n        q1.setQuestion(question);\n        q1.setCategory(category);\n        return q1;\n    }\n\n}\n</code></pre>\n\n<p><em>output</em></p>\n\n<pre><code>number of categories in database: 3\nnumber of questions in database: 15\n</code></pre>\n\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675402553,"creation_date":1574891214,"question_id":59078887,"body_markdown":"I&#39;m trying to persist two entities Categorie and Question in a PostgreSQL db with one to many (categorie has many questions and a question is in one categorie).\r\n\r\nAfter a lot of search and trying, adding CascadeType.PERSIST to the both entities is the only solution I found to the error but with CascadeType.PERSIST on the question side the category table we&#39;ll be full of duplicates. Is there any better solution because the categories should be unique in the table.\r\n```  \r\n@Entity\r\n@Table(name = &quot;Category&quot;)\r\npublic class Category {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;CID&quot;)\r\n  private int categoryId;\r\n  @Column(name = &quot;CNAME&quot;)\r\n  private String categoryName;\r\n  @OneToMany(mappedBy = &quot;category&quot; , cascade = CascadeType.PERSIST)\r\n  public List&lt;Question&gt; questions;\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (!(o instanceof Category)) {\r\n      return false;\r\n    }\r\n    Category category = (Category) o;\r\n    return categoryId == category.categoryId\r\n        &amp;&amp; getCategoryName().equals(category.getCategoryName())\r\n        &amp;&amp; questions.equals(category.questions);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getCategoryName());\r\n  }\r\n```  \r\n```  \r\n@Entity\r\n@Table(name = &quot;Question&quot; )\r\npublic class Question {\r\n  @Id\r\n  @Column(name = &quot;QID&quot;)\r\n  private int id;\r\n @Column(name = &quot;QText&quot;)\r\n  private String question;\r\n@ManyToOne()\r\n  private Category category;\r\n\r\n\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (!(o instanceof Question)) {\r\n      return false;\r\n    }\r\n    Question question = (Question) o;\r\n    return getId() == question.getId();\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getId());\r\n  }\r\n\r\n```  \r\n```  \r\npublic persist(){\r\n EntityManager em = getEntityManager();\r\n      em.getTransaction().begin();\r\n      for (Category c : data.getCategories()) {\r\n        em.persist(c);\r\n      }\r\n      em.getTransaction().commit();\r\n      em.close();\r\n}\r\n```  ","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>I'm trying to persist two entities Categorie and Question in a PostgreSQL db with one to many (categorie has many questions and a question is in one categorie).</p>\n\n<p>After a lot of search and trying, adding CascadeType.PERSIST to the both entities is the only solution I found to the error but with CascadeType.PERSIST on the question side the category table we'll be full of duplicates. Is there any better solution because the categories should be unique in the table.</p>\n\n<pre><code>@Entity\n@Table(name = \"Category\")\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"CID\")\n  private int categoryId;\n  @Column(name = \"CNAME\")\n  private String categoryName;\n  @OneToMany(mappedBy = \"category\" , cascade = CascadeType.PERSIST)\n  public List&lt;Question&gt; questions;\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (!(o instanceof Category)) {\n      return false;\n    }\n    Category category = (Category) o;\n    return categoryId == category.categoryId\n        &amp;&amp; getCategoryName().equals(category.getCategoryName())\n        &amp;&amp; questions.equals(category.questions);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getCategoryName());\n  }\n</code></pre>\n\n<pre><code>@Entity\n@Table(name = \"Question\" )\npublic class Question {\n  @Id\n  @Column(name = \"QID\")\n  private int id;\n @Column(name = \"QText\")\n  private String question;\n@ManyToOne()\n  private Category category;\n\n\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (!(o instanceof Question)) {\n      return false;\n    }\n    Question question = (Question) o;\n    return getId() == question.getId();\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId());\n  }\n\n</code></pre>\n\n<pre><code>public persist(){\n EntityManager em = getEntityManager();\n      em.getTransaction().begin();\n      for (Category c : data.getCategories()) {\n        em.persist(c);\n      }\n      em.getTransaction().commit();\n      em.close();\n}\n</code></pre>\n"},{"tags":["java","algorithm","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574900854,"post_id":59077910,"comment_id":104397325,"body_markdown":"You *read* a text file in Java.","body":"You <i>read</i> a text file in Java."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402549,"creation_date":1574900478,"answer_id":59080158,"question_id":59077910,"body_markdown":"In Java any `List` is an ordered collection of elements; but these elements can be objects of **ANY** class. So, the idea is that your element should be the unit of concern in your business logic. In your case, this is the pair of numbers. Given this, you could create a custom class called `Edge` for example that will be used as the `element`s of the `List` and have this `Edge` class store the respective pair of number. For example:\r\n\r\n```\r\n\tstatic class Edge {\r\n\t\tprivate int first;\r\n\t\tprivate int second;\r\n\t\t\r\n\t\tpublic Edge(Scanner scanner) {\r\n\t\t\tthis(scanner.nextInt(), scanner.nextInt());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Edge(int first, int second) {\r\n\t\t\tthis.first = first;\r\n\t\t\tthis.second = second;\r\n\t\t}\r\n\r\n\t\tpublic int getFirst() {\r\n\t\t\treturn first;\r\n\t\t}\r\n\r\n\t\tpublic int getSecond() {\r\n\t\t\treturn second;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nThen in your code change:\r\n\r\n```\r\nLinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\r\n```\r\n\r\n(which actually won&#39;t compile since `List` requires only a single generic type, not two) and replace it with:\r\n\r\n```\r\nList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\r\n```\r\n\r\nmaking `adj` a `List` of `Edge` objects.\r\n\r\n* Additional Tips:\r\n\r\nYou could also take advantage of Java 8 streams and enhanced NIO Apis and rewrite the entire transformation of the text file to a `List&lt;Edge&gt;` with the simple following method:\r\n\r\n```\r\n\tpublic static List&lt;Edge&gt; readEdges(String filename) throws IOException {\r\n\t\ttry (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\r\n\t\t\treturn linesStream\r\n\t\t\t\t\t.map(line -&gt; new Edge(new Scanner(line)))\r\n\t\t\t        .collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n```\r\n\r\nFinally, the following is a full working demo of this approach, run it to get a feeling for it:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EdgesReader {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tList&lt;Edge&gt; edges = readEdges(&quot;PATH/TO/MY/EDGES/TEXT/FILE&quot;);\r\n\t\tSystem.out.println(edges);\r\n\t}\r\n\r\n\tpublic static List&lt;Edge&gt; readEdges(String filename) throws IOException {\r\n\t\ttry (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\r\n\t\t\treturn linesStream\r\n\t\t\t\t\t.map(line -&gt; new Edge(new Scanner(line)))\r\n\t\t\t        .collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic class Edge {\r\n\t\tprivate int first;\r\n\t\tprivate int second;\r\n\t\t\r\n\t\tpublic Edge(Scanner scanner) {\r\n\t\t\tthis(scanner.nextInt(), scanner.nextInt());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Edge(int first, int second) {\r\n\t\t\tthis.first = first;\r\n\t\t\tthis.second = second;\r\n\t\t}\r\n\r\n\t\tpublic int getFirst() {\r\n\t\t\treturn first;\r\n\t\t}\r\n\r\n\t\tpublic int getSecond() {\r\n\t\t\treturn second;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080158)\r\n\r\nHope this helps.","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>In Java any <code>List</code> is an ordered collection of elements; but these elements can be objects of <strong>ANY</strong> class. So, the idea is that your element should be the unit of concern in your business logic. In your case, this is the pair of numbers. Given this, you could create a custom class called <code>Edge</code> for example that will be used as the <code>element</code>s of the <code>List</code> and have this <code>Edge</code> class store the respective pair of number. For example:</p>\n<pre><code>    static class Edge {\n        private int first;\n        private int second;\n        \n        public Edge(Scanner scanner) {\n            this(scanner.nextInt(), scanner.nextInt());\n        }\n        \n        public Edge(int first, int second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public int getFirst() {\n            return first;\n        }\n\n        public int getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\n        }\n    }\n</code></pre>\n<p>Then in your code change:</p>\n<pre><code>LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\n</code></pre>\n<p>(which actually won't compile since <code>List</code> requires only a single generic type, not two) and replace it with:</p>\n<pre><code>List&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\n</code></pre>\n<p>making <code>adj</code> a <code>List</code> of <code>Edge</code> objects.</p>\n<ul>\n<li>Additional Tips:</li>\n</ul>\n<p>You could also take advantage of Java 8 streams and enhanced NIO Apis and rewrite the entire transformation of the text file to a <code>List&lt;Edge&gt;</code> with the simple following method:</p>\n<pre><code>    public static List&lt;Edge&gt; readEdges(String filename) throws IOException {\n        try (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\n            return linesStream\n                    .map(line -&gt; new Edge(new Scanner(line)))\n                    .collect(Collectors.toList());\n        }\n    }\n</code></pre>\n<p>Finally, the following is a full working demo of this approach, run it to get a feeling for it:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class EdgesReader {\n\n    public static void main(String[] args) throws IOException {\n        List&lt;Edge&gt; edges = readEdges(&quot;PATH/TO/MY/EDGES/TEXT/FILE&quot;);\n        System.out.println(edges);\n    }\n\n    public static List&lt;Edge&gt; readEdges(String filename) throws IOException {\n        try (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\n            return linesStream\n                    .map(line -&gt; new Edge(new Scanner(line)))\n                    .collect(Collectors.toList());\n        }\n    }\n    \n    static class Edge {\n        private int first;\n        private int second;\n        \n        public Edge(Scanner scanner) {\n            this(scanner.nextInt(), scanner.nextInt());\n        }\n        \n        public Edge(int first, int second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public int getFirst() {\n            return first;\n        }\n\n        public int getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080158\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14276265,"reputation":304,"user_id":10312263,"display_name":"Leogao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574901211,"creation_date":1574901211,"answer_id":59080241,"question_id":59077910,"body_markdown":"First of all, you already mention an error shows `linked-list only allow one type`. the root cause is LinkedList support one type based on the doc java.util.LinkedList&lt;E&gt; https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\r\n\r\nTo allow LinkedList to store edges, we have to solutions : \r\n\r\n1. We could create Edge class which contains two integer elements that represent the from_note and the to_node.\r\nAnd we know LinkedList is a generic class, LinkedList could store any type inside LinkedList.\r\n\r\n2. We could use int[] to represent the edge. And the first element inside the array is from_note and the second element inside the array is to_node.\r\n\r\nAnd there are other things we could improve the code.  such as class naming. you could follow Google Java Style Guide https://google.github.io/styleguide/javaguide.html\r\n\r\nWhen we learn a new class or new java library, we could go over the class by looking into their doc like https://docs.oracle.com to understand the meaning of the function, and parameter.\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class Main {\r\n        // solution 1: by introduce Edge class\r\n        public static class Edge{\r\n            int from;\r\n            int to;\r\n            public Edge(int from, int to){\r\n                this.from = from;\r\n                this.to = to;\r\n            }\r\n    \r\n            public String toString(){\r\n                return from+&quot;-&gt;&quot;+to;\r\n            }\r\n        }\r\n    \r\n        public static class readfile{\r\n            public Scanner x;\r\n            public void openFile(){\r\n                try{\r\n                    x = new Scanner(new File(&quot;facebook_combined.txt&quot;));\r\n                }\r\n    \r\n                catch(Exception e){\r\n                    System.out.println(&quot;could not open file&quot;);\r\n                }\r\n            }\r\n    \r\n            public void readFile(){ // solution 1: represent edge by using Edge class\r\n                LinkedList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\r\n                while(x.hasNext()){\r\n                    String a = x.next();\r\n                    int resa = Integer.parseInt(a);\r\n                    String b = x.next();\r\n                    int resb = Integer.parseInt(b);\r\n                    Edge edge = new Main.Edge(resa, resb);\r\n                    adj.add(edge);\r\n                    System.out.println(edge);\r\n                }\r\n            }\r\n    \r\n            public void readFile1(){ //solution 2: represent edge by using array\r\n                LinkedList&lt;int[]&gt; adj = new LinkedList&lt;int[]&gt;();\r\n                while(x.hasNext()){\r\n                    String a = x.next();\r\n                    int resa = Integer.parseInt(a);\r\n                    String b = x.next();\r\n                    int resb = Integer.parseInt(b);\r\n                    int[] edge = new int[]{resa, resb};\r\n                    adj.add(edge);\r\n                    System.out.println(edge[0] + &quot;-&gt;&quot;+ edge[1]);\r\n                }\r\n            }\r\n    \r\n            public void closeFile(){\r\n                x.close();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            readfile r = new readfile();\r\n            r.openFile();\r\n            r.readFile();\r\n            r.closeFile();\r\n        }\r\n    }","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>First of all, you already mention an error shows <code>linked-list only allow one type</code>. the root cause is LinkedList support one type based on the doc java.util.LinkedList <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html</a></p>\n\n<p>To allow LinkedList to store edges, we have to solutions : </p>\n\n<ol>\n<li><p>We could create Edge class which contains two integer elements that represent the from_note and the to_node.\nAnd we know LinkedList is a generic class, LinkedList could store any type inside LinkedList.</p></li>\n<li><p>We could use int[] to represent the edge. And the first element inside the array is from_note and the second element inside the array is to_node.</p></li>\n</ol>\n\n<p>And there are other things we could improve the code.  such as class naming. you could follow Google Java Style Guide <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">https://google.github.io/styleguide/javaguide.html</a></p>\n\n<p>When we learn a new class or new java library, we could go over the class by looking into their doc like <a href=\"https://docs.oracle.com\" rel=\"nofollow noreferrer\">https://docs.oracle.com</a> to understand the meaning of the function, and parameter.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Main {\n    // solution 1: by introduce Edge class\n    public static class Edge{\n        int from;\n        int to;\n        public Edge(int from, int to){\n            this.from = from;\n            this.to = to;\n        }\n\n        public String toString(){\n            return from+\"-&gt;\"+to;\n        }\n    }\n\n    public static class readfile{\n        public Scanner x;\n        public void openFile(){\n            try{\n                x = new Scanner(new File(\"facebook_combined.txt\"));\n            }\n\n            catch(Exception e){\n                System.out.println(\"could not open file\");\n            }\n        }\n\n        public void readFile(){ // solution 1: represent edge by using Edge class\n            LinkedList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\n            while(x.hasNext()){\n                String a = x.next();\n                int resa = Integer.parseInt(a);\n                String b = x.next();\n                int resb = Integer.parseInt(b);\n                Edge edge = new Main.Edge(resa, resb);\n                adj.add(edge);\n                System.out.println(edge);\n            }\n        }\n\n        public void readFile1(){ //solution 2: represent edge by using array\n            LinkedList&lt;int[]&gt; adj = new LinkedList&lt;int[]&gt;();\n            while(x.hasNext()){\n                String a = x.next();\n                int resa = Integer.parseInt(a);\n                String b = x.next();\n                int resb = Integer.parseInt(b);\n                int[] edge = new int[]{resa, resb};\n                adj.add(edge);\n                System.out.println(edge[0] + \"-&gt;\"+ edge[1]);\n            }\n        }\n\n        public void closeFile(){\n            x.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        readfile r = new readfile();\n        r.openFile();\n        r.readFile();\n        r.closeFile();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16941364,"reputation":241,"user_id":12253159,"display_name":"TIGUZI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59080158,"answer_count":2,"score":1,"last_activity_date":1675402549,"creation_date":1574886179,"question_id":59077910,"body_markdown":"The text file looks like:\r\n0 1\r\n\r\n0 2\r\n\r\n0 3\r\n\r\n1 133\r\n\r\n1 194\r\n\r\n2 20\r\n\r\n2 115\r\n\r\n2 116\r\n\r\n5 231.....\r\n\r\nSo what I wanna do is read my txt file and store each line content(because each edge is made by a pair of nodes) in an linked list, I tried this:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class readfile{\r\n\r\n \r\n\r\n     public Scanner x;\r\n      public void openFile(){\r\n        try{\r\n          x = new Scanner(new File(&quot;facebook_combined.txt&quot;));\r\n        }\r\n\r\n    catch(Exception e){\r\n      System.out.println(&quot;could not open file&quot;);\r\n    }\r\n    }\r\n\r\n      public void readFile(){\r\n        LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\r\n        while(x.hasNext()){\r\n          String a = x.next();\r\n          int resa = Integer.parseInt(a);\t\t\r\n          String b = x.next();\r\n          int resb = Integer.parseInt(b);\r\n          adj.add(resa, resb);\r\n          System.out.println(adj);\r\n        }\r\n      }\r\n    \r\n      public void closeFile(){\r\n        x.close();\r\n      }\r\n    }\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        readfile r = new readfile();\r\n        r.openFile();\r\n        r.readFile();\r\n        r.closeFile();\r\n      }\r\n    }\r\n\r\nBut it&#39;s return an error that linked-list only allow one type which means I can&#39;t store a pair of nodes that is connected to each other. \r\n\r\nSo is there any other way to store edges(a pair of nodes)?\r\n\r\nI&#39;m a real fresh man in java field and I&#39;m tring to learn this language better, I would appreciate for any suggestion!\r\n\r\n\r\n","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>The text file looks like:\n0 1</p>\n\n<p>0 2</p>\n\n<p>0 3</p>\n\n<p>1 133</p>\n\n<p>1 194</p>\n\n<p>2 20</p>\n\n<p>2 115</p>\n\n<p>2 116</p>\n\n<p>5 231.....</p>\n\n<p>So what I wanna do is read my txt file and store each line content(because each edge is made by a pair of nodes) in an linked list, I tried this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\n\npublic class readfile{\n\n\n\n public Scanner x;\n  public void openFile(){\n    try{\n      x = new Scanner(new File(\"facebook_combined.txt\"));\n    }\n\ncatch(Exception e){\n  System.out.println(\"could not open file\");\n}\n}\n\n  public void readFile(){\n    LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\n    while(x.hasNext()){\n      String a = x.next();\n      int resa = Integer.parseInt(a);       \n      String b = x.next();\n      int resb = Integer.parseInt(b);\n      adj.add(resa, resb);\n      System.out.println(adj);\n    }\n  }\n\n  public void closeFile(){\n    x.close();\n  }\n}\nclass Main {\n  public static void main(String[] args) {\n    readfile r = new readfile();\n    r.openFile();\n    r.readFile();\n    r.closeFile();\n  }\n}\n</code></pre>\n\n<p>But it's return an error that linked-list only allow one type which means I can't store a pair of nodes that is connected to each other. </p>\n\n<p>So is there any other way to store edges(a pair of nodes)?</p>\n\n<p>I'm a real fresh man in java field and I'm tring to learn this language better, I would appreciate for any suggestion!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9315,"page":677,"page_size":100}
