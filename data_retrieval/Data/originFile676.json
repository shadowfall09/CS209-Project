{"items":[{"tags":["java","spring","spring-security","openapi","springdoc"],"answers":[{"comments":[{"owner":{"account_id":11341402,"reputation":975,"user_id":8315348,"display_name":"Andrew Puglionesi"},"score":2,"creation_date":1639086146,"post_id":59898403,"comment_id":124266071,"body_markdown":"I also had to do this: https://github.com/springdoc/springdoc-openapi/issues/230#issuecomment-563485698","body":"I also had to do this: <a href=\"https://github.com/springdoc/springdoc-openapi/issues/230#issuecomment-563485698\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/issues/&hellip;</a>"},{"owner":{"account_id":9583670,"reputation":308,"user_id":7117293,"display_name":"Majlanky"},"score":1,"creation_date":1650891137,"post_id":59898403,"comment_id":127223157,"body_markdown":"Actually if you have CRSF turned on, you will get 403 with this configuration. So you need special filter created through requestMatcher().antMatcher(#same as in the post) and turn of CSRF protection or ignore the path on WebSecurity level as show in post above. Or you can try [Havelock](https://github.com/Majlanky/havelock) which is able to do exposure by one annotation. Disclaimer: I am the founder and tech lead of the project","body":"Actually if you have CRSF turned on, you will get 403 with this configuration. So you need special filter created through requestMatcher().antMatcher(#same as in the post) and turn of CSRF protection or ignore the path on WebSecurity level as show in post above. Or you can try <a href=\"https://github.com/Majlanky/havelock\" rel=\"nofollow noreferrer\">Havelock</a> which is able to do exposure by one annotation. Disclaimer: I am the founder and tech lead of the project"}],"tags":[],"owner":{"account_id":10697088,"reputation":9495,"user_id":7873775,"display_name":"Eugene Khyst"},"comment_count":2,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1579876805,"creation_date":1579876066,"answer_id":59898403,"question_id":59898402,"body_markdown":"To use springdoc-openapi-ui `/swagger-ui.html`, allow anonymous access to the following endpoints in the [`WebSecurityConfigurerAdapter`][1] using `permitAll ` method: \r\n\r\n - `/v3/api-docs/**`\r\n - `/swagger-ui/**`\r\n - `/swagger-ui.html`\r\n\r\nExample:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      public void configure(HttpSecurity http) throws Exception {\r\n        http.\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\r\n      }\r\n    }\r\n\r\nMake sure a project has the following dependencies:\r\n\r\n - [org.springdoc:springdoc-openapi-ui][2]\r\n - [org.springdoc:springdoc-openapi-security][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\r\n  [2]: https://search.maven.org/artifact/org.springdoc/springdoc-openapi-ui\r\n  [3]: https://search.maven.org/artifact/org.springdoc/springdoc-openapi-security","title":"Allow anonymous access to springdoc-openapi-ui with Spring Security","body":"<p>To use springdoc-openapi-ui <code>/swagger-ui.html</code>, allow anonymous access to the following endpoints in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\" rel=\"noreferrer\"><code>WebSecurityConfigurerAdapter</code></a> using <code>permitAll</code> method: </p>\n\n<ul>\n<li><code>/v3/api-docs/**</code></li>\n<li><code>/swagger-ui/**</code></li>\n<li><code>/swagger-ui.html</code></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n    http.\n        .authorizeRequests()\n        .antMatchers(\"/v3/api-docs/**\", \"/swagger-ui/**\", \"/swagger-ui.html\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\n  }\n}\n</code></pre>\n\n<p>Make sure a project has the following dependencies:</p>\n\n<ul>\n<li><a href=\"https://search.maven.org/artifact/org.springdoc/springdoc-openapi-ui\" rel=\"noreferrer\">org.springdoc:springdoc-openapi-ui</a></li>\n<li><a href=\"https://search.maven.org/artifact/org.springdoc/springdoc-openapi-security\" rel=\"noreferrer\">org.springdoc:springdoc-openapi-security</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4184816,"reputation":153,"user_id":3428827,"display_name":"batero"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599751663,"creation_date":1599751663,"answer_id":63832953,"question_id":59898402,"body_markdown":"Additionally to Evgeniy&#39;s answer, I&#39;d add the proper configuration to avoid conflicts with document fetching used in Swagger&#39;s UI (such js, html, images and other files), also in the SecurityConfig class like this:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n       //Other configuration methods\r\n       \r\n       @Override\r\n       public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n        .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;);\r\n       }\r\n    }\r\n\r\nWithout this configuration, even though the UI looks like It&#39;s loaded, a `401: Unauthorized` may arise on the background calls when loading the above mentioned files.","title":"Allow anonymous access to springdoc-openapi-ui with Spring Security","body":"<p>Additionally to Evgeniy's answer, I'd add the proper configuration to avoid conflicts with document fetching used in Swagger's UI (such js, html, images and other files), also in the SecurityConfig class like this:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n   //Other configuration methods\n   \n   @Override\n   public void configure(WebSecurity web) {\n    web.ignoring()\n    .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;);\n   }\n}\n</code></pre>\n<p>Without this configuration, even though the UI looks like It's loaded, a <code>401: Unauthorized</code> may arise on the background calls when loading the above mentioned files.</p>\n"},{"tags":[],"owner":{"account_id":2704505,"reputation":361,"user_id":2334390,"display_name":"jkamcc"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675515468,"creation_date":1608739022,"answer_id":65427184,"question_id":59898402,"body_markdown":"For obtaining access in spring webflux you have to do the following, tested with spring-doc version 1.5.2:\r\n\r\nThe swagger webpage was failing on html resources with the path `/webjars/swagger-ui`.\r\n   \r\n\r\n```java\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n\r\n        return http.authorizeExchange()\r\n                .pathMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/webjars/swagger-ui/**&quot;)\r\n                .permitAll()\r\n                .anyExchange()\r\n                .authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Allow anonymous access to springdoc-openapi-ui with Spring Security","body":"<p>For obtaining access in spring webflux you have to do the following, tested with spring-doc version 1.5.2:</p>\n<p>The swagger webpage was failing on html resources with the path <code>/webjars/swagger-ui</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n\n        return http.authorizeExchange()\n                .pathMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/webjars/swagger-ui/**&quot;)\n                .permitAll()\n                .anyExchange()\n                .authenticated()\n                .and()\n                .build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10697088,"reputation":9495,"user_id":7873775,"display_name":"Eugene Khyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17787,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":59898403,"answer_count":3,"score":16,"last_activity_date":1675515468,"creation_date":1579876066,"question_id":59898402,"body_markdown":"How to allow anonymous access to [springdoc-openapi-ui][1] (OpenAPI 3.0 `/swagger-ui.html`) in a Spring Boot application secured by Spring Security?\r\n\r\n\r\n  [1]: https://springdoc.github.io/springdoc-openapi-demos/","title":"Allow anonymous access to springdoc-openapi-ui with Spring Security","body":"<p>How to allow anonymous access to <a href=\"https://springdoc.github.io/springdoc-openapi-demos/\" rel=\"noreferrer\">springdoc-openapi-ui</a> (OpenAPI 3.0 <code>/swagger-ui.html</code>) in a Spring Boot application secured by Spring Security?</p>\n"},{"tags":["java","class","input"],"answers":[{"comments":[{"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"score":0,"creation_date":1388890066,"post_id":20929426,"comment_id":31426625,"body_markdown":"&quot;Perhaps if you are expecting the user input to be a player&#39;s name, then player as a string should be called playerName and then players player1 = new players(); can remain.&quot;     ---Yes I like this, but how do I set &quot;playerName&quot; and &quot;player1&quot; equal to each other?","body":"&quot;Perhaps if you are expecting the user input to be a player&#39;s name, then player as a string should be called playerName and then players player1 = new players(); can remain.&quot;     ---Yes I like this, but how do I set &quot;playerName&quot; and &quot;player1&quot; equal to each other?"},{"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"score":0,"creation_date":1388890372,"post_id":20929426,"comment_id":31426690,"body_markdown":"&quot;It&#39;s atypical and usually indicates poor design to expect a user to type something in and define one of your variable names.&quot;   ---- So what would you do if you wanted a player to input his own name (ex. Mark or Andy) to replace &quot;player1&quot;?","body":"&quot;It&#39;s atypical and usually indicates poor design to expect a user to type something in and define one of your variable names.&quot;   ---- So what would you do if you wanted a player to input his own name (ex. Mark or Andy) to replace &quot;player1&quot;?"},{"owner":{"account_id":214748,"reputation":9822,"user_id":468904,"accept_rate":98,"display_name":"Michael J. Gray"},"score":0,"creation_date":1388890705,"post_id":20929426,"comment_id":31426753,"body_markdown":"@user3133300 I wouldn&#39;t! I would actually just store the user&#39;s input in a variable, as you are doing here. User input is string input, so it goes in your string. Then, you have an instance of `players` stored in the variable `player1`. If you want them to be equal, they need to be of the same type or assignable from each other.","body":"@user3133300 I wouldn&#39;t! I would actually just store the user&#39;s input in a variable, as you are doing here. User input is string input, so it goes in your string. Then, you have an instance of <code>players</code> stored in the variable <code>player1</code>. If you want them to be equal, they need to be of the same type or assignable from each other."}],"tags":[],"owner":{"account_id":214748,"reputation":9822,"user_id":468904,"accept_rate":98,"display_name":"Michael J. Gray"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388889931,"creation_date":1388889931,"answer_id":20929426,"question_id":20929402,"body_markdown":"Basically what you&#39;ll want to do is pick a variable name that is meaningful. Just like in algebra, you don&#39;t use the input of a function as a variable name. But, you do treat the input as a replacement for a given variable name.\r\n\r\nYou could choose a more meaningful name for `player1`. Perhaps if you are expecting the user input to be a player&#39;s name, then `player1` as a string should be renamed to `playerName` and then `players player1 = new players();` can remain.\r\n\r\nIt&#39;s atypical and usually indicates poor design to expect a user to type something in and define one of your variable names.","title":"How do I save user input as the name of a class instance?","body":"<p>Basically what you'll want to do is pick a variable name that is meaningful. Just like in algebra, you don't use the input of a function as a variable name. But, you do treat the input as a replacement for a given variable name.</p>\n\n<p>You could choose a more meaningful name for <code>player1</code>. Perhaps if you are expecting the user input to be a player's name, then <code>player1</code> as a string should be renamed to <code>playerName</code> and then <code>players player1 = new players();</code> can remain.</p>\n\n<p>It's atypical and usually indicates poor design to expect a user to type something in and define one of your variable names.</p>\n"},{"comments":[{"owner":{"account_id":214748,"reputation":9822,"user_id":468904,"accept_rate":98,"display_name":"Michael J. Gray"},"score":1,"creation_date":1388890758,"post_id":20929456,"comment_id":31426765,"body_markdown":"I believe that the statement regarding &quot;pointing out the obvious&quot; is a little bit of a stab. But maybe not. Regardless, +1 for mentioning naming conventions.","body":"I believe that the statement regarding &quot;pointing out the obvious&quot; is a little bit of a stab. But maybe not. Regardless, +1 for mentioning naming conventions."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1388892690,"post_id":20929456,"comment_id":31427135,"body_markdown":"What do you mean not working? I don&#39;t get it. For every input, you need to create a new player. See my **UPDATE**","body":"What do you mean not working? I don&#39;t get it. For every input, you need to create a new player. See my <b>UPDATE</b>"},{"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"score":0,"creation_date":1388893790,"post_id":20929456,"comment_id":31427354,"body_markdown":"ohh shoot it&#39;s still not working. I don&#39;t know why, it makes sense but for some reason it still doesn&#39;t work. I think I might make a new post. But anyways, thanks for the great help; You taught me constructors :)","body":"ohh shoot it&#39;s still not working. I don&#39;t know why, it makes sense but for some reason it still doesn&#39;t work. I think I might make a new post. But anyways, thanks for the great help; You taught me constructors :)"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1388894214,"post_id":20929456,"comment_id":31427439,"body_markdown":"If you want to print the name, you need to use `player1.getName();`","body":"If you want to print the name, you need to use <code>player1.getName();</code>"},{"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"score":0,"creation_date":1388894587,"post_id":20929456,"comment_id":31427506,"body_markdown":"Sorry about that; I put the accept back. Thanks for teaching me about constructors; even though the problem wasn&#39;t completely fixed I still learned from you!","body":"Sorry about that; I put the accept back. Thanks for teaching me about constructors; even though the problem wasn&#39;t completely fixed I still learned from you!"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1388894622,"post_id":20929456,"comment_id":31427514,"body_markdown":"I want to help you, but you haven&#39;t even explained what _isn&#39;t_ working","body":"I want to help you, but you haven&#39;t even explained what <i>isn&#39;t</i> working"},{"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"score":0,"creation_date":1388894649,"post_id":20929456,"comment_id":31427523,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/44538/discussion-between-user3133300-and-peeskillet)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/44538/discussion-between-user3133300-and-peeskillet\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1388892846,"creation_date":1388890281,"answer_id":20929456,"question_id":20929402,"body_markdown":"Without pointing out the obvious of the variable names, I&#39;ll take a different approach at answering.\r\n\r\nMaybe you want to take an input and actually set it as the `player`s name, in an OOP way. You obviously have a class `player`, so why not take in a `name` argument` in the constructor\r\n\r\n    public class Player {\r\n        private String name;\r\n    \r\n        public Player(String name){\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName(){\r\n            return name;\r\n        }\r\n    }\r\n\r\nThen when you get the input you do this\r\n\r\n    String playerName = input.nextLine();\r\n    Player player1 = new Player(playerName);\r\n\r\nNow when you create multiple `Player`&#39;s they will each have a distinct `name`\r\n\r\n-----\r\n\r\nAlso you should follow Java naming convention. Class names start with capital letters\r\n\r\n-----\r\n\r\n**UPDATE**\r\n\r\nYou need to create a new Player for every instance\r\n\r\n    String playerName = input.nextLine();\r\n    Player player1 = new Player(playerName);\r\n    \r\n    playerName = input.nextLine();\r\n    Player player2 = new Player(playerName);\r\n    \r\n    playerName = input.nextLine();\r\n    Player player3 = new Player(playerName);\r\n    \r\n    playerName = input.nextLine();\r\n    Player player4 = new Player(playerName);\r\n\r\n","title":"How do I save user input as the name of a class instance?","body":"<p>Without pointing out the obvious of the variable names, I'll take a different approach at answering.</p>\n\n<p>Maybe you want to take an input and actually set it as the <code>player</code>s name, in an OOP way. You obviously have a class <code>player</code>, so why not take in a <code>name</code> argument` in the constructor</p>\n\n<pre><code>public class Player {\n    private String name;\n\n    public Player(String name){\n        this.name = name;\n    }\n\n    public String getName(){\n        return name;\n    }\n}\n</code></pre>\n\n<p>Then when you get the input you do this</p>\n\n<pre><code>String playerName = input.nextLine();\nPlayer player1 = new Player(playerName);\n</code></pre>\n\n<p>Now when you create multiple <code>Player</code>'s they will each have a distinct <code>name</code></p>\n\n<hr>\n\n<p>Also you should follow Java naming convention. Class names start with capital letters</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>You need to create a new Player for every instance</p>\n\n<pre><code>String playerName = input.nextLine();\nPlayer player1 = new Player(playerName);\n\nplayerName = input.nextLine();\nPlayer player2 = new Player(playerName);\n\nplayerName = input.nextLine();\nPlayer player3 = new Player(playerName);\n\nplayerName = input.nextLine();\nPlayer player4 = new Player(playerName);\n</code></pre>\n"}],"owner":{"account_id":3771125,"reputation":607,"user_id":3133300,"accept_rate":76,"display_name":"user3133300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4982,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":20929456,"answer_count":2,"score":1,"last_activity_date":1675515385,"creation_date":1388889750,"question_id":20929402,"body_markdown":"I&#39;m trying to use a user-inputted string as the name for a class instance. In this example, I&#39;m trying to use the user input to name the class instance `player1`. However, it is not letting me because `player1` is already defined when I set it as an instance of the `players` class.\r\n\r\n\r\n\r\n    System.out.println(&quot;Enter your name, player1: &quot;);\r\n    Scanner input = new Scanner(System.in);\r\n    //the user enters their name\r\n    String player1 = input.next();\r\n    \r\n    \r\n    players player1 = new players();","title":"How do I save user input as the name of a class instance?","body":"<p>I'm trying to use a user-inputted string as the name for a class instance. In this example, I'm trying to use the user input to name the class instance <code>player1</code>. However, it is not letting me because <code>player1</code> is already defined when I set it as an instance of the <code>players</code> class.</p>\n\n<pre><code>System.out.println(\"Enter your name, player1: \");\nScanner input = new Scanner(System.in);\n//the user enters their name\nString player1 = input.next();\n\n\nplayers player1 = new players();\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1672213903,"post_id":74932404,"comment_id":132242426,"body_markdown":"So you say that once you sign out, the FirebaseUser object is null?","body":"So you say that once you sign out, the FirebaseUser object is null?"},{"owner":{"account_id":27366958,"reputation":1,"user_id":20873633,"display_name":"Shyam Jewellers"},"score":0,"creation_date":1672219374,"post_id":74932404,"comment_id":132243754,"body_markdown":"Yes..i dont know how to overcome this problem","body":"Yes..i dont know how to overcome this problem"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1672220023,"post_id":74932404,"comment_id":132243923,"body_markdown":"Aside from my answer, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Aside from my answer, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672290957,"post_id":74932404,"comment_id":132259526,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":27366958,"reputation":1,"user_id":20873633,"display_name":"Shyam Jewellers"},"score":0,"creation_date":1672230687,"post_id":74938519,"comment_id":132246545,"body_markdown":"Thanx sir…I appreciate your helpful nature but i solved it just to remove signout button because i could not understand","body":"Thanx sir…I appreciate your helpful nature but i solved it just to remove signout button because i could not understand"},{"owner":{"account_id":27366958,"reputation":1,"user_id":20873633,"display_name":"Shyam Jewellers"},"score":0,"creation_date":1672231528,"post_id":74938519,"comment_id":132246744,"body_markdown":"Sir will you please tell me how to create 3 minute timer which is same for all user. My timer is automatically reset whenever i change fragment","body":"Sir will you please tell me how to create 3 minute timer which is same for all user. My timer is automatically reset whenever i change fragment"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1672233152,"post_id":74938519,"comment_id":132247147,"body_markdown":"If you have any other question that derives from this one, then it&#39;s considered a new question and should be added separately. So please post a new question, here on StackOverflow, using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"If you have any other question that derives from this one, then it&#39;s considered a new question and should be added separately. So please post a new question, here on StackOverflow, using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673687040,"post_id":74938519,"comment_id":132557139,"body_markdown":"Hey Shyam. Did my answer help? Can I help you with other information regarding the initial question?","body":"Hey Shyam. Did my answer help? Can I help you with other information regarding the initial question?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672219986,"creation_date":1672219986,"answer_id":74938519,"question_id":74932404,"body_markdown":"When you call [signOut()][1] on an instance of [FirebaseAuth][2]:\r\n\r\n&gt; Signs out the current user and clears it from the disk cache.\r\n\r\nWhich basically means that the [FirebaseUser][3] object becomes null. So what you&#39;re experiencing is normal behavior. So each time you want to use a FirebaseUser object make sure the user is authenticated. In code you should check that object against nullity. If you however want to take some action when a user signs out, then I recommend you to use an AuthStateListener, as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\r\n\r\n\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#signOut()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser","title":"Android phone authentication","body":"<p>When you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#signOut()\" rel=\"nofollow noreferrer\">signOut()</a> on an instance of <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a>:</p>\n<blockquote>\n<p>Signs out the current user and clears it from the disk cache.</p>\n</blockquote>\n<p>Which basically means that the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">FirebaseUser</a> object becomes null. So what you're experiencing is normal behavior. So each time you want to use a FirebaseUser object make sure the user is authenticated. In code you should check that object against nullity. If you however want to take some action when a user signs out, then I recommend you to use an AuthStateListener, as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50885891/one-time-login-in-app-firebaseauth\">One time login in app - FirebaseAuth</a></li>\n</ul>\n"}],"owner":{"account_id":27366958,"reputation":1,"user_id":20873633,"display_name":"Shyam Jewellers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675514411,"creation_date":1672162234,"question_id":74932404,"body_markdown":"```\r\nGetcurrentuser() return null\r\n```\r\nI facing a problem with getcurrentuser() after signout \r\nGetinstance().signout\r\nIn phone authentication \r\nNow currentuser return null how to overcome this?\r\n\r\n&gt; I use phone authentication to login into the android app. Everything was working fine until when I use the &quot;sign out&quot; button using `getinstance().signout`\r\n&gt; And after that, when I login again using phone number, I could log into the app, but now I am getting error to get current, it returns null.\r\n\r\nHow to overcome this problem? I am stuck in it.","title":"Android phone authentication","body":"<pre><code>Getcurrentuser() return null\n</code></pre>\n<p>I facing a problem with getcurrentuser() after signout\nGetinstance().signout\nIn phone authentication\nNow currentuser return null how to overcome this?</p>\n<blockquote>\n<p>I use phone authentication to login into the android app. Everything was working fine until when I use the &quot;sign out&quot; button using <code>getinstance().signout</code>\nAnd after that, when I login again using phone number, I could log into the app, but now I am getting error to get current, it returns null.</p>\n</blockquote>\n<p>How to overcome this problem? I am stuck in it.</p>\n"},{"tags":["java","android","kotlin","android-scrollview"],"comments":[{"owner":{"account_id":23054216,"reputation":61,"user_id":17170502,"display_name":"Bartosz Bieniek"},"score":0,"creation_date":1675514589,"post_id":75345128,"comment_id":132947740,"body_markdown":"Does this answer your question? [Is there a way to programmatically scroll a scroll view to a specific edit text?](https://stackoverflow.com/questions/6831671/is-there-a-way-to-programmatically-scroll-a-scroll-view-to-a-specific-edit-text)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6831671/is-there-a-way-to-programmatically-scroll-a-scroll-view-to-a-specific-edit-text\">Is there a way to programmatically scroll a scroll view to a specific edit text?</a>"},{"owner":{"account_id":24314503,"reputation":3,"user_id":18255934,"display_name":"GamerBlind"},"score":0,"creation_date":1675515092,"post_id":75345128,"comment_id":132947837,"body_markdown":"Hi, already found this post before, but it does not really answer my question due the fact that the codes in this post are not related to an on touch function...","body":"Hi, already found this post before, but it does not really answer my question due the fact that the codes in this post are not related to an on touch function..."},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1675519919,"post_id":75345128,"comment_id":132948654,"body_markdown":"Your layout design is redundant. I suggest to put your tutorial texts and image urls into a list and implement a `RecyclerView`. Additional benefit is you can use `RecyclerView.SnapHelper` to handle scrolling behavior you want.","body":"Your layout design is redundant. I suggest to put your tutorial texts and image urls into a list and implement a <code>RecyclerView</code>. Additional benefit is you can use <code>RecyclerView.SnapHelper</code> to handle scrolling behavior you want."}],"owner":{"account_id":24314503,"reputation":3,"user_id":18255934,"display_name":"GamerBlind"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675514226,"creation_date":1675514226,"question_id":75345128,"body_markdown":"I have a huge vertical ScrollView which contains many TextViews and ShapableImageViews.\r\nThe standard ScrollView allows a smooth scrolling. But I want to have it like this in my app:\r\n\r\nAs soon as the user scrolls, there should be no smooth scrolling, but it should automatically scroll from TextView1 to TextView2. When the user scrolls down again, it should automatically scroll to TextView3. And when user scrolls up, it should go back from TextView3 to TextView2.\r\n\r\nHow do I achieve that custom scrolling behavior?\r\nI use Kolin, but also a help with Java code would be very appreciated.\r\n\r\nThis is my XML:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;isData&quot;\r\n            type=&quot;com.example.ezworkshop.TutorialData&quot; /&gt;\r\n\r\n\r\n    &lt;/data&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.view.TutorialActivity&quot;\r\n        android:background=&quot;#25261D&quot;&gt;\r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/scrollView_activityTutorial&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearLayout&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:gravity=&quot;start&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.imageview.ShapeableImageView\r\n                        android:id=&quot;@+id/image&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:layout_marginTop=&quot;11dp&quot;\r\n                        android:layout_marginStart=&quot;2dp&quot;\r\n                        android:layout_marginEnd=&quot;2dp&quot;\r\n                        android:imageUrl=&quot;@{isData.image}&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;220dp&quot;\r\n                        app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/iv_playButton&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:src=&quot;@drawable/playbutton&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialHeading&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;@{isData.tutorialHeading}&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:textSize=&quot;26sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText&quot;\r\n                    android:text=&quot;@{isData.tutorialText}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText2&quot;\r\n                    android:text=&quot;@{isData.tutorialText2}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText3&quot;\r\n                    android:text=&quot;@{isData.tutorialText3}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage2&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage2}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText4&quot;\r\n                    android:text=&quot;@{isData.tutorialText4}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage3&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage3}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText5&quot;\r\n                    android:text=&quot;@{isData.tutorialText5}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage4&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage4}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText6&quot;\r\n                    android:text=&quot;@{isData.tutorialText6}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage5&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage5}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText7&quot;\r\n                    android:text=&quot;@{isData.tutorialText7}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage6&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage6}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText8&quot;\r\n                    android:text=&quot;@{isData.tutorialText8}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage7&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage7}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText9&quot;\r\n                    android:text=&quot;@{isData.tutorialText9}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage8&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage8}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText10&quot;\r\n                    android:text=&quot;@{isData.tutorialText10}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage9&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage9}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText11&quot;\r\n                    android:text=&quot;@{isData.tutorialText11}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage10&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage10}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText12&quot;\r\n                    android:text=&quot;@{isData.tutorialText12}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage11&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage11}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText13&quot;\r\n                    android:text=&quot;@{isData.tutorialText13}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage12&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage12}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText14&quot;\r\n                    android:text=&quot;@{isData.tutorialText14}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage13&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage13}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText15&quot;\r\n                    android:text=&quot;@{isData.tutorialText15}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage14&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage14}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText16&quot;\r\n                    android:text=&quot;@{isData.tutorialText16}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage15&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage15}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText17&quot;\r\n                    android:text=&quot;@{isData.tutorialText17}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage16&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage16}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText18&quot;\r\n                    android:text=&quot;@{isData.tutorialText18}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage17&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage17}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText19&quot;\r\n                    android:text=&quot;@{isData.tutorialText19}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage18&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage18}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tutorialText20&quot;\r\n                    android:text=&quot;@{isData.tutorialText20}&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    android:gravity=&quot;start&quot;\r\n                    android:layout_gravity=&quot;start&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginBottom=&quot;15dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/standardTextColor&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=&quot;@+id/tutorialTextImage19&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:imageUrl=&quot;@{isData.tutorialTextImage19}&quot;\r\n                    android:layout_marginStart=&quot;2dp&quot;\r\n                    android:layout_marginEnd=&quot;2dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/layout&gt;\r\n```","title":"Android ScrollView with custom scrolling from TextView1 to TextView2","body":"<p>I have a huge vertical ScrollView which contains many TextViews and ShapableImageViews.\nThe standard ScrollView allows a smooth scrolling. But I want to have it like this in my app:</p>\n<p>As soon as the user scrolls, there should be no smooth scrolling, but it should automatically scroll from TextView1 to TextView2. When the user scrolls down again, it should automatically scroll to TextView3. And when user scrolls up, it should go back from TextView3 to TextView2.</p>\n<p>How do I achieve that custom scrolling behavior?\nI use Kolin, but also a help with Java code would be very appreciated.</p>\n<p>This is my XML:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;isData&quot;\n            type=&quot;com.example.ezworkshop.TutorialData&quot; /&gt;\n\n\n    &lt;/data&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.view.TutorialActivity&quot;\n        android:background=&quot;#25261D&quot;&gt;\n        &lt;ScrollView\n            android:id=&quot;@+id/scrollView_activityTutorial&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n            &lt;LinearLayout\n                android:id=&quot;@+id/linearLayout&quot;\n                android:orientation=&quot;vertical&quot;\n                android:gravity=&quot;start&quot;\n                android:layout_gravity=&quot;start&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/constraintLayout&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;&gt;\n\n                    &lt;com.google.android.material.imageview.ShapeableImageView\n                        android:id=&quot;@+id/image&quot;\n                        android:scaleType=&quot;fitXY&quot;\n                        android:layout_marginTop=&quot;11dp&quot;\n                        android:layout_marginStart=&quot;2dp&quot;\n                        android:layout_marginEnd=&quot;2dp&quot;\n                        android:imageUrl=&quot;@{isData.image}&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;220dp&quot;\n                        app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/iv_playButton&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:scaleType=&quot;fitXY&quot;\n                        android:src=&quot;@drawable/playbutton&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialHeading&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;@{isData.tutorialHeading}&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:textSize=&quot;26sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText&quot;\n                    android:text=&quot;@{isData.tutorialText}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText2&quot;\n                    android:text=&quot;@{isData.tutorialText2}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText3&quot;\n                    android:text=&quot;@{isData.tutorialText3}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage2&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage2}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText4&quot;\n                    android:text=&quot;@{isData.tutorialText4}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage3&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage3}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText5&quot;\n                    android:text=&quot;@{isData.tutorialText5}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage4&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage4}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText6&quot;\n                    android:text=&quot;@{isData.tutorialText6}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage5&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage5}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText7&quot;\n                    android:text=&quot;@{isData.tutorialText7}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage6&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage6}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText8&quot;\n                    android:text=&quot;@{isData.tutorialText8}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage7&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage7}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText9&quot;\n                    android:text=&quot;@{isData.tutorialText9}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage8&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage8}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText10&quot;\n                    android:text=&quot;@{isData.tutorialText10}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage9&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage9}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText11&quot;\n                    android:text=&quot;@{isData.tutorialText11}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage10&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage10}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText12&quot;\n                    android:text=&quot;@{isData.tutorialText12}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage11&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage11}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText13&quot;\n                    android:text=&quot;@{isData.tutorialText13}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage12&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage12}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText14&quot;\n                    android:text=&quot;@{isData.tutorialText14}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage13&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage13}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText15&quot;\n                    android:text=&quot;@{isData.tutorialText15}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage14&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage14}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText16&quot;\n                    android:text=&quot;@{isData.tutorialText16}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage15&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage15}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText17&quot;\n                    android:text=&quot;@{isData.tutorialText17}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage16&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage16}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText18&quot;\n                    android:text=&quot;@{isData.tutorialText18}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage17&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage17}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText19&quot;\n                    android:text=&quot;@{isData.tutorialText19}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage18&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage18}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/tutorialText20&quot;\n                    android:text=&quot;@{isData.tutorialText20}&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:gravity=&quot;start&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:layout_marginBottom=&quot;15dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:textColor=&quot;@color/standardTextColor&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\n                &lt;com.google.android.material.imageview.ShapeableImageView\n                    android:id=&quot;@+id/tutorialTextImage19&quot;\n                    android:scaleType=&quot;fitXY&quot;\n                    android:imageUrl=&quot;@{isData.tutorialTextImage19}&quot;\n                    android:layout_marginStart=&quot;2dp&quot;\n                    android:layout_marginEnd=&quot;2dp&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    app:shapeAppearanceOverlay=&quot;@style/RoundCornerForImageView&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/ScrollView&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n"},{"tags":["java","android","intercom"],"comments":[{"owner":{"account_id":2635510,"reputation":600,"user_id":2280316,"accept_rate":100,"display_name":"Bita Mirshafiee"},"score":0,"creation_date":1593765969,"post_id":62708288,"comment_id":110899458,"body_markdown":"have you download the son file and located it in your app?","body":"have you download the son file and located it in your app?"},{"owner":{"account_id":17547454,"reputation":121,"user_id":12728445,"display_name":"Sam L"},"score":0,"creation_date":1593906267,"post_id":62708288,"comment_id":110941262,"body_markdown":"Hi @BitaMirshafiee; yes I have. We are receiving standard push notifications from Firebase already. Just not Intercom.","body":"Hi @BitaMirshafiee; yes I have. We are receiving standard push notifications from Firebase already. Just not Intercom."}],"answers":[{"tags":[],"owner":{"account_id":17547454,"reputation":121,"user_id":12728445,"display_name":"Sam L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593992596,"creation_date":1593992596,"answer_id":62747455,"question_id":62708288,"body_markdown":"You only need one instance of `&quot;com.google.firebase.MESSAGING_EVENT&quot;` in the Gradle file. In my case I stuck with `.CloudMessaging` as that is where the Intercom notification is handled as shown above. My `CloudMessaging` class needed to a have a public constructor with 0 input fields to open when the notification is recieved. eg. \r\n\r\n**Gradle File**\r\n\r\n    &lt;service\r\n        android:name=&quot;.CloudMessaging&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n\r\n\r\n**CloudMessaging Class**\r\n\r\n        \r\n     public CloudMessaging() {\r\n            //dont delete or you wont get push notifications buddy\r\n    }\r\n\r\n    CloudMessaging(Context context, Application application) {\r\n            this.context = context;\r\n            this.application = application;\r\n            sharedPref = context.getSharedPreferences(FCM_ID_SHAREDPREF, MODE_PRIVATE);\r\n        }\r\n\r\nThe next most important thing is ensure you are using the correct Intercom SDK. I had originally implemented a &#39;base&#39; sdk that did not have push notification capability. Make sure you have the full sdk. \r\n\r\n \r\n**Bad SDK**\r\n\r\n    dependencies {\r\n        implementation &#39;io.intercom.android:intercom-sdk-base:x.x.+&#39;\r\n    }\r\n\r\n**Good SDK**\r\n\r\n    dependencies {\r\n        implementation &#39;io.intercom.android:intercom-sdk:x.x.+&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:x.+&#39; \r\n    }\r\n\r\n","title":"Cant receive push notifications from Intercom, FCM","body":"<p>You only need one instance of <code>&quot;com.google.firebase.MESSAGING_EVENT&quot;</code> in the Gradle file. In my case I stuck with <code>.CloudMessaging</code> as that is where the Intercom notification is handled as shown above. My <code>CloudMessaging</code> class needed to a have a public constructor with 0 input fields to open when the notification is recieved. eg.</p>\n<p><strong>Gradle File</strong></p>\n<pre><code>&lt;service\n    android:name=&quot;.CloudMessaging&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n<p><strong>CloudMessaging Class</strong></p>\n<pre><code> public CloudMessaging() {\n        //dont delete or you wont get push notifications buddy\n}\n\nCloudMessaging(Context context, Application application) {\n        this.context = context;\n        this.application = application;\n        sharedPref = context.getSharedPreferences(FCM_ID_SHAREDPREF, MODE_PRIVATE);\n    }\n</code></pre>\n<p>The next most important thing is ensure you are using the correct Intercom SDK. I had originally implemented a 'base' sdk that did not have push notification capability. Make sure you have the full sdk.</p>\n<p><strong>Bad SDK</strong></p>\n<pre><code>dependencies {\n    implementation 'io.intercom.android:intercom-sdk-base:x.x.+'\n}\n</code></pre>\n<p><strong>Good SDK</strong></p>\n<pre><code>dependencies {\n    implementation 'io.intercom.android:intercom-sdk:x.x.+'\n    implementation 'com.google.firebase:firebase-messaging:x.+' \n}\n</code></pre>\n"}],"owner":{"account_id":17547454,"reputation":121,"user_id":12728445,"display_name":"Sam L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62747455,"answer_count":1,"score":0,"last_activity_date":1675514042,"creation_date":1593748701,"question_id":62708288,"body_markdown":"Having trouble with Intercom push notifications. I am unable to receive any push notifications on the device from Intercom; standard notifications sent from FCM work perfectly as expected. \r\n\r\n\r\nHave followed [this][1] tutorial, and have added the server key to Intercom as suggested. \r\n\r\n\r\n**CloudMessaging.java**\r\n\r\n    public class CloudMessaging extends FirebaseMessagingService {\r\n\r\n    private final IntercomPushClient intercomPushClient = new IntercomPushClient();\r\n\r\n    public void getFirebaseInstanceID() {\r\n            FirebaseInstanceId.getInstance().getInstanceId()\r\n                    .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\r\n                            if (!task.isSuccessful()) {\r\n                                Log.w(TAG, &quot;getInstanceId failed&quot;, task.getException());\r\n                                return;\r\n                            }\r\n                            intercomPushClient.sendTokenToIntercom(application, token);\r\n                          );\r\n                        }\r\n                     }\r\n            });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        Map message = remoteMessage.getData();\r\n\r\n        if (intercomPushClient.isIntercomPush(message)) {\r\n            Log.d(TAG, &quot;Intercom message received&quot;);\r\n            intercomPushClient.handlePush(getApplication(), message);\r\n        } else {\r\n            super.onMessageReceived(remoteMessage);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n**manifest file**\r\n\r\n        &lt;service\r\n            android:name=&quot;com.google.firebase.messaging.FirebaseMessagingService&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/service&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.CloudMessaging&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n  [1]: https://developers.intercom.com/installing-intercom/docs/android-fcm-push-notifications","title":"Cant receive push notifications from Intercom, FCM","body":"<p>Having trouble with Intercom push notifications. I am unable to receive any push notifications on the device from Intercom; standard notifications sent from FCM work perfectly as expected.</p>\n<p>Have followed <a href=\"https://developers.intercom.com/installing-intercom/docs/android-fcm-push-notifications\" rel=\"nofollow noreferrer\">this</a> tutorial, and have added the server key to Intercom as suggested.</p>\n<p><strong>CloudMessaging.java</strong></p>\n<pre><code>public class CloudMessaging extends FirebaseMessagingService {\n\nprivate final IntercomPushClient intercomPushClient = new IntercomPushClient();\n\npublic void getFirebaseInstanceID() {\n        FirebaseInstanceId.getInstance().getInstanceId()\n                .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\n                        if (!task.isSuccessful()) {\n                            Log.w(TAG, &quot;getInstanceId failed&quot;, task.getException());\n                            return;\n                        }\n                        intercomPushClient.sendTokenToIntercom(application, token);\n                      );\n                    }\n                 }\n        });\n}\n\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    Map message = remoteMessage.getData();\n\n    if (intercomPushClient.isIntercomPush(message)) {\n        Log.d(TAG, &quot;Intercom message received&quot;);\n        intercomPushClient.handlePush(getApplication(), message);\n    } else {\n        super.onMessageReceived(remoteMessage);\n    }\n}\n</code></pre>\n<p><strong>manifest file</strong></p>\n<pre><code>    &lt;service\n        android:name=&quot;com.google.firebase.messaging.FirebaseMessagingService&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n    &lt;/service&gt;\n\n    &lt;service\n        android:name=&quot;.CloudMessaging&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-storage"],"comments":[{"owner":{"account_id":18064369,"reputation":48575,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1675510542,"post_id":75344799,"comment_id":132947106,"body_markdown":"Are you using Firebase Storage (supporting security rule) or Google Cloud storage directly just to confirm?","body":"Are you using Firebase Storage (supporting security rule) or Google Cloud storage directly just to confirm?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675510587,"post_id":75344799,"comment_id":132947117,"body_markdown":"@Dharmaraj Firebase Storage (Currently without rules)","body":"@Dharmaraj Firebase Storage (Currently without rules)"}],"answers":[{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675512024,"post_id":75344926,"comment_id":132947308,"body_markdown":"This is not the final code, just a demonstration of the general idea. Thank you for your response.","body":"This is not the final code, just a demonstration of the general idea. Thank you for your response."},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":1,"creation_date":1675512136,"post_id":75344926,"comment_id":132947326,"body_markdown":"Demostration code has to be free of distractions, any way you need to split the code into methods and make sure that when task finishes the connection is closed","body":"Demostration code has to be free of distractions, any way you need to split the code into methods and make sure that when task finishes the connection is closed"}],"tags":[],"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675512587,"creation_date":1675511842,"answer_id":75344926,"question_id":75344799,"body_markdown":"***You can create a backend API method that returns the list of titles for you in a single call***\r\n\r\nI know now that your code was demostration purposes only but....\r\n\r\n\r\n1. your code says `task.getResult().getItems().get(0)` meaning that only the first item is being used 150 times\r\n\r\n2. Calling `task.getResult().getItems()` inside the `for`, means that  you are calling something that only needs to be called once 150 times\r\n\r\n3. Using harcoded 150 instead of the items.length is not a good idea\r\n\r\nWhen you see that your code cumbersome or hard to read, follow the &quot;Single Responsability&quot; to split it into simpler methods.\r\n\r\nIn the code below I&#39;m using type &quot;Item&quot; because  I dont now the name of the type returned by `task.getResult().getItems()`\r\n\r\n``` java\r\n\r\nvoid getAllImagesMetadata() {\r\n\tFirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll().addOnCompleteListener(task -&gt; {\r\n\tif (task.isSuccessful()) {\r\n\t\tItem []items = task.getResult().getItems() ;\r\n\r\n\t\tfor (int i = 0; i &lt; items.length ; i++) {\r\n\t\t\ttitle[i] = getTitle(items[i] ; \r\n\t\t}\r\n\t} else {\r\n\t\t//Handle error\r\n\t}\r\n\r\n    // Make sure the connection to get list of all items is closed here\r\n}\r\n\r\n\r\nstring getTitle(Item item) {\r\n    string title ;\r\n\r\n\titem.getMetadata().addOnCompleteListener(task -&gt; {\r\n\tif (task.isSuccessful()) {\r\n\t\ttitle = task.getResult().getCustomMetadata(&quot;title&quot;); \r\n\t} else {\r\n\t\t//Handle error\r\n\t}\r\n\t\r\n    // Make sure the connection to get the metada is closed here\r\n\treturn title ;\r\n}\r\n\r\n\r\n```","title":"Is it necessary to create 151 connections to the server when displaying 150 images in a RecyclerView, stored in Firebase Storage&#39;s &#39;Images&#39; folder?","body":"<p><em><strong>You can create a backend API method that returns the list of titles for you in a single call</strong></em></p>\n<p>I know now that your code was demostration purposes only but....</p>\n<ol>\n<li><p>your code says <code>task.getResult().getItems().get(0)</code> meaning that only the first item is being used 150 times</p>\n</li>\n<li><p>Calling <code>task.getResult().getItems()</code> inside the <code>for</code>, means that  you are calling something that only needs to be called once 150 times</p>\n</li>\n<li><p>Using harcoded 150 instead of the items.length is not a good idea</p>\n</li>\n</ol>\n<p>When you see that your code cumbersome or hard to read, follow the &quot;Single Responsability&quot; to split it into simpler methods.</p>\n<p>In the code below I'm using type &quot;Item&quot; because  I dont now the name of the type returned by <code>task.getResult().getItems()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid getAllImagesMetadata() {\n    FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll().addOnCompleteListener(task -&gt; {\n    if (task.isSuccessful()) {\n        Item []items = task.getResult().getItems() ;\n\n        for (int i = 0; i &lt; items.length ; i++) {\n            title[i] = getTitle(items[i] ; \n        }\n    } else {\n        //Handle error\n    }\n\n    // Make sure the connection to get list of all items is closed here\n}\n\n\nstring getTitle(Item item) {\n    string title ;\n\n    item.getMetadata().addOnCompleteListener(task -&gt; {\n    if (task.isSuccessful()) {\n        title = task.getResult().getCustomMetadata(&quot;title&quot;); \n    } else {\n        //Handle error\n    }\n    \n    // Make sure the connection to get the metada is closed here\n    return title ;\n}\n\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675513990,"post_id":75345059,"comment_id":132947645,"body_markdown":"I will test your code tomorrow after I finish my work. If it works, I will select your answer as correct. Also please tell me more about whenAllSuccess. Thank you.","body":"I will test your code tomorrow after I finish my work. If it works, I will select your answer as correct. Also please tell me more about whenAllSuccess. Thank you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1675514054,"post_id":75345059,"comment_id":132947655,"body_markdown":"Ok, give it a try and tell me if it works. `Tasks#whenAllSuccess(Collection&gt; tasks)` is in my opinion the best way to solve this problem when you have to deal with multiple Task objects.","body":"Ok, give it a try and tell me if it works. <code>Tasks#whenAllSuccess(Collection&gt; tasks)</code> is in my opinion the best way to solve this problem when you have to deal with multiple Task objects."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675514543,"post_id":75345059,"comment_id":132947732,"body_markdown":"I will select your response as the correct answer because I have trust in your solution. I will verify the code later, thank you.","body":"I will select your response as the correct answer because I have trust in your solution. I will verify the code later, thank you."},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":1,"creation_date":1675598396,"post_id":75345059,"comment_id":132959935,"body_markdown":"I have never written code for `FirebaseStorage`, glad to see that I was close ;-)","body":"I have never written code for <code>FirebaseStorage</code>, glad to see that I was close ;-)"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675513993,"creation_date":1675513420,"answer_id":75345059,"question_id":75344799,"body_markdown":"First of all, `FirebaseStorage.getInstance()` is a singleton, which will always create a single instance.\r\n\r\nFurthermore, while Mauricio Gracia Gutierrez&#39;s will work, please see below a solution that uses [Tasks#whenAllSuccess(Collection&lt;? extends Task&lt;?&gt;&gt; tasks)][1]:\r\n\r\n    StorageReference imagesRef = FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;);\r\n    imagesRef.listAll().addOnCompleteListener(new OnCompleteListener&lt;ListResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;ListResult&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                List&lt;StorageReference&gt; storageReferenceList = task.getResult().getItems();\r\n                List&lt;Task&lt;StorageMetadata&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n                storageReferenceList.forEach(item -&gt;\r\n                        tasks.add(item.getMetadata())\r\n                );\r\n                Tasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Object&gt; objects) {\r\n                        for (Object object : objects) {\r\n                            String title = ((StorageMetadata) object).getCustomMetadata(&quot;title&quot;);\r\n                            Log.d(&quot;TAG&quot;, title);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nIn this way, you&#39;ll wait until you have a List full of titles.\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)","title":"Is it necessary to create 151 connections to the server when displaying 150 images in a RecyclerView, stored in Firebase Storage&#39;s &#39;Images&#39; folder?","body":"<p>First of all, <code>FirebaseStorage.getInstance()</code> is a singleton, which will always create a single instance.</p>\n<p>Furthermore, while Mauricio Gracia Gutierrez's will work, please see below a solution that uses <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)\" rel=\"nofollow noreferrer\">Tasks#whenAllSuccess(Collection&gt; tasks)</a>:</p>\n<pre><code>StorageReference imagesRef = FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;);\nimagesRef.listAll().addOnCompleteListener(new OnCompleteListener&lt;ListResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;ListResult&gt; task) {\n        if (task.isSuccessful()) {\n            List&lt;StorageReference&gt; storageReferenceList = task.getResult().getItems();\n            List&lt;Task&lt;StorageMetadata&gt;&gt; tasks = new ArrayList&lt;&gt;();\n            storageReferenceList.forEach(item -&gt;\n                    tasks.add(item.getMetadata())\n            );\n            Tasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n                @Override\n                public void onSuccess(List&lt;Object&gt; objects) {\n                    for (Object object : objects) {\n                        String title = ((StorageMetadata) object).getCustomMetadata(&quot;title&quot;);\n                        Log.d(&quot;TAG&quot;, title);\n                    }\n                }\n            });\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>In this way, you'll wait until you have a List full of titles.</p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75345059,"answer_count":2,"score":0,"last_activity_date":1675513993,"creation_date":1675510438,"question_id":75344799,"body_markdown":"Suppose you have 150 images stored in the images folder within your Firebase Storage. Each image should have a title, which will be inserted during the uploading process. Now, let&#39;s say you want to display all of these images in a `RecyclerView`. In this scenario, you would need to create 151 separate connections to the server instead of just one. This may seem counterintuitive, so allow me to explain.\r\n\r\nThe first connection is to retrieve all the images using the following line of code: `FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll()`. This will return a list of all the images in the folder.\r\n\r\nFor each image, you would need to make another connection to the server to retrieve the metadata for that image. This means that for every single image, you would need to make a separate call to the server, resulting in a total of 151 connections.\r\n\r\n**Here is a preview of the code for this scenario:**\r\n\r\n    FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll().addOnCompleteListener(task -&gt; {\r\n    if (task.isSuccessful()) {\r\n        for (int i = 0; i &lt; 150; i++) {\r\n            task.getResult().getItems().get(0).getMetadata().addOnCompleteListener(task1 -&gt; {\r\n                if (task1.isSuccessful()) {\r\n                    task1.getResult().getCustomMetadata(&quot;title&quot;); //Finally I got the image title that stored inside image, it is cumbersome process.\r\n                } else {\r\n                    //Handle error\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        //Handle error\r\n    }\r\n    });\r\n\r\nHowever, it&#39;s possible that I may be missing something. Is this really the way it works, or is there a better solution? I don&#39;t want to name the image directly as the file name because I&#39;ve tried that before and found that the length is not enough.\r\n\r\nI would greatly appreciate any suggestions or alternative solutions to this problem. Thank you in advance!\r\n\r\nAdditionally, I would like to express my gratitude to OpenAI&#39;s GPT-3 for helping me write this clear and concise question.","title":"Is it necessary to create 151 connections to the server when displaying 150 images in a RecyclerView, stored in Firebase Storage&#39;s &#39;Images&#39; folder?","body":"<p>Suppose you have 150 images stored in the images folder within your Firebase Storage. Each image should have a title, which will be inserted during the uploading process. Now, let's say you want to display all of these images in a <code>RecyclerView</code>. In this scenario, you would need to create 151 separate connections to the server instead of just one. This may seem counterintuitive, so allow me to explain.</p>\n<p>The first connection is to retrieve all the images using the following line of code: <code>FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll()</code>. This will return a list of all the images in the folder.</p>\n<p>For each image, you would need to make another connection to the server to retrieve the metadata for that image. This means that for every single image, you would need to make a separate call to the server, resulting in a total of 151 connections.</p>\n<p><strong>Here is a preview of the code for this scenario:</strong></p>\n<pre><code>FirebaseStorage.getInstance().getReference().child(&quot;Images/&quot;).listAll().addOnCompleteListener(task -&gt; {\nif (task.isSuccessful()) {\n    for (int i = 0; i &lt; 150; i++) {\n        task.getResult().getItems().get(0).getMetadata().addOnCompleteListener(task1 -&gt; {\n            if (task1.isSuccessful()) {\n                task1.getResult().getCustomMetadata(&quot;title&quot;); //Finally I got the image title that stored inside image, it is cumbersome process.\n            } else {\n                //Handle error\n            }\n        });\n    }\n} else {\n    //Handle error\n}\n});\n</code></pre>\n<p>However, it's possible that I may be missing something. Is this really the way it works, or is there a better solution? I don't want to name the image directly as the file name because I've tried that before and found that the length is not enough.</p>\n<p>I would greatly appreciate any suggestions or alternative solutions to this problem. Thank you in advance!</p>\n<p>Additionally, I would like to express my gratitude to OpenAI's GPT-3 for helping me write this clear and concise question.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675405405,"post_id":75327560,"comment_id":132925951,"body_markdown":"Hey Aurelius. Have you tried my solution above, does it work?","body":"Hey Aurelius. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675362979,"creation_date":1675362979,"answer_id":75327560,"question_id":75326097,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments, but userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups has 2\r\n\r\nBecause of the following line of code:\r\n\r\n    mStore.collection(&quot;/users&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(/* ... /*);\r\n\r\nWhy? Because when you concatenate:\r\n\r\n    &quot;/users&quot; + userId + &quot;/groups&quot;\r\n\r\nYou&#39;ll get as result:\r\n\r\n    userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups\r\n\r\nAnd not:\r\n\r\n    users/wEfW4DUgl0gFPv7J8afrTisIiXD3/groups\r\n    //  &#128070;\r\n\r\nAs it should. To solve this, please add `/` inside your reference like this:\r\n\r\n    mStore.collection(&quot;/users/&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(/* ... /*);\r\n    //                      &#128070;\r\n\r\nSee the `/`? Now you&#39;ll have 3 segments and not only 2.","title":"java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments, but userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups has 2</p>\n</blockquote>\n<p>Because of the following line of code:</p>\n<pre><code>mStore.collection(&quot;/users&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(/* ... /*);\n</code></pre>\n<p>Why? Because when you concatenate:</p>\n<pre><code>&quot;/users&quot; + userId + &quot;/groups&quot;\n</code></pre>\n<p>You'll get as result:</p>\n<pre><code>userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups\n</code></pre>\n<p>And not:</p>\n<pre><code>users/wEfW4DUgl0gFPv7J8afrTisIiXD3/groups\n//  👆\n</code></pre>\n<p>As it should. To solve this, please add <code>/</code> inside your reference like this:</p>\n<pre><code>mStore.collection(&quot;/users/&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(/* ... /*);\n//                      👆\n</code></pre>\n<p>See the <code>/</code>? Now you'll have 3 segments and not only 2.</p>\n"}],"owner":{"account_id":20286765,"reputation":1,"user_id":14879273,"display_name":"aurelius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675363182,"answer_count":1,"score":0,"last_activity_date":1675513949,"creation_date":1675355061,"question_id":75326097,"body_markdown":"My `createGroup` class does not work properly every time I click on a drawer menu bar device is refreshing the app. Here is my fetching group method:\r\n\r\n\r\n```\r\nprivate void FetchGroup() {\r\n        String userId = mAuth.getCurrentUser().getUid();\r\n        mStore.collection(&quot;/users&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(queryDocumentSnapshots -&gt; {\r\n            groupModelArrayList.clear();\r\n            for (DocumentSnapshot documentSnapshot : queryDocumentSnapshots.getDocuments()) {\r\n                GroupModel groupModel = new GroupModel(documentSnapshot.getString(&quot;grupAdi&quot;), documentSnapshot.getString(&quot;grupAciklamasi&quot;),\r\n                        documentSnapshot.getString(&quot;grupResmi&quot;), (List&lt;String&gt;)documentSnapshot.get(&quot;grupNumaralar&quot;), documentSnapshot.getId());\r\n                groupModelArrayList.add(groupModel);\r\n            }\r\n```\r\n\r\nERRORS:\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments, but userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups has 2\r\n        at com.google.firebase.firestore.CollectionReference.&lt;init&gt;(CollectionReference.java:45)\r\n        at com.google.firebase.firestore.FirebaseFirestore.collection(FirebaseFirestore.java:366)\r\n        at com.example.smsapplication.createGroup.CreateGroupFragment.FetchGroup(CreateGroupFragment.java:140)\r\n        at com.example.smsapplication.createGroup.CreateGroupFragment.onCreateView(CreateGroupFragment.java:108)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\r\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)`","title":"java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments","body":"<p>My <code>createGroup</code> class does not work properly every time I click on a drawer menu bar device is refreshing the app. Here is my fetching group method:</p>\n<pre><code>private void FetchGroup() {\n        String userId = mAuth.getCurrentUser().getUid();\n        mStore.collection(&quot;/users&quot; + userId + &quot;/groups&quot;).get().addOnSuccessListener(queryDocumentSnapshots -&gt; {\n            groupModelArrayList.clear();\n            for (DocumentSnapshot documentSnapshot : queryDocumentSnapshots.getDocuments()) {\n                GroupModel groupModel = new GroupModel(documentSnapshot.getString(&quot;grupAdi&quot;), documentSnapshot.getString(&quot;grupAciklamasi&quot;),\n                        documentSnapshot.getString(&quot;grupResmi&quot;), (List&lt;String&gt;)documentSnapshot.get(&quot;grupNumaralar&quot;), documentSnapshot.getId());\n                groupModelArrayList.add(groupModel);\n            }\n</code></pre>\n<p>ERRORS:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid collection reference. Collection references must have an odd number of segments, but userswEfW4DUgl0gFPv7J8afrTisIiXD3/groups has 2\nat com.google.firebase.firestore.CollectionReference.(CollectionReference.java:45)\nat com.google.firebase.firestore.FirebaseFirestore.collection(FirebaseFirestore.java:366)\nat com.example.smsapplication.createGroup.CreateGroupFragment.FetchGroup(CreateGroupFragment.java:140)\nat com.example.smsapplication.createGroup.CreateGroupFragment.onCreateView(CreateGroupFragment.java:108)\nat androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\nat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\nat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\nat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\nat androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)`</p>\n</blockquote>\n"},{"tags":["java","maven","jar","swagger","executable-jar"],"comments":[{"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"score":0,"creation_date":1675518907,"post_id":75345090,"comment_id":132948488,"body_markdown":"Try use Spring Boot version 2.7.9 not 3.0.","body":"Try use Spring Boot version 2.7.9 not 3.0."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675524782,"post_id":75345090,"comment_id":132949521,"body_markdown":"I suspect that application.properties not being on the classpath, tether than swagger is the issue","body":"I suspect that application.properties not being on the classpath, tether than swagger is the issue"}],"owner":{"account_id":5644165,"reputation":1,"user_id":4466896,"display_name":"Rad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675513942,"creation_date":1675513692,"question_id":75345090,"body_markdown":"I have a problem with spring boot application with swagger.\r\nMy application.properties includes a line `springdoc.swagger-ui.path=/swagger` and when I run through Intellij or mvn spring-boot:run then all is fine and I can access swagger at `localhost:8080/swagger`\r\n\r\nHowever after I build jar file and I run it with `java -jar target/testproject-1.0-SNAPSHOT-jar-with-dependencies.jar` there is an error when I try to access swagger. My resource endpoints are accessible.\r\n\r\nThis is my pom file:\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;spring.version&gt;3.0.0&lt;/spring.version&gt;\r\n        &lt;springdoc.openapi.version&gt;2.0.2&lt;/springdoc.openapi.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.rad.TestProjectApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nDo you know how to build a jar file or launch it properly so that swagger is accessible?\r\n\r\nIdeally I want to run it in docker container so I have an instruction: `CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/testrepository/app.jar&quot;]` in my Dockerfile","title":"Running spring boot from console doesn&#39;t include swagger","body":"<p>I have a problem with spring boot application with swagger.\nMy application.properties includes a line <code>springdoc.swagger-ui.path=/swagger</code> and when I run through Intellij or mvn spring-boot:run then all is fine and I can access swagger at <code>localhost:8080/swagger</code></p>\n<p>However after I build jar file and I run it with <code>java -jar target/testproject-1.0-SNAPSHOT-jar-with-dependencies.jar</code> there is an error when I try to access swagger. My resource endpoints are accessible.</p>\n<p>This is my pom file:</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;spring.version&gt;3.0.0&lt;/spring.version&gt;\n        &lt;springdoc.openapi.version&gt;2.0.2&lt;/springdoc.openapi.version&gt;\n    &lt;/properties&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.rad.TestProjectApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Do you know how to build a jar file or launch it properly so that swagger is accessible?</p>\n<p>Ideally I want to run it in docker container so I have an instruction: <code>CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/testrepository/app.jar&quot;]</code> in my Dockerfile</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675241091,"post_id":75307448,"comment_id":132883793,"body_markdown":"I understand that `FirebaseFirestore#runTransaction()` is necessary when I have both read and write operations on documents, while WriteBatch is used for write-only operations. In my case, as I only need to write documents, I used WriteBatch. However, I am a bit confused about the differences between the two. Can you provide more information about runTransaction and WriteBatch? I will try your solution and get back to you.","body":"I understand that <code>FirebaseFirestore#runTransaction()</code> is necessary when I have both read and write operations on documents, while WriteBatch is used for write-only operations. In my case, as I only need to write documents, I used WriteBatch. However, I am a bit confused about the differences between the two. Can you provide more information about runTransaction and WriteBatch? I will try your solution and get back to you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675241618,"post_id":75307448,"comment_id":132883955,"body_markdown":"Transactions require round-trip communication with the Firebase server in order to ensure that the code inside the transaction completes successfully. Without an internet connection that is not possible. On the other hand, a batch operation allows you to perform multiple different operations (set, update, delete) at different locations, no matter if you have a connection or not. It&#39;s true it&#39;s an atomic operation, but it&#39;s not a transaction.","body":"Transactions require round-trip communication with the Firebase server in order to ensure that the code inside the transaction completes successfully. Without an internet connection that is not possible. On the other hand, a batch operation allows you to perform multiple different operations (set, update, delete) at different locations, no matter if you have a connection or not. It&#39;s true it&#39;s an atomic operation, but it&#39;s not a transaction."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675241659,"post_id":75307448,"comment_id":132883969,"body_markdown":"Yep, give it a try and tel me if it works.","body":"Yep, give it a try and tel me if it works."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":1,"creation_date":1675241823,"post_id":75307448,"comment_id":132884021,"body_markdown":"It has worked and it&#39;s a great solution. Thank you!","body":"It has worked and it&#39;s a great solution. Thank you!"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675600008,"post_id":75307448,"comment_id":132960164,"body_markdown":"Is there a way to cancel pending writes to Firebase Storage if there was no internet? I&#39;m experiencing the same issue now with Firebase Storage.","body":"Is there a way to cancel pending writes to Firebase Storage if there was no internet? I&#39;m experiencing the same issue now with Firebase Storage."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1675602649,"post_id":75307448,"comment_id":132960632,"body_markdown":"For sure there is. Please check this [answer](https://stackoverflow.com/questions/68563672/how-to-cancel-firebase-storage-metadata-download-task/68571583#68571583).","body":"For sure there is. Please check this <a href=\"https://stackoverflow.com/questions/68563672/how-to-cancel-firebase-storage-metadata-download-task/68571583#68571583\">answer</a>."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675241897,"creation_date":1675240631,"answer_id":75307448,"question_id":75307153,"body_markdown":"When you&#39;re using [FirebaseFirestore#batch()][1] you aren&#39;t performing a transaction, but creating a [WriteBatch][2]:\r\n\r\n&gt; Creates a write batch, used for performing multiple writes as a single atomic operation.\r\n\r\nSo, it&#39;s an atomic operation and not a transaction. If you need to perform a transaction, please check the official documentation below:\r\n\r\n* https://firebase.google.com/docs/firestore/manage-data/transactions#transactions\r\n\r\nSo you should use [FirebaseFirestore#runTransaction()][3] which:\r\n\r\n&gt; Executes the given updateFunction and then attempts to commit the changes applied within the transaction.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#batch()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#runTransaction(com.google.firebase.firestore.Transaction.Function%3CTResult%3E)","title":"Preventing Pending Writes in Firebase with Transactions Not Working","body":"<p>When you're using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#batch()\" rel=\"nofollow noreferrer\">FirebaseFirestore#batch()</a> you aren't performing a transaction, but creating a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch\" rel=\"nofollow noreferrer\">WriteBatch</a>:</p>\n<blockquote>\n<p>Creates a write batch, used for performing multiple writes as a single atomic operation.</p>\n</blockquote>\n<p>So, it's an atomic operation and not a transaction. If you need to perform a transaction, please check the official documentation below:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions#transactions\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/manage-data/transactions#transactions</a></li>\n</ul>\n<p>So you should use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#runTransaction(com.google.firebase.firestore.Transaction.Function%3CTResult%3E)\" rel=\"nofollow noreferrer\">FirebaseFirestore#runTransaction()</a> which:</p>\n<blockquote>\n<p>Executes the given updateFunction and then attempts to commit the changes applied within the transaction.</p>\n</blockquote>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75307448,"answer_count":1,"score":2,"last_activity_date":1675513924,"creation_date":1675238867,"question_id":75307153,"body_markdown":"I aim to insert the name in Cloud Firestore when the button is clicked, but I don&#39;t want the save to be pending if the user is not connected to the internet. I don&#39;t like the behavior of Firebase where it saves pending writes, even if the internet connection is restored.\r\n\r\nI researched and found that [Firebase developers suggest using transactions][1] to prevent pending writes when there is no internet. I have tried this, but the result is still the same: if there is no internet, it saves pending writes, and when the internet connection is restored, it rewrites to Firestore. Why aren&#39;t transactions working as expected?\r\n\r\n```\r\nHashMap &lt; String, Object &gt; hashMap = new HashMap &lt; &gt; ();\r\nhashMap.put(&quot;Name&quot;, &quot;Test&quot;);\r\n\r\nFirebaseFirestore.getInstance().batch().set(FirebaseFirestore.getInstance().collection(&quot;LISTS&quot;).document(), hashMap).commit().addOnCompleteListener(new OnCompleteListener &lt; Void &gt; () {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n        Toast.makeText(MainActivity.this, &quot;&quot; + task, Toast.LENGTH_SHORT).show();\r\n        if (task.isSuccessful())\r\n            activityMainBinding.activityMainMaterialToolbarTopBar.setTitle(&quot;Done&quot;);\r\n        else\r\n            activityMainBinding.activityMainMaterialToolbarTopBar.setTitle(task.getException().getMessage());\r\n    }\r\n});\r\n```\r\nI am short on time as I want to deliver this project to the company on the specified date, and I don&#39;t want to waste time. If it&#39;s not possible to solve the problem with transactions, please let me know so I can look for alternative solutions.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54308344/how-can-i-discard-pending-documentreference-writes-when-offline/54308526#54308526","title":"Preventing Pending Writes in Firebase with Transactions Not Working","body":"<p>I aim to insert the name in Cloud Firestore when the button is clicked, but I don't want the save to be pending if the user is not connected to the internet. I don't like the behavior of Firebase where it saves pending writes, even if the internet connection is restored.</p>\n<p>I researched and found that <a href=\"https://stackoverflow.com/questions/54308344/how-can-i-discard-pending-documentreference-writes-when-offline/54308526#54308526\">Firebase developers suggest using transactions</a> to prevent pending writes when there is no internet. I have tried this, but the result is still the same: if there is no internet, it saves pending writes, and when the internet connection is restored, it rewrites to Firestore. Why aren't transactions working as expected?</p>\n<pre><code>HashMap &lt; String, Object &gt; hashMap = new HashMap &lt; &gt; ();\nhashMap.put(&quot;Name&quot;, &quot;Test&quot;);\n\nFirebaseFirestore.getInstance().batch().set(FirebaseFirestore.getInstance().collection(&quot;LISTS&quot;).document(), hashMap).commit().addOnCompleteListener(new OnCompleteListener &lt; Void &gt; () {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        Toast.makeText(MainActivity.this, &quot;&quot; + task, Toast.LENGTH_SHORT).show();\n        if (task.isSuccessful())\n            activityMainBinding.activityMainMaterialToolbarTopBar.setTitle(&quot;Done&quot;);\n        else\n            activityMainBinding.activityMainMaterialToolbarTopBar.setTitle(task.getException().getMessage());\n    }\n});\n</code></pre>\n<p>I am short on time as I want to deliver this project to the company on the specified date, and I don't want to waste time. If it's not possible to solve the problem with transactions, please let me know so I can look for alternative solutions.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675316748,"post_id":75289742,"comment_id":132903729,"body_markdown":"Hey there. Have you tried one of my solutions above, does one of them work?","body":"Hey there. Have you tried one of my solutions above, does one of them work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675110232,"creation_date":1675110232,"answer_id":75289742,"question_id":75250176,"body_markdown":"There are three ways in which you can solve this problem. Two options are on the client, using Java code, and another one using Admin SDK.\r\n\r\n**Solution 1**\r\n\r\nWhen a user signs in for the first time into your app, then save user data in [Firestore][1] using a schema that looks like this:\r\n\r\n    db\r\n    |\r\n    --- users (collection)\r\n         |\r\n         --- $uid (document)\r\n              |\r\n              --- phoneNumber: &quot;+1234567890&quot;\r\n\r\nTo check if a user with the `+1234567890` already exists, then you have to perform a query that looks like this in Java:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    Query queryPhoneNumber = db.collection(&quot;users&quot;).whereEqualTo(&quot;phoneNumber&quot;, &quot;+1234567890&quot;);\r\n    queryPhoneNumber.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    if (document.exists()) {\r\n                        Log.d(TAG, &quot;User already exists.&quot;);\r\n                    } else {\r\n                        Log.d(TAG, &quot;User doesn&#39;t exist.&quot;);\r\n                    }\r\n                }\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\n**Solution 2**\r\n\r\nAnother more elegant and easy solution would be to use [Query#count()][2] method:\r\n\r\n    queryPhoneNumber.count();\r\n\r\nIf the result is &gt; 0 then it means that the user already exists, otherwise it doesn&#39;t exist.\r\n\r\n**Solution 3**\r\n\r\nThe last solution would be to use a [Callable Cloud Function][3] that [can be called from your app][4]. Because we use the Admin SDK in Cloud Functions you can call the [getUserByPhoneNumber()][5] method. In code it will look like this:\r\n\r\n```\r\nconst functions = require(&#39;firebase-functions&#39;);\r\nconst admin = require(&#39;firebase-admin&#39;);\r\nadmin.initializeApp();\r\n\r\nexports.checkPhoneNumberExists = functions.https.onCall((data, context) =&gt; {\r\n    return admin.auth()\r\n        .getUserByPhoneNumber(data.phoneNumber)\r\n        .then((userRecord) =&gt; {\r\n            return { phoneNumber: true }\r\n        })\r\n        .catch((error) =&gt; {\r\n            throw new functions.https.HttpsError(&#39;invalid-argument&#39;, &quot;phoneNumber doesn&#39;t exist&quot;);\r\n        });\r\n\r\n});\r\n```\r\n\r\nUsing this approach, there is no need to save user data in Firestore. The Admin SDK will directly query the FirebaseAuth service.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#count()\r\n  [3]: https://firebase.google.com/docs/functions/callable\r\n  [4]: https://firebase.google.com/docs/functions/callable#call_the_function\r\n  [5]: https://firebase.google.com/docs/reference/admin/node/firebase-admin.auth.baseauth#baseauthgetuserbyphonenumber","title":"how to check if phone exists in firebase auth","body":"<p>There are three ways in which you can solve this problem. Two options are on the client, using Java code, and another one using Admin SDK.</p>\n<p><strong>Solution 1</strong></p>\n<p>When a user signs in for the first time into your app, then save user data in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Firestore</a> using a schema that looks like this:</p>\n<pre><code>db\n|\n--- users (collection)\n     |\n     --- $uid (document)\n          |\n          --- phoneNumber: &quot;+1234567890&quot;\n</code></pre>\n<p>To check if a user with the <code>+1234567890</code> already exists, then you have to perform a query that looks like this in Java:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nQuery queryPhoneNumber = db.collection(&quot;users&quot;).whereEqualTo(&quot;phoneNumber&quot;, &quot;+1234567890&quot;);\nqueryPhoneNumber.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                if (document.exists()) {\n                    Log.d(TAG, &quot;User already exists.&quot;);\n                } else {\n                    Log.d(TAG, &quot;User doesn't exist.&quot;);\n                }\n            }\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<p>Another more elegant and easy solution would be to use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#count()\" rel=\"nofollow noreferrer\">Query#count()</a> method:</p>\n<pre><code>queryPhoneNumber.count();\n</code></pre>\n<p>If the result is &gt; 0 then it means that the user already exists, otherwise it doesn't exist.</p>\n<p><strong>Solution 3</strong></p>\n<p>The last solution would be to use a <a href=\"https://firebase.google.com/docs/functions/callable\" rel=\"nofollow noreferrer\">Callable Cloud Function</a> that <a href=\"https://firebase.google.com/docs/functions/callable#call_the_function\" rel=\"nofollow noreferrer\">can be called from your app</a>. Because we use the Admin SDK in Cloud Functions you can call the <a href=\"https://firebase.google.com/docs/reference/admin/node/firebase-admin.auth.baseauth#baseauthgetuserbyphonenumber\" rel=\"nofollow noreferrer\">getUserByPhoneNumber()</a> method. In code it will look like this:</p>\n<pre><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\nexports.checkPhoneNumberExists = functions.https.onCall((data, context) =&gt; {\n    return admin.auth()\n        .getUserByPhoneNumber(data.phoneNumber)\n        .then((userRecord) =&gt; {\n            return { phoneNumber: true }\n        })\n        .catch((error) =&gt; {\n            throw new functions.https.HttpsError('invalid-argument', &quot;phoneNumber doesn't exist&quot;);\n        });\n\n});\n</code></pre>\n<p>Using this approach, there is no need to save user data in Firestore. The Admin SDK will directly query the FirebaseAuth service.</p>\n"}],"owner":{"account_id":7714918,"reputation":121,"user_id":5843030,"display_name":"N MZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675513894,"creation_date":1674757353,"question_id":75250176,"body_markdown":"hey I try to check if the phone number that the user is insert is exist in my firebase auth \r\n(LoginActivity) \r\n\r\nI try this way \r\n```FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n\r\nString phoneNumber = &quot;+1234567890&quot;;\r\n\r\nmAuth.fetchSignInMethodsForEmail(phoneNumber)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;SignInMethodQueryResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;SignInMethodQueryResult&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    SignInMethodQueryResult result = task.getResult();\r\n                    List&lt;String&gt; signInMethods = result.getSignInMethods();\r\n                    if (signInMethods.contains(&quot;phone&quot;)) {\r\n                        // Phone number is already in use in Firebase Auth\r\n                    } else {\r\n                        // Phone number is not in use in Firebase Auth\r\n                    }\r\n                } else {\r\n                    // An error occurred\r\n                }\r\n            }\r\n        });\r\n```\r\n and when it comes to this function the debugger jump for it and don&#39;t doing anything\r\n.addOnCompleteListener(new OnCompleteListener&lt;SignInMethodQueryResult&gt;() {\r\n\r\nI try with firebase SDK admin and it also doesn&#39;t work \r\ncan anyone know how to solve this?","title":"how to check if phone exists in firebase auth","body":"<p>hey I try to check if the phone number that the user is insert is exist in my firebase auth\n(LoginActivity)</p>\n<p>I try this way</p>\n<pre><code>\nString phoneNumber = &quot;+1234567890&quot;;\n\nmAuth.fetchSignInMethodsForEmail(phoneNumber)\n        .addOnCompleteListener(new OnCompleteListener&lt;SignInMethodQueryResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;SignInMethodQueryResult&gt; task) {\n                if (task.isSuccessful()) {\n                    SignInMethodQueryResult result = task.getResult();\n                    List&lt;String&gt; signInMethods = result.getSignInMethods();\n                    if (signInMethods.contains(&quot;phone&quot;)) {\n                        // Phone number is already in use in Firebase Auth\n                    } else {\n                        // Phone number is not in use in Firebase Auth\n                    }\n                } else {\n                    // An error occurred\n                }\n            }\n        });\n</code></pre>\n<p>and when it comes to this function the debugger jump for it and don't doing anything\n.addOnCompleteListener(new OnCompleteListener() {</p>\n<p>I try with firebase SDK admin and it also doesn't work\ncan anyone know how to solve this?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1673774693,"post_id":75124016,"comment_id":132569529,"body_markdown":"In GSON, why does using `@SerializedName(&quot;TEST_FIELD&quot;)` allow for serialization of a field even if the access modifier is set to private, but using `@PropertyName(&quot;TEST_FIELD&quot;)` does not? What is the purpose of this difference?","body":"In GSON, why does using <code>@SerializedName(&quot;TEST_FIELD&quot;)</code> allow for serialization of a field even if the access modifier is set to private, but using <code>@PropertyName(&quot;TEST_FIELD&quot;)</code> does not? What is the purpose of this difference?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1673775230,"post_id":75124016,"comment_id":132569598,"body_markdown":"I added the `@PropertyName` annotation with the value &quot;TEST_FIELD&quot; before the method this morning and it worked, but I am not sure how or why it worked. Can you explain to me what occurred and the mechanics behind it? [I have attached an image of the ScreenModel class](https://i.stack.imgur.com/pURsE.png)","body":"I added the <code>@PropertyName</code> annotation with the value &quot;TEST_FIELD&quot; before the method this morning and it worked, but I am not sure how or why it worked. Can you explain to me what occurred and the mechanics behind it? <a href=\"https://i.stack.imgur.com/pURsE.png\" rel=\"nofollow noreferrer\">I have attached an image of the ScreenModel class</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673775889,"post_id":75124016,"comment_id":132569693,"body_markdown":"When you add the `SerializedName` in front of a field it means that you allow that field to be serialized and deserialized. It doesn&#39;t matter if it&#39;s private or not. Serialization doesn&#39;t take into consideration access modifiers. On the other hand, you cannot set `PropertyName` on a field that cannot be seen outside the class.","body":"When you add the <code>SerializedName</code> in front of a field it means that you allow that field to be serialized and deserialized. It doesn&#39;t matter if it&#39;s private or not. Serialization doesn&#39;t take into consideration access modifiers. On the other hand, you cannot set <code>PropertyName</code> on a field that cannot be seen outside the class."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673773983,"creation_date":1673773983,"answer_id":75124016,"question_id":75120222,"body_markdown":"Isn&#39;t about the type of the field, but about the access modifier. You set the field to be private. To solve this, it&#39;s necessary to set the field `public`:\r\n\r\n    @PropertyName(&quot;TEST_FIELD&quot;)\r\n    public HashMap&lt;String, Object&gt; testFieldHashMap;\r\n    //&#128070;\r\n\r\nNow, the annotation will take into account both the field name as well as the getter when serializing.","title":"Why does @PropertyName fail to automatically serialize maps, while it successfully serializes other types?","body":"<p>Isn't about the type of the field, but about the access modifier. You set the field to be private. To solve this, it's necessary to set the field <code>public</code>:</p>\n<pre><code>@PropertyName(&quot;TEST_FIELD&quot;)\npublic HashMap&lt;String, Object&gt; testFieldHashMap;\n//👆\n</code></pre>\n<p>Now, the annotation will take into account both the field name as well as the getter when serializing.</p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75124016,"answer_count":1,"score":0,"last_activity_date":1675513790,"creation_date":1673719944,"question_id":75120222,"body_markdown":"ScreenModel.java\r\n\r\n    public class ScreenModel {\r\n    \r\n        @PropertyName(&quot;TEST_FIELD&quot;)\r\n        private HashMap&lt;String, Object&gt; testFieldHashMap;\r\n    \r\n        public HashMap&lt;String, Object&gt; getTestFieldHashMap() {\r\n            return testFieldHashMap;\r\n        }\r\n    \r\n    }\r\n\r\naddSnapshotListener\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;SCREENS&quot;).document(sharedPreferences.getString(&quot;documentId&quot;, null)).addSnapshotListener((value, error) - &gt; {\r\n    if (error != null) return;\r\n        \r\n    if (value != null &amp;&amp; value.exists()) {\r\n        ScreenModel screenModel = value.toObject(ScreenModel.class);\r\n        if (screenModel.getTestFieldHashMap() == null)\r\n            Log.w(&quot;ABC&quot;, &quot;111&quot;); // It always print this, why always null?\r\n    }});\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy does `@PropertyName` fail to automatically serialize maps, while it successfully serializes other types?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AKRXi.png","title":"Why does @PropertyName fail to automatically serialize maps, while it successfully serializes other types?","body":"<p>ScreenModel.java</p>\n<pre><code>public class ScreenModel {\n\n    @PropertyName(&quot;TEST_FIELD&quot;)\n    private HashMap&lt;String, Object&gt; testFieldHashMap;\n\n    public HashMap&lt;String, Object&gt; getTestFieldHashMap() {\n        return testFieldHashMap;\n    }\n\n}\n</code></pre>\n<p>addSnapshotListener</p>\n<pre><code>FirebaseFirestore.getInstance().collection(&quot;SCREENS&quot;).document(sharedPreferences.getString(&quot;documentId&quot;, null)).addSnapshotListener((value, error) - &gt; {\nif (error != null) return;\n    \nif (value != null &amp;&amp; value.exists()) {\n    ScreenModel screenModel = value.toObject(ScreenModel.class);\n    if (screenModel.getTestFieldHashMap() == null)\n        Log.w(&quot;ABC&quot;, &quot;111&quot;); // It always print this, why always null?\n}});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AKRXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKRXi.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does <code>@PropertyName</code> fail to automatically serialize maps, while it successfully serializes other types?</p>\n"},{"tags":["java","generics","lambda","type-inference","jls"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675412459,"post_id":75332761,"comment_id":132927419,"body_markdown":"Just to be clear, are you asking about the rationale of *why* Java has been designed this way, which only the designers can answer, or are you not sure which behaviour of the compiler corresponds to this clause, and would like an example?","body":"Just to be clear, are you asking about the rationale of <i>why</i> Java has been designed this way, which only the designers can answer, or are you not sure which behaviour of the compiler corresponds to this clause, and would like an example?"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1675435632,"post_id":75332761,"comment_id":132934437,"body_markdown":"The 2nd part Sweeper :).","body":"The 2nd part Sweeper :)."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675513563,"creation_date":1675471523,"answer_id":75342277,"question_id":75332761,"body_markdown":"The case that this clause is talking about is situations like this:\r\n\r\n```\r\npublic class SomeClass {\r\n    public static void main(String[] args) {\r\n        f();\r\n    }\r\n\r\n    public static &lt;T extends Exception&gt; void f() throws T {}\r\n}\r\n```\r\n\r\nAt the callsite `f();`, the type variable `T` has both an `Exception` bound and also a `throws` bound. According to the spec, since it is *possible* for `T` to be instantiated as a non-checked exception type, it *is* instantiated as a non-checked exception type, namely `RuntimeException` in this case\r\n\r\nAs a result, the code above does not give any &quot;unhandled exception&quot; compile-time errors, which hopefully is what you expect. If the spec hadn&#39;t included the sentence about &quot;if possible, it is not a checked exception type&quot;, `T` would have been instantiated as `Exception` and I would have needed to handle it at the call site.\r\n\r\nOn the other hand, if it is *not possible* to infer a non-checked exception type for `T`, then inference process continues as usual. Inference will not fail because of the existence of a `throws` bound, hence the phrases &quot;purely informational&quot; and &quot;if possible&quot;.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        f(new Exception());\r\n    }\r\n\r\n    public static &lt;T extends Exception&gt; void f(T t) throws T { }\r\n\r\nThe idea is that, for a method that can throw any type of exception (both checked and unchecked), it shouldn&#39;t throw a checked exception *unless* it is impossible to throw an unchecked one. e.g. if the caller is specifying the type arguments explicitly, or is passing in other arguments that make it impossible for `T` to be an unchecked exception. In short, unchecked is the default.\r\n\r\nIt might also be helpful to compare the case of having the `throws` bound vs not having it:\r\n\r\n    public static void main(String[] args) {\r\n        var x = f();\r\n        var y = g();\r\n    }\r\n\r\n    public static &lt;T extends Exception&gt; T f() throws T { return null; }\r\n    public static &lt;T extends Exception&gt; T g() { return null; }\r\n\r\nThe type of `x` is inferred to be `RuntimeException`, whereas the type of `y` is inferred to be `Exception`.","title":"Resolving the constraint on Exception during type inference","body":"<p>The case that this clause is talking about is situations like this:</p>\n<pre><code>public class SomeClass {\n    public static void main(String[] args) {\n        f();\n    }\n\n    public static &lt;T extends Exception&gt; void f() throws T {}\n}\n</code></pre>\n<p>At the callsite <code>f();</code>, the type variable <code>T</code> has both an <code>Exception</code> bound and also a <code>throws</code> bound. According to the spec, since it is <em>possible</em> for <code>T</code> to be instantiated as a non-checked exception type, it <em>is</em> instantiated as a non-checked exception type, namely <code>RuntimeException</code> in this case</p>\n<p>As a result, the code above does not give any &quot;unhandled exception&quot; compile-time errors, which hopefully is what you expect. If the spec hadn't included the sentence about &quot;if possible, it is not a checked exception type&quot;, <code>T</code> would have been instantiated as <code>Exception</code> and I would have needed to handle it at the call site.</p>\n<p>On the other hand, if it is <em>not possible</em> to infer a non-checked exception type for <code>T</code>, then inference process continues as usual. Inference will not fail because of the existence of a <code>throws</code> bound, hence the phrases &quot;purely informational&quot; and &quot;if possible&quot;.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    f(new Exception());\n}\n\npublic static &lt;T extends Exception&gt; void f(T t) throws T { }\n</code></pre>\n<p>The idea is that, for a method that can throw any type of exception (both checked and unchecked), it shouldn't throw a checked exception <em>unless</em> it is impossible to throw an unchecked one. e.g. if the caller is specifying the type arguments explicitly, or is passing in other arguments that make it impossible for <code>T</code> to be an unchecked exception. In short, unchecked is the default.</p>\n<p>It might also be helpful to compare the case of having the <code>throws</code> bound vs not having it:</p>\n<pre><code>public static void main(String[] args) {\n    var x = f();\n    var y = g();\n}\n\npublic static &lt;T extends Exception&gt; T f() throws T { return null; }\npublic static &lt;T extends Exception&gt; T g() { return null; }\n</code></pre>\n<p>The type of <code>x</code> is inferred to be <code>RuntimeException</code>, whereas the type of <code>y</code> is inferred to be <code>Exception</code>.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75342277,"answer_count":1,"score":2,"last_activity_date":1675513563,"creation_date":1675410013,"question_id":75332761,"body_markdown":"Consider the following type of constraint: [18.1.3. Bounds](https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.1.3)\r\n- ‹LambdaExpression →throws T›\r\n- The corresponding bound derived as:\r\n&gt; throws α: The inference variable α appears in a throws clause.\r\n\r\nJLS says that:\r\n&gt; A bound of the form throws α is purely informational: it directs resolution to optimize the instantiation of α so that, if possible, it is not a checked exception type.\r\n\r\nNow when it is said that &quot;optimize the instantiation of α so that, if possible, it is not a checked exception type&quot; - **Not sure why it says that is optimized to be a non-checked type exception type?** It should rather be a &quot;checked&quot; type as that is what being deliberate in the declaration.","title":"Resolving the constraint on Exception during type inference","body":"<p>Consider the following type of constraint: <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.1.3\" rel=\"nofollow noreferrer\">18.1.3. Bounds</a></p>\n<ul>\n<li>‹LambdaExpression →throws T›</li>\n<li>The corresponding bound derived as:</li>\n</ul>\n<blockquote>\n<p>throws α: The inference variable α appears in a throws clause.</p>\n</blockquote>\n<p>JLS says that:</p>\n<blockquote>\n<p>A bound of the form throws α is purely informational: it directs resolution to optimize the instantiation of α so that, if possible, it is not a checked exception type.</p>\n</blockquote>\n<p>Now when it is said that &quot;optimize the instantiation of α so that, if possible, it is not a checked exception type&quot; - <strong>Not sure why it says that is optimized to be a non-checked type exception type?</strong> It should rather be a &quot;checked&quot; type as that is what being deliberate in the declaration.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675503858,"post_id":75344060,"comment_id":132946200,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26303979,"reputation":1,"user_id":19968789,"display_name":"Руслан Ибрагимов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675513112,"creation_date":1675501921,"question_id":75344060,"body_markdown":"I use APDU, how do I send an EMB card token (Mastercard or Visa) to the terminal\r\n\r\n    public class MyHostApduService extends HostApduService {\r\n\r\n    override fun processCommandApdu(commandApdu: ByteArray, extras: Bundle?): ByteArray {\r\n       return apdu;\r\n    }\r\n\r\n    override fun onDeactivated(reason: Int) {\r\n    \r\n    }\r\n}\r\n\r\nI have already token STRING. But there is error in terminal.","title":"How to use APDU for payment (VISA and MASTERCARD)","body":"<p>I use APDU, how do I send an EMB card token (Mastercard or Visa) to the terminal</p>\n<pre><code>public class MyHostApduService extends HostApduService {\n\noverride fun processCommandApdu(commandApdu: ByteArray, extras: Bundle?): ByteArray {\n   return apdu;\n}\n\noverride fun onDeactivated(reason: Int) {\n\n}\n</code></pre>\n<p>}</p>\n<p>I have already token STRING. But there is error in terminal.</p>\n"},{"tags":["java","android","android-studio","android-virtual-device"],"answers":[{"tags":[],"owner":{"account_id":10115068,"reputation":1,"user_id":7474024,"display_name":"Saulius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578907382,"creation_date":1578907382,"answer_id":59713638,"question_id":59369940,"body_markdown":"I was try to reinstall Android SDK, and after start application sdk was opennig last project. \r\n\r\nClose the project and Android SDK will start setup wizard wich will download all necessary files and install Emulator.","title":"An error occurred while creating the AVD. See idea.log for details in Windows 10","body":"<p>I was try to reinstall Android SDK, and after start application sdk was opennig last project. </p>\n\n<p>Close the project and Android SDK will start setup wizard wich will download all necessary files and install Emulator.</p>\n"},{"tags":[],"owner":{"account_id":19192293,"reputation":9,"user_id":14021808,"display_name":"bidambidam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596109856,"creation_date":1596109856,"answer_id":63172577,"question_id":59369940,"body_markdown":"I had the same problem and the same message with the sd card. \r\n\r\nFirstly, I had to (or not, I don&#39;t know exactly what fixed the problem) rename my windows username because I had a whitespace char in it (there shouldn&#39;t be whitespaces in the route to the Android sdk (C:\\Users\\&quot;yourWindowsUsernameWithoutWhitespace&quot;\\....), even AS warns you). It&#39;s not that simple to change it but here&#39;s the solution: \r\n\r\nhttps://support.microsoft.com/hu-hu/help/2454362/renaming-a-user-account-does-not-automatically-change-the-profile-path\r\n\r\n(In AS I tried to redownload and reinstall the android sdk to a different folder without space in it&#39;s route but for some reason the installation never finished)\r\n\r\nAfter this, the problem still existed. I closed Android Studio and ran it as administrator. And worked! I hope I helped","title":"An error occurred while creating the AVD. See idea.log for details in Windows 10","body":"<p>I had the same problem and the same message with the sd card.</p>\n<p>Firstly, I had to (or not, I don't know exactly what fixed the problem) rename my windows username because I had a whitespace char in it (there shouldn't be whitespaces in the route to the Android sdk (C:\\Users&quot;yourWindowsUsernameWithoutWhitespace&quot;....), even AS warns you). It's not that simple to change it but here's the solution:</p>\n<p><a href=\"https://support.microsoft.com/hu-hu/help/2454362/renaming-a-user-account-does-not-automatically-change-the-profile-path\" rel=\"nofollow noreferrer\">https://support.microsoft.com/hu-hu/help/2454362/renaming-a-user-account-does-not-automatically-change-the-profile-path</a></p>\n<p>(In AS I tried to redownload and reinstall the android sdk to a different folder without space in it's route but for some reason the installation never finished)</p>\n<p>After this, the problem still existed. I closed Android Studio and ran it as administrator. And worked! I hope I helped</p>\n"},{"tags":[],"owner":{"account_id":21213335,"reputation":1,"user_id":15601472,"display_name":"amal-harrak"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1618098003,"creation_date":1618098003,"answer_id":67040234,"question_id":59369940,"body_markdown":"Follow below steps to install AVD in android studio\r\n1. Select ‘Clone Device’ option , selecting this will add new device into list with appending ‘(edited)1’ string.\r\n2. Select this clone device: press ‘Next’\r\n3. Select this clone device: press ‘Next’\r\n4. Select system image as per your requirement: press ‘Next’\r\n5. Select ‘Show Advance Setting’ scroll down: in ‘Memory and Storage’ choose ‘External file’ (which is disable/gray-out in actual device but available in clone device) keep entry empty.\r\n6. Press ‘Finish","title":"An error occurred while creating the AVD. See idea.log for details in Windows 10","body":"<p>Follow below steps to install AVD in android studio</p>\n<ol>\n<li>Select ‘Clone Device’ option , selecting this will add new device into list with appending ‘(edited)1’ string.</li>\n<li>Select this clone device: press ‘Next’</li>\n<li>Select this clone device: press ‘Next’</li>\n<li>Select system image as per your requirement: press ‘Next’</li>\n<li>Select ‘Show Advance Setting’ scroll down: in ‘Memory and Storage’ choose ‘External file’ (which is disable/gray-out in actual device but available in clone device) keep entry empty.</li>\n<li>Press ‘Finish</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":19800821,"reputation":612,"user_id":14503105,"display_name":"Said Torres"},"score":0,"creation_date":1679437260,"post_id":73550424,"comment_id":133721846,"body_markdown":"How to open SDK manager in Android Studio: Click on the &quot;File&quot; menu in the top left corner. Click on &quot;Settings&quot; in the dropdown menu. In the left sidebar, click on &quot;Appearance &amp; Behavior&quot;. Click on &quot;System Settings&quot; and then click on &quot;Android SDK&quot;. This will open the Android SDK Manager, where you can manage your installed SDK components, including the Android emulator.","body":"How to open SDK manager in Android Studio: Click on the &quot;File&quot; menu in the top left corner. Click on &quot;Settings&quot; in the dropdown menu. In the left sidebar, click on &quot;Appearance &amp; Behavior&quot;. Click on &quot;System Settings&quot; and then click on &quot;Android SDK&quot;. This will open the Android SDK Manager, where you can manage your installed SDK components, including the Android emulator."}],"tags":[],"owner":{"account_id":5148342,"reputation":56,"user_id":4123619,"display_name":"trong.nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661914517,"creation_date":1661914517,"answer_id":73550424,"question_id":59369940,"body_markdown":"Try to uninstall Android emulator and re-install again. It worked for me.\r\n[![Re-install Android emulator][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/URdjY.png","title":"An error occurred while creating the AVD. See idea.log for details in Windows 10","body":"<p>Try to uninstall Android emulator and re-install again. It worked for me.\n<a href=\"https://i.stack.imgur.com/URdjY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/URdjY.png\" alt=\"Re-install Android emulator\" /></a></p>\n"}],"owner":{"account_id":11986463,"reputation":186,"user_id":8770853,"display_name":"HARSH ASHRA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1675512470,"creation_date":1576570081,"question_id":59369940,"body_markdown":"I have just started using Android studio every time i try to install an avd i get an error message &quot;An error occurred while creating the AVD. See idea.log for details.&quot; i am using windows 10 And in log file i get this. \r\n\r\n    2019-12-17 13:32:13,479 [ thread 35]   WARN - vdmanager.AvdManagerConnection - Failed to create the SD card. \r\n    2019-12-17 13:32:13,480 [ thread 35]   WARN - vdmanager.AvdManagerConnection - Failed to create sdcard in the AVD folder. \r\n    2019-12-17 13:32:16,987 [Alarm Pool]   INFO - mponents.impl.stores.StoreUtil - saveProjectsAndApp took 55 ms\r\n\r\nCan Anybody help? Thanks in Advance.","title":"An error occurred while creating the AVD. See idea.log for details in Windows 10","body":"<p>I have just started using Android studio every time i try to install an avd i get an error message \"An error occurred while creating the AVD. See idea.log for details.\" i am using windows 10 And in log file i get this. </p>\n\n<pre><code>2019-12-17 13:32:13,479 [ thread 35]   WARN - vdmanager.AvdManagerConnection - Failed to create the SD card. \n2019-12-17 13:32:13,480 [ thread 35]   WARN - vdmanager.AvdManagerConnection - Failed to create sdcard in the AVD folder. \n2019-12-17 13:32:16,987 [Alarm Pool]   INFO - mponents.impl.stores.StoreUtil - saveProjectsAndApp took 55 ms\n</code></pre>\n\n<p>Can Anybody help? Thanks in Advance.</p>\n"},{"tags":["java","spring","spring-boot","sftp","spring-integration-sftp"],"owner":{"account_id":16586011,"reputation":49,"user_id":11985401,"display_name":"Deepanshu Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675512160,"creation_date":1674762985,"question_id":75251037,"body_markdown":"In my current application, I trigger the process to SFTP remote files to local.\r\n\r\n    @Bean\r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\r\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n        factory.setHost(sftpHost);\r\n        factory.setPort(sftpPort);\r\n        factory.setUser(sftpUser);\r\n        factory.setPassword(sftpPasword);\r\n\r\n        factory.setAllowUnknownKeys(true);\r\n        return new CachingSessionFactory&lt;&gt;(factory);\r\n    }\r\n\r\n    @Bean\r\n    public SftpInboundFileSynchronizer sftpInboundFileSynchronizer() {\r\n        SftpInboundFileSynchronizer fileSynchronizer = new SftpInboundFileSynchronizer(sftpSessionFactory());\r\n        /**\r\n         * -- to delete files from remote server\r\n         * fileSynchronizer.setDeleteRemoteFiles(true);\r\n         */\r\n        fileSynchronizer.setRemoteDirectory(sftpDownloadDirectory);\r\n        fileSynchronizer\r\n                .setFilter(new SftpSimplePatternFileListFilter(sftpRemoteDirectoryDownloadFilter));\r\n        return fileSynchronizer;\r\n    }\r\n\r\n    @Bean\r\n    @InboundChannelAdapter(channel = &quot;fromSftpChannel&quot;, poller = @Poller(cron = &quot;0 0/10 * * * ?&quot;))\r\n    public MessageSource&lt;File&gt; sftpMessageSource() throws IOException {\r\n        SftpInboundFileSynchronizingMessageSource source = new SftpInboundFileSynchronizingMessageSource(\r\n                sftpInboundFileSynchronizer());\r\n        source.setAutoCreateLocalDirectory(true);\r\n        source.setLocalDirectory(new File(resource.getFile().getPath()));\r\n        source.setMaxFetchSize(1);\r\n        source.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;fromSftpChannel&quot;)\r\n    public MessageHandler downloadFileHandler() {\r\n        return message -&gt; {\r\n            /**\r\n             * Method definition not required\r\n             */\r\n        };\r\n    }\r\n\r\n\r\nThis would poll every ten minutes and any new file in remote server will be downloaded to local. But the issue is, on restarting the application, it will again download all the existing files on the remote server. How can I prevent this so that it downloads only new files from server.\r\n\r\nP.S. :  I can&#39;t delete the remote server files post download so that won&#39;t help.","title":"SFTP Integration - SftpInboundFileSynchronizer - Prevent downloading already present files in remote directory","body":"<p>In my current application, I trigger the process to SFTP remote files to local.</p>\n<pre><code>@Bean\npublic SessionFactory&lt;LsEntry&gt; sftpSessionFactory() {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n    factory.setHost(sftpHost);\n    factory.setPort(sftpPort);\n    factory.setUser(sftpUser);\n    factory.setPassword(sftpPasword);\n\n    factory.setAllowUnknownKeys(true);\n    return new CachingSessionFactory&lt;&gt;(factory);\n}\n\n@Bean\npublic SftpInboundFileSynchronizer sftpInboundFileSynchronizer() {\n    SftpInboundFileSynchronizer fileSynchronizer = new SftpInboundFileSynchronizer(sftpSessionFactory());\n    /**\n     * -- to delete files from remote server\n     * fileSynchronizer.setDeleteRemoteFiles(true);\n     */\n    fileSynchronizer.setRemoteDirectory(sftpDownloadDirectory);\n    fileSynchronizer\n            .setFilter(new SftpSimplePatternFileListFilter(sftpRemoteDirectoryDownloadFilter));\n    return fileSynchronizer;\n}\n\n@Bean\n@InboundChannelAdapter(channel = &quot;fromSftpChannel&quot;, poller = @Poller(cron = &quot;0 0/10 * * * ?&quot;))\npublic MessageSource&lt;File&gt; sftpMessageSource() throws IOException {\n    SftpInboundFileSynchronizingMessageSource source = new SftpInboundFileSynchronizingMessageSource(\n            sftpInboundFileSynchronizer());\n    source.setAutoCreateLocalDirectory(true);\n    source.setLocalDirectory(new File(resource.getFile().getPath()));\n    source.setMaxFetchSize(1);\n    source.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\n    return source;\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;fromSftpChannel&quot;)\npublic MessageHandler downloadFileHandler() {\n    return message -&gt; {\n        /**\n         * Method definition not required\n         */\n    };\n}\n</code></pre>\n<p>This would poll every ten minutes and any new file in remote server will be downloaded to local. But the issue is, on restarting the application, it will again download all the existing files on the remote server. How can I prevent this so that it downloads only new files from server.</p>\n<p>P.S. :  I can't delete the remote server files post download so that won't help.</p>\n"},{"tags":["java","android","parsing","file-upload","google-drive-api"],"comments":[{"owner":{"account_id":15444456,"reputation":142,"user_id":11141917,"display_name":"mclaus"},"score":1,"creation_date":1675447625,"post_id":75339367,"comment_id":132938441,"body_markdown":"It seems like you used a file of type `java.io.File` where a type of file `com.google.api.services.drive.model.File` was expected. Could you provide more of the code, the line numbers and the line numbers mentioned in the stack trace?","body":"It seems like you used a file of type <code>java.io.File</code> where a type of file <code>com.google.api.services.drive.model.File</code> was expected. Could you provide more of the code, the line numbers and the line numbers mentioned in the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":12272233,"reputation":58,"user_id":8957088,"display_name":"Pogryziony"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675452216,"creation_date":1675452216,"answer_id":75340179,"question_id":75339367,"body_markdown":"java.io.File is a file in the local file system, \r\nwhile com.google.api.services.drive.model.File is a Google Drive file.\r\n\r\nYou need to use the com.google.api.services.drive.model.File object to represent the Google Drive file you want to create and upload, instead of the java.io.File object.\r\n\r\nChange the code to:\r\n\r\n    com.google.api.services.drive.model.File fileMetadata = new com.google.api.services.drive.model.File();\r\n    fileMetadata.setName(&quot;video.mp4&quot;);\r\n\r\nThis should resolve the incompatibility issue.","title":"Parse error: java.io.File to com.google.api.services.drive.model.File","body":"<p>java.io.File is a file in the local file system,\nwhile com.google.api.services.drive.model.File is a Google Drive file.</p>\n<p>You need to use the com.google.api.services.drive.model.File object to represent the Google Drive file you want to create and upload, instead of the java.io.File object.</p>\n<p>Change the code to:</p>\n<pre><code>com.google.api.services.drive.model.File fileMetadata = new com.google.api.services.drive.model.File();\nfileMetadata.setName(&quot;video.mp4&quot;);\n</code></pre>\n<p>This should resolve the incompatibility issue.</p>\n"}],"owner":{"account_id":27696972,"reputation":1,"user_id":21142466,"display_name":"MISAEL DAVID LINARES WARTHON"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675512014,"creation_date":1675446599,"question_id":75339367,"body_markdown":"**Error:**\r\n\r\n&gt;incompatible types: java.io.File cannot be converted to com.google.api.services.drive.model.File \r\n\r\nI have this error when i want to use the code to upload a file to drive. I am using the drive API in android studio.\r\n\r\n```java\r\nFile fileMetadata = new File(&quot;video.mp4&quot;);\r\njava.io.File filePath = new java.io.File(mVideoFileName);\r\nfileMetadata.createNewFile();\r\nFileContent mediaContent = new FileContent(&quot;video/mp4&quot;, filePath);\r\nDrive driveService = getDriveService(HTTP_TRANSPORT);\r\nFile file = driveService.files().create(fileMetadata)\r\n        .setFields(&quot;1DpOLhFd4_ZpeQTvROBAmIyfarn80Yg5S&quot;)\r\n        .execute();\r\n```\r\n\r\nWhy do I get this error?\r\n","title":"Parse error: java.io.File to com.google.api.services.drive.model.File","body":"<p><strong>Error:</strong></p>\n<blockquote>\n<p>incompatible types: java.io.File cannot be converted to com.google.api.services.drive.model.File</p>\n</blockquote>\n<p>I have this error when i want to use the code to upload a file to drive. I am using the drive API in android studio.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File fileMetadata = new File(&quot;video.mp4&quot;);\njava.io.File filePath = new java.io.File(mVideoFileName);\nfileMetadata.createNewFile();\nFileContent mediaContent = new FileContent(&quot;video/mp4&quot;, filePath);\nDrive driveService = getDriveService(HTTP_TRANSPORT);\nFile file = driveService.files().create(fileMetadata)\n        .setFields(&quot;1DpOLhFd4_ZpeQTvROBAmIyfarn80Yg5S&quot;)\n        .execute();\n</code></pre>\n<p>Why do I get this error?</p>\n"},{"tags":["java","regex","numberformatexception"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1546952869,"post_id":54092485,"comment_id":95016854,"body_markdown":"please add your code","body":"please add your code"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1546952994,"post_id":54092485,"comment_id":95016919,"body_markdown":"`&quot;//;\\\\n1;2.&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)` returns `12`","body":"<code>&quot;&#47;&#47;;\\\\n1;2.&quot;.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)</code> returns <code>12</code>"},{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1546953027,"post_id":54092485,"comment_id":95016940,"body_markdown":"what you mean by `When I try to add the digits together` ?","body":"what you mean by <code>When I try to add the digits together</code> ?"},{"owner":{"account_id":6142205,"reputation":433,"user_id":4789269,"accept_rate":43,"display_name":"Bab"},"score":1,"creation_date":1546953415,"post_id":54092485,"comment_id":95017162,"body_markdown":"@xxxvodnikxxx: Addition. So the result should be 1+2 = 3, in my case","body":"@xxxvodnikxxx: Addition. So the result should be 1+2 = 3, in my case"}],"answers":[{"comments":[{"owner":{"account_id":6142205,"reputation":433,"user_id":4789269,"accept_rate":43,"display_name":"Bab"},"score":0,"creation_date":1546953527,"post_id":54092550,"comment_id":95017212,"body_markdown":"Nice! What do I have to do in order to add the numbers together. In case my it should be 1+2=3","body":"Nice! What do I have to do in order to add the numbers together. In case my it should be 1+2=3"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546953614,"post_id":54092550,"comment_id":95017260,"body_markdown":"@Bab A loop, I suppose.","body":"@Bab A loop, I suppose."}],"tags":[],"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1546952969,"creation_date":1546952969,"answer_id":54092550,"question_id":54092485,"body_markdown":"Strings are immutable. Once you have a String object, its content won&#39;t ever change.\r\n\r\nTo provide you with a different String, replaceAll() returns a new String with the changes requested, as do all other similar methods. It doesn&#39;t change the content of the String, which is an impossibility.\r\n\r\nYou need to do:\r\n\r\n    string = string.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);","title":"Removing all non-digits from string","body":"<p>Strings are immutable. Once you have a String object, its content won't ever change.</p>\n\n<p>To provide you with a different String, replaceAll() returns a new String with the changes requested, as do all other similar methods. It doesn't change the content of the String, which is an impossibility.</p>\n\n<p>You need to do:</p>\n\n<pre><code>string = string.replaceAll(\"\\\\D\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6142205,"reputation":433,"user_id":4789269,"accept_rate":43,"display_name":"Bab"},"score":0,"creation_date":1546957702,"post_id":54093063,"comment_id":95019774,"body_markdown":"How is it possible that I am able to write negative numbers, but it still gives 3? Does it also remove operators (+ and -)?","body":"How is it possible that I am able to write negative numbers, but it still gives 3? Does it also remove operators (+ and -)?"},{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1546957811,"post_id":54093063,"comment_id":95019833,"body_markdown":"I guess so, if I am correct, then regex `String tmp = input.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);` will replace everything what is not a number, and in case of two-or-more digit numbers, you cant to know if &#39;111&#39; was 1+1+1, or 11+1 or 1+11. Reg. regex, yes `\\D - Matches anything other than a decimal digit`","body":"I guess so, if I am correct, then regex <code>String tmp = input.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);</code> will replace everything what is not a number, and in case of two-or-more digit numbers, you cant to know if &#39;111&#39; was 1+1+1, or 11+1 or 1+11. Reg. regex, yes <code>\\D - Matches anything other than a decimal digit</code>"}],"tags":[],"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546954731,"creation_date":1546954731,"answer_id":54093063,"question_id":54092485,"body_markdown":"For example.. \r\n\r\n&gt; note- this will work only for numbers in interval (incl.) &lt;0;9&gt;\r\n\r\n\t\tString input = &quot;//;\\n1;2&quot;;\r\n\t\t\r\n\t\t//contains digits only\r\n\t\tString tmp = input.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n\t\tSystem.out.println(&quot;tmp is: &quot; + tmp);\r\n\t\r\n\t\t//convert String to char array \r\n\t\tchar[] charsArray = tmp.toCharArray();\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\t//iterate over and summarize\r\n\t\tfor (int i = 0; i &lt; charsArray.length; i++) {\r\n\t\t\t//needs to be there otherwise you will get crazy numbers \r\n\t\t\tsum = sum + Character.getNumericValue(charsArray[i]);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;sum is: &quot; + sum);","title":"Removing all non-digits from string","body":"<p>For example.. </p>\n\n<blockquote>\n  <p>note- this will work only for numbers in interval (incl.) &lt;0;9></p>\n</blockquote>\n\n<pre><code>    String input = \"//;\\n1;2\";\n\n    //contains digits only\n    String tmp = input.replaceAll(\"\\\\D\", \"\");\n    System.out.println(\"tmp is: \" + tmp);\n\n    //convert String to char array \n    char[] charsArray = tmp.toCharArray();\n    int sum = 0;\n\n    //iterate over and summarize\n    for (int i = 0; i &lt; charsArray.length; i++) {\n        //needs to be there otherwise you will get crazy numbers \n        sum = sum + Character.getNumericValue(charsArray[i]);\n    }\n\n    System.out.println(\"sum is: \" + sum);\n</code></pre>\n"}],"owner":{"account_id":6142205,"reputation":433,"user_id":4789269,"accept_rate":43,"display_name":"Bab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3646,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1675510913,"creation_date":1546952778,"question_id":54092485,"body_markdown":"I am implementing a calculator where it is possible to type any character. However, I want to extract the numbers from what is typed and add them together.\r\n\r\nAn example of an input could be:\r\n\r\n    &quot;//;\\n1;2&quot;\r\nHere the the result should be 3.\r\n\r\nWhat I am trying to do is to replace every non-digit in the string with empty.\r\n\r\n    string.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n\r\nWhen I print the string afterwards, I get:\r\n\r\n    //;\r\n    1;2\r\n\r\nWhen I try to add the digits together I am getting the exception: \r\n\r\n    java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\r\nWhat am I doing wrong?","title":"Removing all non-digits from string","body":"<p>I am implementing a calculator where it is possible to type any character. However, I want to extract the numbers from what is typed and add them together.</p>\n\n<p>An example of an input could be:</p>\n\n<pre><code>\"//;\\n1;2\"\n</code></pre>\n\n<p>Here the the result should be 3.</p>\n\n<p>What I am trying to do is to replace every non-digit in the string with empty.</p>\n\n<pre><code>string.replaceAll(\"\\\\D\", \"\");\n</code></pre>\n\n<p>When I print the string afterwards, I get:</p>\n\n<pre><code>//;\n1;2\n</code></pre>\n\n<p>When I try to add the digits together I am getting the exception: </p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"\"\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","constraints","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675370184,"creation_date":1675370184,"answer_id":75328664,"question_id":75327419,"body_markdown":"I&#39;m not sure why you&#39;d want to implement your own constraint collector. The constraint you outlined could be written like so:\r\n\r\n    forEach(Shift.class)\r\n    .groupBy(shift -&gt; shift.employee.tracer,\r\n        shift -&gt; shift.startDateTime.toLocalDate(),\r\n        count())\r\n    .groupBy((tracer, date, count) -&gt; tracer.isotope,\r\n        (tracer, date, count) -&gt; date,\r\n        sum((tracer, date, count) -&gt; count / tracer.batchesPerProduction)\r\n    .penalize((isotope, date, sum) -&gt; ...)\r\n\r\nNote that if any of the non-entities become entities, this will result in score corruptions. They are not in a `forEach` nor in a `join`, so the stream will not be re-evaluated when they change.","title":"OptaPlanner Collectors Composition: Need Implementation Guidance","body":"<p>I'm not sure why you'd want to implement your own constraint collector. The constraint you outlined could be written like so:</p>\n<pre><code>forEach(Shift.class)\n.groupBy(shift -&gt; shift.employee.tracer,\n    shift -&gt; shift.startDateTime.toLocalDate(),\n    count())\n.groupBy((tracer, date, count) -&gt; tracer.isotope,\n    (tracer, date, count) -&gt; date,\n    sum((tracer, date, count) -&gt; count / tracer.batchesPerProduction)\n.penalize((isotope, date, sum) -&gt; ...)\n</code></pre>\n<p>Note that if any of the non-entities become entities, this will result in score corruptions. They are not in a <code>forEach</code> nor in a <code>join</code>, so the stream will not be re-evaluated when they change.</p>\n"}],"owner":{"account_id":15684875,"reputation":13,"user_id":11317841,"display_name":"nogretz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328664,"answer_count":1,"score":0,"last_activity_date":1675510903,"creation_date":1675362128,"question_id":75327419,"body_markdown":"Consulting [OptaPlanner Docs on Constraint Streams](https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#collectorsComposition), I have been trying to implement a ConstraintCollector to use in a groupBy() call for a constraint stream. I am unable to understand what inputs the collector should take and its outputs. \r\n\r\nMy model is assigning `Employee`s to `Shift`s. `Employee`s consist of one of many `Tracer`s. Each `Tracer` consists of one of many `Isotope`s and a `batchesPerProduction` attribute. Each `Isotope` has a `Contract` only allowing so many productions of that `Isotope` per day. Each production of an `Isotope` can produce 1 or more batches of `Tracer`, dependant on which `Tracer`. Each `Shift` uses 1 batch of a `Tracer`.\r\n\r\nI need a constraint that will sum all batches of each `Tracer` for each date to ensure the number of `Isotope` productions needed to produce those `Tracer` batches doesn&#39;t exceed the contract daily maximum for `Isotope` productions.\r\n\r\n\r\n```\r\n@PlanningEntity\r\npublic class Shift {\r\n\r\n    @PlanningVariable\r\n    private Employee employee = null;\r\n\r\n    private Isotope isotope;\r\n\r\n    private OffsetDateTime startDateTime;\r\n    private OffsetDateTime endDateTime;\r\n\r\n}\r\n\r\npublic class Employee {\r\n\r\n    private Tracer tracer;\r\n\r\n}\r\n\r\npublic class Tracer {\r\n\r\n    private Isotope isotope;\r\n\r\n    private Long batchesPerProduction;\r\n\r\n}\r\n\r\n\r\npublic class Isotope {\r\n\r\n    private Contract contract;\r\n\r\n}\r\n\r\npublic class Contract {\r\n\r\n    private Integer maximumProductionsPerDay;\r\n\r\n}\r\n```\r\n\r\n\r\nI believe my approach for the `Constraint` should be:\r\n1. ForEach `Tracer`\r\n2. Join each `Shift` whose `Employee` equals the `Tracer`\r\n3. GroupBy (`Tracer`, date) and Aggregate by count(`Shifts` per `Tracer`) / `Tracer::getBatchesPerProduction`\r\n4. GroupBy (`Isotope`, date) and Aggregate by sum(productions)\r\n\r\n`Isotope` productions = count(`Shifts` per `Tracer`) / `Tracer::getBatchesPerProduction`\r\n\r\n\r\nI am not sure if the ConstraintCollector should be a BiConstraintCollector with (tracer, day) as inputs:\r\n\r\n\r\n```\r\npublic static &lt;A,B&gt; BiConstraintCollector&lt;Tracer, LocalDate, ?, Long&gt;\r\n        batchesToProductions(ToLongFunction&lt;A,B&gt; groupValueMapping) {\r\n            return compose(countLongBi(groupValueMapping), (tracer, day, countLongBi) -&gt; {\r\n                    return (long) Math.ceil(countLongBi / tracer.getBatchesPerProduction());\r\n            });\r\n    }\r\n```\r\n\r\nor a TriConstraintCollector with (tracer, day, shiftCountDaily) as inputs:\r\n\r\n\r\n```\r\npublic static &lt;A,B,C&gt; TriConstraintCollector&lt;Tracer, LocalDate, Long, ?, Long&gt;\r\n        batchesToProductions(ToLongFunction&lt;A,B,C&gt; groupValueMapping) {\r\n            return compose((tracer, day, shiftsCount) -&gt; {\r\n                    return (long) Math.ceil(shiftsCount / tracer.getBatchesPerProduction());\r\n            });\r\n    }\r\n```\r\n\r\nI have not been able to make either work and I do not know how I would use this collector in a groupBy method in the Constraint Stream. Admittedly, I am quite new to Java and I am having trouble understanding the Stream from the [interface](https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/score/stream/bi/BiConstraintCollector.html) to the compose methods of the [ConstraintCollectors](https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/score/stream/ConstraintCollectors.html#compose(org.optaplanner.core.api.score.stream.bi.BiConstraintCollector,org.optaplanner.core.api.score.stream.bi.BiConstraintCollector,java.util.function.BiFunction))  \r\n\r\n\r\nBelow is my attempt at a Constraint that would use the above ConstraintCollector method.\r\n\r\n```\r\nConstraint dailyProductionsMustNotExceedContractMaximum(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Tracer.class)\r\n                .join(Shift.class,\r\n                equal(Function.identity(), Shift::getTracerForEmployee))\r\n                .groupBy(\r\n                        (tracer,shift) -&gt; tracer,\r\n                        (tracer,shift) -&gt; shift.getStartDateTime().toLocalDate(),\r\n                        (tracer,shift) -&gt; **batchesToProductions(tracer,shift)**)\r\n\r\n                .groupBy(\r\n                        (tracer, day, productions) -&gt; tracer.getIsotope(),\r\n                        (tracer, day, productions) -&gt; day,\r\n                        (tracer, day, productions) -&gt; sum(productions)\r\n                )\r\n                .filter((isotope, day, productions) -&gt; productions &gt; isotope.getContract().getMaximumShiftsPerDay())\r\n                .penalizeConfigurableLong(CONSTRAINT_DAILY_PRODUCTIONS_MUST_NOT_EXCEED_CONTRACT_MAXIMUM,\r\n                        (isotope, day, productions) -&gt; productions\r\n                                - isotope.getContract().getMaximumShiftsPerDay());\r\n    }\r\n```\r\n","title":"OptaPlanner Collectors Composition: Need Implementation Guidance","body":"<p>Consulting <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#collectorsComposition\" rel=\"nofollow noreferrer\">OptaPlanner Docs on Constraint Streams</a>, I have been trying to implement a ConstraintCollector to use in a groupBy() call for a constraint stream. I am unable to understand what inputs the collector should take and its outputs.</p>\n<p>My model is assigning <code>Employee</code>s to <code>Shift</code>s. <code>Employee</code>s consist of one of many <code>Tracer</code>s. Each <code>Tracer</code> consists of one of many <code>Isotope</code>s and a <code>batchesPerProduction</code> attribute. Each <code>Isotope</code> has a <code>Contract</code> only allowing so many productions of that <code>Isotope</code> per day. Each production of an <code>Isotope</code> can produce 1 or more batches of <code>Tracer</code>, dependant on which <code>Tracer</code>. Each <code>Shift</code> uses 1 batch of a <code>Tracer</code>.</p>\n<p>I need a constraint that will sum all batches of each <code>Tracer</code> for each date to ensure the number of <code>Isotope</code> productions needed to produce those <code>Tracer</code> batches doesn't exceed the contract daily maximum for <code>Isotope</code> productions.</p>\n<pre><code>@PlanningEntity\npublic class Shift {\n\n    @PlanningVariable\n    private Employee employee = null;\n\n    private Isotope isotope;\n\n    private OffsetDateTime startDateTime;\n    private OffsetDateTime endDateTime;\n\n}\n\npublic class Employee {\n\n    private Tracer tracer;\n\n}\n\npublic class Tracer {\n\n    private Isotope isotope;\n\n    private Long batchesPerProduction;\n\n}\n\n\npublic class Isotope {\n\n    private Contract contract;\n\n}\n\npublic class Contract {\n\n    private Integer maximumProductionsPerDay;\n\n}\n</code></pre>\n<p>I believe my approach for the <code>Constraint</code> should be:</p>\n<ol>\n<li>ForEach <code>Tracer</code></li>\n<li>Join each <code>Shift</code> whose <code>Employee</code> equals the <code>Tracer</code></li>\n<li>GroupBy (<code>Tracer</code>, date) and Aggregate by count(<code>Shifts</code> per <code>Tracer</code>) / <code>Tracer::getBatchesPerProduction</code></li>\n<li>GroupBy (<code>Isotope</code>, date) and Aggregate by sum(productions)</li>\n</ol>\n<p><code>Isotope</code> productions = count(<code>Shifts</code> per <code>Tracer</code>) / <code>Tracer::getBatchesPerProduction</code></p>\n<p>I am not sure if the ConstraintCollector should be a BiConstraintCollector with (tracer, day) as inputs:</p>\n<pre><code>public static &lt;A,B&gt; BiConstraintCollector&lt;Tracer, LocalDate, ?, Long&gt;\n        batchesToProductions(ToLongFunction&lt;A,B&gt; groupValueMapping) {\n            return compose(countLongBi(groupValueMapping), (tracer, day, countLongBi) -&gt; {\n                    return (long) Math.ceil(countLongBi / tracer.getBatchesPerProduction());\n            });\n    }\n</code></pre>\n<p>or a TriConstraintCollector with (tracer, day, shiftCountDaily) as inputs:</p>\n<pre><code>public static &lt;A,B,C&gt; TriConstraintCollector&lt;Tracer, LocalDate, Long, ?, Long&gt;\n        batchesToProductions(ToLongFunction&lt;A,B,C&gt; groupValueMapping) {\n            return compose((tracer, day, shiftsCount) -&gt; {\n                    return (long) Math.ceil(shiftsCount / tracer.getBatchesPerProduction());\n            });\n    }\n</code></pre>\n<p>I have not been able to make either work and I do not know how I would use this collector in a groupBy method in the Constraint Stream. Admittedly, I am quite new to Java and I am having trouble understanding the Stream from the <a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/score/stream/bi/BiConstraintCollector.html\" rel=\"nofollow noreferrer\">interface</a> to the compose methods of the <a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-javadoc/org/optaplanner/core/api/score/stream/ConstraintCollectors.html#compose(org.optaplanner.core.api.score.stream.bi.BiConstraintCollector,org.optaplanner.core.api.score.stream.bi.BiConstraintCollector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">ConstraintCollectors</a></p>\n<p>Below is my attempt at a Constraint that would use the above ConstraintCollector method.</p>\n<pre><code>Constraint dailyProductionsMustNotExceedContractMaximum(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Tracer.class)\n                .join(Shift.class,\n                equal(Function.identity(), Shift::getTracerForEmployee))\n                .groupBy(\n                        (tracer,shift) -&gt; tracer,\n                        (tracer,shift) -&gt; shift.getStartDateTime().toLocalDate(),\n                        (tracer,shift) -&gt; **batchesToProductions(tracer,shift)**)\n\n                .groupBy(\n                        (tracer, day, productions) -&gt; tracer.getIsotope(),\n                        (tracer, day, productions) -&gt; day,\n                        (tracer, day, productions) -&gt; sum(productions)\n                )\n                .filter((isotope, day, productions) -&gt; productions &gt; isotope.getContract().getMaximumShiftsPerDay())\n                .penalizeConfigurableLong(CONSTRAINT_DAILY_PRODUCTIONS_MUST_NOT_EXCEED_CONTRACT_MAXIMUM,\n                        (isotope, day, productions) -&gt; productions\n                                - isotope.getContract().getMaximumShiftsPerDay());\n    }\n</code></pre>\n"},{"tags":["java","immutability","record","java-17"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":3,"creation_date":1675513894,"post_id":75344721,"comment_id":132947625,"body_markdown":"Records cant extend anything else, because they already extend Record. https://stackoverflow.com/a/63615514/10671013","body":"Records cant extend anything else, because they already extend Record. <a href=\"https://stackoverflow.com/a/63615514/10671013\">stackoverflow.com/a/63615514/10671013</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675525684,"post_id":75344721,"comment_id":132949686,"body_markdown":"Learn the purpose of `record`: https://openjdk.org/jeps/395","body":"Learn the purpose of <code>record</code>: <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">openjdk.org/jeps/395</a>"},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1675588904,"post_id":75344721,"comment_id":132958445,"body_markdown":"Then there is no choice but to go with Immutables / Lombok?","body":"Then there is no choice but to go with Immutables / Lombok?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675669858,"post_id":75344721,"comment_id":132971171,"body_markdown":"There is no need for one record to extend the other. If you want abstraction, that’s what the interface is for. Just let `Message` declare `sender()`, as it is common to all your implementation anyway. And I recommend renaming `getBody` to `body`, then you don’t need duplicate method declarations.","body":"There is no need for one record to extend the other. If you want abstraction, that’s what the interface is for. Just let <code>Message</code> declare <code>sender()</code>, as it is common to all your implementation anyway. And I recommend renaming <code>getBody</code> to <code>body</code>, then you don’t need duplicate method declarations."}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675510440,"creation_date":1675509636,"question_id":75344721,"body_markdown":"Consider the below arrangement:\r\n\r\n    interface Message&lt;T&gt; {\r\n        T getBody();\r\n    }\r\n    \r\n    record SenderAwareMessage&lt;T&gt;(T body, Sender sender) implements Message&lt;T&gt; {\r\n        @Override\r\n        public T getBody() {\r\n            return body;\r\n        }\r\n    }\r\n    \r\n    record PriorityMessage&lt;T&gt;(T body, Sender sender, int priority) extends SenderAwareMessage&lt;T&gt; {\r\n        // cannot extend another record\r\n    }\r\n\r\nI have 2 concrete implementations here. I want to avoid mutability but at the same time need more configurability at least to extend an existing record. I have went through the documentation, however the usage of record is very limited.\r\n\r\nIs there any way I can achieve this scenario with records / any third party libraries?\r\nI tried immutables, but it seems to be an overkill.","title":"Nested immutable classes with records","body":"<p>Consider the below arrangement:</p>\n<pre><code>interface Message&lt;T&gt; {\n    T getBody();\n}\n\nrecord SenderAwareMessage&lt;T&gt;(T body, Sender sender) implements Message&lt;T&gt; {\n    @Override\n    public T getBody() {\n        return body;\n    }\n}\n\nrecord PriorityMessage&lt;T&gt;(T body, Sender sender, int priority) extends SenderAwareMessage&lt;T&gt; {\n    // cannot extend another record\n}\n</code></pre>\n<p>I have 2 concrete implementations here. I want to avoid mutability but at the same time need more configurability at least to extend an existing record. I have went through the documentation, however the usage of record is very limited.</p>\n<p>Is there any way I can achieve this scenario with records / any third party libraries?\nI tried immutables, but it seems to be an overkill.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"score":0,"creation_date":1660149839,"post_id":73309914,"comment_id":129466774,"body_markdown":"What is a triplet in this context? It&#39;s not obvious (at least to me) what you&#39;re asking here.","body":"What is a triplet in this context? It&#39;s not obvious (at least to me) what you&#39;re asking here."},{"owner":{"account_id":14811109,"reputation":13,"user_id":10696738,"display_name":"Sumit Odich"},"score":0,"creation_date":1660150186,"post_id":73309914,"comment_id":129466881,"body_markdown":"I need to remove elements which is repeating more than 3 times, if number repeats only 3 times then remove it completely ( Order of the numbers should remain same)","body":"I need to remove elements which is repeating more than 3 times, if number repeats only 3 times then remove it completely ( Order of the numbers should remain same)"},{"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"score":0,"creation_date":1660239850,"post_id":73309914,"comment_id":129492035,"body_markdown":"What is this for? It looks like an interview question, or a code golf type question. And it looks like you haven&#39;t provided all of the instructions. This site is more for specifically answerable questions, not &quot;code this for me&quot; exercises.","body":"What is this for? It looks like an interview question, or a code golf type question. And it looks like you haven&#39;t provided all of the instructions. This site is more for specifically answerable questions, not &quot;code this for me&quot; exercises."}],"answers":[{"tags":[],"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660244895,"creation_date":1660244406,"answer_id":73325680,"question_id":73309914,"body_markdown":"I couldn&#39;t let this one go, so I did code up an example in c#. This is one approach. There are probably many ways to do this better:\r\n\r\n```c#\r\nprivate static int[] RemoveLastTriplet(int[] input)\r\n{\r\n\tvar toRemove = new bool[input.Length];\r\n\tvar counts = new Dictionary&lt;int, int&gt;();\r\n\t\r\n    //Count how many times each input value is found.\r\n\tforeach(var value in input)\r\n\t{\r\n\t\tint count;\r\n\t\t\r\n\t\tif (counts.TryGetValue(value, out count))\r\n\t\t{\r\n\t\t\tcounts[value] = count + 1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcounts[value] = 1;\r\n\t\t}\r\n\t}\r\n\t\r\n\tforeach(var kvp in counts)\r\n\t{\r\n\t\t//Determine how many triplets we have for this value\r\n\t\tvar tripletCount = kvp.Value / 3;\r\n\t\t\r\n\t\t//Keep track of where we&#39;re starting\r\n\t\tvar currentIndex = input.Length - 1;\r\n\t\t\r\n\t\t//Remove each triplet\r\n\t\tfor(var tripletIndex = 0; tripletIndex &lt; tripletCount; tripletIndex++)\r\n\t\t{\r\n\t\t\t//counts the number of elements in this triplet\r\n\t\t\tvar thisTripletCount = 0;\r\n\t\t\t\r\n\t\t\t//Mark each member of the triplet for deletion.\r\n\t\t\tfor(var inputIndex = currentIndex; thisTripletCount &lt; 3; inputIndex--)\r\n\t\t\t{\r\n\t\t\t\tif (input[inputIndex] == kvp.Key)\r\n\t\t\t\t{\r\n\t\t\t\t\t//Mark this index for removal\r\n\t\t\t\t\ttoRemove[inputIndex] = true;\r\n\t\t\t\t\tthisTripletCount++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Keep track of where we are in the overall input array\r\n\t\t\t\tcurrentIndex--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//We could be more clever here and keep track of how many\r\n\t// items we&#39;ll have in the output list and just create an array.\r\n\tvar output = new List&lt;int&gt;();\r\n\t\r\n\tfor(int index = 0; index &lt; input.Length; index++)\r\n\t{\r\n\t\tif (!toRemove[index])\r\n\t\t{\r\n\t\t\toutput.Add(input[index]);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn output.ToArray();\r\n}\r\n```","title":"Remove Triplet from array from last","body":"<p>I couldn't let this one go, so I did code up an example in c#. This is one approach. There are probably many ways to do this better:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private static int[] RemoveLastTriplet(int[] input)\n{\n    var toRemove = new bool[input.Length];\n    var counts = new Dictionary&lt;int, int&gt;();\n    \n    //Count how many times each input value is found.\n    foreach(var value in input)\n    {\n        int count;\n        \n        if (counts.TryGetValue(value, out count))\n        {\n            counts[value] = count + 1;\n        }\n        else\n        {\n            counts[value] = 1;\n        }\n    }\n    \n    foreach(var kvp in counts)\n    {\n        //Determine how many triplets we have for this value\n        var tripletCount = kvp.Value / 3;\n        \n        //Keep track of where we're starting\n        var currentIndex = input.Length - 1;\n        \n        //Remove each triplet\n        for(var tripletIndex = 0; tripletIndex &lt; tripletCount; tripletIndex++)\n        {\n            //counts the number of elements in this triplet\n            var thisTripletCount = 0;\n            \n            //Mark each member of the triplet for deletion.\n            for(var inputIndex = currentIndex; thisTripletCount &lt; 3; inputIndex--)\n            {\n                if (input[inputIndex] == kvp.Key)\n                {\n                    //Mark this index for removal\n                    toRemove[inputIndex] = true;\n                    thisTripletCount++;\n                }\n\n                //Keep track of where we are in the overall input array\n                currentIndex--;\n            }\n        }\n    }\n    \n    //We could be more clever here and keep track of how many\n    // items we'll have in the output list and just create an array.\n    var output = new List&lt;int&gt;();\n    \n    for(int index = 0; index &lt; input.Length; index++)\n    {\n        if (!toRemove[index])\n        {\n            output.Add(input[index]);\n        }\n    }\n    \n    return output.ToArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18135443,"reputation":19,"user_id":13190044,"display_name":"Aadil Mughal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661354556,"creation_date":1661354112,"answer_id":73475695,"question_id":73309914,"body_markdown":"This is my n^2 solution for this problem. I hope it will help you. Just find the count of element first and then find the total number of elements to be removed. Let say it is &#39;t&#39; after that, just replace the t number of elements from the end with -1.\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;unordered_set&gt;\r\n    \r\n    using namespace std;\r\n    \r\n    int main() {\r\n      int n;\r\n      cout &lt;&lt; &quot;Enter the length of array : &quot;;\r\n      cin &gt;&gt; n;\r\n      int arr[n];\r\n      cout &lt;&lt; &quot;Enter items : &quot;;\r\n      for (int i = 0; i &lt; n; ++i)\r\n        cin &gt;&gt; arr[i];\r\n    \r\n      //   set for fast lookups\r\n      unordered_set&lt;int&gt; uset;\r\n    \r\n      for (int i = n - 1; i &gt; -1; --i) {\r\n        int e = arr[i];\r\n        if (uset.find(e) != uset.end())\r\n          continue;\r\n    \r\n        // count the element frequiency\r\n        int c = 0;\r\n    \r\n        for (int j = 0; j &lt; n; ++j) {\r\n          if (arr[j] == e)\r\n            c++;\r\n        }\r\n    \r\n        // number of elements would we remove from end\r\n        c = c - c % 3;\r\n    \r\n        for (int j = n - 1; j &gt; -1; --j) {\r\n          if (c == 0)\r\n            break;\r\n          if (arr[j] == e) {\r\n            arr[j] = -1; // put -1 at removed element location\r\n            c--;\r\n          }\r\n        }\r\n      }\r\n    \r\n      //   now just print only elemt those value is not equals to zero\r\n      for (int i = 0; i &lt; n; ++i) {\r\n        if (arr[i] != (-1))\r\n          cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;\r\n      }\r\n      cout &lt;&lt; endl;\r\n      return 0;\r\n    }","title":"Remove Triplet from array from last","body":"<p>This is my n^2 solution for this problem. I hope it will help you. Just find the count of element first and then find the total number of elements to be removed. Let say it is 't' after that, just replace the t number of elements from the end with -1.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;unordered_set&gt;\n\nusing namespace std;\n\nint main() {\n  int n;\n  cout &lt;&lt; &quot;Enter the length of array : &quot;;\n  cin &gt;&gt; n;\n  int arr[n];\n  cout &lt;&lt; &quot;Enter items : &quot;;\n  for (int i = 0; i &lt; n; ++i)\n    cin &gt;&gt; arr[i];\n\n  //   set for fast lookups\n  unordered_set&lt;int&gt; uset;\n\n  for (int i = n - 1; i &gt; -1; --i) {\n    int e = arr[i];\n    if (uset.find(e) != uset.end())\n      continue;\n\n    // count the element frequiency\n    int c = 0;\n\n    for (int j = 0; j &lt; n; ++j) {\n      if (arr[j] == e)\n        c++;\n    }\n\n    // number of elements would we remove from end\n    c = c - c % 3;\n\n    for (int j = n - 1; j &gt; -1; --j) {\n      if (c == 0)\n        break;\n      if (arr[j] == e) {\n        arr[j] = -1; // put -1 at removed element location\n        c--;\n      }\n    }\n  }\n\n  //   now just print only elemt those value is not equals to zero\n  for (int i = 0; i &lt; n; ++i) {\n    if (arr[i] != (-1))\n      cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;\n  }\n  cout &lt;&lt; endl;\n  return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17301607,"reputation":1,"user_id":20076688,"display_name":"Sawan Sihag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664018240,"creation_date":1664018240,"answer_id":73836791,"question_id":73309914,"body_markdown":"\r\n\r\n    arr = input().split()[::-1]\r\n    # print(arr)\r\n    i = 0\r\n    \r\n    \r\n    def count_same(num, ind):\r\n        count = 0\r\n        indexes = []\r\n        for index in range(ind, len(arr)):\r\n            if arr[index] == num:\r\n                count += 1\r\n                indexes.append(index)\r\n                if count == 3:\r\n                    break\r\n        if count == 3:\r\n            for index in indexes[::-1]:\r\n                arr.pop(index)\r\n            return True\r\n        return False\r\n    \r\n    \r\n    while i &lt; len(arr):\r\n        if not count_same(arr[i], i):\r\n            i += 1\r\n        # print(arr)\r\n    print(list(map(int, arr[::-1])))\r\n\r\n","title":"Remove Triplet from array from last","body":"<pre><code>arr = input().split()[::-1]\n# print(arr)\ni = 0\n\n\ndef count_same(num, ind):\n    count = 0\n    indexes = []\n    for index in range(ind, len(arr)):\n        if arr[index] == num:\n            count += 1\n            indexes.append(index)\n            if count == 3:\n                break\n    if count == 3:\n        for index in indexes[::-1]:\n            arr.pop(index)\n        return True\n    return False\n\n\nwhile i &lt; len(arr):\n    if not count_same(arr[i], i):\n        i += 1\n    # print(arr)\nprint(list(map(int, arr[::-1])))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25548004,"reputation":11,"user_id":19332983,"display_name":"Aryaveer Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666296822,"creation_date":1666296822,"answer_id":74145823,"question_id":73309914,"body_markdown":"    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    int main(){\r\n        unordered_map&lt;int, int&gt; mp;\r\n        vector&lt;int&gt; nums = {2,2,3,2,3,2};\r\n        for(auto it:nums){\r\n            mp[it]++;\r\n        }\r\n        for (int i = 0; i &lt; nums.size();i++){\r\n            if(mp[nums[i]]%3==0){\r\n                continue;\r\n            }\r\n            else{\r\n                cout &lt;&lt; nums[i] &lt;&lt; &quot; &quot;;\r\n                mp[nums[i]] -= mp[nums[i]] / 3;\r\n            }\r\n        }\r\n    }","title":"Remove Triplet from array from last","body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main(){\n    unordered_map&lt;int, int&gt; mp;\n    vector&lt;int&gt; nums = {2,2,3,2,3,2};\n    for(auto it:nums){\n        mp[it]++;\n    }\n    for (int i = 0; i &lt; nums.size();i++){\n        if(mp[nums[i]]%3==0){\n            continue;\n        }\n        else{\n            cout &lt;&lt; nums[i] &lt;&lt; &quot; &quot;;\n            mp[nums[i]] -= mp[nums[i]] / 3;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13614811,"reputation":77,"user_id":16178503,"display_name":"Deepak Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675510272,"creation_date":1675510174,"answer_id":75344781,"question_id":73309914,"body_markdown":"These python code is working you can use  the below exapmles\r\n\r\nExample 1:\r\n\r\nInput: nums = [2,4,2,2,7,5,6,7,8,6,6,2,6,7,6]\r\nOutput: nums = [2,4,5,6,8,6]\r\n\r\nExample 2:\r\n\r\nInput: nums[2,2,3,2,3,2]\r\n\r\nOutput: nums[2,3,3]\r\n\r\n```py \r\n\r\nfrom collections import defaultdict\r\nnums = list(map(int, input(&quot;Enter the elements of the array separated by commas: &quot;).split(&#39;,&#39;)))\r\nmp = defaultdict(int)\r\nfor i in nums:\r\n    mp[i] += 1\r\nresult = []\r\nfor i in nums:\r\n    if mp[i] % 3 != 0:\r\n        result.append(i)\r\n        mp[i] -= mp[i] // 3\r\nprint(result)\r\n\r\n```\r\n","title":"Remove Triplet from array from last","body":"<p>These python code is working you can use  the below exapmles</p>\n<p>Example 1:</p>\n<p>Input: nums = [2,4,2,2,7,5,6,7,8,6,6,2,6,7,6]\nOutput: nums = [2,4,5,6,8,6]</p>\n<p>Example 2:</p>\n<p>Input: nums[2,2,3,2,3,2]</p>\n<p>Output: nums[2,3,3]</p>\n<pre class=\"lang-py prettyprint-override\"><code>\nfrom collections import defaultdict\nnums = list(map(int, input(&quot;Enter the elements of the array separated by commas: &quot;).split(',')))\nmp = defaultdict(int)\nfor i in nums:\n    mp[i] += 1\nresult = []\nfor i in nums:\n    if mp[i] % 3 != 0:\n        result.append(i)\n        mp[i] -= mp[i] // 3\nprint(result)\n\n</code></pre>\n"}],"owner":{"account_id":14811109,"reputation":13,"user_id":10696738,"display_name":"Sumit Odich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2903,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":5,"score":-3,"last_activity_date":1675510272,"creation_date":1660149677,"question_id":73309914,"body_markdown":"&gt; Given an integer array of nums, remove the triplet from last.  \r\n&gt; The relative order of elements should be kept the same.\r\n&gt; \r\n&gt; \r\n&gt; Example 1  \r\n&gt; input : nums = [2,4,2,2,7,5,6,7,8,6,6,2,6,7,6]  \r\n&gt; output : nums = [2,4,5,6,8,6]\r\n&gt; \r\n&gt; Example 2  input : nums = [2,2,3,2,3,2]  \r\n&gt; output : nums = [2,3,3]\r\n\r\nI have this in java\r\n\r\n```\r\nint[] nums = {2,4,2,2,7,5,6,7,8,6,6,2,6,7,6};\r\nint[] ans = new int[6];\r\nint count=1; \r\nfor(int i=0;i&lt;nums.length;i++){\r\n   for(int j=0;j&lt;nums.length;j++){\r\n     if(arr[i] == arr[j]){\r\n        if(count &lt; 3){\r\n         count++;\r\n         ans[i] = nums[i];\r\n        }\r\n     }\r\n   }\r\n}\r\n```","title":"Remove Triplet from array from last","body":"<blockquote>\n<p>Given an integer array of nums, remove the triplet from last.<br />\nThe relative order of elements should be kept the same.</p>\n<p>Example 1<br />\ninput : nums = [2,4,2,2,7,5,6,7,8,6,6,2,6,7,6]<br />\noutput : nums = [2,4,5,6,8,6]</p>\n<p>Example 2  input : nums = [2,2,3,2,3,2]<br />\noutput : nums = [2,3,3]</p>\n</blockquote>\n<p>I have this in java</p>\n<pre><code>int[] nums = {2,4,2,2,7,5,6,7,8,6,6,2,6,7,6};\nint[] ans = new int[6];\nint count=1; \nfor(int i=0;i&lt;nums.length;i++){\n   for(int j=0;j&lt;nums.length;j++){\n     if(arr[i] == arr[j]){\n        if(count &lt; 3){\n         count++;\n         ans[i] = nums[i];\n        }\n     }\n   }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","comparator"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1675449917,"post_id":75339816,"comment_id":132939084,"body_markdown":"From all your unsuccessful tries, pick up your consider the closest to you goal and use [Edit] to add this code to your question.","body":"From all your unsuccessful tries, pick up your consider the closest to you goal and use <a href=\"https://stackoverflow.com/posts/75339816/edit\">Edit</a> to add this code to your question."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1675449928,"post_id":75339816,"comment_id":132939090,"body_markdown":"What result are you trying to get?","body":"What result are you trying to get?"},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675453386,"post_id":75339816,"comment_id":132939928,"body_markdown":"I edited it to add what I am trying to accomplish. I need to check if the list is in the correct order (smallest to largest) based on the examples I provided.","body":"I edited it to add what I am trying to accomplish. I need to check if the list is in the correct order (smallest to largest) based on the examples I provided."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1675454923,"post_id":75339816,"comment_id":132940270,"body_markdown":"It&#39;s still unclear what you&#39;re trying to do.  You obviously can&#39;t compare the lists by elements because they don&#39;t contain the same number of elements.  Do you just want to arrange the outer list by the size of the inner lists?  e.g.  what do you mean by, &quot;List&lt;List&lt;Integer&gt;&gt; is in proper order&quot;, what should the order be?","body":"It&#39;s still unclear what you&#39;re trying to do.  You obviously can&#39;t compare the lists by elements because they don&#39;t contain the same number of elements.  Do you just want to arrange the outer list by the size of the inner lists?  e.g.  what do you mean by, &quot;List&lt;List&lt;Integer&gt;&gt; is in proper order&quot;, what should the order be?"},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675456563,"post_id":75339816,"comment_id":132940656,"body_markdown":"I don&#39;t need to rearrange the contents. I just need to check that each list is in a proper order. The first list must be smaller than the next.[[1],[2],[3]] = true.\n\n[[1,2],[1],[1]] = false, [[1,2],[1],[2]] = true","body":"I don&#39;t need to rearrange the contents. I just need to check that each list is in a proper order. The first list must be smaller than the next.[[1],[2],[3]] = true.  [[1,2],[1],[1]] = false, [[1,2],[1],[2]] = true"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1675459421,"post_id":75339816,"comment_id":132941278,"body_markdown":"bad title &quot;find in Java the largest value&quot; - how does that relate to the body &quot;make sure those values are sorted&quot;  ??","body":"bad title &quot;find in Java the largest value&quot; - how does that relate to the body &quot;make sure those values are sorted&quot;  ??"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1675469441,"post_id":75339816,"comment_id":132942987,"body_markdown":"*&quot;[[1,2],[1],[2]] = true&quot;* - Then why did you accept an answer that doesn&#39;t do that? Where&#39;s the mistake? In the example or in the accepting?","body":"<i>&quot;[[1,2],[1],[2]] = true&quot;</i> - Then why did you accept an answer that doesn&#39;t do that? Where&#39;s the mistake? In the example or in the accepting?"},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675478996,"post_id":75339816,"comment_id":132943816,"body_markdown":"@KellyBundy I am not sure what you mean. It works for me. list[2][0] is larger than list[0][0] and list[1][0].","body":"@KellyBundy I am not sure what you mean. It works for me. list[2][0] is larger than list[0][0] and list[1][0]."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1675480133,"post_id":75339816,"comment_id":132943905,"body_markdown":"@thelinuxfan That answer says the second list is smaller than the first and third list. So it doesn&#39;t result in &quot;true&quot; as it should according to you.","body":"@thelinuxfan That answer says the second list is smaller than the first and third list. So it doesn&#39;t result in &quot;true&quot; as it should according to you."},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675481566,"post_id":75339816,"comment_id":132944036,"body_markdown":"@KellyBundy Ahh I see. I messed up when I wrote it. That should be false and it works as I intended just not how I wrote it :)","body":"@KellyBundy Ahh I see. I messed up when I wrote it. That should be false and it works as I intended just not how I wrote it :)"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1675482506,"post_id":75339816,"comment_id":132944102,"body_markdown":"Ok. But to be sure, what should the result be for [[1,2],[3]]?","body":"Ok. But to be sure, what should the result be for [[1,2],[3]]?"},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675483828,"post_id":75339816,"comment_id":132944181,"body_markdown":"true. I see. The accepted answer gives false when len 1 in second list. In my testing and application, I would only ever have len 2 as it would be [[1,2],[3,0]]. You are right and thank you for catching that.","body":"true. I see. The accepted answer gives false when len 1 in second list. In my testing and application, I would only ever have len 2 as it would be [[1,2],[3,0]]. You are right and thank you for catching that."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1675485393,"post_id":75339816,"comment_id":132944270,"body_markdown":"You&#39;re really just asking for ordinary lexicographic order then, aren&#39;t you?","body":"You&#39;re really just asking for ordinary lexicographic order then, aren&#39;t you?"},{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675486204,"post_id":75339816,"comment_id":132944317,"body_markdown":"Yes. It would be in reverse lexicographic order.","body":"Yes. It would be in reverse lexicographic order."}],"answers":[{"comments":[{"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"score":0,"creation_date":1675456845,"post_id":75340686,"comment_id":132940727,"body_markdown":"I probably did not explain my problem well enough. I apologize if that is the case. This is showing [[3,2,1],[5,4,3],[5,4,2]] as true when it should be false. \n\nWhat is compare() overriding?","body":"I probably did not explain my problem well enough. I apologize if that is the case. This is showing [[3,2,1],[5,4,3],[5,4,2]] as true when it should be false.   What is compare() overriding?"}],"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675462993,"creation_date":1675455719,"answer_id":75340686,"question_id":75339816,"body_markdown":"As far as I have understood what you&#39;re trying to achieve, below should be the solution:\r\n```java\r\nboolean checkListsOrder(List&lt;List&lt;Integer&gt;&gt; listOfLists) {\r\n    int maxSize = 0;\r\n    for (List&lt;Integer&gt; singleList : listOfLists)\r\n        maxSize = maxSize &gt; singleList.size() ? maxSize : singleList.size();\r\n\r\n    Map&lt;Integer, Integer&gt; checkIfAllValuesEqualsAndWrongOrdered = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; listOfLists.size(); i++)\r\n        checkIfAllValuesEqualsAndWrongOrdered.put(i, 0);\r\n\r\n    for (int j = 0; j &lt; maxSize; j++) {\r\n        TreeMap&lt;Integer, Integer&gt; orderOfValues = new TreeMap&lt;&gt;();\r\n        for (int i = 0; i &lt; listOfLists.size(); i++) {\r\n            if (j &lt; listOfLists.get(i).size()) {\r\n                orderOfValues.put(i, listOfLists.get(i).get(j));\r\n            }\r\n        }\r\n\r\n        Map.Entry&lt;Integer, Integer&gt; previousEntry = orderOfValues.firstEntry();\r\n        Map.Entry&lt;Integer, Integer&gt; nextEntry = orderOfValues.higherEntry(previousEntry.getKey());\r\n        while (nextEntry != null) {\r\n            if (previousEntry.getValue() &gt; nextEntry.getValue())\r\n                return false;\r\n            else if (previousEntry.getValue() == nextEntry.getValue() &amp;&amp; listOfLists.get(previousEntry.getKey()).size() &gt; listOfLists.get(nextEntry.getKey()).size()) {\r\n                if (checkIfAllValuesEqualsAndWrongOrdered.get(nextEntry.getKey()) + 1 == listOfLists.get(nextEntry.getKey()).size() - 1)\r\n                    return false;\r\n                else\r\n                    checkIfAllValuesEqualsAndWrongOrdered.put(nextEntry.getKey(), checkIfAllValuesEqualsAndWrongOrdered.get(nextEntry.getKey()) + 1);\r\n            }\r\n            previousEntry = nextEntry;\r\n            nextEntry = orderOfValues.higherEntry(nextEntry.getKey());\r\n        }\r\n\r\n    }\r\n\r\n    return true;\r\n}\r\n```","title":"How to find in Java the largest value in variable length List with variable length nested Lists index by index?","body":"<p>As far as I have understood what you're trying to achieve, below should be the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean checkListsOrder(List&lt;List&lt;Integer&gt;&gt; listOfLists) {\n    int maxSize = 0;\n    for (List&lt;Integer&gt; singleList : listOfLists)\n        maxSize = maxSize &gt; singleList.size() ? maxSize : singleList.size();\n\n    Map&lt;Integer, Integer&gt; checkIfAllValuesEqualsAndWrongOrdered = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; listOfLists.size(); i++)\n        checkIfAllValuesEqualsAndWrongOrdered.put(i, 0);\n\n    for (int j = 0; j &lt; maxSize; j++) {\n        TreeMap&lt;Integer, Integer&gt; orderOfValues = new TreeMap&lt;&gt;();\n        for (int i = 0; i &lt; listOfLists.size(); i++) {\n            if (j &lt; listOfLists.get(i).size()) {\n                orderOfValues.put(i, listOfLists.get(i).get(j));\n            }\n        }\n\n        Map.Entry&lt;Integer, Integer&gt; previousEntry = orderOfValues.firstEntry();\n        Map.Entry&lt;Integer, Integer&gt; nextEntry = orderOfValues.higherEntry(previousEntry.getKey());\n        while (nextEntry != null) {\n            if (previousEntry.getValue() &gt; nextEntry.getValue())\n                return false;\n            else if (previousEntry.getValue() == nextEntry.getValue() &amp;&amp; listOfLists.get(previousEntry.getKey()).size() &gt; listOfLists.get(nextEntry.getKey()).size()) {\n                if (checkIfAllValuesEqualsAndWrongOrdered.get(nextEntry.getKey()) + 1 == listOfLists.get(nextEntry.getKey()).size() - 1)\n                    return false;\n                else\n                    checkIfAllValuesEqualsAndWrongOrdered.put(nextEntry.getKey(), checkIfAllValuesEqualsAndWrongOrdered.get(nextEntry.getKey()) + 1);\n            }\n            previousEntry = nextEntry;\n            nextEntry = orderOfValues.higherEntry(nextEntry.getKey());\n        }\n\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675458519,"creation_date":1675458519,"answer_id":75341046,"question_id":75339816,"body_markdown":"You could sort a copy of your lists acording to your order definition and check if the copy and original are equal. (Might be not the efficient way to do if your list are very big).\r\n\r\n    static boolean areListsInOrder(List&lt;List&lt;Integer&gt;&gt; listOfLists){\r\n        //a comparator to sort your lists comparing each value index wise, then comparing by list size\r\n        Comparator&lt;List&lt;Integer&gt;&gt; comp = (list1,list2) -&gt; IntStream.range(0, Math.min(list1.size(), list2.size()))\r\n                                                                   .map(i -&gt; list1.get(i).compareTo(list2.get(i)))\r\n                                                                   .dropWhile( i -&gt; i == 0).findFirst()\r\n                                                                   .orElse(Integer.compare(list1.size(), list2.size()));\r\n\r\n        //copy your list and sort\r\n        List&lt;List&lt;Integer&gt;&gt; copy = new ArrayList&lt;&gt;(listOfLists);\r\n        copy.sort(comp);\r\n\r\n        //check if the sorted and original are equal\r\n        return copy.equals(listOfLists);\r\n    }","title":"How to find in Java the largest value in variable length List with variable length nested Lists index by index?","body":"<p>You could sort a copy of your lists acording to your order definition and check if the copy and original are equal. (Might be not the efficient way to do if your list are very big).</p>\n<pre><code>static boolean areListsInOrder(List&lt;List&lt;Integer&gt;&gt; listOfLists){\n    //a comparator to sort your lists comparing each value index wise, then comparing by list size\n    Comparator&lt;List&lt;Integer&gt;&gt; comp = (list1,list2) -&gt; IntStream.range(0, Math.min(list1.size(), list2.size()))\n                                                               .map(i -&gt; list1.get(i).compareTo(list2.get(i)))\n                                                               .dropWhile( i -&gt; i == 0).findFirst()\n                                                               .orElse(Integer.compare(list1.size(), list2.size()));\n\n    //copy your list and sort\n    List&lt;List&lt;Integer&gt;&gt; copy = new ArrayList&lt;&gt;(listOfLists);\n    copy.sort(comp);\n\n    //check if the sorted and original are equal\n    return copy.equals(listOfLists);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675508511,"creation_date":1675459390,"answer_id":75341144,"question_id":75339816,"body_markdown":"So you need a comparator. This is pretty easy. Just create two separate comparators: first should sort lists by size, second - by content.\r\n\r\n```java\r\npublic static Comparator&lt;List&lt;Integer&gt;&gt; createComparator() {\r\n    Comparator&lt;List&lt;Integer&gt;&gt; sortBySizeAsc = Comparator.comparingInt(List::size);\r\n    Comparator&lt;List&lt;Integer&gt;&gt; sortByContentAsc = (one, two) -&gt; {\r\n        Iterator&lt;Integer&gt; it1 = one.iterator();\r\n        Iterator&lt;Integer&gt; it2 = two.iterator();\r\n\r\n        while (it1.hasNext() &amp;&amp; it2.hasNext()) {\r\n            int res = Integer.compare(it1.next(), it2.next());\r\n\r\n            if (res != 0)\r\n                return res;\r\n        }\r\n\r\n        return 0;\r\n    };\r\n    return sortBySizeAsc.thenComparing(sortByContentAsc);\r\n}\r\n```","title":"How to find in Java the largest value in variable length List with variable length nested Lists index by index?","body":"<p>So you need a comparator. This is pretty easy. Just create two separate comparators: first should sort lists by size, second - by content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Comparator&lt;List&lt;Integer&gt;&gt; createComparator() {\n    Comparator&lt;List&lt;Integer&gt;&gt; sortBySizeAsc = Comparator.comparingInt(List::size);\n    Comparator&lt;List&lt;Integer&gt;&gt; sortByContentAsc = (one, two) -&gt; {\n        Iterator&lt;Integer&gt; it1 = one.iterator();\n        Iterator&lt;Integer&gt; it2 = two.iterator();\n\n        while (it1.hasNext() &amp;&amp; it2.hasNext()) {\n            int res = Integer.compare(it1.next(), it2.next());\n\n            if (res != 0)\n                return res;\n        }\n\n        return 0;\n    };\n    return sortBySizeAsc.thenComparing(sortByContentAsc);\n}\n</code></pre>\n"}],"owner":{"account_id":15745330,"reputation":11,"user_id":12298433,"display_name":"thelinuxfan"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75341144,"answer_count":3,"score":0,"last_activity_date":1675508511,"creation_date":1675449696,"question_id":75339816,"body_markdown":"I have a `List&lt;List&lt;Integer&gt;&gt;` that has an arbitrary number of variable length `List&lt;Integer&gt;`. I need to compare each value at the same index and make sure those values are sorted meaning the first list should be smaller than the next based on index by index values.\r\n\r\nIn the below example, each index would be compared between the lists at index `i = 0`, the values are all *int 5* so continue. For `i = 1`, the values are all 3, so continue. For `i = 2`, `listA` is larger because it has an additional integer where as the others are null and should return false.\r\n\r\n``` java\r\nList&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(5, 3, 2),  // A\r\n                                          List.of(5, 3),     // B\r\n                                          List.of(5, 3));    // C\r\n```\r\n\r\nAnother example. Here, these are not in the correct order because `listB` fails on the last index because `ListA` and `listC` have values as they are not `null`, so `listB` is smaller.\r\n``` java\r\nList&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(4, 3, 2, 1),   // A\r\n                                          List.of(4, 3, 2),      // B\r\n                                          List.of(4, 3, 2, 1));  // C\r\n```\r\n\r\nIn this example, they are in order.\r\n``` java\r\nList&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(4, 3),        // A\r\n                                          List.of(4, 3, 1),     // B\r\n                                          List.of(5, 3, 2, 1),  // C\r\n                                          List.of(5, 4, 3));    // D\r\n```\r\n\r\n\r\nI have tried many options. I have tried to use `Comparator` to create a custom compare method, nested for loops, recursion, etc. I keep running into problems with `IndexOutOfBOundsExceptions` and this is still kind of mind boggling for me. I have been able to sort the lists or find the maximum values of the lists and compare them to the others, but not while maintaining the order.\r\n\r\nI feel like pushing each value at the same index onto a stack and then comparing them would be a good solution, but I am having trouble implementing it.\r\n\r\nThe end result is I need to determine if `List&lt;List&lt;Integer&gt;&gt;` is in proper order from smallest to largest and `return true`; otherwise, `return false`. The last example would be true and the others would be false.\r\n\r\n## EDIT\r\nI came up with this and it seems to work.\r\n\r\n``` java\r\npublic class ListTest {\r\n\r\n    public static void main(String... args) {\r\n        List&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(3, 2, 1),     // A\r\n                                                  List.of(4, 3, 1),     // B\r\n                                                  List.of(5, 4, 3));    // C\r\n\r\n        boolean correctOrder = true;\r\n        int max = getMaxLength(listOfLists);\r\n\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; max; i++) {\r\n            for (int j = 0; j &lt; listOfLists.size(); j++) {\r\n                try {\r\n                    stack.push(listOfLists.get(j).get(i));\r\n                } catch(IndexOutOfBoundsException ex) {\r\n                    stack.push(0);\r\n                }\r\n            }\r\n\r\n            if (!isSorted(stack)) {\r\n                correctOrder = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        System.out.println(correctOrder);\r\n    }\r\n\r\n    public static boolean isSorted(Stack&lt;Integer&gt; stack) {\r\n        int temp = stack.pop();\r\n\r\n        while (!stack.isEmpty()) {\r\n            int compare = stack.pop();\r\n\r\n            if (temp &lt; compare)\r\n                return false;\r\n\r\n            temp = compare;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static int getMaxLength(List&lt;List&lt;Integer&gt;&gt; list) {\r\n        int maxLength = 0;\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i).size() &gt; maxLength) {\r\n                maxLength = list.get(i).size();\r\n                System.out.println(maxLength);\r\n            }\r\n        }\r\n\r\n        return maxLength;\r\n    }\r\n}\r\n```","title":"How to find in Java the largest value in variable length List with variable length nested Lists index by index?","body":"<p>I have a <code>List&lt;List&lt;Integer&gt;&gt;</code> that has an arbitrary number of variable length <code>List&lt;Integer&gt;</code>. I need to compare each value at the same index and make sure those values are sorted meaning the first list should be smaller than the next based on index by index values.</p>\n<p>In the below example, each index would be compared between the lists at index <code>i = 0</code>, the values are all <em>int 5</em> so continue. For <code>i = 1</code>, the values are all 3, so continue. For <code>i = 2</code>, <code>listA</code> is larger because it has an additional integer where as the others are null and should return false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(5, 3, 2),  // A\n                                          List.of(5, 3),     // B\n                                          List.of(5, 3));    // C\n</code></pre>\n<p>Another example. Here, these are not in the correct order because <code>listB</code> fails on the last index because <code>ListA</code> and <code>listC</code> have values as they are not <code>null</code>, so <code>listB</code> is smaller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(4, 3, 2, 1),   // A\n                                          List.of(4, 3, 2),      // B\n                                          List.of(4, 3, 2, 1));  // C\n</code></pre>\n<p>In this example, they are in order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(4, 3),        // A\n                                          List.of(4, 3, 1),     // B\n                                          List.of(5, 3, 2, 1),  // C\n                                          List.of(5, 4, 3));    // D\n</code></pre>\n<p>I have tried many options. I have tried to use <code>Comparator</code> to create a custom compare method, nested for loops, recursion, etc. I keep running into problems with <code>IndexOutOfBOundsExceptions</code> and this is still kind of mind boggling for me. I have been able to sort the lists or find the maximum values of the lists and compare them to the others, but not while maintaining the order.</p>\n<p>I feel like pushing each value at the same index onto a stack and then comparing them would be a good solution, but I am having trouble implementing it.</p>\n<p>The end result is I need to determine if <code>List&lt;List&lt;Integer&gt;&gt;</code> is in proper order from smallest to largest and <code>return true</code>; otherwise, <code>return false</code>. The last example would be true and the others would be false.</p>\n<h2>EDIT</h2>\n<p>I came up with this and it seems to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListTest {\n\n    public static void main(String... args) {\n        List&lt;List&lt;Integer&gt;&gt; listOfLists = List.of(List.of(3, 2, 1),     // A\n                                                  List.of(4, 3, 1),     // B\n                                                  List.of(5, 4, 3));    // C\n\n        boolean correctOrder = true;\n        int max = getMaxLength(listOfLists);\n\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\n        for (int i = 0; i &lt; max; i++) {\n            for (int j = 0; j &lt; listOfLists.size(); j++) {\n                try {\n                    stack.push(listOfLists.get(j).get(i));\n                } catch(IndexOutOfBoundsException ex) {\n                    stack.push(0);\n                }\n            }\n\n            if (!isSorted(stack)) {\n                correctOrder = false;\n                break;\n            }\n        }\n\n        System.out.println(correctOrder);\n    }\n\n    public static boolean isSorted(Stack&lt;Integer&gt; stack) {\n        int temp = stack.pop();\n\n        while (!stack.isEmpty()) {\n            int compare = stack.pop();\n\n            if (temp &lt; compare)\n                return false;\n\n            temp = compare;\n        }\n        return true;\n    }\n\n    public static int getMaxLength(List&lt;List&lt;Integer&gt;&gt; list) {\n        int maxLength = 0;\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).size() &gt; maxLength) {\n                maxLength = list.get(i).size();\n                System.out.println(maxLength);\n            }\n        }\n\n        return maxLength;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"score":1,"creation_date":1675415315,"post_id":75331747,"comment_id":132928211,"body_markdown":"you seem to have 3 data sources in your application, 2 in application properties (one normal and one hikari) and a third one in application.yml. Is there any specific need for these?","body":"you seem to have 3 data sources in your application, 2 in application properties (one normal and one hikari) and a third one in application.yml. Is there any specific need for these?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675415374,"post_id":75331747,"comment_id":132928229,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27683138,"reputation":1,"user_id":21131457,"display_name":"Zongbeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675507560,"creation_date":1675400988,"question_id":75331747,"body_markdown":"I am working on java spring shopping mall project. I want to fix this error.  \r\n\r\nBelow is my code.\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4768b95c testClass = com.maven_shopping.repository.ItemRepositoryTest, locations = [], classes = [com.maven_shopping.MavenShoppingApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [&quot;classpath:application-test.properties&quot;], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4e268090, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5939a379, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f97cf0d, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@44821a96, org.springframework.boot.test.context.SpringBootTestAnnotation@9346081e], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\r\nItem.java:\r\n```\r\npackage com.maven_shopping.entity;\r\n\r\nimport com.maven_shopping.constant.ItemSellStatus;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\n@Table(name = &quot;item&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Item {\r\n    @Id\r\n    @Column(name = &quot;item_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Column(nullable = false, length = 50)\r\n    private String itemName;\r\n    @Column(name = &quot;price&quot;, nullable = false)\r\n    private int price;\r\n    @Column(nullable = false)\r\n    private int stockNum;\r\n    @Lob\r\n    @Column(nullable = false)\r\n    private String itemDetail;\r\n    @Enumerated(EnumType.STRING)\r\n    private ItemSellStatus itemSellStatus;\r\n    private LocalDateTime regTime;\r\n    private LocalDateTime updateTime;\r\n}\r\n\r\n```\r\n\r\nItemRepositoryTest :\r\n\r\n```\r\npackage com.maven_shopping.repository;\r\n\r\nimport com.maven_shopping.constant.ItemSellStatus;\r\nimport com.maven_shopping.entity.Item;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.TestPropertySource;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport static org.junit.jupiter.api.Assertions.\\*;\r\n\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\nclass ItemRepositoryTest {\r\n@Autowired\r\nItemRepository itemRepository;\r\n\r\n    @Test\r\n    @DisplayName(&quot;상품 저장 테스트&quot;)\r\n    public void createItemTest() {\r\n        Item item = new Item();\r\n        item.setItemName(&quot;Test Product&quot;);\r\n        item.setPrice(10000);\r\n        item.setItemDetail(&quot;Test Product Detail&quot;);\r\n        item.setItemSellStatus(ItemSellStatus.SELL);\r\n        item.setStockNum(100);\r\n        item.setRegTime(LocalDateTime.now());\r\n        item.setUpdateTime(LocalDateTime.now());\r\n        Item savedItem = itemRepository.save(item);\r\n        System.out.println(savedItem.toString());\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.maven_shopping&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven_shopping&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;maven_shopping&lt;/name&gt;\r\n\t&lt;description&gt;maven_shopping project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\n#port setting\r\nserver.port=80\r\n\r\n#MySQL connect setting\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost::3306/shop?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=****\r\n\r\n#show query console\r\nspring.jpa.properties.hibernate.show_sql=true\r\n\r\n#query hibernate formatting\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n#question mark parameter\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n\r\n##Thymeleaf cache ????\r\n#spring.thymeleaf.check-template-location=true\r\n#spring.thymeleaf.prefix=classpath:templates/\r\n#spring.thymeleaf.suffix=.html\r\n#spring.thymeleaf.cache=false\r\n\r\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/shop\r\nspring.datasource.hikari.username=root\r\nspring.datasource.hikari.password=****\r\nspring.datasource.hikari.pool-name=TestHikariPool\r\n```\r\n\r\napplication-test.properties :\r\n\r\n```\r\n# DataSource Setting\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:test\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\n#h2 Database dialect Setting\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:tcp://localhost/~/jpashop;\r\n    // MVCC=TRUE : 여러개의 요청이 들어왔을때, 빠르게 처리할 수 있도록 도와줌\r\n    username: sa\r\n    password:\r\n    driver-class-name: org.h2.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create\r\n      #애플리케이션 실행시점에 내가 가진 SQL문을 다 지우고, 다시 생성함\r\n    properties:\r\n      hibernate:\r\n        show_sql: true\r\n        # System.out.println을 통해 sql문이 출력됨 -&gt; 로그로 출력하게 해야함!\r\n        format_sql: true\r\nlogging.level:\r\n  org.hibernate.SQL: debug\r\n  org.hibernate.type: trace\r\n```","title":"java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration~~~~ error","body":"<p>I am working on java spring shopping mall project. I want to fix this error.</p>\n<p>Below is my code.</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4768b95c testClass = com.maven_shopping.repository.ItemRepositoryTest, locations = [], classes = [com.maven_shopping.MavenShoppingApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [&quot;classpath:application-test.properties&quot;], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4e268090, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5939a379, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f97cf0d, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@44821a96, org.springframework.boot.test.context.SpringBootTestAnnotation@9346081e], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]</p>\n</blockquote>\n<p>Item.java:</p>\n<pre><code>package com.maven_shopping.entity;\n\nimport com.maven_shopping.constant.ItemSellStatus;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;item&quot;)\n@Getter\n@Setter\n@ToString\npublic class Item {\n    @Id\n    @Column(name = &quot;item_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Column(nullable = false, length = 50)\n    private String itemName;\n    @Column(name = &quot;price&quot;, nullable = false)\n    private int price;\n    @Column(nullable = false)\n    private int stockNum;\n    @Lob\n    @Column(nullable = false)\n    private String itemDetail;\n    @Enumerated(EnumType.STRING)\n    private ItemSellStatus itemSellStatus;\n    private LocalDateTime regTime;\n    private LocalDateTime updateTime;\n}\n\n</code></pre>\n<p>ItemRepositoryTest :</p>\n<pre><code>package com.maven_shopping.repository;\n\nimport com.maven_shopping.constant.ItemSellStatus;\nimport com.maven_shopping.entity.Item;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.TestPropertySource;\n\nimport java.time.LocalDateTime;\n\nimport static org.junit.jupiter.api.Assertions.\\*;\n\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\nclass ItemRepositoryTest {\n@Autowired\nItemRepository itemRepository;\n\n    @Test\n    @DisplayName(&quot;상품 저장 테스트&quot;)\n    public void createItemTest() {\n        Item item = new Item();\n        item.setItemName(&quot;Test Product&quot;);\n        item.setPrice(10000);\n        item.setItemDetail(&quot;Test Product Detail&quot;);\n        item.setItemSellStatus(ItemSellStatus.SELL);\n        item.setStockNum(100);\n        item.setRegTime(LocalDateTime.now());\n        item.setUpdateTime(LocalDateTime.now());\n        Item savedItem = itemRepository.save(item);\n        System.out.println(savedItem.toString());\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.maven_shopping&lt;/groupId&gt;\n    &lt;artifactId&gt;maven_shopping&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;maven_shopping&lt;/name&gt;\n    &lt;description&gt;maven_shopping project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>#port setting\nserver.port=80\n\n#MySQL connect setting\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost::3306/shop?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=****\n\n#show query console\nspring.jpa.properties.hibernate.show_sql=true\n\n#query hibernate formatting\nspring.jpa.properties.hibernate.format_sql=true\n\n#question mark parameter\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n\n##Thymeleaf cache ????\n#spring.thymeleaf.check-template-location=true\n#spring.thymeleaf.prefix=classpath:templates/\n#spring.thymeleaf.suffix=.html\n#spring.thymeleaf.cache=false\n\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/shop\nspring.datasource.hikari.username=root\nspring.datasource.hikari.password=****\nspring.datasource.hikari.pool-name=TestHikariPool\n</code></pre>\n<p>application-test.properties :</p>\n<pre><code># DataSource Setting\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:test\nspring.datasource.username=sa\nspring.datasource.password=\n\n#h2 Database dialect Setting\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:tcp://localhost/~/jpashop;\n    // MVCC=TRUE : 여러개의 요청이 들어왔을때, 빠르게 처리할 수 있도록 도와줌\n    username: sa\n    password:\n    driver-class-name: org.h2.Driver\n  jpa:\n    hibernate:\n      ddl-auto: create\n      #애플리케이션 실행시점에 내가 가진 SQL문을 다 지우고, 다시 생성함\n    properties:\n      hibernate:\n        show_sql: true\n        # System.out.println을 통해 sql문이 출력됨 -&gt; 로그로 출력하게 해야함!\n        format_sql: true\nlogging.level:\n  org.hibernate.SQL: debug\n  org.hibernate.type: trace\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":222943,"reputation":1665,"user_id":481852,"accept_rate":100,"display_name":"gfelisberto"},"score":1,"creation_date":1675509254,"post_id":75344525,"comment_id":132946923,"body_markdown":"This was already covered here: https://stackoverflow.com/questions/6776421/display-the-tomcat-manager-application","body":"This was already covered here: <a href=\"https://stackoverflow.com/questions/6776421/display-the-tomcat-manager-application\" title=\"display the tomcat manager application\">stackoverflow.com/questions/6776421/&hellip;</a>"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675526022,"answer_count":0,"score":0,"last_activity_date":1675507346,"creation_date":1675507346,"question_id":75344525,"body_markdown":"I run Java based web service on Tomcat 9 from Eclipse IDE. Tomcat was installed from within Eclipse on my Windows machine and no configuration changes was done. I can open page http://localhost:8080 that shows 404 error. I &#39;m trying to open Tomcat&#39;s console by entering address http://localhost:8080/manager/html , but I also get 404 error. Where I should look for Tomcat console? How to enable it?\r\n\r\n","title":"Get Tomcat console","body":"<p>I run Java based web service on Tomcat 9 from Eclipse IDE. Tomcat was installed from within Eclipse on my Windows machine and no configuration changes was done. I can open page http://localhost:8080 that shows 404 error. I 'm trying to open Tomcat's console by entering address http://localhost:8080/manager/html , but I also get 404 error. Where I should look for Tomcat console? How to enable it?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1675504436,"post_id":75343726,"comment_id":132946284,"body_markdown":"i am using server.port = 8081 in application.properties","body":"i am using server.port = 8081 in application.properties"},{"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"score":0,"creation_date":1675504961,"post_id":75343726,"comment_id":132946356,"body_markdown":"Can you post your properties file and other configuration for better understanding ?","body":"Can you post your properties file and other configuration for better understanding ?"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1675505666,"post_id":75343726,"comment_id":132946448,"body_markdown":"Added. There aren&#39;t any configurations i have done...just set the port and context path","body":"Added. There aren&#39;t any configurations i have done...just set the port and context path"}],"answers":[{"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":1,"creation_date":1675507005,"post_id":75344475,"comment_id":132946634,"body_markdown":"I already tried it by removing it on my class it didn&#39;t work..but now after reading your answer i tried again and it worked, dont know why but thanks.","body":"I already tried it by removing it on my class it didn&#39;t work..but now after reading your answer i tried again and it worked, dont know why but thanks."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1675551165,"post_id":75344475,"comment_id":132954512,"body_markdown":"I would say the opposite. In Spring Boot application you generally don&#39;t need context path. Unless you have some specific requirements, remove context path and set controller requestmapping path as needed.\nYour application occupies port 8081. You won&#39;t be able to run some another application on this port, so you don&#39;t need to further distinguish you app with context path. It will be alone on specified port.","body":"I would say the opposite. In Spring Boot application you generally don&#39;t need context path. Unless you have some specific requirements, remove context path and set controller requestmapping path as needed. Your application occupies port 8081. You won&#39;t be able to run some another application on this port, so you don&#39;t need to further distinguish you app with context path. It will be alone on specified port."}],"tags":[],"owner":{"account_id":18532137,"reputation":63,"user_id":13502658,"display_name":"Jiandong"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675506694,"creation_date":1675506694,"answer_id":75344475,"question_id":75343726,"body_markdown":"since you already set the servlet context path as &#39;/learn&#39; in your configuration file, you do not need to add &#39;/learn&#39; again in the RequestMapping in your controller. just remove it and let us know.","title":"Sping RestController not responding to request","body":"<p>since you already set the servlet context path as '/learn' in your configuration file, you do not need to add '/learn' again in the RequestMapping in your controller. just remove it and let us know.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75344475,"answer_count":1,"score":0,"last_activity_date":1675506694,"creation_date":1675497377,"question_id":75343726,"body_markdown":"I am just trying to implement a sample rest controller on spring boot for learning. When i am sending the request through web browser i am getting a white label error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy applications context path is set to `/learn`. Below are my source files, project structure and pom.xml.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**TestController.java**\r\n\r\n    package com.practice.learn.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/learn&quot;)\r\n    public class TestController {\r\n    \r\n    \tTestController(){\r\n    \t\tSystem.out.println(&quot;TestController initialized&quot;);\r\n    \t}\r\n    \t@GetMapping(&quot;/test&quot;)\r\n    \tpublic String testMethod() {\r\n    \t\tSystem.out.println(&quot;Inside test method&quot;);\r\n    \t\treturn &quot;This is sample text&quot;;\r\n    \t}\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.practice&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;learn&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;learn&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**LearnApplication.java**\r\n\r\n    package com.practice.learn;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class LearnApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LearnApplication.class, args);\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n**application.properties**\r\n\r\n    server.port=8081\r\n    server.servlet.context-path=/learn\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snnZg.png\r\n  [2]: https://i.stack.imgur.com/b72CS.png","title":"Sping RestController not responding to request","body":"<p>I am just trying to implement a sample rest controller on spring boot for learning. When i am sending the request through web browser i am getting a white label error.</p>\n<p><a href=\"https://i.stack.imgur.com/snnZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snnZg.png\" alt=\"enter image description here\" /></a></p>\n<p>My applications context path is set to <code>/learn</code>. Below are my source files, project structure and pom.xml.</p>\n<p><a href=\"https://i.stack.imgur.com/b72CS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b72CS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>TestController.java</strong></p>\n<pre><code>package com.practice.learn.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/learn&quot;)\npublic class TestController {\n\n    TestController(){\n        System.out.println(&quot;TestController initialized&quot;);\n    }\n    @GetMapping(&quot;/test&quot;)\n    public String testMethod() {\n        System.out.println(&quot;Inside test method&quot;);\n        return &quot;This is sample text&quot;;\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.practice&lt;/groupId&gt;\n    &lt;artifactId&gt;learn&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;learn&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>LearnApplication.java</strong></p>\n<pre><code>package com.practice.learn;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class LearnApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(LearnApplication.class, args);\n    }\n    \n\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8081\nserver.servlet.context-path=/learn\n</code></pre>\n"},{"tags":["java","node.js","cloudfoundry-uaa","sap-cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611757084,"creation_date":1611753768,"answer_id":65920079,"question_id":65920078,"body_markdown":"Posting this problem solution as I faced and resolved.\r\n\r\nCase 1: If you are using BAS (Business Application Studio) and deploying through mta file,\r\nmake sure you have added **forwardAuthToken: true** for **xsuaa service** associated application instance.\r\n\r\nin the **mta** file add the below properties.\r\n\r\n    requires:\r\n          - name: my_xsuaa\r\n          - name: MY_API\r\n            group: destinations\r\n            properties:\r\n              name: MY_API\r\n              url: &#39;~{url}&#39;\r\n            forwardAuthToken: true\r\n\r\nIf it is not working after that then check your **xs-security.json** file\r\n\r\n    &quot;oauth2-configuration&quot;: {\r\n    \t\t&quot;token-validity&quot;: 604800,\r\n    \t\t&quot;refresh-token-validity&quot;: 2592000,\r\n    \t\t\r\n    \t\t&quot;redirect-uris&quot;:[\r\n    \t\t\t&quot;https://*.&lt;your_uri&gt;/login/callback&quot;\r\n    \t\t]  \r\n    \t}\r\n\r\nCase 2: If deploying a java application below properties should be set in the **menifest.yml** file.\r\n\r\n    env:\r\n        SESSION_TIMEOUT: 30\r\n        destinations: &gt;\r\n            [{\r\n                &quot;name&quot;:&quot;MY_API&quot;,\r\n                &quot;url&quot; :&quot;&lt;you_java_application_uri&gt;&quot;,\r\n                &quot;forwardAuthToken&quot;: true\r\n            }\r\n            ]","title":"SAP CF XSUAA Service - Error Message: Invalid redirect &lt;redirect_uri&gt;/login/callback did not matched the registered values","body":"<p>Posting this problem solution as I faced and resolved.</p>\n<p>Case 1: If you are using BAS (Business Application Studio) and deploying through mta file,\nmake sure you have added <strong>forwardAuthToken: true</strong> for <strong>xsuaa service</strong> associated application instance.</p>\n<p>in the <strong>mta</strong> file add the below properties.</p>\n<pre><code>requires:\n      - name: my_xsuaa\n      - name: MY_API\n        group: destinations\n        properties:\n          name: MY_API\n          url: '~{url}'\n        forwardAuthToken: true\n</code></pre>\n<p>If it is not working after that then check your <strong>xs-security.json</strong> file</p>\n<pre><code>&quot;oauth2-configuration&quot;: {\n        &quot;token-validity&quot;: 604800,\n        &quot;refresh-token-validity&quot;: 2592000,\n        \n        &quot;redirect-uris&quot;:[\n            &quot;https://*.&lt;your_uri&gt;/login/callback&quot;\n        ]  \n    }\n</code></pre>\n<p>Case 2: If deploying a java application below properties should be set in the <strong>menifest.yml</strong> file.</p>\n<pre><code>env:\n    SESSION_TIMEOUT: 30\n    destinations: &gt;\n        [{\n            &quot;name&quot;:&quot;MY_API&quot;,\n            &quot;url&quot; :&quot;&lt;you_java_application_uri&gt;&quot;,\n            &quot;forwardAuthToken&quot;: true\n        }\n        ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25606515,"reputation":1,"user_id":19380526,"display_name":"Sayyed Ahmad Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675506517,"creation_date":1675351834,"answer_id":75325403,"question_id":65920078,"body_markdown":"I had the same problem while doing this sap tutorial (https://developers.sap.com/tutorials/btp-cf-buildpacks-node-create.html) and it was solved by adding the oath2-configuration to the `xs-security.json`:\r\n\r\n```json\r\n&quot;oauth2-configuration&quot;: {\r\n  &quot;token-validity&quot;: 604800,\r\n  &quot;refresh-token-validity&quot;: 2592000,\r\n  &quot;redirect-uris&quot;: [\r\n    &quot;https://&lt;App-router Url&gt;/**&quot;\r\n  ]\r\n},\r\n```\r\n","title":"SAP CF XSUAA Service - Error Message: Invalid redirect &lt;redirect_uri&gt;/login/callback did not matched the registered values","body":"<p>I had the same problem while doing this sap tutorial (<a href=\"https://developers.sap.com/tutorials/btp-cf-buildpacks-node-create.html\" rel=\"nofollow noreferrer\">https://developers.sap.com/tutorials/btp-cf-buildpacks-node-create.html</a>) and it was solved by adding the oath2-configuration to the <code>xs-security.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;oauth2-configuration&quot;: {\n  &quot;token-validity&quot;: 604800,\n  &quot;refresh-token-validity&quot;: 2592000,\n  &quot;redirect-uris&quot;: [\n    &quot;https://&lt;App-router Url&gt;/**&quot;\n  ]\n},\n</code></pre>\n"}],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3704,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675506517,"creation_date":1611753768,"question_id":65920078,"body_markdown":"Implementing SAP xsuaa service with java and deployed, accessing the application URL facing below issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Lbgq.png","title":"SAP CF XSUAA Service - Error Message: Invalid redirect &lt;redirect_uri&gt;/login/callback did not matched the registered values","body":"<p>Implementing SAP xsuaa service with java and deployed, accessing the application URL facing below issue.</p>\n<p><a href=\"https://i.stack.imgur.com/6Lbgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Lbgq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rest","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":1,"creation_date":1497952034,"post_id":44647938,"comment_id":76284159,"body_markdown":"While this may provide an answer, it&#39;s better to describe your code.","body":"While this may provide an answer, it&#39;s better to describe your code."}],"tags":[],"owner":{"account_id":5103782,"reputation":69,"user_id":4092537,"display_name":"steven snoeijen"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1497953642,"creation_date":1497947883,"answer_id":44647938,"question_id":44647937,"body_markdown":"    RestAssured.get(&quot;pictures?sort=name&quot;)\r\n                    .then()\r\n                    .body(&quot;[0].name&quot;, response -&gt; Matchers.lessThanOrEqualTo(response.path(&quot;[1].name&quot;)))\r\n\r\nExplanation: the body method gets the value (by path) of element `[0].name` then uses a `ResponseAwareMatcher` (lambda) to match the `[0].name` value with the value `[1].name` (by path) in the response.","title":"Rest-assured check sort","body":"<pre><code>RestAssured.get(\"pictures?sort=name\")\n                .then()\n                .body(\"[0].name\", response -&gt; Matchers.lessThanOrEqualTo(response.path(\"[1].name\")))\n</code></pre>\n\n<p>Explanation: the body method gets the value (by path) of element <code>[0].name</code> then uses a <code>ResponseAwareMatcher</code> (lambda) to match the <code>[0].name</code> value with the value <code>[1].name</code> (by path) in the response.</p>\n"},{"tags":[],"owner":{"account_id":12841249,"reputation":9,"user_id":9289233,"display_name":"Parthiban Rajasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675506412,"creation_date":1675506412,"answer_id":75344454,"question_id":44647937,"body_markdown":"We can use the jsonPath method in Rest Assured to check the order of the response body. You can retrieve the values of the &quot;name&quot; field for each element in the array and then compare the order of the retrieved values to the expected order. For example:\r\n\r\n\r\n    List&lt;String&gt; names = \r\n      given().\r\n      when().\r\n        get(&quot;&lt;your API endpoint here&gt;&quot;).\r\n      then().\r\n        extract().\r\n        jsonPath().getList(&quot;$.name&quot;);\r\n    \r\n    assertEquals(Arrays.asList(&quot;a&quot;, &quot;b&quot;), names);\r\n\r\nThis code retrieves the &quot;name&quot; field values for each element in the array and saves them as a list of strings. Then, it compares the retrieved values to the expected values using the assertEquals method. If the order of the values in the response body and the expected values match, the assertion will pass.","title":"Rest-assured check sort","body":"<p>We can use the jsonPath method in Rest Assured to check the order of the response body. You can retrieve the values of the &quot;name&quot; field for each element in the array and then compare the order of the retrieved values to the expected order. For example:</p>\n<pre><code>List&lt;String&gt; names = \n  given().\n  when().\n    get(&quot;&lt;your API endpoint here&gt;&quot;).\n  then().\n    extract().\n    jsonPath().getList(&quot;$.name&quot;);\n\nassertEquals(Arrays.asList(&quot;a&quot;, &quot;b&quot;), names);\n</code></pre>\n<p>This code retrieves the &quot;name&quot; field values for each element in the array and saves them as a list of strings. Then, it compares the retrieved values to the expected values using the assertEquals method. If the order of the values in the response body and the expected values match, the assertion will pass.</p>\n"}],"owner":{"account_id":5103782,"reputation":69,"user_id":4092537,"display_name":"steven snoeijen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1971,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675506412,"creation_date":1497947883,"question_id":44647937,"body_markdown":"How can I check the order of a response body (array) in Rest-assured.\r\n\r\nResponse body is like:\r\n\r\n    [\r\n        {&quot;name&quot;: &quot;a&quot;},\r\n        {&quot;name&quot;:&quot;b&quot;}\r\n    ]","title":"Rest-assured check sort","body":"<p>How can I check the order of a response body (array) in Rest-assured.</p>\n\n<p>Response body is like:</p>\n\n<pre><code>[\n    {\"name\": \"a\"},\n    {\"name\":\"b\"}\n]\n</code></pre>\n"},{"tags":["java","simpledateformat","date-formatting","date-conversion"],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424777330,"creation_date":1424777330,"answer_id":28694616,"question_id":28694206,"body_markdown":"If you are talking about converting a String in format:\r\n\r\n1140711 \r\n\r\nto \r\n\r\n07/11/2014\r\n\r\n\r\n\t\tDateFormat df1 = new SimpleDateFormat(&quot;yyddMM&quot;);\r\n\t\tDateFormat df2 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\tString dateString = &quot;1140711&quot;;\r\n\r\n\t\tSystem.out.println(df2.format(df1.parse(dateString.substring(1, dateString.length()))));\r\n\r\n","title":"Date formatting with Century","body":"<p>If you are talking about converting a String in format:</p>\n\n<p>1140711 </p>\n\n<p>to </p>\n\n<p>07/11/2014</p>\n\n<pre><code>    DateFormat df1 = new SimpleDateFormat(\"yyddMM\");\n    DateFormat df2 = new SimpleDateFormat(\"dd/MM/yyyy\");\n    String dateString = \"1140711\";\n\n    System.out.println(df2.format(df1.parse(dateString.substring(1, dateString.length()))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":155233,"reputation":38926,"user_id":371739,"accept_rate":61,"display_name":"Owen"},"score":0,"creation_date":1602620869,"post_id":28703088,"comment_id":113777504,"body_markdown":"Alas this is actually a common date format in some systems","body":"Alas this is actually a common date format in some systems"}],"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424801252,"creation_date":1424801252,"answer_id":28703088,"question_id":28694206,"body_markdown":"As far as I know the only date-time-library which is capable of processing century fields is Joda-Time.\r\n\r\n    LocalDate date = DateTimeFormat.forPattern(&quot;CyyMMdd&quot;).parseLocalDate(&quot;1140711&quot;);\r\n    System.out.println(&quot;Century=&quot; + date.getCenturyOfEra()); // 20\r\n    String usFormat = DateTimeFormat.forPattern(&quot;MM/dd/yyyy&quot;).print(date);\r\n    System.out.println(usFormat); // output: 07/11/2014\r\n\r\nAs you can see the input digit &quot;1&quot; for century is simply ignored because Joda-Time only evaluates the other fields to a valid date. Personally I would reject such a century input because we are in 21th of century with the century number 20, not 1. So Joda-Time has its limits here, but are you really sure that you have a century of 1 in your input, or is it just a typo?","title":"Date formatting with Century","body":"<p>As far as I know the only date-time-library which is capable of processing century fields is Joda-Time.</p>\n\n<pre><code>LocalDate date = DateTimeFormat.forPattern(\"CyyMMdd\").parseLocalDate(\"1140711\");\nSystem.out.println(\"Century=\" + date.getCenturyOfEra()); // 20\nString usFormat = DateTimeFormat.forPattern(\"MM/dd/yyyy\").print(date);\nSystem.out.println(usFormat); // output: 07/11/2014\n</code></pre>\n\n<p>As you can see the input digit \"1\" for century is simply ignored because Joda-Time only evaluates the other fields to a valid date. Personally I would reject such a century input because we are in 21th of century with the century number 20, not 1. So Joda-Time has its limits here, but are you really sure that you have a century of 1 in your input, or is it just a typo?</p>\n"},{"tags":[],"owner":{"account_id":149438,"reputation":1232,"user_id":361929,"display_name":"Umesh Rajbhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635383644,"creation_date":1635383644,"answer_id":69747167,"question_id":28694206,"body_markdown":"I had to do the opposite thing, convert date to cyyMMdd.\r\n\r\n        String centuryCharacterOfDateFormat(LocalDate valueDate) {\r\n        int year = valueDate.getYear();\r\n        int yearMinus1900 = year - 1900;\r\n\r\n        if (yearMinus1900 &lt; 0) {\r\n            throw new PipRuntimeException(&quot;Invalid value date, because it is before 1900. &quot; + valueDate);\r\n        } else if (yearMinus1900 &lt; 100) {\r\n            return &quot;0&quot;;\r\n        } else {\r\n            String strVal = String.valueOf(yearMinus1900);\r\n            char hundredthChar = strVal.charAt(strVal.length() - 3);\r\n            return String.valueOf(hundredthChar);\r\n        }\r\n    }\r\n\r\nYou could use the similar logic to do the opposite conversion. To get year, you could add 1900 and hundreds of the first character.","title":"Date formatting with Century","body":"<p>I had to do the opposite thing, convert date to cyyMMdd.</p>\n<pre><code>    String centuryCharacterOfDateFormat(LocalDate valueDate) {\n    int year = valueDate.getYear();\n    int yearMinus1900 = year - 1900;\n\n    if (yearMinus1900 &lt; 0) {\n        throw new PipRuntimeException(&quot;Invalid value date, because it is before 1900. &quot; + valueDate);\n    } else if (yearMinus1900 &lt; 100) {\n        return &quot;0&quot;;\n    } else {\n        String strVal = String.valueOf(yearMinus1900);\n        char hundredthChar = strVal.charAt(strVal.length() - 3);\n        return String.valueOf(hundredthChar);\n    }\n}\n</code></pre>\n<p>You could use the similar logic to do the opposite conversion. To get year, you could add 1900 and hundreds of the first character.</p>\n"},{"tags":[],"owner":{"account_id":14372270,"reputation":1,"user_id":10381695,"display_name":"Shantam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675506064,"creation_date":1675243855,"answer_id":75308087,"question_id":28694206,"body_markdown":"In below method in example date string follow the century date format &quot;CYYMMDD&quot; where C for century, YY for year, MM for month and DD for day.\r\nCentury values aredescribe below: \r\nif Century value is 0 then it will represent 20th century, years b/w  1900 to 1999. \r\nif Century value is 1 then it will represent 21st century, years b/w 2000 to 2999. \r\n\r\n\r\n```\r\npublic LocalDate convertedDate () {\r\n    String dateString = &quot;1230124&quot;;\r\n    \r\n    int century = Integer.parseInt(dateString.substring(0, 1));\r\n    int year = Integer.parseInt(dateString.substring(1, 3));\r\n    int month = Integer.parseInt(dateString.substring(3, 5));\r\n    int day = Integer.parseInt(dateString.substring(5, 7));\r\n    \r\n    LocalDate ld= LocalDate.of((century + 19) * 100 + year, month, day);\r\n    \r\n    System.out.printl**strong text**n(&quot;Converted Date : &quot;+ld);\r\n    return ld;\r\n}\r\n```","title":"Date formatting with Century","body":"<p>In below method in example date string follow the century date format &quot;CYYMMDD&quot; where C for century, YY for year, MM for month and DD for day.\nCentury values aredescribe below:\nif Century value is 0 then it will represent 20th century, years b/w  1900 to 1999.\nif Century value is 1 then it will represent 21st century, years b/w 2000 to 2999.</p>\n<pre><code>public LocalDate convertedDate () {\n    String dateString = &quot;1230124&quot;;\n    \n    int century = Integer.parseInt(dateString.substring(0, 1));\n    int year = Integer.parseInt(dateString.substring(1, 3));\n    int month = Integer.parseInt(dateString.substring(3, 5));\n    int day = Integer.parseInt(dateString.substring(5, 7));\n    \n    LocalDate ld= LocalDate.of((century + 19) * 100 + year, month, day);\n    \n    System.out.printl**strong text**n(&quot;Converted Date : &quot;+ld);\n    return ld;\n}\n</code></pre>\n"}],"owner":{"account_id":314813,"reputation":1151,"user_id":630209,"accept_rate":28,"display_name":"user630209"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7295,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1675506064,"creation_date":1424776153,"question_id":28694206,"body_markdown":"I there a way to format dates which contain century in it to common format.\r\nFormat date in cyymmdd  to MM/dd/yyyy.\r\n\r\nExample,\r\n\r\n    Convert 1140711 to o7/11/2014","title":"Date formatting with Century","body":"<p>I there a way to format dates which contain century in it to common format.\nFormat date in cyymmdd  to MM/dd/yyyy.</p>\n\n<p>Example,</p>\n\n<pre><code>Convert 1140711 to o7/11/2014\n</code></pre>\n"},{"tags":["java","android","timezone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394446627,"creation_date":1394446627,"answer_id":22297398,"question_id":22297255,"body_markdown":"The problem is that you&#39;re specifying the time zone just on the `Calendar` - which is *only* used to get the current instant in time, which doesn&#39;t depend on the time zone. You need to specify it on the format instead, so that it&#39;s applied when creating an appropriate text representation of that instant:\r\n\r\n    private void loadWeather() {\r\n        Date date = new Date(); // This is enough; it uses the current instant.\r\n        DateFormat df = DateFormat.getDateTimeInstance(\r\n            DateFormat.SHORT, DateFormat.SHORT, Locale.getDefault());\r\n        df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0400&quot;));\r\n        String myDate = df.format(date);\r\n        tv_time.setText(myDate);\r\n    }\r\n\r\nOr to inline even more:\r\n\r\n    private void loadWeather() {\r\n        DateFormat df = DateFormat.getDateTimeInstance(\r\n            DateFormat.SHORT, DateFormat.SHORT, Locale.getDefault());\r\n        df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0400&quot;));\r\n        tv_time.setText(df.format(new Date()));\r\n    }\r\n\r\n(This is assuming you really do want the short date/time format using the current locale.)","title":"Get date by utc/gmt in Android","body":"<p>The problem is that you're specifying the time zone just on the <code>Calendar</code> - which is <em>only</em> used to get the current instant in time, which doesn't depend on the time zone. You need to specify it on the format instead, so that it's applied when creating an appropriate text representation of that instant:</p>\n\n<pre><code>private void loadWeather() {\n    Date date = new Date(); // This is enough; it uses the current instant.\n    DateFormat df = DateFormat.getDateTimeInstance(\n        DateFormat.SHORT, DateFormat.SHORT, Locale.getDefault());\n    df.setTimeZone(TimeZone.getTimeZone(\"GMT+0400\"));\n    String myDate = df.format(date);\n    tv_time.setText(myDate);\n}\n</code></pre>\n\n<p>Or to inline even more:</p>\n\n<pre><code>private void loadWeather() {\n    DateFormat df = DateFormat.getDateTimeInstance(\n        DateFormat.SHORT, DateFormat.SHORT, Locale.getDefault());\n    df.setTimeZone(TimeZone.getTimeZone(\"GMT+0400\"));\n    tv_time.setText(df.format(new Date()));\n}\n</code></pre>\n\n<p>(This is assuming you really do want the short date/time format using the current locale.)</p>\n"},{"tags":[],"owner":{"account_id":3956919,"reputation":9682,"user_id":3265095,"display_name":"Hamid Shatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394447054,"creation_date":1394446681,"answer_id":22297433,"question_id":22297255,"body_markdown":"Use `SimpleDateFormat` as below and set the `TimeZone` to the `SimpleDateFormat` object...I think, you will get the problem right.\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n\r\n        SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;dd:MM:yyyy HH:mm:ss&quot;);\r\n        dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0400&quot;));\r\n\r\n        String date = dateFormatGmt.format(calendar.getTime());","title":"Get date by utc/gmt in Android","body":"<p>Use <code>SimpleDateFormat</code> as below and set the <code>TimeZone</code> to the <code>SimpleDateFormat</code> object...I think, you will get the problem right.</p>\n\n<pre><code>    Calendar calendar = Calendar.getInstance();\n\n    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"dd:MM:yyyy HH:mm:ss\");\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT+0400\"));\n\n    String date = dateFormatGmt.format(calendar.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675505172,"creation_date":1675505172,"answer_id":75344350,"question_id":22297255,"body_markdown":"&gt; I want to display the time in some Country, and the TimeZone is GMT+4.\r\n\r\nGMT+4 is **not a time zone**. A time zone is represented as *Region/City* e.g. *Europe/London*. Check the [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) for more examples. GMT+4 means time zone **offset** i.e. 4 hours ahead of UTC and therefore, in order to get the equivalent date-time at UTC, one has to subtract 4 hours from the date-time at GMT+4.\r\n\r\nGMT+4 is not the standard way to represent time zone offset\r\n--\r\n\r\nThe standard format is `+/-HH:mm:ss` or `Z` which refers to `+00:00` offset. In most cases, you will see `+/-HH:mm` e.g. `+06:00`. Check [this Wikipedia link](https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC) to learn more about it.\r\n\r\njava.time\r\n--\r\n\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nSolution using `java.time`\r\n--\r\n\r\nTo represent a date-time with time zone **offset**, the Java 8+ standard library provides [`java.time.OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html).\r\n\r\n**Demo:**\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            OffsetDateTime now = OffsetDateTime.now(ZoneOffset.of(&quot;+04:00&quot;));\r\n            System.out.println(now);\r\n    \r\n            // The corresponding date-time at UTC\r\n            System.out.println(now.toInstant());\r\n            // Alternatively\r\n            System.out.println(now.withOffsetSameInstant(ZoneOffset.UTC));\r\n        }\r\n    }\r\n\r\n**The output from a sample run**:\r\n\r\n    2023-02-04T14:08:58.657721+04:00\r\n    2023-02-04T10:08:58.657721Z\r\n    2023-02-04T10:08:58.657721Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/vK9Gdx)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Get date by utc/gmt in Android","body":"<blockquote>\n<p>I want to display the time in some Country, and the TimeZone is GMT+4.</p>\n</blockquote>\n<p>GMT+4 is <strong>not a time zone</strong>. A time zone is represented as <em>Region/City</em> e.g. <em>Europe/London</em>. Check the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a> for more examples. GMT+4 means time zone <strong>offset</strong> i.e. 4 hours ahead of UTC and therefore, in order to get the equivalent date-time at UTC, one has to subtract 4 hours from the date-time at GMT+4.</p>\n<h2>GMT+4 is not the standard way to represent time zone offset</h2>\n<p>The standard format is <code>+/-HH:mm:ss</code> or <code>Z</code> which refers to <code>+00:00</code> offset. In most cases, you will see <code>+/-HH:mm</code> e.g. <code>+06:00</code>. Check <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\" rel=\"nofollow noreferrer\">this Wikipedia link</a> to learn more about it.</p>\n<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<h2>Solution using <code>java.time</code></h2>\n<p>To represent a date-time with time zone <strong>offset</strong>, the Java 8+ standard library provides <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>java.time.OffsetDateTime</code></a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        OffsetDateTime now = OffsetDateTime.now(ZoneOffset.of(&quot;+04:00&quot;));\n        System.out.println(now);\n\n        // The corresponding date-time at UTC\n        System.out.println(now.toInstant());\n        // Alternatively\n        System.out.println(now.withOffsetSameInstant(ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p><strong>The output from a sample run</strong>:</p>\n<pre><code>2023-02-04T14:08:58.657721+04:00\n2023-02-04T10:08:58.657721Z\n2023-02-04T10:08:58.657721Z\n</code></pre>\n<p><a href=\"https://ideone.com/vK9Gdx\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":195896,"reputation":3224,"user_id":439058,"accept_rate":71,"display_name":"Tsunaze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22297398,"answer_count":3,"score":2,"last_activity_date":1675505172,"creation_date":1394446295,"question_id":22297255,"body_markdown":"I want to display the time in some Country, and the TimeZone is GMT+4.\r\n\r\n    private void loadWeather(){\r\n\t\tTimeZone tz = TimeZone.getTimeZone(&quot;GMT+0400&quot;);\r\n\t\tCalendar cal = Calendar.getInstance(tz);\r\n\t\tDate date = cal.getTime();\r\n\t\tDateFormat df = DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, Locale.getDefault());\r\n\t\tString myDate = df.format(date);\r\n\t\ttv_time.setText(myDate);\r\n\t}\r\n\r\nI&#39;ve tried this, but it gives me my time, and not the other one","title":"Get date by utc/gmt in Android","body":"<p>I want to display the time in some Country, and the TimeZone is GMT+4.</p>\n\n<pre><code>private void loadWeather(){\n    TimeZone tz = TimeZone.getTimeZone(\"GMT+0400\");\n    Calendar cal = Calendar.getInstance(tz);\n    Date date = cal.getTime();\n    DateFormat df = DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, Locale.getDefault());\n    String myDate = df.format(date);\n    tv_time.setText(myDate);\n}\n</code></pre>\n\n<p>I've tried this, but it gives me my time, and not the other one</p>\n"},{"tags":["java","unit-testing","testing","mockito","junit4"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675502827,"post_id":75344113,"comment_id":132946054,"body_markdown":"Have you tried a newer version of Mockito?  As far as I remember, 1.10.19 came out in 2011.  I&#39;ve never tried using it with Java 18, although I can&#39;t think of any good reason why it wouldn&#39;t work.","body":"Have you tried a newer version of Mockito?  As far as I remember, 1.10.19 came out in 2011.  I&#39;ve never tried using it with Java 18, although I can&#39;t think of any good reason why it wouldn&#39;t work."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1675504704,"post_id":75344113,"comment_id":132946322,"body_markdown":"Fully agree with @DawoodibnKareem (and for why wouldn’t work with Java18, there’s this: https://stackoverflow.com/a/69388180/681444 ).  Yes MavenCentral shows Mockito-all 1.10.19 came out in 2014 , and The Mockito site https://site.mockito.org/ states it has been discontinued, instead saying the “Recommended way of getting Mockito is declaring a dependency on “mockito-core” ” ( note “core “, NOT “all”). The latest version of core is 5.1.1.","body":"Fully agree with @DawoodibnKareem (and for why wouldn’t work with Java18, there’s this: <a href=\"https://stackoverflow.com/a/69388180/681444\">stackoverflow.com/a/69388180/681444</a> ).  Yes MavenCentral shows Mockito-all 1.10.19 came out in 2014 , and The Mockito site <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">site.mockito.org</a> states it has been discontinued, instead saying the “Recommended way of getting Mockito is declaring a dependency on “mockito-core” ” ( note “core “, NOT “all”). The latest version of core is 5.1.1."},{"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"score":0,"creation_date":1675509955,"post_id":75344113,"comment_id":132947023,"body_markdown":"Try adding `@InjectMocks`  to UserService in your test class.","body":"Try adding <code>@InjectMocks</code>  to UserService in your test class."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675559544,"post_id":75344113,"comment_id":132955607,"body_markdown":"2014, really?  I thought it was way earlier than that.","body":"2014, really?  I thought it was way earlier than that."}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675504629,"creation_date":1675504629,"answer_id":75344290,"question_id":75344113,"body_markdown":"You have to upgrade the version of Mockito above 1.x. Different programmers described problems using Mockito 1.x with Java 11. And Mockito explained &quot;JDK 11 is fully supported starting 2.23.&quot; And therefore newer JDK versions.\r\n\r\nhttps://github.com/mockito/mockito-cglib/issues/1\r\n(via https://shibboleth.atlassian.net/browse/JPAR-133)","title":"Trouble with Mockito (Unit test) in java","body":"<p>You have to upgrade the version of Mockito above 1.x. Different programmers described problems using Mockito 1.x with Java 11. And Mockito explained &quot;JDK 11 is fully supported starting 2.23.&quot; And therefore newer JDK versions.</p>\n<p><a href=\"https://github.com/mockito/mockito-cglib/issues/1\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito-cglib/issues/1</a>\n(via <a href=\"https://shibboleth.atlassian.net/browse/JPAR-133\" rel=\"nofollow noreferrer\">https://shibboleth.atlassian.net/browse/JPAR-133</a>)</p>\n"}],"owner":{"account_id":24907711,"reputation":5,"user_id":18777581,"display_name":"dthieu2002"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75344290,"answer_count":1,"score":0,"last_activity_date":1675504629,"creation_date":1675502679,"question_id":75344113,"body_markdown":"My mock is version mockito-all-1.10.19.\r\nJava version &quot;18&quot; 2022-03-22\r\nJunit version 4\r\n\r\ninterface UserDao                .......................                                 \r\n```\r\npackage fita.application;\r\n\r\npublic interface UserDao {\r\n\tboolean createUser(String email);\r\n}\r\n```\r\n\r\ninterface UserService      ...................                                               \r\n```\r\npackage fita.application;\r\n\r\npublic interface UserService {\r\n\tString createUser(String email);\r\n}\r\n```\r\n\r\nClass UserServiceImpl                                                                      \r\n```\r\npackage fita.application;\r\n\r\npublic class UserServiceImpl implements UserService{\r\n\tprivate UserDao userDao;\r\n\t\r\n\tpublic UserServiceImpl(UserDao userDao) {\r\n\t\tthis.userDao = userDao;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String createUser(String email) {\r\n\t\tboolean rs = this.userDao.createUser(email);\r\n\t\treturn rs ? &quot;SUCCESS&quot; : &quot;FAILED&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nMy UserServiceImplTest class                 ..........................\r\n```\r\npackage fita.junittest;\r\n\r\nimport org.junit.Assert;\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.runners.MockitoJUnitRunner;\r\n\r\nimport fita.application.UserDao;\r\nimport fita.application.UserService;\r\nimport fita.application.UserServiceImpl;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class UserServiceImplTest {\r\n\t@Mock\r\n\tprivate UserDao userDao;\r\n\tprivate UserService userService;\r\n\t\r\n\t\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tuserService = new UserServiceImpl(userDao);\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() throws Exception {\r\n\t\tuserService = null;\r\n\t}\r\n\t\r\n\t\r\n\t@Test\r\n\tpublic void createUser_WhenEmailExisted_ReturnFailed() {\r\n\t\tMockito.when(userDao.createUser(&quot;thuanhieu02&quot;)).thenReturn(false);\r\n\t\t\r\n\t\tAssert.assertEquals(&quot;FAILED&quot;, userDao.createUser(&quot;thuanhieu02&quot;));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void createUser_WhenEmailNotExisted_ReturnSuccess() {\r\n\t\tMockito.when(userDao.createUser(&quot;thuanhieu03&quot;)).thenReturn(true);\r\n\t\t\r\n\t\tAssert.assertEquals(&quot;SUCCESS&quot;, userDao.createUser(&quot;thuanhieu03&quot;));\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThis is my failure trace: \r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n\tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n\tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n\tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n\tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n\tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n\tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:319)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n\tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @48140564\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n\tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n\t... 43 more\r\n\r\n\r\n```\r\n\r\nI try to search and find in gg, youtube but not find my issue.","title":"Trouble with Mockito (Unit test) in java","body":"<p>My mock is version mockito-all-1.10.19.\nJava version &quot;18&quot; 2022-03-22\nJunit version 4</p>\n<p>interface UserDao                .......................</p>\n<pre><code>package fita.application;\n\npublic interface UserDao {\n    boolean createUser(String email);\n}\n</code></pre>\n<p>interface UserService      ...................</p>\n<pre><code>package fita.application;\n\npublic interface UserService {\n    String createUser(String email);\n}\n</code></pre>\n<p>Class UserServiceImpl</p>\n<pre><code>package fita.application;\n\npublic class UserServiceImpl implements UserService{\n    private UserDao userDao;\n    \n    public UserServiceImpl(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    @Override\n    public String createUser(String email) {\n        boolean rs = this.userDao.createUser(email);\n        return rs ? &quot;SUCCESS&quot; : &quot;FAILED&quot;;\n    }\n    \n}\n</code></pre>\n<p>My UserServiceImplTest class                 ..........................</p>\n<pre><code>package fita.junittest;\n\nimport org.junit.Assert;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.runners.MockitoJUnitRunner;\n\nimport fita.application.UserDao;\nimport fita.application.UserService;\nimport fita.application.UserServiceImpl;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class UserServiceImplTest {\n    @Mock\n    private UserDao userDao;\n    private UserService userService;\n    \n    \n    @Before\n    public void setUp() throws Exception {\n        userService = new UserServiceImpl(userDao);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        userService = null;\n    }\n    \n    \n    @Test\n    public void createUser_WhenEmailExisted_ReturnFailed() {\n        Mockito.when(userDao.createUser(&quot;thuanhieu02&quot;)).thenReturn(false);\n        \n        Assert.assertEquals(&quot;FAILED&quot;, userDao.createUser(&quot;thuanhieu02&quot;));\n    }\n    \n    @Test\n    public void createUser_WhenEmailNotExisted_ReturnSuccess() {\n        Mockito.when(userDao.createUser(&quot;thuanhieu03&quot;)).thenReturn(true);\n        \n        Assert.assertEquals(&quot;SUCCESS&quot;, userDao.createUser(&quot;thuanhieu03&quot;));\n    }\n    \n}\n</code></pre>\n<p>This is my failure trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:319)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @48140564\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 43 more\n\n\n</code></pre>\n<p>I try to search and find in gg, youtube but not find my issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1675449554,"post_id":75339778,"comment_id":132938996,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen check the [help/on-topic] to see which questions are on-topic on this site.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then check the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> to see which questions are on-topic on this site. Please show your attempts you have tried and the problems/error messages you get from your attempts."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675449670,"creation_date":1675449670,"answer_id":75339813,"question_id":75339778,"body_markdown":"Multiply the digit to add by increasing powers of 10 before summing with the current number.\r\n\r\n```java\r\nint num = 0, pow = 1;\r\nnum += 5 * pow;\r\npow *= 10;\r\nnum += 3 * pow;\r\npow *= 10;\r\nnum += 4 * pow; // num = 435 at this point\r\npow *= 10;\r\n// ...\r\n```","title":"How do you add digits to the front of a number?","body":"<p>Multiply the digit to add by increasing powers of 10 before summing with the current number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int num = 0, pow = 1;\nnum += 5 * pow;\npow *= 10;\nnum += 3 * pow;\npow *= 10;\nnum += 4 * pow; // num = 435 at this point\npow *= 10;\n// ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10623204,"reputation":244,"user_id":7830459,"display_name":"Alex Li"},"score":0,"creation_date":1680199313,"post_id":75339869,"comment_id":133861896,"body_markdown":"I should mention that because of how doubles work, this method will work for any output number that fits into a 32-bit (in fact, 52-bit) integer. So if you&#39;re in a language like c and using ints it&#39;s actually very valid","body":"I should mention that because of how doubles work, this method will work for any output number that fits into a 32-bit (in fact, 52-bit) integer. So if you&#39;re in a language like c and using ints it&#39;s actually very valid"}],"tags":[],"owner":{"account_id":10623204,"reputation":244,"user_id":7830459,"display_name":"Alex Li"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1675450039,"creation_date":1675450039,"answer_id":75339869,"question_id":75339778,"body_markdown":"You can use some math, in python\r\n```python\r\nimport math\r\ndef addLeft(digit, num):\r\n    return digit * 10 ** int(math.log10(num) + 1) + num\r\n```\r\nNote that this might fail for very large numbers on account of precision issues\r\n```bash\r\n&gt;&gt;&gt; addLeft(2, 100)\r\n2100\r\n&gt;&gt;&gt; addLeft(3, 99)\r\n399\r\n&gt;&gt;&gt; addLeft(6, 99999999999999)\r\n699999999999999\r\n&gt;&gt;&gt; addLeft(5, 999999999999999)\r\n50999999999999999  (oops)\r\n```","title":"How do you add digits to the front of a number?","body":"<p>You can use some math, in python</p>\n<pre class=\"lang-py prettyprint-override\"><code>import math\ndef addLeft(digit, num):\n    return digit * 10 ** int(math.log10(num) + 1) + num\n</code></pre>\n<p>Note that this might fail for very large numbers on account of precision issues</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt;&gt;&gt; addLeft(2, 100)\n2100\n&gt;&gt;&gt; addLeft(3, 99)\n399\n&gt;&gt;&gt; addLeft(6, 99999999999999)\n699999999999999\n&gt;&gt;&gt; addLeft(5, 999999999999999)\n50999999999999999  (oops)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097291,"reputation":400,"user_id":4757683,"display_name":"Shaik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675504414,"creation_date":1675450122,"answer_id":75339883,"question_id":75339778,"body_markdown":"    int num = 123;\r\n    int digits = 456;\r\n\r\n    int powerOfTen = (int) Math.pow(10, (int) (Math.log10(digits) + 1));\r\n\r\n    int finalNum = digits * powerOfTen + num;\r\n\r\n    System.out.println(finalNum);  // Output: 456123\r\n\r\nThe number of digits in digits is calculated using `Math.log10` and `Math.pow`, and then used to determine the appropriate power of 10 to multiply digits by. The result is then added to `num` to obtain the final number with the added digits.\r\n","title":"How do you add digits to the front of a number?","body":"<pre><code>int num = 123;\nint digits = 456;\n\nint powerOfTen = (int) Math.pow(10, (int) (Math.log10(digits) + 1));\n\nint finalNum = digits * powerOfTen + num;\n\nSystem.out.println(finalNum);  // Output: 456123\n</code></pre>\n<p>The number of digits in digits is calculated using <code>Math.log10</code> and <code>Math.pow</code>, and then used to determine the appropriate power of 10 to multiply digits by. The result is then added to <code>num</code> to obtain the final number with the added digits.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675451802,"creation_date":1675451153,"answer_id":75340035,"question_id":75339778,"body_markdown":"You can use `String` for example.\r\n\r\n```java\r\npublic static int addLeft(int cur, int num) {\r\n    return num == 0 ? cur : Integer.parseInt(cur + String.valueOf(num));\r\n}\r\n```\r\n\r\nIn case you want to avoid working with `String`, you can use recursion instead.\r\n\r\n```java\r\npublic static int addLeft(int cur, int num) {\r\n    return num == 0 ? cur : addLeft(cur, num / 10) * 10 + num % 10;\r\n}\r\n```","title":"How do you add digits to the front of a number?","body":"<p>You can use <code>String</code> for example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int addLeft(int cur, int num) {\n    return num == 0 ? cur : Integer.parseInt(cur + String.valueOf(num));\n}\n</code></pre>\n<p>In case you want to avoid working with <code>String</code>, you can use recursion instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int addLeft(int cur, int num) {\n    return num == 0 ? cur : addLeft(cur, num / 10) * 10 + num % 10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18238807,"reputation":51,"user_id":13276211,"display_name":"FrozenBanana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675454428,"creation_date":1675454428,"answer_id":75340497,"question_id":75339778,"body_markdown":"An example without the use of libraries could be this:\r\n\r\nFirst, get the number of digits. Then calculate the number you have to add to your initial number. The sum of these two numbers is the result you&#39;re after.\r\n\r\n    private int addNumberInFrontOf(int initialNumber, int initialNumberToAdd){\r\n        int numberOfDigits = getDigits(initialNumber);\r\n\r\n        int getActualNumberToAdd = getNumberToAdd(initialNumberToAdd, numberOfDigits);\r\n\r\n        return initialNumber + getActualNumberToAdd;\r\n    }\r\n\r\nTo calculate the number of digits, you can count the number of times you can divide the initial number by 10. Notice you need to use a `do-while` loop because otherwise the loop wouldn&#39;t be triggered if your initial number was 0.\r\n\r\n    private int getDigits(int number) {\r\n        int count = 0;\r\n\r\n        do {\r\n            number = number / 10;\r\n            count += 1;\r\n        } while (number != 0);\r\n\r\n        return count;\r\n    }\r\n\r\nCalculate the number you need to add to your initial number by multiplying the initial number to add with the magnitude. The magnitude simply is 1 multiplied with 10 for every digit in the initial number.\r\n\r\n    private int getNumberToAdd(int number, int numberOfDigits) {\r\n        int magnitude = 1;\r\n        for (int i = 0; i &lt; numberOfDigits; i++) {\r\n            magnitude *= 10;\r\n        }\r\n        return number * magnitude;\r\n    }\r\n\r\nFor example, `addNumberInFrontOf(456, 123)` would result in `123456`. Of course, this method won&#39;t work when you use positive and negative numbers combined.\r\n\r\n\r\n","title":"How do you add digits to the front of a number?","body":"<p>An example without the use of libraries could be this:</p>\n<p>First, get the number of digits. Then calculate the number you have to add to your initial number. The sum of these two numbers is the result you're after.</p>\n<pre><code>private int addNumberInFrontOf(int initialNumber, int initialNumberToAdd){\n    int numberOfDigits = getDigits(initialNumber);\n\n    int getActualNumberToAdd = getNumberToAdd(initialNumberToAdd, numberOfDigits);\n\n    return initialNumber + getActualNumberToAdd;\n}\n</code></pre>\n<p>To calculate the number of digits, you can count the number of times you can divide the initial number by 10. Notice you need to use a <code>do-while</code> loop because otherwise the loop wouldn't be triggered if your initial number was 0.</p>\n<pre><code>private int getDigits(int number) {\n    int count = 0;\n\n    do {\n        number = number / 10;\n        count += 1;\n    } while (number != 0);\n\n    return count;\n}\n</code></pre>\n<p>Calculate the number you need to add to your initial number by multiplying the initial number to add with the magnitude. The magnitude simply is 1 multiplied with 10 for every digit in the initial number.</p>\n<pre><code>private int getNumberToAdd(int number, int numberOfDigits) {\n    int magnitude = 1;\n    for (int i = 0; i &lt; numberOfDigits; i++) {\n        magnitude *= 10;\n    }\n    return number * magnitude;\n}\n</code></pre>\n<p>For example, <code>addNumberInFrontOf(456, 123)</code> would result in <code>123456</code>. Of course, this method won't work when you use positive and negative numbers combined.</p>\n"}],"owner":{"account_id":27697313,"reputation":21,"user_id":21142726,"display_name":"yayaayayayaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1675504414,"creation_date":1675449430,"question_id":75339778,"body_markdown":"How would you add digits to the beginning of a number (left hand side) without using a string? \r\n\r\n\r\n\r\nI know that if you try this:\r\n\r\n(Some psuedo code)\r\n\r\nLet&#39;s say I try to make number 534\r\n\r\n    int current = 5;\r\n    int num = 0;\r\n    \r\n    num = (num*10) +current; \r\n\r\nthen \r\n\r\n    int current = 3;\r\n    int num = 5\r\n    \r\n    num = (num*10) + current;\r\n\r\n**would make: 53**\r\n\r\nthen\r\n\r\n    int current = 4;\r\n    int num = 53;\r\n    \r\n    num = (num*10) + current;\r\n\r\n**would make 534**\r\n\r\nIt would keep adding numbers to the right hand side of the number.\r\n\r\nHowever, I am a bit confused on how you would do the opposite. How would you add numbers on the left, so instead of 534 it makes 435?","title":"How do you add digits to the front of a number?","body":"<p>How would you add digits to the beginning of a number (left hand side) without using a string?</p>\n<p>I know that if you try this:</p>\n<p>(Some psuedo code)</p>\n<p>Let's say I try to make number 534</p>\n<pre><code>int current = 5;\nint num = 0;\n\nnum = (num*10) +current; \n</code></pre>\n<p>then</p>\n<pre><code>int current = 3;\nint num = 5\n\nnum = (num*10) + current;\n</code></pre>\n<p><strong>would make: 53</strong></p>\n<p>then</p>\n<pre><code>int current = 4;\nint num = 53;\n\nnum = (num*10) + current;\n</code></pre>\n<p><strong>would make 534</strong></p>\n<p>It would keep adding numbers to the right hand side of the number.</p>\n<p>However, I am a bit confused on how you would do the opposite. How would you add numbers on the left, so instead of 534 it makes 435?</p>\n"},{"tags":["python","java","flutter","react-native","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":25389040,"reputation":21,"user_id":19200372,"display_name":"Benard Agustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675504404,"creation_date":1675504404,"answer_id":75344271,"question_id":74840075,"body_markdown":"On android/app/build.gradle\r\nAdd\r\naaptOptions {\r\n        noCompress &#39;tflite&#39;\r\n        noCompress &#39;lite&#39;\r\n    }\r\n\r\nEnsure you use more recently version\r\nCheck on https://pub.dev/packages/tflite\r\nThe last version ","title":"Action recognition mobile Application","body":"<p>On android/app/build.gradle\nAdd\naaptOptions {\nnoCompress 'tflite'\nnoCompress 'lite'\n}</p>\n<p>Ensure you use more recently version\nCheck on <a href=\"https://pub.dev/packages/tflite\" rel=\"nofollow noreferrer\">https://pub.dev/packages/tflite</a>\nThe last version</p>\n"}],"owner":{"account_id":25439154,"reputation":39,"user_id":19242402,"display_name":"Tiran Jayasekara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675504404,"creation_date":1671352909,"question_id":74840075,"body_markdown":"I am going to create a mobile application for dynamic sign language using action recognition. is it possible? what is the best technology for that? how can I start it? \r\n\r\nI am trying to make a flutter application. but there tflite and flutter application display some error.\r\n&quot;The plugin tflite uses a deprecated version of the Android embedding. To avoid unexpected runtime failures, or future build failures, try to see if this plugin supports the Android V2 embedding. Otherwise, consider removing it since a future release of Flutter will remove these deprecated APIs.&quot;\r\n\r\nhow can I create this?\r\n","title":"Action recognition mobile Application","body":"<p>I am going to create a mobile application for dynamic sign language using action recognition. is it possible? what is the best technology for that? how can I start it?</p>\n<p>I am trying to make a flutter application. but there tflite and flutter application display some error.\n&quot;The plugin tflite uses a deprecated version of the Android embedding. To avoid unexpected runtime failures, or future build failures, try to see if this plugin supports the Android V2 embedding. Otherwise, consider removing it since a future release of Flutter will remove these deprecated APIs.&quot;</p>\n<p>how can I create this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1675476730,"post_id":75342506,"comment_id":132943675,"body_markdown":"Split the string on a known token, maybe the space, trim the numeric element (probably the second part of the resulting split) and parse that. Maybe start with [`String#split`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#split(java.lang.String)); for [examples](https://www.baeldung.com/string/split)","body":"Split the string on a known token, maybe the space, trim the numeric element (probably the second part of the resulting split) and parse that. Maybe start with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#split</code></a>; for <a href=\"https://www.baeldung.com/string/split\" rel=\"nofollow noreferrer\">examples</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675481354,"post_id":75342506,"comment_id":132944020,"body_markdown":"Where does this label come from? If you&#39;re building a GUI application (e.g., Swing, JavaFX, etc), then I would reconsider if using this label is the proper way to get the user&#39;s input for this &quot;height&quot;. Labels are not meant for input.","body":"Where does this label come from? If you&#39;re building a GUI application (e.g., Swing, JavaFX, etc), then I would reconsider if using this label is the proper way to get the user&#39;s input for this &quot;height&quot;. Labels are not meant for input."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675478958,"creation_date":1675478958,"answer_id":75342634,"question_id":75342506,"body_markdown":"Split your text to get the number portion. \r\n\r\n    String[] parts = input.split( &quot; &quot; ) ;\r\n\r\nGrab the number part. \r\n\r\n    String numberPart = parts[ 1 ] ;\r\n\r\nParse as a `BigDecimal` if you want accuracy. \r\n\r\n    BigDecimal number = new BigDecimal ( numberPart ) ;\r\n\r\nParse as a `double` if you want speed. \r\n\r\n    double number = Double.parseDouble( numberPart ) ;","title":"How to take data from a string with letters and numbers and turn the number part into a double variable?","body":"<p>Split your text to get the number portion.</p>\n<pre><code>String[] parts = input.split( &quot; &quot; ) ;\n</code></pre>\n<p>Grab the number part.</p>\n<pre><code>String numberPart = parts[ 1 ] ;\n</code></pre>\n<p>Parse as a <code>BigDecimal</code> if you want accuracy.</p>\n<pre><code>BigDecimal number = new BigDecimal ( numberPart ) ;\n</code></pre>\n<p>Parse as a <code>double</code> if you want speed.</p>\n<pre><code>double number = Double.parseDouble( numberPart ) ;\n</code></pre>\n"}],"owner":{"account_id":27698666,"reputation":1,"user_id":21143749,"display_name":"Flyingpigs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675503768,"answer_count":1,"score":-1,"last_activity_date":1675503731,"creation_date":1675476166,"question_id":75342506,"body_markdown":"I have a label which contains this: Height: 5.36. How would I take the 5.36 part and turn that into its own double variable?\r\n\r\nI have tried `numVariable = Double.parseDouble(label.getText())`, but Java obviously doesn&#39;t like this as it tries to turn all of it into a double.\r\n\r\n","title":"How to take data from a string with letters and numbers and turn the number part into a double variable?","body":"<p>I have a label which contains this: Height: 5.36. How would I take the 5.36 part and turn that into its own double variable?</p>\n<p>I have tried <code>numVariable = Double.parseDouble(label.getText())</code>, but Java obviously doesn't like this as it tries to turn all of it into a double.</p>\n"},{"tags":["java","spring-boot","spring-mvc","servlets"],"owner":{"account_id":17031510,"reputation":29,"user_id":12321592,"display_name":"Neha Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675503686,"answer_count":0,"score":0,"last_activity_date":1675503665,"creation_date":1675499464,"question_id":75343862,"body_markdown":"I&#39;m using HandlerInterceptor to do some processing afterCompletion of request, for that I need request body. Once I read it is not processing further.    \r\n\r\n```\r\n@Component\r\npublic class GeneralInterceptor implements HandlerInterceptor {\r\n\tprivate static org.slf4j.Logger log = LoggerFactory.getLogger(GeneralInterceptor.class);\r\n\tprivate Map&lt;String, String&gt; jsonRequest;\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\t\tif (&quot;POST&quot;.equalsIgnoreCase(request.getMethod()) || &quot;PUT&quot;.equalsIgnoreCase(request.getMethod())) {\r\n\t\t\tbyte[] inputStreamBytes \t\t\t\t\t= StreamUtils.copyToByteArray(request.getInputStream());\r\n\t\t\tjsonRequest \t\t\t\t\t\t\t\t= new ObjectMapper().readValue(inputStreamBytes, Map.class);\r\n\t\t}else {\r\n\t\t\tjsonRequest\t\t\t\t\t\t\t\t\t= null;\r\n\t\t}\r\n\t\treturn\ttrue;\r\n\t}\r\n\t@Override\r\n\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\t\tSystem.out.println(&quot;postHandle Interceptor&quot;);\r\n\t}\r\n\t@Override\r\n\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\r\n\t\t\tthrows Exception {\r\n\t\tif (ex != null) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;afterCompletion&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nHow can I read request body without stopping further processing?","title":"HttpServletRequest body lose after read it once","body":"<p>I'm using HandlerInterceptor to do some processing afterCompletion of request, for that I need request body. Once I read it is not processing further.</p>\n<pre><code>@Component\npublic class GeneralInterceptor implements HandlerInterceptor {\n    private static org.slf4j.Logger log = LoggerFactory.getLogger(GeneralInterceptor.class);\n    private Map&lt;String, String&gt; jsonRequest;\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        if (&quot;POST&quot;.equalsIgnoreCase(request.getMethod()) || &quot;PUT&quot;.equalsIgnoreCase(request.getMethod())) {\n            byte[] inputStreamBytes                     = StreamUtils.copyToByteArray(request.getInputStream());\n            jsonRequest                                 = new ObjectMapper().readValue(inputStreamBytes, Map.class);\n        }else {\n            jsonRequest                                 = null;\n        }\n        return  true;\n    }\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n            ModelAndView modelAndView) throws Exception {\n        System.out.println(&quot;postHandle Interceptor&quot;);\n    }\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\n            throws Exception {\n        if (ex != null) {\n            ex.printStackTrace();\n        }\n        System.out.println(&quot;afterCompletion&quot;);\n    }\n}\n</code></pre>\n<p>How can I read request body without stopping further processing?</p>\n"},{"tags":["java","spring-boot","digital-ocean"],"comments":[{"owner":{"account_id":10859295,"reputation":768,"user_id":7984621,"display_name":"S. Anushan"},"score":0,"creation_date":1625809442,"post_id":68311204,"comment_id":120731147,"body_markdown":"Do you need tomcat dependency? Because spring by default have tomcat jar. Can you comment that tomcat dependency and try again?","body":"Do you need tomcat dependency? Because spring by default have tomcat jar. Can you comment that tomcat dependency and try again?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1625810025,"post_id":68311204,"comment_id":120731291,"body_markdown":"There should be some logging produced earlier in startup that shows why Tomcat couldn’t start. Can you share the complete output of the attempt to start your app?","body":"There should be some logging produced earlier in startup that shows why Tomcat couldn’t start. Can you share the complete output of the attempt to start your app?"}],"answers":[{"tags":[],"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675435092,"creation_date":1675435092,"answer_id":75337218,"question_id":68311204,"body_markdown":"The error says: `None of the [protocols] specified are supported by the SSL engine : [[TSLv1.2]]`  \r\n\r\nYou have a typo in protocol name `TSLv1.2` -&gt; `TLSv1.2`\r\n\r\nAlso, there is a typo in cipher name, it must be `TLS_AES_256_GCM_SHA384`","title":"How to debug Springboot &quot;Failed to start bean &#39;webServerStartStop&#39;... Unable to start embedded Tomcat server on Digital Ocean droplet","body":"<p>The error says: <code>None of the [protocols] specified are supported by the SSL engine : [[TSLv1.2]]</code></p>\n<p>You have a typo in protocol name <code>TSLv1.2</code> -&gt; <code>TLSv1.2</code></p>\n<p>Also, there is a typo in cipher name, it must be <code>TLS_AES_256_GCM_SHA384</code></p>\n"}],"owner":{"account_id":22135368,"reputation":1,"user_id":16386257,"display_name":"murixum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2293,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675503363,"creation_date":1625804162,"question_id":68311204,"body_markdown":"I&#39;m trying to run a Spring Boot application with HTTPS enabled on the Digital Ocean droplet. The application ran previously with no issues until a recent restart from the server.\r\n\r\nI keep getting &quot;Failed to start bean &#39;webServerStartStop&#39;... Unable to start embedded Tomcat server&quot; error. \r\n\r\nHow can I start to debug this? I tried to capture the output log from the server in a .txt file, and this is the output.\r\n\r\nThings I have tried:\r\n- Rolling back to a previous app version\r\n- Updating MySQL version\r\n- Updating server\r\n\r\nI&#39;m running:\r\n- Java 11 - jar app\r\n- MySQL v8.0.25 Community Server\r\n\r\n```none\r\n2021-07-09 04:04:37.224 INFO 9278 --- [ task-1] o.h.e.t.j.p.i.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 2021-07-09 04:04:37.238 INFO 9278 --- [ task-1] j.LocalContainerEntityManagerFactoryBean\r\n: Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39; 2021-07-09 04:04:40.570 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern=&#39;/oauth/token&#39;], Ant [pattern=&#39;/oauth/token_key&#39;],\r\nAnt [pattern=&#39;/oauth/check_token&#39;]]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4248b963, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dc76fa1, org.springframework.security.web.header.HeaderWriterFilter@2f508f3c,\r\norg.springframework.security.web.authentication.logout.LogoutFilter@ad9e63e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3abfe845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33d53216, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7808f638,\r\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f08caf, org.springframework.security.web.session.SessionManagementFilter@2459319c, org.springframework.security.web.access.ExceptionTranslationFilter@71f0b72e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2650f79]\r\n2021-07-09 04:04:40.607 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7be3a9ce, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37d871c2,\r\norg.springframework.security.web.context.SecurityContextPersistenceFilter@2c0b4c83, org.springframework.security.web.header.HeaderWriterFilter@4893b344, org.springframework.web.filter.CorsFilter@3baf6936, org.springframework.security.web.authentication.logout.LogoutFilter@3bfc6a5e,\r\norg.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@62db0521, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78525ef9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d0ecb24,\r\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@285f38f6, org.springframework.security.web.session.SessionManagementFilter@53a665ad, org.springframework.security.web.access.ExceptionTranslationFilter@249e0271, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4acb2510]\r\n2021-07-09 04:04:40.610 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27b2faa6, org.springframework.security.web.context.SecurityContextPersistenceFilter@57c47a9e,\r\norg.springframework.security.web.header.HeaderWriterFilter@4eed2acf, org.springframework.security.web.authentication.logout.LogoutFilter@61d84e08, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@642505c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4339e0de,\r\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@6428591a, org.springframework.security.web.session.SessionManagementFilter@36fc05ff, org.springframework.security.web.access.ExceptionTranslationFilter@476e8796, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@715d6168]\r\n2021-07-09 04:04:40.779 WARN 9278 --- [ main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;;\r\nnested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server 2021-07-09 04:04:40.784 INFO 9278 --- [ main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence\r\nunit &#39;default&#39; 2021-07-09 04:04:40.785 INFO 9278 --- [ main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39; 2021-07-09 04:04:40.786 DEBUG 9278 --- [ main] org.hibernate.SQL\r\n: alter table contacts drop foreign key FKna8bddygr3l3kq1imghgcskt8 2021-07-09 04:04:40.808 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table leads drop foreign key FK50ynw1akb9fok4ronueu0efpk 2021-07-09 04:04:40.934 DEBUG 9278 --- [ main] org.hibernate.SQL\r\n: alter table leads drop foreign key FK10u8b7klywjncgkn7xffx7ncu 2021-07-09 04:04:41.033 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table leads_notes drop foreign key FKhpoad9uf9y5lh6nv7iqb06uk2 2021-07-09 04:04:41.065 DEBUG 9278 --- [ main] org.hibernate.SQL\r\n: alter table leads_notes drop foreign key FK6tw7yuipyu91x1d4csegdumpt 2021-07-09 04:04:41.093 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKpy8k2vjp2ax1glqn4tc77f362 2021-07-09 04:04:41.169 DEBUG 9278 --- [ main]\r\norg.hibernate.SQL : alter table submissions drop foreign key FKhwyuy355rlq3e0d1lw5nxywum 2021-07-09 04:04:41.196 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKhfixvturyi8nqcvr8qbujkmmd 2021-07-09 04:04:41.227 DEBUG\r\n9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKaddc6b566b2j07ndp34akltik 2021-07-09 04:04:41.252 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table users drop foreign key FKin8gn4o1hpiwe6qe4ey7ykwq7 2021-07-09 04:04:41.300\r\nDEBUG 9278 --- [ main] org.hibernate.SQL : alter table users_roles drop foreign key FKa62j07k5mhgifpp955h37ponj 2021-07-09 04:04:41.331 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table users_roles drop foreign key FK2o0jvgh89lemvvo17cbqvdxaa 2021-07-09\r\n04:04:41.353 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists categories 2021-07-09 04:04:41.361 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists companies 2021-07-09 04:04:41.377 DEBUG 9278 --- [ main] org.hibernate.SQL\r\n: drop table if exists contacts 2021-07-09 04:04:41.397 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists leads 2021-07-09 04:04:41.446 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists leads_notes 2021-07-09 04:04:41.465 DEBUG\r\n9278 --- [ main] org.hibernate.SQL : drop table if exists leads_status 2021-07-09 04:04:41.474 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists products 2021-07-09 04:04:41.482 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists\r\nroles 2021-07-09 04:04:41.493 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists submissions 2021-07-09 04:04:41.503 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists submissions_status 2021-07-09 04:04:41.517 DEBUG 9278 ---\r\n[ main] org.hibernate.SQL : drop table if exists users 2021-07-09 04:04:41.537 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists users_roles 2021-07-09 04:04:41.560 INFO 9278 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Shutting\r\ndown ExecutorService &#39;applicationTaskExecutor&#39; 2021-07-09 04:04:41.564 INFO 9278 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated... 2021-07-09 04:04:41.585 INFO 9278 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1\r\n- Shutdown completed. 2021-07-09 04:04:41.599 INFO 9278 --- [ main] o.apache.catalina.core.StandardService : Stopping service [Tomcat] 2021-07-09 04:04:41.636 INFO 9278 --- [ main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext.\r\nTo display the conditions report re-run your application with &#39;debug&#39; enabled. 2021-07-09 04:04:41.652 ERROR 9278 --- [ main] o.s.boot.SpringApplication : Application run failed org.springframework.context.ApplicationContextException: Failed to start\r\nbean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185)\r\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\r\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\r\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:894) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at com.maxwelton.investorportal.InvestorPortalBackendApplication.main(InvestorPortalBackendApplication.java:10)\r\n~[classes!/:0.0.1-SNAPSHOT] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:109)\r\n~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\r\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] ... 22 common frames omitted Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] ... 24 common frames omitted Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed at org.apache.catalina.connector.Connector.startInternal(Connector.java:1058) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] ... 26 common\r\nframes omitted Caused by: java.lang.IllegalArgumentException: None of the [protocols] specified are supported by the SSL engine : [[TSLv1.2]] at org.apache.tomcat.util.net.SSLUtilBase.getEnabled(SSLUtilBase.java:151) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\nat org.apache.tomcat.util.net.SSLUtilBase.\r\n&lt;init&gt;(SSLUtilBase.java:109) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.SSLUtilBase.\r\n  &lt;init&gt;(SSLUtilBase.java:83) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.openssl.OpenSSLUtil.\r\n    &lt;init&gt;(OpenSSLUtil.java:42) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.openssl.OpenSSLImplementation.getSSLUtil(OpenSSLImplementation.java:36) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:88)\r\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:216)\r\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227)\r\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:592) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.catalina.connector.Connector.startInternal(Connector.java:1055) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n      ... 28 common frames omitted\r\n```\r\n\r\nMy DB properties are\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost/db_investor_portal?useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;useSSL=true\r\nspring.datasource.username=**********\r\nspring.datasource.password=**********\r\n\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nspring.jackson.serialization.fail-on-empty-beans=false\r\nlogging.level.org.hibernate.SQL=debug\r\n\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\n\r\n#SpringBoot SSL configuration for Digital Ocean\r\n#server.ssl.enabled=true\r\n#server.port=8443\r\n#server.ssl.key-store=/etc/letsencrypt/live/*****\r\n#server.ssl.key-store-password=***********\r\n#server.ssl.key-store-type=PKCS12\r\n#server.ssl.protocol=TLS\r\n#server.ssl.enabled-protocols=TSLv1.2\r\n#server.ssl.ciphers=TSL_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_AES_128_GCM_SHA256\r\n```\r\n\r\nAnd my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.maxwelton.investorportal&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;investor-portal-backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;investor-portal-backend&lt;/name&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;description&gt;Backend for MW Investor Portal&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.24&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security.oauth/spring-security-oauth2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-jwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\t\t    \r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t  &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n        &lt;plugins&gt;\r\n        \t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                  &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n         \t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.maxwelton.investorportal.InvestorPortalBackendApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n","title":"How to debug Springboot &quot;Failed to start bean &#39;webServerStartStop&#39;... Unable to start embedded Tomcat server on Digital Ocean droplet","body":"<p>I'm trying to run a Spring Boot application with HTTPS enabled on the Digital Ocean droplet. The application ran previously with no issues until a recent restart from the server.</p>\n<p>I keep getting &quot;Failed to start bean 'webServerStartStop'... Unable to start embedded Tomcat server&quot; error.</p>\n<p>How can I start to debug this? I tried to capture the output log from the server in a .txt file, and this is the output.</p>\n<p>Things I have tried:</p>\n<ul>\n<li>Rolling back to a previous app version</li>\n<li>Updating MySQL version</li>\n<li>Updating server</li>\n</ul>\n<p>I'm running:</p>\n<ul>\n<li>Java 11 - jar app</li>\n<li>MySQL v8.0.25 Community Server</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>2021-07-09 04:04:37.224 INFO 9278 --- [ task-1] o.h.e.t.j.p.i.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 2021-07-09 04:04:37.238 INFO 9278 --- [ task-1] j.LocalContainerEntityManagerFactoryBean\n: Initialized JPA EntityManagerFactory for persistence unit 'default' 2021-07-09 04:04:40.570 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'],\nAnt [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4248b963, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dc76fa1, org.springframework.security.web.header.HeaderWriterFilter@2f508f3c,\norg.springframework.security.web.authentication.logout.LogoutFilter@ad9e63e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3abfe845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33d53216, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7808f638,\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f08caf, org.springframework.security.web.session.SessionManagementFilter@2459319c, org.springframework.security.web.access.ExceptionTranslationFilter@71f0b72e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2650f79]\n2021-07-09 04:04:40.607 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7be3a9ce, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37d871c2,\norg.springframework.security.web.context.SecurityContextPersistenceFilter@2c0b4c83, org.springframework.security.web.header.HeaderWriterFilter@4893b344, org.springframework.web.filter.CorsFilter@3baf6936, org.springframework.security.web.authentication.logout.LogoutFilter@3bfc6a5e,\norg.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@62db0521, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78525ef9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d0ecb24,\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@285f38f6, org.springframework.security.web.session.SessionManagementFilter@53a665ad, org.springframework.security.web.access.ExceptionTranslationFilter@249e0271, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4acb2510]\n2021-07-09 04:04:40.610 INFO 9278 --- [ main] o.s.s.web.DefaultSecurityFilterChain : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27b2faa6, org.springframework.security.web.context.SecurityContextPersistenceFilter@57c47a9e,\norg.springframework.security.web.header.HeaderWriterFilter@4eed2acf, org.springframework.security.web.authentication.logout.LogoutFilter@61d84e08, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@642505c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4339e0de,\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter@6428591a, org.springframework.security.web.session.SessionManagementFilter@36fc05ff, org.springframework.security.web.access.ExceptionTranslationFilter@476e8796, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@715d6168]\n2021-07-09 04:04:40.779 WARN 9278 --- [ main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop';\nnested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server 2021-07-09 04:04:40.784 INFO 9278 --- [ main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence\nunit 'default' 2021-07-09 04:04:40.785 INFO 9278 --- [ main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down' 2021-07-09 04:04:40.786 DEBUG 9278 --- [ main] org.hibernate.SQL\n: alter table contacts drop foreign key FKna8bddygr3l3kq1imghgcskt8 2021-07-09 04:04:40.808 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table leads drop foreign key FK50ynw1akb9fok4ronueu0efpk 2021-07-09 04:04:40.934 DEBUG 9278 --- [ main] org.hibernate.SQL\n: alter table leads drop foreign key FK10u8b7klywjncgkn7xffx7ncu 2021-07-09 04:04:41.033 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table leads_notes drop foreign key FKhpoad9uf9y5lh6nv7iqb06uk2 2021-07-09 04:04:41.065 DEBUG 9278 --- [ main] org.hibernate.SQL\n: alter table leads_notes drop foreign key FK6tw7yuipyu91x1d4csegdumpt 2021-07-09 04:04:41.093 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKpy8k2vjp2ax1glqn4tc77f362 2021-07-09 04:04:41.169 DEBUG 9278 --- [ main]\norg.hibernate.SQL : alter table submissions drop foreign key FKhwyuy355rlq3e0d1lw5nxywum 2021-07-09 04:04:41.196 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKhfixvturyi8nqcvr8qbujkmmd 2021-07-09 04:04:41.227 DEBUG\n9278 --- [ main] org.hibernate.SQL : alter table submissions drop foreign key FKaddc6b566b2j07ndp34akltik 2021-07-09 04:04:41.252 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table users drop foreign key FKin8gn4o1hpiwe6qe4ey7ykwq7 2021-07-09 04:04:41.300\nDEBUG 9278 --- [ main] org.hibernate.SQL : alter table users_roles drop foreign key FKa62j07k5mhgifpp955h37ponj 2021-07-09 04:04:41.331 DEBUG 9278 --- [ main] org.hibernate.SQL : alter table users_roles drop foreign key FK2o0jvgh89lemvvo17cbqvdxaa 2021-07-09\n04:04:41.353 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists categories 2021-07-09 04:04:41.361 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists companies 2021-07-09 04:04:41.377 DEBUG 9278 --- [ main] org.hibernate.SQL\n: drop table if exists contacts 2021-07-09 04:04:41.397 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists leads 2021-07-09 04:04:41.446 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists leads_notes 2021-07-09 04:04:41.465 DEBUG\n9278 --- [ main] org.hibernate.SQL : drop table if exists leads_status 2021-07-09 04:04:41.474 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists products 2021-07-09 04:04:41.482 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists\nroles 2021-07-09 04:04:41.493 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists submissions 2021-07-09 04:04:41.503 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists submissions_status 2021-07-09 04:04:41.517 DEBUG 9278 ---\n[ main] org.hibernate.SQL : drop table if exists users 2021-07-09 04:04:41.537 DEBUG 9278 --- [ main] org.hibernate.SQL : drop table if exists users_roles 2021-07-09 04:04:41.560 INFO 9278 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Shutting\ndown ExecutorService 'applicationTaskExecutor' 2021-07-09 04:04:41.564 INFO 9278 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated... 2021-07-09 04:04:41.585 INFO 9278 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1\n- Shutdown completed. 2021-07-09 04:04:41.599 INFO 9278 --- [ main] o.apache.catalina.core.StandardService : Stopping service [Tomcat] 2021-07-09 04:04:41.636 INFO 9278 --- [ main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext.\nTo display the conditions report re-run your application with 'debug' enabled. 2021-07-09 04:04:41.652 ERROR 9278 --- [ main] o.s.boot.SpringApplication : Application run failed org.springframework.context.ApplicationContextException: Failed to start\nbean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185)\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:894) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at com.maxwelton.investorportal.InvestorPortalBackendApplication.main(InvestorPortalBackendApplication.java:10)\n~[classes!/:0.0.1-SNAPSHOT] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:109)\n~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n~[investor-portal-backend-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT] Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\n~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE] ... 22 common frames omitted Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE] ... 24 common frames omitted Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed at org.apache.catalina.connector.Connector.startInternal(Connector.java:1058) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] ... 26 common\nframes omitted Caused by: java.lang.IllegalArgumentException: None of the [protocols] specified are supported by the SSL engine : [[TSLv1.2]] at org.apache.tomcat.util.net.SSLUtilBase.getEnabled(SSLUtilBase.java:151) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\nat org.apache.tomcat.util.net.SSLUtilBase.\n&lt;init&gt;(SSLUtilBase.java:109) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.SSLUtilBase.\n  &lt;init&gt;(SSLUtilBase.java:83) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.openssl.OpenSSLUtil.\n    &lt;init&gt;(OpenSSLUtil.java:42) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.openssl.OpenSSLImplementation.getSSLUtil(OpenSSLImplementation.java:36) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:88)\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:216)\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227)\n      ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:592) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35] at org.apache.catalina.connector.Connector.startInternal(Connector.java:1055) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n      ... 28 common frames omitted\n</code></pre>\n<p>My DB properties are</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/db_investor_portal?useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;useSSL=true\nspring.datasource.username=**********\nspring.datasource.password=**********\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\n\nspring.jackson.serialization.fail-on-empty-beans=false\nlogging.level.org.hibernate.SQL=debug\n\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n\n#SpringBoot SSL configuration for Digital Ocean\n#server.ssl.enabled=true\n#server.port=8443\n#server.ssl.key-store=/etc/letsencrypt/live/*****\n#server.ssl.key-store-password=***********\n#server.ssl.key-store-type=PKCS12\n#server.ssl.protocol=TLS\n#server.ssl.enabled-protocols=TSLv1.2\n#server.ssl.ciphers=TSL_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_AES_128_GCM_SHA256\n</code></pre>\n<p>And my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.maxwelton.investorportal&lt;/groupId&gt;\n    &lt;artifactId&gt;investor-portal-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;investor-portal-backend&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;description&gt;Backend for MW Investor Portal&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security.oauth/spring-security-oauth2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-jwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;           \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                  &lt;executions&gt;\n                    &lt;execution&gt;\n                      &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                      &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.maxwelton.investorportal.InvestorPortalBackendApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":27441955,"reputation":1,"user_id":20936634,"display_name":"android developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675503177,"creation_date":1675503177,"question_id":75344155,"body_markdown":"Playstore has rejecting the app because of this reason **Remediation for Exposed GCP API keys** \r\n\r\nIf any one faced the issue and the solution you find give as your answer.","title":"Remediation for Exposed GCP API keys","body":"<p>Playstore has rejecting the app because of this reason <strong>Remediation for Exposed GCP API keys</strong></p>\n<p>If any one faced the issue and the solution you find give as your answer.</p>\n"},{"tags":["java","sql","select","db2"],"comments":[{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1675491038,"post_id":75343159,"comment_id":132944699,"body_markdown":"This can be done easily with the `row_number` function. You need 3 latest orders for each member, but showed the result with the 3 earliest ones. So, what do you really need exactly?","body":"This can be done easily with the <code>row_number</code> function. You need 3 latest orders for each member, but showed the result with the 3 earliest ones. So, what do you really need exactly?"}],"answers":[{"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1675500161,"post_id":75343765,"comment_id":132945684,"body_markdown":"member_id in (&#39;XYZ&#39;, &#39;ABC&#39;)) problem is when I have 500 member_id. This SQL will be rejected by DB2","body":"member_id in (&#39;XYZ&#39;, &#39;ABC&#39;)) problem is when I have 500 member_id. This SQL will be rejected by DB2"},{"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"score":0,"creation_date":1675502045,"post_id":75343765,"comment_id":132945959,"body_markdown":"Is it working for 200 member_id&#39;s ? because the `expected result` in your ask has 200 member_id max","body":"Is it working for 200 member_id&#39;s ? because the <code>expected result</code> in your ask has 200 member_id max"}],"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675497920,"creation_date":1675497920,"answer_id":75343765,"question_id":75343159,"body_markdown":"**row_number()** with **partition by** clause solves your use case.\r\n\r\nHere is the query for the same\r\n\r\n    select rs.name, rs.order_date, rs.member_id, rs.order_id from (select *, row_number() over (partition by member_id order by order_date desc) as `order` from orders where member_id in (&#39;XYZ&#39;, &#39;ABC&#39;)) as rs where rs.order &lt;= 3;","title":"How to write optimised SELECT SQL query or Java batch","body":"<p><strong>row_number()</strong> with <strong>partition by</strong> clause solves your use case.</p>\n<p>Here is the query for the same</p>\n<pre><code>select rs.name, rs.order_date, rs.member_id, rs.order_id from (select *, row_number() over (partition by member_id order by order_date desc) as `order` from orders where member_id in ('XYZ', 'ABC')) as rs where rs.order &lt;= 3;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4408873,"reputation":6996,"user_id":3592396,"display_name":"Lennart - Slava Ukraini"},"score":0,"creation_date":1675502474,"post_id":75344077,"comment_id":132946010,"body_markdown":"You beat me to it:⁠-⁠) Just like to add that it can be beneficial to create an index on the temporary table","body":"You beat me to it:⁠-⁠) Just like to add that it can be beneficial to create an index on the temporary table"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1675505051,"post_id":75344077,"comment_id":132946370,"body_markdown":"The index is not needed, since it will never be used probably. The expected plan is `NLJOIN (TBSCAN (MEMBERS), IXSCAN (MYTAB))`. It&#39;s hard to imagine a plan when `MEMBER` is on the inner leg of some `xJOIN`. It could be in case of vast majority members in this table, but it&#39;s `TBSCAN (MYTAB)` and probably `TBSCAN (MEMBERS)` as well...","body":"The index is not needed, since it will never be used probably. The expected plan is <code>NLJOIN (TBSCAN (MEMBERS), IXSCAN (MYTAB))</code>. It&#39;s hard to imagine a plan when <code>MEMBER</code> is on the inner leg of some <code>xJOIN</code>. It could be in case of vast majority members in this table, but it&#39;s <code>TBSCAN (MYTAB)</code> and probably <code>TBSCAN (MEMBERS)</code> as well..."},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1675601928,"post_id":75344077,"comment_id":132960498,"body_markdown":"Thank you for this solution. I was wondering do I need to fire like 200 inserts in temp table if I have 200 ids ?","body":"Thank you for this solution. I was wondering do I need to fire like 200 inserts in temp table if I have 200 ids ?"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1675604467,"post_id":75344077,"comment_id":132960974,"body_markdown":"Either 200 single row insert statements or just 1 such a statement with a batch of 200 rows. [Making batch updates in JDBC applications](https://www.ibm.com/docs/en/db2/11.5?topic=sql-making-batch-updates-in-jdbc-applications)","body":"Either 200 single row insert statements or just 1 such a statement with a batch of 200 rows. <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=sql-making-batch-updates-in-jdbc-applications\" rel=\"nofollow noreferrer\">Making batch updates in JDBC applications</a>"}],"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675502163,"creation_date":1675502163,"answer_id":75344077,"question_id":75343159,"body_markdown":"You may use GLOBAL TEMPORARY TABLE to store your long member list.\r\n\r\n``` \r\nDECLARE GLOBAL TEMPORARY TABLE SESSION.MEMBERS (MEMBERID CHAR(3)) \r\nWITH REPLACE ON COMMIT PRESERVE ROWS NOT LOGGED;\r\n\r\nINSERT INTO SESSION.MEMBERS VALUES &#39;ABC&#39;;\r\n...\r\nINSERT INTO SESSION.MEMBERS VALUES &#39;XYZ&#39;;\r\n\r\nWITH MYTAB (Name, orderDate, memberId, OrderId) AS\r\n(\r\nVALUES\r\n  (&#39;  Tom&#39;, date (&#39;01.01.2023&#39;), &#39;ABC&#39;, 111)\r\n, (&#39; Dick&#39;, date (&#39;01.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39;Harry&#39;, date (&#39;01.01.2023&#39;), &#39;PQR&#39;, 666)\r\n, (&#39; Dick&#39;, date (&#39;01.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39;  Tom&#39;, date (&#39;02.01.2023&#39;), &#39;ABC&#39;, 111)\r\n, (&#39;Harry&#39;, date (&#39;03.01.2023&#39;), &#39;PQR&#39;, 666)\r\n, (&#39; Dick&#39;, date (&#39;03.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39;  Tom&#39;, date (&#39;04.01.2023&#39;), &#39;ABC&#39;, 111)\r\n, (&#39; Dick&#39;, date (&#39;06.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39; Dick&#39;, date (&#39;07.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39;Harry&#39;, date (&#39;04.01.2023&#39;), &#39;PQR&#39;, 666)\r\n, (&#39; Dick&#39;, date (&#39;08.01.2023&#39;), &#39;XYZ&#39;, 222)\r\n, (&#39;  Tom&#39;, date (&#39;05.01.2023&#39;), &#39;ABC&#39;, 111)\r\n, (&#39;Harry&#39;, date (&#39;05.01.2023&#39;), &#39;PQR&#39;, 666)\r\n, (&#39;Harry&#39;, date (&#39;06.01.2023&#39;), &#39;PQR&#39;, 666)\r\n, (&#39;Harry&#39;, date (&#39;07.01.2023&#39;), &#39;PQR&#39;, 666)\r\n)\r\nSELECT Name, orderDate, memberId, OrderID\r\nFROM\r\n(\r\nSELECT \r\n    T.*\r\n  , ROW_NUMBER () OVER (PARTITION BY Name ORDER BY orderDate DESC) AS RN_\r\nFROM MYTAB T\r\nWHERE EXISTS (SELECT 1 FROM SESSION.MEMBERS M WHERE M.MEMBERID = T.MEMBERID)\r\n) T\r\nWHERE RN_ &lt;= 3\r\nORDER BY Name, orderDate DESC;\r\n```\r\n| NAME | ORDERDATE | MEMBERID | ORDERID |\r\n| ---- |---------|-------- |-------:|\r\n|   Tom | 2023-01-05 | ABC | 111 |\r\n|   Tom | 2023-01-04 | ABC | 111 |\r\n|   Tom | 2023-01-02 | ABC | 111 |\r\n|  Dick | 2023-01-08 | XYZ | 222 |\r\n|  Dick | 2023-01-07 | XYZ | 222 |\r\n|  Dick | 2023-01-06 | XYZ | 222 |\r\n\r\n[fiddle](https://dbfiddle.uk/qFYrjAyd)\r\n","title":"How to write optimised SELECT SQL query or Java batch","body":"<p>You may use GLOBAL TEMPORARY TABLE to store your long member list.</p>\n<pre><code>DECLARE GLOBAL TEMPORARY TABLE SESSION.MEMBERS (MEMBERID CHAR(3)) \nWITH REPLACE ON COMMIT PRESERVE ROWS NOT LOGGED;\n\nINSERT INTO SESSION.MEMBERS VALUES 'ABC';\n...\nINSERT INTO SESSION.MEMBERS VALUES 'XYZ';\n\nWITH MYTAB (Name, orderDate, memberId, OrderId) AS\n(\nVALUES\n  ('  Tom', date ('01.01.2023'), 'ABC', 111)\n, (' Dick', date ('01.01.2023'), 'XYZ', 222)\n, ('Harry', date ('01.01.2023'), 'PQR', 666)\n, (' Dick', date ('01.01.2023'), 'XYZ', 222)\n, ('  Tom', date ('02.01.2023'), 'ABC', 111)\n, ('Harry', date ('03.01.2023'), 'PQR', 666)\n, (' Dick', date ('03.01.2023'), 'XYZ', 222)\n, ('  Tom', date ('04.01.2023'), 'ABC', 111)\n, (' Dick', date ('06.01.2023'), 'XYZ', 222)\n, (' Dick', date ('07.01.2023'), 'XYZ', 222)\n, ('Harry', date ('04.01.2023'), 'PQR', 666)\n, (' Dick', date ('08.01.2023'), 'XYZ', 222)\n, ('  Tom', date ('05.01.2023'), 'ABC', 111)\n, ('Harry', date ('05.01.2023'), 'PQR', 666)\n, ('Harry', date ('06.01.2023'), 'PQR', 666)\n, ('Harry', date ('07.01.2023'), 'PQR', 666)\n)\nSELECT Name, orderDate, memberId, OrderID\nFROM\n(\nSELECT \n    T.*\n  , ROW_NUMBER () OVER (PARTITION BY Name ORDER BY orderDate DESC) AS RN_\nFROM MYTAB T\nWHERE EXISTS (SELECT 1 FROM SESSION.MEMBERS M WHERE M.MEMBERID = T.MEMBERID)\n) T\nWHERE RN_ &lt;= 3\nORDER BY Name, orderDate DESC;\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>NAME</th>\n<th>ORDERDATE</th>\n<th>MEMBERID</th>\n<th style=\"text-align: right;\">ORDERID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>  Tom</td>\n<td>2023-01-05</td>\n<td>ABC</td>\n<td style=\"text-align: right;\">111</td>\n</tr>\n<tr>\n<td>  Tom</td>\n<td>2023-01-04</td>\n<td>ABC</td>\n<td style=\"text-align: right;\">111</td>\n</tr>\n<tr>\n<td>  Tom</td>\n<td>2023-01-02</td>\n<td>ABC</td>\n<td style=\"text-align: right;\">111</td>\n</tr>\n<tr>\n<td> Dick</td>\n<td>2023-01-08</td>\n<td>XYZ</td>\n<td style=\"text-align: right;\">222</td>\n</tr>\n<tr>\n<td> Dick</td>\n<td>2023-01-07</td>\n<td>XYZ</td>\n<td style=\"text-align: right;\">222</td>\n</tr>\n<tr>\n<td> Dick</td>\n<td>2023-01-06</td>\n<td>XYZ</td>\n<td style=\"text-align: right;\">222</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://dbfiddle.uk/qFYrjAyd\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75344077,"answer_count":2,"score":0,"last_activity_date":1675502163,"creation_date":1675488297,"question_id":75343159,"body_markdown":"I have an orders table as shown below.\r\n\r\n        +----------+-------------+---------+--------------+\r\n        | Name     | orderDate   | memberId| OrderId      |\r\n        +----------+-------------+---------+--------------+\r\n        |      Tom |  01-01-2023 |     ABC | 111          |\r\n        |     Dick |  01-01-2023 |     XYZ | 222          |\r\n        |    Harry |  01-01-2023 |     PQR | 666          |\r\n        |     Dick |  01-01-2023 |     XYZ | 222          |\r\n        |      Tom |  02-01-2023 |     ABC | 111          |\r\n        |    Harry |  03-01-2023 |     PQR | 666          |\r\n        |     Dick |  03-01-2023 |     XYZ | 222          |\r\n        |      Tom |  04-01-2023 |     ABC | 111          |\r\n        |     Dick |  06-01-2023 |     XYZ | 222          |\r\n        |     Dick |  07-01-2023 |     XYZ | 222          |\r\n        |    Harry |  04-01-2023 |     PQR | 666          |\r\n        |     Dick |  08-01-2023 |     XYZ | 222          |\r\n        |      Tom |  05-01-2023 |     ABC | 111          |\r\n        |    Harry |  05-01-2023 |     PQR | 666          |\r\n        |    Harry |  06-01-2023 |     PQR | 666          |\r\n        |    Harry |  07-01-2023 |     PQR | 666          |\r\n        +----------+-------------+---------+--------------+\r\n\r\n\r\n**Expected Result:**\r\nI have a list of memberIds -&gt; ABC, XYZ, PQR (This list can be any size approx 200 max)\r\nI need to select the latest 3 orders for each member.\r\n\r\n        +----------+-------------+---------+--------------+\r\n        | Name     | orderDate   | memberId| OrderId      |\r\n        +----------+-------------+---------+--------------+\r\n        |      Tom |  01-01-2023 |     ABC | 111          |\r\n        |      Tom |  02-01-2023 |     ABC | 111          |\r\n        |      Tom |  04-01-2023 |     ABC | 111          |\r\n        |     Dick |  02-01-2023 |     XYZ | 111          |\r\n        |     Dick |  01-01-2023 |     XYZ | 111          |\r\n        |     Dick |  03-01-2023 |     XYZ | 111          |\r\n        |    Harry |  01-01-2023 |     PQR | 111          |\r\n        |    Harry |  03-01-2023 |     PQR | 111          |\r\n        |    Harry |  04-01-2023 |     PQR | 111          |\r\n        +----------+-------------+---------+--------------+\r\n\r\n\r\nHow can I write an optimized select query for the above scenario?\r\n\r\nCurrently, I created a DB2 hibernate SQL query dynamically in for loop.\r\nThe problem with this approach is that my query length grows too big for DB2 and returns an error as I have 200 memberId\r\n\r\n&gt; -101\tThe statement is too long or too complex\r\n\r\n\r\n    (SELECT * FROM orders WHERE memberId=&#39;ABC&#39; ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\r\n    UNION ALL\r\n    (SELECT * FROM orders WHERE memberId=&#39;XYZ&#39; ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\r\n    UNION ALL\r\n    (SELECT * FROM orders WHERE memberId=&#39;PQR&#39; ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\r\n\r\n\r\nProbable Solutions:\r\n 1. Divide memberIds list into smaller batches, call select multiple times, and aggregate results in my java code.\r\n 2. Any other way to fetch this result from SQL?\r\n \r\nPlease share your opinion from a query or java point of view.\r\nThank you","title":"How to write optimised SELECT SQL query or Java batch","body":"<p>I have an orders table as shown below.</p>\n<pre><code>    +----------+-------------+---------+--------------+\n    | Name     | orderDate   | memberId| OrderId      |\n    +----------+-------------+---------+--------------+\n    |      Tom |  01-01-2023 |     ABC | 111          |\n    |     Dick |  01-01-2023 |     XYZ | 222          |\n    |    Harry |  01-01-2023 |     PQR | 666          |\n    |     Dick |  01-01-2023 |     XYZ | 222          |\n    |      Tom |  02-01-2023 |     ABC | 111          |\n    |    Harry |  03-01-2023 |     PQR | 666          |\n    |     Dick |  03-01-2023 |     XYZ | 222          |\n    |      Tom |  04-01-2023 |     ABC | 111          |\n    |     Dick |  06-01-2023 |     XYZ | 222          |\n    |     Dick |  07-01-2023 |     XYZ | 222          |\n    |    Harry |  04-01-2023 |     PQR | 666          |\n    |     Dick |  08-01-2023 |     XYZ | 222          |\n    |      Tom |  05-01-2023 |     ABC | 111          |\n    |    Harry |  05-01-2023 |     PQR | 666          |\n    |    Harry |  06-01-2023 |     PQR | 666          |\n    |    Harry |  07-01-2023 |     PQR | 666          |\n    +----------+-------------+---------+--------------+\n</code></pre>\n<p><strong>Expected Result:</strong>\nI have a list of memberIds -&gt; ABC, XYZ, PQR (This list can be any size approx 200 max)\nI need to select the latest 3 orders for each member.</p>\n<pre><code>    +----------+-------------+---------+--------------+\n    | Name     | orderDate   | memberId| OrderId      |\n    +----------+-------------+---------+--------------+\n    |      Tom |  01-01-2023 |     ABC | 111          |\n    |      Tom |  02-01-2023 |     ABC | 111          |\n    |      Tom |  04-01-2023 |     ABC | 111          |\n    |     Dick |  02-01-2023 |     XYZ | 111          |\n    |     Dick |  01-01-2023 |     XYZ | 111          |\n    |     Dick |  03-01-2023 |     XYZ | 111          |\n    |    Harry |  01-01-2023 |     PQR | 111          |\n    |    Harry |  03-01-2023 |     PQR | 111          |\n    |    Harry |  04-01-2023 |     PQR | 111          |\n    +----------+-------------+---------+--------------+\n</code></pre>\n<p>How can I write an optimized select query for the above scenario?</p>\n<p>Currently, I created a DB2 hibernate SQL query dynamically in for loop.\nThe problem with this approach is that my query length grows too big for DB2 and returns an error as I have 200 memberId</p>\n<blockquote>\n<p>-101  The statement is too long or too complex</p>\n</blockquote>\n<pre><code>(SELECT * FROM orders WHERE memberId='ABC' ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\nUNION ALL\n(SELECT * FROM orders WHERE memberId='XYZ' ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\nUNION ALL\n(SELECT * FROM orders WHERE memberId='PQR' ORDERBY orderDate DESC FETCH FIRST 3 ROWS ONLY)\n</code></pre>\n<p>Probable Solutions:</p>\n<ol>\n<li>Divide memberIds list into smaller batches, call select multiple times, and aggregate results in my java code.</li>\n<li>Any other way to fetch this result from SQL?</li>\n</ol>\n<p>Please share your opinion from a query or java point of view.\nThank you</p>\n"},{"tags":["java","c++","println"],"comments":[{"owner":{"account_id":989430,"reputation":413,"user_id":1007138,"display_name":"FredericS"},"score":0,"creation_date":1366292154,"post_id":16084379,"comment_id":22961665,"body_markdown":"Template is your friend.","body":"Template is your friend."},{"owner":{"account_id":1515890,"reputation":604,"user_id":1416903,"display_name":"Hanelore Ianoseck"},"score":0,"creation_date":1366292177,"post_id":16084379,"comment_id":22961680,"body_markdown":"well this is obvious...but how do I take this values from the parameter and what kind of parameter should it be?","body":"well this is obvious...but how do I take this values from the parameter and what kind of parameter should it be?"},{"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"score":5,"creation_date":1366292595,"post_id":16084379,"comment_id":22961970,"body_markdown":"You&#39;re looking in the wrong place. `System.out.println` isn&#39;t what makes the `+` work.","body":"You&#39;re looking in the wrong place. <code>System.out.println</code> isn&#39;t what makes the <code>+</code> work."},{"owner":{"account_id":1742994,"reputation":75290,"user_id":1593860,"display_name":"Pete Becker"},"score":1,"creation_date":1366293079,"post_id":16084379,"comment_id":22962338,"body_markdown":"In C and C++, when `a` is 5, `&quot;A string&quot; + a` is `&quot;ing&quot;`.","body":"In C and C++, when <code>a</code> is 5, <code>&quot;A string&quot; + a</code> is <code>&quot;ing&quot;</code>."}],"answers":[{"comments":[{"owner":{"account_id":1515890,"reputation":604,"user_id":1416903,"display_name":"Hanelore Ianoseck"},"score":0,"creation_date":1366293906,"post_id":16084963,"comment_id":22962889,"body_markdown":"Thank you Salgar, I&#39;ll see what I can do","body":"Thank you Salgar, I&#39;ll see what I can do"}],"tags":[],"owner":{"account_id":38059,"reputation":7707,"user_id":109019,"accept_rate":83,"display_name":"Salgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366293373,"creation_date":1366293373,"answer_id":16084963,"question_id":16084379,"body_markdown":"Many are downvoting, but that&#39;s not going to explain why what you&#39;re asking is incorrect.\n\nYou have two choices here:\n\n1. You can make a templated `println(T val)` function which takes any type you like, ints, doubles, etc, and you can print them in that function.\n\n2. However, what you&#39;re requesting up there: `&quot;A string&quot; + a` this is an expression which will return a type. What you&#39;re doing here is adding a `const char*` and an `int`. This unfortunately isn&#39;t going to do anything like what you expect, it&#39;s going to do [pointer arithmetic][1], and in this particular case won&#39;t even compile. But for the general case, say a `std::string` and a class called `Foo`, the compiler will look for an [`operator+` overload][2] which can concatenate those two things.\n\n   Your second option, but slightly more dangerous, is to have a `println` function that either takes a `std::string` or `const char*` and to define all the different operator+ operations that you might want. I don&#39;t recommend this though, as the default operation between a pointer and an integer is to do pointer arithmetic, which is very useful.\n\nI recommend starting with a template function, and seeing what happens from there.\n\n  [1]: http://www.cs.umd.edu/class/sum2003/cmsc311/Notes/BitOp/pointer.html\n  [2]: http://www.learncpp.com/cpp-tutorial/92-overloading-the-arithmetic-operators/","title":"System.out.println function syntax in C++","body":"<p>Many are downvoting, but that's not going to explain why what you're asking is incorrect.</p>\n<p>You have two choices here:</p>\n<ol>\n<li><p>You can make a templated <code>println(T val)</code> function which takes any type you like, ints, doubles, etc, and you can print them in that function.</p>\n</li>\n<li><p>However, what you're requesting up there: <code>&quot;A string&quot; + a</code> this is an expression which will return a type. What you're doing here is adding a <code>const char*</code> and an <code>int</code>. This unfortunately isn't going to do anything like what you expect, it's going to do <a href=\"http://www.cs.umd.edu/class/sum2003/cmsc311/Notes/BitOp/pointer.html\" rel=\"nofollow noreferrer\">pointer arithmetic</a>, and in this particular case won't even compile. But for the general case, say a <code>std::string</code> and a class called <code>Foo</code>, the compiler will look for an <a href=\"http://www.learncpp.com/cpp-tutorial/92-overloading-the-arithmetic-operators/\" rel=\"nofollow noreferrer\"><code>operator+</code> overload</a> which can concatenate those two things.</p>\n<p>Your second option, but slightly more dangerous, is to have a <code>println</code> function that either takes a <code>std::string</code> or <code>const char*</code> and to define all the different operator+ operations that you might want. I don't recommend this though, as the default operation between a pointer and an integer is to do pointer arithmetic, which is very useful.</p>\n</li>\n</ol>\n<p>I recommend starting with a template function, and seeing what happens from there.</p>\n"},{"tags":[],"owner":{"account_id":97451,"reputation":13861,"user_id":264338,"accept_rate":95,"display_name":"mkaes"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1366293743,"creation_date":1366293743,"answer_id":16085135,"question_id":16084379,"body_markdown":"As larsmans already pointed out, java has overloads on the operator +. So you can concat strings with integer. This is also possible in C++ but not out of the box for all types.\r\n\r\nYou could use a templated functions like this.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    template &lt;typename T&gt;\r\n    void printer(T t) \r\n    { \r\n        cout &lt;&lt; t &lt;&lt; endl;\r\n    }\r\n    \r\n    template &lt;typename T, typename ...U&gt;\r\n    void printer(T t, U ...u)\r\n    {\r\n      cout &lt;&lt; t;\r\n      printer(u...);\r\n    }\r\n    \r\n    \r\n    int main()\r\n    {\r\n      int a=5;\r\n      printer(&quot;A string &quot;, a);\r\n      return 0;\r\n    }\r\n\r\nBut I would recommend to take a look at [boost::format][1]. I guess this library will do what you want.\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_53_0/libs/format/","title":"System.out.println function syntax in C++","body":"<p>As larsmans already pointed out, java has overloads on the operator +. So you can concat strings with integer. This is also possible in C++ but not out of the box for all types.</p>\n\n<p>You could use a templated functions like this.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nvoid printer(T t) \n{ \n    cout &lt;&lt; t &lt;&lt; endl;\n}\n\ntemplate &lt;typename T, typename ...U&gt;\nvoid printer(T t, U ...u)\n{\n  cout &lt;&lt; t;\n  printer(u...);\n}\n\n\nint main()\n{\n  int a=5;\n  printer(\"A string \", a);\n  return 0;\n}\n</code></pre>\n\n<p>But I would recommend to take a look at <a href=\"http://www.boost.org/doc/libs/1_53_0/libs/format/\" rel=\"noreferrer\">boost::format</a>. I guess this library will do what you want.</p>\n"},{"tags":[],"owner":{"account_id":17366921,"reputation":371,"user_id":14684823,"display_name":"cael ras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675501860,"creation_date":1675501860,"answer_id":75344053,"question_id":16084379,"body_markdown":"10 years later in C++23 there is a [`println` function][1] in the standard library.\r\n\r\n```cpp\r\n#include &lt;print&gt;\r\n\r\nint main()\r\n{\r\n    int i = 5;\r\n\r\n    std::println(&quot;Hello, World {}!&quot;, i);\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\nSince C++23 is quite new, it will be hard to find compiler support at the moment.\r\n\r\n\r\n  [1]: https://en.cppreference.com/w/cpp/io/println","title":"System.out.println function syntax in C++","body":"<p>10 years later in C++23 there is a <a href=\"https://en.cppreference.com/w/cpp/io/println\" rel=\"nofollow noreferrer\"><code>println</code> function</a> in the standard library.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;print&gt;\n\nint main()\n{\n    int i = 5;\n\n    std::println(&quot;Hello, World {}!&quot;, i);\n\n    return 0;\n}\n</code></pre>\n<p>Since C++23 is quite new, it will be hard to find compiler support at the moment.</p>\n"}],"owner":{"account_id":1515890,"reputation":604,"user_id":1416903,"display_name":"Hanelore Ianoseck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49116,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":16085135,"answer_count":3,"score":7,"last_activity_date":1675501860,"creation_date":1366291892,"question_id":16084379,"body_markdown":"I want to create a function in C++ using cout that has the same as the println function in java. This means that the call should be something like this:\r\n\r\n    int a=5\r\n    println(&quot;A string&quot; + a);\r\n\r\nthe variable a should have any basic type. \r\nWhat kind of parameter should I have in this case and how would it work?\r\n\r\nThanks","title":"System.out.println function syntax in C++","body":"<p>I want to create a function in C++ using cout that has the same as the println function in java. This means that the call should be something like this:</p>\n\n<pre><code>int a=5\nprintln(\"A string\" + a);\n</code></pre>\n\n<p>the variable a should have any basic type. \nWhat kind of parameter should I have in this case and how would it work?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675503916,"post_id":75344027,"comment_id":132946210,"body_markdown":"maybe you post the error message?","body":"maybe you post the error message?"}],"owner":{"account_id":24863527,"reputation":11,"user_id":18738942,"display_name":"Luigirazzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675501614,"creation_date":1675501614,"question_id":75344027,"body_markdown":"I want do code a splash screen but this error keeps comming up\r\n&quot;cannot resolve symbol AnimationUtils&quot;\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.coffecorner;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.motion.widget.Animatable;\r\n\r\nimport android.media.Image;\r\nimport android.view.WindowManager;\r\nimport android.os.Bundle;\r\nimport android.view.animation.Animation;\r\nimport android.widget.ImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n//variable\r\n    Animation topAnim, bottomAnim;\r\n    ImageView image;\r\n\r\n// image = findViewById(R.id.imageView);\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n        // try block to hide Action bar\r\n        try {\r\n            this.getSupportActionBar().hide();\r\n        }\r\n        // catch block to handle NullPointerException\r\n        catch (NullPointerException e) {\r\n        }\r\n        //animations\r\n        topAnim =  AnimationUtils.loadAnimation(this, R.anim.top_animation);\r\n        bottomAnim =  AnimationUtils.loadAnimation(this, R.anim.bottom_animation);\r\n        //Set animation to elements\r\n        image.setAnimation(topAnim);\r\n    }\r\n}\r\n```\r\nThis is the code for the splash screen\r\nI created a Animation folder with working animations \r\nwrote the code to hide the action bar but when it comes to start the animations \r\nalways the error appears","title":"cannot resolve symbol AnimationUtils - android java","body":"<p>I want do code a splash screen but this error keeps comming up\n&quot;cannot resolve symbol AnimationUtils&quot;</p>\n<pre><code>package com.example.coffecorner;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.motion.widget.Animatable;\n\nimport android.media.Image;\nimport android.view.WindowManager;\nimport android.os.Bundle;\nimport android.view.animation.Animation;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n//variable\n    Animation topAnim, bottomAnim;\n    ImageView image;\n\n// image = findViewById(R.id.imageView);\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n        // try block to hide Action bar\n        try {\n            this.getSupportActionBar().hide();\n        }\n        // catch block to handle NullPointerException\n        catch (NullPointerException e) {\n        }\n        //animations\n        topAnim =  AnimationUtils.loadAnimation(this, R.anim.top_animation);\n        bottomAnim =  AnimationUtils.loadAnimation(this, R.anim.bottom_animation);\n        //Set animation to elements\n        image.setAnimation(topAnim);\n    }\n}\n</code></pre>\n<p>This is the code for the splash screen\nI created a Animation folder with working animations\nwrote the code to hide the action bar but when it comes to start the animations\nalways the error appears</p>\n"},{"tags":["java","xml"],"answers":[{"comments":[{"owner":{"account_id":26217646,"reputation":23,"user_id":19895570,"display_name":"Vishnu"},"score":0,"creation_date":1675481140,"post_id":75339474,"comment_id":132943990,"body_markdown":"Thanks for your comment. The string I posted here in the description:\n\n&lt;GrpHdr&gt;\n        &lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;\n        &lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;\n    &lt;/GrpHdr&gt;\n\nis only a sample. The real string that I want to add as a value to the element is very big. It would be cumbersome to add each element from that string individually. Is there a way I can do without escaping, like using some other method apart from setTextContent().","body":"Thanks for your comment. The string I posted here in the description:  &lt;GrpHdr&gt;         &lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;         &lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;     &lt;/GrpHdr&gt;  is only a sample. The real string that I want to add as a value to the element is very big. It would be cumbersome to add each element from that string individually. Is there a way I can do without escaping, like using some other method apart from setTextContent()."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1675501338,"post_id":75339474,"comment_id":132945860,"body_markdown":"@Vishnu You can parse the XML code to a `Document` instance by using the `DocumentBuilder.parse()` method, see https://stackoverflow.com/questions/7607327/how-to-create-a-xml-object-from-string-in-java. Then you get the `Element` and add it to your target `Document`. Updated the answer.","body":"@Vishnu You can parse the XML code to a <code>Document</code> instance by using the <code>DocumentBuilder.parse()</code> method, see <a href=\"https://stackoverflow.com/questions/7607327/how-to-create-a-xml-object-from-string-in-java\" title=\"how to create a xml object from string in java\">stackoverflow.com/questions/7607327/&hellip;</a>. Then you get the <code>Element</code> and add it to your target <code>Document</code>. Updated the answer."},{"owner":{"account_id":26217646,"reputation":23,"user_id":19895570,"display_name":"Vishnu"},"score":0,"creation_date":1675532512,"post_id":75339474,"comment_id":132951142,"body_markdown":"Thanks a lot Mr. Progman. You are my saviour. Your answer has solved my problem.","body":"Thanks a lot Mr. Progman. You are my saviour. Your answer has solved my problem."}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675501302,"creation_date":1675447150,"answer_id":75339474,"question_id":75339187,"body_markdown":"That the content is escaped is intended. When you set the text content of an element, any special character like `&lt;` have to be escaped like `&amp;lt;`, otherwise the text content will be interpreted as other XML content like elements or comments. That&#39;s why `setTextContent()` will escape the content for you.\r\n\r\nWhen you want to add an **element** instead, you use methods like `appendChild()` with an `Element` argument. Build your elements as usual with the `createElement()` method and add them together like this:\r\n\r\n    Element element = document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;);\r\n    Element grpHdr = document.createElement(&quot;GrpHdr&quot;);\r\n        \r\n    Element msgId = document.createElement(&quot;MsgId&quot;);\r\n    msgId.setTextContent(&quot;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&quot;);\r\n    grpHdr.appendChild(msgId);\r\n        \r\n    Element creDtTm = document.createElement(&quot;CreDtTm&quot;);\r\n    creDtTm.setTextContent(&quot;2023-02-02T21:48:58.075+05:30&quot;);\r\n    grpHdr.appendChild(creDtTm);\r\n        \r\n    element.appendChild(grpHdr);\r\n        \r\n    document.getDocumentElement().appendChild(element);\r\n\r\nThis will add the XML element inside the other XML element.\r\n\r\nWhen you have the inner XML as a string, parse the XML string with `DocumentBuilder.parse()` (see https://stackoverflow.com/questions/7607327/how-to-create-a-xml-object-from-string-in-java) and import the `Element` with the `Document.importNode()` method (see https://stackoverflow.com/questions/3184268/org-w3c-dom-domexception-wrong-document-err-a-node-is-used-in-a-different-docu). The code can look like this:\r\n\r\n    String innerXml = &quot;&lt;GrpHdr&gt;&lt;MsgId[...]eDtTm&gt;&lt;/GrpHdr&gt;&quot;;\r\n        \r\n    Document innerDocument = db.parse(new InputSource(new StringReader(innerXml)));\r\n    Element innerRootElement = innerDocument.getDocumentElement();\r\n        \r\n    Node importedNode = document.importNode(innerRootElement, true);\r\n        \r\n    element.appendChild(importedNode);","title":"&gt; and &lt; gets converted to &amp;gt; and &amp;lt; while adding a xml like string in element.setTextContent()","body":"<p>That the content is escaped is intended. When you set the text content of an element, any special character like <code>&lt;</code> have to be escaped like <code>&amp;lt;</code>, otherwise the text content will be interpreted as other XML content like elements or comments. That's why <code>setTextContent()</code> will escape the content for you.</p>\n<p>When you want to add an <strong>element</strong> instead, you use methods like <code>appendChild()</code> with an <code>Element</code> argument. Build your elements as usual with the <code>createElement()</code> method and add them together like this:</p>\n<pre><code>Element element = document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;);\nElement grpHdr = document.createElement(&quot;GrpHdr&quot;);\n    \nElement msgId = document.createElement(&quot;MsgId&quot;);\nmsgId.setTextContent(&quot;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&quot;);\ngrpHdr.appendChild(msgId);\n    \nElement creDtTm = document.createElement(&quot;CreDtTm&quot;);\ncreDtTm.setTextContent(&quot;2023-02-02T21:48:58.075+05:30&quot;);\ngrpHdr.appendChild(creDtTm);\n    \nelement.appendChild(grpHdr);\n    \ndocument.getDocumentElement().appendChild(element);\n</code></pre>\n<p>This will add the XML element inside the other XML element.</p>\n<p>When you have the inner XML as a string, parse the XML string with <code>DocumentBuilder.parse()</code> (see <a href=\"https://stackoverflow.com/questions/7607327/how-to-create-a-xml-object-from-string-in-java\">How to create a XML object from String in Java?</a>) and import the <code>Element</code> with the <code>Document.importNode()</code> method (see <a href=\"https://stackoverflow.com/questions/3184268/org-w3c-dom-domexception-wrong-document-err-a-node-is-used-in-a-different-docu\">org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it</a>). The code can look like this:</p>\n<pre><code>String innerXml = &quot;&lt;GrpHdr&gt;&lt;MsgId[...]eDtTm&gt;&lt;/GrpHdr&gt;&quot;;\n    \nDocument innerDocument = db.parse(new InputSource(new StringReader(innerXml)));\nElement innerRootElement = innerDocument.getDocumentElement();\n    \nNode importedNode = document.importNode(innerRootElement, true);\n    \nelement.appendChild(importedNode);\n</code></pre>\n"}],"owner":{"account_id":26217646,"reputation":23,"user_id":19895570,"display_name":"Vishnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75339474,"answer_count":1,"score":1,"last_activity_date":1675501302,"creation_date":1675445600,"question_id":75339187,"body_markdown":"I have a string which looks like an XML\r\n\r\nEx: String sample = &quot;\\&lt;GrpHdr\\&gt;\\&lt;MsgId\\&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV\\&lt;/MsgId\\&gt;\\&lt;CreDtTm\\&gt;2023-02-02T21:48:58.075+05:30\\&lt;/CreDtTm\\&gt;\\&lt;/GrpHdr\\&gt;&quot;;\r\n\r\nI am trying to create an XML document with an element containing the above information:\r\n\r\nEx:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\t&lt;ns1:TstCode&gt;T&lt;/ns1:TstCode&gt;\r\n\t&lt;ns1:FType&gt;SCF&lt;/ns1:FType&gt;\r\n\t&lt;ns1:FileRef&gt;220811084023&lt;/ns1:FileRef&gt;\r\n\t&lt;ns1:RoutingInd&gt;ALL&lt;/ns1:RoutingInd&gt;\r\n\t&lt;ns1:FileBusDt&gt;2022-08-11&lt;/ns1:FileBusDt&gt;\r\n\t&lt;ns1:FIToFI xmlns=&quot;urn:iso:std:iso:20022:tech:xsd&quot;&gt;\r\n\t\t&lt;GrpHdr&gt;\r\n\t\t\t&lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;\r\n\t\t\t&lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;\r\n\t\t&lt;/GrpHdr&gt;\r\n\t&lt;/ns1:FIToFI&gt;\r\n\r\nWhen I create the document for the above XML using this code:\r\n\r\n        private static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\r\n    \tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \tDOMImplementation domImpl = db.getDOMImplementation();\r\n    \r\n    private Document buildExampleDocumentWithNamespaces(DOMImplementation domImpl, String output) {\r\n    \tDocument document = domImpl.createDocument(&quot;urn:Scf:xsd:$BlkCredTrf&quot;, &quot;ns1:BlkCredTrf&quot;, null);\r\n    \tdocument.getDocumentElement().appendChild(document.createElement(&quot;ns1:TstCode&quot;)).setTextContent(&quot;T&quot;);\r\n    \tdocument.getDocumentElement().appendChild(document.createElement(&quot;ns1:FType&quot;)).setTextContent(&quot;SCF&quot;);\r\n    \tdocument.getDocumentElement().appendChild(document.createElement(&quot;ns1:FileRef&quot;)).setTextContent(&quot;220811084023&quot;);\r\n    \tdocument.getDocumentElement().appendChild(document.createElement(&quot;ns1:RoutingInd&quot;)).setTextContent(&quot;ALL&quot;);\r\n    \tdocument.getDocumentElement().appendChild(document.createElement(&quot;ns1:FileBusDt&quot;)).setTextContent(&quot;2022-08-11&quot;);\r\n    \tdocument.getDocumentElement().appendChild(document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;);\r\n    \treturn document;\r\n    }\r\n\r\nI do not have issues until this point.\r\n\r\nWhen I try to add \\&lt;GrpHdr\\&gt;\\&lt;MsgId\\&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV\\&lt;/MsgId\\&gt;\\&lt;CreDtTm\\&gt;2023-02-02T21:48:58.075+05:30\\&lt;/CreDtTm\\&gt;\\&lt;/GrpHdr\\&gt; as a Text content to the FIToFI tag at last, using the code:\r\n\r\ndocument.getDocumentElement().appendChild(document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;).setTextContent(sample);\r\n\r\nThe XML gets created like this:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\t&lt;ns1:TstCode&gt;T&lt;/ns1:TstCode&gt;\r\n\t&lt;ns1:FType&gt;SCF&lt;/ns1:FType&gt;\r\n\t&lt;ns1:FileRef&gt;220811084023&lt;/ns1:FileRef&gt;\r\n\t&lt;ns1:RoutingInd&gt;ALL&lt;/ns1:RoutingInd&gt;\r\n\t&lt;ns1:FileBusDt&gt;2022-08-11&lt;/ns1:FileBusDt&gt;\r\n\t&lt;ns1:FIToFI xmlns=&quot;urn:iso:std:iso:20022:tech:xsd&quot;&gt;\r\n\t\t&amp;lt;GrpHdr&amp;gt;\r\n\t\t\t&amp;lt;MsgId&amp;gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&amp;lt;/MsgId&amp;gt;\r\n\t\t\t&amp;lt;CreDtTm&amp;gt;2023-02-02T21:48:58.075+05:30&amp;lt;/CreDtTm&amp;gt;\r\n\t\t&amp;lt;/GrpHdr&amp;gt;\r\n\t&lt;/ns1:FIToFI&gt;\r\n\r\nPlease help me to create this XML without the escape characters.","title":"&gt; and &lt; gets converted to &amp;gt; and &amp;lt; while adding a xml like string in element.setTextContent()","body":"<p>I have a string which looks like an XML</p>\n<p>Ex: String sample = &quot;&lt;GrpHdr&gt;&lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;&lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;&lt;/GrpHdr&gt;&quot;;</p>\n<p>I am trying to create an XML document with an element containing the above information:</p>\n<p>Ex:</p>\n\n<pre><code>&lt;ns1:TstCode&gt;T&lt;/ns1:TstCode&gt;\n&lt;ns1:FType&gt;SCF&lt;/ns1:FType&gt;\n&lt;ns1:FileRef&gt;220811084023&lt;/ns1:FileRef&gt;\n&lt;ns1:RoutingInd&gt;ALL&lt;/ns1:RoutingInd&gt;\n&lt;ns1:FileBusDt&gt;2022-08-11&lt;/ns1:FileBusDt&gt;\n&lt;ns1:FIToFI xmlns=&quot;urn:iso:std:iso:20022:tech:xsd&quot;&gt;\n    &lt;GrpHdr&gt;\n        &lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;\n        &lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;\n    &lt;/GrpHdr&gt;\n&lt;/ns1:FIToFI&gt;\n</code></pre>\n<p>When I create the document for the above XML using this code:</p>\n<pre><code>    private static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    DOMImplementation domImpl = db.getDOMImplementation();\n\nprivate Document buildExampleDocumentWithNamespaces(DOMImplementation domImpl, String output) {\n    Document document = domImpl.createDocument(&quot;urn:Scf:xsd:$BlkCredTrf&quot;, &quot;ns1:BlkCredTrf&quot;, null);\n    document.getDocumentElement().appendChild(document.createElement(&quot;ns1:TstCode&quot;)).setTextContent(&quot;T&quot;);\n    document.getDocumentElement().appendChild(document.createElement(&quot;ns1:FType&quot;)).setTextContent(&quot;SCF&quot;);\n    document.getDocumentElement().appendChild(document.createElement(&quot;ns1:FileRef&quot;)).setTextContent(&quot;220811084023&quot;);\n    document.getDocumentElement().appendChild(document.createElement(&quot;ns1:RoutingInd&quot;)).setTextContent(&quot;ALL&quot;);\n    document.getDocumentElement().appendChild(document.createElement(&quot;ns1:FileBusDt&quot;)).setTextContent(&quot;2022-08-11&quot;);\n    document.getDocumentElement().appendChild(document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;);\n    return document;\n}\n</code></pre>\n<p>I do not have issues until this point.</p>\n<p>When I try to add &lt;GrpHdr&gt;&lt;MsgId&gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&lt;/MsgId&gt;&lt;CreDtTm&gt;2023-02-02T21:48:58.075+05:30&lt;/CreDtTm&gt;&lt;/GrpHdr&gt; as a Text content to the FIToFI tag at last, using the code:</p>\n<p>document.getDocumentElement().appendChild(document.createElementNS(&quot;urn:iso:std:iso:tech:xsd&quot;,&quot;ns1:FIToFI&quot;).setTextContent(sample);</p>\n<p>The XML gets created like this:</p>\n\n<pre><code>&lt;ns1:TstCode&gt;T&lt;/ns1:TstCode&gt;\n&lt;ns1:FType&gt;SCF&lt;/ns1:FType&gt;\n&lt;ns1:FileRef&gt;220811084023&lt;/ns1:FileRef&gt;\n&lt;ns1:RoutingInd&gt;ALL&lt;/ns1:RoutingInd&gt;\n&lt;ns1:FileBusDt&gt;2022-08-11&lt;/ns1:FileBusDt&gt;\n&lt;ns1:FIToFI xmlns=&quot;urn:iso:std:iso:20022:tech:xsd&quot;&gt;\n    &amp;lt;GrpHdr&amp;gt;\n        &amp;lt;MsgId&amp;gt;MQSECJYJHRBPDTZTYNNEYXOZUPAUDEKVDFV&amp;lt;/MsgId&amp;gt;\n        &amp;lt;CreDtTm&amp;gt;2023-02-02T21:48:58.075+05:30&amp;lt;/CreDtTm&amp;gt;\n    &amp;lt;/GrpHdr&amp;gt;\n&lt;/ns1:FIToFI&gt;\n</code></pre>\n<p>Please help me to create this XML without the escape characters.</p>\n"},{"tags":["java","maven","integration-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675511723,"post_id":75343939,"comment_id":132947255,"body_markdown":"First you are violating the convention to keep testing code in `src/test/java` furthertmore you should follow naming conventions which means an integration test should be name like `*IT.java`... on the other hand you are naming an `AbstractIT` which is for sure not an integration test... Apart from that which unit testing framework do you use? Also you are using ancient old version of maven-surefire-plugin which means either you have defined that old version in your build or none..that means in consequence you are using an ancient old Maven verison as well.. Please show more details...","body":"First you are violating the convention to keep testing code in <code>src&#47;test&#47;java</code> furthertmore you should follow naming conventions which means an integration test should be name like <code>*IT.java</code>... on the other hand you are naming an <code>AbstractIT</code> which is for sure not an integration test... Apart from that which unit testing framework do you use? Also you are using ancient old version of maven-surefire-plugin which means either you have defined that old version in your build or none..that means in consequence you are using an ancient old Maven verison as well.. Please show more details..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675511832,"post_id":75343939,"comment_id":132947276,"body_markdown":"Also this implies that you are using maven-surefire-plugin to execute integration tests which is even wrong. Integration tests should be running via maven-failsafe-plugin... Using the command line `mvn test -Dtest=...` will not work because you are not following the conventions...","body":"Also this implies that you are using maven-surefire-plugin to execute integration tests which is even wrong. Integration tests should be running via maven-failsafe-plugin... Using the command line <code>mvn test -Dtest=...</code> will not work because you are not following the conventions..."}],"answers":[{"comments":[{"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"score":0,"creation_date":1675500760,"post_id":75343967,"comment_id":132945770,"body_markdown":"thank you for you answer! I still see the same error unfortunatelly","body":"thank you for you answer! I still see the same error unfortunatelly"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675500903,"post_id":75343967,"comment_id":132945788,"body_markdown":"Sorry, I just saw that in your question. See update.","body":"Sorry, I just saw that in your question. See update."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675511934,"post_id":75343967,"comment_id":132947295,"body_markdown":"That is a bad idea to violate the conventions.. tests should be located in `src/test/java/&lt;package&gt;` and only separated by using naming conventions like `*Test.java` unit tests and integration tests `*IT.java` ...also running unit tests via maven-surefire-plugin while integration tests should be executed via maven-failsafe-plugin....","body":"That is a bad idea to violate the conventions.. tests should be located in <code>src&#47;test&#47;java&#47;&lt;package&gt;</code> and only separated by using naming conventions like <code>*Test.java</code> unit tests and integration tests <code>*IT.java</code> ...also running unit tests via maven-surefire-plugin while integration tests should be executed via maven-failsafe-plugin...."}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675500862,"creation_date":1675500666,"answer_id":75343967,"question_id":75343939,"body_markdown":"Change the command to:\r\n\r\n    mvn test -Dtest=org.smart.todolist.websocket.StatusSocketIT\r\n\r\nOnly the &quot;path&quot; inside `src/it/java` is part of the class name (its _package_).\r\n\r\nIn addition, make sure you have the `src/it/java` directory configured as a test directory in your pom file:\r\n\r\n    &lt;build&gt;\r\n        &lt;testSourceDirectory&gt;src/it/java&lt;/testSourceDirectory&gt;\r\n    &lt;/build&gt;","title":"How to run specific test class in subfolder with maven command?","body":"<p>Change the command to:</p>\n<pre><code>mvn test -Dtest=org.smart.todolist.websocket.StatusSocketIT\n</code></pre>\n<p>Only the &quot;path&quot; inside <code>src/it/java</code> is part of the class name (its <em>package</em>).</p>\n<p>In addition, make sure you have the <code>src/it/java</code> directory configured as a test directory in your pom file:</p>\n<pre><code>&lt;build&gt;\n    &lt;testSourceDirectory&gt;src/it/java&lt;/testSourceDirectory&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675500862,"creation_date":1675500384,"question_id":75343939,"body_markdown":"I have a question in regards to running a single test class through maven. More specifically, I have a project structure which looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zCBzb.png\r\n\r\nAnd I would like to run the integration test inside the `StatusSocketIT` class through a maven command. I tried therefore the following maven command:\r\n\r\n \r\n\r\n    mvn test -Dtest=todolist.websocket.src.it.java.org.smart.todolist.websocket.StatusSocketIT\r\n\r\nbut it fails with the following error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project backend: No tests were executed!  (Set -DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]\r\n\r\nwhich tells that the tests cant be executed. I have also tried other path names like for instance `org.smart.todolist.websocket.StatusSocketIT` but this also throws the same error. Would anyone maybe know what the issue is? Thanks in advance","title":"How to run specific test class in subfolder with maven command?","body":"<p>I have a question in regards to running a single test class through maven. More specifically, I have a project structure which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/zCBzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zCBzb.png\" alt=\"enter image description here\" /></a></p>\n<p>And I would like to run the integration test inside the <code>StatusSocketIT</code> class through a maven command. I tried therefore the following maven command:</p>\n<pre><code>mvn test -Dtest=todolist.websocket.src.it.java.org.smart.todolist.websocket.StatusSocketIT\n</code></pre>\n<p>but it fails with the following error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project backend: No tests were executed!  (Set -DfailIfNoTests=false to ignore this error.) -&gt; [Help 1]\n</code></pre>\n<p>which tells that the tests cant be executed. I have also tried other path names like for instance <code>org.smart.todolist.websocket.StatusSocketIT</code> but this also throws the same error. Would anyone maybe know what the issue is? Thanks in advance</p>\n"},{"tags":["java","selenium","xpath","drag-and-drop","selenium-chromedriver"],"comments":[{"owner":{"account_id":15310605,"reputation":113,"user_id":11046029,"display_name":"Vladislav Bulanov"},"score":0,"creation_date":1671115890,"post_id":69313719,"comment_id":132032661,"body_markdown":"On other note, try to avoid using absolute path for your elements. It will result in a fragile test case.","body":"On other note, try to avoid using absolute path for your elements. It will result in a fragile test case."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632484183,"creation_date":1632484183,"answer_id":69314553,"question_id":69313719,"body_markdown":"If this is not working, please share URL or page source code.\r\n\r\n    package selenium;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    public class DragAndDropTest extends WebDriverSetup {\r\n    \r\n    \tpublic static void main (String[] args) {\r\n    \t\t\r\n    \t\tWebDriver driver = startChromeDriver(); // standard driver setup just wrapped\r\n    \t\tdriver.get(&quot;https://demoqa.com/droppable/&quot;);\r\n    \t\tWebElement draggable = driver.findElement(By.id(&quot;draggable&quot;));\r\n    \t\tWebElement droppable = driver.findElement(By.id(&quot;droppable&quot;));\r\n            Actions actions = new Actions(driver);\r\n            actions.dragAndDrop(draggable, droppable).build().perform();\r\n            try {\r\n    \t\t\tThread.sleep(5000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t}\r\n            driver.quit();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Selenium Java Drag and drop","body":"<p>If this is not working, please share URL or page source code.</p>\n<pre><code>package selenium;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\n\npublic class DragAndDropTest extends WebDriverSetup {\n\n    public static void main (String[] args) {\n        \n        WebDriver driver = startChromeDriver(); // standard driver setup just wrapped\n        driver.get(&quot;https://demoqa.com/droppable/&quot;);\n        WebElement draggable = driver.findElement(By.id(&quot;draggable&quot;));\n        WebElement droppable = driver.findElement(By.id(&quot;droppable&quot;));\n        Actions actions = new Actions(driver);\n        actions.dragAndDrop(draggable, droppable).build().perform();\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n\n        }\n        driver.quit();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674320133,"creation_date":1674320133,"answer_id":75195032,"question_id":69313719,"body_markdown":"First, you have to move to the element you want to drag. Besides, you can use chaining. \r\n\r\n    ...(your codes are above)\r\n\r\n    actions.moveToElement(drag)\r\n    .clickAndHold()\r\n    .moveToElement(Drop)\r\n    .release(Drop).perform();","title":"Selenium Java Drag and drop","body":"<p>First, you have to move to the element you want to drag. Besides, you can use chaining.</p>\n<pre><code>...(your codes are above)\n\nactions.moveToElement(drag)\n.clickAndHold()\n.moveToElement(Drop)\n.release(Drop).perform();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675694831,"post_id":75343980,"comment_id":132978599,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75343980/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12841249,"reputation":9,"user_id":9289233,"display_name":"Parthiban Rajasekaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675500835,"creation_date":1675500835,"answer_id":75343980,"question_id":69313719,"body_markdown":"    try {\r\n        WebDriverWait wait = new WebDriverWait(driver, 10);\r\n        wait.until(ExpectedConditions.elementToBeClickable(drag));\r\n    \r\n        Actions actions = new Actions(driver);\r\n        actions.clickAndHold(drag).build().perform();\r\n        actions.moveToElement(Drop).build().perform();\r\n        actions.release(Drop).build().perform();\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Error occurred while dragging and dropping: &quot; + e.getMessage());\r\n    }","title":"Selenium Java Drag and drop","body":"<pre><code>try {\n    WebDriverWait wait = new WebDriverWait(driver, 10);\n    wait.until(ExpectedConditions.elementToBeClickable(drag));\n\n    Actions actions = new Actions(driver);\n    actions.clickAndHold(drag).build().perform();\n    actions.moveToElement(Drop).build().perform();\n    actions.release(Drop).build().perform();\n} catch (Exception e) {\n    System.out.println(&quot;Error occurred while dragging and dropping: &quot; + e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":22846793,"reputation":1,"user_id":16993020,"display_name":"Haasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675500835,"creation_date":1632480433,"question_id":69313719,"body_markdown":"I am trying to drag and drop using Selenium Java. It is clicking but not dropping it in the destination specified.\r\n\r\nCode used for dragging and dropping:\r\n```\r\nWebElement drag= driver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/vr-modalbody/div/vr-form/div/vr-validation-group/vr-tabs/vr-tab[3]/vr-row/div/vr-columns/div/vr-validation-group/div/vr-directivewrapper/vr-rules-normalizenumbersettings/div/vr-row[1]/div/vr-columns/div/vr-toolbox/div/div[3]&quot;));\r\n\r\n//Drop    \r\n        \r\nWebElement Drop= driver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/vr-modalbody/div/vr-form/div/vr-validation-group/vr-tabs/vr-tab[3]/vr-row/div/vr-columns/div/vr-validation-group/div/vr-directivewrapper/vr-rules-normalizenumbersettings/div/vr-row[2]/div/vr-columns/div/div[2]/div/vr-validator/div/div[1]/vr-datagrid/vr-datagridrows/div[1]/div/div[2]/div[1]&quot;));\r\n    \r\nActions actions= new Actions(driver);\r\nactions.clickAndHold(drag).build().perform();\r\nactions.moveToElement(Drop).build().perform();\r\nactions.release(Drop).build().perform();\r\n```","title":"Selenium Java Drag and drop","body":"<p>I am trying to drag and drop using Selenium Java. It is clicking but not dropping it in the destination specified.</p>\n<p>Code used for dragging and dropping:</p>\n<pre><code>WebElement drag= driver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/vr-modalbody/div/vr-form/div/vr-validation-group/vr-tabs/vr-tab[3]/vr-row/div/vr-columns/div/vr-validation-group/div/vr-directivewrapper/vr-rules-normalizenumbersettings/div/vr-row[1]/div/vr-columns/div/vr-toolbox/div/div[3]&quot;));\n\n//Drop    \n        \nWebElement Drop= driver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/vr-modalbody/div/vr-form/div/vr-validation-group/vr-tabs/vr-tab[3]/vr-row/div/vr-columns/div/vr-validation-group/div/vr-directivewrapper/vr-rules-normalizenumbersettings/div/vr-row[2]/div/vr-columns/div/div[2]/div/vr-validator/div/div[1]/vr-datagrid/vr-datagridrows/div[1]/div/div[2]/div[1]&quot;));\n    \nActions actions= new Actions(driver);\nactions.clickAndHold(drag).build().perform();\nactions.moveToElement(Drop).build().perform();\nactions.release(Drop).build().perform();\n</code></pre>\n"},{"tags":["python","java","excel","oracle"],"answers":[{"comments":[{"owner":{"account_id":27394578,"reputation":3,"user_id":20896995,"display_name":"Harshita Porwal"},"score":0,"creation_date":1675501978,"post_id":75343931,"comment_id":132945949,"body_markdown":"I can&#39;t load xlsx into oracle because each sheet has different structure that is different no of columns and that is why I have transposed the data in the way it&#39;s mentioned. For ex. If one sheet has roll no, name, age, job. Other might have roll no, address, phone no. But roll no will always be there in all the sheets. So, to have it structured I transposed the data in a manner that all the columns and their values except roll no will come as rows respectively.","body":"I can&#39;t load xlsx into oracle because each sheet has different structure that is different no of columns and that is why I have transposed the data in the way it&#39;s mentioned. For ex. If one sheet has roll no, name, age, job. Other might have roll no, address, phone no. But roll no will always be there in all the sheets. So, to have it structured I transposed the data in a manner that all the columns and their values except roll no will come as rows respectively."},{"owner":{"account_id":27700851,"reputation":1,"user_id":21145455,"display_name":"Darth Vader"},"score":0,"creation_date":1675502500,"post_id":75343931,"comment_id":132946013,"body_markdown":"if you can&#39;t load xlsx in oracle then I think you need a python script that connects to both the xlsx file and the Oracle database, retrieves the data and compares the count and values.","body":"if you can&#39;t load xlsx in oracle then I think you need a python script that connects to both the xlsx file and the Oracle database, retrieves the data and compares the count and values."},{"owner":{"account_id":27394578,"reputation":3,"user_id":20896995,"display_name":"Harshita Porwal"},"score":0,"creation_date":1675503037,"post_id":75343931,"comment_id":132946076,"body_markdown":"Upon your suggestion, I can combine each spreadsheet and dump it into a csv, and then create an external table on top of it by adding the audit columns and then compare. That way I don&#39;t have to work on retrieval of data from xlsx and oracle because it can get messy.","body":"Upon your suggestion, I can combine each spreadsheet and dump it into a csv, and then create an external table on top of it by adding the audit columns and then compare. That way I don&#39;t have to work on retrieval of data from xlsx and oracle because it can get messy."},{"owner":{"account_id":27700851,"reputation":1,"user_id":21145455,"display_name":"Darth Vader"},"score":0,"creation_date":1675504816,"post_id":75343931,"comment_id":132946334,"body_markdown":"Yes, combining each spreadsheet into a CSV and creating an external table on top of it with audit columns is a good solution. This way, you can easily compare the data without having to retrieve it from xlsx and oracle separately. This approach also eliminates the need for complex macros and queries, making it easier to maintain and update as needed. then I suppose I will delete my answer as I don&#39;t think you need SQL queries hope you solve your question have a good day","body":"Yes, combining each spreadsheet into a CSV and creating an external table on top of it with audit columns is a good solution. This way, you can easily compare the data without having to retrieve it from xlsx and oracle separately. This approach also eliminates the need for complex macros and queries, making it easier to maintain and update as needed. then I suppose I will delete my answer as I don&#39;t think you need SQL queries hope you solve your question have a good day"}],"tags":[],"owner":{"account_id":27700851,"reputation":1,"user_id":21145455,"display_name":"Darth Vader"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675500361,"creation_date":1675500361,"answer_id":75343931,"question_id":75343855,"body_markdown":"One way to verify the count and value of the data is to use SQL queries to compare the data between the Oracle table and the xlsx sheet.\r\n\r\n 1. First, you need to create a new table in Oracle that has the same\r\n    structure as the xlsx sheet.\r\n\r\n 2. Import the xlsx data into this new table.\r\n    \r\n 3. Use a SQL query to compare the count of rows in both the tables, and\r\n    to verify that the values in both the tables are the same. For\r\n    example:\r\n    \r\n\r\n&gt;     SELECT COUNT(*) FROM xlsx_table\r\n&gt;     UNION \r\n&gt;     SELECT COUNT(*) FROM oracle_table; \r\n\r\n 4. If the count is not the same, then use another\r\n    query to find out which rows are missing:\r\n\r\n&gt;     SELECT * FROM xlsx_table\r\n&gt;     MINUS \r\n&gt;     SELECT * FROM oracle_table; \r\n\r\n 5. If the values are not the same, then use another query to find out which values are different:\r\n\r\n&gt;     SELECT xlsx_table.*, oracle_table.* FROM xlsx_table, oracle_table \r\n&gt;     WHERE xlsx_table.roll_no = oracle_table.roll_no \r\n&gt;     AND (xlsx_table.name != oracle_table.name \r\n&gt;     OR xlsx_table.age != oracle_table.age \r\n&gt;     OR xlsx_table.job != oracle_table.job)\r\n\r\nBy using these queries, you can verify the count and values of the data and make sure that the data has been loaded correctly.\r\n\r\n","title":"Compare each excel sheets with a table in oracle","body":"<p>One way to verify the count and value of the data is to use SQL queries to compare the data between the Oracle table and the xlsx sheet.</p>\n<ol>\n<li><p>First, you need to create a new table in Oracle that has the same\nstructure as the xlsx sheet.</p>\n</li>\n<li><p>Import the xlsx data into this new table.</p>\n</li>\n<li><p>Use a SQL query to compare the count of rows in both the tables, and\nto verify that the values in both the tables are the same. For\nexample:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>SELECT COUNT(*) FROM xlsx_table\nUNION \nSELECT COUNT(*) FROM oracle_table; \n</code></pre>\n</blockquote>\n<ol start=\"4\">\n<li>If the count is not the same, then use another\nquery to find out which rows are missing:</li>\n</ol>\n<blockquote>\n<pre><code>SELECT * FROM xlsx_table\nMINUS \nSELECT * FROM oracle_table; \n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>If the values are not the same, then use another query to find out which values are different:</li>\n</ol>\n<blockquote>\n<pre><code>SELECT xlsx_table.*, oracle_table.* FROM xlsx_table, oracle_table \nWHERE xlsx_table.roll_no = oracle_table.roll_no \nAND (xlsx_table.name != oracle_table.name \nOR xlsx_table.age != oracle_table.age \nOR xlsx_table.job != oracle_table.job)\n</code></pre>\n</blockquote>\n<p>By using these queries, you can verify the count and values of the data and make sure that the data has been loaded correctly.</p>\n"}],"owner":{"account_id":27394578,"reputation":3,"user_id":20896995,"display_name":"Harshita Porwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675500361,"creation_date":1675499410,"question_id":75343855,"body_markdown":"I have an xlsx file and I have loaded most of the sheets in transposed manner in oracle. \r\n\r\nEx:-\r\nXlsx : \r\n\r\nRoll no|Name.   |Age|Job\r\n-------|--------|---|-\r\n   1   |Harshita|25 |IT\r\n\r\nOracle : \r\n\r\nRoll No|Parame|Param_Value\r\n-------|------|-\r\n   1   |Name  |Harshita\r\n   1   |Age   |25\r\n   1   |Job   |IT\r\n\r\nNow, in oracle table, roll no 1 has three rows where as in xlsx it has 1. \r\nHow to verify if the count is right and and the value is same when comparing the table data with the sheets?\r\n\r\nIs there a way to write a script to compare the sheets with tables after loading the data? \r\n\r\nI tried macros but that is not possible for me to put in prod as the sheets will change every 6 months and I tried few queries like groupBy.","title":"Compare each excel sheets with a table in oracle","body":"<p>I have an xlsx file and I have loaded most of the sheets in transposed manner in oracle.</p>\n<p>Ex:-\nXlsx :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Roll no</th>\n<th>Name.</th>\n<th>Age</th>\n<th>Job</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Harshita</td>\n<td>25</td>\n<td>IT</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Oracle :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Roll No</th>\n<th>Parame</th>\n<th>Param_Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Name</td>\n<td>Harshita</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Age</td>\n<td>25</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Job</td>\n<td>IT</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now, in oracle table, roll no 1 has three rows where as in xlsx it has 1.\nHow to verify if the count is right and and the value is same when comparing the table data with the sheets?</p>\n<p>Is there a way to write a script to compare the sheets with tables after loading the data?</p>\n<p>I tried macros but that is not possible for me to put in prod as the sheets will change every 6 months and I tried few queries like groupBy.</p>\n"},{"tags":["java","postgresql","etl","pentaho"],"owner":{"account_id":4622546,"reputation":3,"user_id":3747198,"display_name":"user3747198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675499735,"creation_date":1675497709,"question_id":75343749,"body_markdown":"I have the following messages id and their occurrence time ,inserted by the ETL from the source in an unordered form.The business is as following \r\n\r\n121  - start message\r\n198  - end message \r\nonce we find end message calculate the total time from the start message.\r\n\r\nMessages happened at the source\r\n \r\n| message id | occurence time |\r\n| ---------- | -------------- |\r\n| 121        |    12:05       |\r\n| 122        |    12:10       |\r\n| 199        |    15:10       |\r\n| 198        |    16:10       |\r\n| 121        |    17:08       |\r\n| 198        |    19:08       |\r\n\r\n**Messages inserted by ETL in the db table   // etl cron run iteration 1**\r\n\r\n| message id | occurence time |\r\n| ---------- | -------------- |\r\n| 198        |    16:10       |\r\n| 199        |    15:10       |\r\n| 198        |    19:08       |\r\n\r\n**Messages inserted by ETL in the db table   // etl cron run iteration 2**\r\n\r\n| message id | occurence time |\r\n| ---------- | -------------- |\r\n| 122        |    12:10       |\r\n| 121        |    12:05       |\r\n| 121        |    17:08       |\r\n\r\n**expected output shown in UI**\r\n\r\n121 -198 (12:05 - 16:10)  calc total time  \r\n121 -198 (17:08 - 19:08)  calc total time\r\n\r\nThe application runs after the etl run iteration 1 and find the records in unordered and needs to wait for the further records to calculate the total time. \r\n \r\n\r\n\r\n\r\n\r\nhow can we solve this problem. i was trying to solve by using variable sliding window algo or interval overlap algo? any idea ?","title":"How to calculate on UnOrdered message Arriving from source based on business condition","body":"<p>I have the following messages id and their occurrence time ,inserted by the ETL from the source in an unordered form.The business is as following</p>\n<p>121  - start message\n198  - end message\nonce we find end message calculate the total time from the start message.</p>\n<p>Messages happened at the source</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>message id</th>\n<th>occurence time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>121</td>\n<td>12:05</td>\n</tr>\n<tr>\n<td>122</td>\n<td>12:10</td>\n</tr>\n<tr>\n<td>199</td>\n<td>15:10</td>\n</tr>\n<tr>\n<td>198</td>\n<td>16:10</td>\n</tr>\n<tr>\n<td>121</td>\n<td>17:08</td>\n</tr>\n<tr>\n<td>198</td>\n<td>19:08</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Messages inserted by ETL in the db table   // etl cron run iteration 1</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>message id</th>\n<th>occurence time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>198</td>\n<td>16:10</td>\n</tr>\n<tr>\n<td>199</td>\n<td>15:10</td>\n</tr>\n<tr>\n<td>198</td>\n<td>19:08</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Messages inserted by ETL in the db table   // etl cron run iteration 2</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>message id</th>\n<th>occurence time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>122</td>\n<td>12:10</td>\n</tr>\n<tr>\n<td>121</td>\n<td>12:05</td>\n</tr>\n<tr>\n<td>121</td>\n<td>17:08</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>expected output shown in UI</strong></p>\n<p>121 -198 (12:05 - 16:10)  calc total time<br />\n121 -198 (17:08 - 19:08)  calc total time</p>\n<p>The application runs after the etl run iteration 1 and find the records in unordered and needs to wait for the further records to calculate the total time.</p>\n<p>how can we solve this problem. i was trying to solve by using variable sliding window algo or interval overlap algo? any idea ?</p>\n"},{"tags":["java","windows","eclipse"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675481468,"post_id":75342717,"comment_id":132944028,"body_markdown":"If you are able, please copy the entire text of the error message, and paste it into the question.  (I used &quot;If you are able&quot; because I&#39;ve seen some error message displays that did not permit copying the text.)","body":"If you are able, please copy the entire text of the error message, and paste it into the question.  (I used &quot;If you are able&quot; because I&#39;ve seen some error message displays that did not permit copying the text.)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675481629,"post_id":75342717,"comment_id":132944038,"body_markdown":"Java on your machine might have been uninstalled or deleted. Have you explored to see what is in `C:\\Program Files\\Java\\jdk-18.0.1.1`  ? If you don&#39;t have 18.0~, is there another JDK on your machine?","body":"Java on your machine might have been uninstalled or deleted. Have you explored to see what is in <code>C:\\Program Files\\Java\\jdk-18.0.1.1</code>  ? If you don&#39;t have 18.0~, is there another JDK on your machine?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675489835,"post_id":75342717,"comment_id":132944612,"body_markdown":"If you have the JRE installed somewhere other than the directory specified in the message, then you may find [this question](https://stackoverflow.com/q/48349760) helpful.","body":"If you have the JRE installed somewhere other than the directory specified in the message, then you may find <a href=\"https://stackoverflow.com/q/48349760\">this question</a> helpful."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1675497403,"post_id":75342717,"comment_id":132945327,"body_markdown":"What version of Eclipse? Old versions might not understand Java 18. Most downloads of the current version of Eclipse (2022-12) contain a suitable Java packaged with the download.","body":"What version of Eclipse? Old versions might not understand Java 18. Most downloads of the current version of Eclipse (2022-12) contain a suitable Java packaged with the download."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1675504757,"post_id":75342717,"comment_id":132946328,"body_markdown":"See https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example","body":"See <a href=\"https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"nofollow noreferrer\">wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675525862,"post_id":75342717,"comment_id":132949730,"body_markdown":"Have any updates been run?  Whether manual or automatic, was Java recently updated? Was Eclipse recently updated?","body":"Have any updates been run?  Whether manual or automatic, was Java recently updated? Was Eclipse recently updated?"}],"answers":[{"comments":[{"owner":{"account_id":26051834,"reputation":11,"user_id":19754896,"display_name":"Vaibhav Mishra "},"score":0,"creation_date":1675570753,"post_id":75343716,"comment_id":132956588,"body_markdown":"jdk are already installed and path is aslo set even after that i get this error","body":"jdk are already installed and path is aslo set even after that i get this error"}],"tags":[],"owner":{"account_id":25170523,"reputation":1,"user_id":19013406,"display_name":"rubiya sultana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675497219,"creation_date":1675497219,"answer_id":75343716,"question_id":75342717,"body_markdown":"Maybe you have uninstalled the jdk ,try installing the jdk again,set the environment variables. It should work","title":"Eclipse is unable to open, have used eclipse before and has open before without a problem. Now I keep getting the following error message:","body":"<p>Maybe you have uninstalled the jdk ,try installing the jdk again,set the environment variables. It should work</p>\n"}],"owner":{"account_id":26051834,"reputation":11,"user_id":19754896,"display_name":"Vaibhav Mishra "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675497219,"creation_date":1675480673,"question_id":75342717,"body_markdown":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\r\n\r\nHave gotten eclipse to open and work on projects before and won&#39;t open.\r\n\r\nHere is a screen shot of what I keep getting:\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/e5kOC.png)\r\n\r\n","title":"Eclipse is unable to open, have used eclipse before and has open before without a problem. Now I keep getting the following error message:","body":"<p>A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:</p>\n<p>Have gotten eclipse to open and work on projects before and won't open.</p>\n<p>Here is a screen shot of what I keep getting:</p>\n<p><a href=\"https://i.stack.imgur.com/e5kOC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","tomcat","iis","url-rewriting"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1675440023,"post_id":75334914,"comment_id":132935979,"body_markdown":"You should use HttpPlatformHandler to host Java web apps on IIS, https://azure.microsoft.com/en-us/blog/announcing-the-release-of-the-httpplatformhandler-module-for-iis-8/","body":"You should use HttpPlatformHandler to host Java web apps on IIS, <a href=\"https://azure.microsoft.com/en-us/blog/announcing-the-release-of-the-httpplatformhandler-module-for-iis-8/\" rel=\"nofollow noreferrer\">azure.microsoft.com/en-us/blog/&hellip;</a>"},{"owner":{"account_id":15333788,"reputation":107,"user_id":11062769,"display_name":"Vinu Pillai"},"score":0,"creation_date":1675497216,"post_id":75334914,"comment_id":132945300,"body_markdown":"@LexLi Thanks for the reply, I am not hosting java apps on IIS, I am hosting it on Tomcat containers and leveraging IIS rewrite rule to access app at port 80 instead of Tomcat&#39;s port 8080. Also I can&#39;t host Tomcat on port 80 as there are other apps running on port 80 which uses the API from app deployed in Tomcat.","body":"@LexLi Thanks for the reply, I am not hosting java apps on IIS, I am hosting it on Tomcat containers and leveraging IIS rewrite rule to access app at port 80 instead of Tomcat&#39;s port 8080. Also I can&#39;t host Tomcat on port 80 as there are other apps running on port 80 which uses the API from app deployed in Tomcat."},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1675498761,"post_id":75334914,"comment_id":132945492,"body_markdown":"You do need to read that article and see what I was talking about. IIS is powerful enough to allow multiple web apps/sites to run at port 80, so I wonder why you cannot let it serve you in the best possible way.","body":"You do need to read that article and see what I was talking about. IIS is powerful enough to allow multiple web apps/sites to run at port 80, so I wonder why you cannot let it serve you in the best possible way."},{"owner":{"account_id":15333788,"reputation":107,"user_id":11062769,"display_name":"Vinu Pillai"},"score":0,"creation_date":1675503301,"post_id":75334914,"comment_id":132946118,"body_markdown":"@LexLi - Sure, I am reading it now. Will implement and check if serves the purpose. Thanks alot for your suggestion.","body":"@LexLi - Sure, I am reading it now. Will implement and check if serves the purpose. Thanks alot for your suggestion."},{"owner":{"account_id":15333788,"reputation":107,"user_id":11062769,"display_name":"Vinu Pillai"},"score":0,"creation_date":1676020503,"post_id":75334914,"comment_id":133056963,"body_markdown":"@LexLi - I have tried this and it works fine, but I don&#39;t want my product to depend on additional module other than default. I will keep trying other solution and post the update here in case I got the solution to the issue. Thanks for your recommendation.","body":"@LexLi - I have tried this and it works fine, but I don&#39;t want my product to depend on additional module other than default. I will keep trying other solution and post the update here in case I got the solution to the issue. Thanks for your recommendation."},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":1,"creation_date":1676054489,"post_id":75334914,"comment_id":133067266,"body_markdown":"Out-of-band IIS components (URL Rewrite/HttpPlatformHandler) are under the same support policies, usually considered part of Windows/IIS. Thus, &quot;I don&#39;t want my product to depend on additional module other than default&quot; is an unnecessary concern. Most IIS administrators should be familiar with them (since IIS 7).","body":"Out-of-band IIS components (URL Rewrite/HttpPlatformHandler) are under the same support policies, usually considered part of Windows/IIS. Thus, &quot;I don&#39;t want my product to depend on additional module other than default&quot; is an unnecessary concern. Most IIS administrators should be familiar with them (since IIS 7)."},{"owner":{"account_id":15333788,"reputation":107,"user_id":11062769,"display_name":"Vinu Pillai"},"score":0,"creation_date":1676213980,"post_id":75334914,"comment_id":133088203,"body_markdown":"@LexLi - I completely agree with you. I will use it in our development environment and once security team qualifies to be deployable in prod then we can go with it. Thanks.","body":"@LexLi - I completely agree with you. I will use it in our development environment and once security team qualifies to be deployable in prod then we can go with it. Thanks."}],"owner":{"account_id":15333788,"reputation":107,"user_id":11062769,"display_name":"Vinu Pillai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675497032,"creation_date":1675422872,"question_id":75334914,"body_markdown":"I have deployed a Spring Boot application in Tomcat in Windows Server and it&#39;s accessible on browser via http://server-name:8080/app. Now, for end users I don&#39;t want them to hit the app at port 8080, so I have configured an IIS rewrite rule\r\n\r\n```xml\r\n&lt;rule name=&quot;app&quot; enabled=&quot;true&quot; stopProcessing=&quot;false&quot;&gt;\r\n\t&lt;match url=&quot;^app.*&quot; /&gt;\r\n\t&lt;action type=&quot;Rewrite&quot; url=&quot;http://server-name:8080/{R:0}&quot; logRewriteUrl=&quot;true&quot; /&gt;\r\n&lt;/rule&gt;\r\n```\r\n\r\nNow, when I hit http://server-name/app, it works, but the subsequent calls are going to http://server-name:8080/app.\r\n\r\nI am not sure if there is a problem with the IIS rule since I ran the app.war using same application.properties as\r\n\r\n```bash\r\njava -jar app.war --server.port=8080 --spring.config.import=application.properties\r\n```\r\n\r\nThe only caveat here is I am passing context path in properties as\r\n\r\n```none\r\nserver.servlet.context-path=/app\r\n```\r\n\r\nand in this scenario all the URL calls go without port 8080. If anyone have any insight or solution, please share.\r\n\r\n**Please NOTE**: I can&#39;t host Tomcat on port 80 as there are other apps running on port 80 which uses the API from app deployed in Tomcat.","title":"IIS rewrite rule with Tomcat 9.0","body":"<p>I have deployed a Spring Boot application in Tomcat in Windows Server and it's accessible on browser via http://server-name:8080/app. Now, for end users I don't want them to hit the app at port 8080, so I have configured an IIS rewrite rule</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rule name=&quot;app&quot; enabled=&quot;true&quot; stopProcessing=&quot;false&quot;&gt;\n    &lt;match url=&quot;^app.*&quot; /&gt;\n    &lt;action type=&quot;Rewrite&quot; url=&quot;http://server-name:8080/{R:0}&quot; logRewriteUrl=&quot;true&quot; /&gt;\n&lt;/rule&gt;\n</code></pre>\n<p>Now, when I hit http://server-name/app, it works, but the subsequent calls are going to http://server-name:8080/app.</p>\n<p>I am not sure if there is a problem with the IIS rule since I ran the app.war using same application.properties as</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar app.war --server.port=8080 --spring.config.import=application.properties\n</code></pre>\n<p>The only caveat here is I am passing context path in properties as</p>\n<pre class=\"lang-none prettyprint-override\"><code>server.servlet.context-path=/app\n</code></pre>\n<p>and in this scenario all the URL calls go without port 8080. If anyone have any insight or solution, please share.</p>\n<p><strong>Please NOTE</strong>: I can't host Tomcat on port 80 as there are other apps running on port 80 which uses the API from app deployed in Tomcat.</p>\n"},{"tags":["java","spring","spring-boot","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675496291,"creation_date":1675496291,"answer_id":75343653,"question_id":75249093,"body_markdown":"I found a solution by using Kotlin: Adding a Question mark behind the Parameter Type allows me to set the value to null.","title":"Accessing optional parameters in Spring Boot GraphQL","body":"<p>I found a solution by using Kotlin: Adding a Question mark behind the Parameter Type allows me to set the value to null.</p>\n"}],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75343653,"answer_count":1,"score":1,"last_activity_date":1675496291,"creation_date":1674751108,"question_id":75249093,"body_markdown":"I have this QueryMapping method where I have some parameters marked as required in my GrapthQL schema, but not all. Using `@Argument` allows me to grab all required parameters, but when I send a Query without an optional parameter it crashes. Using the `RequestParam` annotation with a default value doesn&#39;t work since its type is an integer and the annotation requires a string. (I guess it&#39;s supposed to be called within a REST-API)\r\n\r\n```Java\r\n@QueryMapping\r\npublic List&lt;Record&gt; getRecord(Argument String email, @Argument int dateFrom, @RequestParam(required = false, defaultValue = 0) int dateTo) {\r\n    return repository.findSpecific(email, dateFrom);\r\n}\r\n```\r\n\r\nEdit: Method overloading does not work.\r\n\r\nWhat can I do?","title":"Accessing optional parameters in Spring Boot GraphQL","body":"<p>I have this QueryMapping method where I have some parameters marked as required in my GrapthQL schema, but not all. Using <code>@Argument</code> allows me to grab all required parameters, but when I send a Query without an optional parameter it crashes. Using the <code>RequestParam</code> annotation with a default value doesn't work since its type is an integer and the annotation requires a string. (I guess it's supposed to be called within a REST-API)</p>\n<pre><code>@QueryMapping\npublic List&lt;Record&gt; getRecord(Argument String email, @Argument int dateFrom, @RequestParam(required = false, defaultValue = 0) int dateTo) {\n    return repository.findSpecific(email, dateFrom);\n}\n</code></pre>\n<p>Edit: Method overloading does not work.</p>\n<p>What can I do?</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675495930,"creation_date":1675495930,"question_id":75343628,"body_markdown":"We can roll back transactions at the end of the tests by adding the `@Transactional` annotation:\r\n\r\n```java\r\n@Transactional(transactionManager = &quot;transactionManager1&quot;)\r\n```\r\n\r\nBut what if I need to roll back two transaction managers at the end of the test? I tried adding two `@Transactional` annotations:\r\n\r\n```java\r\n@Transactional(transactionManager = &quot;transactionManager1&quot;)\r\n@Transactional(transactionManager = &quot;transactionManager2&quot;)\r\n```\r\n\r\nOf course, it doesn&#39;t work. What should I do?\r\n","title":"Is there any way to roll back two transaction managers at the end of spring tests?","body":"<p>We can roll back transactions at the end of the tests by adding the <code>@Transactional</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(transactionManager = &quot;transactionManager1&quot;)\n</code></pre>\n<p>But what if I need to roll back two transaction managers at the end of the test? I tried adding two <code>@Transactional</code> annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(transactionManager = &quot;transactionManager1&quot;)\n@Transactional(transactionManager = &quot;transactionManager2&quot;)\n</code></pre>\n<p>Of course, it doesn't work. What should I do?</p>\n"},{"tags":["java","maven","var"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1675261927,"post_id":75311666,"comment_id":132890655,"body_markdown":"I don&#39;t think you can selectively turn off language features like that. IMO a sane solution is to have that kind of check as an external quality tool separately (something like checkstyle, errorprone, sonarqube, ...).","body":"I don&#39;t think you can selectively turn off language features like that. IMO a sane solution is to have that kind of check as an external quality tool separately (something like checkstyle, errorprone, sonarqube, ...)."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675262579,"post_id":75311666,"comment_id":132890869,"body_markdown":"*I don&#39;t want to have to tell Maven to compile for 1.8* even if that does exactly what you want? ok...","body":"<i>I don&#39;t want to have to tell Maven to compile for 1.8</i> even if that does exactly what you want? ok..."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675262725,"post_id":75311666,"comment_id":132890918,"body_markdown":"@Antoniossss: it would also turn off all other language features after that, like switch expressions, instanceof pattern matching, text blocks, record types, ...","body":"@Antoniossss: it would also turn off all other language features after that, like switch expressions, instanceof pattern matching, text blocks, record types, ..."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675262867,"post_id":75311666,"comment_id":132890975,"body_markdown":"and those features will work just fine on lower Java versions???","body":"and those features will work just fine on lower Java versions???"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":3,"creation_date":1675263175,"post_id":75311666,"comment_id":132891095,"body_markdown":"@Antoniossss ??? no, they would not, which is likely why the OP doesn&#39;t want to compile with Java 8.","body":"@Antoniossss ??? no, they would not, which is likely why the OP doesn&#39;t want to compile with Java 8."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675263281,"post_id":75311666,"comment_id":132891130,"body_markdown":"What is the point then to have compile time error for 1 feature due to &quot;it no beeing compatible backwards&quot; but keep all the others in place (which are not backwards compatible neither) ?? :)","body":"What is the point then to have compile time error for 1 feature due to &quot;it no beeing compatible backwards&quot; but keep all the others in place (which are not backwards compatible neither) ?? :)"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675265651,"post_id":75311666,"comment_id":132891988,"body_markdown":"@Antoniossss: I think you made up the &quot;backwards compatible&quot; argument on your own, because I don&#39;t see anyone else mentioning it. OP could have any number of reasons to dislike this specific feature (maybe they&#39;ve found that code becomes less readable without the explicit type, ...). If backwards compatibility was the goal, then turning off that one feature alone would be silly, agreed.","body":"@Antoniossss: I think you made up the &quot;backwards compatible&quot; argument on your own, because I don&#39;t see anyone else mentioning it. OP could have any number of reasons to dislike this specific feature (maybe they&#39;ve found that code becomes less readable without the explicit type, ...). If backwards compatibility was the goal, then turning off that one feature alone would be silly, agreed."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1675266473,"post_id":75311666,"comment_id":132892328,"body_markdown":"The question is why is it a problem to use `var ..` (type inference).. ? Exists since JDK10... So if you only allow JDK8 feature (you should use `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` but that prevents the usage of several other language features.. If it&#39;s about readability you should go via checkstyle or SonarQube (Static code analyzer)... but in the mean time newer versions suggest the usage also the IDE&#39;s make suggestings in that direction. If you like to remove all usage of `var ..` that can be done via IntelliJ IDEA (https://youtu.be/ujGsLZjrz6c)","body":"The question is why is it a problem to use <code>var ..</code> (type inference).. ? Exists since JDK10... So if you only allow JDK8 feature (you should use <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> but that prevents the usage of several other language features.. If it&#39;s about readability you should go via checkstyle or SonarQube (Static code analyzer)... but in the mean time newer versions suggest the usage also the IDE&#39;s make suggestings in that direction. If you like to remove all usage of <code>var ..</code> that can be done via IntelliJ IDEA (<a href=\"https://youtu.be/ujGsLZjrz6c\" rel=\"nofollow noreferrer\">youtu.be/ujGsLZjrz6c</a>)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1675276989,"post_id":75311666,"comment_id":132895989,"body_markdown":"Why do you not want to use `var`?  A good IDE can tell you anyway and your code gets shorter.","body":"Why do you not want to use <code>var</code>?  A good IDE can tell you anyway and your code gets shorter."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":1,"creation_date":1675294684,"post_id":75311666,"comment_id":132900662,"body_markdown":"&quot;Why do I want this?&quot; seems to be the question of the day. Answer: The psudo-soft-typing borrowed from other languages is simply very easy to pollute. Strong typing is easier to read and easier to maintain in the long run. I prefer strong-typed languages and don&#39;t want soft-types in the Java code I maintain. Old adage of &quot;Just because you can, doesn&#39;t mean you should.&quot; Not everyone will agree, obviously, but that is the reason. At the end of the day, I&#39;m asking *how* to do it. If you personally like soft typing in Java, I&#39;m not telling you to stop using it.","body":"&quot;Why do I want this?&quot; seems to be the question of the day. Answer: The psudo-soft-typing borrowed from other languages is simply very easy to pollute. Strong typing is easier to read and easier to maintain in the long run. I prefer strong-typed languages and don&#39;t want soft-types in the Java code I maintain. Old adage of &quot;Just because you can, doesn&#39;t mean you should.&quot; Not everyone will agree, obviously, but that is the reason. At the end of the day, I&#39;m asking <i>how</i> to do it. If you personally like soft typing in Java, I&#39;m not telling you to stop using it."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1675304182,"post_id":75311666,"comment_id":132902070,"body_markdown":"@ScrappyDev You seem to either be mistaken about how this feature works, or mistaken about what &quot;strong typing&quot; (or soft typing) means.  A variable declared with `var` is exactly as strongly typed as one with a manifest type; it merely means that the compiler figures out the static type for you, but it still has a static type and the compiler performs exactly the same static type checking.","body":"@ScrappyDev You seem to either be mistaken about how this feature works, or mistaken about what &quot;strong typing&quot; (or soft typing) means.  A variable declared with <code>var</code> is exactly as strongly typed as one with a manifest type; it merely means that the compiler figures out the static type for you, but it still has a static type and the compiler performs exactly the same static type checking."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1675304242,"post_id":75311666,"comment_id":132902078,"body_markdown":"@ScrappyDev In any case, no, you cannot pick and choose which language features you want the compiler to support.  You can use style-checking tools like `CheckStyle` to enforce a personal style guide if you want.","body":"@ScrappyDev In any case, no, you cannot pick and choose which language features you want the compiler to support.  You can use style-checking tools like <code>CheckStyle</code> to enforce a personal style guide if you want."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675320252,"post_id":75311666,"comment_id":132904326,"body_markdown":"@ScrappyDev having `var` will have exactly the same effect like explicitly typed variable as long as &quot;the right side of assignment&quot; is of obvious and known type. This is just a shortcut like diamont operator is when you actually know what should be there. it is NOT declaration of variabla that can be anything anywhere (its not hidden `Object obj;` declaration). So I agree with Brian. @Joahim you are right about me making up requiremets and mention regarding compilation to 1.8 (proposed by the OP) as a solution put me of tracks.","body":"@ScrappyDev having <code>var</code> will have exactly the same effect like explicitly typed variable as long as &quot;the right side of assignment&quot; is of obvious and known type. This is just a shortcut like diamont operator is when you actually know what should be there. it is NOT declaration of variabla that can be anything anywhere (its not hidden <code>Object obj;</code> declaration). So I agree with Brian. @Joahim you are right about me making up requiremets and mention regarding compilation to 1.8 (proposed by the OP) as a solution put me of tracks."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675320429,"post_id":75311666,"comment_id":132904365,"body_markdown":"@ScrappyDev If it was not a dream I even recall Sonar encourage to use of `var` in some specific scenarios claiming that code readability goes higher. In come cases I can agree with that as `var list=new ArrayList&lt;String&gt;()` is not confusing at all right? But thats offtopic actually.","body":"@ScrappyDev If it was not a dream I even recall Sonar encourage to use of <code>var</code> in some specific scenarios claiming that code readability goes higher. In come cases I can agree with that as <code>var list=new ArrayList&lt;String&gt;()</code> is not confusing at all right? But thats offtopic actually."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1675394290,"post_id":75311666,"comment_id":132924446,"body_markdown":"@BrianGoetz That&#39;s why I called it Psudo-soft-typing. The compiler picks the type it compiles it to rather than you.","body":"@BrianGoetz That&#39;s why I called it Psudo-soft-typing. The compiler picks the type it compiles it to rather than you."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1675441624,"post_id":75311666,"comment_id":132936522,"body_markdown":"@ScrappyDev There&#39;s an actual name for this: type inference.  Type inference has been used in statically typed languages since the 80s, and Java has used type inference in other contexts since Java 5.  It&#39;s not pseudo-anything, or soft-anything.","body":"@ScrappyDev There&#39;s an actual name for this: type inference.  Type inference has been used in statically typed languages since the 80s, and Java has used type inference in other contexts since Java 5.  It&#39;s not pseudo-anything, or soft-anything."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1675483446,"post_id":75311666,"comment_id":132944154,"body_markdown":"@BrianGoetz - That&#39;s just semantics. And not relevant to the question.","body":"@BrianGoetz - That&#39;s just semantics. And not relevant to the question."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1675263015,"creation_date":1675263015,"answer_id":75311982,"question_id":75311666,"body_markdown":"In general consider using static analyzer of your code that runs as a plugin. You can define a rule to fail the build once `var` is observed in the code.\r\n","title":"Is there a way to make var a compile-time error in Maven?","body":"<p>In general consider using static analyzer of your code that runs as a plugin. You can define a rule to fail the build once <code>var</code> is observed in the code.</p>\n"},{"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1675293834,"post_id":75312327,"comment_id":132900514,"body_markdown":"One other thing we&#39;re looking at is SonarQube rules, but I like this a bit more since it can happen at build-time.","body":"One other thing we&#39;re looking at is SonarQube rules, but I like this a bit more since it can happen at build-time."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675264517,"creation_date":1675264517,"answer_id":75312327,"question_id":75311666,"body_markdown":"You can use Checkstyle&#39;s [IllegalType]( https://checkstyle.org/config_coding.html#IllegalType) check. Checkstyle has [a Maven plugin](https://maven.apache.org/plugins/maven-checkstyle-plugin/).\r\n\r\nThe relevant part of the XML config would look like: \r\n\r\n    ...\r\n    &lt;module name=&quot;IllegalType&quot;&gt;\r\n      &lt;property name=&quot;illegalClassNames&quot; value=&quot;var&quot;/&gt;\r\n    &lt;/module&gt;\r\n    ...\r\n\r\nBit funny that the property is called &quot;illegal**ClassNames**&quot;, but I tested and it worked, [as Checkstyle&#39;s maintainer said it would](https://github.com/checkstyle/checkstyle/issues/8978#issuecomment-737306564).","title":"Is there a way to make var a compile-time error in Maven?","body":"<p>You can use Checkstyle's <a href=\"https://checkstyle.org/config_coding.html#IllegalType\" rel=\"nofollow noreferrer\">IllegalType</a> check. Checkstyle has <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\" rel=\"nofollow noreferrer\">a Maven plugin</a>.</p>\n<p>The relevant part of the XML config would look like:</p>\n<pre><code>...\n&lt;module name=&quot;IllegalType&quot;&gt;\n  &lt;property name=&quot;illegalClassNames&quot; value=&quot;var&quot;/&gt;\n&lt;/module&gt;\n...\n</code></pre>\n<p>Bit funny that the property is called &quot;illegal<strong>ClassNames</strong>&quot;, but I tested and it worked, <a href=\"https://github.com/checkstyle/checkstyle/issues/8978#issuecomment-737306564\" rel=\"nofollow noreferrer\">as Checkstyle's maintainer said it would</a>.</p>\n"},{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675495386,"creation_date":1675264564,"answer_id":75312334,"question_id":75311666,"body_markdown":"Like Mark said, this is a job for a static code analyzer. I would use [Checkstyle][1], which can easily be [integrated with Maven][2].\r\n\r\nYou can use the [MatchXpath][3] module to achieve what you want. In fact, the example on the website does the opposite, requiring that all variables use `var`. To get the result you want, you should be able to simply invert the second part of the rule:\r\n\r\n    &lt;module name=&quot;MatchXpath&quot;&gt;\r\n      &lt;property name=&quot;query&quot; value=&quot;//VARIABLE_DEF[./ASSIGN/EXPR/LITERAL_NEW\r\n              and (./TYPE/IDENT[@text=&#39;var&#39;])]&quot;/&gt;\r\n      &lt;message key=&quot;matchxpath.match&quot; value=&quot;&#39;var&#39; not allowed&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n  [1]: https://checkstyle.sourceforge.io/\r\n  [2]: https://maven.apache.org/plugins/maven-checkstyle-plugin/\r\n  [3]: https://checkstyle.sourceforge.io/config_coding.html#MatchXpath","title":"Is there a way to make var a compile-time error in Maven?","body":"<p>Like Mark said, this is a job for a static code analyzer. I would use <a href=\"https://checkstyle.sourceforge.io/\" rel=\"nofollow noreferrer\">Checkstyle</a>, which can easily be <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\" rel=\"nofollow noreferrer\">integrated with Maven</a>.</p>\n<p>You can use the <a href=\"https://checkstyle.sourceforge.io/config_coding.html#MatchXpath\" rel=\"nofollow noreferrer\">MatchXpath</a> module to achieve what you want. In fact, the example on the website does the opposite, requiring that all variables use <code>var</code>. To get the result you want, you should be able to simply invert the second part of the rule:</p>\n<pre><code>&lt;module name=&quot;MatchXpath&quot;&gt;\n  &lt;property name=&quot;query&quot; value=&quot;//VARIABLE_DEF[./ASSIGN/EXPR/LITERAL_NEW\n          and (./TYPE/IDENT[@text='var'])]&quot;/&gt;\n  &lt;message key=&quot;matchxpath.match&quot; value=&quot;'var' not allowed&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1675495386,"creation_date":1675261521,"question_id":75311666,"body_markdown":"We&#39;re updating to us Java 17.\r\nIs there a way in Maven to make it so that using `var` creates a compile-time error without compiling for an older version of java?\r\nIn other words, I don&#39;t want to have to tell Maven to compile for 1.8 or the like.\r\n\r\nI&#39;d also prefer not to use an IDE centric solution since we don&#39;t all use the same IDE.","title":"Is there a way to make var a compile-time error in Maven?","body":"<p>We're updating to us Java 17.\nIs there a way in Maven to make it so that using <code>var</code> creates a compile-time error without compiling for an older version of java?\nIn other words, I don't want to have to tell Maven to compile for 1.8 or the like.</p>\n<p>I'd also prefer not to use an IDE centric solution since we don't all use the same IDE.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-bigquery","google-oauth"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1675513811,"post_id":75343510,"comment_id":132947612,"body_markdown":"please edit your question and include your code.","body":"please edit your question and include your code."},{"owner":{"account_id":3080,"reputation":2755,"user_id":4372,"display_name":"Johannes Passing"},"score":0,"creation_date":1675747905,"post_id":75343510,"comment_id":132990251,"body_markdown":"This looks like a networking problem, and it might be caused by [Private Google Access](https://cloud.google.com/vpc/docs/private-google-access) being disabled, lack of egress internet access, or a firewall or VPC-SC configuration that disallows these network connections.","body":"This looks like a networking problem, and it might be caused by <a href=\"https://cloud.google.com/vpc/docs/private-google-access\" rel=\"nofollow noreferrer\">Private Google Access</a> being disabled, lack of egress internet access, or a firewall or VPC-SC configuration that disallows these network connections."}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675494176,"creation_date":1675494176,"question_id":75343510,"body_markdown":"I am developing an API that connects to Google BigQuery. On my local development workspace, the application starts up fine and I am able to connect to Google Service Account successfully and get the results. However when I deploy it to the cloud cluster on IT environment, the application fails to connect to the Google Service Account. Below are the snippets from the console log. \r\n\r\nConsole log from local development workspace. This is successful.\r\n\r\n    2023-02-04 00:02:29.381  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\r\n    POST https://oauth2.googleapis.com/token\r\n    Accept-Encoding: gzip\r\n    User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)\r\n    Content-Type: application/x-www-form-urlencoded; charset=UTF-8\r\n    Content-Length: 808\r\n    \r\n    2023-02-04 00:02:29.385  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : **curl -v --compressed -X POST -H &#39;Accept-Encoding: gzip&#39; -H &#39;User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)&#39; -H &#39;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&#39; -d &#39;@-&#39; -- &#39;https://oauth2.googleapis.com/token&#39; &lt;&lt; $$$**\r\n    2023-02-04 00:02:29.913  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 808 bytes\r\n    2023-02-04 00:02:29.915  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : grant_type=xxxsome_valuexxxx\r\n    2023-02-04 00:02:30.118  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- RESPONSE --------------\r\n    HTTP/1.1 200 OK\r\n    Transfer-Encoding: chunked\r\n    Alt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000\r\n    Server: scaffolding on HTTPServer2\r\n    X-Content-Type-Options: nosniff\r\n    Connection: keep-alive\r\n    Date: Sat, 04 Feb 2023 06:02:30 GMT\r\n    Via: 1.1 ippks41.company-dns.com:3128 (Cisco-WSA/12.5.2-011)\r\n    X-Frame-Options: SAMEORIGIN\r\n    Cache-Control: private\r\n    Content-Encoding: gzip\r\n    Vary: Referer\r\n    Vary: X-Origin\r\n    Vary: Origin\r\n    X-XSS-Protection: 0\r\n    Content-Type: application/json; charset=UTF-8\r\n    \r\n    2023-02-04 00:02:30.124  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 1,083 bytes\r\n    2023-02-04 00:02:30.125  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : {&quot;access_token”:”encrypted_access_token”,”expires_in&quot;:3599,&quot;token_type&quot;:&quot;Bearer&quot;}\r\n    2023-02-04 00:02:30.153  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\r\n    POST https://www.googleapis.com/bigquery/v2/projects/project_id/queries\r\n    Accept-Encoding: gzip\r\n    Authorization: &lt;Not Logged&gt;\r\n    User-Agent: gcloud-java/2.1.6 Google-API-Java-Client/1.32.1 Google-HTTP-Java-Client/1.40.0 (gzip)\r\n    x-goog-api-client: gl-java/11.0.10 gdcl/1.32.1 mac-os-x/10.16\r\n    Content-Type: application/json; charset=UTF-8\r\n    Content-Encoding: gzip\r\n    \r\n    2023-02-04 00:02:30.154  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : curl -v --compressed -X POST -H &#39;Accept-Encoding: gzip&#39; -H &#39;Authorization: &lt;Not Logged&gt;&#39; -H &#39;User-Agent: gcloud-java/2.1.6 Google-API-Java-Client/1.32.1 Google-HTTP-Java-Client/1.40.0 (gzip)&#39; -H &#39;x-goog-api-client: gl-java/11.0.10 gdcl/1.32.1 mac-os-x/10.16&#39; -H &#39;Content-Type: application/json; charset=UTF-8&#39; -H &#39;Content-Encoding: gzip&#39; -d &#39;@-&#39; -- &#39;https://www.googleapis.com/bigquery/v2/projects/project_id/queries&#39; &lt;&lt; $$$\r\n    2023-02-04 00:02:30.357  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 412 bytes\r\n    2023-02-04 00:02:30.358  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : {&quot;query”:”select” data from table where condition,”requestId”:”some”_ecrypted_value,”useLegacySql&quot;:false}\r\n    2023-02-04 00:02:31.074  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- RESPONSE --------------\r\n    HTTP/1.1 200 OK\r\n    Transfer-Encoding: chunked\r\n    Alt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000\r\n    Server: ESF\r\n    X-Content-Type-Options: nosniff\r\n    Connection: keep-alive\r\n    Date: Sat, 04 Feb 2023 06:02:31 GMT\r\n    Via: 1.1 ippks41.company-dns.com:3128 (Cisco-WSA/12.5.2-011)\r\n    X-Frame-Options: SAMEORIGIN\r\n    Cache-Control: private\r\n    Content-Encoding: gzip\r\n    Vary: Referer\r\n    Vary: X-Origin\r\n    Vary: Origin\r\n    X-XSS-Protection: 0\r\n    Content-Type: application/json; charset=UTF-8\r\n    \r\n    2023-02-04 00:02:31.110  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 1,000 bytes\r\n\r\n\r\nConsole log snippet from cloud cluster on IT/DEV environment. This fails to connect\r\n\r\n    2023-02-04 05:46:12.428  INFO 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\r\n    POST https://oauth2.googleapis.com/token\r\n    Accept-Encoding: gzip\r\n    User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)\r\n    Content-Type: application/x-www-form-urlencoded; charset=UTF-8\r\n    Content-Length: 808\r\n    \r\n    2023-02-04 05:46:12.431  INFO 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : **curl -v --compressed -X POST -H &#39;Accept-Encoding: gzip&#39; -H &#39;User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)&#39; -H &#39;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&#39; -d &#39;@-&#39; -- &#39;https://oauth2.googleapis.com/token&#39; &lt;&lt; $$$**\r\n    2023-02-04 05:46:23.325  WARN 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : exception thrown while executing request\r\n    \r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\r\n    \tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\r\n    \tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.queryRpc(HttpBigQueryRpc.java:650) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1284) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1281) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\r\n    \tat com.google.cloud.bigquery.BigQueryRetryHelper.run(BigQueryRetryHelper.java:85) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryRetryHelper.runWithRetries(BigQueryRetryHelper.java:49) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.queryRpc(BigQueryImpl.java:1280) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.query(BigQueryImpl.java:1268) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n\r\nDoes this require any firewall setup on the cloud cluster? Or does it require any rules to enable access to the oauth url for googleapis? Or does it require any egress gateway setup?","title":"Google Service Account. Unable to get access token for curl post https://oauth2.googleapis.com/token","body":"<p>I am developing an API that connects to Google BigQuery. On my local development workspace, the application starts up fine and I am able to connect to Google Service Account successfully and get the results. However when I deploy it to the cloud cluster on IT environment, the application fails to connect to the Google Service Account. Below are the snippets from the console log.</p>\n<p>Console log from local development workspace. This is successful.</p>\n<pre><code>2023-02-04 00:02:29.381  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\nPOST https://oauth2.googleapis.com/token\nAccept-Encoding: gzip\nUser-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\nContent-Length: 808\n\n2023-02-04 00:02:29.385  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : **curl -v --compressed -X POST -H 'Accept-Encoding: gzip' -H 'User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -d '@-' -- 'https://oauth2.googleapis.com/token' &lt;&lt; $$$**\n2023-02-04 00:02:29.913  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 808 bytes\n2023-02-04 00:02:29.915  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : grant_type=xxxsome_valuexxxx\n2023-02-04 00:02:30.118  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- RESPONSE --------------\nHTTP/1.1 200 OK\nTransfer-Encoding: chunked\nAlt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000\nServer: scaffolding on HTTPServer2\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nDate: Sat, 04 Feb 2023 06:02:30 GMT\nVia: 1.1 ippks41.company-dns.com:3128 (Cisco-WSA/12.5.2-011)\nX-Frame-Options: SAMEORIGIN\nCache-Control: private\nContent-Encoding: gzip\nVary: Referer\nVary: X-Origin\nVary: Origin\nX-XSS-Protection: 0\nContent-Type: application/json; charset=UTF-8\n\n2023-02-04 00:02:30.124  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 1,083 bytes\n2023-02-04 00:02:30.125  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : {&quot;access_token”:”encrypted_access_token”,”expires_in&quot;:3599,&quot;token_type&quot;:&quot;Bearer&quot;}\n2023-02-04 00:02:30.153  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\nPOST https://www.googleapis.com/bigquery/v2/projects/project_id/queries\nAccept-Encoding: gzip\nAuthorization: &lt;Not Logged&gt;\nUser-Agent: gcloud-java/2.1.6 Google-API-Java-Client/1.32.1 Google-HTTP-Java-Client/1.40.0 (gzip)\nx-goog-api-client: gl-java/11.0.10 gdcl/1.32.1 mac-os-x/10.16\nContent-Type: application/json; charset=UTF-8\nContent-Encoding: gzip\n\n2023-02-04 00:02:30.154  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : curl -v --compressed -X POST -H 'Accept-Encoding: gzip' -H 'Authorization: &lt;Not Logged&gt;' -H 'User-Agent: gcloud-java/2.1.6 Google-API-Java-Client/1.32.1 Google-HTTP-Java-Client/1.40.0 (gzip)' -H 'x-goog-api-client: gl-java/11.0.10 gdcl/1.32.1 mac-os-x/10.16' -H 'Content-Type: application/json; charset=UTF-8' -H 'Content-Encoding: gzip' -d '@-' -- 'https://www.googleapis.com/bigquery/v2/projects/project_id/queries' &lt;&lt; $$$\n2023-02-04 00:02:30.357  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 412 bytes\n2023-02-04 00:02:30.358  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : {&quot;query”:”select” data from table where condition,”requestId”:”some”_ecrypted_value,”useLegacySql&quot;:false}\n2023-02-04 00:02:31.074  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : -------------- RESPONSE --------------\nHTTP/1.1 200 OK\nTransfer-Encoding: chunked\nAlt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000\nServer: ESF\nX-Content-Type-Options: nosniff\nConnection: keep-alive\nDate: Sat, 04 Feb 2023 06:02:31 GMT\nVia: 1.1 ippks41.company-dns.com:3128 (Cisco-WSA/12.5.2-011)\nX-Frame-Options: SAMEORIGIN\nCache-Control: private\nContent-Encoding: gzip\nVary: Referer\nVary: X-Origin\nVary: Origin\nX-XSS-Protection: 0\nContent-Type: application/json; charset=UTF-8\n\n2023-02-04 00:02:31.110  INFO 79746 --- [nio-8080-exec-1] c.google.api.client.http.HttpTransport   : Total: 1,000 bytes\n</code></pre>\n<p>Console log snippet from cloud cluster on IT/DEV environment. This fails to connect</p>\n<pre><code>2023-02-04 05:46:12.428  INFO 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : -------------- REQUEST  --------------\nPOST https://oauth2.googleapis.com/token\nAccept-Encoding: gzip\nUser-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\nContent-Length: 808\n\n2023-02-04 05:46:12.431  INFO 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : **curl -v --compressed -X POST -H 'Accept-Encoding: gzip' -H 'User-Agent: Google-HTTP-Java-Client/1.40.0 (gzip)' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -d '@-' -- 'https://oauth2.googleapis.com/token' &lt;&lt; $$$**\n2023-02-04 05:46:23.325  WARN 8 --- [nio-8080-exec-8] c.google.api.client.http.HttpTransport   : exception thrown while executing request\n\njava.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\n    at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.queryRpc(HttpBigQueryRpc.java:650) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1284) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1281) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\n    at com.google.cloud.bigquery.BigQueryRetryHelper.run(BigQueryRetryHelper.java:85) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryRetryHelper.runWithRetries(BigQueryRetryHelper.java:49) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl.queryRpc(BigQueryImpl.java:1280) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl.query(BigQueryImpl.java:1268) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n</code></pre>\n<p>Does this require any firewall setup on the cloud cluster? Or does it require any rules to enable access to the oauth url for googleapis? Or does it require any egress gateway setup?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675501164,"post_id":75343343,"comment_id":132945834,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27700347,"reputation":1,"user_id":21145045,"display_name":"henu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675493057,"creation_date":1675491554,"question_id":75343343,"body_markdown":"error msg\r\n```\r\n    FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCannot locate tasks that match &#39;demo:test&#39; as project &#39;demo&#39; not found in root project &#39;demo&#39;.\r\n\r\n* Try:\r\n&gt; Run gradlew projects to get a list of available projects.\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\nbuild.gradle\r\n```groovy\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.8&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nspring boot 2.7.8.  \r\njava spring quick start guide\r\n\r\nI&#39;m unsure how to do this. Can anyone help my troubleshoot this problem? Thanks!","title":"Cannot locate tasks that match &#39;demo:test&#39; as project &#39;demo&#39; not found in root project &#39;demo&#39;","body":"<p>error msg</p>\n<pre><code>    FAILURE: Build failed with an exception.\n\n* What went wrong:\nCannot locate tasks that match 'demo:test' as project 'demo' not found in root project 'demo'.\n\n* Try:\n&gt; Run gradlew projects to get a list of available projects.\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.8'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>spring boot 2.7.8.<br />\njava spring quick start guide</p>\n<p>I'm unsure how to do this. Can anyone help my troubleshoot this problem? Thanks!</p>\n"},{"tags":["javascript","java","windows","minecraft"],"comments":[{"owner":{"account_id":6532198,"reputation":54726,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1675486377,"post_id":75342990,"comment_id":132944325,"body_markdown":"`there&#39;s nothing in user variables` - there should be, perhaps you&#39;re looking in the wrong place, since there&#39;s no &quot;Apply&quot; anywhere when dealing with system environment variables","body":"<code>there&#39;s nothing in user variables</code> - there should be, perhaps you&#39;re looking in the wrong place, since there&#39;s no &quot;Apply&quot; anywhere when dealing with system environment variables"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675512916,"post_id":75342990,"comment_id":132947444,"body_markdown":"In this particular case, since a gui is involved, it would be a good idea to post screenshots of what you&#39;ve done","body":"In this particular case, since a gui is involved, it would be a good idea to post screenshots of what you&#39;ve done"},{"owner":{"account_id":27699812,"reputation":1,"user_id":21144636,"display_name":"jacksight"},"score":0,"creation_date":1675658728,"post_id":75342990,"comment_id":132969300,"body_markdown":"Sure, there you go, but my system is in Chinese lol...\nhttps://postimg.cc/gallery/Xqrkrc2","body":"Sure, there you go, but my system is in Chinese lol... <a href=\"https://postimg.cc/gallery/Xqrkrc2\" rel=\"nofollow noreferrer\">postimg.cc/gallery/Xqrkrc2</a>"}],"answers":[{"comments":[{"owner":{"account_id":27699812,"reputation":1,"user_id":21144636,"display_name":"jacksight"},"score":0,"creation_date":1675573665,"post_id":75343447,"comment_id":132956842,"body_markdown":"Btw, I also has another path, which is PATH = C:\\Program Files\\Java\\scripts\nWill this make any difference, this is for the change of my java version","body":"Btw, I also has another path, which is PATH = C:\\Program Files\\Java\\scripts Will this make any difference, this is for the change of my java version"}],"tags":[],"owner":{"account_id":25170523,"reputation":1,"user_id":19013406,"display_name":"rubiya sultana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675493037,"creation_date":1675493037,"answer_id":75343447,"question_id":75342990,"body_markdown":"try this instead Path = C:\\Program Files\\Java\\jdk-17.0.5\\bin ","title":"Windows java environment variables issue","body":"<p>try this instead Path = C:\\Program Files\\Java\\jdk-17.0.5\\bin</p>\n"}],"owner":{"account_id":27699812,"reputation":1,"user_id":21144636,"display_name":"jacksight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675493037,"creation_date":1675485660,"question_id":75342990,"body_markdown":"After I set my java environment variables in Windows 10. It works at the first time, but after rebooting, when I executed the batch file, it would show that java command wasn&#39;t working.\r\nHas anyone know what is going on? Below are my system variables, there&#39;s nothing in user variables\r\n&gt; JAVA_HOME = C:\\Program Files\\Java\\jdk-17.0.5\r\n&gt; Path = %JAVA_HOME%\\bin\r\n\r\nWhen I go back to the setting page of environment variables, without any changes, after pressing apply, it suddenly works when opening the same batch file. I gotta do this process every time I reboot...","title":"Windows java environment variables issue","body":"<p>After I set my java environment variables in Windows 10. It works at the first time, but after rebooting, when I executed the batch file, it would show that java command wasn't working.\nHas anyone know what is going on? Below are my system variables, there's nothing in user variables</p>\n<blockquote>\n<p>JAVA_HOME = C:\\Program Files\\Java\\jdk-17.0.5\nPath = %JAVA_HOME%\\bin</p>\n</blockquote>\n<p>When I go back to the setting page of environment variables, without any changes, after pressing apply, it suddenly works when opening the same batch file. I gotta do this process every time I reboot...</p>\n"},{"tags":["java","swing","jtextarea","caret"],"comments":[{"owner":{"account_id":13675883,"reputation":777,"user_id":9867351,"display_name":"Frederic Perron"},"score":0,"creation_date":1629479535,"post_id":68865808,"comment_id":121706348,"body_markdown":"From what I understand you want to put the caret at the end of the text... If that&#39;s the case, simply remove the `- 1` on the line that sets the carret position","body":"From what I understand you want to put the caret at the end of the text... If that&#39;s the case, simply remove the <code>- 1</code> on the line that sets the carret position"},{"owner":{"account_id":22327524,"reputation":124,"user_id":16549321,"display_name":"Dequog"},"score":0,"creation_date":1629479586,"post_id":68865808,"comment_id":121706370,"body_markdown":"I tried that, but then I get a space in between","body":"I tried that, but then I get a space in between"},{"owner":{"account_id":22327524,"reputation":124,"user_id":16549321,"display_name":"Dequog"},"score":0,"creation_date":1629479792,"post_id":68865808,"comment_id":121706439,"body_markdown":"Is there another way to change the caret position?","body":"Is there another way to change the caret position?"},{"owner":{"account_id":13675883,"reputation":777,"user_id":9867351,"display_name":"Frederic Perron"},"score":0,"creation_date":1629479841,"post_id":68865808,"comment_id":121706465,"body_markdown":"I am not sure of the following, but you could add ` + 1` since you are printing `-` the line before.","body":"I am not sure of the following, but you could add ` + 1` since you are printing <code>-</code> the line before."},{"owner":{"account_id":22327524,"reputation":124,"user_id":16549321,"display_name":"Dequog"},"score":1,"creation_date":1629480029,"post_id":68865808,"comment_id":121706526,"body_markdown":"That fixed it thank you so much. Put it in an answer so I can accept an upvote it.","body":"That fixed it thank you so much. Put it in an answer so I can accept an upvote it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1629486923,"post_id":68865808,"comment_id":121708559,"body_markdown":"*Let me know if you need any more code.* - you should ALWAYS post an [mre] when asking a question so we can see the entire context of the problem.","body":"<i>Let me know if you need any more code.</i> - you should ALWAYS post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> when asking a question so we can see the entire context of the problem."},{"owner":{"account_id":22327524,"reputation":124,"user_id":16549321,"display_name":"Dequog"},"score":0,"creation_date":1629487514,"post_id":68865808,"comment_id":121708704,"body_markdown":"@camickr ok thank you for letting me know","body":"@camickr ok thank you for letting me know"}],"answers":[{"tags":[],"owner":{"account_id":13675883,"reputation":777,"user_id":9867351,"display_name":"Frederic Perron"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629480191,"creation_date":1629480191,"answer_id":68865975,"question_id":68865808,"body_markdown":"You can simply replace `Config.cmdln.getText().length() - 1` by `Config.cmdln.getText().length() + 1` (the `-` has changed to the `+`).\r\n\r\nThis is possible since you are adding a character with the `println()` line before.","title":"Why does the text change after I set the Caret position for JTextArea?","body":"<p>You can simply replace <code>Config.cmdln.getText().length() - 1</code> by <code>Config.cmdln.getText().length() + 1</code> (the <code>-</code> has changed to the <code>+</code>).</p>\n<p>This is possible since you are adding a character with the <code>println()</code> line before.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675492693,"creation_date":1675492693,"answer_id":75343427,"question_id":68865808,"body_markdown":"You could also change this:\r\n\r\n    Config.cmdln.println(&quot;-&quot;);  // puts a new line after the dash\r\nto this:\r\n\r\n    Config.cmdln.print(&quot;-&quot;);    // doesn&#39;t put a new line after the dash\r\n\r\nIf you want the blank line at the end, you might be able to add the new line after setting the caret.","title":"Why does the text change after I set the Caret position for JTextArea?","body":"<p>You could also change this:</p>\n<pre><code>Config.cmdln.println(&quot;-&quot;);  // puts a new line after the dash\n</code></pre>\n<p>to this:</p>\n<pre><code>Config.cmdln.print(&quot;-&quot;);    // doesn't put a new line after the dash\n</code></pre>\n<p>If you want the blank line at the end, you might be able to add the new line after setting the caret.</p>\n"}],"owner":{"account_id":22327524,"reputation":124,"user_id":16549321,"display_name":"Dequog"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68865975,"answer_count":2,"score":1,"last_activity_date":1675492693,"creation_date":1629479260,"question_id":68865808,"body_markdown":"I&#39;m creating a program which uses a JTextArea, and when I try to change the caret position it goes from this: \r\n\r\n    hello\r\n    Hello there\r\n    -\r\n    |\r\n\r\nCode:\r\n\r\n    public void executeCommand(String cmdName){\r\n\t\tBoolean cmdFound = false;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; cmdNames.size(); i++){\r\n\t\t\tif(cmdNames.get(i).toLowerCase().equals(cmdName.toLowerCase())){\r\n\t\t\t\tcmdFound = true;\r\n\t\t\t\tcmds.get(cmdName).actionPerformed(new ActionEvent(this, 0, null));\r\n\t\t\t\tConfig.cmdln.println(&quot;-&quot;);\r\n\t\t\t\tConfig.cmdln.setCaretPosition(Config.cmdln.getText().length()); //part that changes\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(!cmdFound){\r\n\t\t\tTerminal.cmdln.println(&quot;Command &quot; + &quot;\\&quot;&quot; + cmdName + &quot;\\&quot;&quot; + &quot; not found.&quot;);\r\n\t\t}\r\n\r\nto this:\r\n\r\n    hello\r\n    Hello there\r\n    \r\n    |- \r\n\r\nCode:\r\n\r\n    public void executeCommand(String cmdName){\r\n\t\tBoolean cmdFound = false;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; cmdNames.size(); i++){\r\n\t\t\tif(cmdNames.get(i).toLowerCase().equals(cmdName.toLowerCase())){\r\n\t\t\t\tcmdFound = true;\r\n\t\t\t\tcmds.get(cmdName).actionPerformed(new ActionEvent(this, 0, null));\r\n\t\t\t\tConfig.cmdln.println(&quot;-&quot;);\r\n\t\t\t\tConfig.cmdln.setCaretPosition(Config.cmdln.getText().length() - 1); //part that changes\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(!cmdFound){\r\n\t\t\tTerminal.cmdln.println(&quot;Command &quot; + &quot;\\&quot;&quot; + cmdName + &quot;\\&quot;&quot; + &quot; not found.&quot;);\r\n\t\t}\r\n\r\nThis is the output I want:\r\n\r\n    hello\r\n    Hello there\r\n    -|\r\n\r\nNote: the &quot;|&quot; represents the caret\r\n\r\nLet me know if you need any more code.\r\n","title":"Why does the text change after I set the Caret position for JTextArea?","body":"<p>I'm creating a program which uses a JTextArea, and when I try to change the caret position it goes from this:</p>\n<pre><code>hello\nHello there\n-\n|\n</code></pre>\n<p>Code:</p>\n<pre><code>public void executeCommand(String cmdName){\n    Boolean cmdFound = false;\n    \n    for(int i = 0; i &lt; cmdNames.size(); i++){\n        if(cmdNames.get(i).toLowerCase().equals(cmdName.toLowerCase())){\n            cmdFound = true;\n            cmds.get(cmdName).actionPerformed(new ActionEvent(this, 0, null));\n            Config.cmdln.println(&quot;-&quot;);\n            Config.cmdln.setCaretPosition(Config.cmdln.getText().length()); //part that changes\n            break;\n        }\n    }\n    \n    if(!cmdFound){\n        Terminal.cmdln.println(&quot;Command &quot; + &quot;\\&quot;&quot; + cmdName + &quot;\\&quot;&quot; + &quot; not found.&quot;);\n    }\n</code></pre>\n<p>to this:</p>\n<pre><code>hello\nHello there\n\n|- \n</code></pre>\n<p>Code:</p>\n<pre><code>public void executeCommand(String cmdName){\n    Boolean cmdFound = false;\n    \n    for(int i = 0; i &lt; cmdNames.size(); i++){\n        if(cmdNames.get(i).toLowerCase().equals(cmdName.toLowerCase())){\n            cmdFound = true;\n            cmds.get(cmdName).actionPerformed(new ActionEvent(this, 0, null));\n            Config.cmdln.println(&quot;-&quot;);\n            Config.cmdln.setCaretPosition(Config.cmdln.getText().length() - 1); //part that changes\n            break;\n        }\n    }\n    \n    if(!cmdFound){\n        Terminal.cmdln.println(&quot;Command &quot; + &quot;\\&quot;&quot; + cmdName + &quot;\\&quot;&quot; + &quot; not found.&quot;);\n    }\n</code></pre>\n<p>This is the output I want:</p>\n<pre><code>hello\nHello there\n-|\n</code></pre>\n<p>Note: the &quot;|&quot; represents the caret</p>\n<p>Let me know if you need any more code.</p>\n"},{"tags":["java","spring","spring-boot","component-scan"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1675549622,"post_id":75343389,"comment_id":132954269,"body_markdown":"Maybe that&#39;s not the cause of your problem, but I feel, you&#39;re doing something weird in the little code snippet you provided. Why is @Bean method static? Why do you call the method from constructor?","body":"Maybe that&#39;s not the cause of your problem, but I feel, you&#39;re doing something weird in the little code snippet you provided. Why is @Bean method static? Why do you call the method from constructor?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1675549682,"post_id":75343389,"comment_id":132954282,"body_markdown":"If you remove &quot;static&quot; and remove your constructor, the issue persists?","body":"If you remove &quot;static&quot; and remove your constructor, the issue persists?"}],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675492146,"creation_date":1675492146,"question_id":75343389,"body_markdown":"This is my project package structure.\r\n\r\n    org.myApp\r\n           MainApplication.java\r\n           org.myApp.controller\r\n           org.myApp.repositories\r\n           org.myApp.utils\r\n\r\nI have a `@SpringBootApplication` placed in my `org.myApp.MainApplication` class and I&#39;m expecting that it will scan all my subpackages for components as they are placed in the same package as this main class.\r\n\r\nHowever, I have created this new class in `org.myApp.utils` called `Utils` which is not being picked up by the application context.\r\n\r\n    package org.myApp.utils;\r\n    import java.util.Properties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import java.io.IOException;\r\n    \r\n    @Configuration\r\n    public class Utils {\r\n    \tUtils() throws IOException{\r\n    \t\tgetAllProps();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic static Properties getAllProps() throws IOException{\r\n    \t  return new Properties();\r\n    }\r\n    }\r\n\r\n\r\nThe class is only scanned when I explicitly use a `@ComponentScan(&quot;org.myApp.Utils&quot;)` in my `MainApplication.java` class however this breaks the rest of my application for some reason.\r\n\r\nHow do I ensure that my Utils class is scanned and placed in the application context?\r\n\r\n","title":"@SpringBootApplication not detecting another @Configuration component in the same package","body":"<p>This is my project package structure.</p>\n<pre><code>org.myApp\n       MainApplication.java\n       org.myApp.controller\n       org.myApp.repositories\n       org.myApp.utils\n</code></pre>\n<p>I have a <code>@SpringBootApplication</code> placed in my <code>org.myApp.MainApplication</code> class and I'm expecting that it will scan all my subpackages for components as they are placed in the same package as this main class.</p>\n<p>However, I have created this new class in <code>org.myApp.utils</code> called <code>Utils</code> which is not being picked up by the application context.</p>\n<pre><code>package org.myApp.utils;\nimport java.util.Properties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport java.io.IOException;\n\n@Configuration\npublic class Utils {\n    Utils() throws IOException{\n        getAllProps();\n    }\n    @Bean\n    public static Properties getAllProps() throws IOException{\n      return new Properties();\n}\n}\n</code></pre>\n<p>The class is only scanned when I explicitly use a <code>@ComponentScan(&quot;org.myApp.Utils&quot;)</code> in my <code>MainApplication.java</code> class however this breaks the rest of my application for some reason.</p>\n<p>How do I ensure that my Utils class is scanned and placed in the application context?</p>\n"},{"tags":["java","atomic"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675489568,"post_id":75343208,"comment_id":132944588,"body_markdown":"I believe this is a duplicate of https://stackoverflow.com/q/23232242 but I&#39;m not sure, as I&#39;m having difficulty understanding your English.","body":"I believe this is a duplicate of <a href=\"https://stackoverflow.com/q/23232242\">stackoverflow.com/q/23232242</a> but I&#39;m not sure, as I&#39;m having difficulty understanding your English."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1675490964,"post_id":75343208,"comment_id":132944690,"body_markdown":"*but single assembly instruction is atomic* - no, not true.  Even CISC machines like x86 that can run a memory-destination add or increment as a single instruction like `inc dword ptr [rdi]` don&#39;t do it atomically unless you use a special prefix in the machine code to make that happen.  [Can num++ be atomic for &#39;int num&#39;?](https://stackoverflow.com/a/39396999).  `lock inc dword ptr [rdi]` is atomic, and what C++ compilers use for `std::atomic&lt;int&gt;`.  Or what JVMs use for AtomicInteger.","body":"<i>but single assembly instruction is atomic</i> - no, not true.  Even CISC machines like x86 that can run a memory-destination add or increment as a single instruction like <code>inc dword ptr [rdi]</code> don&#39;t do it atomically unless you use a special prefix in the machine code to make that happen.  <a href=\"https://stackoverflow.com/a/39396999\">Can num++ be atomic for &#39;int num&#39;?</a>.  <code>lock inc dword ptr [rdi]</code> is atomic, and what C++ compilers use for <code>std::atomic&lt;int&gt;</code>.  Or what JVMs use for AtomicInteger."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1675491197,"post_id":75343208,"comment_id":132944720,"body_markdown":"@Sweeper: you might want to add [Can num++ be atomic for &#39;int num&#39;?](https://stackoverflow.com/a/39396999) to the duplicate list; it&#39;s a canonical Q&amp;A about atomicity in assembly, including the fact that a single asm instruction is only atomic on a single-core machine.  I can&#39;t add it myself since unfortunately I&#39;m only about half way to an [atomic] tag badge, and this isn&#39;t tagged [assembly] despite the question being about that.","body":"@Sweeper: you might want to add <a href=\"https://stackoverflow.com/a/39396999\">Can num++ be atomic for &#39;int num&#39;?</a> to the duplicate list; it&#39;s a canonical Q&amp;A about atomicity in assembly, including the fact that a single asm instruction is only atomic on a single-core machine.  I can&#39;t add it myself since unfortunately I&#39;m only about half way to an [atomic] tag badge, and this isn&#39;t tagged [assembly] despite the question being about that."}],"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675489720,"answer_count":0,"score":0,"last_activity_date":1675491734,"creation_date":1675489137,"question_id":75343208,"body_markdown":"Single JVM instruction is not atomic but single assemble instruction is atomic.\r\nIs this correct?\r\n\r\nDemo\r\n\r\n```\r\npublic class DemoInstruction {\r\n    public static void main(String[] args) {\r\n        int i=0;\r\n        i++;\r\n    }\r\n}\r\n```\r\n`i++` translate into JVM instruction:\r\n```\r\n    IINC 1 1\r\n```\r\n`i++` translates into local assembly instructions consisting of three assembly instructions.\r\n","title":"JVM instruction vs assembly instruction: which is atomic?","body":"<p>Single JVM instruction is not atomic but single assemble instruction is atomic.\nIs this correct?</p>\n<p>Demo</p>\n<pre><code>public class DemoInstruction {\n    public static void main(String[] args) {\n        int i=0;\n        i++;\n    }\n}\n</code></pre>\n<p><code>i++</code> translate into JVM instruction:</p>\n<pre><code>    IINC 1 1\n</code></pre>\n<p><code>i++</code> translates into local assembly instructions consisting of three assembly instructions.</p>\n"},{"tags":["java","android","exception","button"],"answers":[{"comments":[{"owner":{"account_id":1242951,"reputation":332,"user_id":1205091,"accept_rate":25,"display_name":"Eslam Yousef Mohammed"},"score":0,"creation_date":1378046601,"post_id":18559344,"comment_id":27304253,"body_markdown":"So, what is the solution to add the button&#39;s background programatically to lower than Api 16..without setBackGroundDrawable..which is deprecated...?","body":"So, what is the solution to add the button&#39;s background programatically to lower than Api 16..without setBackGroundDrawable..which is deprecated...?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1378047267,"post_id":18559344,"comment_id":27304422,"body_markdown":"@EslamYousefMohammed edited my answer: try `setBackgroundResource`.","body":"@EslamYousefMohammed edited my answer: try <code>setBackgroundResource</code>."},{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":0,"creation_date":1430840774,"post_id":18559344,"comment_id":48229902,"body_markdown":"i have set android:minSdkVersion=&quot;9&quot; in my manifest, why doesnt eclipse warn me about that?","body":"i have set android:minSdkVersion=&quot;9&quot; in my manifest, why doesnt eclipse warn me about that?"},{"owner":{"account_id":17743304,"reputation":40,"user_id":12883097,"display_name":"V01"},"score":0,"creation_date":1595051143,"post_id":18559344,"comment_id":111346811,"body_markdown":"@Mena i tried setBackgroundResource on framelayout but it is not working for me","body":"@Mena i tried setBackgroundResource on framelayout but it is not working for me"}],"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":4,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1378047225,"creation_date":1378045467,"answer_id":18559344,"question_id":18559248,"body_markdown":"You might be testing on an API below level 16 ([Jelly Bean][1]). \r\n\r\nThe [setBackground][2] method is only available from that API level onwards. \r\n\r\nI would try with [setBackgroundDrawable][3] (deprecated) or [setBackgroundResource][4] if that&#39;s the case. \r\n\r\nFor instance: \r\n\r\n    Drawable d = getResources().getDrawable(R.drawable.ic_launcher);\r\n    Button one = new Button(this);\r\n    // mediocre\r\n    one.setBackgroundDrawable(d);\r\n    Button two = new Button(this);\r\n    // better\r\n    two.setBackgroundResource(R.drawable.ic_launcher);\r\n\r\n\r\n  [1]: http://developer.android.com/about/versions/android-4.1.html\r\n  [2]: http://developer.android.com/reference/android/view/View.html#setBackground%28android.graphics.drawable.Drawable%29\r\n  [3]: http://developer.android.com/reference/android/view/View.html#setBackgroundDrawable%28android.graphics.drawable.Drawable%29\r\n  [4]: http://developer.android.com/reference/android/view/View.html#setBackgroundResource%28int%29","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>You might be testing on an API below level 16 (<a href=\"http://developer.android.com/about/versions/android-4.1.html\">Jelly Bean</a>). </p>\n\n<p>The <a href=\"http://developer.android.com/reference/android/view/View.html#setBackground%28android.graphics.drawable.Drawable%29\">setBackground</a> method is only available from that API level onwards. </p>\n\n<p>I would try with <a href=\"http://developer.android.com/reference/android/view/View.html#setBackgroundDrawable%28android.graphics.drawable.Drawable%29\">setBackgroundDrawable</a> (deprecated) or <a href=\"http://developer.android.com/reference/android/view/View.html#setBackgroundResource%28int%29\">setBackgroundResource</a> if that's the case. </p>\n\n<p>For instance: </p>\n\n<pre><code>Drawable d = getResources().getDrawable(R.drawable.ic_launcher);\nButton one = new Button(this);\n// mediocre\none.setBackgroundDrawable(d);\nButton two = new Button(this);\n// better\ntwo.setBackgroundResource(R.drawable.ic_launcher);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":36527,"reputation":28775,"user_id":104223,"display_name":"Leigh"},"score":1,"creation_date":1378082800,"post_id":18559549,"comment_id":27313105,"body_markdown":"FYI: In its current form, this is more of a [comment](http://stackoverflow.com/help/privileges/comment) than an answer. (That is probably why it was down voted). An &quot;answer&quot; should also include possible alternatives to solving the problem, [as did the accepted answer](http://stackoverflow.com/a/18559344/104223). See [Answer].","body":"FYI: In its current form, this is more of a <a href=\"http://stackoverflow.com/help/privileges/comment\">comment</a> than an answer. (That is probably why it was down voted). An &quot;answer&quot; should also include possible alternatives to solving the problem, <a href=\"http://stackoverflow.com/a/18559344/104223\">as did the accepted answer</a>. See <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}],"tags":[],"owner":{"account_id":3225510,"reputation":31,"user_id":2721985,"display_name":"Nerd Dragon"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1378048514,"creation_date":1378046985,"answer_id":18559549,"question_id":18559248,"body_markdown":"You can&#39;t use `setBackground()`.\r\nThis method may be not available in your Android level.","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>You can't use <code>setBackground()</code>.\nThis method may be not available in your Android level.</p>\n"},{"tags":[],"owner":{"account_id":229776,"reputation":2576,"user_id":589302,"accept_rate":83,"display_name":"Andras Bal&#225;zs Lajtha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378057602,"creation_date":1378057602,"answer_id":18561161,"question_id":18559248,"body_markdown":"To create a homogeneous background for a View, you can create a drawable resource of type shape, and use that with the setBackgroundResource.\r\n\r\nred_background.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot;&gt; \r\n        &lt;solid android:color=&quot;#FF0000&quot;/&gt;    \r\n    &lt;/shape&gt;\r\n\r\nActivity:\r\n\r\n    Button b = (Button)findViewById(R.id.myButton);\r\n    b.setBackgroundResource(R.drawable.red_background);\r\n\r\nBut this will look pretty bad, flat and out of place. If you want a colored button that looks like a button, than you can either design it yourself (rounded corners, stroke, gradient fill...) or a fast and dirty solution is to add a PorterDuff filter to the button&#39;s background:\r\n\r\n    Button b = (Button)findViewById(R.id.myButton);\r\n    PorterDuffColorFilter redFilter = new PorterDuffColorFilter(Color.RED, PorterDuff.Mode.MULTIPLY);\r\n    b.getBackground().setColorFilter(redFilter);\r\n\r\n\r\n","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>To create a homogeneous background for a View, you can create a drawable resource of type shape, and use that with the setBackgroundResource.</p>\n\n<p>red_background.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\"&gt; \n    &lt;solid android:color=\"#FF0000\"/&gt;    \n&lt;/shape&gt;\n</code></pre>\n\n<p>Activity:</p>\n\n<pre><code>Button b = (Button)findViewById(R.id.myButton);\nb.setBackgroundResource(R.drawable.red_background);\n</code></pre>\n\n<p>But this will look pretty bad, flat and out of place. If you want a colored button that looks like a button, than you can either design it yourself (rounded corners, stroke, gradient fill...) or a fast and dirty solution is to add a PorterDuff filter to the button's background:</p>\n\n<pre><code>Button b = (Button)findViewById(R.id.myButton);\nPorterDuffColorFilter redFilter = new PorterDuffColorFilter(Color.RED, PorterDuff.Mode.MULTIPLY);\nb.getBackground().setColorFilter(redFilter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343754,"reputation":7133,"user_id":812720,"accept_rate":64,"display_name":"Sruit A.Suk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432881663,"creation_date":1432881663,"answer_id":30522796,"question_id":18559248,"body_markdown":"Since after Android 16 , the setBackgroundDrawable is deprecated, I suggested to checked before set code\r\n\r\nyou need to check current version of Android also\r\n\r\n    Button bProfile; // your Button\r\n    Bitmap bitmap; // your bitmap\r\n    \r\n    if(android.os.Build.VERSION.SDK_INT &lt; 16) {\r\n        bProfile.setBackgroundDrawable(new BitmapDrawable(getResources(), bitmap));\r\n    }\r\n    else {\r\n        bProfile.setBackground(new BitmapDrawable(getResources(),bitmap));\r\n    }","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>Since after Android 16 , the setBackgroundDrawable is deprecated, I suggested to checked before set code</p>\n\n<p>you need to check current version of Android also</p>\n\n<pre><code>Button bProfile; // your Button\nBitmap bitmap; // your bitmap\n\nif(android.os.Build.VERSION.SDK_INT &lt; 16) {\n    bProfile.setBackgroundDrawable(new BitmapDrawable(getResources(), bitmap));\n}\nelse {\n    bProfile.setBackground(new BitmapDrawable(getResources(),bitmap));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17745073,"reputation":21,"user_id":12884527,"display_name":"Ankita Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590634776,"creation_date":1590634776,"answer_id":62056269,"question_id":18559248,"body_markdown":"                &lt;Button\r\n                    android:id=&quot;@+id/btnregister&quot;\r\n                    android:layout_width=&quot;150dp&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginHorizontal=&quot;10dp&quot;\r\n                    android:layout_marginVertical=&quot;20dp&quot;\r\n                    android:paddingVertical=&quot;5dp&quot;\r\n                    style=&quot;@style/btn_register&quot;\r\n                    android:text=&quot;Register&quot;\r\n                    android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n\r\napply below code in Styles.xml file :\r\n\r\n   \r\n\r\n     &lt;style name=&quot;btn_register&quot;&gt;\r\n            &lt;item name=&quot;android:layout_marginTop&quot;&gt;15dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:backgroundTint&quot;&gt;#009688&lt;/item&gt;\r\n            &lt;item name=&quot;cornerRadius&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<pre><code>            &lt;Button\n                android:id=\"@+id/btnregister\"\n                android:layout_width=\"150dp\"\n                android:layout_height=\"45dp\"\n                android:layout_gravity=\"center\"\n                android:layout_marginHorizontal=\"10dp\"\n                android:layout_marginVertical=\"20dp\"\n                android:paddingVertical=\"5dp\"\n                style=\"@style/btn_register\"\n                android:text=\"Register\"\n                android:textColor=\"#FFFFFF\" /&gt;\n</code></pre>\n\n<p>apply below code in Styles.xml file :</p>\n\n<pre><code> &lt;style name=\"btn_register\"&gt;\n        &lt;item name=\"android:layout_marginTop\"&gt;15dp&lt;/item&gt;\n        &lt;item name=\"android:backgroundTint\"&gt;#009688&lt;/item&gt;\n        &lt;item name=\"cornerRadius\"&gt;20dp&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22378301,"reputation":1,"user_id":17019709,"display_name":"MadBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675491350,"creation_date":1675491350,"answer_id":75343333,"question_id":18559248,"body_markdown":"Change the theme from `Theme.MaterialComponents` to `Theme.AppCompat`","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>Change the theme from <code>Theme.MaterialComponents</code> to <code>Theme.AppCompat</code></p>\n"}],"owner":{"account_id":1242951,"reputation":332,"user_id":1205091,"accept_rate":25,"display_name":"Eslam Yousef Mohammed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78406,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":18559344,"answer_count":6,"score":14,"last_activity_date":1675491350,"creation_date":1378044766,"question_id":18559248,"body_markdown":"I&#39;m implementing a simple method to add a `Button` to a `LinearLayout` programatically.\r\n\r\nWhen I invoke the setBackground(Drawable background) method, the following `Error` is thrown: \r\n\r\n`java.lang.NoSuchMethodError: android.widget.Button.setBackground`\r\n\r\n**My addNewButton method:**\r\n\r\n    private void addNewButton(Integer id, String name) {\r\n\r\n    \t\tButton b = new Button(this);\r\n    \t\tb.setId(id);\r\n    \t\tb.setText(name);\r\n    \t\tb.setTextColor(color.white);\r\n    \t\tb.setBackground(this.getResources().getDrawable(R.drawable.orange_dot));\r\n    \t        //llPageIndicator is the Linear Layout.\r\n    \t\tllPageIndicator.addView(b);\r\n    }","title":"Button.setBackground(Drawable background) throws NoSuchMethodError","body":"<p>I'm implementing a simple method to add a <code>Button</code> to a <code>LinearLayout</code> programatically.</p>\n\n<p>When I invoke the setBackground(Drawable background) method, the following <code>Error</code> is thrown: </p>\n\n<p><code>java.lang.NoSuchMethodError: android.widget.Button.setBackground</code></p>\n\n<p><strong>My addNewButton method:</strong></p>\n\n<pre><code>private void addNewButton(Integer id, String name) {\n\n        Button b = new Button(this);\n        b.setId(id);\n        b.setText(name);\n        b.setTextColor(color.white);\n        b.setBackground(this.getResources().getDrawable(R.drawable.orange_dot));\n            //llPageIndicator is the Linear Layout.\n        llPageIndicator.addView(b);\n}\n</code></pre>\n"},{"tags":["java","multithreading","algorithm","performance","math"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1675421352,"post_id":75334472,"comment_id":132930032,"body_markdown":"N, m, n might be int and gcd maybe benefits (at start) from an iterative Implementation. One may use variables for msquared, nsquared.","body":"N, m, n might be int and gcd maybe benefits (at start) from an iterative Implementation. One may use variables for msquared, nsquared."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1675421482,"post_id":75334472,"comment_id":132930072,"body_markdown":"1st I would check if the approach is fast enough if gcd(..) would be O(1). So are simply the loops and counting also too slow? -&gt; If yes you might need some math to eleminate candidates upfront to check less pairs,.","body":"1st I would check if the approach is fast enough if gcd(..) would be O(1). So are simply the loops and counting also too slow? -&gt; If yes you might need some math to eleminate candidates upfront to check less pairs,."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1675421540,"post_id":75334472,"comment_id":132930087,"body_markdown":"A boot would be a **not** recursive gcd(..)-method.","body":"A boot would be a <b>not</b> recursive gcd(..)-method."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675431615,"post_id":75334472,"comment_id":132933016,"body_markdown":"Clearly gcd() is where the opportunities to optimise lie. I tried Stein&#39;s https://www.geeksforgeeks.org/steins-algorithm-for-finding-gcd/ and the built in Java BigInteger.gcd(). Both made it worse!","body":"Clearly gcd() is where the opportunities to optimise lie. I tried Stein&#39;s <a href=\"https://www.geeksforgeeks.org/steins-algorithm-for-finding-gcd/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/steins-algorithm-for-finding-gcd</a> and the built in Java BigInteger.gcd(). Both made it worse!"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675431749,"post_id":75334472,"comment_id":132933057,"body_markdown":"I also tried to prepopulate a gcd array via dynamic programming but run out of memory at  10^9","body":"I also tried to prepopulate a gcd array via dynamic programming but run out of memory at  10^9"}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675433822,"creation_date":1675433501,"answer_id":75336894,"question_id":75334472,"body_markdown":"You can avoid the GCD calculation altogether:\r\n\r\n 1. Make a list of all primes &lt; sqrt(N)\r\n 2. Iterate through all subsets of those primes with total product &lt; sqrt(N)\r\n 3. For each subset, the primes in the set will be &quot;m primes&quot;, while the other primes will be &quot;n primes&quot;\r\n 4. Let &quot;m_base&quot; be the product of all m primes\r\n 5. For m, iterate through all combinations of at m primes with product &lt; sqrt(N)/m_base, yielding m = m_base * that combination and:\r\n 6. Calculate the maximum value of n for each m\r\n 7. For n, iterate through all combinations of n primes with product &lt; max\r\n","title":"Efficiently counting ALL pythagorean triples with hypotenuse &lt;= N","body":"<p>You can avoid the GCD calculation altogether:</p>\n<ol>\n<li>Make a list of all primes &lt; sqrt(N)</li>\n<li>Iterate through all subsets of those primes with total product &lt; sqrt(N)</li>\n<li>For each subset, the primes in the set will be &quot;m primes&quot;, while the other primes will be &quot;n primes&quot;</li>\n<li>Let &quot;m_base&quot; be the product of all m primes</li>\n<li>For m, iterate through all combinations of at m primes with product &lt; sqrt(N)/m_base, yielding m = m_base * that combination and:</li>\n<li>Calculate the maximum value of n for each m</li>\n<li>For n, iterate through all combinations of n primes with product &lt; max</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675491332,"creation_date":1675491332,"answer_id":75343331,"question_id":75334472,"body_markdown":"TD;LR: There is an approach that is slightly worse than `O(N^(2/3))`.  It consists of enumerating primitive triples with an efficient algorithm up to `N^(2/3)` and counting the resulting Pythagorean triples, and then using inclusion-exclusion to count Pythagorean primitive triples past that and finding a count of the rest.  The rest of this is a detailed explanation of how this all works.\r\n\r\n-----\r\n\r\nYour direct calculation over primitive triples cannot be made better than `O(N)`.  The reason why is that [over 60% of pairs of integers are relatively prime][1].  So we can put a lower bound on the number of pairs of relative primes as follows.\r\n\r\n1. There are `floor(sqrt(n/2)) choose 2 = O(N)` pairs of integers at most `sqrt(n/2)`.  The ones that are relatively prime with one even give rise to a primitive Pythagorean triple.\r\n2. 60% of them are relatively prime.\r\n3. This 60% is contained in the 75% that do not have both numbers even.  Therefore when we get rid of pairs with both numbers odd, at least 60% - 25% = 35% of pairs are relatively prime with one of them even.\r\n4. Therefore there are at least `O(n)` distinct Pythagorean triples to find whose hypotenuse is less than `n`.\r\n\r\n-----\r\n\r\nGiven that there are `O(N)` primitive triples, you&#39;ll have to do at least `O(N)` work to enumerate them.  So you don&#39;t want to enumerate them all.  Instead we&#39;ll enumerate up to some point, and then we&#39;ll do something else with the rest.  But let&#39;s make the enumeration more efficient.\r\n\r\nNow as you noticed, your GCD checks are taking most of your time.  Can we enumerate all of them with hypotenuse less than, say, `L` more efficiently?\r\n\r\nHere is the most efficient approach that I found.\r\n\r\n1. Enumerate the primes up to `sqrt(L)` with any decent technique.  This is `O(sqrt(L) log(L)` with the Sieve of Eratosthenes, that is good enough.\r\n2. Using this list, we can produce the set of odd numbers up to `sqrt(L)`, complete with their prime factorizations, fairly efficiently.  (Just recursively produce prime factorizations that fit in the range.)\r\n3. Given an odd number and its prime factorizations, we can run through the even numbers and quickly find which are relatively prime.  That gives us the primitive Pythagorean triples.\r\n\r\nFor step 3, create a [PriorityQueue][2] whose elements start off pairs `(2*p, 2*p)` for each distinct prime factor `p`.  For example for `15` we&#39;d have a queue with `(6, 6)` and `(10, 10)`.  We then do this:\r\n\r\n    i = the odd number we started with\r\n    j = 2\r\n    while i*i + j*j &lt; L:\r\n        if queue.peek()[0] == i:\r\n            while queue.peek()[0] == i:\r\n                (x, y) = queue.pop()\r\n                queue.add((x+y, y))\r\n        else:\r\n            i*i + j*j is the hypotenuse of a primitive Pythagorean triple\r\n\r\nThis is very slightly superlinear.  In fact the expected complexity of finding all the numbers out to `n` that are relatively prime to `i` is `O(n * log(log(log(i))))`.  Why?  Because the average number of distinct prime factors is on average `O(log(log(i)))`.  The queue operations are `O(log(THAT))` and we do on average `O(n)` queue operations.  (I&#39;m waving my hands past some number theory, but the result is correct.)\r\n\r\n-----\r\n\r\nOK, what is our alternative to actually enumerating many of the primitive triples?\r\n\r\nThe answer is to use inclusion-exclusion to count the number below some bound, `L`  Which I will demonstrate by counting the number of primitive triples whose hypotenuse is at most 100.\r\n\r\nThe first step is to implement a function `EvenOddPairCount(L)` that counts how many pairs of even/odd numbers there are whose squares sum up to at most `L` .  To do this we traverse the fringe of maximal even/odds.  This takes `O(sqrt(L))` to traverse.  Here is that calculation for 100:\r\n\r\n    1*1 + 8*8, 4 pairs\r\n    3*3 + 8*8, 4 pairs\r\n    5*5 + 8*5, 4 pairs\r\n    7*7 + 6*6, 3 pairs\r\n    9*9 + 2*2, 1 pair\r\n\r\nWhich gives 16 pairs.\r\n\r\nNow the problem is that we have counted things like `3*3 + 6*6 = 45` that are not relatively prime.  But we can subtract off `EvenOddPairCount(L/9)` to find those that are both divisible by 3.  We can likewise subtract off `EvenOddPairCount(L/25)` to find the ones that are divisible by 5.  But now the ones divisible by 15 have been added once, and subtracted twice.  So we have to add back in `EvenOddPairCount(L/(15*15))` to again not count those.\r\n\r\nKeep going and you get a sum is over all distinct products `x` of odd primes of `EvenOddPairCount(L/(x*x))` where we add if we had an even number of prime factors (including 0), and subtract if we had an odd number.  Since we already have the odd primes, we can easily produce the sequence of inclusion-exclusion terms.  It starts off 1, -9, -25, -49, -121, -169, +225, -289, -361, +441 and so on.\r\n\r\nBut how much work does this take?  If `l = sqrt(L)` it takes `l + l/3 + l/5 + l/7 + l/11 + l/13 + l/15 + ... + 1/l &lt; l*(1 + 1/2 + 1/3 + 1/4 + ... + 1/l) = O(l log(l)) = O(sqrt(L) log(L))`.\r\n\r\nAnd so we can calculate `PrimitiveTriples(L)` in time `O(sqrt(L) log(L))`.\r\n\r\n-----\r\n\r\nWhat does this buy us?  Well, `PrimitiveTriples(N) - PrimitiveTriples(N/2)` gives us the number of primitive Pythagorean triples whose hypotenuse is in the range from `N/2` to `N`.  And `2*(PrimitiveTriples(N/2) - PrimitiveTriples(N/3))` gives us the number of Pythagorean triples which are multiples of primitive ones in the range from `N/3` to `N/2`.  And `3*(PrimitiveTriples(N/3) - PrimitiveTriples(N/4)` gives us the number of Pythagorean triples in the range from `N/4` to `N/3`.\r\n\r\nTherefore we can enumerate small primitive Pythagorean triples, and figure out how many Pythagorean triples are a multiple of those.  And we can use inclusion-exclusion to count the multiples of large Pythagorean triples.  Where is the cutoff between the two strategies?\r\n\r\nLet&#39;s ignore the various `log` factors for the moment.  If we cut off at `N^c` then we do roughly `O(N^c)` work on the small.  And we need to calculate `N^(1-c)` thresholds of `PrimitiveTriples`, the last of which takes work roughly `O(N^(c/2))`.  So let&#39;s try setting `N^c = N^(1-c) * N^(c/2)`.  That works out when `c = (1-c) + c/2` which happens when `c = 2/3`.\r\n\r\n----\r\n\r\nAnd this is the final algorithm.\r\n\r\n1. Find all primes up to `sqrt(N)`.\r\n2. Use those primes to enumerate all primitive triples up to `O(n^(2/3))` and figure out how many Pythagorean triples they give.\r\n3. Find all of the inclusion exclusion terms up to `N` (there are `O(sqrt(N))` of them and can be produced directly from the factorization).\r\n4. Calculate `PythagoreanTriples(N/d)` for all `d` up to `N^(1/3)`.  Use that to count the rest of the triples.\r\n\r\nAnd all of this runs in time `o(N^(2/3 + epsilon))` for any `epsilon` greater than 0.\r\n\r\n  [1]: https://primes.utm.edu/notes/relprime.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html","title":"Efficiently counting ALL pythagorean triples with hypotenuse &lt;= N","body":"<p>TD;LR: There is an approach that is slightly worse than <code>O(N^(2/3))</code>.  It consists of enumerating primitive triples with an efficient algorithm up to <code>N^(2/3)</code> and counting the resulting Pythagorean triples, and then using inclusion-exclusion to count Pythagorean primitive triples past that and finding a count of the rest.  The rest of this is a detailed explanation of how this all works.</p>\n<hr />\n<p>Your direct calculation over primitive triples cannot be made better than <code>O(N)</code>.  The reason why is that <a href=\"https://primes.utm.edu/notes/relprime.html\" rel=\"nofollow noreferrer\">over 60% of pairs of integers are relatively prime</a>.  So we can put a lower bound on the number of pairs of relative primes as follows.</p>\n<ol>\n<li>There are <code>floor(sqrt(n/2)) choose 2 = O(N)</code> pairs of integers at most <code>sqrt(n/2)</code>.  The ones that are relatively prime with one even give rise to a primitive Pythagorean triple.</li>\n<li>60% of them are relatively prime.</li>\n<li>This 60% is contained in the 75% that do not have both numbers even.  Therefore when we get rid of pairs with both numbers odd, at least 60% - 25% = 35% of pairs are relatively prime with one of them even.</li>\n<li>Therefore there are at least <code>O(n)</code> distinct Pythagorean triples to find whose hypotenuse is less than <code>n</code>.</li>\n</ol>\n<hr />\n<p>Given that there are <code>O(N)</code> primitive triples, you'll have to do at least <code>O(N)</code> work to enumerate them.  So you don't want to enumerate them all.  Instead we'll enumerate up to some point, and then we'll do something else with the rest.  But let's make the enumeration more efficient.</p>\n<p>Now as you noticed, your GCD checks are taking most of your time.  Can we enumerate all of them with hypotenuse less than, say, <code>L</code> more efficiently?</p>\n<p>Here is the most efficient approach that I found.</p>\n<ol>\n<li>Enumerate the primes up to <code>sqrt(L)</code> with any decent technique.  This is <code>O(sqrt(L) log(L)</code> with the Sieve of Eratosthenes, that is good enough.</li>\n<li>Using this list, we can produce the set of odd numbers up to <code>sqrt(L)</code>, complete with their prime factorizations, fairly efficiently.  (Just recursively produce prime factorizations that fit in the range.)</li>\n<li>Given an odd number and its prime factorizations, we can run through the even numbers and quickly find which are relatively prime.  That gives us the primitive Pythagorean triples.</li>\n</ol>\n<p>For step 3, create a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">PriorityQueue</a> whose elements start off pairs <code>(2*p, 2*p)</code> for each distinct prime factor <code>p</code>.  For example for <code>15</code> we'd have a queue with <code>(6, 6)</code> and <code>(10, 10)</code>.  We then do this:</p>\n<pre><code>i = the odd number we started with\nj = 2\nwhile i*i + j*j &lt; L:\n    if queue.peek()[0] == i:\n        while queue.peek()[0] == i:\n            (x, y) = queue.pop()\n            queue.add((x+y, y))\n    else:\n        i*i + j*j is the hypotenuse of a primitive Pythagorean triple\n</code></pre>\n<p>This is very slightly superlinear.  In fact the expected complexity of finding all the numbers out to <code>n</code> that are relatively prime to <code>i</code> is <code>O(n * log(log(log(i))))</code>.  Why?  Because the average number of distinct prime factors is on average <code>O(log(log(i)))</code>.  The queue operations are <code>O(log(THAT))</code> and we do on average <code>O(n)</code> queue operations.  (I'm waving my hands past some number theory, but the result is correct.)</p>\n<hr />\n<p>OK, what is our alternative to actually enumerating many of the primitive triples?</p>\n<p>The answer is to use inclusion-exclusion to count the number below some bound, <code>L</code>  Which I will demonstrate by counting the number of primitive triples whose hypotenuse is at most 100.</p>\n<p>The first step is to implement a function <code>EvenOddPairCount(L)</code> that counts how many pairs of even/odd numbers there are whose squares sum up to at most <code>L</code> .  To do this we traverse the fringe of maximal even/odds.  This takes <code>O(sqrt(L))</code> to traverse.  Here is that calculation for 100:</p>\n<pre><code>1*1 + 8*8, 4 pairs\n3*3 + 8*8, 4 pairs\n5*5 + 8*5, 4 pairs\n7*7 + 6*6, 3 pairs\n9*9 + 2*2, 1 pair\n</code></pre>\n<p>Which gives 16 pairs.</p>\n<p>Now the problem is that we have counted things like <code>3*3 + 6*6 = 45</code> that are not relatively prime.  But we can subtract off <code>EvenOddPairCount(L/9)</code> to find those that are both divisible by 3.  We can likewise subtract off <code>EvenOddPairCount(L/25)</code> to find the ones that are divisible by 5.  But now the ones divisible by 15 have been added once, and subtracted twice.  So we have to add back in <code>EvenOddPairCount(L/(15*15))</code> to again not count those.</p>\n<p>Keep going and you get a sum is over all distinct products <code>x</code> of odd primes of <code>EvenOddPairCount(L/(x*x))</code> where we add if we had an even number of prime factors (including 0), and subtract if we had an odd number.  Since we already have the odd primes, we can easily produce the sequence of inclusion-exclusion terms.  It starts off 1, -9, -25, -49, -121, -169, +225, -289, -361, +441 and so on.</p>\n<p>But how much work does this take?  If <code>l = sqrt(L)</code> it takes <code>l + l/3 + l/5 + l/7 + l/11 + l/13 + l/15 + ... + 1/l &lt; l*(1 + 1/2 + 1/3 + 1/4 + ... + 1/l) = O(l log(l)) = O(sqrt(L) log(L))</code>.</p>\n<p>And so we can calculate <code>PrimitiveTriples(L)</code> in time <code>O(sqrt(L) log(L))</code>.</p>\n<hr />\n<p>What does this buy us?  Well, <code>PrimitiveTriples(N) - PrimitiveTriples(N/2)</code> gives us the number of primitive Pythagorean triples whose hypotenuse is in the range from <code>N/2</code> to <code>N</code>.  And <code>2*(PrimitiveTriples(N/2) - PrimitiveTriples(N/3))</code> gives us the number of Pythagorean triples which are multiples of primitive ones in the range from <code>N/3</code> to <code>N/2</code>.  And <code>3*(PrimitiveTriples(N/3) - PrimitiveTriples(N/4)</code> gives us the number of Pythagorean triples in the range from <code>N/4</code> to <code>N/3</code>.</p>\n<p>Therefore we can enumerate small primitive Pythagorean triples, and figure out how many Pythagorean triples are a multiple of those.  And we can use inclusion-exclusion to count the multiples of large Pythagorean triples.  Where is the cutoff between the two strategies?</p>\n<p>Let's ignore the various <code>log</code> factors for the moment.  If we cut off at <code>N^c</code> then we do roughly <code>O(N^c)</code> work on the small.  And we need to calculate <code>N^(1-c)</code> thresholds of <code>PrimitiveTriples</code>, the last of which takes work roughly <code>O(N^(c/2))</code>.  So let's try setting <code>N^c = N^(1-c) * N^(c/2)</code>.  That works out when <code>c = (1-c) + c/2</code> which happens when <code>c = 2/3</code>.</p>\n<hr />\n<p>And this is the final algorithm.</p>\n<ol>\n<li>Find all primes up to <code>sqrt(N)</code>.</li>\n<li>Use those primes to enumerate all primitive triples up to <code>O(n^(2/3))</code> and figure out how many Pythagorean triples they give.</li>\n<li>Find all of the inclusion exclusion terms up to <code>N</code> (there are <code>O(sqrt(N))</code> of them and can be produced directly from the factorization).</li>\n<li>Calculate <code>PythagoreanTriples(N/d)</code> for all <code>d</code> up to <code>N^(1/3)</code>.  Use that to count the rest of the triples.</li>\n</ol>\n<p>And all of this runs in time <code>o(N^(2/3 + epsilon))</code> for any <code>epsilon</code> greater than 0.</p>\n"}],"owner":{"account_id":15839337,"reputation":465,"user_id":11428287,"display_name":"MC From Scratch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1675491332,"creation_date":1675420538,"question_id":75334472,"body_markdown":"I want to count all pythagorean triples (primitive and non-primitive) whose hypotenuse is `&lt;=` N for a given `N`. [This OEIS link][1] gives this count for powers of `10`. A simple but somewhat efficient pseudocode can be easily derived from this link or from [wikipedia][2], using the famous **Euclid&#39;s** formula. Interpreted in Java, this can be made into:\r\n\r\n    public class countPTS {\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tlong N = 1000000L;\r\n    \t\t\r\n    \t\tlong count = 0;\r\n    \t\tfor (long m = 2 ; m * m + 1 &lt;= N ; m++)\r\n    \t\t\tfor (long n = 1 + m % 2 ; n &lt; m &amp;&amp; n * n + m * m &lt;= N ; n += 2)\r\n    \t\t\t\tif (gcd(m , n) == 1)\r\n    \t\t\t\t\tcount += N / (n * n + m * m);\r\n    \t\t\r\n    \t\tSystem.out.println(count);\r\n    \t}\r\n    \t\r\n    \tpublic static long gcd(long a, long b)\r\n        { \r\n            if (a == 0) \r\n                return b; \r\n            return gcd(b % a, a); \r\n        } \r\n    \r\n    }\r\n\r\nWhich gives the correct results, but is a bit &quot;slow&quot;. Regardless of the actual time complexity of this algorithm in big `O` notation, it seems to grow like a little bit worse than `O(n)`. It can be easily checked that almost the entire time is spent in `gcd` calculations. \r\n\r\nIf `C(N)` is the count of such triples, then this piece of code written and ran on the latest version of Eclipse IDE, using a modern PC and single threaded, yields `C(10^10) = 34465432859` in about `90` seconds. This makes me wonder how the high values in the OEIS link were obtained, the largest being `C(10^17)`. \r\n\r\nI suspect that an algorithm with a better time complexity was used, perhaps `O(n^2/3)` or `O(n^3/4)`, maybe with some more advanced mathematical insight. It is somewhat plausible that the above algorithm was ran but with significant improvements and perhaps multithreaded. Can anyone shed light on this topic and higher values?\r\n\r\n  [1]: http://oeis.org/A101930\r\n  [2]: https://en.wikipedia.org/wiki/Pythagorean_triple","title":"Efficiently counting ALL pythagorean triples with hypotenuse &lt;= N","body":"<p>I want to count all pythagorean triples (primitive and non-primitive) whose hypotenuse is <code>&lt;=</code> N for a given <code>N</code>. <a href=\"http://oeis.org/A101930\" rel=\"nofollow noreferrer\">This OEIS link</a> gives this count for powers of <code>10</code>. A simple but somewhat efficient pseudocode can be easily derived from this link or from <a href=\"https://en.wikipedia.org/wiki/Pythagorean_triple\" rel=\"nofollow noreferrer\">wikipedia</a>, using the famous <strong>Euclid's</strong> formula. Interpreted in Java, this can be made into:</p>\n<pre><code>public class countPTS {\n    \n    public static void main(String[] args) \n    {\n        long N = 1000000L;\n        \n        long count = 0;\n        for (long m = 2 ; m * m + 1 &lt;= N ; m++)\n            for (long n = 1 + m % 2 ; n &lt; m &amp;&amp; n * n + m * m &lt;= N ; n += 2)\n                if (gcd(m , n) == 1)\n                    count += N / (n * n + m * m);\n        \n        System.out.println(count);\n    }\n    \n    public static long gcd(long a, long b)\n    { \n        if (a == 0) \n            return b; \n        return gcd(b % a, a); \n    } \n\n}\n</code></pre>\n<p>Which gives the correct results, but is a bit &quot;slow&quot;. Regardless of the actual time complexity of this algorithm in big <code>O</code> notation, it seems to grow like a little bit worse than <code>O(n)</code>. It can be easily checked that almost the entire time is spent in <code>gcd</code> calculations.</p>\n<p>If <code>C(N)</code> is the count of such triples, then this piece of code written and ran on the latest version of Eclipse IDE, using a modern PC and single threaded, yields <code>C(10^10) = 34465432859</code> in about <code>90</code> seconds. This makes me wonder how the high values in the OEIS link were obtained, the largest being <code>C(10^17)</code>.</p>\n<p>I suspect that an algorithm with a better time complexity was used, perhaps <code>O(n^2/3)</code> or <code>O(n^3/4)</code>, maybe with some more advanced mathematical insight. It is somewhat plausible that the above algorithm was ran but with significant improvements and perhaps multithreaded. Can anyone shed light on this topic and higher values?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1675968635,"post_id":75343324,"comment_id":133047245,"body_markdown":"this does not answer the question","body":"this does not answer the question"}],"tags":[],"owner":{"account_id":25170523,"reputation":1,"user_id":19013406,"display_name":"rubiya sultana"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675491194,"creation_date":1675491194,"answer_id":75343324,"question_id":75343117,"body_markdown":"5 Scopes of Spring Bean:\r\n\r\n1.Singleton\r\n\r\n2.Prototype\r\n\r\nThese scope will only work for a web application\r\n\r\n3.Request\r\n4.Session\r\n5.Application\r\n\r\n\r\nHow to define scope in .xml configuration file:\r\n\r\n&lt;bean id=&quot;accountService&quot; class=&quot;com.foo.DefaultAccountService&quot; scope=&quot;prototype&quot;/&gt;\r\n\r\n\r\n&lt;bean id=&quot;accountService&quot; class=&quot;com.foo.DefaultAccountService&quot; singleton=&quot;false&quot;/&gt;\r\n     \r\nSingleton bean:\r\n\r\nBy default ApplicationContext has a singleton scope.This means only one object will be c\r\ncreated. And if we call  &#39;n&#39; number of getBean() then all the bean will point to the same\r\nbean. Constructor will only be called once.\r\n\r\nPrototype:\r\n\r\nWill create a new bean each time getBean() is called.\r\nEach bean will have its own hashcode.\r\n\r\n@ApplicationScope:\r\n\r\nScopes a single bean definition to the lifecycle of a ServletContext.\r\nOnly valid in the context of a web-aware Spring ApplicationContext.\r\n\r\nBean Initialization:\r\n\r\n\r\nWhen does a &#39;prototype&#39; scoped bean and a singleton scoped bean gets initialized?\r\n\r\n- Singleton scoped beans initialize when the container starts.\r\n\r\n- Prototype scoped beans initialize when we ask for it using the getBean() method.\r\n\r\n- Prototype bean also gets intialize when it is used as a dependency inside a singleton\r\nscoped bean.\r\n\r\n","title":"Application scoped bean in Spring","body":"<p>5 Scopes of Spring Bean:</p>\n<p>1.Singleton</p>\n<p>2.Prototype</p>\n<p>These scope will only work for a web application</p>\n<p>3.Request\n4.Session\n5.Application</p>\n<p>How to define scope in .xml configuration file:</p>\n\n\n     \nSingleton bean:\n<p>By default ApplicationContext has a singleton scope.This means only one object will be c\ncreated. And if we call  'n' number of getBean() then all the bean will point to the same\nbean. Constructor will only be called once.</p>\n<p>Prototype:</p>\n<p>Will create a new bean each time getBean() is called.\nEach bean will have its own hashcode.</p>\n<p>@ApplicationScope:</p>\n<p>Scopes a single bean definition to the lifecycle of a ServletContext.\nOnly valid in the context of a web-aware Spring ApplicationContext.</p>\n<p>Bean Initialization:</p>\n<p>When does a 'prototype' scoped bean and a singleton scoped bean gets initialized?</p>\n<ul>\n<li><p>Singleton scoped beans initialize when the container starts.</p>\n</li>\n<li><p>Prototype scoped beans initialize when we ask for it using the getBean() method.</p>\n</li>\n<li><p>Prototype bean also gets intialize when it is used as a dependency inside a singleton\nscoped bean.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675491194,"creation_date":1675487577,"question_id":75343117,"body_markdown":"I am learning about bean scopes in Spring and going through this [link][1] it says the bean behaves as a singleton across multiple servlet-based applications running in the same `ServletContext`. I am confused about what does servlet context refer to. Does it refer to the container like tomcat because they refer to multiple servlet based applications. As i understand it, it means if i have multiple web apps deployed on a single tomcat instance and i want these apps to refer/share an object then i create an application scoped bean?\r\n\r\nPlease help if my understanding is correct.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-bean-scopes#3-application-scope","title":"Application scoped bean in Spring","body":"<p>I am learning about bean scopes in Spring and going through this <a href=\"https://www.baeldung.com/spring-bean-scopes#3-application-scope\" rel=\"nofollow noreferrer\">link</a> it says the bean behaves as a singleton across multiple servlet-based applications running in the same <code>ServletContext</code>. I am confused about what does servlet context refer to. Does it refer to the container like tomcat because they refer to multiple servlet based applications. As i understand it, it means if i have multiple web apps deployed on a single tomcat instance and i want these apps to refer/share an object then i create an application scoped bean?</p>\n<p>Please help if my understanding is correct.</p>\n"},{"tags":["java","android","kotlin","drawable","figma"],"comments":[{"owner":{"account_id":11046811,"reputation":385,"user_id":8112590,"display_name":"Nandha"},"score":0,"creation_date":1616666425,"post_id":65452585,"comment_id":118076178,"body_markdown":"did you got the solution?","body":"did you got the solution?"},{"owner":{"account_id":11534415,"reputation":158,"user_id":8452377,"display_name":"Div MoD"},"score":0,"creation_date":1618226861,"post_id":65452585,"comment_id":118529910,"body_markdown":"@Nandha I used webview for that purpose","body":"@Nandha I used webview for that purpose"}],"answers":[{"tags":[],"owner":{"display_name":"user46915"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675489702,"creation_date":1675489702,"answer_id":75343238,"question_id":65452585,"body_markdown":"Try this:\r\n\r\n**Example XML for the `layer-list`:**\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n          &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\r\n          &lt;corners android:radius=&quot;10dp&quot;/&gt;\r\n        &lt;/shape&gt;\r\n      &lt;/item&gt;\r\n      &lt;item\r\n        android:left=&quot;0dp&quot;\r\n        android:right=&quot;0dp&quot;\r\n        android:top=&quot;0dp&quot;\r\n        android:bottom=&quot;10dp&quot;&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n          &lt;solid android:color=&quot;#00000000&quot;/&gt;\r\n          &lt;corners android:radius=&quot;10dp&quot;/&gt;\r\n          &lt;padding\r\n            android:left=&quot;0dp&quot;\r\n            android:right=&quot;0dp&quot;\r\n            android:top=&quot;0dp&quot;\r\n            android:bottom=&quot;0dp&quot;/&gt;\r\n        &lt;/shape&gt;\r\n      &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\n**You can set the above XML as the background for the `CardView`:**\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:background=&quot;@drawable/layer_list_example&quot;&gt;\r\n      &lt;!-- Add your content here --&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nNote that you may need to adjust the offset and blur radius to achieve the desired appearance.","title":"Inner Shadow effect like Figma in native Android","body":"<p>Try this:</p>\n<p><strong>Example XML for the <code>layer-list</code>:</strong></p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;item&gt;\n    &lt;shape android:shape=&quot;rectangle&quot;&gt;\n      &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\n      &lt;corners android:radius=&quot;10dp&quot;/&gt;\n    &lt;/shape&gt;\n  &lt;/item&gt;\n  &lt;item\n    android:left=&quot;0dp&quot;\n    android:right=&quot;0dp&quot;\n    android:top=&quot;0dp&quot;\n    android:bottom=&quot;10dp&quot;&gt;\n    &lt;shape android:shape=&quot;rectangle&quot;&gt;\n      &lt;solid android:color=&quot;#00000000&quot;/&gt;\n      &lt;corners android:radius=&quot;10dp&quot;/&gt;\n      &lt;padding\n        android:left=&quot;0dp&quot;\n        android:right=&quot;0dp&quot;\n        android:top=&quot;0dp&quot;\n        android:bottom=&quot;0dp&quot;/&gt;\n    &lt;/shape&gt;\n  &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p><strong>You can set the above XML as the background for the <code>CardView</code>:</strong></p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n  android:layout_width=&quot;wrap_content&quot;\n  android:layout_height=&quot;wrap_content&quot;\n  android:background=&quot;@drawable/layer_list_example&quot;&gt;\n  &lt;!-- Add your content here --&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Note that you may need to adjust the offset and blur radius to achieve the desired appearance.</p>\n"}],"owner":{"account_id":11534415,"reputation":158,"user_id":8452377,"display_name":"Div MoD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675489702,"creation_date":1608939075,"question_id":65452585,"body_markdown":"I wonder if there is a way to create a view container with an Inner Shadow like in Figma in native Android.\r\n\r\nI have already spent the whole day trying layer-list with different items (linear, radial gradients, shapes, bitmaps) but nothing seems to be similar to what I need.\r\n\r\nPlease check the attachment, pay attention to container&#39;s inner shadow, this is what I really need:\r\n\r\n[![desired inner shadow][1]][1]\r\n\r\nLinks or parts of code/xml will be appreciated. \r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYSwM.png","title":"Inner Shadow effect like Figma in native Android","body":"<p>I wonder if there is a way to create a view container with an Inner Shadow like in Figma in native Android.</p>\n<p>I have already spent the whole day trying layer-list with different items (linear, radial gradients, shapes, bitmaps) but nothing seems to be similar to what I need.</p>\n<p>Please check the attachment, pay attention to container's inner shadow, this is what I really need:</p>\n<p><a href=\"https://i.stack.imgur.com/RYSwM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYSwM.png\" alt=\"desired inner shadow\" /></a></p>\n<p>Links or parts of code/xml will be appreciated.\nThanks in advance!</p>\n"},{"tags":["java","git"],"owner":{"account_id":57498,"reputation":11533,"user_id":172265,"accept_rate":47,"display_name":"lang2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675488001,"creation_date":1565702942,"question_id":57478813,"body_markdown":"So basically I&#39;m trying to go mono-repo. \r\n\r\nI followed some [nice instructions][1]. The basic idea is:\r\n\r\n1. Create a new git repo.\r\n1. Use `git filter-branch --tree-filter` to move the original repo into a subdirectory.\r\n1. Use `git merge --allow-unrelated` to merge into the new repo.\r\n\r\nIt works great with `master` branch. But ... I&#39;d like to retain history for another branch `foo`. \r\n\r\nSo I modify the script like this:\r\n\r\n1. Add `-- --all` to `git filter-branch` to do renaming on all logs.\r\n1. Add `git merge ` from `foo` to `foo` into the new repo.\r\n\r\nThis actually works for some simple repo. But for repo that has a bit of changes in it, it doesn&#39;t work for `foo` and causes merge conflict. \r\n\r\nPerhaps I understood the principle behind this wrongly. I was not expecting a merge conflict because there simply was nothing on branch `foo` in the new repo.\r\n\r\nWhat did I do wrong? Is it possible to go mono-repo and retain history across different branches?\r\n\r\n[1]: http://choly.ca/post/git-merge-to-monorepo/","title":"Merge unrelated repos with multiple branch causing conflicts","body":"<p>So basically I'm trying to go mono-repo.</p>\n<p>I followed some <a href=\"http://choly.ca/post/git-merge-to-monorepo/\" rel=\"nofollow noreferrer\">nice instructions</a>. The basic idea is:</p>\n<ol>\n<li>Create a new git repo.</li>\n<li>Use <code>git filter-branch --tree-filter</code> to move the original repo into a subdirectory.</li>\n<li>Use <code>git merge --allow-unrelated</code> to merge into the new repo.</li>\n</ol>\n<p>It works great with <code>master</code> branch. But ... I'd like to retain history for another branch <code>foo</code>.</p>\n<p>So I modify the script like this:</p>\n<ol>\n<li>Add <code>-- --all</code> to <code>git filter-branch</code> to do renaming on all logs.</li>\n<li>Add <code>git merge </code> from <code>foo</code> to <code>foo</code> into the new repo.</li>\n</ol>\n<p>This actually works for some simple repo. But for repo that has a bit of changes in it, it doesn't work for <code>foo</code> and causes merge conflict.</p>\n<p>Perhaps I understood the principle behind this wrongly. I was not expecting a merge conflict because there simply was nothing on branch <code>foo</code> in the new repo.</p>\n<p>What did I do wrong? Is it possible to go mono-repo and retain history across different branches?</p>\n"},{"tags":["java","groovy","path","backslash"],"owner":{"account_id":24013373,"reputation":105,"user_id":17996665,"display_name":"Screamcheese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675486465,"creation_date":1675486465,"question_id":75343054,"body_markdown":"I am fairly new to Groovy (Apache) and Java. I am working on a code in Groovy to browse for a ```.csv``` file and then utilize it&#39;s absolute path for some other function. The problem I am having is the path is given in single ```\\``` backslashes but from all the searching I need to get the pathfile into the double ```\\\\``` backslash form.\r\n\r\nI have tried ```.replace(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;)``` and ```.replaceAll(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;)``` as well as ```.split(&quot;\\\\&quot;).join(&quot;\\\\\\\\&quot;)``` as well as trying to search the web for the correct answer.\r\n\r\nI am using Groovy and SwingBuilder, so maybe this might affect it. Below is trimmed down code I am using:\r\n\r\n```\r\nimport groovy.swing.SwingBuilder\r\n// import groovy.csv.*\r\nimport java.awt.BorderLayout as BL\r\nimport java.awt.FlowLayout\r\nimport java.awt.GridLayout\r\nimport javax.swing.SpringLayout\r\nimport static java.awt.GridBagConstraints.*\r\nimport javax.swing.filechooser.FileFilter\r\nimport javax.swing.JFileChooser\r\nimport java.awt.*\r\nimport javax.swing.*\r\nimport javax.swing.border.*\r\nimport javax.swing.WindowConstants as WC\r\nimport javax.swing.JOptionPane\r\nimport javax.swing.JTabbedPane\r\nimport javax.swing.JScrollPane\r\nimport org.apache.poi.ss.usermodel.*\r\nimport org.apache.poi.xssf.usermodel.*\r\nimport org.apache.poi.hssf.usermodel.*\r\nimport java.nio.file.Path\r\n\r\ncsvPath = &quot;&quot;\r\ndef username = System.getProperty(&quot;user.name&quot;)\r\ndef defaultPath = &#39;C:\\\\Users\\\\&#39; + username + &#39;\\\\Desktop\\\\output.xml&#39;\r\n\r\ndef readCSV(inputFile, outputFile = defaultPath, startRow = 3, objectNameCol = &#39;A&#39;, objectTypeCol = &#39;B&#39;, objectInstanceCol = &#39;C&#39;, objectDescCol = &#39;D&#39;) {\r\n  // Some code here\r\n}\r\n\r\ndef showPreview() {\r\n    def preview = swing.frame(title:&#39;CSV Preview&#39;, size:[500,300]) {\r\n        panel {\r\n            borderLayout()\r\n            scrollPane( verticalScrollBarPolicy:JScrollPane.VERTICAL_SCROLLBAR_ALWAYS ) {\r\n                table() {\r\n                    tableModel(list:pointsList.object) {\r\n                        closureColumn(header:&#39;Name&#39;, read:{row -&gt; return row.@name}, write:{ row, val -&gt; row.@name = val} )\r\n                        closureColumn(header:&#39;Description&#39;, read:{row -&gt; return row.@description}, write:{ row, val -&gt; row.@description = val})\r\n                        closureColumn(header:&#39;Object Type&#39;, read:{row -&gt; return pointTypeMap[row.@type.toInteger()]}, write:{ row, val -&gt; row.@type = pointTypeMap.find{ it.value == val}?.key})  //fix this, lookup key\r\n                        closureColumn(header:&#39;Object ID&#39;, read:{row -&gt; return row.@id.toInteger()}, write:{ row, val -&gt; row.@id = val})\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    preview.show()\r\n}\r\n\r\ndef openCSVDialog = new JFileChooser(\r\n                            dialogTitle: &quot;Choose a CSV file&quot;,\r\n                            fileSelectionMode: JFileChooser.FILES_ONLY, \r\n                            //the file filter must show also directories, in order to be able to look into them\r\n                            fileFilter: [getDescription: {-&gt; &quot;*.csv&quot;}, accept:{file-&gt; file ==~ /.*?\\.csv/ || file.isDirectory() }] as FileFilter)\r\n\r\n\r\n    swing = new SwingBuilder();\r\n    // Graphical User Interface\r\n    int sizex_01 = 325\r\n    int sizey_01 = 450\r\n    int locationx_01 = (1920 - sizex_01)/2\r\n    int locationy_01 = (1080 - sizey_01)/2\r\n    gui = swing.frame(title:&#39;Discovery File Converter&#39;, location : [locationx_01, locationy_01], size:[sizex_01,sizey_01]) { // location : [locationx_01, locationy_01]\r\n        menuBar {\r\n            menu(text:&#39;Preview&#39;) {\r\n                menuItem() {\r\n                    action(name:&#39;Preview CSV Data&#39;, closure:{ showPreview() })\r\n                }\r\n            }\r\n        }\r\n\r\n        gridBagLayout()\r\n        try\r\n        {\r\n            panel(constraints: gbc(gridx:0,gridy:0,gridwidth:REMAINDER, fill:HORIZONTAL)) {\r\n                label(icon:imageIcon(&#39;https://static.freeimages.com/images/convert-image.png&#39;), \r\n                        constraints:gbc(anchor:CENTER), )\r\n            }\r\n        }\r\n        catch(Exception ex)\r\n        {}\r\n        finally\r\n        {}\r\n        tabbedPane(id: &#39;tabs&#39;, tabLayoutPolicy:JTabbedPane.SCROLL_TAB_LAYOUT, constraints:gbc(ipadx:50)) //constraints:gbc(ipadx:300)\r\n        { //JTabbedPane.WRAP_TAB_LAYOUT\r\n                            \r\n            panel(name:&#39;General&#39;) \r\n            {\r\n                discoveryRow01 = 0\r\n                gridBagLayout()\r\n                // Line 1\r\n                label(&quot;Select spreadsheet parameters:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, anchor:LINE_START)); discoveryRow01++\r\n                // Line 2\r\n                label(&quot;Object Name Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\r\n                textField(id:&quot;objectNameColText&quot;, text: &#39;A&#39;, editable:true,\r\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++ //, fill:HORIZONTAL\r\n                // Line 3\r\n                label(&quot;Object Type Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\r\n                textField(id:&quot;objectTypeColText&quot;, text: &#39;B&#39;, editable:true,\r\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\r\n                // Line 4\r\n                label(&quot;Object Instance Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\r\n                textField(id:&quot;objectTypeColText&quot;, text: &#39;C&#39;, editable:true,\r\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\r\n                // Line 5\r\n                label(&quot;Object Description Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\r\n                textField(id:&quot;objectDescColText&quot;, text: &#39;D&#39;, editable:true,\r\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\r\n                // Line 6\r\n                label(&quot;Starting Object Row:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\r\n                textField(id:&quot;startRowText&quot;, text: &#39;2&#39;, editable:true,\r\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\r\n                button( &quot;Browse&quot;, \r\n                    constraints:gbc(gridx:0,gridy:discoveryRow01, anchor:WEST),\r\n                    actionPerformed: { evt -&gt;  \r\n                    result = openCSVDialog.showOpenDialog()\r\n                    switch ( result )\r\n                    {\r\n                        case JFileChooser.APPROVE_OPTION:\r\n                            csvPath =  openCSVDialog.getSelectedFile()\r\n                            println csvPath\r\n                            println &quot;\\nfile name=&quot; + csvPath.toString()\r\n                            csvFilePathBox.text = csvPath.toString()                                \r\n\r\n                            // below code does not work yet for previewing\r\n                            // def parsedCSV = new File(csvPath) //.replaceAll(&#39; {1,5}&#39;,&#39;&#39;)  // Reads info from discovery file\r\n                            // println &quot;parsedCSV worked&quot;\r\n\r\n                            break\r\n                        case JFileChooser.CANCEL_OPTION:\r\n                            break\r\n                        case JFileChooser.ERROR_OPTION:\r\n                            break\r\n                    }\r\n                })\r\n                textField(id:&quot;csvFilePathBox&quot;, constraints:gbc(gridx:1,gridy:discoveryRow01,ipadx:100,\r\n                    gridwidth:REMAINDER, fill:HORIZONTAL))\r\n            }\r\n        }\r\n        button( &quot;Update&quot;, constraints: gbc(gridx:0,gridy:2, gridwidth:REMAINDER, insets:[20,0,0,0], ipadx:20,ipady:20), \r\n            actionPerformed: { evt -&gt;      \r\n                // General Options\r\n                objectNameCol = objectNameColText.text.toUpperCase()\r\n                objectTypeCol = objectTypeColText.text.toUpperCase()\r\n                objectInstanceCol = objectInstanceColText.text.toUpperCase()\r\n                objectDescCol = objectDescColText.text.toUpperCase()\r\n                startRow = startRowText.text.toInteger()\r\n                csvFilePath = csvPath\r\n\r\n                def properties = new Properties()\r\n                readCSV(csvFilePath,outputFile, startRow, objectNameCol, objectTypeCol, objectInstanceCol, objectDescCol)\r\n            }\r\n        )\r\n    }\r\n    gui.show()\r\n```\r\n\r\nAn example of the pathfile that the code tries to use is \r\n```\r\nC:\\Users\\abcd\\Desktop\\Sandbox\\ALC Integration\\file.csv\r\n```\r\nand it&#39;s pretty apparent Groovy and a lot of languages do not like this but it is &quot;Windows&quot; viewer-friendly when browsing for the file.\r\n\r\nThe other part that might be causing this is what is coded in the JFileChooser. Some other notes is I am working in a constrained environment for Groovy in ALC Eikon. Help understanding this challenge would be greatly appreciated!","title":"Modify Filepath from single backslash to double backslash in Groovy","body":"<p>I am fairly new to Groovy (Apache) and Java. I am working on a code in Groovy to browse for a <code>.csv</code> file and then utilize it's absolute path for some other function. The problem I am having is the path is given in single <code>\\</code> backslashes but from all the searching I need to get the pathfile into the double <code>\\\\</code> backslash form.</p>\n<p>I have tried <code>.replace(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;)</code> and <code>.replaceAll(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;)</code> as well as <code>.split(&quot;\\\\&quot;).join(&quot;\\\\\\\\&quot;)</code> as well as trying to search the web for the correct answer.</p>\n<p>I am using Groovy and SwingBuilder, so maybe this might affect it. Below is trimmed down code I am using:</p>\n<pre><code>import groovy.swing.SwingBuilder\n// import groovy.csv.*\nimport java.awt.BorderLayout as BL\nimport java.awt.FlowLayout\nimport java.awt.GridLayout\nimport javax.swing.SpringLayout\nimport static java.awt.GridBagConstraints.*\nimport javax.swing.filechooser.FileFilter\nimport javax.swing.JFileChooser\nimport java.awt.*\nimport javax.swing.*\nimport javax.swing.border.*\nimport javax.swing.WindowConstants as WC\nimport javax.swing.JOptionPane\nimport javax.swing.JTabbedPane\nimport javax.swing.JScrollPane\nimport org.apache.poi.ss.usermodel.*\nimport org.apache.poi.xssf.usermodel.*\nimport org.apache.poi.hssf.usermodel.*\nimport java.nio.file.Path\n\ncsvPath = &quot;&quot;\ndef username = System.getProperty(&quot;user.name&quot;)\ndef defaultPath = 'C:\\\\Users\\\\' + username + '\\\\Desktop\\\\output.xml'\n\ndef readCSV(inputFile, outputFile = defaultPath, startRow = 3, objectNameCol = 'A', objectTypeCol = 'B', objectInstanceCol = 'C', objectDescCol = 'D') {\n  // Some code here\n}\n\ndef showPreview() {\n    def preview = swing.frame(title:'CSV Preview', size:[500,300]) {\n        panel {\n            borderLayout()\n            scrollPane( verticalScrollBarPolicy:JScrollPane.VERTICAL_SCROLLBAR_ALWAYS ) {\n                table() {\n                    tableModel(list:pointsList.object) {\n                        closureColumn(header:'Name', read:{row -&gt; return row.@name}, write:{ row, val -&gt; row.@name = val} )\n                        closureColumn(header:'Description', read:{row -&gt; return row.@description}, write:{ row, val -&gt; row.@description = val})\n                        closureColumn(header:'Object Type', read:{row -&gt; return pointTypeMap[row.@type.toInteger()]}, write:{ row, val -&gt; row.@type = pointTypeMap.find{ it.value == val}?.key})  //fix this, lookup key\n                        closureColumn(header:'Object ID', read:{row -&gt; return row.@id.toInteger()}, write:{ row, val -&gt; row.@id = val})\n                    }\n                }\n            }\n        }\n    }\n    preview.show()\n}\n\ndef openCSVDialog = new JFileChooser(\n                            dialogTitle: &quot;Choose a CSV file&quot;,\n                            fileSelectionMode: JFileChooser.FILES_ONLY, \n                            //the file filter must show also directories, in order to be able to look into them\n                            fileFilter: [getDescription: {-&gt; &quot;*.csv&quot;}, accept:{file-&gt; file ==~ /.*?\\.csv/ || file.isDirectory() }] as FileFilter)\n\n\n    swing = new SwingBuilder();\n    // Graphical User Interface\n    int sizex_01 = 325\n    int sizey_01 = 450\n    int locationx_01 = (1920 - sizex_01)/2\n    int locationy_01 = (1080 - sizey_01)/2\n    gui = swing.frame(title:'Discovery File Converter', location : [locationx_01, locationy_01], size:[sizex_01,sizey_01]) { // location : [locationx_01, locationy_01]\n        menuBar {\n            menu(text:'Preview') {\n                menuItem() {\n                    action(name:'Preview CSV Data', closure:{ showPreview() })\n                }\n            }\n        }\n\n        gridBagLayout()\n        try\n        {\n            panel(constraints: gbc(gridx:0,gridy:0,gridwidth:REMAINDER, fill:HORIZONTAL)) {\n                label(icon:imageIcon('https://static.freeimages.com/images/convert-image.png'), \n                        constraints:gbc(anchor:CENTER), )\n            }\n        }\n        catch(Exception ex)\n        {}\n        finally\n        {}\n        tabbedPane(id: 'tabs', tabLayoutPolicy:JTabbedPane.SCROLL_TAB_LAYOUT, constraints:gbc(ipadx:50)) //constraints:gbc(ipadx:300)\n        { //JTabbedPane.WRAP_TAB_LAYOUT\n                            \n            panel(name:'General') \n            {\n                discoveryRow01 = 0\n                gridBagLayout()\n                // Line 1\n                label(&quot;Select spreadsheet parameters:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, anchor:LINE_START)); discoveryRow01++\n                // Line 2\n                label(&quot;Object Name Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\n                textField(id:&quot;objectNameColText&quot;, text: 'A', editable:true,\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++ //, fill:HORIZONTAL\n                // Line 3\n                label(&quot;Object Type Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\n                textField(id:&quot;objectTypeColText&quot;, text: 'B', editable:true,\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\n                // Line 4\n                label(&quot;Object Instance Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\n                textField(id:&quot;objectTypeColText&quot;, text: 'C', editable:true,\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\n                // Line 5\n                label(&quot;Object Description Column:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\n                textField(id:&quot;objectDescColText&quot;, text: 'D', editable:true,\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\n                // Line 6\n                label(&quot;Starting Object Row:&quot;, constraints:gbc(gridx:0,gridy:discoveryRow01, insets:[5,0,0,0], anchor:LINE_START))\n                textField(id:&quot;startRowText&quot;, text: '2', editable:true,\n                    constraints:gbc(gridx:1,gridy:discoveryRow01, insets:[5,0,0,0],ipadx:20)); discoveryRow01++\n                button( &quot;Browse&quot;, \n                    constraints:gbc(gridx:0,gridy:discoveryRow01, anchor:WEST),\n                    actionPerformed: { evt -&gt;  \n                    result = openCSVDialog.showOpenDialog()\n                    switch ( result )\n                    {\n                        case JFileChooser.APPROVE_OPTION:\n                            csvPath =  openCSVDialog.getSelectedFile()\n                            println csvPath\n                            println &quot;\\nfile name=&quot; + csvPath.toString()\n                            csvFilePathBox.text = csvPath.toString()                                \n\n                            // below code does not work yet for previewing\n                            // def parsedCSV = new File(csvPath) //.replaceAll(' {1,5}','')  // Reads info from discovery file\n                            // println &quot;parsedCSV worked&quot;\n\n                            break\n                        case JFileChooser.CANCEL_OPTION:\n                            break\n                        case JFileChooser.ERROR_OPTION:\n                            break\n                    }\n                })\n                textField(id:&quot;csvFilePathBox&quot;, constraints:gbc(gridx:1,gridy:discoveryRow01,ipadx:100,\n                    gridwidth:REMAINDER, fill:HORIZONTAL))\n            }\n        }\n        button( &quot;Update&quot;, constraints: gbc(gridx:0,gridy:2, gridwidth:REMAINDER, insets:[20,0,0,0], ipadx:20,ipady:20), \n            actionPerformed: { evt -&gt;      \n                // General Options\n                objectNameCol = objectNameColText.text.toUpperCase()\n                objectTypeCol = objectTypeColText.text.toUpperCase()\n                objectInstanceCol = objectInstanceColText.text.toUpperCase()\n                objectDescCol = objectDescColText.text.toUpperCase()\n                startRow = startRowText.text.toInteger()\n                csvFilePath = csvPath\n\n                def properties = new Properties()\n                readCSV(csvFilePath,outputFile, startRow, objectNameCol, objectTypeCol, objectInstanceCol, objectDescCol)\n            }\n        )\n    }\n    gui.show()\n</code></pre>\n<p>An example of the pathfile that the code tries to use is</p>\n<pre><code>C:\\Users\\abcd\\Desktop\\Sandbox\\ALC Integration\\file.csv\n</code></pre>\n<p>and it's pretty apparent Groovy and a lot of languages do not like this but it is &quot;Windows&quot; viewer-friendly when browsing for the file.</p>\n<p>The other part that might be causing this is what is coded in the JFileChooser. Some other notes is I am working in a constrained environment for Groovy in ALC Eikon. Help understanding this challenge would be greatly appreciated!</p>\n"},{"tags":["java","constructor"],"answers":[{"tags":[],"owner":{"account_id":9208386,"reputation":9299,"user_id":6842716,"display_name":"JohnG"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477929045,"creation_date":1477927851,"answer_id":40345373,"question_id":40340765,"body_markdown":"The classes that extend the Clothing class seem to be throwing the errors.  One is from TShirt (which I do not see the code for), another is from Jeans and another from Sweatshirt (which is in your posted code twice).\r\n\r\nWhenever you extend a Class, the compiler will complain if you don’t initialize the inherited Class’s constructor right away. In all the extended classes shown, none ever do this. So to get you started I supplied a bare minimum of the Sweatshirt Class that initializes the `super` constructor or in you case it initializes `Clothing` every time you create a Sweatshirt object.  `super` is `Clothing` in this case. Also since you are extending from the Clothing class you do not need to redefine the Size and Color properties in your extended classes.\r\n\r\nAlso be careful when using different variables with the same name but are “Case” different, Example. Looking at the code you supplied, look at the Clothing class constructor. There your incoming values: Size and Color are not getting used. It should be this.size = Size and this.color = Color. Since you are using the classes own variable to set itself I am pretty sure you will get an error or simply not get the right values. I would not recommend naming different variables that only differ in Case.\r\n\r\n\r\n    public class Sweatshirt extends Clothing\r\n    {\r\n       //private String size;\r\n       //private String color;\r\n       private boolean hasHood;\r\n\r\n       public Sweatshirt(String inSize, String inColor, boolean inHasHood)\r\n       {\r\n\t     super(inSize, inColor);\r\n\t     //super(Clothing);\r\n\t     //size = Size;\r\n\t     //color = Color;\r\n\t     hasHood = inHasHood;  \r\n       }\r\n\r\n       public boolean getHasHood()\r\n       {\r\n\t     return this.hasHood;\r\n       }\r\n\r\n       @Override\r\n       public String toString()\r\n       {\r\n\t     return &quot;Sweatshirt [hasHood=&quot; + getHasHood() + &quot;, getSize()=&quot; + getSize() + &quot;, getColor()=&quot; + getColor() + &quot;]&quot;;\r\n       }\r\n  \r\n     }\r\n  \r\nHope this helps you get started.\r\n","title":"Clothing Store Lesson from CodeHS","body":"<p>The classes that extend the Clothing class seem to be throwing the errors.  One is from TShirt (which I do not see the code for), another is from Jeans and another from Sweatshirt (which is in your posted code twice).</p>\n\n<p>Whenever you extend a Class, the compiler will complain if you don’t initialize the inherited Class’s constructor right away. In all the extended classes shown, none ever do this. So to get you started I supplied a bare minimum of the Sweatshirt Class that initializes the <code>super</code> constructor or in you case it initializes <code>Clothing</code> every time you create a Sweatshirt object.  <code>super</code> is <code>Clothing</code> in this case. Also since you are extending from the Clothing class you do not need to redefine the Size and Color properties in your extended classes.</p>\n\n<p>Also be careful when using different variables with the same name but are “Case” different, Example. Looking at the code you supplied, look at the Clothing class constructor. There your incoming values: Size and Color are not getting used. It should be this.size = Size and this.color = Color. Since you are using the classes own variable to set itself I am pretty sure you will get an error or simply not get the right values. I would not recommend naming different variables that only differ in Case.</p>\n\n<pre><code>public class Sweatshirt extends Clothing\n{\n   //private String size;\n   //private String color;\n   private boolean hasHood;\n\n   public Sweatshirt(String inSize, String inColor, boolean inHasHood)\n   {\n     super(inSize, inColor);\n     //super(Clothing);\n     //size = Size;\n     //color = Color;\n     hasHood = inHasHood;  \n   }\n\n   public boolean getHasHood()\n   {\n     return this.hasHood;\n   }\n\n   @Override\n   public String toString()\n   {\n     return \"Sweatshirt [hasHood=\" + getHasHood() + \", getSize()=\" + getSize() + \", getColor()=\" + getColor() + \"]\";\n   }\n\n }\n</code></pre>\n\n<p>Hope this helps you get started.</p>\n"},{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1511414236,"post_id":47426210,"comment_id":81851117,"body_markdown":"If you are going to answer questions, avoid giving answers that are mainly code dumps as they are not that helpful to future visitors. Instead strive to explain the reasons behind the problems that the original poster is having as well as how to solve those problems. This way your answer will be helpful to future visitors with similar problems and not just the original poster.","body":"If you are going to answer questions, avoid giving answers that are mainly code dumps as they are not that helpful to future visitors. Instead strive to explain the reasons behind the problems that the original poster is having as well as how to solve those problems. This way your answer will be helpful to future visitors with similar problems and not just the original poster."},{"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"score":0,"creation_date":1511414363,"post_id":47426210,"comment_id":81851150,"body_markdown":"@HovercraftFullOfEels yup, got it. This was my first time answering so I did not keep that in mind. Sorry and thanks for pointing it out","body":"@HovercraftFullOfEels yup, got it. This was my first time answering so I did not keep that in mind. Sorry and thanks for pointing it out"}],"tags":[],"owner":{"account_id":12076251,"reputation":47,"user_id":8829591,"display_name":"CodingBat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552543498,"creation_date":1511320316,"answer_id":47426210,"question_id":40340765,"body_markdown":"This is what I did :\r\n\r\nSweatShirt \r\n\r\n    public class Sweatshirt extends Clothing\r\n    {\r\n    \r\n        private boolean hood;\r\n\r\n        public Sweatshirt(String size, String color, boolean hood)\r\n        {\r\n            super (size,color);\r\n            this.hood=hood;\r\n        }\r\n\r\n        public boolean hasHood()\r\n        {\r\n            return this.hood;\r\n        }\r\n    }\r\n\r\nJeans\r\n\r\n    public class Jeans extends Clothing\r\n    { \r\n        public Jeans(String size)\r\n        {\r\n           super(size,&quot;blue&quot;);\r\n        }\r\n    }\r\nT-shirt\r\n\r\n    public class TShirt extends Clothing\r\n    {\r\n        private String fabric;\r\n        \r\n        public TShirt(String size, String color, String fabric)\r\n        {\r\n            super(size,color);\r\n            this.fabric=fabric;\r\n        }\r\n    \r\n        public String getFabric()\r\n        {\r\n            return this.fabric;\r\n        }\r\nClothing \r\n\r\n    public class Clothing\r\n    {\r\n        // all instance variables should be private\r\n        private String size;\r\n        private String color;\r\n        // private int x;\r\n    \r\n        // default constructor\r\n        /* \r\n        public Clothing ()\r\n        {\r\n            // intialize all instance variables\r\n            size=&quot;&quot;;\r\n            color=&quot;&quot;;\r\n            x=0;\r\n        }\r\n        */\r\n        // only intialize when the parameter is empty or zero argument\r\n        \r\n        public Clothing(String size, String color)\r\n        {\r\n            this.size=size;\r\n            this.color=color;\r\n            // this.x=0;\r\n            \r\n            // always initialize all the instance variables\r\n            //even though the parameters are incomplete\r\n        }\r\n        \r\n        \r\n        public String getSize()\r\n        {\r\n            return this.size;\r\n        }\r\n        public String getColor()\r\n        {\r\n            return this.color;\r\n        }\r\n    \r\n    }\r\n\r\nYou&#39;re probably done with this already, but just in case.\r\n","title":"Clothing Store Lesson from CodeHS","body":"<p>This is what I did :</p>\n\n<p>SweatShirt </p>\n\n<pre><code>public class Sweatshirt extends Clothing\n{\n\n    private boolean hood;\n\n    public Sweatshirt(String size, String color, boolean hood)\n    {\n        super (size,color);\n        this.hood=hood;\n    }\n\n    public boolean hasHood()\n    {\n        return this.hood;\n    }\n}\n</code></pre>\n\n<p>Jeans</p>\n\n<pre><code>public class Jeans extends Clothing\n{ \n    public Jeans(String size)\n    {\n       super(size,\"blue\");\n    }\n}\n</code></pre>\n\n<p>T-shirt</p>\n\n<pre><code>public class TShirt extends Clothing\n{\n    private String fabric;\n\n    public TShirt(String size, String color, String fabric)\n    {\n        super(size,color);\n        this.fabric=fabric;\n    }\n\n    public String getFabric()\n    {\n        return this.fabric;\n    }\n</code></pre>\n\n<p>Clothing </p>\n\n<pre><code>public class Clothing\n{\n    // all instance variables should be private\n    private String size;\n    private String color;\n    // private int x;\n\n    // default constructor\n    /* \n    public Clothing ()\n    {\n        // intialize all instance variables\n        size=\"\";\n        color=\"\";\n        x=0;\n    }\n    */\n    // only intialize when the parameter is empty or zero argument\n\n    public Clothing(String size, String color)\n    {\n        this.size=size;\n        this.color=color;\n        // this.x=0;\n\n        // always initialize all the instance variables\n        //even though the parameters are incomplete\n    }\n\n\n    public String getSize()\n    {\n        return this.size;\n    }\n    public String getColor()\n    {\n        return this.color;\n    }\n\n}\n</code></pre>\n\n<p>You're probably done with this already, but just in case.</p>\n"}],"owner":{"account_id":9550411,"reputation":11,"user_id":7094774,"display_name":"Nick W."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15012,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675485151,"creation_date":1477911357,"question_id":40340765,"body_markdown":"So I&#39;m currently enrolled in the class with my school call Ap Computer Science in Java (Mocha). i am stuck on the stage 4.12.4. Here is the Exercise\r\n\r\n\r\nIn this problem, you’ll design a few classes that represent different pieces of clothing in a clothing store.\r\n\r\nYou’ll write the classes for TShirt, Jeans, Sweatshirt and Clothing.\r\n\r\nThe Clothing class should have two instance variables: one for the size of the clothing (a String), and another for the clothing’s color (also a string).\r\n\r\nClothing should have two accessor (getter methods) as well:\r\n\r\n    public String getSize()\r\n    public String getColor()\r\n\r\nThe Sweatshirt class should have a private instance variable (or field) to store whether or not it has a hood, and a corresponding getter method\r\n\r\n    public boolean hasHood()\r\n\r\nThe TShirt class should have a private field to store the fabric and a corresponding getter for that called\r\n\r\n    public String getFabric()\r\n\r\nAll Jeans should have the color blue.\r\n\r\nThe constructors should be of this format:\r\n\r\n    public Clothing(String size, String color)\r\n    public TShirt(String size, String color, String fabric)\r\n    public Sweatshirt(String size, String color, boolean hasHood)\r\n    public Jeans(String size)\r\n\r\nHere is the Code that i have.\r\n\r\nTShirt.java:\r\n\r\n    public class TShirt extends Clothing\r\n    {\r\n    private String size;\r\n    private String color;\r\n    private String fabric;\r\n    \r\n    \r\n    public TShirt(String Size, String Color, String Fabric)\r\n    {\r\n        size = Size;\r\n        color = Color;\r\n        fabric = Fabric;\r\n    }\r\n    \r\n    \r\n    public String fabric()\r\n    {\r\n        return this.fabric;\r\n    }\r\n    \r\n    }\r\n\r\n\r\n\r\nJeans.java:\r\n\r\n    public class Jeans extends Clothing\r\n    {\r\n    private String size;\r\n    private String color = &quot;blue&quot;;\r\n    \r\n    public Jeans(String Size)\r\n    {\r\n       size = Size;\r\n    }\r\n    \r\n    \r\n    \r\n    public String getColor()\r\n    {\r\n        return this.color;\r\n    }\r\n    }\r\n\r\nSweatshirt.java:\r\n\r\n    public class Sweatshirt extends Clothing\r\n    {\r\n    private String size;\r\n    private String color;\r\n    private boolean hasHood;\r\n    \r\n    public Sweatshirt(String Size, String Color, boolean HasHood)\r\n    {\r\n        //super(Clothing);\r\n        size = Size;\r\n        color = Color;\r\n        hasHood = HasHood;\r\n        \r\n    }\r\n    \r\n    \r\n    public boolean hasHood()\r\n    {\r\n        return this.hasHood;\r\n    }\r\n    }\r\n\r\nClothing.java:\r\n\r\n    public abstract class Clothing\r\n    {\r\n    private String size;\r\n    private String color;\r\n    private String fabric;\r\n    \r\n    public Clothing(String Size, String Color)\r\n    {\r\n        this.size = size;\r\n        this.color = color;\r\n    }\r\n    \r\n    public String getSize()\r\n    {\r\n        return this.size;\r\n    }\r\n    \r\n    public String getColor()\r\n    {\r\n        return this.color;\r\n    }\r\n    \r\n    public String getFabric()\r\n    {\r\n        return this.fabric;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nHere is the list of Error that i got when i ran the program\r\n\r\n    root/TShirt.java:9: error: constructor Clothing in class Clothing cannot be applied to given types;\r\n    {\r\n    ^\r\n    required: String,String\r\n    found: no arguments\r\n    reason: actual and formal argument lists differ in length\r\n    root/Jeans.java:7: error: constructor Clothing in class Clothing cannot be applied to given types;\r\n    {\r\n    ^\r\n    required: String,String\r\n    found: no arguments\r\n    reason: actual and formal argument lists differ in length\r\n    root/Sweatshirt.java:8: error: constructor Clothing in class Clothing cannot be applied to given types;\r\n    {\r\n    ^\r\n    required: String,String\r\n    found: no arguments\r\n    reason: actual and formal argument lists differ in length\r\n    3 errors\r\n    Error: Could not find or load main class ClothingTester\r\n\r\nI don&#39;t know what i did wrong so please any one help me i stuck on this lesson a few days already.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Clothing Store Lesson from CodeHS","body":"<p>So I'm currently enrolled in the class with my school call Ap Computer Science in Java (Mocha). i am stuck on the stage 4.12.4. Here is the Exercise</p>\n\n<p>In this problem, you’ll design a few classes that represent different pieces of clothing in a clothing store.</p>\n\n<p>You’ll write the classes for TShirt, Jeans, Sweatshirt and Clothing.</p>\n\n<p>The Clothing class should have two instance variables: one for the size of the clothing (a String), and another for the clothing’s color (also a string).</p>\n\n<p>Clothing should have two accessor (getter methods) as well:</p>\n\n<pre><code>public String getSize()\npublic String getColor()\n</code></pre>\n\n<p>The Sweatshirt class should have a private instance variable (or field) to store whether or not it has a hood, and a corresponding getter method</p>\n\n<pre><code>public boolean hasHood()\n</code></pre>\n\n<p>The TShirt class should have a private field to store the fabric and a corresponding getter for that called</p>\n\n<pre><code>public String getFabric()\n</code></pre>\n\n<p>All Jeans should have the color blue.</p>\n\n<p>The constructors should be of this format:</p>\n\n<pre><code>public Clothing(String size, String color)\npublic TShirt(String size, String color, String fabric)\npublic Sweatshirt(String size, String color, boolean hasHood)\npublic Jeans(String size)\n</code></pre>\n\n<p>Here is the Code that i have.</p>\n\n<p>TShirt.java:</p>\n\n<pre><code>public class TShirt extends Clothing\n{\nprivate String size;\nprivate String color;\nprivate String fabric;\n\n\npublic TShirt(String Size, String Color, String Fabric)\n{\n    size = Size;\n    color = Color;\n    fabric = Fabric;\n}\n\n\npublic String fabric()\n{\n    return this.fabric;\n}\n\n}\n</code></pre>\n\n<p>Jeans.java:</p>\n\n<pre><code>public class Jeans extends Clothing\n{\nprivate String size;\nprivate String color = \"blue\";\n\npublic Jeans(String Size)\n{\n   size = Size;\n}\n\n\n\npublic String getColor()\n{\n    return this.color;\n}\n}\n</code></pre>\n\n<p>Sweatshirt.java:</p>\n\n<pre><code>public class Sweatshirt extends Clothing\n{\nprivate String size;\nprivate String color;\nprivate boolean hasHood;\n\npublic Sweatshirt(String Size, String Color, boolean HasHood)\n{\n    //super(Clothing);\n    size = Size;\n    color = Color;\n    hasHood = HasHood;\n\n}\n\n\npublic boolean hasHood()\n{\n    return this.hasHood;\n}\n}\n</code></pre>\n\n<p>Clothing.java:</p>\n\n<pre><code>public abstract class Clothing\n{\nprivate String size;\nprivate String color;\nprivate String fabric;\n\npublic Clothing(String Size, String Color)\n{\n    this.size = size;\n    this.color = color;\n}\n\npublic String getSize()\n{\n    return this.size;\n}\n\npublic String getColor()\n{\n    return this.color;\n}\n\npublic String getFabric()\n{\n    return this.fabric;\n}\n\n}\n</code></pre>\n\n<p>Here is the list of Error that i got when i ran the program</p>\n\n<pre><code>root/TShirt.java:9: error: constructor Clothing in class Clothing cannot be applied to given types;\n{\n^\nrequired: String,String\nfound: no arguments\nreason: actual and formal argument lists differ in length\nroot/Jeans.java:7: error: constructor Clothing in class Clothing cannot be applied to given types;\n{\n^\nrequired: String,String\nfound: no arguments\nreason: actual and formal argument lists differ in length\nroot/Sweatshirt.java:8: error: constructor Clothing in class Clothing cannot be applied to given types;\n{\n^\nrequired: String,String\nfound: no arguments\nreason: actual and formal argument lists differ in length\n3 errors\nError: Could not find or load main class ClothingTester\n</code></pre>\n\n<p>I don't know what i did wrong so please any one help me i stuck on this lesson a few days already.</p>\n"},{"tags":["java","multithreading","cron","sleep","infinite-loop"],"answers":[{"comments":[{"owner":{"account_id":2254066,"reputation":5334,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"score":0,"creation_date":1410832974,"post_id":25859229,"comment_id":40464230,"body_markdown":"So the code doesn&#39;t block at ses.scheduleAtFixedRate(... ?","body":"So the code doesn&#39;t block at ses.scheduleAtFixedRate(... ?"}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410830353,"creation_date":1410829891,"answer_id":25859229,"question_id":25859178,"body_markdown":"You can run a task at fixed rate using [``ScheduledExecutorService``][1] and stop it on some action (here by reading ``System.in``):\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        ses.scheduleAtFixedRate(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // do some work\r\n            }\r\n        }, 0, 5, TimeUnit.MINUTES);  // every 5 minutes\r\n\r\n        // when anything is entered, the task is stopped\r\n        Scanner sc = new Scanner(System.in);\r\n        String whatever = sc.next();\r\n        // shutdown the executor\r\n        ses.shutdown();\r\n        ses.awaitTermination(15, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"Infinite loop + Thread.sleep replace cron job","body":"<p>You can run a task at fixed rate using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow\"><code>ScheduledExecutorService</code></a> and stop it on some action (here by reading <code>System.in</code>):</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n    ses.scheduleAtFixedRate(new Runnable() {\n        @Override\n        public void run() {\n            // do some work\n        }\n    }, 0, 5, TimeUnit.MINUTES);  // every 5 minutes\n\n    // when anything is entered, the task is stopped\n    Scanner sc = new Scanner(System.in);\n    String whatever = sc.next();\n    // shutdown the executor\n    ses.shutdown();\n    ses.awaitTermination(15, TimeUnit.SECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3569709,"reputation":3532,"user_id":2980345,"accept_rate":75,"display_name":"ndrone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410829980,"creation_date":1410829980,"answer_id":25859246,"question_id":25859178,"body_markdown":"I would use a quartz scheduler within my application. link http://quartz-scheduler.org/\r\n\r\nit does control, when you start your application it runs, and when your application stops it will stop. Granted there is more setup, but it&#39;s pretty flexiable.","title":"Infinite loop + Thread.sleep replace cron job","body":"<p>I would use a quartz scheduler within my application. link <a href=\"http://quartz-scheduler.org/\" rel=\"nofollow\">http://quartz-scheduler.org/</a></p>\n\n<p>it does control, when you start your application it runs, and when your application stops it will stop. Granted there is more setup, but it's pretty flexiable.</p>\n"},{"tags":[],"owner":{"account_id":106251,"reputation":2950,"user_id":283113,"display_name":"x-code"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410880086,"creation_date":1410842349,"answer_id":25860770,"question_id":25859178,"body_markdown":"A solution like the one suggested has the advantage that it will work on an operating system that does not have `cron` (but every OS will have some kind of scheduler).\n\nOn the other hand using `cron` has these advantages:\n\n* The task will be run at the next scheduled time even if it crashes; the solution shown won&#39;t run again after a crash until someone restarts it.\n\n* Cron will start running the task again after a reboot; the solution proposed doesn&#39;t do that.\n\n* When the task stops and then shuts down periodically, memory leaks are less critical than in a long-running process.\n\nThis list could doubtless be made longer by enumerating more features that have been added to OS level job schedulers over time.","title":"Infinite loop + Thread.sleep replace cron job","body":"<p>A solution like the one suggested has the advantage that it will work on an operating system that does not have <code>cron</code> (but every OS will have some kind of scheduler).</p>\n\n<p>On the other hand using <code>cron</code> has these advantages:</p>\n\n<ul>\n<li><p>The task will be run at the next scheduled time even if it crashes; the solution shown won't run again after a crash until someone restarts it.</p></li>\n<li><p>Cron will start running the task again after a reboot; the solution proposed doesn't do that.</p></li>\n<li><p>When the task stops and then shuts down periodically, memory leaks are less critical than in a long-running process.</p></li>\n</ul>\n\n<p>This list could doubtless be made longer by enumerating more features that have been added to OS level job schedulers over time.</p>\n"},{"comments":[{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1410861781,"post_id":25860783,"comment_id":40475026,"body_markdown":"Well, to be fair, the loop interval could be easily changed if the interval is a var read from the command-line, (or wherever), instead of a literal constant.  Programs are not cats, fair enough, but a cat thread is not necessarily a bad idea:)","body":"Well, to be fair, the loop interval could be easily changed if the interval is a var read from the command-line, (or wherever), instead of a literal constant.  Programs are not cats, fair enough, but a cat thread is not necessarily a bad idea:)"}],"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675484337,"creation_date":1410842399,"answer_id":25860783,"question_id":25859178,"body_markdown":"A number of significant drawbacks:\r\n\r\n - If you ever want to change the polling frequency (i.e. do it every 2 minutes, or every 10 minutes), you have to change the program. This is especially difficult if you have an irregular polling schedule, something like once every 5 minutes on Monday through Friday, but once every 15 minutes on Saturday and Sunday. Sure, you don&#39;t *think* your program will ever need to do that, but requirements evolve.\r\n - As you say, killing the process is the only way to stop the program. And killing it in mid-process might be a bad thing. You could of course add some cancel logic, but that&#39;s additional development time.\r\n - The program is occupying memory while it&#39;s sitting there doing nothing (most of the time). This is a waste of resources. Probably not a huge deal when you&#39;re working with a system that has many gigabytes of memory, but it becomes an issue when you&#39;re working on embedded systems with limited memory.\r\n - You&#39;re wasting your time writing your own scheduling, which you then have to debug and maintain, when there&#39;s already a perfectly good scheduler built into the operating system.\r\n\r\nI call this program a &quot;catnap program&quot; because it acts just like a cat: it sleeps most of the time, waking up now and then to stretch and maybe bat a string around for a few minutes, and then goes back to sleep. [Programs are not cats][1].\r\n\r\n\r\n  [1]: https://blog.mischel.com/2023/02/03/computer-programs-are-not-cats/","title":"Infinite loop + Thread.sleep replace cron job","body":"<p>A number of significant drawbacks:</p>\n<ul>\n<li>If you ever want to change the polling frequency (i.e. do it every 2 minutes, or every 10 minutes), you have to change the program. This is especially difficult if you have an irregular polling schedule, something like once every 5 minutes on Monday through Friday, but once every 15 minutes on Saturday and Sunday. Sure, you don't <em>think</em> your program will ever need to do that, but requirements evolve.</li>\n<li>As you say, killing the process is the only way to stop the program. And killing it in mid-process might be a bad thing. You could of course add some cancel logic, but that's additional development time.</li>\n<li>The program is occupying memory while it's sitting there doing nothing (most of the time). This is a waste of resources. Probably not a huge deal when you're working with a system that has many gigabytes of memory, but it becomes an issue when you're working on embedded systems with limited memory.</li>\n<li>You're wasting your time writing your own scheduling, which you then have to debug and maintain, when there's already a perfectly good scheduler built into the operating system.</li>\n</ul>\n<p>I call this program a &quot;catnap program&quot; because it acts just like a cat: it sleeps most of the time, waking up now and then to stretch and maybe bat a string around for a few minutes, and then goes back to sleep. <a href=\"https://blog.mischel.com/2023/02/03/computer-programs-are-not-cats/\" rel=\"nofollow noreferrer\">Programs are not cats</a>.</p>\n"}],"owner":{"account_id":2254066,"reputation":5334,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":25860783,"answer_count":4,"score":3,"last_activity_date":1675484337,"creation_date":1410829360,"question_id":25859178,"body_markdown":"So I&#39;ve had an idea in my head today... And I would like to hear some feed-back. I have a Java app which needs to check a directory every 5 minutes. Plain and simple the app needs to run every five minutes.\r\n\r\nSeems like a good candidate for cronjob, but I was wondering... why not keep the logic/timing all within the app like so (simplified obviously):\r\n\r\n    public static void main(String[] args) {\r\n        while(true) { // repeatedly execute...\r\n            // do the work/job\r\n            Thread.sleep(600 * 1000); // make the thread sleep for 5 minutes\r\n        }\r\n    }\r\n\r\nOne significant downside I see is &quot;How do we *stop* this app once it starts? Deleting it?\r\n\r\nAre there any other significant draw-backs to this besides that one?\r\n\r\nShould I stop daydreaming and just use cron jobs?","title":"Infinite loop + Thread.sleep replace cron job","body":"<p>So I've had an idea in my head today... And I would like to hear some feed-back. I have a Java app which needs to check a directory every 5 minutes. Plain and simple the app needs to run every five minutes.</p>\n\n<p>Seems like a good candidate for cronjob, but I was wondering... why not keep the logic/timing all within the app like so (simplified obviously):</p>\n\n<pre><code>public static void main(String[] args) {\n    while(true) { // repeatedly execute...\n        // do the work/job\n        Thread.sleep(600 * 1000); // make the thread sleep for 5 minutes\n    }\n}\n</code></pre>\n\n<p>One significant downside I see is \"How do we <em>stop</em> this app once it starts? Deleting it?</p>\n\n<p>Are there any other significant draw-backs to this besides that one?</p>\n\n<p>Should I stop daydreaming and just use cron jobs?</p>\n"},{"tags":["java","xml","spring-boot","web-services","soap"],"owner":{"account_id":24829674,"reputation":1,"user_id":18708993,"display_name":"Tilek Zholdoshbek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675483671,"creation_date":1675483671,"question_id":75342889,"body_markdown":"**I want to convert SOAP XML to Java Object without using xsd files and other stuff. I generate SOAP XML using POJO classes, @Xml annotations. What I want is to somehow deserialize String to not Envelope.class Object, but NumberToWords.class Object.**\r\n\r\n**And by the way I didn&#39;t wanna have ns2:/xmlns=&quot;&quot; stuff, that&#39;s why I used final static String as @XmlAttribute`s instead of namespace initializations.**\r\n\r\nHere are my classes &gt;&gt;&gt;\r\n```\r\n@Setter\r\n@Builder\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@XmlRootElement(name = &quot;soap:Envelope&quot;)\r\npublic class Envelope {\r\n\r\n    @XmlAttribute(\r\n            name = &quot;xmlns:soap&quot;\r\n    )\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private static final String xmlns = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;;\r\n\r\n    @XmlElement(\r\n            name = &quot;soap:Body&quot;\r\n    )\r\n    private Body body;\r\n\r\n    public String printBody() {\r\n        return body.toString();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Body {\r\n\r\n    @XmlElement(name = &quot;NumberToWords&quot;)\r\n    private NumberToWords numberToWords;\r\n\r\n    @XmlElement(name = &quot;Name&quot;)\r\n    private Name name;\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Builder\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class NumberToWords {\r\n\r\n    @XmlAttribute(name = &quot;xmlns&quot;)\r\n    private final static String xmlns = &quot;http://www.dataaccess.com/webservicesserver/&quot;;\r\n\r\n    @XmlElement(name = &quot;ubiNum&quot;)\r\n    private Integer ubiNum;\r\n\r\n}\r\n```\r\n\r\nMapper Class which gets Marshaller Bean from another config class, but I decided to not add it here.\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class EnvelopeMapper {\r\n\r\n    private final Marshaller marshaller;\r\n\r\n\r\n    @SneakyThrows\r\n    public String getXml(NumberToWords numberToWords) {\r\n        Envelope envelope = Envelope.builder()\r\n                .body(\r\n                        Body.builder()\r\n                                .numberToWords(numberToWords)\r\n                                .build())\r\n\r\n                .build();\r\n\r\n        StringWriter stringWriter = new StringWriter();\r\n\r\n        marshaller.marshal(envelope, stringWriter);\r\n\r\n        return stringWriter.toString();\r\n    }\r\n}\r\n```\r\n\r\n**localhost:8080/get-num-xml/123**\r\n\r\n```\r\nSTRING:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;NumberToWords xmlns=&quot;http://www.dataaccess.com/webservicesserver/&quot;&gt;\r\n            &lt;ubiNum&gt;123&lt;/ubiNum&gt;\r\n        &lt;/NumberToWords&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nWhen I call this endpoint it throws an exception.\r\n\r\n```\r\n@GetMapping(&quot;/get-num-xml/{num}&quot;)\r\npublic String getNumXml(@PathVariable Integer num) throws JAXBException {\r\n    String xml = envelopeService.getNumberToWords(num);\r\n\r\n    NumberToWords numberToWords = (NumberToWords) unmarshaller.unmarshal(new StringReader(xml));\r\n\r\n    System.out.println(numberToWords.getUbiNum());\r\n\r\n    return envelopeService.getNumberToWords(num);\r\n}\r\n\r\nGIVES:\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Envelope&quot;). Expected elements are &lt;{}Name&gt;,&lt;{}body&gt;,&lt;{}soap:Envelope&gt;\r\n```\r\n\r\nThis one is also throws an exception.\r\n\r\n```\r\n@GetMapping(&quot;/get-num-xml/{num}&quot;)\r\npublic String getNumXml(@PathVariable Integer num) throws JAXBException, SOAPException, IOException {\r\n    String xml = envelopeService.getNumberToWords(num);\r\n    SOAPMessage message = MessageFactory.newInstance().createMessage(null, new ByteArrayInputStream(xml.getBytes()));\r\n    JAXBContext jc = JAXBContext.newInstance(NumberToWords.class);\r\n    Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n    NumberToWords rc = (NumberToWords) unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\r\n\r\n    return envelopeService.getNumberToWords(num);\r\n}\r\n\r\nGIVES:\r\n\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.dataaccess.com/webservicesserver/&quot;, local:&quot;NumberToWords&quot;). Expected elements are (none)\r\n```\r\n\r\n**I don&#39;t have a clue how to unmarshal xml, so I hope someone has an answer for this one.**","title":"Convert SOAP XML String to Java Object","body":"<p><strong>I want to convert SOAP XML to Java Object without using xsd files and other stuff. I generate SOAP XML using POJO classes, @Xml annotations. What I want is to somehow deserialize String to not Envelope.class Object, but NumberToWords.class Object.</strong></p>\n<p><strong>And by the way I didn't wanna have ns2:/xmlns=&quot;&quot; stuff, that's why I used final static String as @XmlAttribute`s instead of namespace initializations.</strong></p>\n<p>Here are my classes &gt;&gt;&gt;</p>\n<pre><code>@Setter\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@XmlRootElement(name = &quot;soap:Envelope&quot;)\npublic class Envelope {\n\n    @XmlAttribute(\n            name = &quot;xmlns:soap&quot;\n    )\n    @JacksonXmlProperty(isAttribute = true)\n    private static final String xmlns = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;;\n\n    @XmlElement(\n            name = &quot;soap:Body&quot;\n    )\n    private Body body;\n\n    public String printBody() {\n        return body.toString();\n    }\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Body {\n\n    @XmlElement(name = &quot;NumberToWords&quot;)\n    private NumberToWords numberToWords;\n\n    @XmlElement(name = &quot;Name&quot;)\n    private Name name;\n}\n</code></pre>\n<pre><code>@Getter\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class NumberToWords {\n\n    @XmlAttribute(name = &quot;xmlns&quot;)\n    private final static String xmlns = &quot;http://www.dataaccess.com/webservicesserver/&quot;;\n\n    @XmlElement(name = &quot;ubiNum&quot;)\n    private Integer ubiNum;\n\n}\n</code></pre>\n<p>Mapper Class which gets Marshaller Bean from another config class, but I decided to not add it here.</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class EnvelopeMapper {\n\n    private final Marshaller marshaller;\n\n\n    @SneakyThrows\n    public String getXml(NumberToWords numberToWords) {\n        Envelope envelope = Envelope.builder()\n                .body(\n                        Body.builder()\n                                .numberToWords(numberToWords)\n                                .build())\n\n                .build();\n\n        StringWriter stringWriter = new StringWriter();\n\n        marshaller.marshal(envelope, stringWriter);\n\n        return stringWriter.toString();\n    }\n}\n</code></pre>\n<p><strong>localhost:8080/get-num-xml/123</strong></p>\n<pre><code>STRING:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;NumberToWords xmlns=&quot;http://www.dataaccess.com/webservicesserver/&quot;&gt;\n            &lt;ubiNum&gt;123&lt;/ubiNum&gt;\n        &lt;/NumberToWords&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>When I call this endpoint it throws an exception.</p>\n<pre><code>@GetMapping(&quot;/get-num-xml/{num}&quot;)\npublic String getNumXml(@PathVariable Integer num) throws JAXBException {\n    String xml = envelopeService.getNumberToWords(num);\n\n    NumberToWords numberToWords = (NumberToWords) unmarshaller.unmarshal(new StringReader(xml));\n\n    System.out.println(numberToWords.getUbiNum());\n\n    return envelopeService.getNumberToWords(num);\n}\n\nGIVES:\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Envelope&quot;). Expected elements are &lt;{}Name&gt;,&lt;{}body&gt;,&lt;{}soap:Envelope&gt;\n</code></pre>\n<p>This one is also throws an exception.</p>\n<pre><code>@GetMapping(&quot;/get-num-xml/{num}&quot;)\npublic String getNumXml(@PathVariable Integer num) throws JAXBException, SOAPException, IOException {\n    String xml = envelopeService.getNumberToWords(num);\n    SOAPMessage message = MessageFactory.newInstance().createMessage(null, new ByteArrayInputStream(xml.getBytes()));\n    JAXBContext jc = JAXBContext.newInstance(NumberToWords.class);\n    Unmarshaller unmarshaller = jc.createUnmarshaller();\n    NumberToWords rc = (NumberToWords) unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\n\n    return envelopeService.getNumberToWords(num);\n}\n\nGIVES:\n\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.dataaccess.com/webservicesserver/&quot;, local:&quot;NumberToWords&quot;). Expected elements are (none)\n</code></pre>\n<p><strong>I don't have a clue how to unmarshal xml, so I hope someone has an answer for this one.</strong></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5368006,"reputation":2152,"user_id":4277293,"accept_rate":62,"display_name":"RishiKesh Pathak"},"score":0,"creation_date":1514444171,"post_id":48002930,"comment_id":82974137,"body_markdown":"@Cardinal System: updated the question Thanks.","body":"@Cardinal System: updated the question Thanks."}],"answers":[{"tags":[],"owner":{"account_id":8006925,"reputation":1423,"user_id":6039974,"display_name":"johnII"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514444116,"creation_date":1514444116,"answer_id":48002987,"question_id":48002930,"body_markdown":"Using String.split?\r\n\r\n    String given = &quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;;\r\n    String [] splitted = given.split(&quot;_&quot;);\r\n    String result = splitted[splitted.length-2];\r\n    System.out.println(result);","title":"How to get String between last two underscore","body":"<p>Using String.split?</p>\n\n<pre><code>String given = \"abcde-abc-db-tada_x12.12_999ZZZ_121121.333\";\nString [] splitted = given.split(\"_\");\nString result = splitted[splitted.length-2];\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1514444431,"creation_date":1514444119,"answer_id":48002992,"question_id":48002930,"body_markdown":"If you want to continue with a regex based approach, then use the following pattern:\r\n\r\n    .*_([^_]+)_.*\r\n\r\nThis will greedily consume up to and including the second to last underscrore.  Then it will consume and capture `9999ZZZ`.\r\n\r\nCode sample:\r\n\r\n    String name = &quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;;\r\n    Pattern p = Pattern.compile(&quot;.*_([^_]+)_.*&quot;);\r\n    Matcher m = p.matcher(name);\r\n    if (m.matches()) {\r\n\r\n        System.out.println(m.group(1));  // Should print 999ZZZ\r\n\r\n    } else {\r\n         System.out.println(&quot;not found&quot;); \r\n    }\r\n\r\n[&lt;h2&gt;Demo&lt;/h2&gt;][1]\r\n\r\n\r\n  [1]: http://rextester.com/OVZZP26503","title":"How to get String between last two underscore","body":"<p>If you want to continue with a regex based approach, then use the following pattern:</p>\n\n<pre><code>.*_([^_]+)_.*\n</code></pre>\n\n<p>This will greedily consume up to and including the second to last underscrore.  Then it will consume and capture <code>9999ZZZ</code>.</p>\n\n<p>Code sample:</p>\n\n<pre><code>String name = \"abcde-abc-db-tada_x12.12_999ZZZ_121121.333\";\nPattern p = Pattern.compile(\".*_([^_]+)_.*\");\nMatcher m = p.matcher(name);\nif (m.matches()) {\n\n    System.out.println(m.group(1));  // Should print 999ZZZ\n\n} else {\n     System.out.println(\"not found\"); \n}\n</code></pre>\n\n<p><a href=\"http://rextester.com/OVZZP26503\" rel=\"noreferrer\"><h2>Demo</h2></a></p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514444164,"creation_date":1514444164,"answer_id":48003002,"question_id":48002930,"body_markdown":"The get text between the last two underscore characters, you first need to find the index of the last two underscore characters, which is very easy using `lastIndexOf`:\r\n\r\n\tString s = &quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;;\r\n\tString r = null;\r\n\tint idx1 = s.lastIndexOf(&#39;_&#39;);\r\n\tif (idx1 != -1) {\r\n\t\tint idx2 = s.lastIndexOf(&#39;_&#39;, idx1 - 1);\r\n\t\tif (idx2 != -1)\r\n\t\t\tr = s.substring(idx2 + 1, idx1);\r\n\t}\r\n\tSystem.out.println(r); // prints: 999ZZZ\r\n\r\nThis is faster than any solution using regex, including use of `split`.","title":"How to get String between last two underscore","body":"<p>The get text between the last two underscore characters, you first need to find the index of the last two underscore characters, which is very easy using <code>lastIndexOf</code>:</p>\n\n<pre><code>String s = \"abcde-abc-db-tada_x12.12_999ZZZ_121121.333\";\nString r = null;\nint idx1 = s.lastIndexOf('_');\nif (idx1 != -1) {\n    int idx2 = s.lastIndexOf('_', idx1 - 1);\n    if (idx2 != -1)\n        r = s.substring(idx2 + 1, idx1);\n}\nSystem.out.println(r); // prints: 999ZZZ\n</code></pre>\n\n<p>This is faster than any solution using regex, including use of <code>split</code>.</p>\n"},{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1514445231,"post_id":48003086,"comment_id":82974548,"body_markdown":"Regex is there to give a more readable solution than the first one, the second is still using a regex (simpler version but still), so I would keep the capture group, mostly because this is safer, or you need to add some length check first.","body":"Regex is there to give a more readable solution than the first one, the second is still using a regex (simpler version but still), so I would keep the capture group, mostly because this is safer, or you need to add some length check first."},{"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"score":0,"creation_date":1514445516,"post_id":48003086,"comment_id":82974656,"body_markdown":"Thanks. You are right. I was just trying to give alternate solution.","body":"Thanks. You are right. I was just trying to give alternate solution."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1514445655,"post_id":48003086,"comment_id":82974721,"body_markdown":"And those are correct, I used both depending on the need. But on the first one, I would not do that on one line to keep it readable and safety need to be added for the second one (or at least a warning sign ;) )","body":"And those are correct, I used both depending on the need. But on the first one, I would not do that on one line to keep it readable and safety need to be added for the second one (or at least a warning sign ;) )"}],"tags":[],"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514444561,"creation_date":1514444561,"answer_id":48003086,"question_id":48002930,"body_markdown":"Apart from `split` you can use `substring` as well:\r\n\r\n\r\n\r\n    String s = &quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;;\r\n    \t\tString ss = (s.substring(0,s.lastIndexOf(&quot;_&quot;))).substring((s.substring(0,s.lastIndexOf(&quot;_&quot;))).lastIndexOf(&quot;_&quot;)+1);\r\n    \t\tSystem.out.println(ss);\r\n\r\nOR,\r\n\r\n    String s = &quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;;\r\n    \t\tString arr[] = s.split(&quot;_&quot;);\r\n    \t\tSystem.out.println(arr[arr.length-2]);","title":"How to get String between last two underscore","body":"<p>Apart from <code>split</code> you can use <code>substring</code> as well:</p>\n\n<pre><code>String s = \"abcde-abc-db-tada_x12.12_999ZZZ_121121.333\";\n        String ss = (s.substring(0,s.lastIndexOf(\"_\"))).substring((s.substring(0,s.lastIndexOf(\"_\"))).lastIndexOf(\"_\")+1);\n        System.out.println(ss);\n</code></pre>\n\n<p>OR,</p>\n\n<pre><code>String s = \"abcde-abc-db-tada_x12.12_999ZZZ_121121.333\";\n        String arr[] = s.split(\"_\");\n        System.out.println(arr[arr.length-2]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1514452819,"creation_date":1514444651,"answer_id":48003109,"question_id":48002930,"body_markdown":"As I misunderstood the logic from the code in question a bit with the first read and in the meantime there appeared some great answers with the use of regular expressions, this is my try with the use of some methods contained in String class (it introduces some variables just to make it more clear to read, it could be written in the shorter way of course) :\r\n\r\n\n    String s = &quot;abcde-abc-db-ta__dax12.12_999ZZZ_121121.333&quot;;\n    int indexOfLastUnderscore = s.lastIndexOf(&quot;_&quot;);\n    int indexOfOneBeforeLastUnderscore = s.lastIndexOf(&quot;_&quot;, indexOfLastUnderscore - 1);\n    if(indexOfLastUnderscore != -1 &amp;&amp; indexOfOneBeforeLastUnderscore != -1) {\n        String sub = s.substring(indexOfOneBeforeLastUnderscore + 1, indexOfLastUnderscore);\n        System.out.println(sub);\n    } ","title":"How to get String between last two underscore","body":"<p>As I misunderstood the logic from the code in question a bit with the first read and in the meantime there appeared some great answers with the use of regular expressions, this is my try with the use of some methods contained in String class (it introduces some variables just to make it more clear to read, it could be written in the shorter way of course) :</p>\n\n<pre><code>String s = \"abcde-abc-db-ta__dax12.12_999ZZZ_121121.333\";\nint indexOfLastUnderscore = s.lastIndexOf(\"_\");\nint indexOfOneBeforeLastUnderscore = s.lastIndexOf(\"_\", indexOfLastUnderscore - 1);\nif(indexOfLastUnderscore != -1 &amp;&amp; indexOfOneBeforeLastUnderscore != -1) {\n    String sub = s.substring(indexOfOneBeforeLastUnderscore + 1, indexOfLastUnderscore);\n    System.out.println(sub);\n} \n</code></pre>\n"}],"owner":{"account_id":5368006,"reputation":2152,"user_id":4277293,"accept_rate":62,"display_name":"RishiKesh Pathak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2661,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48002992,"answer_count":5,"score":3,"last_activity_date":1675481430,"creation_date":1514443896,"question_id":48002930,"body_markdown":"I have a string `&quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;`\r\n\r\nThe result I want should be `999ZZZ`\r\n\r\nI have tried using:\r\n\r\n\tprivate static String getValue(String myString) {\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;_(\\\\d+)_1&quot;);\r\n        Matcher m = p.matcher(myString);\r\n        if (m.matches()) {\r\n            System.out.println(m.group(1));  // Should print 999ZZZ\r\n        }\r\n        else {\r\n        \t System.out.println(&quot;not found&quot;); \r\n        }\r\n    }","title":"How to get String between last two underscore","body":"<p>I have a string <code>&quot;abcde-abc-db-tada_x12.12_999ZZZ_121121.333&quot;</code></p>\n<p>The result I want should be <code>999ZZZ</code></p>\n<p>I have tried using:</p>\n<pre><code>private static String getValue(String myString) {\n    \n    Pattern p = Pattern.compile(&quot;_(\\\\d+)_1&quot;);\n    Matcher m = p.matcher(myString);\n    if (m.matches()) {\n        System.out.println(m.group(1));  // Should print 999ZZZ\n    }\n    else {\n         System.out.println(&quot;not found&quot;); \n    }\n}\n</code></pre>\n"},{"tags":["java","jenkins","tomcat9"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675500418,"post_id":75342703,"comment_id":132945718,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"score":0,"creation_date":1675504427,"post_id":75342703,"comment_id":132946283,"body_markdown":"I did that because the console output is very very long. Sorry about that.","body":"I did that because the console output is very very long. Sorry about that."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675509624,"post_id":75342703,"comment_id":132946977,"body_markdown":"You need to fix your question and get rid of the images.  For a start, unless people have very good eyesight (or a very large screen) those screenshots are unreadable.  Q: Why is answering your question? A: Partly because they can&#39;t read it, partly because it is breaking the rules, ...","body":"You need to fix your question and get rid of the images.  For a start, unless people have very good eyesight (or a very large screen) those screenshots are unreadable.  Q: Why is answering your question? A: Partly because they can&#39;t read it, partly because it is breaking the rules, ..."}],"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675481231,"creation_date":1675480379,"question_id":75342703,"body_markdown":"I have been trying to build successfully in jenkins since yesterday but its not building.\r\nI have tried starting up tomcat server several times but it still does not build. I even tried reinstalling tomcat server.\r\nI have started my tomcat server in eclipse too. \r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\ntomcat-users.xml\r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n    &lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-script, manager-gui&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1W40Q.png\r\n  [2]: https://i.stack.imgur.com/VVQFT.png\r\n  [3]: https://i.stack.imgur.com/13zxJ.png\r\n  [4]: https://i.stack.imgur.com/FZnRQ.png","title":"Caused by: java.io.FileNotFoundException: http://localhost:8080/manager/text/list","body":"<p>I have been trying to build successfully in jenkins since yesterday but its not building.\nI have tried starting up tomcat server several times but it still does not build. I even tried reinstalling tomcat server.\nI have started my tomcat server in eclipse too.\n<a href=\"https://i.stack.imgur.com/1W40Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1W40Q.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VVQFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VVQFT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/13zxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13zxJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FZnRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZnRQ.png\" alt=\"enter image description here\" /></a></p>\n<p>tomcat-users.xml</p>\n<pre><code>&lt;role rolename=&quot;manager-gui&quot;/&gt;\n&lt;role rolename=&quot;manager-script&quot;/&gt;\n&lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-script, manager-gui&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"},{"tags":["java","algorithm","rust","binary-search-tree"],"answers":[{"comments":[{"owner":{"account_id":23715443,"reputation":49,"user_id":17736660,"display_name":"Grenic Mars"},"score":0,"creation_date":1668048056,"post_id":74373597,"comment_id":131314934,"body_markdown":"Thanks mate. The mutable reference method is so much clear. But the number of nodes won&#39;t increment if we insert a new key that already existed. When we put a existed node we update the value of that key. I implement the get methods and tested it couple times, the size of this BST should be fine","body":"Thanks mate. The mutable reference method is so much clear. But the number of nodes won&#39;t increment if we insert a new key that already existed. When we put a existed node we update the value of that key. I implement the get methods and tested it couple times, the size of this BST should be fine"},{"owner":{"account_id":23715443,"reputation":49,"user_id":17736660,"display_name":"Grenic Mars"},"score":0,"creation_date":1668058416,"post_id":74373597,"comment_id":131316298,"body_markdown":"In your second code block the first parameter of the recursive method `put` is `Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;`. And the `self.root` is also an `Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;`. But we can&#39;t directly put `self.root` into that function. That&#39;s why I use reference instead of let that function take the ownership. And it&#39;s kinda weird because we can do this thing in other data types like `String`, but in this case we need to use the `take()` function. That&#39;s the thing that confused me I think, anyway thanks man","body":"In your second code block the first parameter of the recursive method <code>put</code> is <code>Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;</code>. And the <code>self.root</code> is also an <code>Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;</code>. But we can&#39;t directly put <code>self.root</code> into that function. That&#39;s why I use reference instead of let that function take the ownership. And it&#39;s kinda weird because we can do this thing in other data types like <code>String</code>, but in this case we need to use the <code>take()</code> function. That&#39;s the thing that confused me I think, anyway thanks man"}],"tags":[],"owner":{"account_id":2271998,"reputation":892,"user_id":4087571,"display_name":"Brian Bowman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673577775,"creation_date":1667990720,"answer_id":74373597,"question_id":74371597,"body_markdown":"The simplest option is to take a mutable reference to the node:\r\n\r\n```rust\r\nimpl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\r\n    // ...\r\n\r\n    fn put(&amp;mut self, key: K, value: V) {\r\n        put(&amp;mut self.root, key, value)\r\n    }\r\n}\r\n\r\nfn put&lt;K: Ord, V&gt;(node: &amp;mut Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) {\r\n    match node {\r\n        None =&gt; {\r\n            *node = Some(Box::new(Node::new(key, value, 1)));\r\n        }\r\n        Some(real_node) =&gt; {\r\n            if key &lt; real_node.key {\r\n                put(&amp;mut real_node.left, key, value);\r\n            } else {\r\n                put(&amp;mut real_node.right, key, value);\r\n            }\r\n\r\n            real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlternatively you could take the node by value and return the modified node:\r\n\r\n```rust\r\nimpl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\r\n    // ...\r\n\r\n    pub fn put(&amp;mut self, key: K, value: V) {\r\n        self.root = put(self.root.take(), key, value);\r\n    }\r\n}\r\n\r\nfn put&lt;K: Ord, V&gt;(node: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) -&gt; Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt; {\r\n    match node {\r\n        None =&gt; Some(Box::new(Node::new(key, value, 1))),\r\n        Some(mut real_node) =&gt; {\r\n            if key &lt; real_node.key {\r\n                real_node.left = put(real_node.left, key, value);\r\n            } else {\r\n                real_node.right = put(real_node.right, key, value);\r\n            }\r\n\r\n            real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\r\n            Some(real_node)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI suggest reading the [ownership and references chapter](https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html) of the Rust book if you haven&#39;t already.","title":"Implement the recursive insert method of binary search tree in RUST","body":"<p>The simplest option is to take a mutable reference to the node:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>impl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\n    // ...\n\n    fn put(&amp;mut self, key: K, value: V) {\n        put(&amp;mut self.root, key, value)\n    }\n}\n\nfn put&lt;K: Ord, V&gt;(node: &amp;mut Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) {\n    match node {\n        None =&gt; {\n            *node = Some(Box::new(Node::new(key, value, 1)));\n        }\n        Some(real_node) =&gt; {\n            if key &lt; real_node.key {\n                put(&amp;mut real_node.left, key, value);\n            } else {\n                put(&amp;mut real_node.right, key, value);\n            }\n\n            real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\n        }\n    }\n}\n</code></pre>\n<p>Alternatively you could take the node by value and return the modified node:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>impl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\n    // ...\n\n    pub fn put(&amp;mut self, key: K, value: V) {\n        self.root = put(self.root.take(), key, value);\n    }\n}\n\nfn put&lt;K: Ord, V&gt;(node: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) -&gt; Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt; {\n    match node {\n        None =&gt; Some(Box::new(Node::new(key, value, 1))),\n        Some(mut real_node) =&gt; {\n            if key &lt; real_node.key {\n                real_node.left = put(real_node.left, key, value);\n            } else {\n                real_node.right = put(real_node.right, key, value);\n            }\n\n            real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\n            Some(real_node)\n        }\n    }\n}\n</code></pre>\n<p>I suggest reading the <a href=\"https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html\" rel=\"nofollow noreferrer\">ownership and references chapter</a> of the Rust book if you haven't already.</p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38701,"user_id":10262805,"display_name":"Yilmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675480308,"creation_date":1675480308,"answer_id":75342699,"question_id":74371597,"body_markdown":"    fn put&lt;K: Ord, V&gt;(node: &amp;mut Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) {\r\n        // match value. look how bst work. \r\n        // left branch values less, right brannch values are greater\r\n        match value {\r\n            // in this case we are looking at the righ branch\r\n            if value&gt;self.value{\r\n                // if none, just set node.right\r\n                // i think instead of 1, it should be self.number_of_nodes+1\r\n                None =&gt; self.right=Some(Box::new(Node::new(key, value, 1))),\r\n                // since we are inserting we need ref to the node\r\n                // this will recursively add\r\n                Some(ref mut real_node) =&gt; real_node.put(value)   \r\n            // this case value&lt;=self.value so we are at the left branch  \r\n            } else{\r\n                None=&gt;self.left=Some(Box::new(Node::new(key, value, 1))),\r\n                Some(ref mut real_node)=&gt;real_node.put(value)\r\n            }    \r\n        }\r\n    }","title":"Implement the recursive insert method of binary search tree in RUST","body":"<pre><code>fn put&lt;K: Ord, V&gt;(node: &amp;mut Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) {\n    // match value. look how bst work. \n    // left branch values less, right brannch values are greater\n    match value {\n        // in this case we are looking at the righ branch\n        if value&gt;self.value{\n            // if none, just set node.right\n            // i think instead of 1, it should be self.number_of_nodes+1\n            None =&gt; self.right=Some(Box::new(Node::new(key, value, 1))),\n            // since we are inserting we need ref to the node\n            // this will recursively add\n            Some(ref mut real_node) =&gt; real_node.put(value)   \n        // this case value&lt;=self.value so we are at the left branch  \n        } else{\n            None=&gt;self.left=Some(Box::new(Node::new(key, value, 1))),\n            Some(ref mut real_node)=&gt;real_node.put(value)\n        }    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23715443,"reputation":49,"user_id":17736660,"display_name":"Grenic Mars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373597,"answer_count":2,"score":1,"last_activity_date":1675480338,"creation_date":1667980986,"question_id":74371597,"body_markdown":"I&#39;m learning Rust and trying to implement a simple binary search tree (actually it&#39;s rewriting the Java implementation below). Here is what I have done:\r\n\r\n    use std::cmp::Ordering;\r\n\r\n    // Node of this BST, the two generic types are key and value\r\n    struct Node&lt;K:Ord, V&gt; {\r\n        key: K,\r\n        value: V,\r\n        left: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\r\n        right: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\r\n        number_of_nodes: i32,\r\n    }\r\n    \r\n    impl&lt;K: Ord, V&gt; Node&lt;K, V&gt; {\r\n        // Create a new node\r\n        fn new(key: K, value: V, number_of_nodes: i32) -&gt; Node&lt;K, V&gt;{\r\n            Node {\r\n                key,\r\n                value,\r\n                left: None,\r\n                right: None,\r\n                number_of_nodes,\r\n            }\r\n        }\r\n    }\r\n    \r\n    struct BST&lt;K: Ord ,V&gt; {\r\n        root: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\r\n    }\r\n    \r\n    impl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\r\n        // Get the size of this BST\r\n        fn size(&amp;self) -&gt; i32 {\r\n            size(&amp;self.root)\r\n        }\r\n    \r\n        // Search for key. Update value if found, otherwise insert the new node\r\n        fn put(&amp;self, key: K, value: V) {\r\n            self.root = put(&amp;self.root, key, value)\r\n        }\r\n    }\r\n    \r\n    // Function for recursively get the size of a sub BST \r\n    fn size&lt;K: Ord, V&gt;(node: &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;) -&gt; i32 {\r\n        match node {\r\n            Some(real_node) =&gt; real_node.number_of_nodes,\r\n            None =&gt; 0,\r\n        }\r\n    }\r\n    \r\n    // Function for recursively put a new node to this BST\r\n    fn put&lt;K: Ord, V&gt;(node: &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) -&gt; &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;{\r\n        match node {\r\n            None =&gt; {\r\n                let new_node = Some(Box::new(Node::new(key, value, 1)));\r\n                return &amp;new_node;\r\n            },\r\n            Some(real_node) =&gt; {\r\n                match key.cmp(&amp;real_node.key) {\r\n                    Ordering::Less =&gt; real_node.left = *put(&amp;real_node.left, key, value),\r\n                    Ordering::Greater =&gt; real_node.right = *put(&amp;real_node.right, key, value), \r\n                    Ordering::Equal =&gt; real_node.value = value,\r\n                }\r\n                real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\r\n                node\r\n            },\r\n        }\r\n    }\r\n\r\nBut this code won&#39;t compile, at the line `self.root = put(&amp;self.root, key, value)`, I get an error: \r\n\r\n&gt; mismatched types   \r\nexpected enum &#39;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;&#39;   found\r\n&gt; reference &#39;&amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;&#39;\r\n\r\nI don&#39;t know how to fix that, I tried to change the `&amp;self` parameter to `self`, or `self.root` to `*self.root`, but I got more errors. I&#39;m so confused about the reference in Rust, all I wanna do is rewrite the following Java code in Rust.\r\n\r\n\r\n    public class BST&lt;Key extends Comparable&lt;Key&gt;, Value&gt;\r\n    {\r\n        private Node root;              //root of BST\r\n    \r\n        private class Node\r\n        {\r\n            private Key key;            // key\r\n            private Value val;          // associated value\r\n            private Node right, left;   // left and right subtrees\r\n            private int N;              // number of nodes in subtree\r\n    \r\n            public Node(Key key, Value val, int N)\r\n            {\r\n                this.key = key;\r\n                this.val = val;\r\n                this.N = N;\r\n            }\r\n        }\r\n    \r\n        // Returns the number of key-value pairs in this symbol table.\r\n        public int size()\r\n        {\r\n            return size(root);\r\n        }\r\n    \r\n        // Return number of key-value pairs in BST rooted at x\r\n        private int size(Node x)\r\n        {\r\n            if (x == null) return 0;\r\n            else return x.N;\r\n        }\r\n    \r\n        public void put(Key key, Value val)\r\n        {\r\n            root = put(root, key, val);\r\n        }\r\n    \r\n        private Node put(Node x, Key key, Value val)\r\n        {\r\n            if (x == null) return new Node(key, val, 1);\r\n            int cmp = key.compareTo(x.key);\r\n            if (cmp &lt; 0) x.left = put(x.left, key, val);\r\n            else if (cmp &gt; 0) x.right = put(x.right, key, val);\r\n            else x.val = val;\r\n            x.N = size(x.left) + size(x.right) + 1;\r\n            return x;\r\n        }\r\n    } \r\nIt&#39;s dead simple in `Java` because I don&#39;t need to handle the reference. So here is my problems:\r\n\r\n 1. How could I fix that mismatched error?\r\n 2. What is the proper return type of that recursive function `put`, the\r\n    `&amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;` or `Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;`? What&#39;s the difference?\r\n 3. Am I on the right way to rewrite this `Java` code? The rust-analyzer only reports this mismatched error but I don&#39;t know if it will work as I expect. And honestly I don&#39;t\r\n    fully understand what am i doing when I handle the reference in rust\r\n    especially when it&#39;s a reference of a struct or enum\r\n\r\nIt&#39;s hard to learn Rust because I don&#39;t have much experience in system programming language, I appreciated your guys help :)","title":"Implement the recursive insert method of binary search tree in RUST","body":"<p>I'm learning Rust and trying to implement a simple binary search tree (actually it's rewriting the Java implementation below). Here is what I have done:</p>\n<pre><code>use std::cmp::Ordering;\n\n// Node of this BST, the two generic types are key and value\nstruct Node&lt;K:Ord, V&gt; {\n    key: K,\n    value: V,\n    left: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\n    right: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\n    number_of_nodes: i32,\n}\n\nimpl&lt;K: Ord, V&gt; Node&lt;K, V&gt; {\n    // Create a new node\n    fn new(key: K, value: V, number_of_nodes: i32) -&gt; Node&lt;K, V&gt;{\n        Node {\n            key,\n            value,\n            left: None,\n            right: None,\n            number_of_nodes,\n        }\n    }\n}\n\nstruct BST&lt;K: Ord ,V&gt; {\n    root: Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;,\n}\n\nimpl&lt;K: Ord, V&gt; BST&lt;K, V&gt; {\n    // Get the size of this BST\n    fn size(&amp;self) -&gt; i32 {\n        size(&amp;self.root)\n    }\n\n    // Search for key. Update value if found, otherwise insert the new node\n    fn put(&amp;self, key: K, value: V) {\n        self.root = put(&amp;self.root, key, value)\n    }\n}\n\n// Function for recursively get the size of a sub BST \nfn size&lt;K: Ord, V&gt;(node: &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;) -&gt; i32 {\n    match node {\n        Some(real_node) =&gt; real_node.number_of_nodes,\n        None =&gt; 0,\n    }\n}\n\n// Function for recursively put a new node to this BST\nfn put&lt;K: Ord, V&gt;(node: &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;, key: K, value: V) -&gt; &amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;{\n    match node {\n        None =&gt; {\n            let new_node = Some(Box::new(Node::new(key, value, 1)));\n            return &amp;new_node;\n        },\n        Some(real_node) =&gt; {\n            match key.cmp(&amp;real_node.key) {\n                Ordering::Less =&gt; real_node.left = *put(&amp;real_node.left, key, value),\n                Ordering::Greater =&gt; real_node.right = *put(&amp;real_node.right, key, value), \n                Ordering::Equal =&gt; real_node.value = value,\n            }\n            real_node.number_of_nodes = size(&amp;real_node.right) + size(&amp;real_node.left) + 1;\n            node\n        },\n    }\n}\n</code></pre>\n<p>But this code won't compile, at the line <code>self.root = put(&amp;self.root, key, value)</code>, I get an error:</p>\n<blockquote>\n<p>mismatched types<br />\nexpected enum 'Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;'   found\nreference '&amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;'</p>\n</blockquote>\n<p>I don't know how to fix that, I tried to change the <code>&amp;self</code> parameter to <code>self</code>, or <code>self.root</code> to <code>*self.root</code>, but I got more errors. I'm so confused about the reference in Rust, all I wanna do is rewrite the following Java code in Rust.</p>\n<pre><code>public class BST&lt;Key extends Comparable&lt;Key&gt;, Value&gt;\n{\n    private Node root;              //root of BST\n\n    private class Node\n    {\n        private Key key;            // key\n        private Value val;          // associated value\n        private Node right, left;   // left and right subtrees\n        private int N;              // number of nodes in subtree\n\n        public Node(Key key, Value val, int N)\n        {\n            this.key = key;\n            this.val = val;\n            this.N = N;\n        }\n    }\n\n    // Returns the number of key-value pairs in this symbol table.\n    public int size()\n    {\n        return size(root);\n    }\n\n    // Return number of key-value pairs in BST rooted at x\n    private int size(Node x)\n    {\n        if (x == null) return 0;\n        else return x.N;\n    }\n\n    public void put(Key key, Value val)\n    {\n        root = put(root, key, val);\n    }\n\n    private Node put(Node x, Key key, Value val)\n    {\n        if (x == null) return new Node(key, val, 1);\n        int cmp = key.compareTo(x.key);\n        if (cmp &lt; 0) x.left = put(x.left, key, val);\n        else if (cmp &gt; 0) x.right = put(x.right, key, val);\n        else x.val = val;\n        x.N = size(x.left) + size(x.right) + 1;\n        return x;\n    }\n} \n</code></pre>\n<p>It's dead simple in <code>Java</code> because I don't need to handle the reference. So here is my problems:</p>\n<ol>\n<li>How could I fix that mismatched error?</li>\n<li>What is the proper return type of that recursive function <code>put</code>, the\n<code>&amp;Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;</code> or <code>Option&lt;Box&lt;Node&lt;K, V&gt;&gt;&gt;</code>? What's the difference?</li>\n<li>Am I on the right way to rewrite this <code>Java</code> code? The rust-analyzer only reports this mismatched error but I don't know if it will work as I expect. And honestly I don't\nfully understand what am i doing when I handle the reference in rust\nespecially when it's a reference of a struct or enum</li>\n</ol>\n<p>It's hard to learn Rust because I don't have much experience in system programming language, I appreciated your guys help :)</p>\n"},{"tags":["java","vert.x","quarkus","vertx-verticle"],"comments":[{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1597180146,"post_id":63298545,"comment_id":112048725,"body_markdown":"Did you read/follow thiese guides ? https://quarkus.io/guides/vertx, https://quarkus.io/guides/reactive-routes","body":"Did you read/follow thiese guides ? <a href=\"https://quarkus.io/guides/vertx\" rel=\"nofollow noreferrer\">quarkus.io/guides/vertx</a>, <a href=\"https://quarkus.io/guides/reactive-routes\" rel=\"nofollow noreferrer\">quarkus.io/guides/reactive-routes</a>"}],"answers":[{"tags":[],"owner":{"account_id":2392385,"reputation":306,"user_id":2091992,"display_name":"justice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675478597,"creation_date":1675478597,"answer_id":75342615,"question_id":63298545,"body_markdown":"You crrated 2 vertex instance in the same app. \r\n 1. Injected one\r\n 2. Manually one on the main method\r\n\r\nWhy does the injected one was not enough?\r\n\r\nYou deploy verticle to each vertex intances. Where does verticles in the init method come from?\r\n\r\nIf you are in a quarkus app it will be better to explicitly start the main quarkus method.\r\n\r\nThe injected vertx instance should be the only one you should use. For you simple case. Try to understand dependency injections in quarkus","title":"Using Quarkus with bare Vertx: Server responds only to one connection","body":"<p>You crrated 2 vertex instance in the same app.</p>\n<ol>\n<li>Injected one</li>\n<li>Manually one on the main method</li>\n</ol>\n<p>Why does the injected one was not enough?</p>\n<p>You deploy verticle to each vertex intances. Where does verticles in the init method come from?</p>\n<p>If you are in a quarkus app it will be better to explicitly start the main quarkus method.</p>\n<p>The injected vertx instance should be the only one you should use. For you simple case. Try to understand dependency injections in quarkus</p>\n"}],"owner":{"account_id":14158089,"reputation":11,"user_id":10228142,"display_name":"Nik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675478597,"creation_date":1596790734,"question_id":63298545,"body_markdown":"I tried to create a Quarkus App with bare Vertx. However, I can&#39;t curl multiple times. Only the first curl give me the correct response. \r\n\r\nI tried to use Vertx without Quarkus (main method). Then everything works fine. Each curl gives the correct response. So I think I initialize Vertx wrong when I use Quarkus.\r\n\r\nCode: Verticle Deployer\r\n```\r\npackage Super.Company.App;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.enterprise.event.Observes;\r\nimport javax.enterprise.inject.Instance;\r\nimport javax.inject.Inject;\r\n\r\nimport io.quarkus.runtime.StartupEvent;\r\nimport io.vertx.core.AbstractVerticle;\r\nimport io.vertx.core.Verticle;\r\nimport io.vertx.core.Vertx;\r\n\r\n@ApplicationScoped\r\npublic class App {\r\n  @Inject\r\n  Vertx vertx;\r\n\r\n  public void init(@Observes StartupEvent e, Vertx vertx, Instance&lt;AbstractVerticle&gt; verticles) {\r\n    for (AbstractVerticle verticle : verticles) {\r\n      vertx.deployVerticle(verticle);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Vertx vertx = Vertx.vertx();\r\n    Verticle myVerticle = new MyVerticle();\r\n    vertx.deployVerticle(myVerticle);\r\n  }\r\n\r\n}\r\n```\r\nCode: Verticle\r\n```\r\npackage Super.Company.App;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\nimport io.vertx.core.AbstractVerticle;\r\nimport io.vertx.core.http.HttpServer;\r\nimport io.vertx.core.http.HttpServerResponse;\r\nimport io.vertx.ext.web.Router;\r\n\r\n@ApplicationScoped\r\npublic class MyVerticle extends AbstractVerticle {\r\n\r\n  @Override\r\n  public void start() {\r\n    HttpServer server = vertx.createHttpServer();\r\n\r\n    Router router = Router.router(vertx);\r\n\r\n    router.route().handler(routingContext -&gt; {\r\n\r\n      // This handler will be called for every request\r\n      HttpServerResponse response = routingContext.response();\r\n      response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\r\n\r\n      // Write to the response and end it\r\n      response.end(&quot;Hello World from Vert.x-Web!&quot;);\r\n    });\r\n\r\n    server.requestHandler(router).listen(8080);\r\n  }\r\n}\r\n```\r\n\r\nedit:\r\nI have spammed the curl command and occasionally I got the correct response. Every 16th curl command responds correctly.\r\n\r\nupdate: \r\nBesides the curl spamming, I made some tests. I used [hey][1], Postman, Google Chrome and Safari.\r\n\r\nhey: 5% - 15% were a 200 and the rest were a 404.\r\n\r\nPostman: I received only 404. But after restarting the server, it responds only 200.\r\n\r\n\r\nBrowsers: Only one tab can connect to the server. I can refresh this tap multiple times and the server sends a 200 each time. I have to restart the server to connect with other tabs. However, if I refresh the other tabs they get a 404.\r\n\r\n\r\n  [1]: https://github.com/rakyll/hey","title":"Using Quarkus with bare Vertx: Server responds only to one connection","body":"<p>I tried to create a Quarkus App with bare Vertx. However, I can't curl multiple times. Only the first curl give me the correct response.</p>\n<p>I tried to use Vertx without Quarkus (main method). Then everything works fine. Each curl gives the correct response. So I think I initialize Vertx wrong when I use Quarkus.</p>\n<p>Code: Verticle Deployer</p>\n<pre><code>package Super.Company.App;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.event.Observes;\nimport javax.enterprise.inject.Instance;\nimport javax.inject.Inject;\n\nimport io.quarkus.runtime.StartupEvent;\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Verticle;\nimport io.vertx.core.Vertx;\n\n@ApplicationScoped\npublic class App {\n  @Inject\n  Vertx vertx;\n\n  public void init(@Observes StartupEvent e, Vertx vertx, Instance&lt;AbstractVerticle&gt; verticles) {\n    for (AbstractVerticle verticle : verticles) {\n      vertx.deployVerticle(verticle);\n    }\n  }\n\n  public static void main(String[] args) {\n    Vertx vertx = Vertx.vertx();\n    Verticle myVerticle = new MyVerticle();\n    vertx.deployVerticle(myVerticle);\n  }\n\n}\n</code></pre>\n<p>Code: Verticle</p>\n<pre><code>package Super.Company.App;\n\nimport javax.enterprise.context.ApplicationScoped;\n\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.http.HttpServer;\nimport io.vertx.core.http.HttpServerResponse;\nimport io.vertx.ext.web.Router;\n\n@ApplicationScoped\npublic class MyVerticle extends AbstractVerticle {\n\n  @Override\n  public void start() {\n    HttpServer server = vertx.createHttpServer();\n\n    Router router = Router.router(vertx);\n\n    router.route().handler(routingContext -&gt; {\n\n      // This handler will be called for every request\n      HttpServerResponse response = routingContext.response();\n      response.putHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\n\n      // Write to the response and end it\n      response.end(&quot;Hello World from Vert.x-Web!&quot;);\n    });\n\n    server.requestHandler(router).listen(8080);\n  }\n}\n</code></pre>\n<p>edit:\nI have spammed the curl command and occasionally I got the correct response. Every 16th curl command responds correctly.</p>\n<p>update:\nBesides the curl spamming, I made some tests. I used <a href=\"https://github.com/rakyll/hey\" rel=\"nofollow noreferrer\">hey</a>, Postman, Google Chrome and Safari.</p>\n<p>hey: 5% - 15% were a 200 and the rest were a 404.</p>\n<p>Postman: I received only 404. But after restarting the server, it responds only 200.</p>\n<p>Browsers: Only one tab can connect to the server. I can refresh this tap multiple times and the server sends a 200 each time. I have to restart the server to connect with other tabs. However, if I refresh the other tabs they get a 404.</p>\n"},{"tags":["java","spring","spring-webflux","reactor"],"comments":[{"owner":{"account_id":53187,"reputation":873,"user_id":158999,"accept_rate":33,"display_name":"Samra"},"score":1,"creation_date":1628754641,"post_id":44593066,"comment_id":121506935,"body_markdown":"Hey, did you get the answer. I am also looking to get error response body from another service which is different than the success response body.","body":"Hey, did you get the answer. I am also looking to get error response body from another service which is different than the success response body."},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1692207100,"post_id":44593066,"comment_id":135593444,"body_markdown":"I have a similar issue, in that I have a response from a `WebClient`, which is erroring (422), the error response  has a body (specifically Error code within some JSON content, that I need to retrieve. I found no help in any of the answers here (though maybe didn&#39;t understand enough?), however I found that I was indeed helped by this tutorial:\nhttps://medium.com/nerd-for-tech/webclient-error-handling-made-easy-4062dcf58c49","body":"I have a similar issue, in that I have a response from a <code>WebClient</code>, which is erroring (422), the error response  has a body (specifically Error code within some JSON content, that I need to retrieve. I found no help in any of the answers here (though maybe didn&#39;t understand enough?), however I found that I was indeed helped by this tutorial: <a href=\"https://medium.com/nerd-for-tech/webclient-error-handling-made-easy-4062dcf58c49\" rel=\"nofollow noreferrer\">medium.com/nerd-for-tech/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1339883,"reputation":963,"user_id":1281789,"accept_rate":83,"display_name":"adrien le roy"},"score":0,"creation_date":1497857536,"post_id":44593201,"comment_id":76234916,"body_markdown":"Not working on our side, we never go in doOnNext in case of  servererror. We tried to use doOnEach but we can get the body from there","body":"Not working on our side, we never go in doOnNext in case of  servererror. We tried to use doOnEach but we can get the body from there"},{"owner":{"account_id":1339883,"reputation":963,"user_id":1281789,"accept_rate":83,"display_name":"adrien le roy"},"score":0,"creation_date":1497868668,"post_id":44593201,"comment_id":76242072,"body_markdown":"What application server are you using ? Netty for our part.","body":"What application server are you using ? Netty for our part."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497627845,"creation_date":1497627845,"answer_id":44593201,"question_id":44593066,"body_markdown":"I do something like this:\r\n\r\n    Mono&lt;ClientResponse&gt; responseMono = requestSpec.exchange()\r\n\t\t\t\t.doOnNext(response -&gt; {\r\n\t\t\t\t\tHttpStatus httpStatus = response.statusCode();\r\n\t\t\t\t\tif (httpStatus.is4xxClientError() || httpStatus.is5xxServerError()) {\r\n\t\t\t\t\t\tthrow new WebClientException(\r\n\t\t\t\t\t\t\t\t&quot;ClientResponse has erroneous status code: &quot; + httpStatus.value() +\r\n\t\t\t\t\t\t\t\t\t\t&quot; &quot; + httpStatus.getReasonPhrase());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\nand then:\r\n\r\n    responseMono.subscribe(v -&gt; { }, ex -&gt; processError(ex));","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I do something like this:</p>\n\n<pre><code>Mono&lt;ClientResponse&gt; responseMono = requestSpec.exchange()\n            .doOnNext(response -&gt; {\n                HttpStatus httpStatus = response.statusCode();\n                if (httpStatus.is4xxClientError() || httpStatus.is5xxServerError()) {\n                    throw new WebClientException(\n                            \"ClientResponse has erroneous status code: \" + httpStatus.value() +\n                                    \" \" + httpStatus.getReasonPhrase());\n                }\n            });\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>responseMono.subscribe(v -&gt; { }, ex -&gt; processError(ex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1339883,"reputation":963,"user_id":1281789,"accept_rate":83,"display_name":"adrien le roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498202736,"creation_date":1498202736,"answer_id":44715487,"question_id":44593066,"body_markdown":"We have finally understood what is happening : \r\nBy default the Netty&#39;s httpclient (HttpClientRequest) is configured to fail on server error (response 5XX) and not on client error (4XX), this is why it was always emitting an exception.\r\n\r\nWhat we have done is extend AbstractClientHttpRequest and ClientHttpConnector to configure the httpclient behave the way the want and when we are invoking the WebClient we use our custom ClientHttpConnector :\r\n\r\n     WebClient.builder().clientConnector(new CommonsReactorClientHttpConnector()).build();","title":"Spring Webflux : Webclient : Get body on error","body":"<p>We have finally understood what is happening : \nBy default the Netty's httpclient (HttpClientRequest) is configured to fail on server error (response 5XX) and not on client error (4XX), this is why it was always emitting an exception.</p>\n\n<p>What we have done is extend AbstractClientHttpRequest and ClientHttpConnector to configure the httpclient behave the way the want and when we are invoking the WebClient we use our custom ClientHttpConnector :</p>\n\n<pre><code> WebClient.builder().clientConnector(new CommonsReactorClientHttpConnector()).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1094948,"reputation":1246,"user_id":3655832,"display_name":"Arjen Poutsma"},"comment_count":0,"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1499341399,"creation_date":1499341399,"answer_id":44947916,"question_id":44593066,"body_markdown":"Note that as of writing this, 5xx errors no longer result in an exception from the underlying Netty layer. See https://github.com/spring-projects/spring-framework/commit/b0ab84657b712aac59951420f4e9d696c3d84ba2","title":"Spring Webflux : Webclient : Get body on error","body":"<p>Note that as of writing this, 5xx errors no longer result in an exception from the underlying Netty layer. See <a href=\"https://github.com/spring-projects/spring-framework/commit/b0ab84657b712aac59951420f4e9d696c3d84ba2\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/commit/b0ab84657b712aac59951420f4e9d696c3d84ba2</a></p>\n"},{"comments":[{"owner":{"account_id":8038697,"reputation":325,"user_id":6061061,"display_name":"Blake Neal"},"score":0,"creation_date":1584386937,"post_id":49499545,"comment_id":107416620,"body_markdown":"Spent an entire day trying to find this answer. Totally forgot that the exception is embedded in the response body. Thanks!","body":"Spent an entire day trying to find this answer. Totally forgot that the exception is embedded in the response body. Thanks!"},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1598316755,"post_id":49499545,"comment_id":112412904,"body_markdown":"How can we throw exception incase of is5xxServerError and print backend response?","body":"How can we throw exception incase of is5xxServerError and print backend response?"},{"owner":{"account_id":5258119,"reputation":2130,"user_id":4200414,"display_name":"Mohale"},"score":0,"creation_date":1598343080,"post_id":49499545,"comment_id":112420102,"body_markdown":"@Rocky4Ever you can throw an exception instead of returning the success response. Check the below responses\nhttps://stackoverflow.com/a/44593201/4200414","body":"@Rocky4Ever you can throw an exception instead of returning the success response. Check the below responses <a href=\"https://stackoverflow.com/a/44593201/4200414\">stackoverflow.com/a/44593201/4200414</a>"}],"tags":[],"owner":{"account_id":5258119,"reputation":2130,"user_id":4200414,"display_name":"Mohale"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1522093940,"creation_date":1522093940,"answer_id":49499545,"question_id":44593066,"body_markdown":"You could also do this\r\n\r\n    return webClient.getWebClient()\r\n     .post()\r\n     .uri(&quot;/api/Card&quot;)\r\n     .body(BodyInserters.fromObject(cardObject))\r\n     .exchange()\r\n     .flatMap(clientResponse -&gt; {\r\n         if (clientResponse.statusCode().is5xxServerError()) {\r\n            clientResponse.body((clientHttpResponse, context) -&gt; {\r\n               return clientHttpResponse.getBody();\r\n            });\r\n         return clientResponse.bodyToMono(String.class);\r\n       }\r\n       else\r\n         return clientResponse.bodyToMono(String.class);\r\n    });\r\n\r\nRead this article for more examples [link][1], I found it to be helpful when I experienced a similar problem with error handling\r\n\r\n\r\n  [1]: https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/","title":"Spring Webflux : Webclient : Get body on error","body":"<p>You could also do this</p>\n\n<pre><code>return webClient.getWebClient()\n .post()\n .uri(\"/api/Card\")\n .body(BodyInserters.fromObject(cardObject))\n .exchange()\n .flatMap(clientResponse -&gt; {\n     if (clientResponse.statusCode().is5xxServerError()) {\n        clientResponse.body((clientHttpResponse, context) -&gt; {\n           return clientHttpResponse.getBody();\n        });\n     return clientResponse.bodyToMono(String.class);\n   }\n   else\n     return clientResponse.bodyToMono(String.class);\n});\n</code></pre>\n\n<p>Read this article for more examples <a href=\"https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/\" rel=\"noreferrer\">link</a>, I found it to be helpful when I experienced a similar problem with error handling</p>\n"},{"tags":[],"owner":{"account_id":3532513,"reputation":686,"user_id":2951619,"display_name":"Alan Ho"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566571657,"creation_date":1566571657,"answer_id":57628569,"question_id":44593066,"body_markdown":"I had just faced the similar situation and I found out webClient does not throw any exception even it is getting 4xx/5xx responses.  In my case, I use webclient to first make a call to get the response and if it is returning 2xx response then I extract the data from the response and use it for making the second call.  If the first call is getting non-2xx response then throw an exception.  Because it is not throwing exception so when the first call failed and the second is still be carried on.  So what I did is \r\n\r\n```\r\nreturn webClient.post().uri(&quot;URI&quot;)\r\n    .header(HttpHeaders.CONTENT_TYPE, &quot;XXXX&quot;)\r\n    .header(HttpHeaders.ACCEPT, &quot;XXXX&quot;)\r\n    .header(HttpHeaders.AUTHORIZATION, &quot;XXXX&quot;)\r\n    .body(BodyInserters.fromObject(BODY))\r\n    .exchange()\r\n    .doOnSuccess(response -&gt; {\r\n        HttpStatus statusCode = response.statusCode();\r\n        if (statusCode.is4xxClientError()) {\r\n            throw new Exception(statusCode.toString());\r\n        }\r\n        if (statusCode.is5xxServerError()) {\r\n            throw new Exception(statusCode.toString());\r\n        }\r\n    )\r\n    .flatMap(response -&gt; response.bodyToMono(ANY.class))\r\n    .map(response -&gt; response.getSomething())\r\n    .flatMap(something -&gt; callsSecondEndpoint(something));\r\n}\r\n```","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I had just faced the similar situation and I found out webClient does not throw any exception even it is getting 4xx/5xx responses.  In my case, I use webclient to first make a call to get the response and if it is returning 2xx response then I extract the data from the response and use it for making the second call.  If the first call is getting non-2xx response then throw an exception.  Because it is not throwing exception so when the first call failed and the second is still be carried on.  So what I did is </p>\n\n<pre><code>return webClient.post().uri(\"URI\")\n    .header(HttpHeaders.CONTENT_TYPE, \"XXXX\")\n    .header(HttpHeaders.ACCEPT, \"XXXX\")\n    .header(HttpHeaders.AUTHORIZATION, \"XXXX\")\n    .body(BodyInserters.fromObject(BODY))\n    .exchange()\n    .doOnSuccess(response -&gt; {\n        HttpStatus statusCode = response.statusCode();\n        if (statusCode.is4xxClientError()) {\n            throw new Exception(statusCode.toString());\n        }\n        if (statusCode.is5xxServerError()) {\n            throw new Exception(statusCode.toString());\n        }\n    )\n    .flatMap(response -&gt; response.bodyToMono(ANY.class))\n    .map(response -&gt; response.getSomething())\n    .flatMap(something -&gt; callsSecondEndpoint(something));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"score":1,"creation_date":1586511317,"post_id":60453108,"comment_id":108158398,"body_markdown":"super! Thank you so much. This is the perfect solution. There are so many workarounds with filter, global exception handler others.. but this works perfectly. For me, I want to do some actions on DB in subscribe.. and it works great!","body":"super! Thank you so much. This is the perfect solution. There are so many workarounds with filter, global exception handler others.. but this works perfectly. For me, I want to do some actions on DB in subscribe.. and it works great!"},{"owner":{"account_id":16814655,"reputation":79,"user_id":14509959,"display_name":"Jesus"},"score":0,"creation_date":1656901229,"post_id":60453108,"comment_id":128676202,"body_markdown":"Hi, in the new versions of Spring Webflux the method exchange is deprecated, how can I use this solution with retrieve?","body":"Hi, in the new versions of Spring Webflux the method exchange is deprecated, how can I use this solution with retrieve?"},{"owner":{"account_id":4416433,"reputation":1212,"user_id":3597909,"accept_rate":53,"display_name":"Zrom"},"score":0,"creation_date":1658154234,"post_id":60453108,"comment_id":128974208,"body_markdown":"@Jesus you can use exchangeToMono or exchangeToFlux...","body":"@Jesus you can use exchangeToMono or exchangeToFlux..."}],"tags":[],"owner":{"account_id":4416433,"reputation":1212,"user_id":3597909,"accept_rate":53,"display_name":"Zrom"},"comment_count":3,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1582898606,"creation_date":1582897812,"answer_id":60453108,"question_id":44593066,"body_markdown":"I prefer to use the methods provided by the ClientResponse to handle http errors and throw exceptions:        \r\n    \r\n    WebClient.create()\r\n             .post()\r\n             .uri( url )\r\n             .body( bodyObject == null ? null : BodyInserters.fromValue( bodyObject ) )\r\n             .accept( MediaType.APPLICATION_JSON )\r\n             .headers( headers )\r\n             .exchange()\r\n             .flatMap( clientResponse -&gt; {\r\n                 //Error handling\r\n                 if ( clientResponse.statusCode().isError() ) { // or clientResponse.statusCode().value() &gt;= 400\r\n                     return clientResponse.createException().flatMap( Mono::error );\r\n                 }\r\n                 return clientResponse.bodyToMono( clazz )\r\n             } )\r\n             //You can do your checks: doOnError (..), onErrorReturn (..) ...\r\n             ...\r\n\r\nIn fact, it&#39;s the same logic used in the DefaultResponseSpec of DefaultWebClient to handle errors. The DefaultResponseSpec is an implementation of ResponseSpec that we would have if we made a retrieve() instead of exchange().\r\n","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I prefer to use the methods provided by the ClientResponse to handle http errors and throw exceptions:        </p>\n\n<pre><code>WebClient.create()\n         .post()\n         .uri( url )\n         .body( bodyObject == null ? null : BodyInserters.fromValue( bodyObject ) )\n         .accept( MediaType.APPLICATION_JSON )\n         .headers( headers )\n         .exchange()\n         .flatMap( clientResponse -&gt; {\n             //Error handling\n             if ( clientResponse.statusCode().isError() ) { // or clientResponse.statusCode().value() &gt;= 400\n                 return clientResponse.createException().flatMap( Mono::error );\n             }\n             return clientResponse.bodyToMono( clazz )\n         } )\n         //You can do your checks: doOnError (..), onErrorReturn (..) ...\n         ...\n</code></pre>\n\n<p>In fact, it's the same logic used in the DefaultResponseSpec of DefaultWebClient to handle errors. The DefaultResponseSpec is an implementation of ResponseSpec that we would have if we made a retrieve() instead of exchange().</p>\n"},{"comments":[{"owner":{"account_id":1568491,"reputation":1271,"user_id":1456738,"accept_rate":67,"display_name":"Joe B"},"score":6,"creation_date":1636069717,"post_id":62176117,"comment_id":123466270,"body_markdown":"onStatus is cool, but one quark it has is that an empty response body will circumvent the `response -&gt; { }` lambda. i.e. a Mono.error is never returned. instead a null Mono will be returned.","body":"onStatus is cool, but one quark it has is that an empty response body will circumvent the <code>response -&gt; { }</code> lambda. i.e. a Mono.error is never returned. instead a null Mono will be returned."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636100598,"post_id":62176117,"comment_id":123471553,"body_markdown":"Well here we always have a body. Maybe 500 without a body is... unusual?","body":"Well here we always have a body. Maybe 500 without a body is... unusual?"}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":2,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1591196573,"creation_date":1591196573,"answer_id":62176117,"question_id":44593066,"body_markdown":"Don&#39;t we have `onStatus()`?\r\n\r\n```java\r\n    public Mono&lt;Void&gt; cancel(SomeDTO requestDto) {\r\n        return webClient.post().uri(SOME_URL)\r\n                .body(fromObject(requestDto))\r\n                .header(&quot;API_KEY&quot;, properties.getApiKey())\r\n                .retrieve()\r\n                .onStatus(HttpStatus::isError, response -&gt; {\r\n                    logTraceResponse(log, response);\r\n                    return Mono.error(new IllegalStateException(\r\n                            String.format(&quot;Failed! %s&quot;, requestDto.getCartId())\r\n                    ));\r\n                })\r\n                .bodyToMono(Void.class)\r\n                .timeout(timeout);\r\n    }\r\n```\r\n\r\nAnd:\r\n```java\r\n    public static void logTraceResponse(Logger log, ClientResponse response) {\r\n        if (log.isTraceEnabled()) {\r\n            log.trace(&quot;Response status: {}&quot;, response.statusCode());\r\n            log.trace(&quot;Response headers: {}&quot;, response.headers().asHttpHeaders());\r\n            response.bodyToMono(String.class)\r\n                    .publishOn(Schedulers.elastic())\r\n                    .subscribe(body -&gt; log.trace(&quot;Response body: {}&quot;, body));\r\n        }\r\n    }\r\n```","title":"Spring Webflux : Webclient : Get body on error","body":"<p>Don't we have <code>onStatus()</code>?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Void&gt; cancel(SomeDTO requestDto) {\n        return webClient.post().uri(SOME_URL)\n                .body(fromObject(requestDto))\n                .header(\"API_KEY\", properties.getApiKey())\n                .retrieve()\n                .onStatus(HttpStatus::isError, response -&gt; {\n                    logTraceResponse(log, response);\n                    return Mono.error(new IllegalStateException(\n                            String.format(\"Failed! %s\", requestDto.getCartId())\n                    ));\n                })\n                .bodyToMono(Void.class)\n                .timeout(timeout);\n    }\n</code></pre>\n\n<p>And:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static void logTraceResponse(Logger log, ClientResponse response) {\n        if (log.isTraceEnabled()) {\n            log.trace(\"Response status: {}\", response.statusCode());\n            log.trace(\"Response headers: {}\", response.headers().asHttpHeaders());\n            response.bodyToMono(String.class)\n                    .publishOn(Schedulers.elastic())\n                    .subscribe(body -&gt; log.trace(\"Response body: {}\", body));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4742002,"reputation":448,"user_id":3834429,"display_name":"Karim G"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1603983445,"creation_date":1603983445,"answer_id":64593666,"question_id":44593066,"body_markdown":"I got the error body by doing like this:\r\n\r\n    webClient\r\n    ...\r\n    .retrieve()    \r\n    .onStatus(HttpStatus::isError, response -&gt; response.bodyToMono(String.class) // error body as String or other class\r\n                                                       .flatMap(error -&gt; Mono.error(new RuntimeException(error)))) // throw a functional exception\r\n    .bodyToMono(MyResponseType.class)\r\n    .block();","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I got the error body by doing like this:</p>\n<pre><code>webClient\n...\n.retrieve()    \n.onStatus(HttpStatus::isError, response -&gt; response.bodyToMono(String.class) // error body as String or other class\n                                                   .flatMap(error -&gt; Mono.error(new RuntimeException(error)))) // throw a functional exception\n.bodyToMono(MyResponseType.class)\n.block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620218244,"creation_date":1620218244,"answer_id":67401449,"question_id":44593066,"body_markdown":"&gt; **The retrieve() method in WebClient throws a WebClientResponseException\r\n&gt; whenever a response with status code 4xx or 5xx is received.**\r\n\r\nYou can handle the exception by checking the response status code.\r\n\r\n       Mono&lt;Object&gt; result = webClient.get().uri(URL).exchange().log().flatMap(entity -&gt; {\r\n\t\t\tHttpStatus statusCode = entity.statusCode();\r\n\t\t\tif (statusCode.is4xxClientError() || statusCode.is5xxServerError())\r\n\t\t\t{\r\n\t\t\t\treturn Mono.error(new Exception(statusCode.toString()));\r\n\t\t\t}\r\n\t\t\treturn Mono.just(entity);\r\n\t\t}).flatMap(clientResponse -&gt; clientResponse.bodyToMono(JSONObject.class))\r\n\r\n**Reference:** https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/","title":"Spring Webflux : Webclient : Get body on error","body":"<blockquote>\n<p><strong>The retrieve() method in WebClient throws a WebClientResponseException\nwhenever a response with status code 4xx or 5xx is received.</strong></p>\n</blockquote>\n<p>You can handle the exception by checking the response status code.</p>\n<pre><code>   Mono&lt;Object&gt; result = webClient.get().uri(URL).exchange().log().flatMap(entity -&gt; {\n        HttpStatus statusCode = entity.statusCode();\n        if (statusCode.is4xxClientError() || statusCode.is5xxServerError())\n        {\n            return Mono.error(new Exception(statusCode.toString()));\n        }\n        return Mono.just(entity);\n    }).flatMap(clientResponse -&gt; clientResponse.bodyToMono(JSONObject.class))\n</code></pre>\n<p><strong>Reference:</strong> <a href=\"https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":11502626,"reputation":569,"user_id":8429944,"display_name":"GhostBytes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624895806,"creation_date":1624895806,"answer_id":68166476,"question_id":44593066,"body_markdown":"I stumbled across this so figured I might as well post my code.\r\n\r\nWhat I did was create a global handler that takes career of request and response errors coming out of the web client. This is in Kotlin but can be easily converted to Java, of course. This extends the default behavior so you can be sure to get all of the automatic configuration on top of your customer handling.\r\n\r\nAs you can see this doesn&#39;t really do anything custom, it just translates the web client errors into relevant responses. For response errors the code and response body are simply passed through to the client. For request errors currently it just handles connection troubles because that&#39;s all I care about (at the moment), but as you can see it can be easily extended.\r\n\r\n```kotlin\r\n@Configuration\r\nclass WebExceptionConfig(private val serverProperties: ServerProperties) {\r\n\r\n    @Bean\r\n    @Order(-2)\r\n    fun errorWebExceptionHandler(\r\n        errorAttributes: ErrorAttributes,\r\n        resourceProperties: ResourceProperties,\r\n        webProperties: WebProperties,\r\n        viewResolvers: ObjectProvider&lt;ViewResolver&gt;,\r\n        serverCodecConfigurer: ServerCodecConfigurer,\r\n        applicationContext: ApplicationContext\r\n    ): ErrorWebExceptionHandler? {\r\n        val exceptionHandler = CustomErrorWebExceptionHandler(\r\n            errorAttributes,\r\n            (if (resourceProperties.hasBeenCustomized()) resourceProperties else webProperties.resources) as WebProperties.Resources,\r\n            serverProperties.error,\r\n            applicationContext\r\n        )\r\n        exceptionHandler.setViewResolvers(viewResolvers.orderedStream().collect(Collectors.toList()))\r\n        exceptionHandler.setMessageWriters(serverCodecConfigurer.writers)\r\n        exceptionHandler.setMessageReaders(serverCodecConfigurer.readers)\r\n        return exceptionHandler\r\n    }\r\n}\r\n\r\nclass CustomErrorWebExceptionHandler(\r\n    errorAttributes: ErrorAttributes,\r\n    resources: WebProperties.Resources,\r\n    errorProperties: ErrorProperties,\r\n    applicationContext: ApplicationContext\r\n)  : DefaultErrorWebExceptionHandler(errorAttributes, resources, errorProperties, applicationContext) {\r\n\r\n    override fun handle(exchange: ServerWebExchange, throwable: Throwable): Mono&lt;Void&gt; =\r\n        when (throwable) {\r\n            is WebClientRequestException -&gt; handleWebClientRequestException(exchange, throwable)\r\n            is WebClientResponseException -&gt; handleWebClientResponseException(exchange, throwable)\r\n            else -&gt; super.handle(exchange, throwable)\r\n        }\r\n\r\n    private fun handleWebClientResponseException(exchange: ServerWebExchange, throwable: WebClientResponseException): Mono&lt;Void&gt; {\r\n        exchange.response.headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        exchange.response.statusCode = throwable.statusCode\r\n\r\n        val responseBodyBuffer = exchange\r\n            .response\r\n            .bufferFactory()\r\n            .wrap(throwable.responseBodyAsByteArray)\r\n\r\n        return exchange.response.writeWith(Mono.just(responseBodyBuffer))\r\n    }\r\n\r\n    private fun handleWebClientRequestException(exchange: ServerWebExchange, throwable: WebClientRequestException): Mono&lt;Void&gt; {\r\n        if (throwable.rootCause is ConnectException) {\r\n\r\n            exchange.response.headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            exchange.response.statusCode = HttpStatus.BAD_GATEWAY\r\n\r\n            val responseBodyBuffer = exchange\r\n                .response\r\n                .bufferFactory()\r\n                .wrap(ObjectMapper().writeValueAsBytes(customErrorWebException(exchange, HttpStatus.BAD_GATEWAY, throwable.message)))\r\n\r\n            return exchange.response.writeWith(Mono.just(responseBodyBuffer))\r\n\r\n        } else {\r\n            return super.handle(exchange, throwable)\r\n        }\r\n    }\r\n\r\n    private fun customErrorWebException(exchange: ServerWebExchange, status: HttpStatus, message: Any?) =\r\n        CustomErrorWebException(\r\n            Instant.now().toString(),\r\n            exchange.request.path.value(),\r\n            status.value(),\r\n            status.reasonPhrase,\r\n            message,\r\n            exchange.request.id\r\n        )\r\n}\r\n\r\ndata class CustomErrorWebException(\r\n    val timestamp: String,\r\n    val path: String,\r\n    val status: Int,\r\n    val error: String,\r\n    val message: Any?,\r\n    val requestId: String,\r\n)\r\n```\r\n\r\n","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I stumbled across this so figured I might as well post my code.</p>\n<p>What I did was create a global handler that takes career of request and response errors coming out of the web client. This is in Kotlin but can be easily converted to Java, of course. This extends the default behavior so you can be sure to get all of the automatic configuration on top of your customer handling.</p>\n<p>As you can see this doesn't really do anything custom, it just translates the web client errors into relevant responses. For response errors the code and response body are simply passed through to the client. For request errors currently it just handles connection troubles because that's all I care about (at the moment), but as you can see it can be easily extended.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\nclass WebExceptionConfig(private val serverProperties: ServerProperties) {\n\n    @Bean\n    @Order(-2)\n    fun errorWebExceptionHandler(\n        errorAttributes: ErrorAttributes,\n        resourceProperties: ResourceProperties,\n        webProperties: WebProperties,\n        viewResolvers: ObjectProvider&lt;ViewResolver&gt;,\n        serverCodecConfigurer: ServerCodecConfigurer,\n        applicationContext: ApplicationContext\n    ): ErrorWebExceptionHandler? {\n        val exceptionHandler = CustomErrorWebExceptionHandler(\n            errorAttributes,\n            (if (resourceProperties.hasBeenCustomized()) resourceProperties else webProperties.resources) as WebProperties.Resources,\n            serverProperties.error,\n            applicationContext\n        )\n        exceptionHandler.setViewResolvers(viewResolvers.orderedStream().collect(Collectors.toList()))\n        exceptionHandler.setMessageWriters(serverCodecConfigurer.writers)\n        exceptionHandler.setMessageReaders(serverCodecConfigurer.readers)\n        return exceptionHandler\n    }\n}\n\nclass CustomErrorWebExceptionHandler(\n    errorAttributes: ErrorAttributes,\n    resources: WebProperties.Resources,\n    errorProperties: ErrorProperties,\n    applicationContext: ApplicationContext\n)  : DefaultErrorWebExceptionHandler(errorAttributes, resources, errorProperties, applicationContext) {\n\n    override fun handle(exchange: ServerWebExchange, throwable: Throwable): Mono&lt;Void&gt; =\n        when (throwable) {\n            is WebClientRequestException -&gt; handleWebClientRequestException(exchange, throwable)\n            is WebClientResponseException -&gt; handleWebClientResponseException(exchange, throwable)\n            else -&gt; super.handle(exchange, throwable)\n        }\n\n    private fun handleWebClientResponseException(exchange: ServerWebExchange, throwable: WebClientResponseException): Mono&lt;Void&gt; {\n        exchange.response.headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        exchange.response.statusCode = throwable.statusCode\n\n        val responseBodyBuffer = exchange\n            .response\n            .bufferFactory()\n            .wrap(throwable.responseBodyAsByteArray)\n\n        return exchange.response.writeWith(Mono.just(responseBodyBuffer))\n    }\n\n    private fun handleWebClientRequestException(exchange: ServerWebExchange, throwable: WebClientRequestException): Mono&lt;Void&gt; {\n        if (throwable.rootCause is ConnectException) {\n\n            exchange.response.headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            exchange.response.statusCode = HttpStatus.BAD_GATEWAY\n\n            val responseBodyBuffer = exchange\n                .response\n                .bufferFactory()\n                .wrap(ObjectMapper().writeValueAsBytes(customErrorWebException(exchange, HttpStatus.BAD_GATEWAY, throwable.message)))\n\n            return exchange.response.writeWith(Mono.just(responseBodyBuffer))\n\n        } else {\n            return super.handle(exchange, throwable)\n        }\n    }\n\n    private fun customErrorWebException(exchange: ServerWebExchange, status: HttpStatus, message: Any?) =\n        CustomErrorWebException(\n            Instant.now().toString(),\n            exchange.request.path.value(),\n            status.value(),\n            status.reasonPhrase,\n            message,\n            exchange.request.id\n        )\n}\n\ndata class CustomErrorWebException(\n    val timestamp: String,\n    val path: String,\n    val status: Int,\n    val error: String,\n    val message: Any?,\n    val requestId: String,\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":5,"creation_date":1678240202,"post_id":69442965,"comment_id":133493896,"body_markdown":"Latest Spring version, its changed to `HttpStatus` changed to `HttpStatusCode` and they did it to waste my 30 mins &#129318;‍♂️","body":"Latest Spring version, its changed to <code>HttpStatus</code> changed to <code>HttpStatusCode</code> and they did it to waste my 30 mins 🤦‍♂️"}],"tags":[],"owner":{"account_id":3142730,"reputation":1169,"user_id":3191635,"display_name":"Steve"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633443545,"creation_date":1633386054,"answer_id":69442965,"question_id":44593066,"body_markdown":"Using what I learned this [fantastic SO answer regarding the &quot;Correct way of throwing exceptions with Reactor&quot;][1], I was able to put this answer together. It uses `.onStatus`, `.bodyToMono`, and `.handle` to map the error response body to an exception.\r\n\r\n    // create a chicken\r\n    webClient\r\n        .post()\r\n        .uri(urlService.getUrl(customer) + &quot;/chickens&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .body(Mono.just(chickenCreateDto), ChickenCreateDto.class) // outbound request body\r\n        .retrieve()\r\n        .onStatus(HttpStatus::isError, clientResponse -&gt;\r\n            clientResponse.bodyToMono(ChickenCreateErrorDto.class)\r\n                .handle((error, sink) -&gt; \r\n                    sink.error(new ChickenException(error))\r\n                )\r\n        )\r\n        .bodyToMono(ChickenResponse.class)\r\n        .subscribe(\r\n                this::recordSuccessfulCreationOfChicken, // accepts ChickenResponse\r\n                this::recordUnsuccessfulCreationOfChicken // accepts throwable (ChickenException)\r\n        );\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53596358/3191635","title":"Spring Webflux : Webclient : Get body on error","body":"<p>Using what I learned this <a href=\"https://stackoverflow.com/a/53596358/3191635\">fantastic SO answer regarding the &quot;Correct way of throwing exceptions with Reactor&quot;</a>, I was able to put this answer together. It uses <code>.onStatus</code>, <code>.bodyToMono</code>, and <code>.handle</code> to map the error response body to an exception.</p>\n<pre><code>// create a chicken\nwebClient\n    .post()\n    .uri(urlService.getUrl(customer) + &quot;/chickens&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .body(Mono.just(chickenCreateDto), ChickenCreateDto.class) // outbound request body\n    .retrieve()\n    .onStatus(HttpStatus::isError, clientResponse -&gt;\n        clientResponse.bodyToMono(ChickenCreateErrorDto.class)\n            .handle((error, sink) -&gt; \n                sink.error(new ChickenException(error))\n            )\n    )\n    .bodyToMono(ChickenResponse.class)\n    .subscribe(\n            this::recordSuccessfulCreationOfChicken, // accepts ChickenResponse\n            this::recordUnsuccessfulCreationOfChicken // accepts throwable (ChickenException)\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646498143,"creation_date":1646498143,"answer_id":71363983,"question_id":44593066,"body_markdown":"Actually, you can log the body easily in the `onError` call:\r\n\r\n```kotlin\r\n            .doOnError {\r\n                logger.warn { body(it) }\r\n            }\r\n```\r\nand: \r\n```kotlin\r\n    private fun body(it: Throwable) =\r\n        if (it is WebClientResponseException) {\r\n            &quot;, body: ${it.responseBodyAsString}&quot;\r\n        } else {\r\n            &quot;&quot;\r\n        }\r\n```","title":"Spring Webflux : Webclient : Get body on error","body":"<p>Actually, you can log the body easily in the <code>onError</code> call:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>            .doOnError {\n                logger.warn { body(it) }\n            }\n</code></pre>\n<p>and:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun body(it: Throwable) =\n        if (it is WebClientResponseException) {\n            &quot;, body: ${it.responseBodyAsString}&quot;\n        } else {\n            &quot;&quot;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16316237,"reputation":41,"user_id":11783278,"display_name":"Dichoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652974032,"creation_date":1652974032,"answer_id":72307239,"question_id":44593066,"body_markdown":"For those that wish to the details of a WebClient request that triggered a 500 Internal System error, override the DefaultErrorWebExceptionHandler like as follows.  \r\n\r\nThe Spring default is to tell you the client had an error, but it does not provide the body of the WebClient call, which can be invaluable in debugging.\r\n\r\n```java\r\n/**\r\n * Extends the DefaultErrorWebExceptionHandler to log the response body from a failed WebClient\r\n * response that results in a 500 Internal Server error.\r\n */\r\n@Component\r\n@Order(-2)\r\npublic class ExtendedErrorWebExceptionHandler extends DefaultErrorWebExceptionHandler {\r\n\r\n  private static final Log logger = HttpLogging.forLogName(ExtendedErrorWebExceptionHandler.class);\r\n\r\n  public FsErrorWebExceptionHandler(\r\n      ErrorAttributes errorAttributes,\r\n      Resources resources,\r\n      ServerProperties serverProperties,\r\n      ApplicationContext applicationContext,\r\n      ServerCodecConfigurer serverCodecConfigurer) {\r\n    super(errorAttributes, resources, serverProperties.getError(), applicationContext);\r\n    super.setMessageWriters(serverCodecConfigurer.getWriters());\r\n    super.setMessageReaders(serverCodecConfigurer.getReaders());\r\n  }\r\n\r\n  /**\r\n   * Override the default error log behavior to provide details for WebClientResponseException. This\r\n   * is so that administrators can better debug WebClient errors.\r\n   *\r\n   * @param request The request to the foundation service\r\n   * @param response The response to the foundation service\r\n   * @param throwable The error that occurred during processing the request\r\n   */\r\n  @Override\r\n  protected void logError(ServerRequest request, ServerResponse response, Throwable throwable) {\r\n    // When the throwable is a WebClientResponseException, also log the body\r\n    if (HttpStatus.resolve(response.rawStatusCode()) != null\r\n        &amp;&amp; response.statusCode().equals(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        &amp;&amp; throwable instanceof WebClientResponseException) {\r\n      logger.error(\r\n          LogMessage.of(\r\n              () -&gt;\r\n                  String.format(\r\n                      &quot;%s 500 Server Error for %s\\n%s&quot;,\r\n                      request.exchange().getLogPrefix(),\r\n                      formatRequest(request),\r\n                      formatResponseError((WebClientResponseException) throwable))),\r\n          throwable);\r\n    } else {\r\n      super.logError(request, response, throwable);\r\n    }\r\n  }\r\n\r\n  private String formatRequest(ServerRequest request) {\r\n    String rawQuery = request.uri().getRawQuery();\r\n    String query = StringUtils.hasText(rawQuery) ? &quot;?&quot; + rawQuery : &quot;&quot;;\r\n    return &quot;HTTP &quot; + request.methodName() + &quot; \\&quot;&quot; + request.path() + query + &quot;\\&quot;&quot;;\r\n  }\r\n\r\n  private String formatResponseError(WebClientResponseException exception) {\r\n    return String.format(\r\n        &quot;%-15s %s\\n%-15s %s\\n%-15s %d\\n%-15s %s\\n%-15s &#39;%s&#39;&quot;,\r\n        &quot;  Message:&quot;,\r\n        exception.getMessage(),\r\n        &quot;  Status:&quot;,\r\n        exception.getStatusText(),\r\n        &quot;  Status Code:&quot;,\r\n        exception.getRawStatusCode(),\r\n        &quot;  Headers:&quot;,\r\n        exception.getHeaders(),\r\n        &quot;  Body:&quot;,\r\n        exception.getResponseBodyAsString());\r\n  }\r\n}\r\n```","title":"Spring Webflux : Webclient : Get body on error","body":"<p>For those that wish to the details of a WebClient request that triggered a 500 Internal System error, override the DefaultErrorWebExceptionHandler like as follows.</p>\n<p>The Spring default is to tell you the client had an error, but it does not provide the body of the WebClient call, which can be invaluable in debugging.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Extends the DefaultErrorWebExceptionHandler to log the response body from a failed WebClient\n * response that results in a 500 Internal Server error.\n */\n@Component\n@Order(-2)\npublic class ExtendedErrorWebExceptionHandler extends DefaultErrorWebExceptionHandler {\n\n  private static final Log logger = HttpLogging.forLogName(ExtendedErrorWebExceptionHandler.class);\n\n  public FsErrorWebExceptionHandler(\n      ErrorAttributes errorAttributes,\n      Resources resources,\n      ServerProperties serverProperties,\n      ApplicationContext applicationContext,\n      ServerCodecConfigurer serverCodecConfigurer) {\n    super(errorAttributes, resources, serverProperties.getError(), applicationContext);\n    super.setMessageWriters(serverCodecConfigurer.getWriters());\n    super.setMessageReaders(serverCodecConfigurer.getReaders());\n  }\n\n  /**\n   * Override the default error log behavior to provide details for WebClientResponseException. This\n   * is so that administrators can better debug WebClient errors.\n   *\n   * @param request The request to the foundation service\n   * @param response The response to the foundation service\n   * @param throwable The error that occurred during processing the request\n   */\n  @Override\n  protected void logError(ServerRequest request, ServerResponse response, Throwable throwable) {\n    // When the throwable is a WebClientResponseException, also log the body\n    if (HttpStatus.resolve(response.rawStatusCode()) != null\n        &amp;&amp; response.statusCode().equals(HttpStatus.INTERNAL_SERVER_ERROR)\n        &amp;&amp; throwable instanceof WebClientResponseException) {\n      logger.error(\n          LogMessage.of(\n              () -&gt;\n                  String.format(\n                      &quot;%s 500 Server Error for %s\\n%s&quot;,\n                      request.exchange().getLogPrefix(),\n                      formatRequest(request),\n                      formatResponseError((WebClientResponseException) throwable))),\n          throwable);\n    } else {\n      super.logError(request, response, throwable);\n    }\n  }\n\n  private String formatRequest(ServerRequest request) {\n    String rawQuery = request.uri().getRawQuery();\n    String query = StringUtils.hasText(rawQuery) ? &quot;?&quot; + rawQuery : &quot;&quot;;\n    return &quot;HTTP &quot; + request.methodName() + &quot; \\&quot;&quot; + request.path() + query + &quot;\\&quot;&quot;;\n  }\n\n  private String formatResponseError(WebClientResponseException exception) {\n    return String.format(\n        &quot;%-15s %s\\n%-15s %s\\n%-15s %d\\n%-15s %s\\n%-15s '%s'&quot;,\n        &quot;  Message:&quot;,\n        exception.getMessage(),\n        &quot;  Status:&quot;,\n        exception.getStatusText(),\n        &quot;  Status Code:&quot;,\n        exception.getRawStatusCode(),\n        &quot;  Headers:&quot;,\n        exception.getHeaders(),\n        &quot;  Body:&quot;,\n        exception.getResponseBodyAsString());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916639,"reputation":553,"user_id":10001916,"display_name":"a5tr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675478116,"creation_date":1675478116,"answer_id":75342590,"question_id":44593066,"body_markdown":"You have to cast the &quot;Throwable e&quot; parameter to WebClientResponseException, then you can call getResponseBodyAsString() : \r\n\r\n        WebClient webClient = WebClient.create(&quot;https://httpstat.us/404&quot;);\r\n        Mono&lt;Object&gt; monoObject = webClient.get().retrieve().bodyToMono(Object.class);\r\n        monoObject.doOnError(e -&gt; {\r\n            if( e instanceof WebClientResponseException ){\r\n                System.out.println(\r\n                    &quot;ResponseBody = &quot; + \r\n                        ((WebClientResponseException) e).getResponseBodyAsString() \r\n                );\r\n            }\r\n        }).subscribe();\r\n        // Display : ResponseBody = 404 Not Found","title":"Spring Webflux : Webclient : Get body on error","body":"<p>You have to cast the &quot;Throwable e&quot; parameter to WebClientResponseException, then you can call getResponseBodyAsString() :</p>\n<pre><code>    WebClient webClient = WebClient.create(&quot;https://httpstat.us/404&quot;);\n    Mono&lt;Object&gt; monoObject = webClient.get().retrieve().bodyToMono(Object.class);\n    monoObject.doOnError(e -&gt; {\n        if( e instanceof WebClientResponseException ){\n            System.out.println(\n                &quot;ResponseBody = &quot; + \n                    ((WebClientResponseException) e).getResponseBodyAsString() \n            );\n        }\n    }).subscribe();\n    // Display : ResponseBody = 404 Not Found\n</code></pre>\n"}],"owner":{"account_id":1339883,"reputation":963,"user_id":1281789,"accept_rate":83,"display_name":"adrien le roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162699,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"accepted_answer_id":44947916,"answer_count":14,"score":52,"last_activity_date":1675478116,"creation_date":1497627287,"question_id":44593066,"body_markdown":"I am using the webclient from spring webflux, like this :\r\n\r\n\r\n    WebClient.create()\r\n                .post()\r\n                .uri(url)\r\n                .syncBody(body)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .headers(headers)\r\n                .exchange()\r\n                .flatMap(clientResponse -&gt; clientResponse.bodyToMono(tClass));\r\n\r\nIt is working well. \r\nI now want to handle the error from the webservice I am calling (Ex 500 internal error). Normally i would add an doOnError on the &quot;stream&quot; and isu the Throwable to test the status code, \r\n\r\nBut my issue is that I want to get the body provided by the webservice because it is providing me a message that i would like to use.\r\n\r\nI am looking to do the flatMap whatever happen and test myself the status code to deserialize or not the body.\r\n\r\n\r\n\r\n","title":"Spring Webflux : Webclient : Get body on error","body":"<p>I am using the webclient from spring webflux, like this :</p>\n\n<pre><code>WebClient.create()\n            .post()\n            .uri(url)\n            .syncBody(body)\n            .accept(MediaType.APPLICATION_JSON)\n            .headers(headers)\n            .exchange()\n            .flatMap(clientResponse -&gt; clientResponse.bodyToMono(tClass));\n</code></pre>\n\n<p>It is working well. \nI now want to handle the error from the webservice I am calling (Ex 500 internal error). Normally i would add an doOnError on the \"stream\" and isu the Throwable to test the status code, </p>\n\n<p>But my issue is that I want to get the body provided by the webservice because it is providing me a message that i would like to use.</p>\n\n<p>I am looking to do the flatMap whatever happen and test myself the status code to deserialize or not the body.</p>\n"},{"tags":["javascript","java","google-apps-script","google-sheets","google-slides-api"],"answers":[{"tags":[],"owner":{"account_id":9571025,"reputation":187024,"user_id":7108653,"display_name":"Tanaike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675476574,"creation_date":1675476574,"answer_id":75342520,"question_id":75338488,"body_markdown":"In your script, please modify it as follows.\r\n\r\n### From:\r\n\ttextBox.getText().getParagraphs()\\[0\\].setAlignment(alignment);\r\n\r\n### To:\r\n\ttextBox.getText().getParagraphStyle().setParagraphAlignment(alignment);\r\n\r\n### Note:\r\n- I thought that `const texts = columns.map((column) =&gt; sheet.getRange(column + lastRow).getValue());` can be modified to `const texts = sheet.getRange(sheet.getLastRow(), 1, 1, 3).getDisplayValues()[0];`.\r\n\r\n- In your script, it seems that `[` and `]` are escaped. I&#39;m worried about this. So, I would like to add the modified script as follows.\r\n\r\n\t\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function testinsertTextOnImage() {\r\n      const fileId = &quot;###&quot;;\r\n      const sheetId = &quot;###&quot;;\r\n\r\n      const columns = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;];\r\n      const sheet = SpreadsheetApp.openById(sheetId).getSheetByName(&quot;Blad1&quot;);\r\n      const lastRow = sheet.getLastRow();\r\n      const texts = sheet.getRange(sheet.getLastRow(), 1, 1, 3).getDisplayValues()[0];\r\n      const textProperties = [\r\n        { text: texts[0], left: 500, top: 475, width: 880, height: 80, fontSize: 150, fontFamily: &quot;Tangerine&quot;, alignment: SlidesApp.ParagraphAlignment.CENTER, },\r\n        { text: texts[1], left: 320, top: 660, width: 1000, height: 120, fontSize: 30, fontFamily: &quot;Questrial&quot;, alignment: SlidesApp.ParagraphAlignment.CENTER },\r\n        { text: texts[2], left: 920, top: 830, width: 180, height: 60, fontSize: 30, fontFamily: &quot;Questrial&quot;, alignment: SlidesApp.ParagraphAlignment.CENTER },\r\n      ];\r\n      const file = DriveApp.getFileById(fileId);\r\n      const blob = file.getBlob();\r\n      const size = ImgApp.getSize(blob);\r\n      const presentation = {\r\n        title: &quot;Result&quot;,\r\n        width: { unit: &quot;pixel&quot;, size: size.width },\r\n        height: { unit: &quot;pixel&quot;, size: size.height },\r\n      };\r\n      const presentationId = DocsServiceApp.createNewSlidesWithPageSize(presentation);\r\n      const slides = SlidesApp.openById(presentationId);\r\n      const slide = slides.getSlides()[0];\r\n      slide.insertImage(blob);\r\n      textProperties.forEach(({ text, left, top, width, height, fontSize, fontFamily, alignment }) =&gt; {\r\n        const textBox = slide.insertTextBox(text, left, top, width, height);\r\n        const textStyle = textBox.getText().getTextStyle();\r\n        textStyle.setFontSize(fontSize).setFontFamily(fontFamily);\r\n        textBox.getText().getParagraphStyle().setParagraphAlignment(alignment);\r\n      });\r\n      slides.saveAndClose();\r\n      const obj = Slides.Presentations.Pages.getThumbnail(\r\n        presentationId,\r\n        slide.getObjectId(),\r\n        { &quot;thumbnailProperties.thumbnailSize&quot;: &quot;LARGE&quot;, &quot;thumbnailProperties.mimeType&quot;: &quot;PNG&quot; }\r\n      );\r\n      const url = obj.contentUrl.replace(/=s\\\\d+/, &quot;=s&quot; + size.width);\r\n      const resultBlob = UrlFetchApp.fetch(url).getBlob().setName(&quot;Result_&quot; + file.getName());\r\n      DriveApp.createFile(resultBlob);\r\n      DriveApp.getFileById(presentationId).setTrashed(true);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- From your showing script, I guessed that you might have used [the sample script of my post](https://tanaikech.github.io/2020/10/13/inserting-text-on-image-using-google-apps-script/). In this post, more information can be seen.\r\n\r\n### Reference:\r\n- [setParagraphAlignment(alignment)](https://developers.google.com/apps-script/reference/slides/paragraph-style#setparagraphalignmentalignment)\r\n","title":"Aligning text in the center of a text box using Google app script for slides","body":"<p>In your script, please modify it as follows.</p>\n<h3>From:</h3>\n<pre><code>textBox.getText().getParagraphs()\\[0\\].setAlignment(alignment);\n</code></pre>\n<h3>To:</h3>\n<pre><code>textBox.getText().getParagraphStyle().setParagraphAlignment(alignment);\n</code></pre>\n<h3>Note:</h3>\n<ul>\n<li><p>I thought that <code>const texts = columns.map((column) =&gt; sheet.getRange(column + lastRow).getValue());</code> can be modified to <code>const texts = sheet.getRange(sheet.getLastRow(), 1, 1, 3).getDisplayValues()[0];</code>.</p>\n</li>\n<li><p>In your script, it seems that <code>[</code> and <code>]</code> are escaped. I'm worried about this. So, I would like to add the modified script as follows.</p>\n</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function testinsertTextOnImage() {\n  const fileId = \"###\";\n  const sheetId = \"###\";\n\n  const columns = [\"A\", \"B\", \"C\"];\n  const sheet = SpreadsheetApp.openById(sheetId).getSheetByName(\"Blad1\");\n  const lastRow = sheet.getLastRow();\n  const texts = sheet.getRange(sheet.getLastRow(), 1, 1, 3).getDisplayValues()[0];\n  const textProperties = [\n    { text: texts[0], left: 500, top: 475, width: 880, height: 80, fontSize: 150, fontFamily: \"Tangerine\", alignment: SlidesApp.ParagraphAlignment.CENTER, },\n    { text: texts[1], left: 320, top: 660, width: 1000, height: 120, fontSize: 30, fontFamily: \"Questrial\", alignment: SlidesApp.ParagraphAlignment.CENTER },\n    { text: texts[2], left: 920, top: 830, width: 180, height: 60, fontSize: 30, fontFamily: \"Questrial\", alignment: SlidesApp.ParagraphAlignment.CENTER },\n  ];\n  const file = DriveApp.getFileById(fileId);\n  const blob = file.getBlob();\n  const size = ImgApp.getSize(blob);\n  const presentation = {\n    title: \"Result\",\n    width: { unit: \"pixel\", size: size.width },\n    height: { unit: \"pixel\", size: size.height },\n  };\n  const presentationId = DocsServiceApp.createNewSlidesWithPageSize(presentation);\n  const slides = SlidesApp.openById(presentationId);\n  const slide = slides.getSlides()[0];\n  slide.insertImage(blob);\n  textProperties.forEach(({ text, left, top, width, height, fontSize, fontFamily, alignment }) =&gt; {\n    const textBox = slide.insertTextBox(text, left, top, width, height);\n    const textStyle = textBox.getText().getTextStyle();\n    textStyle.setFontSize(fontSize).setFontFamily(fontFamily);\n    textBox.getText().getParagraphStyle().setParagraphAlignment(alignment);\n  });\n  slides.saveAndClose();\n  const obj = Slides.Presentations.Pages.getThumbnail(\n    presentationId,\n    slide.getObjectId(),\n    { \"thumbnailProperties.thumbnailSize\": \"LARGE\", \"thumbnailProperties.mimeType\": \"PNG\" }\n  );\n  const url = obj.contentUrl.replace(/=s\\\\d+/, \"=s\" + size.width);\n  const resultBlob = UrlFetchApp.fetch(url).getBlob().setName(\"Result_\" + file.getName());\n  DriveApp.createFile(resultBlob);\n  DriveApp.getFileById(presentationId).setTrashed(true);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>From your showing script, I guessed that you might have used <a href=\"https://tanaikech.github.io/2020/10/13/inserting-text-on-image-using-google-apps-script/\" rel=\"nofollow noreferrer\">the sample script of my post</a>. In this post, more information can be seen.</li>\n</ul>\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/slides/paragraph-style#setparagraphalignmentalignment\" rel=\"nofollow noreferrer\">setParagraphAlignment(alignment)</a></li>\n</ul>\n"}],"owner":{"account_id":27696247,"reputation":3,"user_id":21141913,"display_name":"MvD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75342520,"answer_count":1,"score":0,"last_activity_date":1675476574,"creation_date":1675441590,"question_id":75338488,"body_markdown":"I am working on a project that requires text to be aligned in the center of a text box on a google slide, using a google app script.\r\n\r\nThe goal is to pull text from a google worksheet. Then pull an image from google drive and add the pulled worksheet text, by adding both to a google slide with the resolution of the image. After this, export the slide to create a new image, and add this to google drive.\r\n\r\nThe code does work, which is great, but when I try to align the pulled texts in the middle of their textboxes, I keep getting an error. Hope someone can help me out.\r\n\r\n*I used the libraries: &quot;DocsServiceApp&quot;, &quot;ImgApp&quot;, and have the &quot;slidesAPI&quot; enabled*\r\n\r\n```\r\n`function testinsertTextOnImage() {\r\nconst fileId = &quot;1PU6GexJ....tiNkwRum2xYxYP&quot;;\r\nconst sheetId = &quot;1_5bZsO6YJb8eS....9sgIao9C1uYxt_z2GBDjw&quot;;\r\nconst columns = \\[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;\\];\r\n\r\nconst sheet = SpreadsheetApp.openById(sheetId).getSheetByName(&quot;Blad1&quot;);\r\nconst lastRow = sheet.getLastRow();\r\nconst texts = columns.map((column) =\\&gt; sheet.getRange(column + lastRow).getValue());\r\n\r\nconst textProperties = \\[    {      text: texts\\[0\\],\r\nleft: 500,\r\ntop: 475,\r\nwidth: 880,\r\nheight: 80,\r\nfontSize: 150,\r\nfontFamily: &quot;Tangerine&quot;,\r\nalignment: SlidesApp.ParagraphAlignment.CENTER,\r\n},\r\n{\r\ntext: texts\\[1\\],\r\nleft: 320,\r\ntop: 660,\r\nwidth: 1000,\r\nheight: 120,\r\nfontSize: 30,\r\nfontFamily: &quot;Questrial&quot;,\r\nalignment: SlidesApp.ParagraphAlignment.CENTER,\r\n},\r\n{\r\ntext: texts\\[2\\],\r\nleft: 920,\r\ntop: 830,\r\nwidth: 180,\r\nheight: 60,\r\nfontSize: 30,\r\nfontFamily: &quot;Questrial&quot;,\r\nalignment: SlidesApp.ParagraphAlignment.CENTER\r\n},\r\n\\];\r\n\r\nconst file = DriveApp.getFileById(fileId);\r\nconst blob = file.getBlob();\r\nconst size = ImgApp.getSize(blob);\r\n\r\nconst presentation = {\r\ntitle: &quot;Result&quot;,\r\nwidth: { unit: &quot;pixel&quot;, size: size.width },\r\nheight: { unit: &quot;pixel&quot;, size: size.height },\r\n};\r\nconst presentationId = DocsServiceApp.createNewSlidesWithPageSize(presentation);\r\n\r\nconst slides = SlidesApp.openById(presentationId);\r\nconst slide = slides.getSlides()\\[0\\];\r\nslide.insertImage(blob);\r\ntextProperties.forEach(({ text, left, top, width, height, fontSize, fontFamily, alignment }) =\\&gt; {\r\nconst textBox = slide.insertTextBox(text, left, top, width, height);\r\nconst textStyle = textBox.getText().getTextStyle();\r\ntextStyle.setFontSize(fontSize).setFontFamily(fontFamily);\r\ntextBox.getText().getParagraphs()\\[0\\].setAlignment(alignment);\r\n});\r\nslides.saveAndClose();\r\n\r\nconst obj = Slides.Presentations.Pages.getThumbnail(\r\npresentationId,\r\nslide.getObjectId(),\r\n{\r\n&quot;thumbnailProperties.thumbnailSize&quot;: &quot;LARGE&quot;,\r\n&quot;thumbnailProperties.mimeType&quot;: &quot;PNG&quot;,\r\n}\r\n);\r\nconst url = obj.contentUrl.replace(/=s\\\\d+/, &quot;=s&quot; + size.width);\r\nconst resultBlob = UrlFetchApp.fetch(url)\r\n.getBlob()\r\n.setName(&quot;Result\\_&quot; + file.getName());\r\nDriveApp.createFile(resultBlob);\r\nDriveApp.getFileById(presentationId).setTrashed(true);\r\n}`\r\n```","title":"Aligning text in the center of a text box using Google app script for slides","body":"<p>I am working on a project that requires text to be aligned in the center of a text box on a google slide, using a google app script.</p>\n<p>The goal is to pull text from a google worksheet. Then pull an image from google drive and add the pulled worksheet text, by adding both to a google slide with the resolution of the image. After this, export the slide to create a new image, and add this to google drive.</p>\n<p>The code does work, which is great, but when I try to align the pulled texts in the middle of their textboxes, I keep getting an error. Hope someone can help me out.</p>\n<p><em>I used the libraries: &quot;DocsServiceApp&quot;, &quot;ImgApp&quot;, and have the &quot;slidesAPI&quot; enabled</em></p>\n<pre><code>`function testinsertTextOnImage() {\nconst fileId = &quot;1PU6GexJ....tiNkwRum2xYxYP&quot;;\nconst sheetId = &quot;1_5bZsO6YJb8eS....9sgIao9C1uYxt_z2GBDjw&quot;;\nconst columns = \\[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;\\];\n\nconst sheet = SpreadsheetApp.openById(sheetId).getSheetByName(&quot;Blad1&quot;);\nconst lastRow = sheet.getLastRow();\nconst texts = columns.map((column) =\\&gt; sheet.getRange(column + lastRow).getValue());\n\nconst textProperties = \\[    {      text: texts\\[0\\],\nleft: 500,\ntop: 475,\nwidth: 880,\nheight: 80,\nfontSize: 150,\nfontFamily: &quot;Tangerine&quot;,\nalignment: SlidesApp.ParagraphAlignment.CENTER,\n},\n{\ntext: texts\\[1\\],\nleft: 320,\ntop: 660,\nwidth: 1000,\nheight: 120,\nfontSize: 30,\nfontFamily: &quot;Questrial&quot;,\nalignment: SlidesApp.ParagraphAlignment.CENTER,\n},\n{\ntext: texts\\[2\\],\nleft: 920,\ntop: 830,\nwidth: 180,\nheight: 60,\nfontSize: 30,\nfontFamily: &quot;Questrial&quot;,\nalignment: SlidesApp.ParagraphAlignment.CENTER\n},\n\\];\n\nconst file = DriveApp.getFileById(fileId);\nconst blob = file.getBlob();\nconst size = ImgApp.getSize(blob);\n\nconst presentation = {\ntitle: &quot;Result&quot;,\nwidth: { unit: &quot;pixel&quot;, size: size.width },\nheight: { unit: &quot;pixel&quot;, size: size.height },\n};\nconst presentationId = DocsServiceApp.createNewSlidesWithPageSize(presentation);\n\nconst slides = SlidesApp.openById(presentationId);\nconst slide = slides.getSlides()\\[0\\];\nslide.insertImage(blob);\ntextProperties.forEach(({ text, left, top, width, height, fontSize, fontFamily, alignment }) =\\&gt; {\nconst textBox = slide.insertTextBox(text, left, top, width, height);\nconst textStyle = textBox.getText().getTextStyle();\ntextStyle.setFontSize(fontSize).setFontFamily(fontFamily);\ntextBox.getText().getParagraphs()\\[0\\].setAlignment(alignment);\n});\nslides.saveAndClose();\n\nconst obj = Slides.Presentations.Pages.getThumbnail(\npresentationId,\nslide.getObjectId(),\n{\n&quot;thumbnailProperties.thumbnailSize&quot;: &quot;LARGE&quot;,\n&quot;thumbnailProperties.mimeType&quot;: &quot;PNG&quot;,\n}\n);\nconst url = obj.contentUrl.replace(/=s\\\\d+/, &quot;=s&quot; + size.width);\nconst resultBlob = UrlFetchApp.fetch(url)\n.getBlob()\n.setName(&quot;Result\\_&quot; + file.getName());\nDriveApp.createFile(resultBlob);\nDriveApp.getFileById(presentationId).setTrashed(true);\n}`\n</code></pre>\n"},{"tags":["java","spring","rest","soap"],"owner":{"account_id":4612118,"reputation":11,"user_id":3739884,"display_name":"ven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675476319,"creation_date":1675476319,"question_id":75342510,"body_markdown":"I need to add oauth to a soap url. I know how to do it for rest api but not for soap. Can anyone help me with a sample code for a url in java\r\n\r\nURL is like : http://example.org.com/TempRefWS1/TestRefWS\r\n\r\nNeed a sample code on how to add oauth for a soap url","title":"Need to add Oauth to Soap","body":"<p>I need to add oauth to a soap url. I know how to do it for rest api but not for soap. Can anyone help me with a sample code for a url in java</p>\n<p>URL is like : <a href=\"http://example.org.com/TempRefWS1/TestRefWS\" rel=\"nofollow noreferrer\">http://example.org.com/TempRefWS1/TestRefWS</a></p>\n<p>Need a sample code on how to add oauth for a soap url</p>\n"},{"tags":["java","io","inputstream"],"answers":[{"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283949746,"post_id":3667802,"comment_id":3859779,"body_markdown":"Good, but are there any reasons for the Java API not to close an InputStream after it ended? (Thus implying close on end, which wouldn&#39;t be much that problem as far I understand)","body":"Good, but are there any reasons for the Java API not to close an InputStream after it ended? (Thus implying close on end, which wouldn&#39;t be much that problem as far I understand)"}],"tags":[],"owner":{"account_id":43462,"reputation":60851,"user_id":127059,"accept_rate":90,"display_name":"Femaref"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283949635,"creation_date":1283949635,"answer_id":3667802,"question_id":3667755,"body_markdown":" I&#39;m not aware of the semantics connected with InputStream in java, but in general, you might not close a stream because you didn&#39;t open it yourself and just did work on it, and rely on the calling party (another method) to close the stream. If you opened the stream yourself, you shoudl always close it.","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>I'm not aware of the semantics connected with InputStream in java, but in general, you might not close a stream because you didn't open it yourself and just did work on it, and rely on the calling party (another method) to close the stream. If you opened the stream yourself, you shoudl always close it.</p>\n"},{"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283949929,"post_id":3667806,"comment_id":3859816,"body_markdown":"My question was about InputStream (and Reader), not Closeable in general. I&#39;m mot aware of rewindable InputStreams or Readers.","body":"My question was about InputStream (and Reader), not Closeable in general. I&#39;m mot aware of rewindable InputStreams or Readers."},{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283950429,"post_id":3667806,"comment_id":3859896,"body_markdown":"Ah, ok, it&#39;s about mark and reset, I forgot they&#39;re methods of InputStream / Reader.","body":"Ah, ok, it&#39;s about mark and reset, I forgot they&#39;re methods of InputStream / Reader."},{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283950470,"post_id":3667806,"comment_id":3859908,"body_markdown":"So, that **is** indeed a good reason which makes a lot of sense.","body":"So, that <b>is</b> indeed a good reason which makes a lot of sense."},{"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"score":0,"creation_date":1283950498,"post_id":3667806,"comment_id":3859913,"body_markdown":"Well, yes. I was thinking `InputStream` was an interface instead of an  abstract class.","body":"Well, yes. I was thinking <code>InputStream</code> was an interface instead of an  abstract class."},{"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"score":0,"creation_date":1283950608,"post_id":3667806,"comment_id":3859937,"body_markdown":"I am not 100% sure, but it is quite resasonable to expect `FileInputStream`, `ByteArrayInputStream` and `StringReader` to support `mark()` and `reset()`","body":"I am not 100% sure, but it is quite resasonable to expect <code>FileInputStream</code>, <code>ByteArrayInputStream</code> and <code>StringReader</code> to support <code>mark()</code> and <code>reset()</code>"}],"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1283949663,"creation_date":1283949663,"answer_id":3667806,"question_id":3667755,"body_markdown":"`mark()` and `reset()` allow you to &quot;go back&quot; in some implementations of the interface.\r\n\r\nThis is useful when implementing parsers and matching regexps as you usually want to [lookahead][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Lookahead","title":"What sense could it make not to close an InputStream after it ended?","body":"<p><code>mark()</code> and <code>reset()</code> allow you to \"go back\" in some implementations of the interface.</p>\n\n<p>This is useful when implementing parsers and matching regexps as you usually want to <a href=\"http://en.wikipedia.org/wiki/Lookahead\" rel=\"noreferrer\">lookahead</a>.</p>\n"},{"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283949826,"post_id":3667809,"comment_id":3859792,"body_markdown":"Do you mean, there are subclasses of `Inputstream` or `Reader` which can be rewound?","body":"Do you mean, there are subclasses of <code>Inputstream</code> or <code>Reader</code> which can be rewound?"},{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":1,"creation_date":1283950120,"post_id":3667809,"comment_id":3859844,"body_markdown":"@java.is.for.desktop.  Yes, if `markSupported` returns true, then you can `mark` and `reset` stream position.  gpeche put it in his answer.","body":"@java.is.for.desktop.  Yes, if <code>markSupported</code> returns true, then you can <code>mark</code> and <code>reset</code> stream position.  gpeche put it in his answer."}],"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283949681,"creation_date":1283949681,"answer_id":3667809,"question_id":3667755,"body_markdown":"In response to your comment to org.life.java\r\n\r\n&gt; I know, and the question was: why an\r\n&gt; end of an InputStream does not imply\r\n&gt; close()?\r\n\r\nBecause, for some streams, you can rewind them and start reading again.  For others, e.g. Sockets, it&#39;s not possible, but they have to obey the contract rules.\r\n\r\nAlso, because that&#39;s how you should close stream ( exception handling not shown ):\r\n\r\n    InputStream stream = openMethod( );\r\n    \r\n    try\r\n    {\r\n       consumeMethod( stream );\r\n    }\r\n    finally\r\n    {\r\n       stream.close( );\r\n    }\r\n\r\nIn other words, you should release acquired resources regardless whether you totally consumed the stream or not.\r\n","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>In response to your comment to org.life.java</p>\n\n<blockquote>\n  <p>I know, and the question was: why an\n  end of an InputStream does not imply\n  close()?</p>\n</blockquote>\n\n<p>Because, for some streams, you can rewind them and start reading again.  For others, e.g. Sockets, it's not possible, but they have to obey the contract rules.</p>\n\n<p>Also, because that's how you should close stream ( exception handling not shown ):</p>\n\n<pre><code>InputStream stream = openMethod( );\n\ntry\n{\n   consumeMethod( stream );\n}\nfinally\n{\n   stream.close( );\n}\n</code></pre>\n\n<p>In other words, you should release acquired resources regardless whether you totally consumed the stream or not.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283949714,"creation_date":1283949714,"answer_id":3667812,"question_id":3667755,"body_markdown":"Implicitly closing would not be so good, because\r\n\r\n - it would only be done when the stream has reached its end, which may not be the case always (some exceptions occur on the way, or you only read the first bytes of a file), so you have to handle these other cases anyway. Having an implicit close that almost always works makes people even more forgetful about their finally blocks.\r\n - some streams can be rewound (mark/reset).\r\n","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>Implicitly closing would not be so good, because</p>\n\n<ul>\n<li>it would only be done when the stream has reached its end, which may not be the case always (some exceptions occur on the way, or you only read the first bytes of a file), so you have to handle these other cases anyway. Having an implicit close that almost always works makes people even more forgetful about their finally blocks.</li>\n<li>some streams can be rewound (mark/reset).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1283950061,"post_id":3667842,"comment_id":3859837,"body_markdown":"Well, this reason makes sense! Sadly, that it isn&#39;t documented in Javadoc.","body":"Well, this reason makes sense! Sadly, that it isn&#39;t documented in Javadoc."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1283950242,"post_id":3667842,"comment_id":3859862,"body_markdown":"This is platform dependent behaviour.  You don&#39;t want to do things like that unless you know exactly what you are doing, since this paradigm will break on Unix platforms.","body":"This is platform dependent behaviour.  You don&#39;t want to do things like that unless you know exactly what you are doing, since this paradigm will break on Unix platforms."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1283950267,"post_id":3667842,"comment_id":3859868,"body_markdown":"It cannot/should not be documented in Javadoc, because it is platform-specific (only works that way in Windows).","body":"It cannot/should not be documented in Javadoc, because it is platform-specific (only works that way in Windows)."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1283949941,"creation_date":1283949941,"answer_id":3667842,"question_id":3667755,"body_markdown":"A reason under Windows could be to keep the file locked.  Open files cannot be renamed, deleted or moved.\r\n","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>A reason under Windows could be to keep the file locked.  Open files cannot be renamed, deleted or moved.</p>\n"},{"tags":[],"owner":{"account_id":22262,"reputation":21774,"user_id":54742,"accept_rate":100,"display_name":"Jeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1283950071,"creation_date":1283950071,"answer_id":3667862,"question_id":3667755,"body_markdown":"You can `mark()` and `reset()` an InputStream.  Therefore, once you reach the end of the data, you can still return to the position that you marked.  Someone who wants to `reset()` an InputStream might not want it to close at the end.","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>You can <code>mark()</code> and <code>reset()</code> an InputStream.  Therefore, once you reach the end of the data, you can still return to the position that you marked.  Someone who wants to <code>reset()</code> an InputStream might not want it to close at the end.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283970800,"creation_date":1283970800,"answer_id":3670836,"question_id":3667755,"body_markdown":"Judging from InputStream&#39;s API, there is no problem for a particular implementation to do that, i.e. close upon end of stream. It is probably a very good idea for a lot of streams.","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>Judging from InputStream's API, there is no problem for a particular implementation to do that, i.e. close upon end of stream. It is probably a very good idea for a lot of streams.</p>\n"},{"tags":[],"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675475569,"creation_date":1675475569,"answer_id":75342474,"question_id":3667755,"body_markdown":"There is a subtle use case for not closing an input stream after it ends: wrapped streams. By default, closing the wrapper (like FilterInputStream) will close the underlying stream. Sometimes you want to stop using a wrapper but continue using the underlying stream, so you have to simply discard the wrapper without calling close.\r\n\r\nConsider this example:\r\n\r\n    try (InputStream in0 = new FileInputStream(...)) {\r\n        int len = (...);\r\n        // Hypothetical class `BoundedInputStream`\r\n        InputStream in1 = new BoundedInputStream(in0, len);\r\n        while (in1.read() != -1);  // Discard bytes until end\r\n        // Now stop using in1 without calling close(),\r\n        // because in1.close() would trigger in0.close()\r\n        \r\n        // Read more data in a different way\r\n        DataInput in2 = new DataInputStream(in0);\r\n        long x = in1.readLong();  // Reads exactly 8 bytes\r\n        // We can neglect in2 without calling close() because\r\n        // itself doesn&#39;t hold any limited resources like file handles\r\n        \r\n        // Read more data in a different way\r\n        CheckedInputStream in3 = new CheckedInputStream(in0);\r\n        (...)\r\n        \r\n        // Ultimately call in0.close() directly\r\n    }","title":"What sense could it make not to close an InputStream after it ended?","body":"<p>There is a subtle use case for not closing an input stream after it ends: wrapped streams. By default, closing the wrapper (like FilterInputStream) will close the underlying stream. Sometimes you want to stop using a wrapper but continue using the underlying stream, so you have to simply discard the wrapper without calling close.</p>\n<p>Consider this example:</p>\n<pre><code>try (InputStream in0 = new FileInputStream(...)) {\n    int len = (...);\n    // Hypothetical class `BoundedInputStream`\n    InputStream in1 = new BoundedInputStream(in0, len);\n    while (in1.read() != -1);  // Discard bytes until end\n    // Now stop using in1 without calling close(),\n    // because in1.close() would trigger in0.close()\n    \n    // Read more data in a different way\n    DataInput in2 = new DataInputStream(in0);\n    long x = in1.readLong();  // Reads exactly 8 bytes\n    // We can neglect in2 without calling close() because\n    // itself doesn't hold any limited resources like file handles\n    \n    // Read more data in a different way\n    CheckedInputStream in3 = new CheckedInputStream(in0);\n    (...)\n    \n    // Ultimately call in0.close() directly\n}\n</code></pre>\n"}],"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3667806,"answer_count":8,"score":5,"last_activity_date":1675475569,"creation_date":1283949217,"question_id":3667755,"body_markdown":"`InputStream` implements `Closeable`.\r\n\r\nI understand, that closing an InputStream **which not ended yet**, could make sense to free some underlying resources, and, leaving it open, could make sense to let other methods continue to read from it.\r\n\r\nBut, what sense could it have **not** to close an InputStream **after it ended**?  \r\nAnd if it doesn&#39;t make sense, why reaching the end of an InpuntStream does not imply closing then?\r\n\r\n*Same question would apply to `Reader`.*","title":"What sense could it make not to close an InputStream after it ended?","body":"<p><code>InputStream</code> implements <code>Closeable</code>.</p>\n\n<p>I understand, that closing an InputStream <strong>which not ended yet</strong>, could make sense to free some underlying resources, and, leaving it open, could make sense to let other methods continue to read from it.</p>\n\n<p>But, what sense could it have <strong>not</strong> to close an InputStream <strong>after it ended</strong>?<br>\nAnd if it doesn't make sense, why reaching the end of an InpuntStream does not imply closing then?</p>\n\n<p><em>Same question would apply to <code>Reader</code>.</em></p>\n"},{"tags":["java","jar","javadoc"],"answers":[{"comments":[{"owner":{"account_id":22234180,"reputation":15,"user_id":16469838,"display_name":"Solus Bellator"},"score":0,"creation_date":1675468237,"post_id":75342030,"comment_id":132942831,"body_markdown":"Yet how did Oracle (or others) do it? If I have to host it somewhere - fine. I got some web space. But I wanna know how to set up everything so my partner can simply include the library and have documentation on mouseover.","body":"Yet how did Oracle (or others) do it? If I have to host it somewhere - fine. I got some web space. But I wanna know how to set up everything so my partner can simply include the library and have documentation on mouseover."},{"owner":{"account_id":22234180,"reputation":15,"user_id":16469838,"display_name":"Solus Bellator"},"score":0,"creation_date":1675468737,"post_id":75342030,"comment_id":132942893,"body_markdown":"I&#39;ve read that the doc can be bundled as a JAR as well and then distributed - but how do I make sure it is recognized and works in the IDE, so someone else can look it up without having to open a website or whatever? I need offline availability once they have the files.\n\nWhat confuses me is that looking at the JDK (openjdk-19 in my case), I did not see a folder containing any doc. Furthermore, there are no class files - only java files. That&#39;s why I wondered how it works.","body":"I&#39;ve read that the doc can be bundled as a JAR as well and then distributed - but how do I make sure it is recognized and works in the IDE, so someone else can look it up without having to open a website or whatever? I need offline availability once they have the files.  What confuses me is that looking at the JDK (openjdk-19 in my case), I did not see a folder containing any doc. Furthermore, there are no class files - only java files. That&#39;s why I wondered how it works."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675468125,"creation_date":1675468125,"answer_id":75342030,"question_id":75342020,"body_markdown":"Because it isn&#39;t needed, and would bloat the file size of the executable.  If you have a library in C or C++, the documentation may be bundled in a zip file, but you won&#39;t find it in the compiled .so or .dll.  One just holds the binary and resources needed for the project.  The .jar is equivalent of that-  it&#39;s the compiled output.  Documentation is hosted/downloaded separately.\r\n\r\nWhen you download the JDK, you&#39;re not just downloading a giant .jar.  It includes other things, like documentation in the download.","title":"How to include Javadoc in a library JAR?","body":"<p>Because it isn't needed, and would bloat the file size of the executable.  If you have a library in C or C++, the documentation may be bundled in a zip file, but you won't find it in the compiled .so or .dll.  One just holds the binary and resources needed for the project.  The .jar is equivalent of that-  it's the compiled output.  Documentation is hosted/downloaded separately.</p>\n<p>When you download the JDK, you're not just downloading a giant .jar.  It includes other things, like documentation in the download.</p>\n"},{"tags":[],"owner":{"account_id":22234180,"reputation":15,"user_id":16469838,"display_name":"Solus Bellator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675471855,"creation_date":1675471508,"answer_id":75342276,"question_id":75342020,"body_markdown":"Alright, if everyone ever has this probelm again, here&#39;s a complete tutorial:\r\n\r\nAs @Gabe Sechan already said, the Doc is not compiled into the JAR for some valid reasons. Instead, I recommend you to add the following to your JAR:\r\n\r\n- module compilation output\r\n- content of &quot;src&quot; directory / alternatively: module sources\r\n\r\nBuild --&gt; Artifacts --&gt; All Artifacts.\r\n\r\nNow, if you add your library JAR into a project, it will show &quot;Classes&quot; and &quot;Sources&quot; in the right tab, as IntelliJ automatically recognizes you&#39;ve bundled both into the JAR. \r\n\r\nNow, IntelliJ should show your documentation, as it lives within the source files.\r\n\r\nIf, for some reason, IntelliJ switches from its &quot;fancy&quot; documentation popup to unformatted plain text, proceed as follows:\r\n\r\nNavigate to File -&gt; Settings -&gt; Advanced Settings, and in the 5th block, where it says &quot;Documentation Components&quot;, just tick everything you find. That&#39;s gonna fix it.\r\n\r\nThanks to Gabe Sechan again, your answer helped me to understand what won&#39;t work, and finally I&#39;ve found a way to make it work myself.\r\n","title":"How to include Javadoc in a library JAR?","body":"<p>Alright, if everyone ever has this probelm again, here's a complete tutorial:</p>\n<p>As @Gabe Sechan already said, the Doc is not compiled into the JAR for some valid reasons. Instead, I recommend you to add the following to your JAR:</p>\n<ul>\n<li>module compilation output</li>\n<li>content of &quot;src&quot; directory / alternatively: module sources</li>\n</ul>\n<p>Build --&gt; Artifacts --&gt; All Artifacts.</p>\n<p>Now, if you add your library JAR into a project, it will show &quot;Classes&quot; and &quot;Sources&quot; in the right tab, as IntelliJ automatically recognizes you've bundled both into the JAR.</p>\n<p>Now, IntelliJ should show your documentation, as it lives within the source files.</p>\n<p>If, for some reason, IntelliJ switches from its &quot;fancy&quot; documentation popup to unformatted plain text, proceed as follows:</p>\n<p>Navigate to File -&gt; Settings -&gt; Advanced Settings, and in the 5th block, where it says &quot;Documentation Components&quot;, just tick everything you find. That's gonna fix it.</p>\n<p>Thanks to Gabe Sechan again, your answer helped me to understand what won't work, and finally I've found a way to make it work myself.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675475402,"creation_date":1675473767,"answer_id":75342400,"question_id":75342020,"body_markdown":"&gt; I&#39;d like to know how to correctly build a library that I can share with a team partner, so he just needs to download it, add it as a library in IntelliJ and has all the functionality, but also the documentation.\r\n\r\nThe short answer is that you provide your team partners with your project source code as well as the binaries.  They then can configure their IDE (Intellij, NetBeans, Eclipse, whatever) with the location of the source code and the IDE will be able to extract the javadoc comments on the fly and render them as requested.\r\n\r\nSharing the source code also has the additional benefit that your partners can debug their (and your) code better.  By themselves, javadocs are rarely sufficient for debugging complicated problems.","title":"How to include Javadoc in a library JAR?","body":"<blockquote>\n<p>I'd like to know how to correctly build a library that I can share with a team partner, so he just needs to download it, add it as a library in IntelliJ and has all the functionality, but also the documentation.</p>\n</blockquote>\n<p>The short answer is that you provide your team partners with your project source code as well as the binaries.  They then can configure their IDE (Intellij, NetBeans, Eclipse, whatever) with the location of the source code and the IDE will be able to extract the javadoc comments on the fly and render them as requested.</p>\n<p>Sharing the source code also has the additional benefit that your partners can debug their (and your) code better.  By themselves, javadocs are rarely sufficient for debugging complicated problems.</p>\n"}],"owner":{"account_id":22234180,"reputation":15,"user_id":16469838,"display_name":"Solus Bellator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675475402,"creation_date":1675467896,"question_id":75342020,"body_markdown":"I&#39;m currently trying to write my first own library. It&#39;s just for testing, I want to find out how libraries are written, compiled, distributed and used in order to prepare for some upcoming personal projects.\r\n\r\nYet, what really causes me to wonder, is why exactly my Javadoc isn&#39;t compiled with the Library. I know that comments and annotations are not compiled, but for example the JDK (which is basically a huge library) comes with a working doc as well. \r\n\r\nI&#39;ve tried to compile a JAR (libraries aree normally JARs, right?) from not the compile output, but the sources (so I had a JAR of .java files), but this failed to be included in IntelliJ. I could add it as an external library, but neither did it show up in my explorer, not could I import or use any of my classes.\r\n\r\nI know there must be a mistake somewhere here, all libraries I&#39;ve ver used, whether it was Java, C# or whatever else always came with a working documentation (IntelliJ shold show that on mouse hover), and I&#39;d like to know how to correctly build a library that I can share with a team partner, so he just needs to download it, add it as a library in IntelliJ and has all the functionality, but also the documentation.\r\n\r\nThanks to everyone in advance!","title":"How to include Javadoc in a library JAR?","body":"<p>I'm currently trying to write my first own library. It's just for testing, I want to find out how libraries are written, compiled, distributed and used in order to prepare for some upcoming personal projects.</p>\n<p>Yet, what really causes me to wonder, is why exactly my Javadoc isn't compiled with the Library. I know that comments and annotations are not compiled, but for example the JDK (which is basically a huge library) comes with a working doc as well.</p>\n<p>I've tried to compile a JAR (libraries aree normally JARs, right?) from not the compile output, but the sources (so I had a JAR of .java files), but this failed to be included in IntelliJ. I could add it as an external library, but neither did it show up in my explorer, not could I import or use any of my classes.</p>\n<p>I know there must be a mistake somewhere here, all libraries I've ver used, whether it was Java, C# or whatever else always came with a working documentation (IntelliJ shold show that on mouse hover), and I'd like to know how to correctly build a library that I can share with a team partner, so he just needs to download it, add it as a library in IntelliJ and has all the functionality, but also the documentation.</p>\n<p>Thanks to everyone in advance!</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":2,"creation_date":1675477139,"post_id":75342463,"comment_id":132943705,"body_markdown":"Flatten json&#39;s, merge and unflatten. Map object by object, compare values, pick wanted one. Have you tried anything?","body":"Flatten json&#39;s, merge and unflatten. Map object by object, compare values, pick wanted one. Have you tried anything?"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1675548374,"post_id":75342463,"comment_id":132954103,"body_markdown":"Thank you! I have created an immutable map from the json. However I am still figuring out how to compare element by element and replace values especially since all the objects in my map are immutable.","body":"Thank you! I have created an immutable map from the json. However I am still figuring out how to compare element by element and replace values especially since all the objects in my map are immutable."}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675475332,"creation_date":1675475332,"question_id":75342463,"body_markdown":"I have a Java Map which is deserialized into immutable objects from a json similar to below and has multiple levels of nesting. I have a second Map containing alternate values for some of the strings. The second map has the value appended to the key for the nested levels to differentiate between different elements in an array. I would like to replace the values in the first map using the values found in the second map. Are there any suggestions for the approach that could used to solve the below?\r\n\r\n    {\r\n      &quot;product&quot;: &quot;Internet&quot;,\r\n      &quot;version&quot;: 3.1,\r\n      &quot;releaseDate&quot;: &quot;2014-06-25T00:00:00.000Z&quot;,\r\n      &quot;person&quot;: {\r\n        &quot;id&quot;: 12345,\r\n        &quot;name&quot;: &quot;John Doe&quot;,\r\n        &quot;phones&quot;: {\r\n          &quot;home&quot;: &quot;800-123-4567&quot;,\r\n          &quot;mobile&quot;: &quot;877-123-1234&quot;\r\n        },\r\n        &quot;email&quot;: [\r\n          &quot;jd@example.com&quot;,\r\n          &quot;jd@example.org&quot;\r\n        ],\r\n        &quot;dateOfBirth&quot;: &quot;1980-01-02T00:00:00.000Z&quot;,\r\n        &quot;registered&quot;: true,\r\n        &quot;emergencyContacts&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Jane Doe&quot;,\r\n            &quot;phone&quot;: &quot;888-555-1212&quot;,\r\n            &quot;relationship&quot;: &quot;spouse&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Justin Doe&quot;,\r\n            &quot;phone&quot;: &quot;877-123-1212&quot;,\r\n            &quot;relationship&quot;: &quot;parent&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\n\r\n   Map containing alternate values\r\n\r\n```\r\n    {\r\n      &quot;product&quot;: &quot;Strong Internet&quot;,\r\n      &quot;person.name=John Doe&quot; : &quot;Barry Richards&quot;,\r\n      &quot;person.emergencyContacts.name=Jane Doe&quot; : &quot;Jane Richards&quot;\r\n    }\r\n```\r\n\r\nResulting Map\r\n\r\n```\r\n    {\r\n      &quot;product&quot;: &quot;Strong Internet&quot;,\r\n      &quot;version&quot;: 3.1,\r\n      &quot;releaseDate&quot;: &quot;2014-06-25T00:00:00.000Z&quot;,\r\n      &quot;person&quot;: {\r\n        &quot;id&quot;: 12345,\r\n        &quot;name&quot;: &quot;Barry Richards&quot;,\r\n        &quot;phones&quot;: {\r\n          &quot;home&quot;: &quot;800-123-4567&quot;,\r\n          &quot;mobile&quot;: &quot;877-123-1234&quot;\r\n        },\r\n        &quot;email&quot;: [\r\n          &quot;jd@example.com&quot;,\r\n          &quot;jd@example.org&quot;\r\n        ],\r\n        &quot;dateOfBirth&quot;: &quot;1980-01-02T00:00:00.000Z&quot;,\r\n        &quot;registered&quot;: true,\r\n        &quot;emergencyContacts&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Jane Richards&quot;,\r\n            &quot;phone&quot;: &quot;888-555-1212&quot;,\r\n            &quot;relationship&quot;: &quot;spouse&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Justin Doe&quot;,\r\n            &quot;phone&quot;: &quot;877-123-1212&quot;,\r\n            &quot;relationship&quot;: &quot;parent&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n```","title":"Updating elements in a Map which has immutable objects","body":"<p>I have a Java Map which is deserialized into immutable objects from a json similar to below and has multiple levels of nesting. I have a second Map containing alternate values for some of the strings. The second map has the value appended to the key for the nested levels to differentiate between different elements in an array. I would like to replace the values in the first map using the values found in the second map. Are there any suggestions for the approach that could used to solve the below?</p>\n<pre><code>{\n  &quot;product&quot;: &quot;Internet&quot;,\n  &quot;version&quot;: 3.1,\n  &quot;releaseDate&quot;: &quot;2014-06-25T00:00:00.000Z&quot;,\n  &quot;person&quot;: {\n    &quot;id&quot;: 12345,\n    &quot;name&quot;: &quot;John Doe&quot;,\n    &quot;phones&quot;: {\n      &quot;home&quot;: &quot;800-123-4567&quot;,\n      &quot;mobile&quot;: &quot;877-123-1234&quot;\n    },\n    &quot;email&quot;: [\n      &quot;jd@example.com&quot;,\n      &quot;jd@example.org&quot;\n    ],\n    &quot;dateOfBirth&quot;: &quot;1980-01-02T00:00:00.000Z&quot;,\n    &quot;registered&quot;: true,\n    &quot;emergencyContacts&quot;: [\n      {\n        &quot;name&quot;: &quot;Jane Doe&quot;,\n        &quot;phone&quot;: &quot;888-555-1212&quot;,\n        &quot;relationship&quot;: &quot;spouse&quot;\n      },\n      {\n        &quot;name&quot;: &quot;Justin Doe&quot;,\n        &quot;phone&quot;: &quot;877-123-1212&quot;,\n        &quot;relationship&quot;: &quot;parent&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Map containing alternate values</p>\n<pre><code>    {\n      &quot;product&quot;: &quot;Strong Internet&quot;,\n      &quot;person.name=John Doe&quot; : &quot;Barry Richards&quot;,\n      &quot;person.emergencyContacts.name=Jane Doe&quot; : &quot;Jane Richards&quot;\n    }\n</code></pre>\n<p>Resulting Map</p>\n<pre><code>    {\n      &quot;product&quot;: &quot;Strong Internet&quot;,\n      &quot;version&quot;: 3.1,\n      &quot;releaseDate&quot;: &quot;2014-06-25T00:00:00.000Z&quot;,\n      &quot;person&quot;: {\n        &quot;id&quot;: 12345,\n        &quot;name&quot;: &quot;Barry Richards&quot;,\n        &quot;phones&quot;: {\n          &quot;home&quot;: &quot;800-123-4567&quot;,\n          &quot;mobile&quot;: &quot;877-123-1234&quot;\n        },\n        &quot;email&quot;: [\n          &quot;jd@example.com&quot;,\n          &quot;jd@example.org&quot;\n        ],\n        &quot;dateOfBirth&quot;: &quot;1980-01-02T00:00:00.000Z&quot;,\n        &quot;registered&quot;: true,\n        &quot;emergencyContacts&quot;: [\n          {\n            &quot;name&quot;: &quot;Jane Richards&quot;,\n            &quot;phone&quot;: &quot;888-555-1212&quot;,\n            &quot;relationship&quot;: &quot;spouse&quot;\n          },\n          {\n            &quot;name&quot;: &quot;Justin Doe&quot;,\n            &quot;phone&quot;: &quot;877-123-1212&quot;,\n            &quot;relationship&quot;: &quot;parent&quot;\n          }\n        ]\n      }\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","asynchronous","spring-data-jpa"],"owner":{"account_id":21686495,"reputation":67,"user_id":16001866,"display_name":"Coolroo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675475265,"creation_date":1675472071,"question_id":75342311,"body_markdown":"I am currently working on a program that will have multiple different sequences that a user can activate. Still, they all take similar input e.g. (Select a country then a city, or select another player, then choose a country) that then executes unique code, and I&#39;m trying to figure out what the best way to approach this is.\r\n\r\nRight now I am using CompletableFutures that hold lambda functions that describe the behavior, and then have a set of methods that allow the users to provide input to these futures. EG: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;CountryChoice&gt;&gt; countryChoice;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;Country&gt;&gt; infectChoice;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;Integer&gt;&gt; deathFuture;\r\n\r\n        //Event Futures\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;CitySelection&gt;&gt; citySelectionFuture;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;Country&gt;&gt; countrySelectionFuture;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;TraitCard&gt;&gt; selectTraitCard;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;Continent&gt;&gt; selectContinent;\r\n\r\n        @JsonIgnore\r\n        private Optional&lt;CompletableFuture&lt;Integer&gt;&gt; selectTraitSlot;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHowever, I want to be able to persist this class in a MySQL database, and I&#39;m not sure if persisting a Future is a good idea.\r\n\r\nI am probably approaching this completely wrong, but I&#39;d like to know if anyone here has any insight onto a better implementation/how I can do this better :)\r\n\r\nThanks!","title":"Spring Boot: Handling multi step user input for various similar sequences with serialized data","body":"<p>I am currently working on a program that will have multiple different sequences that a user can activate. Still, they all take similar input e.g. (Select a country then a city, or select another player, then choose a country) that then executes unique code, and I'm trying to figure out what the best way to approach this is.</p>\n<p>Right now I am using CompletableFutures that hold lambda functions that describe the behavior, and then have a set of methods that allow the users to provide input to these futures. EG:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@JsonIgnore\n    private Optional&lt;CompletableFuture&lt;CountryChoice&gt;&gt; countryChoice;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;Country&gt;&gt; infectChoice;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;Integer&gt;&gt; deathFuture;\n\n    //Event Futures\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;CitySelection&gt;&gt; citySelectionFuture;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;Country&gt;&gt; countrySelectionFuture;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;TraitCard&gt;&gt; selectTraitCard;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;Continent&gt;&gt; selectContinent;\n\n    @JsonIgnore\n    private Optional&lt;CompletableFuture&lt;Integer&gt;&gt; selectTraitSlot;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>However, I want to be able to persist this class in a MySQL database, and I'm not sure if persisting a Future is a good idea.</p>\n<p>I am probably approaching this completely wrong, but I'd like to know if anyone here has any insight onto a better implementation/how I can do this better :)</p>\n<p>Thanks!</p>\n"},{"tags":["java","reflection","package"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1259355617,"post_id":1810614,"comment_id":1699477,"body_markdown":"please edit this to be legible. What is a &#39;javapackage&#39;. What is a &#39;commands wish&#39;.","body":"please edit this to be legible. What is a &#39;javapackage&#39;. What is a &#39;commands wish&#39;."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1259356207,"post_id":1810614,"comment_id":1699512,"body_markdown":"The topic subject is perfect: http://google.com/search?q=Getting+all+Classes+from+a+Package =)","body":"The topic subject is perfect: <a href=\"http://google.com/search?q=Getting+all+Classes+from+a+Package\" rel=\"nofollow noreferrer\">google.com/search?q=Getting+all+Classes+from+a+Package</a> =)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1259399357,"post_id":1810614,"comment_id":1701087,"body_markdown":"@balusc, but the /correct/ answer is hard.","body":"@balusc, but the /correct/ answer is hard."}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259355880,"creation_date":1259355880,"answer_id":1810629,"question_id":1810614,"body_markdown":"Start with public  Classloader.getResources(String name). Ask the classloader for a class corresponding to each name in the package you are interested. Repeat for all classloaders of relevance.\r\n\r\n","title":"Getting all Classes from a Package","body":"<p>Start with public  Classloader.getResources(String name). Ask the classloader for a class corresponding to each name in the package you are interested. Repeat for all classloaders of relevance.</p>\n"},{"tags":[],"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259356576,"creation_date":1259356209,"answer_id":1810639,"question_id":1810614,"body_markdown":"Yes but its not the easiest thing to do. There are lots of issues with this. Not all of the classes are easy to find. Some classes could be in a: Jar, as a class file, over the network etc.\r\n\r\nTake a look [at this thread.][1]\r\n\r\nTo make sure they were the ICommand type then you would have to use reflection to check for the inheriting class.\r\n\r\n  [1]: https://stackoverflow.com/questions/1498122/java-loop-on-all-the-classes-in-the-classpath","title":"Getting all Classes from a Package","body":"<p>Yes but its not the easiest thing to do. There are lots of issues with this. Not all of the classes are easy to find. Some classes could be in a: Jar, as a class file, over the network etc.</p>\n\n<p>Take a look <a href=\"https://stackoverflow.com/questions/1498122/java-loop-on-all-the-classes-in-the-classpath\">at this thread.</a></p>\n\n<p>To make sure they were the ICommand type then you would have to use reflection to check for the inheriting class.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259356375,"creation_date":1259356375,"answer_id":1810648,"question_id":1810614,"body_markdown":"Here is an utility method, using Spring.\r\n\r\nDetails about the pattern can be found &lt;a href=&quot;http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html&quot;&gt;here&lt;/a&gt;\r\n\r\n        public static List&lt;Class&gt; listMatchingClasses(String matchPattern) throws IOException {\r\n        List&lt;Class&gt; classes = new LinkedList&lt;Class&gt;();\r\n        PathMatchingResourcePatternResolver scanner = new PathMatchingResourcePatternResolver();\r\n        Resource[] resources = scanner.getResources(matchPattern);\r\n\r\n        for (Resource resource : resources) {\r\n            Class&lt;?&gt; clazz = getClassFromResource(resource);\r\n            classes.add(clazz);\r\n        }\r\n\r\n        return classes;\r\n    }\r\n\r\n\r\n\r\n    public static Class getClassFromResource(Resource resource) {\r\n        try {\r\n            String resourceUri = resource.getURI().toString();\r\n            resourceUri = resourceUri.replace(esourceUri.indexOf(&quot;.class&quot;), &quot;&quot;).replace(&quot;/&quot;, &quot;.&quot;);\r\n            // try printing the resourceUri before calling forName, to see if it is OK.\r\n            return Class.forName(resourceUri);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n","title":"Getting all Classes from a Package","body":"<p>Here is an utility method, using Spring.</p>\n\n<p>Details about the pattern can be found <a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/core/io/support/PathMatchingResourcePatternResolver.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>    public static List&lt;Class&gt; listMatchingClasses(String matchPattern) throws IOException {\n    List&lt;Class&gt; classes = new LinkedList&lt;Class&gt;();\n    PathMatchingResourcePatternResolver scanner = new PathMatchingResourcePatternResolver();\n    Resource[] resources = scanner.getResources(matchPattern);\n\n    for (Resource resource : resources) {\n        Class&lt;?&gt; clazz = getClassFromResource(resource);\n        classes.add(clazz);\n    }\n\n    return classes;\n}\n\n\n\npublic static Class getClassFromResource(Resource resource) {\n    try {\n        String resourceUri = resource.getURI().toString();\n        resourceUri = resourceUri.replace(esourceUri.indexOf(\".class\"), \"\").replace(\"/\", \".\");\n        // try printing the resourceUri before calling forName, to see if it is OK.\n        return Class.forName(resourceUri);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"score":3,"creation_date":1367662348,"post_id":1810665,"comment_id":23462959,"body_markdown":"+1, though a small improvement: `root.getFile()` should be `URLDecoder.decode(root.getFile(), &quot;UTF-8&quot;)` in case of any spaces in `classloader` path. `getResource()` will convert this to `%20`, along with other characters I suppose.","body":"+1, though a small improvement: <code>root.getFile()</code> should be <code>URLDecoder.decode(root.getFile(), &quot;UTF-8&quot;)</code> in case of any spaces in <code>classloader</code> path. <code>getResource()</code> will convert this to <code>%20</code>, along with other characters I suppose."},{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":0,"creation_date":1698362282,"post_id":1810665,"comment_id":136399442,"body_markdown":"I put `&quot;java.base&quot;` in the `.getResource` but it returns null... Do you know why?","body":"I put <code>&quot;java.base&quot;</code> in the <code>.getResource</code> but it returns null... Do you know why?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1259356767,"creation_date":1259356767,"answer_id":1810665,"question_id":1810614,"body_markdown":"Here&#39;s a basic example, assuming that classes are not JAR-packaged:\r\n\r\n    // Prepare.\r\n    String packageName = &quot;com.example.commands&quot;;\r\n    List&lt;Class&lt;ICommand&gt;&gt; commands = new ArrayList&lt;Class&lt;ICommand&gt;&gt;();\r\n    URL root = Thread.currentThread().getContextClassLoader().getResource(packageName.replace(&quot;.&quot;, &quot;/&quot;));\r\n    \r\n    // Filter .class files.\r\n    File[] files = new File(root.getFile()).listFiles(new FilenameFilter() {\r\n        public boolean accept(File dir, String name) {\r\n            return name.endsWith(&quot;.class&quot;);\r\n        }\r\n    });\r\n\r\n    // Find classes implementing ICommand.\r\n    for (File file : files) {\r\n        String className = file.getName().replaceAll(&quot;.class$&quot;, &quot;&quot;);\r\n        Class&lt;?&gt; cls = Class.forName(packageName + &quot;.&quot; + className);\r\n        if (ICommand.class.isAssignableFrom(cls)) {\r\n            commands.add((Class&lt;ICommand&gt;) cls);\r\n        }\r\n    }\r\n","title":"Getting all Classes from a Package","body":"<p>Here's a basic example, assuming that classes are not JAR-packaged:</p>\n\n<pre><code>// Prepare.\nString packageName = \"com.example.commands\";\nList&lt;Class&lt;ICommand&gt;&gt; commands = new ArrayList&lt;Class&lt;ICommand&gt;&gt;();\nURL root = Thread.currentThread().getContextClassLoader().getResource(packageName.replace(\".\", \"/\"));\n\n// Filter .class files.\nFile[] files = new File(root.getFile()).listFiles(new FilenameFilter() {\n    public boolean accept(File dir, String name) {\n        return name.endsWith(\".class\");\n    }\n});\n\n// Find classes implementing ICommand.\nfor (File file : files) {\n    String className = file.getName().replaceAll(\".class$\", \"\");\n    Class&lt;?&gt; cls = Class.forName(packageName + \".\" + className);\n    if (ICommand.class.isAssignableFrom(cls)) {\n        commands.add((Class&lt;ICommand&gt;) cls);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1259368290,"post_id":1810998,"comment_id":1700117,"body_markdown":"Something like the JSR-199 API? See http://stackoverflow.com/questions/1810614/getting-all-classes-from-a-package/1811120#1811120","body":"Something like the JSR-199 API? See <a href=\"http://stackoverflow.com/questions/1810614/getting-all-classes-from-a-package/1811120#1811120\" title=\"getting all classes from a package\">stackoverflow.com/questions/1810614/&hellip;</a>"}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259364716,"creation_date":1259364716,"answer_id":1810998,"question_id":1810614,"body_markdown":"This would be a very useful tool we need, and JDK should provide some support. \r\n\r\nBut it&#39;s probably better done during build. You know where all your class files are and you can inspect them statically and build a graph. At runtime you can query this graph to get all subtypes. This requires more work, but I believe it really belongs to the build process.","title":"Getting all Classes from a Package","body":"<p>This would be a very useful tool we need, and JDK should provide some support. </p>\n\n<p>But it's probably better done during build. You know where all your class files are and you can inspect them statically and build a graph. At runtime you can query this graph to get all subtypes. This requires more work, but I believe it really belongs to the build process.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1259369479,"post_id":1811120,"comment_id":1700160,"body_markdown":"Interesting, but `ToolProvider.getSystemJavaCompiler()` returns `null` in both Eclipse and CLI? Is something more needed?","body":"Interesting, but <code>ToolProvider.getSystemJavaCompiler()</code> returns <code>null</code> in both Eclipse and CLI? Is something more needed?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1259369989,"post_id":1811120,"comment_id":1700187,"body_markdown":"After digging, this apparently requires a JDK instead of JRE (which I however have in CLI, I&#39;ll dig later why this doesn&#39;t work). That would mean that you need to install a JDK in the final/prod environment to get it to work. That may be a showstopper.","body":"After digging, this apparently requires a JDK instead of JRE (which I however have in CLI, I&#39;ll dig later why this doesn&#39;t work). That would mean that you need to install a JDK in the final/prod environment to get it to work. That may be a showstopper."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1259376651,"post_id":1811120,"comment_id":1700428,"body_markdown":"Indeed, you need a JDK to get a non `null` compiler object (see http://bit.ly/89HtA0) so this API doesn&#39;t really target the desktop. It should be OK on the server-side though (most app servers use a JDK after all, e.g. for JSP compilation). But of course, there might be exceptions. Actually, I just wanted to show that there was some support in the JDK even if this isn&#39;t a perfect use case for the Compiler API (it&#39;s a poor usage here). This API can do more, much more, for example compiling on the fly Java source code generated dynamically in-memory (which is already more interesting).","body":"Indeed, you need a JDK to get a non <code>null</code> compiler object (see <a href=\"http://bit.ly/89HtA0\" rel=\"nofollow noreferrer\">bit.ly/89HtA0</a>) so this API doesn&#39;t really target the desktop. It should be OK on the server-side though (most app servers use a JDK after all, e.g. for JSP compilation). But of course, there might be exceptions. Actually, I just wanted to show that there was some support in the JDK even if this isn&#39;t a perfect use case for the Compiler API (it&#39;s a poor usage here). This API can do more, much more, for example compiling on the fly Java source code generated dynamically in-memory (which is already more interesting)."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1259378975,"post_id":1811120,"comment_id":1700505,"body_markdown":"It&#39;s indeed an interesting API. But unfortunately really only for the developer.","body":"It&#39;s indeed an interesting API. But unfortunately really only for the developer."},{"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"score":2,"creation_date":1331230787,"post_id":1811120,"comment_id":12211391,"body_markdown":"When i run this javaFileObject.getClass() returns the class of the javaFileObject ie com.sun.tools.javac.util.DefaultFileManager$RegularFileObject. This class does not override Object.getClass()","body":"When i run this javaFileObject.getClass() returns the class of the javaFileObject ie com.sun.tools.javac.util.DefaultFileManager$RegularFileObjec&zwnj;&#8203;t. This class does not override Object.getClass()"},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1455645398,"post_id":1811120,"comment_id":58577253,"body_markdown":"It is incorrect as @mR_fr0g mentions.  `javaFileObject.getClass()` doesn&#39;t return a corresponding class. It calls `Object.getClass()`.","body":"It is incorrect as @mR_fr0g mentions.  <code>javaFileObject.getClass()</code> doesn&#39;t return a corresponding class. It calls <code>Object.getClass()</code>."},{"owner":{"account_id":2211284,"reputation":2132,"user_id":1953056,"display_name":"Popeye"},"score":1,"creation_date":1457872383,"post_id":1811120,"comment_id":59594618,"body_markdown":"Use javaFileObject.getName() to get something like /somewhere/project.jar/(com/example/Example.class) while classes are packaged in a jar, or /somewhere/com/example/Example.class when not packaged in a jar, such as running in IDE. Then use string manipulations to get the class names. Of course, you may need to take care inner classes which ended with $1 or $n..","body":"Use javaFileObject.getName() to get something like /somewhere/project.jar/(com/example/Example.class) while classes are packaged in a jar, or /somewhere/com/example/Example.class when not packaged in a jar, such as running in IDE. Then use string manipulations to get the class names. Of course, you may need to take care inner classes which ended with $1 or $n.."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":7,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675474743,"creation_date":1259368209,"answer_id":1811120,"question_id":1810614,"body_markdown":"Below is an implementation using the JSR-199 API, i.e. classes from `javax.tools.*`:\r\n\r\n    List&lt;Class&gt; commands = new ArrayList&lt;&gt;();\r\n\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    StandardJavaFileManager fileManager = compiler.getStandardFileManager(\r\n            null, null, null);\r\n\r\n    StandardLocation location = StandardLocation.CLASS_PATH;\r\n    String packageName = &quot;commands&quot;;\r\n    Set&lt;JavaFileObject.Kind&gt; kinds = new HashSet&lt;&gt;();\r\n    kinds.add(JavaFileObject.Kind.CLASS);\r\n    boolean recurse = false;\r\n\r\n    Iterable&lt;JavaFileObject&gt; list = fileManager.list(location, packageName,\r\n            kinds, recurse);\r\n\r\n    for (JavaFileObject classFile : list) {\r\n        String name = classFile.getName().replaceAll(&quot;.*/|[.]class.*&quot;,&quot;&quot;);\r\n        commands.add(Class.forName(packageName + &quot;.&quot; + name));\r\n    }\r\n\r\nWorks for all packages and classes on the class path, packaged in jar files or without. For classes not explicitly added to the class path, i.e. those loaded by the bootstrap class loader, try setting location to `PLATFORM_CLASS_PATH` instead.","title":"Getting all Classes from a Package","body":"<p>Below is an implementation using the JSR-199 API, i.e. classes from <code>javax.tools.*</code>:</p>\n<pre><code>List&lt;Class&gt; commands = new ArrayList&lt;&gt;();\n\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nStandardJavaFileManager fileManager = compiler.getStandardFileManager(\n        null, null, null);\n\nStandardLocation location = StandardLocation.CLASS_PATH;\nString packageName = &quot;commands&quot;;\nSet&lt;JavaFileObject.Kind&gt; kinds = new HashSet&lt;&gt;();\nkinds.add(JavaFileObject.Kind.CLASS);\nboolean recurse = false;\n\nIterable&lt;JavaFileObject&gt; list = fileManager.list(location, packageName,\n        kinds, recurse);\n\nfor (JavaFileObject classFile : list) {\n    String name = classFile.getName().replaceAll(&quot;.*/|[.]class.*&quot;,&quot;&quot;);\n    commands.add(Class.forName(packageName + &quot;.&quot; + name));\n}\n</code></pre>\n<p>Works for all packages and classes on the class path, packaged in jar files or without. For classes not explicitly added to the class path, i.e. those loaded by the bootstrap class loader, try setting location to <code>PLATFORM_CLASS_PATH</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":5966,"reputation":2321,"user_id":9843,"accept_rate":67,"display_name":"Nicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261169265,"creation_date":1261169265,"answer_id":1930598,"question_id":1810614,"body_markdown":"Using [Johannes Link&#39;s ClasspathSuite][1], I was able to do it like this:\r\n\r\n    import org.junit.extensions.cpsuite.ClassTester;\r\n    import org.junit.extensions.cpsuite.ClasspathClassesFinder;\r\n\r\n    public static List&lt;Class&lt;?&gt;&gt; getClasses(final Package pkg, final boolean includeChildPackages) {\r\n        return new ClasspathClassesFinder(new ClassTester() {\r\n            @Override public boolean searchInJars() { return true; }\r\n            @Override public boolean acceptInnerClass() { return false; }\r\n            @Override public boolean acceptClassName(String name) {\r\n                return name.startsWith(pkg.getName()) &amp;&amp; (includeChildPackages || name.indexOf(&quot;.&quot;, pkg.getName().length()) != -1);\r\n            }\r\n            @Override public boolean acceptClass(Class&lt;?&gt; c) { return true; }\r\n        }, System.getProperty(&quot;java.class.path&quot;)).find();\r\n    }\r\n\r\nThe ClasspathClassesFinder looks for class files and jars in the system classpath.\r\n\r\nIn your specific case, you could modify acceptClass like this:\r\n\r\n    @Override public boolean acceptClass(Class&lt;?&gt; c) {\r\n        return ICommand.class.isAssignableFrom(c);\r\n    }\r\n\r\nOne thing to note: be careful what you return in acceptClassName, as the next thing ClasspathClassesFinder does is to load the class and call acceptClass. If acceptClassName always return true, you&#39;ll end up loading every class in the classpath and that may cause an OutOfMemoryError.\r\n\r\n  [1]: http://www.johanneslink.net/projects/cpsuite.jsp","title":"Getting all Classes from a Package","body":"<p>Using <a href=\"http://www.johanneslink.net/projects/cpsuite.jsp\" rel=\"nofollow noreferrer\">Johannes Link's ClasspathSuite</a>, I was able to do it like this:</p>\n\n<pre><code>import org.junit.extensions.cpsuite.ClassTester;\nimport org.junit.extensions.cpsuite.ClasspathClassesFinder;\n\npublic static List&lt;Class&lt;?&gt;&gt; getClasses(final Package pkg, final boolean includeChildPackages) {\n    return new ClasspathClassesFinder(new ClassTester() {\n        @Override public boolean searchInJars() { return true; }\n        @Override public boolean acceptInnerClass() { return false; }\n        @Override public boolean acceptClassName(String name) {\n            return name.startsWith(pkg.getName()) &amp;&amp; (includeChildPackages || name.indexOf(\".\", pkg.getName().length()) != -1);\n        }\n        @Override public boolean acceptClass(Class&lt;?&gt; c) { return true; }\n    }, System.getProperty(\"java.class.path\")).find();\n}\n</code></pre>\n\n<p>The ClasspathClassesFinder looks for class files and jars in the system classpath.</p>\n\n<p>In your specific case, you could modify acceptClass like this:</p>\n\n<pre><code>@Override public boolean acceptClass(Class&lt;?&gt; c) {\n    return ICommand.class.isAssignableFrom(c);\n}\n</code></pre>\n\n<p>One thing to note: be careful what you return in acceptClassName, as the next thing ClasspathClassesFinder does is to load the class and call acceptClass. If acceptClassName always return true, you'll end up loading every class in the classpath and that may cause an OutOfMemoryError.</p>\n"},{"tags":[],"owner":{"account_id":317715,"reputation":294,"user_id":634553,"display_name":"Osman Shoukry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346126654,"creation_date":1346126654,"answer_id":12152609,"question_id":1810614,"body_markdown":"You could use [OpenPojo][1] and do this:\r\n\r\n    final List&lt;PojoClass&gt; pojoClasses = PojoClassFactory.getPojoClassesRecursively(&quot;my.package.path&quot;, null);\r\n\r\nThen you can go over the list and perform any functionality you desire.\r\n\r\n  [1]: http://openpojo.com\r\n","title":"Getting all Classes from a Package","body":"<p>You could use <a href=\"http://openpojo.com\" rel=\"nofollow\">OpenPojo</a> and do this:</p>\n\n<pre><code>final List&lt;PojoClass&gt; pojoClasses = PojoClassFactory.getPojoClassesRecursively(\"my.package.path\", null);\n</code></pre>\n\n<p>Then you can go over the list and perform any functionality you desire.</p>\n"},{"tags":[],"owner":{"display_name":"user4718768"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573342635,"creation_date":1573244389,"answer_id":58773271,"question_id":1810614,"body_markdown":"If you do not want to use external depencies and you want to work on your IDE / on a JAR file, you can try this:\r\n\r\n\tpublic static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\r\n\t\tfinal String pkgPath = pkgName.replace(&#39;.&#39;, &#39;/&#39;);\r\n\t\tfinal URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\r\n\t\tfinal ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\r\n\t\tPath root;\r\n\t\tif (pkg.toString().startsWith(&quot;jar:&quot;)) {\r\n\t\t\ttry {\r\n\t\t\t\troot = FileSystems.getFileSystem(pkg).getPath(pkgPath);\r\n\t\t\t} catch (final FileSystemNotFoundException e) {\r\n\t\t\t\troot = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\troot = Paths.get(pkg);\r\n\t\t}\r\n\r\n\t\tfinal String extension = &quot;.class&quot;;\r\n\t\ttry (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\r\n\t\t\tallPaths.filter(Files::isRegularFile).forEach(file -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal String path = file.toString().replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\t\t\t\tfinal String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\r\n\t\t\t\t\tallClasses.add(Class.forName(name));\r\n\t\t\t\t} catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn allClasses;\r\n\t}\r\n\r\nFrom: https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection/58773038#58773038","title":"Getting all Classes from a Package","body":"<p>If you do not want to use external depencies and you want to work on your IDE / on a JAR file, you can try this:</p>\n\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\n    final String pkgPath = pkgName.replace('.', '/');\n    final URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\n    final ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    Path root;\n    if (pkg.toString().startsWith(\"jar:\")) {\n        try {\n            root = FileSystems.getFileSystem(pkg).getPath(pkgPath);\n        } catch (final FileSystemNotFoundException e) {\n            root = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\n        }\n    } else {\n        root = Paths.get(pkg);\n    }\n\n    final String extension = \".class\";\n    try (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\n        allPaths.filter(Files::isRegularFile).forEach(file -&gt; {\n            try {\n                final String path = file.toString().replace('/', '.');\n                final String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\n                allClasses.add(Class.forName(name));\n            } catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\n            }\n        });\n    }\n    return allClasses;\n}\n</code></pre>\n\n<p>From: <a href=\"https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection/58773038#58773038\">Can you find all classes in a package using reflection?</a></p>\n"}],"owner":{"account_id":65066,"reputation":1257,"user_id":191733,"accept_rate":86,"display_name":"JustMaximumPower"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30194,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":1810665,"answer_count":9,"score":16,"last_activity_date":1675474743,"creation_date":1259355437,"question_id":1810614,"body_markdown":"Lets say I have a java package `commands` which contains classes that all inherit from `ICommand` can I get all of those classes somehow? I&#39;m locking for something among the lines of:\r\n\r\n    Package p = Package.getPackage(&quot;commands&quot;);\r\n    Class&lt;ICommand&gt;[] c = p.getAllPackagedClasses(); //not real \r\n\r\nIs something like that possible?","title":"Getting all Classes from a Package","body":"<p>Lets say I have a java package <code>commands</code> which contains classes that all inherit from <code>ICommand</code> can I get all of those classes somehow? I'm locking for something among the lines of:</p>\n\n<pre><code>Package p = Package.getPackage(\"commands\");\nClass&lt;ICommand&gt;[] c = p.getAllPackagedClasses(); //not real \n</code></pre>\n\n<p>Is something like that possible?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675478042,"post_id":75342389,"comment_id":132943754,"body_markdown":"Mockito 3.4.0 and higher allows you to mock static methods.  You don&#39;t need PowerMock if that&#39;s all you&#39;re using it for.","body":"Mockito 3.4.0 and higher allows you to mock static methods.  You don&#39;t need PowerMock if that&#39;s all you&#39;re using it for."}],"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675473504,"creation_date":1675473504,"question_id":75342389,"body_markdown":"My following Unit test is failing.\r\nI&#39;m getting an error ```The class com.xyz.sys.PluginManager not prepared for test.```\r\n```\r\n\r\n// @RunWith(PowerMockRunner.class)\r\n@RunWith(GlideUiRunner.class)\r\npublic class TestClass extends BaseITClass {\r\n\r\n\tprivate static final String PLUGIN_MESSAGE = &quot;texttt&quot;;\r\n\r\n\t@Before\r\n\tpublic void initMocks() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t// PowerMockito.mockStatic(RecordCache.class);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testUpgradeMonitorDontShowAtfPluginWarningMessage() {\r\n\t\topen(UPGRADE_PAGE);\r\n\t\tString actualMsg = findElement(By.xpath(&quot;//div[@ng-if=&#39;divElementName&#39;]&quot;)).getText();\r\n\t\tPowerMockito.mockStatic(PluginManager.class);\r\n\t\tPowerMockito.when(PluginManager.isActive(&quot;pluginName&quot;)).thenReturn(true);\r\n\t\tAssert.assertFalse(actualMsg.contains(PLUGIN_MESSAGE));\r\n\t}\r\n}\r\n```\r\n\r\nAny suggestions where the issue is?\r\nNote: I need to use GlideUiRunner.class.. Can&#39;t remove that.","title":"JUnit Powermock failure","body":"<p>My following Unit test is failing.\nI'm getting an error <code>The class com.xyz.sys.PluginManager not prepared for test.</code></p>\n<pre><code>\n// @RunWith(PowerMockRunner.class)\n@RunWith(GlideUiRunner.class)\npublic class TestClass extends BaseITClass {\n\n    private static final String PLUGIN_MESSAGE = &quot;texttt&quot;;\n\n    @Before\n    public void initMocks() {\n        MockitoAnnotations.initMocks(this);\n        // PowerMockito.mockStatic(RecordCache.class);\n    }\n\n    @Test\n    public void testUpgradeMonitorDontShowAtfPluginWarningMessage() {\n        open(UPGRADE_PAGE);\n        String actualMsg = findElement(By.xpath(&quot;//div[@ng-if='divElementName']&quot;)).getText();\n        PowerMockito.mockStatic(PluginManager.class);\n        PowerMockito.when(PluginManager.isActive(&quot;pluginName&quot;)).thenReturn(true);\n        Assert.assertFalse(actualMsg.contains(PLUGIN_MESSAGE));\n    }\n}\n</code></pre>\n<p>Any suggestions where the issue is?\nNote: I need to use GlideUiRunner.class.. Can't remove that.</p>\n"},{"tags":["java","jtable","jtextpane","typography","word-processor"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675291170,"post_id":75314276,"comment_id":132899979,"body_markdown":"That will not work.  A JTable is not text, it’s a Swing component.  What you can do, however, is [install](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JTextPane.html#setEditorKit(javax.swing.text.EditorKit)) an [HTMLEditorKit](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/text/html/HTMLEditorKit.html) and then add an HTML table.","body":"That will not work.  A JTable is not text, it’s a Swing component.  What you can do, however, is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JTextPane.html#setEditorKit(javax.swing.text.EditorKit)\" rel=\"nofollow noreferrer\">install</a> an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/text/html/HTMLEditorKit.html\" rel=\"nofollow noreferrer\">HTMLEditorKit</a> and then add an HTML table."},{"owner":{"account_id":27678168,"reputation":1,"user_id":21127538,"display_name":"Ying Li"},"score":0,"creation_date":1675375063,"post_id":75314276,"comment_id":132921556,"body_markdown":"Hello, VGR. Thanks alot for your help. But if I can use HTML to insert a table, how can I apply style changes beyond CSS?","body":"Hello, VGR. Thanks alot for your help. But if I can use HTML to insert a table, how can I apply style changes beyond CSS?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675377420,"post_id":75314276,"comment_id":132922051,"body_markdown":"The same way you do it with other text.","body":"The same way you do it with other text."},{"owner":{"account_id":27678168,"reputation":1,"user_id":21127538,"display_name":"Ying Li"},"score":0,"creation_date":1675395093,"post_id":75314276,"comment_id":132924556,"body_markdown":"Sorry to bother you again and again, but I need to clarify it. For other text outside table, I use StyledEditorKit. In other words, how can you bold the text in online table?","body":"Sorry to bother you again and again, but I need to clarify it. For other text outside table, I use StyledEditorKit. In other words, how can you bold the text in online table?"}],"answers":[{"comments":[{"owner":{"account_id":27678168,"reputation":1,"user_id":21127538,"display_name":"Ying Li"},"score":0,"creation_date":1675534975,"post_id":75342332,"comment_id":132951655,"body_markdown":"I don&#39;t know how to express my appreciation to you for spending time on it. It works great from the point of view of HTML kit. I want to email you my program which uses StyledDocument to implement word processor. And I tried to set textPane.setEditorKit(\n            textPane.getEditorKitForContentType(&quot;text/html&quot;));","body":"I don&#39;t know how to express my appreciation to you for spending time on it. It works great from the point of view of HTML kit. I want to email you my program which uses StyledDocument to implement word processor. And I tried to set textPane.setEditorKit(             textPane.getEditorKitForContentType(&quot;text/html&quot;));"},{"owner":{"account_id":27678168,"reputation":1,"user_id":21127538,"display_name":"Ying Li"},"score":0,"creation_date":1675535579,"post_id":75342332,"comment_id":132951756,"body_markdown":"yingzi1.calgary@gmail.com. University of Calgary computer science graduate. Sorry to bother your time. I wrote a word processer using Java and hope to send it to you for the question background, if you are interested in it. Anyway, Thanks a lot!!!!!!!!!!!!!!!!I appreciate it very very much.","body":"yingzi1.calgary@gmail.com. University of Calgary computer science graduate. Sorry to bother your time. I wrote a word processer using Java and hope to send it to you for the question background, if you are interested in it. Anyway, Thanks a lot!!!!!!!!!!!!!!!!I appreciate it very very much."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675472363,"creation_date":1675472363,"answer_id":75342332,"question_id":75314276,"body_markdown":"A JTable is a component, not text.  It cannot be styled using document styling.\r\n\r\nYou can, however, install an [HTMLEditorKit]() on your JTextPane, which allows you to add HTML [table](https://www.w3.org/TR/html4/struct/tables.html#h-11.2.1) to your document.  An HTML table is comprised of text, so you can apply styles to it:\r\n\r\n    import java.io.StringReader;\r\n    import java.io.IOException;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextPane;\r\n\r\n    import javax.swing.text.Style;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.BadLocationException;\r\n\r\n    public class TableInTextPane {\r\n        static void showTextPane() {\r\n            JTextPane textPane = new JTextPane();\r\n            textPane.setEditorKit(\r\n                textPane.getEditorKitForContentType(&quot;text/html&quot;));\r\n\r\n            Style red = textPane.addStyle(&quot;red&quot;, null);\r\n            StyleConstants.setForeground(red, Color.RED);\r\n\r\n            Style green = textPane.addStyle(&quot;green&quot;, null);\r\n            StyleConstants.setForeground(green, Color.GREEN);\r\n\r\n            textPane.setLogicalStyle(red);\r\n\r\n            try {\r\n                textPane.getStyledDocument().insertString(0, &quot;Red text&quot;, red);\r\n            } catch (BadLocationException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            String table =\r\n                &quot;&lt;table border=1&gt;&quot;\r\n                + &quot;&lt;tr&gt;&lt;th&gt;Country      &lt;th&gt;Group&lt;th&gt;Position&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Netherlands  &lt;td&gt;A&lt;td&gt;1&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Senegal      &lt;td&gt;A&lt;td&gt;2&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Ecuador      &lt;td&gt;A&lt;td&gt;3&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Qatar        &lt;td&gt;A&lt;td&gt;4&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;England      &lt;td&gt;B&lt;td&gt;1&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;United States&lt;td&gt;B&lt;td&gt;2&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Iran         &lt;td&gt;B&lt;td&gt;3&quot;\r\n                + &quot;&lt;tr&gt;&lt;td&gt;Wales        &lt;td&gt;B&lt;td&gt;4&quot;\r\n                + &quot;&lt;/table&gt;&quot;;\r\n\r\n            int tableStartOffset = textPane.getDocument().getLength();\r\n            try {\r\n                textPane.getEditorKit().read(\r\n                    new StringReader(table),\r\n                    textPane.getDocument(),\r\n                    tableStartOffset);\r\n            } catch (BadLocationException | IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            int tableEndOffset = textPane.getDocument().getLength();\r\n\r\n            int caretPosition = textPane.getCaretPosition();\r\n\r\n            textPane.select(tableStartOffset, tableEndOffset);\r\n            textPane.setCharacterAttributes(green, false);\r\n\r\n            textPane.select(caretPosition, caretPosition);\r\n\r\n            showInWindow(textPane);\r\n        }\r\n\r\n        private static void showInWindow(JTextPane textPane) {\r\n            JFrame frame = new JFrame(&quot;Table Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            frame.getContentPane().add(new JScrollPane(textPane));\r\n            frame.pack();\r\n\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; showTextPane());\r\n        }\r\n    }\r\n","title":"How to apply style changes (such as bold, Italic, color, adding bullets, etc) inside a JTable in Java?","body":"<p>A JTable is a component, not text.  It cannot be styled using document styling.</p>\n<p>You can, however, install an HTMLEditorKit on your JTextPane, which allows you to add HTML <a href=\"https://www.w3.org/TR/html4/struct/tables.html#h-11.2.1\" rel=\"nofollow noreferrer\">table</a> to your document.  An HTML table is comprised of text, so you can apply styles to it:</p>\n<pre><code>import java.io.StringReader;\nimport java.io.IOException;\n\nimport java.awt.Color;\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\n\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.BadLocationException;\n\npublic class TableInTextPane {\n    static void showTextPane() {\n        JTextPane textPane = new JTextPane();\n        textPane.setEditorKit(\n            textPane.getEditorKitForContentType(&quot;text/html&quot;));\n\n        Style red = textPane.addStyle(&quot;red&quot;, null);\n        StyleConstants.setForeground(red, Color.RED);\n\n        Style green = textPane.addStyle(&quot;green&quot;, null);\n        StyleConstants.setForeground(green, Color.GREEN);\n\n        textPane.setLogicalStyle(red);\n\n        try {\n            textPane.getStyledDocument().insertString(0, &quot;Red text&quot;, red);\n        } catch (BadLocationException e) {\n            throw new RuntimeException(e);\n        }\n\n        String table =\n            &quot;&lt;table border=1&gt;&quot;\n            + &quot;&lt;tr&gt;&lt;th&gt;Country      &lt;th&gt;Group&lt;th&gt;Position&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Netherlands  &lt;td&gt;A&lt;td&gt;1&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Senegal      &lt;td&gt;A&lt;td&gt;2&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Ecuador      &lt;td&gt;A&lt;td&gt;3&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Qatar        &lt;td&gt;A&lt;td&gt;4&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;England      &lt;td&gt;B&lt;td&gt;1&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;United States&lt;td&gt;B&lt;td&gt;2&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Iran         &lt;td&gt;B&lt;td&gt;3&quot;\n            + &quot;&lt;tr&gt;&lt;td&gt;Wales        &lt;td&gt;B&lt;td&gt;4&quot;\n            + &quot;&lt;/table&gt;&quot;;\n\n        int tableStartOffset = textPane.getDocument().getLength();\n        try {\n            textPane.getEditorKit().read(\n                new StringReader(table),\n                textPane.getDocument(),\n                tableStartOffset);\n        } catch (BadLocationException | IOException e) {\n            throw new RuntimeException(e);\n        }\n        int tableEndOffset = textPane.getDocument().getLength();\n\n        int caretPosition = textPane.getCaretPosition();\n\n        textPane.select(tableStartOffset, tableEndOffset);\n        textPane.setCharacterAttributes(green, false);\n\n        textPane.select(caretPosition, caretPosition);\n\n        showInWindow(textPane);\n    }\n\n    private static void showInWindow(JTextPane textPane) {\n        JFrame frame = new JFrame(&quot;Table Test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().add(new JScrollPane(textPane));\n        frame.pack();\n\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; showTextPane());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27678168,"reputation":1,"user_id":21127538,"display_name":"Ying Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675472363,"creation_date":1675274159,"question_id":75314276,"body_markdown":"I implement a mini word processor using JTextPane in Java. I created a tool bar that makes me be able to bold, underline, and color the texts which the users can input. \r\n\r\nNow I insert a JTable into this JTextPane and I hope to be able to do what I can do outside the table. Can I do that? Using cell renderer and editor to introduce the outside environment? Or use LayerUI to draw a table on the top of the JTextPane? I can draw, but how to edit in the image?\r\n\r\nI am a new beginner in Java programming. If you can give me some hints, I would appreciate it very very much!\r\n\r\nWhat I expect is that I can type in the JTable and apply bold, italic, underline and color changes, even add bullets, etc.","title":"How to apply style changes (such as bold, Italic, color, adding bullets, etc) inside a JTable in Java?","body":"<p>I implement a mini word processor using JTextPane in Java. I created a tool bar that makes me be able to bold, underline, and color the texts which the users can input.</p>\n<p>Now I insert a JTable into this JTextPane and I hope to be able to do what I can do outside the table. Can I do that? Using cell renderer and editor to introduce the outside environment? Or use LayerUI to draw a table on the top of the JTextPane? I can draw, but how to edit in the image?</p>\n<p>I am a new beginner in Java programming. If you can give me some hints, I would appreciate it very very much!</p>\n<p>What I expect is that I can type in the JTable and apply bold, italic, underline and color changes, even add bullets, etc.</p>\n"},{"tags":["java","netty","micronaut"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":0,"creation_date":1675476346,"post_id":75342295,"comment_id":132943649,"body_markdown":"How the event-loop is shared with clients in your case? I don&#39;t know any framework that would easily share the event-loop, the state of course, but with state is that the client modifies the state and sends it back to the server which reads it with its normal event-loop.\nNo parent loop? Who&#39;s the child? Client? nah. Event-loop-group&#39;s&#39; are something different. Event-loop groups are the threads assigned to that loop.\nI might be wrong, but if so, please clarify a little bit more in the question or comment, thanks.","body":"How the event-loop is shared with clients in your case? I don&#39;t know any framework that would easily share the event-loop, the state of course, but with state is that the client modifies the state and sends it back to the server which reads it with its normal event-loop. No parent loop? Who&#39;s the child? Client? nah. Event-loop-group&#39;s&#39; are something different. Event-loop groups are the threads assigned to that loop. I might be wrong, but if so, please clarify a little bit more in the question or comment, thanks."},{"owner":{"account_id":100045,"reputation":2725,"user_id":269876,"accept_rate":0,"display_name":"Lo-Tan"},"score":0,"creation_date":1685987179,"post_id":75342295,"comment_id":134734747,"body_markdown":"I love how there&#39;s zero documentation for the parent event-loop or how it differentiates from the worker thread group. Let&#39;s say the worker thread group is being slow. Is that bottle necking the server which could lead to dropped requests? Or does that only happen if you block the parent event loop threads. Where are the architecture diagrams? Why am I using Micronaut again :(","body":"I love how there&#39;s zero documentation for the parent event-loop or how it differentiates from the worker thread group. Let&#39;s say the worker thread group is being slow. Is that bottle necking the server which could lead to dropped requests? Or does that only happen if you block the parent event loop threads. Where are the architecture diagrams? Why am I using Micronaut again :("}],"owner":{"account_id":1718673,"reputation":1,"user_id":1575190,"display_name":"martinsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675471790,"creation_date":1675471790,"question_id":75342295,"body_markdown":"I&#39;m trying to configure a HTTP Server for an API made in Micronaut 3.7.5. Reviewing the Micronaut [documentation](https://docs.micronaut.io/latest/guide/index.html#serverConfiguration) I found many ways to do it and I not sure which is the best way.\r\n\r\n1. **Worker event-loop:**. If I set a event-loop name not used \r\n\r\n```\r\nmicronaut.server.netty.worker.event-loop-group\r\nmicronaut.server.netty.worker.threads\r\n```\r\n\r\n2. **Default event-loop:** This event-loop is shared with clients also, unless I specify a diferent event-loop for them\r\n\r\n```\r\nmicronaut.netty.event-loops.default.num-threads\r\n```\r\n\r\n3. **Parent event-loop:** I cound&#39;t find any documentation about it and how to use it\r\n\r\n\r\n```\r\nmicronaut.server.netty.parent.event-loop-group\r\nmicronaut.server.netty.parent.threads\r\n```","title":"How to configure the Thread Pool for a HTTP Server in Micronaut","body":"<p>I'm trying to configure a HTTP Server for an API made in Micronaut 3.7.5. Reviewing the Micronaut <a href=\"https://docs.micronaut.io/latest/guide/index.html#serverConfiguration\" rel=\"nofollow noreferrer\">documentation</a> I found many ways to do it and I not sure which is the best way.</p>\n<ol>\n<li><strong>Worker event-loop:</strong>. If I set a event-loop name not used</li>\n</ol>\n<pre><code>micronaut.server.netty.worker.event-loop-group\nmicronaut.server.netty.worker.threads\n</code></pre>\n<ol start=\"2\">\n<li><strong>Default event-loop:</strong> This event-loop is shared with clients also, unless I specify a diferent event-loop for them</li>\n</ol>\n<pre><code>micronaut.netty.event-loops.default.num-threads\n</code></pre>\n<ol start=\"3\">\n<li><strong>Parent event-loop:</strong> I cound't find any documentation about it and how to use it</li>\n</ol>\n<pre><code>micronaut.server.netty.parent.event-loop-group\nmicronaut.server.netty.parent.threads\n</code></pre>\n"},{"tags":["java","maven-2","jar","packaging"],"comments":[{"owner":{"account_id":440421,"reputation":16338,"user_id":829970,"accept_rate":89,"display_name":"Moshe Katz"},"score":1,"creation_date":1430164653,"post_id":1729054,"comment_id":47932294,"body_markdown":"possible duplicate of [How can I create an executable jar with dependencies using Maven?](http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">How can I create an executable jar with dependencies using Maven?</a>"},{"owner":{"account_id":7469704,"reputation":7861,"user_id":5678086,"accept_rate":73,"display_name":"Thanga"},"score":0,"creation_date":1505117959,"post_id":1729054,"comment_id":79263742,"body_markdown":"https://stackoverflow.com/questions/35217128/is-it-possible-to-build-a-java-project-only-once-using-eclipse-and-share/35359756#35359756","body":"<a href=\"https://stackoverflow.com/questions/35217128/is-it-possible-to-build-a-java-project-only-once-using-eclipse-and-share/35359756#35359756\" title=\"is it possible to build a java project only once using eclipse and share\">stackoverflow.com/questions/35217128/&hellip;</a>"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":1,"creation_date":1666829819,"post_id":1729054,"comment_id":131030936,"body_markdown":"Flattening the dependencies into a single JAR is a bad idea in general. It causes a LOT of troubles, because of the special-purpose resources.","body":"Flattening the dependencies into a single JAR is a bad idea in general. It causes a LOT of troubles, because of the special-purpose resources."}],"answers":[{"comments":[{"owner":{"account_id":1800364,"reputation":3399,"user_id":1638871,"accept_rate":100,"display_name":"D. A."},"score":62,"creation_date":1395354879,"post_id":1729094,"comment_id":34314276,"body_markdown":"In case any new mvn folks got stuck like me, add the plugin to &lt;plugins&gt; inside &lt;build&gt; which is inside &lt;project&gt;.","body":"In case any new mvn folks got stuck like me, add the plugin to &lt;plugins&gt; inside &lt;build&gt; which is inside &lt;project&gt;."},{"owner":{"account_id":80600,"reputation":7025,"user_id":227821,"accept_rate":94,"display_name":"lony"},"score":2,"creation_date":1397047140,"post_id":1729094,"comment_id":35060547,"body_markdown":"How can I avoid including libraries I don&#39;t use in my code? My jar just using SSJ sums up to 10 MB :(","body":"How can I avoid including libraries I don&#39;t use in my code? My jar just using SSJ sums up to 10 MB :("},{"owner":{"account_id":480691,"reputation":8333,"user_id":894065,"accept_rate":100,"display_name":"lux"},"score":2,"creation_date":1404933205,"post_id":1729094,"comment_id":38232398,"body_markdown":"@D.A. Why people leave out relevant (read: pertinent) details like that are beyond me.","body":"@D.A. Why people leave out relevant (read: pertinent) details like that are beyond me."},{"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"score":1,"creation_date":1417625044,"post_id":1729094,"comment_id":43023020,"body_markdown":"Still can&#39;t get this to work, I&#39;ve followed like 15 different answers on different questions too.","body":"Still can&#39;t get this to work, I&#39;ve followed like 15 different answers on different questions too."},{"owner":{"account_id":1153814,"reputation":3543,"user_id":1134961,"accept_rate":50,"display_name":"technocrat"},"score":17,"creation_date":1425926632,"post_id":1729094,"comment_id":46152849,"body_markdown":"@Christian.tucker There&#39;s a 2nd jar in the target directory created like this: \n**./target/example-0.0.1-SNAPSHOT.jar**  and \n**./target/example-0.0.1-SNAPSHOT-jar-with-dependencies.jar**","body":"@Christian.tucker There&#39;s a 2nd jar in the target directory created like this:  <b>./target/example-0.0.1-SNAPSHOT.jar</b>  and  <b>./target/example-0.0.1-SNAPSHOT-jar-with-dependencies.jar</b>"},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":0,"creation_date":1426383227,"post_id":1729094,"comment_id":46349743,"body_markdown":"How can I get the install goal to put the jar-with-dependencies into the repo?","body":"How can I get the install goal to put the jar-with-dependencies into the repo?"},{"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"score":0,"creation_date":1439364545,"post_id":1729094,"comment_id":51825408,"body_markdown":"@Christian.tucker mvn assembly:assembly -DdescriptorId=jar-with-dependencies","body":"@Christian.tucker mvn assembly:assembly -DdescriptorId=jar-with-dependencies"},{"owner":{"account_id":3805046,"reputation":1192,"user_id":3157709,"accept_rate":28,"display_name":"Hammad Hassan"},"score":5,"creation_date":1440067954,"post_id":1729094,"comment_id":52125134,"body_markdown":"Just add one more thing in configuration. Your main class information.\n&lt;archive&gt;\n              &lt;manifest&gt;\n                  &lt;mainClass&gt;fully qualified name&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n&lt;/archive&gt;","body":"Just add one more thing in configuration. Your main class information. &lt;archive&gt;               &lt;manifest&gt;                   &lt;mainClass&gt;fully qualified name&lt;/mainClass&gt;               &lt;/manifest&gt; &lt;/archive&gt;"},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":4,"creation_date":1512399662,"post_id":1729094,"comment_id":82230181,"body_markdown":"It works but I&#39;m seeing two JARs in the target directory: with and without dependencies. How do I generate only the JAR that has the dependencies?","body":"It works but I&#39;m seeing two JARs in the target directory: with and without dependencies. How do I generate only the JAR that has the dependencies?"},{"owner":{"account_id":3974488,"reputation":1237,"user_id":3278010,"accept_rate":10,"display_name":"Kush Patel"},"score":1,"creation_date":1552556200,"post_id":1729094,"comment_id":97057375,"body_markdown":"How to include a jar file into jar file in maven ?","body":"How to include a jar file into jar file in maven ?"},{"owner":{"account_id":10372385,"reputation":125,"user_id":7649668,"display_name":"Kachopsticks"},"score":0,"creation_date":1593705815,"post_id":1729094,"comment_id":110880245,"body_markdown":"Hello, if you use this plugin, will it grab jars from a local lib folder? I reference some dependencies this way in the project that I want to build into a jar...\n`\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.kachop&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mylocal&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\n\t\t\t&lt;systemPath&gt;${basedir}/lib/lk/mylocal.jar&lt;/systemPath&gt;\n\t\t&lt;/dependency&gt;`","body":"Hello, if you use this plugin, will it grab jars from a local lib folder? I reference some dependencies this way in the project that I want to build into a jar... `\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.kachop&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mylocal&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.0.0&lt;/version&gt; \t\t\t&lt;scope&gt;system&lt;/scope&gt; \t\t\t&lt;systemPath&gt;${basedir}/lib/lk/mylocal.jar&lt;/systemPath&gt; \t\t&lt;/dependency&gt;`"}],"tags":[],"owner":{"account_id":3995,"reputation":16180,"user_id":5874,"accept_rate":86,"display_name":"John Stauffer"},"comment_count":11,"down_vote_count":3,"up_vote_count":583,"is_accepted":true,"score":580,"last_activity_date":1429782873,"creation_date":1258117315,"answer_id":1729094,"question_id":1729054,"body_markdown":"You can do this using the maven-assembly plugin with the &quot;jar-with-dependencies&quot; descriptor. Here&#39;s the relevant chunk from one of our pom.xml&#39;s that does this:\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- any other plugins --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n","title":"Including dependencies in a jar with Maven","body":"<p>You can do this using the maven-assembly plugin with the \"jar-with-dependencies\" descriptor. Here's the relevant chunk from one of our pom.xml's that does this:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- any other plugins --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2360404,"reputation":379,"user_id":2067197,"accept_rate":58,"display_name":"Kyle"},"score":3,"creation_date":1496800208,"post_id":1729095,"comment_id":75804108,"body_markdown":"if you don&#39;t like jar-with-dependencies as part of the file name.","body":"if you don&#39;t like jar-with-dependencies as part of the file name."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1524225137,"post_id":1729095,"comment_id":86897821,"body_markdown":"minimize feature https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html","body":"minimize feature <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>"}],"tags":[],"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1258117323,"creation_date":1258117323,"answer_id":1729095,"question_id":1729054,"body_markdown":"There&#39;s the [shade maven plugin][1]. It can be used to **package and rename** dependencies (to omit dependency problems on the classpath).\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-shade-plugin/index.html","title":"Including dependencies in a jar with Maven","body":"<p>There's the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"noreferrer\">shade maven plugin</a>. It can be used to <strong>package and rename</strong> dependencies (to omit dependency problems on the classpath).</p>\n"},{"comments":[{"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"score":0,"creation_date":1338215063,"post_id":1729202,"comment_id":14028599,"body_markdown":"I am trying exactly this, however the plugin is not run and the jar file is not created even though the build executes smoothly. Is there a common pitfall that I might have gotten stuck with?","body":"I am trying exactly this, however the plugin is not run and the jar file is not created even though the build executes smoothly. Is there a common pitfall that I might have gotten stuck with?"},{"owner":{"account_id":2793472,"reputation":177,"user_id":2403222,"display_name":"Souvik Bhattacharya"},"score":9,"creation_date":1378190854,"post_id":1729202,"comment_id":27350041,"body_markdown":"It&#39;s working for me but have a questing. after build now two jars are created one with project artifactid-version and another with artifactid-version-&quot;jar-with-dependencies&quot;. But I want only one jar to be build. Is there any other way","body":"It&#39;s working for me but have a questing. after build now two jars are created one with project artifactid-version and another with artifactid-version-&quot;jar-with-dependencies&quot;. But I want only one jar to be build. Is there any other way"},{"owner":{"account_id":3743019,"reputation":1273,"user_id":3112373,"display_name":"amucunguzi"},"score":5,"creation_date":1599143877,"post_id":1729202,"comment_id":112688418,"body_markdown":"@SouvikBhattacharya add `&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;` to `maven-assembly-plugin` configutation.","body":"@SouvikBhattacharya add <code>&lt;appendAssemblyId&gt;false&lt;&#47;appendAssemblyId&gt;</code> to <code>maven-assembly-plugin</code> configutation."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":1,"up_vote_count":178,"is_accepted":false,"score":177,"last_activity_date":1550498053,"creation_date":1258118945,"answer_id":1729202,"question_id":1729054,"body_markdown":"With Maven 2, the right way to do this is to use the [Maven2 Assembly Plugin][1] which has a [pre-defined descriptor file][2] for this purpose and that you could just use on the command line:\r\n\r\n    mvn assembly:assembly -DdescriptorId=jar-with-dependencies\r\n\r\nIf you want to make this jar executable, just add the main class to be run to the plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;my.package.to.my.MainClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf you want to create that assembly as part of the normal build process, you should bind the [single][3] or [directory-single][4] goal (the `assembly` goal should ONLY be run from the command line) to a lifecycle phase (`package` makes sense), something like this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;create-my-bundle&lt;/id&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;single&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            ...\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAdapt the `configuration` element to suit your needs (for example with the manifest stuff as spoken).\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/index.html\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\r\n  [3]: http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html\r\n  [4]: http://maven.apache.org/plugins/maven-assembly-plugin/directory-single-mojo.html","title":"Including dependencies in a jar with Maven","body":"<p>With Maven 2, the right way to do this is to use the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/index.html\" rel=\"noreferrer\">Maven2 Assembly Plugin</a> which has a <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"noreferrer\">pre-defined descriptor file</a> for this purpose and that you could just use on the command line:</p>\n\n<pre><code>mvn assembly:assembly -DdescriptorId=jar-with-dependencies\n</code></pre>\n\n<p>If you want to make this jar executable, just add the main class to be run to the plugin configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;mainClass&gt;my.package.to.my.MainClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>If you want to create that assembly as part of the normal build process, you should bind the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html\" rel=\"noreferrer\">single</a> or <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/directory-single-mojo.html\" rel=\"noreferrer\">directory-single</a> goal (the <code>assembly</code> goal should ONLY be run from the command line) to a lifecycle phase (<code>package</code> makes sense), something like this:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;create-my-bundle&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        ...\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Adapt the <code>configuration</code> element to suit your needs (for example with the manifest stuff as spoken).</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1359431252,"post_id":1729339,"comment_id":20341098,"body_markdown":"There is also a Maven plugin for One-JAR: http://onejar-maven-plugin.googlecode.com/svn/mavensite/usage.html","body":"There is also a Maven plugin for One-JAR: <a href=\"http://onejar-maven-plugin.googlecode.com/svn/mavensite/usage.html\" rel=\"nofollow noreferrer\">onejar-maven-plugin.googlecode.com/svn/mavensite/usage.html</a>"}],"tags":[],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258120600,"creation_date":1258120600,"answer_id":1729339,"question_id":1729054,"body_markdown":"Putting Maven aside, you can put JAR libraries inside the Main Jar but you will need to use your own classloader.\r\n\r\nCheck this project: One-JAR [link text][1]\r\n\r\n\r\n  [1]: http://one-jar.sourceforge.net/","title":"Including dependencies in a jar with Maven","body":"<p>Putting Maven aside, you can put JAR libraries inside the Main Jar but you will need to use your own classloader.</p>\n\n<p>Check this project: One-JAR <a href=\"http://one-jar.sourceforge.net/\" rel=\"nofollow noreferrer\">link text</a></p>\n"},{"tags":[],"owner":{"account_id":709772,"reputation":835,"user_id":1340178,"display_name":"lasantha"},"comment_count":0,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1500997057,"creation_date":1326913825,"answer_id":8915870,"question_id":1729054,"body_markdown":"You can use the newly created jar using a `&lt;classifier&gt;` tag.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;your.group.id&lt;/groupId&gt;\r\n            &lt;artifactId&gt;your.artifact.id&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Including dependencies in a jar with Maven","body":"<p>You can use the newly created jar using a <code>&lt;classifier&gt;</code> tag.</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;your.group.id&lt;/groupId&gt;\n        &lt;artifactId&gt;your.artifact.id&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1517505443,"post_id":16591441,"comment_id":84132870,"body_markdown":"Is it the same as Eclipse &quot;Export as Runnable jar&quot;? Because with this you can choose to &quot;package all dependencies with the JAR&quot;, you then get all dependencies in project-lib folder, along your jar.","body":"Is it the same as Eclipse &quot;Export as Runnable jar&quot;? Because with this you can choose to &quot;package all dependencies with the JAR&quot;, you then get all dependencies in project-lib folder, along your jar."},{"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"score":0,"creation_date":1517521750,"post_id":16591441,"comment_id":84141349,"body_markdown":"@FaithReaper -- It might be &quot;the same&quot;, I never tried that. \nBut I guess if you use Eclipse, it&#39;s not easily scriptable, which is a requirement, if you want to implement an *automated* build+deploy-pipeline. For example, let Jenkins-server do the build from your git source-repository, or similar.","body":"@FaithReaper -- It might be &quot;the same&quot;, I never tried that.  But I guess if you use Eclipse, it&#39;s not easily scriptable, which is a requirement, if you want to implement an <i>automated</i> build+deploy-pipeline. For example, let Jenkins-server do the build from your git source-repository, or similar."}],"tags":[],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1431115835,"creation_date":1368717693,"answer_id":16591441,"question_id":1729054,"body_markdown":"If you (like me) dont particularly like the *jar-with-dependencies* approach described above,\r\nthe maven-solution I prefer is to simply build a WAR-project,\r\neven if it is only a stand-alone java application you are building:\r\n\r\n1. Make a normal maven jar-project, that will build your jar-file (without the dependencies).\r\n\r\n2. Also, setup a maven war-project (with only an empty **src/main/webapp/WEB-INF/web.xml** file, which will avoid a warning/error in the maven-build), that only has your jar-project as a dependency, and make your jar-project a `&lt;module&gt;` under your war-project. (This war-project is only a simple trick to wrap all your jar-file dependencies into a zip-file.)\r\n\r\n3. Build the war-project to produce the war-file.\r\n\r\n4. In the deployment-step, simply rename your .war-file to *.zip and unzip it.\r\n\r\nYou should now have a lib-directory (which you can move where you want it) with your jar and all the dependencies you need to run your application:\r\n\r\n    java -cp &#39;path/lib/*&#39; MainClass\r\n\r\n(The wildcard in classpath works in Java-6 or higher)\r\n\r\nI think this is both simpler to setup in maven (no need  to mess around with the assembly plugin) and also gives you a clearer view of the application-structure (you will see the version-numbers of all dependent jars in plain view, and avoid clogging everything into a single jar-file).\r\n","title":"Including dependencies in a jar with Maven","body":"<p>If you (like me) dont particularly like the <em>jar-with-dependencies</em> approach described above,\nthe maven-solution I prefer is to simply build a WAR-project,\neven if it is only a stand-alone java application you are building:</p>\n\n<ol>\n<li><p>Make a normal maven jar-project, that will build your jar-file (without the dependencies).</p></li>\n<li><p>Also, setup a maven war-project (with only an empty <strong>src/main/webapp/WEB-INF/web.xml</strong> file, which will avoid a warning/error in the maven-build), that only has your jar-project as a dependency, and make your jar-project a <code>&lt;module&gt;</code> under your war-project. (This war-project is only a simple trick to wrap all your jar-file dependencies into a zip-file.)</p></li>\n<li><p>Build the war-project to produce the war-file.</p></li>\n<li><p>In the deployment-step, simply rename your .war-file to *.zip and unzip it.</p></li>\n</ol>\n\n<p>You should now have a lib-directory (which you can move where you want it) with your jar and all the dependencies you need to run your application:</p>\n\n<pre><code>java -cp 'path/lib/*' MainClass\n</code></pre>\n\n<p>(The wildcard in classpath works in Java-6 or higher)</p>\n\n<p>I think this is both simpler to setup in maven (no need  to mess around with the assembly plugin) and also gives you a clearer view of the application-structure (you will see the version-numbers of all dependent jars in plain view, and avoid clogging everything into a single jar-file).</p>\n"},{"tags":[],"owner":{"account_id":2325310,"reputation":384,"user_id":2039966,"display_name":"Francois Gergaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415470735,"creation_date":1415470735,"answer_id":26820468,"question_id":1729054,"body_markdown":"This post may be a bit old, but I also had the same problem recently. The first solution proposed by John Stauffer is a good one, but I had some problems as I am working this spring. The spring&#39;s dependency-jars I use have some property files and xml-schemas declaration which share the same paths and names. Although these jars come from the same versions, the *jar-with-dependencies* maven-goal was overwriting theses file with the last file found. \r\n\r\nIn the end, the application was not able to start as the spring jars could not find the correct properties files. In this case the solution propose by Rop have solved my problem.\r\n\r\nAlso since then, the spring-boot project now exist. It has a very cool way to manage this problem by providing a maven goal which overload the package goal and provide its own class loader. See [spring-boots Reference Guide][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-first-application-executable-jar","title":"Including dependencies in a jar with Maven","body":"<p>This post may be a bit old, but I also had the same problem recently. The first solution proposed by John Stauffer is a good one, but I had some problems as I am working this spring. The spring's dependency-jars I use have some property files and xml-schemas declaration which share the same paths and names. Although these jars come from the same versions, the <em>jar-with-dependencies</em> maven-goal was overwriting theses file with the last file found. </p>\n\n<p>In the end, the application was not able to start as the spring jars could not find the correct properties files. In this case the solution propose by Rop have solved my problem.</p>\n\n<p>Also since then, the spring-boot project now exist. It has a very cool way to manage this problem by providing a maven goal which overload the package goal and provide its own class loader. See <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-first-application-executable-jar\" rel=\"nofollow\">spring-boots Reference Guide</a></p>\n"},{"comments":[{"owner":{"account_id":4086960,"reputation":909,"user_id":3356028,"display_name":"vitro"},"score":2,"creation_date":1564271196,"post_id":32316071,"comment_id":100975934,"body_markdown":"Not quite true regarding services, shade plugin has transformers and one of them is for concatenating contents of files under the `META-INF/services` directory. More info here: https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html","body":"Not quite true regarding services, shade plugin has transformers and one of them is for concatenating contents of files under the <code>META-INF&#47;services</code> directory. More info here: <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>"},{"owner":{"account_id":15611,"reputation":14858,"user_id":33165,"accept_rate":80,"display_name":"tcurdt"},"score":0,"creation_date":1599589336,"post_id":32316071,"comment_id":112818166,"body_markdown":"It basically encapsulates the artifact in its own namespace. I cannot think of any scenario where this still allows for clashes.","body":"It basically encapsulates the artifact in its own namespace. I cannot think of any scenario where this still allows for clashes."}],"tags":[],"owner":{"account_id":2456349,"reputation":1752,"user_id":2141469,"display_name":"Andr&#233; Willik Valenti"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1475883704,"creation_date":1441039599,"answer_id":32316071,"question_id":1729054,"body_markdown":"http://fiji.sc/Uber-JAR provides an excellent explanation of the alternatives: \r\n\r\n&gt; There are three common methods for constructing an uber-JAR:\r\n&gt; \r\n&gt; 1. Unshaded. Unpack all JAR files, then repack them into a single JAR.\r\n* Pro: Works with Java&#39;s default class loader.\r\n* Con: Files present in multiple JAR files with the same path (e.g.,\r\n&gt; META-INF/services/javax.script.ScriptEngineFactory) will overwrite one\r\n&gt; another, resulting in faulty behavior.\r\n* Tools: Maven Assembly\r\n&gt; Plugin, Classworlds Uberjar\r\n&gt; 1. Shaded. Same as unshaded, but rename (i.e., &quot;shade&quot;) all packages of all dependencies.\r\n* Pro: Works with Java&#39;s default class loader.\r\n&gt; Avoids some (not all) dependency version clashes.\r\n* Con: Files\r\n&gt; present in multiple JAR files with the same path (e.g.,\r\n&gt; META-INF/services/javax.script.ScriptEngineFactory) will overwrite one\r\n&gt; another, resulting in faulty behavior.\r\n* Tools: Maven Shade Plugin\r\n&gt; 1. JAR of JARs. The final JAR file contains the other JAR files embedded within.\r\n* Pro: Avoids dependency version clashes. All\r\n&gt; resource files are preserved.\r\n* Con: Needs to bundle a special\r\n&gt; &quot;bootstrap&quot; classloader to enable Java to load classes from the\r\n&gt; wrapped JAR files. Debugging class loader issues becomes more complex.\r\n&gt; * Tools: Eclipse JAR File Exporter, One-JAR.","title":"Including dependencies in a jar with Maven","body":"<p><a href=\"http://fiji.sc/Uber-JAR\" rel=\"noreferrer\">http://fiji.sc/Uber-JAR</a> provides an excellent explanation of the alternatives: </p>\n\n<blockquote>\n  <p>There are three common methods for constructing an uber-JAR:</p>\n  \n  <ol>\n  <li>Unshaded. Unpack all JAR files, then repack them into a single JAR.\n  \n  <ul>\n  <li>Pro: Works with Java's default class loader.</li>\n  <li>Con: Files present in multiple JAR files with the same path (e.g.,\n  META-INF/services/javax.script.ScriptEngineFactory) will overwrite one\n  another, resulting in faulty behavior.</li>\n  <li>Tools: Maven Assembly\n  Plugin, Classworlds Uberjar</li>\n  </ul></li>\n  <li>Shaded. Same as unshaded, but rename (i.e., \"shade\") all packages of all dependencies.\n  \n  <ul>\n  <li>Pro: Works with Java's default class loader.\n  Avoids some (not all) dependency version clashes.</li>\n  <li>Con: Files\n  present in multiple JAR files with the same path (e.g.,\n  META-INF/services/javax.script.ScriptEngineFactory) will overwrite one\n  another, resulting in faulty behavior.</li>\n  <li>Tools: Maven Shade Plugin</li>\n  </ul></li>\n  <li>JAR of JARs. The final JAR file contains the other JAR files embedded within.\n  \n  <ul>\n  <li>Pro: Avoids dependency version clashes. All\n  resource files are preserved.</li>\n  <li>Con: Needs to bundle a special\n  \"bootstrap\" classloader to enable Java to load classes from the\n  wrapped JAR files. Debugging class loader issues becomes more complex.</li>\n  <li>Tools: Eclipse JAR File Exporter, One-JAR.</li>\n  </ul></li>\n  </ol>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":6934811,"reputation":71,"user_id":5323129,"display_name":"Glaucio Southier"},"score":0,"creation_date":1441922642,"post_id":32512343,"comment_id":52883680,"body_markdown":"the maven-dependency-plugin &lt;outputDirectory&gt; dont work, always write on &quot;dependency&quot; folder","body":"the maven-dependency-plugin &lt;outputDirectory&gt; dont work, always write on &quot;dependency&quot; folder"},{"owner":{"account_id":6934811,"reputation":71,"user_id":5323129,"display_name":"Glaucio Southier"},"score":0,"creation_date":1441922996,"post_id":32512343,"comment_id":52883804,"body_markdown":"create a jar with a internal folder &quot;dependency&quot;  containing project dependencies and put it on MANIFEST.MF","body":"create a jar with a internal folder &quot;dependency&quot;  containing project dependencies and put it on MANIFEST.MF"},{"owner":{"account_id":6934811,"reputation":71,"user_id":5323129,"display_name":"Glaucio Southier"},"score":0,"creation_date":1446046832,"post_id":32512343,"comment_id":54582056,"body_markdown":"&lt;resources&gt;\n\t\t\t&lt;resource&gt;\n\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\n\t\t\t\t&lt;includes&gt;\n\t\t\t\t\t&lt;include&gt;**/*.java&lt;/include&gt;\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\n\t\t\t\t&lt;/includes&gt;\n\t\t\t&lt;/resource&gt;\n\t\t\t&lt;resource&gt;\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\n\t\t\t\t&lt;includes&gt;\n\t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\n\t\t\t\t&lt;/includes&gt;\n\t\t\t\t&lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\n\t\t\t&lt;/resource&gt;\n\t\t\t&lt;resource&gt;\n\t\t\t\t&lt;directory&gt;${project.build.directory}/dependency/&lt;/directory&gt;\n\t\t\t\t&lt;includes&gt;\n\t\t\t\t\t&lt;include&gt;*.jar&lt;/include&gt;\n\t\t\t\t&lt;/includes&gt;\n\t\t\t\t&lt;targetPath&gt;lib/&lt;/targetPath&gt;\n\t\t\t&lt;/resource&gt;\n\t\t&lt;/resources&gt;","body":"&lt;resources&gt; \t\t\t&lt;resource&gt; \t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt; \t\t\t\t&lt;includes&gt; \t\t\t\t\t&lt;include&gt;**/*.java&lt;/include&gt; \t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt; \t\t\t\t&lt;/includes&gt; \t\t\t&lt;/resource&gt; \t\t\t&lt;resource&gt; \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt; \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt; \t\t\t\t&lt;includes&gt; \t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt; \t\t\t\t&lt;/includes&gt; \t\t\t\t&lt;targetPath&gt;META-INF/&lt;/targetPath&gt; \t\t\t&lt;/resource&gt; \t\t\t&lt;resource&gt; \t\t\t\t&lt;directory&gt;${project.build.directory}/dependency/&lt;/direc&zwnj;&#8203;tory&gt; \t\t\t\t&lt;includes&gt; \t\t\t\t\t&lt;include&gt;*.jar&lt;/include&gt; \t\t\t\t&lt;/includes&gt; \t\t\t\t&lt;targetPath&gt;lib/&lt;/targetPath&gt; \t\t\t&lt;/resource&gt; \t\t&lt;/resources&gt;"},{"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"score":1,"creation_date":1471563746,"post_id":32512343,"comment_id":65408770,"body_markdown":"Based on this answer I created this project. You shouldn&#39;t need to change anything except the pom file: https://github.com/raisercostin/jarinjarloader","body":"Based on this answer I created this project. You shouldn&#39;t need to change anything except the pom file: <a href=\"https://github.com/raisercostin/jarinjarloader\" rel=\"nofollow noreferrer\">github.com/raisercostin/jarinjarloader</a>"}],"tags":[],"owner":{"account_id":6934811,"reputation":71,"user_id":5323129,"display_name":"Glaucio Southier"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1446048099,"creation_date":1441922512,"answer_id":32512343,"question_id":1729054,"body_markdown":"My definitive solution on Eclipse Luna and m2eclipse:\r\nCustom Classloader (download and add to your project, 5 classes only)\r\n:http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/plain/org.eclipse.jdt.ui/jar%20in%20jar%20loader/org/eclipse/jdt/internal/jarinjarloader/;\r\nthis classloader is very best of one-jar classloader and very fast;\r\n\r\n`&lt;project.mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/project.mainClass&gt;\r\n&lt;project.realMainClass&gt;my.Class&lt;/project.realMainClass&gt;`\r\n\r\nEdit in JIJConstants &quot;Rsrc-Class-Path&quot; to &quot;Class-Path&quot;&lt;br/&gt;\r\n    mvn clean dependency:copy-dependencies package &lt;br/&gt;\r\nis created a jar with dependencies in lib folder with a thin classloader \r\n\r\n    &lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${project.build.directory}/dependency/&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;*.jar&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;targetPath&gt;lib/&lt;/targetPath&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n    &lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\r\n\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;Rsrc-Main-Class&gt;${project.realMainClass}  &lt;/Rsrc-Main-Class&gt;\r\n\t\t\t\t\t\t\t\t&lt;Class-Path&gt;./&lt;/Class-Path&gt;\r\n\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n","title":"Including dependencies in a jar with Maven","body":"<p>My definitive solution on Eclipse Luna and m2eclipse:\nCustom Classloader (download and add to your project, 5 classes only)\n:<a href=\"http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/plain/org.eclipse.jdt.ui/jar%20in%20jar%20loader/org/eclipse/jdt/internal/jarinjarloader/\" rel=\"nofollow\">http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/plain/org.eclipse.jdt.ui/jar%20in%20jar%20loader/org/eclipse/jdt/internal/jarinjarloader/</a>;\nthis classloader is very best of one-jar classloader and very fast;</p>\n\n<p><code>&lt;project.mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/project.mainClass&gt;\n&lt;project.realMainClass&gt;my.Class&lt;/project.realMainClass&gt;</code></p>\n\n<p>Edit in JIJConstants \"Rsrc-Class-Path\" to \"Class-Path\"<br/>\n    mvn clean dependency:copy-dependencies package <br/>\nis created a jar with dependencies in lib folder with a thin classloader </p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;targetPath&gt;META-INF/&lt;/targetPath&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.build.directory}/dependency/&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;targetPath&gt;lib/&lt;/targetPath&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;pluginManagement&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;/manifest&gt;\n\n                        &lt;manifestEntries&gt;\n                            &lt;Rsrc-Main-Class&gt;${project.realMainClass}  &lt;/Rsrc-Main-Class&gt;\n                            &lt;Class-Path&gt;./&lt;/Class-Path&gt;\n                        &lt;/manifestEntries&gt;\n\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2136376,"reputation":351,"user_id":1896066,"display_name":"millebi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466196617,"creation_date":1466196617,"answer_id":37890200,"question_id":1729054,"body_markdown":"[Have a look at this answer:][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8293741/download-war-from-snapshot-repository-and-deploy-to-local-jboss-using-mvn\r\n\r\nI am creating an installer that runs as a Java JAR file and it needs to unpack WAR and JAR files into appropriate places in the installation directory. The dependency plugin can be used in the package phase with the copy goal and it will download any file in the Maven repository (including WAR files) and write them where ever you need them. I changed the output directory to ${project.build.directory}/classes and then end result is that the normal JAR task includes my files just fine. I can then extract them and write them into the installation directory.\r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;getWar&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;the.group.I.use&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;MyServerServer&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${env.JAVA_SERVER_REL_VER}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n\t\t\t\t\t\t&lt;destFileName&gt;myWar.war&lt;/destFileName&gt;\r\n\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n","title":"Including dependencies in a jar with Maven","body":"<p><a href=\"https://stackoverflow.com/questions/8293741/download-war-from-snapshot-repository-and-deploy-to-local-jboss-using-mvn\">Have a look at this answer:</a></p>\n\n<p>I am creating an installer that runs as a Java JAR file and it needs to unpack WAR and JAR files into appropriate places in the installation directory. The dependency plugin can be used in the package phase with the copy goal and it will download any file in the Maven repository (including WAR files) and write them where ever you need them. I changed the output directory to ${project.build.directory}/classes and then end result is that the normal JAR task includes my files just fine. I can then extract them and write them into the installation directory.</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;getWar&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;copy&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                    &lt;groupId&gt;the.group.I.use&lt;/groupId&gt;\n                    &lt;artifactId&gt;MyServerServer&lt;/artifactId&gt;\n                    &lt;version&gt;${env.JAVA_SERVER_REL_VER}&lt;/version&gt;\n                    &lt;type&gt;war&lt;/type&gt;\n                    &lt;destFileName&gt;myWar.war&lt;/destFileName&gt;\n                &lt;/artifactItem&gt;\n            &lt;/artifactItems&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1870,"user_id":2517035,"display_name":"Rajeev Rathor"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1476696969,"creation_date":1476695842,"answer_id":40082562,"question_id":1729054,"body_markdown":"Thanks\r\nI have added below snippet in POM.xml file and Mp problem resolved and \r\ncreate fat jar file that include all dependent jars.\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t    &lt;executions&gt;\r\n    \t\t    &lt;execution&gt;\r\n    \t\t\t    &lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t    &lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t        &lt;/goals&gt;\r\n    \t\t    &lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t    &lt;configuration&gt;\r\n    \t\t    &lt;descriptorRefs&gt;\r\n    \t\t\t    &lt;descriptorRef&gt;dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n","title":"Including dependencies in a jar with Maven","body":"<p>Thanks\nI have added below snippet in POM.xml file and Mp problem resolved and \ncreate fat jar file that include all dependent jars.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":3,"creation_date":1546623862,"post_id":41383973,"comment_id":94922897,"body_markdown":"Why is the name of jar appended by &quot;jar-with-dependencies&quot;?! Any workarounds?","body":"Why is the name of jar appended by &quot;jar-with-dependencies&quot;?! Any workarounds?"},{"owner":{"account_id":3356749,"reputation":472,"user_id":2819501,"display_name":"ccu"},"score":11,"creation_date":1575216709,"post_id":41383973,"comment_id":104483012,"body_markdown":"@Tina J you can add `&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;` inside the `&lt;configuration&gt;` tag to exclude the &quot;-jar-with-dependencies&quot; suffix in the final name.","body":"@Tina J you can add <code>&lt;appendAssemblyId&gt;false&lt;&#47;appendAssemblyId&gt;</code> inside the <code>&lt;configuration&gt;</code> tag to exclude the &quot;-jar-with-dependencies&quot; suffix in the final name."}],"tags":[],"owner":{"account_id":5631987,"reputation":2078,"user_id":4458667,"accept_rate":88,"display_name":"abdiel"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1483031893,"creation_date":1483030503,"answer_id":41383973,"question_id":1729054,"body_markdown":"If you want to do an executable jar file, them need set the main class too. So the full configuration should be.\r\n\r\n    \r\n\r\n        &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                     &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                     &lt;executions&gt;\r\n                         &lt;execution&gt;\r\n                              &lt;phase&gt;package&lt;/phase&gt;\r\n                              &lt;goals&gt;\r\n                                  &lt;goal&gt;single&lt;/goal&gt;\r\n                              &lt;/goals&gt;\r\n                          &lt;/execution&gt;\r\n                      &lt;/executions&gt;\r\n                      &lt;configuration&gt;\r\n                           &lt;!-- ... --&gt;\r\n                           &lt;archive&gt;\r\n                               &lt;manifest&gt;\r\n                                     &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                               &lt;/manifest&gt;\r\n                           &lt;/archive&gt;\r\n                           &lt;descriptorRefs&gt;\r\n                               &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                          &lt;/descriptorRefs&gt;\r\n                     &lt;/configuration&gt;\r\n             &lt;/plugin&gt;\r\n       &lt;/plugins&gt;","title":"Including dependencies in a jar with Maven","body":"<p>If you want to do an executable jar file, them need set the main class too. So the full configuration should be.</p>\n\n<pre><code>    &lt;plugins&gt;\n            &lt;plugin&gt;\n                 &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                 &lt;executions&gt;\n                     &lt;execution&gt;\n                          &lt;phase&gt;package&lt;/phase&gt;\n                          &lt;goals&gt;\n                              &lt;goal&gt;single&lt;/goal&gt;\n                          &lt;/goals&gt;\n                      &lt;/execution&gt;\n                  &lt;/executions&gt;\n                  &lt;configuration&gt;\n                       &lt;!-- ... --&gt;\n                       &lt;archive&gt;\n                           &lt;manifest&gt;\n                                 &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                           &lt;/manifest&gt;\n                       &lt;/archive&gt;\n                       &lt;descriptorRefs&gt;\n                           &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                      &lt;/descriptorRefs&gt;\n                 &lt;/configuration&gt;\n         &lt;/plugin&gt;\n   &lt;/plugins&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6645879,"reputation":1048,"user_id":5130011,"accept_rate":100,"display_name":"Kalesh Kaladharan"},"score":0,"creation_date":1634916536,"post_id":49398943,"comment_id":123163977,"body_markdown":"The first option is the best for faster rebuilds. `assembly-plugin` just takes too much time packaging dependencies, which is expected.","body":"The first option is the best for faster rebuilds. <code>assembly-plugin</code> just takes too much time packaging dependencies, which is expected."},{"owner":{"display_name":"user4538583"},"score":0,"creation_date":1639406883,"post_id":49398943,"comment_id":124333875,"body_markdown":"I tried the first approach here. In the documentation, it states &quot;&quot;Note: The Class-Path header points to classes or JAR files on the local network, not JAR files within the JAR file or classes accessible over Internet protocols. To load classes in JAR files within a JAR file into the class path, you must write custom code to load those classes.&quot; In your Method 1, are you referring people to writing custom jar loaders?","body":"I tried the first approach here. In the documentation, it states &quot;&quot;Note: The Class-Path header points to classes or JAR files on the local network, not JAR files within the JAR file or classes accessible over Internet protocols. To load classes in JAR files within a JAR file into the class path, you must write custom code to load those classes.&quot; In your Method 1, are you referring people to writing custom jar loaders?"},{"owner":{"display_name":"user4538583"},"score":0,"creation_date":1639406932,"post_id":49398943,"comment_id":124333898,"body_markdown":"I noticed there was a difference in the copying and unpacking in comparison to the assembly. I kept getting &quot;ClassNotFoundException&quot; when trying to run my jar file for my server. How do you recommend proceeding if using your method 1? I couldn&#39;t get mine to work.","body":"I noticed there was a difference in the copying and unpacking in comparison to the assembly. I kept getting &quot;ClassNotFoundException&quot; when trying to run my jar file for my server. How do you recommend proceeding if using your method 1? I couldn&#39;t get mine to work."},{"owner":{"account_id":3915840,"reputation":570,"user_id":3239668,"accept_rate":58,"display_name":"Tianbing Leng"},"score":0,"creation_date":1651019959,"post_id":49398943,"comment_id":127260893,"body_markdown":"Option 2 works for me, thanks!","body":"Option 2 works for me, thanks!"},{"owner":{"account_id":2690516,"reputation":105,"user_id":2323972,"display_name":"Mic"},"score":1,"creation_date":1656947394,"post_id":49398943,"comment_id":128688878,"body_markdown":"For option 1 (If you don&#39;t want to copy JUnit dependencies to target folder) you must add &lt;includeScope&gt;compile&lt;/includeScope&gt; to the maven-dependency-plugin &lt;configuration&gt;","body":"For option 1 (If you don&#39;t want to copy JUnit dependencies to target folder) you must add &lt;includeScope&gt;compile&lt;/includeScope&gt; to the maven-dependency-plugin &lt;configuration&gt;"}],"tags":[],"owner":{"account_id":13190028,"reputation":241,"user_id":9526595,"display_name":"Leslie Li"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1666829542,"creation_date":1521610785,"answer_id":49398943,"question_id":1729054,"body_markdown":"Method 1: Copy the dependencies&#39; JAR files into `target/lib` and then add them to the JAR&#39;s classpath in MANIFEST:\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                    &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt; \r\n                    &lt;stripVersion&gt;false&lt;/stripVersion&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Add LIB folder to classPath --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nMethod 2: Unpack all dependencies and repack their classes and resources into one flat JAR. Note: The overlapping resources will be randomly lost!\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Including dependencies in a jar with Maven","body":"<p>Method 1: Copy the dependencies' JAR files into <code>target/lib</code> and then add them to the JAR's classpath in MANIFEST:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt; \n                &lt;stripVersion&gt;false&lt;/stripVersion&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Add LIB folder to classPath --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Method 2: Unpack all dependencies and repack their classes and resources into one flat JAR. Note: The overlapping resources will be randomly lost!</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16427407,"reputation":164,"user_id":11867095,"display_name":"Harihara_K"},"score":0,"creation_date":1624534562,"post_id":66114712,"comment_id":120388418,"body_markdown":"Please describe, how it exactly solves the problem","body":"Please describe, how it exactly solves the problem"},{"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"score":0,"creation_date":1624603316,"post_id":66114712,"comment_id":120408141,"body_markdown":"I have added only this plugin","body":"I have added only this plugin"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1666830270,"post_id":66114712,"comment_id":131030994,"body_markdown":"This is for something else: A Spring Boot specific solution, and needs  Spring Boot to understand the resulting archive. See https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.layers","body":"This is for something else: A Spring Boot specific solution, and needs  Spring Boot to understand the resulting archive. See <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.layers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"}],"tags":[],"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1612856050,"creation_date":1612856050,"answer_id":66114712,"question_id":1729054,"body_markdown":"To make it more simple, You can use the below plugin.\r\n\r\n                 &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;classifier&gt;spring-boot&lt;/classifier&gt;\r\n                                &lt;mainClass&gt;\r\n                                    com.nirav.certificate.CertificateUtility\r\n                                &lt;/mainClass&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;","title":"Including dependencies in a jar with Maven","body":"<p>To make it more simple, You can use the below plugin.</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n                            &lt;mainClass&gt;\n                                com.nirav.certificate.CertificateUtility\n                            &lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11935386,"reputation":1283,"user_id":8734046,"display_name":"jwpol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615390943,"creation_date":1615390943,"answer_id":66568110,"question_id":1729054,"body_markdown":"I was trying to do sth similar, but I didn&#39;t want all jars to be included. I wanted to include some specific directories from the given dependency. In addition classifier tag was already occupied, so I couldn&#39;t do:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;your.group.id&lt;/groupId&gt;\r\n        &lt;artifactId&gt;your.artifact.id&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n 1. I used maven-dependency-plugin and unpack goal\r\n 2. And unpacked what I wanted to the ```${project.build.directory}/classes```, otherwise it will be omitted\r\n 3. Because it was in the classes directory, maven finally placed it in the jar\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;unpack&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;my.group&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;my.artifact&lt;/artifactId&gt;\r\n                        &lt;classifier&gt;occupied&lt;/classifier&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;includes&gt;aaa/**, bbb/**, ccc/**&lt;/includes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Including dependencies in a jar with Maven","body":"<p>I was trying to do sth similar, but I didn't want all jars to be included. I wanted to include some specific directories from the given dependency. In addition classifier tag was already occupied, so I couldn't do:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;your.group.id&lt;/groupId&gt;\n        &lt;artifactId&gt;your.artifact.id&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<ol>\n<li>I used maven-dependency-plugin and unpack goal</li>\n<li>And unpacked what I wanted to the <code>${project.build.directory}/classes</code>, otherwise it will be omitted</li>\n<li>Because it was in the classes directory, maven finally placed it in the jar</li>\n</ol>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;unpack&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;artifactItems&gt;\n                    &lt;artifactItem&gt;\n                        &lt;groupId&gt;my.group&lt;/groupId&gt;\n                        &lt;artifactId&gt;my.artifact&lt;/artifactId&gt;\n                        &lt;classifier&gt;occupied&lt;/classifier&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                    &lt;/artifactItem&gt;\n                &lt;/artifactItems&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                &lt;includes&gt;aaa/**, bbb/**, ccc/**&lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115726,"reputation":631,"user_id":1105098,"accept_rate":77,"display_name":"Reece"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675468905,"creation_date":1675468905,"answer_id":75342089,"question_id":1729054,"body_markdown":"I found this to be the clearest answer; other answers here were missing things that weren&#39;t obvious to me such as mvn clean package command for example, and adding the plugin separately as a dependancy also.  All of which are probably obvious to more habitual maven users.\r\n\r\nhttps://howtodoinjava.com/maven/executable-jar-with-dependencies/ ","title":"Including dependencies in a jar with Maven","body":"<p>I found this to be the clearest answer; other answers here were missing things that weren't obvious to me such as mvn clean package command for example, and adding the plugin separately as a dependancy also.  All of which are probably obvious to more habitual maven users.</p>\n<p><a href=\"https://howtodoinjava.com/maven/executable-jar-with-dependencies/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/maven/executable-jar-with-dependencies/</a></p>\n"}],"owner":{"account_id":72985,"reputation":4507,"user_id":210441,"accept_rate":82,"display_name":"racer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625762,"favorite_count":0,"down_vote_count":1,"up_vote_count":443,"accepted_answer_id":1729094,"answer_count":16,"score":442,"last_activity_date":1675468905,"creation_date":1258116684,"question_id":1729054,"body_markdown":"Is there a way to force maven(2.0.9) to include all the dependencies in a single jar file?\r\n\r\nI have a project the builds into a single jar file. I want the classes from dependencies to be copied into the jar as well.\r\n\r\n**Update:** I know that I cant just include a jar file in a jar file. I&#39;m searching for a way to unpack the jars that are specified as dependencies, and package the class files into my jar.","title":"Including dependencies in a jar with Maven","body":"<p>Is there a way to force maven(2.0.9) to include all the dependencies in a single jar file?</p>\n\n<p>I have a project the builds into a single jar file. I want the classes from dependencies to be copied into the jar as well.</p>\n\n<p><strong>Update:</strong> I know that I cant just include a jar file in a jar file. I'm searching for a way to unpack the jars that are specified as dependencies, and package the class files into my jar.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":2,"creation_date":1675464940,"post_id":75341693,"comment_id":132942328,"body_markdown":"All you are doing is setting the root of the current scene.  You aren&#39;t creating a new scene so of course the state of the scene hasn&#39;t changed.","body":"All you are doing is setting the root of the current scene.  You aren&#39;t creating a new scene so of course the state of the scene hasn&#39;t changed."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1675472960,"post_id":75341693,"comment_id":132943351,"body_markdown":"Always try to supply a [mcve] for debugging issues, so your problem can be easily replicated.","body":"Always try to supply a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for debugging issues, so your problem can be easily replicated."}],"owner":{"account_id":22454879,"reputation":33,"user_id":16657698,"display_name":"Pilonyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675468026,"creation_date":1675464171,"question_id":75341693,"body_markdown":"Everything works fine after switching to scene with my method (swichScene) at the first time.\r\nBut if I go to another scene and switch back (second time opening scene) the Buttons in my GameController aren&#39;t reassigned, so I have the old Buttons and can&#39;t change anything.\r\nThe variables get updated when pressing the Button.\r\n\r\nSteps to recreate:\r\n1) create 2 fxml scenes with at least 2 buttons in the second\r\n2) switch to second scene and change the Image in the button which isn&#39;t pressed (When the other one is pressed)\r\n-&gt; works\r\n3) Switch back to scene 1 and repeat step 2\r\n-&gt; doesn&#39;t work\r\n\r\nMy Controller:\r\n\r\n    public class GameController {\r\n    ... some stuff ...\r\n        @FXML\r\n        private Button gameField0;\r\n    ... some stuff...\r\n\r\nMy Button in game.fxml which has GameController as controller\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: #0E328C;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n    fx:controller=&quot;com.example.tictactoe.GameController&quot;&gt;\r\n    ... some stuff ...\r\n                            &lt;Button fx:id=&quot;gameField0&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#pressedField0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;100.0&quot; styleClass=&quot;tttfield&quot;&gt;\r\n                               &lt;graphic&gt;\r\n                                  &lt;ImageView fitHeight=&quot;75.0&quot; fitWidth=&quot;75.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n                               &lt;/graphic&gt;\r\n                            &lt;/Button&gt;\r\n    ... some stuff ...\r\n\r\nMy start():\r\n\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;startpage.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        // Stage setup\r\n        stage.setTitle(&quot;TicTacToe&quot;);\r\n        Image icon = new Image(App.class.getResource(&quot;icon.png&quot;).toString());\r\n        stage.getIcons().add(icon);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        this.stage = stage;\r\n        this.scene = scene;\r\n    }\r\n\r\nSwitching to game.fxml which has GameController as controller\r\n\r\n    public static void swichScene(Scene currentScene, Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(game.fxml));\r\n        currentScene.setRoot(fxmlLoader.load());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }","title":"JavaFx - fx:id not changed after creating scene second time","body":"<p>Everything works fine after switching to scene with my method (swichScene) at the first time.\nBut if I go to another scene and switch back (second time opening scene) the Buttons in my GameController aren't reassigned, so I have the old Buttons and can't change anything.\nThe variables get updated when pressing the Button.</p>\n<p>Steps to recreate:</p>\n<ol>\n<li>create 2 fxml scenes with at least 2 buttons in the second</li>\n<li>switch to second scene and change the Image in the button which isn't pressed (When the other one is pressed)\n-&gt; works</li>\n<li>Switch back to scene 1 and repeat step 2\n-&gt; doesn't work</li>\n</ol>\n<p>My Controller:</p>\n<pre><code>public class GameController {\n... some stuff ...\n    @FXML\n    private Button gameField0;\n... some stuff...\n</code></pre>\n<p>My Button in game.fxml which has GameController as controller</p>\n<pre><code>&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;1000.0&quot; style=&quot;-fx-background-color: #0E328C;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\nfx:controller=&quot;com.example.tictactoe.GameController&quot;&gt;\n... some stuff ...\n                        &lt;Button fx:id=&quot;gameField0&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#pressedField0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;100.0&quot; styleClass=&quot;tttfield&quot;&gt;\n                           &lt;graphic&gt;\n                              &lt;ImageView fitHeight=&quot;75.0&quot; fitWidth=&quot;75.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\n                           &lt;/graphic&gt;\n                        &lt;/Button&gt;\n... some stuff ...\n</code></pre>\n<p>My start():</p>\n<pre><code>public void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;startpage.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load());\n    // Stage setup\n    stage.setTitle(&quot;TicTacToe&quot;);\n    Image icon = new Image(App.class.getResource(&quot;icon.png&quot;).toString());\n    stage.getIcons().add(icon);\n    stage.setScene(scene);\n    stage.show();\n    this.stage = stage;\n    this.scene = scene;\n}\n</code></pre>\n<p>Switching to game.fxml which has GameController as controller</p>\n<pre><code>public static void swichScene(Scene currentScene, Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(game.fxml));\n    currentScene.setRoot(fxmlLoader.load());\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1644830374,"post_id":71109024,"comment_id":125700642,"body_markdown":"Use [Discord4j](https://discord4j.com/), you can probably find what you need in the documentation.","body":"Use <a href=\"https://discord4j.com/\" rel=\"nofollow noreferrer\">Discord4j</a>, you can probably find what you need in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644835432,"creation_date":1644835432,"answer_id":71110576,"question_id":71109024,"body_markdown":"You can use [this](https://gist.github.com/k3kdude/fba6f6b37594eae3d6f9475330733bdb) which personally works for me. This is the full code if the gist expire:\r\n```\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport java.awt.Color;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.lang.reflect.Array;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n/**\r\n * Class used to execute Discord Webhooks with low effort\r\n * Come from: https://gist.github.com/k3kdude/fba6f6b37594eae3d6f9475330733bdb\r\n */\r\npublic class DiscordWebhook {\r\n\r\n    private final String url;\r\n    private String content;\r\n    private String username;\r\n    private String avatarUrl;\r\n    private boolean tts;\r\n    private List&lt;EmbedObject&gt; embeds = new ArrayList&lt;&gt;();\r\n\r\n    /**\r\n     * Constructs a new DiscordWebhook instance\r\n     *\r\n     * @param url The webhook URL obtained in Discord\r\n     */\r\n    public DiscordWebhook(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public void setContent(String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setAvatarUrl(String avatarUrl) {\r\n        this.avatarUrl = avatarUrl;\r\n    }\r\n\r\n    public void setTts(boolean tts) {\r\n        this.tts = tts;\r\n    }\r\n\r\n    public void addEmbed(EmbedObject embed) {\r\n        this.embeds.add(embed);\r\n    }\r\n\r\n    public void execute() throws IOException {\r\n        if (this.content == null &amp;&amp; this.embeds.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;Set content or add at least one EmbedObject&quot;);\r\n        }\r\n\r\n        JSONObject json = new JSONObject();\r\n\r\n        json.put(&quot;content&quot;, this.content);\r\n        json.put(&quot;username&quot;, this.username);\r\n        json.put(&quot;avatar_url&quot;, this.avatarUrl);\r\n        json.put(&quot;tts&quot;, this.tts);\r\n\r\n        if (!this.embeds.isEmpty()) {\r\n            List&lt;JSONObject&gt; embedObjects = new ArrayList&lt;&gt;();\r\n\r\n            for (EmbedObject embed : this.embeds) {\r\n                JSONObject jsonEmbed = new JSONObject();\r\n\r\n                jsonEmbed.put(&quot;title&quot;, embed.getTitle());\r\n                jsonEmbed.put(&quot;description&quot;, embed.getDescription());\r\n                jsonEmbed.put(&quot;url&quot;, embed.getUrl());\r\n\r\n                if (embed.getColor() != null) {\r\n                    Color color = embed.getColor();\r\n                    int rgb = color.getRed();\r\n                    rgb = (rgb &lt;&lt; 8) + color.getGreen();\r\n                    rgb = (rgb &lt;&lt; 8) + color.getBlue();\r\n\r\n                    jsonEmbed.put(&quot;color&quot;, rgb);\r\n                }\r\n\r\n                EmbedObject.Footer footer = embed.getFooter();\r\n                EmbedObject.Image image = embed.getImage();\r\n                EmbedObject.Thumbnail thumbnail = embed.getThumbnail();\r\n                EmbedObject.Author author = embed.getAuthor();\r\n                List&lt;EmbedObject.Field&gt; fields = embed.getFields();\r\n\r\n                if (footer != null) {\r\n                    JSONObject jsonFooter = new JSONObject();\r\n\r\n                    jsonFooter.put(&quot;text&quot;, footer.getText());\r\n                    jsonFooter.put(&quot;icon_url&quot;, footer.getIconUrl());\r\n                    jsonEmbed.put(&quot;footer&quot;, jsonFooter);\r\n                }\r\n\r\n                if (image != null) {\r\n                    JSONObject jsonImage = new JSONObject();\r\n\r\n                    jsonImage.put(&quot;url&quot;, image.getUrl());\r\n                    jsonEmbed.put(&quot;image&quot;, jsonImage);\r\n                }\r\n\r\n                if (thumbnail != null) {\r\n                    JSONObject jsonThumbnail = new JSONObject();\r\n\r\n                    jsonThumbnail.put(&quot;url&quot;, thumbnail.getUrl());\r\n                    jsonEmbed.put(&quot;thumbnail&quot;, jsonThumbnail);\r\n                }\r\n\r\n                if (author != null) {\r\n                    JSONObject jsonAuthor = new JSONObject();\r\n\r\n                    jsonAuthor.put(&quot;name&quot;, author.getName());\r\n                    jsonAuthor.put(&quot;url&quot;, author.getUrl());\r\n                    jsonAuthor.put(&quot;icon_url&quot;, author.getIconUrl());\r\n                    jsonEmbed.put(&quot;author&quot;, jsonAuthor);\r\n                }\r\n\r\n                List&lt;JSONObject&gt; jsonFields = new ArrayList&lt;&gt;();\r\n                for (EmbedObject.Field field : fields) {\r\n                    JSONObject jsonField = new JSONObject();\r\n\r\n                    jsonField.put(&quot;name&quot;, field.getName());\r\n                    jsonField.put(&quot;value&quot;, field.getValue());\r\n                    jsonField.put(&quot;inline&quot;, field.isInline());\r\n\r\n                    jsonFields.add(jsonField);\r\n                }\r\n\r\n                jsonEmbed.put(&quot;fields&quot;, jsonFields.toArray());\r\n                embedObjects.add(jsonEmbed);\r\n            }\r\n\r\n            json.put(&quot;embeds&quot;, embedObjects.toArray());\r\n        }\r\n\r\n        URL url = new URL(this.url);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Java-DiscordWebhook-BY-Gelox_&quot;);\r\n        connection.setDoOutput(true);\r\n        connection.setRequestMethod(&quot;POST&quot;);\r\n\r\n        OutputStream stream = connection.getOutputStream();\r\n        stream.write(json.toString().getBytes());\r\n        stream.flush();\r\n        stream.close();\r\n\r\n        connection.getInputStream().close(); //I&#39;m not sure why but it doesn&#39;t work without getting the InputStream\r\n        connection.disconnect();\r\n    }\r\n\r\n    public static class EmbedObject {\r\n        private String title;\r\n        private String description;\r\n        private String url;\r\n        private Color color;\r\n\r\n        private Footer footer;\r\n        private Thumbnail thumbnail;\r\n        private Image image;\r\n        private Author author;\r\n        private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n\r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n\r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n\r\n        public Footer getFooter() {\r\n            return footer;\r\n        }\r\n\r\n        public Thumbnail getThumbnail() {\r\n            return thumbnail;\r\n        }\r\n\r\n        public Image getImage() {\r\n            return image;\r\n        }\r\n\r\n        public Author getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        public List&lt;Field&gt; getFields() {\r\n            return fields;\r\n        }\r\n\r\n        public EmbedObject setTitle(String title) {\r\n            this.title = title;\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setDescription(String description) {\r\n            this.description = description;\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setUrl(String url) {\r\n            this.url = url;\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setColor(Color color) {\r\n            this.color = color;\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setFooter(String text, String icon) {\r\n            this.footer = new Footer(text, icon);\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setThumbnail(String url) {\r\n            this.thumbnail = new Thumbnail(url);\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setImage(String url) {\r\n            this.image = new Image(url);\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject setAuthor(String name, String url, String icon) {\r\n            this.author = new Author(name, url, icon);\r\n            return this;\r\n        }\r\n\r\n        public EmbedObject addField(String name, String value, boolean inline) {\r\n            this.fields.add(new Field(name, value, inline));\r\n            return this;\r\n        }\r\n\r\n        private class Footer {\r\n            private String text;\r\n            private String iconUrl;\r\n\r\n            private Footer(String text, String iconUrl) {\r\n                this.text = text;\r\n                this.iconUrl = iconUrl;\r\n            }\r\n\r\n            private String getText() {\r\n                return text;\r\n            }\r\n\r\n            private String getIconUrl() {\r\n                return iconUrl;\r\n            }\r\n        }\r\n\r\n        private class Thumbnail {\r\n            private String url;\r\n\r\n            private Thumbnail(String url) {\r\n                this.url = url;\r\n            }\r\n\r\n            private String getUrl() {\r\n                return url;\r\n            }\r\n        }\r\n\r\n        private class Image {\r\n            private String url;\r\n\r\n            private Image(String url) {\r\n                this.url = url;\r\n            }\r\n\r\n            private String getUrl() {\r\n                return url;\r\n            }\r\n        }\r\n\r\n        private class Author {\r\n            private String name;\r\n            private String url;\r\n            private String iconUrl;\r\n\r\n            private Author(String name, String url, String iconUrl) {\r\n                this.name = name;\r\n                this.url = url;\r\n                this.iconUrl = iconUrl;\r\n            }\r\n\r\n            private String getName() {\r\n                return name;\r\n            }\r\n\r\n            private String getUrl() {\r\n                return url;\r\n            }\r\n\r\n            private String getIconUrl() {\r\n                return iconUrl;\r\n            }\r\n        }\r\n\r\n        private class Field {\r\n            private String name;\r\n            private String value;\r\n            private boolean inline;\r\n\r\n            private Field(String name, String value, boolean inline) {\r\n                this.name = name;\r\n                this.value = value;\r\n                this.inline = inline;\r\n            }\r\n\r\n            private String getName() {\r\n                return name;\r\n            }\r\n\r\n            private String getValue() {\r\n                return value;\r\n            }\r\n\r\n            private boolean isInline() {\r\n                return inline;\r\n            }\r\n        }\r\n    }\r\n\r\n    private class JSONObject {\r\n\r\n        private final HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n        void put(String key, Object value) {\r\n            if (value != null) {\r\n                map.put(key, value);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            StringBuilder builder = new StringBuilder();\r\n            Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet = map.entrySet();\r\n            builder.append(&quot;{&quot;);\r\n\r\n            int i = 0;\r\n            for (Map.Entry&lt;String, Object&gt; entry : entrySet) {\r\n                Object val = entry.getValue();\r\n                builder.append(quote(entry.getKey())).append(&quot;:&quot;);\r\n\r\n                if (val instanceof String) {\r\n                    builder.append(quote(String.valueOf(val)));\r\n                } else if (val instanceof Integer) {\r\n                    builder.append(Integer.valueOf(String.valueOf(val)));\r\n                } else if (val instanceof Boolean) {\r\n                    builder.append(val);\r\n                } else if (val instanceof JSONObject) {\r\n                    builder.append(val.toString());\r\n                } else if (val.getClass().isArray()) {\r\n                    builder.append(&quot;[&quot;);\r\n                    int len = Array.getLength(val);\r\n                    for (int j = 0; j &lt; len; j++) {\r\n                        builder.append(Array.get(val, j).toString()).append(j != len - 1 ? &quot;,&quot; : &quot;&quot;);\r\n                    }\r\n                    builder.append(&quot;]&quot;);\r\n                }\r\n\r\n                builder.append(++i == entrySet.size() ? &quot;}&quot; : &quot;,&quot;);\r\n            }\r\n\r\n            return builder.toString();\r\n        }\r\n\r\n        private String quote(String string) {\r\n            return &quot;\\&quot;&quot; + string + &quot;\\&quot;&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\nTo use it, you have to do something like that:\r\n```\r\nDiscordWebhook webhook = new DiscordWebhook(&quot;https://discordapp.com/api/webhooks/...&quot;);\r\n    webhook.setContent(&quot;Any message!&quot;);\r\n    webhook.setAvatarUrl(&quot;https://your.awesome/image.png&quot;);\r\n    webhook.setUsername(&quot;Custom Usernames!&quot;);\r\n    webhook.setTts(true);\r\n    webhook.addEmbed(new DiscordWebhook.EmbedObject()\r\n            .setTitle(&quot;Title&quot;)\r\n            .setDescription(&quot;This is a description&quot;)\r\n            .setColor(Color.RED)\r\n            .addField(&quot;1st Field&quot;, &quot;Inline&quot;, true)\r\n    .addField(&quot;2nd Field&quot;, &quot;Inline&quot;, true)\r\n    .addField(&quot;3rd Field&quot;, &quot;No-Inline&quot;, false)\r\n    .setThumbnail(&quot;https://kryptongta.com/images/kryptonlogo.png&quot;)\r\n    .setFooter(&quot;Footer text&quot;, &quot;https://kryptongta.com/images/kryptonlogodark.png&quot;)\r\n    .setImage(&quot;https://kryptongta.com/images/kryptontitle2.png&quot;)\r\n    .setAuthor(&quot;Author Name&quot;, &quot;https://kryptongta.com&quot;, &quot;https://kryptongta.com/images/kryptonlogowide.png&quot;)\r\n    .setUrl(&quot;https://kryptongta.com&quot;));\r\n    webhook.addEmbed(new DiscordWebhook.EmbedObject()\r\n    .setDescription(&quot;Just another added embed object!&quot;));\r\n    webhook.execute(); //Handle exception\r\n```","title":"How to send data to a discord webhook in java using a single .java file?","body":"<p>You can use <a href=\"https://gist.github.com/k3kdude/fba6f6b37594eae3d6f9475330733bdb\" rel=\"nofollow noreferrer\">this</a> which personally works for me. This is the full code if the gist expire:</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport java.awt.Color;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.lang.reflect.Array;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\n/**\n * Class used to execute Discord Webhooks with low effort\n * Come from: https://gist.github.com/k3kdude/fba6f6b37594eae3d6f9475330733bdb\n */\npublic class DiscordWebhook {\n\n    private final String url;\n    private String content;\n    private String username;\n    private String avatarUrl;\n    private boolean tts;\n    private List&lt;EmbedObject&gt; embeds = new ArrayList&lt;&gt;();\n\n    /**\n     * Constructs a new DiscordWebhook instance\n     *\n     * @param url The webhook URL obtained in Discord\n     */\n    public DiscordWebhook(String url) {\n        this.url = url;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setAvatarUrl(String avatarUrl) {\n        this.avatarUrl = avatarUrl;\n    }\n\n    public void setTts(boolean tts) {\n        this.tts = tts;\n    }\n\n    public void addEmbed(EmbedObject embed) {\n        this.embeds.add(embed);\n    }\n\n    public void execute() throws IOException {\n        if (this.content == null &amp;&amp; this.embeds.isEmpty()) {\n            throw new IllegalArgumentException(&quot;Set content or add at least one EmbedObject&quot;);\n        }\n\n        JSONObject json = new JSONObject();\n\n        json.put(&quot;content&quot;, this.content);\n        json.put(&quot;username&quot;, this.username);\n        json.put(&quot;avatar_url&quot;, this.avatarUrl);\n        json.put(&quot;tts&quot;, this.tts);\n\n        if (!this.embeds.isEmpty()) {\n            List&lt;JSONObject&gt; embedObjects = new ArrayList&lt;&gt;();\n\n            for (EmbedObject embed : this.embeds) {\n                JSONObject jsonEmbed = new JSONObject();\n\n                jsonEmbed.put(&quot;title&quot;, embed.getTitle());\n                jsonEmbed.put(&quot;description&quot;, embed.getDescription());\n                jsonEmbed.put(&quot;url&quot;, embed.getUrl());\n\n                if (embed.getColor() != null) {\n                    Color color = embed.getColor();\n                    int rgb = color.getRed();\n                    rgb = (rgb &lt;&lt; 8) + color.getGreen();\n                    rgb = (rgb &lt;&lt; 8) + color.getBlue();\n\n                    jsonEmbed.put(&quot;color&quot;, rgb);\n                }\n\n                EmbedObject.Footer footer = embed.getFooter();\n                EmbedObject.Image image = embed.getImage();\n                EmbedObject.Thumbnail thumbnail = embed.getThumbnail();\n                EmbedObject.Author author = embed.getAuthor();\n                List&lt;EmbedObject.Field&gt; fields = embed.getFields();\n\n                if (footer != null) {\n                    JSONObject jsonFooter = new JSONObject();\n\n                    jsonFooter.put(&quot;text&quot;, footer.getText());\n                    jsonFooter.put(&quot;icon_url&quot;, footer.getIconUrl());\n                    jsonEmbed.put(&quot;footer&quot;, jsonFooter);\n                }\n\n                if (image != null) {\n                    JSONObject jsonImage = new JSONObject();\n\n                    jsonImage.put(&quot;url&quot;, image.getUrl());\n                    jsonEmbed.put(&quot;image&quot;, jsonImage);\n                }\n\n                if (thumbnail != null) {\n                    JSONObject jsonThumbnail = new JSONObject();\n\n                    jsonThumbnail.put(&quot;url&quot;, thumbnail.getUrl());\n                    jsonEmbed.put(&quot;thumbnail&quot;, jsonThumbnail);\n                }\n\n                if (author != null) {\n                    JSONObject jsonAuthor = new JSONObject();\n\n                    jsonAuthor.put(&quot;name&quot;, author.getName());\n                    jsonAuthor.put(&quot;url&quot;, author.getUrl());\n                    jsonAuthor.put(&quot;icon_url&quot;, author.getIconUrl());\n                    jsonEmbed.put(&quot;author&quot;, jsonAuthor);\n                }\n\n                List&lt;JSONObject&gt; jsonFields = new ArrayList&lt;&gt;();\n                for (EmbedObject.Field field : fields) {\n                    JSONObject jsonField = new JSONObject();\n\n                    jsonField.put(&quot;name&quot;, field.getName());\n                    jsonField.put(&quot;value&quot;, field.getValue());\n                    jsonField.put(&quot;inline&quot;, field.isInline());\n\n                    jsonFields.add(jsonField);\n                }\n\n                jsonEmbed.put(&quot;fields&quot;, jsonFields.toArray());\n                embedObjects.add(jsonEmbed);\n            }\n\n            json.put(&quot;embeds&quot;, embedObjects.toArray());\n        }\n\n        URL url = new URL(this.url);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Java-DiscordWebhook-BY-Gelox_&quot;);\n        connection.setDoOutput(true);\n        connection.setRequestMethod(&quot;POST&quot;);\n\n        OutputStream stream = connection.getOutputStream();\n        stream.write(json.toString().getBytes());\n        stream.flush();\n        stream.close();\n\n        connection.getInputStream().close(); //I'm not sure why but it doesn't work without getting the InputStream\n        connection.disconnect();\n    }\n\n    public static class EmbedObject {\n        private String title;\n        private String description;\n        private String url;\n        private Color color;\n\n        private Footer footer;\n        private Thumbnail thumbnail;\n        private Image image;\n        private Author author;\n        private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n\n        public String getTitle() {\n            return title;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        public String getUrl() {\n            return url;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public Footer getFooter() {\n            return footer;\n        }\n\n        public Thumbnail getThumbnail() {\n            return thumbnail;\n        }\n\n        public Image getImage() {\n            return image;\n        }\n\n        public Author getAuthor() {\n            return author;\n        }\n\n        public List&lt;Field&gt; getFields() {\n            return fields;\n        }\n\n        public EmbedObject setTitle(String title) {\n            this.title = title;\n            return this;\n        }\n\n        public EmbedObject setDescription(String description) {\n            this.description = description;\n            return this;\n        }\n\n        public EmbedObject setUrl(String url) {\n            this.url = url;\n            return this;\n        }\n\n        public EmbedObject setColor(Color color) {\n            this.color = color;\n            return this;\n        }\n\n        public EmbedObject setFooter(String text, String icon) {\n            this.footer = new Footer(text, icon);\n            return this;\n        }\n\n        public EmbedObject setThumbnail(String url) {\n            this.thumbnail = new Thumbnail(url);\n            return this;\n        }\n\n        public EmbedObject setImage(String url) {\n            this.image = new Image(url);\n            return this;\n        }\n\n        public EmbedObject setAuthor(String name, String url, String icon) {\n            this.author = new Author(name, url, icon);\n            return this;\n        }\n\n        public EmbedObject addField(String name, String value, boolean inline) {\n            this.fields.add(new Field(name, value, inline));\n            return this;\n        }\n\n        private class Footer {\n            private String text;\n            private String iconUrl;\n\n            private Footer(String text, String iconUrl) {\n                this.text = text;\n                this.iconUrl = iconUrl;\n            }\n\n            private String getText() {\n                return text;\n            }\n\n            private String getIconUrl() {\n                return iconUrl;\n            }\n        }\n\n        private class Thumbnail {\n            private String url;\n\n            private Thumbnail(String url) {\n                this.url = url;\n            }\n\n            private String getUrl() {\n                return url;\n            }\n        }\n\n        private class Image {\n            private String url;\n\n            private Image(String url) {\n                this.url = url;\n            }\n\n            private String getUrl() {\n                return url;\n            }\n        }\n\n        private class Author {\n            private String name;\n            private String url;\n            private String iconUrl;\n\n            private Author(String name, String url, String iconUrl) {\n                this.name = name;\n                this.url = url;\n                this.iconUrl = iconUrl;\n            }\n\n            private String getName() {\n                return name;\n            }\n\n            private String getUrl() {\n                return url;\n            }\n\n            private String getIconUrl() {\n                return iconUrl;\n            }\n        }\n\n        private class Field {\n            private String name;\n            private String value;\n            private boolean inline;\n\n            private Field(String name, String value, boolean inline) {\n                this.name = name;\n                this.value = value;\n                this.inline = inline;\n            }\n\n            private String getName() {\n                return name;\n            }\n\n            private String getValue() {\n                return value;\n            }\n\n            private boolean isInline() {\n                return inline;\n            }\n        }\n    }\n\n    private class JSONObject {\n\n        private final HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n        void put(String key, Object value) {\n            if (value != null) {\n                map.put(key, value);\n            }\n        }\n\n        @Override\n        public String toString() {\n            StringBuilder builder = new StringBuilder();\n            Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet = map.entrySet();\n            builder.append(&quot;{&quot;);\n\n            int i = 0;\n            for (Map.Entry&lt;String, Object&gt; entry : entrySet) {\n                Object val = entry.getValue();\n                builder.append(quote(entry.getKey())).append(&quot;:&quot;);\n\n                if (val instanceof String) {\n                    builder.append(quote(String.valueOf(val)));\n                } else if (val instanceof Integer) {\n                    builder.append(Integer.valueOf(String.valueOf(val)));\n                } else if (val instanceof Boolean) {\n                    builder.append(val);\n                } else if (val instanceof JSONObject) {\n                    builder.append(val.toString());\n                } else if (val.getClass().isArray()) {\n                    builder.append(&quot;[&quot;);\n                    int len = Array.getLength(val);\n                    for (int j = 0; j &lt; len; j++) {\n                        builder.append(Array.get(val, j).toString()).append(j != len - 1 ? &quot;,&quot; : &quot;&quot;);\n                    }\n                    builder.append(&quot;]&quot;);\n                }\n\n                builder.append(++i == entrySet.size() ? &quot;}&quot; : &quot;,&quot;);\n            }\n\n            return builder.toString();\n        }\n\n        private String quote(String string) {\n            return &quot;\\&quot;&quot; + string + &quot;\\&quot;&quot;;\n        }\n    }\n}\n</code></pre>\n<p>To use it, you have to do something like that:</p>\n<pre><code>DiscordWebhook webhook = new DiscordWebhook(&quot;https://discordapp.com/api/webhooks/...&quot;);\n    webhook.setContent(&quot;Any message!&quot;);\n    webhook.setAvatarUrl(&quot;https://your.awesome/image.png&quot;);\n    webhook.setUsername(&quot;Custom Usernames!&quot;);\n    webhook.setTts(true);\n    webhook.addEmbed(new DiscordWebhook.EmbedObject()\n            .setTitle(&quot;Title&quot;)\n            .setDescription(&quot;This is a description&quot;)\n            .setColor(Color.RED)\n            .addField(&quot;1st Field&quot;, &quot;Inline&quot;, true)\n    .addField(&quot;2nd Field&quot;, &quot;Inline&quot;, true)\n    .addField(&quot;3rd Field&quot;, &quot;No-Inline&quot;, false)\n    .setThumbnail(&quot;https://kryptongta.com/images/kryptonlogo.png&quot;)\n    .setFooter(&quot;Footer text&quot;, &quot;https://kryptongta.com/images/kryptonlogodark.png&quot;)\n    .setImage(&quot;https://kryptongta.com/images/kryptontitle2.png&quot;)\n    .setAuthor(&quot;Author Name&quot;, &quot;https://kryptongta.com&quot;, &quot;https://kryptongta.com/images/kryptonlogowide.png&quot;)\n    .setUrl(&quot;https://kryptongta.com&quot;));\n    webhook.addEmbed(new DiscordWebhook.EmbedObject()\n    .setDescription(&quot;Just another added embed object!&quot;));\n    webhook.execute(); //Handle exception\n</code></pre>\n"}],"owner":{"account_id":20540509,"reputation":1,"user_id":15075540,"display_name":"Divlocket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675467542,"creation_date":1644827731,"question_id":71109024,"body_markdown":"I&#39;m working on a Minecraft mod that requires sending a string of data to a discord webhook. What would the most efficient way to achieve this using a singular .java file?","title":"How to send data to a discord webhook in java using a single .java file?","body":"<p>I'm working on a Minecraft mod that requires sending a string of data to a discord webhook. What would the most efficient way to achieve this using a singular .java file?</p>\n"},{"tags":["java","android-gradle-plugin"],"owner":{"account_id":23547220,"reputation":19,"user_id":17590465,"display_name":"Adem k&#246;seoğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675467466,"creation_date":1675467466,"question_id":75341988,"body_markdown":"I am using versions of Gradle that are compatible with Java. However, I am getting a strange error as in the screenshot. I received information to add some directories to google, but I did not fully understand. Is there anyone who can help?\r\n\r\nJava Version : 19.0.2\r\nGradle Version : 7.6\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFakE.png","title":"Project startup error related to Gradle or Java","body":"<p>I am using versions of Gradle that are compatible with Java. However, I am getting a strange error as in the screenshot. I received information to add some directories to google, but I did not fully understand. Is there anyone who can help?</p>\n<p>Java Version : 19.0.2\nGradle Version : 7.6</p>\n<p><a href=\"https://i.stack.imgur.com/XFakE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFakE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1424379529,"post_id":28616569,"comment_id":45536579,"body_markdown":"can be that you are missing some getter/setter in  one of your beans?","body":"can be that you are missing some getter/setter in  one of your beans?"},{"owner":{"display_name":"user3697569"},"score":0,"creation_date":1424380682,"post_id":28616569,"comment_id":45537172,"body_markdown":"I don&#39;t think so, if a delete both classes, everything works fine.","body":"I don&#39;t think so, if a delete both classes, everything works fine."},{"owner":{"account_id":3796139,"reputation":8113,"user_id":3151168,"accept_rate":100,"display_name":"ksokol"},"score":0,"creation_date":1424412646,"post_id":28616569,"comment_id":45547088,"body_markdown":"I suppose that you are using Spring Security 3.2.5 RELEASE because you are referencing the docs accordingly?","body":"I suppose that you are using Spring Security 3.2.5 RELEASE because you are referencing the docs accordingly?"},{"owner":{"display_name":"user3697569"},"score":0,"creation_date":1424446197,"post_id":28616569,"comment_id":45565012,"body_markdown":"Yes, i am using that version of Spring Security.","body":"Yes, i am using that version of Spring Security."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1424449766,"post_id":28616569,"comment_id":45567331,"body_markdown":"Can you Show the complete stacktrace and the filter definition.?","body":"Can you Show the complete stacktrace and the filter definition.?"},{"owner":{"display_name":"user3697569"},"score":0,"creation_date":1424451719,"post_id":28616569,"comment_id":45568487,"body_markdown":"Done! The filter definition of the spring security is that both classes.","body":"Done! The filter definition of the spring security is that both classes."}],"answers":[{"tags":[],"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1424618172,"creation_date":1424591591,"answer_id":28655714,"question_id":28616569,"body_markdown":"I copied your spring security configuration and was able to reproduce the error.\r\n\r\nFollowing line in the stacktrace gives the root cause of the exception:\r\n\r\n    at org.springframework.security.provisioning.InMemoryUserDetailsManager.createUser(InMemoryUserDetailsManager.java:59)\r\n\r\nIn `InMemoryUserDetailsManager` class, `createUser()` method, Spring checks if the user exists before creating an user. In your case you are adding two user with same username, hence there is an `IllegalArgumentException`.\r\n\r\nI added two users with different usernames and it started working fine. ","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>I copied your spring security configuration and was able to reproduce the error.</p>\n\n<p>Following line in the stacktrace gives the root cause of the exception:</p>\n\n<pre><code>at org.springframework.security.provisioning.InMemoryUserDetailsManager.createUser(InMemoryUserDetailsManager.java:59)\n</code></pre>\n\n<p>In <code>InMemoryUserDetailsManager</code> class, <code>createUser()</code> method, Spring checks if the user exists before creating an user. In your case you are adding two user with same username, hence there is an <code>IllegalArgumentException</code>.</p>\n\n<p>I added two users with different usernames and it started working fine. </p>\n"},{"tags":[],"owner":{"account_id":8442660,"reputation":148,"user_id":6334567,"display_name":"Blagoje Stankovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1522225039,"creation_date":1522225039,"answer_id":49529389,"question_id":28616569,"body_markdown":"I had the same problem. I fixed it deleting `http.antMatchers(&quot;&quot;)`.The problem was &quot;&quot; - **SpringSecurityFilterChain** throws an error, because pattern could not be empty or null.\r\n\r\n","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>I had the same problem. I fixed it deleting <code>http.antMatchers(\"\")</code>.The problem was \"\" - <strong>SpringSecurityFilterChain</strong> throws an error, because pattern could not be empty or null.</p>\n"},{"comments":[{"owner":{"account_id":16303727,"reputation":193,"user_id":11774167,"display_name":"Hamza Abbas"},"score":0,"creation_date":1634691494,"post_id":66798444,"comment_id":123091399,"body_markdown":"Ahh wow.. Somehow I did have 3 users in inMemory with same username, thanks man.","body":"Ahh wow.. Somehow I did have 3 users in inMemory with same username, thanks man."}],"tags":[],"owner":{"account_id":7745608,"reputation":1158,"user_id":5863519,"display_name":"KR93"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1616671250,"creation_date":1616671250,"answer_id":66798444,"question_id":28616569,"body_markdown":"Simply, You can&#39;t create 2 users with same user name. But passwords can be same. Just rename the username","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>Simply, You can't create 2 users with same user name. But passwords can be same. Just rename the username</p>\n"},{"tags":[],"owner":{"account_id":19571779,"reputation":448,"user_id":14322782,"display_name":"Jesper van den Munckhof"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619561751,"creation_date":1619561751,"answer_id":67291348,"question_id":28616569,"body_markdown":"Fixed it by changing .antMatchers(&quot;/api/**&quot;, &quot;&quot;) to .antMatchers(&quot;/api/**&quot;)","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>Fixed it by changing .antMatchers(&quot;/api/<strong>&quot;, &quot;&quot;) to .antMatchers(&quot;/api/</strong>&quot;)</p>\n"},{"comments":[{"owner":{"account_id":395534,"reputation":617,"user_id":758529,"display_name":"Ray"},"score":0,"creation_date":1682896449,"post_id":67358612,"comment_id":134282788,"body_markdown":"Thank youuuuuu! I was going crazy trying to figure out what was wrong! This fixed the issue for me.","body":"Thank youuuuuu! I was going crazy trying to figure out what was wrong! This fixed the issue for me."}],"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619972297,"creation_date":1619972297,"answer_id":67358612,"question_id":28616569,"body_markdown":"With java 11 please add this to pom file\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>With java 11 please add this to pom file</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21029082,"reputation":11,"user_id":15453861,"display_name":"Wissal El Aagueb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627816209,"creation_date":1627816209,"answer_id":68609793,"question_id":28616569,"body_markdown":"I fixed it by updating my spring-security-config version to the latest one.","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>I fixed it by updating my spring-security-config version to the latest one.</p>\n"},{"tags":[],"owner":{"account_id":10059115,"reputation":324,"user_id":7436412,"accept_rate":67,"display_name":"Zap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652186420,"creation_date":1652186420,"answer_id":72186484,"question_id":28616569,"body_markdown":"In my case (having a previously running program yield this error), I merely needed to swap back from Java 11 to Java 8 (after developing a different application). I recommend [sdkman][1] in order to ease this process.\r\n\r\n\r\n  [1]: https://sdkman.io/","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>In my case (having a previously running program yield this error), I merely needed to swap back from Java 11 to Java 8 (after developing a different application). I recommend <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a> in order to ease this process.</p>\n"},{"tags":[],"owner":{"account_id":22860846,"reputation":31,"user_id":17004953,"display_name":"Lewis99"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658318080,"creation_date":1658318080,"answer_id":73051199,"question_id":28616569,"body_markdown":"works for me only when i changed the version of spring security all to \r\nthe same:\r\n\r\nmy spring security was:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;**5.6.3**&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;**5.3.0.RELEASE**&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand i changed to:\r\n\r\n\r\n```\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;**4.1.1.RELEASE**&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;**4.1.1.RELEASE**&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>works for me only when i changed the version of spring security all to\nthe same:</p>\n<p>my spring security was:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;**5.6.3**&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;**5.3.0.RELEASE**&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and i changed to:</p>\n<pre><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;**4.1.1.RELEASE**&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;**4.1.1.RELEASE**&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661678091,"post_id":73468751,"comment_id":129824754,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73468751/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15310172,"reputation":1,"user_id":11045700,"display_name":"anjali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661325073,"creation_date":1661324526,"answer_id":73468751,"question_id":28616569,"body_markdown":"**if the above Answers does work check the maven version is compatible with your java version** \r\n\r\n \r\n\r\nmy application runs with java version 1.8 but I had maven with version 3.8.1 which is not compatible hence downgrading the maven version to 3.6.2 solved the above error\r\n\r\n","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p><strong>if the above Answers does work check the maven version is compatible with your java version</strong></p>\n<p>my application runs with java version 1.8 but I had maven with version 3.8.1 which is not compatible hence downgrading the maven version to 3.6.2 solved the above error</p>\n"},{"tags":[],"owner":{"account_id":9557519,"reputation":543,"user_id":7099541,"display_name":"afshar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671423724,"creation_date":1671423724,"answer_id":74846269,"question_id":28616569,"body_markdown":"if you are using **spring boot 3** must be considered that In **Spring Security 5.7.0-M2 the WebSecurityConfigurerAdapter is deprecated**. so you must Upgrade the Deprecated WebSecurityConfigurerAdapter with the correct beans.\r\n\r\nBelow is an example configuration using the **WebSecurityConfigurerAdapter** that secures all endpoints with HTTP Basic:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n        }\r\n    \r\n    }\r\n\r\nGoing forward, the recommended way of doing this is registering a **SecurityFilterChain** bean:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nfor more information click [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n  [2]: https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>if you are using <strong>spring boot 3</strong> must be considered that In <strong>Spring Security 5.7.0-M2 the WebSecurityConfigurerAdapter is deprecated</strong>. so you must Upgrade the Deprecated WebSecurityConfigurerAdapter with the correct beans.</p>\n<p>Below is an example configuration using the <strong>WebSecurityConfigurerAdapter</strong> that secures all endpoints with HTTP Basic:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n    }\n\n}\n</code></pre>\n<p>Going forward, the recommended way of doing this is registering a <strong>SecurityFilterChain</strong> bean:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>for more information click <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":27192813,"reputation":49,"user_id":20726233,"display_name":"Luca Rosato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675467149,"creation_date":1675467149,"answer_id":75341968,"question_id":28616569,"body_markdown":"I had the same error message and the problem was that I had 2 RequestMappings defined with the same path, and honestly the error message is the least specific thing ever, maybe someone reading this review is running with the same issue right now, so please check that! :)","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>I had the same error message and the problem was that I had 2 RequestMappings defined with the same path, and honestly the error message is the least specific thing ever, maybe someone reading this review is running with the same issue right now, so please check that! :)</p>\n"}],"owner":{"display_name":"user3697569"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164934,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":28655714,"answer_count":11,"score":42,"last_activity_date":1675467149,"creation_date":1424378836,"question_id":28616569,"body_markdown":"I have been following the [Spring Security Reference](http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/reference/htmlsingle/) and i added only this classes:\r\n\r\n\t@Configuration\r\n\t@EnableWebMvcSecurity\r\n\tpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t        .authorizeRequests()\r\n\t            .anyRequest().authenticated()\r\n\t            .and()\r\n\t        .formLogin().loginPage(&quot;/login&quot;)\r\n\t        .permitAll()\r\n\t        \t.and()\r\n\t        .logout()\r\n\t        .permitAll();\r\n\t\t}\r\n\t\t\r\n\t    @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t        auth\r\n\t            .inMemoryAuthentication()\r\n\t                .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).and()\r\n\t    \t\t\t.withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n\t    }\r\n\t}\r\n\r\nand\r\n\r\n\tpublic class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nbut when i run the server, an exception is thrown, i don&#39;t know what i am doing wrong, can you help me please?\r\n\r\nThis is the stacktrace:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:602)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1113)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1008)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:663)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:629)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:677)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:548)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:489)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:241)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)\r\n\tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\r\n\tat org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1272)\r\n\tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:489)\r\n\tat org.gradle.api.plugins.jetty.internal.JettyPluginWebAppContext.doStart(JettyPluginWebAppContext.java:112)\r\n\tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n\tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n\tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n\tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n\tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n\tat org.gradle.api.plugins.jetty.internal.Jetty6PluginServer.start(Jetty6PluginServer.java:111)\r\n\tat org.gradle.api.plugins.jetty.AbstractJettyRunTask.startJettyInternal(AbstractJettyRunTask.java:238)\r\n\tat org.gradle.api.plugins.jetty.AbstractJettyRunTask.startJetty(AbstractJettyRunTask.java:191)\r\n\tat org.gradle.api.plugins.jetty.AbstractJettyRunTask.start(AbstractJettyRunTask.java:162)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:63)\r\n\tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.doExecute(AnnotationProcessingTaskFactory.java:218)\r\n\tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:211)\r\n\tat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:200)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:579)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:562)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:305)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\r\n\tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\r\n\tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:29)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n\tat org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\r\n\tat org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\r\n\tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\r\n\tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:80)\r\n\tat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:33)\r\n\tat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:24)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:36)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\r\n\tat org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:51)\r\n\tat org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:171)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\r\n\tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n\tat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n\tat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n\tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n\tat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n\tat org.gradle.launcher.Main.doAction(Main.java:33)\r\n\tat org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n\tat org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n\tat org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:591)\r\n\t... 102 more\r\n    Caused by: java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:65)\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:77)\r\n\tat org.springframework.security.provisioning.InMemoryUserDetailsManager.createUser(InMemoryUserDetailsManager.java:59)\r\n\tat org.springframework.security.config.annotation.authentication.configurers.provisioning.UserDetailsManagerConfigurer.initUserDetailsService(UserDetailsManagerConfigurer.java:61)\r\n\tat org.springframework.security.config.annotation.authentication.configurers.userdetails.UserDetailsServiceConfigurer.configure(UserDetailsServiceConfigurer.java:48)\r\n\tat org.springframework.security.config.annotation.authentication.configurers.userdetails.UserDetailsServiceConfigurer.configure(UserDetailsServiceConfigurer.java:33)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:376)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325)\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:39)\r\n\tat org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:78)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:236)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:178)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:283)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:68)\r\n\tat org.munaycoop.taskmanager.security.WebSecurityConfig$$EnhancerBySpringCGLIB$$4b88c0dc.init(&lt;generated&gt;)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:367)\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:320)\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:39)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:92)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f.CGLIB$springSecurityFilterChain$4(&lt;generated&gt;)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f$$FastClassBySpringCGLIB$$80796866.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:312)\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f.springSecurityFilterChain(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 103 more","title":"Error creating bean with name &#39;springSecurityFilterChain&#39;","body":"<p>I have been following the <a href=\"http://docs.spring.io/spring-security/site/docs/3.2.5.RELEASE/reference/htmlsingle/\">Spring Security Reference</a> and i added only this classes:</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n        .formLogin().loginPage(\"/login\")\n        .permitAll()\n            .and()\n        .logout()\n        .permitAll();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(\"user\").password(\"password\").roles(\"USER\").and()\n                .withUser(\"user\").password(\"password\").roles(\"USER\", \"ADMIN\");\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\n\n\n}\n</code></pre>\n\n<p>but when i run the server, an exception is thrown, i don't know what i am doing wrong, can you help me please?</p>\n\n<p>This is the stacktrace:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:602)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1113)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1008)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:663)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:629)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:677)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:548)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:489)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\nat javax.servlet.GenericServlet.init(GenericServlet.java:241)\nat org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\nat org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\nat org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\nat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1272)\nat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\nat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:489)\nat org.gradle.api.plugins.jetty.internal.JettyPluginWebAppContext.doStart(JettyPluginWebAppContext.java:112)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\nat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\nat org.mortbay.jetty.Server.doStart(Server.java:224)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.gradle.api.plugins.jetty.internal.Jetty6PluginServer.start(Jetty6PluginServer.java:111)\nat org.gradle.api.plugins.jetty.AbstractJettyRunTask.startJettyInternal(AbstractJettyRunTask.java:238)\nat org.gradle.api.plugins.jetty.AbstractJettyRunTask.startJetty(AbstractJettyRunTask.java:191)\nat org.gradle.api.plugins.jetty.AbstractJettyRunTask.start(AbstractJettyRunTask.java:162)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:63)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.doExecute(AnnotationProcessingTaskFactory.java:218)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:211)\nat org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:200)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:579)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:562)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:42)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.AbstractTask.executeWithoutThrowingTaskFailure(AbstractTask.java:305)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.executeTask(AbstractTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:63)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:51)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:23)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:88)\nat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:29)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\nat org.gradle.execution.DefaultBuildExecuter.access$200(DefaultBuildExecuter.java:23)\nat org.gradle.execution.DefaultBuildExecuter$2.proceed(DefaultBuildExecuter.java:68)\nat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:62)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:55)\nat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\nat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\nat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:80)\nat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:33)\nat org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:24)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:36)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\nat org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:51)\nat org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:171)\nat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\nat org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\nat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\nat org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\nat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\nat org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\nat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\nat org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\nat org.gradle.launcher.Main.doAction(Main.java:33)\nat org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\nat org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\nat org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:591)\n... 102 more\nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\nat org.springframework.util.Assert.isTrue(Assert.java:65)\nat org.springframework.util.Assert.isTrue(Assert.java:77)\nat org.springframework.security.provisioning.InMemoryUserDetailsManager.createUser(InMemoryUserDetailsManager.java:59)\nat org.springframework.security.config.annotation.authentication.configurers.provisioning.UserDetailsManagerConfigurer.initUserDetailsService(UserDetailsManagerConfigurer.java:61)\nat org.springframework.security.config.annotation.authentication.configurers.userdetails.UserDetailsServiceConfigurer.configure(UserDetailsServiceConfigurer.java:48)\nat org.springframework.security.config.annotation.authentication.configurers.userdetails.UserDetailsServiceConfigurer.configure(UserDetailsServiceConfigurer.java:33)\nat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:376)\nat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325)\nat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:39)\nat org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:78)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:236)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:178)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:283)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:68)\nat org.munaycoop.taskmanager.security.WebSecurityConfig$$EnhancerBySpringCGLIB$$4b88c0dc.init(&lt;generated&gt;)\nat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:367)\nat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:320)\nat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:39)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:92)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f.CGLIB$springSecurityFilterChain$4(&lt;generated&gt;)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f$$FastClassBySpringCGLIB$$80796866.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:312)\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40bdb18f.springSecurityFilterChain(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n... 103 more\n</code></pre>\n"},{"tags":["java","mime"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":5,"creation_date":1368828953,"post_id":51438,"comment_id":23893802,"body_markdown":"A good overview on available libraries is given at http://www.rgagnon.com/javadetails/java-0487.html","body":"A good overview on available libraries is given at <a href=\"http://www.rgagnon.com/javadetails/java-0487.html\" rel=\"nofollow noreferrer\">rgagnon.com/javadetails/java-0487.html</a>"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1395129438,"post_id":51438,"comment_id":34185114,"body_markdown":"I used the class that was posted as an answer here: http://stackoverflow.com/a/10140531/293280","body":"I used the class that was posted as an answer here: <a href=\"http://stackoverflow.com/a/10140531/293280\">stackoverflow.com/a/10140531/293280</a>"},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":4,"creation_date":1450108279,"post_id":51438,"comment_id":56283913,"body_markdown":"Tika should be the answer now. The other answers below make light of many dependencies with Tika, but I see none with tika-core.","body":"Tika should be the answer now. The other answers below make light of many dependencies with Tika, but I see none with tika-core."},{"owner":{"account_id":2027319,"reputation":756,"user_id":1811966,"accept_rate":37,"display_name":"Cool Techie"},"score":0,"creation_date":1490594265,"post_id":51438,"comment_id":73162632,"body_markdown":"@javamonkey79 when we use TIka, it coverts the file and it&#39;s no longer usable. String contentType = tika.detect(is) .","body":"@javamonkey79 when we use TIka, it coverts the file and it&#39;s no longer usable. String contentType = tika.detect(is) ."}],"answers":[{"comments":[{"owner":{"account_id":1079937,"reputation":3752,"user_id":1077177,"accept_rate":86,"display_name":"Yuriy Nakonechnyy"},"score":8,"creation_date":1352459365,"post_id":847849,"comment_id":18148034,"body_markdown":"Perfect solution - helped me a lot! Wrapping `FileInputStream` into `BufferedInputStream` is crucial part - otherwise `guessContentTypeFromStream` returns `null` (passed `InputStream` instance should support marks)","body":"Perfect solution - helped me a lot! Wrapping <code>FileInputStream</code> into <code>BufferedInputStream</code> is crucial part - otherwise <code>guessContentTypeFromStream</code> returns <code>null</code> (passed <code>InputStream</code> instance should support marks)"},{"owner":{"account_id":915985,"reputation":3050,"user_id":948774,"accept_rate":82,"display_name":"kpentchev"},"score":16,"creation_date":1374049535,"post_id":847849,"comment_id":25782281,"body_markdown":"Howerver, `URLConnection` has a very limited set of content types that it does recognizes. For example it is not able to detect `application/pdf`.","body":"Howerver, <code>URLConnection</code> has a very limited set of content types that it does recognizes. For example it is not able to detect <code>application&#47;pdf</code>."},{"owner":{"account_id":2251113,"reputation":1157,"user_id":1983342,"accept_rate":33,"display_name":"FeinesFabi"},"score":0,"creation_date":1394625444,"post_id":847849,"comment_id":33970826,"body_markdown":"@kpentchev it detects pdf for me. But it doesn&#39;t detect office files, e.g. *.doc","body":"@kpentchev it detects pdf for me. But it doesn&#39;t detect office files, e.g. *.doc"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1398988831,"post_id":847849,"comment_id":35887659,"body_markdown":"It only leaves it locked because you&#39;ve left yourself no way to close it. Disconnecting the URLConnection would unlock it.","body":"It only leaves it locked because you&#39;ve left yourself no way to close it. Disconnecting the URLConnection would unlock it."},{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":1,"creation_date":1438191767,"post_id":847849,"comment_id":51353236,"body_markdown":"both guessContentTypeFromStream nor guessContentTypeFromName do NOT recognize e.g. mp4","body":"both guessContentTypeFromStream nor guessContentTypeFromName do NOT recognize e.g. mp4"},{"owner":{"account_id":1700244,"reputation":2204,"user_id":1560536,"accept_rate":92,"display_name":"Govinnage  Rasika Perera"},"score":3,"creation_date":1440914145,"post_id":847849,"comment_id":52464306,"body_markdown":"`guessContentTypeFromName()` uses default `$JAVA_HOME/lib/content-types.properties` file. you can add your own extended file by changing system property `System.setProperty(&quot;content.types.user.table&quot;,&quot;/lib/path/to/your/property/file&quot;);`","body":"<code>guessContentTypeFromName()</code> uses default <code>$JAVA_HOME&#47;lib&#47;content-types.properties</code> file. you can add your own extended file by changing system property <code>System.setProperty(&quot;content.types.user.table&quot;,&quot;&#47;lib&#47;path&#47;to&#47;&zwnj;&#8203;your&#47;property&#47;file&quot;)&zwnj;&#8203;;</code>"},{"owner":{"account_id":3915346,"reputation":833,"user_id":3711029,"accept_rate":57,"display_name":"vjnan369"},"score":1,"creation_date":1485346156,"post_id":847849,"comment_id":70886263,"body_markdown":"It is not detecting .js, .css files. Is there any other method to detect these files too?","body":"It is not detecting .js, .css files. Is there any other method to detect these files too?"},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":1,"creation_date":1507903677,"post_id":847849,"comment_id":80409819,"body_markdown":"Any links to `Mime-Util` ??? I have found project in [github](https://github.com/thkoch2001/mime-util) but is does not contain any description :(","body":"Any links to <code>Mime-Util</code> ??? I have found project in <a href=\"https://github.com/thkoch2001/mime-util\" rel=\"nofollow noreferrer\">github</a> but is does not contain any description :("},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1528539070,"post_id":847849,"comment_id":88553490,"body_markdown":"guessContentTypeFromName uses this\n```synchronized FileNameMap getFileNameMap```\ngood luck in multithreading","body":"guessContentTypeFromName uses this <code>synchronized FileNameMap getFileNameMap</code> good luck in multithreading"}],"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"comment_count":9,"down_vote_count":1,"up_vote_count":240,"is_accepted":false,"score":239,"last_activity_date":1275838601,"creation_date":1242044482,"answer_id":847849,"question_id":51438,"body_markdown":"Unfortunately,\r\n\r\n    mimeType = file.toURL().openConnection().getContentType();\r\n\r\ndoes not work, since this use of URL leaves a file locked, so that, for example, it is undeletable.\r\n\r\nHowever, you have this:\r\n\r\n    mimeType= URLConnection.guessContentTypeFromName(file.getName());\r\n\r\nand also the following, which has the advantage of going beyond mere use of file extension, and takes  a peek at content\r\n\r\n    InputStream is = new BufferedInputStream(new FileInputStream(file));\r\n    mimeType = URLConnection.guessContentTypeFromStream(is);\r\n     //...close stream\r\n\r\nHowever, as suggested by the comment above, the built-in table of mime-types is quite limited, not including, for example, MSWord and PDF. So, if you want to generalize, you&#39;ll need to go beyond the built-in libraries, using, e.g., Mime-Util (which is a great library, using both file extension and content).\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>Unfortunately,</p>\n\n<pre><code>mimeType = file.toURL().openConnection().getContentType();\n</code></pre>\n\n<p>does not work, since this use of URL leaves a file locked, so that, for example, it is undeletable.</p>\n\n<p>However, you have this:</p>\n\n<pre><code>mimeType= URLConnection.guessContentTypeFromName(file.getName());\n</code></pre>\n\n<p>and also the following, which has the advantage of going beyond mere use of file extension, and takes  a peek at content</p>\n\n<pre><code>InputStream is = new BufferedInputStream(new FileInputStream(file));\nmimeType = URLConnection.guessContentTypeFromStream(is);\n //...close stream\n</code></pre>\n\n<p>However, as suggested by the comment above, the built-in table of mime-types is quite limited, not including, for example, MSWord and PDF. So, if you want to generalize, you'll need to go beyond the built-in libraries, using, e.g., Mime-Util (which is a great library, using both file extension and content).</p>\n"},{"comments":[{"owner":{"account_id":72546,"reputation":13553,"user_id":209427,"accept_rate":76,"display_name":"Matyas"},"score":4,"creation_date":1319466449,"post_id":1902146,"comment_id":9611850,"body_markdown":"Unfortunately, as the javadoc for `getContentType(File)` states: _Returns the MIME type of the file object.The implementation in this class calls\n     `getContentType(f.getName())`._","body":"Unfortunately, as the javadoc for <code>getContentType(File)</code> states: <i>Returns the MIME type of the file object.The implementation in this class calls      <code>getContentType(f.getName())</code>.</i>"},{"owner":{"account_id":1174380,"reputation":1876,"user_id":1150744,"accept_rate":67,"display_name":"Chexpir"},"score":3,"creation_date":1390475570,"post_id":1902146,"comment_id":32111788,"body_markdown":"And remember you can extend this functionality with META-INF/mime.types file so it is perfect if you are forced to use Java 6.\nhttp://docs.oracle.com/javaee/5/api/javax/activation/MimetypesFileTypeMap.html","body":"And remember you can extend this functionality with META-INF/mime.types file so it is perfect if you are forced to use Java 6. <a href=\"http://docs.oracle.com/javaee/5/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/5/api/javax/activation/&hellip;</a>"},{"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"score":9,"creation_date":1424683266,"post_id":1902146,"comment_id":45634611,"body_markdown":"you can skip creating a new object by `MimetypesFileTypeMap.getDefaultFileTypeMap().getContentType(file)`","body":"you can skip creating a new object by <code>MimetypesFileTypeMap.getDefaultFileTypeMap().getContentType(&zwnj;&#8203;file)</code>"},{"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"score":0,"creation_date":1549399217,"post_id":1902146,"comment_id":95886469,"body_markdown":"But it still return content type only based on the filename. And this is especially dangerous for files uploaded by users.","body":"But it still return content type only based on the filename. And this is especially dangerous for files uploaded by users."},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":1,"creation_date":1599739173,"post_id":1902146,"comment_id":112870426,"body_markdown":"This does not work, for example, for pdf files (`application/octet-stream` is returned).","body":"This does not work, for example, for pdf files (<code>application&#47;octet-stream</code> is returned)."}],"tags":[],"owner":{"account_id":52680,"reputation":804,"user_id":157423,"display_name":"Adam Hošek"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1260810170,"creation_date":1260810170,"answer_id":1902146,"question_id":51438,"body_markdown":"The JAF API is part of JDK 6. Look at `javax.activation` package.\r\n\r\nMost interesting classes are `javax.activation.MimeType` - an actual MIME type holder - and `javax.activation.MimetypesFileTypeMap` - class whose instance can resolve MIME type as String for a file:\r\n\r\n    String fileName = &quot;/path/to/file&quot;;\r\n    MimetypesFileTypeMap mimeTypesMap = new MimetypesFileTypeMap();\r\n\r\n    // only by file name\r\n    String mimeType = mimeTypesMap.getContentType(fileName);\r\n\r\n    // or by actual File instance\r\n    File file = new File(fileName);\r\n    mimeType = mimeTypesMap.getContentType(file);","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>The JAF API is part of JDK 6. Look at <code>javax.activation</code> package.</p>\n\n<p>Most interesting classes are <code>javax.activation.MimeType</code> - an actual MIME type holder - and <code>javax.activation.MimetypesFileTypeMap</code> - class whose instance can resolve MIME type as String for a file:</p>\n\n<pre><code>String fileName = \"/path/to/file\";\nMimetypesFileTypeMap mimeTypesMap = new MimetypesFileTypeMap();\n\n// only by file name\nString mimeType = mimeTypesMap.getContentType(fileName);\n\n// or by actual File instance\nFile file = new File(fileName);\nmimeType = mimeTypesMap.getContentType(file);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":7,"creation_date":1372077336,"post_id":6899179,"comment_id":25043653,"body_markdown":"Whoever down-voted the answer, please add a comment so I (and others) may learn to post better answers.","body":"Whoever down-voted the answer, please add a comment so I (and others) may learn to post better answers."},{"owner":{"account_id":106792,"reputation":2784,"user_id":284314,"accept_rate":73,"display_name":"Ovidiu Buligan"},"score":3,"creation_date":1378391984,"post_id":6899179,"comment_id":27442076,"body_markdown":"I didn&#39;t vote you down but , getFileNameMap doesn&#39;t work for many basic file types , for example &#39;bmp&#39; . Also URLConnection.guessContentTypeFromName returns the same thing","body":"I didn&#39;t vote you down but , getFileNameMap doesn&#39;t work for many basic file types , for example &#39;bmp&#39; . Also URLConnection.guessContentTypeFromName returns the same thing"},{"owner":{"account_id":356975,"reputation":2590,"user_id":696836,"accept_rate":56,"display_name":"djsumdog"},"score":5,"creation_date":1398763830,"post_id":6899179,"comment_id":35779176,"body_markdown":"Very incomplete function. As of Java 7, html, pdf and jpeg extensions return the correct mime-type but js and css return null!","body":"Very incomplete function. As of Java 7, html, pdf and jpeg extensions return the correct mime-type but js and css return null!"},{"owner":{"account_id":917116,"reputation":411,"user_id":949682,"accept_rate":67,"display_name":"Henrique Rocha"},"score":0,"creation_date":1471876945,"post_id":6899179,"comment_id":65512651,"body_markdown":"I tested with &#39;webm&#39; and it returned null.","body":"I tested with &#39;webm&#39; and it returned null."},{"owner":{"account_id":540190,"reputation":957,"user_id":908316,"display_name":"Freddie"},"score":0,"creation_date":1695372430,"post_id":6899179,"comment_id":136018407,"body_markdown":"To clarify, Files.probeContentType(Path.of(&quot;my-file.css&quot;)) is a much better way to handle (I tested in java11) as it supports more file types.","body":"To clarify, Files.probeContentType(Path.of(&quot;my-file.css&quot;)) is a much better way to handle (I tested in java11) as it supports more file types."}],"tags":[],"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":5,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1312205699,"creation_date":1312205699,"answer_id":6899179,"question_id":51438,"body_markdown":"From [roseindia][1]:\r\n\r\n    FileNameMap fileNameMap = URLConnection.getFileNameMap();\r\n    String mimeType = fileNameMap.getContentTypeFor(&quot;alert.gif&quot;);\r\n\r\n  [1]: http://www.roseindia.net/java/java-get-example/get-mime-type.shtml\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>From <a href=\"http://www.roseindia.net/java/java-get-example/get-mime-type.shtml\">roseindia</a>:</p>\n\n<pre><code>FileNameMap fileNameMap = URLConnection.getFileNameMap();\nString mimeType = fileNameMap.getContentTypeFor(\"alert.gif\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":0,"creation_date":1342558114,"post_id":8973468,"comment_id":15243202,"body_markdown":"This was very helpful since the mime-util website appears to be down and I can&#39;t tell if the library is being maintained at all!","body":"This was very helpful since the mime-util website appears to be down and I can&#39;t tell if the library is being maintained at all!"},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1355828414,"post_id":8973468,"comment_id":19207085,"body_markdown":"This works well, however I have not found a way to add more file types that I understand. For example an ISO image returns null, as does a .zip archive and even an ini configuration file.","body":"This works well, however I have not found a way to add more file types that I understand. For example an ISO image returns null, as does a .zip archive and even an ini configuration file."},{"owner":{"account_id":214247,"reputation":6689,"user_id":468112,"accept_rate":89,"display_name":"Chris Mowforth"},"score":0,"creation_date":1374882566,"post_id":8973468,"comment_id":26132382,"body_markdown":"@james.garriss and it&#39;s earned me more points than any other answer I&#39;ve ever given! Crazy, huh? :)","body":"@james.garriss and it&#39;s earned me more points than any other answer I&#39;ve ever given! Crazy, huh? :)"},{"owner":{"account_id":2151671,"reputation":1085,"user_id":1907891,"accept_rate":56,"display_name":"Silver"},"score":74,"creation_date":1385065916,"post_id":8973468,"comment_id":30001895,"body_markdown":"Be aware that Files.probeContentType(Path) is buggy on several OSes and a lot of bug reports have been filed. I have had a problem with software working on ubuntu but failing on windows. It seemed that on windows Files.probeContentType(Path) always returned null. It was not my system so I didn&#39;t check the JRE or windows version. It was windows 7 or 8 probably with oracle JRE for java 7.","body":"Be aware that Files.probeContentType(Path) is buggy on several OSes and a lot of bug reports have been filed. I have had a problem with software working on ubuntu but failing on windows. It seemed that on windows Files.probeContentType(Path) always returned null. It was not my system so I didn&#39;t check the JRE or windows version. It was windows 7 or 8 probably with oracle JRE for java 7."},{"owner":{"display_name":"user372743"},"score":21,"creation_date":1393513182,"post_id":8973468,"comment_id":33471565,"body_markdown":"I&#39;m running on OS X 10.9 and I get `null` out for `.xml`, `.png`, and `.xhtml` files. I don&#39;t know if I&#39;m just doing something horribly wrong, but that seems rather terrible.","body":"I&#39;m running on OS X 10.9 and I get <code>null</code> out for <code>.xml</code>, <code>.png</code>, and <code>.xhtml</code> files. I don&#39;t know if I&#39;m just doing something horribly wrong, but that seems rather terrible."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":1,"creation_date":1411497748,"post_id":8973468,"comment_id":40722196,"body_markdown":"I have not been able to get this to work successfully if the file does not have an extension.","body":"I have not been able to get this to work successfully if the file does not have an extension."},{"owner":{"account_id":41061,"reputation":727,"user_id":119259,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1424538776,"post_id":8973468,"comment_id":45594769,"body_markdown":"It appears that at least on *nix-like systems, the default file type detector just returns null and one has to manually add one or more detector implementations, which doesn&#39;t appear to be all too straight-forward. So at least for the use case I had, which is a simple method to map a file extension to a mime type, this solution does not work.","body":"It appears that at least on *nix-like systems, the default file type detector just returns null and one has to manually add one or more detector implementations, which doesn&#39;t appear to be all too straight-forward. So at least for the use case I had, which is a simple method to map a file extension to a mime type, this solution does not work."},{"owner":{"account_id":5785597,"reputation":9456,"user_id":4564945,"display_name":"Necreaux"},"score":46,"creation_date":1427825160,"post_id":8973468,"comment_id":46931271,"body_markdown":"A major limitation with this is that the file must exist on the file system. This does not work with a stream or a byte array, etc.","body":"A major limitation with this is that the file must exist on the file system. This does not work with a stream or a byte array, etc."},{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":0,"creation_date":1435966114,"post_id":8973468,"comment_id":50431570,"body_markdown":"Even weirder, I&#39;ve got two windows 8.1 laptops, one of which gets `application/x-zip-compressed` and the other gets `null` as a result of calling this on a zip file. Completely unreliable :\\. So, given that I want my application to switch on the encoding scheme of a file (lets say my application takes both XML and JSON configuration), and the file is simply called &#39;configuration&#39; (without an extension), whats the most reliable way to determine the type of that file, sort of cheating and reading a few bytes?","body":"Even weirder, I&#39;ve got two windows 8.1 laptops, one of which gets <code>application&#47;x-zip-compressed</code> and the other gets <code>null</code> as a result of calling this on a zip file. Completely unreliable :\\. So, given that I want my application to switch on the encoding scheme of a file (lets say my application takes both XML and JSON configuration), and the file is simply called &#39;configuration&#39; (without an extension), whats the most reliable way to determine the type of that file, sort of cheating and reading a few bytes?"},{"owner":{"account_id":2255489,"reputation":1281,"user_id":1986767,"accept_rate":47,"display_name":"Sarkhan"},"score":4,"creation_date":1465067318,"post_id":8973468,"comment_id":62749764,"body_markdown":"this method can not return mime type when i remove extension from the name.For exmaple if name is test.mp4 i change it into &quot;test&quot; and method returns null.Also i change movie extension to png etc it returns png mime type","body":"this method can not return mime type when i remove extension from the name.For exmaple if name is test.mp4 i change it into &quot;test&quot; and method returns null.Also i change movie extension to png etc it returns png mime type"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":13,"creation_date":1468620684,"post_id":8973468,"comment_id":64219880,"body_markdown":"This is useless if the file has a missing or wrong extension.","body":"This is useless if the file has a missing or wrong extension."},{"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"score":1,"creation_date":1468946046,"post_id":8973468,"comment_id":64331979,"body_markdown":"The Linux-based implementation appears to use Linux /usr/bin/file, which is good, unless there&#39;s an extension, which it just believes without looking deeper, which is bad. If you rename an XML file to .json, this will tell you it&#39;s JSON. Garbage in, garbage out. You just don&#39;t really want to trust this approach unless you&#39;re sure of your file data.","body":"The Linux-based implementation appears to use Linux /usr/bin/file, which is good, unless there&#39;s an extension, which it just believes without looking deeper, which is bad. If you rename an XML file to .json, this will tell you it&#39;s JSON. Garbage in, garbage out. You just don&#39;t really want to trust this approach unless you&#39;re sure of your file data."},{"owner":{"account_id":323574,"reputation":3424,"user_id":643675,"accept_rate":69,"display_name":"elhefe"},"score":0,"creation_date":1486064103,"post_id":8973468,"comment_id":71197090,"body_markdown":"@RussBateman `unless there&#39;s an extension, which it just believes without looking deeper, which is bad.` Do nginx/apache etc. do more than just look at the extension?","body":"@RussBateman <code>unless there&#39;s an extension, which it just believes without looking deeper, which is bad.</code> Do nginx/apache etc. do more than just look at the extension?"},{"owner":{"account_id":216960,"reputation":121,"user_id":472509,"display_name":"romulusnr"},"score":1,"creation_date":1585080939,"post_id":8973468,"comment_id":107639345,"body_markdown":"This method is poor, it goes off extension, doesn&#39;t bother with magic number, and returns null on different systems... even with same OS. Was fooled into using it and cannot recommend. You may as well just compare the file extension.","body":"This method is poor, it goes off extension, doesn&#39;t bother with magic number, and returns null on different systems... even with same OS. Was fooled into using it and cannot recommend. You may as well just compare the file extension."},{"owner":{"account_id":1326683,"reputation":2390,"user_id":1271359,"display_name":"Holger Ludvigsen"},"score":0,"creation_date":1602673745,"post_id":8973468,"comment_id":113793526,"body_markdown":"And to get the `Path` from a `String`, use `Paths.get(str)`","body":"And to get the <code>Path</code> from a <code>String</code>, use <code>Paths.get(str)</code>"},{"owner":{"account_id":3377351,"reputation":66,"user_id":2835247,"display_name":"And-y"},"score":0,"creation_date":1614830728,"post_id":8973468,"comment_id":117506492,"body_markdown":"On the Windows it uses only extensions to determine file type. On the Linux, until Java 8, it had used bunch of detectors: content-based detectors based on Gnome I/O, Gnome VFS and libmagic libraries as well as extension-based, implemented over `/etc/mime.types`. \nBut starting from Java9 all content-based detectors were removed from JDK ([1](https://bugs.openjdk.java.net/browse/JDK-8129633) [2](https://bugs.openjdk.java.net/browse/JDK-8162624)) and only extension-based detectors were left for Linux. So if your file does not have an extension, this method will always return `null` :(","body":"On the Windows it uses only extensions to determine file type. On the Linux, until Java 8, it had used bunch of detectors: content-based detectors based on Gnome I/O, Gnome VFS and libmagic libraries as well as extension-based, implemented over <code>&#47;etc&#47;mime.types</code>.  But starting from Java9 all content-based detectors were removed from JDK (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8129633\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://bugs.openjdk.java.net/browse/JDK-8162624\" rel=\"nofollow noreferrer\">2</a>) and only extension-based detectors were left for Linux. So if your file does not have an extension, this method will always return <code>null</code> :("},{"owner":{"account_id":968058,"reputation":983,"user_id":991131,"display_name":"Sutra"},"score":0,"creation_date":1627734309,"post_id":8973468,"comment_id":121238450,"body_markdown":"The default implementation in JDK is probe by file extension name, add https://github.com/overview/mime-types as dependency, it will use it by SPI, then probes by the magic number.","body":"The default implementation in JDK is probe by file extension name, add <a href=\"https://github.com/overview/mime-types\" rel=\"nofollow noreferrer\">github.com/overview/mime-types</a> as dependency, it will use it by SPI, then probes by the magic number."}],"tags":[],"owner":{"account_id":214247,"reputation":6689,"user_id":468112,"accept_rate":89,"display_name":"Chris Mowforth"},"comment_count":17,"down_vote_count":10,"up_vote_count":361,"is_accepted":true,"score":351,"last_activity_date":1374882592,"creation_date":1327330163,"answer_id":8973468,"question_id":51438,"body_markdown":"In Java 7 you can now just use [`Files.probeContentType(path)`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>In Java 7 you can now just use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\" rel=\"noreferrer\"><code>Files.probeContentType(path)</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":114904,"reputation":808,"user_id":301955,"accept_rate":56,"display_name":"Brian Pipa"},"score":5,"creation_date":1355251529,"post_id":12534954,"comment_id":19027026,"body_markdown":"I had no success at all with MimeUtil2 - almost everything came back as application/octet-stream. I used MimeUtil.getMimeTypes() with much more success after initializing with `     MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.MagicMimeMimeDetector&quot;);\n        MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.ExtensionMimeDetector&quot;);\n        MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.OpendesktopMimeDetector&quot;); `","body":"I had no success at all with MimeUtil2 - almost everything came back as application/octet-stream. I used MimeUtil.getMimeTypes() with much more success after initializing with `     MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.M&zwnj;&#8203;agicMimeMimeDetector&zwnj;&#8203;&quot;);         MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.E&zwnj;&#8203;xtensionMimeDetector&zwnj;&#8203;&quot;);         MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.O&zwnj;&#8203;pendesktopMimeDetect&zwnj;&#8203;or&quot;); `"},{"owner":{"account_id":227071,"reputation":4683,"user_id":488514,"display_name":"Rob Juurlink"},"score":2,"creation_date":1359671300,"post_id":12534954,"comment_id":20446380,"body_markdown":"Thanks for the working solution. The documentation of mime-util is not very clear about how to instantiate the utility class. Finally got it up and running, but replaced the classname string with the actual class.\n\nMimeUtil.registerMimeDetector(ExtensionMimeDetector.class.getName());\nString mimeType = MimeUtil.getMostSpecificMimeType(MimeUtil.getMimeTypes(filename)).toString();","body":"Thanks for the working solution. The documentation of mime-util is not very clear about how to instantiate the utility class. Finally got it up and running, but replaced the classname string with the actual class.  MimeUtil.registerMimeDetector(ExtensionMimeDetector.class.ge&zwnj;&#8203;tName()); String mimeType = MimeUtil.getMostSpecificMimeType(MimeUtil.getMimeTypes(filen&zwnj;&#8203;ame)).toString();"}],"tags":[],"owner":{"account_id":1142875,"reputation":131,"user_id":1126309,"accept_rate":12,"display_name":"ricardoc"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1487116571,"creation_date":1348247031,"answer_id":12534954,"question_id":51438,"body_markdown":"I tried several ways to do it, including the first ones said by @Joshua Fox. But some don&#39;t recognize frequent mimetypes like for PDF files, and other could not be trustable with fake files (I tried with a RAR file with extension changed to TIF). The solution I found, as also is said by @Joshua Fox in a superficial way, is to use [MimeUtil2][1], like this:\r\n\r\n    MimeUtil2 mimeUtil = new MimeUtil2();\r\n    mimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.MagicMimeMimeDetector&quot;);\r\n    String mimeType = MimeUtil2.getMostSpecificMimeType(mimeUtil.getMimeTypes(file)).toString();\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/eu.medsea.mimeutil/mime-util/2.1.2","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>I tried several ways to do it, including the first ones said by @Joshua Fox. But some don't recognize frequent mimetypes like for PDF files, and other could not be trustable with fake files (I tried with a RAR file with extension changed to TIF). The solution I found, as also is said by @Joshua Fox in a superficial way, is to use <a href=\"https://mvnrepository.com/artifact/eu.medsea.mimeutil/mime-util/2.1.2\" rel=\"nofollow noreferrer\">MimeUtil2</a>, like this:</p>\n\n<pre><code>MimeUtil2 mimeUtil = new MimeUtil2();\nmimeUtil.registerMimeDetector(\"eu.medsea.mimeutil.detector.MagicMimeMimeDetector\");\nString mimeType = MimeUtil2.getMostSpecificMimeType(mimeUtil.getMimeTypes(file)).toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3307208,"reputation":1506,"user_id":2781649,"accept_rate":35,"display_name":"nmxprime"},"score":3,"creation_date":1451538680,"post_id":13889946,"comment_id":56824702,"body_markdown":"This is also works if tried with local file paths such as &quot;/sdcard/path/to/video.extension&quot;. The problem is if the local file contains space in its path, it always returns null","body":"This is also works if tried with local file paths such as &quot;/sdcard/path/to/video.extension&quot;. The problem is if the local file contains space in its path, it always returns null"}],"tags":[],"owner":{"account_id":1447316,"reputation":1213,"user_id":1365340,"accept_rate":40,"display_name":"Pawan"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1355552619,"creation_date":1355552619,"answer_id":13889946,"question_id":51438,"body_markdown":"If you&#39;re an Android developer, you can use a utility class `android.webkit.MimeTypeMap` which maps MIME-types to file extensions and vice versa. &lt;p&gt; Following code snippet may help you.\r\n\r\n\tprivate static String getMimeType(String fileUrl) {\r\n\t\tString extension = MimeTypeMap.getFileExtensionFromUrl(fileUrl);\r\n\t\treturn MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);\r\n\t}","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>If you're an Android developer, you can use a utility class <code>android.webkit.MimeTypeMap</code> which maps MIME-types to file extensions and vice versa. <p> Following code snippet may help you.</p>\n\n<pre><code>private static String getMimeType(String fileUrl) {\n    String extension = MimeTypeMap.getFileExtensionFromUrl(fileUrl);\n    return MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":1,"creation_date":1492438805,"post_id":16626396,"comment_id":73961873,"body_markdown":"+1  Also `Metadata.RESOURCE_NAME_KEY` can be omitted (if you don&#39;t have any or cannot rely on original name), but in that case you will get wrong result in some cases (office documents for example).","body":"+1  Also <code>Metadata.RESOURCE_NAME_KEY</code> can be omitted (if you don&#39;t have any or cannot rely on original name), but in that case you will get wrong result in some cases (office documents for example)."},{"owner":{"account_id":2204848,"reputation":4377,"user_id":1948325,"accept_rate":43,"display_name":"Oscar P&#233;rez"},"score":1,"creation_date":1515070037,"post_id":16626396,"comment_id":83165861,"body_markdown":"It has some problems detecting XLSX if there&#39;s no extension on filename... but this solution is simple and elegant.","body":"It has some problems detecting XLSX if there&#39;s no extension on filename... but this solution is simple and elegant."}],"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1605272199,"creation_date":1368893694,"answer_id":16626396,"question_id":51438,"body_markdown":"[Apache Tika](https://tika.apache.org/) offers in [tika-core](https://search.maven.org/artifact/org.apache.tika/tika-core) a mime type detection based based on magic markers in the stream prefix. `tika-core` does not fetch other dependencies, which makes it as lightweight as the currently unmaintained [Mime Type Detection Utility](http://sourceforge.net/projects/mime-util/).\r\n\r\nSimple code example (Java 7), using the variables `theInputStream` and `theFileName`\r\n\r\n    try (InputStream is = theInputStream;\r\n            BufferedInputStream bis = new BufferedInputStream(is);) {\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Detector detector = parser.getDetector();\r\n        Metadata md = new Metadata();\r\n        md.add(Metadata.RESOURCE_NAME_KEY, theFileName);\r\n        MediaType mediaType = detector.detect(bis, md);\r\n        return mediaType.toString();\r\n    }\r\n\r\nPlease note that `MediaType.detect(...)` cannot be used directly ([TIKA-1120](https://issues.apache.org/jira/browse/TIKA-1120)). More hints are provided at &lt;https://tika.apache.org/1.24/detection.html&gt;.\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p><a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a> offers in <a href=\"https://search.maven.org/artifact/org.apache.tika/tika-core\" rel=\"noreferrer\">tika-core</a> a mime type detection based based on magic markers in the stream prefix. <code>tika-core</code> does not fetch other dependencies, which makes it as lightweight as the currently unmaintained <a href=\"http://sourceforge.net/projects/mime-util/\" rel=\"noreferrer\">Mime Type Detection Utility</a>.</p>\n<p>Simple code example (Java 7), using the variables <code>theInputStream</code> and <code>theFileName</code></p>\n<pre><code>try (InputStream is = theInputStream;\n        BufferedInputStream bis = new BufferedInputStream(is);) {\n    AutoDetectParser parser = new AutoDetectParser();\n    Detector detector = parser.getDetector();\n    Metadata md = new Metadata();\n    md.add(Metadata.RESOURCE_NAME_KEY, theFileName);\n    MediaType mediaType = detector.detect(bis, md);\n    return mediaType.toString();\n}\n</code></pre>\n<p>Please note that <code>MediaType.detect(...)</code> cannot be used directly (<a href=\"https://issues.apache.org/jira/browse/TIKA-1120\" rel=\"noreferrer\">TIKA-1120</a>). More hints are provided at <a href=\"https://tika.apache.org/1.24/detection.html\" rel=\"noreferrer\">https://tika.apache.org/1.24/detection.html</a>.</p>\n"},{"comments":[{"owner":{"account_id":2108977,"reputation":4151,"user_id":1874627,"display_name":"saurabheights"},"score":2,"creation_date":1471011735,"post_id":17302243,"comment_id":65197292,"body_markdown":"Tested it on multiple image files. All had extension renamed. Your awesome library handled it properly. Ofcourse its light too :).","body":"Tested it on multiple image files. All had extension renamed. Your awesome library handled it properly. Ofcourse its light too :)."},{"owner":{"account_id":5410217,"reputation":995,"user_id":4307281,"display_name":"jkincali"},"score":1,"creation_date":1487596328,"post_id":17302243,"comment_id":71842171,"body_markdown":"Yes, this works well.  And for those needing to use this solution within Android, you can simply include the following in the build.gradle file: compile(&#39;com.j256.simplemagic:simplemagic:1.10&#39;)","body":"Yes, this works well.  And for those needing to use this solution within Android, you can simply include the following in the build.gradle file: compile(&#39;com.j256.simplemagic:simplemagic:1.10&#39;)"},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":0,"creation_date":1659155738,"post_id":17302243,"comment_id":129231481,"body_markdown":"This library works with all files. better than all other libraries since it works for documents such as PDF, XLS, XLSX, DOC and DOCX. it doesn&#39;t work for XLS properly but you can check it from other methods of `ContentInfo` like `getMessage()`","body":"This library works with all files. better than all other libraries since it works for documents such as PDF, XLS, XLSX, DOC and DOCX. it doesn&#39;t work for XLS properly but you can check it from other methods of <code>ContentInfo</code> like <code>getMessage()</code>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1659222313,"post_id":17302243,"comment_id":129243729,"body_markdown":"Can you file an issue with it @keivanshirkoubian with a sample xls that isn&#39;t done correctly?  https://github.com/j256/simplemagic/issues","body":"Can you file an issue with it @keivanshirkoubian with a sample xls that isn&#39;t done correctly?  <a href=\"https://github.com/j256/simplemagic/issues\" rel=\"nofollow noreferrer\">github.com/j256/simplemagic/issues</a>"},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":0,"creation_date":1659249487,"post_id":17302243,"comment_id":129246415,"body_markdown":"ok I will do it @Gray when I have time.","body":"ok I will do it @Gray when I have time."},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":1,"creation_date":1659429729,"post_id":17302243,"comment_id":129286861,"body_markdown":"@Gray I&#39;ve sent an issue in your repository about the old excel files.\n[issue link](https://github.com/j256/simplemagic/issues/85)","body":"@Gray I&#39;ve sent an issue in your repository about the old excel files. <a href=\"https://github.com/j256/simplemagic/issues/85\" rel=\"nofollow noreferrer\">issue link</a>"}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":6,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1496180281,"creation_date":1372176462,"answer_id":17302243,"question_id":51438,"body_markdown":"&gt; I was just wondering how most people fetch a mime type from a file in Java? \r\n\r\nI&#39;ve published my [SimpleMagic][1] Java package which allows content-type (mime-type) determination from files and byte arrays. It is designed to read and run the Unix file(1) command magic files that are a part of most ~Unix OS configurations.\r\n\r\nI tried Apache Tika but it is _huge_ with tons of dependencies, `URLConnection` doesn&#39;t use the bytes of the files, and `MimetypesFileTypeMap` also just looks at files names.\r\n\r\nWith SimpleMagic you can do something like:\r\n\r\n    // create a magic utility using the internal magic file\r\n    ContentInfoUtil util = new ContentInfoUtil();\r\n    // if you want to use a different config file(s), you can load them by hand:\r\n    // ContentInfoUtil util = new ContentInfoUtil(&quot;/etc/magic&quot;);\r\n    ...\r\n    ContentInfo info = util.findMatch(&quot;/tmp/upload.tmp&quot;);\r\n    // or\r\n    ContentInfo info = util.findMatch(inputStream);\r\n    // or\r\n    ContentInfo info = util.findMatch(contentByteArray);\r\n\r\n    // null if no match\r\n    if (info != null) {\r\n       String mimeType = info.getMimeType();\r\n    }\r\n\r\n  [1]: http://256stuff.com/sources/simplemagic/","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<blockquote>\n  <p>I was just wondering how most people fetch a mime type from a file in Java? </p>\n</blockquote>\n\n<p>I've published my <a href=\"http://256stuff.com/sources/simplemagic/\" rel=\"noreferrer\">SimpleMagic</a> Java package which allows content-type (mime-type) determination from files and byte arrays. It is designed to read and run the Unix file(1) command magic files that are a part of most ~Unix OS configurations.</p>\n\n<p>I tried Apache Tika but it is <em>huge</em> with tons of dependencies, <code>URLConnection</code> doesn't use the bytes of the files, and <code>MimetypesFileTypeMap</code> also just looks at files names.</p>\n\n<p>With SimpleMagic you can do something like:</p>\n\n<pre><code>// create a magic utility using the internal magic file\nContentInfoUtil util = new ContentInfoUtil();\n// if you want to use a different config file(s), you can load them by hand:\n// ContentInfoUtil util = new ContentInfoUtil(\"/etc/magic\");\n...\nContentInfo info = util.findMatch(\"/tmp/upload.tmp\");\n// or\nContentInfo info = util.findMatch(inputStream);\n// or\nContentInfo info = util.findMatch(contentByteArray);\n\n// null if no match\nif (info != null) {\n   String mimeType = info.getMimeType();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":106792,"reputation":2784,"user_id":284314,"accept_rate":73,"display_name":"Ovidiu Buligan"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1542148890,"creation_date":1378394430,"answer_id":18640199,"question_id":51438,"body_markdown":"**If you are stuck with java 5-6** then this utility class from [servoy open source product][1].\r\n\r\nYou only need this function \r\n\r\n    public static String getContentType(byte[] data, String name)\r\n\r\nIt probes the first bytes of the content and returns the content types based on that content and not by file extension.\r\n\r\n  [1]: https://github.com/Servoy/servoy-client/blob/e7f5bce3c3dc0f0eb1cd240fce48c75143a25432/servoy_shared/src/com/servoy/j2db/util/MimeTypes.java#L34","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p><strong>If you are stuck with java 5-6</strong> then this utility class from <a href=\"https://github.com/Servoy/servoy-client/blob/e7f5bce3c3dc0f0eb1cd240fce48c75143a25432/servoy_shared/src/com/servoy/j2db/util/MimeTypes.java#L34\" rel=\"nofollow noreferrer\">servoy open source product</a>.</p>\n\n<p>You only need this function </p>\n\n<pre><code>public static String getContentType(byte[] data, String name)\n</code></pre>\n\n<p>It probes the first bytes of the content and returns the content types based on that content and not by file extension.</p>\n"},{"tags":[],"owner":{"account_id":2389385,"reputation":968,"user_id":2089557,"accept_rate":100,"display_name":"javacreed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408440363,"creation_date":1408440363,"answer_id":25379881,"question_id":51438,"body_markdown":"It is better to use two layer validation for files upload. \r\n\r\nFirst you can check for the mimeType and validate it. \r\n\r\nSecond you should look to convert the first 4 bytes of your file to hexadecimal and then compare it with the magic numbers. Then it will be a really secure way to check for file validations.","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>It is better to use two layer validation for files upload. </p>\n\n<p>First you can check for the mimeType and validate it. </p>\n\n<p>Second you should look to convert the first 4 bytes of your file to hexadecimal and then compare it with the magic numbers. Then it will be a really secure way to check for file validations.</p>\n"},{"comments":[{"owner":{"account_id":1299767,"reputation":560,"user_id":1249938,"accept_rate":100,"display_name":"ToVine"},"score":4,"creation_date":1445190202,"post_id":27342079,"comment_id":54206957,"body_markdown":"This will work, but is IMO a bad practice as it ties your code to a specific OS and requires the external utility to be present at the system running it. Don&#39;t get me wrong; it&#39;s a fully valid solution, but breaks portability - which is one of the main reasons to use Java in the first place...","body":"This will work, but is IMO a bad practice as it ties your code to a specific OS and requires the external utility to be present at the system running it. Don&#39;t get me wrong; it&#39;s a fully valid solution, but breaks portability - which is one of the main reasons to use Java in the first place..."},{"owner":{"account_id":3331775,"reputation":1275,"user_id":2800562,"display_name":"EmpathicSage"},"score":0,"creation_date":1535313405,"post_id":27342079,"comment_id":91009956,"body_markdown":"@ToVine: For the record, I&#39;m going to respectfully disagree. Not every Java program is required to be portable. Let context and the programmer make that decision. https://en.wikipedia.org/wiki/Java_Native_Interface","body":"@ToVine: For the record, I&#39;m going to respectfully disagree. Not every Java program is required to be portable. Let context and the programmer make that decision. <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_Native_Interface</a>"}],"tags":[],"owner":{"account_id":388570,"reputation":88666,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1453631521,"creation_date":1417951068,"answer_id":27342079,"question_id":51438,"body_markdown":"if you work on linux OS ,there is a command line `file --mimetype`: \r\n\r\n\r\n\r\n    String mimetype(file){\r\n\r\n       //1. run cmd\r\n       Object cmd=Runtime.getRuntime().exec(&quot;file --mime-type &quot;+file);\r\n       \r\n       //2 get output of cmd , then \r\n        //3. parse mimetype\r\n        if(output){return output.split(&quot;:&quot;)[1].trim(); }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nThen\r\n\r\n    mimetype(&quot;/home/nyapp.war&quot;) //  &#39;application/zip&#39;\r\n    \r\n    mimetype(&quot;/var/www/ggg/au.mp3&quot;) //  &#39;audio/mp3&#39;\r\n\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>if you work on linux OS ,there is a command line <code>file --mimetype</code>: </p>\n\n<pre><code>String mimetype(file){\n\n   //1. run cmd\n   Object cmd=Runtime.getRuntime().exec(\"file --mime-type \"+file);\n\n   //2 get output of cmd , then \n    //3. parse mimetype\n    if(output){return output.split(\":\")[1].trim(); }\n    return \"\";\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>mimetype(\"/home/nyapp.war\") //  'application/zip'\n\nmimetype(\"/var/www/ggg/au.mp3\") //  'audio/mp3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954177,"reputation":785,"user_id":979765,"accept_rate":71,"display_name":"Ahmad R. Nazemi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1461670393,"creation_date":1461670393,"answer_id":36863737,"question_id":51438,"body_markdown":"in spring **MultipartFile** file;\r\n\r\n&gt; org.springframework.web.multipart.MultipartFile\r\n\r\n  `file.getContentType();`","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>in spring <strong>MultipartFile</strong> file;</p>\n\n<blockquote>\n  <p>org.springframework.web.multipart.MultipartFile</p>\n</blockquote>\n\n<p><code>file.getContentType();</code></p>\n"},{"tags":[],"owner":{"account_id":393856,"reputation":11926,"user_id":755932,"accept_rate":67,"display_name":"K. Siva Prasad Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464266124,"creation_date":1464266124,"answer_id":37461034,"question_id":51438,"body_markdown":"After trying various other libraries I settled with mime-util.\r\n\r\n    &lt;groupId&gt;eu.medsea.mimeutil&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;mime-util&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;2.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    File file = new File(&quot;D:/test.tif&quot;);\r\n    MimeUtil.registerMimeDetector(&quot;eu.medsea.mimeutil.detector.MagicMimeMimeDetector&quot;);\r\n    Collection&lt;?&gt; mimeTypes = MimeUtil.getMimeTypes(file);\r\n    System.out.println(mimeTypes);","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>After trying various other libraries I settled with mime-util.</p>\n\n<pre><code>&lt;groupId&gt;eu.medsea.mimeutil&lt;/groupId&gt;\n      &lt;artifactId&gt;mime-util&lt;/artifactId&gt;\n      &lt;version&gt;2.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n\nFile file = new File(\"D:/test.tif\");\nMimeUtil.registerMimeDetector(\"eu.medsea.mimeutil.detector.MagicMimeMimeDetector\");\nCollection&lt;?&gt; mimeTypes = MimeUtil.getMimeTypes(file);\nSystem.out.println(mimeTypes);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1560920,"reputation":958,"user_id":1450799,"display_name":"Reza Rahimi"},"score":0,"creation_date":1512041455,"post_id":40765798,"comment_id":82101716,"body_markdown":"This method Files.probeContentType(String) is available since JDK version 1.7 and it works very good for me.","body":"This method Files.probeContentType(String) is available since JDK version 1.7 and it works very good for me."}],"tags":[],"owner":{"account_id":4059905,"reputation":1265,"user_id":3541666,"accept_rate":0,"display_name":"Vazgen Torosyan"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1479907578,"creation_date":1479907578,"answer_id":40765798,"question_id":51438,"body_markdown":"    public String getFileContentType(String fileName) {\r\n        String fileType = &quot;Undetermined&quot;;\r\n        final File file = new File(fileName);\r\n        try\r\n        {\r\n            fileType = Files.probeContentType(file.toPath());\r\n        }\r\n        catch (IOException ioException)\r\n        {\r\n            System.out.println(\r\n                    &quot;ERROR: Unable to determine file type for &quot; + fileName\r\n                            + &quot; due to exception &quot; + ioException);\r\n        }\r\n        return fileType;\r\n    }","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<pre><code>public String getFileContentType(String fileName) {\n    String fileType = \"Undetermined\";\n    final File file = new File(fileName);\n    try\n    {\n        fileType = Files.probeContentType(file.toPath());\n    }\n    catch (IOException ioException)\n    {\n        System.out.println(\n                \"ERROR: Unable to determine file type for \" + fileName\n                        + \" due to exception \" + ioException);\n    }\n    return fileType;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1932170,"reputation":9187,"user_id":1741343,"accept_rate":75,"display_name":"helmy"},"score":2,"creation_date":1511376503,"post_id":42229928,"comment_id":81838820,"body_markdown":"One bad thing about Tika, lots of dependency bloat. It increased the size of my jar by 54MB!!!","body":"One bad thing about Tika, lots of dependency bloat. It increased the size of my jar by 54MB!!!"},{"owner":{"account_id":6152216,"reputation":1284,"user_id":4796321,"accept_rate":100,"display_name":"Sainan"},"score":2,"creation_date":1516630878,"post_id":42229928,"comment_id":83754174,"body_markdown":"@helmyTika 1.17 is standalone and only 648 KB big.","body":"@helmyTika 1.17 is standalone and only 648 KB big."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1528196365,"post_id":42229928,"comment_id":88405943,"body_markdown":"... or just `new Tika().detect(file.toPath())` for the file&#39;s extension based detection rather than detection based on the file&#39;s content","body":"... or just <code>new Tika().detect(file.toPath())</code> for the file&#39;s extension based detection rather than detection based on the file&#39;s content"},{"owner":{"account_id":5275077,"reputation":5463,"user_id":4212150,"accept_rate":58,"display_name":"delucasvb"},"score":0,"creation_date":1530268290,"post_id":42229928,"comment_id":89186673,"body_markdown":"@Lu55 docs say that still uses the document content. I think you mean `new Tika().detect(file.getPath())`, which only uses the file extension","body":"@Lu55 docs say that still uses the document content. I think you mean <code>new Tika().detect(file.getPath())</code>, which only uses the file extension"}],"tags":[],"owner":{"account_id":4065672,"reputation":15658,"user_id":3340702,"accept_rate":58,"display_name":"lifeisfoo"},"comment_count":4,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1508150567,"creation_date":1487085860,"answer_id":42229928,"question_id":51438,"body_markdown":"With [Apache Tika](http://tika.apache.org) you need only **three lines of code**:\r\n\r\n\r\n    File file = new File(&quot;/path/to/file&quot;);\r\n    Tika tika = new Tika();\r\n    System.out.println(tika.detect(file));\r\n\r\n\r\nIf you have a groovy console, just paste and run this code to play with it:\r\n\r\n\r\n    @Grab(&#39;org.apache.tika:tika-core:1.14&#39;)\r\n    import org.apache.tika.Tika;\r\n\r\n    def tika = new Tika()\r\n    def file = new File(&quot;/path/to/file&quot;)\r\n    println tika.detect(file)\r\n\r\nKeep in mind that its APIs are rich, it can parse &quot;anything&quot;. As of tika-core 1.14, you have:\r\n\r\n    String \tdetect(byte[] prefix)\r\n    String \tdetect(byte[] prefix, String name)\r\n    String \tdetect(File file)\r\n    String \tdetect(InputStream stream)\r\n    String \tdetect(InputStream stream, Metadata metadata)\r\n    String \tdetect(InputStream stream, String name)\r\n    String \tdetect(Path path)\r\n    String \tdetect(String name)\r\n    String \tdetect(URL url)\r\n\r\nSee [the apidocs](http://tika.apache.org/1.14/api/) for more information.","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>With <a href=\"http://tika.apache.org\" rel=\"noreferrer\">Apache Tika</a> you need only <strong>three lines of code</strong>:</p>\n\n<pre><code>File file = new File(\"/path/to/file\");\nTika tika = new Tika();\nSystem.out.println(tika.detect(file));\n</code></pre>\n\n<p>If you have a groovy console, just paste and run this code to play with it:</p>\n\n<pre><code>@Grab('org.apache.tika:tika-core:1.14')\nimport org.apache.tika.Tika;\n\ndef tika = new Tika()\ndef file = new File(\"/path/to/file\")\nprintln tika.detect(file)\n</code></pre>\n\n<p>Keep in mind that its APIs are rich, it can parse \"anything\". As of tika-core 1.14, you have:</p>\n\n<pre><code>String  detect(byte[] prefix)\nString  detect(byte[] prefix, String name)\nString  detect(File file)\nString  detect(InputStream stream)\nString  detect(InputStream stream, Metadata metadata)\nString  detect(InputStream stream, String name)\nString  detect(Path path)\nString  detect(String name)\nString  detect(URL url)\n</code></pre>\n\n<p>See <a href=\"http://tika.apache.org/1.14/api/\" rel=\"noreferrer\">the apidocs</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":3778003,"reputation":6793,"user_id":3138238,"accept_rate":74,"display_name":"madx"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487859401,"creation_date":1487859401,"answer_id":42418284,"question_id":51438,"body_markdown":"This is the simplest way I found for doing this:\r\n\r\n    byte[] byteArray = ...\r\n    InputStream is = new BufferedInputStream(new ByteArrayInputStream(byteArray));\r\n    String mimeType = URLConnection.guessContentTypeFromStream(is);","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>This is the simplest way I found for doing this:</p>\n\n<pre><code>byte[] byteArray = ...\nInputStream is = new BufferedInputStream(new ByteArrayInputStream(byteArray));\nString mimeType = URLConnection.guessContentTypeFromStream(is);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2620418,"reputation":3788,"user_id":2268559,"display_name":"nidalpres"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1506348208,"creation_date":1506348208,"answer_id":46407125,"question_id":51438,"body_markdown":"To chip in with my 5 cents:\r\n\r\n**TL,DR**\r\n\r\nI use [MimetypesFileTypeMap][1] and add any mime that is not there and I specifically need it, into mime.types file.\r\n\r\n*And now, the long read:*\r\n\r\nFirst of all, MIME types list is *huge*, see here: https://www.iana.org/assignments/media-types/media-types.xhtml\r\n\r\nI like to use standard facilities provided by JDK first, and if that doesn&#39;t work, I&#39;ll go and look for something else.\r\n\r\n**Determine file type from file extension**\r\n\r\nSince 1.6, Java has MimetypesFileTypeMap, as pointed in one of the answers above, and it is the simplest way to determine mime type:\r\n\r\n    new MimetypesFileTypeMap().getContentType( fileName );\r\n\r\nIn its vanilla implementation this does not do much (i.e. it works for .html but it doesn&#39;t for .png). It is, however, super simple to add any content type you may need:\r\n\r\n 1. Create file named &#39;mime.types&#39; in META-INF folder in your project\r\n 2. Add a line for every mime type you need and default implementation doesn&#39;t provide (there are hundreds of mime types and list grows as time goes by).\r\n\r\nExample entries for png and js files would be:\r\n\r\n    image/png png PNG\r\n    application/javascript js\r\n\r\nFor mime.types file format, see more details here: https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\r\n\r\n**Determine file type from file content**\r\n\r\nSince 1.7, Java has [java.nio.file.spi.FileTypeDetector][2], which defines a standard API for determining a file type in *implementation specific way*.\r\n\r\nTo fetch mime type for a file, you would simply use [Files][3] and do this in your code:\r\n\r\n    Files.probeContentType(Paths.get(&quot;either file name or full path goes here&quot;));\r\n\r\nThe API definition provides for facilities that support either for determining file mime type from file name or from file content (magic bytes). That is why [probeContentType()][4] method throws IOException, in case an implementation of this API uses Path provided to it to actually try to open the file associated with it.\r\n\r\nAgain, vanilla *implementation* of this (the one that comes with JDK) leaves a lot to be desired.\r\n\r\nIn some ideal world in a galaxy far, far away, all these libraries which try to solve this file-to-mime-type problem would simply implement [java.nio.file.spi.FileTypeDetector][2], you would drop in the preferred implementing library&#39;s jar file into your classpath and that would be it.\r\n\r\nIn the real world, the one where you need TL,DR section, you should find the library with most stars next to it&#39;s name and use it. For this particular case, I don&#39;t need one (yet ;) ).\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/spi/FileTypeDetector.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType(java.nio.file.Path)\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/spi/FileTypeDetector.html#probeContentType(java.nio.file.Path)","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>To chip in with my 5 cents:</p>\n\n<p><strong>TL,DR</strong></p>\n\n<p>I use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"noreferrer\">MimetypesFileTypeMap</a> and add any mime that is not there and I specifically need it, into mime.types file.</p>\n\n<p><em>And now, the long read:</em></p>\n\n<p>First of all, MIME types list is <em>huge</em>, see here: <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"noreferrer\">https://www.iana.org/assignments/media-types/media-types.xhtml</a></p>\n\n<p>I like to use standard facilities provided by JDK first, and if that doesn't work, I'll go and look for something else.</p>\n\n<p><strong>Determine file type from file extension</strong></p>\n\n<p>Since 1.6, Java has MimetypesFileTypeMap, as pointed in one of the answers above, and it is the simplest way to determine mime type:</p>\n\n<pre><code>new MimetypesFileTypeMap().getContentType( fileName );\n</code></pre>\n\n<p>In its vanilla implementation this does not do much (i.e. it works for .html but it doesn't for .png). It is, however, super simple to add any content type you may need:</p>\n\n<ol>\n<li>Create file named 'mime.types' in META-INF folder in your project</li>\n<li>Add a line for every mime type you need and default implementation doesn't provide (there are hundreds of mime types and list grows as time goes by).</li>\n</ol>\n\n<p>Example entries for png and js files would be:</p>\n\n<pre><code>image/png png PNG\napplication/javascript js\n</code></pre>\n\n<p>For mime.types file format, see more details here: <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html</a></p>\n\n<p><strong>Determine file type from file content</strong></p>\n\n<p>Since 1.7, Java has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/spi/FileTypeDetector.html\" rel=\"noreferrer\">java.nio.file.spi.FileTypeDetector</a>, which defines a standard API for determining a file type in <em>implementation specific way</em>.</p>\n\n<p>To fetch mime type for a file, you would simply use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType(java.nio.file.Path)\" rel=\"noreferrer\">Files</a> and do this in your code:</p>\n\n<pre><code>Files.probeContentType(Paths.get(\"either file name or full path goes here\"));\n</code></pre>\n\n<p>The API definition provides for facilities that support either for determining file mime type from file name or from file content (magic bytes). That is why <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/spi/FileTypeDetector.html#probeContentType(java.nio.file.Path)\" rel=\"noreferrer\">probeContentType()</a> method throws IOException, in case an implementation of this API uses Path provided to it to actually try to open the file associated with it.</p>\n\n<p>Again, vanilla <em>implementation</em> of this (the one that comes with JDK) leaves a lot to be desired.</p>\n\n<p>In some ideal world in a galaxy far, far away, all these libraries which try to solve this file-to-mime-type problem would simply implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/spi/FileTypeDetector.html\" rel=\"noreferrer\">java.nio.file.spi.FileTypeDetector</a>, you would drop in the preferred implementing library's jar file into your classpath and that would be it.</p>\n\n<p>In the real world, the one where you need TL,DR section, you should find the library with most stars next to it's name and use it. For this particular case, I don't need one (yet ;) ).</p>\n"},{"tags":[],"owner":{"account_id":2852249,"reputation":7603,"user_id":2449199,"display_name":"Cassio Seffrin"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1524277694,"creation_date":1517622273,"answer_id":48593136,"question_id":51438,"body_markdown":"You can do it with just one line:  **MimetypesFileTypeMap().getContentType(new File(&quot;filename.ext&quot;))**. Look the complete test code (Java 7):\r\n\r\n    import java.io.File;\r\n    import javax.activation.MimetypesFileTypeMap;\r\n    public class MimeTest {\r\n    \tpublic static void main(String a[]){\r\n    \t\t System.out.println(new MimetypesFileTypeMap().getContentType(\r\n               new File(&quot;/path/filename.txt&quot;)));\r\n    \t}\r\n    }\r\n\r\nThis code produces the follow output: **text/plain**\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>You can do it with just one line:  <strong>MimetypesFileTypeMap().getContentType(new File(\"filename.ext\"))</strong>. Look the complete test code (Java 7):</p>\n\n<pre><code>import java.io.File;\nimport javax.activation.MimetypesFileTypeMap;\npublic class MimeTest {\n    public static void main(String a[]){\n         System.out.println(new MimetypesFileTypeMap().getContentType(\n           new File(\"/path/filename.txt\")));\n    }\n}\n</code></pre>\n\n<p>This code produces the follow output: <strong>text/plain</strong></p>\n"},{"comments":[{"owner":{"account_id":411877,"reputation":22062,"user_id":965146,"accept_rate":85,"display_name":"4b0"},"score":4,"creation_date":1558090306,"post_id":56183154,"comment_id":98995021,"body_markdown":"While this code may solve the question, [including an explanation](https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post.","body":"While this code may solve the question, <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post."}],"tags":[],"owner":{"account_id":14375936,"reputation":9,"user_id":10384381,"display_name":"ganesh vechalapu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558084249,"creation_date":1558084141,"answer_id":56183154,"question_id":51438,"body_markdown":"    File file = new File(PropertiesReader.FILE_PATH);\r\n    MimetypesFileTypeMap fileTypeMap = new MimetypesFileTypeMap();\r\n    String mimeType = fileTypeMap.getContentType(file);\r\n    URLConnection uconnection = file.toURL().openConnection();\r\n    mimeType = uconnection.getContentType();\r\n\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<pre><code>File file = new File(PropertiesReader.FILE_PATH);\nMimetypesFileTypeMap fileTypeMap = new MimetypesFileTypeMap();\nString mimeType = fileTypeMap.getContentType(file);\nURLConnection uconnection = file.toURL().openConnection();\nmimeType = uconnection.getContentType();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3634578,"reputation":142,"user_id":3358877,"display_name":"sahmad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564605230,"creation_date":1564605230,"answer_id":57298455,"question_id":51438,"body_markdown":"I did it with following code. \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class MimeFileType {\r\n    \r\n        public static void main(String args[]){\r\n    \r\n            try{\r\n                URL url = new URL (&quot;https://www.url.com.pdf&quot;);\r\n                \r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n                connection.setDoOutput(true);\r\n                InputStream content = (InputStream)connection.getInputStream();\r\n                connection.getHeaderField(&quot;Content-Type&quot;);\r\n                \r\n                System.out.println(&quot;Content-Type &quot;+ connection.getHeaderField(&quot;Content-Type&quot;));\r\n    \r\n                BufferedReader in = new BufferedReader (new InputStreamReader(content));\r\n                \r\n            }catch (Exception e){\r\n    \r\n            }\r\n        }\r\n    }","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>I did it with following code. </p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class MimeFileType {\n\n    public static void main(String args[]){\n\n        try{\n            URL url = new URL (\"https://www.url.com.pdf\");\n\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(\"GET\");\n            connection.setDoOutput(true);\n            InputStream content = (InputStream)connection.getInputStream();\n            connection.getHeaderField(\"Content-Type\");\n\n            System.out.println(\"Content-Type \"+ connection.getHeaderField(\"Content-Type\"));\n\n            BufferedReader in = new BufferedReader (new InputStreamReader(content));\n\n        }catch (Exception e){\n\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":1,"creation_date":1588221642,"post_id":58796361,"comment_id":108817619,"body_markdown":"What is `getServletContext`?","body":"What is <code>getServletContext</code>?"},{"owner":{"account_id":3155211,"reputation":79,"user_id":2667766,"display_name":"Eelco"},"score":0,"creation_date":1701253378,"post_id":58796361,"comment_id":136751789,"body_markdown":"A method in the HttpServlet-class.","body":"A method in the HttpServlet-class."}],"tags":[],"owner":{"account_id":1194890,"reputation":340,"user_id":1166830,"display_name":"Ramishka Dasanayaka"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573452828,"creation_date":1573452828,"answer_id":58796361,"question_id":51438,"body_markdown":"If you are working with a Servlet and if the servlet context is available to you, you can use :\r\n\r\n    getServletContext().getMimeType( fileName );","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>If you are working with a Servlet and if the servlet context is available to you, you can use :</p>\n\n<pre><code>getServletContext().getMimeType( fileName );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589134487,"creation_date":1589134487,"answer_id":61716681,"question_id":51438,"body_markdown":"Apache Tika.\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.tika/tika-parsers --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n    &lt;version&gt;1.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nand Two line of code.\r\n```\r\nTika tika=new Tika();\r\ntika.detect(inputStream);\r\n```\r\n\r\nScreenshot below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zGTrB.png","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>Apache Tika.</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.tika/tika-parsers --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.24&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>and Two line of code.</p>\n\n<pre><code>Tika tika=new Tika();\ntika.detect(inputStream);\n</code></pre>\n\n<p>Screenshot below</p>\n\n<p><a href=\"https://i.stack.imgur.com/zGTrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGTrB.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7737504,"reputation":1056,"user_id":5989906,"accept_rate":100,"display_name":"Samuel Prevost"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605877367,"creation_date":1604439853,"answer_id":64671146,"question_id":51438,"body_markdown":"I couldn&#39;t find anything to check for `video/mp4` MIME type so I made my own solution.\r\nI happened to observe that Wikipedia was wrong and that the `00 00 00 18 66 74 79 70 69 73 6F 6D` file signature is not correct. the fourth byte (`18`) and all `70` (excluded) after changes quite a lot amongst otherwise valid `mp4` files.\r\n\r\nThis code is essentially a copy/paste of `URLConnection.guessContentTypeFromStream` code but tailored to `video/mp4`.\r\n\r\n```java\r\nBufferedInputStream bis = new BufferedInputStream(new ByteArrayInputStream(content));\r\nString mimeType = URLConnection.guessContentTypeFromStream(bis);\r\n\r\n// Goes full barbaric and processes the bytes manually\r\nif (mimeType == null){\r\n    // These ints converted in hex ar:\r\n    // 00 00 00 18 66 74 79 70 69 73 6F 6D\r\n    // which are the file signature (magic bytes) for .mp4 files\r\n    // from https://www.wikiwand.com/en/List_of_file_signatures\r\n    // just ctrl+f &quot;mp4&quot;\r\n    int[] mp4_sig = {0, 0, 0, 24, 102, 116, 121, 112};\r\n\r\n    bis.reset();\r\n    bis.mark(16);\r\n    int[] firstBytes = new int[8];\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        firstBytes[i] = bis.read();\r\n    }\r\n    // This byte doesn&#39;t matter for the file signature and changes\r\n    mp4_sig[3] = content[3];\r\n\r\n    bis.reset();\r\n    if (Arrays.equals(firstBytes, mp4_sig)){\r\n        mimeType = &quot;video/mp4&quot;;\r\n    }\r\n}\r\n```\r\n\r\nTested successfully against 10 different `.mp4` files.\r\n\r\nEDIT: [Here is a useful link (if it is still online) where you can find samples of many types][1]. I don&#39;t own those videos, don&#39;t know who does either, but they&#39;re useful for testing the above code.\r\n\r\n\r\n  [1]: http://mirrors.standaloneinstaller.com/video-sample/","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>I couldn't find anything to check for <code>video/mp4</code> MIME type so I made my own solution.\nI happened to observe that Wikipedia was wrong and that the <code>00 00 00 18 66 74 79 70 69 73 6F 6D</code> file signature is not correct. the fourth byte (<code>18</code>) and all <code>70</code> (excluded) after changes quite a lot amongst otherwise valid <code>mp4</code> files.</p>\n<p>This code is essentially a copy/paste of <code>URLConnection.guessContentTypeFromStream</code> code but tailored to <code>video/mp4</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedInputStream bis = new BufferedInputStream(new ByteArrayInputStream(content));\nString mimeType = URLConnection.guessContentTypeFromStream(bis);\n\n// Goes full barbaric and processes the bytes manually\nif (mimeType == null){\n    // These ints converted in hex ar:\n    // 00 00 00 18 66 74 79 70 69 73 6F 6D\n    // which are the file signature (magic bytes) for .mp4 files\n    // from https://www.wikiwand.com/en/List_of_file_signatures\n    // just ctrl+f &quot;mp4&quot;\n    int[] mp4_sig = {0, 0, 0, 24, 102, 116, 121, 112};\n\n    bis.reset();\n    bis.mark(16);\n    int[] firstBytes = new int[8];\n    for (int i = 0; i &lt; 8; i++) {\n        firstBytes[i] = bis.read();\n    }\n    // This byte doesn't matter for the file signature and changes\n    mp4_sig[3] = content[3];\n\n    bis.reset();\n    if (Arrays.equals(firstBytes, mp4_sig)){\n        mimeType = &quot;video/mp4&quot;;\n    }\n}\n</code></pre>\n<p>Tested successfully against 10 different <code>.mp4</code> files.</p>\n<p>EDIT: <a href=\"http://mirrors.standaloneinstaller.com/video-sample/\" rel=\"nofollow noreferrer\">Here is a useful link (if it is still online) where you can find samples of many types</a>. I don't own those videos, don't know who does either, but they're useful for testing the above code.</p>\n"},{"tags":[],"owner":{"account_id":3896812,"reputation":591,"user_id":3225638,"display_name":"Lorenzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617555450,"creation_date":1610517070,"answer_id":65696342,"question_id":51438,"body_markdown":"Check the magic bytes of the stream or file:\r\n\r\nhttps://stackoverflow.com/a/65667558/3225638\r\n\r\nIt uses pure Java, but requires you to define an `enum` of the types you want to detect.","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>Check the magic bytes of the stream or file:</p>\n<p><a href=\"https://stackoverflow.com/a/65667558/3225638\">https://stackoverflow.com/a/65667558/3225638</a></p>\n<p>It uses pure Java, but requires you to define an <code>enum</code> of the types you want to detect.</p>\n"},{"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":1,"creation_date":1675465903,"post_id":66944463,"comment_id":132942472,"body_markdown":"I&#39;ll save you some effort: There&#39;s no easy way to capture SVG/XML if the XML declaration is sent because the first 11 bytes are all the same for every type of XML file. One solution would be to check for XML, then gobble up to the first opening element to check for `&lt;svg` case insensitively. In practice, I ended up using the Content-Type retrieved from the HTTP connection for the SVG resource.","body":"I&#39;ll save you some effort: There&#39;s no easy way to capture SVG/XML if the XML declaration is sent because the first 11 bytes are all the same for every type of XML file. One solution would be to check for XML, then gobble up to the first opening element to check for <code>&lt;svg</code> case insensitively. In practice, I ended up using the Content-Type retrieved from the HTTP connection for the SVG resource."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1675466103,"post_id":66944463,"comment_id":132942506,"body_markdown":"My derivative version: https://gist.github.com/erizzo/deb52e8f74f937d2ea2aa74f494dcb9f","body":"My derivative version: <a href=\"https://gist.github.com/erizzo/deb52e8f74f937d2ea2aa74f494dcb9f\" rel=\"nofollow noreferrer\">gist.github.com/erizzo/deb52e8f74f937d2ea2aa74f494dcb9f</a>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1675466334,"post_id":66944463,"comment_id":132942546,"body_markdown":"The challenge with checking for `&lt;?xml...` and skipping it, is that there can be comments before the `&lt;svg` root node. In fact, Adobe Illustrator inserts a lengthy comment of varying length. :-(","body":"The challenge with checking for <code>&lt;?xml...</code> and skipping it, is that there can be comments before the <code>&lt;svg</code> root node. In fact, Adobe Illustrator inserts a lengthy comment of varying length. :-("},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1675466456,"post_id":66944463,"comment_id":132942563,"body_markdown":"Thanks for posting the derivative. Remember to cite your sources as per the terms of the StackOverflow license agreement.","body":"Thanks for posting the derivative. Remember to cite your sources as per the terms of the StackOverflow license agreement."}],"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675466420,"creation_date":1617560207,"answer_id":66944463,"question_id":51438,"body_markdown":"A solution to detecting a file&#39;s [Media Type][1]&lt;sup&gt;1&lt;/sup&gt; has the following parts:\r\n\r\n* A list of file signatures (see [Kessler&#39;s list][2], [Wikipedia&#39;s list][3], and [Space Maker&#39;s list][4])\r\n* A list of Media Types\r\n* A map of Media Types to file name extensions\r\n* Comparing file signatures against `File`, `Path`, or `InputStream` data sources\r\n\r\nPlease remember to give credit if you copy the code.\r\n\r\n# StreamMediaType.java\r\n\r\nIn the following code `-1` means skip comparing the byte at that index; a `-2` denotes end of file type signature. This detects binary formats, primarily images, and a few plain text format variations (HTML, SVG, XML). The code uses up to the first 11 &quot;magic&quot; bytes from the data source&#39;s header. Optimizations and improvements that shorten the logic are welcome.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Path;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import static com.keenwrite.io.MediaType.*;\r\n    import static java.lang.System.arraycopy;\r\n    \r\n    public class StreamMediaType {\r\n      private static final int FORMAT_LENGTH = 11;\r\n      private static final int END_OF_DATA = -2;\r\n    \r\n      private static final Map&lt;int[], MediaType&gt; FORMAT = new LinkedHashMap&lt;&gt;();\r\n    \r\n      static {\r\n        //@formatter:off\r\n        FORMAT.put( ints( 0x3C, 0x73, 0x76, 0x67, 0x20 ), IMAGE_SVG_XML );\r\n        FORMAT.put( ints( 0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A ), IMAGE_PNG );\r\n        FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xE0 ), IMAGE_JPEG );\r\n        FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xEE ), IMAGE_JPEG );\r\n        FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xE1, -1, -1, 0x45, 0x78, 0x69, 0x66, 0x00 ), IMAGE_JPEG );\r\n        FORMAT.put( ints( 0x49, 0x49, 0x2A, 0x00 ), IMAGE_TIFF );\r\n        FORMAT.put( ints( 0x4D, 0x4D, 0x00, 0x2A ), IMAGE_TIFF );\r\n        FORMAT.put( ints( 0x47, 0x49, 0x46, 0x38 ), IMAGE_GIF );\r\n        FORMAT.put( ints( 0x8A, 0x4D, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A ), VIDEO_MNG );\r\n        FORMAT.put( ints( 0x25, 0x50, 0x44, 0x46, 0x2D, 0x31, 0x2E ), APP_PDF );\r\n        FORMAT.put( ints( 0x38, 0x42, 0x50, 0x53, 0x00, 0x01 ), IMAGE_PHOTOSHOP );\r\n        FORMAT.put( ints( 0x25, 0x21, 0x50, 0x53, 0x2D, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x2D ), APP_EPS );\r\n        FORMAT.put( ints( 0x25, 0x21, 0x50, 0x53 ), APP_PS );\r\n        FORMAT.put( ints( 0xFF, 0xFB, 0x30 ), AUDIO_MP3 );\r\n        FORMAT.put( ints( 0x49, 0x44, 0x33 ), AUDIO_MP3 );\r\n        FORMAT.put( ints( 0x3C, 0x21 ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x68, 0x74, 0x6D, 0x6C ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x68, 0x65, 0x61, 0x64 ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x62, 0x6F, 0x64, 0x79 ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x48, 0x54, 0x4D, 0x4C ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x48, 0x45, 0x41, 0x44 ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x42, 0x4F, 0x44, 0x59 ), TEXT_HTML );\r\n        FORMAT.put( ints( 0x3C, 0x3F, 0x78, 0x6D, 0x6C, 0x20 ), TEXT_XML );\r\n        FORMAT.put( ints( 0xFE, 0xFF, 0x00, 0x3C, 0x00, 0x3f, 0x00, 0x78 ), TEXT_XML );\r\n        FORMAT.put( ints( 0xFF, 0xFE, 0x3C, 0x00, 0x3F, 0x00, 0x78, 0x00 ), TEXT_XML );\r\n        FORMAT.put( ints( 0x42, 0x4D ), IMAGE_BMP );\r\n        FORMAT.put( ints( 0x23, 0x64, 0x65, 0x66 ), IMAGE_X_BITMAP );\r\n        FORMAT.put( ints( 0x21, 0x20, 0x58, 0x50, 0x4D, 0x32 ), IMAGE_X_PIXMAP );\r\n        FORMAT.put( ints( 0x2E, 0x73, 0x6E, 0x64 ), AUDIO_BASIC );\r\n        FORMAT.put( ints( 0x64, 0x6E, 0x73, 0x2E ), AUDIO_BASIC );\r\n        FORMAT.put( ints( 0x52, 0x49, 0x46, 0x46 ), AUDIO_WAV );\r\n        FORMAT.put( ints( 0x50, 0x4B ), APP_ZIP );\r\n        FORMAT.put( ints( 0x41, 0x43, -1, -1, -1, -1, 0x00, 0x00, 0x00, 0x00, 0x00 ), APP_ACAD );\r\n        FORMAT.put( ints( 0xCA, 0xFE, 0xBA, 0xBE ), APP_JAVA );\r\n        FORMAT.put( ints( 0xAC, 0xED ), APP_JAVA_OBJECT );\r\n        //@formatter:on\r\n      }\r\n    \r\n      private StreamMediaType() {\r\n      }\r\n    \r\n      public static MediaType getMediaType( final Path path ) throws IOException {\r\n        return getMediaType( path.toFile() );\r\n      }\r\n    \r\n      public static MediaType getMediaType( final java.io.File file )\r\n        throws IOException {\r\n        try( final var fis = new FileInputStream( file ) ) {\r\n          return getMediaType( fis );\r\n        }\r\n      }\r\n    \r\n      public static MediaType getMediaType( final InputStream is )\r\n        throws IOException {\r\n        final var input = new byte[ FORMAT_LENGTH ];\r\n        final var count = is.read( input, 0, FORMAT_LENGTH );\r\n    \r\n        if( count &gt; 1 ) {\r\n          final var available = new byte[ count ];\r\n          arraycopy( input, 0, available, 0, count );\r\n          return getMediaType( available );\r\n        }\r\n    \r\n        return UNDEFINED;\r\n      }\r\n    \r\n      public static MediaType getMediaType( final byte[] data ) {\r\n        assert data != null;\r\n    \r\n        final var source = new int[]{\r\n          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};\r\n    \r\n        for( int i = 0; i &lt; source.length; i++ ) {\r\n          source[ i ] = data[ i ] &amp; 0xFF;\r\n        }\r\n    \r\n        for( final var key : FORMAT.keySet() ) {\r\n          int i = -1;\r\n          boolean matches = true;\r\n    \r\n          while( ++i &lt; FORMAT_LENGTH &amp;&amp; key[ i ] != END_OF_DATA &amp;&amp; matches ) {\r\n            matches = key[ i ] == source[ i ] || key[ i ] == -1;\r\n          }\r\n    \r\n          if( matches ) {\r\n            return FORMAT.get( key );\r\n          }\r\n        }\r\n    \r\n        return UNDEFINED;\r\n      }\r\n    \r\n      private static int[] ints( final int... data ) {\r\n        final var magic = new int[ FORMAT_LENGTH ];\r\n        int i = -1;\r\n        while( ++i &lt; data.length ) {\r\n          magic[ i ] = data[ i ];\r\n        }\r\n    \r\n        while( i &lt; FORMAT_LENGTH ) {\r\n          magic[ i++ ] = END_OF_DATA;\r\n        }\r\n    \r\n        return magic;\r\n      }\r\n    }\r\n\r\n# MediaType.java\r\n\r\nDefine the file formats according to the [IANA Media Type][1] list. Notice that the file name extensions are mapped in `MediaTypeExtension`. There&#39;s a dependency on Apache&#39;s FilenameUtils class for its `getExtension` function.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    \r\n    import static MediaType.TypeName.*;\r\n    import static MediaTypeExtension.getMediaType;\r\n    import static org.apache.commons.io.FilenameUtils.getExtension;\r\n\r\n    public enum MediaType {\r\n      APP_ACAD( APPLICATION, &quot;acad&quot; ),\r\n      APP_JAVA_OBJECT( APPLICATION, &quot;x-java-serialized-object&quot; ),\r\n      APP_JAVA( APPLICATION, &quot;java&quot; ),\r\n      APP_PS( APPLICATION, &quot;postscript&quot; ),\r\n      APP_EPS( APPLICATION, &quot;eps&quot; ),\r\n      APP_PDF( APPLICATION, &quot;pdf&quot; ),\r\n      APP_ZIP( APPLICATION, &quot;zip&quot; ),\r\n      FONT_OTF( &quot;otf&quot; ),\r\n      FONT_TTF( &quot;ttf&quot; ),\r\n      IMAGE_APNG( &quot;apng&quot; ),\r\n      IMAGE_ACES( &quot;aces&quot; ),\r\n      IMAGE_AVCI( &quot;avci&quot; ),\r\n      IMAGE_AVCS( &quot;avcs&quot; ),\r\n      IMAGE_BMP( &quot;bmp&quot; ),\r\n      IMAGE_CGM( &quot;cgm&quot; ),\r\n      IMAGE_DICOM_RLE( &quot;dicom_rle&quot; ),\r\n      IMAGE_EMF( &quot;emf&quot; ),\r\n      IMAGE_EXAMPLE( &quot;example&quot; ),\r\n      IMAGE_FITS( &quot;fits&quot; ),\r\n      IMAGE_G3FAX( &quot;g3fax&quot; ),\r\n      IMAGE_GIF( &quot;gif&quot; ),\r\n      IMAGE_HEIC( &quot;heic&quot; ),\r\n      IMAGE_HEIF( &quot;heif&quot; ),\r\n      IMAGE_HEJ2K( &quot;hej2k&quot; ),\r\n      IMAGE_HSJ2( &quot;hsj2&quot; ),\r\n      IMAGE_X_ICON( &quot;x-icon&quot; ),\r\n      IMAGE_JLS( &quot;jls&quot; ),\r\n      IMAGE_JP2( &quot;jp2&quot; ),\r\n      IMAGE_JPEG( &quot;jpeg&quot; ),\r\n      IMAGE_JPH( &quot;jph&quot; ),\r\n      IMAGE_JPHC( &quot;jphc&quot; ),\r\n      IMAGE_JPM( &quot;jpm&quot; ),\r\n      IMAGE_JPX( &quot;jpx&quot; ),\r\n      IMAGE_JXR( &quot;jxr&quot; ),\r\n      IMAGE_JXRA( &quot;jxrA&quot; ),\r\n      IMAGE_JXRS( &quot;jxrS&quot; ),\r\n      IMAGE_JXS( &quot;jxs&quot; ),\r\n      IMAGE_JXSC( &quot;jxsc&quot; ),\r\n      IMAGE_JXSI( &quot;jxsi&quot; ),\r\n      IMAGE_JXSS( &quot;jxss&quot; ),\r\n      IMAGE_KTX( &quot;ktx&quot; ),\r\n      IMAGE_KTX2( &quot;ktx2&quot; ),\r\n      IMAGE_NAPLPS( &quot;naplps&quot; ),\r\n      IMAGE_PNG( &quot;png&quot; ),\r\n      IMAGE_PHOTOSHOP( &quot;photoshop&quot; ),\r\n      IMAGE_SVG_XML( &quot;svg+xml&quot; ),\r\n      IMAGE_T38( &quot;t38&quot; ),\r\n      IMAGE_TIFF( &quot;tiff&quot; ),\r\n      IMAGE_WEBP( &quot;webp&quot; ),\r\n      IMAGE_WMF( &quot;wmf&quot; ),\r\n      IMAGE_X_BITMAP( &quot;x-xbitmap&quot; ),\r\n      IMAGE_X_PIXMAP( &quot;x-xpixmap&quot; ),\r\n      AUDIO_BASIC( AUDIO, &quot;basic&quot; ),\r\n      AUDIO_MP3( AUDIO, &quot;mp3&quot; ),\r\n      AUDIO_WAV( AUDIO, &quot;x-wav&quot; ),\r\n      VIDEO_MNG( VIDEO, &quot;x-mng&quot; ),\r\n      TEXT_HTML( TEXT, &quot;html&quot; ),\r\n      TEXT_MARKDOWN( TEXT, &quot;markdown&quot; ),\r\n      TEXT_PLAIN( TEXT, &quot;plain&quot; ),\r\n      TEXT_XHTML( TEXT, &quot;xhtml+xml&quot; ),\r\n      TEXT_XML( TEXT, &quot;xml&quot; ),\r\n      TEXT_YAML( TEXT, &quot;yaml&quot; ),\r\n    \r\n      /*\r\n       * When all other lights go out.\r\n       */\r\n      UNDEFINED( TypeName.UNDEFINED, &quot;undefined&quot; );\r\n    \r\n      public enum TypeName {\r\n        APPLICATION,\r\n        AUDIO,\r\n        IMAGE,\r\n        TEXT,\r\n        UNDEFINED,\r\n        VIDEO\r\n      }\r\n    \r\n      private final String mMediaType;\r\n      private final TypeName mTypeName;\r\n      private final String mSubtype;\r\n    \r\n      MediaType( final String subtype ) {\r\n        this( IMAGE, subtype );\r\n      }\r\n    \r\n      MediaType( final TypeName typeName, final String subtype ) {\r\n        mTypeName = typeName;\r\n        mSubtype = subtype;\r\n        mMediaType = typeName.toString().toLowerCase() + &#39;/&#39; + subtype;\r\n      }\r\n    \r\n      public static MediaType valueFrom( final File file ) {\r\n        assert file != null;\r\n        return fromFilename( file.getName() );\r\n      }\r\n    \r\n      public static MediaType fromFilename( final String filename ) {\r\n        assert filename != null;\r\n        return getMediaType( getExtension( filename ) );\r\n      }\r\n    \r\n      public static MediaType valueFrom( final Path path ) {\r\n        assert path != null;\r\n        return valueFrom( path.toFile() );\r\n      }\r\n    \r\n      public static MediaType valueFrom( String contentType ) {\r\n        if( contentType == null || contentType.isBlank() ) {\r\n          return UNDEFINED;\r\n        }\r\n    \r\n        var i = contentType.indexOf( &#39;;&#39; );\r\n        contentType = contentType.substring(\r\n          0, i == -1 ? contentType.length() : i );\r\n    \r\n        i = contentType.indexOf( &#39;/&#39; );\r\n        i = i == -1 ? contentType.length() : i;\r\n        final var type = contentType.substring( 0, i );\r\n        final var subtype = contentType.substring( i + 1 );\r\n    \r\n        return valueFrom( type, subtype );\r\n      }\r\n    \r\n      public static MediaType valueFrom(\r\n        final String type, final String subtype ) {\r\n        assert type != null;\r\n        assert subtype != null;\r\n    \r\n        for( final var mediaType : values() ) {\r\n          if( mediaType.equals( type, subtype ) ) {\r\n            return mediaType;\r\n          }\r\n        }\r\n    \r\n        return UNDEFINED;\r\n      }\r\n    \r\n      public boolean equals( final String type, final String subtype ) {\r\n        assert type != null;\r\n        assert subtype != null;\r\n    \r\n        return mTypeName.name().equalsIgnoreCase( type ) &amp;&amp;\r\n          mSubtype.equalsIgnoreCase( subtype );\r\n      }\r\n    \r\n      public boolean isType( final TypeName typeName ) {\r\n        return mTypeName == typeName;\r\n      }\r\n    \r\n      public String getSubtype() {\r\n        return mSubtype;\r\n      }\r\n       \r\n      @Override\r\n      public String toString() {\r\n        return mMediaType;\r\n      }\r\n    }\r\n\r\n# MediaTypeExtension.java\r\n\r\nLast piece of the puzzle is a map of `MediaType`s to their known and common/popular file name extensions. This allows bidirectional lookup based on file name extensions.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import static MediaType.*;\r\n    import static java.util.List.of;\r\n\r\n    public enum MediaTypeExtension {\r\n      MEDIA_APP_ACAD( APP_ACAD, of( &quot;dwg&quot; ) ),\r\n      MEDIA_APP_PDF( APP_PDF ),\r\n      MEDIA_APP_PS( APP_PS, of( &quot;ps&quot; ) ),\r\n      MEDIA_APP_EPS( APP_EPS ),\r\n      MEDIA_APP_ZIP( APP_ZIP ),\r\n    \r\n      MEDIA_AUDIO_MP3( AUDIO_MP3 ),\r\n      MEDIA_AUDIO_BASIC( AUDIO_BASIC, of( &quot;au&quot; ) ),\r\n      MEDIA_AUDIO_WAV( AUDIO_WAV, of( &quot;wav&quot; ) ),\r\n    \r\n      MEDIA_FONT_OTF( FONT_OTF ),\r\n      MEDIA_FONT_TTF( FONT_TTF ),\r\n    \r\n      MEDIA_IMAGE_APNG( IMAGE_APNG ),\r\n      MEDIA_IMAGE_BMP( IMAGE_BMP ),\r\n      MEDIA_IMAGE_GIF( IMAGE_GIF ),\r\n      MEDIA_IMAGE_JPEG( IMAGE_JPEG,\r\n                        of( &quot;jpg&quot;, &quot;jpe&quot;, &quot;jpeg&quot;, &quot;jfif&quot;, &quot;pjpeg&quot;, &quot;pjp&quot; ) ),\r\n      MEDIA_IMAGE_PNG( IMAGE_PNG ),\r\n      MEDIA_IMAGE_PSD( IMAGE_PHOTOSHOP, of( &quot;psd&quot; ) ),\r\n      MEDIA_IMAGE_SVG( IMAGE_SVG_XML, of( &quot;svg&quot; ) ),\r\n      MEDIA_IMAGE_TIFF( IMAGE_TIFF, of( &quot;tiff&quot;, &quot;tif&quot; ) ),\r\n      MEDIA_IMAGE_WEBP( IMAGE_WEBP ),\r\n      MEDIA_IMAGE_X_BITMAP( IMAGE_X_BITMAP, of( &quot;xbm&quot; ) ),\r\n      MEDIA_IMAGE_X_PIXMAP( IMAGE_X_PIXMAP, of( &quot;xpm&quot; ) ),\r\n    \r\n      MEDIA_VIDEO_MNG( VIDEO_MNG, of( &quot;mng&quot; ) ),\r\n    \r\n      MEDIA_TEXT_MARKDOWN( TEXT_MARKDOWN, of(\r\n        &quot;md&quot;, &quot;markdown&quot;, &quot;mdown&quot;, &quot;mdtxt&quot;, &quot;mdtext&quot;, &quot;mdwn&quot;, &quot;mkd&quot;, &quot;mkdown&quot;,\r\n        &quot;mkdn&quot; ) ),\r\n      MEDIA_TEXT_PLAIN( TEXT_PLAIN, of( &quot;txt&quot;, &quot;asc&quot;, &quot;ascii&quot;, &quot;text&quot;, &quot;utxt&quot; ) ),\r\n      MEDIA_TEXT_R_MARKDOWN( TEXT_R_MARKDOWN, of( &quot;Rmd&quot; ) ),\r\n      MEDIA_TEXT_R_XML( TEXT_R_XML, of( &quot;Rxml&quot; ) ),\r\n      MEDIA_TEXT_XHTML( TEXT_XHTML, of( &quot;xhtml&quot; ) ),\r\n      MEDIA_TEXT_XML( TEXT_XML ),\r\n      MEDIA_TEXT_YAML( TEXT_YAML, of( &quot;yaml&quot;, &quot;yml&quot; ) ),\r\n    \r\n      MEDIA_UNDEFINED( UNDEFINED, of( &quot;undefined&quot; ) );\r\n    \r\n      private final MediaType mMediaType;\r\n      private final List&lt;String&gt; mExtensions;\r\n    \r\n      MediaTypeExtension( final MediaType mediaType ) {\r\n        this( mediaType, of( mediaType.getSubtype() ) );\r\n      }\r\n    \r\n      MediaTypeExtension(\r\n        final MediaType mediaType, final List&lt;String&gt; extensions ) {\r\n        assert mediaType != null;\r\n        assert extensions != null;\r\n        assert !extensions.isEmpty();\r\n    \r\n        mMediaType = mediaType;\r\n        mExtensions = extensions;\r\n      }\r\n    \r\n      public String getExtension() {\r\n        return mExtensions.get( 0 );\r\n      }\r\n\r\n      public static MediaTypeExtension valueFrom( final MediaType mediaType ) {\r\n        for( final var type : values() ) {\r\n          if( type.isMediaType( mediaType ) ) {\r\n            return type;\r\n          }\r\n        }\r\n    \r\n        return MEDIA_UNDEFINED;\r\n      }\r\n    \r\n      boolean isMediaType( final MediaType mediaType ) {\r\n        return mMediaType == mediaType;\r\n      }\r\n    \r\n      static MediaType getMediaType( final String extension ) {\r\n        final var sanitized = sanitize( extension );\r\n    \r\n        for( final var mediaType : MediaTypeExtension.values() ) {\r\n          if( mediaType.isType( sanitized ) ) {\r\n            return mediaType.getMediaType();\r\n          }\r\n        }\r\n    \r\n        return UNDEFINED;\r\n      }\r\n    \r\n      private boolean isType( final String sanitized ) {\r\n        for( final var extension : mExtensions ) {\r\n          if( extension.equalsIgnoreCase( sanitized ) ) {\r\n            return true;\r\n          }\r\n        }\r\n    \r\n        return false;\r\n      }\r\n    \r\n      private static String sanitize( final String extension ) {\r\n        return extension == null ? &quot;&quot; : extension.toLowerCase();\r\n      }\r\n    \r\n      private MediaType getMediaType() {\r\n        return mMediaType;\r\n      }\r\n    }\r\n\r\n---\r\n\r\nUsages:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // EXAMPLE -- Detect media type\r\n    //\r\n    final File image = new File( &quot;filename.jpg&quot; );\r\n    final MediaType mt = StreamMediaType.getMediaType( image );\r\n\r\n    // Tricky! The JPG could be a PNG in disguise.\r\n    if( mt.isType( MediaType.TypeName.IMAGE ) ) {\r\n\r\n      if( mt == MediaType.IMAGE_PNG ) {\r\n        // Nice try! Sneaky sneak.\r\n      }\r\n    }\r\n\r\n    // EXAMPLE -- Get typical media type file name extension\r\n    //\r\n    final String ext = MediaTypeExtension.valueFrom( MediaType.IMAGE_SVG_XML ).getExtension();\r\n\r\n    // EXAMPLE -- Get media type from HTTP request\r\n    //\r\n    final var url = new URL( &quot;https://localhost/path/file.ext&quot; );\r\n    final var conn = (HttpURLConnection) url.openConnection();\r\n    final var contentType = conn.getContentType();\r\n    MediaType mediaType = valueFrom( contentType );\r\n\r\n    // Fall back to stream detection probe\r\n    if( mediaType == UNDEFINED ) {\r\n      mediaType = StreamMediaType.getMediaType( conn.getInputStream() );\r\n    }\r\n\r\n    conn.disconnect();\r\n\r\nYou get the idea.\r\n\r\n---\r\n\r\nShort library review:\r\n\r\n* [Apache Tika][5] -- 600kb bloat, needs multiple lines to configure, and multiple JAR files.\r\n* [jMimeMagic][6] -- Unfinished, needs multiple lines to configure.\r\n* [MimeUtil2][7] -- Fairly large, didn&#39;t work out-of-the-box.\r\n* [FileTypeDetector][8] -- Bundled with JDK, buggier than a mountain pine beetle infested forest.\r\n* [Files.probeContentType][8] -- Detection is platform-specific and considered unreliable ([source][9]).\r\n* [MimetypesFileTypeMap][10] -- Bundled with activation.jar, uses file name extension.\r\n\r\n---\r\n\r\nSample audio, video, and image files for testing:\r\n\r\n * http://mirrors.standaloneinstaller.com/video-sample/\r\n * https://www.w3.org/People/mimasa/test/imgformat/\r\n\r\n---\r\n\r\nNote that nearly all XML documents will begin the same way:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;\r\n\r\nSince SVG documents are XML documents, many SVG documents will contain that XML declaration and may also contain:\r\n\r\n    &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.0//EN&quot; &quot;http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd&quot;&gt;\r\n\r\nDetecting the SVG doctype would be possible by bumping the magic bytes from 11 to 13. Still, the doctype is not required, meaning that the SVG document could also begin after the XML declaration as follows:\r\n\r\n    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\r\n\r\nMeaning, use caution when using this code to detect SVG file formats, as it is not reliable. Instead, consider using the HTTP Content-Type or filename extension.\r\n\r\nCompounding the issue is that comments of arbitrary length can be inserted before the `&lt;svg` tag, making detection extra-difficult.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; &quot;MIME type&quot; is a deprecated term.\r\n\r\n\r\n  [1]: https://www.iana.org/assignments/media-types/media-types.xhtml\r\n  [2]: https://www.garykessler.net/library/file_sigs.html\r\n  [3]: https://en.wikipedia.org/wiki/List_of_file_signatures\r\n  [4]: https://github.com/veniware/Space-Maker/blob/master/FileSignatures.cs\r\n  [5]: https://tika.apache.org/\r\n  [6]: https://github.com/arimus/jmimemagic/\r\n  [7]: http://mime-util.sourceforge.net/\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/spi/FileTypeDetector.html\r\n  [9]: https://stackoverflow.com/a/65966588/59087\r\n  [10]: https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>A solution to detecting a file's <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">Media Type</a><sup>1</sup> has the following parts:</p>\n<ul>\n<li>A list of file signatures (see <a href=\"https://www.garykessler.net/library/file_sigs.html\" rel=\"nofollow noreferrer\">Kessler's list</a>, <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"nofollow noreferrer\">Wikipedia's list</a>, and <a href=\"https://github.com/veniware/Space-Maker/blob/master/FileSignatures.cs\" rel=\"nofollow noreferrer\">Space Maker's list</a>)</li>\n<li>A list of Media Types</li>\n<li>A map of Media Types to file name extensions</li>\n<li>Comparing file signatures against <code>File</code>, <code>Path</code>, or <code>InputStream</code> data sources</li>\n</ul>\n<p>Please remember to give credit if you copy the code.</p>\n<h1>StreamMediaType.java</h1>\n<p>In the following code <code>-1</code> means skip comparing the byte at that index; a <code>-2</code> denotes end of file type signature. This detects binary formats, primarily images, and a few plain text format variations (HTML, SVG, XML). The code uses up to the first 11 &quot;magic&quot; bytes from the data source's header. Optimizations and improvements that shorten the logic are welcome.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Path;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport static com.keenwrite.io.MediaType.*;\nimport static java.lang.System.arraycopy;\n\npublic class StreamMediaType {\n  private static final int FORMAT_LENGTH = 11;\n  private static final int END_OF_DATA = -2;\n\n  private static final Map&lt;int[], MediaType&gt; FORMAT = new LinkedHashMap&lt;&gt;();\n\n  static {\n    //@formatter:off\n    FORMAT.put( ints( 0x3C, 0x73, 0x76, 0x67, 0x20 ), IMAGE_SVG_XML );\n    FORMAT.put( ints( 0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A ), IMAGE_PNG );\n    FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xE0 ), IMAGE_JPEG );\n    FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xEE ), IMAGE_JPEG );\n    FORMAT.put( ints( 0xFF, 0xD8, 0xFF, 0xE1, -1, -1, 0x45, 0x78, 0x69, 0x66, 0x00 ), IMAGE_JPEG );\n    FORMAT.put( ints( 0x49, 0x49, 0x2A, 0x00 ), IMAGE_TIFF );\n    FORMAT.put( ints( 0x4D, 0x4D, 0x00, 0x2A ), IMAGE_TIFF );\n    FORMAT.put( ints( 0x47, 0x49, 0x46, 0x38 ), IMAGE_GIF );\n    FORMAT.put( ints( 0x8A, 0x4D, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A ), VIDEO_MNG );\n    FORMAT.put( ints( 0x25, 0x50, 0x44, 0x46, 0x2D, 0x31, 0x2E ), APP_PDF );\n    FORMAT.put( ints( 0x38, 0x42, 0x50, 0x53, 0x00, 0x01 ), IMAGE_PHOTOSHOP );\n    FORMAT.put( ints( 0x25, 0x21, 0x50, 0x53, 0x2D, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x2D ), APP_EPS );\n    FORMAT.put( ints( 0x25, 0x21, 0x50, 0x53 ), APP_PS );\n    FORMAT.put( ints( 0xFF, 0xFB, 0x30 ), AUDIO_MP3 );\n    FORMAT.put( ints( 0x49, 0x44, 0x33 ), AUDIO_MP3 );\n    FORMAT.put( ints( 0x3C, 0x21 ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x68, 0x74, 0x6D, 0x6C ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x68, 0x65, 0x61, 0x64 ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x62, 0x6F, 0x64, 0x79 ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x48, 0x54, 0x4D, 0x4C ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x48, 0x45, 0x41, 0x44 ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x42, 0x4F, 0x44, 0x59 ), TEXT_HTML );\n    FORMAT.put( ints( 0x3C, 0x3F, 0x78, 0x6D, 0x6C, 0x20 ), TEXT_XML );\n    FORMAT.put( ints( 0xFE, 0xFF, 0x00, 0x3C, 0x00, 0x3f, 0x00, 0x78 ), TEXT_XML );\n    FORMAT.put( ints( 0xFF, 0xFE, 0x3C, 0x00, 0x3F, 0x00, 0x78, 0x00 ), TEXT_XML );\n    FORMAT.put( ints( 0x42, 0x4D ), IMAGE_BMP );\n    FORMAT.put( ints( 0x23, 0x64, 0x65, 0x66 ), IMAGE_X_BITMAP );\n    FORMAT.put( ints( 0x21, 0x20, 0x58, 0x50, 0x4D, 0x32 ), IMAGE_X_PIXMAP );\n    FORMAT.put( ints( 0x2E, 0x73, 0x6E, 0x64 ), AUDIO_BASIC );\n    FORMAT.put( ints( 0x64, 0x6E, 0x73, 0x2E ), AUDIO_BASIC );\n    FORMAT.put( ints( 0x52, 0x49, 0x46, 0x46 ), AUDIO_WAV );\n    FORMAT.put( ints( 0x50, 0x4B ), APP_ZIP );\n    FORMAT.put( ints( 0x41, 0x43, -1, -1, -1, -1, 0x00, 0x00, 0x00, 0x00, 0x00 ), APP_ACAD );\n    FORMAT.put( ints( 0xCA, 0xFE, 0xBA, 0xBE ), APP_JAVA );\n    FORMAT.put( ints( 0xAC, 0xED ), APP_JAVA_OBJECT );\n    //@formatter:on\n  }\n\n  private StreamMediaType() {\n  }\n\n  public static MediaType getMediaType( final Path path ) throws IOException {\n    return getMediaType( path.toFile() );\n  }\n\n  public static MediaType getMediaType( final java.io.File file )\n    throws IOException {\n    try( final var fis = new FileInputStream( file ) ) {\n      return getMediaType( fis );\n    }\n  }\n\n  public static MediaType getMediaType( final InputStream is )\n    throws IOException {\n    final var input = new byte[ FORMAT_LENGTH ];\n    final var count = is.read( input, 0, FORMAT_LENGTH );\n\n    if( count &gt; 1 ) {\n      final var available = new byte[ count ];\n      arraycopy( input, 0, available, 0, count );\n      return getMediaType( available );\n    }\n\n    return UNDEFINED;\n  }\n\n  public static MediaType getMediaType( final byte[] data ) {\n    assert data != null;\n\n    final var source = new int[]{\n      0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};\n\n    for( int i = 0; i &lt; source.length; i++ ) {\n      source[ i ] = data[ i ] &amp; 0xFF;\n    }\n\n    for( final var key : FORMAT.keySet() ) {\n      int i = -1;\n      boolean matches = true;\n\n      while( ++i &lt; FORMAT_LENGTH &amp;&amp; key[ i ] != END_OF_DATA &amp;&amp; matches ) {\n        matches = key[ i ] == source[ i ] || key[ i ] == -1;\n      }\n\n      if( matches ) {\n        return FORMAT.get( key );\n      }\n    }\n\n    return UNDEFINED;\n  }\n\n  private static int[] ints( final int... data ) {\n    final var magic = new int[ FORMAT_LENGTH ];\n    int i = -1;\n    while( ++i &lt; data.length ) {\n      magic[ i ] = data[ i ];\n    }\n\n    while( i &lt; FORMAT_LENGTH ) {\n      magic[ i++ ] = END_OF_DATA;\n    }\n\n    return magic;\n  }\n}\n</code></pre>\n<h1>MediaType.java</h1>\n<p>Define the file formats according to the <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">IANA Media Type</a> list. Notice that the file name extensions are mapped in <code>MediaTypeExtension</code>. There's a dependency on Apache's FilenameUtils class for its <code>getExtension</code> function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Path;\n\nimport static MediaType.TypeName.*;\nimport static MediaTypeExtension.getMediaType;\nimport static org.apache.commons.io.FilenameUtils.getExtension;\n\npublic enum MediaType {\n  APP_ACAD( APPLICATION, &quot;acad&quot; ),\n  APP_JAVA_OBJECT( APPLICATION, &quot;x-java-serialized-object&quot; ),\n  APP_JAVA( APPLICATION, &quot;java&quot; ),\n  APP_PS( APPLICATION, &quot;postscript&quot; ),\n  APP_EPS( APPLICATION, &quot;eps&quot; ),\n  APP_PDF( APPLICATION, &quot;pdf&quot; ),\n  APP_ZIP( APPLICATION, &quot;zip&quot; ),\n  FONT_OTF( &quot;otf&quot; ),\n  FONT_TTF( &quot;ttf&quot; ),\n  IMAGE_APNG( &quot;apng&quot; ),\n  IMAGE_ACES( &quot;aces&quot; ),\n  IMAGE_AVCI( &quot;avci&quot; ),\n  IMAGE_AVCS( &quot;avcs&quot; ),\n  IMAGE_BMP( &quot;bmp&quot; ),\n  IMAGE_CGM( &quot;cgm&quot; ),\n  IMAGE_DICOM_RLE( &quot;dicom_rle&quot; ),\n  IMAGE_EMF( &quot;emf&quot; ),\n  IMAGE_EXAMPLE( &quot;example&quot; ),\n  IMAGE_FITS( &quot;fits&quot; ),\n  IMAGE_G3FAX( &quot;g3fax&quot; ),\n  IMAGE_GIF( &quot;gif&quot; ),\n  IMAGE_HEIC( &quot;heic&quot; ),\n  IMAGE_HEIF( &quot;heif&quot; ),\n  IMAGE_HEJ2K( &quot;hej2k&quot; ),\n  IMAGE_HSJ2( &quot;hsj2&quot; ),\n  IMAGE_X_ICON( &quot;x-icon&quot; ),\n  IMAGE_JLS( &quot;jls&quot; ),\n  IMAGE_JP2( &quot;jp2&quot; ),\n  IMAGE_JPEG( &quot;jpeg&quot; ),\n  IMAGE_JPH( &quot;jph&quot; ),\n  IMAGE_JPHC( &quot;jphc&quot; ),\n  IMAGE_JPM( &quot;jpm&quot; ),\n  IMAGE_JPX( &quot;jpx&quot; ),\n  IMAGE_JXR( &quot;jxr&quot; ),\n  IMAGE_JXRA( &quot;jxrA&quot; ),\n  IMAGE_JXRS( &quot;jxrS&quot; ),\n  IMAGE_JXS( &quot;jxs&quot; ),\n  IMAGE_JXSC( &quot;jxsc&quot; ),\n  IMAGE_JXSI( &quot;jxsi&quot; ),\n  IMAGE_JXSS( &quot;jxss&quot; ),\n  IMAGE_KTX( &quot;ktx&quot; ),\n  IMAGE_KTX2( &quot;ktx2&quot; ),\n  IMAGE_NAPLPS( &quot;naplps&quot; ),\n  IMAGE_PNG( &quot;png&quot; ),\n  IMAGE_PHOTOSHOP( &quot;photoshop&quot; ),\n  IMAGE_SVG_XML( &quot;svg+xml&quot; ),\n  IMAGE_T38( &quot;t38&quot; ),\n  IMAGE_TIFF( &quot;tiff&quot; ),\n  IMAGE_WEBP( &quot;webp&quot; ),\n  IMAGE_WMF( &quot;wmf&quot; ),\n  IMAGE_X_BITMAP( &quot;x-xbitmap&quot; ),\n  IMAGE_X_PIXMAP( &quot;x-xpixmap&quot; ),\n  AUDIO_BASIC( AUDIO, &quot;basic&quot; ),\n  AUDIO_MP3( AUDIO, &quot;mp3&quot; ),\n  AUDIO_WAV( AUDIO, &quot;x-wav&quot; ),\n  VIDEO_MNG( VIDEO, &quot;x-mng&quot; ),\n  TEXT_HTML( TEXT, &quot;html&quot; ),\n  TEXT_MARKDOWN( TEXT, &quot;markdown&quot; ),\n  TEXT_PLAIN( TEXT, &quot;plain&quot; ),\n  TEXT_XHTML( TEXT, &quot;xhtml+xml&quot; ),\n  TEXT_XML( TEXT, &quot;xml&quot; ),\n  TEXT_YAML( TEXT, &quot;yaml&quot; ),\n\n  /*\n   * When all other lights go out.\n   */\n  UNDEFINED( TypeName.UNDEFINED, &quot;undefined&quot; );\n\n  public enum TypeName {\n    APPLICATION,\n    AUDIO,\n    IMAGE,\n    TEXT,\n    UNDEFINED,\n    VIDEO\n  }\n\n  private final String mMediaType;\n  private final TypeName mTypeName;\n  private final String mSubtype;\n\n  MediaType( final String subtype ) {\n    this( IMAGE, subtype );\n  }\n\n  MediaType( final TypeName typeName, final String subtype ) {\n    mTypeName = typeName;\n    mSubtype = subtype;\n    mMediaType = typeName.toString().toLowerCase() + '/' + subtype;\n  }\n\n  public static MediaType valueFrom( final File file ) {\n    assert file != null;\n    return fromFilename( file.getName() );\n  }\n\n  public static MediaType fromFilename( final String filename ) {\n    assert filename != null;\n    return getMediaType( getExtension( filename ) );\n  }\n\n  public static MediaType valueFrom( final Path path ) {\n    assert path != null;\n    return valueFrom( path.toFile() );\n  }\n\n  public static MediaType valueFrom( String contentType ) {\n    if( contentType == null || contentType.isBlank() ) {\n      return UNDEFINED;\n    }\n\n    var i = contentType.indexOf( ';' );\n    contentType = contentType.substring(\n      0, i == -1 ? contentType.length() : i );\n\n    i = contentType.indexOf( '/' );\n    i = i == -1 ? contentType.length() : i;\n    final var type = contentType.substring( 0, i );\n    final var subtype = contentType.substring( i + 1 );\n\n    return valueFrom( type, subtype );\n  }\n\n  public static MediaType valueFrom(\n    final String type, final String subtype ) {\n    assert type != null;\n    assert subtype != null;\n\n    for( final var mediaType : values() ) {\n      if( mediaType.equals( type, subtype ) ) {\n        return mediaType;\n      }\n    }\n\n    return UNDEFINED;\n  }\n\n  public boolean equals( final String type, final String subtype ) {\n    assert type != null;\n    assert subtype != null;\n\n    return mTypeName.name().equalsIgnoreCase( type ) &amp;&amp;\n      mSubtype.equalsIgnoreCase( subtype );\n  }\n\n  public boolean isType( final TypeName typeName ) {\n    return mTypeName == typeName;\n  }\n\n  public String getSubtype() {\n    return mSubtype;\n  }\n   \n  @Override\n  public String toString() {\n    return mMediaType;\n  }\n}\n</code></pre>\n<h1>MediaTypeExtension.java</h1>\n<p>Last piece of the puzzle is a map of <code>MediaType</code>s to their known and common/popular file name extensions. This allows bidirectional lookup based on file name extensions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static MediaType.*;\nimport static java.util.List.of;\n\npublic enum MediaTypeExtension {\n  MEDIA_APP_ACAD( APP_ACAD, of( &quot;dwg&quot; ) ),\n  MEDIA_APP_PDF( APP_PDF ),\n  MEDIA_APP_PS( APP_PS, of( &quot;ps&quot; ) ),\n  MEDIA_APP_EPS( APP_EPS ),\n  MEDIA_APP_ZIP( APP_ZIP ),\n\n  MEDIA_AUDIO_MP3( AUDIO_MP3 ),\n  MEDIA_AUDIO_BASIC( AUDIO_BASIC, of( &quot;au&quot; ) ),\n  MEDIA_AUDIO_WAV( AUDIO_WAV, of( &quot;wav&quot; ) ),\n\n  MEDIA_FONT_OTF( FONT_OTF ),\n  MEDIA_FONT_TTF( FONT_TTF ),\n\n  MEDIA_IMAGE_APNG( IMAGE_APNG ),\n  MEDIA_IMAGE_BMP( IMAGE_BMP ),\n  MEDIA_IMAGE_GIF( IMAGE_GIF ),\n  MEDIA_IMAGE_JPEG( IMAGE_JPEG,\n                    of( &quot;jpg&quot;, &quot;jpe&quot;, &quot;jpeg&quot;, &quot;jfif&quot;, &quot;pjpeg&quot;, &quot;pjp&quot; ) ),\n  MEDIA_IMAGE_PNG( IMAGE_PNG ),\n  MEDIA_IMAGE_PSD( IMAGE_PHOTOSHOP, of( &quot;psd&quot; ) ),\n  MEDIA_IMAGE_SVG( IMAGE_SVG_XML, of( &quot;svg&quot; ) ),\n  MEDIA_IMAGE_TIFF( IMAGE_TIFF, of( &quot;tiff&quot;, &quot;tif&quot; ) ),\n  MEDIA_IMAGE_WEBP( IMAGE_WEBP ),\n  MEDIA_IMAGE_X_BITMAP( IMAGE_X_BITMAP, of( &quot;xbm&quot; ) ),\n  MEDIA_IMAGE_X_PIXMAP( IMAGE_X_PIXMAP, of( &quot;xpm&quot; ) ),\n\n  MEDIA_VIDEO_MNG( VIDEO_MNG, of( &quot;mng&quot; ) ),\n\n  MEDIA_TEXT_MARKDOWN( TEXT_MARKDOWN, of(\n    &quot;md&quot;, &quot;markdown&quot;, &quot;mdown&quot;, &quot;mdtxt&quot;, &quot;mdtext&quot;, &quot;mdwn&quot;, &quot;mkd&quot;, &quot;mkdown&quot;,\n    &quot;mkdn&quot; ) ),\n  MEDIA_TEXT_PLAIN( TEXT_PLAIN, of( &quot;txt&quot;, &quot;asc&quot;, &quot;ascii&quot;, &quot;text&quot;, &quot;utxt&quot; ) ),\n  MEDIA_TEXT_R_MARKDOWN( TEXT_R_MARKDOWN, of( &quot;Rmd&quot; ) ),\n  MEDIA_TEXT_R_XML( TEXT_R_XML, of( &quot;Rxml&quot; ) ),\n  MEDIA_TEXT_XHTML( TEXT_XHTML, of( &quot;xhtml&quot; ) ),\n  MEDIA_TEXT_XML( TEXT_XML ),\n  MEDIA_TEXT_YAML( TEXT_YAML, of( &quot;yaml&quot;, &quot;yml&quot; ) ),\n\n  MEDIA_UNDEFINED( UNDEFINED, of( &quot;undefined&quot; ) );\n\n  private final MediaType mMediaType;\n  private final List&lt;String&gt; mExtensions;\n\n  MediaTypeExtension( final MediaType mediaType ) {\n    this( mediaType, of( mediaType.getSubtype() ) );\n  }\n\n  MediaTypeExtension(\n    final MediaType mediaType, final List&lt;String&gt; extensions ) {\n    assert mediaType != null;\n    assert extensions != null;\n    assert !extensions.isEmpty();\n\n    mMediaType = mediaType;\n    mExtensions = extensions;\n  }\n\n  public String getExtension() {\n    return mExtensions.get( 0 );\n  }\n\n  public static MediaTypeExtension valueFrom( final MediaType mediaType ) {\n    for( final var type : values() ) {\n      if( type.isMediaType( mediaType ) ) {\n        return type;\n      }\n    }\n\n    return MEDIA_UNDEFINED;\n  }\n\n  boolean isMediaType( final MediaType mediaType ) {\n    return mMediaType == mediaType;\n  }\n\n  static MediaType getMediaType( final String extension ) {\n    final var sanitized = sanitize( extension );\n\n    for( final var mediaType : MediaTypeExtension.values() ) {\n      if( mediaType.isType( sanitized ) ) {\n        return mediaType.getMediaType();\n      }\n    }\n\n    return UNDEFINED;\n  }\n\n  private boolean isType( final String sanitized ) {\n    for( final var extension : mExtensions ) {\n      if( extension.equalsIgnoreCase( sanitized ) ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private static String sanitize( final String extension ) {\n    return extension == null ? &quot;&quot; : extension.toLowerCase();\n  }\n\n  private MediaType getMediaType() {\n    return mMediaType;\n  }\n}\n</code></pre>\n<hr />\n<p>Usages:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// EXAMPLE -- Detect media type\n//\nfinal File image = new File( &quot;filename.jpg&quot; );\nfinal MediaType mt = StreamMediaType.getMediaType( image );\n\n// Tricky! The JPG could be a PNG in disguise.\nif( mt.isType( MediaType.TypeName.IMAGE ) ) {\n\n  if( mt == MediaType.IMAGE_PNG ) {\n    // Nice try! Sneaky sneak.\n  }\n}\n\n// EXAMPLE -- Get typical media type file name extension\n//\nfinal String ext = MediaTypeExtension.valueFrom( MediaType.IMAGE_SVG_XML ).getExtension();\n\n// EXAMPLE -- Get media type from HTTP request\n//\nfinal var url = new URL( &quot;https://localhost/path/file.ext&quot; );\nfinal var conn = (HttpURLConnection) url.openConnection();\nfinal var contentType = conn.getContentType();\nMediaType mediaType = valueFrom( contentType );\n\n// Fall back to stream detection probe\nif( mediaType == UNDEFINED ) {\n  mediaType = StreamMediaType.getMediaType( conn.getInputStream() );\n}\n\nconn.disconnect();\n</code></pre>\n<p>You get the idea.</p>\n<hr />\n<p>Short library review:</p>\n<ul>\n<li><a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika</a> -- 600kb bloat, needs multiple lines to configure, and multiple JAR files.</li>\n<li><a href=\"https://github.com/arimus/jmimemagic/\" rel=\"nofollow noreferrer\">jMimeMagic</a> -- Unfinished, needs multiple lines to configure.</li>\n<li><a href=\"http://mime-util.sourceforge.net/\" rel=\"nofollow noreferrer\">MimeUtil2</a> -- Fairly large, didn't work out-of-the-box.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/spi/FileTypeDetector.html\" rel=\"nofollow noreferrer\">FileTypeDetector</a> -- Bundled with JDK, buggier than a mountain pine beetle infested forest.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/spi/FileTypeDetector.html\" rel=\"nofollow noreferrer\">Files.probeContentType</a> -- Detection is platform-specific and considered unreliable (<a href=\"https://stackoverflow.com/a/65966588/59087\">source</a>).</li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"nofollow noreferrer\">MimetypesFileTypeMap</a> -- Bundled with activation.jar, uses file name extension.</li>\n</ul>\n<hr />\n<p>Sample audio, video, and image files for testing:</p>\n<ul>\n<li><a href=\"http://mirrors.standaloneinstaller.com/video-sample/\" rel=\"nofollow noreferrer\">http://mirrors.standaloneinstaller.com/video-sample/</a></li>\n<li><a href=\"https://www.w3.org/People/mimasa/test/imgformat/\" rel=\"nofollow noreferrer\">https://www.w3.org/People/mimasa/test/imgformat/</a></li>\n</ul>\n<hr />\n<p>Note that nearly all XML documents will begin the same way:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;\n</code></pre>\n<p>Since SVG documents are XML documents, many SVG documents will contain that XML declaration and may also contain:</p>\n<pre><code>&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.0//EN&quot; &quot;http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd&quot;&gt;\n</code></pre>\n<p>Detecting the SVG doctype would be possible by bumping the magic bytes from 11 to 13. Still, the doctype is not required, meaning that the SVG document could also begin after the XML declaration as follows:</p>\n<pre><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\n</code></pre>\n<p>Meaning, use caution when using this code to detect SVG file formats, as it is not reliable. Instead, consider using the HTTP Content-Type or filename extension.</p>\n<p>Compounding the issue is that comments of arbitrary length can be inserted before the <code>&lt;svg</code> tag, making detection extra-difficult.</p>\n<hr />\n<p><sup>1</sup> &quot;MIME type&quot; is a deprecated term.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621341655,"creation_date":1621341332,"answer_id":67586306,"question_id":51438,"body_markdown":"If you want a reliable (ie. consistent) way of mapping file extensions to mime-types, here is what I use:\r\n\r\nhttps://github.com/jjYBdx4IL/misc/blob/master/text-utils/src/main/java/com/github/jjYBdx4IL/utils/text/MimeType.java\r\n\r\nIt includes a bundled mime types database and basically inverts the logic of javax.activation&#39;s MimetypesFileTypeMap class by using the database to initialize the &quot;programmatic&quot; entries. That way the library-defined types always have precedence over what may be defined in unbundled resources.","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>If you want a reliable (ie. consistent) way of mapping file extensions to mime-types, here is what I use:</p>\n<p><a href=\"https://github.com/jjYBdx4IL/misc/blob/master/text-utils/src/main/java/com/github/jjYBdx4IL/utils/text/MimeType.java\" rel=\"nofollow noreferrer\">https://github.com/jjYBdx4IL/misc/blob/master/text-utils/src/main/java/com/github/jjYBdx4IL/utils/text/MimeType.java</a></p>\n<p>It includes a bundled mime types database and basically inverts the logic of javax.activation's MimetypesFileTypeMap class by using the database to initialize the &quot;programmatic&quot; entries. That way the library-defined types always have precedence over what may be defined in unbundled resources.</p>\n"},{"tags":[],"owner":{"account_id":6210245,"reputation":55,"user_id":4836726,"display_name":"MIsmail"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635332521,"creation_date":1635332521,"answer_id":69737453,"question_id":51438,"body_markdown":"Actually, [Apache Tika detector][1] `Tika.detect(File)` is the best option and more accurate than `Files.probeContentType(path)`.\r\n\r\ncheck this [great quick reference][2] which contains examples and code samples.\r\n\r\n\r\n  [1]: https://tika.apache.org/2.1.0/detection.html\r\n  [2]: https://dzone.com/articles/determining-file-types-java","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>Actually, <a href=\"https://tika.apache.org/2.1.0/detection.html\" rel=\"nofollow noreferrer\">Apache Tika detector</a> <code>Tika.detect(File)</code> is the best option and more accurate than <code>Files.probeContentType(path)</code>.</p>\n<p>check this <a href=\"https://dzone.com/articles/determining-file-types-java\" rel=\"nofollow noreferrer\">great quick reference</a> which contains examples and code samples.</p>\n"},{"tags":[],"owner":{"account_id":14139946,"reputation":86,"user_id":10215082,"display_name":"yashpal singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674893856,"creation_date":1674893856,"answer_id":75266293,"question_id":51438,"body_markdown":"in Java, the URLConnection class has a method called guessContentTypeFromName(String fileName) that can be used to guess the MIME media type (also known as the content type) of a file based on its file name. The method uses the file name’s extension to determine the content type.\r\n\r\n    String fileName = &quot;image.jpg&quot;;\r\n    String contentType = URLConnection.guessContentTypeFromName(fileName);\r\n    System.out.println(contentType); // &quot;image/jpeg&quot;\r\n\r\n[To know more Read this article][1]\r\n\r\n\r\n  [1]: https://factorialprogram.com/2023/01/28/java-network-programming/guessing-mime-media-types-in-java-with-example/","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>in Java, the URLConnection class has a method called guessContentTypeFromName(String fileName) that can be used to guess the MIME media type (also known as the content type) of a file based on its file name. The method uses the file name’s extension to determine the content type.</p>\n<pre><code>String fileName = &quot;image.jpg&quot;;\nString contentType = URLConnection.guessContentTypeFromName(fileName);\nSystem.out.println(contentType); // &quot;image/jpeg&quot;\n</code></pre>\n<p><a href=\"https://factorialprogram.com/2023/01/28/java-network-programming/guessing-mime-media-types-in-java-with-example/\" rel=\"nofollow noreferrer\">To know more Read this article</a></p>\n"}],"owner":{"account_id":1425,"reputation":8501,"user_id":1900,"accept_rate":84,"display_name":"Lee Theobald"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510590,"favorite_count":0,"down_vote_count":1,"up_vote_count":384,"accepted_answer_id":8973468,"answer_count":28,"score":383,"last_activity_date":1675466420,"creation_date":1220951466,"question_id":51438,"body_markdown":"How do you get a Media Type (MIME type) from a file using Java?  So far I&#39;ve tried JMimeMagic &amp; Mime-Util. The first gave me memory exceptions, the second doesn&#39;t close its streams properly.\r\n\r\nHow would you probe the file to determine its actual type (not merely based on the extension)?","title":"How to get a file&#39;s Media Type (MIME type)?","body":"<p>How do you get a Media Type (MIME type) from a file using Java?  So far I've tried JMimeMagic &amp; Mime-Util. The first gave me memory exceptions, the second doesn't close its streams properly.</p>\n<p>How would you probe the file to determine its actual type (not merely based on the extension)?</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1675460588,"post_id":75341183,"comment_id":132941501,"body_markdown":"Not sure what you are asking for exactly - is it a question on when JPA calls your method, if at all, or how to write code to use JPA? Persist a new entity, commit, read it back in a new context, update it, commit - basically do what your app will do and see what calls JPA makes on your entity vs what your application makes.","body":"Not sure what you are asking for exactly - is it a question on when JPA calls your method, if at all, or how to write code to use JPA? Persist a new entity, commit, read it back in a new context, update it, commit - basically do what your app will do and see what calls JPA makes on your entity vs what your application makes."},{"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"score":0,"creation_date":1675499497,"post_id":75341183,"comment_id":132945602,"body_markdown":"The base question is what @Access changing on the Entity and how can prove it on jUnit test","body":"The base question is what @Access changing on the Entity and how can prove it on jUnit test"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1675569434,"post_id":75341183,"comment_id":132956451,"body_markdown":"That is two very different questions. Test is pretty straightforward - run some JPA methods and see what you see. As for what it does: it tells JPA any time it needs to access that value to use the property you&#39;ve defned. That includes internal access when loading the entity from the DB and even when merging in values from detached instances. If you are just learning how it works, you are better off with a debugger or printing the stack instead of manipulating values or you will get &quot;LastName: LastName: LastName: originalLN&quot; effects. Just printing off where/when it is called should be enough","body":"That is two very different questions. Test is pretty straightforward - run some JPA methods and see what you see. As for what it does: it tells JPA any time it needs to access that value to use the property you&#39;ve defned. That includes internal access when loading the entity from the DB and even when merging in values from detached instances. If you are just learning how it works, you are better off with a debugger or printing the stack instead of manipulating values or you will get &quot;LastName: LastName: LastName: originalLN&quot; effects. Just printing off where/when it is called should be enough"}],"answers":[{"comments":[{"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"score":0,"creation_date":1675499123,"post_id":75341897,"comment_id":132945541,"body_markdown":"Thank you. i&#39;m not sure that i still understand. without Access(value= AccessType.PROPERTY) it would works on that way too because you call student.setFirstName(&quot;John&quot;) and \n    student.setLastName(&quot;Doe&quot;);","body":"Thank you. i&#39;m not sure that i still understand. without Access(value= AccessType.PROPERTY) it would works on that way too because you call student.setFirstName(&quot;John&quot;) and      student.setLastName(&quot;Doe&quot;);"}],"tags":[],"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675466252,"creation_date":1675466252,"answer_id":75341897,"question_id":75341183,"body_markdown":"    I suppose that you can write something like this:\r\n    \r\n    `\r\n    @Test\r\n    public void testAccessAnnotation() {\r\n        // Create a new instance of the Student entity\r\n        Student student = new Student();\r\n        student.setFirstName(&quot;John&quot;);\r\n        student.setLastName(&quot;Doe&quot;);\r\n    \r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.persist(student);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.clear();\r\n    \r\n        TypedQuery&lt;Student&gt; query = entityManager.createQuery(&quot;SELECT s FROM Student s WHERE s.ID = :id&quot;, Student.class);\r\n        query.setParameter(&quot;id&quot;, student.getID());\r\n        student = query.getSingleResult();\r\n    \r\n        assertEquals(&quot;John&quot;, student.getFirstName());\r\n        assertEquals(&quot;LastName: Doe&quot;, student.getLastName());\r\n    }\r\n    \r\n    `","title":"JPA annotation @Access","body":"<pre><code>I suppose that you can write something like this:\n\n`\n@Test\npublic void testAccessAnnotation() {\n    // Create a new instance of the Student entity\n    Student student = new Student();\n    student.setFirstName(&quot;John&quot;);\n    student.setLastName(&quot;Doe&quot;);\n\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n    entityManager.getTransaction().begin();\n    entityManager.persist(student);\n    entityManager.getTransaction().commit();\n    entityManager.clear();\n\n    TypedQuery&lt;Student&gt; query = entityManager.createQuery(&quot;SELECT s FROM Student s WHERE s.ID = :id&quot;, Student.class);\n    query.setParameter(&quot;id&quot;, student.getID());\n    student = query.getSingleResult();\n\n    assertEquals(&quot;John&quot;, student.getFirstName());\n    assertEquals(&quot;LastName: Doe&quot;, student.getLastName());\n}\n\n`\n</code></pre>\n"}],"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675466252,"creation_date":1675459710,"question_id":75341183,"body_markdown":"**@Access annotation**\r\n\r\ni&#39;m confused how this annotation works. I know by default, the access type is defined by the place where we put the identifier annotation (@Id). \r\nIf we put it on the field – it will be AccessType.FIELD, \r\nif we put it on the getter – it will be AccessType.PROPERTY.\r\n\r\nThis is my entity\r\n```\r\n@Entity\r\npublic class Student  {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long ID;\r\n\r\n    private String firstName;\r\n\r\n    @Access(value= AccessType.PROPERTY)\r\n    private String lastName;\r\n\r\n    public String getFirstName() {\r\n        System.out.println(&quot;~~~~~~~~getFirstName~~~~~~~~~&quot;);\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = &quot;FirstName: &quot; + firstName;\r\n        System.out.println(&quot;~~~~~~~~setFirstName~~~~~~~~~&quot;);\r\n    }\r\n\r\n    public String getlastName() {\r\n        System.out.println(&quot;~~~~~~~~getlastName~~~~~~~~~&quot;);\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = &quot;LastName: &quot;+ lastName;\r\n        System.out.println(&quot;~~~~~~~~setLastname~~~~~~~~~&quot;);\r\n    }\r\n}\r\n```\r\nI add to the Setter prefix (&quot;FirstName: &quot; and &quot;LastName: &quot;) to check if it will be called.\r\n\r\nAs i have @Id on the field that&#39;s means AccessType.FIELD, but i change it in **lastName** to AccessType.PROPERTY. \r\n\r\n**As i understood on this case JPA should save to the database firstName field without prefix but lastName with** (because it will call setter *setLastName*)\r\n\r\n\r\nI&#39;m not sure that i understand how to use this on project and how to check if it works. I want to write a test to prove it but i don&#39;t know how to implement this. can you please help me. I want to prove that JPA does not call Getter/Setter to **firstName** and call it for **lastName** fields.\r\n\r\nThis is my test without implementation\r\n\r\n```\r\nclass StudentTest {\r\n    private EntityManagerFactory entityManagerFactory;\r\n    private EntityManager entityManager;\r\n\r\n    @BeforeEach\r\n    public void init() {\r\n        entityManagerFactory = Persistence.createEntityManagerFactory( &quot;in.memory.test&quot;);\r\n        entityManager = entityManagerFactory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n    }\r\n    @AfterEach\r\n    public void destroy() {\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        entityManagerFactory.close();\r\n    }\r\n\r\n    @Test\r\n    public void studentFirstName(){\r\n\r\n    }\r\n\r\n    @Test\r\n    public void studentLastName(){\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"JPA annotation @Access","body":"<p><strong>@Access annotation</strong></p>\n<p>i'm confused how this annotation works. I know by default, the access type is defined by the place where we put the identifier annotation (@Id).\nIf we put it on the field – it will be AccessType.FIELD,\nif we put it on the getter – it will be AccessType.PROPERTY.</p>\n<p>This is my entity</p>\n<pre><code>@Entity\npublic class Student  {\n    @Id\n    @GeneratedValue\n    private Long ID;\n\n    private String firstName;\n\n    @Access(value= AccessType.PROPERTY)\n    private String lastName;\n\n    public String getFirstName() {\n        System.out.println(&quot;~~~~~~~~getFirstName~~~~~~~~~&quot;);\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = &quot;FirstName: &quot; + firstName;\n        System.out.println(&quot;~~~~~~~~setFirstName~~~~~~~~~&quot;);\n    }\n\n    public String getlastName() {\n        System.out.println(&quot;~~~~~~~~getlastName~~~~~~~~~&quot;);\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = &quot;LastName: &quot;+ lastName;\n        System.out.println(&quot;~~~~~~~~setLastname~~~~~~~~~&quot;);\n    }\n}\n</code></pre>\n<p>I add to the Setter prefix (&quot;FirstName: &quot; and &quot;LastName: &quot;) to check if it will be called.</p>\n<p>As i have @Id on the field that's means AccessType.FIELD, but i change it in <strong>lastName</strong> to AccessType.PROPERTY.</p>\n<p><strong>As i understood on this case JPA should save to the database firstName field without prefix but lastName with</strong> (because it will call setter <em>setLastName</em>)</p>\n<p>I'm not sure that i understand how to use this on project and how to check if it works. I want to write a test to prove it but i don't know how to implement this. can you please help me. I want to prove that JPA does not call Getter/Setter to <strong>firstName</strong> and call it for <strong>lastName</strong> fields.</p>\n<p>This is my test without implementation</p>\n<pre><code>class StudentTest {\n    private EntityManagerFactory entityManagerFactory;\n    private EntityManager entityManager;\n\n    @BeforeEach\n    public void init() {\n        entityManagerFactory = Persistence.createEntityManagerFactory( &quot;in.memory.test&quot;);\n        entityManager = entityManagerFactory.createEntityManager();\n        entityManager.getTransaction().begin();\n    }\n    @AfterEach\n    public void destroy() {\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        entityManagerFactory.close();\n    }\n\n    @Test\n    public void studentFirstName(){\n\n    }\n\n    @Test\n    public void studentLastName(){\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","mongodb","repository"],"owner":{"account_id":18766850,"reputation":41,"user_id":13684522,"display_name":"Madhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675465450,"creation_date":1675465450,"question_id":75341825,"body_markdown":"I&#39;m creating dynamic collections by using mongoTemplate in service layer. Upto this everything went well but when saving into collection dynamically makes issue. explaining here...\r\n\r\nService Layer\r\n```\r\n    public void createCollection(String collectionName) {\r\n        mongoTemplate.createCollection(collectionName);\r\n    }\r\n\r\npublic Object updateLessonOrSurveyOrQuery(String courseID, int levelNo, CourseAsset courseAssetToUpdate) {\r\n      .....\r\n        courseAssetRepo.saveByCourseID(courseID, courseAssetToUpdate);\r\n      .....\r\n}\r\n```\r\n\r\nRepo Layer\r\n\r\n```\r\n@Repository\r\npublic interface CourseAssetRepo extends MongoRepository&lt;CourseAsset, String&gt; {\r\n    ArrayList&lt;CourseAsset&gt; findAllByCourseID(String courseID);\r\n    void saveByCourseID( String courseID, CourseAsset courseAsset);\r\n}\r\n\r\n```\r\nfindAllByCourseID working but saveByCourseID not woking;\r\n\r\nPOJO class\r\n```\r\n@Data\r\npublic class CourseAsset {\r\n    private int level;\r\n    private String title;\r\n    private String courseID;\r\n}\r\n\r\n```\r\n\r\nERROR :\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;courseAssetRepo&#39; defined in com.dotbw.learn.repo.CourseAssetRepo defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Could not create query for public abstract void com.dotbw.learn.repo.CourseAssetRepo.saveByCourseID(java.lang.String,com.dotbw.learn.model.CourseAsset); Reason: No property &#39;saveByCourseID&#39; found for type &#39;CourseAsset&#39;\r\n```\r\n\r\ni can understand repo expects CourseAsset Data inside the pojo class. But while saving how we can provide this value.\r\n\r\n\r\n\r\n\r\ni have tried many way as ChatGPT said but nothing worked.","title":"Passing Dynamic collection name on Spring MongoRepository not working","body":"<p>I'm creating dynamic collections by using mongoTemplate in service layer. Upto this everything went well but when saving into collection dynamically makes issue. explaining here...</p>\n<p>Service Layer</p>\n<pre><code>    public void createCollection(String collectionName) {\n        mongoTemplate.createCollection(collectionName);\n    }\n\npublic Object updateLessonOrSurveyOrQuery(String courseID, int levelNo, CourseAsset courseAssetToUpdate) {\n      .....\n        courseAssetRepo.saveByCourseID(courseID, courseAssetToUpdate);\n      .....\n}\n</code></pre>\n<p>Repo Layer</p>\n<pre><code>@Repository\npublic interface CourseAssetRepo extends MongoRepository&lt;CourseAsset, String&gt; {\n    ArrayList&lt;CourseAsset&gt; findAllByCourseID(String courseID);\n    void saveByCourseID( String courseID, CourseAsset courseAsset);\n}\n\n</code></pre>\n<p>findAllByCourseID working but saveByCourseID not woking;</p>\n<p>POJO class</p>\n<pre><code>@Data\npublic class CourseAsset {\n    private int level;\n    private String title;\n    private String courseID;\n}\n\n</code></pre>\n<p>ERROR :</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'courseAssetRepo' defined in com.dotbw.learn.repo.CourseAssetRepo defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Could not create query for public abstract void com.dotbw.learn.repo.CourseAssetRepo.saveByCourseID(java.lang.String,com.dotbw.learn.model.CourseAsset); Reason: No property 'saveByCourseID' found for type 'CourseAsset'\n</code></pre>\n<p>i can understand repo expects CourseAsset Data inside the pojo class. But while saving how we can provide this value.</p>\n<p>i have tried many way as ChatGPT said but nothing worked.</p>\n"},{"tags":["java","http","filter","micronaut"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675465226,"creation_date":1675465226,"answer_id":75341802,"question_id":75340931,"body_markdown":"You can do this by returning a response directly created in the filter.\r\n\r\n```java\r\n\r\n@Filter(&quot;/hello&quot;)\r\npublic class HelloWorldFilter implements HttpServerFilter {\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\r\n\r\n        if(HelloWorldValidator.valid(request){\r\n           //if valid, keep proceeding further\r\n           return chain.proceed(request);\r\n        }\r\n        else {\r\n           // if not valid, I want to stop here and return the 403 response\r\n           return Mono.just(HttpResponse.status(HttpStatus.FORBIDDEN));\r\n        }\r\n    }\r\n}\r\n```","title":"How to stop proceeding the request further with Micronaut filter","body":"<p>You can do this by returning a response directly created in the filter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Filter(&quot;/hello&quot;)\npublic class HelloWorldFilter implements HttpServerFilter {\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\n\n        if(HelloWorldValidator.valid(request){\n           //if valid, keep proceeding further\n           return chain.proceed(request);\n        }\n        else {\n           // if not valid, I want to stop here and return the 403 response\n           return Mono.just(HttpResponse.status(HttpStatus.FORBIDDEN));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16453853,"reputation":29,"user_id":11886595,"display_name":"Rionash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675465226,"creation_date":1675457546,"question_id":75340931,"body_markdown":"I&#39;d like to use filter to validate the request. \r\nLooking for a way to response with 403 if it&#39;s not valid.\r\n\r\n\r\n\r\n```\r\n@Filter(&quot;/hello&quot;)\r\npublic class HelloWorldFilter implements HttpServerFilter {\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\r\n        if(HelloWorldValidator.valid(request){\r\n//if valid, keep proceeding further\r\n           return chain.proceed(request);\r\n        }else{\r\n//if not valid, I want to stop here and return the 400 response\r\n        ...\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"How to stop proceeding the request further with Micronaut filter","body":"<p>I'd like to use filter to validate the request.\nLooking for a way to response with 403 if it's not valid.</p>\n<pre><code>@Filter(&quot;/hello&quot;)\npublic class HelloWorldFilter implements HttpServerFilter {\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\n        if(HelloWorldValidator.valid(request){\n//if valid, keep proceeding further\n           return chain.proceed(request);\n        }else{\n//if not valid, I want to stop here and return the 400 response\n        ...\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","resilience4j"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675466144,"post_id":75341743,"comment_id":132942512,"body_markdown":"Does this answer your question? [Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;](https://stackoverflow.com/questions/42733067/spring-value-typemismatchexceptionfailed-to-convert-value-of-type-java-lang-s)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42733067/spring-value-typemismatchexceptionfailed-to-convert-value-of-type-java-lang-s\">Spring @Value TypeMismatchException:Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Double&#39;</a>"},{"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"score":0,"creation_date":1675659107,"post_id":75341743,"comment_id":132969339,"body_markdown":"That code is not a part of a repo that I can alter.","body":"That code is not a part of a repo that I can alter."}],"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675464595,"creation_date":1675464595,"question_id":75341743,"body_markdown":"I&#39;m attempting to unit test a resilience4j CircuitBreaker, and according to the documentation and my testing, I need to utilize the `@SpringBootTest` annotation in order to correctly instantiate the circuit breaker for the unit test. \r\n\r\nWhen I attempt to run the unit test I am receiving a UnsatisfiedDependencyException when it tries to instantiate a downstream bean because the value of the property instead of being &quot;true&quot; or &quot;false&quot; is the string value of the property `${boolean.property:true}` instead of when I normally run the project manually it is just `true`.\r\n\r\nMy unit test is as follows (I am using JUnit 5 and Spring Boot 2.6.6)\r\n\r\n```java\r\n@SpringBootTest(classes = Application.class)\r\nclass CircuitBreakerTest {\r\n\r\n    @MockBean\r\n    private Webservice webservice;\r\n\r\n    private final Handler handler = new Handler();\r\n\r\n    @Test\r\n    public void testChangeMatrixCircuitBreaker() {\r\n\r\n        when(webservice.process(any())).thenThrow(new RuntimeException());\r\n\r\n        for (int i = 0; i &lt; 11; i++) {\r\n            // circuit breaker should trip after 10 failures\r\n            ResponseEntity response = handler.processClientRequest(&quot;id&quot;, &quot;&lt;body/&gt;&quot;);\r\n            if (i &gt; 9) {\r\n                assertTrue(&quot;CircuitBreaker tripped&quot;.equals((String) response.getBody()));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nApplication.java\r\n```java\r\n@SpringBootApplication\r\n@EnableMBeanExport(registration = RegistrationPolicy.IGNORE_EXISTING)\r\n@ImportResource({&quot;classpath:serviceContext.xml&quot;})\r\n@ComponentScan({&quot;application.foundation&quot;, &quot;config&quot;})\r\npublic class Application {\r\n\r\n   private static final Logger LOGGER = LogManager.getLogger(AISApplication.class);\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(AISApplication.class, args);\r\n   }\r\n\r\n   @PreDestroy\r\n   public void tearDown() {\r\n      LOGGER.info(&quot;PreDestroy - Shutting Down&quot;);\r\n   }\r\n\r\n}\r\n```\r\n\r\nThe bean that is causing the exception is defined inside of the `application.foundation` component scan. More exactly inside of the resource that it imports.\r\n```java\r\npackage application.foundation.security;\r\n\r\n@Configuration\r\n@ImportResource({ &quot;classpath:securedClientContext.xml&quot; })\r\npublic class OutboundSecurityConfiguration {\r\n    ...\r\n}\r\n```\r\n\r\nsecuredClientContext.xml (note that I do not have the ability to change this file)\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n   http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\r\n    \t&lt;bean id=&quot;beanIDontControl&quot; class=&quot;bean.i.dont.control.security.BeanIDontControlBean&quot;&gt;\r\n\t\t   &lt;constructor-arg name=&quot;unique&quot; value=&quot;${boolean.property:true}&quot; /&gt;\r\n\t    &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nThe stack trace is as follows:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;beanIDontControl&#39; defined in class path resource [securedClientContext.xml]: \r\nUnsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [boolean]: \r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;boolean&#39;; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [${boolean.property:true}]\r\n```\r\n\r\nIt&#39;s failing on line 761 of `ContructorResolver`\r\n```java\r\n// when i unit test originalValue = ${boolean.property:true} when i run normally it is just true\r\nconvertedValue = converter.convertIfNecessary(originalValue, paramType, methodParam);\r\n```\r\n\r\nDoes anyone know a way that I could possibly mock or ignore this bean? Maybe even ignore the whole component scale of that security package? I&#39;ve tried use @TestConfiguration, I&#39;ve tried everything around @TestPropertySource, I&#39;ve tried using the property field within @SpringBootTest to manually set the values, no matter what I do I cannot see a change in that property.\r\n","title":"Getting a UnsatisfiedDependencyException In SpringBootTest when trying to convert property (i.e. ${service.version}) to boolean value","body":"<p>I'm attempting to unit test a resilience4j CircuitBreaker, and according to the documentation and my testing, I need to utilize the <code>@SpringBootTest</code> annotation in order to correctly instantiate the circuit breaker for the unit test.</p>\n<p>When I attempt to run the unit test I am receiving a UnsatisfiedDependencyException when it tries to instantiate a downstream bean because the value of the property instead of being &quot;true&quot; or &quot;false&quot; is the string value of the property <code>${boolean.property:true}</code> instead of when I normally run the project manually it is just <code>true</code>.</p>\n<p>My unit test is as follows (I am using JUnit 5 and Spring Boot 2.6.6)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = Application.class)\nclass CircuitBreakerTest {\n\n    @MockBean\n    private Webservice webservice;\n\n    private final Handler handler = new Handler();\n\n    @Test\n    public void testChangeMatrixCircuitBreaker() {\n\n        when(webservice.process(any())).thenThrow(new RuntimeException());\n\n        for (int i = 0; i &lt; 11; i++) {\n            // circuit breaker should trip after 10 failures\n            ResponseEntity response = handler.processClientRequest(&quot;id&quot;, &quot;&lt;body/&gt;&quot;);\n            if (i &gt; 9) {\n                assertTrue(&quot;CircuitBreaker tripped&quot;.equals((String) response.getBody()));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableMBeanExport(registration = RegistrationPolicy.IGNORE_EXISTING)\n@ImportResource({&quot;classpath:serviceContext.xml&quot;})\n@ComponentScan({&quot;application.foundation&quot;, &quot;config&quot;})\npublic class Application {\n\n   private static final Logger LOGGER = LogManager.getLogger(AISApplication.class);\n\n   public static void main(String[] args) {\n      SpringApplication.run(AISApplication.class, args);\n   }\n\n   @PreDestroy\n   public void tearDown() {\n      LOGGER.info(&quot;PreDestroy - Shutting Down&quot;);\n   }\n\n}\n</code></pre>\n<p>The bean that is causing the exception is defined inside of the <code>application.foundation</code> component scan. More exactly inside of the resource that it imports.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package application.foundation.security;\n\n@Configuration\n@ImportResource({ &quot;classpath:securedClientContext.xml&quot; })\npublic class OutboundSecurityConfiguration {\n    ...\n}\n</code></pre>\n<p>securedClientContext.xml (note that I do not have the ability to change this file)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n   http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\n        &lt;bean id=&quot;beanIDontControl&quot; class=&quot;bean.i.dont.control.security.BeanIDontControlBean&quot;&gt;\n           &lt;constructor-arg name=&quot;unique&quot; value=&quot;${boolean.property:true}&quot; /&gt;\n        &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>The stack trace is as follows:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'beanIDontControl' defined in class path resource [securedClientContext.xml]: \nUnsatisfied dependency expressed through constructor parameter 0: Could not convert argument value of type [java.lang.String] to required type [boolean]: \nFailed to convert value of type 'java.lang.String' to required type 'boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [${boolean.property:true}]\n</code></pre>\n<p>It's failing on line 761 of <code>ContructorResolver</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// when i unit test originalValue = ${boolean.property:true} when i run normally it is just true\nconvertedValue = converter.convertIfNecessary(originalValue, paramType, methodParam);\n</code></pre>\n<p>Does anyone know a way that I could possibly mock or ignore this bean? Maybe even ignore the whole component scale of that security package? I've tried use @TestConfiguration, I've tried everything around @TestPropertySource, I've tried using the property field within @SpringBootTest to manually set the values, no matter what I do I cannot see a change in that property.</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":1,"creation_date":1675447618,"post_id":75338944,"comment_id":132938438,"body_markdown":"Wrap your closable resources like writers/IO streams in try-with-resources blocks","body":"Wrap your closable resources like writers/IO streams in try-with-resources blocks"},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1675487116,"post_id":75338944,"comment_id":132944387,"body_markdown":"&quot;I tried to change the compression quality but it doesn&#39;t seem working,&quot;: if you try with quality factor less than 0.5 it will definitely reduce the size. so your image is at around 0.5 no visible change in the compressed image is there? So definittely you can bring the size down - e.g. if you compress with 0.1 DID YOU TRY THAt?","body":"&quot;I tried to change the compression quality but it doesn&#39;t seem working,&quot;: if you try with quality factor less than 0.5 it will definitely reduce the size. so your image is at around 0.5 no visible change in the compressed image is there? So definittely you can bring the size down - e.g. if you compress with 0.1 DID YOU TRY THAt?"},{"owner":{"account_id":21926009,"reputation":1,"user_id":16208622,"display_name":"Jason"},"score":0,"creation_date":1675499296,"post_id":75338944,"comment_id":132945567,"body_markdown":"Yes, I if I change the quality factor below 0.5 the size of the image is smaller but I&#39;m wondering why the size of the compressed image when the factor is &gt;= 0.5 is larger than the original photo @gpasch","body":"Yes, I if I change the quality factor below 0.5 the size of the image is smaller but I&#39;m wondering why the size of the compressed image when the factor is &gt;= 0.5 is larger than the original photo @gpasch"}],"answers":[{"comments":[{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1675466263,"post_id":75339503,"comment_id":132942534,"body_markdown":"I&#39;m not sure it&#39;s accurate to say &quot;header data&quot; causes larger file size.  (JFIF files have a short header.)  Perhaps it&#39;s that the Huffman coding of the coefficients is less efficient after multiple compressions?","body":"I&#39;m not sure it&#39;s accurate to say &quot;header data&quot; causes larger file size.  (JFIF files have a short header.)  Perhaps it&#39;s that the Huffman coding of the coefficients is less efficient after multiple compressions?"},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1675485510,"post_id":75339503,"comment_id":132944278,"body_markdown":"it&#39;s definitely incorrect.","body":"it&#39;s definitely incorrect."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675447337,"creation_date":1675447337,"answer_id":75339503,"question_id":75338944,"body_markdown":"jpeg images are already compressed. “Compressing” an already compressed file makes it a bit bigger (header data) each time.\r\n\r\nA text file on the other hand will get much smaller.","title":"Java - Compressed Image size is bigger than original (BufferedImage)","body":"<p>jpeg images are already compressed. “Compressing” an already compressed file makes it a bit bigger (header data) each time.</p>\n<p>A text file on the other hand will get much smaller.</p>\n"}],"owner":{"account_id":21926009,"reputation":1,"user_id":16208622,"display_name":"Jason"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675464063,"creation_date":1675444092,"question_id":75338944,"body_markdown":"I&#39;m trying to compress an image to upload to S3 Bucket but after the image is compressed, the size of the compressed image is larger than the original. From 227KB -&gt; 236KB\r\nCan anybody explain for me why this happened?\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\n BufferedImage bufferedImage = ImageIO.read(photoFile);\r\n File compressedImageFile = new File(&quot;compressed_image.jpeg&quot;);\r\n OutputStream outputStream = new FileOutputStream(compressedImageFile);\r\n\r\n Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\r\n ImageWriter imageWriter = writers.next();\r\n\r\n ImageOutputStream imageOutputStream =  ImageIO.createImageOutputStream(outputStream);\r\n imageWriter.setOutput(imageOutputStream);\r\n\r\n ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\r\n\r\n  if (imageWriteParam.canWriteCompressed()) {\r\n                    imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n  imageWriteParam.setCompressionQuality(0.5f);\r\n  }\r\n    imageWriter.write(null, new IIOImage(bufferedImage, null, null), imageWriteParam);\r\n\r\n  log.info(&quot;Close stream&quot;);\r\n  outputStream.close();\r\n  imageOutputStream.close();\r\n  imageWriter.dispose();\r\n```\r\n\r\nHere&#39;s my image:\r\n[original](https://i.stack.imgur.com/vZ8MQ.jpg) - 227KB\r\n[compressed](https://i.stack.imgur.com/39cAF.jpg) - 236KB\r\n\r\n\r\nI tried to change the compression quality but it doesn&#39;t seem working, and this problem happens in some case, not all","title":"Java - Compressed Image size is bigger than original (BufferedImage)","body":"<p>I'm trying to compress an image to upload to S3 Bucket but after the image is compressed, the size of the compressed image is larger than the original. From 227KB -&gt; 236KB\nCan anybody explain for me why this happened?</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> BufferedImage bufferedImage = ImageIO.read(photoFile);\n File compressedImageFile = new File(&quot;compressed_image.jpeg&quot;);\n OutputStream outputStream = new FileOutputStream(compressedImageFile);\n\n Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\n ImageWriter imageWriter = writers.next();\n\n ImageOutputStream imageOutputStream =  ImageIO.createImageOutputStream(outputStream);\n imageWriter.setOutput(imageOutputStream);\n\n ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\n\n  if (imageWriteParam.canWriteCompressed()) {\n                    imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n  imageWriteParam.setCompressionQuality(0.5f);\n  }\n    imageWriter.write(null, new IIOImage(bufferedImage, null, null), imageWriteParam);\n\n  log.info(&quot;Close stream&quot;);\n  outputStream.close();\n  imageOutputStream.close();\n  imageWriter.dispose();\n</code></pre>\n<p>Here's my image:\n<a href=\"https://i.stack.imgur.com/vZ8MQ.jpg\" rel=\"nofollow noreferrer\">original</a> - 227KB\n<a href=\"https://i.stack.imgur.com/39cAF.jpg\" rel=\"nofollow noreferrer\">compressed</a> - 236KB</p>\n<p>I tried to change the compression quality but it doesn't seem working, and this problem happens in some case, not all</p>\n"},{"tags":["java","android","listview"],"owner":{"account_id":27687005,"reputation":1,"user_id":21134580,"display_name":"PaulK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675463326,"creation_date":1675355203,"question_id":75326128,"body_markdown":"I have a custom listview, inside of which there is another one. And the one that is nested will not scroll. Perhaps you need to register something in the parent setOnTouchListener? I don&#39;t have anything like that in getView.\r\n[image](https://i.stack.imgur.com/MJdbO.png)\r\n\r\n**my layout**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/gray&quot;\r\n        tools:context=&quot;.invoice.ListPruducts&quot;&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/lv1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:divider=&quot;@android:color/transparent&quot;\r\n            android:dividerHeight=&quot;10.0sp&quot;\r\n            android:paddingHorizontal=&quot;10dp&quot;\r\n            android:paddingVertical=&quot;10dp&quot;\r\n            android:stackFromBottom=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/materialCardView2&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:id=&quot;@+id/materialCardView2&quot;\r\n            android:background=&quot;@color/zxing_transparent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            style=&quot;@style/CustomCardViewStyle&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            app:cardElevation=&quot;10dp&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:focusable=&quot;true&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n                    android:id=&quot;@+id/productName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;5dp&quot;\r\n                    android:backgroundTint=&quot;@color/yellow&quot;\r\n                    android:enabled=&quot;false&quot;\r\n                    android:hint=&quot;Наименование&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textColorHint=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/ll123&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/productName&quot;\r\n                    android:layout_marginHorizontal=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:baselineAligned=&quot;false&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n                        android:id=&quot;@+id/search_barCode&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:backgroundTint=&quot;@color/green&quot;\r\n                        android:ems=&quot;15&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:hint=&quot;Считайте ш/к&quot;\r\n                        android:textColorHint=&quot;@color/DefGray&quot;\r\n                        android:inputType=&quot;number&quot;\r\n                        android:maxLength=&quot;15&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        android:singleLine=&quot;true&quot; /&gt;\r\n    \r\n                    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n                        android:id=&quot;@+id/coutOfProduct&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1.1&quot;\r\n                        android:backgroundTint=&quot;@color/green&quot;\r\n                        android:hint=&quot;Кол-во: &quot;\r\n                        android:inputType=&quot;numberSigned|numberDecimal&quot;\r\n                        android:maxLength=&quot;13&quot;\r\n                        android:singleLine=&quot;true&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textColorHint=&quot;@color/DefGray&quot;\r\n                        android:textSize=&quot;18sp&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    `\r\n\r\n\r\n**my getView**\r\n\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        GoodsCreate_SQL myItemFromList = getItem(position);\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        convertView = inflater.inflate(mResourse, parent, false);\r\n\r\n        TextView tvMark = convertView.findViewById(R.id.tvMark);\r\n        CheckBox cb = convertView.findViewById(R.id.checkBox2);\r\n\r\n        tvMark.setText(myItemFromList.Mark);\r\n        if (myItemFromList.myMark.equals(&quot;1&quot;)){\r\n            cb.setChecked(true);\r\n        }\r\n        return convertView;\r\n    }\r\nTried `setOnTouchListener` to write `view.getParent().requestDisallowInterceptTouchEvent(true);`","title":"Listview not scrolling inside custom listview","body":"<p>I have a custom listview, inside of which there is another one. And the one that is nested will not scroll. Perhaps you need to register something in the parent setOnTouchListener? I don't have anything like that in getView.\n<a href=\"https://i.stack.imgur.com/MJdbO.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p><strong>my layout</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/gray&quot;\n    tools:context=&quot;.invoice.ListPruducts&quot;&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lv1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:divider=&quot;@android:color/transparent&quot;\n        android:dividerHeight=&quot;10.0sp&quot;\n        android:paddingHorizontal=&quot;10dp&quot;\n        android:paddingVertical=&quot;10dp&quot;\n        android:stackFromBottom=&quot;true&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/materialCardView2&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/materialCardView2&quot;\n        android:background=&quot;@color/zxing_transparent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        style=&quot;@style/CustomCardViewStyle&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        app:cardElevation=&quot;10dp&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n                android:id=&quot;@+id/productName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;5dp&quot;\n                android:backgroundTint=&quot;@color/yellow&quot;\n                android:enabled=&quot;false&quot;\n                android:hint=&quot;Наименование&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textColorHint=&quot;@color/black&quot;\n                android:textSize=&quot;24sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/ll123&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/productName&quot;\n                android:layout_marginHorizontal=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:baselineAligned=&quot;false&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n                    android:id=&quot;@+id/search_barCode&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:backgroundTint=&quot;@color/green&quot;\n                    android:ems=&quot;15&quot;\n                    android:focusable=&quot;true&quot;\n                    android:hint=&quot;Считайте ш/к&quot;\n                    android:textColorHint=&quot;@color/DefGray&quot;\n                    android:inputType=&quot;number&quot;\n                    android:maxLength=&quot;15&quot;\n                    android:textSize=&quot;18sp&quot;\n                    android:singleLine=&quot;true&quot; /&gt;\n\n                &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n                    android:id=&quot;@+id/coutOfProduct&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1.1&quot;\n                    android:backgroundTint=&quot;@color/green&quot;\n                    android:hint=&quot;Кол-во: &quot;\n                    android:inputType=&quot;numberSigned|numberDecimal&quot;\n                    android:maxLength=&quot;13&quot;\n                    android:singleLine=&quot;true&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textColorHint=&quot;@color/DefGray&quot;\n                    android:textSize=&quot;18sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n`\n</code></pre>\n<p><strong>my getView</strong></p>\n<pre><code>public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n    GoodsCreate_SQL myItemFromList = getItem(position);\n\n    LayoutInflater inflater = LayoutInflater.from(mContext);\n    convertView = inflater.inflate(mResourse, parent, false);\n\n    TextView tvMark = convertView.findViewById(R.id.tvMark);\n    CheckBox cb = convertView.findViewById(R.id.checkBox2);\n\n    tvMark.setText(myItemFromList.Mark);\n    if (myItemFromList.myMark.equals(&quot;1&quot;)){\n        cb.setChecked(true);\n    }\n    return convertView;\n}\n</code></pre>\n<p>Tried <code>setOnTouchListener</code> to write <code>view.getParent().requestDisallowInterceptTouchEvent(true);</code></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675452809,"post_id":75340084,"comment_id":132939802,"body_markdown":"Can you share `FilterA` and `FilterB`?","body":"Can you share <code>FilterA</code> and <code>FilterB</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675454681,"creation_date":1675454681,"answer_id":75340534,"question_id":75340084,"body_markdown":"i suggest you to you use AuthenticationEntryPoint\r\nand then add filters before or after entryPoint.\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .headers().frameOptions().disable()\r\n                .and().requestCache().requestCache(getHttpSessionRequestCache())\r\n                .and().exceptionHandling().authenticationEntryPoint(authenticationEntrypoint)\r\n                .and().authorizeRequests().anyRequest().authenticated().and()\r\n                .addFilterAfter(new myAFilter(), BasicAuthenticationFilter.class).addFilter(new Filter() {\r\n                    @Override\r\n                    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n                        filterChain.doFilter(servletRequest,servletResponse);\r\n                    }\r\n                });\r\n    }","title":"Spring security filter chain is not working","body":"<p>i suggest you to you use AuthenticationEntryPoint\nand then add filters before or after entryPoint.</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .headers().frameOptions().disable()\n            .and().requestCache().requestCache(getHttpSessionRequestCache())\n            .and().exceptionHandling().authenticationEntryPoint(authenticationEntrypoint)\n            .and().authorizeRequests().anyRequest().authenticated().and()\n            .addFilterAfter(new myAFilter(), BasicAuthenticationFilter.class).addFilter(new Filter() {\n                @Override\n                public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n                    filterChain.doFilter(servletRequest,servletResponse);\n                }\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":10814699,"reputation":11,"user_id":7954118,"display_name":"Ranjini Varadharajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675463029,"creation_date":1675451478,"question_id":75340084,"body_markdown":"I am using Spring Security to validate my `GET` and `POST` requests. The auth mechanisms for `GET` and `POST` are not the same. The below snippet is from my `SecurityConfig`s configure method. \r\n\r\n`FilterA` is for `GET` request and I have defined a `customBAuthenticationManager` bean which implements `AuthenticationManager` for it. \r\n\r\n`FilterB` is for `POST` requests and I have defined `customAuthProvider` with `UserDetails` service. These `GET` and `POST` requests work fine when added alone. But when both these filters are added  one after the other, first request in the filter chain fails but the second request works fine. \r\n\r\nFor instance, with the below code, my `POST` request works fine but `GET` request (1st in the chain) throws 401 error. If I swap the order of `GET` and `POST`, then the `GET` would work fine but `POST` (1st in the chain) throws 403 error. \r\n\r\nBut all the cases, I could see that the custom authentication manager/provider work fine.\r\n\r\nCan someone help me understand what&#39;s going wrong here?\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t\tFilterA filtera = new FilterA();\r\n\t\tfiltera.setCheckForPrincipalChanges(true);\r\n\t\tfiltera.setAuthenticationManager(customBAuthenticationManager());\r\n\r\n\t\tFilterB filterb = new FilterB();\r\n\t\tfilterb.setCheckForPrincipalChanges(true);\r\n\t\tfilterb.setAuthenticationManager(authenticationManager());\r\n\r\n\t\thttpSecurity\r\n\t\t\t.headers()\r\n\t\t\t\t.frameOptions()\r\n\t\t\t\t\t.disable()\r\n\t\t\t\t.and()\r\n\t\t\t.mvcMatcher(&quot;/**&quot;)\r\n\t\t\t.csrf()\r\n\t\t\t\t.disable()\r\n\t\t\t.requestCache()\r\n\t\t\t\t.requestCache(getHttpSessionRequestCache())\r\n\t\t\t\t.and()\r\n\t\t\t.sessionManagement()\r\n\t\t\t\t.maximumSessions(1)\r\n\t\t\t\t.and()\r\n    \t\t\t.and()\r\n\t\t\t.addFilter(filtera)\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/getrequest/**&quot;).authenticated()\r\n    \t\t\t.and()\r\n\t\t\t.addFilter(filterb)\r\n\t\t\t.authenticationProvider(customAauthProvider())\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/postrequest/**&quot;).authenticated()\r\n    \t\t\t.and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.mvcMatchers(&quot;/different-open-request/**&quot;).permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t.httpBasic();\r\n```\r\n\r\nTried changing the order of the filters in filter chain. Tried removing one of the request from the filter chain, and that works fine. ","title":"Spring security filter chain is not working","body":"<p>I am using Spring Security to validate my <code>GET</code> and <code>POST</code> requests. The auth mechanisms for <code>GET</code> and <code>POST</code> are not the same. The below snippet is from my <code>SecurityConfig</code>s configure method.</p>\n<p><code>FilterA</code> is for <code>GET</code> request and I have defined a <code>customBAuthenticationManager</code> bean which implements <code>AuthenticationManager</code> for it.</p>\n<p><code>FilterB</code> is for <code>POST</code> requests and I have defined <code>customAuthProvider</code> with <code>UserDetails</code> service. These <code>GET</code> and <code>POST</code> requests work fine when added alone. But when both these filters are added  one after the other, first request in the filter chain fails but the second request works fine.</p>\n<p>For instance, with the below code, my <code>POST</code> request works fine but <code>GET</code> request (1st in the chain) throws 401 error. If I swap the order of <code>GET</code> and <code>POST</code>, then the <code>GET</code> would work fine but <code>POST</code> (1st in the chain) throws 403 error.</p>\n<p>But all the cases, I could see that the custom authentication manager/provider work fine.</p>\n<p>Can someone help me understand what's going wrong here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        FilterA filtera = new FilterA();\n        filtera.setCheckForPrincipalChanges(true);\n        filtera.setAuthenticationManager(customBAuthenticationManager());\n\n        FilterB filterb = new FilterB();\n        filterb.setCheckForPrincipalChanges(true);\n        filterb.setAuthenticationManager(authenticationManager());\n\n        httpSecurity\n            .headers()\n                .frameOptions()\n                    .disable()\n                .and()\n            .mvcMatcher(&quot;/**&quot;)\n            .csrf()\n                .disable()\n            .requestCache()\n                .requestCache(getHttpSessionRequestCache())\n                .and()\n            .sessionManagement()\n                .maximumSessions(1)\n                .and()\n                .and()\n            .addFilter(filtera)\n            .authorizeRequests()\n                .mvcMatchers(&quot;/getrequest/**&quot;).authenticated()\n                .and()\n            .addFilter(filterb)\n            .authenticationProvider(customAauthProvider())\n            .authorizeRequests()\n                .mvcMatchers(&quot;/postrequest/**&quot;).authenticated()\n                .and()\n            .authorizeRequests()\n                .mvcMatchers(&quot;/different-open-request/**&quot;).permitAll()\n                .and()\n            .httpBasic();\n</code></pre>\n<p>Tried changing the order of the filters in filter chain. Tried removing one of the request from the filter chain, and that works fine.</p>\n"},{"tags":["python","java","websocket","raspberry-pi","micronaut"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1673949931,"post_id":75144737,"comment_id":132605672,"body_markdown":"What happens if you run your python code on the same machine as the server? If it works than chances are it is a network problem.","body":"What happens if you run your python code on the same machine as the server? If it works than chances are it is a network problem."},{"owner":{"account_id":2426236,"reputation":183,"user_id":2118151,"accept_rate":75,"display_name":"Daniel Cazares"},"score":0,"creation_date":1673949969,"post_id":75144737,"comment_id":132605688,"body_markdown":"Can you clarify what you&#39;ve tried to do to troubleshoot so far?","body":"Can you clarify what you&#39;ve tried to do to troubleshoot so far?"},{"owner":{"account_id":26999501,"reputation":11,"user_id":20561010,"display_name":"Franz M"},"score":0,"creation_date":1673955125,"post_id":75144737,"comment_id":132607187,"body_markdown":"@DanielCazares I tried Federicos suggestion before asking this queston, and it worked.\nI made sure that everything isn&#39;t connected to &quot;localhost&quot;, but to the IP-Adress of my host machine instead","body":"@DanielCazares I tried Federicos suggestion before asking this queston, and it worked. I made sure that everything isn&#39;t connected to &quot;localhost&quot;, but to the IP-Adress of my host machine instead"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673957372,"post_id":75144737,"comment_id":132607850,"body_markdown":"@Franz M, On Windows, try to Temporarily turn off Windows Firewall. `Settings` -&gt; `Network &amp; Internet` -&gt; `Status` -&gt; `Windows Firewall` -&gt;  `Public network`\n-&gt; `Windows Defender Firewall` (`ON` -&gt; `Off`). This is to clarify whether the connection is refused because of Windows Firewall?","body":"@Franz M, On Windows, try to Temporarily turn off Windows Firewall. <code>Settings</code> -&gt; <code>Network &amp; Internet</code> -&gt; <code>Status</code> -&gt; <code>Windows Firewall</code> -&gt;  <code>Public network</code> -&gt; <code>Windows Defender Firewall</code> (<code>ON</code> -&gt; <code>Off</code>). This is to clarify whether the connection is refused because of Windows Firewall?"},{"owner":{"account_id":26999501,"reputation":11,"user_id":20561010,"display_name":"Franz M"},"score":0,"creation_date":1673958473,"post_id":75144737,"comment_id":132608222,"body_markdown":"@life888888 Turned off the public network firewall, still didn&#39;t work","body":"@life888888 Turned off the public network firewall, still didn&#39;t work"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673958710,"post_id":75144737,"comment_id":132608302,"body_markdown":"@Franz M, Can you execute your Python script on Windows to connect to Java Micronaut ServerWebSocket on the same machine?","body":"@Franz M, Can you execute your Python script on Windows to connect to Java Micronaut ServerWebSocket on the same machine?"},{"owner":{"account_id":26999501,"reputation":11,"user_id":20561010,"display_name":"Franz M"},"score":0,"creation_date":1673959795,"post_id":75144737,"comment_id":132608697,"body_markdown":"@life888888 I did execute the Python script on Windows before asking this question and it worked.\nMy problem is, is that the code for the client _specifically_ doesn&#39;t work on a Raspberry Pi. On Windows, everything is fine and works properly, but the problem start to arise as soon as the Raspberry Pi comes into play.\n\nSomething interesting to note is that the Pi can communicate with Windows when I am using a python socket instead of the Micronaut one.","body":"@life888888 I did execute the Python script on Windows before asking this question and it worked. My problem is, is that the code for the client <i>specifically</i> doesn&#39;t work on a Raspberry Pi. On Windows, everything is fine and works properly, but the problem start to arise as soon as the Raspberry Pi comes into play.  Something interesting to note is that the Pi can communicate with Windows when I am using a python socket instead of the Micronaut one."},{"owner":{"account_id":1300508,"reputation":594,"user_id":7076615,"accept_rate":92,"display_name":"Daniel Donnelly"},"score":0,"creation_date":1688502546,"post_id":75144737,"comment_id":135081629,"body_markdown":"Having the same issue.","body":"Having the same issue."}],"answers":[{"tags":[],"owner":{"account_id":26999501,"reputation":11,"user_id":20561010,"display_name":"Franz M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675461587,"creation_date":1674042336,"answer_id":75158763,"question_id":75144737,"body_markdown":"As [@life888888](https://stackoverflow.com/questions/75144737/raspberry-pi-unable-to-connect-to-windows-websocket#comment132607850_75144737) suggested, it had something to do with Windows firewall.\r\n\r\nBut instead of the public firewall being the problem, it was the one for the domain network instead.","title":"Raspberry Pi unable to connect to Windows Websocket","body":"<p>As <a href=\"https://stackoverflow.com/questions/75144737/raspberry-pi-unable-to-connect-to-windows-websocket#comment132607850_75144737\">@life888888</a> suggested, it had something to do with Windows firewall.</p>\n<p>But instead of the public firewall being the problem, it was the one for the domain network instead.</p>\n"}],"owner":{"account_id":26999501,"reputation":11,"user_id":20561010,"display_name":"Franz M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75158763,"answer_count":1,"score":1,"last_activity_date":1675461587,"creation_date":1673949733,"question_id":75144737,"body_markdown":"I am attempting to send data from a Python script running on a Raspberry Pi to a Java Micronaut ServerWebSocket running on a Windows machine, but I am getting `asyncio.exceptions.TimeoutError` errors during the process.\r\n\r\nI attempted to use the `websockets` library in Python on the Raspberry Pi to establish a websocket connection, but encountered a `ConnectionRefusedError`. Is this issue related to a network problem as mentioned [here](https://stackoverflow.com/a/29789333/20561010), and should I ask somewhere else like Superuser or Serverfault? Or is there another solution to this problem?","title":"Raspberry Pi unable to connect to Windows Websocket","body":"<p>I am attempting to send data from a Python script running on a Raspberry Pi to a Java Micronaut ServerWebSocket running on a Windows machine, but I am getting <code>asyncio.exceptions.TimeoutError</code> errors during the process.</p>\n<p>I attempted to use the <code>websockets</code> library in Python on the Raspberry Pi to establish a websocket connection, but encountered a <code>ConnectionRefusedError</code>. Is this issue related to a network problem as mentioned <a href=\"https://stackoverflow.com/a/29789333/20561010\">here</a>, and should I ask somewhere else like Superuser or Serverfault? Or is there another solution to this problem?</p>\n"},{"tags":["java","xml","android-studio"],"owner":{"account_id":27668325,"reputation":1,"user_id":21119690,"display_name":"Shad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675461478,"creation_date":1675379483,"question_id":75329864,"body_markdown":"I am trying to create an ```ImageButton``` and use it for adding a new note.\r\n\r\nBut when I click on that ```ImageButton```, a message appears (Failed) without mentioning the reason for the failure.\r\n\r\nThe **xml** layout:  \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;     encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto\r\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;match_parent&quot;\r\nandroid:background=&quot;@color/my_primary&quot;\r\nandroid:padding=&quot;16dp&quot;\r\ntools:context=&quot;.NoteDetailsActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/title_bar_layout&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/page_title&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Add New Note&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;32sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:layout_width=&quot;36dp&quot;\r\n            android:layout_height=&quot;36dp&quot;\r\n            android:id=&quot;@+id/save_note_btn&quot;\r\n            android:src=&quot;@drawable/ic_baseline_done_24&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            app:tint=&quot;@color/white&quot;\r\n            android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n    \r\n            /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/title_bar_layout&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        android:layout_marginVertical=&quot;26dp&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:background=&quot;@drawable/rounded_corner&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/notes_title_text&quot;\r\n            android:hint=&quot;Title&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_marginVertical=&quot;8dp&quot;\r\n            android:padding=&quot;12dp&quot;\r\n            android:textColor=&quot;@color/black&quot;/&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/notes_content_text&quot;\r\n            android:hint=&quot;Content&quot;\r\n            android:minLines=&quot;15&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:layout_marginVertical=&quot;8dp&quot;\r\n            android:padding=&quot;12dp&quot;\r\n            android:textColor=&quot;@color/black&quot;/&gt;\r\n    \r\n    \r\n    &lt;/LinearLayout&gt;\r\n    \r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/delete_note_text_view_btn&quot;\r\n        android:text=&quot;Delete note&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:textColor=&quot;#FF0000&quot;/&gt;\r\n```\r\n\r\nAnd this is my **Activity** class:\r\n```java\r\npackage easy.tuto.notespro;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.Timestamp;\r\nimport com.google.firebase.firestore.DocumentReference;\r\n\r\npublic class NoteDetailsActivity extends AppCompatActivity {\r\n\r\n    EditText titleEditText,contentEditText;\r\n    ImageButton saveNoteBtn;\r\n    TextView pageTitleTextView;\r\n    String title,content,docId;\r\n    boolean isEditMode = false;\r\n    TextView deleteNoteTextViewBtn;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_note_details);\r\n    \r\n        titleEditText = findViewById(R.id.notes_title_text);\r\n        contentEditText = findViewById(R.id.notes_content_text);\r\n        saveNoteBtn = findViewById(R.id.save_note_btn);\r\n        pageTitleTextView = findViewById(R.id.page_title);\r\n        deleteNoteTextViewBtn  = findViewById(R.id.delete_note_text_view_btn);\r\n    \r\n        //receive data\r\n        title = getIntent().getStringExtra(&quot;title&quot;);\r\n        content= getIntent().getStringExtra(&quot;content&quot;);\r\n        docId = getIntent().getStringExtra(&quot;docId&quot;);\r\n    \r\n        if(docId!=null &amp;&amp; !docId.isEmpty()){\r\n            isEditMode = true;\r\n        }\r\n    \r\n        titleEditText.setText(title);\r\n        contentEditText.setText(content);\r\n        if(isEditMode){\r\n            pageTitleTextView.setText(&quot;Edit your note&quot;);\r\n            deleteNoteTextViewBtn.setVisibility(View.VISIBLE);\r\n        }\r\n    \r\n        saveNoteBtn.setOnClickListener( (v)-&gt; saveNote());\r\n    \r\n        deleteNoteTextViewBtn.setOnClickListener((v)-&gt; deleteNoteFromFirebase() );\r\n    \r\n    }\r\n    \r\n    void saveNote(){\r\n        String noteTitle = titleEditText.getText().toString();\r\n        String noteContent = contentEditText.getText().toString();\r\n        if(noteTitle==null || noteTitle.isEmpty() ){\r\n            titleEditText.setError(&quot;Title is required&quot;);\r\n            return;\r\n        }\r\n        Note note = new Note();\r\n        note.setTitle(noteTitle);\r\n        note.setContent(noteContent);\r\n        note.setTimestamp(Timestamp.now());\r\n    \r\n        saveNoteToFirebase(note);\r\n    \r\n    }\r\n    \r\n    void saveNoteToFirebase(Note note){\r\n        DocumentReference documentReference;\r\n        if(isEditMode){\r\n            //update the note\r\n            documentReference = Utility.getCollectionReferenceForNotes().document(docId);\r\n        }else{\r\n            //create new note\r\n            documentReference = Utility.getCollectionReferenceForNotes().document();\r\n        }\r\n    \r\n    \r\n    \r\n        documentReference.set(note).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    //note is added\r\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Note added successfully&quot;);\r\n                    finish();\r\n                }else{\r\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Failed while adding note&quot;);\r\n                }\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    void deleteNoteFromFirebase(){\r\n        DocumentReference documentReference;\r\n            documentReference = Utility.getCollectionReferenceForNotes().document(docId);\r\n        documentReference.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    //note is deleted\r\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Note deleted successfully&quot;);\r\n                    finish();\r\n                }else{\r\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Failed while deleting note&quot;);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease help me find out the reason and how to solve the problem, thank you.","title":"Clicking on ImageButton prompts Failed without reason","body":"<p>I am trying to create an <code>ImageButton</code> and use it for adding a new note.</p>\n<p>But when I click on that <code>ImageButton</code>, a message appears (Failed) without mentioning the reason for the failure.</p>\n<p>The <strong>xml</strong> layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;     encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/my_primary&quot;\nandroid:padding=&quot;16dp&quot;\ntools:context=&quot;.NoteDetailsActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/title_bar_layout&quot;&gt;\n    \n        &lt;TextView\n            android:id=&quot;@+id/page_title&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Add New Note&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    \n        &lt;ImageButton\n            android:layout_width=&quot;36dp&quot;\n            android:layout_height=&quot;36dp&quot;\n            android:id=&quot;@+id/save_note_btn&quot;\n            android:src=&quot;@drawable/ic_baseline_done_24&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            app:tint=&quot;@color/white&quot;\n            android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n    \n            /&gt;\n    \n    &lt;/RelativeLayout&gt;\n    \n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/title_bar_layout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:padding=&quot;16dp&quot;\n        android:layout_marginVertical=&quot;26dp&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:background=&quot;@drawable/rounded_corner&quot;&gt;\n    \n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/notes_title_text&quot;\n            android:hint=&quot;Title&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_marginVertical=&quot;8dp&quot;\n            android:padding=&quot;12dp&quot;\n            android:textColor=&quot;@color/black&quot;/&gt;\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/notes_content_text&quot;\n            android:hint=&quot;Content&quot;\n            android:minLines=&quot;15&quot;\n            android:gravity=&quot;top&quot;\n            android:textSize=&quot;20sp&quot;\n            android:layout_marginVertical=&quot;8dp&quot;\n            android:padding=&quot;12dp&quot;\n            android:textColor=&quot;@color/black&quot;/&gt;\n    \n    \n    &lt;/LinearLayout&gt;\n    \n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/delete_note_text_view_btn&quot;\n        android:text=&quot;Delete note&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:gravity=&quot;center&quot;\n        android:textSize=&quot;18sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:textColor=&quot;#FF0000&quot;/&gt;\n</code></pre>\n<p>And this is my <strong>Activity</strong> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package easy.tuto.notespro;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.Timestamp;\nimport com.google.firebase.firestore.DocumentReference;\n\npublic class NoteDetailsActivity extends AppCompatActivity {\n\n    EditText titleEditText,contentEditText;\n    ImageButton saveNoteBtn;\n    TextView pageTitleTextView;\n    String title,content,docId;\n    boolean isEditMode = false;\n    TextView deleteNoteTextViewBtn;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_note_details);\n    \n        titleEditText = findViewById(R.id.notes_title_text);\n        contentEditText = findViewById(R.id.notes_content_text);\n        saveNoteBtn = findViewById(R.id.save_note_btn);\n        pageTitleTextView = findViewById(R.id.page_title);\n        deleteNoteTextViewBtn  = findViewById(R.id.delete_note_text_view_btn);\n    \n        //receive data\n        title = getIntent().getStringExtra(&quot;title&quot;);\n        content= getIntent().getStringExtra(&quot;content&quot;);\n        docId = getIntent().getStringExtra(&quot;docId&quot;);\n    \n        if(docId!=null &amp;&amp; !docId.isEmpty()){\n            isEditMode = true;\n        }\n    \n        titleEditText.setText(title);\n        contentEditText.setText(content);\n        if(isEditMode){\n            pageTitleTextView.setText(&quot;Edit your note&quot;);\n            deleteNoteTextViewBtn.setVisibility(View.VISIBLE);\n        }\n    \n        saveNoteBtn.setOnClickListener( (v)-&gt; saveNote());\n    \n        deleteNoteTextViewBtn.setOnClickListener((v)-&gt; deleteNoteFromFirebase() );\n    \n    }\n    \n    void saveNote(){\n        String noteTitle = titleEditText.getText().toString();\n        String noteContent = contentEditText.getText().toString();\n        if(noteTitle==null || noteTitle.isEmpty() ){\n            titleEditText.setError(&quot;Title is required&quot;);\n            return;\n        }\n        Note note = new Note();\n        note.setTitle(noteTitle);\n        note.setContent(noteContent);\n        note.setTimestamp(Timestamp.now());\n    \n        saveNoteToFirebase(note);\n    \n    }\n    \n    void saveNoteToFirebase(Note note){\n        DocumentReference documentReference;\n        if(isEditMode){\n            //update the note\n            documentReference = Utility.getCollectionReferenceForNotes().document(docId);\n        }else{\n            //create new note\n            documentReference = Utility.getCollectionReferenceForNotes().document();\n        }\n    \n    \n    \n        documentReference.set(note).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if(task.isSuccessful()){\n                    //note is added\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Note added successfully&quot;);\n                    finish();\n                }else{\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Failed while adding note&quot;);\n                }\n            }\n        });\n    \n    }\n    \n    void deleteNoteFromFirebase(){\n        DocumentReference documentReference;\n            documentReference = Utility.getCollectionReferenceForNotes().document(docId);\n        documentReference.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if(task.isSuccessful()){\n                    //note is deleted\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Note deleted successfully&quot;);\n                    finish();\n                }else{\n                    Utility.showToast(NoteDetailsActivity.this,&quot;Failed while deleting note&quot;);\n                }\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>Please help me find out the reason and how to solve the problem, thank you.</p>\n"},{"tags":["java","docker","maven"],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675460914,"creation_date":1675460914,"question_id":75341330,"body_markdown":"Small question regarding maven and the deploy command ```mvn deploy``` and push it to Dockerhub please.\r\n\r\nI have a small springboot project, very straightforward.\r\n\r\nI build and create a docker image from this project using ```mvn spring-boot:build-image``` after this command is run, I get a jar, but I also get a docker image which I can see using ```docker images```, very happy.\r\n\r\nMy next step would consist into running a small two lines shell script which does:\r\n```\r\ndocker tag myapp dockerhub/myapp\r\ndocker push dockerhub/myapp\r\n```\r\n\r\nTherefore, my pipeline can be summarized as:\r\nstep 1 maven to clean install build the jar + generate the docker image\r\nstep 2 docker to tag + docker push to docker hub.\r\n\r\nI am wondering, is it possible to simply use the maven deploy command, and have the deploy tagging and pushing to dockerhub please?\r\n\r\nWhat I tried:\r\nRuning the deploy command, but it is not pushing to dockerhub at all.\r\n\r\nWhat would be a way to leverage maven deploy, or maybe other maven commands, to have a pipeline build a jar + generate the docker image + tag it + push it please?\r\n\r\nI cannot afford any CI/CD pipeline, and this is light enough, so hoping to get a maven command which can also push to dockerhub.\r\n\r\nThank you\r\n","title":"maven+deploy =&gt; docker+tag+push","body":"<p>Small question regarding maven and the deploy command <code>mvn deploy</code> and push it to Dockerhub please.</p>\n<p>I have a small springboot project, very straightforward.</p>\n<p>I build and create a docker image from this project using <code>mvn spring-boot:build-image</code> after this command is run, I get a jar, but I also get a docker image which I can see using <code>docker images</code>, very happy.</p>\n<p>My next step would consist into running a small two lines shell script which does:</p>\n<pre><code>docker tag myapp dockerhub/myapp\ndocker push dockerhub/myapp\n</code></pre>\n<p>Therefore, my pipeline can be summarized as:\nstep 1 maven to clean install build the jar + generate the docker image\nstep 2 docker to tag + docker push to docker hub.</p>\n<p>I am wondering, is it possible to simply use the maven deploy command, and have the deploy tagging and pushing to dockerhub please?</p>\n<p>What I tried:\nRuning the deploy command, but it is not pushing to dockerhub at all.</p>\n<p>What would be a way to leverage maven deploy, or maybe other maven commands, to have a pipeline build a jar + generate the docker image + tag it + push it please?</p>\n<p>I cannot afford any CI/CD pipeline, and this is light enough, so hoping to get a maven command which can also push to dockerhub.</p>\n<p>Thank you</p>\n"},{"tags":["java","hashmap"],"answers":[{"comments":[{"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"score":0,"creation_date":1675446673,"post_id":75338464,"comment_id":132938169,"body_markdown":"thanks @WJS good option ... make sense :) . I will try and come back later.","body":"thanks @WJS good option ... make sense :) . I will try and come back later."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675460677,"creation_date":1675441463,"answer_id":75338464,"question_id":75337858,"body_markdown":"This may do what you want. Just filter out bad elements and assign to the same map.\r\n```\r\nHashMap&lt;String, HashMap&lt;String, String&gt;&gt; h = new HashMap&lt;&gt;();\r\n\r\nHashMap&lt;String, String&gt; h1 = new HashMap&lt;&gt;();\r\n\r\nh1.put(&quot;key10&quot;, &quot;value10&quot;);\r\nh1.put(&quot;key11&quot;, &quot;value11&quot;);\r\nh1.put(&quot;date&quot;, &quot;2018-10-18T00:00:57.907Z&quot;);\r\nh.put(&quot;1#100&quot;, h1);\r\n\r\nHashMap&lt;String, String&gt; h2 = new HashMap&lt;&gt;();\r\n\r\nh2.put(&quot;key20&quot;, &quot;value20&quot;);\r\nh2.put(&quot;key21&quot;, &quot;value21&quot;);\r\nh2.put(&quot;date&quot;, &quot;2023-02-04T10:00:00.907Z&quot;);\r\nh.put(&quot;2#000&quot;, h2);\r\n\r\n     \r\n\r\n\r\n// any instant after `now` will pass the filter and be put in the map\r\nPredicate&lt;String&gt; check = str -&gt; Instant.parse(str)\r\n.isAfter(Instant.now());\r\n\r\n\r\nh = h.entrySet().stream()\r\n        .filter(e -&gt; check.test(e.getValue().get(&quot;date&quot;)))\r\n        .collect(Collectors.toMap(Entry::getKey, Entry::getValue,\r\n                (a,b)-&gt;a,\r\n                HashMap::new));\r\n\r\nh.values().forEach(m -&gt; {\r\n    m.entrySet().forEach(System.out::println);\r\n});\r\n     \r\n```\r\nprints\r\n```  \r\ndate=2023-02-04T10:00:00.907Z\r\nkey21=value21\r\nkey20=value20\r\n```\r\nMy predicate simply deleted the date if it expired.  Yours was a tighter threshold.\r\n\r\n**Updated**     \r\n\r\nHere is another option in case building a new map takes too long. It uses an iterator to run thru the loop and modify the existing map by removing Maps with old dates.\r\n```\r\nIterator&lt;Entry&lt;String,Map&lt;String,String&gt;&gt;&gt; it = h.entrySet().iterator();\r\nwhile (it.hasNext()) {\r\n    Entry&lt;String,Map&lt;String, String&gt;&gt; e = it.next();\r\n    if (!check.test(e.getValue().get(&quot;date&quot;))) {\r\n        it.remove();\r\n    }\r\n} ","title":"delete from parent hashmap from a nested hashmap condition","body":"<p>This may do what you want. Just filter out bad elements and assign to the same map.</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt; h = new HashMap&lt;&gt;();\n\nHashMap&lt;String, String&gt; h1 = new HashMap&lt;&gt;();\n\nh1.put(&quot;key10&quot;, &quot;value10&quot;);\nh1.put(&quot;key11&quot;, &quot;value11&quot;);\nh1.put(&quot;date&quot;, &quot;2018-10-18T00:00:57.907Z&quot;);\nh.put(&quot;1#100&quot;, h1);\n\nHashMap&lt;String, String&gt; h2 = new HashMap&lt;&gt;();\n\nh2.put(&quot;key20&quot;, &quot;value20&quot;);\nh2.put(&quot;key21&quot;, &quot;value21&quot;);\nh2.put(&quot;date&quot;, &quot;2023-02-04T10:00:00.907Z&quot;);\nh.put(&quot;2#000&quot;, h2);\n\n     \n\n\n// any instant after `now` will pass the filter and be put in the map\nPredicate&lt;String&gt; check = str -&gt; Instant.parse(str)\n.isAfter(Instant.now());\n\n\nh = h.entrySet().stream()\n        .filter(e -&gt; check.test(e.getValue().get(&quot;date&quot;)))\n        .collect(Collectors.toMap(Entry::getKey, Entry::getValue,\n                (a,b)-&gt;a,\n                HashMap::new));\n\nh.values().forEach(m -&gt; {\n    m.entrySet().forEach(System.out::println);\n});\n     \n</code></pre>\n<p>prints</p>\n<pre><code>date=2023-02-04T10:00:00.907Z\nkey21=value21\nkey20=value20\n</code></pre>\n<p>My predicate simply deleted the date if it expired.  Yours was a tighter threshold.</p>\n<p><strong>Updated</strong></p>\n<p>Here is another option in case building a new map takes too long. It uses an iterator to run thru the loop and modify the existing map by removing Maps with old dates.</p>\n<pre><code>Iterator&lt;Entry&lt;String,Map&lt;String,String&gt;&gt;&gt; it = h.entrySet().iterator();\nwhile (it.hasNext()) {\n    Entry&lt;String,Map&lt;String, String&gt;&gt; e = it.next();\n    if (!check.test(e.getValue().get(&quot;date&quot;))) {\n        it.remove();\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75338464,"answer_count":1,"score":2,"last_activity_date":1675460677,"creation_date":1675438218,"question_id":75337858,"body_markdown":"I have the following structure \r\n\r\n    HashMap&lt;String, HashMap&lt;String, String&gt;&gt; h = new HashMap&lt;&gt;();\r\n\r\n    HashMap&lt;String, String&gt;&gt; h1 = new HashMap&lt;&gt;();\r\n\r\n    h1.put(&quot;key10&quot;, &quot;value10&quot;)\r\n    h1.put(&quot;key11&quot;, &quot;value11&quot;)\r\n    h1.put(&quot;date&quot;, &quot;2018-10-18T00:00:57.907Z&quot;)\r\n    h.put(&quot;1#100&quot;, h1)\r\n\r\n    HashMap&lt;String, String&gt;&gt; h2 = new HashMap&lt;&gt;();\r\n    \r\n    h2.put(&quot;key20&quot;, &quot;value20&quot;)\r\n    h2.put(&quot;key21&quot;, &quot;value21&quot;)\r\n    h2.put(&quot;date&quot;, &quot;2023-02-03T10:00:00.907Z&quot;)\r\n    h.put(&quot;2#000&quot;, h2)\r\n\r\nImagine I have many entries like the examples above.\r\nIn certain moment (scheduler) i have this requirement:\r\n\r\n - check all nested hash maps (for each/stream)\r\n - see if date condition is true\r\n - find parent key &lt;String&gt; and delete from main hash map\r\n\r\nIn this exemple the final hash map will be\r\n\r\n    h2.put(&quot;key20&quot;, &quot;value20&quot;)\r\n    h2.put(&quot;key21&quot;, &quot;value21&quot;)\r\n    h2.put(&quot;date&quot;, &quot;2023-02-03T10:00:00.907Z&quot;)\r\n    h.put(&quot;2#000&quot;, h2)\r\n    \r\n    h2 =&gt; {key20 =&gt; value20, key21 =&gt; value21, date =&gt; 2023-02-03T10:00:00.907Z}\r\n\r\ni have this code right now\r\n\r\n     h.forEach((k,v) -&gt; {\r\n                v.entrySet()\r\n                .stream()\r\n                .filter(e -&gt; e.getKey().equals(&quot;date&quot;))\r\n                .filter(t -&gt; Timestamp.from(Instant.now()).getTime() - Timestamp.valueOf(t.getValue()).getTime() &gt; milisDiff)\r\n                //need now to access parent and delete with by k key\r\n\r\n\r\nCan do in one step (lambda) or i need to have extra structure to collect parent keys and after proceed to delete within for each ?","title":"delete from parent hashmap from a nested hashmap condition","body":"<p>I have the following structure</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt; h = new HashMap&lt;&gt;();\n\nHashMap&lt;String, String&gt;&gt; h1 = new HashMap&lt;&gt;();\n\nh1.put(&quot;key10&quot;, &quot;value10&quot;)\nh1.put(&quot;key11&quot;, &quot;value11&quot;)\nh1.put(&quot;date&quot;, &quot;2018-10-18T00:00:57.907Z&quot;)\nh.put(&quot;1#100&quot;, h1)\n\nHashMap&lt;String, String&gt;&gt; h2 = new HashMap&lt;&gt;();\n\nh2.put(&quot;key20&quot;, &quot;value20&quot;)\nh2.put(&quot;key21&quot;, &quot;value21&quot;)\nh2.put(&quot;date&quot;, &quot;2023-02-03T10:00:00.907Z&quot;)\nh.put(&quot;2#000&quot;, h2)\n</code></pre>\n<p>Imagine I have many entries like the examples above.\nIn certain moment (scheduler) i have this requirement:</p>\n<ul>\n<li>check all nested hash maps (for each/stream)</li>\n<li>see if date condition is true</li>\n<li>find parent key  and delete from main hash map</li>\n</ul>\n<p>In this exemple the final hash map will be</p>\n<pre><code>h2.put(&quot;key20&quot;, &quot;value20&quot;)\nh2.put(&quot;key21&quot;, &quot;value21&quot;)\nh2.put(&quot;date&quot;, &quot;2023-02-03T10:00:00.907Z&quot;)\nh.put(&quot;2#000&quot;, h2)\n\nh2 =&gt; {key20 =&gt; value20, key21 =&gt; value21, date =&gt; 2023-02-03T10:00:00.907Z}\n</code></pre>\n<p>i have this code right now</p>\n<pre><code> h.forEach((k,v) -&gt; {\n            v.entrySet()\n            .stream()\n            .filter(e -&gt; e.getKey().equals(&quot;date&quot;))\n            .filter(t -&gt; Timestamp.from(Instant.now()).getTime() - Timestamp.valueOf(t.getValue()).getTime() &gt; milisDiff)\n            //need now to access parent and delete with by k key\n</code></pre>\n<p>Can do in one step (lambda) or i need to have extra structure to collect parent keys and after proceed to delete within for each ?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":10685095,"reputation":283,"user_id":7865867,"accept_rate":100,"display_name":"New2Java"},"score":0,"creation_date":1687502688,"post_id":75338103,"comment_id":134948553,"body_markdown":"Were you able to solve this issue?If yes, how did you solve this, please let me know","body":"Were you able to solve this issue?If yes, how did you solve this, please let me know"}],"owner":{"account_id":20958252,"reputation":3,"user_id":15398234,"display_name":"Ramzan Niazi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675459418,"creation_date":1675439508,"question_id":75338103,"body_markdown":"I have the code which create table of content like this:\r\n[image screenshot][1] ,\r\nbut i want resualt like this:\r\n[image screenshot][2] ,\r\n\r\nand this is my code \r\n\r\n     package com.example;\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.commons.compress.archivers.dump.InvalidFormatException;\r\n    import org.apache.poi.openxml4j.exceptions.OpenXML4JException;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSimpleField;\r\n    \r\nThese are libraries which I&#39;m using for this project \r\n\r\n&gt; and I&#39;m also using the maven package manager\r\n\r\n\r\n    public class toc {\r\n        public static void main(String[] args) throws IOException, OpenXML4JException {\r\n            XWPFDocument docTemplate = null;\r\n            try {\r\n\r\n            File file = new File(\r\n                    &quot;outfile02.docx&quot;); // &quot;C:\\\\Reports\\\\Template.docx&quot;;\r\n            FileInputStream fis = new FileInputStream(file);\r\n            docTemplate = new XWPFDocument(fis);\r\n            generateTOC(docTemplate);\r\n            saveDocument(docTemplate);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (docTemplate != null) {\r\n                docTemplate.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nsave function\r\n\r\n\r\n\r\n    private static void saveDocument(XWPFDocument docTemplate) throws FileNotFoundException, IOException {\r\n        FileOutputStream outputFile = null;\r\n        try {\r\n            outputFile = new FileOutputStream(&quot;outfile03.docx&quot;);\r\n            docTemplate.write(outputFile);\r\n        } finally {\r\n            if (outputFile != null) {\r\n                outputFile.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTOC generator function\r\n\r\n\r\n\r\n    public static void generateTOC(XWPFDocument document)\r\n            throws InvalidFormatException, FileNotFoundException, IOException {\r\n        String findText = &quot;${TOC}&quot;;\r\n        String replaceText = &quot;&quot;;\r\n        for (XWPFParagraph p : document.getParagraphs()) {\r\n            for (XWPFRun r : p.getRuns()) {\r\n                int pos = r.getTextPosition();\r\n                String text = r.getText(pos);\r\n                if (text != null &amp;&amp; text.contains(findText)) {\r\n                    text = text.replace(findText, replaceText);\r\n                    r.setText(text, 0);\r\n                    addField(p, &quot;TOC \\\\o \\&quot;1-3\\&quot; \\\\h \\\\z \\\\u&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nand this is last function\r\n\r\n\r\n\r\n    private static void addField(XWPFParagraph paragraph, String fieldName) {\r\n        CTSimpleField ctSimpleField = paragraph.getCTP().addNewFldSimple();\r\n        // ctSimpleField.setInstr(fieldName + &quot; \\\\h &quot;);\r\n        ctSimpleField.setInstr(fieldName);\r\n        ctSimpleField.addNewR().addNewT().setStringValue(&quot;outfile03.docx&quot;);\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t4zRv.jpg\r\n  [2]: https://i.stack.imgur.com/JlQOM.jpg","title":"How I can create TOC using apache poi","body":"<p>I have the code which create table of content like this:\n<a href=\"https://i.stack.imgur.com/t4zRv.jpg\" rel=\"nofollow noreferrer\">image screenshot</a> ,\nbut i want resualt like this:\n<a href=\"https://i.stack.imgur.com/JlQOM.jpg\" rel=\"nofollow noreferrer\">image screenshot</a> ,</p>\n<p>and this is my code</p>\n<pre><code> package com.example;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.commons.compress.archivers.dump.InvalidFormatException;\nimport org.apache.poi.openxml4j.exceptions.OpenXML4JException;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSimpleField;\n</code></pre>\n<p>These are libraries which I'm using for this project</p>\n<blockquote>\n<p>and I'm also using the maven package manager</p>\n</blockquote>\n<pre><code>public class toc {\n    public static void main(String[] args) throws IOException, OpenXML4JException {\n        XWPFDocument docTemplate = null;\n        try {\n\n        File file = new File(\n                &quot;outfile02.docx&quot;); // &quot;C:\\\\Reports\\\\Template.docx&quot;;\n        FileInputStream fis = new FileInputStream(file);\n        docTemplate = new XWPFDocument(fis);\n        generateTOC(docTemplate);\n        saveDocument(docTemplate);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if (docTemplate != null) {\n            docTemplate.close();\n        }\n    }\n}\n</code></pre>\n<p>save function</p>\n<pre><code>private static void saveDocument(XWPFDocument docTemplate) throws FileNotFoundException, IOException {\n    FileOutputStream outputFile = null;\n    try {\n        outputFile = new FileOutputStream(&quot;outfile03.docx&quot;);\n        docTemplate.write(outputFile);\n    } finally {\n        if (outputFile != null) {\n            outputFile.close();\n        }\n    }\n}\n</code></pre>\n<p>TOC generator function</p>\n<pre><code>public static void generateTOC(XWPFDocument document)\n        throws InvalidFormatException, FileNotFoundException, IOException {\n    String findText = &quot;${TOC}&quot;;\n    String replaceText = &quot;&quot;;\n    for (XWPFParagraph p : document.getParagraphs()) {\n        for (XWPFRun r : p.getRuns()) {\n            int pos = r.getTextPosition();\n            String text = r.getText(pos);\n            if (text != null &amp;&amp; text.contains(findText)) {\n                text = text.replace(findText, replaceText);\n                r.setText(text, 0);\n                addField(p, &quot;TOC \\\\o \\&quot;1-3\\&quot; \\\\h \\\\z \\\\u&quot;);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>and this is last function</p>\n<pre><code>private static void addField(XWPFParagraph paragraph, String fieldName) {\n    CTSimpleField ctSimpleField = paragraph.getCTP().addNewFldSimple();\n    // ctSimpleField.setInstr(fieldName + &quot; \\\\h &quot;);\n    ctSimpleField.setInstr(fieldName);\n    ctSimpleField.addNewR().addNewT().setStringValue(&quot;outfile03.docx&quot;);\n}\n\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"owner":{"account_id":14860946,"reputation":1,"user_id":10731772,"display_name":"Jason C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675455196,"answer_count":0,"score":0,"last_activity_date":1675459297,"creation_date":1675454731,"question_id":75340545,"body_markdown":"I am tasked with creating a box grid using Java with NetBeans v16 IDE.  I have implemented the code however the grid is being displayed. I can provide the actual code I am using if its needed.\r\n\r\nThe program runs and I have validated the Unicode values are properly formatted and I am not using a code for a question mark.  \r\n\r\n    private static final char WALL_TOP_BOTTOM = 0x2550;\r\n    private static final char WALL_LEFT_RIGHT = 0x2551;\r\n    private static final char WALL_TOP_LEFT_CORNER = 0x2554;\r\n    private static final char WALL_TOP_RIGHT_CORNER = 0x2557;\r\n    private static final char WALL_BOTTOM_RIGHT_CORNER = 0x255D;\r\n    private static final char WALL_BOTTOM_LEFT_CORNER = 0x255A;\r\n    private static final char BOX_CHAR = 0x2588;\r\n    private static final char EMPTY = 0x2591;\r\n\r\nWhen running the program I receive:\r\n```none\r\n-- exec-maven-plugin:3.0.0:exec (default-cli) @ GridApp ---\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\n????????????\r\nEnter (U)p, (D)own, (L)eft, (R)ight, or (E)xit:\r\n``` ","title":"Java Box Grid - Receiving Question Marks Instead of a Grid","body":"<p>I am tasked with creating a box grid using Java with NetBeans v16 IDE.  I have implemented the code however the grid is being displayed. I can provide the actual code I am using if its needed.</p>\n<p>The program runs and I have validated the Unicode values are properly formatted and I am not using a code for a question mark.</p>\n<pre><code>private static final char WALL_TOP_BOTTOM = 0x2550;\nprivate static final char WALL_LEFT_RIGHT = 0x2551;\nprivate static final char WALL_TOP_LEFT_CORNER = 0x2554;\nprivate static final char WALL_TOP_RIGHT_CORNER = 0x2557;\nprivate static final char WALL_BOTTOM_RIGHT_CORNER = 0x255D;\nprivate static final char WALL_BOTTOM_LEFT_CORNER = 0x255A;\nprivate static final char BOX_CHAR = 0x2588;\nprivate static final char EMPTY = 0x2591;\n</code></pre>\n<p>When running the program I receive:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-- exec-maven-plugin:3.0.0:exec (default-cli) @ GridApp ---\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\n????????????\nEnter (U)p, (D)own, (L)eft, (R)ight, or (E)xit:\n</code></pre>\n"},{"tags":["java","debugging","apache-httpclient-4.x","apache-httpcomponents","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1585898138,"post_id":61005981,"comment_id":107930895,"body_markdown":"Check if you have the same issue on version 4.x","body":"Check if you have the same issue on version 4.x"},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":1,"creation_date":1585931732,"post_id":61005981,"comment_id":107947768,"body_markdown":"Behavior of HttpClient 4.x is exactly the same by design. If someone does not want transparent content compression one can easily disable it when building HttpClient","body":"Behavior of HttpClient 4.x is exactly the same by design. If someone does not want transparent content compression one can easily disable it when building HttpClient"},{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1585945755,"post_id":61005981,"comment_id":107954102,"body_markdown":"@ok2c Thanks I have read your answer [here](https://stackoverflow.com/a/30218535) , yes this solution will prevent HttpClient from sending the `Accept-Encoding` header automatically, and If I set this header manually, HttpClient will not decompress the response content, is there any way to get the response decompressed and the response headers also ? should I ask another question for that ?","body":"@ok2c Thanks I have read your answer <a href=\"https://stackoverflow.com/a/30218535\">here</a> , yes this solution will prevent HttpClient from sending the <code>Accept-Encoding</code> header automatically, and If I set this header manually, HttpClient will not decompress the response content, is there any way to get the response decompressed and the response headers also ? should I ask another question for that ?"},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1585987036,"post_id":61005981,"comment_id":107962704,"body_markdown":"@Accountantم Those headers are removed for a good reason. But if you are absolutely sure you can replace the standard `ContentCompressionExec` with a custom exec interceptor.","body":"@Accountantم Those headers are removed for a good reason. But if you are absolutely sure you can replace the standard <code>ContentCompressionExec</code> with a custom exec interceptor."},{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1585987430,"post_id":61005981,"comment_id":107962815,"body_markdown":"@ok2c that seems like a painful job, I will check it, but if it&#39;s really hard to do, I have no way but sacrificing those headers :(","body":"@ok2c that seems like a painful job, I will check it, but if it&#39;s really hard to do, I have no way but sacrificing those headers :("}],"answers":[{"comments":[{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1585901067,"post_id":61006813,"comment_id":107932182,"body_markdown":"OK, yes it works only if I sent the `Accept-Encoding: identity` header, otherwise `HttpClient` will not show the `Content-Length` header :( .Regarding counting the bytes workaround, I don&#39;t want to do that as I will use the library intensively, and counting the bytes for every http request I do could produce a performance issue that can be avoided only if HttpClient tells me all the headers. Thank you very much for your help","body":"OK, yes it works only if I sent the <code>Accept-Encoding: identity</code> header, otherwise <code>HttpClient</code> will not show the <code>Content-Length</code> header :( .Regarding counting the bytes workaround, I don&#39;t want to do that as I will use the library intensively, and counting the bytes for every http request I do could produce a performance issue that can be avoided only if HttpClient tells me all the headers. Thank you very much for your help"},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":0,"creation_date":1585915336,"post_id":61006813,"comment_id":107938671,"body_markdown":"You&#39;re welcome - I wish I had a better solution for what you were after. Please mark this answer as accepted if you are satisfied with it.","body":"You&#39;re welcome - I wish I had a better solution for what you were after. Please mark this answer as accepted if you are satisfied with it."},{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1585945241,"post_id":61006813,"comment_id":107953911,"body_markdown":"Thanks Dave G, yes your answer helped me lot, and I upvoted it yesterday, however seeing the actual lines of code that causes this behavior in the accepted answer may help the later reader much, I wish I can accept both answers.","body":"Thanks Dave G, yes your answer helped me lot, and I upvoted it yesterday, however seeing the actual lines of code that causes this behavior in the accepted answer may help the later reader much, I wish I can accept both answers."}],"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585898168,"creation_date":1585898168,"answer_id":61006813,"question_id":61005981,"body_markdown":"The content-length may be potentially ignored in this case.\r\n\r\n    HttpGet request = new HttpGet(new URI(&quot;https://www.example.com&quot;));\r\n    request.setHeader(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\r\n    CloseableHttpResponse response = httpclient.execute(request);\r\n\r\nI can see the following\r\n\r\n\tHttpEntity entity = response.getEntity();\r\n    System.out.println(entity.getContentLength());\r\n    System.out.println(entity.getContentEncoding());\r\n\r\nOutput\r\n\r\n    ...\r\n    2020-04-03 03:04:17.760 DEBUG 34196 --- [           main] org.apache.hc.client5.http.headers       : http-outgoing-0 &lt;&lt; Content-Length: 1256\r\n    ...\r\n    1256\r\n    null\r\n\r\nI&#39;d like to direct your attention to this header being sent:\r\n\r\n    http-outgoing-0 &gt;&gt; Accept-Encoding: gzip, x-gzip, deflate\r\n\r\nThat tells the server that this client can accept gzip, x-gzip, and deflate content in response. The response is stating it is &#39;gzip&#39; encoded.\r\n\r\n    http-outgoing-0 &lt;&lt; Content-Encoding: gzip\r\n\r\nI believe that HttpClient is transparently handling this internally and making the content available.\r\n\r\nAs stated in the other article you referenced, one of the answers indicated that the method `EntityUtils.toByteArray(httpResponse.getEntity()).length` could be applied to get the content length.\r\n\r\n","title":"Apache HttpClient is not showing Content-Length and Content-Encoding headers of the response","body":"<p>The content-length may be potentially ignored in this case.</p>\n\n<pre><code>HttpGet request = new HttpGet(new URI(\"https://www.example.com\"));\nrequest.setHeader(\"Accept-Encoding\", \"identity\");\nCloseableHttpResponse response = httpclient.execute(request);\n</code></pre>\n\n<p>I can see the following</p>\n\n<pre><code>HttpEntity entity = response.getEntity();\nSystem.out.println(entity.getContentLength());\nSystem.out.println(entity.getContentEncoding());\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>...\n2020-04-03 03:04:17.760 DEBUG 34196 --- [           main] org.apache.hc.client5.http.headers       : http-outgoing-0 &lt;&lt; Content-Length: 1256\n...\n1256\nnull\n</code></pre>\n\n<p>I'd like to direct your attention to this header being sent:</p>\n\n<pre><code>http-outgoing-0 &gt;&gt; Accept-Encoding: gzip, x-gzip, deflate\n</code></pre>\n\n<p>That tells the server that this client can accept gzip, x-gzip, and deflate content in response. The response is stating it is 'gzip' encoded.</p>\n\n<pre><code>http-outgoing-0 &lt;&lt; Content-Encoding: gzip\n</code></pre>\n\n<p>I believe that HttpClient is transparently handling this internally and making the content available.</p>\n\n<p>As stated in the other article you referenced, one of the answers indicated that the method <code>EntityUtils.toByteArray(httpResponse.getEntity()).length</code> could be applied to get the content length.</p>\n"},{"comments":[{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1585945166,"post_id":61011806,"comment_id":107953878,"body_markdown":"Thank you very much Michael-O for your time in HttpComponents and for having an active account here on SO. But Michael I&#39;m greed and need both features (the decompressed content + all response headers) for example like curl.\nI don&#39;t have to sacrifice one of them, why are you removing these headers ? they are actual headers returned from the server. **Is there any way to get the decompressed content and the headers?**","body":"Thank you very much Michael-O for your time in HttpComponents and for having an active account here on SO. But Michael I&#39;m greed and need both features (the decompressed content + all response headers) for example like curl. I don&#39;t have to sacrifice one of them, why are you removing these headers ? they are actual headers returned from the server. <b>Is there any way to get the decompressed content and the headers?</b>"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1586003212,"post_id":61011806,"comment_id":107967435,"body_markdown":"@Accountantم As ok2c pointed out you cannot have both, unless you write custom code. You should perform the decompression manually. This will retain all headers. Regarding curl, I consider this to be a bug. I have raised an issue.","body":"@Accountantم As ok2c pointed out you cannot have both, unless you write custom code. You should perform the decompression manually. This will retain all headers. Regarding curl, I consider this to be a bug. I have raised an issue."},{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1586048050,"post_id":61011806,"comment_id":107982134,"body_markdown":"I have commented on the curl issue on GitHub, please Michael reconsider allowing your consumers to get the response headers as sent from the server, even if as raw string.","body":"I have commented on the curl issue on GitHub, please Michael reconsider allowing your consumers to get the response headers as sent from the server, even if as raw string."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1586075866,"post_id":61011806,"comment_id":107987485,"body_markdown":"@Accountantم you can have access. Disable automatic decompression.","body":"@Accountantم you can have access. Disable automatic decompression."},{"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"score":0,"creation_date":1586149245,"post_id":61011806,"comment_id":108010822,"body_markdown":"Michael :) you know I mean while having the response automatically decompressed. Anyway in the mean time I have nothing but sacrificing these headers, we have to finish the project in the planned time and we have no time for implementing our own decompression. Thank you for your time and effort in HttpComponents and **I hope you change your mind one day and think of it from another perspective as the user of the library not the maker of the library.**","body":"Michael :) you know I mean while having the response automatically decompressed. Anyway in the mean time I have nothing but sacrificing these headers, we have to finish the project in the planned time and we have no time for implementing our own decompression. Thank you for your time and effort in HttpComponents and <b>I hope you change your mind one day and think of it from another perspective as the user of the library not the maker of the library.</b>"}],"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675459231,"creation_date":1585916392,"answer_id":61011806,"question_id":61005981,"body_markdown":"HttpComponents committer here...\r\n\r\nYou did not closely pay attention what Dave G said. By default, `HttpClientBuilder` will enable transparent decompression and the reason why you don&#39;t see some headers anymore is [here](https://github.com/apache/httpcomponents-client/blob/92100e13a6aeb9ce04d23df2561c01b330cb961a/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/ContentCompressionExec.java#L141-L145):\r\n\r\n```java\r\nif (decoderFactory != null) {\r\n  response.setEntity(new DecompressingEntity(response.getEntity(), decoderFactory));\r\n  response.removeHeaders(HttpHeaders.CONTENT_LENGTH);\r\n  response.removeHeaders(HttpHeaders.CONTENT_ENCODING);\r\n  response.removeHeaders(HttpHeaders.CONTENT_MD5);\r\n} ...\r\n```\r\n\r\nRegarding the JDK HttpClient, it will not perform any transparent decompression, therefore you see the length of the compressed stream. You have to decompress on your own.\r\n\r\ncurl committer here...\r\n\r\nI have [raised an issue](https://github.com/curl/curl/issues/5182) too.\r\n\r\n*Update: 03 Feb. &#39;23* The secret codez to disable automatic decompression are:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createSimple();\r\n    // OR\r\n    CloseableHttpClient httpclient = HttpClients.custom().disableContentCompression().build();","title":"Apache HttpClient is not showing Content-Length and Content-Encoding headers of the response","body":"<p>HttpComponents committer here...</p>\n<p>You did not closely pay attention what Dave G said. By default, <code>HttpClientBuilder</code> will enable transparent decompression and the reason why you don't see some headers anymore is <a href=\"https://github.com/apache/httpcomponents-client/blob/92100e13a6aeb9ce04d23df2561c01b330cb961a/httpclient5/src/main/java/org/apache/hc/client5/http/impl/classic/ContentCompressionExec.java#L141-L145\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (decoderFactory != null) {\n  response.setEntity(new DecompressingEntity(response.getEntity(), decoderFactory));\n  response.removeHeaders(HttpHeaders.CONTENT_LENGTH);\n  response.removeHeaders(HttpHeaders.CONTENT_ENCODING);\n  response.removeHeaders(HttpHeaders.CONTENT_MD5);\n} ...\n</code></pre>\n<p>Regarding the JDK HttpClient, it will not perform any transparent decompression, therefore you see the length of the compressed stream. You have to decompress on your own.</p>\n<p>curl committer here...</p>\n<p>I have <a href=\"https://github.com/curl/curl/issues/5182\" rel=\"nofollow noreferrer\">raised an issue</a> too.</p>\n<p><em>Update: 03 Feb. '23</em> The secret codez to disable automatic decompression are:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createSimple();\n// OR\nCloseableHttpClient httpclient = HttpClients.custom().disableContentCompression().build();\n</code></pre>\n"}],"owner":{"account_id":7063700,"reputation":7125,"user_id":5407848,"accept_rate":94,"display_name":"Accountant م"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61011806,"answer_count":2,"score":2,"last_activity_date":1675459231,"creation_date":1585894112,"question_id":61005981,"body_markdown":"I installed [Apache httpcomponents-client-5.0.x](https://hc.apache.org/httpcomponents-client-5.0.x/index.html) and while reviewing the headers of the http response, I was shocked it doesn&#39;t show the `Content-Length` and `Content-Encoding` headers, this is the code I used for testing\r\n\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n    import com.sun.net.httpserver.Headers;\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    HttpGet request = new HttpGet(new URI(&quot;https://www.example.com&quot;));\r\n    CloseableHttpResponse response = httpclient.execute(request);\r\n    Header[] responseHeaders = response.getHeaders();\r\n    for(Header header: responseHeaders) {\t\t\t\t\r\n        System.out.println(header.getName());\r\n    }\r\n    // this prints all the headers except \r\n    // status code header\r\n    // Content-Length\r\n    // Content-Encoding\r\n\r\nNo matter what I try I get the same result, like this\r\n\r\n    Iterator&lt;Header&gt; headersItr = response.headerIterator();\r\n    while(headersItr.hasNext()) {\r\n        Header header = headersItr.next();\r\n        System.out.println(header.getName());\r\n    }\r\n\r\nOr this\r\n\r\n    HttpEntity entity = response.getEntity();\r\n    System.out.println(entity.getContentEncoding()); // NULL\r\n    System.out.println(entity.getContentLength());   // -1\r\n\r\nAccording to [this question](https://stackoverflow.com/questions/18726892/apache-httpclient-response-content-length-returns-1) that has been asked 6 years ago, it seems like an old issue even with older versions of Apache HttpClient.\r\n\r\nOf-course the server is actually returning those headers as confirmed by Wireshark, and Apache HttpClient logs itself\r\n\r\n    2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK\r\n    2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Encoding: gzip\r\n    2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Accept-Ranges: bytes\r\n    2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Age: 451956\r\n    2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Cache-Control: max-age=604800\r\n    2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Type: text/html; charset=UTF-8\r\n    2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Date: Fri, 03 Apr 2020 05:59:09 GMT\r\n    2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Etag: &quot;3147526947+gzip&quot;\r\n    2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Expires: Fri, 10 Apr 2020 05:59:09 GMT\r\n    2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT\r\n    2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Server: ECS (dcb/7EEB)\r\n    2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Vary: Accept-Encoding\r\n    2020-04-03 07:59:09,109 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; X-Cache: HIT\r\n    2020-04-03 07:59:09,109 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Length: 648\r\n\r\nBTW, `java.net.http` library known as [`JDK HttpClient`](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html) works great and show all the headers.\r\n\r\nIs there something wrong I did, or should I report a bug that been there for years ?\r\n\r\n\r\n\r\n","title":"Apache HttpClient is not showing Content-Length and Content-Encoding headers of the response","body":"<p>I installed <a href=\"https://hc.apache.org/httpcomponents-client-5.0.x/index.html\" rel=\"nofollow noreferrer\">Apache httpcomponents-client-5.0.x</a> and while reviewing the headers of the http response, I was shocked it doesn't show the <code>Content-Length</code> and <code>Content-Encoding</code> headers, this is the code I used for testing</p>\n\n<pre><code>import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport com.sun.net.httpserver.Headers;\n\nCloseableHttpClient httpclient = HttpClients.createDefault();\nHttpGet request = new HttpGet(new URI(\"https://www.example.com\"));\nCloseableHttpResponse response = httpclient.execute(request);\nHeader[] responseHeaders = response.getHeaders();\nfor(Header header: responseHeaders) {               \n    System.out.println(header.getName());\n}\n// this prints all the headers except \n// status code header\n// Content-Length\n// Content-Encoding\n</code></pre>\n\n<p>No matter what I try I get the same result, like this</p>\n\n<pre><code>Iterator&lt;Header&gt; headersItr = response.headerIterator();\nwhile(headersItr.hasNext()) {\n    Header header = headersItr.next();\n    System.out.println(header.getName());\n}\n</code></pre>\n\n<p>Or this</p>\n\n<pre><code>HttpEntity entity = response.getEntity();\nSystem.out.println(entity.getContentEncoding()); // NULL\nSystem.out.println(entity.getContentLength());   // -1\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/18726892/apache-httpclient-response-content-length-returns-1\">this question</a> that has been asked 6 years ago, it seems like an old issue even with older versions of Apache HttpClient.</p>\n\n<p>Of-course the server is actually returning those headers as confirmed by Wireshark, and Apache HttpClient logs itself</p>\n\n<pre><code>2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK\n2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Encoding: gzip\n2020-04-03 07:59:09,106 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Accept-Ranges: bytes\n2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Age: 451956\n2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Cache-Control: max-age=604800\n2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Type: text/html; charset=UTF-8\n2020-04-03 07:59:09,107 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Date: Fri, 03 Apr 2020 05:59:09 GMT\n2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Etag: \"3147526947+gzip\"\n2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Expires: Fri, 10 Apr 2020 05:59:09 GMT\n2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT\n2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Server: ECS (dcb/7EEB)\n2020-04-03 07:59:09,108 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Vary: Accept-Encoding\n2020-04-03 07:59:09,109 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; X-Cache: HIT\n2020-04-03 07:59:09,109 DEBUG [org.apache.hc.client5.http.headers] http-outgoing-0 &lt;&lt; Content-Length: 648\n</code></pre>\n\n<p>BTW, <code>java.net.http</code> library known as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\"><code>JDK HttpClient</code></a> works great and show all the headers.</p>\n\n<p>Is there something wrong I did, or should I report a bug that been there for years ?</p>\n"},{"tags":["java","azure","graphql"],"answers":[{"tags":[],"owner":{"account_id":11793351,"reputation":1057,"user_id":8628731,"display_name":"Billy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675459210,"creation_date":1675459210,"answer_id":75341122,"question_id":75302664,"body_markdown":"The problem was the update intellij from 2019.x.x to 2022.3.2 community version. The IDE comes with a kotlin plugin that fixes the issue.","title":"Building Graph-QL for Microsoft Azure // &quot;import okhttp3.Request&quot; not importing","body":"<p>The problem was the update intellij from 2019.x.x to 2022.3.2 community version. The IDE comes with a kotlin plugin that fixes the issue.</p>\n"}],"owner":{"account_id":11793351,"reputation":1057,"user_id":8628731,"display_name":"Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75341122,"answer_count":1,"score":0,"last_activity_date":1675459210,"creation_date":1675196174,"question_id":75302664,"body_markdown":"Trying to follow https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3 to build connectivity to Microsoft Azure AD.\r\nI have taken directly from the sample, so far I&#39;m able to import everything except the `import okhttp3.Request` jar? See screenshots showing I have dependency but not able to use. This is needed for the GraphServiceClient&lt;T&gt; type?\r\n\r\nThank you\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GqRbA.png\r\n  [2]: https://i.stack.imgur.com/yaaY1.png\r\n  [3]: https://i.stack.imgur.com/nFHIq.png","title":"Building Graph-QL for Microsoft Azure // &quot;import okhttp3.Request&quot; not importing","body":"<p>Trying to follow <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3</a> to build connectivity to Microsoft Azure AD.\nI have taken directly from the sample, so far I'm able to import everything except the <code>import okhttp3.Request</code> jar? See screenshots showing I have dependency but not able to use. This is needed for the GraphServiceClient type?</p>\n<p>Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/GqRbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GqRbA.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/yaaY1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yaaY1.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/nFHIq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFHIq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","exception"],"comments":[{"owner":{"account_id":4412829,"reputation":99,"user_id":3595211,"accept_rate":50,"display_name":"Ashish Srivastava"},"score":0,"creation_date":1675456471,"post_id":75340690,"comment_id":132940633,"body_markdown":"You can create a custom exception class that extends RuntimeException and define the error message and status code. Then in your GlobalExceptionHandler, you can catch this custom exception and return a ResponseEntity of type ApiResponse with the error message and status code. This way, your error handling logic remains in the GlobalExceptionHandler and your controller returns a consistent response format.","body":"You can create a custom exception class that extends RuntimeException and define the error message and status code. Then in your GlobalExceptionHandler, you can catch this custom exception and return a ResponseEntity of type ApiResponse with the error message and status code. This way, your error handling logic remains in the GlobalExceptionHandler and your controller returns a consistent response format."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1675458342,"post_id":75340690,"comment_id":132941077,"body_markdown":"Thanks a lot for your helps. I added my update to clarify you a little bit more. So, under these conditions, should I merge my `ApiResponse` and `ErrorResponse` classes and return the same type like `ResponseEntity&lt;MergedApiResponse&lt;T&gt;&gt;`  using `MergedApiResponse` ?","body":"Thanks a lot for your helps. I added my update to clarify you a little bit more. So, under these conditions, should I merge my <code>ApiResponse</code> and <code>ErrorResponse</code> classes and return the same type like <code>ResponseEntity&lt;MergedApiResponse&lt;T&gt;&gt;</code>  using <code>MergedApiResponse</code> ?"},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1675525764,"post_id":75340690,"comment_id":132949708,"body_markdown":"@AshishSrivastava Chico? Are you there?","body":"@AshishSrivastava Chico? Are you there?"}],"owner":{"display_name":"user21099360"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675458222,"creation_date":1675455754,"question_id":75340690,"body_markdown":"In my Spring Boot app, I implemented a global exception handler class as shown below:\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid() {\r\n        // code omitted for brevity \r\n\r\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\r\n    }\r\n    \r\n    // other type of exceptions\r\n}\r\n```\r\n\r\nAnd in my Controller, I return `ResponseEntity&lt;ApiResponse&gt;` as shown below:\r\n\r\n```\r\n@GetMapping(&quot;/categories/{id}&quot;)\r\npublic ResponseEntity&lt;ApiResponse&lt;CategoryResponse&gt;&gt; findById(@PathVariable long id){\r\n    final CategoryResponse response = categoryService.findById(id);\r\n    return ResponseEntity.ok(\r\n        new ApiResponse&lt;&gt;(\r\n            Instant.now(clock).toEpochMilli(), Constants.SUCCESS, response));\r\n}\r\n```\r\n\r\nHere is my `ApiResponse` class:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class ApiResponse&lt;T&gt; {\r\n\r\n    private Long timestamp;\r\n    private final String message;\r\n    private final T data;\r\n\r\n    public ApiResponse(Long timestamp, String message) {\r\n        this.timestamp = timestamp;\r\n        this.message = message;\r\n        this.data = null;\r\n    }\r\n}\r\n```\r\n\r\nMy problem is that; when there is an error, I cannot catch it on Controller and `GlobalExceptionHandler` directly return error in `ResponseEntity&lt;Object&gt;` type. When I send requests via Postman, I get the error message, but when I implemented a frontend app, I realized that this format is different than return type when there is no error. \r\n\r\nSo, I think I should manage the exception as well in the Controller and return the same type data to frontend so that the return value can easily be manipulated. How should I solve this problem? I do not want to use try-catch and do not move my business logic to the Controller. Instead, maybe I should change return type of `ResponseEntity&lt;Object&gt;` in the exception handler to a similar one in the Controller. Or may need to return exception to the Controller. What should I do? \r\n\r\n&lt;br/&gt;\r\n\r\n**Update:** I had already implemented a custom exception class:\r\n\r\n```\r\npublic class ElementAlreadyExistsException extends RuntimeException {\r\n\r\n    public ElementAlreadyExistsException() {\r\n        super();\r\n    }\r\n\r\n    public ElementAlreadyExistsException(String message) {\r\n        super(message);\r\n    }\r\n\r\n    public ElementAlreadyExistsException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\nAnd use it in my `GlobalExceptionHandler` as shown below:\r\n\r\n```\r\n@ExceptionHandler(ElementAlreadyExistsException.class)\r\n@ResponseStatus(HttpStatus.CONFLICT)\r\npublic ResponseEntity&lt;Object&gt; handleElementAlreadyExistsException(ElementAlreadyExistsException ex, WebRequest request) {\r\n    return buildErrorResponse(ex, HttpStatus.CONFLICT, request);\r\n}\r\n```\r\n\r\nAnd the errors are build as shown below:\r\n\r\n```\r\nprivate ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\r\n                                                      HttpStatus httpStatus,\r\n                                                      WebRequest request) {\r\n        ErrorResponse errorResponse = new ErrorResponse(httpStatus.value(), message);\r\n        return ResponseEntity.status(httpStatus).body(errorResponse);\r\n    }\r\n```\r\n\r\nAnd here is the response class that I use for exception:\r\n\r\n```\r\n@Data\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class ErrorResponse {\r\n\r\n    private final int status;\r\n    private final String message;\r\n    private String stackTrace;\r\n    private List&lt;ValidationError&gt; errors;\r\n\r\n    @Data\r\n    private static class ValidationError {\r\n        private final String field;\r\n        private final String message;\r\n    }\r\n\r\n    public void addValidationError(String field, String message) {\r\n        if (Objects.isNull(errors)) {\r\n            errors = new ArrayList&lt;&gt;();\r\n        }\r\n        errors.add(new ValidationError(field, message));\r\n    }\r\n}\r\n```","title":"Cannot catch exception in Controller in Spring Boot app","body":"<p>In my Spring Boot app, I implemented a global exception handler class as shown below:</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid() {\n        // code omitted for brevity \n\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\n    }\n    \n    // other type of exceptions\n}\n</code></pre>\n<p>And in my Controller, I return <code>ResponseEntity&lt;ApiResponse&gt;</code> as shown below:</p>\n<pre><code>@GetMapping(&quot;/categories/{id}&quot;)\npublic ResponseEntity&lt;ApiResponse&lt;CategoryResponse&gt;&gt; findById(@PathVariable long id){\n    final CategoryResponse response = categoryService.findById(id);\n    return ResponseEntity.ok(\n        new ApiResponse&lt;&gt;(\n            Instant.now(clock).toEpochMilli(), Constants.SUCCESS, response));\n}\n</code></pre>\n<p>Here is my <code>ApiResponse</code> class:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class ApiResponse&lt;T&gt; {\n\n    private Long timestamp;\n    private final String message;\n    private final T data;\n\n    public ApiResponse(Long timestamp, String message) {\n        this.timestamp = timestamp;\n        this.message = message;\n        this.data = null;\n    }\n}\n</code></pre>\n<p>My problem is that; when there is an error, I cannot catch it on Controller and <code>GlobalExceptionHandler</code> directly return error in <code>ResponseEntity&lt;Object&gt;</code> type. When I send requests via Postman, I get the error message, but when I implemented a frontend app, I realized that this format is different than return type when there is no error.</p>\n<p>So, I think I should manage the exception as well in the Controller and return the same type data to frontend so that the return value can easily be manipulated. How should I solve this problem? I do not want to use try-catch and do not move my business logic to the Controller. Instead, maybe I should change return type of <code>ResponseEntity&lt;Object&gt;</code> in the exception handler to a similar one in the Controller. Or may need to return exception to the Controller. What should I do?</p>\n<br/>\n<p><strong>Update:</strong> I had already implemented a custom exception class:</p>\n<pre><code>public class ElementAlreadyExistsException extends RuntimeException {\n\n    public ElementAlreadyExistsException() {\n        super();\n    }\n\n    public ElementAlreadyExistsException(String message) {\n        super(message);\n    }\n\n    public ElementAlreadyExistsException(String message, Throwable cause) {\n        super(message, cause);\n    }\n}\n</code></pre>\n<br/>\nAnd use it in my `GlobalExceptionHandler` as shown below:\n<pre><code>@ExceptionHandler(ElementAlreadyExistsException.class)\n@ResponseStatus(HttpStatus.CONFLICT)\npublic ResponseEntity&lt;Object&gt; handleElementAlreadyExistsException(ElementAlreadyExistsException ex, WebRequest request) {\n    return buildErrorResponse(ex, HttpStatus.CONFLICT, request);\n}\n</code></pre>\n<p>And the errors are build as shown below:</p>\n<pre><code>private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\n                                                      HttpStatus httpStatus,\n                                                      WebRequest request) {\n        ErrorResponse errorResponse = new ErrorResponse(httpStatus.value(), message);\n        return ResponseEntity.status(httpStatus).body(errorResponse);\n    }\n</code></pre>\n<p>And here is the response class that I use for exception:</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ErrorResponse {\n\n    private final int status;\n    private final String message;\n    private String stackTrace;\n    private List&lt;ValidationError&gt; errors;\n\n    @Data\n    private static class ValidationError {\n        private final String field;\n        private final String message;\n    }\n\n    public void addValidationError(String field, String message) {\n        if (Objects.isNull(errors)) {\n            errors = new ArrayList&lt;&gt;();\n        }\n        errors.add(new ValidationError(field, message));\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9547,"page":676,"page_size":100}
