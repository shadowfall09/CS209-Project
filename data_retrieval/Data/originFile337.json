{"items":[{"tags":["java","android","react-native","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":14382069,"reputation":31,"user_id":10388981,"display_name":"Yang Kang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677840775,"creation_date":1677840775,"answer_id":75626128,"question_id":75626057,"body_markdown":"Looks like a gradle version compatibility issue.\r\n\r\nYou can try to upgrade the kotlin version to 1.8(Modify in build.gradle).\r\n\r\nOr downgrade the gradle version to below 7.6(Modify in project/gradle/gradle-wrapper.properties).\r\n\r\nSee more about gradle version compatibility：\r\nhttps://docs.gradle.org/current/userguide/compatibility.html#kotlin","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>Looks like a gradle version compatibility issue.</p>\n<p>You can try to upgrade the kotlin version to 1.8(Modify in build.gradle).</p>\n<p>Or downgrade the gradle version to below 7.6(Modify in project/gradle/gradle-wrapper.properties).</p>\n<p>See more about gradle version compatibility：\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html#kotlin\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html#kotlin</a></p>\n"},{"tags":[],"owner":{"account_id":27598423,"reputation":11,"user_id":21064148,"display_name":"Ezinne Nnabugwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688126615,"creation_date":1687860948,"answer_id":76563854,"question_id":75626057,"body_markdown":"update the the kotlin version\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.8.0&#39;\r\n```","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>update the the kotlin version</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n</code></pre>\n"}],"owner":{"account_id":22542530,"reputation":111,"user_id":16732933,"display_name":"Rohan Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3113,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1688126615,"creation_date":1677840318,"question_id":75626057,"body_markdown":"I am getting kotlin version incompatibility issue. I had made changes to my project level build.gradle file then also the issue persist.\r\n\r\nI am getting the following error after Gradle sync:\r\nC:/Users/ADMIN/.gradle/caches/8.0.1/generated-gradle-jars/gradle-api-8.0.1.jar!/META-INF/configuration-cache.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n\r\nbuild.gradle\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;31.0.0&quot;\r\n            minSdkVersion = 24\r\n            compileSdkVersion = 31\r\n            kotlinVersion = &quot;1.6.0&quot;\r\n            targetSdkVersion = 31\r\n            googlePlayServicesAuthVersion = &quot;19.2.0&quot;\r\n    \r\n            if (System.properties[&#39;os.arch&#39;] == &quot;aarch64&quot;) {\r\n                // For M1 Users we need to use the NDK 24 which added support for aarch64\r\n                ndkVersion = &quot;24.0.8215888&quot;\r\n            } else {\r\n                // Otherwise we default to the side-by-side NDK version from AGP.\r\n                ndkVersion = &quot;21.4.7075529&quot;\r\n            }\r\n        }\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&#39;com.android.tools.build:gradle:7.2.1&#39;)\r\n            classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n            classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n            classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\r\n            classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            maven {\r\n                url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n            }\r\n            maven {\r\n                url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://www.jitpack.io&quot;\r\n            }\r\n            mavenCentral {\r\n                content {\r\n                    excludeGroup &quot;com.facebook.react&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>I am getting kotlin version incompatibility issue. I had made changes to my project level build.gradle file then also the issue persist.</p>\n<p>I am getting the following error after Gradle sync:\nC:/Users/ADMIN/.gradle/caches/8.0.1/generated-gradle-jars/gradle-api-8.0.1.jar!/META-INF/configuration-cache.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.</p>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 24\n        compileSdkVersion = 31\n        kotlinVersion = &quot;1.6.0&quot;\n        targetSdkVersion = 31\n        googlePlayServicesAuthVersion = &quot;19.2.0&quot;\n\n        if (System.properties['os.arch'] == &quot;aarch64&quot;) {\n            // For M1 Users we need to use the NDK 24 which added support for aarch64\n            ndkVersion = &quot;24.0.8215888&quot;\n        } else {\n            // Otherwise we default to the side-by-side NDK version from AGP.\n            ndkVersion = &quot;21.4.7075529&quot;\n        }\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath('com.android.tools.build:gradle:7.2.1')\n        classpath 'com.google.gms:google-services:4.3.14'\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n        classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        maven {\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\n        }\n        maven {\n            url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\n        }\n        maven {\n            url &quot;https://www.jitpack.io&quot;\n        }\n        mavenCentral {\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image","pdf","extract","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1688131069,"post_id":76588746,"comment_id":135036660,"body_markdown":"That&#39;s because of the mask that is larger and is evaluated when the BufferedImage is requested. Download PDFDebugger and look at the images, at the first page, go to `Resources/XObject/CL/Mask`.","body":"That&#39;s because of the mask that is larger and is evaluated when the BufferedImage is requested. Download PDFDebugger and look at the images, at the first page, go to <code>Resources&#47;XObject&#47;CL&#47;Mask</code>."}],"owner":{"account_id":24745997,"reputation":31,"user_id":18632162,"display_name":"tumuyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688126548,"creation_date":1688126548,"question_id":76588746,"body_markdown":"When I use pdfbox to extract jpeg 2000 image from a book, I found the BufferImage and ImageXObject have different resolution.\r\n\r\nThe pdf file: https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing\r\n\r\ncode to print resolution\r\n```\r\n    static boolean savePDImage(String name, PDImageXObject image) throws Exception {\r\n        if (null != image &amp;&amp; null != image.getImage()) {\r\n\r\n            BufferedImage bufferImage = image.getImage();\r\n            String rawSuffix = image.getSuffix().toLowerCase();\r\n            String suffix = image.getSuffix().toLowerCase();\r\n            File imgFile = new File(name + &quot;.&quot; + rawSuffix);\r\n\r\n            System.out.println(String.format(&quot;BufferImage %dx%d, \\tImageXObject %dx%d&quot;\r\n                        , bufferImage.getWidth(), bufferImage.getHeight(), image.getWidth(), image.getHeight()));\r\n            return true;\r\n            }\r\n    return false;\r\n    }\r\n```\r\n\r\nthe console print\r\n\r\n```\r\nBufferImage 983x1336, \tImageXObject 983x1336\r\nBufferImage 1965x2672, \tImageXObject 491x668\r\nBufferImage 980x1334, \tImageXObject 980x1334\r\nBufferImage 1959x2668, \tImageXObject 490x667\r\nBufferImage 274x218, \tImageXObject 274x218\r\nBufferImage 98x134, \tImageXObject 98x134\r\nBufferImage 180x224, \tImageXObject 180x224\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 958x1328, \tImageXObject 958x1328\r\nBufferImage 1923x2665, \tImageXObject 479x664\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 731x60, \tImageXObject 731x60\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\n```\r\n\r\nSo why the resolution is different and how to extract the image with ImageXObject resolution?\r\n\r\nI think I could use `bufferImage.getScaledInstance( image.getWidth(), image.getHeight(), Image.SCALE_SMOOTH)`, but it is not a good idea.","title":"In pdfbox, why does BufferImage and ImageXObject have different resolution","body":"<p>When I use pdfbox to extract jpeg 2000 image from a book, I found the BufferImage and ImageXObject have different resolution.</p>\n<p>The pdf file: <a href=\"https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing</a></p>\n<p>code to print resolution</p>\n<pre><code>    static boolean savePDImage(String name, PDImageXObject image) throws Exception {\n        if (null != image &amp;&amp; null != image.getImage()) {\n\n            BufferedImage bufferImage = image.getImage();\n            String rawSuffix = image.getSuffix().toLowerCase();\n            String suffix = image.getSuffix().toLowerCase();\n            File imgFile = new File(name + &quot;.&quot; + rawSuffix);\n\n            System.out.println(String.format(&quot;BufferImage %dx%d, \\tImageXObject %dx%d&quot;\n                        , bufferImage.getWidth(), bufferImage.getHeight(), image.getWidth(), image.getHeight()));\n            return true;\n            }\n    return false;\n    }\n</code></pre>\n<p>the console print</p>\n<pre><code>BufferImage 983x1336,   ImageXObject 983x1336\nBufferImage 1965x2672,  ImageXObject 491x668\nBufferImage 980x1334,   ImageXObject 980x1334\nBufferImage 1959x2668,  ImageXObject 490x667\nBufferImage 274x218,    ImageXObject 274x218\nBufferImage 98x134,     ImageXObject 98x134\nBufferImage 180x224,    ImageXObject 180x224\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 958x1328,   ImageXObject 958x1328\nBufferImage 1923x2665,  ImageXObject 479x664\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 731x60,     ImageXObject 731x60\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\n</code></pre>\n<p>So why the resolution is different and how to extract the image with ImageXObject resolution?</p>\n<p>I think I could use <code>bufferImage.getScaledInstance( image.getWidth(), image.getHeight(), Image.SCALE_SMOOTH)</code>, but it is not a good idea.</p>\n"},{"tags":["java","spring-boot","upgrade"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688117355,"post_id":76587652,"comment_id":135033808,"body_markdown":"Did you rebuild after upgrade to 17?","body":"Did you rebuild after upgrade to 17?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688117496,"post_id":76587652,"comment_id":135033841,"body_markdown":"Did you look at the stack trace and figure out what it is that causes the crash?","body":"Did you look at the stack trace and figure out what it is that causes the crash?"},{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1688119355,"post_id":76587652,"comment_id":135034220,"body_markdown":"I made mvn clean install -DskipTests and everything was ok with it, I&#39;ll try to check the stack trace","body":"I made mvn clean install -DskipTests and everything was ok with it, I&#39;ll try to check the stack trace"},{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1688126481,"post_id":76587652,"comment_id":135035625,"body_markdown":"Now it&#39;s ok, I had an old version of Spring..","body":"Now it&#39;s ok, I had an old version of Spring.."}],"answers":[{"tags":[],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126535,"creation_date":1688126535,"answer_id":76588745,"question_id":76587652,"body_markdown":"Java 17 needs Spring Boot 3.x.x","title":"Java HotSpot(TM) problem after changing java version from 8 to 17","body":"<p>Java 17 needs Spring Boot 3.x.x</p>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688126535,"creation_date":1688117188,"question_id":76587652,"body_markdown":"during running project after upgrade from java 8 to java 17 the first line is red text:\r\n&quot;Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.&quot;\r\n\r\nAfter that I have got standard start with the logo of spring and next an exception &quot;java.lang.IllegalStateException: Cannot load configuration class: com.globema.geoplatform.mapservices.auth.AuthenticationServerApplication\r\n[...]\r\nCaused by: java.lang.ExceptionInInitializerError: null&quot;\r\n\r\nDoes anyone know the way to resolve it? ","title":"Java HotSpot(TM) problem after changing java version from 8 to 17","body":"<p>during running project after upgrade from java 8 to java 17 the first line is red text:\n&quot;Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.&quot;</p>\n<p>After that I have got standard start with the logo of spring and next an exception &quot;java.lang.IllegalStateException: Cannot load configuration class: com.globema.geoplatform.mapservices.auth.AuthenticationServerApplication\n[...]\nCaused by: java.lang.ExceptionInInitializerError: null&quot;</p>\n<p>Does anyone know the way to resolve it?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687875545,"post_id":76565734,"comment_id":134996159,"body_markdown":"What are you using to test the api? Postman?","body":"What are you using to test the api? Postman?"},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687875731,"post_id":76565734,"comment_id":134996217,"body_markdown":"I have tested with both Postman and with a normal .http file.","body":"I have tested with both Postman and with a normal .http file."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687875808,"post_id":76565734,"comment_id":134996241,"body_markdown":"Try adding @EnableWebSecurity annotation on security config class","body":"Try adding @EnableWebSecurity annotation on security config class"},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687876216,"post_id":76565734,"comment_id":134996336,"body_markdown":"I have added it, but it did not solve the issue.","body":"I have added it, but it did not solve the issue."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687876236,"post_id":76565734,"comment_id":134996340,"body_markdown":"Disable CSRF, or make sure your token is included in your post request.","body":"Disable CSRF, or make sure your token is included in your post request."},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1688026865,"post_id":76565734,"comment_id":135019380,"body_markdown":"I have disabled csrf in the SecurityConfig, did not fix the issue. Updated original post.","body":"I have disabled csrf in the SecurityConfig, did not fix the issue. Updated original post."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687875132,"creation_date":1687875132,"answer_id":76565761,"question_id":76565734,"body_markdown":"You might use `antMatchers` instead:\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests(requests -&gt; requests\r\n                        .antMatchers(&quot;/users&quot;).permitAll()\r\n                        .antMatchers(&quot;/test&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n`requestMatchers` is used when you need some complex matching based on other request conditions like headers, parameters, etc., when `antMatchers` is used to match on the basis of ant-like path patterns","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>You might use <code>antMatchers</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(requests -&gt; requests\n                        .antMatchers(&quot;/users&quot;).permitAll()\n                        .antMatchers(&quot;/test&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><code>requestMatchers</code> is used when you need some complex matching based on other request conditions like headers, parameters, etc., when <code>antMatchers</code> is used to match on the basis of ant-like path patterns</p>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1688018639,"creation_date":1688018639,"answer_id":76578409,"question_id":76565734,"body_markdown":"Put the below annotation on security config : \r\n\r\n    @EnableWebSecurity   \r\n\r\n\r\nFor more about spring boot 3, you can visit the below official spring site\r\n\r\n https://spring.io/guides/gs/securing-web/","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>Put the below annotation on security config :</p>\n<pre><code>@EnableWebSecurity   \n</code></pre>\n<p>For more about spring boot 3, you can visit the below official spring site</p>\n<p><a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/securing-web/</a></p>\n"}],"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688126483,"creation_date":1687874922,"question_id":76565734,"body_markdown":"I have a Spring Boot application where I&#39;m trying to create REST endpoints. However, when I try to access the `/users` or `/test` endpoints, I receive a 404 error. I suspect the issue might be related to the component scanning configuration and the use of `@ComponentScan` annotation.\r\n\r\nHere&#39;s an overview of my project structure and code:\r\n\r\n\r\n**BackendApplication**\r\n```\r\n@SpringBootApplication\r\n@EnableWebSecurity\r\n@ComponentScan(basePackages = {&quot;com.kaquya.backend.configs&quot;})\r\npublic class BackendApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n**UserController**\r\n```\r\n@RestController\r\npublic class UserController {\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/users&quot;)\r\n    public User createUser(@RequestBody User user) {\r\n        return userService.register(user.getUsername(), user.getPassword(), user.getEmail());\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String testEndpoint() {\r\n        return &quot;this is a test endpoint&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**UserService**\r\n```\r\n@Service\r\npublic class UserService {\r\n    private final UserExtractor userExtractor;\r\n    private final UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository, UserExtractor userExtractor) {\r\n        this.userRepository = userRepository;\r\n        this.userExtractor = userExtractor;\r\n    }\r\n\r\n    public User register(String username, String password, String email) {\r\n        User existingUser = userExtractor.findByUsername(username);\r\n\r\n        if(existingUser != null) {\r\n            throw new RuntimeException(&quot;Username already exists&quot;);\r\n        }\r\n\r\n        User user = new User();\r\n        user.setUsername(username);\r\n        user.setPassword(password);\r\n        user.setEmail(email);\r\n\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n**UserExtractor**\r\n```\r\n@Repository\r\npublic interface UserExtractor {\r\n    User findByUsername(String username);\r\n}\r\n```\r\n\r\n**UserRepository**\r\n```\r\n@Repository\r\npublic interface UserRepository {\r\n    User save(User user);\r\n}\r\n```\r\n\r\n**UserRepositoryImpl**\r\n```\r\n@Repository\r\npublic class UserRepositoryImpl implements UserRepository {\r\n    private final JdbcTemplate jdbcTemplate;\r\n\r\n    @Value(&quot;${queries.insertUser}&quot;)\r\n    private String insertUserQuery;\r\n\r\n    public UserRepositoryImpl(JdbcTemplate jdbcTemplate) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    @Override\r\n    public User save(User user) {\r\n        String hashedPassword = PasswordHasherService.hashPassword(user.getPassword());\r\n\r\n        jdbcTemplate.update(\r\n                insertUserQuery,\r\n                user.getUsername(),\r\n                hashedPassword,\r\n                user.getEmail()\r\n        );\r\n\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\n**PropertyConfig**\r\n```\r\n@Configuration\r\npublic class PropertyConfig {\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\r\n        configurer.setLocation(new ClassPathResource(&quot;queries/user_queries.xml&quot;));\r\n        return configurer;\r\n    }\r\n}\r\n```\r\n\r\n**SecurityConfig**\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .anyRequest().permitAll()\r\n                )\r\n                .csrf(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nI suspect that the issue might be related to the `@ComponentScan` annotation in the `BackendApplication` class. Currently, it scans only the `&quot;com.kaquya.backend.configs&quot;` package, which means other components might be ignored. However, when I try to add additional packages to the `@ComponentScan` annotation, I encounter errors related to the queries defined in the `PropertyConfig` class.\r\n\r\nI&#39;m using Java Spring Boot v3.1.1, and I&#39;m aware that certain things like `mvcMatchers`, `antMatchers`, `WebSecurityConfigurerAdapter`, and `authorizeRequests` have been deprecated or removed.\r\n\r\nCould you please help me identify the issue and suggest a solution to resolve the 404 error and properly configure component scanning in my Spring Boot application?","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>I have a Spring Boot application where I'm trying to create REST endpoints. However, when I try to access the <code>/users</code> or <code>/test</code> endpoints, I receive a 404 error. I suspect the issue might be related to the component scanning configuration and the use of <code>@ComponentScan</code> annotation.</p>\n<p>Here's an overview of my project structure and code:</p>\n<p><strong>BackendApplication</strong></p>\n<pre><code>@SpringBootApplication\n@EnableWebSecurity\n@ComponentScan(basePackages = {&quot;com.kaquya.backend.configs&quot;})\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>UserController</strong></p>\n<pre><code>@RestController\npublic class UserController {\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(value = &quot;/users&quot;)\n    public User createUser(@RequestBody User user) {\n        return userService.register(user.getUsername(), user.getPassword(), user.getEmail());\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String testEndpoint() {\n        return &quot;this is a test endpoint&quot;;\n    }\n}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre><code>@Service\npublic class UserService {\n    private final UserExtractor userExtractor;\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository, UserExtractor userExtractor) {\n        this.userRepository = userRepository;\n        this.userExtractor = userExtractor;\n    }\n\n    public User register(String username, String password, String email) {\n        User existingUser = userExtractor.findByUsername(username);\n\n        if(existingUser != null) {\n            throw new RuntimeException(&quot;Username already exists&quot;);\n        }\n\n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(password);\n        user.setEmail(email);\n\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<p><strong>UserExtractor</strong></p>\n<pre><code>@Repository\npublic interface UserExtractor {\n    User findByUsername(String username);\n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>@Repository\npublic interface UserRepository {\n    User save(User user);\n}\n</code></pre>\n<p><strong>UserRepositoryImpl</strong></p>\n<pre><code>@Repository\npublic class UserRepositoryImpl implements UserRepository {\n    private final JdbcTemplate jdbcTemplate;\n\n    @Value(&quot;${queries.insertUser}&quot;)\n    private String insertUserQuery;\n\n    public UserRepositoryImpl(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    @Override\n    public User save(User user) {\n        String hashedPassword = PasswordHasherService.hashPassword(user.getPassword());\n\n        jdbcTemplate.update(\n                insertUserQuery,\n                user.getUsername(),\n                hashedPassword,\n                user.getEmail()\n        );\n\n        return user;\n    }\n}\n</code></pre>\n<p><strong>PropertyConfig</strong></p>\n<pre><code>@Configuration\npublic class PropertyConfig {\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\n        configurer.setLocation(new ClassPathResource(&quot;queries/user_queries.xml&quot;));\n        return configurer;\n    }\n}\n</code></pre>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .anyRequest().permitAll()\n                )\n                .csrf(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>I suspect that the issue might be related to the <code>@ComponentScan</code> annotation in the <code>BackendApplication</code> class. Currently, it scans only the <code>&quot;com.kaquya.backend.configs&quot;</code> package, which means other components might be ignored. However, when I try to add additional packages to the <code>@ComponentScan</code> annotation, I encounter errors related to the queries defined in the <code>PropertyConfig</code> class.</p>\n<p>I'm using Java Spring Boot v3.1.1, and I'm aware that certain things like <code>mvcMatchers</code>, <code>antMatchers</code>, <code>WebSecurityConfigurerAdapter</code>, and <code>authorizeRequests</code> have been deprecated or removed.</p>\n<p>Could you please help me identify the issue and suggest a solution to resolve the 404 error and properly configure component scanning in my Spring Boot application?</p>\n"},{"tags":["java","microsoft-exchange"],"comments":[{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1687269205,"post_id":73932408,"comment_id":134910921,"body_markdown":"What is the type of `recipientsList` ? Is it a `String` or an [`EmailAddress`](http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/microsoft/exchange/webservices/data/property/complex/EmailAddress.html) ?","body":"What is the type of <code>recipientsList</code> ? Is it a <code>String</code> or an <a href=\"http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/microsoft/exchange/webservices/data/property/complex/EmailAddress.html\" rel=\"nofollow noreferrer\"><code>EmailAddress</code></a> ?"}],"answers":[{"tags":[],"owner":{"account_id":27477815,"reputation":16,"user_id":20965489,"display_name":"Primycha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688126163,"creation_date":1687267799,"answer_id":76515264,"question_id":73932408,"body_markdown":"If you have an array of recipients you should be able to loop that array and call the .add every time. \r\nIf getToRecipient implements .addrange then you should be able to just pass the array to .addrange. \r\n\r\nYou can try this: \r\n````\r\nExchangeService service = new ExchangeService();\r\nWebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\r\nservice.setCredentials((ExchangeCredentials) webCredentials);\r\nservice.setUrl(new URI(&quot;https://webmail.com&quot;));\r\ntry {\r\n    StringBuilder strBldr = new StringBuilder();\r\n    strBldr.append(converStringToUrlDecoded(bodyMail));\r\n    EmailMessage message = new EmailMessage(service);\r\n    message.setSubject(converStringToUrlDecoded(subject));\r\n    message.setBody(new MessageBody(strBldr.toString()));\r\n\r\n    foreach(var r in recipientsList){\r\n        message.getToRecipients().add(r);\r\n    }\r\n        \r\n    message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\r\n    message.sendAndSaveCopy();\r\n} \r\ncatch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(&quot;message sent&quot;);\r\n````\r\n\r\nOptionally if message.getToRecipients() implements the AddRange() method try this (replace the foreach loop with below):\r\n````\r\nmessage.getToRecipients().addRange(recipientsList);\r\n````","title":"Multiple Recipients using Microsoft exchange","body":"<p>If you have an array of recipients you should be able to loop that array and call the .add every time.\nIf getToRecipient implements .addrange then you should be able to just pass the array to .addrange.</p>\n<p>You can try this:</p>\n<pre><code>ExchangeService service = new ExchangeService();\nWebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\nservice.setCredentials((ExchangeCredentials) webCredentials);\nservice.setUrl(new URI(&quot;https://webmail.com&quot;));\ntry {\n    StringBuilder strBldr = new StringBuilder();\n    strBldr.append(converStringToUrlDecoded(bodyMail));\n    EmailMessage message = new EmailMessage(service);\n    message.setSubject(converStringToUrlDecoded(subject));\n    message.setBody(new MessageBody(strBldr.toString()));\n\n    foreach(var r in recipientsList){\n        message.getToRecipients().add(r);\n    }\n        \n    message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\n    message.sendAndSaveCopy();\n} \ncatch (Exception e) {\n    e.printStackTrace();\n}\nSystem.out.println(&quot;message sent&quot;);\n</code></pre>\n<p>Optionally if message.getToRecipients() implements the AddRange() method try this (replace the foreach loop with below):</p>\n<pre><code>message.getToRecipients().addRange(recipientsList);\n</code></pre>\n"}],"owner":{"account_id":13039357,"reputation":9,"user_id":9423213,"display_name":"Sekti Andarbeni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515264,"answer_count":1,"score":0,"last_activity_date":1688126163,"creation_date":1664782789,"question_id":73932408,"body_markdown":"I was Success to sending email using Microsoft exchange, but it just 1 Recipient.\r\nI want to try send multiple Recipients.\r\n\r\n    ExchangeService service = new ExchangeService();\r\n        WebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\r\n        service.setCredentials((ExchangeCredentials) webCredentials);\r\n        service.setUrl(new URI(&quot;https://webmail.com&quot;));\r\n        try {\r\n            StringBuilder strBldr = new StringBuilder();\r\n            strBldr.append(converStringToUrlDecoded(bodyMail));\r\n            EmailMessage message = new EmailMessage(service);\r\n            message.setSubject(converStringToUrlDecoded(subject));\r\n            message.setBody(new MessageBody(strBldr.toString()));\r\n            message.getToRecipients().add(recipientsList);\r\n            message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\r\n            message.sendAndSaveCopy();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;message sent&quot;);\r\n\r\nThis is my code with single recipient.","title":"Multiple Recipients using Microsoft exchange","body":"<p>I was Success to sending email using Microsoft exchange, but it just 1 Recipient.\nI want to try send multiple Recipients.</p>\n<pre><code>ExchangeService service = new ExchangeService();\n    WebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\n    service.setCredentials((ExchangeCredentials) webCredentials);\n    service.setUrl(new URI(&quot;https://webmail.com&quot;));\n    try {\n        StringBuilder strBldr = new StringBuilder();\n        strBldr.append(converStringToUrlDecoded(bodyMail));\n        EmailMessage message = new EmailMessage(service);\n        message.setSubject(converStringToUrlDecoded(subject));\n        message.setBody(new MessageBody(strBldr.toString()));\n        message.getToRecipients().add(recipientsList);\n        message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\n        message.sendAndSaveCopy();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;message sent&quot;);\n</code></pre>\n<p>This is my code with single recipient.</p>\n"},{"tags":["java","spring","hibernate-4.x"],"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1407847381,"post_id":25262577,"comment_id":39365654,"body_markdown":"It seems that [here](http://stackoverflow.com/questions/4530572/org-hibernate-mappingexception-unknown-entity) they have already solved the problem","body":"It seems that <a href=\"http://stackoverflow.com/questions/4530572/org-hibernate-mappingexception-unknown-entity\">here</a> they have already solved the problem"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643473848,"post_id":25262577,"comment_id":125351488,"body_markdown":"A related question: [java - How to save multiple objects via ArrayList in hibernate?](https://stackoverflow.com/questions/38923108/how-to-save-multiple-objects-via-arraylist-in-hibernate).","body":"A related question: <a href=\"https://stackoverflow.com/questions/38923108/how-to-save-multiple-objects-via-arraylist-in-hibernate\">java - How to save multiple objects via ArrayList in hibernate?</a>."}],"answers":[{"tags":[],"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407841492,"creation_date":1407841492,"answer_id":25262676,"question_id":25262577,"body_markdown":"You cannot pass a collection of objects to the session object for persisting. As per the [Session javadoc][1], the save accepts a Object of the persistent class\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html#saveOrUpdate(java.lang.Object)\r\n\r\nsee if this answer helps you : https://stackoverflow.com/questions/17083284/hibernate-saveorupdate-large-data","title":"org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList;","body":"<p>You cannot pass a collection of objects to the session object for persisting. As per the <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html#saveOrUpdate(java.lang.Object)\" rel=\"nofollow noreferrer\">Session javadoc</a>, the save accepts a Object of the persistent class</p>\n\n<p>see if this answer helps you : <a href=\"https://stackoverflow.com/questions/17083284/hibernate-saveorupdate-large-data\">Hibernate saveOrUpdate large data</a></p>\n"}],"owner":{"account_id":2115385,"reputation":71,"user_id":1879835,"accept_rate":20,"display_name":"user1879835"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688125753,"creation_date":1407841155,"question_id":25262577,"body_markdown":"I&#39;ve recently upgraded hibernate version from 3.0 to 4.0 and most of the things were working fine except when I tried to save list of entities. If I save each entity separately I&#39;m not getting any exception but when I try to save the entire list, getting the following exception:   \r\n\r\n&gt; org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList; nested exception is org.hibernate.MappingException: Unknown entity: java.util.ArrayList\r\n\r\ncode:\r\n\r\n    this.getHibernateTemplate().saveOrUpdate(entityObject) // Results in exception\r\n\r\n\r\nSession configuration: \r\n\r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;domain&quot;&gt;\r\n    \t\t&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${jdbc.dialect}&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nYour help is appreciated. ","title":"org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList;","body":"<p>I've recently upgraded hibernate version from 3.0 to 4.0 and most of the things were working fine except when I tried to save list of entities. If I save each entity separately I'm not getting any exception but when I try to save the entire list, getting the following exception:   </p>\n\n<blockquote>\n  <p>org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList; nested exception is org.hibernate.MappingException: Unknown entity: java.util.ArrayList</p>\n</blockquote>\n\n<p>code:</p>\n\n<pre><code>this.getHibernateTemplate().saveOrUpdate(entityObject) // Results in exception\n</code></pre>\n\n<p>Session configuration: </p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"packagesToScan\" value=\"domain\"&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;${jdbc.dialect}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Your help is appreciated. </p>\n"},{"tags":["java","string","hex"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1393256253,"post_id":21992023,"comment_id":33329015,"body_markdown":"Could you provide an example of input and expected results? Are there any limitations like string length? I suspect that `matches(regex)` can help.","body":"Could you provide an example of input and expected results? Are there any limitations like string length? I suspect that <code>matches(regex)</code> can help."},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393256295,"post_id":21992023,"comment_id":33329041,"body_markdown":"You should have a look at String.matches with a regexp checking interval 0-9A-F. This article can help you : http://www.vogella.com/tutorials/JavaRegularExpressions/article.html","body":"You should have a look at String.matches with a regexp checking interval 0-9A-F. This article can help you : <a href=\"http://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/JavaRegularExpressions/article.html</a>"},{"owner":{"account_id":2239498,"reputation":57,"user_id":1974903,"accept_rate":67,"display_name":"Anandhu"},"score":0,"creation_date":1393309128,"post_id":21992023,"comment_id":33354344,"body_markdown":"@Pshemo &quot;O1AG&quot;...this will show an error becouse of the occurence of &#39;G&#39; in the string.","body":"@Pshemo &quot;O1AG&quot;...this will show an error becouse of the occurence of &#39;G&#39; in the string."}],"answers":[{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1393256633,"creation_date":1393256190,"answer_id":21992102,"question_id":21992023,"body_markdown":"\r\n    try\r\n    {\r\n        String hex = &quot;AAA&quot;\r\n        int value = Integer.parseInt(hex, 16);  \r\n        System.out.println(&quot;valid hex);\r\n     }\r\n     catch(NumberFormatException nfe)\r\n     {\r\n        // not a valid hex\r\n        System.out.println(&quot;not a valid hex);\r\n     }\r\n\r\nThis will throw NumberFormatException if the hex string is invalid.\r\n\r\nRefer the documentation [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"check hex string contains only hex bounded values","body":"<pre><code>try\n{\n    String hex = \"AAA\"\n    int value = Integer.parseInt(hex, 16);  \n    System.out.println(\"valid hex);\n }\n catch(NumberFormatException nfe)\n {\n    // not a valid hex\n    System.out.println(\"not a valid hex);\n }\n</code></pre>\n\n<p>This will throw NumberFormatException if the hex string is invalid.</p>\n\n<p>Refer the documentation <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393257755,"creation_date":1393256491,"answer_id":21992220,"question_id":21992023,"body_markdown":"**Given `String str` as your input string:**\r\n\r\nOption #1:\r\n\r\n    public static boolean isHex(String str)\r\n    {\r\n        try\r\n        {\r\n            int val = Integer.parseInt(str,16);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nOption #2:\r\n\r\n    private static boolean[] hash = new boolean[Character.MAX_VALUE];\r\n    static // Runs once\r\n    {\r\n        for (int i=0; i&lt;hash.length; i++)\r\n            hash[i] = false;\r\n        for (char c : &quot;0123456789ABCDEFabcdef&quot;.toCharArray())\r\n            hash[c] = true;\r\n    }\r\n    public static boolean isHex(String str)\r\n    {\r\n        for (char c : str.toCharArray())\r\n            if (!hash[c])\r\n                return false;\r\n        return true;\r\n    }\r\n","title":"check hex string contains only hex bounded values","body":"<p><strong>Given <code>String str</code> as your input string:</strong></p>\n\n<p>Option #1:</p>\n\n<pre><code>public static boolean isHex(String str)\n{\n    try\n    {\n        int val = Integer.parseInt(str,16);\n    }\n    catch (Exception e)\n    {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Option #2:</p>\n\n<pre><code>private static boolean[] hash = new boolean[Character.MAX_VALUE];\nstatic // Runs once\n{\n    for (int i=0; i&lt;hash.length; i++)\n        hash[i] = false;\n    for (char c : \"0123456789ABCDEFabcdef\".toCharArray())\n        hash[c] = true;\n}\npublic static boolean isHex(String str)\n{\n    for (char c : str.toCharArray())\n        if (!hash[c])\n            return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393257334,"creation_date":1393256761,"answer_id":21992320,"question_id":21992023,"body_markdown":"If you want to check if string contains only 0-9, a-h or A-H you can try using \r\n\r\n    yourString.matches(&quot;[0-9a-fA-F]+&quot;);\r\n\r\n---\r\nTo optimize it you can earlier create `Pattern` \r\n\r\n    Pattern p = Pattern.compile(&quot;[0-9a-fA-F]+&quot;);\r\n\r\nand later reuse it as \r\n\r\n    Matcher m = p.matcher(yourData);\r\n    if (m.matches())\r\n\r\nand even reuse `Matcher` instance with \r\n\r\n    m.reset(newString);\r\n    if (m.matches())\r\n","title":"check hex string contains only hex bounded values","body":"<p>If you want to check if string contains only 0-9, a-h or A-H you can try using </p>\n\n<pre><code>yourString.matches(\"[0-9a-fA-F]+\");\n</code></pre>\n\n<hr>\n\n<p>To optimize it you can earlier create <code>Pattern</code> </p>\n\n<pre><code>Pattern p = Pattern.compile(\"[0-9a-fA-F]+\");\n</code></pre>\n\n<p>and later reuse it as </p>\n\n<pre><code>Matcher m = p.matcher(yourData);\nif (m.matches())\n</code></pre>\n\n<p>and even reuse <code>Matcher</code> instance with </p>\n\n<pre><code>m.reset(newString);\nif (m.matches())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636579622,"creation_date":1636579622,"answer_id":69920433,"question_id":21992023,"body_markdown":"If anyone reached this thread trying to avoid the following exception when parsing a Mongodb ObjectId:\r\n```\r\njava.lang.IllegalArgumentException: invalid hexadecimal representation of an ObjectId: [anInvalidId]\r\n```\r\nThen note [this utility method][1] offered by the mongo-java-driver library:\r\n\r\n```\r\nObjectId.isValid(stringId)\r\n```\r\nRelated thread: \r\n\r\nhttps://stackoverflow.com/questions/66132675/how-to-determine-if-a-string-can-be-used-as-a-mongodb-objectid\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.6/javadoc/org/bson/types/ObjectId.html#isValid-java.lang.String-","title":"check hex string contains only hex bounded values","body":"<p>If anyone reached this thread trying to avoid the following exception when parsing a Mongodb ObjectId:</p>\n<pre><code>java.lang.IllegalArgumentException: invalid hexadecimal representation of an ObjectId: [anInvalidId]\n</code></pre>\n<p>Then note <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/org/bson/types/ObjectId.html#isValid-java.lang.String-\" rel=\"nofollow noreferrer\">this utility method</a> offered by the mongo-java-driver library:</p>\n<pre><code>ObjectId.isValid(stringId)\n</code></pre>\n<p>Related thread:</p>\n<p><a href=\"https://stackoverflow.com/questions/66132675/how-to-determine-if-a-string-can-be-used-as-a-mongodb-objectid\">How to determine if a string can be used as a MongoDB ObjectID?</a></p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688125611,"creation_date":1688125611,"answer_id":76588642,"question_id":21992023,"body_markdown":"You can use a switch expression:\r\n\r\n    public static boolean isHex(final String str) {\r\n        return str != null &amp;&amp; \r\n               !str.isEmpty() &amp;&amp; \r\n               str.codePoints()\r\n                  .allMatch((final int codePoint) -&gt; switch (codePoint) {\r\n                case &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,\r\n                     &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, \r\n                     &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; -&gt; true;\r\n                default -&gt; false;\r\n        });\r\n    }\r\n\r\nThis solution is more efficient than using a regular expression and it doesn&#39;t rely on a try catch.","title":"check hex string contains only hex bounded values","body":"<p>You can use a switch expression:</p>\n<pre><code>public static boolean isHex(final String str) {\n    return str != null &amp;&amp; \n           !str.isEmpty() &amp;&amp; \n           str.codePoints()\n              .allMatch((final int codePoint) -&gt; switch (codePoint) {\n            case '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n                 'A', 'B', 'C', 'D', 'E', 'F', \n                 'a', 'b', 'c', 'd', 'e', 'f' -&gt; true;\n            default -&gt; false;\n    });\n}\n</code></pre>\n<p>This solution is more efficient than using a regular expression and it doesn't rely on a try catch.</p>\n"}],"owner":{"account_id":2239498,"reputation":57,"user_id":1974903,"accept_rate":67,"display_name":"Anandhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21992102,"answer_count":5,"score":3,"last_activity_date":1688125611,"creation_date":1393255963,"question_id":21992023,"body_markdown":"How to check a given hex string contains only hex number. is there is any simple method or any java library for the same?i have string like &quot;01AF&quot; and i have to check string only contains hex range values,for that what i am doing now is take the string and then split the string and then converted it to appropriate format then make a check for that value.is there is any simple method for that? ","title":"check hex string contains only hex bounded values","body":"<p>How to check a given hex string contains only hex number. is there is any simple method or any java library for the same?i have string like \"01AF\" and i have to check string only contains hex range values,for that what i am doing now is take the string and then split the string and then converted it to appropriate format then make a check for that value.is there is any simple method for that? </p>\n"},{"tags":["java","android","bluetooth-lowenergy","android-ble"],"comments":[{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1688055576,"post_id":76582688,"comment_id":135025633,"body_markdown":"How does your `enableNotifications` method look like?","body":"How does your <code>enableNotifications</code> method look like?"},{"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"score":0,"creation_date":1688124951,"post_id":76582688,"comment_id":135035337,"body_markdown":"I have added its implementation in the last block of code before the \\[EDIT\\] part.\nThe \\[EDIT\\] part should also be taken into account I think","body":"I have added its implementation in the last block of code before the &#91;EDIT&#93; part. The &#91;EDIT&#93; part should also be taken into account I think"},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1688129334,"post_id":76582688,"comment_id":135036251,"body_markdown":"Does the &quot;old&quot; callback work? Please read https://stackoverflow.com/a/76166525/556495 and the comments to the answer.","body":"Does the &quot;old&quot; callback work? Please read <a href=\"https://stackoverflow.com/a/76166525/556495\">stackoverflow.com/a/76166525/556495</a> and the comments to the answer."},{"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"score":0,"creation_date":1688133513,"post_id":76582688,"comment_id":135037223,"body_markdown":"I&#39;ve added the &quot;old&quot; callback before trying the Gabeldorsche thing and it only worked when Gabeldorsche was enabled.\n\nHowever, I have changed targeted android sdk in Gradle (31 then 32 then 33 and then the initial one 34) and for some obscure reason everything is fine, callbacks are normally trigger during a write operation...\n\nThank you for the help anyway !","body":"I&#39;ve added the &quot;old&quot; callback before trying the Gabeldorsche thing and it only worked when Gabeldorsche was enabled.  However, I have changed targeted android sdk in Gradle (31 then 32 then 33 and then the initial one 34) and for some obscure reason everything is fine, callbacks are normally trigger during a write operation...  Thank you for the help anyway !"}],"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688125147,"creation_date":1688053804,"question_id":76582688,"body_markdown":"I am writing an Android app that can connect to a BLE device.\r\nThere are multiple types of devices handled by my application and I have to know the type of device I am connecting on.\r\n\r\nThe entire connection process is handle by a Service object and described below:\r\n1. Call of `connectToGatt()` method with the BluetoothDevice object that represent the device I am trying to connect to\r\n2. The `GattCallback.onConnectionStateChanged` is triggered. If the device is already bond, go to 4.\r\n3. Broadcast receiver that handle bond state changes is triggered. If the device is bond, go to 4.\r\n4. Call of `discoverService()` method\r\n5. When Services are discovered, I get my characteristic and enable notifications using CCCD. Consequently, I write to CCCD the activation of notifications.\r\n6. `GattCallback.onDescriptorWrite` is triggered. There I create a command object that aims to get the model number of my device, and add it to a queue of command.\r\n7. A separate thread activated before handle the queue and execute the write operation.\r\n\r\nAnd there my issue:\r\nOn Danew DSlide 1020 Pro under Android 12, `GattCallback.onCharacteristicWrite` is called but `GattCallback.onCharacteristicChanged` is never called (I tested on 3 similar tablets).\r\nHowever, the two callbacks are triggered on my Samsung tablet under Android 13 and I can complete the connection process.\r\n\r\nNotice that on BLE device side, the write operation is successfully executed on both Android devices.\r\n\r\nHere is the code of my service (I only put the relevant stuff i.e the connection process). Notice that sendEvent() is a method to trigger observers of my service (I do not use broadcast on my activities for personnal reasons)\r\n\r\nconnectToGatt method:\r\n```java\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connectToGatt(BluetoothDevice device) {\r\n        if (!mIsBleDeviceConnected) {\r\n            this.mBleDevice = device;\r\n            this.mBleDeviceGatt = this.mBleDevice.connectGatt(this, false, this.mBleDeviceGattCallback, BluetoothDevice.TRANSPORT_LE);\r\n        }\r\n    }\r\n```\r\n\r\nGattCallback:\r\n```java\r\nprivate final BluetoothGattCallback mBleDeviceGattCallback = new BluetoothGattCallback() {\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n        super.onConnectionStateChange(gatt, status, newState);\r\n        switch (newState) {\r\n            case BluetoothProfile.STATE_CONNECTED:\r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    mIsBleDeviceConnected = true;\r\n                    if (mBleDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n                        Log.d(TAG, &quot;onConnectionStateChange: test&quot;);\r\n                        startThread();  //Start the thread that handles the queue of BLE operations such as write on characteristics\r\n                        mBleDeviceGatt.discoverServices();\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, &quot;onConnectionStateChange: Connection to GATT failed with status &quot;+status);\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                }\r\n                break;\r\n            case BluetoothProfile.STATE_DISCONNECTED:\r\n                // handle disconnection\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n        super.onServicesDiscovered(gatt, status);\r\n        if (status == BluetoothGatt.GATT_SUCCESS) {\r\n            BluetoothGattService service = gatt.getService(Constants.UUID_SERVICE);\r\n            mBleDeviceCharacteristic = service.getCharacteristic(Constants.UUID_CHARACTERISTIC);\r\n            if (mBleDeviceCharacteristic == null) {\r\n                Log.e(TAG, &quot;onServicesDiscovered: The service does not provide characteristic &quot;+Constants.UUID_CHARACTERISTIC.toString());\r\n                sendEvent(new EventGattConnectionFailed());\r\n                mBleDeviceGatt.disconnect();\r\n            } else {\r\n                boolean isNoCccd = enableNotifications(mBleDeviceCharacteristic);\r\n                if (isNoCccd) {\r\n                    Log.e(TAG, &quot;onServicesDiscovered: CCCD not found on characteristic &quot;+mBleDeviceCharacteristic.getUuid());\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                    mBleDeviceGatt.disconnect();\r\n                }\r\n            }\r\n        } else {\r\n            Log.e(TAG, &quot;Service discovery failed with status: &quot; + status);\r\n            sendEvent(new EventGattConnectionFailed());\r\n            mBleDeviceGatt.disconnect();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n        super.onDescriptorWrite(gatt, descriptor, status);\r\n        if (descriptor.getUuid().toString().equals(Constants.UUID_CCCD.toString())) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                if (descriptor.getValue() == BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE) {\r\n                    addCommandToQueue(new ModelNumberCommand((byte) 0x06,null));\r\n                } else if (descriptor.getValue() == BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE){\r\n                    mBleDeviceGatt.disconnect();\r\n                }\r\n            } else {\r\n                Log.e(TAG, &quot;onDescriptorWrite: Enabling notification process failed with status &quot;+status);\r\n                sendEvent(new EventGattConnectionFailed());\r\n                mBleDeviceGatt.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n        Log.d(TAG, &quot;onCharacteristicWrite: test1 &quot;+status);\r\n        super.onCharacteristicWrite(gatt, characteristic, status);\r\n        try {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                Log.d(TAG, &quot;onCharacteristicWrite: test2&quot;);\r\n                // some unrelevant code for this issue here\r\n            } else {\r\n                if (mDevicesInstance == null) {\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                    Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with status &quot;+status);\r\n                    disconnectFromGatt();\r\n                } else {\r\n                    // some unrelevant code for this issue here\r\n                }\r\n                mBleCommandAwaitedDataSize = 0;\r\n                mBleCommandSemaphore.release();\r\n            }\r\n        } catch (Exception e) {\r\n            if (mDevicesInstance == null) {\r\n                sendEvent(new EventGattConnectionFailed());\r\n                Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with exception &quot;+e);\r\n                disconnectFromGatt();\r\n            } else {\r\n                // some unrelevant code for this issue here\r\n            }\r\n            mBleCommandAwaitedDataSize = 0;\r\n            mBleCommandSemaphore.release();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCharacteristicChanged(@NonNull BluetoothGatt gatt, @NonNull BluetoothGattCharacteristic characteristic, @NonNull byte[] value) {\r\n        Log.d(TAG, &quot;onCharacteristicChanged: test&quot;);\r\n        super.onCharacteristicChanged(gatt, characteristic, value);\r\n        byte[] data;\r\n        if (mBleCommandAwaitedDataSize == 0) {\r\n            mBleCommandAwaitedDataSize = value[1];\r\n            mBleCommandCursor = 0;\r\n            mBleCommandResult = new byte[mBleCommandAwaitedDataSize];\r\n            data = Arrays.copyOfRange(value,2,value.length);\r\n        } else {\r\n            data = value;\r\n        }\r\n        System.arraycopy(data,0,mBleCommandResult,mBleCommandCursor,data.length);\r\n        mBleCommandCursor = mBleCommandCursor+data.length;\r\n        if (mBleCommandCursor &gt;= mBleCommandAwaitedDataSize) {\r\n            if (mDevicesInstance == null) {\r\n                finalizeConnection(mBleCommandResult); // End the connection process\r\n            } else {\r\n                // some unrelevant code for this issue here\r\n            }\r\n            mBleCommandSemaphore.release();\r\n        }\r\n    }\r\n```\r\n\r\nBroadcast receiver that handles bonding state\r\n```java\r\nprivate final BroadcastReceiver mBleDeviceGattReceiver = new BroadcastReceiver() {\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)) {\r\n                int bondState = intent.getIntExtra(BluetoothDevice.EXTRA_BOND_STATE, BluetoothDevice.ERROR);\r\n                switch (bondState) {\r\n                    case BluetoothDevice.BOND_BONDED:\r\n                        mBleServiceInstance.sendEvent(new EventGattBondSuccess());\r\n                        startThread();\r\n                        mBleDeviceGatt.discoverServices();\r\n                        break;\r\n                    case BluetoothDevice.ERROR:\r\n                        Log.e(TAG, &quot;mBleDeviceGattReceiver.onReceive: Device bonding failed.&quot;);\r\n                        sendEvent(new EventGattConnectionFailed());\r\n                        mBleDeviceGatt.disconnect();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\nThread object that handles the queue\r\n```java\r\nprivate class BleCommandExecutor extends Thread {\r\n        private boolean isRunning;\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void run() {\r\n            while (isRunning) {\r\n                if (!mBleCommandQueue.isEmpty()) {\r\n                    Log.d(TAG, &quot;run: test&quot;);\r\n                    Commands nextCommand = mBleCommandQueue.poll();\r\n                    if (!(nextCommand == null)) {\r\n                        try {\r\n                            mBleCommandSemaphore.acquire();\r\n                            mBleCommandRunning = nextCommand;\r\n                            byte[] payload = mBleCommandRunning.serializeCommand();\r\n                            Log.d(TAG, &quot;run: &quot;+ Arrays.toString(payload));\r\n                            mBleDeviceCharacteristic.setValue(payload);\r\n                            mBleDeviceGatt.writeCharacteristic(mBleDeviceCharacteristic);\r\n                        } catch (InterruptedException e) {\r\n                            Log.e(TAG, &quot;BleCommandExecutor: Exception raised with semaphore: &quot;+e);\r\n                            sendEvent(new EventCommandFailed());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public void setRunningState(boolean newRunningState) {\r\n            this.isRunning = newRunningState;\r\n        }\r\n    }\r\nprivate BleCommandExecutor mBleCommandExecutor;\r\npublic void startThread() {\r\n        this.mBleCommandExecutor = new BleCommandExecutor();\r\n        this.mBleCommandExecutor.setRunningState(true);\r\n        this.mBleCommandExecutor.start();\r\n    }\r\npublic void addCommandToQueue(Commands command) {\r\n        this.mBleCommandQueue.add(command);\r\n    }\r\n```\r\n\r\nenableNotifications() method:\r\n```java\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\n    public boolean enableNotifications(BluetoothGattCharacteristic characteristic) {\r\n        BluetoothGattDescriptor cccd = characteristic.getDescriptor(Constants.UUID_CCCD);\r\n        if (cccd == null) {\r\n            Log.w(TAG, &quot;enableNotifications: CCCD has not been found in the descriptors of the characteristic &quot;+Constants.UUID_CHARACTERISTIC);\r\n            return true;\r\n        }\r\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_NOTIFY) != 0) {\r\n            this.mBleDeviceGatt.setCharacteristicNotification(characteristic, true);\r\n            cccd.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n            this.mBleDeviceGatt.writeDescriptor(cccd);\r\n        }\r\n        return false;\r\n    }\r\n```\r\nAll this code belong to my Service object.\r\n\r\nNote that the command added to the queue (`ModelNumber((byte) 0x06, null)`) is a getter. If the parameter is not `null`, `onCharacteristicChanged` is not triggered (characteristic has `PROPERTY_WRITE_NO_RESPONSE`), that seems to be normal behavior.\r\n\r\nThe exact payload written on BLE device is `[(byte) 0x06, (byte) 0x00]`\r\nAnd the result expected (get from onCharacteristicChanged) is `[(byte) 0x07, (byte) 0x04, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00]`\r\n\r\n\r\nThe tests I have done enables me to ensure that I reach the write operation execution because in all cases, notifications are enabled and then I receive the `onCharacteristicWrite` callback.\r\n\r\n\r\n**[EDIT]**\r\n\r\nI have tested on an Android 11 device and I have the same issue.\r\n\r\nHowever, I discovered an option on Android 11 and 12&#39;s developer mode that is the possibility to use Gabeldorsche, the new Bluetooth Stack that is implemented by default on Android 13+.\r\n\r\nAnd enabling Gabeldorsche on my devices under Android 11 and 12 triggers the &quot;old&quot; `onCharacteristicChanged` callback (see below) when writing on my characteristic.\r\n\r\nThe &quot;old&quot; callback correspond to the one with the following signature and that has been deprecated on API level 33:\r\n```java\r\npublic void onCharacteristicChanged (BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)\r\n```\r\nI implemented this old callback in my code.\r\nIt has exactly the same code as the new callback except an addition of a local variable that replace the `byte[] value` parameter of the new callback:\r\n```java\r\n@Override\r\npublic void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n    super.onCharacteristicChanged(gatt, characteristic);\r\n    byte[] value = characteristic.getValue(); // replace value parameter of the new callback\r\n\r\n    // code of the callback\r\n}\r\n```\r\nThen, I&#39;m looking for a solution that does not need the manual activation of Gabeldorsche.","title":"Android BLE: GattCallback.onCharacteristicChanged is not triggered in response of a write operation on Android 12 and below","body":"<p>I am writing an Android app that can connect to a BLE device.\nThere are multiple types of devices handled by my application and I have to know the type of device I am connecting on.</p>\n<p>The entire connection process is handle by a Service object and described below:</p>\n<ol>\n<li>Call of <code>connectToGatt()</code> method with the BluetoothDevice object that represent the device I am trying to connect to</li>\n<li>The <code>GattCallback.onConnectionStateChanged</code> is triggered. If the device is already bond, go to 4.</li>\n<li>Broadcast receiver that handle bond state changes is triggered. If the device is bond, go to 4.</li>\n<li>Call of <code>discoverService()</code> method</li>\n<li>When Services are discovered, I get my characteristic and enable notifications using CCCD. Consequently, I write to CCCD the activation of notifications.</li>\n<li><code>GattCallback.onDescriptorWrite</code> is triggered. There I create a command object that aims to get the model number of my device, and add it to a queue of command.</li>\n<li>A separate thread activated before handle the queue and execute the write operation.</li>\n</ol>\n<p>And there my issue:\nOn Danew DSlide 1020 Pro under Android 12, <code>GattCallback.onCharacteristicWrite</code> is called but <code>GattCallback.onCharacteristicChanged</code> is never called (I tested on 3 similar tablets).\nHowever, the two callbacks are triggered on my Samsung tablet under Android 13 and I can complete the connection process.</p>\n<p>Notice that on BLE device side, the write operation is successfully executed on both Android devices.</p>\n<p>Here is the code of my service (I only put the relevant stuff i.e the connection process). Notice that sendEvent() is a method to trigger observers of my service (I do not use broadcast on my activities for personnal reasons)</p>\n<p>connectToGatt method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;MissingPermission&quot;)\n    public void connectToGatt(BluetoothDevice device) {\n        if (!mIsBleDeviceConnected) {\n            this.mBleDevice = device;\n            this.mBleDeviceGatt = this.mBleDevice.connectGatt(this, false, this.mBleDeviceGattCallback, BluetoothDevice.TRANSPORT_LE);\n        }\n    }\n</code></pre>\n<p>GattCallback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BluetoothGattCallback mBleDeviceGattCallback = new BluetoothGattCallback() {\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n        super.onConnectionStateChange(gatt, status, newState);\n        switch (newState) {\n            case BluetoothProfile.STATE_CONNECTED:\n                if (status == BluetoothGatt.GATT_SUCCESS) {\n                    mIsBleDeviceConnected = true;\n                    if (mBleDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\n                        Log.d(TAG, &quot;onConnectionStateChange: test&quot;);\n                        startThread();  //Start the thread that handles the queue of BLE operations such as write on characteristics\n                        mBleDeviceGatt.discoverServices();\n                    }\n                } else {\n                    Log.e(TAG, &quot;onConnectionStateChange: Connection to GATT failed with status &quot;+status);\n                    sendEvent(new EventGattConnectionFailed());\n                }\n                break;\n            case BluetoothProfile.STATE_DISCONNECTED:\n                // handle disconnection\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        super.onServicesDiscovered(gatt, status);\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            BluetoothGattService service = gatt.getService(Constants.UUID_SERVICE);\n            mBleDeviceCharacteristic = service.getCharacteristic(Constants.UUID_CHARACTERISTIC);\n            if (mBleDeviceCharacteristic == null) {\n                Log.e(TAG, &quot;onServicesDiscovered: The service does not provide characteristic &quot;+Constants.UUID_CHARACTERISTIC.toString());\n                sendEvent(new EventGattConnectionFailed());\n                mBleDeviceGatt.disconnect();\n            } else {\n                boolean isNoCccd = enableNotifications(mBleDeviceCharacteristic);\n                if (isNoCccd) {\n                    Log.e(TAG, &quot;onServicesDiscovered: CCCD not found on characteristic &quot;+mBleDeviceCharacteristic.getUuid());\n                    sendEvent(new EventGattConnectionFailed());\n                    mBleDeviceGatt.disconnect();\n                }\n            }\n        } else {\n            Log.e(TAG, &quot;Service discovery failed with status: &quot; + status);\n            sendEvent(new EventGattConnectionFailed());\n            mBleDeviceGatt.disconnect();\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n        super.onDescriptorWrite(gatt, descriptor, status);\n        if (descriptor.getUuid().toString().equals(Constants.UUID_CCCD.toString())) {\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                if (descriptor.getValue() == BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE) {\n                    addCommandToQueue(new ModelNumberCommand((byte) 0x06,null));\n                } else if (descriptor.getValue() == BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE){\n                    mBleDeviceGatt.disconnect();\n                }\n            } else {\n                Log.e(TAG, &quot;onDescriptorWrite: Enabling notification process failed with status &quot;+status);\n                sendEvent(new EventGattConnectionFailed());\n                mBleDeviceGatt.disconnect();\n            }\n        }\n    }\n\n    @Override\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        Log.d(TAG, &quot;onCharacteristicWrite: test1 &quot;+status);\n        super.onCharacteristicWrite(gatt, characteristic, status);\n        try {\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                Log.d(TAG, &quot;onCharacteristicWrite: test2&quot;);\n                // some unrelevant code for this issue here\n            } else {\n                if (mDevicesInstance == null) {\n                    sendEvent(new EventGattConnectionFailed());\n                    Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with status &quot;+status);\n                    disconnectFromGatt();\n                } else {\n                    // some unrelevant code for this issue here\n                }\n                mBleCommandAwaitedDataSize = 0;\n                mBleCommandSemaphore.release();\n            }\n        } catch (Exception e) {\n            if (mDevicesInstance == null) {\n                sendEvent(new EventGattConnectionFailed());\n                Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with exception &quot;+e);\n                disconnectFromGatt();\n            } else {\n                // some unrelevant code for this issue here\n            }\n            mBleCommandAwaitedDataSize = 0;\n            mBleCommandSemaphore.release();\n        }\n    }\n\n    @Override\n    public void onCharacteristicChanged(@NonNull BluetoothGatt gatt, @NonNull BluetoothGattCharacteristic characteristic, @NonNull byte[] value) {\n        Log.d(TAG, &quot;onCharacteristicChanged: test&quot;);\n        super.onCharacteristicChanged(gatt, characteristic, value);\n        byte[] data;\n        if (mBleCommandAwaitedDataSize == 0) {\n            mBleCommandAwaitedDataSize = value[1];\n            mBleCommandCursor = 0;\n            mBleCommandResult = new byte[mBleCommandAwaitedDataSize];\n            data = Arrays.copyOfRange(value,2,value.length);\n        } else {\n            data = value;\n        }\n        System.arraycopy(data,0,mBleCommandResult,mBleCommandCursor,data.length);\n        mBleCommandCursor = mBleCommandCursor+data.length;\n        if (mBleCommandCursor &gt;= mBleCommandAwaitedDataSize) {\n            if (mDevicesInstance == null) {\n                finalizeConnection(mBleCommandResult); // End the connection process\n            } else {\n                // some unrelevant code for this issue here\n            }\n            mBleCommandSemaphore.release();\n        }\n    }\n</code></pre>\n<p>Broadcast receiver that handles bonding state</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BroadcastReceiver mBleDeviceGattReceiver = new BroadcastReceiver() {\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)) {\n                int bondState = intent.getIntExtra(BluetoothDevice.EXTRA_BOND_STATE, BluetoothDevice.ERROR);\n                switch (bondState) {\n                    case BluetoothDevice.BOND_BONDED:\n                        mBleServiceInstance.sendEvent(new EventGattBondSuccess());\n                        startThread();\n                        mBleDeviceGatt.discoverServices();\n                        break;\n                    case BluetoothDevice.ERROR:\n                        Log.e(TAG, &quot;mBleDeviceGattReceiver.onReceive: Device bonding failed.&quot;);\n                        sendEvent(new EventGattConnectionFailed());\n                        mBleDeviceGatt.disconnect();\n                        break;\n                }\n            }\n        }\n    };\n</code></pre>\n<p>Thread object that handles the queue</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class BleCommandExecutor extends Thread {\n        private boolean isRunning;\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void run() {\n            while (isRunning) {\n                if (!mBleCommandQueue.isEmpty()) {\n                    Log.d(TAG, &quot;run: test&quot;);\n                    Commands nextCommand = mBleCommandQueue.poll();\n                    if (!(nextCommand == null)) {\n                        try {\n                            mBleCommandSemaphore.acquire();\n                            mBleCommandRunning = nextCommand;\n                            byte[] payload = mBleCommandRunning.serializeCommand();\n                            Log.d(TAG, &quot;run: &quot;+ Arrays.toString(payload));\n                            mBleDeviceCharacteristic.setValue(payload);\n                            mBleDeviceGatt.writeCharacteristic(mBleDeviceCharacteristic);\n                        } catch (InterruptedException e) {\n                            Log.e(TAG, &quot;BleCommandExecutor: Exception raised with semaphore: &quot;+e);\n                            sendEvent(new EventCommandFailed());\n                        }\n                    }\n                }\n            }\n        }\n\n        public void setRunningState(boolean newRunningState) {\n            this.isRunning = newRunningState;\n        }\n    }\nprivate BleCommandExecutor mBleCommandExecutor;\npublic void startThread() {\n        this.mBleCommandExecutor = new BleCommandExecutor();\n        this.mBleCommandExecutor.setRunningState(true);\n        this.mBleCommandExecutor.start();\n    }\npublic void addCommandToQueue(Commands command) {\n        this.mBleCommandQueue.add(command);\n    }\n</code></pre>\n<p>enableNotifications() method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;MissingPermission&quot;)\n    public boolean enableNotifications(BluetoothGattCharacteristic characteristic) {\n        BluetoothGattDescriptor cccd = characteristic.getDescriptor(Constants.UUID_CCCD);\n        if (cccd == null) {\n            Log.w(TAG, &quot;enableNotifications: CCCD has not been found in the descriptors of the characteristic &quot;+Constants.UUID_CHARACTERISTIC);\n            return true;\n        }\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_NOTIFY) != 0) {\n            this.mBleDeviceGatt.setCharacteristicNotification(characteristic, true);\n            cccd.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n            this.mBleDeviceGatt.writeDescriptor(cccd);\n        }\n        return false;\n    }\n</code></pre>\n<p>All this code belong to my Service object.</p>\n<p>Note that the command added to the queue (<code>ModelNumber((byte) 0x06, null)</code>) is a getter. If the parameter is not <code>null</code>, <code>onCharacteristicChanged</code> is not triggered (characteristic has <code>PROPERTY_WRITE_NO_RESPONSE</code>), that seems to be normal behavior.</p>\n<p>The exact payload written on BLE device is <code>[(byte) 0x06, (byte) 0x00]</code>\nAnd the result expected (get from onCharacteristicChanged) is <code>[(byte) 0x07, (byte) 0x04, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00]</code></p>\n<p>The tests I have done enables me to ensure that I reach the write operation execution because in all cases, notifications are enabled and then I receive the <code>onCharacteristicWrite</code> callback.</p>\n<p><strong>[EDIT]</strong></p>\n<p>I have tested on an Android 11 device and I have the same issue.</p>\n<p>However, I discovered an option on Android 11 and 12's developer mode that is the possibility to use Gabeldorsche, the new Bluetooth Stack that is implemented by default on Android 13+.</p>\n<p>And enabling Gabeldorsche on my devices under Android 11 and 12 triggers the &quot;old&quot; <code>onCharacteristicChanged</code> callback (see below) when writing on my characteristic.</p>\n<p>The &quot;old&quot; callback correspond to the one with the following signature and that has been deprecated on API level 33:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onCharacteristicChanged (BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)\n</code></pre>\n<p>I implemented this old callback in my code.\nIt has exactly the same code as the new callback except an addition of a local variable that replace the <code>byte[] value</code> parameter of the new callback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n    super.onCharacteristicChanged(gatt, characteristic);\n    byte[] value = characteristic.getValue(); // replace value parameter of the new callback\n\n    // code of the callback\n}\n</code></pre>\n<p>Then, I'm looking for a solution that does not need the manual activation of Gabeldorsche.</p>\n"},{"tags":["java","android","file","path","directory"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1476353970,"post_id":12780446,"comment_id":67313392,"body_markdown":"&quot;How does system understand whether there&#39;s a file or a folder&quot;: How can the system *not* understand? It&#39;s there on the disk in the file system and it is one or the other.","body":"&quot;How does system understand whether there&#39;s a file or a folder&quot;: How can the system <i>not</i> understand? It&#39;s there on the disk in the file system and it is one or the other."}],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"down_vote_count":2,"up_vote_count":257,"is_accepted":true,"score":255,"last_activity_date":1476349754,"creation_date":1349694434,"answer_id":12780471,"question_id":12780446,"body_markdown":"Assuming `path` is your `String`.\r\n\r\n    File file = new File(path);\r\n\r\n    boolean exists =      file.exists();      // Check if the file exists\r\n    boolean isDirectory = file.isDirectory(); // Check if it&#39;s a directory\r\n    boolean isFile =      file.isFile();      // Check if it&#39;s a regular file\r\n\r\nSee [`File` Javadoc](http://docs.oracle.com/javase/7/docs/api/java/io/File.html)\r\n\r\n---\r\n\r\nOr you can use the NIO class `Files` and check things like this:\r\n\r\n    Path file = new File(path).toPath();\r\n\r\n    boolean exists =      Files.exists(file);        // Check if the file exists\r\n    boolean isDirectory = Files.isDirectory(file);   // Check if it&#39;s a directory\r\n    boolean isFile =      Files.isRegularFile(file); // Check if it&#39;s a regular file","title":"Check if a path represents a file or a folder","body":"<p>Assuming <code>path</code> is your <code>String</code>.</p>\n\n<pre><code>File file = new File(path);\n\nboolean exists =      file.exists();      // Check if the file exists\nboolean isDirectory = file.isDirectory(); // Check if it's a directory\nboolean isFile =      file.isFile();      // Check if it's a regular file\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\"><code>File</code> Javadoc</a></p>\n\n<hr>\n\n<p>Or you can use the NIO class <code>Files</code> and check things like this:</p>\n\n<pre><code>Path file = new File(path).toPath();\n\nboolean exists =      Files.exists(file);        // Check if the file exists\nboolean isDirectory = Files.isDirectory(file);   // Check if it's a directory\nboolean isFile =      Files.isRegularFile(file); // Check if it's a regular file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1349694598,"creation_date":1349694598,"answer_id":12780520,"question_id":12780446,"body_markdown":"To check if a string represents a path or a file programatically, you should use API methods such as `isFile(), isDirectory().`\r\n\r\n    \r\n\r\n&gt; How does system understand whether there&#39;s a file or a folder?\r\n\r\nI guess, the file and folder entries are kept in a data structure and it&#39;s managed by the file system.","title":"Check if a path represents a file or a folder","body":"<p>To check if a string represents a path or a file programatically, you should use API methods such as <code>isFile(), isDirectory().</code></p>\n\n<blockquote>\n  <p>How does system understand whether there's a file or a folder?</p>\n</blockquote>\n\n<p>I guess, the file and folder entries are kept in a data structure and it's managed by the file system.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349694695,"creation_date":1349694695,"answer_id":12780547,"question_id":12780446,"body_markdown":"    \r\n    String path = &quot;Your_Path&quot;;\r\n    File f = new File(path);\r\n    \r\n    if (f.isDirectory()){\r\n    \r\n    \r\n    \r\n      }else if(f.isFile()){\r\n    \r\n    \r\n    \r\n      }","title":"Check if a path represents a file or a folder","body":"<pre><code>String path = \"Your_Path\";\nFile f = new File(path);\n\nif (f.isDirectory()){\n\n\n\n  }else if(f.isFile()){\n\n\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387088,"reputation":1697,"user_id":745236,"accept_rate":82,"display_name":"Sheng"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1445610534,"creation_date":1421269859,"answer_id":27952509,"question_id":12780446,"body_markdown":"Please stick to the nio API to perform these checks\r\n\r\n    import java.nio.file.*;\r\n    \r\n    static Boolean isDir(Path path) {\r\n      if (path == null || !Files.exists(path)) return false;\r\n      else return Files.isDirectory(path);\r\n    }","title":"Check if a path represents a file or a folder","body":"<p>Please stick to the nio API to perform these checks</p>\n\n<pre><code>import java.nio.file.*;\n\nstatic Boolean isDir(Path path) {\n  if (path == null || !Files.exists(path)) return false;\n  else return Files.isDirectory(path);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90863,"reputation":14381,"user_id":249871,"accept_rate":91,"display_name":"pgsandstrom"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1450270290,"creation_date":1450270290,"answer_id":34312593,"question_id":12780446,"body_markdown":"Clean solution while staying with the nio API:\r\n\r\n    Files.isDirectory(path)\r\n    Files.isRegularFile(path)","title":"Check if a path represents a file or a folder","body":"<p>Clean solution while staying with the nio API:</p>\n\n<pre><code>Files.isDirectory(path)\nFiles.isRegularFile(path)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1506334212,"creation_date":1506334212,"answer_id":46402650,"question_id":12780446,"body_markdown":"There is no way for the system to tell you if a `String` represent a `file` or `directory`, if it **does not exist** in the file system. For example: \r\n\r\n    Path path = Paths.get(&quot;/some/path/to/dir&quot;);\r\n    System.out.println(Files.isDirectory(path)); // return false\r\n    System.out.println(Files.isRegularFile(path)); // return false\r\n\r\nAnd for the following example: \r\n\r\n    Path path = Paths.get(&quot;/some/path/to/dir/file.txt&quot;);\r\n    System.out.println(Files.isDirectory(path));  //return false\r\n    System.out.println(Files.isRegularFile(path));  // return false\r\n\r\nSo we see that in both case system return false. This is true for both `java.io.File` and `java.nio.file.Path`\r\n","title":"Check if a path represents a file or a folder","body":"<p>There is no way for the system to tell you if a <code>String</code> represent a <code>file</code> or <code>directory</code>, if it <strong>does not exist</strong> in the file system. For example: </p>\n\n<pre><code>Path path = Paths.get(\"/some/path/to/dir\");\nSystem.out.println(Files.isDirectory(path)); // return false\nSystem.out.println(Files.isRegularFile(path)); // return false\n</code></pre>\n\n<p>And for the following example: </p>\n\n<pre><code>Path path = Paths.get(\"/some/path/to/dir/file.txt\");\nSystem.out.println(Files.isDirectory(path));  //return false\nSystem.out.println(Files.isRegularFile(path));  // return false\n</code></pre>\n\n<p>So we see that in both case system return false. This is true for both <code>java.io.File</code> and <code>java.nio.file.Path</code></p>\n"},{"tags":[],"owner":{"account_id":3210695,"reputation":71,"user_id":2710777,"display_name":"Kaweesi Joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526570038,"creation_date":1526567746,"answer_id":50394167,"question_id":12780446,"body_markdown":" \r\n\r\n       private static boolean isValidFolderPath(String path) {\r\n        File file = new File(path);\r\n        if (!file.exists()) {\r\n          return file.mkdirs();\r\n        }\r\n        return true;\r\n      }\r\n\r\n","title":"Check if a path represents a file or a folder","body":"<pre><code>   private static boolean isValidFolderPath(String path) {\n    File file = new File(path);\n    if (!file.exists()) {\n      return file.mkdirs();\n    }\n    return true;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549463179,"creation_date":1549463179,"answer_id":54555875,"question_id":12780446,"body_markdown":"    public static boolean isDirectory(String path) {\r\n        return path !=null &amp;&amp; new File(path).isDirectory();\r\n    }\r\nTo answer the question directly. \r\n\r\n","title":"Check if a path represents a file or a folder","body":"<pre><code>public static boolean isDirectory(String path) {\n    return path !=null &amp;&amp; new File(path).isDirectory();\n}\n</code></pre>\n\n<p>To answer the question directly. </p>\n"}],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199278,"favorite_count":0,"down_vote_count":1,"up_vote_count":175,"accepted_answer_id":12780471,"answer_count":8,"score":174,"last_activity_date":1688124923,"creation_date":1349694365,"question_id":12780446,"body_markdown":"I need a valid method to check if a `String` represents a path for file or a directory. What are valid directory names in Android? As it comes out, folder names can contain `&#39;.&#39;` chars, so how does system understand whether there&#39;s a file or a folder?","title":"Check if a path represents a file or a folder","body":"<p>I need a valid method to check if a <code>String</code> represents a path for file or a directory. What are valid directory names in Android? As it comes out, folder names can contain <code>'.'</code> chars, so how does system understand whether there's a file or a folder?</p>\n"},{"tags":["java","android","google-drive-api","google-drive-android-api"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504748636,"creation_date":1504727812,"answer_id":46083378,"question_id":46082536,"body_markdown":"Evidently `files(size)` works although I don&#39;t see it documented. You can try it [here](https://developers.google.com/drive/v3/reference/files/list#parameters).\r\n\r\nI am not so sure about `getDownloadUrl`. You can check the v2 to v3 conversion documentation at [this page](https://developers.google.com/drive/v3/web/migration). It suggests that `files.get with ?alt=media` might be a suitable replacement for `downloadUrl`.","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>Evidently <code>files(size)</code> works although I don't see it documented. You can try it <a href=\"https://developers.google.com/drive/v3/reference/files/list#parameters\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I am not so sure about <code>getDownloadUrl</code>. You can check the v2 to v3 conversion documentation at <a href=\"https://developers.google.com/drive/v3/web/migration\" rel=\"nofollow noreferrer\">this page</a>. It suggests that <code>files.get with ?alt=media</code> might be a suitable replacement for <code>downloadUrl</code>.</p>\n"},{"tags":[],"owner":{"account_id":3766160,"reputation":2568,"user_id":3129644,"accept_rate":83,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569319757,"creation_date":1569317563,"answer_id":58077249,"question_id":46082536,"body_markdown":"When you get files from a folder:\r\n\r\n    val files = driveService.files().list()\r\n                        .setSpaces(&quot;appDataFolder&quot;)\r\n                        .setFields(&quot;files(id, name, createdTime)&quot;)\r\n                        .execute()\r\n\r\nWhen you create file:\r\n\r\n    val file = driveService.files().create(fileMetadata, mediaContent)\r\n                        .setFields(&quot;id, name, createdTime&quot;)\r\n                        .execute()\r\n\r\nYou can see  all available properties [here][1].\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/reference/files#properties","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>When you get files from a folder:</p>\n\n<pre><code>val files = driveService.files().list()\n                    .setSpaces(\"appDataFolder\")\n                    .setFields(\"files(id, name, createdTime)\")\n                    .execute()\n</code></pre>\n\n<p>When you create file:</p>\n\n<pre><code>val file = driveService.files().create(fileMetadata, mediaContent)\n                    .setFields(\"id, name, createdTime\")\n                    .execute()\n</code></pre>\n\n<p>You can see  all available properties <a href=\"https://developers.google.com/drive/api/v3/reference/files#properties\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6200582,"reputation":1,"user_id":4830542,"display_name":"Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661959095,"creation_date":1661959095,"answer_id":73558170,"question_id":46082536,"body_markdown":"modifiedDate did not work for me, although it says on the documents. modifiedTime gives both date and time\r\n\r\n    $params = array\r\n    (\r\n      &#39;pageSize&#39; =&gt; 1000,\r\n      &#39;fields&#39; =&gt; &quot;nextPageToken, files(id , name , modifiedTime)&quot;,\r\n      &#39;q&#39; =&gt; &quot;&#39;&quot; . $parent_folder_id . &quot;&#39; in parents&quot;\r\n    ) ;\r\n    $files = $service -&gt; files -&gt; listFiles($params) ;   \r\n    foreach ($files as $file)\r\n    {\r\n      echo($file -&gt; getModifiedTime()) ;\r\n      echo($file -&gt; getName()) ;\r\n    }\r\n","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>modifiedDate did not work for me, although it says on the documents. modifiedTime gives both date and time</p>\n<pre><code>$params = array\n(\n  'pageSize' =&gt; 1000,\n  'fields' =&gt; &quot;nextPageToken, files(id , name , modifiedTime)&quot;,\n  'q' =&gt; &quot;'&quot; . $parent_folder_id . &quot;' in parents&quot;\n) ;\n$files = $service -&gt; files -&gt; listFiles($params) ;   \nforeach ($files as $file)\n{\n  echo($file -&gt; getModifiedTime()) ;\n  echo($file -&gt; getName()) ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18459139,"reputation":381,"user_id":13447094,"display_name":"Enes Kayıklık"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688124745,"creation_date":1688124745,"answer_id":76588546,"question_id":46082536,"body_markdown":"You can use `*` to get the all fields of a file.\r\n```kotlin\r\nval files = drive.files().list().setSpaces(&quot;appDataFolder&quot;)\r\n                .setFields(&quot;nextPageToken, files(*)&quot;)\r\n                .setPageSize(10)\r\n                .execute()\r\n```","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>You can use <code>*</code> to get the all fields of a file.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val files = drive.files().list().setSpaces(&quot;appDataFolder&quot;)\n                .setFields(&quot;nextPageToken, files(*)&quot;)\n                .setPageSize(10)\n                .execute()\n</code></pre>\n"}],"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46083378,"answer_count":4,"score":3,"last_activity_date":1688124745,"creation_date":1504724419,"question_id":46082536,"body_markdown":"I&#39;m upgrading from v2 to v3 of the Google Drive API on Android and would like to know how to get some extra fields when I query for files, ideally without paging. \r\n\r\nThis is the code I got:\r\n\r\n    FileList result = drive.files().list()\r\n                    .setQ(&quot;&#39;root&#39; in parents  and trashed=false&quot;)\r\n                    .setFields(&quot;files(id, name, fileSize, modifiedDate, mimeType)&quot;)\r\n                    .execute();\r\n\r\nBut it says that `invalid field selection fileSize`. \r\n\r\nAlso I would like a way to get a download url for the file that works temporarily for sharing with other apps. This used to be achievable with `getDownloadUrl` and adding the token on v2. \r\n\r\nThanks.  \r\n\r\nEdit: Looks like the correct fields are:\r\n\r\n                .setFields(&quot;files(id, name, size, modifiedTime)&quot;)\r\n","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>I'm upgrading from v2 to v3 of the Google Drive API on Android and would like to know how to get some extra fields when I query for files, ideally without paging. </p>\n\n<p>This is the code I got:</p>\n\n<pre><code>FileList result = drive.files().list()\n                .setQ(\"'root' in parents  and trashed=false\")\n                .setFields(\"files(id, name, fileSize, modifiedDate, mimeType)\")\n                .execute();\n</code></pre>\n\n<p>But it says that <code>invalid field selection fileSize</code>. </p>\n\n<p>Also I would like a way to get a download url for the file that works temporarily for sharing with other apps. This used to be achievable with <code>getDownloadUrl</code> and adding the token on v2. </p>\n\n<p>Thanks.  </p>\n\n<p>Edit: Looks like the correct fields are:</p>\n\n<pre><code>            .setFields(\"files(id, name, size, modifiedTime)\")\n</code></pre>\n"},{"tags":["java","android","spring-boot"],"owner":{"account_id":28920488,"reputation":1,"user_id":22151567,"display_name":"Dzmitry Meliashkevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688124529,"creation_date":1688118666,"question_id":76587839,"body_markdown":"I have the same issue as this https://stackoverflow.com/questions/70756185/how-to-receive-the-message-from-stomp-websocket-with-spring-boot-on-android but there is no answer to how to handle this problem for me. The logs show that the channel is open and data from the client comes to server-side  \r\n\r\n```java\r\n stompClient.topic(&quot;/topic/client-data&quot;)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(stompMessage -&gt; {\r\n            Log.d(&quot;AAAAAA&quot;, stompMessage.getPayload());\r\n        });\r\n```  \r\n\r\nI have this function, and the log shows completely nothing \r\n\r\n\r\nServer: \r\n```java\r\n@RestController\r\n@Controller\r\n@Slf4j\r\n@RequestMapping(&quot;api/intent&quot;)\r\npublic class IntentController {\r\n\r\n    @Autowired\r\n    private IntentService service;\r\n\r\n    @MessageMapping(&quot;/client-message&quot;)\r\n    @SendTo(&quot;/topic/client-data&quot;)\r\n    public IntentModel sendPostmanData(String message) throws Exception {\r\n        if (message.equals(&quot;DATA&quot;)) {\r\n            return service.sendPostmanBody();\r\n        } else {\r\n            return new IntentModel();\r\n        }\r\n    }\r\n\r\n    @PostMapping(value = &quot;/inputData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public void getPostmanRequestBody(@RequestBody IntentModel request) {\r\n        System.out.println(request);\r\n        service.getPostmanBody(request);\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@EnableWebSocket\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/intent&quot;).withSockJS();;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI haven&#39;t found out the solution for Android, please give any info if you had the same issue.","title":"StompClient does not receive data","body":"<p>I have the same issue as this <a href=\"https://stackoverflow.com/questions/70756185/how-to-receive-the-message-from-stomp-websocket-with-spring-boot-on-android\">How to receive the message from stomp websocket with spring boot on android?</a> but there is no answer to how to handle this problem for me. The logs show that the channel is open and data from the client comes to server-side</p>\n<pre class=\"lang-java prettyprint-override\"><code> stompClient.topic(&quot;/topic/client-data&quot;)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(stompMessage -&gt; {\n            Log.d(&quot;AAAAAA&quot;, stompMessage.getPayload());\n        });\n</code></pre>\n<p>I have this function, and the log shows completely nothing</p>\n<p>Server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Controller\n@Slf4j\n@RequestMapping(&quot;api/intent&quot;)\npublic class IntentController {\n\n    @Autowired\n    private IntentService service;\n\n    @MessageMapping(&quot;/client-message&quot;)\n    @SendTo(&quot;/topic/client-data&quot;)\n    public IntentModel sendPostmanData(String message) throws Exception {\n        if (message.equals(&quot;DATA&quot;)) {\n            return service.sendPostmanBody();\n        } else {\n            return new IntentModel();\n        }\n    }\n\n    @PostMapping(value = &quot;/inputData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public void getPostmanRequestBody(@RequestBody IntentModel request) {\n        System.out.println(request);\n        service.getPostmanBody(request);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocket\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/intent&quot;).withSockJS();;\n    }\n}\n</code></pre>\n<p>I haven't found out the solution for Android, please give any info if you had the same issue.</p>\n"},{"tags":["java","dictionary","enums"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1688115226,"post_id":76587433,"comment_id":135033435,"body_markdown":"&quot;I&#39;d really rather not iterate through the entire enum with a double for loop&quot; Why not?","body":"&quot;I&#39;d really rather not iterate through the entire enum with a double for loop&quot; Why not?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1688115248,"post_id":76587433,"comment_id":135033441,"body_markdown":"Monetary values -&gt; use `BigDecimal` to mitigate problems with precision.","body":"Monetary values -&gt; use <code>BigDecimal</code> to mitigate problems with precision."}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688118327,"creation_date":1688116138,"answer_id":76587542,"question_id":76587433,"body_markdown":"maybe it&#39;s better to use Java 8&#39;s Stream API and Collectors!\r\n\r\nlet me give you an example, \r\n\r\n    import java.util.EnumMap;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class CurrencyMapExample {\r\n        public static void main(String[] args) {\r\n            // map with pairs of currency instances as keys and random float values\r\n            Map&lt;Pair&lt;Currency, Currency&gt;, Float&gt; currencyMap = Stream.of(Currency.values())\r\n                    .flatMap(currency1 -&gt; Stream.of(Currency.values())\r\n                            .map(currency2 -&gt; new Pair&lt;&gt;(currency1, currency2)))\r\n                    .collect(Collectors.toMap(pair -&gt; pair, CurrencyMapExample::getRandomFloat,\r\n                            (value1, value2) -&gt; value1, () -&gt; new EnumMap&lt;&gt;(Pair.class)));\r\n    \r\n            // currency map\r\n            currencyMap.forEach((pair, value) -&gt; System.out.println(pair + &quot; : &quot; + value));\r\n        }\r\n    \r\n        // generate a random float value\r\n        private static Float getRandomFloat(Pair&lt;Currency, Currency&gt; pair) {\r\n            // replace this with your code to generate random float for each pair of currencies\r\n            return (float) Math.random();\r\n        }\r\n    \r\n        // pair class to represent a pair of currencies\r\n        static class Pair&lt;T, U&gt; {\r\n            private final T first;\r\n            private final U second;\r\n    \r\n            public Pair(T first, U second) {\r\n                this.first = first;\r\n                this.second = second;\r\n            }\r\n    \r\n            public T getFirst() {\r\n                return first;\r\n            }\r\n    \r\n            public U getSecond() {\r\n                return second;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nyou can create a `Map` with a pair of `Currency` instances as a key by using the `EnumMap` class in Java!\r\n\r\ngood luck!","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>maybe it's better to use Java 8's Stream API and Collectors!</p>\n<p>let me give you an example,</p>\n<pre><code>import java.util.EnumMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class CurrencyMapExample {\n    public static void main(String[] args) {\n        // map with pairs of currency instances as keys and random float values\n        Map&lt;Pair&lt;Currency, Currency&gt;, Float&gt; currencyMap = Stream.of(Currency.values())\n                .flatMap(currency1 -&gt; Stream.of(Currency.values())\n                        .map(currency2 -&gt; new Pair&lt;&gt;(currency1, currency2)))\n                .collect(Collectors.toMap(pair -&gt; pair, CurrencyMapExample::getRandomFloat,\n                        (value1, value2) -&gt; value1, () -&gt; new EnumMap&lt;&gt;(Pair.class)));\n\n        // currency map\n        currencyMap.forEach((pair, value) -&gt; System.out.println(pair + &quot; : &quot; + value));\n    }\n\n    // generate a random float value\n    private static Float getRandomFloat(Pair&lt;Currency, Currency&gt; pair) {\n        // replace this with your code to generate random float for each pair of currencies\n        return (float) Math.random();\n    }\n\n    // pair class to represent a pair of currencies\n    static class Pair&lt;T, U&gt; {\n        private final T first;\n        private final U second;\n\n        public Pair(T first, U second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public T getFirst() {\n            return first;\n        }\n\n        public U getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;\n        }\n    }\n}\n</code></pre>\n<p>you can create a <code>Map</code> with a pair of <code>Currency</code> instances as a key by using the <code>EnumMap</code> class in Java!</p>\n<p>good luck!</p>\n"},{"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688124414,"creation_date":1688124414,"answer_id":76588512,"question_id":76587433,"body_markdown":"You can make a Map-based solution if you first define a CurrencyPair class to represent the pair of currencies:\r\n\r\n    public class CurrencyPair {\r\n        private Currency fromCurrency;\r\n        private Currency toCurrency;\r\n    \r\n        public CurrencyPair(Currency fromCurrency, Currency toCurrency) {\r\n            this.fromCurrency = fromCurrency;\r\n            this.toCurrency = toCurrency;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            CurrencyPair that = (CurrencyPair) o;\r\n            return fromCurrency == that.fromCurrency &amp;&amp; toCurrency == that.toCurrency;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(fromCurrency, toCurrency);\r\n        }\r\n    }\r\n\r\nNext, create a Map with CurrencyPair keys and Double values to store the buy/sell prices:\r\n\r\n    Map&lt;CurrencyPair, Double&gt; currencyPrices = new HashMap&lt;&gt;();\r\n\r\nTo populate the map with random prices for all possible currency pairs, you can iterate over the Currency enum and generate random prices for each pair of currencies:\r\n\r\n    Random random = new Random();\r\n    \r\n    for (Currency fromCurrency : Currency.values()) {\r\n        for (Currency toCurrency : Currency.values()) {\r\n            CurrencyPair currencyPair = new CurrencyPair(fromCurrency, toCurrency);\r\n            double price = random.nextDouble(); // Generate a random price\r\n            currencyPrices.put(currencyPair, price);\r\n        }\r\n    }\r\n\r\nNow you can access the buy/sell prices by providing the appropriate CurrencyPair key:\r\n\r\n    CurrencyPair currencyPair = new CurrencyPair(Currency.USD, Currency.EUR);\r\n    double price = currencyPrices.get(currencyPair);\r\n\r\nThat&#39;s it. I think that this Map-based solution is a lot easier to read than a Streams-based one.\r\n","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>You can make a Map-based solution if you first define a CurrencyPair class to represent the pair of currencies:</p>\n<pre><code>public class CurrencyPair {\n    private Currency fromCurrency;\n    private Currency toCurrency;\n\n    public CurrencyPair(Currency fromCurrency, Currency toCurrency) {\n        this.fromCurrency = fromCurrency;\n        this.toCurrency = toCurrency;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CurrencyPair that = (CurrencyPair) o;\n        return fromCurrency == that.fromCurrency &amp;&amp; toCurrency == that.toCurrency;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(fromCurrency, toCurrency);\n    }\n}\n</code></pre>\n<p>Next, create a Map with CurrencyPair keys and Double values to store the buy/sell prices:</p>\n<pre><code>Map&lt;CurrencyPair, Double&gt; currencyPrices = new HashMap&lt;&gt;();\n</code></pre>\n<p>To populate the map with random prices for all possible currency pairs, you can iterate over the Currency enum and generate random prices for each pair of currencies:</p>\n<pre><code>Random random = new Random();\n\nfor (Currency fromCurrency : Currency.values()) {\n    for (Currency toCurrency : Currency.values()) {\n        CurrencyPair currencyPair = new CurrencyPair(fromCurrency, toCurrency);\n        double price = random.nextDouble(); // Generate a random price\n        currencyPrices.put(currencyPair, price);\n    }\n}\n</code></pre>\n<p>Now you can access the buy/sell prices by providing the appropriate CurrencyPair key:</p>\n<pre><code>CurrencyPair currencyPair = new CurrencyPair(Currency.USD, Currency.EUR);\ndouble price = currencyPrices.get(currencyPair);\n</code></pre>\n<p>That's it. I think that this Map-based solution is a lot easier to read than a Streams-based one.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76588512,"answer_count":2,"score":0,"last_activity_date":1688124414,"creation_date":1688115139,"question_id":76587433,"body_markdown":"I have a Spring Boot application where I hold bank accounts with a certain balance and in a certain currency, and can `POST` transactions between any two bank accounts. For currencies, I have an `enum` with about 300 currency identifiers as per ISO 4217:\r\n\r\n```java\r\npublic enum Currency {\r\n    AFN,\r\n    EUR,\r\n    ALL,\r\n    DZD,\r\n    USD,\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\n\r\nTo make a transaction between two accounts with different currency identifiers, I want to take into consideration the buy/sell price of different currencies, which for this application can be random floats. So effectively I&#39;m looking for a `Map` with pairs of `Currency` instances as keys and `float` or `double` as values.\r\n\r\nWhat is a quick and elegant way to do this? I&#39;d really rather not iterate through the entire `enum` with a double `for` loop.","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>I have a Spring Boot application where I hold bank accounts with a certain balance and in a certain currency, and can <code>POST</code> transactions between any two bank accounts. For currencies, I have an <code>enum</code> with about 300 currency identifiers as per ISO 4217:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Currency {\n    AFN,\n    EUR,\n    ALL,\n    DZD,\n    USD,\n    .\n    .\n    .\n}\n</code></pre>\n<p>To make a transaction between two accounts with different currency identifiers, I want to take into consideration the buy/sell price of different currencies, which for this application can be random floats. So effectively I'm looking for a <code>Map</code> with pairs of <code>Currency</code> instances as keys and <code>float</code> or <code>double</code> as values.</p>\n<p>What is a quick and elegant way to do this? I'd really rather not iterate through the entire <code>enum</code> with a double <code>for</code> loop.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509365792,"post_id":47014957,"comment_id":80976296,"body_markdown":"if possible rename psql enum `UNDER-CONSTRUCTION` to `UNDERCONSTRUCTION`. So it matches the enum you defined in java","body":"if possible rename psql enum <code>UNDER-CONSTRUCTION</code> to <code>UNDERCONSTRUCTION</code>. So it matches the enum you defined in java"},{"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"score":0,"creation_date":1509368787,"post_id":47014957,"comment_id":80978280,"body_markdown":"@Lino This is live DB used by other person also.So I can&#39;t change it.","body":"@Lino This is live DB used by other person also.So I can&#39;t change it."}],"answers":[{"tags":[],"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509484702,"creation_date":1509484702,"answer_id":47044672,"question_id":47014957,"body_markdown":"Hibernate uses function `name()` of `Enum` when it serialize value of enumerated field and `Enum.valueOf(...)` when it is deserialize entity.\r\n\r\nThats why you cant use `&quot;UNDER-CONSTRUCTION&quot;` in values","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>Hibernate uses function <code>name()</code> of <code>Enum</code> when it serialize value of enumerated field and <code>Enum.valueOf(...)</code> when it is deserialize entity.</p>\n\n<p>Thats why you cant use <code>\"UNDER-CONSTRUCTION\"</code> in values</p>\n"},{"tags":[],"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510152300,"creation_date":1510152300,"answer_id":47182602,"question_id":47014957,"body_markdown":"So I am able to figure out what I was missing. Basically I have to override both nullSafeGet and nullSafeSet in PsqlEnum.java file.&lt;br&gt;\r\nI reached to solution by following this [java file](https://gist.github.com/jedvardsson/96af1b86f78762ac12ef#file-labeledenumtype-java).&lt;br&gt;\r\nSo Either define custom UserType like defined in link or custom EnumType both worked for me.&lt;br&gt;\r\nIn above code PsqlEnum.java in custom EnumType I was missing overriding  nullSafeGet.","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>So I am able to figure out what I was missing. Basically I have to override both nullSafeGet and nullSafeSet in PsqlEnum.java file.<br>\nI reached to solution by following this <a href=\"https://gist.github.com/jedvardsson/96af1b86f78762ac12ef#file-labeledenumtype-java\" rel=\"nofollow noreferrer\">java file</a>.<br>\nSo Either define custom UserType like defined in link or custom EnumType both worked for me.<br>\nIn above code PsqlEnum.java in custom EnumType I was missing overriding  nullSafeGet.</p>\n"},{"tags":[],"owner":{"account_id":2169678,"reputation":611,"user_id":1922011,"display_name":"Mukhtiar Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688124386,"creation_date":1688124386,"answer_id":76588505,"question_id":47014957,"body_markdown":"Here is the possible solution you also need to override the `nullSafeGet` in the `PsqlEnum` class.\r\n\r\n\r\n    @Override\r\n    public Object nullSafeGet(ResultSet rs, String[] names,  SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\r\n        String name = rs.getString(names[0]);\r\n        if(rs.wasNull()) return  null;\r\n\r\n        try {\r\n            Field field = getClass().getSuperclass().getDeclaredField(&quot;enumClass&quot;);\r\n            field.setAccessible(true);\r\n            Class value = (Class) field.get(this);\r\n            Optional&lt;Object&gt; object =  Arrays.stream(value.getEnumConstants()).filter(o -&gt; o.toString().equals(name)).findFirst();\r\n            return object.orElseThrow(() -&gt;   new IllegalArgumentException(\r\n                &quot;No enum constant &quot; + value + &quot;.&quot; + name));\r\n        } catch (ReflectiveOperationException e) {\r\n            return super.nullSafeGet(rs, names, session, owner);\r\n        }\r\n    }","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>Here is the possible solution you also need to override the <code>nullSafeGet</code> in the <code>PsqlEnum</code> class.</p>\n<pre><code>@Override\npublic Object nullSafeGet(ResultSet rs, String[] names,  SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\n    String name = rs.getString(names[0]);\n    if(rs.wasNull()) return  null;\n\n    try {\n        Field field = getClass().getSuperclass().getDeclaredField(&quot;enumClass&quot;);\n        field.setAccessible(true);\n        Class value = (Class) field.get(this);\n        Optional&lt;Object&gt; object =  Arrays.stream(value.getEnumConstants()).filter(o -&gt; o.toString().equals(name)).findFirst();\n        return object.orElseThrow(() -&gt;   new IllegalArgumentException(\n            &quot;No enum constant &quot; + value + &quot;.&quot; + name));\n    } catch (ReflectiveOperationException e) {\n        return super.nullSafeGet(rs, names, session, owner);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1688124386,"creation_date":1509365554,"question_id":47014957,"body_markdown":"In my Hibernate application, I want to map Java enum to Postgresql enum and vice-versa.\r\n\r\nMy application is using apache-thrift,hibernate/JPA(for ORM model),postgresql DB.\r\n\r\nPostgresql DB have defined enum using command \r\n\r\n    CREATE TYPE status_enum AS ENUM (&#39;UNDER-CONSTRUCTION&#39;, &#39;CLOSED&#39;, &#39;OPEN&#39;)\r\n\r\nDB has some data initially few tuples have &#39;UNDER-CONSTRUCTION&#39; status.\r\n\r\nHere is my solution:\r\n\r\nCustom Type for enum mapping:\r\n\r\n    public class PsqlEnum extends EnumType {\r\n    \r\n        @Override\r\n        public void nullSafeSet(final PreparedStatement st, final Object value, final int index,\r\n                final SharedSessionContractImplementor session) throws SQLException {\r\n            if(value == null) {\r\n                st.setNull( index, Types.OTHER );\r\n            }\r\n            else {\r\n                st.setObject(\r\n                        index,\r\n                        value.toString(),\r\n                        Types.OTHER\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nEntity for ORM(hibernate) model :\r\n\r\n    @Entity\r\n    @Table(name = &quot;place&quot;)\r\n    @TypeDef(\r\n            name = &quot;pgsql_enum&quot;,\r\n            typeClass = PsqlEnum.class\r\n    )\r\n    public class Place implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;,nullable = false)\r\n        @Getter @Setter private Integer id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        @Getter @Setter private String name;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @Enumerated(EnumType.STRING)\r\n        @Type(type = &quot;pgsql_enum&quot;)\r\n        @Column(name = &quot;status_level&quot;,columnDefinition = &quot;status_enum&quot;)\r\n        private STATUS status;\r\n    }\r\n\r\n\r\nEnum Class :\r\n\r\n    public enum STATUS{\r\n        CLOSED(&quot;CLOSED&quot;),\r\n        UNDERCONSTRUCTION(&quot;UNDER-CONSTRUCTION&quot;),\r\n        OPEN(&quot;OPEN&quot;);\r\n        private final String label;\r\n        Exposure(String label){\r\n            this.label = label;\r\n        }\r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public static STATUS fromLabel(String label){\r\n            for(STATUS currentEnum:STATUS.values()){\r\n                if(currentEnum.getLabel().equals(label)){\r\n                    return currentEnum;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.label;\r\n        }\r\n    }\r\n\r\nIt works fine on insertion operation while on retrieving data it throws an error : `java.lang.IllegalArgumentException: Unknown name value [UNDER-CONSTRUCTION] for enum class`\r\n\r\nI tried every given reference solution in StackOverflow no one is working fine for my problem.\r\n\r\n","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>In my Hibernate application, I want to map Java enum to Postgresql enum and vice-versa.</p>\n\n<p>My application is using apache-thrift,hibernate/JPA(for ORM model),postgresql DB.</p>\n\n<p>Postgresql DB have defined enum using command </p>\n\n<pre><code>CREATE TYPE status_enum AS ENUM ('UNDER-CONSTRUCTION', 'CLOSED', 'OPEN')\n</code></pre>\n\n<p>DB has some data initially few tuples have 'UNDER-CONSTRUCTION' status.</p>\n\n<p>Here is my solution:</p>\n\n<p>Custom Type for enum mapping:</p>\n\n<pre><code>public class PsqlEnum extends EnumType {\n\n    @Override\n    public void nullSafeSet(final PreparedStatement st, final Object value, final int index,\n            final SharedSessionContractImplementor session) throws SQLException {\n        if(value == null) {\n            st.setNull( index, Types.OTHER );\n        }\n        else {\n            st.setObject(\n                    index,\n                    value.toString(),\n                    Types.OTHER\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>Entity for ORM(hibernate) model :</p>\n\n<pre><code>@Entity\n@Table(name = \"place\")\n@TypeDef(\n        name = \"pgsql_enum\",\n        typeClass = PsqlEnum.class\n)\npublic class Place implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"id\",nullable = false)\n    @Getter @Setter private Integer id;\n\n    @Column(name = \"name\")\n    @Getter @Setter private String name;\n\n\n    @Getter\n    @Setter\n    @Enumerated(EnumType.STRING)\n    @Type(type = \"pgsql_enum\")\n    @Column(name = \"status_level\",columnDefinition = \"status_enum\")\n    private STATUS status;\n}\n</code></pre>\n\n<p>Enum Class :</p>\n\n<pre><code>public enum STATUS{\n    CLOSED(\"CLOSED\"),\n    UNDERCONSTRUCTION(\"UNDER-CONSTRUCTION\"),\n    OPEN(\"OPEN\");\n    private final String label;\n    Exposure(String label){\n        this.label = label;\n    }\n    public String getLabel() {\n        return label;\n    }\n\n    public static STATUS fromLabel(String label){\n        for(STATUS currentEnum:STATUS.values()){\n            if(currentEnum.getLabel().equals(label)){\n                return currentEnum;\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        return this.label;\n    }\n}\n</code></pre>\n\n<p>It works fine on insertion operation while on retrieving data it throws an error : <code>java.lang.IllegalArgumentException: Unknown name value [UNDER-CONSTRUCTION] for enum class</code></p>\n\n<p>I tried every given reference solution in StackOverflow no one is working fine for my problem.</p>\n"},{"tags":["java","http","jakarta-ee","websocket","glassfish"],"comments":[{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":2,"creation_date":1428484790,"post_id":29500133,"comment_id":47177215,"body_markdown":"use wireshark / tcpdump to see what is going on. Actually, you can try to hit it with your browser. HTTP 200 is not the status you want to see (you need 101: Switching Protocol, so it seems like the websocket request was processed by something else.","body":"use wireshark / tcpdump to see what is going on. Actually, you can try to hit it with your browser. HTTP 200 is not the status you want to see (you need 101: Switching Protocol, so it seems like the websocket request was processed by something else."},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428484975,"post_id":29500133,"comment_id":47177350,"body_markdown":"@PavelBucek okay, there is a glassfish exception at the start of this application: `SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\njava.lang.InstantiationException`","body":"@PavelBucek okay, there is a glassfish exception at the start of this application: <code>SEVERE: WebModule[&#47;CollabEdit]Exception starting filter WebSocket filter java.lang.InstantiationException</code>"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428485884,"post_id":29500133,"comment_id":47177936,"body_markdown":"edit your question and paste the complete exception there. I suspect your @ServerEndpoint annotated class is not public or similar for referenced decoder/encoder ..","body":"edit your question and paste the complete exception there. I suspect your @ServerEndpoint annotated class is not public or similar for referenced decoder/encoder .."},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428486360,"post_id":29500133,"comment_id":47178259,"body_markdown":"@PavelBucek: its done, please have a look.","body":"@PavelBucek: its done, please have a look."},{"owner":{"account_id":419946,"reputation":1121,"user_id":797376,"display_name":"Donghwan Kim"},"score":1,"creation_date":1428507033,"post_id":29500133,"comment_id":47193035,"body_markdown":"Check if `MessageDecoder` deals with `com.CollabEdit.Message` and is able to be instantiated by container as the exception trace says `Decoder for type: class com.CollabEdit.Message has not been registered.`","body":"Check if <code>MessageDecoder</code> deals with <code>com.CollabEdit.Message</code> and is able to be instantiated by container as the exception trace says <code>Decoder for type: class com.CollabEdit.Message has not been registered.</code>"},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428507139,"post_id":29500133,"comment_id":47193122,"body_markdown":"@DonghwanKim: sir I have created a java file named as MessageDecoder.java \nis there any other way to create a Decoder ?","body":"@DonghwanKim: sir I have created a java file named as MessageDecoder.java  is there any other way to create a Decoder ?"},{"owner":{"account_id":419946,"reputation":1121,"user_id":797376,"display_name":"Donghwan Kim"},"score":1,"creation_date":1428507232,"post_id":29500133,"comment_id":47193182,"body_markdown":"Well, I don&#39;t think so but can you share MessageDecoder.java?","body":"Well, I don&#39;t think so but can you share MessageDecoder.java?"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428507445,"post_id":29500133,"comment_id":47193345,"body_markdown":"as Kim already wrote, the issue you have is about Decoder and possibly encoder as well - make sure your Decoder implements one of the subclasses of javax.websocket.Decoder .. so it might look like &quot;public class MessageDecoder implements Decoder.Text&lt;Messate&gt; { ... }","body":"as Kim already wrote, the issue you have is about Decoder and possibly encoder as well - make sure your Decoder implements one of the subclasses of javax.websocket.Decoder .. so it might look like &quot;public class MessageDecoder implements Decoder.Text&lt;Messate&gt; { ... }"},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428507578,"post_id":29500133,"comment_id":47193454,"body_markdown":"Please take a look at question I have added MessageDecoder.java","body":"Please take a look at question I have added MessageDecoder.java"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428567159,"post_id":29500133,"comment_id":47219431,"body_markdown":"I&#39;m not sure what is the issue, since the code you provided looks ok. If possible, share the complete (buildable) sources somewhere and I can take a look. (we can continue on users@tyrus.java.net if you want, it might be more convenient..)","body":"I&#39;m not sure what is the issue, since the code you provided looks ok. If possible, share the complete (buildable) sources somewhere and I can take a look. (we can continue on users@tyrus.java.net if you want, it might be more convenient..)"},{"owner":{"account_id":1044297,"reputation":125,"user_id":1049613,"accept_rate":75,"display_name":"Mahmoud Y. Elatma"},"score":0,"creation_date":1510444925,"post_id":29500133,"comment_id":81438659,"body_markdown":"Did you find a solution to this issue????","body":"Did you find a solution to this issue????"}],"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6696,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":0,"score":15,"last_activity_date":1688124341,"creation_date":1428436434,"question_id":29500133,"body_markdown":"I have been using GlassFish 4 as my server.\r\nI am opening a WebSocket connect using this statement:\r\n\r\n    webSocket = new WebSocket(link);\r\nWhere: \r\n\r\n    link = &#39;ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&#39;;\r\n\r\nAnd in the Server File:\r\n\r\n    @ServerEndpoint(value=&quot;/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&quot;, encoders = {MessageEncoder.class}, decoders = {MessageDecoder.class})\r\n\r\nActually, I have been using URL mapping as well, this &quot;**file333B1CDF85-DDDC-E411-8299-F82FA8BE8622**&quot; is actually is for the user, but at the back end, the control is in the &quot;**main.jsp**&quot; file.\r\nDuring the execution, the error generated is:\r\n\r\n    WebSocket connection to &#39;ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&#39; failed: Error during WebSocket handshake: Unexpected response code: 200\r\n\r\n**StackTrace** of Exception in the GlassFish server:\r\n\r\n    SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\r\n    java.lang.InstantiationException\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:135)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:5297)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:5909)\r\n    \tat com.sun.enterprise.web.WebModule.start(WebModule.java:691)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1041)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:1024)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n    \tat com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:2278)\r\n    \tat com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1924)\r\n    \tat com.sun.enterprise.web.WebApplication.start(WebApplication.java:139)\r\n    \tat org.glassfish.internal.data.EngineRef.start(EngineRef.java:122)\r\n    \tat org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:291)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:352)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:497)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:527)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:523)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:356)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:522)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:546)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1423)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1500(CommandRunnerImpl.java:108)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1762)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1674)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\r\n    \tat org.glassfish.grizzly.http.server.StaticHttpHandler.service(StaticHttpHandler.java:297)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:246)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:191)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:168)\r\n    \tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:189)\r\n    \tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:288)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:206)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:136)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:114)\r\n    \tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n    \tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:838)\r\n    \tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:113)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:564)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:544)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: javax.servlet.ServletException: Web socket server initialization failed.\r\n    \tat org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:135)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:275)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:131)\r\n    \t... 46 more\r\n    Caused by: javax.websocket.DeploymentException: Decoder for type: class com.CollabEdit.Message has not been registered.\r\n    Decoder for type: class com.CollabEdit.Message has not been registered.\r\n    \tat org.glassfish.tyrus.core.ErrorCollector.composeComprehensiveException(ErrorCollector.java:83)\r\n    \tat org.glassfish.tyrus.server.TyrusServerContainer.start(TyrusServerContainer.java:144)\r\n    \tat org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:133)\r\n    \t... 48 more\r\n\r\n**Message.java:**\r\n\r\n    package com.CollabEdit;\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import java.io.StringWriter;\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n     \r\n    public class Message {\r\n        private JsonObject json;\r\n     \r\n        public Message(JsonObject json) {\r\n            this.json = json;\r\n        }\r\n     \r\n        public JsonObject getJson() {\r\n            return json;\r\n        }\r\n     \r\n        public void setJson(JsonObject json) {\r\n            this.json = json;\r\n        }\r\n     \r\n        @Override\r\n        public String toString(){\r\n            StringWriter writer = new StringWriter();\r\n     \r\n            Json.createWriter(writer).write(json);\r\n     \r\n            return writer.toString();\r\n        }\r\n    }\r\n\r\n**MessageDecoder.java:**\r\n\r\n    package com.CollabEdit;\r\n    \r\n    import java.io.StringReader;\r\n    import javax.json.Json;\r\n    import javax.json.JsonException;\r\n    import javax.json.JsonObject;\r\n    import javax.websocket.DecodeException;\r\n    import javax.websocket.Decoder;\r\n    import javax.websocket.EndpointConfig;\r\n     \r\n    /**\r\n     * Decodes a client-sent string into a Message class\r\n     */\r\n    public class MessageDecoder implements Decoder.Text&lt;Message&gt;\r\n    {\r\n        /**\r\n         * Transform the input string into a Message\r\n         */\r\n        @Override\r\n        public Message decode(String string) throws DecodeException {\r\n            JsonObject json = Json.createReader(new StringReader(string)).readObject();\r\n            return new Message(json);\r\n        }\r\n     \r\n        /**\r\n         * Checks whether the input can be turned into a valid Message object\r\n         * in this case, if we can read it as a Json object, we can.\r\n         */\r\n        @Override\r\n        public boolean willDecode(String string) {\r\n            try {\r\n                Json.createReader(new StringReader(string)).read();\r\n                return true;\r\n            } catch (JsonException ex) {\r\n                ex.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n     \r\n        /**\r\n         * The following two methods are placeholders as we don&#39;t need to do anything\r\n         * special for init or destroy.\r\n         */\r\n        @Override\r\n        public void init(EndpointConfig config) {\r\n            System.out.println(&quot;init&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n            System.out.println(&quot;destroy&quot;);\r\n        }\r\n     }c","title":"WebSocket Error during Handshake Unexpected code 200","body":"<p>I have been using GlassFish 4 as my server.\nI am opening a WebSocket connect using this statement:</p>\n<pre><code>webSocket = new WebSocket(link);\n</code></pre>\n<p>Where:</p>\n<pre><code>link = 'ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622';\n</code></pre>\n<p>And in the Server File:</p>\n<pre><code>@ServerEndpoint(value=&quot;/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&quot;, encoders = {MessageEncoder.class}, decoders = {MessageDecoder.class})\n</code></pre>\n<p>Actually, I have been using URL mapping as well, this &quot;<strong>file333B1CDF85-DDDC-E411-8299-F82FA8BE8622</strong>&quot; is actually is for the user, but at the back end, the control is in the &quot;<strong>main.jsp</strong>&quot; file.\nDuring the execution, the error generated is:</p>\n<pre><code>WebSocket connection to 'ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622' failed: Error during WebSocket handshake: Unexpected response code: 200\n</code></pre>\n<p><strong>StackTrace</strong> of Exception in the GlassFish server:</p>\n<pre><code>SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\njava.lang.InstantiationException\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:135)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:5297)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:5909)\n    at com.sun.enterprise.web.WebModule.start(WebModule.java:691)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1041)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:1024)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:2278)\n    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1924)\n    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:139)\n    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:122)\n    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:291)\n    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:352)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:497)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:527)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:523)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:356)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:522)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:546)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1423)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1500(CommandRunnerImpl.java:108)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1762)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1674)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\n    at com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\n    at org.glassfish.grizzly.http.server.StaticHttpHandler.service(StaticHttpHandler.java:297)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:246)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:191)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:168)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:189)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:288)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:206)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:136)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:114)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:838)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:113)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:564)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:544)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: javax.servlet.ServletException: Web socket server initialization failed.\n    at org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:135)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:275)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:131)\n    ... 46 more\nCaused by: javax.websocket.DeploymentException: Decoder for type: class com.CollabEdit.Message has not been registered.\nDecoder for type: class com.CollabEdit.Message has not been registered.\n    at org.glassfish.tyrus.core.ErrorCollector.composeComprehensiveException(ErrorCollector.java:83)\n    at org.glassfish.tyrus.server.TyrusServerContainer.start(TyrusServerContainer.java:144)\n    at org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:133)\n    ... 48 more\n</code></pre>\n<p><strong>Message.java:</strong></p>\n<pre><code>package com.CollabEdit;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport java.io.StringWriter;\nimport javax.json.Json;\nimport javax.json.JsonObject;\n \npublic class Message {\n    private JsonObject json;\n \n    public Message(JsonObject json) {\n        this.json = json;\n    }\n \n    public JsonObject getJson() {\n        return json;\n    }\n \n    public void setJson(JsonObject json) {\n        this.json = json;\n    }\n \n    @Override\n    public String toString(){\n        StringWriter writer = new StringWriter();\n \n        Json.createWriter(writer).write(json);\n \n        return writer.toString();\n    }\n}\n</code></pre>\n<p><strong>MessageDecoder.java:</strong></p>\n<pre><code>package com.CollabEdit;\n\nimport java.io.StringReader;\nimport javax.json.Json;\nimport javax.json.JsonException;\nimport javax.json.JsonObject;\nimport javax.websocket.DecodeException;\nimport javax.websocket.Decoder;\nimport javax.websocket.EndpointConfig;\n \n/**\n * Decodes a client-sent string into a Message class\n */\npublic class MessageDecoder implements Decoder.Text&lt;Message&gt;\n{\n    /**\n     * Transform the input string into a Message\n     */\n    @Override\n    public Message decode(String string) throws DecodeException {\n        JsonObject json = Json.createReader(new StringReader(string)).readObject();\n        return new Message(json);\n    }\n \n    /**\n     * Checks whether the input can be turned into a valid Message object\n     * in this case, if we can read it as a Json object, we can.\n     */\n    @Override\n    public boolean willDecode(String string) {\n        try {\n            Json.createReader(new StringReader(string)).read();\n            return true;\n        } catch (JsonException ex) {\n            ex.printStackTrace();\n            return false;\n        }\n    }\n \n    /**\n     * The following two methods are placeholders as we don't need to do anything\n     * special for init or destroy.\n     */\n    @Override\n    public void init(EndpointConfig config) {\n        System.out.println(&quot;init&quot;);\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(&quot;destroy&quot;);\n    }\n }c\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1645808473,"post_id":71249551,"comment_id":125976434,"body_markdown":"try `customTest.jacoco.enabled = true`","body":"try <code>customTest.jacoco.enabled = true</code>"}],"answers":[{"tags":[],"owner":{"account_id":63188,"reputation":19454,"user_id":187206,"accept_rate":90,"display_name":"Tom Tresansky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652905196,"creation_date":1652905196,"answer_id":72295477,"question_id":71249551,"body_markdown":"See the new [JaCoCo Report Aggregation Plugin][1] and the [aggregation related Samples][2] (under the Java heading) for information on how to consolidate coverage across multiple test suites.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html\r\n  [2]: https://docs.gradle.org/current/samples/","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>See the new <a href=\"https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\">JaCoCo Report Aggregation Plugin</a> and the <a href=\"https://docs.gradle.org/current/samples/\" rel=\"nofollow noreferrer\">aggregation related Samples</a> (under the Java heading) for information on how to consolidate coverage across multiple test suites.</p>\n"},{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688123868,"creation_date":1685488502,"answer_id":76369173,"question_id":71249551,"body_markdown":"Considering that you&#39;ve defined an additional test suite (`integrationTest`) and added jacoco plugin as follows:\r\n\r\n```kotlin\r\nplugins {\r\n    java\r\n    `jvm-test-suite`\r\n    jacoco\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        named&lt;JvmTestSuite&gt;(&quot;test&quot;) {\r\n        useJUnitJupiter()\r\n            testType.set(TestSuiteType.UNIT_TEST)\r\n        }\r\n\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        register&lt;JvmTestSuite&gt;(&quot;integrationTest&quot;) {\r\n            useJUnitJupiter()\r\n            testType.set(TestSuiteType.INTEGRATION_TEST)\r\n\r\n            dependencies {\r\n                configurations.named(&quot;integrationTestImplementation&quot;) {\r\n                    extendsFrom(configurations.testImplementation.get())\r\n                }\r\n                implementation(project())\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\neach time you execute either `test` or `integrationTest` there is a corresponding jacoco exec file created at `build/(test|integrationTest).exec`\r\n\r\nNow to get html-reports (or xml/csv-reports, depending on which one you&#39;ve requested in `tasks.jacocoTestReport {...}` block), `jacoco` plugin adds `jacocoTestReport` task which transforms `.exec` file into other formats. The `jacocoTestReport` assumes that there is only one default test suite called `test` and thus only respects `build/jacoco/test.exec`.\r\n\r\nAs for now (Gradle 8.1.1), adding the [`jacoco-report-aggregation` plugin](https://docs.gradle.org/8.1.1/userguide/jacoco_report_aggregation_plugin.html) to the build will automatically create corresponding task to convert `.exec` coverage data into other formats for any additional test suite you declare. In my example, after applying `id(&quot;jacoco-report-aggregation&quot;)`, I will automatically get `integrationTestCodeCoverageReport` task which will take care of transforming `build/jacoco/integrationTest.exec` into html and/or other formats.\r\n\r\nFinally, if I want to have a single aggregated coverage report in html format, I need to use the `testCodeCoverageReport` task, which was also brought by introducing `jacoco-report-aggregation` to the build. Based on the description (&quot;Generates __aggregated__ code coverage report&quot;) the goal of this task is exactly report aggregation. But you need to adjust it&#39;s configuration before using, so it becomes aware of your custom test suite:\r\n\r\n```kotlin\r\nreporting {\r\n    reports {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        named&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReport&quot;) {\r\n            reportTask {\r\n                executionData.builtBy(tasks.test, tasks.named(&quot;integrationTest&quot;)) // adding dependencies between aggregate reporting and test tasks\r\n                executionData.from( // specifying paths to process coverage in .exec format\r\n                    project.layout.buildDirectory.file(&quot;jacoco/test.exec&quot;),\r\n                    project.layout.buildDirectory.file(&quot;jacoco/integrationTest.exec&quot;)\r\n                )\r\n            }\r\n            testType.set(&quot;Aggregate&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow to get a single aggregated coverage report in html, execute `./gadlew test integrationTest testCodeCoverageReport`\r\n\r\n---\r\n\r\nUPD 2023-06-30\r\n\r\nAs for Gradle 8.1 [here](https://github.com/jjohannes/understanding-gradle/blob/e3ef31d728e6d13fb08a58984e9af546d2c90340/21_Test_and_Code_Coverage_Reporting/my-build-logic/java-plugins/src/main/kotlin/my-java-application.gradle.kts#L10C1-L21) is the universal way to aggregate INTEGRATION_TEST coverage data in addition to UNIT_TEST coverage (without hard-coding paths to `.exec` files) and to produce a single report as a result:\r\n\r\n```kotlin\r\nreporting {\r\n    reports {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        create&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReportRoot&quot;) {\r\n            testType.set(TestSuiteType.UNIT_TEST)\r\n            reportTask {\r\n                executionData.from(\r\n                    configurations[&quot;aggregateCodeCoverageReportResults&quot;]\r\n                        .incoming.artifactView {\r\n                            lenient(true)\r\n                            withVariantReselection()\r\n                            attributes {\r\n                                attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category.VERIFICATION))\r\n                                attribute(TestSuiteType.TEST_SUITE_TYPE_ATTRIBUTE, objects.named(TestSuiteType.INTEGRATION_TEST))\r\n                                attribute(VerificationType.VERIFICATION_TYPE_ATTRIBUTE, objects.named(VerificationType.JACOCO_RESULTS))\r\n                                attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, ArtifactTypeDefinition.BINARY_DATA_TYPE)\r\n                            }\r\n                        }.files,\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you perform coverage aggregation in a separate module, do not forget to add your source/test code modules as a dependencies with `jacocoAggregation` scope, like this: \r\n```kotlin\r\ndependencies {\r\n    jacocoAggregation(project(&quot;:my-domain-model-with-unit-tests-only&quot;))\r\n    jacocoAggregation(project(&quot;:spring-boot-app-with-unit-and-integration-tests&quot;))\r\n}\r\n```\r\n\r\nMany thanks to Jendrik Johannes for [his youtube video series &quot;Understanding Gradle&quot;](https://www.youtube.com/watch?v=uZvzWlP9BYE) and [his great accompanied examples on GitHub](https://github.com/jjohannes/understanding-gradle/tree/main/21_Test_and_Code_Coverage_Reporting)","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>Considering that you've defined an additional test suite (<code>integrationTest</code>) and added jacoco plugin as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    `jvm-test-suite`\n    jacoco\n}\n\ntesting {\n    suites {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        named&lt;JvmTestSuite&gt;(&quot;test&quot;) {\n        useJUnitJupiter()\n            testType.set(TestSuiteType.UNIT_TEST)\n        }\n\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        register&lt;JvmTestSuite&gt;(&quot;integrationTest&quot;) {\n            useJUnitJupiter()\n            testType.set(TestSuiteType.INTEGRATION_TEST)\n\n            dependencies {\n                configurations.named(&quot;integrationTestImplementation&quot;) {\n                    extendsFrom(configurations.testImplementation.get())\n                }\n                implementation(project())\n            }\n        }\n    }\n}\n</code></pre>\n<p>each time you execute either <code>test</code> or <code>integrationTest</code> there is a corresponding jacoco exec file created at <code>build/(test|integrationTest).exec</code></p>\n<p>Now to get html-reports (or xml/csv-reports, depending on which one you've requested in <code>tasks.jacocoTestReport {...}</code> block), <code>jacoco</code> plugin adds <code>jacocoTestReport</code> task which transforms <code>.exec</code> file into other formats. The <code>jacocoTestReport</code> assumes that there is only one default test suite called <code>test</code> and thus only respects <code>build/jacoco/test.exec</code>.</p>\n<p>As for now (Gradle 8.1.1), adding the <a href=\"https://docs.gradle.org/8.1.1/userguide/jacoco_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\"><code>jacoco-report-aggregation</code> plugin</a> to the build will automatically create corresponding task to convert <code>.exec</code> coverage data into other formats for any additional test suite you declare. In my example, after applying <code>id(&quot;jacoco-report-aggregation&quot;)</code>, I will automatically get <code>integrationTestCodeCoverageReport</code> task which will take care of transforming <code>build/jacoco/integrationTest.exec</code> into html and/or other formats.</p>\n<p>Finally, if I want to have a single aggregated coverage report in html format, I need to use the <code>testCodeCoverageReport</code> task, which was also brought by introducing <code>jacoco-report-aggregation</code> to the build. Based on the description (&quot;Generates <strong>aggregated</strong> code coverage report&quot;) the goal of this task is exactly report aggregation. But you need to adjust it's configuration before using, so it becomes aware of your custom test suite:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>reporting {\n    reports {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        named&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReport&quot;) {\n            reportTask {\n                executionData.builtBy(tasks.test, tasks.named(&quot;integrationTest&quot;)) // adding dependencies between aggregate reporting and test tasks\n                executionData.from( // specifying paths to process coverage in .exec format\n                    project.layout.buildDirectory.file(&quot;jacoco/test.exec&quot;),\n                    project.layout.buildDirectory.file(&quot;jacoco/integrationTest.exec&quot;)\n                )\n            }\n            testType.set(&quot;Aggregate&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Now to get a single aggregated coverage report in html, execute <code>./gadlew test integrationTest testCodeCoverageReport</code></p>\n<hr />\n<p>UPD 2023-06-30</p>\n<p>As for Gradle 8.1 <a href=\"https://github.com/jjohannes/understanding-gradle/blob/e3ef31d728e6d13fb08a58984e9af546d2c90340/21_Test_and_Code_Coverage_Reporting/my-build-logic/java-plugins/src/main/kotlin/my-java-application.gradle.kts#L10C1-L21\" rel=\"nofollow noreferrer\">here</a> is the universal way to aggregate INTEGRATION_TEST coverage data in addition to UNIT_TEST coverage (without hard-coding paths to <code>.exec</code> files) and to produce a single report as a result:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>reporting {\n    reports {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        create&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReportRoot&quot;) {\n            testType.set(TestSuiteType.UNIT_TEST)\n            reportTask {\n                executionData.from(\n                    configurations[&quot;aggregateCodeCoverageReportResults&quot;]\n                        .incoming.artifactView {\n                            lenient(true)\n                            withVariantReselection()\n                            attributes {\n                                attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category.VERIFICATION))\n                                attribute(TestSuiteType.TEST_SUITE_TYPE_ATTRIBUTE, objects.named(TestSuiteType.INTEGRATION_TEST))\n                                attribute(VerificationType.VERIFICATION_TYPE_ATTRIBUTE, objects.named(VerificationType.JACOCO_RESULTS))\n                                attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, ArtifactTypeDefinition.BINARY_DATA_TYPE)\n                            }\n                        }.files,\n                )\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you perform coverage aggregation in a separate module, do not forget to add your source/test code modules as a dependencies with <code>jacocoAggregation</code> scope, like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    jacocoAggregation(project(&quot;:my-domain-model-with-unit-tests-only&quot;))\n    jacocoAggregation(project(&quot;:spring-boot-app-with-unit-and-integration-tests&quot;))\n}\n</code></pre>\n<p>Many thanks to Jendrik Johannes for <a href=\"https://www.youtube.com/watch?v=uZvzWlP9BYE\" rel=\"nofollow noreferrer\">his youtube video series &quot;Understanding Gradle&quot;</a> and <a href=\"https://github.com/jjohannes/understanding-gradle/tree/main/21_Test_and_Code_Coverage_Reporting\" rel=\"nofollow noreferrer\">his great accompanied examples on GitHub</a></p>\n"}],"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688123868,"creation_date":1645693748,"question_id":71249551,"body_markdown":"We have a java project which is using gradle build tool. We are using jacoco plugin to generate test coverage report. Later we have added test suites using JVM Test Suite plugin of gradle. We have observed that all those test classes run by test suites are not getting covered in code coverage report of jacoco. So If anyone got some idea what exactly should i write in build.gradle file for accomplish this, that would be great. Thanks.\r\n\r\nThis is the build.gradle file snippet:-\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n        }\r\n\r\n        customTest(JvmTestSuite) {\r\n            dependencies {\r\n                ... // some dependencies\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) {\r\n    dependsOn(testing.suites.customTest)\r\n}\r\n\r\ndependencies {\r\n... // some other dependencies\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.required = true\r\n    }\r\n}\r\n```","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>We have a java project which is using gradle build tool. We are using jacoco plugin to generate test coverage report. Later we have added test suites using JVM Test Suite plugin of gradle. We have observed that all those test classes run by test suites are not getting covered in code coverage report of jacoco. So If anyone got some idea what exactly should i write in build.gradle file for accomplish this, that would be great. Thanks.</p>\n<p>This is the build.gradle file snippet:-</p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n    id 'jvm-test-suite'\n}\n\ntest {\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n}\n\ntesting {\n    suites {\n        test {\n            useJUnitJupiter()\n        }\n\n        customTest(JvmTestSuite) {\n            dependencies {\n                ... // some dependencies\n            }\n        }\n    }\n}\n\ntasks.named('check') {\n    dependsOn(testing.suites.customTest)\n}\n\ndependencies {\n... // some other dependencies\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.required = true\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688136251,"post_id":76588435,"comment_id":135037792,"body_markdown":"This version of Reactor Netty is not supported, please upgrade.","body":"This version of Reactor Netty is not supported, please upgrade."},{"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"score":0,"creation_date":1688151458,"post_id":76588435,"comment_id":135040537,"body_markdown":"@VioletaGeorgieva do you have any idea on default number of connections, is there no limit ?","body":"@VioletaGeorgieva do you have any idea on default number of connections, is there no limit ?"},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688154682,"post_id":76588435,"comment_id":135041093,"body_markdown":"are you asking about this https://stackoverflow.com/questions/60099270/does-netty-expose-the-number-of-connections-in-the-backlog-of-the-parentgroup","body":"are you asking about this <a href=\"https://stackoverflow.com/questions/60099270/does-netty-expose-the-number-of-connections-in-the-backlog-of-the-parentgroup\" title=\"does netty expose the number of connections in the backlog of the parentgroup\">stackoverflow.com/questions/60099270/&hellip;</a>"},{"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"score":0,"creation_date":1688362076,"post_id":76588435,"comment_id":135058754,"body_markdown":"@VioletaGeorgieva i am looking for what is number of max connection netty server will accept and process at any given time, For example tomcat has 10k connection limit : https://tomcat.apache.org/tomcat-7.0-doc/config/http.html, Is this the same ?","body":"@VioletaGeorgieva i am looking for what is number of max connection netty server will accept and process at any given time, For example tomcat has 10k connection limit : <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/config/http.html</a>, Is this the same ?"},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688463475,"post_id":76588435,"comment_id":135074363,"body_markdown":"there isn&#39;t any","body":"there isn&#39;t any"}],"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688123858,"creation_date":1688123858,"question_id":76588435,"body_markdown":"For reactor netty http server not able to figure-out couple of info : \r\n\r\n - How to get max number of http server connection by default and how to modify them ? [Tried going over [this][1] but didn&#39;t find proper info]\r\n- How to publish the reactor netty http server connection/event loop lag metrics ? [Tried this but didnt help `management.metrics.enable.reactor.netty.http.server.connections=true`] \r\n\r\n- Spring boot starter : 2.3.12\r\n\r\n- Reactor netty : 0.9.20\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/snapshot/reference/index.html","title":"Reactor netty http server metrics and connection limit","body":"<p>For reactor netty http server not able to figure-out couple of info :</p>\n<ul>\n<li><p>How to get max number of http server connection by default and how to modify them ? [Tried going over <a href=\"https://projectreactor.io/docs/netty/snapshot/reference/index.html\" rel=\"nofollow noreferrer\">this</a> but didn't find proper info]</p>\n</li>\n<li><p>How to publish the reactor netty http server connection/event loop lag metrics ? [Tried this but didnt help <code>management.metrics.enable.reactor.netty.http.server.connections=true</code>]</p>\n</li>\n<li><p>Spring boot starter : 2.3.12</p>\n</li>\n<li><p>Reactor netty : 0.9.20</p>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-boot-test","application.properties"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1515149256,"post_id":48111941,"comment_id":83199516,"body_markdown":"can you show this class ApplicationConfiguration","body":"can you show this class ApplicationConfiguration"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515149332,"post_id":48111941,"comment_id":83199563,"body_markdown":"I just edited my question to add ApplicationConfiguration.. When I run the application it is picking up the properties. problem is only when i run the test cases.","body":"I just edited my question to add ApplicationConfiguration.. When I run the application it is picking up the properties. problem is only when i run the test cases."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1515150310,"post_id":48111941,"comment_id":83200086,"body_markdown":"is the properties object null or xxxxx and yyyyy is null?","body":"is the properties object null or xxxxx and yyyyy is null?"},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1515150576,"post_id":48111941,"comment_id":83200246,"body_markdown":"Did you create this project with the spring-boot initialiser?","body":"Did you create this project with the spring-boot initialiser?"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515152602,"post_id":48111941,"comment_id":83201371,"body_markdown":"@pvpkiran properties object is not null... only the fields are null","body":"@pvpkiran properties object is not null... only the fields are null"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515152727,"post_id":48111941,"comment_id":83201442,"body_markdown":"@pandaadb no.. I didnt.. I created a  gradle java project... and configured the build.gradle","body":"@pandaadb no.. I didnt.. I created a  gradle java project... and configured the build.gradle"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1530605468,"creation_date":1515156627,"answer_id":48114025,"question_id":48111941,"body_markdown":"The issue is you don&#39;t have `@EnableConfigurationProperties` on your test class.   \r\nWhen you load the application it start from main class(one which has `@SpringBootApplication`) where you might have `@EnableConfigurationProperties` and hence it works when you start the application.  \r\n Whereas when you are running the Test with only `ApplicationConfiguration` class as you have specified here  \r\n\r\n    @SpringBootTest(classes=ApplicationConfiguration.class)\r\n\r\nSpring doesn&#39;t know that it has to Enable Configuration Properties and hence the fields are not injecting and hence null. But spring is reading your `application-test.properties` file. This can be confirmed by just injecting the value directly in your test class  \r\n\r\n    @Value(&quot;${xxxxx}&quot;)\r\n    private String xxxxx;\r\n\r\nHere the value is injected. But to inject into a class with `ConfigurationProperties` you need to enable it using `@EnableConfigurationProperties`\r\n\r\nPut `@EnableConfigurationProperties` on your test class and everythhing works fine.","title":"Spring-boot application-test.properties","body":"<p>The issue is you don't have <code>@EnableConfigurationProperties</code> on your test class.<br>\nWhen you load the application it start from main class(one which has <code>@SpringBootApplication</code>) where you might have <code>@EnableConfigurationProperties</code> and hence it works when you start the application.<br>\n Whereas when you are running the Test with only <code>ApplicationConfiguration</code> class as you have specified here  </p>\n\n<pre><code>@SpringBootTest(classes=ApplicationConfiguration.class)\n</code></pre>\n\n<p>Spring doesn't know that it has to Enable Configuration Properties and hence the fields are not injecting and hence null. But spring is reading your <code>application-test.properties</code> file. This can be confirmed by just injecting the value directly in your test class  </p>\n\n<pre><code>@Value(\"${xxxxx}\")\nprivate String xxxxx;\n</code></pre>\n\n<p>Here the value is injected. But to inject into a class with <code>ConfigurationProperties</code> you need to enable it using <code>@EnableConfigurationProperties</code></p>\n\n<p>Put <code>@EnableConfigurationProperties</code> on your test class and everythhing works fine.</p>\n"}],"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42916,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":48114025,"answer_count":1,"score":16,"last_activity_date":1688123568,"creation_date":1515149070,"question_id":48111941,"body_markdown":"I am trying to unit test the spring-boot application using junit. I have placed the application-test.properties under src/test/resources. I have a ApplicationConfiguration Class which reads the application.properties.\r\n\r\nMy test class looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes=ApplicationConfiguration.class)\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n       public class TestBuilders {\r\n          @Autowired\r\n          private ApplicationConfiguration properties;\r\n\r\n\r\nWhen I try to read the properties, it is always null. \r\n\r\nMy ApplicationConfiguration Class looks something like this\r\n\r\n    @Configuration\r\n    @ConfigurationProperties\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:application.properties&quot;),\r\n        @PropertySource(value=&quot;file:config.properties&quot;, ignoreResourceNotFound = \r\n            true)})\r\n    public class ApplicationConfiguration{\r\n        private xxxxx;\r\n        private yyyyy;\r\n\r\n\r\n\r\n\r\nI tried all possible ways that I found on google.. No luck. Please help!\r\nThanks in Advance.\r\n","title":"Spring-boot application-test.properties","body":"<p>I am trying to unit test the spring-boot application using junit. I have placed the application-test.properties under src/test/resources. I have a ApplicationConfiguration Class which reads the application.properties.</p>\n\n<p>My test class looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes=ApplicationConfiguration.class)\n@TestPropertySource(locations = \"classpath:application-test.properties\")\n@ActiveProfiles(\"test\")\n   public class TestBuilders {\n      @Autowired\n      private ApplicationConfiguration properties;\n</code></pre>\n\n<p>When I try to read the properties, it is always null. </p>\n\n<p>My ApplicationConfiguration Class looks something like this</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties\n@PropertySources({\n    @PropertySource(\"classpath:application.properties\"),\n    @PropertySource(value=\"file:config.properties\", ignoreResourceNotFound = \n        true)})\npublic class ApplicationConfiguration{\n    private xxxxx;\n    private yyyyy;\n</code></pre>\n\n<p>I tried all possible ways that I found on google.. No luck. Please help!\nThanks in Advance.</p>\n"},{"tags":["java","spring-boot","jpa","named-parameters"],"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688121455,"post_id":76588092,"comment_id":135034608,"body_markdown":"According to me, this error has nothing to do with JPA. I think that the List&lt;String&gt; idList which are passed over the Parameter are realy Empty! Can you check bevor you call the method findItems method with System.out.println(&quot;&quot;+idList.length()); what the size of the list is?","body":"According to me, this error has nothing to do with JPA. I think that the List&lt;String&gt; idList which are passed over the Parameter are realy Empty! Can you check bevor you call the method findItems method with System.out.println(&quot;&quot;+idList.length()); what the size of the list is?"},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688121855,"post_id":76588092,"comment_id":135034693,"body_markdown":"The list has contents, but when the list has more than 1 item then I&#39;m getting that error.","body":"The list has contents, but when the list has more than 1 item then I&#39;m getting that error."},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688122707,"post_id":76588092,"comment_id":135034862,"body_markdown":"did you try with System.out.println(&quot;&quot;+idList.length()); bevor you call the findItems method? please try this. because the Exeptions meens that the List idList are empty.","body":"did you try with System.out.println(&quot;&quot;+idList.length()); bevor you call the findItems method? please try this. because the Exeptions meens that the List idList are empty."},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688122998,"post_id":76588092,"comment_id":135034913,"body_markdown":"yes I did before I posted the question, System.out.println(&quot;&quot;+idList.size()) since it is List from the collections framework.","body":"yes I did before I posted the question, System.out.println(&quot;&quot;+idList.size()) since it is List from the collections framework."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1688123246,"creation_date":1688123246,"answer_id":76588363,"question_id":76588092,"body_markdown":"Add parentheses like this:\r\n```\r\n@Query(&quot;&quot;&quot;\r\nSELECT items FROM ItemEntity items WHERE items.type = :type\r\nAND (:idList IS NULL OR items.id IN (:idList))\r\n&quot;&quot;&quot;)\r\n```","title":"JPA Query named parameter issue in Repository","body":"<p>Add parentheses like this:</p>\n<pre><code>@Query(&quot;&quot;&quot;\nSELECT items FROM ItemEntity items WHERE items.type = :type\nAND (:idList IS NULL OR items.id IN (:idList))\n&quot;&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76588363,"answer_count":1,"score":1,"last_activity_date":1688123381,"creation_date":1688120787,"question_id":76588092,"body_markdown":"I have this method in my repository:\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\nSELECT items FROM ItemEntity items WHERE items.type = :type\r\nAND (:idList IS NULL OR items.id IN :idList)\r\n&quot;&quot;&quot;)\r\nList&lt;Items&gt; findItems(@Param(&quot;type&quot;) String type, @Param(&quot;idList&quot;) List&lt;String&gt; idList);\r\n```\r\n\r\nIt works when `idList` is `null` or has only 1 item, but it gives me an `IndexOutOfBoundsException` when `idList` contains more than 1 item:\r\n\r\n```\r\njava.lang.IndexOutOfBoundsException: Index: 0\r\nat java.base/java.util.Collections$EmptyList.get(Collections.java:4586) ~[na:na]\r\n```\r\n\r\nI don&#39;t know what&#39;s causing it.","title":"JPA Query named parameter issue in Repository","body":"<p>I have this method in my repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\nSELECT items FROM ItemEntity items WHERE items.type = :type\nAND (:idList IS NULL OR items.id IN :idList)\n&quot;&quot;&quot;)\nList&lt;Items&gt; findItems(@Param(&quot;type&quot;) String type, @Param(&quot;idList&quot;) List&lt;String&gt; idList);\n</code></pre>\n<p>It works when <code>idList</code> is <code>null</code> or has only 1 item, but it gives me an <code>IndexOutOfBoundsException</code> when <code>idList</code> contains more than 1 item:</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0\nat java.base/java.util.Collections$EmptyList.get(Collections.java:4586) ~[na:na]\n</code></pre>\n<p>I don't know what's causing it.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688052930,"post_id":76582524,"comment_id":135025069,"body_markdown":"There&#39;s [this](https://mvnrepository.com/artifact/org.testobject) in Maven Central. I don&#39;t see a `build.gradle` or `pom.xml` in the project, so it&#39;s hard to tell if that&#39;s it. In general, googling `maven packagename` will do the trick if the jar is in Maven Central.","body":"There&#39;s <a href=\"https://mvnrepository.com/artifact/org.testobject\" rel=\"nofollow noreferrer\">this</a> in Maven Central. I don&#39;t see a <code>build.gradle</code> or <code>pom.xml</code> in the project, so it&#39;s hard to tell if that&#39;s it. In general, googling <code>maven packagename</code> will do the trick if the jar is in Maven Central."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1688053481,"post_id":76582524,"comment_id":135025181,"body_markdown":"Maybe ask the maintainer?","body":"Maybe ask the maintainer?"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688123234,"creation_date":1688053462,"answer_id":76582631,"question_id":76582524,"body_markdown":"You have simply to query **Maven Repository Search** by [this URL][1] then you will get this [artifact][2]:\r\n\r\n[![][3]][3]\r\n\r\n\r\n  [1]: https://mvnrepository.com/search?q=org.testobject\r\n  [2]: https://mvnrepository.com/artifact/org.testobject/testobject-java-api\r\n  [3]: https://i.stack.imgur.com/n8AB9.png","title":"How can I determine the maven dependency for org.testobject","body":"<p>You have simply to query <strong>Maven Repository Search</strong> by <a href=\"https://mvnrepository.com/search?q=org.testobject\" rel=\"nofollow noreferrer\">this URL</a> then you will get this <a href=\"https://mvnrepository.com/artifact/org.testobject/testobject-java-api\" rel=\"nofollow noreferrer\">artifact</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/n8AB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8AB9.png\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":5361124,"reputation":187,"user_id":4272345,"accept_rate":73,"display_name":"Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582631,"answer_count":1,"score":0,"last_activity_date":1688123234,"creation_date":1688052567,"question_id":76582524,"body_markdown":"I cloned a project from github that has an interesting dependency on org.testobject. For the life of me I cannot find this library. Can anyone point me in the correct direction? It seems to be android specific. Below is the class file imports. The github project can be found [here][1]\r\n\r\n    package crawler.device.genymotion;\r\n    import com.android.ddmlib.IDevice;\r\n    import org.testobject.capture.CaptureServer;\r\n    import org.testobject.capture.Settings;\r\n    import org.testobject.capture.sockets.CaptureSocketServerProxy;\r\n    import org.testobject.capture.vnc.Const;\r\n    import org.testobject.capture.vnc.VncCaptureServer;\r\n    import org.testobject.commons.bus.EventBus;\r\n    import org.testobject.commons.bus.EventEmitter;\r\n    import org.testobject.commons.bus.SimpleEventBus;\r\n    import org.testobject.commons.events.KeyEvent;\r\n    import org.testobject.commons.events.PointerClickEvent;\r\n    import org.testobject.commons.events.PointerEvent;\r\n    import org.testobject.commons.events.TimestampEvent;\r\n    import org.testobject.commons.net.sockets.Socket;\r\n    import org.testobject.commons.net.sockets.SocketServer;\r\n    import org.testobject.commons.util.config.Configuration;\r\n    import org.testobject.commons.util.config.Constants;\r\n    import org.testobject.commons.util.image.PixelFormat;\r\n    import org.testobject.kernel.inference.input.FrameBufferSetEvent;\r\n    import org.testobject.kernel.inference.input.FrameBufferUpdateEvent;\r\n    import org.testobject.kernel.inference.input.GetFramebuffer;\r\n    import org.testobject.net.sockets.java.JavaTcpServer;\r\n    import org.testobject.runtime.platform.linux.x11.X11;\r\n    import org.testobject.runtime.services.provisioning.Device;\r\n    import org.testobject.runtime.services.provisioning.DeviceState;\r\n    import org.testobject.runtime.services.provisioning.FrameBufferSource;\r\n    import org.testobject.runtime.services.provisioning.android.*;\r\n    import org.testobject.runtime.services.provisioning.linux.XShmCaptureGenymotionFactory;\r\n    import org.testobject.services.model.DeviceDescriptor;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n\r\n    \r\n\r\n\r\n  [1]: https://github.com/enijkamp/supermonkey","title":"How can I determine the maven dependency for org.testobject","body":"<p>I cloned a project from github that has an interesting dependency on org.testobject. For the life of me I cannot find this library. Can anyone point me in the correct direction? It seems to be android specific. Below is the class file imports. The github project can be found <a href=\"https://github.com/enijkamp/supermonkey\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>package crawler.device.genymotion;\nimport com.android.ddmlib.IDevice;\nimport org.testobject.capture.CaptureServer;\nimport org.testobject.capture.Settings;\nimport org.testobject.capture.sockets.CaptureSocketServerProxy;\nimport org.testobject.capture.vnc.Const;\nimport org.testobject.capture.vnc.VncCaptureServer;\nimport org.testobject.commons.bus.EventBus;\nimport org.testobject.commons.bus.EventEmitter;\nimport org.testobject.commons.bus.SimpleEventBus;\nimport org.testobject.commons.events.KeyEvent;\nimport org.testobject.commons.events.PointerClickEvent;\nimport org.testobject.commons.events.PointerEvent;\nimport org.testobject.commons.events.TimestampEvent;\nimport org.testobject.commons.net.sockets.Socket;\nimport org.testobject.commons.net.sockets.SocketServer;\nimport org.testobject.commons.util.config.Configuration;\nimport org.testobject.commons.util.config.Constants;\nimport org.testobject.commons.util.image.PixelFormat;\nimport org.testobject.kernel.inference.input.FrameBufferSetEvent;\nimport org.testobject.kernel.inference.input.FrameBufferUpdateEvent;\nimport org.testobject.kernel.inference.input.GetFramebuffer;\nimport org.testobject.net.sockets.java.JavaTcpServer;\nimport org.testobject.runtime.platform.linux.x11.X11;\nimport org.testobject.runtime.services.provisioning.Device;\nimport org.testobject.runtime.services.provisioning.DeviceState;\nimport org.testobject.runtime.services.provisioning.FrameBufferSource;\nimport org.testobject.runtime.services.provisioning.android.*;\nimport org.testobject.runtime.services.provisioning.linux.XShmCaptureGenymotionFactory;\nimport org.testobject.services.model.DeviceDescriptor;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n</code></pre>\n"},{"tags":["java","serialization","64-bit","rmi"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1419567799,"post_id":6842895,"comment_id":43722539,"body_markdown":"Are you running any instrumentation tools such as visualvm? Speculation: If they instrument the class when running two classes can be different for a while.","body":"Are you running any instrumentation tools such as visualvm? Speculation: If they instrument the class when running two classes can be different for a while."}],"answers":[{"tags":[],"owner":{"account_id":450642,"reputation":3399,"user_id":846076,"display_name":"merryprankster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473906948,"creation_date":1311762979,"answer_id":6842927,"question_id":6842895,"body_markdown":"\r\n\r\nHmmh. Would it be possible reproduce the situation with a debugger attached? Having a breakpoint at `throw` in ObjectStreamClass where exception is thrown:\r\n\r\n    if ((f.isPrimitive() || lf.isPrimitive())\r\n            &amp;&amp; f.getTypeCode() != lf.getTypeCode()) {\r\n        throw new InvalidClassException(localDesc.name,\r\n            &quot;incompatible types for field &quot;\r\n                        + f.getName());\r\n    }\r\n\r\nWhen exception is thrown, you could at least inspect `getTypeCode` return values. Not a solution, I know, but might give some clues/more details to be included in possible bug report.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Hmmh. Would it be possible reproduce the situation with a debugger attached? Having a breakpoint at <code>throw</code> in ObjectStreamClass where exception is thrown:</p>\n\n<pre><code>if ((f.isPrimitive() || lf.isPrimitive())\n        &amp;&amp; f.getTypeCode() != lf.getTypeCode()) {\n    throw new InvalidClassException(localDesc.name,\n        \"incompatible types for field \"\n                    + f.getName());\n}\n</code></pre>\n\n<p>When exception is thrown, you could at least inspect <code>getTypeCode</code> return values. Not a solution, I know, but might give some clues/more details to be included in possible bug report.</p>\n"},{"tags":[],"owner":{"account_id":3044439,"reputation":307,"user_id":2580513,"display_name":"abhati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688123030,"creation_date":1419373511,"answer_id":27628914,"question_id":6842895,"body_markdown":"Is this option (`-XX:+UseCompressedOops`) enabled by default for the VM you are using? If no, I would recommend disabling it and trying it out.\r\n\r\nCould be a bug in the JRE update that you are using, you can take it up in Oracle forums.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Is this option (<code>-XX:+UseCompressedOops</code>) enabled by default for the VM you are using? If no, I would recommend disabling it and trying it out.</p>\n<p>Could be a bug in the JRE update that you are using, you can take it up in Oracle forums.</p>\n"},{"tags":[],"owner":{"account_id":1233610,"reputation":2139,"user_id":1197682,"accept_rate":73,"display_name":"earizon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1419789347,"creation_date":1419789347,"answer_id":27679062,"question_id":6842895,"body_markdown":"Note first that the -XX:+UseCompressedOops is set on by default since release of 6u23 even if you don&#39;t explicitly disable it.\r\n\r\n Also, this option just affect the internal representation of pointers to RAM memory, that  will not be encoded in the serialized object, so it must not influence the RMI call.\r\n\r\nI will bet the problem is related to some bytecode created dynamically in memory that for some reason is not yet available when de-serialized for the first time. This could be the case with libraries like Hibernate and others that wraps the original class with new custom bytecode.\r\n\r\n\r\n\r\n","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Note first that the -XX:+UseCompressedOops is set on by default since release of 6u23 even if you don't explicitly disable it.</p>\n\n<p>Also, this option just affect the internal representation of pointers to RAM memory, that  will not be encoded in the serialized object, so it must not influence the RMI call.</p>\n\n<p>I will bet the problem is related to some bytecode created dynamically in memory that for some reason is not yet available when de-serialized for the first time. This could be the case with libraries like Hibernate and others that wraps the original class with new custom bytecode.</p>\n"},{"tags":[],"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461580939,"creation_date":1461580939,"answer_id":36838275,"question_id":6842895,"body_markdown":"Just to be sure, the Class in both VMs are sharing same compiled version of the classes?\r\nCould you try re-compiling and adding same jar to both VMs. \r\n\r\nI hope that is already taken care.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Just to be sure, the Class in both VMs are sharing same compiled version of the classes?\nCould you try re-compiling and adding same jar to both VMs. </p>\n\n<p>I hope that is already taken care.</p>\n"},{"tags":[],"owner":{"account_id":6607573,"reputation":11,"user_id":5103928,"display_name":"Jeffrey Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645279647,"creation_date":1645279647,"answer_id":71185733,"question_id":6842895,"body_markdown":"Most likely it is a simple case of 2 different compiled versions of the same class.  But sometimes that can be tough to track down.  Check the following:\r\n - Make sure you have the same jar being used in both JVMs (do binary diff on them)\r\n - Make sure you don&#39;t have multiple versions of the same jar in the classpath\r\n - If you are using an app server and have multiple apps deployed, each one uses its own classloader as well as the global one, so sometimes this can be in conflict.  ","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Most likely it is a simple case of 2 different compiled versions of the same class.  But sometimes that can be tough to track down.  Check the following:</p>\n<ul>\n<li>Make sure you have the same jar being used in both JVMs (do binary diff on them)</li>\n<li>Make sure you don't have multiple versions of the same jar in the classpath</li>\n<li>If you are using an app server and have multiple apps deployed, each one uses its own classloader as well as the global one, so sometimes this can be in conflict.</li>\n</ul>\n"}],"owner":{"account_id":789509,"reputation":341,"user_id":865165,"display_name":"a_g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7338,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":5,"score":34,"last_activity_date":1688123030,"creation_date":1311762738,"question_id":6842895,"body_markdown":"I am getting some sporadic exceptions when making polling RMI calls from one VM to another. \r\nThe classpaths look consistent between VMs. I am using 64 bit java - the jres are consistent **(jdk/v1.6.0_23-64bit)**. \r\nThere is an inconsistency in the `-XX:+UseCompressedOops flag &amp; -XX:+UseConcMarkSweepGC` between the VMs, but I am not aware if either could be a root cause?\r\n\r\nCalling (client) VM has `-XX:+UseCompressedOops &amp; -XX:+UseConcMarkSweepGC` set, server VM on which the **getStatistics()** call is made does not.\r\n\r\nCouple points to note:-\r\n\r\n 1. After encountering the exception, subsequent calls between the same\r\n    VMs are ok over a period of days - i.e. the Invalid ClassException\r\n    is a transient issue. \r\n\r\n 2. [class] and [fieldname] vary each time the\r\n    exception is encountered where exception is\r\n    java.io.InvalidClassException: [class]; incompatible types for\r\n    field [fieldname]\r\n\r\nIs there any problem with making RMI calls (serialization) from a **64 bit** VM with `-XX:+UseCompressedOops` to a another 64bit VM that is not set up to use compressed oops?\r\n\r\nThe stack:\r\n\r\n    \r\n\r\n    java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\r\n        java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\r\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:173)\r\n        at java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:178)\r\n        at java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:132)\r\n        at $Proxy14.getStatistics(Unknown Source)\r\n        at testserver.rm.RM$Check.run(RM.java:1593)\r\n    Caused by: java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\r\n        at java.io.ObjectStreamClass.matchFields(ObjectStreamClass.java:2210)\r\n        at java.io.ObjectStreamClass.getReflector(ObjectStreamClass.java:2105)\r\n        at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:602)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\r\n        at sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:306)\r\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:155)\r\n        ... 4 more\r\n\r\nthanks for your help","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>I am getting some sporadic exceptions when making polling RMI calls from one VM to another. \nThe classpaths look consistent between VMs. I am using 64 bit java - the jres are consistent <strong>(jdk/v1.6.0_23-64bit)</strong>. \nThere is an inconsistency in the <code>-XX:+UseCompressedOops flag &amp; -XX:+UseConcMarkSweepGC</code> between the VMs, but I am not aware if either could be a root cause?</p>\n\n<p>Calling (client) VM has <code>-XX:+UseCompressedOops &amp; -XX:+UseConcMarkSweepGC</code> set, server VM on which the <strong>getStatistics()</strong> call is made does not.</p>\n\n<p>Couple points to note:-</p>\n\n<ol>\n<li><p>After encountering the exception, subsequent calls between the same\nVMs are ok over a period of days - i.e. the Invalid ClassException\nis a transient issue. </p></li>\n<li><p>[class] and [fieldname] vary each time the\nexception is encountered where exception is\njava.io.InvalidClassException: [class]; incompatible types for\nfield [fieldname]</p></li>\n</ol>\n\n<p>Is there any problem with making RMI calls (serialization) from a <strong>64 bit</strong> VM with <code>-XX:+UseCompressedOops</code> to a another 64bit VM that is not set up to use compressed oops?</p>\n\n<p>The stack:</p>\n\n<pre><code>java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\n    java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:173)\n    at java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:178)\n    at java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:132)\n    at $Proxy14.getStatistics(Unknown Source)\n    at testserver.rm.RM$Check.run(RM.java:1593)\nCaused by: java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\n    at java.io.ObjectStreamClass.matchFields(ObjectStreamClass.java:2210)\n    at java.io.ObjectStreamClass.getReflector(ObjectStreamClass.java:2105)\n    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:602)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\n    at sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:306)\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:155)\n    ... 4 more\n</code></pre>\n\n<p>thanks for your help</p>\n"},{"tags":["java","spring-boot","spring-webflux","springdoc"],"answers":[{"tags":[],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663595353,"creation_date":1663595353,"answer_id":73774448,"question_id":73773939,"body_markdown":"This component will automatically remove any `-controller` suffix on tags\r\n\r\n```java\r\n@Component\r\npublic class RemoveControllerTagSuffix implements OpenApiCustomiser {\r\n    @Override\r\n    public void customise(OpenAPI openApi) {\r\n        openApi.getPaths()\r\n               .forEach((s, pathItem) -&gt;\r\n                       pathItem.readOperations()\r\n                               .forEach(operation -&gt;\r\n                                       operation.setTags(operation.getTags()\r\n                                                                  .stream()\r\n                                                                  .map(t -&gt; t.replace(&quot;-controller&quot;, &quot;&quot;))\r\n                                                                  .toList())));\r\n    }\r\n}\r\n```","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>This component will automatically remove any <code>-controller</code> suffix on tags</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RemoveControllerTagSuffix implements OpenApiCustomiser {\n    @Override\n    public void customise(OpenAPI openApi) {\n        openApi.getPaths()\n               .forEach((s, pathItem) -&gt;\n                       pathItem.readOperations()\n                               .forEach(operation -&gt;\n                                       operation.setTags(operation.getTags()\n                                                                  .stream()\n                                                                  .map(t -&gt; t.replace(&quot;-controller&quot;, &quot;&quot;))\n                                                                  .toList())));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17918896,"reputation":1,"user_id":13019254,"display_name":"twormald-dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688122296,"creation_date":1688121357,"answer_id":76588168,"question_id":73773939,"body_markdown":"Use the @Tag annotation, and set the tag up manually with the name and description you want.\r\n\r\n    @RequestMapping(&quot;/myendpoint&quot;)\r\n    @Tag(\r\n        name= &quot;My Name&quot;,\r\n        description = &quot;What my controller does&quot;\r\n    )\r\n    public class MyController {\r\n\r\n    }\r\n\r\nYou can also specify tag grouping on individual methods using the @Operation annotation and defining the tags property.","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>Use the @Tag annotation, and set the tag up manually with the name and description you want.</p>\n<pre><code>@RequestMapping(&quot;/myendpoint&quot;)\n@Tag(\n    name= &quot;My Name&quot;,\n    description = &quot;What my controller does&quot;\n)\npublic class MyController {\n\n}\n</code></pre>\n<p>You can also specify tag grouping on individual methods using the @Operation annotation and defining the tags property.</p>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688122296,"creation_date":1663593264,"question_id":73773939,"body_markdown":"Given a controller named `MyController`, spring doc generates the tag `my-controller` which in turn will generate a client `MyControllerApi`. \r\n\r\nI&#39;d like to remove this `-controller` suffix; is this possible with Spring-Doc?","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>Given a controller named <code>MyController</code>, spring doc generates the tag <code>my-controller</code> which in turn will generate a client <code>MyControllerApi</code>.</p>\n<p>I'd like to remove this <code>-controller</code> suffix; is this possible with Spring-Doc?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1488267342,"post_id":42502754,"comment_id":72143507,"body_markdown":"Sorry, this is not the way StackOverflow works.  Questions of the form _&quot;I want to do X, please give me tips and/or sample code&quot;_ are considered off-topic.  Please visit the [help] and read [ask], and especially read [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Sorry, this is not the way StackOverflow works.  Questions of the form <i>&quot;I want to do X, please give me tips and/or sample code&quot;</i> are considered off-topic.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and especially read <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688122036,"creation_date":1488281492,"answer_id":42507628,"question_id":42502754,"body_markdown":"Have a look into the POI examples - i.e. into the [ExcelComparator](https://github.com/apache/poi/blob/trunk/poi-examples/src/main/java/org/apache/poi/examples/ss/ExcelComparator.java)","title":"compare 2 xlsx files and highlight differences using POI","body":"<p>Have a look into the POI examples - i.e. into the <a href=\"https://github.com/apache/poi/blob/trunk/poi-examples/src/main/java/org/apache/poi/examples/ss/ExcelComparator.java\" rel=\"nofollow noreferrer\">ExcelComparator</a></p>\n"}],"owner":{"account_id":9865061,"reputation":23,"user_id":7306813,"display_name":"GSA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4172,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":42507628,"answer_count":1,"score":0,"last_activity_date":1688122036,"creation_date":1488267307,"question_id":42502754,"body_markdown":"can any one please provide me pointers on how to compare 2 xlsx files.\r\nI am unable to paste the code here.I am new to Java.. and learning .\r\nIt would be great if any pointers are there...\r\nBasically I ma looking to compare 2 XLSX file which ignores the case \r\n\r\n","title":"compare 2 xlsx files and highlight differences using POI","body":"<p>can any one please provide me pointers on how to compare 2 xlsx files.\nI am unable to paste the code here.I am new to Java.. and learning .\nIt would be great if any pointers are there...\nBasically I ma looking to compare 2 XLSX file which ignores the case </p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb","quarkus"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1658867389,"post_id":73129078,"comment_id":129157711,"body_markdown":"Did you search for that system property e.g. [here](https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/)? You can use AWS&#39; default implementation by setting it to `software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService`, for example.","body":"Did you search for that system property e.g. <a href=\"https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/\" rel=\"nofollow noreferrer\">here</a>? You can use AWS&#39; default implementation by setting it to <code>software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHt&zwnj;&#8203;tpService</code>, for example."},{"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"score":0,"creation_date":1658930568,"post_id":73129078,"comment_id":129174683,"body_markdown":"Thanks your approach worked.","body":"Thanks your approach worked."}],"answers":[{"tags":[],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1658930658,"creation_date":1658930658,"answer_id":73139419,"question_id":73129078,"body_markdown":"Sorted out!\r\nI added the parameter in dynamodbclient and it worked.\r\n\r\n    .httpClient(UrlConnectionHttpClient.builder().build())","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>Sorted out!\nI added the parameter in dynamodbclient and it worked.</p>\n<pre><code>.httpClient(UrlConnectionHttpClient.builder().build())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663076831,"creation_date":1663076831,"answer_id":73704134,"question_id":73129078,"body_markdown":"The issue is caused by the below behavior ([source][1]):\r\n\r\n&gt; If HTTP client is not specified on the SDK client builder, the SDK\r\n&gt; will use ServiceLoader to find HTTP implementations on the classpath.\r\n\r\nThough your approach works, instead of `httpClient` you should use `httpClientBuilder` most of the time, so that the SDK takes care of managing the httpClient lifecycle for you. See the `DynamoDbClientBuilder` [javadoc][2] for reference [here][3] and [here][4] .\r\nThe difference:\r\n\r\n`httpClient`:\r\n\r\n&gt; This client must be closed by the user when it is ready to be\r\n&gt; disposed. The SDK will not close the HTTP client when the service\r\n&gt; client is closed.\r\n\r\nwhereas in case of `httpClientBuilder`:\r\n&gt; Clients created by the builder are managed by the SDK and will be\r\n&gt; closed when the service client is closed.\r\n\r\n  [1]: https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClientBuilder.html\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClient-software.amazon.awssdk.http.SdkHttpClient-\r\n  [4]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClientBuilder-software.amazon.awssdk.http.SdkHttpClient.Builder-","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>The issue is caused by the below behavior (<a href=\"https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">source</a>):</p>\n<blockquote>\n<p>If HTTP client is not specified on the SDK client builder, the SDK\nwill use ServiceLoader to find HTTP implementations on the classpath.</p>\n</blockquote>\n<p>Though your approach works, instead of <code>httpClient</code> you should use <code>httpClientBuilder</code> most of the time, so that the SDK takes care of managing the httpClient lifecycle for you. See the <code>DynamoDbClientBuilder</code> <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClientBuilder.html\" rel=\"nofollow noreferrer\">javadoc</a> for reference <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClient-software.amazon.awssdk.http.SdkHttpClient-\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClientBuilder-software.amazon.awssdk.http.SdkHttpClient.Builder-\" rel=\"nofollow noreferrer\">here</a> .\nThe difference:</p>\n<p><code>httpClient</code>:</p>\n<blockquote>\n<p>This client must be closed by the user when it is ready to be\ndisposed. The SDK will not close the HTTP client when the service\nclient is closed.</p>\n</blockquote>\n<p>whereas in case of <code>httpClientBuilder</code>:</p>\n<blockquote>\n<p>Clients created by the builder are managed by the SDK and will be\nclosed when the service client is closed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2548586,"reputation":1393,"user_id":2212849,"accept_rate":83,"display_name":"Mitrakov Artem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673285665,"creation_date":1673285665,"answer_id":75060987,"question_id":73129078,"body_markdown":"Actually it may be any compatible Http client. E.g. Apache Http client works for me:\r\n```java\r\nimport software.amazon.awssdk.http.apache.ApacheHttpClient;\r\n\r\nCloudWatchLogsClient.builder.httpClient(ApacheHttpClient.builder().build()).build();\r\n```","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>Actually it may be any compatible Http client. E.g. Apache Http client works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import software.amazon.awssdk.http.apache.ApacheHttpClient;\n\nCloudWatchLogsClient.builder.httpClient(ApacheHttpClient.builder().build()).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27685597,"reputation":1,"user_id":21133423,"display_name":"user21133423"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675343943,"creation_date":1675343901,"answer_id":75323773,"question_id":73129078,"body_markdown":"When I have upgraded &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt; to 2.4.0 I see this issue.\r\nKeep it to 2.3.5\r\n\r\nspringboard 2.5.6\r\n\r\njdk 11 ","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>When I have upgraded amazon-kinesis-client to 2.4.0 I see this issue.\nKeep it to 2.3.5</p>\n<p>springboard 2.5.6</p>\n<p>jdk 11</p>\n"},{"tags":[],"owner":{"account_id":6403427,"reputation":2065,"user_id":5471235,"accept_rate":90,"display_name":"makson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688120720,"creation_date":1688120720,"answer_id":76588081,"question_id":73129078,"body_markdown":"I had the same issue when I used\r\n\r\n    implementation &#39;software.amazon.awssdk:s3&#39;\r\n    implementation &#39;software.amazon.awssdk:dynamodb&#39;\r\n    implementation &#39;software.amazon.awssdk:sts&#39;\r\n    implementation &#39;software.amazon.awssdk:url-connection-client&#39;\r\n    implementation &#39;software.amazon.awssdk:cognitoidentityprovider&#39;\r\n\r\nand tried to create \r\n\r\n    CognitoIdentityProviderClient.builder()\r\n                    .httpClientBuilder(UrlConnectionHttpClient.builder())\r\n                    .credentialsProvider(cognitoCredentials)\r\n                    .build();\r\n\r\nSet the system property **software.amazon.awssdk.http.service.impl** with the fully qualified name of the HTTP service class you want to use by default. For example\r\n\r\n    System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\r\n\r\n","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>I had the same issue when I used</p>\n<pre><code>implementation 'software.amazon.awssdk:s3'\nimplementation 'software.amazon.awssdk:dynamodb'\nimplementation 'software.amazon.awssdk:sts'\nimplementation 'software.amazon.awssdk:url-connection-client'\nimplementation 'software.amazon.awssdk:cognitoidentityprovider'\n</code></pre>\n<p>and tried to create</p>\n<pre><code>CognitoIdentityProviderClient.builder()\n                .httpClientBuilder(UrlConnectionHttpClient.builder())\n                .credentialsProvider(cognitoCredentials)\n                .build();\n</code></pre>\n<p>Set the system property <strong>software.amazon.awssdk.http.service.impl</strong> with the fully qualified name of the HTTP service class you want to use by default. For example</p>\n<pre><code>System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\n</code></pre>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16911,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":73139419,"answer_count":5,"score":9,"last_activity_date":1688120720,"creation_date":1658865459,"question_id":73129078,"body_markdown":"I&#39;m getting this error below when I try to call a DynamoDB AWS service:\r\n\r\n    Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath\r\n\r\nI&#39;m using **DynamoDbClient**\r\n\r\nMy pom.xml:\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nClient configuration:\r\n\r\n    @Singleton\r\n    public class DynamoClientConfig {\r\n    \r\n        @Produces\r\n        @ApplicationScoped\r\n        public DynamoDbClient getClientDb() {\r\n            return DynamoDbClient.builder().region(Region.SA_EAST_1).build();\r\n        }\r\n\r\nI&#39;m using Java and Quarkus.\r\n\r\nDoes anyone know what it could be and how to fix it?\r\n","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>I'm getting this error below when I try to call a DynamoDB AWS service:</p>\n<pre><code>Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath\n</code></pre>\n<p>I'm using <strong>DynamoDbClient</strong></p>\n<p>My pom.xml:</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Client configuration:</p>\n<pre><code>@Singleton\npublic class DynamoClientConfig {\n\n    @Produces\n    @ApplicationScoped\n    public DynamoDbClient getClientDb() {\n        return DynamoDbClient.builder().region(Region.SA_EAST_1).build();\n    }\n</code></pre>\n<p>I'm using Java and Quarkus.</p>\n<p>Does anyone know what it could be and how to fix it?</p>\n"},{"tags":["java","spring-boot","testing","grpc-java","pact"],"owner":{"account_id":25537904,"reputation":27,"user_id":19324621,"display_name":"Kira Sign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688120158,"creation_date":1688119030,"question_id":76587885,"body_markdown":"Hi I am trying to use Pact to perform test between my services\r\n\r\nThe problem is that the response from my service provider is quite large and have complex structure\r\n\r\nI tried to follow the Calculator example \r\n\r\n            &quot;response&quot;, List.of(\r\n            Map.of(\r\n              &quot;value&quot;, &quot;matching(number, 12)&quot;\r\n            )\r\n          )\r\nbut for my case, its will be a lot of Map.of and List.of\r\n\r\nSo, my question is there any other way to write contract response, or is there any document that guild me write pact dsl\r\nThanks","title":"Writing response for Pact test for Grpc","body":"<p>Hi I am trying to use Pact to perform test between my services</p>\n<p>The problem is that the response from my service provider is quite large and have complex structure</p>\n<p>I tried to follow the Calculator example</p>\n<pre><code>        &quot;response&quot;, List.of(\n        Map.of(\n          &quot;value&quot;, &quot;matching(number, 12)&quot;\n        )\n      )\n</code></pre>\n<p>but for my case, its will be a lot of Map.of and List.of</p>\n<p>So, my question is there any other way to write contract response, or is there any document that guild me write pact dsl\nThanks</p>\n"},{"tags":["java","jquery","sql","spring","jpa"],"comments":[{"owner":{"display_name":"user180100"},"score":4,"creation_date":1391099566,"post_id":21456494,"comment_id":32388616,"body_markdown":"You might want to use `containing` in order to benefits from indexes, see http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/repository-query-keywords.html","body":"You might want to use <code>containing</code> in order to benefits from indexes, see <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/repository-query-keywords.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2605303,"reputation":744,"user_id":2256575,"display_name":"Mannekenpix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391086556,"creation_date":1391086556,"answer_id":21457172,"question_id":21456494,"body_markdown":"    @Query(&quot;select u from user u where u.username LIKE :username&quot;)\r\n    List&lt;User&gt; findUserByUsernameLike(@Param(&quot;username&quot;) String username);","title":"Spring JPA @Query with LIKE","body":"<pre><code>@Query(\"select u from user u where u.username LIKE :username\")\nList&lt;User&gt; findUserByUsernameLike(@Param(\"username\") String username);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3315522,"reputation":2406,"user_id":2787993,"display_name":"Mark"},"down_vote_count":1,"up_vote_count":236,"is_accepted":true,"score":235,"last_activity_date":1391098549,"creation_date":1391098549,"answer_id":21461715,"question_id":21456494,"body_markdown":"Try to use the following approach (it works for me):\r\n\r\n    @Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT(&#39;%&#39;,:username,&#39;%&#39;)&quot;)\r\n    List&lt;String&gt; findUsersWithPartOfName(@Param(&quot;username&quot;) String username);\r\n\r\nNotice: The table name in JPQL must start with a capital letter.","title":"Spring JPA @Query with LIKE","body":"<p>Try to use the following approach (it works for me):</p>\n\n<pre><code>@Query(\"SELECT u.username FROM User u WHERE u.username LIKE CONCAT('%',:username,'%')\")\nList&lt;String&gt; findUsersWithPartOfName(@Param(\"username\") String username);\n</code></pre>\n\n<p>Notice: The table name in JPQL must start with a capital letter.</p>\n"},{"tags":[],"owner":{"account_id":1777925,"reputation":500,"user_id":1621331,"display_name":"remat_br"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1502370269,"creation_date":1421333242,"answer_id":27966031,"question_id":21456494,"body_markdown":"Another way: instead `CONCAT` function we can use double pipe: **:lastname || &#39;%&#39;**  \r\n\r\n    @Query(&quot;select c from Customer c where c.lastName LIKE :lastname||&#39;%&#39;&quot;)\r\n    List&lt;Customer&gt; findCustomByLastName( @Param(&quot;lastname&quot;) String lastName);\r\n\r\n\r\nYou can put anywhere, prefix, suffix or both  \r\n\r\n    :lastname ||&#39;%&#39;  \r\n    &#39;%&#39; || :lastname  \r\n    &#39;%&#39; || :lastname || &#39;%&#39;  \r\n","title":"Spring JPA @Query with LIKE","body":"<p>Another way: instead <code>CONCAT</code> function we can use double pipe: <strong>:lastname || '%'</strong>  </p>\n\n<pre><code>@Query(\"select c from Customer c where c.lastName LIKE :lastname||'%'\")\nList&lt;Customer&gt; findCustomByLastName( @Param(\"lastname\") String lastName);\n</code></pre>\n\n<p>You can put anywhere, prefix, suffix or both  </p>\n\n<pre><code>:lastname ||'%'  \n'%' || :lastname  \n'%' || :lastname || '%'  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6668982,"reputation":2717,"user_id":5145671,"display_name":"jmgoyesc"},"down_vote_count":1,"up_vote_count":151,"is_accepted":false,"score":150,"last_activity_date":1603726946,"creation_date":1467268607,"answer_id":38115592,"question_id":21456494,"body_markdown":"&gt; Using [Query creation from method names][1], check table 4 where they explain some keywords.\r\n\r\n\r\n1. Using Like: `select ... like :username`\r\n\r\n        List&lt;User&gt; findByUsernameLike(String username);\r\n\r\n2. StartingWith: `select ... like :username%`\r\n\r\n        List&lt;User&gt; findByUsernameStartingWith(String username);\r\n\r\n3. EndingWith: `select ... like %:username`\r\n\r\n        List&lt;User&gt; findByUsernameEndingWith(String username);\r\n\r\n4. Containing: `select ... like %:username%`\r\n\r\n        List&lt;User&gt; findByUsernameContaining(String username);\r\n\r\nNotice that the answer that you are looking for is **number 4**. You don&#39;t have to use @Query\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"Spring JPA @Query with LIKE","body":"<blockquote>\n<p>Using <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"noreferrer\">Query creation from method names</a>, check table 4 where they explain some keywords.</p>\n</blockquote>\n<ol>\n<li><p>Using Like: <code>select ... like :username</code></p>\n<pre><code> List&lt;User&gt; findByUsernameLike(String username);\n</code></pre>\n</li>\n<li><p>StartingWith: <code>select ... like :username%</code></p>\n<pre><code> List&lt;User&gt; findByUsernameStartingWith(String username);\n</code></pre>\n</li>\n<li><p>EndingWith: <code>select ... like %:username</code></p>\n<pre><code> List&lt;User&gt; findByUsernameEndingWith(String username);\n</code></pre>\n</li>\n<li><p>Containing: <code>select ... like %:username%</code></p>\n<pre><code> List&lt;User&gt; findByUsernameContaining(String username);\n</code></pre>\n</li>\n</ol>\n<p>Notice that the answer that you are looking for is <strong>number 4</strong>. You don't have to use @Query</p>\n"},{"tags":[],"owner":{"account_id":8884994,"reputation":51,"user_id":6633521,"display_name":"derrick.yang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1469429151,"creation_date":1469426852,"answer_id":38560737,"question_id":21456494,"body_markdown":"    @Query(&quot;select b.equipSealRegisterId from EquipSealRegister b where b.sealName like %?1% and b.deleteFlag = &#39;0&#39;&quot; )\r\n    \tList&lt;String&gt;findBySeal(String sealname);\r\n\r\nI have tried this code and it works.","title":"Spring JPA @Query with LIKE","body":"<pre><code>@Query(\"select b.equipSealRegisterId from EquipSealRegister b where b.sealName like %?1% and b.deleteFlag = '0'\" )\n    List&lt;String&gt;findBySeal(String sealname);\n</code></pre>\n\n<p>I have tried this code and it works.</p>\n"},{"tags":[],"owner":{"account_id":8998435,"reputation":117,"user_id":6707871,"display_name":"Yusuf"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471950265,"creation_date":1471947192,"answer_id":39098324,"question_id":21456494,"body_markdown":"`List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);` \r\n\r\nin order to ignore case issues","title":"Spring JPA @Query with LIKE","body":"<p><code>List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);</code> </p>\n\n<p>in order to ignore case issues</p>\n"},{"tags":[],"owner":{"account_id":5283554,"reputation":1495,"user_id":4218192,"display_name":"M&#237;ra"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1498664384,"creation_date":1498664384,"answer_id":44807065,"question_id":21456494,"body_markdown":"Easy to use following (no need use CONCAT or ||):\r\n\r\n    @Query(&quot;from Service s where s.category.typeAsString like :parent%&quot;)\r\n    List&lt;Service&gt; findAll(@Param(&quot;parent&quot;) String parent);\r\n\r\nDocumented in: http://docs.spring.io/spring-data/jpa/docs/current/reference/html.","title":"Spring JPA @Query with LIKE","body":"<p>Easy to use following (no need use CONCAT or ||):</p>\n\n<pre><code>@Query(\"from Service s where s.category.typeAsString like :parent%\")\nList&lt;Service&gt; findAll(@Param(\"parent\") String parent);\n</code></pre>\n\n<p>Documented in: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html</a>.</p>\n"},{"tags":[],"owner":{"account_id":9937840,"reputation":31,"user_id":7355558,"display_name":"Uisleandro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551290283,"creation_date":1550690284,"answer_id":54793761,"question_id":21456494,"body_markdown":"This way works for me, (using Spring Boot version 2.0.1. RELEASE):\r\n\r\n    @Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE %?1%&quot;)\r\n    List&lt;String&gt; findUsersWithPartOfName(@Param(&quot;username&quot;) String username);\r\n\r\nExplaining: The ?1, ?2, ?3 etc. are place holders the first, second, third parameters, etc. In this case is enough to have the parameter is surrounded by % as if it was a standard SQL query but without the single quotes.","title":"Spring JPA @Query with LIKE","body":"<p>This way works for me, (using Spring Boot version 2.0.1. RELEASE):</p>\n\n<pre><code>@Query(\"SELECT u.username FROM User u WHERE u.username LIKE %?1%\")\nList&lt;String&gt; findUsersWithPartOfName(@Param(\"username\") String username);\n</code></pre>\n\n<p>Explaining: The ?1, ?2, ?3 etc. are place holders the first, second, third parameters, etc. In this case is enough to have the parameter is surrounded by % as if it was a standard SQL query but without the single quotes.</p>\n"},{"tags":[],"owner":{"account_id":20379136,"reputation":31,"user_id":14949619,"display_name":"Masoud Bokaei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612863428,"creation_date":1612863428,"answer_id":66116306,"question_id":21456494,"body_markdown":"You Missed a colon(:) before the username parameter. therefore your code must change from:\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%username%&#39;&quot;)\r\nto :\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%:username%&#39;&quot;)","title":"Spring JPA @Query with LIKE","body":"<p>You Missed a colon(:) before the username parameter. therefore your code must change from:</p>\n<pre><code>@Query(&quot;select u from user u where u.username like '%username%'&quot;)\n</code></pre>\n<p>to :</p>\n<pre><code>@Query(&quot;select u from user u where u.username like '%:username%'&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17605147,"reputation":101,"user_id":12774320,"display_name":"Marcus Stickler-J&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647964746,"creation_date":1647946750,"answer_id":71570917,"question_id":21456494,"body_markdown":"this `@Query(&quot;select u from user u where u.username like &#39;%:username%&#39;&quot;)` does not work in some cases!\r\n\r\n\r\nworking solution for me was \r\n\r\n```java\r\n@Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT(&#39;%&#39;,:username,&#39;%&#39;)&quot;)\r\n```\r\n\r\n","title":"Spring JPA @Query with LIKE","body":"<p>this <code>@Query(&quot;select u from user u where u.username like '%:username%'&quot;)</code> does not work in some cases!</p>\n<p>working solution for me was</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT('%',:username,'%')&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5673197,"reputation":128,"user_id":4487251,"accept_rate":67,"display_name":"Lau13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659611670,"creation_date":1659611670,"answer_id":73234926,"question_id":21456494,"body_markdown":"If you are using Spring-Data-Jpa +2.7 there is a bug with LIKE parameter using %:param% in queries. It will be fixed in version 3.\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/issues/2548","title":"Spring JPA @Query with LIKE","body":"<p>If you are using Spring-Data-Jpa +2.7 there is a bug with LIKE parameter using %:param% in queries. It will be fixed in version 3.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2548\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2548</a></p>\n"},{"tags":[],"owner":{"account_id":28924514,"reputation":1,"user_id":22154708,"display_name":"Priyanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119609,"creation_date":1688119609,"answer_id":76587956,"question_id":21456494,"body_markdown":"List&lt;String&gt; findUsersContaining(String username);\r\n\r\nI tried this. It works","title":"Spring JPA @Query with LIKE","body":"<p>List findUsersContaining(String username);</p>\n<p>I tried this. It works</p>\n"}],"owner":{"account_id":3836900,"reputation":2310,"user_id":3180985,"accept_rate":60,"display_name":"Viktoriia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182013,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":21461715,"answer_count":12,"score":120,"last_activity_date":1688119609,"creation_date":1391084725,"question_id":21456494,"body_markdown":"I&#39;m trying to make a method in CrudRepository that will be able to give me list of users, whose usernames are LIKE the input parameter(not only begin with, but also contains it). I tried to use method `&quot;findUserByUsernameLike(@Param(&quot;username&quot;) String username)&quot;` but as it is told in Spring documentation, this method is equal to \r\n&quot;`where user.username like ?1`&quot;. It is not good for me, as I already told that I&#39;m trying to get all users whose username contains ... \r\n \r\nI wrote a queryto the method but it even doesn&#39;t deploy.\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%username%&#39;&quot;)\r\n    List&lt;User&gt; findUserByUsernameLike(@Param(&quot;username&quot;) String username);\r\n    }\r\nCan anybody help me with this?\r\n","title":"Spring JPA @Query with LIKE","body":"<p>I'm trying to make a method in CrudRepository that will be able to give me list of users, whose usernames are LIKE the input parameter(not only begin with, but also contains it). I tried to use method <code>\"findUserByUsernameLike(@Param(\"username\") String username)\"</code> but as it is told in Spring documentation, this method is equal to \n\"<code>where user.username like ?1</code>\". It is not good for me, as I already told that I'm trying to get all users whose username contains ... </p>\n\n<p>I wrote a queryto the method but it even doesn't deploy.</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n@Query(\"select u from user u where u.username like '%username%'\")\nList&lt;User&gt; findUserByUsernameLike(@Param(\"username\") String username);\n}\n</code></pre>\n\n<p>Can anybody help me with this?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687957078,"post_id":76572837,"comment_id":135009192,"body_markdown":"Please share more details: 1. packages of the classes 2. content of properties files 3. application log at startup.","body":"Please share more details: 1. packages of the classes 2. content of properties files 3. application log at startup."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687959715,"post_id":76572837,"comment_id":135009863,"body_markdown":"Add the `application.properties` you ar eusing.","body":"Add the <code>application.properties</code> you ar eusing."},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688021814,"post_id":76572837,"comment_id":135018355,"body_markdown":"@Mar-Z the classes are in the same package &quot;com.batch.jobs.config.&quot;","body":"@Mar-Z the classes are in the same package &quot;com.batch.jobs.config.&quot;"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688022196,"post_id":76572837,"comment_id":135018438,"body_markdown":"Are both classes annotated with @Configuration?","body":"Are both classes annotated with @Configuration?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688022406,"post_id":76572837,"comment_id":135018473,"body_markdown":"`getWS` doesn&#39;t match the property `ws`. Your getter/setter should be `getWs`","body":"<code>getWS</code> doesn&#39;t match the property <code>ws</code>. Your getter/setter should be <code>getWs</code>"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688023272,"post_id":76572837,"comment_id":135018628,"body_markdown":"@M.Deinum this work perfectly the other class no","body":"@M.Deinum this work perfectly the other class no"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688023410,"post_id":76572837,"comment_id":135018659,"body_markdown":"@Mar-Z\nNo, just as it is in the example code and it is not necessary to define","body":"@Mar-Z No, just as it is in the example code and it is not necessary to define"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688023924,"post_id":76572837,"comment_id":135018754,"body_markdown":"No it doesn&#39;t as stated `getWS` doesn&#39;t match the field/property `ws`. Either change your config to `opc.WS` or change your getter/setter. This is how properties work in Java (you might want to read the Java Bean specification for that).","body":"No it doesn&#39;t as stated <code>getWS</code> doesn&#39;t match the field/property <code>ws</code>. Either change your config to <code>opc.WS</code> or change your getter/setter. This is how properties work in Java (you might want to read the Java Bean specification for that)."},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688029830,"post_id":76572837,"comment_id":135020004,"body_markdown":"@M.Deinum I can&#39;t change properties and the getter/setter was made with eclipse automatically.","body":"@M.Deinum I can&#39;t change properties and the getter/setter was made with eclipse automatically."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688031104,"post_id":76572837,"comment_id":135020290,"body_markdown":"Then Eclipse is borked. Change the getter/setter else it will not bind/match.","body":"Then Eclipse is borked. Change the getter/setter else it will not bind/match."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688114182,"post_id":76572837,"comment_id":135033218,"body_markdown":"Please share application logs on startup with Spring active profile `int`","body":"Please share application logs on startup with Spring active profile <code>int</code>"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688118640,"post_id":76572837,"comment_id":135034073,"body_markdown":"@Mar-Z added. Thank you for helping","body":"@Mar-Z added. Thank you for helping"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119379,"creation_date":1688119379,"answer_id":76587930,"question_id":76572837,"body_markdown":"&gt; how can you override those properties \r\n\r\nAs you are using the same properties file name as the external JAR on the classpath you should let Spring load you properties first. You can do it by putting your file either in:\r\n\r\n 1. The current directory\r\n 2. The `config`/ subdirectory in the current directory\r\n 3. Immediate child directories of the `config/` subdirectory\r\n\r\nBased on [https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific","title":"Mutiple @ConfigurationProperties don&#39;t work. Just load one","body":"<blockquote>\n<p>how can you override those properties</p>\n</blockquote>\n<p>As you are using the same properties file name as the external JAR on the classpath you should let Spring load you properties first. You can do it by putting your file either in:</p>\n<ol>\n<li>The current directory</li>\n<li>The <code>config</code>/ subdirectory in the current directory</li>\n<li>Immediate child directories of the <code>config/</code> subdirectory</li>\n</ol>\n<p>Based on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific</a></p>\n"}],"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688119379,"creation_date":1687952548,"question_id":76572837,"body_markdown":"I have a batch with **spring-boot-starter-batch 2.7.13**, the same thing happens with version **2.7.1**, so I don&#39;t think it&#39;s a version problem. JDK1.8.\r\n\r\nI have created two classes to load properties from properties files but defined by environment (int, pre, pro) the settings are all defined in main, and in the corresponding classes.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.batch&quot;})\r\n    @EnableAutoConfiguration(exclude = { \r\n    \t\t\t\t\t\t\t\t\t DataSourceAutoConfiguration.class,\r\n    \t\t\t\t\t\t\t\t\t DataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\t\t\t\t\t\t\t\t HibernateJpaAutoConfiguration.class })\r\n    @EnableConfigurationProperties ({AppProp.class , ClientProp.class})\r\n    public class BatchApplication implements CommandLineRunner {...}\r\n     \r\nThe ClientProp class is defined as follows\r\n    \r\n    @ConfigurationProperties(prefix = &quot;ocr&quot;, ignoreUnknownFields = true)\r\n        public class ClientProp {\r\n        private Map&lt;String, String&gt; ws;\r\n        public Map&lt;String, String&gt; getWS() {\r\n        return ws;\r\n        }\r\n        public void setWS(Map&lt;String, String&gt; ws) {\r\n        this.ws = ws;\r\n        }\r\n        }\r\n\r\n\r\nIf I put a breakpoint in the setter it stops, which doesn&#39;t happen in the other class, it doesn&#39;t stop in any of the setters.\r\n\r\n    @ConfigurationProperties(prefix = &quot;pbc&quot;, ignoreUnknownFields = true)\r\n    public class AppProp {\r\n    private Map&lt;String, String&gt; job;\r\n    private Map&lt;String, String&gt; extension;\r\n    private Map&lt;String, String&gt; repository;\r\n    ...getters/setters\r\n    }\r\n\r\nI don&#39;t understand what the charging problem is.\r\nIn the debug traces, you can see how spring initializes the beans.\r\n\r\n    2023-06-28 13:28:04.480 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean &#39;pbc-com.batch.jobs.config.AppProp&#39;\r\n    2023-06-28 13:28:04.502 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean &#39;ocr-com.batch.jobs.config.ClientProp&#39;\r\n\r\nThe propertie file by environment is application-*int*.properties\r\n\r\n    pbc.extension.types=\r\n    pbc.repository.running=\r\n    pbc.repository.root.path=\r\n    pbc.repository.inbound=\r\n    pbc.repository.in-progress=\r\n    pbc.repository.error=\r\n    pbc.repository.processed=\r\n    pbc.repository.treated.file=\r\n    \r\n    pbc.job.thread.pool.size=\r\n    \r\n    pbc.job.commit.limit=\r\n    \r\n    pbc.job.thread.limit=\r\n    \r\n    ocr.ws.endpoint=\r\n    ocr.ws.app.user=\r\n    ocr.ws.app.password=\r\n    ocr.ws.app.project=\r\n    ocr.ws.app.schedule.process=\r\n    ocr.ws.app.try.process=\r\n    \r\n    ocr.manager.endpoint.base=\r\n    ocr.manager.version.api=\r\n    ocr.manager.analisis.api=\r\n    ocr.manager.url.notification=\r\n    ocr.manager.codigo.cliente=\r\n\r\nWhat can be wrong?\r\nThanks\r\n\r\nI don&#39;t understand the reason but according to the local configuration I have the files application-dev.properties, application-int.propeties, etc. and it only loads the properties if i select in dev environment but if i select int it doesn&#39;t work.\r\nWhat is the reason?\r\n\r\nCould the problem be that a dependency has a properties file with the same name and only loads the internal as seen in the traces?\r\nIf so, how can you override those properties or exclude them and put them in the main application&#39;s property? See the trace **2023-06-30 11:18:15.952 DEBUG 10060**\r\n\r\n    2023-06-30 11:18:15.097  INFO   --- [           main] c.batch.RidocrBatchApplication  : Profile: int\r\n    2023-06-30 11:18:15.707 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;info.app.build.date&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;application.version&#39; in PropertySource &#39;version&#39; with value of type String\r\n    2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring-boot.version&#39; in PropertySource &#39;version&#39; with value of type String\r\n    \r\n    2023-06-30 11:18:15.864 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.application.name&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:15.873  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : Starting RidocrBatchApplication on zaesvdicnt-203 with PID 10060 (******\\ridocr-batch\\target\\classes started by eit6529 in ******\\ridocr-batch)\r\n    2023-06-30 11:18:15.874  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : The following profiles are active: int\r\n    2023-06-30 11:18:15.874 DEBUG 10060 --- [           main] o.s.boot.SpringApplication               : Loading source class com.batch.RidocrBatchApplication\r\n    2023-06-30 11:18:15.951 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles int\r\n    2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;file:/******/ridocr-batch/target/classes/application.properties&#39; (classpath:/application.properties)\r\n    2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/application-int.properties&#39; (classpath:/application-int.properties) for profile int\r\n    2023-06-30 11:18:15.953 DEBUG 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ac4250\r\n    2023-06-30 11:18:15.987 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.017 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory&#39;\r\n    2023-06-30 11:18:16.135 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\BatchConfig.class]\r\n    2023-06-30 11:18:16.139 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\FilenetConnectionConfig.class]\r\n    2023-06-30 11:18:16.141 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\OCRConfig.class]\r\n    2023-06-30 11:18:16.144 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\RidOcrProperties.class]\r\n    2023-06-30 11:18:16.151 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\process\\JobRIDOCRProcess.class]\r\n    2023-06-30 11:18:16.170 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\utils\\ProcessCount.class]\r\n    2023-06-30 11:18:16.174 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: URL [jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/ocr/client/config/ConfigClient.class]\r\n    2023-06-30 11:18:16.432 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&#39;\r\n    2023-06-30 11:18:16.535 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.batch.job.enabled&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:16.711 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;propertySourcesPlaceholderConfigurer&#39;\r\n    2023-06-30 11:18:16.718 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;stepScope&#39;\r\n    2023-06-30 11:18:16.719 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobScope&#39;\r\n    2023-06-30 11:18:16.720 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n    2023-06-30 11:18:16.721 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata&#39;\r\n    2023-06-30 11:18:16.723 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n    2023-06-30 11:18:16.724 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionalEventListenerFactory&#39;\r\n    2023-06-30 11:18:16.729 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.730 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.733 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;\r\n    2023-06-30 11:18:16.738 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;persistenceExceptionTranslationPostProcessor&#39;\r\n    2023-06-30 11:18:16.745 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from bean name &#39;persistenceExceptionTranslationPostProcessor&#39; via factory method to bean named &#39;environment&#39;\r\n    2023-06-30 11:18:16.760 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;\r\n    2023-06-30 11:18:16.794 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridocrBatchApplication&#39;\r\n    2023-06-30 11:18:17.003 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridOcrProperties&#39;\r\n    2023-06-30 11:18:17.005 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridocr-com.batch.jobs.config.AppCfgProp&#39;\r\n    2023-06-30 11:18:17.015 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39;\r\n    2023-06-30 11:18:17.016 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;\r\n    2023-06-30 11:18:17.047 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionAttributeSource&#39;\r\n    2023-06-30 11:18:17.054 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionInterceptor&#39;\r\n    2023-06-30 11:18:17.066 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ocr-com.batch.jobs.config.OcrClientProp&#39;\r\n    2023-06-30 11:18:23.390 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;batchConfig&#39;\r\n    2023-06-30 11:18:23.395  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\r\n    2023-06-30 11:18:23.396  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\r\n    2023-06-30 11:18:23.410 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT]\r\n    2023-06-30 11:18:23.411 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [create*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\r\n    2023-06-30 11:18:23.412 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [getLastJobExecution*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\r\n    2023-06-30 11:18:23.439  INFO 10060 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n    2023-06-30 11:18:23.441 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;OCRConfig&#39;\r\n    2023-06-30 11:18:23.526 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobRIDOCRProcess&#39;\r\n    2023-06-30 11:18:23.528 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;processCount&#39;\r\n    2023-06-30 11:18:23.533 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobBuilders&#39;\r\n    2023-06-30 11:18:23.534 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration&#39;\r\n    2023-06-30 11:18:23.551 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobRepository&#39;\r\n    2023-06-30 11:18:23.562 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;stepBuilders&#39;\r\n    2023-06-30 11:18:23.563 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionManager&#39;\r\n    2023-06-30 11:18:23.569 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobTaskExecutorMultiThreaded&#39;\r\n    2023-06-30 11:18:25.195  WARN 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobRIDOCRProcess&#39;: Unsatisfied dependency expressed through field &#39;jobTaskExecutorMultiThreaded&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jobTaskExecutorMultiThreaded&#39; defined in class path resource [ridocr/batch/jobs/config/BatchConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.core.task.TaskExecutor]: Factory method &#39;jobTaskExecutorMultiThreaded&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    2023-06-30 11:18:25.201 DEBUG 10060 --- [           main] .c.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: .....\r\n    2023-06-30 11:18:25.231 DEBUG 10060 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\n","title":"Mutiple @ConfigurationProperties don&#39;t work. Just load one","body":"<p>I have a batch with <strong>spring-boot-starter-batch 2.7.13</strong>, the same thing happens with version <strong>2.7.1</strong>, so I don't think it's a version problem. JDK1.8.</p>\n<p>I have created two classes to load properties from properties files but defined by environment (int, pre, pro) the settings are all defined in main, and in the corresponding classes.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.batch&quot;})\n@EnableAutoConfiguration(exclude = { \n                                     DataSourceAutoConfiguration.class,\n                                     DataSourceTransactionManagerAutoConfiguration.class,\n                                     HibernateJpaAutoConfiguration.class })\n@EnableConfigurationProperties ({AppProp.class , ClientProp.class})\npublic class BatchApplication implements CommandLineRunner {...}\n \n</code></pre>\n<p>The ClientProp class is defined as follows</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;ocr&quot;, ignoreUnknownFields = true)\n    public class ClientProp {\n    private Map&lt;String, String&gt; ws;\n    public Map&lt;String, String&gt; getWS() {\n    return ws;\n    }\n    public void setWS(Map&lt;String, String&gt; ws) {\n    this.ws = ws;\n    }\n    }\n</code></pre>\n<p>If I put a breakpoint in the setter it stops, which doesn't happen in the other class, it doesn't stop in any of the setters.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;pbc&quot;, ignoreUnknownFields = true)\npublic class AppProp {\nprivate Map&lt;String, String&gt; job;\nprivate Map&lt;String, String&gt; extension;\nprivate Map&lt;String, String&gt; repository;\n...getters/setters\n}\n</code></pre>\n<p>I don't understand what the charging problem is.\nIn the debug traces, you can see how spring initializes the beans.</p>\n<pre><code>2023-06-28 13:28:04.480 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean 'pbc-com.batch.jobs.config.AppProp'\n2023-06-28 13:28:04.502 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean 'ocr-com.batch.jobs.config.ClientProp'\n</code></pre>\n<p>The propertie file by environment is application-<em>int</em>.properties</p>\n<pre><code>pbc.extension.types=\npbc.repository.running=\npbc.repository.root.path=\npbc.repository.inbound=\npbc.repository.in-progress=\npbc.repository.error=\npbc.repository.processed=\npbc.repository.treated.file=\n\npbc.job.thread.pool.size=\n\npbc.job.commit.limit=\n\npbc.job.thread.limit=\n\nocr.ws.endpoint=\nocr.ws.app.user=\nocr.ws.app.password=\nocr.ws.app.project=\nocr.ws.app.schedule.process=\nocr.ws.app.try.process=\n\nocr.manager.endpoint.base=\nocr.manager.version.api=\nocr.manager.analisis.api=\nocr.manager.url.notification=\nocr.manager.codigo.cliente=\n</code></pre>\n<p>What can be wrong?\nThanks</p>\n<p>I don't understand the reason but according to the local configuration I have the files application-dev.properties, application-int.propeties, etc. and it only loads the properties if i select in dev environment but if i select int it doesn't work.\nWhat is the reason?</p>\n<p>Could the problem be that a dependency has a properties file with the same name and only loads the internal as seen in the traces?\nIf so, how can you override those properties or exclude them and put them in the main application's property? See the trace <strong>2023-06-30 11:18:15.952 DEBUG 10060</strong></p>\n<pre><code>2023-06-30 11:18:15.097  INFO   --- [           main] c.batch.RidocrBatchApplication  : Profile: int\n2023-06-30 11:18:15.707 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'info.app.build.date' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'application.version' in PropertySource 'version' with value of type String\n2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring-boot.version' in PropertySource 'version' with value of type String\n\n2023-06-30 11:18:15.864 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.application.name' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:15.873  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : Starting RidocrBatchApplication on zaesvdicnt-203 with PID 10060 (******\\ridocr-batch\\target\\classes started by eit6529 in ******\\ridocr-batch)\n2023-06-30 11:18:15.874  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : The following profiles are active: int\n2023-06-30 11:18:15.874 DEBUG 10060 --- [           main] o.s.boot.SpringApplication               : Loading source class com.batch.RidocrBatchApplication\n2023-06-30 11:18:15.951 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles int\n2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'file:/******/ridocr-batch/target/classes/application.properties' (classpath:/application.properties)\n2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/application-int.properties' (classpath:/application-int.properties) for profile int\n2023-06-30 11:18:15.953 DEBUG 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ac4250\n2023-06-30 11:18:15.987 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n2023-06-30 11:18:16.017 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'\n2023-06-30 11:18:16.135 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\BatchConfig.class]\n2023-06-30 11:18:16.139 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\FilenetConnectionConfig.class]\n2023-06-30 11:18:16.141 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\OCRConfig.class]\n2023-06-30 11:18:16.144 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\RidOcrProperties.class]\n2023-06-30 11:18:16.151 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\process\\JobRIDOCRProcess.class]\n2023-06-30 11:18:16.170 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\utils\\ProcessCount.class]\n2023-06-30 11:18:16.174 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: URL [jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/ocr/client/config/ConfigClient.class]\n2023-06-30 11:18:16.432 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.condition.BeanTypeRegistry'\n2023-06-30 11:18:16.535 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.batch.job.enabled' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:16.711 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'\n2023-06-30 11:18:16.718 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'stepScope'\n2023-06-30 11:18:16.719 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobScope'\n2023-06-30 11:18:16.720 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n2023-06-30 11:18:16.721 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata'\n2023-06-30 11:18:16.723 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n2023-06-30 11:18:16.724 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'\n2023-06-30 11:18:16.729 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n2023-06-30 11:18:16.730 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n2023-06-30 11:18:16.733 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'\n2023-06-30 11:18:16.738 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'\n2023-06-30 11:18:16.745 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'\n2023-06-30 11:18:16.760 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'\n2023-06-30 11:18:16.794 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridocrBatchApplication'\n2023-06-30 11:18:17.003 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridOcrProperties'\n2023-06-30 11:18:17.005 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridocr-com.batch.jobs.config.AppCfgProp'\n2023-06-30 11:18:17.015 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'\n2023-06-30 11:18:17.016 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'\n2023-06-30 11:18:17.047 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionAttributeSource'\n2023-06-30 11:18:17.054 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionInterceptor'\n2023-06-30 11:18:17.066 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ocr-com.batch.jobs.config.OcrClientProp'\n2023-06-30 11:18:23.390 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'batchConfig'\n2023-06-30 11:18:23.395  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\n2023-06-30 11:18:23.396  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\n2023-06-30 11:18:23.410 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT]\n2023-06-30 11:18:23.411 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [create*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\n2023-06-30 11:18:23.412 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [getLastJobExecution*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\n2023-06-30 11:18:23.439  INFO 10060 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2023-06-30 11:18:23.441 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'OCRConfig'\n2023-06-30 11:18:23.526 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobRIDOCRProcess'\n2023-06-30 11:18:23.528 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'processCount'\n2023-06-30 11:18:23.533 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobBuilders'\n2023-06-30 11:18:23.534 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration'\n2023-06-30 11:18:23.551 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobRepository'\n2023-06-30 11:18:23.562 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'stepBuilders'\n2023-06-30 11:18:23.563 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionManager'\n2023-06-30 11:18:23.569 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobTaskExecutorMultiThreaded'\n2023-06-30 11:18:25.195  WARN 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobRIDOCRProcess': Unsatisfied dependency expressed through field 'jobTaskExecutorMultiThreaded'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jobTaskExecutorMultiThreaded' defined in class path resource [ridocr/batch/jobs/config/BatchConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.core.task.TaskExecutor]: Factory method 'jobTaskExecutorMultiThreaded' threw exception; nested exception is java.lang.NullPointerException\n2023-06-30 11:18:25.201 DEBUG 10060 --- [           main] .c.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: .....\n2023-06-30 11:18:25.231 DEBUG 10060 --- [           main] ConditionEvaluationReportLoggingListener : \n</code></pre>\n"},{"tags":["java","intellij-idea","builder","lombok"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1596017227,"post_id":63151172,"comment_id":111671911,"body_markdown":"did you add the lombok plugin? also, please don&#39;t expect us to visit a bunch of external links","body":"did you add the lombok plugin? also, please don&#39;t expect us to visit a bunch of external links"},{"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"score":0,"creation_date":1596017423,"post_id":63151172,"comment_id":111672018,"body_markdown":"Hey thanks for the suggestion regarding external links. Will keep it in mind. This is my first post. IntelliJ Lombok plugin is already installed in IntelliJ. Thanks","body":"Hey thanks for the suggestion regarding external links. Will keep it in mind. This is my first post. IntelliJ Lombok plugin is already installed in IntelliJ. Thanks"},{"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"score":0,"creation_date":1596018265,"post_id":63151172,"comment_id":111672408,"body_markdown":"When you ignore displayed errors from IDE: Does it compile (using mvn clean install) when you add LoginModel.builder.build(); ?","body":"When you ignore displayed errors from IDE: Does it compile (using mvn clean install) when you add LoginModel.builder.build(); ?"},{"owner":{"account_id":4497487,"reputation":85,"user_id":3656940,"display_name":"Vishal T"},"score":0,"creation_date":1596018481,"post_id":63151172,"comment_id":111672514,"body_markdown":"did u try reimporting project dependencies?","body":"did u try reimporting project dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596018122,"creation_date":1596017534,"answer_id":63151272,"question_id":63151172,"body_markdown":"Assuming you use IntelliJ: You have to install [Lombok Plugin][1] in order to make it work:\r\n\r\n 1. Go to `File &gt; Settings &gt; Plugins`\r\n 2. Click on Browse repositories...\r\n 3. Search for `Lombok Plugin`\r\n 4. Click on Install plugin\r\n 5. Restart IntelliJ IDEA\r\n\r\n  [1]: https://projectlombok.org/setup/intellij","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>Assuming you use IntelliJ: You have to install <a href=\"https://projectlombok.org/setup/intellij\" rel=\"nofollow noreferrer\">Lombok Plugin</a> in order to make it work:</p>\n<ol>\n<li>Go to <code>File &gt; Settings &gt; Plugins</code></li>\n<li>Click on Browse repositories...</li>\n<li>Search for <code>Lombok Plugin</code></li>\n<li>Click on Install plugin</li>\n<li>Restart IntelliJ IDEA</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613864722,"creation_date":1596017559,"answer_id":63151281,"question_id":63151172,"body_markdown":"Aside from the dependency in the `provided` scope you have to enable the annotation processing (if you are using IntelliJ Idea) and install the [Lombok Plugin][1].\r\n\r\n1.     &lt;dependency&gt;\r\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n           &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n2. Annotation processing: Navigate to `File` -&gt; `Settings` -&gt; `Build, Execution, Deployment` -&gt; `Compiler` -&gt; `Annotation Processors` and check `Enable annotation processing`.\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n3. Lombok Plugin: Navigate to `File` -&gt; `Settings` -&gt; `Plugins` and make sure the Lombok plugin is installed.\r\n\r\n   [![enter image description here][3]][3]\r\n\r\n4. Restart IntelliJ Idea - **The most likely missed part :)**\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/6317-lombok/\r\n  [2]: https://i.stack.imgur.com/tsMpW.png\r\n  [3]: https://i.stack.imgur.com/HYJwS.png","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>Aside from the dependency in the <code>provided</code> scope you have to enable the annotation processing (if you are using IntelliJ Idea) and install the <a href=\"https://plugins.jetbrains.com/plugin/6317-lombok/\" rel=\"nofollow noreferrer\">Lombok Plugin</a>.</p>\n<ol>\n<li>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Annotation processing: Navigate to <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Compiler</code> -&gt; <code>Annotation Processors</code> and check <code>Enable annotation processing</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/tsMpW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsMpW.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Lombok Plugin: Navigate to <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Plugins</code> and make sure the Lombok plugin is installed.</p>\n<p><a href=\"https://i.stack.imgur.com/HYJwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HYJwS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Restart IntelliJ Idea - <strong>The most likely missed part :)</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3033996,"reputation":1064,"user_id":2572505,"accept_rate":56,"display_name":"Dut A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119180,"creation_date":1688119180,"answer_id":76587897,"question_id":63151172,"body_markdown":"In my case, I had used `@Data` and `@NoArgsConstructor`.\r\n\r\nTo get the `@Builder` to work, I had to add `@AllArgsConstructor`.\r\n\r\n `@NoArgsConstructor` seems to invalidate the [all-args] constructor `@Data` adds. So either have just `@Data` or both `@NoArgsConstructor` &amp; `@AllArgsConstructor`\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ThatGreatClassName implements Serializable {\r\n    // code\r\n}\r\n\r\n```\r\n\r\nOR\r\n\r\n\r\n```java\r\n@Data\r\n@Builder\r\npublic class ThatGreatClassName implements Serializable {\r\n    // code\r\n}\r\n\r\n```","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>In my case, I had used <code>@Data</code> and <code>@NoArgsConstructor</code>.</p>\n<p>To get the <code>@Builder</code> to work, I had to add <code>@AllArgsConstructor</code>.</p>\n<p><code>@NoArgsConstructor</code> seems to invalidate the [all-args] constructor <code>@Data</code> adds. So either have just <code>@Data</code> or both <code>@NoArgsConstructor</code> &amp; <code>@AllArgsConstructor</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ThatGreatClassName implements Serializable {\n    // code\n}\n\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\npublic class ThatGreatClassName implements Serializable {\n    // code\n}\n\n</code></pre>\n"}],"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7308,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63151281,"answer_count":3,"score":4,"last_activity_date":1688119180,"creation_date":1596017160,"question_id":63151172,"body_markdown":"I am not sure what am I doing wrong. Can somebody please help me out\r\n\r\nPOM:\r\n [![enter image description here][1]][1]\r\n\r\n\r\nImplementation:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nUsing it as below:\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThe builder() method does not seem to be recognised. I am using IntelliJ. Is there something that I am missing?\r\n\r\nBelow are my intelliJ settings:\r\n\r\n![IntellijSettings - 1][4]\r\n\r\n![IntellijSettings - 2][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OyVtM.png\r\n  [2]: https://i.stack.imgur.com/9qcjd.png\r\n  [3]: https://i.stack.imgur.com/BtlAq.png\r\n  [4]: https://i.stack.imgur.com/gHjM4.png\r\n  [5]: https://i.stack.imgur.com/7BAgY.png","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>I am not sure what am I doing wrong. Can somebody please help me out</p>\n<p>POM:\n<a href=\"https://i.stack.imgur.com/OyVtM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OyVtM.png\" alt=\"enter image description here\" /></a></p>\n<p>Implementation:\n<a href=\"https://i.stack.imgur.com/9qcjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qcjd.png\" alt=\"enter image description here\" /></a></p>\n<p>Using it as below:\n<a href=\"https://i.stack.imgur.com/BtlAq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtlAq.png\" alt=\"enter image description here\" /></a></p>\n<p>The builder() method does not seem to be recognised. I am using IntelliJ. Is there something that I am missing?</p>\n<p>Below are my intelliJ settings:</p>\n<p><img src=\"https://i.stack.imgur.com/gHjM4.png\" alt=\"IntellijSettings - 1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7BAgY.png\" alt=\"IntellijSettings - 2\" /></p>\n"},{"tags":["java","spring","rest","validation","spring-mvc"],"comments":[{"owner":{"account_id":3270631,"reputation":3649,"user_id":2754093,"accept_rate":100,"display_name":"Mouad EL Fakir"},"score":2,"creation_date":1487265226,"post_id":42280355,"comment_id":71717572,"body_markdown":"Validation should be made only in the presentation layer (DTO) and Entities should never reach to the presentation layer.","body":"Validation should be made only in the presentation layer (DTO) and Entities should never reach to the presentation layer."},{"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"score":0,"creation_date":1487274859,"post_id":42280355,"comment_id":71723398,"body_markdown":"So no restriction annotations in the entities? For example, when you create a db without an ORM, you specify VARCHAR(30). Which limits the string length.","body":"So no restriction annotations in the entities? For example, when you create a db without an ORM, you specify VARCHAR(30). Which limits the string length."}],"answers":[{"tags":[],"owner":{"account_id":4443559,"reputation":816,"user_id":3617511,"display_name":"msucil"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1487305572,"creation_date":1487305572,"answer_id":42289379,"question_id":42280355,"body_markdown":"In entity you should add `constraints` that required your data to be in healthy state and all the `validation` logic should be in `DTO` because, your `RestController` serve `DTOs` and it is the responsibility of `controller` to check for validation before mapping to entity.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>In entity you should add <code>constraints</code> that required your data to be in healthy state and all the <code>validation</code> logic should be in <code>DTO</code> because, your <code>RestController</code> serve <code>DTOs</code> and it is the responsibility of <code>controller</code> to check for validation before mapping to entity.</p>\n"},{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1487307879,"creation_date":1487307879,"answer_id":42289798,"question_id":42280355,"body_markdown":"It&#39;s ironic how many people truly believe that validation should be something we partake upon in our controllers or the value objects which they exchange with business code and at no other place should there be concern for state validation.  \r\n\r\nWe should always strive to perform validation at multiple stages of any application.\r\n\r\nConsider for the moment a controller that accepts a value object that you intend to use to change a business entity in some service and that value object contains only a subset of fields that you intend to manipulate in a larger entity.  You validate the value object in your presentation tier and pass that to your service which fetches the entity, takes the values from the value object and sets them on the appropriate entity.  Perhaps that service method manipulates other fields too.\r\n\r\nWhat guarantee do we have that the state of that entity is _valid_?  \r\n\r\nWhile we validated the value object was valid, we only validated those inputs within the context of the subset of fields which were supplied.  We didn&#39;t validate that those values in conjunction with the other existing state of the entity were still valid.\r\n\r\nIt&#39;s also important to try and guard against developer mistakes too.  Test cases only get you so far and we all can agree we don&#39;t validate the validity of every combination of values in our tests.  We often target very specific cases and scenarios and draw conclusions from there.  \r\n\r\nBy applying validation not only to our presentation value objects but to our entities, you not only allow your test cases to focus on broad feature validation but you guarantee that your data store state is never compromised by the application.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>It's ironic how many people truly believe that validation should be something we partake upon in our controllers or the value objects which they exchange with business code and at no other place should there be concern for state validation.  </p>\n\n<p>We should always strive to perform validation at multiple stages of any application.</p>\n\n<p>Consider for the moment a controller that accepts a value object that you intend to use to change a business entity in some service and that value object contains only a subset of fields that you intend to manipulate in a larger entity.  You validate the value object in your presentation tier and pass that to your service which fetches the entity, takes the values from the value object and sets them on the appropriate entity.  Perhaps that service method manipulates other fields too.</p>\n\n<p>What guarantee do we have that the state of that entity is <em>valid</em>?  </p>\n\n<p>While we validated the value object was valid, we only validated those inputs within the context of the subset of fields which were supplied.  We didn't validate that those values in conjunction with the other existing state of the entity were still valid.</p>\n\n<p>It's also important to try and guard against developer mistakes too.  Test cases only get you so far and we all can agree we don't validate the validity of every combination of values in our tests.  We often target very specific cases and scenarios and draw conclusions from there.  </p>\n\n<p>By applying validation not only to our presentation value objects but to our entities, you not only allow your test cases to focus on broad feature validation but you guarantee that your data store state is never compromised by the application.</p>\n"},{"tags":[],"owner":{"account_id":10404656,"reputation":429,"user_id":7671930,"display_name":"Luiz Fernando Noschang"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595564871,"creation_date":1595564554,"answer_id":63066771,"question_id":42280355,"body_markdown":"After thinking about it for a while, I decided that the best approach is to validate on both layers. I&#39;ll explain why.\r\n\r\nImagine that you have a **`User`** entity with a **`name`** field and your application business logic requires it not to be null. You also have a **`UserDTO`** with the same **`name`** field.\r\n\r\nI assume that all your validations on both, entity and DTO, will be made using the **`java.validation`** API.\r\n\r\nIf you validate only on the controller, then you&#39;re safe against persisting an invalid entity, but only from a incoming request. If you have a service that manipulates the entity, it may persist the entity in an invalid state without you noticing (unless there is a null check on the database column).\r\n\r\nThen, you can think: *&quot;OK, I&#39;ll move the validation annotations from the DTO to the entity and all will be fine&quot;*. Well, yes and no!\r\n\r\nIf you validate only on the entity, you will be safe from both, incoming requests and on your service layer, however you may have a performance problem.\r\n\r\nAccording to **Anghel Leonard** on its book **Spring Boot Persistence Best Practices**, every time you load an entity from the database, Hibernate wastes memory and CPU to maintain the entity state on the persistence context, even if the entity is in &quot;read only mode&quot;.\r\n\r\nNow, think about it. If the user name is null and you validate it only on the entity, this means that you:\r\n\r\n1. Started a transaction\r\n2. Loaded the entity\r\n3. Changed the entity\r\n4. Flushed the persistence context\r\n5. Rolled back the transaction\r\n\r\nMany of these operations can be expensive and you did it all just to throw it on the trash, when you could simply have never done anything if you had validated the user name earlier.\r\n\r\nSo, my advice is to validate on both layers. The annotations make it so easy that you not even have an excuse to not do it. Even complex validations can be made writing custom validators, which can then be reused on a lot of other places\r\n\r\n\r\nAlso, here is a link to the book I mentioned, I hope you enjoy:\r\nhttps://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>After thinking about it for a while, I decided that the best approach is to validate on both layers. I'll explain why.</p>\n<p>Imagine that you have a <strong><code>User</code></strong> entity with a <strong><code>name</code></strong> field and your application business logic requires it not to be null. You also have a <strong><code>UserDTO</code></strong> with the same <strong><code>name</code></strong> field.</p>\n<p>I assume that all your validations on both, entity and DTO, will be made using the <strong><code>java.validation</code></strong> API.</p>\n<p>If you validate only on the controller, then you're safe against persisting an invalid entity, but only from a incoming request. If you have a service that manipulates the entity, it may persist the entity in an invalid state without you noticing (unless there is a null check on the database column).</p>\n<p>Then, you can think: <em>&quot;OK, I'll move the validation annotations from the DTO to the entity and all will be fine&quot;</em>. Well, yes and no!</p>\n<p>If you validate only on the entity, you will be safe from both, incoming requests and on your service layer, however you may have a performance problem.</p>\n<p>According to <strong>Anghel Leonard</strong> on its book <strong>Spring Boot Persistence Best Practices</strong>, every time you load an entity from the database, Hibernate wastes memory and CPU to maintain the entity state on the persistence context, even if the entity is in &quot;read only mode&quot;.</p>\n<p>Now, think about it. If the user name is null and you validate it only on the entity, this means that you:</p>\n<ol>\n<li>Started a transaction</li>\n<li>Loaded the entity</li>\n<li>Changed the entity</li>\n<li>Flushed the persistence context</li>\n<li>Rolled back the transaction</li>\n</ol>\n<p>Many of these operations can be expensive and you did it all just to throw it on the trash, when you could simply have never done anything if you had validated the user name earlier.</p>\n<p>So, my advice is to validate on both layers. The annotations make it so easy that you not even have an excuse to not do it. Even complex validations can be made writing custom validators, which can then be reused on a lot of other places</p>\n<p>Also, here is a link to the book I mentioned, I hope you enjoy:\n<a href=\"https://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"noreferrer\">https://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1</a></p>\n"},{"tags":[],"owner":{"account_id":4869614,"reputation":11,"user_id":3926603,"display_name":"chinnari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688118964,"creation_date":1688118964,"answer_id":76587876,"question_id":42280355,"body_markdown":"    Input needs to be validated first you can use the below validations in dto \r\n    \r\n    @NotBlank(&quot;Username must not be null&quot;)\r\n    @Size(max=10)\r\n    private String userName;\r\n    \r\n    @Email\r\n    @NotBlank\r\n    @Size(min =10,max=100,message =&quot;emaild id must be valid&quot;)\r\n    private String emailId;","title":"Spring Rest API validation should be in DTO or in entity?","body":"<pre><code>Input needs to be validated first you can use the below validations in dto \n\n@NotBlank(&quot;Username must not be null&quot;)\n@Size(max=10)\nprivate String userName;\n\n@Email\n@NotBlank\n@Size(min =10,max=100,message =&quot;emaild id must be valid&quot;)\nprivate String emailId;\n</code></pre>\n"}],"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17481,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":42289798,"answer_count":4,"score":26,"last_activity_date":1688118964,"creation_date":1487264674,"question_id":42280355,"body_markdown":"In which tier should the validation be in a Spring Boot Rest API. I have some models, endpoints and DTOs. I added some `@NotNull` and `@Size` annotations in the DTO. I added the `@Valid` annotation in the endpoint along with the `@RequestParam` annotation. \r\n\r\nBut now I&#39;m wondering if I should put validation in the `@Entity` classes as well? I feel like it would be a duplication of code. But I read that a tier should never rely on another one.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>In which tier should the validation be in a Spring Boot Rest API. I have some models, endpoints and DTOs. I added some <code>@NotNull</code> and <code>@Size</code> annotations in the DTO. I added the <code>@Valid</code> annotation in the endpoint along with the <code>@RequestParam</code> annotation. </p>\n\n<p>But now I'm wondering if I should put validation in the <code>@Entity</code> classes as well? I feel like it would be a duplication of code. But I read that a tier should never rely on another one.</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":2,"creation_date":1497784822,"post_id":44614401,"comment_id":76215202,"body_markdown":"your code can be simplified to `boolean t1 = !false &amp;&amp; (true ? false : true ? false : true);` which is always `false`.","body":"your code can be simplified to <code>boolean t1 = !false &amp;&amp; (true ? false : true ? false : true);</code> which is always <code>false</code>."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1497784883,"post_id":44614401,"comment_id":76215219,"body_markdown":"try to use brackets/parenthesis to make your life easier on this one.","body":"try to use brackets/parenthesis to make your life easier on this one."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1497785890,"creation_date":1497784715,"answer_id":44614422,"question_id":44614401,"body_markdown":"When the compiler finds a `?` character, it looks for a corresponding `:`. The expression before the `?` is the first operand of the ternary conditional operator, which represents the condition.\r\n\r\nThe expression between the `?` and the `:` is the second operand of the operator, whose value is returned if the condition is true.\r\n\r\nThe expression after the `:` is the third operand of the operator, whose value is returned if the condition is false.\r\n\r\n    boolean t1 = false   ? false    :    true?false:true?false:true;\r\n\r\n                 first     second        third\r\n                 operand   operand       operand\r\n\r\nSince first operand is false, the result is the value of the third operand `true?false:true?false:true`, so let&#39;s evaluate it:\r\n\r\n    true    ?   false    : true?false:true;\r\n\r\n    first       second     third\r\n    operand     operand    operand\r\n\r\nSince first operand is true, the result is the value of the second operand - `false`.\r\n\r\nBTW, the value of the third operand `true?false:true` is also `false`, so `x?false:true?false:true` returns false regardless of the value of `x`.","title":"How are ternary expressions in Java evaluated?","body":"<p>When the compiler finds a <code>?</code> character, it looks for a corresponding <code>:</code>. The expression before the <code>?</code> is the first operand of the ternary conditional operator, which represents the condition.</p>\n\n<p>The expression between the <code>?</code> and the <code>:</code> is the second operand of the operator, whose value is returned if the condition is true.</p>\n\n<p>The expression after the <code>:</code> is the third operand of the operator, whose value is returned if the condition is false.</p>\n\n<pre><code>boolean t1 = false   ? false    :    true?false:true?false:true;\n\n             first     second        third\n             operand   operand       operand\n</code></pre>\n\n<p>Since first operand is false, the result is the value of the third operand <code>true?false:true?false:true</code>, so let's evaluate it:</p>\n\n<pre><code>true    ?   false    : true?false:true;\n\nfirst       second     third\noperand     operand    operand\n</code></pre>\n\n<p>Since first operand is true, the result is the value of the second operand - <code>false</code>.</p>\n\n<p>BTW, the value of the third operand <code>true?false:true</code> is also <code>false</code>, so <code>x?false:true?false:true</code> returns false regardless of the value of <code>x</code>.</p>\n"},{"tags":[],"owner":{"account_id":6321039,"reputation":385680,"user_id":4909087,"accept_rate":97,"display_name":"cs95"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497785968,"creation_date":1497784817,"answer_id":44614434,"question_id":44614401,"body_markdown":"We can regroup these operations according to associativity rules.\r\n\r\n    boolean t1 = (false ? false : (true ? false : (true ? false : true)));\r\n                      |                      |               | \r\n                      |                      |               1\r\n                      |                      2\r\n                      3\r\n\r\nIn theory, this is what should happen\r\n\r\n 1. Exp 1 is evaluated first and is evaluated as `false`. \r\n 2. Exp 2 is now: `true? false : false` so the final output is `false`. \r\n 3. Exp 3 now becomes `false ? false : false`, which is `false`.\r\n\r\n----\r\nNow, to get technical, this is what actually happens:\r\n\r\n1. Exp 3 is `false ? (don&#39;t care) : (...)` -&gt; the inner expression containing Exp 2 and Exp 1 need to be evaluated.\r\n2. Exp 2 is `true: false, (don&#39;t care)` Since we&#39;ve already determined the value of Exp 2, Exp 1 no longer needs to be evaluated.\r\n3. Exp 3 is now reevaluated to be `false ? (don&#39;t care) : false` and so the final answer is `false`.","title":"How are ternary expressions in Java evaluated?","body":"<p>We can regroup these operations according to associativity rules.</p>\n\n<pre><code>boolean t1 = (false ? false : (true ? false : (true ? false : true)));\n                  |                      |               | \n                  |                      |               1\n                  |                      2\n                  3\n</code></pre>\n\n<p>In theory, this is what should happen</p>\n\n<ol>\n<li>Exp 1 is evaluated first and is evaluated as <code>false</code>. </li>\n<li>Exp 2 is now: <code>true? false : false</code> so the final output is <code>false</code>. </li>\n<li>Exp 3 now becomes <code>false ? false : false</code>, which is <code>false</code>.</li>\n</ol>\n\n<hr>\n\n<p>Now, to get technical, this is what actually happens:</p>\n\n<ol>\n<li>Exp 3 is <code>false ? (don't care) : (...)</code> -> the inner expression containing Exp 2 and Exp 1 need to be evaluated.</li>\n<li>Exp 2 is <code>true: false, (don't care)</code> Since we've already determined the value of Exp 2, Exp 1 no longer needs to be evaluated.</li>\n<li>Exp 3 is now reevaluated to be <code>false ? (don't care) : false</code> and so the final answer is <code>false</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497787395,"creation_date":1497785365,"answer_id":44614507,"question_id":44614401,"body_markdown":"The Pseudocode below shows how the expression is evaluated:\r\n\r\n    boolean t1 = false?false:true?false:true?false:true              \r\n               = true &amp;&amp; (true ? false : true ? false : true)\r\n               = true &amp;&amp; false\r\n               = false\r\n\r\nAnother way to look at it:\r\n\r\n    boolean t1 = false?false:true?false:true?false:true;\r\n\r\ncan be simplified to:\r\n\r\n    boolean t1 = !false &amp;&amp; (true ? false : true ? false : true); \r\nthen simplified to:\r\n\r\n    boolean t1 = true &amp;&amp; (true ? false : true ? false : true); \r\n\r\nthen simplified to:\r\n\r\n    boolean t1 = true &amp;&amp; false;\r\n\r\nwhich eventually results in `false`;\r\n","title":"How are ternary expressions in Java evaluated?","body":"<p>The Pseudocode below shows how the expression is evaluated:</p>\n\n<pre><code>boolean t1 = false?false:true?false:true?false:true              \n           = true &amp;&amp; (true ? false : true ? false : true)\n           = true &amp;&amp; false\n           = false\n</code></pre>\n\n<p>Another way to look at it:</p>\n\n<pre><code>boolean t1 = false?false:true?false:true?false:true;\n</code></pre>\n\n<p>can be simplified to:</p>\n\n<pre><code>boolean t1 = !false &amp;&amp; (true ? false : true ? false : true); \n</code></pre>\n\n<p>then simplified to:</p>\n\n<pre><code>boolean t1 = true &amp;&amp; (true ? false : true ? false : true); \n</code></pre>\n\n<p>then simplified to:</p>\n\n<pre><code>boolean t1 = true &amp;&amp; false;\n</code></pre>\n\n<p>which eventually results in <code>false</code>;</p>\n"}],"owner":{"account_id":6377178,"reputation":532,"user_id":4947737,"accept_rate":71,"display_name":"Bibek Ghimire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44614422,"answer_count":3,"score":4,"last_activity_date":1688118267,"creation_date":1497784547,"question_id":44614401,"body_markdown":"I have followed the tutorial provided [here](http://www.wideskills.com/java-tutorial/java-operators-tutorial) and in the line:\r\n   \r\n    boolean t1 = false?false:true?false:true?false:true;\r\n\r\nthe final value of `t1` is false. But I&#39;ve evaluated it as true.\r\nThe first false gives true and that true gives false, which further finally gives true,\r\nam I right? No, I am wrong.\r\nCould you please tell me how ternary expressions are evaluated in Java?","title":"How are ternary expressions in Java evaluated?","body":"<p>I have followed the tutorial provided <a href=\"http://www.wideskills.com/java-tutorial/java-operators-tutorial\" rel=\"nofollow noreferrer\">here</a> and in the line:</p>\n<pre><code>boolean t1 = false?false:true?false:true?false:true;\n</code></pre>\n<p>the final value of <code>t1</code> is false. But I've evaluated it as true.\nThe first false gives true and that true gives false, which further finally gives true,\nam I right? No, I am wrong.\nCould you please tell me how ternary expressions are evaluated in Java?</p>\n"},{"tags":["java","spring","if-statement","optimization"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669761052,"post_id":74620781,"comment_id":131715505,"body_markdown":"You could look into using the [Strategy Pattern](https://en.wikipedia.org/wiki/Strategy_pattern) or something similar.  Where one strategy could call another strategy and you could kind of make a rules engine.  Overall the number of if statements will stay the same, they will just be placed into individual classes.","body":"You could look into using the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy Pattern</a> or something similar.  Where one strategy could call another strategy and you could kind of make a rules engine.  Overall the number of if statements will stay the same, they will just be placed into individual classes."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669761083,"post_id":74620781,"comment_id":131715511,"body_markdown":"If by &quot;optimalize&quot; you mean make the code cleaner, you might want to post this on [codereview.se]. But you&#39;ll need to include more context and better explain what you&#39;re doing.","body":"If by &quot;optimalize&quot; you mean make the code cleaner, you might want to post this on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. But you&#39;ll need to include more context and better explain what you&#39;re doing."}],"answers":[{"tags":[],"owner":{"display_name":"user20638963"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669762949,"creation_date":1669762949,"answer_id":74621183,"question_id":74620781,"body_markdown":"You can write some methods that receive some values to validate and return boolean.\r\n\r\n    boolean checkType(CustomObject type){\r\n        return type == null;\r\n    }\r\n\r\n\r\nYou can check the use of Optional, it maybe helps with some if blocks.\r\n\r\n    Optional.ofNullable(type).ifPresent(t -&gt; /*some operations*/);\r\n\r\n\r\nYou can check if you can merge some conditions.\r\n \r\n    if (shapeParams.getType() != null &amp;&amp; isFirstParam) {\r\n         //do something....\r\n    } else {\r\n         //do other....    \r\n    }\r\n    \r\n    \r\n\r\n","title":"How to optimize if else statemants with many specifications","body":"<p>You can write some methods that receive some values to validate and return boolean.</p>\n<pre><code>boolean checkType(CustomObject type){\n    return type == null;\n}\n</code></pre>\n<p>You can check the use of Optional, it maybe helps with some if blocks.</p>\n<pre><code>Optional.ofNullable(type).ifPresent(t -&gt; /*some operations*/);\n</code></pre>\n<p>You can check if you can merge some conditions.</p>\n<pre><code>if (shapeParams.getType() != null &amp;&amp; isFirstParam) {\n     //do something....\n} else {\n     //do other....    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575976,"reputation":406,"user_id":1462417,"display_name":"kqr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688117404,"creation_date":1688117404,"answer_id":76587684,"question_id":74620781,"body_markdown":"Depends what you want to achieve.\r\nIf no criteria is provided and you want to search without any &quot;WHERE&quot; clause\r\nyou can do\r\n```\r\npublic Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n    Specification spec = Specification.where(null);\r\n    if (shapeParams.getType() != null) {\r\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n    }\r\n\r\n    if (shapeParams.getWidthTo() != null) {\r\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n    }\r\n\r\n    return spec;\r\n}\r\n```\r\nand if you move if check into `isTypeEqual` returning null, you could directly call \r\n```\r\n Specification spec = Specification.where(null);\r\n spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n```\r\n\r\nIf you would like to know if after all those &quot;ands&quot; specification is still null, only way I&#39;ve found is something like this\r\n\r\n```\r\npublic Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n    Specification emptySpec = Specification.where(null);\r\n    Specification spec = emptySpec;\r\n    if (shapeParams.getType() != null) {\r\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n    }\r\n\r\n    if (shapeParams.getWidthTo() != null) {\r\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n    }\r\n    if (spec == emptySpec) {\r\n       return null;\r\n    }\r\n    return spec;\r\n}\r\n```","title":"How to optimize if else statemants with many specifications","body":"<p>Depends what you want to achieve.\nIf no criteria is provided and you want to search without any &quot;WHERE&quot; clause\nyou can do</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification spec = Specification.where(null);\n    if (shapeParams.getType() != null) {\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n    }\n\n    return spec;\n}\n</code></pre>\n<p>and if you move if check into <code>isTypeEqual</code> returning null, you could directly call</p>\n<pre><code> Specification spec = Specification.where(null);\n spec = spec.and(isTypeEqual(shapeParams.getType()));\n</code></pre>\n<p>If you would like to know if after all those &quot;ands&quot; specification is still null, only way I've found is something like this</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification emptySpec = Specification.where(null);\n    Specification spec = emptySpec;\n    if (shapeParams.getType() != null) {\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n    }\n    if (spec == emptySpec) {\n       return null;\n    }\n    return spec;\n}\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688118206,"creation_date":1669759896,"question_id":74620781,"body_markdown":"I am trying to create dynamic search based on fields send in request body.\r\nI prepared many Specifications and in &quot;summary specification&quot; (which is called in method) I want to call them if field is different than null.\r\nIt works but the problem is I will never know which parameter will start creating condition so I had to add boolean parameter which resulted in the creation of many if else statements.\r\nCode:\r\n\r\n    public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n        Specification spec = null;\r\n        boolean isFirstParam = true;\r\n        if (shapeParams.getType() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isTypeEqual(shapeParams.getType()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n            }\r\n        }\r\n\r\n        if (shapeParams.getWidthTo() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isWidthLessThan(shapeParams.getWidthTo()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n            }\r\n        }\r\n\r\n        if (shapeParams.getWidthFrom() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isWidthGreaterThan(shapeParams.getWidthTo()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isWidthGreaterThan(shapeParams.getWidthTo()));\r\n            }\r\n        }\r\n        return spec;\r\n    }\r\nIs there any way to optimize it? Specification has to always start with &quot;.where&quot; as first, and next I can add other conditions and I would like to have even 10+ parameters.","title":"How to optimize if else statemants with many specifications","body":"<p>I am trying to create dynamic search based on fields send in request body.\nI prepared many Specifications and in &quot;summary specification&quot; (which is called in method) I want to call them if field is different than null.\nIt works but the problem is I will never know which parameter will start creating condition so I had to add boolean parameter which resulted in the creation of many if else statements.\nCode:</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification spec = null;\n    boolean isFirstParam = true;\n    if (shapeParams.getType() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isTypeEqual(shapeParams.getType()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isTypeEqual(shapeParams.getType()));\n        }\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isWidthLessThan(shapeParams.getWidthTo()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n        }\n    }\n\n    if (shapeParams.getWidthFrom() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isWidthGreaterThan(shapeParams.getWidthTo()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isWidthGreaterThan(shapeParams.getWidthTo()));\n        }\n    }\n    return spec;\n}\n</code></pre>\n<p>Is there any way to optimize it? Specification has to always start with &quot;.where&quot; as first, and next I can add other conditions and I would like to have even 10+ parameters.</p>\n"},{"tags":["java","redis","jedis","spring-data-redis","reddison"],"comments":[{"owner":{"account_id":10791375,"reputation":1498,"user_id":7938769,"display_name":"tima"},"score":0,"creation_date":1541174601,"post_id":53121627,"comment_id":93138580,"body_markdown":"which line is `34` in your `SpringDataRedisEugenpApplication` class?","body":"which line is <code>34</code> in your <code>SpringDataRedisEugenpApplication</code> class?"}],"answers":[{"tags":[],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1541270510,"creation_date":1541251536,"answer_id":53131782,"question_id":53121627,"body_markdown":"I myself able to figure out answers to below questions.\r\n\r\nYou just need to put the `@Index` annotation at the field level. `@Index` annotions marks the property as for indexing which uses Redis {@literal SET} to keep track of for objects with matching values.\r\n\r\n    @Indexed\r\n    private String name;\r\n\r\n@Ref: https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/\r\n\r\n&gt;1) How to see actual data stored in the redis?\r\n\r\n    redis 127.0.0.1:6379&gt; hgetall Student:1\r\n     1) &quot;_class&quot;\r\n     2) &quot;com.baeldung.spring.data.redis.model.Student&quot;\r\n     3) &quot;id&quot;\r\n     4) &quot;1&quot;\r\n     5) &quot;name&quot;\r\n     6) &quot;John Doe&quot;\r\n     7) &quot;gender&quot;\r\n     8) &quot;MALE&quot;\r\n     9) &quot;grade._class&quot;\r\n    10) &quot;java.lang.Integer&quot;\r\n    11) &quot;grade&quot;\r\n    12) &quot;1&quot;\r\n\r\n    redis 127.0.0.1:6379&gt; hgetall Student:2\r\n     1) &quot;_class&quot;\r\n     2) &quot;com.baeldung.spring.data.redis.model.Student&quot;\r\n     3) &quot;id&quot;\r\n     4) &quot;2&quot;\r\n     5) &quot;name&quot;\r\n     6) &quot;Michael Harford&quot;\r\n     7) &quot;gender&quot;\r\n     8) &quot;MALE&quot;\r\n     9) &quot;grade._class&quot;\r\n    10) &quot;java.lang.Integer&quot;\r\n    11) &quot;grade&quot;\r\n    12) &quot;2&quot;\r\n\r\n\r\n  [1]: http://Intro%20To%20Redis%20Data%20Structure%20Hashesh","title":"Unable to get result from the Redis using Crud Repository in Spring Boot?","body":"<p>I myself able to figure out answers to below questions.</p>\n\n<p>You just need to put the <code>@Index</code> annotation at the field level. <code>@Index</code> annotions marks the property as for indexing which uses Redis {@literal SET} to keep track of for objects with matching values.</p>\n\n<pre><code>@Indexed\nprivate String name;\n</code></pre>\n\n<p>@Ref: <a href=\"https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/\" rel=\"noreferrer\">https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/</a></p>\n\n<blockquote>\n  <p>1) How to see actual data stored in the redis?</p>\n</blockquote>\n\n<pre><code>redis 127.0.0.1:6379&gt; hgetall Student:1\n 1) \"_class\"\n 2) \"com.baeldung.spring.data.redis.model.Student\"\n 3) \"id\"\n 4) \"1\"\n 5) \"name\"\n 6) \"John Doe\"\n 7) \"gender\"\n 8) \"MALE\"\n 9) \"grade._class\"\n10) \"java.lang.Integer\"\n11) \"grade\"\n12) \"1\"\n\nredis 127.0.0.1:6379&gt; hgetall Student:2\n 1) \"_class\"\n 2) \"com.baeldung.spring.data.redis.model.Student\"\n 3) \"id\"\n 4) \"2\"\n 5) \"name\"\n 6) \"Michael Harford\"\n 7) \"gender\"\n 8) \"MALE\"\n 9) \"grade._class\"\n10) \"java.lang.Integer\"\n11) \"grade\"\n12) \"2\"\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11081,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53131782,"answer_count":1,"score":12,"last_activity_date":1688118149,"creation_date":1541173080,"question_id":53121627,"body_markdown":"I am developing **Spring Boot + Redis** example. I&#39;ve taken a reference from  link : https://www.baeldung.com/spring-data-redis-tutorial. In this example, I developed repository method `Student findByNameAndGender(String name, Gender gender);` and even the `Student findByName(String name);`, but I am not getting any result back on both cases.?\r\n\r\nAny quick help? Redis query - \r\n\r\n\r\n    redis 127.0.0.1:6379&gt; KEYS *\r\n    1) &quot;Student&quot;\r\n    2) &quot;Student:bb4df14a-7f42-4fc3-b608-fc4b7d45109e&quot;\r\n    3) &quot;Student:69affaa4-e56c-49e3-9ef4-1cd7509d299b&quot;\r\n    redis 127.0.0.1:6379&gt;\r\n\r\n**Student.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @RedisHash(&quot;Student&quot;)\r\n    public class Student {\r\n    \tpublic enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        private String id;\r\n        private String name;\r\n        private Gender gender;\r\n        private int grade;\r\n    }\r\n\r\n**StudentRepository.java**\r\n\r\n    @Repository\r\n    public interface StudentRepository extends CrudRepository&lt;Student, String&gt;{\r\n    \tStudent findByNameAndGender(String name, Gender gender);\r\n    }\r\n\r\nRedisConfig.java\r\n\r\n    @Configuration\r\n    @EnableRedisRepositories\r\n    public class RedisConfig {\r\n    \t@Bean\r\n        JedisConnectionFactory jedisConnectionFactory() {\r\n            return new JedisConnectionFactory();\r\n        }\r\n    \t@Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n            final RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\r\n            template.setConnectionFactory(jedisConnectionFactory());\r\n            template.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n            return template;\r\n        }\r\n    }\r\n\r\nSpringDataRedisEugenpApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class SpringDataRedisEugenpApplication implements CommandLineRunner{\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentRepository repository;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringDataRedisEugenpApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\trepository.save(Student.builder().name(&quot;John&quot;).gender(Student.Gender.MALE).grade(1).build());\r\n    \t\trepository.save(Student.builder().name(&quot;Michael&quot;).gender(Student.Gender.MALE).grade(2).build());\r\n    \t\t\r\n    \t\tIterable&lt;Student&gt; students = repository.findAll();\r\n    \t\tfor (Student student : students) {\r\n    \t\t\tSystem.out.println(&quot;=============================&quot;);\r\n    \t\t\tSystem.out.println(&quot;Details ? &quot;+student.toString());\r\n    \t\t}\r\n    \t\t\r\n    \t\tStudent s = repository.findByNameAndGender(&quot;John&quot;, Student.Gender.MALE);\r\n    \t\tSystem.out.println(&quot;Student =&quot;+s.toString());  //line-34\r\n    \t}\r\n    }\r\n\r\n**Error -** \r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat com.baeldung.SpringDataRedisEugenpApplication.main(SpringDataRedisEugenpApplication.java:19) [classes/:na]\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat com.baeldung.SpringDataRedisEugenpApplication.run(SpringDataRedisEugenpApplication.java:34) [classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:792) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \t... 5 common frames omitted\r\n\r\n\r\nFew Queries - \r\n&gt;1) How to see actual data stored in the redis?\r\n\r\n&gt;2) How we can control Id to be started from one ?\r\n\r\n    edis 127.0.0.1:6379&gt; get Student:1\r\n    (error) ERR Operation against a key holding the wrong kind of value\r\n    redis 127.0.0.1:6379&gt; get Student:2\r\n    (error) ERR Operation against a key holding the wrong kind of value\r\n    redis 127.0.0.1:6379&gt;\r\n\r\nI am really struggling to see\r\n\r\n    redis 127.0.0.1:6379&gt; mget Student:1\r\n    1) (nil)\r\n    redis 127.0.0.1:6379&gt; mget Student:2\r\n    1) (nil)\r\n    redis 127.0.0.1:6379&gt; mget Student\r\n    1) (nil)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ZOzv.png","title":"Unable to get result from the Redis using Crud Repository in Spring Boot?","body":"<p>I am developing <strong>Spring Boot + Redis</strong> example. I've taken a reference from  link : <a href=\"https://www.baeldung.com/spring-data-redis-tutorial\" rel=\"noreferrer\">https://www.baeldung.com/spring-data-redis-tutorial</a>. In this example, I developed repository method <code>Student findByNameAndGender(String name, Gender gender);</code> and even the <code>Student findByName(String name);</code>, but I am not getting any result back on both cases.?</p>\n\n<p>Any quick help? Redis query - </p>\n\n<pre><code>redis 127.0.0.1:6379&gt; KEYS *\n1) \"Student\"\n2) \"Student:bb4df14a-7f42-4fc3-b608-fc4b7d45109e\"\n3) \"Student:69affaa4-e56c-49e3-9ef4-1cd7509d299b\"\nredis 127.0.0.1:6379&gt;\n</code></pre>\n\n<p><strong>Student.java</strong></p>\n\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\n@RedisHash(\"Student\")\npublic class Student {\n    public enum Gender {\n        MALE, FEMALE\n    }\n\n    private String id;\n    private String name;\n    private Gender gender;\n    private int grade;\n}\n</code></pre>\n\n<p><strong>StudentRepository.java</strong></p>\n\n<pre><code>@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;{\n    Student findByNameAndGender(String name, Gender gender);\n}\n</code></pre>\n\n<p>RedisConfig.java</p>\n\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        return new JedisConnectionFactory();\n    }\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        final RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        template.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        return template;\n    }\n}\n</code></pre>\n\n<p>SpringDataRedisEugenpApplication.java</p>\n\n<pre><code>@SpringBootApplication\npublic class SpringDataRedisEugenpApplication implements CommandLineRunner{\n\n    @Autowired\n    private StudentRepository repository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataRedisEugenpApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        repository.save(Student.builder().name(\"John\").gender(Student.Gender.MALE).grade(1).build());\n        repository.save(Student.builder().name(\"Michael\").gender(Student.Gender.MALE).grade(2).build());\n\n        Iterable&lt;Student&gt; students = repository.findAll();\n        for (Student student : students) {\n            System.out.println(\"=============================\");\n            System.out.println(\"Details ? \"+student.toString());\n        }\n\n        Student s = repository.findByNameAndGender(\"John\", Student.Gender.MALE);\n        System.out.println(\"Student =\"+s.toString());  //line-34\n    }\n}\n</code></pre>\n\n<p><strong>Error -</strong> </p>\n\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at com.baeldung.SpringDataRedisEugenpApplication.main(SpringDataRedisEugenpApplication.java:19) [classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at com.baeldung.SpringDataRedisEugenpApplication.run(SpringDataRedisEugenpApplication.java:34) [classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:792) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    ... 5 common frames omitted\n</code></pre>\n\n<p>Few Queries - </p>\n\n<blockquote>\n  <p>1) How to see actual data stored in the redis?</p>\n  \n  <p>2) How we can control Id to be started from one ?</p>\n</blockquote>\n\n<pre><code>edis 127.0.0.1:6379&gt; get Student:1\n(error) ERR Operation against a key holding the wrong kind of value\nredis 127.0.0.1:6379&gt; get Student:2\n(error) ERR Operation against a key holding the wrong kind of value\nredis 127.0.0.1:6379&gt;\n</code></pre>\n\n<p>I am really struggling to see</p>\n\n<pre><code>redis 127.0.0.1:6379&gt; mget Student:1\n1) (nil)\nredis 127.0.0.1:6379&gt; mget Student:2\n1) (nil)\nredis 127.0.0.1:6379&gt; mget Student\n1) (nil)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1ZOzv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1ZOzv.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","lazy-loading"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687931930,"creation_date":1687931930,"answer_id":76570405,"question_id":76567750,"body_markdown":"You have to exclude admin entity from being serialized. For that you can use \r\n@JsonView or @JsonIdentityInfo annotations.\r\n\r\nFor reference : https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>You have to exclude admin entity from being serialized. For that you can use\n@JsonView or @JsonIdentityInfo annotations.</p>\n<p>For reference : <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688118129,"creation_date":1688118129,"answer_id":76587779,"question_id":76567750,"body_markdown":"If you are still facing the same issue it might be happened beacuse you are not accessing it in **TransactionalContext** please try **@Transactional** at the method level.","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>If you are still facing the same issue it might be happened beacuse you are not accessing it in <strong>TransactionalContext</strong> please try <strong>@Transactional</strong> at the method level.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688118129,"creation_date":1687890894,"question_id":76567750,"body_markdown":"I have the following scenario-\r\nI have a many to many relationship between a **County** and a **Policy** entity.The relationship is maintained by an entity PolicyCounty. Here are the entity classes-\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyStateId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;county&quot;)\r\npublic class County {\r\n\r\n    @Id\r\n    @Column(name=&quot;countyid&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long countyId;\r\n\r\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\r\n    private String countyName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\r\n    private Admin admin;\r\n\r\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY,orphanRemoval = true) //orphan removal is set to true so that the relationship can be removed\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n    public County() {\r\n    }\r\n\r\n    public long getCountyId() {\r\n        return countyId;\r\n    }\r\n\r\n    public String getCountyName() {\r\n        return countyName;\r\n    }\r\n\r\n    @JsonIgnoreProperties(&quot;policyCounties&quot;) //This prevents the fetch of the admin when insurance policy getPolicyCounty is called, which results in unnecessary fetches of the admin, category and other related entities\r\n    public Admin getAdmin() {\r\n        return admin;\r\n    }\r\n\r\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\r\n        return policyCounties;\r\n    }\r\n\r\n    public void setCountyId(long countyId) {\r\n        this.countyId = countyId;\r\n    }\r\n\r\n    public void setCountyName(String countyName) {\r\n        this.countyName = countyName;\r\n    }\r\n\r\n    public void setAdmin(Admin admin) {\r\n        this.admin = admin;\r\n    }\r\n\r\n    public void setPolicyCounties(Set&lt;PolicyCounty&gt; policyCounties) {\r\n        this.policyCounties = policyCounties;\r\n    }\r\n}\r\n```\r\n\r\nNow, one of the requirements is to fetch the polices by category id. For this I write the method-\r\n```\r\n@Override\r\n    public List&lt;InsurancePolicyListDto&gt; getAllInsurancePoliciesForCategory(long categoryId) {\r\n        Category category=new Category();\r\n        category.setCategoryId(categoryId);\r\n        List&lt;InsurancePolicy&gt; insurancePolicies=this.insurancePolicyRepository.findAllByCategory(category);\r\n        List&lt;InsurancePolicyListDto&gt; insurancePolicyDtos=new ArrayList&lt;&gt;();\r\n\r\n        for(InsurancePolicy insurancePolicy: insurancePolicies){\r\n            //converted manually to check for uncessary fetches which must be prevented\r\n            InsurancePolicyListDto insurancePolicyListDto=new InsurancePolicyListDto();\r\n            insurancePolicyListDto.setPolicyId(insurancePolicy.getPolicyId());\r\n            insurancePolicyListDto.setPolicyName(insurancePolicy.getPolicyName());\r\n            insurancePolicyListDto.setPolicyDescription(insurancePolicy.getPolicyDescription());\r\n            insurancePolicyListDto.setChooseDescription(insurancePolicy.getChooseDescription());\r\n            insurancePolicyListDto.setCompany(this.modelMapper.map(insurancePolicy.getCompany(), CompanyDetailsDto.class));\r\n            Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();\r\n            insurancePolicyListDto.setPolicyCounties(this.countyToListDto(policyCounties));\r\n            insurancePolicyDtos.add(insurancePolicyListDto);\r\n        }\r\n        return insurancePolicyDtos;\r\n    }\r\n```\r\n**Problem-**\r\nI run my project in debug mode and when the line- \r\n```Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();``` is executed, I get unexpected fetches from the database. **According to my understanding only the PolicyCounty entities and County entities must be fetched without fetching the Admin details from the county entity (I have used LAZY fetch type for admin in county.)** But, what I get is all the admin details, other associated entities of the admin which are not even requried and should have been fetched lazily.  \r\nThus, I am not able to understand why even after FetchType.LAZY for admin, I am getting all the details from the admin table and its other related tables.   \r\nI added @JsonIgnoreProperties in the county class getAdmin() which works when @Getter and @Setter are used but does not work when getters and setters have been created manually in InsurancePolicy and PolicyCounty classes.   \r\nPlease help me understand why Lazy fetching is failing in this case and that to for all the related entities of admin by just calling   \r\n```Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();```. Please help!","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>I have the following scenario-\nI have a many to many relationship between a <strong>County</strong> and a <strong>Policy</strong> entity.The relationship is maintained by an entity PolicyCounty. Here are the entity classes-</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyStateId;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;county&quot;)\npublic class County {\n\n    @Id\n    @Column(name=&quot;countyid&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long countyId;\n\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\n    private String countyName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\n    private Admin admin;\n\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY,orphanRemoval = true) //orphan removal is set to true so that the relationship can be removed\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n    public County() {\n    }\n\n    public long getCountyId() {\n        return countyId;\n    }\n\n    public String getCountyName() {\n        return countyName;\n    }\n\n    @JsonIgnoreProperties(&quot;policyCounties&quot;) //This prevents the fetch of the admin when insurance policy getPolicyCounty is called, which results in unnecessary fetches of the admin, category and other related entities\n    public Admin getAdmin() {\n        return admin;\n    }\n\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\n        return policyCounties;\n    }\n\n    public void setCountyId(long countyId) {\n        this.countyId = countyId;\n    }\n\n    public void setCountyName(String countyName) {\n        this.countyName = countyName;\n    }\n\n    public void setAdmin(Admin admin) {\n        this.admin = admin;\n    }\n\n    public void setPolicyCounties(Set&lt;PolicyCounty&gt; policyCounties) {\n        this.policyCounties = policyCounties;\n    }\n}\n</code></pre>\n<p>Now, one of the requirements is to fetch the polices by category id. For this I write the method-</p>\n<pre><code>@Override\n    public List&lt;InsurancePolicyListDto&gt; getAllInsurancePoliciesForCategory(long categoryId) {\n        Category category=new Category();\n        category.setCategoryId(categoryId);\n        List&lt;InsurancePolicy&gt; insurancePolicies=this.insurancePolicyRepository.findAllByCategory(category);\n        List&lt;InsurancePolicyListDto&gt; insurancePolicyDtos=new ArrayList&lt;&gt;();\n\n        for(InsurancePolicy insurancePolicy: insurancePolicies){\n            //converted manually to check for uncessary fetches which must be prevented\n            InsurancePolicyListDto insurancePolicyListDto=new InsurancePolicyListDto();\n            insurancePolicyListDto.setPolicyId(insurancePolicy.getPolicyId());\n            insurancePolicyListDto.setPolicyName(insurancePolicy.getPolicyName());\n            insurancePolicyListDto.setPolicyDescription(insurancePolicy.getPolicyDescription());\n            insurancePolicyListDto.setChooseDescription(insurancePolicy.getChooseDescription());\n            insurancePolicyListDto.setCompany(this.modelMapper.map(insurancePolicy.getCompany(), CompanyDetailsDto.class));\n            Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();\n            insurancePolicyListDto.setPolicyCounties(this.countyToListDto(policyCounties));\n            insurancePolicyDtos.add(insurancePolicyListDto);\n        }\n        return insurancePolicyDtos;\n    }\n</code></pre>\n<p><strong>Problem-</strong>\nI run my project in debug mode and when the line-\n<code>Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();</code> is executed, I get unexpected fetches from the database. <strong>According to my understanding only the PolicyCounty entities and County entities must be fetched without fetching the Admin details from the county entity (I have used LAZY fetch type for admin in county.)</strong> But, what I get is all the admin details, other associated entities of the admin which are not even requried and should have been fetched lazily.<br />\nThus, I am not able to understand why even after FetchType.LAZY for admin, I am getting all the details from the admin table and its other related tables.<br />\nI added @JsonIgnoreProperties in the county class getAdmin() which works when @Getter and @Setter are used but does not work when getters and setters have been created manually in InsurancePolicy and PolicyCounty classes.<br />\nPlease help me understand why Lazy fetching is failing in this case and that to for all the related entities of admin by just calling<br />\n<code>Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();</code>. Please help!</p>\n"},{"tags":["java","automation","cucumber"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688117994,"creation_date":1688117994,"answer_id":76587751,"question_id":76586515,"body_markdown":"I&#39;ve written a helper class for verifying table rows which uses [jsoup](https://jsoup.org/)\r\n\r\n```java\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Collector;\r\nimport org.jsoup.select.Elements;\r\nimport org.jsoup.select.Evaluator;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.IntStream;\r\n\r\nimport static java.util.stream.Collectors.toList;\r\n\r\n@Getter\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class HtmlTableWithHeader {\r\n    private final Element headerRow;\r\n    private final List&lt;Element&gt; bodyRows;\r\n    private static final Set&lt;String&gt; CELL_TAGS = Set.of(&quot;td&quot;, &quot;th&quot;);\r\n    private static final Evaluator CELL_EVALUATOR = new Evaluator() {\r\n        @Override\r\n        public boolean matches(Element root, Element element) {\r\n            return CELL_TAGS.contains(element.tagName());\r\n        }\r\n    };\r\n\r\n    public static HtmlTableWithHeader parse(Element element) {\r\n        if (!&quot;table&quot;.equals(element.tagName())) {\r\n            throw new IllegalArgumentException(&quot;Unsupported tag &quot; + element.tagName());\r\n        }\r\n        Elements rows = element.getElementsByTag(&quot;tr&quot;);\r\n        Iterator&lt;Element&gt; iterator = rows.iterator();\r\n        Element headerRow = iterator.hasNext() ? iterator.next() : null;\r\n        List&lt;Element&gt; bodyRows = new ArrayList&lt;&gt;();\r\n        iterator.forEachRemaining(bodyRows::add);\r\n        return new HtmlTableWithHeader(headerRow, bodyRows);\r\n    }\r\n\r\n    public List&lt;Map&lt;String, String&gt;&gt; getRowsAsListOfMaps() {\r\n        if (headerRow == null || bodyRows.isEmpty()) {\r\n            return Collections.emptyList();\r\n        }\r\n        List&lt;String&gt; headerLabels = Collector.collect(CELL_EVALUATOR, headerRow).stream().map(Element::text).collect(toList());\r\n        List&lt;Map&lt;String, String&gt;&gt; rowMaps = new ArrayList&lt;&gt;();\r\n        for (Element bodyRow : bodyRows) {\r\n            Elements cells = Collector.collect(CELL_EVALUATOR, bodyRow);\r\n            Map&lt;String, String&gt; rowMap = new LinkedHashMap&lt;&gt;();\r\n            IntStream.range(0, Math.min(headerLabels.size(), cells.size()))\r\n                    .forEach(i -&gt; rowMap.put(headerLabels.get(i), cells.get(i).text()));\r\n            rowMaps.add(rowMap);\r\n        }\r\n        return rowMaps;\r\n    }\r\n}\r\n```\r\n\r\nTest case\r\n```java\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class HtmlTableWithHeaderTest {\r\n    @Test\r\n    public void testGetRowsAsListOfMaps() {\r\n        // given\r\n        String html =\r\n                &quot;&lt;html&gt;&quot; +\r\n                    &quot;&lt;table id=&#39;table-1&#39;&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Betty&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Barney&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                    &quot;&lt;/table&gt;&quot; +\r\n                    &quot;&lt;table id=&#39;table-2&#39;&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Fred&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Wilma&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                    &quot;&lt;/table&gt;&quot; +\r\n                &quot;&lt;/html&gt;&quot;;\r\n\r\n        // when\r\n        Document doc = Jsoup.parse(html);\r\n        HtmlTableWithHeader table = HtmlTableWithHeader.parse(doc.getElementById(&quot;table-2&quot;));\r\n        List&lt;Map&lt;String, String&gt;&gt; rows = table.getRowsAsListOfMaps();\r\n\r\n        // then\r\n        assertThat(rows).isEqualTo(List.of(\r\n                Map.of(&quot;Name&quot;, &quot;Fred&quot;, &quot;Age&quot;, &quot;20&quot;),\r\n                Map.of(&quot;Name&quot;, &quot;Wilma&quot;, &quot;Age&quot;, &quot;25&quot;)\r\n        ));\r\n    }\r\n}\r\n```","title":"is there any solution while using TableParser in cucumber step if there is extra &lt;td&gt; added in HTML code so it mismatch the header and row data","body":"<p>I've written a helper class for verifying table rows which uses <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Collector;\nimport org.jsoup.select.Elements;\nimport org.jsoup.select.Evaluator;\n\nimport java.util.*;\nimport java.util.stream.IntStream;\n\nimport static java.util.stream.Collectors.toList;\n\n@Getter\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class HtmlTableWithHeader {\n    private final Element headerRow;\n    private final List&lt;Element&gt; bodyRows;\n    private static final Set&lt;String&gt; CELL_TAGS = Set.of(&quot;td&quot;, &quot;th&quot;);\n    private static final Evaluator CELL_EVALUATOR = new Evaluator() {\n        @Override\n        public boolean matches(Element root, Element element) {\n            return CELL_TAGS.contains(element.tagName());\n        }\n    };\n\n    public static HtmlTableWithHeader parse(Element element) {\n        if (!&quot;table&quot;.equals(element.tagName())) {\n            throw new IllegalArgumentException(&quot;Unsupported tag &quot; + element.tagName());\n        }\n        Elements rows = element.getElementsByTag(&quot;tr&quot;);\n        Iterator&lt;Element&gt; iterator = rows.iterator();\n        Element headerRow = iterator.hasNext() ? iterator.next() : null;\n        List&lt;Element&gt; bodyRows = new ArrayList&lt;&gt;();\n        iterator.forEachRemaining(bodyRows::add);\n        return new HtmlTableWithHeader(headerRow, bodyRows);\n    }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getRowsAsListOfMaps() {\n        if (headerRow == null || bodyRows.isEmpty()) {\n            return Collections.emptyList();\n        }\n        List&lt;String&gt; headerLabels = Collector.collect(CELL_EVALUATOR, headerRow).stream().map(Element::text).collect(toList());\n        List&lt;Map&lt;String, String&gt;&gt; rowMaps = new ArrayList&lt;&gt;();\n        for (Element bodyRow : bodyRows) {\n            Elements cells = Collector.collect(CELL_EVALUATOR, bodyRow);\n            Map&lt;String, String&gt; rowMap = new LinkedHashMap&lt;&gt;();\n            IntStream.range(0, Math.min(headerLabels.size(), cells.size()))\n                    .forEach(i -&gt; rowMap.put(headerLabels.get(i), cells.get(i).text()));\n            rowMaps.add(rowMap);\n        }\n        return rowMaps;\n    }\n}\n</code></pre>\n<p>Test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class HtmlTableWithHeaderTest {\n    @Test\n    public void testGetRowsAsListOfMaps() {\n        // given\n        String html =\n                &quot;&lt;html&gt;&quot; +\n                    &quot;&lt;table id='table-1'&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Betty&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Barney&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;/tr&gt;&quot; +\n                    &quot;&lt;/table&gt;&quot; +\n                    &quot;&lt;table id='table-2'&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Fred&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Wilma&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;&quot; +\n                    &quot;&lt;/table&gt;&quot; +\n                &quot;&lt;/html&gt;&quot;;\n\n        // when\n        Document doc = Jsoup.parse(html);\n        HtmlTableWithHeader table = HtmlTableWithHeader.parse(doc.getElementById(&quot;table-2&quot;));\n        List&lt;Map&lt;String, String&gt;&gt; rows = table.getRowsAsListOfMaps();\n\n        // then\n        assertThat(rows).isEqualTo(List.of(\n                Map.of(&quot;Name&quot;, &quot;Fred&quot;, &quot;Age&quot;, &quot;20&quot;),\n                Map.of(&quot;Name&quot;, &quot;Wilma&quot;, &quot;Age&quot;, &quot;25&quot;)\n        ));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28923159,"reputation":1,"user_id":22153600,"display_name":"Manish patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688117994,"creation_date":1688106151,"question_id":76586515,"body_markdown":"`I used the TableParser here but in HTML there is extra &lt;td&gt; added in &lt;tr&gt; so it mismatch header and row data`your text`\r\n\r\nso headers are  date, Stutus , FileName and RowsProcessed \r\nbut in status there are two &lt;td&gt; so it take filename=StatusVaue and RowProcessed=Filenamevalue and status=&quot;&quot;\r\n`","title":"is there any solution while using TableParser in cucumber step if there is extra &lt;td&gt; added in HTML code so it mismatch the header and row data","body":"<p><code>I used the TableParser here but in HTML there is extra &lt;td&gt; added in &lt;tr&gt; so it mismatch header and row data</code>your text`</p>\n<p>so headers are  date, Stutus , FileName and RowsProcessed\nbut in status there are two  so it take filename=StatusVaue and RowProcessed=Filenamevalue and status=&quot;&quot;\n`</p>\n"},{"tags":["java","python","python-3.x","lambda"],"answers":[{"tags":[],"owner":{"account_id":6485932,"reputation":1659,"user_id":5021530,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465491007,"creation_date":1465491007,"answer_id":37731929,"question_id":37731895,"body_markdown":"Python also has a `map` function and it uses the syntax `map(function, iterable, ...)`\r\n\r\nSee Python docs: https://docs.python.org/2/library/functions.html#map","title":"Python Java forEach equivalent","body":"<p>Python also has a <code>map</code> function and it uses the syntax <code>map(function, iterable, ...)</code></p>\n\n<p>See Python docs: <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#map</a></p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1465492102,"creation_date":1465491656,"answer_id":37732102,"question_id":37731895,"body_markdown":"There is no equivalent to Java&#39;s imperative `Iterable.forEach` or `Stream.forEach` method. There&#39;s a `map` function, analogous to Java&#39;s `Stream.map`, but it&#39;s for applying transformations to an iterable. Like Java&#39;s `Stream.map`, it doesn&#39;t actually apply the function until you perform a terminal operation on the return value.\r\n\r\nYou could abuse `map` to do the job of `forEach`:\r\n\r\n    list(map(print, iterable))\r\n\r\nbut it&#39;s a bad idea, producing side effects from a function that shouldn&#39;t have any and building a giant list you don&#39;t need. It&#39;d be like doing\r\n\r\n    someList.stream().map(x -&gt; {System.out.println(x); return x;}).collect(Collectors.toList())\r\n\r\nin Java.\r\n\r\nThe standard way to do this in Python would be a loop:\r\n\r\n    for thing in iterable:\r\n        print(thing)","title":"Python Java forEach equivalent","body":"<p>There is no equivalent to Java's imperative <code>Iterable.forEach</code> or <code>Stream.forEach</code> method. There's a <code>map</code> function, analogous to Java's <code>Stream.map</code>, but it's for applying transformations to an iterable. Like Java's <code>Stream.map</code>, it doesn't actually apply the function until you perform a terminal operation on the return value.</p>\n\n<p>You could abuse <code>map</code> to do the job of <code>forEach</code>:</p>\n\n<pre><code>list(map(print, iterable))\n</code></pre>\n\n<p>but it's a bad idea, producing side effects from a function that shouldn't have any and building a giant list you don't need. It'd be like doing</p>\n\n<pre><code>someList.stream().map(x -&gt; {System.out.println(x); return x;}).collect(Collectors.toList())\n</code></pre>\n\n<p>in Java.</p>\n\n<p>The standard way to do this in Python would be a loop:</p>\n\n<pre><code>for thing in iterable:\n    print(thing)\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37732102,"answer_count":2,"score":3,"last_activity_date":1688117929,"creation_date":1465490879,"question_id":37731895,"body_markdown":"I am Java programmer. I started learning Python few days ago.\r\nI&#39;m wondering: are there any equivalents to \r\n    \r\n\r\n    map.forEach(System.out::println)\r\n    \r\n\r\nin Python with lambdas?\r\nOr only with for loop:\r\n    \r\n    \r\n\r\n    for e in map: print(e)\r\n    \r\n\r\n","title":"Python Java forEach equivalent","body":"<p>I am Java programmer. I started learning Python few days ago.\nI'm wondering: are there any equivalents to</p>\n<pre><code>map.forEach(System.out::println)\n</code></pre>\n<p>in Python with lambdas?\nOr only with for loop:</p>\n<pre><code>for e in map: print(e)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","mojo","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1688119472,"post_id":76587694,"comment_id":135034244,"body_markdown":"I think you need the [springdoc-openapi-maven-plugin](https://springdoc.org/plugins.html), not the openapi-generator plugin. OpenAPI Generator is used for the opposite thing - generate code from an OpenAPI spec.","body":"I think you need the <a href=\"https://springdoc.org/plugins.html\" rel=\"nofollow noreferrer\">springdoc-openapi-maven-plugin</a>, not the openapi-generator plugin. OpenAPI Generator is used for the opposite thing - generate code from an OpenAPI spec."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688125688,"post_id":76587694,"comment_id":135035488,"body_markdown":"The problem is related to this: `Unable to read location `/home/adm`...","body":"The problem is related to this: <code>Unable to read location </code>/home/adm`..."}],"owner":{"account_id":28924244,"reputation":1,"user_id":22154480,"display_name":"Sameer Choudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688117488,"creation_date":1688117488,"question_id":76587694,"body_markdown":"I have to produce a OpenAPI Specification from an existing REST based project. One thing i did was to include the springdoc-openapi and swagger-webmvc-ui dependency and it was creating the desired spec on localhost:8080/api-doc. Now, I want to do this via OpenAPI Generator Maven Plugin 6.6.0 such that when I run mvn clean install, it will produce the spec in yaml/json format in the directory i specify in the generator plugin. But, this is causing build failure with the following error related to MOJOs. I guess I am not doing anything wrong but it will be helpful if you mention the required steps to generte the yaml/json file in resources directory.\r\n\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] [1m--------&lt; [0;36morg.springdoc:springdoc-openapi-spring-boot-2-webmvc[0;1m &gt;--------[m\r\n[INFO] [1mBuilding springdoc-openapi-spring-boot-2-webmvc 3.1.6-SNAPSHOT[m\r\n[INFO]   from pom.xml\r\n[INFO] [1m--------------------------------[ jar ]---------------------------------[m\r\n[INFO] \r\n[INFO] [1m--- [0;32mopenapi-generator:6.0.0:generate[m [1m(default)[m @ [36mspringdoc-openapi-spring-boot-2-webmvc[0;1m ---[m\r\n[WARNING] Exception while reading:\r\nio.swagger.v3.parser.exception.ReadContentException: Unable to read location `/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml`\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:274)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\r\n\tat io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\nCaused by: java.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\r\n\tat io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:265)\r\n\t... 32 more\r\n[ERROR] failed to read resource listing\r\njava.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\r\n\tat io.swagger.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\r\n\tat io.swagger.parser.SwaggerCompatConverter.readResourceListing(SwaggerCompatConverter.java:206)\r\n\tat io.swagger.parser.SwaggerCompatConverter.read(SwaggerCompatConverter.java:122)\r\n\tat io.swagger.parser.SwaggerCompatConverter.readWithInfo(SwaggerCompatConverter.java:93)\r\n\tat io.swagger.parser.SwaggerParser.readWithInfo(SwaggerParser.java:44)\r\n\tat io.swagger.v3.parser.converter.SwaggerConverter.readLocation(SwaggerConverter.java:90)\r\n\tat io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] Generating with dryRun=false\r\n[INFO] Output directory (/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/target/generated-sources/openapi) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\r\n[WARNING] /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml [0:0]: unexpected error in Open-API generation\r\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\r\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[ERROR] \r\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\r\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[INFO] [1;31mBUILD FAILURE[m\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[INFO] Total time:  3.870 s\r\n[INFO] Finished at: 2023-06-30T14:56:47+05:30\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[ERROR] Failed to execute goal [32morg.openapitools:openapi-generator-maven-plugin:6.0.0:generate[m [1m(default)[m on project [36mspringdoc-openapi-spring-boot-2-webmvc[m: [1;31mCode generation failed. See above for the full exception.[m -&gt; [1m[Help 1][m\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nAlso, there is a underline showing error in &lt;execution&gt;, see the picture below?\r\n\r\n[Error Image](https://i.stack.imgur.com/m26jQ.png)\r\n\r\n\r\nI want to generate OpenAPI spec in yaml/json format not on localhost:8080/api-docs but in the resources directory automatically during maven clean install.","title":"OpenAPI Generator Maven Plugin 6.6.0 creates Build Failure in Maven Clean Install","body":"<p>I have to produce a OpenAPI Specification from an existing REST based project. One thing i did was to include the springdoc-openapi and swagger-webmvc-ui dependency and it was creating the desired spec on localhost:8080/api-doc. Now, I want to do this via OpenAPI Generator Maven Plugin 6.6.0 such that when I run mvn clean install, it will produce the spec in yaml/json format in the directory i specify in the generator plugin. But, this is causing build failure with the following error related to MOJOs. I guess I am not doing anything wrong but it will be helpful if you mention the required steps to generte the yaml/json file in resources directory.</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] [1m--------&lt; [0;36morg.springdoc:springdoc-openapi-spring-boot-2-webmvc[0;1m &gt;--------[m\n[INFO] [1mBuilding springdoc-openapi-spring-boot-2-webmvc 3.1.6-SNAPSHOT[m\n[INFO]   from pom.xml\n[INFO] [1m--------------------------------[ jar ]---------------------------------[m\n[INFO] \n[INFO] [1m--- [0;32mopenapi-generator:6.0.0:generate[m [1m(default)[m @ [36mspringdoc-openapi-spring-boot-2-webmvc[0;1m ---[m\n[WARNING] Exception while reading:\nio.swagger.v3.parser.exception.ReadContentException: Unable to read location `/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml`\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:274)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\n    at io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: java.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\n    at io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:265)\n    ... 32 more\n[ERROR] failed to read resource listing\njava.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\n    at io.swagger.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\n    at io.swagger.parser.SwaggerCompatConverter.readResourceListing(SwaggerCompatConverter.java:206)\n    at io.swagger.parser.SwaggerCompatConverter.read(SwaggerCompatConverter.java:122)\n    at io.swagger.parser.SwaggerCompatConverter.readWithInfo(SwaggerCompatConverter.java:93)\n    at io.swagger.parser.SwaggerParser.readWithInfo(SwaggerParser.java:44)\n    at io.swagger.v3.parser.converter.SwaggerConverter.readLocation(SwaggerConverter.java:90)\n    at io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] Generating with dryRun=false\n[INFO] Output directory (/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/target/generated-sources/openapi) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\n[WARNING] /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml [0:0]: unexpected error in Open-API generation\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\n    at org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR] \njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\n    at org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] [1m------------------------------------------------------------------------[m\n[INFO] [1;31mBUILD FAILURE[m\n[INFO] [1m------------------------------------------------------------------------[m\n[INFO] Total time:  3.870 s\n[INFO] Finished at: 2023-06-30T14:56:47+05:30\n[INFO] [1m------------------------------------------------------------------------[m\n[ERROR] Failed to execute goal [32morg.openapitools:openapi-generator-maven-plugin:6.0.0:generate[m [1m(default)[m on project [36mspringdoc-openapi-spring-boot-2-webmvc[m: [1;31mCode generation failed. See above for the full exception.[m -&gt; [1m[Help 1][m\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Also, there is a underline showing error in , see the picture below?</p>\n<p><a href=\"https://i.stack.imgur.com/m26jQ.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<p>I want to generate OpenAPI spec in yaml/json format not on localhost:8080/api-docs but in the resources directory automatically during maven clean install.</p>\n"},{"tags":["java","mongodb","morphia"],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688117145,"creation_date":1688117145,"answer_id":76587645,"question_id":76579376,"body_markdown":"`findAndModify()` only works with a single document as defined by the server&#39;s behavior.  If you&#39;re wanting to update multiple documents in one all-or-nothing block, you might consider using a [transaction](https://morphia.dev/morphia/2.3/transactions.html).","title":"Is there a findAndModify that returns many documents in MongoDb Morphia","body":"<p><code>findAndModify()</code> only works with a single document as defined by the server's behavior.  If you're wanting to update multiple documents in one all-or-nothing block, you might consider using a <a href=\"https://morphia.dev/morphia/2.3/transactions.html\" rel=\"nofollow noreferrer\">transaction</a>.</p>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587645,"answer_count":1,"score":0,"last_activity_date":1688117145,"creation_date":1688027711,"question_id":76579376,"body_markdown":"I am using `MongoDb Morphia for Java` and I want to pessimistically lock many documents with one command. I am familiar with the `findAndModify` method, which will find and update one document. **Is there a method that will do the same for multiple documents?**","title":"Is there a findAndModify that returns many documents in MongoDb Morphia","body":"<p>I am using <code>MongoDb Morphia for Java</code> and I want to pessimistically lock many documents with one command. I am familiar with the <code>findAndModify</code> method, which will find and update one document. <strong>Is there a method that will do the same for multiple documents?</strong></p>\n"},{"tags":["java","json"],"owner":{"account_id":28923911,"reputation":1,"user_id":22154219,"display_name":"sapna C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688116800,"creation_date":1688113872,"question_id":76587288,"body_markdown":"Below is the way I compare but show exception \r\n\t\r\n\t.then()\r\n\t    .statusCode(200)\r\n\t    .body(&quot;Source&quot;,equalTo(&quot;whatsapp&quot;)) \r\n\r\n\r\n&gt; java.lang.AssertionError: 1 expectation failed.  \r\nJSON path Source doesn&#39;t match.  \r\nExpected: whatsapp   \r\nActual: null\r\n\r\nCan anybody help me resolve?\r\n\r\nExpecting it to compare and result should be according to it.","title":"I get this error &quot;JSON path Source doesn&#39;t match.&quot; when I try to compare response value and entered value","body":"<p>Below is the way I compare but show exception</p>\n<pre><code>.then()\n    .statusCode(200)\n    .body(&quot;Source&quot;,equalTo(&quot;whatsapp&quot;)) \n</code></pre>\n<blockquote>\n<p>java.lang.AssertionError: 1 expectation failed.<br />\nJSON path Source doesn't match.<br />\nExpected: whatsapp<br />\nActual: null</p>\n</blockquote>\n<p>Can anybody help me resolve?</p>\n<p>Expecting it to compare and result should be according to it.</p>\n"},{"tags":["java","spring-boot","cors","jhipster"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1687960668,"post_id":76573598,"comment_id":135010120,"body_markdown":"What version of JHipster are you using?","body":"What version of JHipster are you using?"},{"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"score":0,"creation_date":1687962014,"post_id":76573598,"comment_id":135010500,"body_markdown":"the latest 7.9.3 Matt. But I just found the answer and will post it now.","body":"the latest 7.9.3 Matt. But I just found the answer and will post it now."},{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1687969578,"post_id":76573598,"comment_id":135012191,"body_markdown":"I&#39;m glad you figured it out!","body":"I&#39;m glad you figured it out!"}],"answers":[{"tags":[],"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688116519,"creation_date":1687962284,"answer_id":76574142,"question_id":76573598,"body_markdown":"Ok, so I made the cors entry the same level as clientApp and it runs. \r\n\r\nLooks like cors is a child of jhipster, not clientApp!\r\n\r\nSo\r\n```\r\njhipster:\r\n  clientApp:\r\n    name: &#39;XXX&#39;\r\n  # By default CORS is disabled. Uncomment to enable.\r\n  cors:\r\n    allowed-origins: &#39;http://localhost:8080,http://localhost:9000&#39;\r\n```\r\nnot\r\n```\r\njhipster:\r\n  clientApp:\r\n    name: &#39;XXX&#39;\r\n    # By default CORS is disabled. Uncomment to enable.\r\n    cors:\r\n      allowed-origins: &#39;http://localhost:8080,http://localhost:9000&#39;\r\n```\r\n","title":"Enabling CORS in Spring Boot JHipster givng &quot;Failed to bind properties&quot; error","body":"<p>Ok, so I made the cors entry the same level as clientApp and it runs.</p>\n<p>Looks like cors is a child of jhipster, not clientApp!</p>\n<p>So</p>\n<pre><code>jhipster:\n  clientApp:\n    name: 'XXX'\n  # By default CORS is disabled. Uncomment to enable.\n  cors:\n    allowed-origins: 'http://localhost:8080,http://localhost:9000'\n</code></pre>\n<p>not</p>\n<pre><code>jhipster:\n  clientApp:\n    name: 'XXX'\n    # By default CORS is disabled. Uncomment to enable.\n    cors:\n      allowed-origins: 'http://localhost:8080,http://localhost:9000'\n</code></pre>\n"}],"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76574142,"answer_count":1,"score":1,"last_activity_date":1688116519,"creation_date":1687958423,"question_id":76573598,"body_markdown":"To enable CORS in a JHipster Spring Boot app I am uncommenting the settings in application.ym.\r\n\r\n```\r\njhipster:\r\n  clientApp:\r\n    name: &#39;modelDfApp&#39;\r\n  # By default CORS is disabled. Uncomment to enable.\r\n    cors:\r\n      allowed-origins: &quot;*&quot;\r\n  #   allowed-methods: &quot;*&quot;\r\n  #   allowed-headers: &quot;*&quot;\r\n  #   exposed-headers: &quot;Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params&quot;\r\n  #   allow-credentials: true\r\n  #   max-age: 1800\r\n```\r\nNote: Leaving most lines commented out here to shorted error message. \r\n\r\nIntellij does not complain and maven compiles into Docker container no problem. But starting the container gives  \r\n\r\n\r\n```\r\n2023-06-28 13:54:19 2023-06-28T12:54:19.799Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt:\r\n org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;undertowServletWebServerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryConfiguration$EmbeddedUndertow.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurer&#39; defined in file [/app/classes/uk/modeldrivers/modeldf/config/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name &#39;jhipster-tech.jhipster.config.JHipsterProperties&#39;: Could not bind properties to &#39;JHipsterProperties&#39; : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;jhipster&#39; to tech.jhipster.config.JHipsterProperties \r\n2023-06-28 13:54:19 2023-06-28T12:54:19.899Z ERROR 1 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : __***************************_APPLICATION FAILED TO START_***************************__Description:__Binding to target [Bindable@6f930e0 type = tech.jhipster.config.JHipsterProperties, value = &#39;provided&#39;, annotations = array&lt;Annotation&gt;\r\n[@org.springframework.boot.context.properties.ConfigurationProperties(ignoreInvalidFields=false, ignoreUnknownFields=false, prefix=&quot;jhipster&quot;, value=&quot;jhipster&quot;)]] failed:__    \r\nProperty: jhipster.clientapp.cors.allowed-origins_    Value: &quot;*&quot;_    Origin: class path resource [config/application.yml] - 193:24_    \r\nReason: The elements [jhipster.clientapp.cors.allowed-origins] were left unbound.__Action:__Update your application&#39;s configuration_\r\n```\r\n\r\nAny suggestions gratefully received. Clues as to how you would debug this also very welcome.\r\n\r\n","title":"Enabling CORS in Spring Boot JHipster givng &quot;Failed to bind properties&quot; error","body":"<p>To enable CORS in a JHipster Spring Boot app I am uncommenting the settings in application.ym.</p>\n<pre><code>jhipster:\n  clientApp:\n    name: 'modelDfApp'\n  # By default CORS is disabled. Uncomment to enable.\n    cors:\n      allowed-origins: &quot;*&quot;\n  #   allowed-methods: &quot;*&quot;\n  #   allowed-headers: &quot;*&quot;\n  #   exposed-headers: &quot;Authorization,Link,X-Total-Count,X-${jhipster.clientApp.name}-alert,X-${jhipster.clientApp.name}-error,X-${jhipster.clientApp.name}-params&quot;\n  #   allow-credentials: true\n  #   max-age: 1800\n</code></pre>\n<p>Note: Leaving most lines commented out here to shorted error message.</p>\n<p>Intellij does not complain and maven compiles into Docker container no problem. But starting the container gives</p>\n<pre><code>2023-06-28 13:54:19 2023-06-28T12:54:19.799Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt:\n org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'undertowServletWebServerFactory' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryConfiguration$EmbeddedUndertow.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurer' defined in file [/app/classes/uk/modeldrivers/modeldf/config/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'jhipster-tech.jhipster.config.JHipsterProperties': Could not bind properties to 'JHipsterProperties' : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'jhipster' to tech.jhipster.config.JHipsterProperties \n2023-06-28 13:54:19 2023-06-28T12:54:19.899Z ERROR 1 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : __***************************_APPLICATION FAILED TO START_***************************__Description:__Binding to target [Bindable@6f930e0 type = tech.jhipster.config.JHipsterProperties, value = 'provided', annotations = array&lt;Annotation&gt;\n[@org.springframework.boot.context.properties.ConfigurationProperties(ignoreInvalidFields=false, ignoreUnknownFields=false, prefix=&quot;jhipster&quot;, value=&quot;jhipster&quot;)]] failed:__    \nProperty: jhipster.clientapp.cors.allowed-origins_    Value: &quot;*&quot;_    Origin: class path resource [config/application.yml] - 193:24_    \nReason: The elements [jhipster.clientapp.cors.allowed-origins] were left unbound.__Action:__Update your application's configuration_\n</code></pre>\n<p>Any suggestions gratefully received. Clues as to how you would debug this also very welcome.</p>\n"},{"tags":["java","event-handling","integration-testing","swt","mousewheel"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1688041993,"post_id":76580555,"comment_id":135022423,"body_markdown":"What version of SWT is this? Java 1.6 was end of life in 2015 I wouldn&#39;t expect the current SWT to work with it at all. For that matter Java 8 is now on update 361 so 60 is also way out of date.","body":"What version of SWT is this? Java 1.6 was end of life in 2015 I wouldn&#39;t expect the current SWT to work with it at all. For that matter Java 8 is now on update 361 so 60 is also way out of date."},{"owner":{"account_id":199041,"reputation":1576,"user_id":444079,"accept_rate":78,"display_name":"hellboy"},"score":0,"creation_date":1688044744,"post_id":76580555,"comment_id":135023040,"body_markdown":"`3.4.1` on integration and `3.7.2` on eclipse development environment","body":"<code>3.4.1</code> on integration and <code>3.7.2</code> on eclipse development environment"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1688046424,"post_id":76580555,"comment_id":135023451,"body_markdown":"Sorry but all that stuff is ancient. As far as I can see MouseWheel works fine on my system but that is using the SWT from Eclipse 4.28 with Java 20 (on macOS 13.4.1)","body":"Sorry but all that stuff is ancient. As far as I can see MouseWheel works fine on my system but that is using the SWT from Eclipse 4.28 with Java 20 (on macOS 13.4.1)"}],"answers":[{"tags":[],"owner":{"account_id":199041,"reputation":1576,"user_id":444079,"accept_rate":78,"display_name":"hellboy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688116345,"creation_date":1688116027,"answer_id":76587530,"question_id":76580555,"body_markdown":"It appears that I have encountered an issue related to the behavior of `CCombo` in SWT. \r\n\r\nThe problem is that mouse wheel scrolling doesn&#39;t work on `CCombo` due to a conflict with window scroll events.\r\n\r\nOne possible way to solve this problem is by creating a subclass of `CCombo` and overriding the mouse wheel event handler. Here&#39;s an example code that can help you resolve this issue:\r\n\r\n```java\r\nimport org.eclipse.swt.SWT;\r\nimport org.eclipse.swt.events.*;\r\nimport org.eclipse.swt.graphics.Point;\r\nimport org.eclipse.swt.widgets.*;\r\n\r\npublic class ScrollableCCombo extends CCombo {\r\n    public ScrollableCCombo(Composite parent, int style) {\r\n        super(parent, style);\r\n\r\n        // Add the mouse wheel listener to handle scrolling\r\n        addListener(SWT.MouseWheel, new Listener() {\r\n            @Override\r\n            public void handleEvent(Event event) {\r\n                if ((getStyle() &amp; SWT.READ_ONLY) != 0 &amp;&amp; isMouseInsideCCombo(event.x, event.y)) {\r\n                    // Change the selected item on mouse wheel event\r\n                    int selectionIndex = getSelectionIndex();\r\n                    int itemCount = getItemCount();\r\n                    if (itemCount &gt; 0) {\r\n                        // Calculate the new selection index based on the scroll direction\r\n                        int scrollCount = event.count;\r\n                        int newSelectionIndex = selectionIndex - scrollCount;\r\n                        newSelectionIndex = Math.max(0, Math.min(itemCount - 1, newSelectionIndex));\r\n\r\n                        // Set the new selection index\r\n                        select(newSelectionIndex);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isMouseInsideCCombo(int mouseX, int mouseY) {\r\n        Point ccomboLocation = getLocation();\r\n        int ccomboWidth = getSize().x;\r\n        int ccomboHeight = getSize().y;\r\n\r\n        return mouseX &gt;= ccomboLocation.x &amp;&amp; mouseX &lt;= ccomboLocation.x + ccomboWidth &amp;&amp;\r\n                mouseY &gt;= ccomboLocation.y &amp;&amp; mouseY &lt;= ccomboLocation.y + ccomboHeight;\r\n    }\r\n}\r\n```\r\n\r\n`ScrollableCCombo` class can be used instead of `CCombo` in code. It extends `CCombo` and adds a mouse wheel event handler to handle scrolling through the combo box items.\r\n\r\nExample usage of `ScrollableCCombo`:\r\n\r\n```java\r\n// Replace the creation of CCombo with ScrollableCCombo\r\nScrollableCCombo ccombo = new ScrollableCCombo(shell, SWT.READ_ONLY);\r\nccombo.setItems(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot; });\r\n```\r\n\r\nThis should allow you to scroll through the combo box items using the mouse wheel without conflicting with window scroll events.-","title":"SWT.MouseWheel event works in Eclipse Development Environment but not in other environments","body":"<p>It appears that I have encountered an issue related to the behavior of <code>CCombo</code> in SWT.</p>\n<p>The problem is that mouse wheel scrolling doesn't work on <code>CCombo</code> due to a conflict with window scroll events.</p>\n<p>One possible way to solve this problem is by creating a subclass of <code>CCombo</code> and overriding the mouse wheel event handler. Here's an example code that can help you resolve this issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.swt.SWT;\nimport org.eclipse.swt.events.*;\nimport org.eclipse.swt.graphics.Point;\nimport org.eclipse.swt.widgets.*;\n\npublic class ScrollableCCombo extends CCombo {\n    public ScrollableCCombo(Composite parent, int style) {\n        super(parent, style);\n\n        // Add the mouse wheel listener to handle scrolling\n        addListener(SWT.MouseWheel, new Listener() {\n            @Override\n            public void handleEvent(Event event) {\n                if ((getStyle() &amp; SWT.READ_ONLY) != 0 &amp;&amp; isMouseInsideCCombo(event.x, event.y)) {\n                    // Change the selected item on mouse wheel event\n                    int selectionIndex = getSelectionIndex();\n                    int itemCount = getItemCount();\n                    if (itemCount &gt; 0) {\n                        // Calculate the new selection index based on the scroll direction\n                        int scrollCount = event.count;\n                        int newSelectionIndex = selectionIndex - scrollCount;\n                        newSelectionIndex = Math.max(0, Math.min(itemCount - 1, newSelectionIndex));\n\n                        // Set the new selection index\n                        select(newSelectionIndex);\n                    }\n                }\n            }\n        });\n    }\n\n    private boolean isMouseInsideCCombo(int mouseX, int mouseY) {\n        Point ccomboLocation = getLocation();\n        int ccomboWidth = getSize().x;\n        int ccomboHeight = getSize().y;\n\n        return mouseX &gt;= ccomboLocation.x &amp;&amp; mouseX &lt;= ccomboLocation.x + ccomboWidth &amp;&amp;\n                mouseY &gt;= ccomboLocation.y &amp;&amp; mouseY &lt;= ccomboLocation.y + ccomboHeight;\n    }\n}\n</code></pre>\n<p><code>ScrollableCCombo</code> class can be used instead of <code>CCombo</code> in code. It extends <code>CCombo</code> and adds a mouse wheel event handler to handle scrolling through the combo box items.</p>\n<p>Example usage of <code>ScrollableCCombo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Replace the creation of CCombo with ScrollableCCombo\nScrollableCCombo ccombo = new ScrollableCCombo(shell, SWT.READ_ONLY);\nccombo.setItems(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot; });\n</code></pre>\n<p>This should allow you to scroll through the combo box items using the mouse wheel without conflicting with window scroll events.-</p>\n"}],"owner":{"account_id":199041,"reputation":1576,"user_id":444079,"accept_rate":78,"display_name":"hellboy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688116345,"creation_date":1688037695,"question_id":76580555,"body_markdown":"I am experiencing an issue with the `SWT.MouseWheel` event specifically in environments other than Eclipse Development Environment. The event handler for `SWT.MouseWheel` functions correctly within Eclipse, but it fails to work in other environments. Here are the details and steps I have taken:\r\n\r\nIn Eclipse, the code snippet below registers the `SWT.MouseWheel` event handler:\r\n\r\n\r\n    ccombo.addListener(SWT.MouseWheel, new Listener() {\r\n        @Override\r\n        public void handleEvent(Event event) {\r\n            // Code logic for handling mouse wheel scrolling\r\n            // This code functions properly within Eclipse \r\n        }\r\n    });\r\n\r\nI have verified that the `SWT` library version used is consistent between both environments.\r\n\r\nI have confirmed that the `CCombo` widget has focus when the mouse wheel is scrolled in other environments.\r\n\r\nDespite these checks, the event handler for `SWT.MouseWheel` fails to execute outside of Eclipse. I have attempted to debug the code, but no relevant error messages or exceptions are displayed.\r\n\r\nIf anyone has encountered a similar issue or has insights into why the `SWT.MouseWheel` event fails to trigger in environments other than Eclipse, I would greatly appreciate your assistance.\r\n\r\nI am unsure of the reason behind this behavior, and I&#39;m looking for guidance on how to debug this situation. Here is some information I have gathered:\r\n\r\n - The eclipse development environment is using JRE version 1.6.0.45.\r\n - The integration environment is using JRE version 1.8.0_60_b27.\r\n\r\n\r\nI suspect that the issue may be related to differences in JRE versions. I would like to understand how this affects the triggering of the `SWT.MouseWheel` event and how I can debug this situation.\r\n\r\nIf you have any ideas, suggestions, or experience with a similar issue, please share them. I appreciate any help in resolving this problem.\r\n","title":"SWT.MouseWheel event works in Eclipse Development Environment but not in other environments","body":"<p>I am experiencing an issue with the <code>SWT.MouseWheel</code> event specifically in environments other than Eclipse Development Environment. The event handler for <code>SWT.MouseWheel</code> functions correctly within Eclipse, but it fails to work in other environments. Here are the details and steps I have taken:</p>\n<p>In Eclipse, the code snippet below registers the <code>SWT.MouseWheel</code> event handler:</p>\n<pre><code>ccombo.addListener(SWT.MouseWheel, new Listener() {\n    @Override\n    public void handleEvent(Event event) {\n        // Code logic for handling mouse wheel scrolling\n        // This code functions properly within Eclipse \n    }\n});\n</code></pre>\n<p>I have verified that the <code>SWT</code> library version used is consistent between both environments.</p>\n<p>I have confirmed that the <code>CCombo</code> widget has focus when the mouse wheel is scrolled in other environments.</p>\n<p>Despite these checks, the event handler for <code>SWT.MouseWheel</code> fails to execute outside of Eclipse. I have attempted to debug the code, but no relevant error messages or exceptions are displayed.</p>\n<p>If anyone has encountered a similar issue or has insights into why the <code>SWT.MouseWheel</code> event fails to trigger in environments other than Eclipse, I would greatly appreciate your assistance.</p>\n<p>I am unsure of the reason behind this behavior, and I'm looking for guidance on how to debug this situation. Here is some information I have gathered:</p>\n<ul>\n<li>The eclipse development environment is using JRE version 1.6.0.45.</li>\n<li>The integration environment is using JRE version 1.8.0_60_b27.</li>\n</ul>\n<p>I suspect that the issue may be related to differences in JRE versions. I would like to understand how this affects the triggering of the <code>SWT.MouseWheel</code> event and how I can debug this situation.</p>\n<p>If you have any ideas, suggestions, or experience with a similar issue, please share them. I appreciate any help in resolving this problem.</p>\n"},{"tags":["java","google-analytics","google-analytics-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":3187436,"reputation":15604,"user_id":2692688,"display_name":"Tushar Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687761171,"creation_date":1687743691,"answer_id":76553078,"question_id":76552981,"body_markdown":"The Google Analytics Reporting API v4 API ***does not support Google Analytics 4***, and it will throw `403` for all the GA4 properties as they are not supported.\r\n\r\nthis is actually mentioned on the main page docs:\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/core/v4\r\n\r\n&gt; Note: This API does not support Google Analytics 4 (GA4) properties.\r\n&gt; Please use the Google Analytics Data API to access the new reporting\r\n&gt; features for GA4 properties.\r\n\r\nYou need to use [GA4 Data API][1] for GA4 properties.\r\n\r\n\r\n  [1]: https://developers.google.com/analytics/devguides/reporting/data/v1","title":"API source error when changing to Google Analytics Ga4","body":"<p>The Google Analytics Reporting API v4 API <em><strong>does not support Google Analytics 4</strong></em>, and it will throw <code>403</code> for all the GA4 properties as they are not supported.</p>\n<p>this is actually mentioned on the main page docs:</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/core/v4\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/core/v4</a></p>\n<blockquote>\n<p>Note: This API does not support Google Analytics 4 (GA4) properties.\nPlease use the Google Analytics Data API to access the new reporting\nfeatures for GA4 properties.</p>\n</blockquote>\n<p>You need to use <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1\" rel=\"nofollow noreferrer\">GA4 Data API</a> for GA4 properties.</p>\n"},{"tags":[],"owner":{"account_id":22286761,"reputation":31,"user_id":16514260,"display_name":"thịnh vũ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688116103,"creation_date":1688116103,"answer_id":76587538,"question_id":76552981,"body_markdown":"please follow this guide for Google Analytics Data API (GA4)\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries","title":"API source error when changing to Google Analytics Ga4","body":"<p>please follow this guide for Google Analytics Data API (GA4)</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries</a></p>\n"}],"owner":{"account_id":28894186,"reputation":23,"user_id":22130575,"display_name":"SsenGom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76553078,"answer_count":2,"score":1,"last_activity_date":1688116103,"creation_date":1687741280,"question_id":76552981,"body_markdown":"I changed Google Analytics to Ga4\r\n\r\nThe administrator is pulling statistics through the api and using it.\r\n\r\n\r\n\r\nAPI is using v4, so I think it&#39;s compatible with ga4.\r\n\r\n\r\n\r\nFollow the manual to connect to Google Cloud Platform + Analytics\r\n\r\n\r\n\r\nI downloaded the json file and put in the viewId of Ga4.\r\n\r\n\r\n\r\nHowever, permission errors continue to occur..\r\n\r\nI&#39;m asking because I don&#39;t know why...\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\tpublic static List&lt;ReportRow&gt; main(Map&lt;String, Object&gt; params) {\r\n\t\tList&lt;ReportRow&gt; list = null;\r\n\t\ttry {\r\n\t\t\tAnalyticsReporting service = initializeAnalyticsReporting();\r\n\r\n\t\t\tGetReportsResponse response = getReport(service, params);\r\n\t\t\tlist = printResponse(response);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n\t/*\tprivate static String absolutePath() {.\r\n\t\t\ttry {\r\n\t\t\t\tResource resource = new ClassPathResource(&quot;jinsil-dev-590e24c58176.json&quot;);\r\n\t\t\t\treturn ResourceUtils.getFile(&quot;classpath:jinsil-dev-590e24c58176.json&quot;).getAbsolutePath();\r\n\t\t\t\treturn resource.getURI().getPath().substring(1);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}*/\r\n\r\n\t/**\r\n\t * Initializes an Analytics Reporting API V4 service object.\r\n\t *\r\n\t * @return An authorized Analytics Reporting API V4 service object.\r\n\t * @throws IOException\r\n\t * @throws GeneralSecurityException\r\n\t */\r\n\tprivate static AnalyticsReporting initializeAnalyticsReporting() throws GeneralSecurityException, IOException {\r\n\r\n\t\tHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\tGoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(KEY_FILE_LOCATION))\r\n\t\t    .createScoped(AnalyticsReportingScopes.all());\r\n\r\n\t\t// Construct the Analytics Reporting service object.\r\n\t\treturn new AnalyticsReporting.Builder(httpTransport, JSON_FACTORY, credential).setApplicationName(APPLICATION_NAME)\r\n\t\t    .build();\r\n\t}\r\n\r\n\t/**\r\n\t * Queries the Analytics Reporting API V4.\r\n\t *\r\n\t * @param service An authorized Analytics Reporting API V4 service object.\r\n\t * @return GetReportResponse The Analytics Reporting API V4 response.\r\n\t * @throws IOException\r\n\t */\r\n\tprivate static GetReportsResponse getReport(AnalyticsReporting service, Map&lt;String, Object&gt; params)\r\n\t    throws IOException {\r\n\t\t// Create the DateRange object.\r\n\t\tDateRange dateRange = new DateRange();\r\n\t\tdateRange.setStartDate((String) params.get(&quot;startDate&quot;));\r\n\t\tdateRange.setEndDate((String) params.get(&quot;endDate&quot;));\r\n\r\n\t\tString met = (String) params.get(&quot;metrics&quot;);\r\n\t\tString[] splited = met.split(&quot;,&quot;);\r\n\t\tMetric metrics[] = new Metric[3];\r\n\r\n\t\tMetric sessions = null;\r\n\t\tfor (int i = 0; i &lt; splited.length; i++) {\r\n\t\t\tsessions = new Metric().setExpression(splited[i]);\r\n\t\t\tmetrics[i] = sessions;\r\n\t\t}\r\n\t\t// Create the Metrics object.\r\n\r\n\t\tDimension pageTitle = new Dimension().setName((String) params.get(&quot;dimensions&quot;));\r\n\r\n\t\t// Create the ReportRequest object.\r\n\t\tReportRequest request = new ReportRequest().setViewId(VIEW_ID).setDateRanges(Arrays.asList(dateRange))\r\n\t\t    .setMetrics(Arrays.asList(metrics)).setDimensions(Arrays.asList(pageTitle)).setIncludeEmptyRows(true);\r\n\r\n\t\tArrayList&lt;ReportRequest&gt; requests = new ArrayList&lt;ReportRequest&gt;();\r\n\t\trequests.add(request);\r\n\r\n\t\t// Create the GetReportsRequest object.\r\n\t\tGetReportsRequest getReport = new GetReportsRequest().setReportRequests(requests);\r\n\r\n\t\t// Call the batchGet method.\r\n\t\tGetReportsResponse response = service.reports().batchGet(getReport).execute();\r\n\r\n\t\t// Return the response.\r\n\t\treturn response;\r\n\t}\r\n\r\n\t/**\r\n\t * Parses and prints the Analytics Reporting API V4 response.\r\n\t *\r\n\t * @param response An Analytics Reporting API V4 response.\r\n\t * @return \r\n\t */\r\n\tprivate static List&lt;ReportRow&gt; printResponse(GetReportsResponse response) {\r\n\r\n\t\tfor (Report report : response.getReports()) {\r\n\t\t\tColumnHeader header = report.getColumnHeader();\r\n\t\t\tList&lt;ReportRow&gt; rows = report.getData().getRows();\r\n\r\n\t\t\tif (rows == null) {\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn rows;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n```\r\n```\r\n\r\n//error \r\n\r\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\nPOST https://analyticsreporting.googleapis.com/v4/reports:batchGet\r\n{\r\n  &quot;code&quot;: 403,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;domain&quot;: &quot;global&quot;,\r\n      &quot;message&quot;: &quot;User does not have sufficient permissions for this profile.&quot;,\r\n      &quot;reason&quot;: &quot;forbidden&quot;\r\n    }\r\n  ],\r\n  &quot;message&quot;: &quot;User does not have sufficient permissions for this profile.&quot;,\r\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\r\n}\r\n\tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\r\n\tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n\tat egovframework.dsc.statistics.web.HelloAnalyticsReporting.getReport(HelloAnalyticsReporting.java:126)\r\n\tat egovframework.dsc.statistics.web.HelloAnalyticsReporting.main(HelloAnalyticsReporting.java:50)\r\n\tat egovframework.dsc.statistics.web.statisticsController.selectVisitValueAjax(statisticsController.java:87)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:871)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:682)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:765)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.multipart.support.MultipartFilter.doFilterInternal(MultipartFilter.java:118)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat egovframework.com.cmm.filter.HTMLTagFilter.doFilter(HTMLTagFilter.java:36)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat egovframework.com.sec.security.filter.EgovSpringSecurityLoginFilter.doFilter(EgovSpringSecurityLoginFilter.java:387)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n```\r\n\r\npz Please solve the problem\r\n","title":"API source error when changing to Google Analytics Ga4","body":"<p>I changed Google Analytics to Ga4</p>\n<p>The administrator is pulling statistics through the api and using it.</p>\n<p>API is using v4, so I think it's compatible with ga4.</p>\n<p>Follow the manual to connect to Google Cloud Platform + Analytics</p>\n<p>I downloaded the json file and put in the viewId of Ga4.</p>\n<p>However, permission errors continue to occur..</p>\n<p>I'm asking because I don't know why...</p>\n<pre><code>\n    public static List&lt;ReportRow&gt; main(Map&lt;String, Object&gt; params) {\n        List&lt;ReportRow&gt; list = null;\n        try {\n            AnalyticsReporting service = initializeAnalyticsReporting();\n\n            GetReportsResponse response = getReport(service, params);\n            list = printResponse(response);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return list;\n    }\n\n    /*  private static String absolutePath() {.\n            try {\n                Resource resource = new ClassPathResource(&quot;jinsil-dev-590e24c58176.json&quot;);\n                return ResourceUtils.getFile(&quot;classpath:jinsil-dev-590e24c58176.json&quot;).getAbsolutePath();\n                return resource.getURI().getPath().substring(1);\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }*/\n\n    /**\n     * Initializes an Analytics Reporting API V4 service object.\n     *\n     * @return An authorized Analytics Reporting API V4 service object.\n     * @throws IOException\n     * @throws GeneralSecurityException\n     */\n    private static AnalyticsReporting initializeAnalyticsReporting() throws GeneralSecurityException, IOException {\n\n        HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n        GoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(KEY_FILE_LOCATION))\n            .createScoped(AnalyticsReportingScopes.all());\n\n        // Construct the Analytics Reporting service object.\n        return new AnalyticsReporting.Builder(httpTransport, JSON_FACTORY, credential).setApplicationName(APPLICATION_NAME)\n            .build();\n    }\n\n    /**\n     * Queries the Analytics Reporting API V4.\n     *\n     * @param service An authorized Analytics Reporting API V4 service object.\n     * @return GetReportResponse The Analytics Reporting API V4 response.\n     * @throws IOException\n     */\n    private static GetReportsResponse getReport(AnalyticsReporting service, Map&lt;String, Object&gt; params)\n        throws IOException {\n        // Create the DateRange object.\n        DateRange dateRange = new DateRange();\n        dateRange.setStartDate((String) params.get(&quot;startDate&quot;));\n        dateRange.setEndDate((String) params.get(&quot;endDate&quot;));\n\n        String met = (String) params.get(&quot;metrics&quot;);\n        String[] splited = met.split(&quot;,&quot;);\n        Metric metrics[] = new Metric[3];\n\n        Metric sessions = null;\n        for (int i = 0; i &lt; splited.length; i++) {\n            sessions = new Metric().setExpression(splited[i]);\n            metrics[i] = sessions;\n        }\n        // Create the Metrics object.\n\n        Dimension pageTitle = new Dimension().setName((String) params.get(&quot;dimensions&quot;));\n\n        // Create the ReportRequest object.\n        ReportRequest request = new ReportRequest().setViewId(VIEW_ID).setDateRanges(Arrays.asList(dateRange))\n            .setMetrics(Arrays.asList(metrics)).setDimensions(Arrays.asList(pageTitle)).setIncludeEmptyRows(true);\n\n        ArrayList&lt;ReportRequest&gt; requests = new ArrayList&lt;ReportRequest&gt;();\n        requests.add(request);\n\n        // Create the GetReportsRequest object.\n        GetReportsRequest getReport = new GetReportsRequest().setReportRequests(requests);\n\n        // Call the batchGet method.\n        GetReportsResponse response = service.reports().batchGet(getReport).execute();\n\n        // Return the response.\n        return response;\n    }\n\n    /**\n     * Parses and prints the Analytics Reporting API V4 response.\n     *\n     * @param response An Analytics Reporting API V4 response.\n     * @return \n     */\n    private static List&lt;ReportRow&gt; printResponse(GetReportsResponse response) {\n\n        for (Report report : response.getReports()) {\n            ColumnHeader header = report.getColumnHeader();\n            List&lt;ReportRow&gt; rows = report.getData().getRows();\n\n            if (rows == null) {\n            }\n\n\n            return rows;\n        }\n\n        return null;\n    }\n</code></pre>\n<pre><code>\n//error \n\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\nPOST https://analyticsreporting.googleapis.com/v4/reports:batchGet\n{\n  &quot;code&quot;: 403,\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;global&quot;,\n      &quot;message&quot;: &quot;User does not have sufficient permissions for this profile.&quot;,\n      &quot;reason&quot;: &quot;forbidden&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;User does not have sufficient permissions for this profile.&quot;,\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:150)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n    at egovframework.dsc.statistics.web.HelloAnalyticsReporting.getReport(HelloAnalyticsReporting.java:126)\n    at egovframework.dsc.statistics.web.HelloAnalyticsReporting.main(HelloAnalyticsReporting.java:50)\n    at egovframework.dsc.statistics.web.statisticsController.selectVisitValueAjax(statisticsController.java:87)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:871)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:682)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:765)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.multipart.support.MultipartFilter.doFilterInternal(MultipartFilter.java:118)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at egovframework.com.cmm.filter.HTMLTagFilter.doFilter(HTMLTagFilter.java:36)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at egovframework.com.sec.security.filter.EgovSpringSecurityLoginFilter.doFilter(EgovSpringSecurityLoginFilter.java:387)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n</code></pre>\n<p>pz Please solve the problem</p>\n"},{"tags":["java","facebook-graph-api","graphql","netflix-dgs"],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688115897,"creation_date":1688115897,"question_id":76587521,"body_markdown":"I am implementing a subscription API using Netflix&#39;s Dgs Framework.  \r\n\r\nAssuming my schema and other data are as follows:  \r\n```\r\ntype Subscription {\r\n  mySubscription: MySubscription\r\n}\r\n\r\ntype MySubscription {\r\n  id: ID\r\n  person(name: String): Person\r\n  eventTime: String\r\n}\r\n\r\ntype Person {\r\n  name: String\r\n  age: Int\r\n}\r\n```\r\nThe above is just a simple example to facilitate describing the issue I&#39;m facing. The actual scenario is even more complex than this example.  \r\n\r\nThe issue I&#39;m facing is that in the resolver of the subscription, when I consume data from the message queue, I generate a `MySubscription` and push it to the subscribers.\r\n\r\n```\r\n@DgsSubscription\r\npublic Flux&lt;MySubscription&gt; mySubscription() {\r\n  // The data from the message queue is transformed into a map.\r\n  Map&lt;String, String&gt; jsonDataMap = gson.fromJson(data, Map.class);\r\n\r\n  // The Person field will be generated in the resolver of the Person.\r\n  return MySubscription.newBuilder()\r\n            .id(jsonDataMap.get(&quot;id&quot;))\r\n            .eventTime(jsonDataMap.get(&quot;eventTime&quot;))\r\n            .build();\r\n}\r\n```\r\n\r\nIn the resolver of `Person`, there is a parameter called `name` that allows the client to specify the desired name to obtain the corresponding data. When the name in the data does not match the name specified by the client, it will return null.\r\n\r\nSo, when I receive three pieces of data from the message queue, but only one of them matches the `name` specified by the client, three `MySubscription` objects will be generated, but only one will have the `Person` data.\r\n\r\n\r\nI know that I can place the name parameter on the interface of the subscription, like this:\r\n```\r\ntype Subscription {\r\n  mySubscription(name: String): MySubscription\r\n}\r\n```\r\nWith this approach, it can filter out data that does not match the specified `name` when receiving it, thereby avoiding the creation of unnecessary `MySubscription` objects. But I believe that scattering the same parameter across different places can confuse the client. So I would like to maintain the schema as shown at the top.\r\n\r\nI would like to know if there is any way to avoid generating a `MySubscription` with an empty `person` in this situation.\r\n","title":"Filter out return values with empty field in GraphQL subscriptions","body":"<p>I am implementing a subscription API using Netflix's Dgs Framework.</p>\n<p>Assuming my schema and other data are as follows:</p>\n<pre><code>type Subscription {\n  mySubscription: MySubscription\n}\n\ntype MySubscription {\n  id: ID\n  person(name: String): Person\n  eventTime: String\n}\n\ntype Person {\n  name: String\n  age: Int\n}\n</code></pre>\n<p>The above is just a simple example to facilitate describing the issue I'm facing. The actual scenario is even more complex than this example.</p>\n<p>The issue I'm facing is that in the resolver of the subscription, when I consume data from the message queue, I generate a <code>MySubscription</code> and push it to the subscribers.</p>\n<pre><code>@DgsSubscription\npublic Flux&lt;MySubscription&gt; mySubscription() {\n  // The data from the message queue is transformed into a map.\n  Map&lt;String, String&gt; jsonDataMap = gson.fromJson(data, Map.class);\n\n  // The Person field will be generated in the resolver of the Person.\n  return MySubscription.newBuilder()\n            .id(jsonDataMap.get(&quot;id&quot;))\n            .eventTime(jsonDataMap.get(&quot;eventTime&quot;))\n            .build();\n}\n</code></pre>\n<p>In the resolver of <code>Person</code>, there is a parameter called <code>name</code> that allows the client to specify the desired name to obtain the corresponding data. When the name in the data does not match the name specified by the client, it will return null.</p>\n<p>So, when I receive three pieces of data from the message queue, but only one of them matches the <code>name</code> specified by the client, three <code>MySubscription</code> objects will be generated, but only one will have the <code>Person</code> data.</p>\n<p>I know that I can place the name parameter on the interface of the subscription, like this:</p>\n<pre><code>type Subscription {\n  mySubscription(name: String): MySubscription\n}\n</code></pre>\n<p>With this approach, it can filter out data that does not match the specified <code>name</code> when receiving it, thereby avoiding the creation of unnecessary <code>MySubscription</code> objects. But I believe that scattering the same parameter across different places can confuse the client. So I would like to maintain the schema as shown at the top.</p>\n<p>I would like to know if there is any way to avoid generating a <code>MySubscription</code> with an empty <code>person</code> in this situation.</p>\n"},{"tags":["java","spring-boot","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688100277,"post_id":76586012,"comment_id":135031260,"body_markdown":"You miss @Autowired annotation to inject the repository in the controller.","body":"You miss @Autowired annotation to inject the repository in the controller."},{"owner":{"account_id":26836748,"reputation":21,"user_id":20423901,"display_name":"Thang Đai"},"score":0,"creation_date":1688106492,"post_id":76586012,"comment_id":135031920,"body_markdown":"`import org.springframework.beans.factory.annotation.Autowired;\n@SpringBootApplication\npublic class WorkReportApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(WorkReportApplication.class, args);\n\t}\n\t\n\t@Autowired\n\tprivate AccountRepository accountRepository;\n}\n`                                                                                                                                       I have added @Autowired to the Application file, but the error still appears as above","body":"<code>import org.springframework.beans.factory.annotation.Autowired; @SpringBootApplication public class WorkReportApplication {  \tpublic static void main(String[] args) { \t\tSpringApplication.run(WorkReportApplication.class, args); \t} \t \t@Autowired \tprivate AccountRepository accountRepository; } </code>                                                                                                                                       I have added @Autowired to the Application file, but the error still appears as above"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688107125,"post_id":76586012,"comment_id":135032012,"body_markdown":"You have to add it in the `CustomAccountDetailsService`","body":"You have to add it in the <code>CustomAccountDetailsService</code>"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1688110576,"post_id":76586012,"comment_id":135032616,"body_markdown":"@Jens there&#39;s `@AllArgsConstructor` on the service, so autowiring should take effect either way.","body":"@Jens there&#39;s <code>@AllArgsConstructor</code> on the service, so autowiring should take effect either way."},{"owner":{"account_id":26836748,"reputation":21,"user_id":20423901,"display_name":"Thang Đai"},"score":0,"creation_date":1688115804,"post_id":76586012,"comment_id":135033522,"body_markdown":"Thank you for your guidance, but it still doesn&#39;t fix the error. Besides, when entering information, it will say &quot;Invalid Username or Password&quot;","body":"Thank you for your guidance, but it still doesn&#39;t fix the error. Besides, when entering information, it will say &quot;Invalid Username or Password&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688099883,"creation_date":1688099883,"answer_id":76586081,"question_id":76586012,"body_markdown":"`AccountRepository` is missing a `@Repository` annotation, so it&#39;s not a spring bean, which means it does not get injected to the service, resulting in it being null.","title":"Can&#39;t login error when using Spring security?","body":"<p><code>AccountRepository</code> is missing a <code>@Repository</code> annotation, so it's not a spring bean, which means it does not get injected to the service, resulting in it being null.</p>\n"}],"owner":{"account_id":26836748,"reputation":21,"user_id":20423901,"display_name":"Thang Đai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688115864,"creation_date":1688098570,"question_id":76586012,"body_markdown":"i am learning how to use spring security to build login function, i got the error as below &quot;Invalid Username or Password&quot; :\r\n\r\n&gt; Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.thang.repository.AccountRepository.findByUsername(String)&quot; because &quot;this.accountRepository&quot; is null\r\n\tat com.thang.service.CustomAccountDetailsService.loadUserByUsername(CustomAccountDetailsService.java:27) ~[classes/:na]\r\n\tat org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103) ~[spring-security-core-6.1.1.jar:6.1.1]\r\n\t... 60 common frames omitted\r\n\r\nI tried to find ways to fix it on google but it doesn&#39;t work, hope you can help me\r\n[![enter image description here][1]][1]\r\n\r\nAccount.java\r\n```\r\npackage com.thang.entity;\r\n\r\nimport java.util.Set;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name= &quot;users&quot;)\r\npublic class Account {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\t\r\n\t@Column(nullable = false, unique = true)\r\n\tprivate String username;\r\n\t\r\n\t@Column(nullable = false, unique = true)\r\n\tprivate String email;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate String password;\r\n\t\r\n\tpublic Account(String name, String username, String email, String password, Set&lt;Role&gt; roles) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.username = username;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic Set&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;users_roles&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t)\r\n\tprivate Set&lt;Role&gt; roles;\r\n\t\r\n}\r\n```\r\n\r\nAccountRepository.java\r\n```\r\npackage com.thang.repository;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.thang.entity.Account;\r\n\r\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt;{\r\n\r\n    Optional&lt;Account&gt; findByUsername(String username);\r\n\r\n    Boolean existsByEmail(String email);\r\n\r\n    Optional&lt;Account&gt; findByUsernameOrEmail(String username, String email);\r\n\r\n    boolean existsByUsername(String username);\r\n    \r\n}\r\n```\r\n\r\nCustomAccountDetailsService.java\r\n```\r\npackage com.thang.service;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.thang.entity.Account;\r\nimport com.thang.repository.AccountRepository;\r\n\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class CustomAccountDetailsService implements UserDetailsService {\r\n\r\n    private AccountRepository accountRepository;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t\r\n\t\tAccount account = accountRepository.findByUsername(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not exists by Username&quot;));\r\n\r\n        Set&lt;GrantedAuthority&gt; authorities = account.getRoles().stream()\r\n                .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toSet());\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n        \t\tusername,\r\n                account.getPassword(),\r\n                authorities\r\n        );\r\n\t}\r\n   \r\n}\r\n```\r\nlogin.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Login&lt;/title&gt;\r\n &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot;\r\n          rel=&quot;stylesheet&quot;\r\n          integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot;\r\n          crossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\r\n\t\t&lt;div class=&quot;container-fluid&quot;&gt;\r\n\t\t\t&lt;a class=&quot;navbar-brand&quot; th:href=&quot;@{/index}&quot;&gt;Login System&lt;/a&gt;\r\n\t\t\t&lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;navbar-togger-icon&quot;&gt;&lt;/span&gt;\r\n\t\t\t&lt;/button&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/nav&gt;\r\n\t&lt;br /&gt;&lt;br /&gt;\r\n\t&lt;div class=&quot;container&quot;&gt;\r\n\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t&lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\r\n\t\t\t\t&lt;div th:if=&quot;${param.error}&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;alert alert-danger&quot;&gt;Invalid Username or Password&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div th:if=&quot;${param.logout}&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;alert alert-success&quot;&gt;You have been logout.&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;div class=&quot;card&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;card-header&quot;&gt;\r\n\t\t\t\t\t\t&lt;h2 class=&quot;text-center&quot;&gt;Login Form&lt;/h2&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n\t\t\t\t\t\t&lt;form method=&quot;post&quot; role=&quot;form&quot; th:action=&quot;@{/login}&quot; class=&quot;form-horizontal&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;form-group mb3&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;label&gt;User Name&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t&lt;input\r\n\t\t\t\t\t\t\t\t\ttype=&quot;text&quot;\r\n\t\t\t\t\t\t\t\t\tid=&quot;username&quot;\r\n\t\t\t\t\t\t\t\t\tname=&quot;username&quot;\r\n\t\t\t\t\t\t\t\t\tclass=&quot;form-control&quot;\r\n\t\t\t\t\t\t\t\t\tplaceholder=&quot;Enter Username&quot;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;div class=&quot;form-group mb3&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;label&gt;Password&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t&lt;input\r\n\t\t\t\t\t\t\t\t\ttype=&quot;password&quot;\r\n\t\t\t\t\t\t\t\t\tid=&quot;password&quot;\r\n\t\t\t\t\t\t\t\t\tname=&quot;password&quot;\r\n\t\t\t\t\t\t\t\t\tclass=&quot;form-control&quot;\r\n\t\t\t\t\t\t\t\t\tplaceholder=&quot;Enter password&quot;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;form-group mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nSecurityConfig.java\r\n```\r\npackage com.thang.security;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport static org.springframework.security.config.Customizer.*;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SecurityConfig{\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    static PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(withDefaults())\r\n                .authorizeHttpRequests((authorize) -&gt;\r\n                        authorize.anyRequest().authenticated()\r\n                ).formLogin(\r\n                form -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/handover&quot;)\r\n                        .permitAll()\r\n        ).logout(\r\n                logout -&gt; logout\r\n                        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                        .permitAll()\r\n        );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n        return configuration.getAuthenticationManager();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YexXp.png","title":"Can&#39;t login error when using Spring security?","body":"<p>i am learning how to use spring security to build login function, i got the error as below &quot;Invalid Username or Password&quot; :</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.thang.repository.AccountRepository.findByUsername(String)&quot; because &quot;this.accountRepository&quot; is null\nat com.thang.service.CustomAccountDetailsService.loadUserByUsername(CustomAccountDetailsService.java:27) ~[classes/:na]\nat org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103) ~[spring-security-core-6.1.1.jar:6.1.1]\n... 60 common frames omitted</p>\n</blockquote>\n<p>I tried to find ways to fix it on google but it doesn't work, hope you can help me\n<a href=\"https://i.stack.imgur.com/YexXp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YexXp.png\" alt=\"enter image description here\" /></a></p>\n<p>Account.java</p>\n<pre><code>package com.thang.entity;\n\nimport java.util.Set;\n\nimport jakarta.persistence.*;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name= &quot;users&quot;)\npublic class Account {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    \n    @Column(nullable = false, unique = true)\n    private String username;\n    \n    @Column(nullable = false, unique = true)\n    private String email;\n    \n    @Column(nullable = false)\n    private String password;\n    \n    public Account(String name, String username, String email, String password, Set&lt;Role&gt; roles) {\n        super();\n        this.name = name;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.roles = roles;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;,\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;Role&gt; roles;\n    \n}\n</code></pre>\n<p>AccountRepository.java</p>\n<pre><code>package com.thang.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.thang.entity.Account;\n\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt;{\n\n    Optional&lt;Account&gt; findByUsername(String username);\n\n    Boolean existsByEmail(String email);\n\n    Optional&lt;Account&gt; findByUsernameOrEmail(String username, String email);\n\n    boolean existsByUsername(String username);\n    \n}\n</code></pre>\n<p>CustomAccountDetailsService.java</p>\n<pre><code>package com.thang.service;\n\nimport lombok.AllArgsConstructor;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.thang.entity.Account;\nimport com.thang.repository.AccountRepository;\n\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Service\n@AllArgsConstructor\npublic class CustomAccountDetailsService implements UserDetailsService {\n\n    private AccountRepository accountRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        \n        Account account = accountRepository.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not exists by Username&quot;));\n\n        Set&lt;GrantedAuthority&gt; authorities = account.getRoles().stream()\n                .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toSet());\n\n        return new org.springframework.security.core.userdetails.User(\n                username,\n                account.getPassword(),\n                authorities\n        );\n    }\n   \n}\n</code></pre>\n<p>login.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Login&lt;/title&gt;\n &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot;\n          rel=&quot;stylesheet&quot;\n          integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot;\n          crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\n        &lt;div class=&quot;container-fluid&quot;&gt;\n            &lt;a class=&quot;navbar-brand&quot; th:href=&quot;@{/index}&quot;&gt;Login System&lt;/a&gt;\n            &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n                &lt;span class=&quot;navbar-togger-icon&quot;&gt;&lt;/span&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n    &lt;br /&gt;&lt;br /&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\n                &lt;div th:if=&quot;${param.error}&quot;&gt;\n                    &lt;div class=&quot;alert alert-danger&quot;&gt;Invalid Username or Password&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div th:if=&quot;${param.logout}&quot;&gt;\n                    &lt;div class=&quot;alert alert-success&quot;&gt;You have been logout.&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=&quot;card&quot;&gt;\n                    &lt;div class=&quot;card-header&quot;&gt;\n                        &lt;h2 class=&quot;text-center&quot;&gt;Login Form&lt;/h2&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;card-body&quot;&gt;\n                        &lt;form method=&quot;post&quot; role=&quot;form&quot; th:action=&quot;@{/login}&quot; class=&quot;form-horizontal&quot;&gt;\n                            &lt;div class=&quot;form-group mb3&quot;&gt;\n                                &lt;label&gt;User Name&lt;/label&gt;\n                                &lt;input\n                                    type=&quot;text&quot;\n                                    id=&quot;username&quot;\n                                    name=&quot;username&quot;\n                                    class=&quot;form-control&quot;\n                                    placeholder=&quot;Enter Username&quot;                                \n                                /&gt;\n                            &lt;/div&gt;\n                            \n                            &lt;div class=&quot;form-group mb3&quot;&gt;\n                                &lt;label&gt;Password&lt;/label&gt;\n                                &lt;input\n                                    type=&quot;password&quot;\n                                    id=&quot;password&quot;\n                                    name=&quot;password&quot;\n                                    class=&quot;form-control&quot;\n                                    placeholder=&quot;Enter password&quot;                                \n                                /&gt;\n                            &lt;/div&gt;\n                            &lt;br&gt;\n                            &lt;div class=&quot;form-group mb-3&quot;&gt;\n                                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n                            &lt;/div&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre><code>package com.thang.security;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport static org.springframework.security.config.Customizer.*;\n\n@Configuration\n@AllArgsConstructor\npublic class SecurityConfig{\n\n    @SuppressWarnings(&quot;unused&quot;)\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    static PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(withDefaults())\n                .authorizeHttpRequests((authorize) -&gt;\n                        authorize.anyRequest().authenticated()\n                ).formLogin(\n                form -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/handover&quot;)\n                        .permitAll()\n        ).logout(\n                logout -&gt; logout\n                        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                        .permitAll()\n        );\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp","struts","jstl"],"comments":[{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1365528268,"post_id":15907513,"comment_id":22656578,"body_markdown":"Check if this answers helps:\n\nhttp://stackoverflow.com/a/2682602/259889","body":"Check if this answers helps:  <a href=\"http://stackoverflow.com/a/2682602/259889\">stackoverflow.com/a/2682602/259889</a>"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1365619039,"post_id":15907513,"comment_id":22700002,"body_markdown":"@SidCool...didnt help me...any other suggestions..?","body":"@SidCool...didnt help me...any other suggestions..?"},{"owner":{"account_id":2570552,"reputation":3488,"user_id":2229404,"display_name":"Orel Biton"},"score":0,"creation_date":1365621155,"post_id":15907513,"comment_id":22701151,"body_markdown":"Maybe use `selected=&quot;&quot;` instead?","body":"Maybe use <code>selected=&quot;&quot;</code> instead?"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688115321,"creation_date":1365525182,"question_id":15907513,"body_markdown":"I have a multi select box like,\r\n\r\n    &lt;select name=&quot;prGroup&quot; id=&quot;prGroup&quot; multiple=&quot;true&quot;&gt;\r\n        &lt;option value=&quot;All&quot;&gt;All&lt;/option&gt;\r\n        &lt;c:forEach var=&quot;item&quot; items=&quot;${model.prGrpList}&quot;&gt;\r\n                &lt;option value=&quot;&lt;c:out value=&#39;${item.deptDescTx}&#39;/&gt;&quot; &lt;c:if test=&quot;${ViewSummaryForm.prGroup == item.deptDescTx}&quot;&gt;SELECTED&lt;/c:if&gt;&gt;\r\n                        &lt;c:out value=&quot;${item.deptDescTx}&quot;/&gt;\t\t\r\n                &lt;/option&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/select&gt;\r\n\r\n\r\nwhere ```prGroup``` is a form value and is a String array. ```model.prGrpList``` is a request parameter which gives the list values eg: AK,CA,VA, DC, MD, FL, DA...now I select for example CA and VA from the multi select button. It goes to action class and picks up corresponding values and when UI is displayed CA and VA should still be selected. With above it works for a String.\r\n\r\nHow can I make it work for String array where String array has values CA and VA(for example).\r\n\r\n\r\nAny i/p&#39;s or suggestions?","title":"Making options &#39;selected&#39; in a multi select Box","body":"<p>I have a multi select box like,</p>\n<pre><code>&lt;select name=&quot;prGroup&quot; id=&quot;prGroup&quot; multiple=&quot;true&quot;&gt;\n    &lt;option value=&quot;All&quot;&gt;All&lt;/option&gt;\n    &lt;c:forEach var=&quot;item&quot; items=&quot;${model.prGrpList}&quot;&gt;\n            &lt;option value=&quot;&lt;c:out value='${item.deptDescTx}'/&gt;&quot; &lt;c:if test=&quot;${ViewSummaryForm.prGroup == item.deptDescTx}&quot;&gt;SELECTED&lt;/c:if&gt;&gt;\n                    &lt;c:out value=&quot;${item.deptDescTx}&quot;/&gt;     \n            &lt;/option&gt;\n    &lt;/c:forEach&gt;\n&lt;/select&gt;\n</code></pre>\n<p>where <code>prGroup</code> is a form value and is a String array. <code>model.prGrpList</code> is a request parameter which gives the list values eg: AK,CA,VA, DC, MD, FL, DA...now I select for example CA and VA from the multi select button. It goes to action class and picks up corresponding values and when UI is displayed CA and VA should still be selected. With above it works for a String.</p>\n<p>How can I make it work for String array where String array has values CA and VA(for example).</p>\n<p>Any i/p's or suggestions?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688057435,"post_id":76582947,"comment_id":135025991,"body_markdown":"You show your insert and update method (please format the code), but you don&#39;t show how you insert and delete the entity","body":"You show your insert and update method (please format the code), but you don&#39;t show how you insert and delete the entity"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688064393,"post_id":76582947,"comment_id":135027350,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25373085,"reputation":1,"user_id":19187167,"display_name":"user19187167"},"score":0,"creation_date":1688096982,"post_id":76582947,"comment_id":135031016,"body_markdown":"public String isoCode;\n    public String name;\n    public String fullNameKey;\n    public String symbol;\n    public String digitalCode;\n    @Column(name = &quot;is_deleted&quot;, columnDefinition = &quot;numeric&quot;)\n    public Byte deleted = FALSE;","body":"public String isoCode;     public String name;     public String fullNameKey;     public String symbol;     public String digitalCode;     @Column(name = &quot;is_deleted&quot;, columnDefinition = &quot;numeric&quot;)     public Byte deleted = FALSE;"}],"owner":{"account_id":25373085,"reputation":1,"user_id":19187167,"display_name":"user19187167"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688115098,"creation_date":1688056026,"question_id":76582947,"body_markdown":"I need to add a currency and after adding I will delete it, but it will stay in the database. And when I try to create the same name currency, I can not create it. It shows that the primary key should be unique.\r\n\r\n```java\r\n   /**\r\n     * Saves dto in Currency table. Uses Translation id as a foreign key\r\n     *\r\n     * @param dto           - income dto\r\n     * @param translationKey - Translation key\r\n     * @return - currency id\r\n     */\r\n    public String insert(CurrencyRequestDTO dto, String translationKey) {\r\n        Long affectedRows = queryFactory.insert(currency)\r\n                .set(currency.isoCode, dto.isoCode)\r\n                .set(currency.digitalCode, dto.digitalCode)\r\n                .set(currency.name, dto.name)\r\n                .set(currency.symbol, dto.symbol)\r\n                .set(currency.fullNameKey, translationKey)\r\n                .execute();\r\n        CrudRepository.exceptionCheck(affectedRows, INSERT);\r\n\r\n        return dto.isoCode;\r\n    }\r\n\r\n    /**\r\n     * Updates currency\r\n     *\r\n     * @param dto           - income dto\r\n     * @param translationKey - translation key as FK\r\n     */\r\n    public void update(CurrencyRequestDTO dto, String translationKey) {\r\n        Long result = queryFactory.update(currency)\r\n                .set(currency.isoCode, dto.isoCode)\r\n                .set(currency.digitalCode, dto.digitalCode)\r\n                .set(currency.name, dto.name)\r\n                .set(currency.symbol, dto.symbol)\r\n                .set(currency.fullNameKey, translationKey)\r\n                .where(currency.isoCode.eq(dto.isoCode).and(currency.isDeleted.eq(FALSE)))\r\n                .execute();\r\n\r\n        CrudRepository.exceptionCheck(result, UPDATE);\r\n    }\r\n```","title":"Can not fix a problem with insert and update","body":"<p>I need to add a currency and after adding I will delete it, but it will stay in the database. And when I try to create the same name currency, I can not create it. It shows that the primary key should be unique.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n     * Saves dto in Currency table. Uses Translation id as a foreign key\n     *\n     * @param dto           - income dto\n     * @param translationKey - Translation key\n     * @return - currency id\n     */\n    public String insert(CurrencyRequestDTO dto, String translationKey) {\n        Long affectedRows = queryFactory.insert(currency)\n                .set(currency.isoCode, dto.isoCode)\n                .set(currency.digitalCode, dto.digitalCode)\n                .set(currency.name, dto.name)\n                .set(currency.symbol, dto.symbol)\n                .set(currency.fullNameKey, translationKey)\n                .execute();\n        CrudRepository.exceptionCheck(affectedRows, INSERT);\n\n        return dto.isoCode;\n    }\n\n    /**\n     * Updates currency\n     *\n     * @param dto           - income dto\n     * @param translationKey - translation key as FK\n     */\n    public void update(CurrencyRequestDTO dto, String translationKey) {\n        Long result = queryFactory.update(currency)\n                .set(currency.isoCode, dto.isoCode)\n                .set(currency.digitalCode, dto.digitalCode)\n                .set(currency.name, dto.name)\n                .set(currency.symbol, dto.symbol)\n                .set(currency.fullNameKey, translationKey)\n                .where(currency.isoCode.eq(dto.isoCode).and(currency.isDeleted.eq(FALSE)))\n                .execute();\n\n        CrudRepository.exceptionCheck(result, UPDATE);\n    }\n</code></pre>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"score":0,"creation_date":1463660247,"post_id":37314744,"comment_id":62165162,"body_markdown":"&quot;Received verification code. You may now close this window.&quot; means you are doing the right thing, you are in the right track. Can you please elaborate what is the exact problem? And please include error logs. Your current log seems ok.","body":"&quot;Received verification code. You may now close this window.&quot; means you are doing the right thing, you are in the right track. Can you please elaborate what is the exact problem? And please include error logs. Your current log seems ok."},{"owner":{"account_id":1209663,"reputation":1888,"user_id":1178467,"accept_rate":50,"display_name":"Poonam Anthony"},"score":0,"creation_date":1463664007,"post_id":37314744,"comment_id":62168123,"body_markdown":"@noogui I have edited my question to include the complete error log. Please check. My program exits after printing this message. Even I can&#39;t understand the exact issue.","body":"@noogui I have edited my question to include the complete error log. Please check. My program exits after printing this message. Even I can&#39;t understand the exact issue."},{"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"score":0,"creation_date":1463754300,"post_id":37314744,"comment_id":62214585,"body_markdown":"Can you try Direct Connection for now as opposed to proxy connection to confirm it is indeed the root cause?","body":"Can you try Direct Connection for now as opposed to proxy connection to confirm it is indeed the root cause?"},{"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"score":0,"creation_date":1466127399,"post_id":37314744,"comment_id":63200142,"body_markdown":"were you able to resolve this?","body":"were you able to resolve this?"},{"owner":{"account_id":1209663,"reputation":1888,"user_id":1178467,"accept_rate":50,"display_name":"Poonam Anthony"},"score":0,"creation_date":1466430515,"post_id":37314744,"comment_id":63298817,"body_markdown":"@noogui no, I ended up doing away with the library and directly calling the Rest API using curl, in which I was successful.","body":"@noogui no, I ended up doing away with the library and directly calling the Rest API using curl, in which I was successful."},{"owner":{"account_id":880045,"reputation":864,"user_id":202328,"accept_rate":20,"display_name":"ammu"},"score":0,"creation_date":1468373156,"post_id":37314744,"comment_id":64096647,"body_markdown":"I am also facing same issues, any updates?","body":"I am also facing same issues, any updates?"},{"owner":{"account_id":1209663,"reputation":1888,"user_id":1178467,"accept_rate":50,"display_name":"Poonam Anthony"},"score":0,"creation_date":1468680575,"post_id":37314744,"comment_id":64232588,"body_markdown":"@ammu I did away with the library, and called the Rest API using curl through my code. As per my understanding proxy settings are currently not supported in the library.","body":"@ammu I did away with the library, and called the Rest API using curl through my code. As per my understanding proxy settings are currently not supported in the library."}],"answers":[{"tags":[],"owner":{"account_id":3674531,"reputation":11,"user_id":3060909,"display_name":"Quỷ Kiếm Sầu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473159729,"creation_date":1473158862,"answer_id":39347143,"question_id":37314744,"body_markdown":"You should define your proxy and HttpTransport:\r\n\r\n    final Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;your address&quot;, port));\r\n\tfinal HttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\r\n\r\n\t// Build flow and trigger user authorization request.\r\n\tGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n\t\t\t\t\t\t\t\t\t\t\t.setDataStoreFactory(DATA_STORE_FACTORY)\r\n\t\t\t\t\t\t\t\t\t\t\t.setAccessType(&quot;offline&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.build();","title":"Google Drive API Java client behind proxy","body":"<p>You should define your proxy and HttpTransport:</p>\n\n<pre><code>final Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"your address\", port));\nfinal HttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\n\n// Build flow and trigger user authorization request.\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n                                        .setDataStoreFactory(DATA_STORE_FACTORY)\n                                        .setAccessType(\"offline\")\n                                        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483444510,"creation_date":1483444510,"answer_id":41442981,"question_id":37314744,"body_markdown":"Starting from [this article][1] I simply had access to gsheets behind my corporate proxy just setting https proxy in this way\r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;myipproxyaddress&quot;);\r\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;myipproxyport&quot;);\r\n\r\n    HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    DATA_STORE_FACTORY = new FileDataStoreFactory(DATA_STORE_DIR);\r\n\r\nand with the remaining code as described in [this example][2] \r\nIt doesn&#39;t work if I only set http (not https) proxy\r\n\r\n  [1]: https://developers.google.com/gdata/articles/proxy_setup\r\n  [2]: https://developers.google.com/gmail/api/quickstart/java","title":"Google Drive API Java client behind proxy","body":"<p>Starting from <a href=\"https://developers.google.com/gdata/articles/proxy_setup\" rel=\"nofollow noreferrer\">this article</a> I simply had access to gsheets behind my corporate proxy just setting https proxy in this way</p>\n\n<pre><code>System.setProperty(\"https.proxyHost\", \"myipproxyaddress\");\nSystem.setProperty(\"https.proxyPort\", \"myipproxyport\");\n\nHTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\nDATA_STORE_FACTORY = new FileDataStoreFactory(DATA_STORE_DIR);\n</code></pre>\n\n<p>and with the remaining code as described in <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">this example</a> \nIt doesn't work if I only set http (not https) proxy</p>\n"},{"tags":[],"owner":{"account_id":1674807,"reputation":801,"user_id":1540592,"accept_rate":50,"display_name":"kekolab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688115047,"creation_date":1688115047,"answer_id":76587420,"question_id":37314744,"body_markdown":"It&#39;s 2023 and I have been still struggling with this, so, although the question is quite old, I put here my solutions as well.\r\nSo, I managed to go through an authenticated proxy by:\r\n\r\n 1. Defining a HTTPTransport (I used the ApacheHttpTransport) this way:\r\n```\r\nprivate HttpTransport buildTransport() {\t\t\r\n\tHttpClientBuilder clientBuilder = ApacheHttpTransport.newDefaultHttpClientBuilder();\t\t\t\r\n\t\tString proxyHost = HOSTNAME;\r\n\t\tint proxyPort = PORT;\t\t\t\r\n\t\tHttpHost proxy = new HttpHost(proxyHost, proxyPort);\r\n\t\tclientBuilder.setProxy(proxy);\r\n\t\tString proxyUsername = USERNAME_OR_NULL;\r\n\t\tString proxyPassword = PASSWORD_OR_NULL;\r\n\t\tif (proxyUsername != null &amp;&amp; proxyPassword != null) {\r\n\t\t\tCredentialsProvider proxyCredentialsProvider = new BasicCredentialsProvider();\r\n\t\t\tproxyCredentialsProvider.setCredentials(new AuthScope(proxyHost, proxyPort), \r\n\t\t\t\t\tnew UsernamePasswordCredentials(proxyUsername, proxyPassword));\t\t\t\r\n\t\t\tclientBuilder.setDefaultCredentialsProvider(proxyCredentialsProvider);\r\n\t\t}\r\n\t\tclientBuilder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\r\n\t\tclientBuilder.setRoutePlanner(new DefaultProxyRoutePlanner(proxy)); // The magic happens here\t\t\r\n\treturn new ApacheHttpTransport(clientBuilder.build());\r\n}\r\n```\r\n 2. Using it when building the AuthorizationCodeFlow:\r\n```\r\nHttpTransport transport = buildTransport();\r\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(transport, new GsonFactory(), CLIENT_ID, CLIENT_SECRET, SCOPES).build();\r\n```\r\n 3. Or when building the Credentials:\r\n```\r\nCredential credential = new Credential.Builder(BearerToken.authorizationHeaderAccessMethod())\r\n\t\t.addRefreshListener(this)\r\n\t\t.setClientAuthentication(new ClientParametersAuthentication(CLIENT_ID, CLIENT_SECRET))\r\n\t\t.setJsonFactory(new GsonFactory())\r\n\t\t.setTokenServerUrl(TOKEN_URL)\r\n\t\t.setTransport(transport)\r\n\t\t.build()\r\n\t\t.setAccessToken(state.getAccessToken())\r\n\t\t.setExpirationTimeMilliseconds(state.getExpirationMillis())\r\n\t\t.setRefreshToken(state.getRefreshToken());\r\n```\r\n\r\nI hope it helps and I hope I will be able to find this post when I will need it in the future... ...because I know I will.","title":"Google Drive API Java client behind proxy","body":"<p>It's 2023 and I have been still struggling with this, so, although the question is quite old, I put here my solutions as well.\nSo, I managed to go through an authenticated proxy by:</p>\n<ol>\n<li>Defining a HTTPTransport (I used the ApacheHttpTransport) this way:</li>\n</ol>\n<pre><code>private HttpTransport buildTransport() {        \n    HttpClientBuilder clientBuilder = ApacheHttpTransport.newDefaultHttpClientBuilder();            \n        String proxyHost = HOSTNAME;\n        int proxyPort = PORT;           \n        HttpHost proxy = new HttpHost(proxyHost, proxyPort);\n        clientBuilder.setProxy(proxy);\n        String proxyUsername = USERNAME_OR_NULL;\n        String proxyPassword = PASSWORD_OR_NULL;\n        if (proxyUsername != null &amp;&amp; proxyPassword != null) {\n            CredentialsProvider proxyCredentialsProvider = new BasicCredentialsProvider();\n            proxyCredentialsProvider.setCredentials(new AuthScope(proxyHost, proxyPort), \n                    new UsernamePasswordCredentials(proxyUsername, proxyPassword));         \n            clientBuilder.setDefaultCredentialsProvider(proxyCredentialsProvider);\n        }\n        clientBuilder.setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy());\n        clientBuilder.setRoutePlanner(new DefaultProxyRoutePlanner(proxy)); // The magic happens here       \n    return new ApacheHttpTransport(clientBuilder.build());\n}\n</code></pre>\n<ol start=\"2\">\n<li>Using it when building the AuthorizationCodeFlow:</li>\n</ol>\n<pre><code>HttpTransport transport = buildTransport();\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(transport, new GsonFactory(), CLIENT_ID, CLIENT_SECRET, SCOPES).build();\n</code></pre>\n<ol start=\"3\">\n<li>Or when building the Credentials:</li>\n</ol>\n<pre><code>Credential credential = new Credential.Builder(BearerToken.authorizationHeaderAccessMethod())\n        .addRefreshListener(this)\n        .setClientAuthentication(new ClientParametersAuthentication(CLIENT_ID, CLIENT_SECRET))\n        .setJsonFactory(new GsonFactory())\n        .setTokenServerUrl(TOKEN_URL)\n        .setTransport(transport)\n        .build()\n        .setAccessToken(state.getAccessToken())\n        .setExpirationTimeMilliseconds(state.getExpirationMillis())\n        .setRefreshToken(state.getRefreshToken());\n</code></pre>\n<p>I hope it helps and I hope I will be able to find this post when I will need it in the future... ...because I know I will.</p>\n"}],"owner":{"account_id":1209663,"reputation":1888,"user_id":1178467,"accept_rate":50,"display_name":"Poonam Anthony"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4054,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688115047,"creation_date":1463636596,"question_id":37314744,"body_markdown":"I am trying to write a java client for Drive API using [Drive API v2][1]. However I am getting an error while trying to perform OAuth2 Authentication in my code. I think this might be a proxy issue, which I tried to resolve by setting proxy in my code, but it did not help.\r\n\r\n[This][2] is the guide which I referred to, for writing my program.\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n    public static Credential authorize() throws IOException {\r\n\t\t        // Load client secrets.\r\n\t\t    \tCredential credential = null;\r\n\t\t    \t\r\n\t\t    \ttry{\r\n\t\t       \r\n\t\t        GoogleClientSecrets clientSecrets =\r\n\t\t            GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(new FileInputStream(&quot;client_secret.json&quot;)));\r\n\r\n\t\t        // Build flow and trigger user authorization request.\r\n\r\n\t\t        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n\t\t        \t      HTTP_TRANSPORT, JSON_FACTORY, clientSecrets,\r\n\t\t        \t      Collections.singleton(DriveScopes.DRIVE)).setDataStoreFactory(\r\n\t\t        \t      DATA_STORE_FACTORY).build();\r\n\t\t        \r\n\t\t        credential = new AuthorizationCodeInstalledApp(\r\n\t\t            flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n\t\t        \r\n\t\t        System.out.println(\r\n\t\t                &quot;Credentials saved to &quot; + DATA_STORE_DIR.getAbsolutePath());\r\n\t\t    \t}catch(Exception e){\r\n\t\t\t        e.printStackTrace(); System.exit(0);\r\n\t\t\t    \t}\r\n\t\t        return credential;\r\n\t\t        \r\n\t\t    }\r\n\r\n\t\t    /**\r\n\t\t     * Build and return an authorized Drive client service.\r\n\t\t     * @return an authorized Drive client service\r\n\t\t     * @throws IOException\r\n\t\t     */\r\n\t\t    public static Drive getDriveService() throws IOException {\r\n\t\t    \tSystem.setProperty(&quot;http.proxyHost&quot;,&quot;10.3.100.207&quot;) ;\r\n\t\t    \tSystem.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;) ;\r\n\t\t    \t\r\n\t\t        Credential credential = authorize();\r\n\t\t        return new Drive.Builder(\r\n\t\t                HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n\t\t                .setApplicationName(APPLICATION_NAME)\r\n\t\t                .build();\r\n\t\t    }\r\n\r\n\r\nHere&#39;s the stacktrace:\r\n  \r\n\r\n    2016-05-19 18:41:54.989:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\r\n    2016-05-19 18:41:54.990:INFO::jetty-6.1.26\r\n    2016-05-19 18:41:55.001:INFO::Started SocketConnector@localhost:51307\r\n    Please open the following address in your browser:\r\n      https://accounts.google.com/o/oauth2/auth?client_id=904439877486-uqiqmstss1bdcmhabt0gom905jo3hqsv.apps.googleusercontent.com&amp;redirect_uri=http://localhost:51307/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/drive\r\n    2016-05-19 18:42:28.496:INFO::Stopped SocketConnector@localhost:51307\r\n    java.net.UnknownHostException: accounts.google.com\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:589)\r\n\tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n\tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n\tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:77)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:981)\r\n\tat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:283)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:158)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:79)\r\n\tat com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:82)\r\n\tat DriveAPITest.authorize(DriveAPITest.java:84)\r\n\tat DriveAPITest.getDriveService(DriveAPITest.java:104)\r\n\tat DriveAPITest.main(DriveAPITest.java:116)\r\n    Exception in thread &quot;main&quot; java.net.UnknownHostException: www.googleapis.com\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:589)\r\n\tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n\tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n\tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:93)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:981)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n\tat DriveAPITest.main(DriveAPITest.java:121)\r\n\r\n\r\nI opened the authentication link my browser and after approving the permissions it showed the following message : \r\n\r\n&gt; Received verification code. You may now close this window...\r\n\r\nHope someone can point me in the right direction.\r\n\r\n  [1]: https://developers.google.com/resources/api-libraries/documentation/drive/v2/java/latest/\r\n  [2]: https://developers.google.com/drive/v2/web/quickstart/java#prerequisites","title":"Google Drive API Java client behind proxy","body":"<p>I am trying to write a java client for Drive API using <a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v2/java/latest/\" rel=\"nofollow\">Drive API v2</a>. However I am getting an error while trying to perform OAuth2 Authentication in my code. I think this might be a proxy issue, which I tried to resolve by setting proxy in my code, but it did not help.</p>\n\n<p><a href=\"https://developers.google.com/drive/v2/web/quickstart/java#prerequisites\" rel=\"nofollow\">This</a> is the guide which I referred to, for writing my program.</p>\n\n<p>Here's a snippet of my code:</p>\n\n<pre><code>public static Credential authorize() throws IOException {\n            // Load client secrets.\n            Credential credential = null;\n\n            try{\n\n            GoogleClientSecrets clientSecrets =\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(new FileInputStream(\"client_secret.json\")));\n\n            // Build flow and trigger user authorization request.\n\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                      HTTP_TRANSPORT, JSON_FACTORY, clientSecrets,\n                      Collections.singleton(DriveScopes.DRIVE)).setDataStoreFactory(\n                      DATA_STORE_FACTORY).build();\n\n            credential = new AuthorizationCodeInstalledApp(\n                flow, new LocalServerReceiver()).authorize(\"user\");\n\n            System.out.println(\n                    \"Credentials saved to \" + DATA_STORE_DIR.getAbsolutePath());\n            }catch(Exception e){\n                e.printStackTrace(); System.exit(0);\n                }\n            return credential;\n\n        }\n\n        /**\n         * Build and return an authorized Drive client service.\n         * @return an authorized Drive client service\n         * @throws IOException\n         */\n        public static Drive getDriveService() throws IOException {\n            System.setProperty(\"http.proxyHost\",\"10.3.100.207\") ;\n            System.setProperty(\"http.proxyPort\", \"8080\") ;\n\n            Credential credential = authorize();\n            return new Drive.Builder(\n                    HTTP_TRANSPORT, JSON_FACTORY, credential)\n                    .setApplicationName(APPLICATION_NAME)\n                    .build();\n        }\n</code></pre>\n\n<p>Here's the stacktrace:</p>\n\n<pre><code>2016-05-19 18:41:54.989:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\n2016-05-19 18:41:54.990:INFO::jetty-6.1.26\n2016-05-19 18:41:55.001:INFO::Started SocketConnector@localhost:51307\nPlease open the following address in your browser:\n  https://accounts.google.com/o/oauth2/auth?client_id=904439877486-uqiqmstss1bdcmhabt0gom905jo3hqsv.apps.googleusercontent.com&amp;redirect_uri=http://localhost:51307/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/drive\n2016-05-19 18:42:28.496:INFO::Stopped SocketConnector@localhost:51307\njava.net.UnknownHostException: accounts.google.com\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:589)\nat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\nat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:77)\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:981)\nat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:283)\nat com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:158)\nat com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:79)\nat com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:82)\nat DriveAPITest.authorize(DriveAPITest.java:84)\nat DriveAPITest.getDriveService(DriveAPITest.java:104)\nat DriveAPITest.main(DriveAPITest.java:116)\nException in thread \"main\" java.net.UnknownHostException: www.googleapis.com\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:589)\nat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\nat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\nat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:93)\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:981)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\nat DriveAPITest.main(DriveAPITest.java:121)\n</code></pre>\n\n<p>I opened the authentication link my browser and after approving the permissions it showed the following message : </p>\n\n<blockquote>\n  <p>Received verification code. You may now close this window...</p>\n</blockquote>\n\n<p>Hope someone can point me in the right direction.</p>\n"},{"tags":["java","sockets","asynchronous","nio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1387843851,"post_id":20752756,"comment_id":31100293,"body_markdown":"Timeouts are for blocking operations. This is an async operation. The question doesn&#39;t make sense.","body":"Timeouts are for blocking operations. This is an async operation. The question doesn&#39;t make sense."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1387844312,"post_id":20752756,"comment_id":31100411,"body_markdown":"@EJP - it does from the perspective of not wanting to wait around forever for a socket to connect even when your operations are async. That said, It&#39;s tricky to do, even in C. You have to use `select()` with a timeout with the socket in non-blocking mode. I&#39;d really have to dig to figure out how to do that with NIO2 - it may not even be possible given how that&#39;s all abstracted away from you.","body":"@EJP - it does from the perspective of not wanting to wait around forever for a socket to connect even when your operations are async. That said, It&#39;s tricky to do, even in C. You have to use <code>select()</code> with a timeout with the socket in non-blocking mode. I&#39;d really have to dig to figure out how to do that with NIO2 - it may not even be possible given how that&#39;s all abstracted away from you."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1387848619,"post_id":20752756,"comment_id":31101287,"body_markdown":"@Brian There is no &#39;waiting around forever&#39;. The default connection timeout is around a minute, platform-dependent. I&#39;m aware how to do it in blocking and non-blocking mode, thanks, and I agree with your statement in your answer below that you can&#39;t in async mode given the existing Java APIs. They should have provided a timeout parameter to the connect method so that the `CompletionHandler` could get called earlier (noting that whatever technique you use at whatever level, you can only decrease the connect timeout, not increase it).","body":"@Brian There is no &#39;waiting around forever&#39;. The default connection timeout is around a minute, platform-dependent. I&#39;m aware how to do it in blocking and non-blocking mode, thanks, and I agree with your statement in your answer below that you can&#39;t in async mode given the existing Java APIs. They should have provided a timeout parameter to the connect method so that the <code>CompletionHandler</code> could get called earlier (noting that whatever technique you use at whatever level, you can only decrease the connect timeout, not increase it)."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1387849096,"post_id":20752756,"comment_id":31101382,"body_markdown":"@EJP Sorry, I didn&#39;t mean to imply *you* didn&#39;t ... when I posted the comment that part was meant as a general statement for the OP / other readers, then I decided to answer the Q. Agree that they should have included it in the API. And to clarify &quot;wait around forever&quot; meaning the default timeout.","body":"@EJP Sorry, I didn&#39;t mean to imply <i>you</i> didn&#39;t ... when I posted the comment that part was meant as a general statement for the OP / other readers, then I decided to answer the Q. Agree that they should have included it in the API. And to clarify &quot;wait around forever&quot; meaning the default timeout."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1387854412,"post_id":20752756,"comment_id":31102490,"body_markdown":"@Brian I think what is missing from the NIO2 API is asynchronous selectors (`WSAAsyncSelect()` or `WSAEventSelect()`), which is how you would have to implement it in Winsock. Maybe they only exist in Winsock: I&#39;m not familiar with the Unix async APIs.","body":"@Brian I think what is missing from the NIO2 API is asynchronous selectors (<code>WSAAsyncSelect()</code> or <code>WSAEventSelect()</code>), which is how you would have to implement it in Winsock. Maybe they only exist in Winsock: I&#39;m not familiar with the Unix async APIs."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1387856698,"post_id":20752756,"comment_id":31102953,"body_markdown":"Yeah, I&#39;m the opposite, have never worked in windows.","body":"Yeah, I&#39;m the opposite, have never worked in windows."}],"answers":[{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1387847989,"creation_date":1387847522,"answer_id":20753518,"question_id":20752756,"body_markdown":"The answer is: you can&#39;t.\r\n\r\nThe first thing to understand is how a TCP connect works. The kernel is sending SYN packets, backing off the time between each retry. This can be tuned via kernel parameters. An article covering this in detail (for linux) can be found [here](http://www.sekuda.com/overriding_the_default_linux_kernel_20_second_tcp_socket_connect_timeout)\r\n\r\nTo give you an idea of what&#39;s involved to implement your own *shorter* timeout for a socket connect is to put the socket in nonblocking mode, throw it in a `select()` with a timeout, then use `getsockopt()` to see what happened. [This StackOverflow answer](https://stackoverflow.com/a/2597774/302916) shows how this works.\r\n\r\nWith NIO.2, the connection process is handled for you using threads that you don&#39;t have access to. Unfortunately there&#39;s no way to tell it you want a shorter timeout on connects; it just calls your completion handler / notifies the `Future` when the connection either succeeds of fails (including timing out). \r\n\r\nYou do have the option of calling `get(timeout, unit)` on the returned `Future`, then cancelling the `Future`if it times out ... but that means if you want the connect to be async you have to add another layer of threading / callbacks and may as well just implement your own async thing with nio.\r\n\r\nOne last thing worth mentioning since you&#39;re looking at async network stuff is that [Netty](http://netty.io) does give this to you (using Nio):\r\n\r\n\r\n    Bootstrap bootstrap = new Bootstrap()\r\n                .group(new NioEventLoopGroup())\r\n                .channel(NioSocketChannel.class)\r\n                .remoteAddress(new InetSocketAddress(remoteAddress, port))\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout);\r\n\r\n    ChannelFuture f = bootstrap.connect();\r\n\r\nAnd you can register a listener with that `ChannelFuture` for a callback. \r\n\r\n  ","title":"How to set Java NIO AsynchronousSocketChannel connect timeout","body":"<p>The answer is: you can't.</p>\n\n<p>The first thing to understand is how a TCP connect works. The kernel is sending SYN packets, backing off the time between each retry. This can be tuned via kernel parameters. An article covering this in detail (for linux) can be found <a href=\"http://www.sekuda.com/overriding_the_default_linux_kernel_20_second_tcp_socket_connect_timeout\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>To give you an idea of what's involved to implement your own <em>shorter</em> timeout for a socket connect is to put the socket in nonblocking mode, throw it in a <code>select()</code> with a timeout, then use <code>getsockopt()</code> to see what happened. <a href=\"https://stackoverflow.com/a/2597774/302916\">This StackOverflow answer</a> shows how this works.</p>\n\n<p>With NIO.2, the connection process is handled for you using threads that you don't have access to. Unfortunately there's no way to tell it you want a shorter timeout on connects; it just calls your completion handler / notifies the <code>Future</code> when the connection either succeeds of fails (including timing out). </p>\n\n<p>You do have the option of calling <code>get(timeout, unit)</code> on the returned <code>Future</code>, then cancelling the <code>Future</code>if it times out ... but that means if you want the connect to be async you have to add another layer of threading / callbacks and may as well just implement your own async thing with nio.</p>\n\n<p>One last thing worth mentioning since you're looking at async network stuff is that <a href=\"http://netty.io\" rel=\"nofollow noreferrer\">Netty</a> does give this to you (using Nio):</p>\n\n<pre><code>Bootstrap bootstrap = new Bootstrap()\n            .group(new NioEventLoopGroup())\n            .channel(NioSocketChannel.class)\n            .remoteAddress(new InetSocketAddress(remoteAddress, port))\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout);\n\nChannelFuture f = bootstrap.connect();\n</code></pre>\n\n<p>And you can register a listener with that <code>ChannelFuture</code> for a callback. </p>\n"}],"owner":{"account_id":3160645,"reputation":153,"user_id":2671856,"accept_rate":17,"display_name":"Joe Lin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20753518,"answer_count":1,"score":8,"last_activity_date":1688114976,"creation_date":1387841325,"question_id":20752756,"body_markdown":"Looking at JDK 1.7 API. I cannot seem to be able to set a connection timeout on an AsynchonousSocketChannel. \r\n\r\nIs there any way I can set up a connection timeout on such a channel?\r\n","title":"How to set Java NIO AsynchronousSocketChannel connect timeout","body":"<p>Looking at JDK 1.7 API. I cannot seem to be able to set a connection timeout on an AsynchonousSocketChannel.</p>\n<p>Is there any way I can set up a connection timeout on such a channel?</p>\n"},{"tags":["java","mysql","spring","jdbc","spring-data"],"comments":[{"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"score":0,"creation_date":1663912872,"post_id":33123985,"comment_id":130355107,"body_markdown":"It simply means mysql dependency is missing in your pom file. Please add it then reload.","body":"It simply means mysql dependency is missing in your pom file. Please add it then reload."}],"answers":[{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1685259581,"creation_date":1444822012,"answer_id":33124093,"question_id":33123985,"body_markdown":"If you&#39;re using Maven, add this to your `pom.xml`:\r\n\r\n(Recommended) For `MySQL 5.6, 5.7, 8.x` and `Java &gt;= 8` use;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(Legacy) For `MySQL &lt;= 5.5` or `Java &lt;= 7` or `JDBC &lt; 4.2` use;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.49&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n[More details on Connector/J versions](https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-versions.html)\r\n\r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>If you're using Maven, add this to your <code>pom.xml</code>:</p>\n<p>(Recommended) For <code>MySQL 5.6, 5.7, 8.x</code> and <code>Java &gt;= 8</code> use;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.33&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(Legacy) For <code>MySQL &lt;= 5.5</code> or <code>Java &lt;= 7</code> or <code>JDBC &lt; 4.2</code> use;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.49&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-versions.html\" rel=\"noreferrer\">More details on Connector/J versions</a></p>\n"},{"tags":[],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505151822,"creation_date":1505151822,"answer_id":46161527,"question_id":33123985,"body_markdown":"Probably someone still needs an answer (as me before) I solved it by adding the following dependency\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>Probably someone still needs an answer (as me before) I solved it by adding the following dependency</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5755175,"reputation":2833,"user_id":4543382,"display_name":"cegas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517821052,"creation_date":1517821052,"answer_id":48618783,"question_id":33123985,"body_markdown":"The crux of the problem is that you&#39;re missing MySQL driver dependency.\r\n\r\nOne of the ways, as outlined by other answers, is to specify it in your build tool&#39;s configuration. However, if you do not want to do it and are using IntelliJ IDEA (though I&#39;m pretty sure Eclipse has something similar), you can also add the dependency via it. Steps:\r\n\r\n 1. Download desired jar from [maven repository][1]\r\n 2. Open your project in Intellij IDEA\r\n 3. File -&gt; Project Structure -&gt; Libraries\r\n 4. Click New Project Library (green plus sign on the left), or press Alt + Insert keys\r\n 5. Select Java\r\n 6. Select your jar\r\n 7. Press OK\r\n\r\nShould look something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow you should be able to use the dependency you have just added. \r\n\r\nTested with IntelliJ IDEA 2017.3.4.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n  [2]: https://i.stack.imgur.com/Gxuu9.png","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>The crux of the problem is that you're missing MySQL driver dependency.</p>\n\n<p>One of the ways, as outlined by other answers, is to specify it in your build tool's configuration. However, if you do not want to do it and are using IntelliJ IDEA (though I'm pretty sure Eclipse has something similar), you can also add the dependency via it. Steps:</p>\n\n<ol>\n<li>Download desired jar from <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">maven repository</a></li>\n<li>Open your project in Intellij IDEA</li>\n<li>File -> Project Structure -> Libraries</li>\n<li>Click New Project Library (green plus sign on the left), or press Alt + Insert keys</li>\n<li>Select Java</li>\n<li>Select your jar</li>\n<li>Press OK</li>\n</ol>\n\n<p>Should look something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gxuu9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gxuu9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you should be able to use the dependency you have just added. </p>\n\n<p>Tested with IntelliJ IDEA 2017.3.4.</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530800199,"creation_date":1530800199,"answer_id":51193609,"question_id":33123985,"body_markdown":"I will share more causes of this error:\r\n\r\n - I already seen this error many times **using Intellij IDEA** and running some integration test. The test fail with the message: `Caused by: java.lang.IllegalStateException: Cannot load driver class: org.h2.Driver`. After rebuild the project (Build &gt; Rebuild Project) the error disappears.\r\n - Another cause of this error is a **corrupted JAR**. A college was receiving this error (also trying to run integration tests) and, after delete some related jars on `.m2` directory, the error was gone.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>I will share more causes of this error:</p>\n\n<ul>\n<li>I already seen this error many times <strong>using Intellij IDEA</strong> and running some integration test. The test fail with the message: <code>Caused by: java.lang.IllegalStateException: Cannot load driver class: org.h2.Driver</code>. After rebuild the project (Build > Rebuild Project) the error disappears.</li>\n<li>Another cause of this error is a <strong>corrupted JAR</strong>. A college was receiving this error (also trying to run integration tests) and, after delete some related jars on <code>.m2</code> directory, the error was gone.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6432686,"reputation":207,"user_id":4985179,"display_name":"Brijesh"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1548599265,"creation_date":1548598171,"answer_id":54389011,"question_id":33123985,"body_markdown":"It might be that you are using the deprecated driver class name. I solved it by updating the property in application.properties file.\r\n\r\n`spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver`\r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>It might be that you are using the deprecated driver class name. I solved it by updating the property in application.properties file.</p>\n\n<p><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code></p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549439120,"creation_date":1549439120,"answer_id":54548775,"question_id":33123985,"body_markdown":"I encountered the same problem now and solved it after providing the required dependency, \r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.15&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>I encountered the same problem now and solved it after providing the required dependency, </p>\n\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.15&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157394,"reputation":51,"user_id":4130245,"display_name":"SatyaRajC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552645884,"creation_date":1552645884,"answer_id":55180586,"question_id":33123985,"body_markdown":"build.gradle\r\n\r\n&gt;     runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n\r\napplication.yml\r\n\r\n    spring: \r\n        application:\r\n            name: apevent\r\n            version: 1.0\r\n        datasource:\r\n            driverClassName: com.mysql.jdbc.Driver\r\n            url: jdbc:mysql://localhost:3306/applicaiton","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>build.gradle</p>\n\n<blockquote>\n<pre><code>runtimeOnly 'mysql:mysql-connector-java'\n</code></pre>\n</blockquote>\n\n<p>application.yml</p>\n\n<pre><code>spring: \n    application:\n        name: apevent\n        version: 1.0\n    datasource:\n        driverClassName: com.mysql.jdbc.Driver\n        url: jdbc:mysql://localhost:3306/applicaiton\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12504363,"reputation":1139,"user_id":9101688,"display_name":"HA S"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1564550700,"creation_date":1564550700,"answer_id":57283755,"question_id":33123985,"body_markdown":"Just confirm the following things.\r\n\r\n1. If you are under proxy make sure use VPN to connect to internal servers, iif you are accessing DEV/STG servers\r\n\r\n2. Make sure you add the following dependency inside correct location, like this\r\n\r\n    `&lt;dependencies&gt; &lt;--- inside this section\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n`\r\n\r\n**and Not in**\r\n\r\n    `&lt;build&gt; &lt;--- Not this section\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;/build&gt;\r\n`\r\n3. And you don&#39;t need to use the following line \r\n\r\n    `spring.datasource.driver-class-name=com.mysql.jdbc.Driver. \r\n\r\nThe spring.datasource.url=jdbc:mysql://xxxxx` automatically know which driver to fetch.\r\n\r\n    \r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>Just confirm the following things.</p>\n\n<ol>\n<li><p>If you are under proxy make sure use VPN to connect to internal servers, iif you are accessing DEV/STG servers</p></li>\n<li><p>Make sure you add the following dependency inside correct location, like this</p>\n\n<p><code>&lt;dependencies&gt; &lt;--- inside this section\n&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.15&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></p></li>\n</ol>\n\n<p><strong>and Not in</strong></p>\n\n<pre><code>`&lt;build&gt; &lt;--- Not this section\n&lt;dependencies&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>\n\n`\n3. And you don't need to use the following line </p>\n\n<pre><code>`spring.datasource.driver-class-name=com.mysql.jdbc.Driver. \n</code></pre>\n\n<p>The spring.datasource.url=jdbc:mysql://xxxxx` automatically know which driver to fetch.</p>\n"},{"tags":[],"owner":{"account_id":10447957,"reputation":329,"user_id":7702483,"display_name":"tyrantqiao"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1607010541,"creation_date":1604820336,"answer_id":64735750,"question_id":33123985,"body_markdown":"If you are using IDEA and maven, you might forget reloading all maven projects, which causes the dependencies don&#39;t have the MySQL connector jar. And that&#39;s why when u run the application, there will be the error remind &quot;com.mysql.cj.jdbc.Driver&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7it7S.png","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>If you are using IDEA and maven, you might forget reloading all maven projects, which causes the dependencies don't have the MySQL connector jar. And that's why when u run the application, there will be the error remind &quot;com.mysql.cj.jdbc.Driver&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/7it7S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7it7S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625727146,"creation_date":1625727146,"answer_id":68296879,"question_id":33123985,"body_markdown":"adding the following dependency solved my issue\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>adding the following dependency solved my issue</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632951530,"creation_date":1632951530,"answer_id":69383622,"question_id":33123985,"body_markdown":"For People who uses Gradle 8.0 and beyond. I had to use\r\n\r\n`implementation &#39;mysql:mysql-connector-java:8.0.26&#39;`\r\n\r\n instead of \r\n\r\n`implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.26&#39;\r\n`,\r\n\r\nmy application.yml looks like:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driverClassName: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://localhost:3306/&lt;Your DB name&gt;?useSSL=false\r\n```\r\n\r\nremember to reload your gradle file\r\n\r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>For People who uses Gradle 8.0 and beyond. I had to use</p>\n<p><code>implementation 'mysql:mysql-connector-java:8.0.26'</code></p>\n<p>instead of</p>\n<p><code>implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.26' </code>,</p>\n<p>my application.yml looks like:</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/&lt;Your DB name&gt;?useSSL=false\n</code></pre>\n<p>remember to reload your gradle file</p>\n"},{"tags":[],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647589642,"creation_date":1647589642,"answer_id":71523822,"question_id":33123985,"body_markdown":"I know this might be a little late but maybe anyone from the future might find this answer helpful. \r\nThis problem arises from potentially three reasons \r\n\r\n\r\n     \r\n\r\n - Incorrect **maven or Gradle** configuration\r\n        \r\n - Incorrect spring configuration in the **application.properties file**\r\n\r\n       \r\n\r\n - Wrong **class name** on the application.properties file.\r\n\r\n - To troubleshoot if you are using maven. **do not include the version name**. This mostly is a recipe for problems, especially in huge applications. use maven autocompletes features to save you a little time.\r\n\r\n - configure the data source correctly. There are a lot of answers on it to this question. make sure it&#39;s correct. sometimes there is a `cj` that is missing or included where it&#39;s not supposed to be. Trial and error might help you discover the problem\r\n\r\nif neither of the above options works. **Remove** `spring.datasource.driver-class-name=com.mysql.jdbc.driver` completely. I don&#39;t know if it magic but this last one worked for me. \r\n\r\nGO NERDS!!!\r\n\r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>I know this might be a little late but maybe anyone from the future might find this answer helpful.\nThis problem arises from potentially three reasons</p>\n<ul>\n<li><p>Incorrect <strong>maven or Gradle</strong> configuration</p>\n</li>\n<li><p>Incorrect spring configuration in the <strong>application.properties file</strong></p>\n</li>\n<li><p>Wrong <strong>class name</strong> on the application.properties file.</p>\n</li>\n<li><p>To troubleshoot if you are using maven. <strong>do not include the version name</strong>. This mostly is a recipe for problems, especially in huge applications. use maven autocompletes features to save you a little time.</p>\n</li>\n<li><p>configure the data source correctly. There are a lot of answers on it to this question. make sure it's correct. sometimes there is a <code>cj</code> that is missing or included where it's not supposed to be. Trial and error might help you discover the problem</p>\n</li>\n</ul>\n<p>if neither of the above options works. <strong>Remove</strong> <code>spring.datasource.driver-class-name=com.mysql.jdbc.driver</code> completely. I don't know if it magic but this last one worked for me.</p>\n<p>GO NERDS!!!</p>\n"},{"tags":[],"owner":{"account_id":25733334,"reputation":1,"user_id":19488541,"display_name":"Nguyễn Đức Khải"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657037344,"creation_date":1657037344,"answer_id":72872531,"question_id":33123985,"body_markdown":"My problem is solved just by refresh the project, perhap the dependency did not load by the time you run the application","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>My problem is solved just by refresh the project, perhap the dependency did not load by the time you run the application</p>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658909074,"creation_date":1658909074,"answer_id":73134277,"question_id":33123985,"body_markdown":"I had the same issue. It happened because I forgot to declare the MySQL connector dependency in my pom file. I added the dependency, then boom! The error went away.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>I had the same issue. It happened because I forgot to declare the MySQL connector dependency in my pom file. I added the dependency, then boom! The error went away.</p>\n"},{"tags":[],"owner":{"account_id":24898885,"reputation":41,"user_id":18769801,"display_name":"Roman S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688114888,"creation_date":1688114888,"answer_id":76587405,"question_id":33123985,"body_markdown":"If you are using `maven-shade-plugin` to package your application in a **fat jar**, make sure you don&#39;t use its `&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;` option \r\n because this option will remove some classes from target jar. In my case it was the driver class and when I tried to deploy my app to k8s I got the error `org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class &#39;oracle.jdbc.OracleDriver&#39;` because class was not present in `my_fat_jar/oracle/jdbc` folder.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<p>If you are using <code>maven-shade-plugin</code> to package your application in a <strong>fat jar</strong>, make sure you don't use its <code>&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;</code> option\nbecause this option will remove some classes from target jar. In my case it was the driver class and when I tried to deploy my app to k8s I got the error <code>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class 'oracle.jdbc.OracleDriver'</code> because class was not present in <code>my_fat_jar/oracle/jdbc</code> folder.</p>\n"}],"owner":{"account_id":6739712,"reputation":581,"user_id":5193316,"display_name":"voidcurser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177600,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":15,"score":58,"last_activity_date":1688114888,"creation_date":1444821726,"question_id":33123985,"body_markdown":"    spring.freemarker.cache:false\r\n    \r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost/mydb\r\n    spring.datasource.username=user\r\n    spring.datasource.password=pass\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n\r\nim getting this error even with the driver-class-name difined \r\n\r\n\r\n\r\n\r\n\r\n&gt; java.lang.IllegalStateException: Cannot load driver class:\r\n&gt; com.mysql.jdbc.Driver \tat\r\n&gt; org.springframework.util.Assert.state(Assert.java:392)\r\n&gt; ~[spring-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] \tat\r\n&gt; org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:153)\r\n&gt; ~[spring-boot-autoconfigure-1.3.0.M5.jar:1.3.0.M5] \tat\r\n&gt; org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:119)\r\n&gt; ~[spring-boot-autoconfigure-1.3.0.M5.jar:1.3.0.M5] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; ~[na:1.8.0_60] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:1.8.0_60] \tat ......\r\n\r\nand it goes on","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring","body":"<pre><code>spring.freemarker.cache:false\n\n\nspring.datasource.url=jdbc:mysql://localhost/mydb\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>im getting this error even with the driver-class-name difined </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Cannot load driver class:\n  com.mysql.jdbc.Driver     at\n  org.springframework.util.Assert.state(Assert.java:392)\n  ~[spring-core-4.2.1.RELEASE.jar:4.2.1.RELEASE]    at\n  org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:153)\n  ~[spring-boot-autoconfigure-1.3.0.M5.jar:1.3.0.M5]    at\n  org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:119)\n  ~[spring-boot-autoconfigure-1.3.0.M5.jar:1.3.0.M5]    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  ~[na:1.8.0_60]    at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  ~[na:1.8.0_60]    at ......</p>\n</blockquote>\n\n<p>and it goes on</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":28908894,"reputation":1,"user_id":22142335,"display_name":"C&#233;sar Constanzo Delizoicov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688114811,"creation_date":1687921027,"answer_id":76569768,"question_id":76569523,"body_markdown":"The API is manifest with junit-jupiter-api. \r\nThe runtime is junit-jupiter-engine for JUnit 5, and junit-vintage-engine for JUnit 3 or 4.\r\n\r\nWe supply these two in test Implementation and timeRuntimeOnly, respectively:\r\n\r\n    dependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n\r\nYou&#39;ve only added one dependency","title":"Junit5 Testing library not recognized by IntelliJ Ultimate Edition","body":"<p>The API is manifest with junit-jupiter-api.\nThe runtime is junit-jupiter-engine for JUnit 5, and junit-vintage-engine for JUnit 3 or 4.</p>\n<p>We supply these two in test Implementation and timeRuntimeOnly, respectively:</p>\n<pre><code>dependencies {\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\ntestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n</code></pre>\n<p>You've only added one dependency</p>\n"},{"tags":[],"owner":{"account_id":18677871,"reputation":16,"user_id":13615141,"display_name":"Veeranjineyulu_pentela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687921531,"creation_date":1687921362,"answer_id":76569782,"question_id":76569523,"body_markdown":"[Intellij without Junit PLugin][1]\r\n\r\n\r\nIf you are only receiving the options as shown in the image while creating a test class through UI, your IntelliJ does not have the Junit plugin, or its in a disabled state.\r\n\r\n[INtellij Junit plugin][2]\r\n\r\nIf you enable the junit plugin. it will give you Junit, Junit5 options in UI\r\n\r\n  [1]: https://i.stack.imgur.com/oinzp.png\r\n  [2]: https://i.stack.imgur.com/Vr26M.png","title":"Junit5 Testing library not recognized by IntelliJ Ultimate Edition","body":"<p><a href=\"https://i.stack.imgur.com/oinzp.png\" rel=\"nofollow noreferrer\">Intellij without Junit PLugin</a></p>\n<p>If you are only receiving the options as shown in the image while creating a test class through UI, your IntelliJ does not have the Junit plugin, or its in a disabled state.</p>\n<p><a href=\"https://i.stack.imgur.com/Vr26M.png\" rel=\"nofollow noreferrer\">INtellij Junit plugin</a></p>\n<p>If you enable the junit plugin. it will give you Junit, Junit5 options in UI</p>\n"}],"owner":{"account_id":6407910,"reputation":119,"user_id":4968515,"accept_rate":50,"display_name":"Dhineshkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76569782,"answer_count":2,"score":0,"last_activity_date":1688114811,"creation_date":1687916146,"question_id":76569523,"body_markdown":"I am trying to create a Java project with Junit5 tests in IntelliJ IDEA 2023.1.1 (Ultimate Edition).\r\n\r\nJava version: Corretto-11.0.19.7.1\r\n\r\nFollowing is my project structure\r\n\r\n```\r\nmyJavaProject/\r\n├── build.gradle.kts\r\n├── gradle\r\n│&#160;&#160; └── wrapper\r\n│&#160;&#160;     ├── gradle-wrapper.jar\r\n│&#160;&#160;     └── gradle-wrapper.properties\r\n├── gradlew\r\n├── gradlew.bat\r\n├── settings.gradle.kts\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── org\r\n    │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160;         └── Main.java\r\n    │&#160;&#160; └── resources\r\n    └── test\r\n        ├── java\r\n        │&#160;&#160; └── org\r\n        │&#160;&#160;     └── example\r\n        └── resources\r\n```\r\n\r\n\r\nFollowing is my `build.gradle.kts` file\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.2&quot;)\r\n}\r\n\r\n\r\ntasks.test {\r\n    useJUnitPlatform()\r\n    systemProperty(&quot;junit.jupiter.conditions.deactivate&quot;, &quot;*&quot;)\r\n    systemProperty(&quot;junit.jupiter.extensions.autodetection.enabled&quot;, true)\r\n    systemProperty(&quot;junit.jupiter.testinstance.lifecycle.default&quot;, &quot;per_class&quot;)\r\n}\r\n``` \r\n\r\nI am trying to create a test for Main.java file as shown here - https://www.jetbrains.com/help/idea/create-tests.html\r\n\r\nWhen creating a test through UI, I don&#39;t see Junit5 as one of the option in the drop down menu. I verified that the correct directories are marked TestSourcesRoot, SourcesRoot, Resources Root and Test Resources Root.\r\n\r\nI am stuck with this issue for a while. Any help is appreciated. Please let me know if you need more info. from my side.\r\n\r\nThanks in advance.","title":"Junit5 Testing library not recognized by IntelliJ Ultimate Edition","body":"<p>I am trying to create a Java project with Junit5 tests in IntelliJ IDEA 2023.1.1 (Ultimate Edition).</p>\n<p>Java version: Corretto-11.0.19.7.1</p>\n<p>Following is my project structure</p>\n<pre><code>myJavaProject/\n├── build.gradle.kts\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n├── settings.gradle.kts\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── org\n    │   │       └── example\n    │   │           └── Main.java\n    │   └── resources\n    └── test\n        ├── java\n        │   └── org\n        │       └── example\n        └── resources\n</code></pre>\n<p>Following is my <code>build.gradle.kts</code> file</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.2&quot;)\n}\n\n\ntasks.test {\n    useJUnitPlatform()\n    systemProperty(&quot;junit.jupiter.conditions.deactivate&quot;, &quot;*&quot;)\n    systemProperty(&quot;junit.jupiter.extensions.autodetection.enabled&quot;, true)\n    systemProperty(&quot;junit.jupiter.testinstance.lifecycle.default&quot;, &quot;per_class&quot;)\n}\n</code></pre>\n<p>I am trying to create a test for Main.java file as shown here - <a href=\"https://www.jetbrains.com/help/idea/create-tests.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/create-tests.html</a></p>\n<p>When creating a test through UI, I don't see Junit5 as one of the option in the drop down menu. I verified that the correct directories are marked TestSourcesRoot, SourcesRoot, Resources Root and Test Resources Root.</p>\n<p>I am stuck with this issue for a while. Any help is appreciated. Please let me know if you need more info. from my side.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","object","netbeans","reference"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1688113701,"post_id":76587202,"comment_id":135033129,"body_markdown":"This is far too less information. Consider making a [mcve]. You are setting a static variable with a non-static method. That means, there is a certain duration between the initialization of the variable (with the value &quot;ROOT&quot;) and the resetting via the method call. When accessing that variable during that time, you will obviously get the value &quot;ROOT&quot;.","body":"This is far too less information. Consider making a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You are setting a static variable with a non-static method. That means, there is a certain duration between the initialization of the variable (with the value &quot;ROOT&quot;) and the resetting via the method call. When accessing that variable during that time, you will obviously get the value &quot;ROOT&quot;."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1688113767,"post_id":76587202,"comment_id":135033140,"body_markdown":"Additionally, this has nothing to do with the Java version. Maybe some enhancements in the JVM now reveals your problems, that were already lurking all the time.","body":"Additionally, this has nothing to do with the Java version. Maybe some enhancements in the JVM now reveals your problems, that were already lurking all the time."}],"answers":[{"tags":[],"owner":{"account_id":7267866,"reputation":49,"user_id":5541940,"display_name":"R.Basuki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1688114796,"creation_date":1688114796,"answer_id":76587393,"question_id":76587202,"body_markdown":"Doh! I was dumb. I found the answer. I instantiate a mid class called CheckIns in the Main.java. Checkins is the one that calls for the GuestDataProcessor, which also being instantiated at class level, and then GuestDataProcessor instantiate the log agent at the class level as well.\r\n\r\nSince java calls the class method initiation first, the set APP_ID did not get a chance to be set with new value before being called and thus returns the old value.\r\n\r\nWell, sorry for the mishaps.","title":"JAVA 20: Setting static value to a static variable sometimes return the original value of that variable. It never happened before Java 20 update","body":"<p>Doh! I was dumb. I found the answer. I instantiate a mid class called CheckIns in the Main.java. Checkins is the one that calls for the GuestDataProcessor, which also being instantiated at class level, and then GuestDataProcessor instantiate the log agent at the class level as well.</p>\n<p>Since java calls the class method initiation first, the set APP_ID did not get a chance to be set with new value before being called and thus returns the old value.</p>\n<p>Well, sorry for the mishaps.</p>\n"}],"owner":{"account_id":7267866,"reputation":49,"user_id":5541940,"display_name":"R.Basuki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688116905,"accepted_answer_id":76587393,"answer_count":1,"score":0,"last_activity_date":1688114796,"creation_date":1688113125,"question_id":76587202,"body_markdown":"I am trying to set a single variable that can be used as common application ID that will be set in the beginning of application loading. The original variable is set to some generic String &quot;ROOT&quot;. Amongst my classes, only one class, when calling that variable, returns ROOT instead of the set value.\r\n\r\nThis is the class that is called the first: Main.java that will do two things:\r\nFirst load Properties:\r\n\r\n    private void loadProp()\r\n    {\r\n      Constants.APP_ID = svr.getAppID(); //getAppID() returns simple String &quot;EMS&quot; and set to the APP_ID in the RootConstants. Constants extends RootConstants.\r\n    }\r\n\r\nRoot Constants APP_ID Declaration:\r\n\r\n    public static String APP_ID = &quot;ROOT&quot;; //This will be replaced with &quot;EMS&quot; when loadProp is called.\r\n\r\nSecond Main.java will call loadLog() method:\r\n\r\n    private void loadLog()\r\n    {\r\n        //Initiating the log agent first\r\n        la = LogAgent.getInstance(Constants.APP_ID);\r\n        System.out.println(&quot;The app id: &quot; + Constants.APP_ID + &quot; has loaded log: &quot; + la);\r\n    \r\n        //Adding the console log\r\n        console = new LogWriter();\r\n        la.addWriter(console);\r\n    }\r\n\r\nThen, I have a class that will be instantiating the log object by passing the APP_ID that is already set in the first time the program is loaded, It should be calling the Constants.APP_ID --&gt; which supposed to call RootConstants.APP_ID, with supposedly the newly set value of &quot;EMS&quot;, but however, instead of returning EMS when calling Constants.APP_ID, it returns &quot;ROOT&quot; (original declaration value). This happens only when I call the LogAgent getInstance() at the top class level.\r\n\r\n    public class GuestDataProcessor extends RootProcessor\r\n    {\r\n      /** Database helper for access processor. */\r\n      private GuestDataDB db;\r\n      \r\n      /** Log agent to be used to log everything. */\r\n      private LogAgent la = LogAgent.getInstance(Constants.APP_ID); //--&gt; This will return original value of &quot;ROOT&quot; \r\n    \r\n      public GuestDataBean getGuestData(String id)\r\n      {\r\n        la.system(&quot;Guest found: &quot; + g.getGuestCode() + &quot; | &quot; + g.getName()); //--&gt; This will show error as the log taken from wrong ID\r\n      }\r\n    }\r\n\r\nHowever, if I call the getInstance() at the method level. Everything works OK.\r\n\r\n    public class GuestDataProcessor extends RootProcessor\r\n    {\r\n      /** Database helper for access processor. */\r\n      private GuestDataDB db;\r\n      \r\n      /** Log agent to be used to log everything. */\r\n      private LogAgent la;\r\n    \r\n      public GuestDataBean getGuestData(String id)\r\n      {\r\n        la = LogAgent.getInstance(Constants.APP_ID); //--&gt; This will return The correct value of EMS\r\n        la.system(&quot;Guest found: &quot; + g.getGuestCode() + &quot; | &quot; + g.getName()); //--&gt; This will work as intended\r\n      }\r\n    }\r\n\r\nCan someone explain if I miss something or if something is happening??? It literally works like 30 minutes before I made a little changes implementing interface to this class. Which has nothing to do with the constant class.\r\n\r\nI am confused. I uses Netbeans IDE 18 with Java 20.0.0.1. And thank you in advance.","title":"JAVA 20: Setting static value to a static variable sometimes return the original value of that variable. It never happened before Java 20 update","body":"<p>I am trying to set a single variable that can be used as common application ID that will be set in the beginning of application loading. The original variable is set to some generic String &quot;ROOT&quot;. Amongst my classes, only one class, when calling that variable, returns ROOT instead of the set value.</p>\n<p>This is the class that is called the first: Main.java that will do two things:\nFirst load Properties:</p>\n<pre><code>private void loadProp()\n{\n  Constants.APP_ID = svr.getAppID(); //getAppID() returns simple String &quot;EMS&quot; and set to the APP_ID in the RootConstants. Constants extends RootConstants.\n}\n</code></pre>\n<p>Root Constants APP_ID Declaration:</p>\n<pre><code>public static String APP_ID = &quot;ROOT&quot;; //This will be replaced with &quot;EMS&quot; when loadProp is called.\n</code></pre>\n<p>Second Main.java will call loadLog() method:</p>\n<pre><code>private void loadLog()\n{\n    //Initiating the log agent first\n    la = LogAgent.getInstance(Constants.APP_ID);\n    System.out.println(&quot;The app id: &quot; + Constants.APP_ID + &quot; has loaded log: &quot; + la);\n\n    //Adding the console log\n    console = new LogWriter();\n    la.addWriter(console);\n}\n</code></pre>\n<p>Then, I have a class that will be instantiating the log object by passing the APP_ID that is already set in the first time the program is loaded, It should be calling the Constants.APP_ID --&gt; which supposed to call RootConstants.APP_ID, with supposedly the newly set value of &quot;EMS&quot;, but however, instead of returning EMS when calling Constants.APP_ID, it returns &quot;ROOT&quot; (original declaration value). This happens only when I call the LogAgent getInstance() at the top class level.</p>\n<pre><code>public class GuestDataProcessor extends RootProcessor\n{\n  /** Database helper for access processor. */\n  private GuestDataDB db;\n  \n  /** Log agent to be used to log everything. */\n  private LogAgent la = LogAgent.getInstance(Constants.APP_ID); //--&gt; This will return original value of &quot;ROOT&quot; \n\n  public GuestDataBean getGuestData(String id)\n  {\n    la.system(&quot;Guest found: &quot; + g.getGuestCode() + &quot; | &quot; + g.getName()); //--&gt; This will show error as the log taken from wrong ID\n  }\n}\n</code></pre>\n<p>However, if I call the getInstance() at the method level. Everything works OK.</p>\n<pre><code>public class GuestDataProcessor extends RootProcessor\n{\n  /** Database helper for access processor. */\n  private GuestDataDB db;\n  \n  /** Log agent to be used to log everything. */\n  private LogAgent la;\n\n  public GuestDataBean getGuestData(String id)\n  {\n    la = LogAgent.getInstance(Constants.APP_ID); //--&gt; This will return The correct value of EMS\n    la.system(&quot;Guest found: &quot; + g.getGuestCode() + &quot; | &quot; + g.getName()); //--&gt; This will work as intended\n  }\n}\n</code></pre>\n<p>Can someone explain if I miss something or if something is happening??? It literally works like 30 minutes before I made a little changes implementing interface to this class. Which has nothing to do with the constant class.</p>\n<p>I am confused. I uses Netbeans IDE 18 with Java 20.0.0.1. And thank you in advance.</p>\n"},{"tags":["java","loops","stream"],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688114468,"creation_date":1688114468,"answer_id":76587355,"question_id":76587342,"body_markdown":"you can try this:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;key1&quot;, &quot;value1,value2&quot;);\r\n            map.put(&quot;key2&quot;, &quot;value3,value4,value5&quot;);\r\n            map.put(&quot;key3&quot;, &quot;value6&quot;);\r\n    \r\n            Map&lt;String, List&lt;String&gt;&gt; result = map.entrySet().stream()\r\n                    .collect(Collectors.toMap(\r\n                            Map.Entry::getKey,\r\n                            e -&gt; Arrays.asList(e.getValue().split(&quot;,&quot;))\r\n                    ));\r\n    \r\n            System.out.println(result); //-&gt; Test the Output\r\n        }\r\n    }","title":"How to change Map&lt;String,String&gt; to Map&lt;String, List&lt;String&gt;&gt; by Stream() in Java?","body":"<p>you can try this:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, &quot;value1,value2&quot;);\n        map.put(&quot;key2&quot;, &quot;value3,value4,value5&quot;);\n        map.put(&quot;key3&quot;, &quot;value6&quot;);\n\n        Map&lt;String, List&lt;String&gt;&gt; result = map.entrySet().stream()\n                .collect(Collectors.toMap(\n                        Map.Entry::getKey,\n                        e -&gt; Arrays.asList(e.getValue().split(&quot;,&quot;))\n                ));\n\n        System.out.println(result); //-&gt; Test the Output\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587355,"answer_count":1,"score":0,"last_activity_date":1688114468,"creation_date":1688114295,"question_id":76587342,"body_markdown":"I have a `Map&lt;String,String&gt;` and I want to convert it to `Map&lt;String, List&lt;String&gt;&gt;`. It can be easily done by `forloop` like below. But can I do the same thing by `stream()` in `Java 8`?\r\n\r\nCode:\r\n\r\n    Sample Map&lt;String,String&gt; - {&quot;Country&quot;:&quot;US,Japan&quot;,&quot;Food&quot;:&quot;Burger,Cake&quot;}\r\n    \r\n    Map&lt;String, List&lt;String&gt;&gt; newMap = null;\r\n        for (String tmp: sampleMap.keySet()){\r\n        newMap.putIfAbsent(tmp, sampleMap.get(tmp).split(&quot;,&quot;));\r\n    }\r\n\r\n","title":"How to change Map&lt;String,String&gt; to Map&lt;String, List&lt;String&gt;&gt; by Stream() in Java?","body":"<p>I have a <code>Map&lt;String,String&gt;</code> and I want to convert it to <code>Map&lt;String, List&lt;String&gt;&gt;</code>. It can be easily done by <code>forloop</code> like below. But can I do the same thing by <code>stream()</code> in <code>Java 8</code>?</p>\n<p>Code:</p>\n<pre><code>Sample Map&lt;String,String&gt; - {&quot;Country&quot;:&quot;US,Japan&quot;,&quot;Food&quot;:&quot;Burger,Cake&quot;}\n\nMap&lt;String, List&lt;String&gt;&gt; newMap = null;\n    for (String tmp: sampleMap.keySet()){\n    newMap.putIfAbsent(tmp, sampleMap.get(tmp).split(&quot;,&quot;));\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-resources"],"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688121532,"answer_count":0,"score":0,"last_activity_date":1688113282,"creation_date":1688112508,"question_id":76587134,"body_markdown":"I am working on an Android application and I have multiple string arrays defined in my `strings.xml` file. In my app, I have an input box where the user can type a specific keyword, and based on that keyword, I want to retrieve the corresponding string array dynamically.\r\n\r\nFor instance, let&#39;s say I have the following arrays defined in my `strings.xml` file:\r\n\r\n```xml\r\n&lt;string-array name=&quot;fruit&quot;&gt;\r\n    &lt;item&gt;Apple&lt;/item&gt;\r\n    &lt;item&gt;Orange&lt;/item&gt;\r\n    &lt;item&gt;Banana&lt;/item&gt;\r\n&lt;/string-array&gt;\r\n\r\n&lt;string-array name=&quot;colors&quot;&gt;\r\n    &lt;item&gt;Red&lt;/item&gt;\r\n    &lt;item&gt;Green&lt;/item&gt;\r\n    &lt;item&gt;Blue&lt;/item&gt;\r\n&lt;/string-array&gt;\r\n```\r\n\r\nNow, if the user types &quot;fruit&quot; in the input box, I want to fetch the array named fruit, and if the user types &quot;colors&quot;, I want to retrieve the array named colors. How can I achieve this dynamically in my Android application?\r\n\r\nAny help would be appreciated, thanks in advance.","title":"How can I get a resource dynamically in Android?","body":"<p>I am working on an Android application and I have multiple string arrays defined in my <code>strings.xml</code> file. In my app, I have an input box where the user can type a specific keyword, and based on that keyword, I want to retrieve the corresponding string array dynamically.</p>\n<p>For instance, let's say I have the following arrays defined in my <code>strings.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string-array name=&quot;fruit&quot;&gt;\n    &lt;item&gt;Apple&lt;/item&gt;\n    &lt;item&gt;Orange&lt;/item&gt;\n    &lt;item&gt;Banana&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;colors&quot;&gt;\n    &lt;item&gt;Red&lt;/item&gt;\n    &lt;item&gt;Green&lt;/item&gt;\n    &lt;item&gt;Blue&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>Now, if the user types &quot;fruit&quot; in the input box, I want to fetch the array named fruit, and if the user types &quot;colors&quot;, I want to retrieve the array named colors. How can I achieve this dynamically in my Android application?</p>\n<p>Any help would be appreciated, thanks in advance.</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":0,"creation_date":1280956712,"post_id":3409857,"comment_id":3548134,"body_markdown":"Why do you create HTML entities from strings? You can create GWT UI gadgets (on client side) and build them as needed, using readable Java code.","body":"Why do you create HTML entities from strings? You can create GWT UI gadgets (on client side) and build them as needed, using readable Java code."},{"owner":{"account_id":167131,"reputation":613,"user_id":391734,"accept_rate":94,"display_name":"Chirayu"},"score":0,"creation_date":1281016871,"post_id":3409857,"comment_id":3554537,"body_markdown":"@Eyal, thanks for your advice, I was trying to use the already written code, which returns a StringBuilder element and integrate it into GWT part which I&#39;m doing.\nThe existing code is kinda complicated, and I&#39;m on my internship, finishing soon so time was a constraint. Thanks anyways.","body":"@Eyal, thanks for your advice, I was trying to use the already written code, which returns a StringBuilder element and integrate it into GWT part which I&#39;m doing. The existing code is kinda complicated, and I&#39;m on my internship, finishing soon so time was a constraint. Thanks anyways."}],"answers":[{"tags":[],"owner":{"account_id":60799,"reputation":15311,"user_id":181497,"display_name":"Igor Klimer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1280963700,"creation_date":1280963700,"answer_id":3410592,"question_id":3409857,"body_markdown":"Could you be more specific, Chirayu? The &quot;already established code&quot; (is that a serlvet? Does it run on server side or client side?) that supposedly returns a `StringBuilder`, obviously returns a `String`, which can be easily transferred via GWT-RPC, JSON, etc.  \r\nBut like Eyal mentioned, &quot;you are doing it wrong&quot; - you are generating HTML code by hand, which is additional work, leads to [security holes][1] (XSS, etc) and is more error-prone. The correct way would be:\r\n\r\n* Instead of generating the view/HTML code on the server (I&#39;m assuming the above code is executed on the server), you just fetch the relevant data - via [any transport][2] that is available in GWT\r\n* On the client, put the data from the server in some nice Widgets. If you prefer to work with HTML directly, check out [UiBinder][3]. Otherwise, the old [widgets, composites, etc][4] way is ok too.\r\n\r\nThis way, you&#39;ll minimize the data sent between the client and the server and get better separation (to take it further, check out [MVP][5]). Plus, less load on the server - win-win.\r\n\r\nAnd to stop being a newbie, RTFM - it&#39;s all there. Notice that all the links I&#39;ve provided here lead to the official docs :)\r\n\r\n\r\n  [1]: http://code.google.com/webtoolkit/articles/security_for_gwt_applications.html\r\n  [2]: http://code.google.com/webtoolkit/doc/latest/DevGuideServerCommunication.html\r\n  [3]: http://code.google.com/webtoolkit/doc/latest/DevGuideUiBinder.html\r\n  [4]: http://code.google.com/webtoolkit/doc/latest/DevGuideUiCustomWidgets.html\r\n  [5]: http://code.google.com/webtoolkit/articles/mvp-architecture.html","title":"How to insert a StringBuilder element into a GWT app?","body":"<p>Could you be more specific, Chirayu? The \"already established code\" (is that a serlvet? Does it run on server side or client side?) that supposedly returns a <code>StringBuilder</code>, obviously returns a <code>String</code>, which can be easily transferred via GWT-RPC, JSON, etc.<br>\nBut like Eyal mentioned, \"you are doing it wrong\" - you are generating HTML code by hand, which is additional work, leads to <a href=\"http://code.google.com/webtoolkit/articles/security_for_gwt_applications.html\" rel=\"nofollow noreferrer\">security holes</a> (XSS, etc) and is more error-prone. The correct way would be:</p>\n\n<ul>\n<li>Instead of generating the view/HTML code on the server (I'm assuming the above code is executed on the server), you just fetch the relevant data - via <a href=\"http://code.google.com/webtoolkit/doc/latest/DevGuideServerCommunication.html\" rel=\"nofollow noreferrer\">any transport</a> that is available in GWT</li>\n<li>On the client, put the data from the server in some nice Widgets. If you prefer to work with HTML directly, check out <a href=\"http://code.google.com/webtoolkit/doc/latest/DevGuideUiBinder.html\" rel=\"nofollow noreferrer\">UiBinder</a>. Otherwise, the old <a href=\"http://code.google.com/webtoolkit/doc/latest/DevGuideUiCustomWidgets.html\" rel=\"nofollow noreferrer\">widgets, composites, etc</a> way is ok too.</li>\n</ul>\n\n<p>This way, you'll minimize the data sent between the client and the server and get better separation (to take it further, check out <a href=\"http://code.google.com/webtoolkit/articles/mvp-architecture.html\" rel=\"nofollow noreferrer\">MVP</a>). Plus, less load on the server - win-win.</p>\n\n<p>And to stop being a newbie, RTFM - it's all there. Notice that all the links I've provided here lead to the official docs :)</p>\n"},{"tags":[],"owner":{"account_id":1055952,"reputation":106,"user_id":1058668,"display_name":"Splash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688113086,"creation_date":1688113086,"answer_id":76587200,"question_id":3409857,"body_markdown":"Q.: How to use StringBuilder for HTML processing in a GWT app?\r\n\r\nA.: Use [SafeHtmlBuilder][1]\r\n\r\n\r\n  [1]: https://www.gwtproject.org/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlBuilder.html","title":"How to insert a StringBuilder element into a GWT app?","body":"<p>Q.: How to use StringBuilder for HTML processing in a GWT app?</p>\n<p>A.: Use <a href=\"https://www.gwtproject.org/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlBuilder.html\" rel=\"nofollow noreferrer\">SafeHtmlBuilder</a></p>\n"}],"owner":{"account_id":167131,"reputation":613,"user_id":391734,"accept_rate":94,"display_name":"Chirayu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3410592,"answer_count":2,"score":1,"last_activity_date":1688113086,"creation_date":1280956299,"question_id":3409857,"body_markdown":"So, I am getting as return parameter from an already established code a `StringBuilder` element, and I need to insert it into my GWT app. This `StringBuilder` element has been formatted into a table before returning.\r\n\r\nFor more clarity, below is the code of how `StringBUilder` is being generated and what is returned.\r\n\r\n\r\n    private static String formatStringArray(String header, String[] array, int[] removeCols) {\r\n        StringBuilder buf = new StringBuilder(&quot;&lt;table bgcolor=\\&quot;DDDDDD\\&quot; border=\\&quot;1\\&quot; cellspacing=\\&quot;0\\&quot; cellpadding=\\&quot;3\\&quot;&gt;&quot;);\r\n\r\n        if (removeCols != null)\r\n            Arrays.sort(removeCols);\r\n        \r\n        if (header != null) {\r\n            buf.append(&quot;&lt;tr bgcolor=\\&quot;99AACC\\&quot;&gt;&quot;);\r\n            String[] tokens = header.split(&quot;,&quot;);\r\n            //StringTokenizer tokenized = new StringTokenizer(header, &quot;,&quot;);\r\n            //while (tokenized.hasMoreElements()) {\r\n            for (int i = 0; i &lt; tokens.length; i++) {\r\n                if (removeCols == null || Arrays.binarySearch(removeCols, i) &lt; 0) {\r\n                    buf.append(&quot;&lt;th&gt;&quot;);\r\n                    buf.append(tokens[i]);\r\n                    buf.append(&quot;&lt;/th&gt;&quot;);\r\n                }\r\n            }\r\n            buf.append(&quot;&lt;/tr&gt;&quot;);\r\n        }\r\n\r\n        if (array.length &gt; 0) {\r\n            for (String element : array) {\r\n                buf.append(&quot;&lt;tr&gt;&quot;);\r\n                String[] tokens = element.split(&quot;,&quot;);\r\n                if (tokens.length &gt; 1) {\r\n                    for (int i = 0; i &lt; tokens.length; i++) {\r\n                        if (removeCols == null || Arrays.binarySearch(removeCols, i) &lt; 0) {\r\n                            buf.append(&quot;&lt;td&gt;&quot;);\r\n                            buf.append(tokens[i]);\r\n                            buf.append(&quot;&lt;/td&gt;&quot;);\r\n                        }\r\n                    }\r\n                } else {\r\n                    // Let any non tokenized row get through\r\n                    buf.append(&quot;&lt;td&gt;&quot;);\r\n                    buf.append(element);\r\n                    buf.append(&quot;&lt;/td&gt;&quot;);\r\n                }\r\n                buf.append(&quot;&lt;/tr&gt;&quot;);\r\n            }\r\n        } else {\r\n            buf.append(&quot;&lt;tr&gt;&lt;td&gt;No results returned&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n        }\r\n        \r\n        buf.append(&quot;&lt;/table&gt;&quot;);\r\n        return buf.toString();\r\n    }\r\n\r\n\r\nSo, above returned `buf.toString();` is to be received in a GWT class, added to a panel and displayed... Now the question is: **how to make all this happen?**\r\n\r\nI&#39;m absolutely clueless as I&#39;m a newbie and would be very thankful for any help.\r\n\r\nRegards,  \r\nChirayu","title":"How to insert a StringBuilder element into a GWT app?","body":"<p>So, I am getting as return parameter from an already established code a <code>StringBuilder</code> element, and I need to insert it into my GWT app. This <code>StringBuilder</code> element has been formatted into a table before returning.</p>\n\n<p>For more clarity, below is the code of how <code>StringBUilder</code> is being generated and what is returned.</p>\n\n<pre><code>private static String formatStringArray(String header, String[] array, int[] removeCols) {\n    StringBuilder buf = new StringBuilder(\"&lt;table bgcolor=\\\"DDDDDD\\\" border=\\\"1\\\" cellspacing=\\\"0\\\" cellpadding=\\\"3\\\"&gt;\");\n\n    if (removeCols != null)\n        Arrays.sort(removeCols);\n\n    if (header != null) {\n        buf.append(\"&lt;tr bgcolor=\\\"99AACC\\\"&gt;\");\n        String[] tokens = header.split(\",\");\n        //StringTokenizer tokenized = new StringTokenizer(header, \",\");\n        //while (tokenized.hasMoreElements()) {\n        for (int i = 0; i &lt; tokens.length; i++) {\n            if (removeCols == null || Arrays.binarySearch(removeCols, i) &lt; 0) {\n                buf.append(\"&lt;th&gt;\");\n                buf.append(tokens[i]);\n                buf.append(\"&lt;/th&gt;\");\n            }\n        }\n        buf.append(\"&lt;/tr&gt;\");\n    }\n\n    if (array.length &gt; 0) {\n        for (String element : array) {\n            buf.append(\"&lt;tr&gt;\");\n            String[] tokens = element.split(\",\");\n            if (tokens.length &gt; 1) {\n                for (int i = 0; i &lt; tokens.length; i++) {\n                    if (removeCols == null || Arrays.binarySearch(removeCols, i) &lt; 0) {\n                        buf.append(\"&lt;td&gt;\");\n                        buf.append(tokens[i]);\n                        buf.append(\"&lt;/td&gt;\");\n                    }\n                }\n            } else {\n                // Let any non tokenized row get through\n                buf.append(\"&lt;td&gt;\");\n                buf.append(element);\n                buf.append(\"&lt;/td&gt;\");\n            }\n            buf.append(\"&lt;/tr&gt;\");\n        }\n    } else {\n        buf.append(\"&lt;tr&gt;&lt;td&gt;No results returned&lt;/td&gt;&lt;/tr&gt;\");\n    }\n\n    buf.append(\"&lt;/table&gt;\");\n    return buf.toString();\n}\n</code></pre>\n\n<p>So, above returned <code>buf.toString();</code> is to be received in a GWT class, added to a panel and displayed... Now the question is: <strong>how to make all this happen?</strong></p>\n\n<p>I'm absolutely clueless as I'm a newbie and would be very thankful for any help.</p>\n\n<p>Regards,<br>\nChirayu</p>\n"},{"tags":["java","replace","java-8"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1687971146,"post_id":76575240,"comment_id":135012496,"body_markdown":"it looks like you want to use Prepared Statements. I recommend reading a good tutorial about that: https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","body":"it looks like you want to use Prepared Statements. I recommend reading a good tutorial about that: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1687971150,"post_id":76575240,"comment_id":135012498,"body_markdown":"Will you execute that query on an actual database? Then use actual prepared statements.","body":"Will you execute that query on an actual database? Then use actual prepared statements."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1687971212,"post_id":76575240,"comment_id":135012507,"body_markdown":"Use the JDBC features for binding parameter values. Do *not* modify the SQL statement text.","body":"Use the JDBC features for binding parameter values. Do <i>not</i> modify the SQL statement text."},{"owner":{"account_id":2713782,"reputation":194,"user_id":2341585,"display_name":"Usha"},"score":0,"creation_date":1687972266,"post_id":76575240,"comment_id":135012695,"body_markdown":"I am not going to execute this query. I just want to manipulate and construct the query for some debug tool purpose. I will be getting the sql string for any CRUD or proc/func call with question mark when I enable to show_sql true with hibernate config. I just want to manipulate the binded parameters alone with sql for logging purpose.","body":"I am not going to execute this query. I just want to manipulate and construct the query for some debug tool purpose. I will be getting the sql string for any CRUD or proc/func call with question mark when I enable to show_sql true with hibernate config. I just want to manipulate the binded parameters alone with sql for logging purpose."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687974957,"post_id":76575240,"comment_id":135013148,"body_markdown":"In which form are the values `10` and `&#39;Active&#39;` given?","body":"In which form are the values <code>10</code> and <code>&#39;Active&#39;</code> given?"},{"owner":{"account_id":2713782,"reputation":194,"user_id":2341585,"display_name":"Usha"},"score":0,"creation_date":1688051082,"post_id":76575240,"comment_id":135024622,"body_markdown":"@Holger This will be in a map and I need to manipulate and place it at the correct placeholder. I am not going to execute this query.","body":"@Holger This will be in a map and I need to manipulate and place it at the correct placeholder. I am not going to execute this query."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688056195,"post_id":76575240,"comment_id":135025772,"body_markdown":"I understand that this is only for reporting. But the only thing distinguishing the question marks, is their relative position. So if the actual values are in a map, do you actually want to replace the pattern “name = ?” with “name = ” plus the result of looking up “name” in the map?","body":"I understand that this is only for reporting. But the only thing distinguishing the question marks, is their relative position. So if the actual values are in a map, do you actually want to replace the pattern “name = ?” with “name = ” plus the result of looking up “name” in the map?"},{"owner":{"account_id":2713782,"reputation":194,"user_id":2341585,"display_name":"Usha"},"score":0,"creation_date":1688058201,"post_id":76575240,"comment_id":135026132,"body_markdown":"Yes, that is what I needed. I have just shared a select statement. It can be procedure call or insert/delete statement.","body":"Yes, that is what I needed. I have just shared a select statement. It can be procedure call or insert/delete statement."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687971658,"creation_date":1687971658,"answer_id":76575302,"question_id":76575240,"body_markdown":"You have many options here:\r\n\r\n 1. Use `String.format` [method][1] and align the parameters in the order you want. Here you will replace your **?** with a format specifier.\r\n 2. With JDBC you have to [PreparedStatement][2].\r\n 3. Or with Spring Data check this [link][3].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-string-format-method-with-examples/\r\n  [2]: https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\r\n  [3]: https://www.baeldung.com/spring-data-jpa-query","title":"Replace question mark with respective parameter string","body":"<p>You have many options here:</p>\n<ol>\n<li>Use <code>String.format</code> <a href=\"https://www.geeksforgeeks.org/java-string-format-method-with-examples/\" rel=\"nofollow noreferrer\">method</a> and align the parameters in the order you want. Here you will replace your <strong>?</strong> with a format specifier.</li>\n<li>With JDBC you have to <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">PreparedStatement</a>.</li>\n<li>Or with Spring Data check this <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">link</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22122633,"reputation":46,"user_id":16375571,"display_name":"Fengyi Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687971703,"creation_date":1687971703,"answer_id":76575306,"question_id":76575240,"body_markdown":"I assume you are using Java and I am not a Java-expert so hope this answer can help you a bit.\r\n\r\n### Normal way (Vulnerable to injection attack)\r\n\r\n    String depId = &quot;10&quot;;\r\n    String perStatus = &quot;&#39;Active&#39;&quot;;\r\n\r\n    String query = &quot;select this_.id, this_.name from table this_ where \r\n    this_.depId = %s and this_.perStatus = %s&quot;;\r\n    String finalQuery = String.format(query, depId, perStatus);\r\n\r\n    System.out.println(finalQuery);\r\n\r\n### Safeway (PreparedStatement)\r\n```\r\nString query = &quot;select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?&quot;;\r\nPreparedStatement prepStatQuery = con.prepareStatement(query);\r\n\r\nprepStatQuery.setInt(1, 10);\r\nprepStatQuery.setString(2, &quot;Active&quot;);\r\n\r\nResultSet resSet = prepStatQuery.executeQuery();\r\n```\r\n","title":"Replace question mark with respective parameter string","body":"<p>I assume you are using Java and I am not a Java-expert so hope this answer can help you a bit.</p>\n<h3>Normal way (Vulnerable to injection attack)</h3>\n<pre><code>String depId = &quot;10&quot;;\nString perStatus = &quot;'Active'&quot;;\n\nString query = &quot;select this_.id, this_.name from table this_ where \nthis_.depId = %s and this_.perStatus = %s&quot;;\nString finalQuery = String.format(query, depId, perStatus);\n\nSystem.out.println(finalQuery);\n</code></pre>\n<h3>Safeway (PreparedStatement)</h3>\n<pre><code>String query = &quot;select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?&quot;;\nPreparedStatement prepStatQuery = con.prepareStatement(query);\n\nprepStatQuery.setInt(1, 10);\nprepStatQuery.setString(2, &quot;Active&quot;);\n\nResultSet resSet = prepStatQuery.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26845340,"reputation":15,"user_id":20431176,"display_name":"user20431176"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687984580,"creation_date":1687984580,"answer_id":76576550,"question_id":76575240,"body_markdown":"I would suggest you to use Stored Procedures in you&#39;re Case.\r\nThey are easy to create and are stored on you&#39;re Database directly.\r\nYou&#39;re Stored Procedure could look like this.\r\n\r\n    CREATE PROCEDURE yourProcedureName\r\n    \t@depId int,\r\n    \t@perStatus varchar(10),\r\n    \tAS\r\n    \tBEGIN\r\n    \t\tSELECT this_.id, this_.name from table this_ where this_.depId = @depId and this_.perStatus = @perStatus\r\n    END\r\n\r\n\r\nHere is some example how you could call your Stored Procedure in your Java Code.\r\n\r\n    public void storedProcedure(Int depId, String perStatus, String connectionUrl){\r\n        Connection con = null;\r\n        PreparedStatement pStatement = null;\r\n        ResultSet rs = null;\r\n\r\n        try {\r\n            // Establish the connection\r\n            Connection connection = DriverManager.getConnection(connectionUrl);\r\n\r\n            // Prepare the stored procedure call\r\n            String storedProcedure = &quot;{CALL procedureName(?,?)}&quot;;\r\n            pStatement = connection.prepareCall(storedProcedure);\r\n\r\n            pStatement.setInt(1,depId);\r\n            pStatement.setString(2,perStatus);\r\n\r\n\r\n            pStatement.execute();\r\n\r\n            pStatement.close();\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            if(rs != null) try {\r\n                rs.close();\r\n            }catch (Exception e){}\r\n            if(pStatement!=null) try {\r\n                pStatement.close();\r\n            }catch (Exception e){}\r\n            if(con!=null) try{con.close();} catch (Exception e){}\r\n        }\r\n\r\n    }\r\n","title":"Replace question mark with respective parameter string","body":"<p>I would suggest you to use Stored Procedures in you're Case.\nThey are easy to create and are stored on you're Database directly.\nYou're Stored Procedure could look like this.</p>\n<pre><code>CREATE PROCEDURE yourProcedureName\n    @depId int,\n    @perStatus varchar(10),\n    AS\n    BEGIN\n        SELECT this_.id, this_.name from table this_ where this_.depId = @depId and this_.perStatus = @perStatus\nEND\n</code></pre>\n<p>Here is some example how you could call your Stored Procedure in your Java Code.</p>\n<pre><code>public void storedProcedure(Int depId, String perStatus, String connectionUrl){\n    Connection con = null;\n    PreparedStatement pStatement = null;\n    ResultSet rs = null;\n\n    try {\n        // Establish the connection\n        Connection connection = DriverManager.getConnection(connectionUrl);\n\n        // Prepare the stored procedure call\n        String storedProcedure = &quot;{CALL procedureName(?,?)}&quot;;\n        pStatement = connection.prepareCall(storedProcedure);\n\n        pStatement.setInt(1,depId);\n        pStatement.setString(2,perStatus);\n\n\n        pStatement.execute();\n\n        pStatement.close();\n        connection.close();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    finally {\n        if(rs != null) try {\n            rs.close();\n        }catch (Exception e){}\n        if(pStatement!=null) try {\n            pStatement.close();\n        }catch (Exception e){}\n        if(con!=null) try{con.close();} catch (Exception e){}\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688112963,"creation_date":1688112963,"answer_id":76587180,"question_id":76575240,"body_markdown":"If we agree that this should never be used to construct a `Statement` but only for debugging messages, you can do it like\r\n\r\n```java\r\nstatic final Pattern COMPARISON = Pattern.compile(&quot;((\\\\w+)\\\\s*[&lt;&gt;=]+\\\\s*)\\\\?&quot;);\r\n\r\nstatic String debugExpression(String actualQuery, Map&lt;String,Object&gt; values) {\r\n    return COMPARISON.matcher(actualQuery)\r\n        .replaceAll(mr -&gt; mr.group(1) + forValue(values.get(mr.group(2))));\r\n}\r\n\r\nprivate static String forValue(Object o) {\r\n    return o instanceof Number || o instanceof Boolean? o.toString():\r\n        o == null? &quot; *** key not in map ***&quot;:\r\n        &quot;&#39;&quot; + Matcher.quoteReplacement(o.toString()) + &quot;&#39;&quot;;\r\n}\r\n```\r\n\r\nThis searches for occurrences of “name&#160;&#160;comparison operator&#160;&#160;question mark” and replaces the question mark with a representation of the value found in the map for “name”.\r\n\r\nIf you prefer to enforce the “name” to be prepended by `this_.` you can use the  following pattern instead:\r\n\r\n```java\r\nstatic final Pattern COMPARISON\r\n    = Pattern.compile(&quot;(?&lt;=this_\\\\.)((\\\\w+)\\\\s*[&lt;&gt;=]+\\\\s*)\\\\?&quot;);\r\n```\r\n\r\nIf we test it with\r\n\r\n```java\r\nString query = &quot;select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?&quot;;\r\nSystem.out.println(debugExpression(query, Map.of(&quot;depId&quot;, 10, &quot;perStatus&quot;, &quot;Active&quot;)));\r\n```\r\n\r\nIt will print\r\n\r\n```none\r\nselect this_.id, this_.name from table this_ where this_.depId = 10 and this_.perStatus = &#39;Active&#39;\r\n```\r\n\r\nThis will not replace other question marks, like the `(?, ? …)` of an update or insert statement, as there’s no context to derive the right key from.\r\n\r\n---\r\n\r\nThe code above uses Java&#160;9 features. If you need Java&#160;8 compatibility, the replacement logic needs to be implemented manually:\r\n\r\n```\r\nstatic String debugExpression(String actualQuery, Map&lt;String,Object&gt; values) {\r\n\r\n  Matcher m = COMPARISON.matcher(actualQuery);\r\n  if(!m.find()) return actualQuery;\r\n\r\n  StringBuilder sb = new StringBuilder(actualQuery.length() + 100);\r\n  int start = 0;\r\n\r\n  do {\r\n    sb.append(actualQuery, start, m.end(1));\r\n    start = m.end();\r\n    Object o = values.get(m.group(2));\r\n\r\n    if(o == null) sb.append(&quot; *** key not in map ***&quot;);\r\n    else if(o instanceof Number || o instanceof Boolean) sb.append(o);\r\n    else sb.append(&quot;&#39;&quot;).append(o).append(&quot;&#39;&quot;);\r\n\r\n  } while(m.find());\r\n\r\n  return sb.append(actualQuery, start, actualQuery.length()).toString();\r\n}\r\n```\r\n","title":"Replace question mark with respective parameter string","body":"<p>If we agree that this should never be used to construct a <code>Statement</code> but only for debugging messages, you can do it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Pattern COMPARISON = Pattern.compile(&quot;((\\\\w+)\\\\s*[&lt;&gt;=]+\\\\s*)\\\\?&quot;);\n\nstatic String debugExpression(String actualQuery, Map&lt;String,Object&gt; values) {\n    return COMPARISON.matcher(actualQuery)\n        .replaceAll(mr -&gt; mr.group(1) + forValue(values.get(mr.group(2))));\n}\n\nprivate static String forValue(Object o) {\n    return o instanceof Number || o instanceof Boolean? o.toString():\n        o == null? &quot; *** key not in map ***&quot;:\n        &quot;'&quot; + Matcher.quoteReplacement(o.toString()) + &quot;'&quot;;\n}\n</code></pre>\n<p>This searches for occurrences of “name  comparison operator  question mark” and replaces the question mark with a representation of the value found in the map for “name”.</p>\n<p>If you prefer to enforce the “name” to be prepended by <code>this_.</code> you can use the  following pattern instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Pattern COMPARISON\n    = Pattern.compile(&quot;(?&lt;=this_\\\\.)((\\\\w+)\\\\s*[&lt;&gt;=]+\\\\s*)\\\\?&quot;);\n</code></pre>\n<p>If we test it with</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?&quot;;\nSystem.out.println(debugExpression(query, Map.of(&quot;depId&quot;, 10, &quot;perStatus&quot;, &quot;Active&quot;)));\n</code></pre>\n<p>It will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>select this_.id, this_.name from table this_ where this_.depId = 10 and this_.perStatus = 'Active'\n</code></pre>\n<p>This will not replace other question marks, like the <code>(?, ? …)</code> of an update or insert statement, as there’s no context to derive the right key from.</p>\n<hr />\n<p>The code above uses Java 9 features. If you need Java 8 compatibility, the replacement logic needs to be implemented manually:</p>\n<pre><code>static String debugExpression(String actualQuery, Map&lt;String,Object&gt; values) {\n\n  Matcher m = COMPARISON.matcher(actualQuery);\n  if(!m.find()) return actualQuery;\n\n  StringBuilder sb = new StringBuilder(actualQuery.length() + 100);\n  int start = 0;\n\n  do {\n    sb.append(actualQuery, start, m.end(1));\n    start = m.end();\n    Object o = values.get(m.group(2));\n\n    if(o == null) sb.append(&quot; *** key not in map ***&quot;);\n    else if(o instanceof Number || o instanceof Boolean) sb.append(o);\n    else sb.append(&quot;'&quot;).append(o).append(&quot;'&quot;);\n\n  } while(m.find());\n\n  return sb.append(actualQuery, start, actualQuery.length()).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":2713782,"reputation":194,"user_id":2341585,"display_name":"Usha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587180,"answer_count":4,"score":0,"last_activity_date":1688112963,"creation_date":1687970994,"question_id":76575240,"body_markdown":"I have a sql query like below and I want to replace the question mark with respective binded parameters passed. How will I construct this String\r\n\r\n```select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?```\r\n\r\nI want to replace the question mark like below\r\n\r\n```select this_.id, this_.name from table this_ where this_.depId = 10 and this_.perStatus = &#39;Active&#39;```\r\n\r\nHow do I replace all the question marks with respective parameters. \r\nAny help appreciated.","title":"Replace question mark with respective parameter string","body":"<p>I have a sql query like below and I want to replace the question mark with respective binded parameters passed. How will I construct this String</p>\n<p><code>select this_.id, this_.name from table this_ where this_.depId = ? and this_.perStatus = ?</code></p>\n<p>I want to replace the question mark like below</p>\n<p><code>select this_.id, this_.name from table this_ where this_.depId = 10 and this_.perStatus = 'Active'</code></p>\n<p>How do I replace all the question marks with respective parameters.\nAny help appreciated.</p>\n"},{"tags":["java","ivy"],"comments":[{"owner":{"account_id":3344965,"reputation":135,"user_id":2810293,"accept_rate":0,"display_name":"user2810293"},"score":0,"creation_date":1688113212,"post_id":76587169,"comment_id":135033048,"body_markdown":"IVY dependency that I have added:\n    &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;default-&amp;gt;default;compile-&amp;gt;default;app-&amp;gt;default&quot;/&gt;\n    &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-log4j12&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;compile-&amp;gt;default;app-&amp;gt;default;sources-&amp;gt;sources&quot;/&gt;","body":"IVY dependency that I have added:     &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;default-&amp;gt;default;compile-&amp;gt;default;app-&amp;gt;defaul&zwnj;&#8203;t&quot;/&gt;     &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-log4j12&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;compile-&amp;gt;default;app-&amp;gt;default;sources-&amp;gt;source&zwnj;&#8203;s&quot;/&gt;"}],"owner":{"account_id":3344965,"reputation":135,"user_id":2810293,"accept_rate":0,"display_name":"user2810293"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688112866,"creation_date":1688112866,"question_id":76587169,"body_markdown":"I have used log4j 2 bridge to update Log4J version. In doing so, I have also updated slf4j-api version to 1.7.25 and slf4j-log4j12 version 1.7.25. I am using ivy when I try to run the build it gives me unresolved dependency error like below:\r\norg.slf4j#slf4j-api;1.7.25: configuration not found in org.slf4j#slf4j-api;1.7.25: &#39;compile&#39;. It was required from org.slf4j#slf4j-log4j12;1.7.25 compile\r\nBelow is how I have added dependency in ivy.xml\r\n\r\n&lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;default-&amp;gt;default;compile-&amp;gt;default;app-&amp;gt;default&quot;/&gt;\r\n&lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-log4j12&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;compile-&amp;gt;default;app-&amp;gt;default;sources-&amp;gt;sources&quot;/&gt;\r\n\r\nI have downloaded these jars from maven repository which also downloads ivy-1.7.25.xml for both the jars and this is how it looks for slf4j-log4j12:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;http://ant.apache.org/ivy/maven&quot;&gt;\r\n    \t&lt;info organisation=&quot;org.slf4j&quot;\r\n    \t\tmodule=&quot;slf4j-log4j12&quot;\r\n    \t\trevision=&quot;1.7.25&quot;\r\n    \t\tstatus=&quot;release&quot;\r\n    \t\tpublication=&quot;20170316220700&quot;\r\n    \t&gt;\r\n    \t\t&lt;description homepage=&quot;http://www.slf4j.org&quot;&gt;\r\n    \t\tSLF4J LOG4J-12 Binding\r\n    \t\t&lt;/description&gt;\r\n    \t\t&lt;m:properties__project.reporting.outputEncoding&gt;UTF-8&lt;/m:properties__project.reporting.outputEncoding&gt;\r\n    \t\t&lt;m:dependency.management__log4j__log4j__version&gt;1.2.17&lt;/m:dependency.management__log4j__log4j__version&gt;\r\n    \t\t&lt;m:properties__maven-site-plugin.version&gt;3.3&lt;/m:properties__maven-site-plugin.version&gt;\r\n    \t\t&lt;m:properties__project.build.resourceEncoding&gt;UTF-8&lt;/m:properties__project.build.resourceEncoding&gt;\r\n    \t\t&lt;m:properties__log4j.version&gt;1.2.17&lt;/m:properties__log4j.version&gt;\r\n    \t\t&lt;m:properties__project.build.sourceEncoding&gt;UTF-8&lt;/m:properties__project.build.sourceEncoding&gt;\r\n    \t\t&lt;m:properties__junit.version&gt;4.12&lt;/m:properties__junit.version&gt;\r\n    \t\t&lt;m:properties__slf4j.api.minimum.compatible.version&gt;1.6.0&lt;/m:properties__slf4j.api.minimum.compatible.version&gt;\r\n    \t\t&lt;m:properties__required.jdk.version&gt;1.5&lt;/m:properties__required.jdk.version&gt;\r\n    \t\t&lt;m:properties__logback.version&gt;1.0.13&lt;/m:properties__logback.version&gt;\r\n    \t\t&lt;m:dependency.management__ch.qos.cal10n__cal10n-api__version&gt;0.8.1&lt;/m:dependency.management__ch.qos.cal10n__cal10n-api__version&gt;\r\n    \t\t&lt;m:properties__javadoc.plugin.version&gt;2.10.4&lt;/m:properties__javadoc.plugin.version&gt;\r\n    \t\t&lt;m:dependency.management__org.slf4j__slf4j-jdk14__version&gt;1.7.25&lt;/m:dependency.management__org.slf4j__slf4j-jdk14__version&gt;\r\n    \t\t&lt;m:properties__maven.compiler.target&gt;${required.jdk.version}&lt;/m:properties__maven.compiler.target&gt;\r\n    \t\t&lt;m:properties__cal10n.version&gt;0.8.1&lt;/m:properties__cal10n.version&gt;\r\n    \t\t&lt;m:dependency.management__org.slf4j__slf4j-api__version&gt;1.7.25&lt;/m:dependency.management__org.slf4j__slf4j-api__version&gt;\r\n    \t\t&lt;m:maven.plugins&gt;org.apache.maven.plugins__maven-compiler-plugin__3.3|org.apache.maven.plugins__maven-jar-plugin__2.3.1|org.apache.maven.plugins__maven-surefire-plugin__2.19.1|org.apache.maven.plugins__maven-source-plugin__2.1.2|org.apache.maven.plugins__maven-assembly-plugin__2.2|org.codehaus.mojo__build-helper-maven-plugin__1.7|org.apache.maven.plugins__maven-site-plugin__3.3|org.apache.maven.plugins__maven-compiler-plugin__3.3|org.apache.maven.plugins__maven-jar-plugin__2.3.1|org.apache.maven.plugins__maven-surefire-plugin__2.19.1|org.apache.maven.plugins__maven-source-plugin__2.1.2|org.apache.maven.plugins__maven-assembly-plugin__2.2|org.codehaus.mojo__build-helper-maven-plugin__1.7|org.apache.maven.plugins__maven-site-plugin__3.3&lt;/m:maven.plugins&gt;\r\n    \t\t&lt;m:properties__maven.compiler.source&gt;${required.jdk.version}&lt;/m:properties__maven.compiler.source&gt;\r\n    \t&lt;/info&gt;\r\n    \t&lt;configurations&gt;\r\n    \t\t&lt;conf name=&quot;default&quot; visibility=&quot;public&quot; description=&quot;runtime dependencies and master artifact can be used with this conf&quot; extends=&quot;runtime,master&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;master&quot; visibility=&quot;public&quot; description=&quot;contains only the artifact published by this module itself, with no transitive dependencies&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;compile&quot; visibility=&quot;public&quot; description=&quot;this is the default scope, used if none is specified. Compile dependencies are available in all classpaths.&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;provided&quot; visibility=&quot;public&quot; description=&quot;this is much like compile, but indicates you expect the JDK or a container to provide it. It is only available on the compilation classpath, and is not transitive.&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;runtime&quot; visibility=&quot;public&quot; description=&quot;this scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.&quot; extends=&quot;compile&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;test&quot; visibility=&quot;private&quot; description=&quot;this scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases.&quot; extends=&quot;runtime&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;system&quot; visibility=&quot;public&quot; description=&quot;this scope is similar to provided except that you have to provide the JAR which contains it explicitly. The artifact is always available and is not looked up in a repository.&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;sources&quot; visibility=&quot;public&quot; description=&quot;this configuration contains the source artifact of this module, if any.&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;javadoc&quot; visibility=&quot;public&quot; description=&quot;this configuration contains the javadoc artifact of this module, if any.&quot;/&gt;\r\n    \t\t&lt;conf name=&quot;optional&quot; visibility=&quot;public&quot; description=&quot;contains all optional dependencies&quot;/&gt;\r\n    \t&lt;/configurations&gt;\r\n    \t&lt;publications&gt;\r\n    \t\t&lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;jar&quot; ext=&quot;jar&quot; conf=&quot;master&quot;/&gt;\r\n    \t\t&lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;source&quot; ext=&quot;jar&quot; conf=&quot;sources&quot; m:classifier=&quot;sources&quot;/&gt;\r\n    \t\t&lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;javadoc&quot; ext=&quot;jar&quot; conf=&quot;javadoc&quot; m:classifier=&quot;javadoc&quot;/&gt;\r\n    \t&lt;/publications&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;compile-&gt;compile(*),master(*);runtime-&gt;runtime(*)&quot;/&gt;\r\n    \t\t&lt;dependency org=&quot;log4j&quot; name=&quot;log4j&quot; rev=&quot;1.2.17&quot; force=&quot;true&quot; conf=&quot;compile-&gt;compile(*),master(*);runtime-&gt;runtime(*)&quot;/&gt;\r\n    \t\t&lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;test-&gt;runtime(*),master(*)&quot;&gt;\r\n    \t\t\t&lt;artifact name=&quot;slf4j-api&quot; type=&quot;test-jar&quot; ext=&quot;jar&quot; conf=&quot;&quot; m:classifier=&quot;tests&quot;/&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency org=&quot;junit&quot; name=&quot;junit&quot; rev=&quot;4.12&quot; force=&quot;true&quot; conf=&quot;test-&gt;runtime(*),master(*)&quot;/&gt;\r\n    \t\t&lt;override org=&quot;log4j&quot; module=&quot;log4j&quot; matcher=&quot;exact&quot; rev=&quot;1.2.17&quot;/&gt;\r\n    \t\t&lt;override org=&quot;ch.qos.cal10n&quot; module=&quot;cal10n-api&quot; matcher=&quot;exact&quot; rev=&quot;0.8.1&quot;/&gt;\r\n    \t\t&lt;override org=&quot;org.slf4j&quot; module=&quot;slf4j-jdk14&quot; matcher=&quot;exact&quot; rev=&quot;1.7.25&quot;/&gt;\r\n    \t\t&lt;override org=&quot;org.slf4j&quot; module=&quot;slf4j-api&quot; matcher=&quot;exact&quot; rev=&quot;1.7.25&quot;/&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/ivy-module&gt;\r\n\r\nand this is how it looks for slf4j-api\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ivy-module version=&quot;2.0&quot;&gt;\r\n    \t&lt;info organisation=&quot;org.slf4j&quot; module=&quot;slf4j-api&quot; revision=&quot;1.7.25&quot; status=&quot;release&quot; publication=&quot;20230425124605&quot; default=&quot;true&quot;/&gt;\r\n    \t&lt;configurations&gt;\r\n    \t\t&lt;conf name=&quot;default&quot; visibility=&quot;public&quot;/&gt;\r\n    \t&lt;/configurations&gt;\r\n    \t&lt;publications&gt;\r\n    \t\t&lt;artifact name=&quot;slf4j-api&quot; type=&quot;jar&quot; ext=&quot;jar&quot; conf=&quot;default&quot;/&gt;\r\n    \t&lt;/publications&gt;\r\n    &lt;/ivy-module&gt;\r\n\r\nany pointers will be very helpful\r\n","title":"configuration not found in org.slf4j#slf4j-api;1.7.25: &#39;compile&#39;","body":"<p>I have used log4j 2 bridge to update Log4J version. In doing so, I have also updated slf4j-api version to 1.7.25 and slf4j-log4j12 version 1.7.25. I am using ivy when I try to run the build it gives me unresolved dependency error like below:\norg.slf4j#slf4j-api;1.7.25: configuration not found in org.slf4j#slf4j-api;1.7.25: 'compile'. It was required from org.slf4j#slf4j-log4j12;1.7.25 compile\nBelow is how I have added dependency in ivy.xml</p>\n\n\n<p>I have downloaded these jars from maven repository which also downloads ivy-1.7.25.xml for both the jars and this is how it looks for slf4j-log4j12:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;http://ant.apache.org/ivy/maven&quot;&gt;\n    &lt;info organisation=&quot;org.slf4j&quot;\n        module=&quot;slf4j-log4j12&quot;\n        revision=&quot;1.7.25&quot;\n        status=&quot;release&quot;\n        publication=&quot;20170316220700&quot;\n    &gt;\n        &lt;description homepage=&quot;http://www.slf4j.org&quot;&gt;\n        SLF4J LOG4J-12 Binding\n        &lt;/description&gt;\n        &lt;m:properties__project.reporting.outputEncoding&gt;UTF-8&lt;/m:properties__project.reporting.outputEncoding&gt;\n        &lt;m:dependency.management__log4j__log4j__version&gt;1.2.17&lt;/m:dependency.management__log4j__log4j__version&gt;\n        &lt;m:properties__maven-site-plugin.version&gt;3.3&lt;/m:properties__maven-site-plugin.version&gt;\n        &lt;m:properties__project.build.resourceEncoding&gt;UTF-8&lt;/m:properties__project.build.resourceEncoding&gt;\n        &lt;m:properties__log4j.version&gt;1.2.17&lt;/m:properties__log4j.version&gt;\n        &lt;m:properties__project.build.sourceEncoding&gt;UTF-8&lt;/m:properties__project.build.sourceEncoding&gt;\n        &lt;m:properties__junit.version&gt;4.12&lt;/m:properties__junit.version&gt;\n        &lt;m:properties__slf4j.api.minimum.compatible.version&gt;1.6.0&lt;/m:properties__slf4j.api.minimum.compatible.version&gt;\n        &lt;m:properties__required.jdk.version&gt;1.5&lt;/m:properties__required.jdk.version&gt;\n        &lt;m:properties__logback.version&gt;1.0.13&lt;/m:properties__logback.version&gt;\n        &lt;m:dependency.management__ch.qos.cal10n__cal10n-api__version&gt;0.8.1&lt;/m:dependency.management__ch.qos.cal10n__cal10n-api__version&gt;\n        &lt;m:properties__javadoc.plugin.version&gt;2.10.4&lt;/m:properties__javadoc.plugin.version&gt;\n        &lt;m:dependency.management__org.slf4j__slf4j-jdk14__version&gt;1.7.25&lt;/m:dependency.management__org.slf4j__slf4j-jdk14__version&gt;\n        &lt;m:properties__maven.compiler.target&gt;${required.jdk.version}&lt;/m:properties__maven.compiler.target&gt;\n        &lt;m:properties__cal10n.version&gt;0.8.1&lt;/m:properties__cal10n.version&gt;\n        &lt;m:dependency.management__org.slf4j__slf4j-api__version&gt;1.7.25&lt;/m:dependency.management__org.slf4j__slf4j-api__version&gt;\n        &lt;m:maven.plugins&gt;org.apache.maven.plugins__maven-compiler-plugin__3.3|org.apache.maven.plugins__maven-jar-plugin__2.3.1|org.apache.maven.plugins__maven-surefire-plugin__2.19.1|org.apache.maven.plugins__maven-source-plugin__2.1.2|org.apache.maven.plugins__maven-assembly-plugin__2.2|org.codehaus.mojo__build-helper-maven-plugin__1.7|org.apache.maven.plugins__maven-site-plugin__3.3|org.apache.maven.plugins__maven-compiler-plugin__3.3|org.apache.maven.plugins__maven-jar-plugin__2.3.1|org.apache.maven.plugins__maven-surefire-plugin__2.19.1|org.apache.maven.plugins__maven-source-plugin__2.1.2|org.apache.maven.plugins__maven-assembly-plugin__2.2|org.codehaus.mojo__build-helper-maven-plugin__1.7|org.apache.maven.plugins__maven-site-plugin__3.3&lt;/m:maven.plugins&gt;\n        &lt;m:properties__maven.compiler.source&gt;${required.jdk.version}&lt;/m:properties__maven.compiler.source&gt;\n    &lt;/info&gt;\n    &lt;configurations&gt;\n        &lt;conf name=&quot;default&quot; visibility=&quot;public&quot; description=&quot;runtime dependencies and master artifact can be used with this conf&quot; extends=&quot;runtime,master&quot;/&gt;\n        &lt;conf name=&quot;master&quot; visibility=&quot;public&quot; description=&quot;contains only the artifact published by this module itself, with no transitive dependencies&quot;/&gt;\n        &lt;conf name=&quot;compile&quot; visibility=&quot;public&quot; description=&quot;this is the default scope, used if none is specified. Compile dependencies are available in all classpaths.&quot;/&gt;\n        &lt;conf name=&quot;provided&quot; visibility=&quot;public&quot; description=&quot;this is much like compile, but indicates you expect the JDK or a container to provide it. It is only available on the compilation classpath, and is not transitive.&quot;/&gt;\n        &lt;conf name=&quot;runtime&quot; visibility=&quot;public&quot; description=&quot;this scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.&quot; extends=&quot;compile&quot;/&gt;\n        &lt;conf name=&quot;test&quot; visibility=&quot;private&quot; description=&quot;this scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases.&quot; extends=&quot;runtime&quot;/&gt;\n        &lt;conf name=&quot;system&quot; visibility=&quot;public&quot; description=&quot;this scope is similar to provided except that you have to provide the JAR which contains it explicitly. The artifact is always available and is not looked up in a repository.&quot;/&gt;\n        &lt;conf name=&quot;sources&quot; visibility=&quot;public&quot; description=&quot;this configuration contains the source artifact of this module, if any.&quot;/&gt;\n        &lt;conf name=&quot;javadoc&quot; visibility=&quot;public&quot; description=&quot;this configuration contains the javadoc artifact of this module, if any.&quot;/&gt;\n        &lt;conf name=&quot;optional&quot; visibility=&quot;public&quot; description=&quot;contains all optional dependencies&quot;/&gt;\n    &lt;/configurations&gt;\n    &lt;publications&gt;\n        &lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;jar&quot; ext=&quot;jar&quot; conf=&quot;master&quot;/&gt;\n        &lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;source&quot; ext=&quot;jar&quot; conf=&quot;sources&quot; m:classifier=&quot;sources&quot;/&gt;\n        &lt;artifact name=&quot;slf4j-log4j12&quot; type=&quot;javadoc&quot; ext=&quot;jar&quot; conf=&quot;javadoc&quot; m:classifier=&quot;javadoc&quot;/&gt;\n    &lt;/publications&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;compile-&gt;compile(*),master(*);runtime-&gt;runtime(*)&quot;/&gt;\n        &lt;dependency org=&quot;log4j&quot; name=&quot;log4j&quot; rev=&quot;1.2.17&quot; force=&quot;true&quot; conf=&quot;compile-&gt;compile(*),master(*);runtime-&gt;runtime(*)&quot;/&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.25&quot; force=&quot;true&quot; conf=&quot;test-&gt;runtime(*),master(*)&quot;&gt;\n            &lt;artifact name=&quot;slf4j-api&quot; type=&quot;test-jar&quot; ext=&quot;jar&quot; conf=&quot;&quot; m:classifier=&quot;tests&quot;/&gt;\n        &lt;/dependency&gt;\n        &lt;dependency org=&quot;junit&quot; name=&quot;junit&quot; rev=&quot;4.12&quot; force=&quot;true&quot; conf=&quot;test-&gt;runtime(*),master(*)&quot;/&gt;\n        &lt;override org=&quot;log4j&quot; module=&quot;log4j&quot; matcher=&quot;exact&quot; rev=&quot;1.2.17&quot;/&gt;\n        &lt;override org=&quot;ch.qos.cal10n&quot; module=&quot;cal10n-api&quot; matcher=&quot;exact&quot; rev=&quot;0.8.1&quot;/&gt;\n        &lt;override org=&quot;org.slf4j&quot; module=&quot;slf4j-jdk14&quot; matcher=&quot;exact&quot; rev=&quot;1.7.25&quot;/&gt;\n        &lt;override org=&quot;org.slf4j&quot; module=&quot;slf4j-api&quot; matcher=&quot;exact&quot; rev=&quot;1.7.25&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<p>and this is how it looks for slf4j-api</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ivy-module version=&quot;2.0&quot;&gt;\n    &lt;info organisation=&quot;org.slf4j&quot; module=&quot;slf4j-api&quot; revision=&quot;1.7.25&quot; status=&quot;release&quot; publication=&quot;20230425124605&quot; default=&quot;true&quot;/&gt;\n    &lt;configurations&gt;\n        &lt;conf name=&quot;default&quot; visibility=&quot;public&quot;/&gt;\n    &lt;/configurations&gt;\n    &lt;publications&gt;\n        &lt;artifact name=&quot;slf4j-api&quot; type=&quot;jar&quot; ext=&quot;jar&quot; conf=&quot;default&quot;/&gt;\n    &lt;/publications&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<p>any pointers will be very helpful</p>\n"},{"tags":["java","generics","comparator"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688103390,"post_id":76586267,"comment_id":135031560,"body_markdown":"Please format your code.","body":"Please format your code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688103501,"post_id":76586267,"comment_id":135031576,"body_markdown":"I don&#39;t see how the code you provide gets the error you mention, as you don&#39;t declare any type parameter `E`.","body":"I don&#39;t see how the code you provide gets the error you mention, as you don&#39;t declare any type parameter <code>E</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688104064,"post_id":76586267,"comment_id":135031648,"body_markdown":"You just need to give E bounds: `HeapWithComparator&lt;E extends Comparable&lt;E&gt;&gt;`, otherwise `naturalOrder()` can&#39;t give you a `Comparator`, as it relies on `E` being `Comparable`. Its signatuire is `public static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; naturalOrder()`","body":"You just need to give E bounds: <code>HeapWithComparator&lt;E extends Comparable&lt;E&gt;&gt;</code>, otherwise <code>naturalOrder()</code> can&#39;t give you a <code>Comparator</code>, as it relies on <code>E</code> being <code>Comparable</code>. Its signatuire is <code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; naturalOrder()</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688106756,"post_id":76586267,"comment_id":135031961,"body_markdown":"You just need `Comparator.&lt;E&gt;naturalOrder()`, as long as `E extends Comparable`, which the compiler will test for you here. If it doesn&#39;t, the comparator wouldn&#39;t work anyway.","body":"You just need <code>Comparator.&lt;E&gt;naturalOrder()</code>, as long as <code>E extends Comparable</code>, which the compiler will test for you here. If it doesn&#39;t, the comparator wouldn&#39;t work anyway."},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1688108538,"post_id":76586267,"comment_id":135032245,"body_markdown":"I really don&#39;t know if anything other than casting can work here: (Comparator&lt;? super E&gt;) Comparator.naturalOrder()","body":"I really don&#39;t know if anything other than casting can work here: (Comparator&lt;? super E&gt;) Comparator.naturalOrder()"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688109822,"post_id":76586267,"comment_id":135032484,"body_markdown":"@Beri When you try it my way you will know more.","body":"@Beri When you try it my way you will know more."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688110947,"post_id":76586267,"comment_id":135032681,"body_markdown":"@user207421 You&#39;re missing the point of this code. The class needs a way to compare elements, so it requires *either* a comparator *or* comparable elements, similar to TreeMap and PriorityQueue and List.sort(). Constraining E at the class level is not an option.","body":"@user207421 You&#39;re missing the point of this code. The class needs a way to compare elements, so it requires <i>either</i> a comparator <i>or</i> comparable elements, similar to TreeMap and PriorityQueue and List.sort(). Constraining E at the class level is not an option."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688112776,"post_id":76586267,"comment_id":135032981,"body_markdown":"@shmosel It has to be an option. Otherwise you can&#39;t use `naturalOrder()` at all.","body":"@shmosel It has to be an option. Otherwise you can&#39;t use <code>naturalOrder()</code> at all."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1688105250,"creation_date":1688104024,"answer_id":76586354,"question_id":76586267,"body_markdown":"Yes, you can use casting to circumvent the type mismatch:\r\n\r\n    this.comparator = (Comparator&lt;? super E&gt;)Comparator.naturalOrder();\r\n\r\nBut there&#39;s always a risk it&#39;ll be used for a non-Comparable type. A better solution is to instead expose a static factory constrained to ensure `E` is Comparable:\r\n\r\n    public static &lt;C extends Comparable&lt;? super C&gt;&gt; HeapWithComparator&lt;C&gt; naturallyOrdered() {\r\n        return new HeapWithComparator&lt;&gt;(Comparator.naturalOrder());\r\n    }","title":"Comparator.naturalOrder() giving compiler error when implementing in class","body":"<p>Yes, you can use casting to circumvent the type mismatch:</p>\n<pre><code>this.comparator = (Comparator&lt;? super E&gt;)Comparator.naturalOrder();\n</code></pre>\n<p>But there's always a risk it'll be used for a non-Comparable type. A better solution is to instead expose a static factory constrained to ensure <code>E</code> is Comparable:</p>\n<pre><code>public static &lt;C extends Comparable&lt;? super C&gt;&gt; HeapWithComparator&lt;C&gt; naturallyOrdered() {\n    return new HeapWithComparator&lt;&gt;(Comparator.naturalOrder());\n}\n</code></pre>\n"}],"owner":{"account_id":28914483,"reputation":3,"user_id":22146788,"display_name":"Hadi Soueidan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76586354,"answer_count":1,"score":0,"last_activity_date":1688112751,"creation_date":1688102868,"question_id":76586267,"body_markdown":"When trying to implement the no-arg constructor for this class the compiler is giving me the following error: \r\nType mismatch: cannot convert from Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt; to Comparator&lt;? super E&gt;\r\n\r\n\r\nI&#39;m trying to implement the following class:\r\n\r\n    class HeapWithComparator&lt;E&gt;{\r\n    \tprivate Comparator&lt;? super E&gt; comparator; // For comparing elements\r\n    \t\r\n    \tprivate ArrayList&lt;E&gt; a = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic HeapWithComparator() {\r\n    \t// No arg constructor implementing a comparator for natural order\r\n    \t\t**this.comparator = Comparator.naturalOrder()**;\r\n    \t}\r\n    \tpublic HeapWithComparator(Comparator&lt;? super E&gt; comparator) {\r\n    \t\tthis.comparator = comparator;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic int getSize() {\r\n    \t\treturn a.size();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nI understand that this has to do with E having to implement comparable. Would casting the comparator into Type mismatch: cannot convert from Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt; to Comparator&lt;? super E&gt; work?","title":"Comparator.naturalOrder() giving compiler error when implementing in class","body":"<p>When trying to implement the no-arg constructor for this class the compiler is giving me the following error:\nType mismatch: cannot convert from Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt; to Comparator&lt;? super E&gt;</p>\n<p>I'm trying to implement the following class:</p>\n<pre><code>class HeapWithComparator&lt;E&gt;{\n    private Comparator&lt;? super E&gt; comparator; // For comparing elements\n    \n    private ArrayList&lt;E&gt; a = new ArrayList&lt;&gt;();\n    \n    public HeapWithComparator() {\n    // No arg constructor implementing a comparator for natural order\n        **this.comparator = Comparator.naturalOrder()**;\n    }\n    public HeapWithComparator(Comparator&lt;? super E&gt; comparator) {\n        this.comparator = comparator;\n    \n    }\n    \n    public int getSize() {\n        return a.size();\n    }\n    \n    \n}\n</code></pre>\n<p>I understand that this has to do with E having to implement comparable. Would casting the comparator into Type mismatch: cannot convert from Comparator&lt;Comparable&lt;? super Comparable&lt;? super T&gt;&gt;&gt; to Comparator&lt;? super E&gt; work?</p>\n"},{"tags":["java","arrays","algorithm","sorting","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654804508,"post_id":72565822,"comment_id":128186060,"body_markdown":"`int[] combo = Stream.of(nums1, nums2).flatMapToInt(Arrays::stream).sorted().toArray();` would achieve this, but it could very likely be less efficient than &quot;zipping&quot; the two arrays together via a loop.","body":"<code>int[] combo = Stream.of(nums1, nums2).flatMapToInt(Arrays::stream).sorted().toArray();</code> would achieve this, but it could very likely be less efficient than &quot;zipping&quot; the two arrays together via a loop."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":2,"creation_date":1654822634,"post_id":72565822,"comment_id":128189682,"body_markdown":"You don&#39;t have to use stream for *everything*","body":"You don&#39;t have to use stream for <i>everything</i>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654811434,"creation_date":1654804620,"answer_id":72565967,"question_id":72565822,"body_markdown":"When we apply `sorted()` operation on a stream pipeline, under the hood it&#39;ll allocate an array in memory that will be filled with elements of the stream and sorted.\r\n\r\nTo sort an array of reference type Java uses an implementation of the [*Timsort algorithm*](https://en.wikipedia.org/wiki/Timsort), which is good at spotting sorted chunks of data in the input (*`Arrays.asList()` that you&#39;ve used in your example expects varargs `T`, so I assume we are talking about objects*).\r\n\r\nTherefore, if we simply concatenate the two data sets it will still perform reasonably well.\r\n\r\n```\r\nString[] nums1 = {&quot;1&quot;, &quot;3&quot;, &quot;4&quot;};\r\nString[] nums2 = {&quot;2&quot;, &quot;5&quot;};\r\nString[] merged = Stream.concat(Arrays.stream(nums1), Arrays.stream(nums2))\r\n    .sorted()\r\n    .toArray(String[]::new);\r\n    \r\nSystem.out.println(Arrays.toString(merged));\r\n```\r\n*Output:*\r\n```\r\n[1, 2, 3, 4, 5]\r\n```\r\n_____________________________________________________________\r\n\r\nIn case if you want to use conditional logic to obtain a sorted resulting array, then you must go with a plain `for` loop. It&#39;s not a job for a stream.\r\n\r\nUsing imperative programming, it can be implemented like that: \r\n```\r\nString[] nums1 = {&quot;1&quot;, &quot;3&quot;, &quot;4&quot;};\r\nString[] nums2 = {&quot;2&quot;, &quot;5&quot;};\r\n\r\nString[] merged = new String[nums1.length + nums2.length];\r\n        \r\nint pos1 = 0; // current index in the first array\r\nint pos2 = 0; // current index in the second array\r\n\r\nfor (int i = 0; i &lt; merged.length; i++) {\r\n    if (pos2 &gt;= nums2.length || pos1 &lt; nums1.length // if the second array is exhausted or if both positions are valid and the current element in the first array is the lowest\r\n        &amp;&amp; nums1[pos1].compareTo(nums2[pos2]) &lt; 0) {\r\n        merged[i] = nums1[pos1++];\r\n    } else {\r\n        merged[i] = nums2[pos2++];\r\n    }\r\n}\r\n\r\nSystem.out.println(Arrays.toString(merged));\r\n```\r\n*Output:*\r\n```\r\n[1, 2, 3, 4, 5]\r\n```","title":"Merge two Sorted Arrays in Java using Stream","body":"<p>When we apply <code>sorted()</code> operation on a stream pipeline, under the hood it'll allocate an array in memory that will be filled with elements of the stream and sorted.</p>\n<p>To sort an array of reference type Java uses an implementation of the <a href=\"https://en.wikipedia.org/wiki/Timsort\" rel=\"nofollow noreferrer\"><em>Timsort algorithm</em></a>, which is good at spotting sorted chunks of data in the input (<em><code>Arrays.asList()</code> that you've used in your example expects varargs <code>T</code>, so I assume we are talking about objects</em>).</p>\n<p>Therefore, if we simply concatenate the two data sets it will still perform reasonably well.</p>\n<pre><code>String[] nums1 = {&quot;1&quot;, &quot;3&quot;, &quot;4&quot;};\nString[] nums2 = {&quot;2&quot;, &quot;5&quot;};\nString[] merged = Stream.concat(Arrays.stream(nums1), Arrays.stream(nums2))\n    .sorted()\n    .toArray(String[]::new);\n    \nSystem.out.println(Arrays.toString(merged));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3, 4, 5]\n</code></pre>\n<hr />\n<p>In case if you want to use conditional logic to obtain a sorted resulting array, then you must go with a plain <code>for</code> loop. It's not a job for a stream.</p>\n<p>Using imperative programming, it can be implemented like that:</p>\n<pre><code>String[] nums1 = {&quot;1&quot;, &quot;3&quot;, &quot;4&quot;};\nString[] nums2 = {&quot;2&quot;, &quot;5&quot;};\n\nString[] merged = new String[nums1.length + nums2.length];\n        \nint pos1 = 0; // current index in the first array\nint pos2 = 0; // current index in the second array\n\nfor (int i = 0; i &lt; merged.length; i++) {\n    if (pos2 &gt;= nums2.length || pos1 &lt; nums1.length // if the second array is exhausted or if both positions are valid and the current element in the first array is the lowest\n        &amp;&amp; nums1[pos1].compareTo(nums2[pos2]) &lt; 0) {\n        merged[i] = nums1[pos1++];\n    } else {\n        merged[i] = nums2[pos2++];\n    }\n}\n\nSystem.out.println(Arrays.toString(merged));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3, 4, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654807267,"creation_date":1654807267,"answer_id":72566430,"question_id":72565822,"body_markdown":"Streams are nice but i recommend you this way because with streams you first have to change the arrays to streams only to work on them which could get expensive\r\n\r\n    public static String[] mergeAndSort(String[] arr1, String[] arr2) {\r\n        int nums1Size = arr1.length;\r\n        int nums2Size = arr2.length;\r\n\r\n        String[] result = new String[nums1Size + nums2Size];  \r\n        System.arraycopy(arr1, 0, result, 0, nums1Size);\r\n        System.arraycopy(arr2, 0, result, nums1Size, nums2Size);\r\n\r\n        Arrays.sort(result);\r\n        return result;\r\n    }","title":"Merge two Sorted Arrays in Java using Stream","body":"<p>Streams are nice but i recommend you this way because with streams you first have to change the arrays to streams only to work on them which could get expensive</p>\n<pre><code>public static String[] mergeAndSort(String[] arr1, String[] arr2) {\n    int nums1Size = arr1.length;\n    int nums2Size = arr2.length;\n\n    String[] result = new String[nums1Size + nums2Size];  \n    System.arraycopy(arr1, 0, result, 0, nums1Size);\n    System.arraycopy(arr2, 0, result, nums1Size, nums2Size);\n\n    Arrays.sort(result);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28911849,"reputation":1,"user_id":22144694,"display_name":"user22144694"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688112409,"creation_date":1687951515,"answer_id":76572713,"question_id":72565822,"body_markdown":"```Java\r\nInteger [] arrOne = {1,3,40};\r\nInteger [] arrTwo = {44,6,7};\r\n\r\nprivate Integer[] flatTwoArray(Integer[] aa, Integer[] ab) {\r\n\treturn Stream.of(aa,ab).flatMap(Stream::of).sorted().toArray(Integer[]::new);\r\n```","title":"Merge two Sorted Arrays in Java using Stream","body":"<pre><code>Integer [] arrOne = {1,3,40};\nInteger [] arrTwo = {44,6,7};\n\nprivate Integer[] flatTwoArray(Integer[] aa, Integer[] ab) {\n    return Stream.of(aa,ab).flatMap(Stream::of).sorted().toArray(Integer[]::new);\n</code></pre>\n"}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688112409,"creation_date":1654803754,"question_id":72565822,"body_markdown":"I have two sorted integer arrays. I am looking to merge them into one sorted array. I would like to use Java Stream to achieve this. \r\n\r\nCan I do a nested stream?\r\n\r\n    Arrays.asList(nums1).stream()\r\n                .forEach(i -&gt; Arrays.asList(nums2).stream()\r\n                        .forEach(j -&gt; //compare i,j)\r\n                                .collect as list// ;  \r\n\r\nFor example, `[1,3,4]` and `[2,5]` should return `[1,2,3,4,5]`","title":"Merge two Sorted Arrays in Java using Stream","body":"<p>I have two sorted integer arrays. I am looking to merge them into one sorted array. I would like to use Java Stream to achieve this.</p>\n<p>Can I do a nested stream?</p>\n<pre><code>Arrays.asList(nums1).stream()\n            .forEach(i -&gt; Arrays.asList(nums2).stream()\n                    .forEach(j -&gt; //compare i,j)\n                            .collect as list// ;  \n</code></pre>\n<p>For example, <code>[1,3,4]</code> and <code>[2,5]</code> should return <code>[1,2,3,4,5]</code></p>\n"},{"tags":["java","linux","svn","dbus"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688112603,"post_id":76587109,"comment_id":135032954,"body_markdown":"Does this answer your question? [No such interface &#39;org.freedesktop.DBus.Properties&#39; on object at path /org/freedesktop/NetworkManager/ActiveConnection/](https://stackoverflow.com/questions/49570593/no-such-interface-org-freedesktop-dbus-properties-on-object-at-path-org-freed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49570593/no-such-interface-org-freedesktop-dbus-properties-on-object-at-path-org-freed\">No such interface &#39;org.freedesktop.DBus.Properties&#39; on object at path /org/freedesktop/NetworkManager/ActiveConnection/</a>"}],"owner":{"account_id":8945824,"reputation":1,"user_id":6673338,"display_name":"Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688112270,"creation_date":1688112270,"question_id":76587109,"body_markdown":"My friends，i got a strange error,is anyone can help me?\r\nWhen i try to get files via svn in a java web project on a ubantu/kyrin linux,it report an error,whitch force shutdown the tomcat server.\r\nThe error message is:\r\n\r\n```\r\nGkr-Message: secret service operation failed:No such interface[org.freedesktop.DBus.Properties] on object at path /org/freedesktop/secrets/collection/login\r\ndbus[100444]: arguments to dbus_message_iter_apend_basic() were incorrect,assertion &quot;_dbus_check_is_valid_utf8(*strinng_p)&quot; failed in file dbus-message.c line 2754.\r\nThis is normally a bug in some application using the D-bus lubrary\r\nD-Bus not built with -rdynamic so unable to print a backtrace\r\n```\r\nAt first,i thought i need to install a svn client in linux,then i found it already has a fully functional svn client.\r\nThen,i tried to update the version of svnkit.jar to 1.10.3,but still is a fail.\r\nI really really dont know how to fix it,looking forward an expert,thank you all.\r\n\r\n","title":"Is there an bug in dbus?","body":"<p>My friends，i got a strange error,is anyone can help me?\nWhen i try to get files via svn in a java web project on a ubantu/kyrin linux,it report an error,whitch force shutdown the tomcat server.\nThe error message is:</p>\n<pre><code>Gkr-Message: secret service operation failed:No such interface[org.freedesktop.DBus.Properties] on object at path /org/freedesktop/secrets/collection/login\ndbus[100444]: arguments to dbus_message_iter_apend_basic() were incorrect,assertion &quot;_dbus_check_is_valid_utf8(*strinng_p)&quot; failed in file dbus-message.c line 2754.\nThis is normally a bug in some application using the D-bus lubrary\nD-Bus not built with -rdynamic so unable to print a backtrace\n</code></pre>\n<p>At first,i thought i need to install a svn client in linux,then i found it already has a fully functional svn client.\nThen,i tried to update the version of svnkit.jar to 1.10.3,but still is a fail.\nI really really dont know how to fix it,looking forward an expert,thank you all.</p>\n"},{"tags":["python","java","browser","microsoft-edge","chromium"],"answers":[{"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688112249,"creation_date":1688112249,"answer_id":76587106,"question_id":76578468,"body_markdown":"Even though [it is stated as &quot;Dynamic Policy Refresh: Yes&quot;][1], it only works when you configure the policy via group policy editor instead of registry settings. It is a [limitation][2] acknowledged by Chromium Team.\r\n\r\nYou can try &quot;Reg Key observer&quot; mentioned there by the Chromium Team, but an easier way for you to do this is to download the Edge group policy template, and then configure the policy via group policy editor. It supports dynamic policy refresh. You can check [this doc][3] if you are interested.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#urlblocklist\r\n  [2]: https://bugs.chromium.org/p/chromium/issues/detail?id=767860\r\n  [3]: https://learn.microsoft.com/en-us/deployedge/configure-microsoft-edge#1-download-and-install-the-microsoft-edge-administrative-template","title":"After change in URLBLockList registrykey for Edge, I need to restart Edge to reflect the changes","body":"<p>Even though <a href=\"https://learn.microsoft.com/en-us/deployedge/microsoft-edge-policies#urlblocklist\" rel=\"nofollow noreferrer\">it is stated as &quot;Dynamic Policy Refresh: Yes&quot;</a>, it only works when you configure the policy via group policy editor instead of registry settings. It is a <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=767860\" rel=\"nofollow noreferrer\">limitation</a> acknowledged by Chromium Team.</p>\n<p>You can try &quot;Reg Key observer&quot; mentioned there by the Chromium Team, but an easier way for you to do this is to download the Edge group policy template, and then configure the policy via group policy editor. It supports dynamic policy refresh. You can check <a href=\"https://learn.microsoft.com/en-us/deployedge/configure-microsoft-edge#1-download-and-install-the-microsoft-edge-administrative-template\" rel=\"nofollow noreferrer\">this doc</a> if you are interested.</p>\n"}],"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688112249,"creation_date":1688019337,"question_id":76578468,"body_markdown":"I have a use-case where what currently user is working on windows machine, we need to blocklist few websites.\r\n\r\nI am able to do this but where I am stuck is that we need to restart Edge every time the registry value changes otherwise changes are not reflected. I am assuming that edge is caching the allowlist/blocklist when it start. Any way I can disable this\r\n\r\nRegistry key path - Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Edge\\URLBlocklist","title":"After change in URLBLockList registrykey for Edge, I need to restart Edge to reflect the changes","body":"<p>I have a use-case where what currently user is working on windows machine, we need to blocklist few websites.</p>\n<p>I am able to do this but where I am stuck is that we need to restart Edge every time the registry value changes otherwise changes are not reflected. I am assuming that edge is caching the allowlist/blocklist when it start. Any way I can disable this</p>\n<p>Registry key path - Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Edge\\URLBlocklist</p>\n"},{"tags":["java","apache-spark","spark-streaming","spark-structured-streaming","statsd"],"comments":[{"owner":{"account_id":1383279,"reputation":1339,"user_id":1315833,"accept_rate":80,"display_name":"Vindhya G"},"score":0,"creation_date":1688122208,"post_id":76587088,"comment_id":135034758,"body_markdown":"Can you try setting in sparkcontext instead of spark session? Also may be try changing default values in  spark-submit to see if that works(if so we can have separate submits  for different jobs as a immediate wordaround)","body":"Can you try setting in sparkcontext instead of spark session? Also may be try changing default values in  spark-submit to see if that works(if so we can have separate submits  for different jobs as a immediate wordaround)"},{"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"score":0,"creation_date":1688471050,"post_id":76587088,"comment_id":135075929,"body_markdown":"@VindhyaG tried by updating the sparkcontext but it was not reflecting. If i killed the existing sparkcontext and creating a new one means. The configuration was reflecting. But after sometimes the application was shutting down with this issue. (com.timgroup.statsd.StatsDClientException: Failed to start StatsD client\nCaused by: java.net.SocketException: maximum number of DatagramSockets reached). But if i enabled the metrics via cluster. It was running fine. I am not getting any socket exception","body":"@VindhyaG tried by updating the sparkcontext but it was not reflecting. If i killed the existing sparkcontext and creating a new one means. The configuration was reflecting. But after sometimes the application was shutting down with this issue. (com.timgroup.statsd.StatsDClientException: Failed to start StatsD client Caused by: java.net.SocketException: maximum number of DatagramSockets reached). But if i enabled the metrics via cluster. It was running fine. I am not getting any socket exception"},{"owner":{"account_id":1383279,"reputation":1339,"user_id":1315833,"accept_rate":80,"display_name":"Vindhya G"},"score":0,"creation_date":1688471460,"post_id":76587088,"comment_id":135076003,"body_markdown":"So you mean sparkcontext reflects the conf changes  but fails after a while and spark-submit works without issue ?","body":"So you mean sparkcontext reflects the conf changes  but fails after a while and spark-submit works without issue ?"},{"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"score":0,"creation_date":1688542427,"post_id":76587088,"comment_id":135085481,"body_markdown":"Yes sparkcontext refects the conf changes only if i we kill the existing sparkcontext. Which was created by default in databricks. After a while the application fails. I wont tried the spark-submit yet.","body":"Yes sparkcontext refects the conf changes only if i we kill the existing sparkcontext. Which was created by default in databricks. After a while the application fails. I wont tried the spark-submit yet."}],"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688112081,"creation_date":1688112081,"question_id":76587088,"body_markdown":"I am trying to get the spark default metrics from the application to statsd sink at Job level not cluster level. So I configured the necessary configuration in the Spark session in code. And in a local system, which means a single node, while it is running, I am able to receive all the UDP packets. While in the AWS DataBricks (SingleNode or MultiNode) cluster, I deployed the same jar. But there, I am not getting any metrics. But if I override the Spark config in Advance Options -&gt; Compute in Databricks. I am able to receive metrics. And configurations are reflected in the Environment Variables.\r\n\r\n[![SparkSession configuration code](https://i.stack.imgur.com/eoSoK.png)](https://i.stack.imgur.com/eoSoK.png)]\r\n[![AWS Databricks -&gt; Compute -&gt; Advance Options -&gt; Spark Config cluster](https://i.stack.imgur.com/K1o4t.png)](https://i.stack.imgur.com/K1o4t.png)\r\n\r\n\r\nI tried updating &quot;metrics.properties&quot; using InitScript in the databricks cluster. I am not able to see the values in Environment Variables in the Spark UI. And also overrode the spark session configuration again after the spark session creation. And I am printing the spark configuration values in the console. Still Not reflecting the environmental Variables.[![Spark Config override after spark session](https://i.stack.imgur.com/hGNGb.png)](https://i.stack.imgur.com/hGNGb.png)","title":"SparkSession configuration at the Job level is not getting applied; Spark Cluster configuration is overriding it","body":"<p>I am trying to get the spark default metrics from the application to statsd sink at Job level not cluster level. So I configured the necessary configuration in the Spark session in code. And in a local system, which means a single node, while it is running, I am able to receive all the UDP packets. While in the AWS DataBricks (SingleNode or MultiNode) cluster, I deployed the same jar. But there, I am not getting any metrics. But if I override the Spark config in Advance Options -&gt; Compute in Databricks. I am able to receive metrics. And configurations are reflected in the Environment Variables.</p>\n<p><a href=\"https://i.stack.imgur.com/eoSoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoSoK.png\" alt=\"SparkSession configuration code\" /></a>]\n<a href=\"https://i.stack.imgur.com/K1o4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K1o4t.png\" alt=\"AWS Databricks -&gt; Compute -&gt; Advance Options -&gt; Spark Config cluster\" /></a></p>\n<p>I tried updating &quot;metrics.properties&quot; using InitScript in the databricks cluster. I am not able to see the values in Environment Variables in the Spark UI. And also overrode the spark session configuration again after the spark session creation. And I am printing the spark configuration values in the console. Still Not reflecting the environmental Variables.<a href=\"https://i.stack.imgur.com/hGNGb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hGNGb.png\" alt=\"Spark Config override after spark session\" /></a></p>\n"},{"tags":["java","asynchronous","reactive-programming"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1600885223,"post_id":64033955,"comment_id":113232972,"body_markdown":"They&#39;re closely related, but reactive is also &quot;lazy&quot;; see the concept of *backpressure*.","body":"They&#39;re closely related, but reactive is also &quot;lazy&quot;; see the concept of <i>backpressure</i>."}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1688112051,"creation_date":1600891653,"answer_id":64035504,"question_id":64033955,"body_markdown":"Consider two parallel algorithms, producer and consumer. If the consumer works faster than the producer, we have to block the consumer algorithm until the producer provides new data. Generally, we have two ways to block the consumer:\r\n\r\n1. Implement the consumer as a thread and block that thread.\r\n2. Implement the consumer as a task running on a thread pool and return from that task (and tell the producer to restart the task when the data is ready).\r\nThe first method of implementing the consumer is synchronous, and the second is asynchronous.\r\n\r\nNow consider the opposite case: the producer is faster than the consumer. Then again, we have two options to block the producer:\r\n\r\n1. Implement the producer as a thread and block that thread.\r\n2. Implement the producer as a task running on a thread pool and return from that task (and tell the consumer to restart the producer task when it is able to receive data).\r\nNaturally, the first option is synchronous and the second is asynchronous. And the second, asynchronous option to define the interaction between a fast producer and a slow consumer is called reactive programming.\r\n\r\nSo, reactive programming is a subset of asynchronous programming. There are many different protocols to define the interaction between asynchronous activities, and reactive programming is only one of them, which cannot cover all possible cases of asynchronous communication.\r\n\r\nI tried to collect asynchronous protocols in this module: https://github.com/akaigoro/df4j/tree/API-8/df4j-protocols. Other protocols can be (re)invented, for example, byte streams with or without backpressure, analogous to synchronous [InputStream][1] and [OutputStream][2]. I am sure any synchronous protocol has its asynchronous counterpart.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html","title":"Asynchronous Programming and Reactive Programming","body":"<p>Consider two parallel algorithms, producer and consumer. If the consumer works faster than the producer, we have to block the consumer algorithm until the producer provides new data. Generally, we have two ways to block the consumer:</p>\n<ol>\n<li>Implement the consumer as a thread and block that thread.</li>\n<li>Implement the consumer as a task running on a thread pool and return from that task (and tell the producer to restart the task when the data is ready).\nThe first method of implementing the consumer is synchronous, and the second is asynchronous.</li>\n</ol>\n<p>Now consider the opposite case: the producer is faster than the consumer. Then again, we have two options to block the producer:</p>\n<ol>\n<li>Implement the producer as a thread and block that thread.</li>\n<li>Implement the producer as a task running on a thread pool and return from that task (and tell the consumer to restart the producer task when it is able to receive data).\nNaturally, the first option is synchronous and the second is asynchronous. And the second, asynchronous option to define the interaction between a fast producer and a slow consumer is called reactive programming.</li>\n</ol>\n<p>So, reactive programming is a subset of asynchronous programming. There are many different protocols to define the interaction between asynchronous activities, and reactive programming is only one of them, which cannot cover all possible cases of asynchronous communication.</p>\n<p>I tried to collect asynchronous protocols in this module: <a href=\"https://github.com/akaigoro/df4j/tree/API-8/df4j-protocols\" rel=\"nofollow noreferrer\">https://github.com/akaigoro/df4j/tree/API-8/df4j-protocols</a>. Other protocols can be (re)invented, for example, byte streams with or without backpressure, analogous to synchronous <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">OutputStream</a>. I am sure any synchronous protocol has its asynchronous counterpart.</p>\n"}],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9589,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":64035504,"answer_count":1,"score":10,"last_activity_date":1688112051,"creation_date":1600884783,"question_id":64033955,"body_markdown":"This question is in my mind about a year. Actually are there any differences in Asysnchronus and Non-blocking. When we call the blocking part in our code then it becomes blocking which is synchronous and at the same time it will not be non-blocking.\r\n\r\n If we are creating another thread apart from main thread to make asynchronous programming and we have to return some value so we have to define `join()` method in java and `join()` is blocking operation then is it actually asynchronous?\r\n\r\n\r\n  I need to know answer for the following questions\r\n\r\n  1. If blocking is similar to synchronous then what is the different between asynchronous and non blocking. Should it be similar ? if not then why?\r\n\r\n  2. Reactive Programming which is non blocking does it fully asynchronous programming?\r\n\r\n\r\n \r\n\r\n","title":"Asynchronous Programming and Reactive Programming","body":"<p>This question is in my mind about a year. Actually are there any differences in Asysnchronus and Non-blocking. When we call the blocking part in our code then it becomes blocking which is synchronous and at the same time it will not be non-blocking.</p>\n<p>If we are creating another thread apart from main thread to make asynchronous programming and we have to return some value so we have to define <code>join()</code> method in java and <code>join()</code> is blocking operation then is it actually asynchronous?</p>\n<p>I need to know answer for the following questions</p>\n<ol>\n<li><p>If blocking is similar to synchronous then what is the different between asynchronous and non blocking. Should it be similar ? if not then why?</p>\n</li>\n<li><p>Reactive Programming which is non blocking does it fully asynchronous programming?</p>\n</li>\n</ol>\n"},{"tags":["java","for-loop","arraylist"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1688043744,"post_id":76581258,"comment_id":135022817,"body_markdown":"`for (int i = input; i &lt; data.size(); i --) {` Since you are going backwards, the condition should be `i &gt;= 0`.","body":"<code>for (int i = input; i &lt; data.size(); i --) {</code> Since you are going backwards, the condition should be <code>i &gt;= 0</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1688044153,"post_id":76581258,"comment_id":135022901,"body_markdown":"Also, shouldn&#39;t you be using `in` there, which is the user&#39;s inputted index?","body":"Also, shouldn&#39;t you be using <code>in</code> there, which is the user&#39;s inputted index?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1688044775,"post_id":76581258,"comment_id":135023046,"body_markdown":"Your image, data, and explanation don&#39;t seem to match.","body":"Your image, data, and explanation don&#39;t seem to match."},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688046379,"post_id":76581258,"comment_id":135023439,"body_markdown":"@001 Thanks for correcting, I will check it out.","body":"@001 Thanks for correcting, I will check it out."},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688046521,"post_id":76581258,"comment_id":135023477,"body_markdown":"@WJS Image is an example for understanding the task. The txt file contains 1 integer/line however the picture helps you understand the logic.","body":"@WJS Image is an example for understanding the task. The txt file contains 1 integer/line however the picture helps you understand the logic."},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1688046793,"post_id":76581258,"comment_id":135023552,"body_markdown":"_&quot;I need to go backwards [...] After I need to go forward&quot;_ Sounds like two separate for-loops then. Both would start from the given index. Going through all the data (forwards only) just once and remembering the last index of zero depth is one way, but it&#39;s horribly inefficient if there&#39;s a lot of data, so I wouldn&#39;t do it that way.","body":"<i>&quot;I need to go backwards [...] After I need to go forward&quot;</i> Sounds like two separate for-loops then. Both would start from the given index. Going through all the data (forwards only) just once and remembering the last index of zero depth is one way, but it&#39;s horribly inefficient if there&#39;s a lot of data, so I wouldn&#39;t do it that way."},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688047197,"post_id":76581258,"comment_id":135023660,"body_markdown":"@MarkusKauppinen Yes I was trying to solve this by 2 for-loops. Can you suggest a different way please?","body":"@MarkusKauppinen Yes I was trying to solve this by 2 for-loops. Can you suggest a different way please?"},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688047747,"post_id":76581258,"comment_id":135023793,"body_markdown":"@user16320675 My mistake.. sorry. My example was &quot;0 0 0 1 2 2 2 2 2 2 3 2 2 1 0&quot; for the pit. So the pit starts at index 3 and ends at index 13.","body":"@user16320675 My mistake.. sorry. My example was &quot;0 0 0 1 2 2 2 2 2 2 3 2 2 1 0&quot; for the pit. So the pit starts at index 3 and ends at index 13."},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688108830,"post_id":76581258,"comment_id":135032293,"body_markdown":"@N.K Thank you very much for expressing your thoughts on my learning journey. I strongly agree with most of your statements, however what you presume is not my case. \nI will be studying programming next year and the task I brought to you is a small part of the final exams for entry level programming. At the moment I am doing this for getting introduced with Java. I am interested in Java language and wanted to try to solve this task.  It is not asked by any professor or anyone else.","body":"@N.K Thank you very much for expressing your thoughts on my learning journey. I strongly agree with most of your statements, however what you presume is not my case.  I will be studying programming next year and the task I brought to you is a small part of the final exams for entry level programming. At the moment I am doing this for getting introduced with Java. I am interested in Java language and wanted to try to solve this task.  It is not asked by any professor or anyone else."},{"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"score":0,"creation_date":1688108896,"post_id":76581258,"comment_id":135032306,"body_markdown":"@N.K I am doing this because I am interested in this field. All exams are available online in my country so I am welcomed to try. Please consider that there are people who are doing this as a hobby or trying to get some experience before going to universities. If you believe the question asked is too easy to solve or the OP is lazy, feel free to express your opinion but make sure you don&#39;t force your preconception about someone asking for help on StackOverflow.","body":"@N.K I am doing this because I am interested in this field. All exams are available online in my country so I am welcomed to try. Please consider that there are people who are doing this as a hobby or trying to get some experience before going to universities. If you believe the question asked is too easy to solve or the OP is lazy, feel free to express your opinion but make sure you don&#39;t force your preconception about someone asking for help on StackOverflow."},{"owner":{"account_id":9149775,"reputation":1619,"user_id":6804762,"accept_rate":100,"display_name":"N.K"},"score":1,"creation_date":1688370423,"post_id":76581258,"comment_id":135059990,"body_markdown":"My assumption was wrong, that&#39;s my bad, however i stand by what i say. If you&#39;re looking to learn then you should start by learning the langage itself, what can it do, through options like open classrooms for example, and then ask questions related to specific concepts, not directly ask for the whole reflexion to be fed down your throat. No matter the context (ie: student, amateur, whatever else) this is not an effective way to learn. I can guarantee you next time you&#39;ll encounter a similar problem you won&#39;t be able to reproduce that chain of thoughts by yourself, not as accurately.","body":"My assumption was wrong, that&#39;s my bad, however i stand by what i say. If you&#39;re looking to learn then you should start by learning the langage itself, what can it do, through options like open classrooms for example, and then ask questions related to specific concepts, not directly ask for the whole reflexion to be fed down your throat. No matter the context (ie: student, amateur, whatever else) this is not an effective way to learn. I can guarantee you next time you&#39;ll encounter a similar problem you won&#39;t be able to reproduce that chain of thoughts by yourself, not as accurately."},{"owner":{"account_id":9149775,"reputation":1619,"user_id":6804762,"accept_rate":100,"display_name":"N.K"},"score":0,"creation_date":1688370569,"post_id":76581258,"comment_id":135060012,"body_markdown":"In any case, i sincerely wish you the best in your learning journey, good luck.","body":"In any case, i sincerely wish you the best in your learning journey, good luck."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1688057868,"creation_date":1688048191,"answer_id":76581920,"question_id":76581258,"body_markdown":"Upon thinking about this some, I came up with an improved solution which does not require storage of the values nor does it require multiple loops.\r\nThis presumes that the first element in the file is the starting position (`threshold`) and what follows are the depths. It is up to you to make adjustments to suit your situation.\r\n- The basic idea is to read in the values until the threshold is reached, only changing `start` if a depth of `0` occurs.\r\n- Once the threshold is met, simply continue reading until a depth of `0` is found or until the end of file is reached, incrementing `end` as appropriate \r\n```\r\nString fileName = &quot;&lt;your filename&gt;&quot;;\r\ntry (Scanner in = new Scanner(new File(fileName))) {\r\n    int threshold = in.nextInt();\r\n    int index = 0;\r\n    int end = 0;\r\n    int start = 0;\r\n    while (in.hasNextInt()) {\r\n       int depth = in.nextInt();\r\n       if (depth == 0 &amp;&amp; index &lt; threshold) {\r\n           start = index+1;\r\n       }\r\n       if (index &gt;= threshold &amp;&amp; depth == 0) {\r\n          break;\r\n       }\r\n       end = index;\r\n       index++;\r\n    }\r\n    if (end &lt; threshold) {\r\n        System.out.printf(&quot;No pit at index %d%n&quot;, threshold);\r\n    } else {\r\n        System.out.printf(&quot;Pit starts at index %d and ends at index %d%n&quot;,\r\n                start, end);\r\n    }\r\n} catch (FileNotFoundException fne) {\r\n    fne.printStackTrace();\r\n}","title":"How Can I use for-loop to solve this task?","body":"<p>Upon thinking about this some, I came up with an improved solution which does not require storage of the values nor does it require multiple loops.\nThis presumes that the first element in the file is the starting position (<code>threshold</code>) and what follows are the depths. It is up to you to make adjustments to suit your situation.</p>\n<ul>\n<li>The basic idea is to read in the values until the threshold is reached, only changing <code>start</code> if a depth of <code>0</code> occurs.</li>\n<li>Once the threshold is met, simply continue reading until a depth of <code>0</code> is found or until the end of file is reached, incrementing <code>end</code> as appropriate</li>\n</ul>\n<pre><code>String fileName = &quot;&lt;your filename&gt;&quot;;\ntry (Scanner in = new Scanner(new File(fileName))) {\n    int threshold = in.nextInt();\n    int index = 0;\n    int end = 0;\n    int start = 0;\n    while (in.hasNextInt()) {\n       int depth = in.nextInt();\n       if (depth == 0 &amp;&amp; index &lt; threshold) {\n           start = index+1;\n       }\n       if (index &gt;= threshold &amp;&amp; depth == 0) {\n          break;\n       }\n       end = index;\n       index++;\n    }\n    if (end &lt; threshold) {\n        System.out.printf(&quot;No pit at index %d%n&quot;, threshold);\n    } else {\n        System.out.printf(&quot;Pit starts at index %d and ends at index %d%n&quot;,\n                start, end);\n    }\n} catch (FileNotFoundException fne) {\n    fne.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":28912877,"reputation":11,"user_id":22145484,"display_name":"Nicoden"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76581920,"answer_count":1,"score":-2,"last_activity_date":1688111862,"creation_date":1688043222,"question_id":76581258,"body_markdown":"I have a txt file which contains only integers. Each line contains 1 integer.\r\nThe txt file is representing  pits and their depth in the ground:\r\n![](https://i.stack.imgur.com/JATny.png)\r\n\r\nFor example: \r\n0\r\n0\r\n0\r\n1\r\n2\r\n2\r\n2\r\n2\r\n2\r\n2\r\n3\r\n2\r\n2\r\n1\r\n0\r\n\r\nIn this case, the pit starts from the index 3 and ends at index 13.\r\nLets say the user input is 10. The depth of the pit is 2m at index 10.\r\n From the 10. index I need to go backwards until I reach the index with value of 0 to determinate the beginig of the pit. After I need to go forward until I reach 0 again to determinate the end of the pit.\r\nHow would you go about this? \r\n\r\n\r\n```\r\nint in = sc.nextInt();\r\nint input = Integer.parseInt(data.get(in - 1));\r\nif (input == 0) {\r\n    System.out.println(&quot;There is no pit at this index!&quot;);\r\n}\r\n\r\nfor (int i = input; i &lt; data.size(); i--) {\r\n    if (Integer.parseInt(data.get(i)) == 0) {\r\n        System.out.println(&quot;The first index of the pit : &quot; + data.get(i + 1));\r\n    }\r\n}\r\n```\r\n\r\n","title":"How Can I use for-loop to solve this task?","body":"<p>I have a txt file which contains only integers. Each line contains 1 integer.\nThe txt file is representing  pits and their depth in the ground:\n<img src=\"https://i.stack.imgur.com/JATny.png\" alt=\"\" /></p>\n<p>For example:\n0\n0\n0\n1\n2\n2\n2\n2\n2\n2\n3\n2\n2\n1\n0</p>\n<p>In this case, the pit starts from the index 3 and ends at index 13.\nLets say the user input is 10. The depth of the pit is 2m at index 10.\nFrom the 10. index I need to go backwards until I reach the index with value of 0 to determinate the beginig of the pit. After I need to go forward until I reach 0 again to determinate the end of the pit.\nHow would you go about this?</p>\n<pre><code>int in = sc.nextInt();\nint input = Integer.parseInt(data.get(in - 1));\nif (input == 0) {\n    System.out.println(&quot;There is no pit at this index!&quot;);\n}\n\nfor (int i = input; i &lt; data.size(); i--) {\n    if (Integer.parseInt(data.get(i)) == 0) {\n        System.out.println(&quot;The first index of the pit : &quot; + data.get(i + 1));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"comments":[{"owner":{"account_id":1373414,"reputation":71469,"user_id":1307905,"accept_rate":75,"display_name":"Anthon"},"score":0,"creation_date":1688111816,"post_id":76577955,"comment_id":135032830,"body_markdown":"The [YML](https://fdik.org/yml/) format is XML based and looks completely different from [YAML](https://yaml.org/spec/1.2/spec.html)","body":"The <a href=\"https://fdik.org/yml/\" rel=\"nofollow noreferrer\">YML</a> format is XML based and looks completely different from <a href=\"https://yaml.org/spec/1.2/spec.html\" rel=\"nofollow noreferrer\">YAML</a>"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688011736,"creation_date":1688011736,"answer_id":76578007,"question_id":76577955,"body_markdown":"The `@ConfigurationProperties` annotation is used to map a class properties with a configuration file properties. Here you don&#39;t need to call `@Value` because Spring will automatically configure `MyConnection` to map with your properties in the `application.propertie` file.\r\n\r\nThere are some modifications you have to do in your class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;check.connection&quot;)\r\n    public class MyConnection{\r\n        private String url;\r\n        private String key;\r\n        private String keyIntegration;\r\n    }\r\n\r\n\r\n 1. Add `@Configuration` on your class\r\n 2. Add a new propertie `keyIntegration` to map it with your file propertie `check.connection.key.integration`\r\n\r\n\r\nFor more details, check this [link][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/configuration-properties-in-spring-boot","title":"How to assign different value to a spring bean variable from yml file based on spring profile","body":"<p>The <code>@ConfigurationProperties</code> annotation is used to map a class properties with a configuration file properties. Here you don't need to call <code>@Value</code> because Spring will automatically configure <code>MyConnection</code> to map with your properties in the <code>application.propertie</code> file.</p>\n<p>There are some modifications you have to do in your class:</p>\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = &quot;check.connection&quot;)\npublic class MyConnection{\n    private String url;\n    private String key;\n    private String keyIntegration;\n}\n</code></pre>\n<ol>\n<li>Add <code>@Configuration</code> on your class</li>\n<li>Add a new propertie <code>keyIntegration</code> to map it with your file propertie <code>check.connection.key.integration</code></li>\n</ol>\n<p>For more details, check this <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":1481208,"reputation":3739,"user_id":1403801,"accept_rate":90,"display_name":"NewUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688013185,"creation_date":1688013185,"answer_id":76578075,"question_id":76577955,"body_markdown":"Spring provides this capability out of the box, if you need to manage different values for different profiles, then you can create application-&lt;profile-name).yml (or properties) and spring will override the values provided when a profile is activated.\r\n\r\nYou should not be creating different keys for your profiles. That is an anti pattern.\r\n\r\n\r\n\r\nHere is a step-by-step guide for a minimal POC.\r\n\r\nCreate your main application:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesScan;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    \r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    @ConfigurationPropertiesScan(basePackageClasses = Connection.class)\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\nPay attention to `basePackageClasses = Connection.class` and read more about it in spring docs.\r\n\r\nHere is how the `Connection` class looks in my project.\r\n\r\n    import jakarta.annotation.PostConstruct;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;check.connection&quot;)\r\n    public class Connection {\r\n        private String url;\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void printAll() {\r\n            System.out.println(this.url);\r\n        }\r\n    }\r\n\r\n\r\nI have two files in resouces application.yml, application-it.yml.\r\n\r\n\r\nThis is the result when I run the app in test profile\r\n\r\n\r\n    2023-06-29T09:58:29.036+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : Starting Application using Java 17.0.6 with PID 6153 (....)\r\n    2023-06-29T09:58:29.038+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : The following 1 profile is active: &quot;test&quot;\r\n    test\r\n    2023-06-29T09:58:29.658+05:30  INFO 6153 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\r\n    2023-06-29T09:58:29.664+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : Started Application in 0.794 seconds (process running for 6.043)\r\n\r\n\r\n\r\n\r\nand this is when I run without any profile.\r\n\r\n    2023-06-29T10:01:09.773+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : Starting Application using Java 17.0.6 with PID 6362 (...)\r\n    2023-06-29T10:01:09.775+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    default\r\n    2023-06-29T10:01:10.421+05:30  INFO 6362 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\r\n    2023-06-29T10:01:10.426+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : Started Application in 0.821 seconds (process running for 6.092)\r\n\r\n\r\n","title":"How to assign different value to a spring bean variable from yml file based on spring profile","body":"<p>Spring provides this capability out of the box, if you need to manage different values for different profiles, then you can create application-&lt;profile-name).yml (or properties) and spring will override the values provided when a profile is activated.</p>\n<p>You should not be creating different keys for your profiles. That is an anti pattern.</p>\n<p>Here is a step-by-step guide for a minimal POC.</p>\n<p>Create your main application:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.ConfigurationPropertiesScan;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@ConfigurationPropertiesScan(basePackageClasses = Connection.class)\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Pay attention to <code>basePackageClasses = Connection.class</code> and read more about it in spring docs.</p>\n<p>Here is how the <code>Connection</code> class looks in my project.</p>\n<pre><code>import jakarta.annotation.PostConstruct;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ConfigurationProperties(prefix = &quot;check.connection&quot;)\npublic class Connection {\n    private String url;\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    @PostConstruct\n    public void printAll() {\n        System.out.println(this.url);\n    }\n}\n</code></pre>\n<p>I have two files in resouces application.yml, application-it.yml.</p>\n<p>This is the result when I run the app in test profile</p>\n<pre><code>2023-06-29T09:58:29.036+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : Starting Application using Java 17.0.6 with PID 6153 (....)\n2023-06-29T09:58:29.038+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : The following 1 profile is active: &quot;test&quot;\ntest\n2023-06-29T09:58:29.658+05:30  INFO 6153 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\n2023-06-29T09:58:29.664+05:30  INFO 6153 --- [           main] c.e.kotlinspringexperiments.Application  : Started Application in 0.794 seconds (process running for 6.043)\n</code></pre>\n<p>and this is when I run without any profile.</p>\n<pre><code>2023-06-29T10:01:09.773+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : Starting Application using Java 17.0.6 with PID 6362 (...)\n2023-06-29T10:01:09.775+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : No active profile set, falling back to 1 default profile: &quot;default&quot;\ndefault\n2023-06-29T10:01:10.421+05:30  INFO 6362 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\n2023-06-29T10:01:10.426+05:30  INFO 6362 --- [           main] c.e.kotlinspringexperiments.Application  : Started Application in 0.821 seconds (process running for 6.092)\n</code></pre>\n"}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688111699,"creation_date":1688010631,"question_id":76577955,"body_markdown":"I have a spring java class like below\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;check.connection&quot;)\r\n    public class MyConnection{\r\n        private String url;\r\n        private String key;\r\n    }\r\n\r\nBelow is my content of my default yml file (containing url and key),\r\n\r\n\r\n    check.connection.url = www.test.com\r\n    check.connection.key = DEFAULTKEY\r\n    check.connection.key.integration = INTEGRATIONENVKEY\r\n\r\n\r\n**Problem Statement :**\r\nI want to map &#39;key&#39; in my java class with &#39;check.connection.key.integration&#39; when application is running on integration env. and in all other envs, it should be mapped to &#39;check.connection.key&#39;. I know I have to use @Profile and @value somehow in MyConnection.java file, but not able to identify exact syntax.\r\n\r\n\r\n*Based on above code (@ConfigurationProperties), in all env,&#39;key&#39; is getting mapped to &#39;check.connection.key&#39;, which I dont want for Integration environment.* \r\n\r\n\r\n\r\n\r\n\r\n","title":"How to assign different value to a spring bean variable from yml file based on spring profile","body":"<p>I have a spring java class like below</p>\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;check.connection&quot;)\npublic class MyConnection{\n    private String url;\n    private String key;\n}\n</code></pre>\n<p>Below is my content of my default yml file (containing url and key),</p>\n<pre><code>check.connection.url = www.test.com\ncheck.connection.key = DEFAULTKEY\ncheck.connection.key.integration = INTEGRATIONENVKEY\n</code></pre>\n<p><strong>Problem Statement :</strong>\nI want to map 'key' in my java class with 'check.connection.key.integration' when application is running on integration env. and in all other envs, it should be mapped to 'check.connection.key'. I know I have to use @Profile and @value somehow in MyConnection.java file, but not able to identify exact syntax.</p>\n<p><em>Based on above code (@ConfigurationProperties), in all env,'key' is getting mapped to 'check.connection.key', which I dont want for Integration environment.</em></p>\n"},{"tags":["java","gradle","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688111526,"creation_date":1688061294,"answer_id":76583517,"question_id":76583214,"body_markdown":"If you want to be able to better update your dependencies, I&#39;d recommend to use [toml-version catalogues][1]. Since toml is a well defined text based format, you should be able to parse it with standard libraries and write it back.\r\n\r\nAlternatively, if you are on Github you could try using either dependabot or renovate, as they have support for automating dependency updates in Gradle.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/platforms.html#sub::toml-dependencies-format","title":"Can Gradle Tooling API update dependencies and then write an updated build.gradle file?","body":"<p>If you want to be able to better update your dependencies, I'd recommend to use <a href=\"https://docs.gradle.org/current/userguide/platforms.html#sub::toml-dependencies-format\" rel=\"nofollow noreferrer\">toml-version catalogues</a>. Since toml is a well defined text based format, you should be able to parse it with standard libraries and write it back.</p>\n<p>Alternatively, if you are on Github you could try using either dependabot or renovate, as they have support for automating dependency updates in Gradle.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688061552,"creation_date":1688061552,"answer_id":76583545,"question_id":76583214,"body_markdown":"I have done the same thing with the Tooling API for the same reason, except, there’s no need to update the build.gradle file. You can put the dependency versions in gradle.properties, and update it by running a _separate_ program that uses the Tooling API. You can even go as far as creating Git tags or branches.","title":"Can Gradle Tooling API update dependencies and then write an updated build.gradle file?","body":"<p>I have done the same thing with the Tooling API for the same reason, except, there’s no need to update the build.gradle file. You can put the dependency versions in gradle.properties, and update it by running a <em>separate</em> program that uses the Tooling API. You can even go as far as creating Git tags or branches.</p>\n"}],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688111526,"creation_date":1688058495,"question_id":76583214,"body_markdown":"I&#39;ve seen some example code for using the [Gradle Tooling API][1] to parse a build.gradle and then update the dependencies in memory. Can the Tooling API output this to an updated build.gradle file?\r\n\r\nI&#39;m trying to update gradle dependencies using a java library, rather than trying to build a complicated regex to update dependencies (which could be either string or map notation) in a groovy script. If the Tooling API does not support writing the update build.gradle file, I&#39;ll soldier on with groovy script.\r\n\r\nThis is for a release process, where I&#39;m releasing an internal module and would then like to update the version in the build.gradle file for other internal modules that have the released module as a dependency.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/third_party_integration.html#embedding","title":"Can Gradle Tooling API update dependencies and then write an updated build.gradle file?","body":"<p>I've seen some example code for using the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#embedding\" rel=\"nofollow noreferrer\">Gradle Tooling API</a> to parse a build.gradle and then update the dependencies in memory. Can the Tooling API output this to an updated build.gradle file?</p>\n<p>I'm trying to update gradle dependencies using a java library, rather than trying to build a complicated regex to update dependencies (which could be either string or map notation) in a groovy script. If the Tooling API does not support writing the update build.gradle file, I'll soldier on with groovy script.</p>\n<p>This is for a release process, where I'm releasing an internal module and would then like to update the version in the build.gradle file for other internal modules that have the released module as a dependency.</p>\n"},{"tags":["java","spring-boot","micrometer","spring-micrometer"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1687777362,"post_id":76555993,"comment_id":134979249,"body_markdown":"Decrementing is not supported. What do you need to achieve? Perhaps keep the count internally first before you register the definite value to the counter.","body":"Decrementing is not supported. What do you need to achieve? Perhaps keep the count internally first before you register the definite value to the counter."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687776878,"creation_date":1687776878,"answer_id":76556023,"question_id":76555993,"body_markdown":"A micrometer counter can only ever go up. From [the Javadoc][1] (emphasis mine):\r\n\r\n&gt; Counters monitor **monotonically increasing** values. **Counters may never be reset to a lesser value.**\r\n\r\nYou might have to switch to [a `Gauge`][2] if your value can go down as well as up.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/io.micrometer/micrometer-core/1.0.3/io/micrometer/core/instrument/Counter.html\r\n  [2]: https://javadoc.io/static/io.micrometer/micrometer-core/1.0.3/io/micrometer/core/instrument/Gauge.html","title":"How to decrement a micrometer counter","body":"<p>A micrometer counter can only ever go up. From <a href=\"https://javadoc.io/doc/io.micrometer/micrometer-core/1.0.3/io/micrometer/core/instrument/Counter.html\" rel=\"nofollow noreferrer\">the Javadoc</a> (emphasis mine):</p>\n<blockquote>\n<p>Counters monitor <strong>monotonically increasing</strong> values. <strong>Counters may never be reset to a lesser value.</strong></p>\n</blockquote>\n<p>You might have to switch to <a href=\"https://javadoc.io/static/io.micrometer/micrometer-core/1.0.3/io/micrometer/core/instrument/Gauge.html\" rel=\"nofollow noreferrer\">a <code>Gauge</code></a> if your value can go down as well as up.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687776908,"creation_date":1687776908,"answer_id":76556031,"question_id":76555993,"body_markdown":"The [Micrometer documentation](https://micrometer.io/docs/concepts#_counters) says:\r\n\r\n&gt; Counters report a single metric: a count. The `Counter` interface lets you increment by a fixed amount, **which must be positive**.\r\n\r\nSo incrementing by -1 does not work.\r\n\r\nCounters are not meant to decrement. You probably want to use a different meter for this purpose, for example a [gauge](https://micrometer.io/docs/concepts#_gauges).","title":"How to decrement a micrometer counter","body":"<p>The <a href=\"https://micrometer.io/docs/concepts#_counters\" rel=\"nofollow noreferrer\">Micrometer documentation</a> says:</p>\n<blockquote>\n<p>Counters report a single metric: a count. The <code>Counter</code> interface lets you increment by a fixed amount, <strong>which must be positive</strong>.</p>\n</blockquote>\n<p>So incrementing by -1 does not work.</p>\n<p>Counters are not meant to decrement. You probably want to use a different meter for this purpose, for example a <a href=\"https://micrometer.io/docs/concepts#_gauges\" rel=\"nofollow noreferrer\">gauge</a>.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688111422,"creation_date":1687776666,"question_id":76555993,"body_markdown":"I can increment the micrometer counter by doing like this:\r\n```\r\nmeterRegistry.counter(&quot;SOME_COUNTER&quot;).increment();\r\n```\r\n\r\nBut, when I do the below:\r\n```\r\nmeterRegistry.counter(&quot;SOME_COUNTER&quot;).increment(-1);\r\n```\r\n\r\nIt is not decrementing the value. How can I decrement the counter value by 1?","title":"How to decrement a micrometer counter","body":"<p>I can increment the micrometer counter by doing like this:</p>\n<pre><code>meterRegistry.counter(&quot;SOME_COUNTER&quot;).increment();\n</code></pre>\n<p>But, when I do the below:</p>\n<pre><code>meterRegistry.counter(&quot;SOME_COUNTER&quot;).increment(-1);\n</code></pre>\n<p>It is not decrementing the value. How can I decrement the counter value by 1?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1688113075,"post_id":76586982,"comment_id":135033027,"body_markdown":"There is even a ticket (https://github.com/speedment/jpa-streamer/issues/333) that has been closed last month where someone now successfully uses JpaStreamer and Spring Boot 3.1 with Java 17, so it definitely should work.","body":"There is even a ticket (<a href=\"https://github.com/speedment/jpa-streamer/issues/333\" rel=\"nofollow noreferrer\">github.com/speedment/jpa-streamer/issues/333</a>) that has been closed last month where someone now successfully uses JpaStreamer and Spring Boot 3.1 with Java 17, so it definitely should work."}],"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688111094,"creation_date":1688111094,"question_id":76586982,"body_markdown":"I&#39;m trying to use JpaStreamer (jpastreamer.org) v3.0.2 with SpringBoot 3.1.1 and Java 17. Doing so, I&#39;m faced with this warning during generation\r\n\r\n```\r\n[WARNING] Supported source version &#39;RELEASE_11&#39; from annotation processor &#39;com.speedment.jpastreamer.fieldgenerator.StandardFieldGeneratorProcessor&#39; less than -source &#39;17&#39;\r\n```\r\n\r\nfollowed by errors like\r\n```\r\n[ERROR] /{projectpath}/target/generated-sources/annotations/com/mbag/dmiss/entities/ShedlockEntity$.java:[23,9] invalid method reference\r\n  cannot find symbol\r\n    symbol:   method getLockUntil()\r\n    location: class com.mbag.dmiss.entities.ShedlockEntity\r\n```\r\n\r\nJust for reference:\r\nI&#39;ve setup SpringBootApplication like\r\n```\r\n@SpringBootApplication(scanBasePackages={&quot;com.speedment.jpastreamer&quot;})\r\n```\r\n\r\nand I&#39;ve added this Maven dependencies:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jpa-streamer.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;${jpa-streamer.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nObviously I&#39;m missing something essential, I guess. Right?","title":"Does JpaStreamer support Java &gt; 11?","body":"<p>I'm trying to use JpaStreamer (jpastreamer.org) v3.0.2 with SpringBoot 3.1.1 and Java 17. Doing so, I'm faced with this warning during generation</p>\n<pre><code>[WARNING] Supported source version 'RELEASE_11' from annotation processor 'com.speedment.jpastreamer.fieldgenerator.StandardFieldGeneratorProcessor' less than -source '17'\n</code></pre>\n<p>followed by errors like</p>\n<pre><code>[ERROR] /{projectpath}/target/generated-sources/annotations/com/mbag/dmiss/entities/ShedlockEntity$.java:[23,9] invalid method reference\n  cannot find symbol\n    symbol:   method getLockUntil()\n    location: class com.mbag.dmiss.entities.ShedlockEntity\n</code></pre>\n<p>Just for reference:\nI've setup SpringBootApplication like</p>\n<pre><code>@SpringBootApplication(scanBasePackages={&quot;com.speedment.jpastreamer&quot;})\n</code></pre>\n<p>and I've added this Maven dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\n            &lt;version&gt;${jpa-streamer.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;${jpa-streamer.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Obviously I'm missing something essential, I guess. Right?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688103570,"post_id":76586193,"comment_id":135031583,"body_markdown":"Show your implementation.","body":"Show your implementation."},{"owner":{"account_id":28922926,"reputation":3,"user_id":22153426,"display_name":"abhinay parashari"},"score":0,"creation_date":1688104922,"post_id":76586193,"comment_id":135031748,"body_markdown":"@tgdavies I have added my implementation for reader and writer using Hashmap. \nI am exploring alternative approach, Also the select query will be differ for each table.","body":"@tgdavies I have added my implementation for reader and writer using Hashmap.  I am exploring alternative approach, Also the select query will be differ for each table."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688108965,"post_id":76586193,"comment_id":135032315,"body_markdown":"Show your job configuration, what is your chunk size, what is your fetch size (default JDBC fetch size is 10, set it to a 1000 or something like that). Finally have you considered **not using Spring Batch**? Are the tables in the same database? If so you might be better of with an `SELECT INTO` or an `INSERT INTO ... SELECT` statement. Which saves you from transfering the data from the database to your java program and sending it back.","body":"Show your job configuration, what is your chunk size, what is your fetch size (default JDBC fetch size is 10, set it to a 1000 or something like that). Finally have you considered <b>not using Spring Batch</b>? Are the tables in the same database? If so you might be better of with an <code>SELECT INTO</code> or an <code>INSERT INTO ... SELECT</code> statement. Which saves you from transfering the data from the database to your java program and sending it back."},{"owner":{"account_id":28922926,"reputation":3,"user_id":22153426,"display_name":"abhinay parashari"},"score":0,"creation_date":1688110069,"post_id":76586193,"comment_id":135032526,"body_markdown":"Hi @M.Deinum , thanks for the suggestion , I have added Job configuration in the main question , I have explored other options but performance wise it was not that good and also spring batch provide an edge as we can write multiple writer , Even though tables are in same schema but I am not sure how we can pass the queries in a loop to reader and writer. If nothing works out then I will go ahead without using Spring Batch and will write custom framework","body":"Hi @M.Deinum , thanks for the suggestion , I have added Job configuration in the main question , I have explored other options but performance wise it was not that good and also spring batch provide an edge as we can write multiple writer , Even though tables are in same schema but I am not sure how we can pass the queries in a loop to reader and writer. If nothing works out then I will go ahead without using Spring Batch and will write custom framework"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688110456,"post_id":76586193,"comment_id":135032594,"body_markdown":"If you write a simple query you don&#39;t need Spring Batch. Just a simple `JdbcTemplate` it is just a simple query you need to execute. Something like `jdbcTemplate.executeUpdate(&quot;INSERT INTO history_table (x, y, z, a, b, c ) SELECT x, y, z, a ,b ,c FROM actual_table&quot;)`. Nothing more nothing less. No Spring Batch just what the database provides for you. You can quite easily call that in a loop, even on multiple threads if you want.","body":"If you write a simple query you don&#39;t need Spring Batch. Just a simple <code>JdbcTemplate</code> it is just a simple query you need to execute. Something like <code>jdbcTemplate.executeUpdate(&quot;INSERT INTO history_table (x, y, z, a, b, c ) SELECT x, y, z, a ,b ,c FROM actual_table&quot;)</code>. Nothing more nothing less. No Spring Batch just what the database provides for you. You can quite easily call that in a loop, even on multiple threads if you want."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688111072,"creation_date":1688111072,"answer_id":76586978,"question_id":76586193,"body_markdown":"As you are copying the data to a history table, which apparently are in the same schema I would suggest simply dropping Spring Batch and use the database for that. Using an `INSERT INTO ... SELECT FROM` query, which does exactly that copy the data from one table to another. \r\n\r\nAs you are using Spring Boot you already have a pre-configured `JdbcTemplate` which you can use.\r\n\r\n\r\n```java\r\nvar sql = &quot;INSERT INTO table1_hist (a1,a2,a3) SELECT a1,a2,a3 FROM table1&quot;\r\njdbcTemplate.executeUpdate(sql);\r\n```\r\n\r\nThis will save you from transfering all the data from the database to your java program, construct an additional query and send all the data back to the database again. It will save you a lot of time on the network and executing single queries. \r\n\r\nYou could even execute this in a loop or make it multi threaded (1 for each table). \r\n\r\n```java\r\npublic class DataArchiveService {\r\n\r\n  private final JdbcTemplate jdbc;\r\n  private final AsyncTaskExecutor executor;\r\n\r\n  public DataArchiveService(JdbcTemplate jdbc, AsyncTaskExecutor executor) {\r\n    this.jdbc=jdbc;\r\n    this.executor=executor;\r\n  }\r\n\r\n  public void archive() {\r\n    var archiveConfigs = // Get your metadata from somewhere\r\n    for (var toArchive : archiveConfigs) {\r\n      var sql = toArchive.getSql();\r\n      executor.execute(() -&gt; jdbc.executeUpdate(sql);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow you have several threads running a, rather simple, query to copy the data. This should all be fairly quick, or at least quicker then anything you do on the Java side to transfer the data back and forth. ","title":"Spring Batch Configuration without Pojo","body":"<p>As you are copying the data to a history table, which apparently are in the same schema I would suggest simply dropping Spring Batch and use the database for that. Using an <code>INSERT INTO ... SELECT FROM</code> query, which does exactly that copy the data from one table to another.</p>\n<p>As you are using Spring Boot you already have a pre-configured <code>JdbcTemplate</code> which you can use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var sql = &quot;INSERT INTO table1_hist (a1,a2,a3) SELECT a1,a2,a3 FROM table1&quot;\njdbcTemplate.executeUpdate(sql);\n</code></pre>\n<p>This will save you from transfering all the data from the database to your java program, construct an additional query and send all the data back to the database again. It will save you a lot of time on the network and executing single queries.</p>\n<p>You could even execute this in a loop or make it multi threaded (1 for each table).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataArchiveService {\n\n  private final JdbcTemplate jdbc;\n  private final AsyncTaskExecutor executor;\n\n  public DataArchiveService(JdbcTemplate jdbc, AsyncTaskExecutor executor) {\n    this.jdbc=jdbc;\n    this.executor=executor;\n  }\n\n  public void archive() {\n    var archiveConfigs = // Get your metadata from somewhere\n    for (var toArchive : archiveConfigs) {\n      var sql = toArchive.getSql();\n      executor.execute(() -&gt; jdbc.executeUpdate(sql);\n    }\n  }\n}\n</code></pre>\n<p>Now you have several threads running a, rather simple, query to copy the data. This should all be fairly quick, or at least quicker then anything you do on the Java side to transfer the data back and forth.</p>\n"}],"owner":{"account_id":28922926,"reputation":3,"user_id":22153426,"display_name":"abhinay parashari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76586978,"answer_count":1,"score":0,"last_activity_date":1688111072,"creation_date":1688101784,"question_id":76586193,"body_markdown":"I need to create a generic framework to Archive the Table and Put Archived data into CSV, For That we will have multiple table which we will be picking through config table in  Database, Now as we will have multiple tabes I don&#39;t want to write multiple reader  and writer and POJO specific to Table. I want to make it generic and I just need to enter new entry in our config table and my framework should do the work without doing any code changes.\r\n\r\nMy question is it feasible to achieve this without POJO in Spring Batch?\r\n\r\nI have tried it using hashmap but the performance was very slow , I am open to enhance it further if can improve the performance else need a fresh suggestion.\r\n\r\nEdit 1 : Select query will be picked from Config Table \r\n\r\nReader and Writer  which I have tried with Hashmap :\r\n\r\n    public ItemReader&lt;Map&lt;String, Object&gt;&gt; jdbcItemReader() {\r\n    \r\n    \t\tJdbcCursorItemReader&lt;Map&lt;String, Object&gt;&gt; reader = new JdbcCursorItemReader&lt;&gt;();\r\n    \r\n    \treader.setDataSource(dataSource);\r\n    \r\n    \treader.setSql(&quot;select a1,a2,a3 from Table&quot;);\r\n    \r\n    \treader.setRowMapper(new ColumnMapRowMapper());\r\n    \r\n    \treturn reader;\r\n    \r\n    }\r\n\r\n\r\n    @Bean\r\n    public ItemWriter&lt;Map&lt;String, Object&gt;&gt; jdbcItemWriter() {\r\n    \r\n    \tJdbcBatchItemWriter&lt;Map&lt;String, Object&gt;&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n    \r\n    \twriter.setDataSource(dataSource);\r\n    \r\n    \twriter.setSql(\r\n    \t\t\t\t&quot;INSERT INTO table1_hist (a1,a2,a3) VALUES (:a1,:a2, :a3)&quot;);\r\n    \twriter.setItemSqlParameterSourceProvider(new ItemSqlParameterSourceProvider&lt;Map&lt;String, Object&gt;&gt;() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic SqlParameterSource createSqlParameterSource(Map&lt;String, Object&gt; item) {\r\n    \t\t\tMapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\r\n    \t\t\tmapSqlParameterSource.addValues(item);\r\n    \t\t\treturn mapSqlParameterSource;\r\n    \t\t}\r\n    \t});\r\n    \treturn writer;\r\n    \r\n    }\r\n\r\n\r\nEdit 2 : Adding step and Job Configuration as well,\r\n\r\n    @Bean\r\n    \r\n    public Step myStep(ItemReader&lt;Map&lt;String, Object&gt;&gt; reader, ItemWriter&lt;Map&lt;String, Object&gt;&gt; writer) {\r\n    \r\n    \treturn stepBuilderFactory.get(&quot;myStep&quot;)\r\n    \r\n    \t\t\t.&lt;Map&lt;String, Object&gt;, Map&lt;String, Object&gt;&gt;chunk(10000)\r\n    \r\n    \t\t\t.reader(reader)\r\n    \r\n    \t\t\t.writer(writer)\r\n    \r\n    \t\t\t.build();\r\n    \r\n    }\r\n    \r\n    @Bean\r\n    \r\n    public Job myJob(Step myStep) {\r\n    \r\n    \treturn jobBuilderFactory.get(&quot;myJob&quot;)\r\n    \t\t\t.start(myStep)\r\n    \t\t\t.build();\r\n    }","title":"Spring Batch Configuration without Pojo","body":"<p>I need to create a generic framework to Archive the Table and Put Archived data into CSV, For That we will have multiple table which we will be picking through config table in  Database, Now as we will have multiple tabes I don't want to write multiple reader  and writer and POJO specific to Table. I want to make it generic and I just need to enter new entry in our config table and my framework should do the work without doing any code changes.</p>\n<p>My question is it feasible to achieve this without POJO in Spring Batch?</p>\n<p>I have tried it using hashmap but the performance was very slow , I am open to enhance it further if can improve the performance else need a fresh suggestion.</p>\n<p>Edit 1 : Select query will be picked from Config Table</p>\n<p>Reader and Writer  which I have tried with Hashmap :</p>\n<pre><code>public ItemReader&lt;Map&lt;String, Object&gt;&gt; jdbcItemReader() {\n\n        JdbcCursorItemReader&lt;Map&lt;String, Object&gt;&gt; reader = new JdbcCursorItemReader&lt;&gt;();\n\n    reader.setDataSource(dataSource);\n\n    reader.setSql(&quot;select a1,a2,a3 from Table&quot;);\n\n    reader.setRowMapper(new ColumnMapRowMapper());\n\n    return reader;\n\n}\n\n\n@Bean\npublic ItemWriter&lt;Map&lt;String, Object&gt;&gt; jdbcItemWriter() {\n\n    JdbcBatchItemWriter&lt;Map&lt;String, Object&gt;&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n\n    writer.setDataSource(dataSource);\n\n    writer.setSql(\n                &quot;INSERT INTO table1_hist (a1,a2,a3) VALUES (:a1,:a2, :a3)&quot;);\n    writer.setItemSqlParameterSourceProvider(new ItemSqlParameterSourceProvider&lt;Map&lt;String, Object&gt;&gt;() {\n\n        @Override\n        public SqlParameterSource createSqlParameterSource(Map&lt;String, Object&gt; item) {\n            MapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\n            mapSqlParameterSource.addValues(item);\n            return mapSqlParameterSource;\n        }\n    });\n    return writer;\n\n}\n</code></pre>\n<p>Edit 2 : Adding step and Job Configuration as well,</p>\n<pre><code>@Bean\n\npublic Step myStep(ItemReader&lt;Map&lt;String, Object&gt;&gt; reader, ItemWriter&lt;Map&lt;String, Object&gt;&gt; writer) {\n\n    return stepBuilderFactory.get(&quot;myStep&quot;)\n\n            .&lt;Map&lt;String, Object&gt;, Map&lt;String, Object&gt;&gt;chunk(10000)\n\n            .reader(reader)\n\n            .writer(writer)\n\n            .build();\n\n}\n\n@Bean\n\npublic Job myJob(Step myStep) {\n\n    return jobBuilderFactory.get(&quot;myJob&quot;)\n            .start(myStep)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1599830640,"post_id":63847689,"comment_id":112904498,"body_markdown":"if your application runs on `localhost:8080/` (no context path), it should work/is hard to say, what is missing... the config matches the defaults/can be omit, except that `jmx` part, which seems also to be bad indented (at least in the post).","body":"if your application runs on <code>localhost:8080&#47;</code> (no context path), it should work/is hard to say, what is missing... the config matches the defaults/can be omit, except that <code>jmx</code> part, which seems also to be bad indented (at least in the post)."},{"owner":{"account_id":6946331,"reputation":1533,"user_id":5330655,"display_name":"Rebai Ahmed"},"score":1,"creation_date":1599834254,"post_id":63847689,"comment_id":112906362,"body_markdown":"I think the URL should be http://localhost:8080/your_context_path/actuator/health","body":"I think the URL should be <a href=\"http://localhost:8080/your_context_path/actuator/health\" rel=\"nofollow noreferrer\">localhost:8080/your_context_path/actuator/health</a>"},{"owner":{"account_id":4257696,"reputation":1104,"user_id":3482923,"accept_rate":78,"display_name":"Dmitry  Adonin"},"score":1,"creation_date":1599835420,"post_id":63847689,"comment_id":112906982,"body_markdown":"@RebaiAhmed you are quite right! finally, I&#39;ve found it in https://spring.io/guides/gs/actuator-service/. If you want - specify it in separate answer so that I could mark as solution, or I will answer by myself otherwise. Thank you!","body":"@RebaiAhmed you are quite right! finally, I&#39;ve found it in <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/actuator-service</a>. If you want - specify it in separate answer so that I could mark as solution, or I will answer by myself otherwise. Thank you!"},{"owner":{"account_id":6946331,"reputation":1533,"user_id":5330655,"display_name":"Rebai Ahmed"},"score":0,"creation_date":1599835732,"post_id":63847689,"comment_id":112907156,"body_markdown":"You can make it your answer :) @DmitryAdonin","body":"You can make it your answer :) @DmitryAdonin"}],"answers":[{"tags":[],"owner":{"account_id":10874050,"reputation":1245,"user_id":7994967,"display_name":"Qiu Zhou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1599842419,"creation_date":1599835487,"answer_id":63849344,"question_id":63847689,"body_markdown":"There are two possible configurations that could change Actuator /health and /info endpoints:\r\n\r\nFirst, the **spring boot mvc server**, assume you have it like this:\r\n\r\n    server:\r\n       port: 8080\r\n       servlet:\r\n          context-path: /test\r\n\r\n\r\nSecond, the **Actuator management server**:\r\n\r\n    management:\r\n      server:\r\n      #port: #don&#39;t change it, then the port for actuator will be the same as server.port above\r\n      endpoints:\r\n         web:\r\n           base-path: /actuator  #the default value for sring boot 2.x is /actuator, even you don&#39;t specify it, don&#39;t forget to include this in the URL\r\n           exposure:\r\n              include: &quot;*&quot;\r\n      endpoint:\r\n         health:\r\n           show-details: always\r\n\r\n\r\nSo the right URLs to access Actuator should be :\r\n\r\n    http://localhost:8080/test/actuator/info\r\n\r\n    http://localhost:8080/test/actuator/health\r\n\r\n\r\nOn the whole, the URL pattern to visit Actuator endpoints should be:\r\n\r\n    http://localhost:{server.port}/{server.servlet.context-path}/{management.endpoints.web.base-path}/**\r\n\r\nYou can compare your configurations with this example to see what&#39;s causing the 404 error.\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot 2 Actuator /health and /info returns HTTP 404","body":"<p>There are two possible configurations that could change Actuator /health and /info endpoints:</p>\n<p>First, the <strong>spring boot mvc server</strong>, assume you have it like this:</p>\n<pre><code>server:\n   port: 8080\n   servlet:\n      context-path: /test\n</code></pre>\n<p>Second, the <strong>Actuator management server</strong>:</p>\n<pre><code>management:\n  server:\n  #port: #don't change it, then the port for actuator will be the same as server.port above\n  endpoints:\n     web:\n       base-path: /actuator  #the default value for sring boot 2.x is /actuator, even you don't specify it, don't forget to include this in the URL\n       exposure:\n          include: &quot;*&quot;\n  endpoint:\n     health:\n       show-details: always\n</code></pre>\n<p>So the right URLs to access Actuator should be :</p>\n<pre><code>http://localhost:8080/test/actuator/info\n\nhttp://localhost:8080/test/actuator/health\n</code></pre>\n<p>On the whole, the URL pattern to visit Actuator endpoints should be:</p>\n<pre><code>http://localhost:{server.port}/{server.servlet.context-path}/{management.endpoints.web.base-path}/**\n</code></pre>\n<p>You can compare your configurations with this example to see what's causing the 404 error.</p>\n"}],"owner":{"account_id":4257696,"reputation":1104,"user_id":3482923,"accept_rate":78,"display_name":"Dmitry  Adonin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63849344,"answer_count":1,"score":2,"last_activity_date":1688110337,"creation_date":1599829531,"question_id":63847689,"body_markdown":"I&#39;ve added dependencies in `pom.xml` to the brand new Spring Boot app, as described in the [Spring documentation][1]\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand added the following properties to the `application.yml` in order to just expose `/health` and `/info` endpoints\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include:\r\n              - info\r\n              - health\r\n          jmx:\r\n            exposure:\r\n              exclude: &quot;*&quot;\r\n      endpoint:\r\n        info:\r\n          enabled: true\r\n        health:\r\n          enabled: true\r\n\r\nbut can&#39;t reach the mentioned endpoints on running app via `localhost:8080/health` and `localhost:8080/info` - there is HTTP 404 response.\r\n\r\nAm I missing something? Thank you for your help in advance!\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-enabling","title":"Spring Boot 2 Actuator /health and /info returns HTTP 404","body":"<p>I've added dependencies in <code>pom.xml</code> to the brand new Spring Boot app, as described in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-enabling\" rel=\"nofollow noreferrer\">Spring documentation</a></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and added the following properties to the <code>application.yml</code> in order to just expose <code>/health</code> and <code>/info</code> endpoints</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include:\n          - info\n          - health\n      jmx:\n        exposure:\n          exclude: &quot;*&quot;\n  endpoint:\n    info:\n      enabled: true\n    health:\n      enabled: true\n</code></pre>\n<p>but can't reach the mentioned endpoints on running app via <code>localhost:8080/health</code> and <code>localhost:8080/info</code> - there is HTTP 404 response.</p>\n<p>Am I missing something? Thank you for your help in advance!</p>\n"},{"tags":["java","spring","slf4j","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1463502296,"creation_date":1463502296,"answer_id":37281676,"question_id":37281139,"body_markdown":"Spring itself logs some of its Caching Abstractions behaviors under the `org.springframework.cache` logger in `trace` level. So, if you append logs under the `org.springframework.cache` logger to an appropriate appender, you would have some useful information on, say, the console. If you&#39;re using Logback, you could use something like the following in your `logback.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.cache&quot; level=&quot;trace&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWith this configuration, you should see something like following on your console:\r\n\r\n&gt; Cache entry for key &#39;Page request [number: 0, size 20, sort: null]&#39;\r\n&gt; found in cache &#39;persons&#39;\r\n\r\n","title":"Spring cache logging on @Cacheable hit","body":"<p>Spring itself logs some of its Caching Abstractions behaviors under the <code>org.springframework.cache</code> logger in <code>trace</code> level. So, if you append logs under the <code>org.springframework.cache</code> logger to an appropriate appender, you would have some useful information on, say, the console. If you're using Logback, you could use something like the following in your <code>logback.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"org.springframework.cache\" level=\"trace\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>With this configuration, you should see something like following on your console:</p>\n\n<blockquote>\n  <p>Cache entry for key 'Page request [number: 0, size 20, sort: null]'\n  found in cache 'persons'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5596885,"reputation":945,"user_id":4434367,"display_name":"Mate Šimović"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527689533,"creation_date":1527689533,"answer_id":50606904,"question_id":37281139,"body_markdown":"You can enable trace level logging.\r\n\r\nEg., in application.properties put &#39;trace=true&#39;.\r\n\r\n[Spring logging documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","title":"Spring cache logging on @Cacheable hit","body":"<p>You can enable trace level logging.</p>\n\n<p>Eg., in application.properties put 'trace=true'.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">Spring logging documentation</a></p>\n"},{"tags":[],"owner":{"account_id":2055939,"reputation":2208,"user_id":1833705,"display_name":"Rafael Renan Pacheco"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1547223078,"creation_date":1547223078,"answer_id":54150189,"question_id":37281139,"body_markdown":"And for Spring Boot 2 you can add in your application.properties:\r\n\r\n    logging.level.org.springframework.cache=TRACE","title":"Spring cache logging on @Cacheable hit","body":"<p>And for Spring Boot 2 you can add in your application.properties:</p>\n\n<pre><code>logging.level.org.springframework.cache=TRACE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938145,"reputation":3827,"user_id":966698,"accept_rate":44,"display_name":"Mavlarn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583861653,"creation_date":1583861653,"answer_id":60623005,"question_id":37281139,"body_markdown":"I don&#39;t think it is a good idea to open trace log all the time, even it is only for cache log.   \r\nThe better way is, EHcache has this hit/miss metrics already, you can get it by `JMX` or `spring boot actuator`.\r\n\r\nTo use by JMX, you can refer [this][1]\r\n\r\nTo use `Spring Boot Actuator`, you can refer [this][2].\r\n\r\n\r\n  [1]: https://dzone.com/articles/spring-hibernate-ehcache-caching\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.1.12.RELEASE/reference/html/production-ready-metrics.html","title":"Spring cache logging on @Cacheable hit","body":"<p>I don't think it is a good idea to open trace log all the time, even it is only for cache log.<br>\nThe better way is, EHcache has this hit/miss metrics already, you can get it by <code>JMX</code> or <code>spring boot actuator</code>.</p>\n\n<p>To use by JMX, you can refer <a href=\"https://dzone.com/articles/spring-hibernate-ehcache-caching\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>To use <code>Spring Boot Actuator</code>, you can refer <a href=\"https://docs.spring.io/spring-boot/docs/2.1.12.RELEASE/reference/html/production-ready-metrics.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":25850929,"reputation":31,"user_id":21219675,"display_name":"Murat Samatov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688109457,"creation_date":1688109457,"answer_id":76586795,"question_id":37281139,"body_markdown":"if u use application.yml AND spring-boot 2\r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework.cache: TRACE\r\n```\r\n\r\ndo not set DEBUG level, it works only for TRACE\r\n\r\nfor application.properties\r\n\r\n```\r\nlogging.level.org.springframework.cache=TRACE\r\n```","title":"Spring cache logging on @Cacheable hit","body":"<p>if u use application.yml AND spring-boot 2</p>\n<pre><code>logging:\n  level:\n    org.springframework.cache: TRACE\n</code></pre>\n<p>do not set DEBUG level, it works only for TRACE</p>\n<p>for application.properties</p>\n<pre><code>logging.level.org.springframework.cache=TRACE\n</code></pre>\n"}],"owner":{"account_id":7868390,"reputation":594,"user_id":5946532,"display_name":"BassSultan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53970,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":37281676,"answer_count":5,"score":48,"last_activity_date":1688109457,"creation_date":1463500642,"question_id":37281139,"body_markdown":"Currently I am working with a Spring Cache and the `@Cacheable`/`@CacheEvict` annotations.\r\n\r\nI would like to get some sort of a console log statement like `&quot;INFO: i got those values from the cache, NOT from the host. awesome&quot;`\r\n\r\nIs there a clean and easy way to do this? We are using `slf4j` apparently btw, if that is of any interest.","title":"Spring cache logging on @Cacheable hit","body":"<p>Currently I am working with a Spring Cache and the <code>@Cacheable</code>/<code>@CacheEvict</code> annotations.</p>\n\n<p>I would like to get some sort of a console log statement like <code>\"INFO: i got those values from the cache, NOT from the host. awesome\"</code></p>\n\n<p>Is there a clean and easy way to do this? We are using <code>slf4j</code> apparently btw, if that is of any interest.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","one-to-one"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1688103093,"post_id":76585666,"comment_id":135031526,"body_markdown":"You can either add JsonIgnore (as @chameerar suggested), but a a better solution- that would be suggested by any reviewer -don&#39;t mix the responsibilities. JPA entities should not be serialized to a DTO directly. So You need to create a DTO class, map all required fields, then create a JSON from this object. Each class in a project has it&#39;s functionality, and you cannot force all of them to a single class. This leads to bigger problems in the future. You may want to create multiple representations of each entity - for a list and details, each differ in number of roperties.","body":"You can either add JsonIgnore (as @chameerar suggested), but a a better solution- that would be suggested by any reviewer -don&#39;t mix the responsibilities. JPA entities should not be serialized to a DTO directly. So You need to create a DTO class, map all required fields, then create a JSON from this object. Each class in a project has it&#39;s functionality, and you cannot force all of them to a single class. This leads to bigger problems in the future. You may want to create multiple representations of each entity - for a list and details, each differ in number of roperties."},{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1688105169,"post_id":76585666,"comment_id":135031780,"body_markdown":"are you sure that this is not some issue in my entity classes or something to do with @OneToOne , but just a side impact of the serializing the movie object to json ??","body":"are you sure that this is not some issue in my entity classes or something to do with @OneToOne , but just a side impact of the serializing the movie object to json ??"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1688108820,"post_id":76585666,"comment_id":135032291,"body_markdown":"The issue/problems is JPA framework.  It encourages You to create cycles in your classes, and fasterXml has no clue - it simply prints every object it can find, unless You tell him not to. This is a cost JPA framework is making on You. That is why layers should be separated (JPA and presentation-DTO). You could try to make a one directional OneToOne relation","body":"The issue/problems is JPA framework.  It encourages You to create cycles in your classes, and fasterXml has no clue - it simply prints every object it can find, unless You tell him not to. This is a cost JPA framework is making on You. That is why layers should be separated (JPA and presentation-DTO). You could try to make a one directional OneToOne relation"}],"answers":[{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688101817,"creation_date":1688098837,"answer_id":76586025,"question_id":76585666,"body_markdown":"What happens here is when serialising, jackson tries to serialise each reference of one side from the other side. This has caused the recursion.\r\n\r\nYou can add `@JsonIgnore` annotation to one of the entity to stop this. For your case, looks like better to add `@JsonIgnore` to the `movie` property in `MovieCast` entity. Your code will look like this.\r\n\r\n```java\r\n@Entity\r\n@Data\r\npublic class MovieCast {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long castId;\r\n\r\n    @OneToOne(mappedBy = &quot;movieCasts&quot;)\r\n    @JsonIgnore\r\n    private Movie movie;\r\n    private String director;\r\n    private String producer;\r\n    private String leadActor;\r\n    private String leadActress;\r\n    private String[] otherActors;\r\n}\r\n\r\n\r\n@Repository\r\npublic class MovieEntityRepo {\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n\r\n    public Movie findByName(String name) {\r\n        return em.find(Movie.class, name);\r\n    }\r\n}\r\n```","title":"hibernate| find by id for @OneToOne returns entity in recursion","body":"<p>What happens here is when serialising, jackson tries to serialise each reference of one side from the other side. This has caused the recursion.</p>\n<p>You can add <code>@JsonIgnore</code> annotation to one of the entity to stop this. For your case, looks like better to add <code>@JsonIgnore</code> to the <code>movie</code> property in <code>MovieCast</code> entity. Your code will look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\npublic class MovieCast {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long castId;\n\n    @OneToOne(mappedBy = &quot;movieCasts&quot;)\n    @JsonIgnore\n    private Movie movie;\n    private String director;\n    private String producer;\n    private String leadActor;\n    private String leadActress;\n    private String[] otherActors;\n}\n\n\n@Repository\npublic class MovieEntityRepo {\n\n    @PersistenceContext\n    private EntityManager em;\n\n\n    public Movie findByName(String name) {\n        return em.find(Movie.class, name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688108967,"creation_date":1688108967,"answer_id":76586743,"question_id":76585666,"body_markdown":"There are two similar issues with your code. Both result in an infinit loop and stackoverflow.\r\n\r\n 1. JSON serialization - this can be solved by adding `@JsonIgnore` as already explained in another answer.\r\n 2. Java `toString()` method. Both entities have this method generated by `Lombok` with `@Data` annotation.\r\n\r\n**Solution**\r\n\r\nAdd `@ToString.Exclude` annotation to the Movie field like this:\r\n```\r\n@OneToOne(mappedBy = &quot;movieCasts&quot;)\r\n@JsonIgnore\r\n@ToString.Exclude\r\nprivate Movie movie;\r\n```\r\n","title":"hibernate| find by id for @OneToOne returns entity in recursion","body":"<p>There are two similar issues with your code. Both result in an infinit loop and stackoverflow.</p>\n<ol>\n<li>JSON serialization - this can be solved by adding <code>@JsonIgnore</code> as already explained in another answer.</li>\n<li>Java <code>toString()</code> method. Both entities have this method generated by <code>Lombok</code> with <code>@Data</code> annotation.</li>\n</ol>\n<p><strong>Solution</strong></p>\n<p>Add <code>@ToString.Exclude</code> annotation to the Movie field like this:</p>\n<pre><code>@OneToOne(mappedBy = &quot;movieCasts&quot;)\n@JsonIgnore\n@ToString.Exclude\nprivate Movie movie;\n</code></pre>\n"}],"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76586743,"answer_count":2,"score":0,"last_activity_date":1688108967,"creation_date":1688092394,"question_id":76585666,"body_markdown":"I Have two entity class Movie and movie cast with one to one relationship when I save them it is saved properly in DB(Postgres)\r\n\r\n\r\nbut when I do find by Id I get recursive/cascading result meaning:\r\n\r\nMovie object is having the movie cast and then further internal movie cast is having\r\na movie object which further has movie cast (see below  response)\r\n\r\n\r\n    &quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\r\n    &quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n    &quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n    &quot;releaseDate&quot;: &quot;1994-01-01&quot;,\r\n    &quot;releaseYear&quot;: 1997,\r\n    &quot;type&quot;: &quot;DRAMA&quot;,\r\n    &quot;movieCasts&quot;: {\r\n        &quot;castId&quot;: 1,\r\n        &quot;movie&quot;: {\r\n            &quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\r\n            &quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n            &quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n            &quot;releaseDate&quot;: &quot;1994-01-01&quot;,\r\n            &quot;releaseYear&quot;: 1997,\r\n            &quot;type&quot;: &quot;DRAMA&quot;,\r\n            &quot;movieCasts&quot;: {\r\n                &quot;castId&quot;: 1,\r\n                &quot;movie&quot;: {\r\n                    &quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\r\n                    &quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n                    &quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\r\n                    &quot;releaseDate&quot;: &quot;1994-01-01&quot;,\r\n                    &quot;releaseYear&quot;: 1997,\r\n                    &quot;type&quot;: &quot;DRAMA&quot;,\r\n                    &quot;movieCasts&quot;: {\r\n                        &quot;castId&quot;: 1,\r\n                        &quot;movie&quot;: {\r\n...... and so on\r\n\r\n\r\nMy Entity class is :\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class Movie {\r\n    \r\n        @Id\r\n        @Column(nullable = false, unique = true)\r\n        private String movieName;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDate releaseDate;\r\n    \r\n        @Column(nullable = false)\r\n        private Integer releaseYear;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private GENRE type;\r\n    \r\n    \r\n        @OneToOne(cascade = {CascadeType.ALL})\r\n       @JoinColumn(name=&quot;cast_id&quot;,referencedColumnName = &quot;castId&quot;)\r\n        private MovieCast movieCasts;\r\n    \r\n    }\r\n\r\nAnd---------------\r\n\r\n    @Entity\r\n    @Data\r\n    public class MovieCast {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n      private Long castId;\r\n    \r\n     // @OneToOne\r\n      @OneToOne(mappedBy = &quot;movieCasts&quot;)\r\n      private Movie movie;\r\n      private String director;\r\n      private String producer;\r\n      private  String leadActor;\r\n      private String leadActress;\r\n      private String [] otherActors;\r\n    }\r\n\r\n\r\n    @Repository\r\n    public class MovieEntityRepo {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n    \r\n        public Movie findByName(String name){\r\n            return em.find(Movie.class,name);\r\n        }\r\n    }\r\n\r\nDB snippet after save \r\n\r\n    Movies table\r\n    movie_name,creation_date,release_date,release_year,type,updation_date,    **cast_id**\r\n    The Shawshank Redemption5,2023-06-29 20:12:07.379,1994-01-01,1997,DRAMA,2023-06-29 20:12:07.379,**1**\r\n\r\n    Movie_cast\r\n    \r\n    cast_id,director,lead_actor,lead_actress,other_actors,producer\r\n    1,director1,leader1,leader2,58 bytes,producer1\r\n\r\nUPDATING THE Screen shot of actual issue , my issue is not for json but the find method\r\n\r\n[![find method][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C8zuv.png","title":"hibernate| find by id for @OneToOne returns entity in recursion","body":"<p>I Have two entity class Movie and movie cast with one to one relationship when I save them it is saved properly in DB(Postgres)</p>\n<p>but when I do find by Id I get recursive/cascading result meaning:</p>\n<p>Movie object is having the movie cast and then further internal movie cast is having\na movie object which further has movie cast (see below  response)</p>\n<pre><code>&quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\n&quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n&quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n&quot;releaseDate&quot;: &quot;1994-01-01&quot;,\n&quot;releaseYear&quot;: 1997,\n&quot;type&quot;: &quot;DRAMA&quot;,\n&quot;movieCasts&quot;: {\n    &quot;castId&quot;: 1,\n    &quot;movie&quot;: {\n        &quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\n        &quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n        &quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n        &quot;releaseDate&quot;: &quot;1994-01-01&quot;,\n        &quot;releaseYear&quot;: 1997,\n        &quot;type&quot;: &quot;DRAMA&quot;,\n        &quot;movieCasts&quot;: {\n            &quot;castId&quot;: 1,\n            &quot;movie&quot;: {\n                &quot;movieName&quot;: &quot;The Shawshank Redemption5&quot;,\n                &quot;creationDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n                &quot;updatedDateTime&quot;: &quot;2023-06-29T20:12:07.379&quot;,\n                &quot;releaseDate&quot;: &quot;1994-01-01&quot;,\n                &quot;releaseYear&quot;: 1997,\n                &quot;type&quot;: &quot;DRAMA&quot;,\n                &quot;movieCasts&quot;: {\n                    &quot;castId&quot;: 1,\n                    &quot;movie&quot;: {\n</code></pre>\n<p>...... and so on</p>\n<p>My Entity class is :</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\npublic class Movie {\n\n    @Id\n    @Column(nullable = false, unique = true)\n    private String movieName;\n\n    @Column(nullable = false)\n    private LocalDate releaseDate;\n\n    @Column(nullable = false)\n    private Integer releaseYear;\n\n    @Enumerated(EnumType.STRING)\n    private GENRE type;\n\n\n    @OneToOne(cascade = {CascadeType.ALL})\n   @JoinColumn(name=&quot;cast_id&quot;,referencedColumnName = &quot;castId&quot;)\n    private MovieCast movieCasts;\n\n}\n</code></pre>\n<p>And---------------</p>\n<pre><code>@Entity\n@Data\npublic class MovieCast {\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE)\n  private Long castId;\n\n // @OneToOne\n  @OneToOne(mappedBy = &quot;movieCasts&quot;)\n  private Movie movie;\n  private String director;\n  private String producer;\n  private  String leadActor;\n  private String leadActress;\n  private String [] otherActors;\n}\n\n\n@Repository\npublic class MovieEntityRepo {\n\n    @PersistenceContext\n    private EntityManager em;\n\n\n    public Movie findByName(String name){\n        return em.find(Movie.class,name);\n    }\n}\n</code></pre>\n<p>DB snippet after save</p>\n<pre><code>Movies table\nmovie_name,creation_date,release_date,release_year,type,updation_date,    **cast_id**\nThe Shawshank Redemption5,2023-06-29 20:12:07.379,1994-01-01,1997,DRAMA,2023-06-29 20:12:07.379,**1**\n\nMovie_cast\n\ncast_id,director,lead_actor,lead_actress,other_actors,producer\n1,director1,leader1,leader2,58 bytes,producer1\n</code></pre>\n<p>UPDATING THE Screen shot of actual issue , my issue is not for json but the find method</p>\n<p><a href=\"https://i.stack.imgur.com/C8zuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C8zuv.png\" alt=\"find method\" /></a></p>\n"},{"tags":["java","hardware","hardware-interface"],"answers":[{"tags":[],"owner":{"account_id":304955,"reputation":1043,"user_id":614785,"accept_rate":67,"display_name":"eternaln00b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331932066,"creation_date":1331930564,"answer_id":9744251,"question_id":9744186,"body_markdown":"Have you considered communicating with these external devices by sending digital signals to a serial port using Java? It&#39;s then a simple matter of either using those digital signals directly, or using an Analog-to-digital converter to get a voltage of desirable magnitude. \r\n\r\nSame for input from the serial port. The [RXTX][1] library can help you do this (communicate with the serial port). \r\n\r\nOn the other hand, if you have access to MATLAB, then this sort of stuff is a piece of cake. Take a look at the [Data Acquisition Toolbox][2] and [Instrument Control Toolbox][3].\r\n\r\n\r\n  [1]: http://users.frii.com/jarvi/rxtx/download.html &quot;RXTX&quot;\r\n  [2]: http://www.mathworks.com/products/daq/\r\n  [3]: http://www.mathworks.com/products/instrument/","title":"Working with external hardware components in java?","body":"<p>Have you considered communicating with these external devices by sending digital signals to a serial port using Java? It's then a simple matter of either using those digital signals directly, or using an Analog-to-digital converter to get a voltage of desirable magnitude. </p>\n\n<p>Same for input from the serial port. The <a href=\"http://users.frii.com/jarvi/rxtx/download.html\" rel=\"nofollow\" title=\"RXTX\">RXTX</a> library can help you do this (communicate with the serial port). </p>\n\n<p>On the other hand, if you have access to MATLAB, then this sort of stuff is a piece of cake. Take a look at the <a href=\"http://www.mathworks.com/products/daq/\" rel=\"nofollow\">Data Acquisition Toolbox</a> and <a href=\"http://www.mathworks.com/products/instrument/\" rel=\"nofollow\">Instrument Control Toolbox</a>.</p>\n"},{"tags":[],"owner":{"account_id":443431,"reputation":2847,"user_id":834644,"accept_rate":50,"display_name":"sethcall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331930782,"creation_date":1331930782,"answer_id":9744305,"question_id":9744186,"body_markdown":"I&#39;d work backwards from the external device.  Answer this 1st: What&#39;s the easiest way to communicate with it?  If you say USB, ok, use usb.  Then ask, what&#39;s the easiest way to interface with USB.  Then build *in whatever language* you find to be easiest this USB interface.  Finally, call from your Java swing application to this USB-wrapping application... it could be that simple invoke the app using something like [ProcessBuilder][1].  \r\n\r\nIn other words, I think it might be a mistake to solve the problem of interfacing to something like this device with Java, unless it&#39;s *easy* to do so directly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html","title":"Working with external hardware components in java?","body":"<p>I'd work backwards from the external device.  Answer this 1st: What's the easiest way to communicate with it?  If you say USB, ok, use usb.  Then ask, what's the easiest way to interface with USB.  Then build <em>in whatever language</em> you find to be easiest this USB interface.  Finally, call from your Java swing application to this USB-wrapping application... it could be that simple invoke the app using something like <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow\">ProcessBuilder</a>.  </p>\n\n<p>In other words, I think it might be a mistake to solve the problem of interfacing to something like this device with Java, unless it's <em>easy</em> to do so directly.</p>\n"},{"tags":[],"owner":{"account_id":5931755,"reputation":107,"user_id":4665994,"accept_rate":75,"display_name":"Dwayne B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445667144,"creation_date":1445667144,"answer_id":33315106,"question_id":9744186,"body_markdown":"I think your looking at this the wrong way. Most lights are them selves computer controlled. The lights are running on a computer system. If your project is to write this start to end, then you need to write a loaded to the light controller that does many things, one controls light color and direction, also allow connections via an out side computer. This connection could be USB, Ethernet ext. Now write a program facilitating connecting to the lights and pass commands to the light controller.\r\n","title":"Working with external hardware components in java?","body":"<p>I think your looking at this the wrong way. Most lights are them selves computer controlled. The lights are running on a computer system. If your project is to write this start to end, then you need to write a loaded to the light controller that does many things, one controls light color and direction, also allow connections via an out side computer. This connection could be USB, Ethernet ext. Now write a program facilitating connecting to the lights and pass commands to the light controller.</p>\n"},{"tags":[],"owner":{"account_id":28786539,"reputation":1,"user_id":22046884,"display_name":"RAVULA BIKSHAPATHI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688108857,"creation_date":1688108857,"answer_id":76586732,"question_id":9744186,"body_markdown":"By Socket Programming,We can Make Integration with Java To Hardware Like[Sensors,Printers....,],Java Provided Build-in Class Called Socket Class,Server Socket Server Class,...,.\r\n\r\nStep-1:\r\n      Initially We Create Socket Class Object,Within the object,we Need To Pass Parameter Hardware IP,In Order To Communicate With Java.\r\n\r\nStep-2: \r\n       After Integration,Send data In Byte Stream.\r\n\r\nStep-3:\r\n      Perform What Operation You Want.\r\n","title":"Working with external hardware components in java?","body":"<p>By Socket Programming,We can Make Integration with Java To Hardware Like[Sensors,Printers....,],Java Provided Build-in Class Called Socket Class,Server Socket Server Class,...,.</p>\n<p>Step-1:\nInitially We Create Socket Class Object,Within the object,we Need To Pass Parameter Hardware IP,In Order To Communicate With Java.</p>\n<p>Step-2:\nAfter Integration,Send data In Byte Stream.</p>\n<p>Step-3:\nPerform What Operation You Want.</p>\n"}],"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688108857,"creation_date":1331930183,"question_id":9744186,"body_markdown":"I am talking about components that can be externally attached to a computer system via some port or other means, not about any of the component that is part of or peripheral of computer itself.\r\n\r\nActually, working on a college project for controlling traffic lights and boom barrier at railway crossing. I&#39;ve got knowledge in Java but I do not know how can I get the traffic lights and boom barrier working on events in a Swing based application?&lt;br /&gt;\r\nOne thing is I can create a electronic circuit which can read the small output voltages at computer ports such as a USB port and used them as a trigger for controlling the devices. But how can I generate _that_ small voltages using Java application?\r\n\r\nIs [JavaPOS][1] can be the solution? or something else?\r\n\r\nAny ideas? Suggestions? Articles? Samples?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaPOS","title":"Working with external hardware components in java?","body":"<p>I am talking about components that can be externally attached to a computer system via some port or other means, not about any of the component that is part of or peripheral of computer itself.</p>\n\n<p>Actually, working on a college project for controlling traffic lights and boom barrier at railway crossing. I've got knowledge in Java but I do not know how can I get the traffic lights and boom barrier working on events in a Swing based application?<br />\nOne thing is I can create a electronic circuit which can read the small output voltages at computer ports such as a USB port and used them as a trigger for controlling the devices. But how can I generate <em>that</em> small voltages using Java application?</p>\n\n<p>Is <a href=\"http://en.wikipedia.org/wiki/JavaPOS\" rel=\"nofollow\">JavaPOS</a> can be the solution? or something else?</p>\n\n<p>Any ideas? Suggestions? Articles? Samples?</p>\n"},{"tags":["java","jpa"],"owner":{"account_id":28923334,"reputation":1,"user_id":22153743,"display_name":"Subraja MA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688108697,"creation_date":1688108697,"question_id":76586716,"body_markdown":"I have below table design to be followed. \r\nTABLE_A, TABLE_B - Lookup Tables. Columns - ID, NAME, STATUS, CREATE_DATE, UPDATE_DATE\r\nTABLE_C - ID, NUMBER, NAME, ...Other Attributes\r\nTABLE_D - ID, ID_A, ID_B, ID_C\r\nTABLE_E - ID, ID_A, ID_B (this is available in DB but not used)\r\nThis table have IDs from Table A, B and C.\r\n\r\nAssociations:\r\n\r\nTABLE_C to TABLE_D: 1:n\r\nTABLE_A to TABLE_D: 1:n\r\nTABLE_B to TABLE_D: 1:n\r\nTABLE_E to TABLE_A: n:1\r\nTABLE_E to TABLE_B: n:1\r\n\r\nInitially, TABLE_C can have only 1:1 association with TABLE_A and TABLE_D doesn&#39;t have ID_A, instead TABLE_C have ID_A. \r\n\r\nJPA Entity Created for TABLE_C  \r\n@Fetch(FetchMode.SUBSELECT)\r\n @JoinTable(name = &quot;TABLE_B&quot;, joinColumns = {\r\n        @JoinColumn(name = &quot;ID_C&quot;, referencedColumnName = &quot;ID&quot;) }, inverseJoinColumns = {\r\n            @JoinColumn(name = &quot;ID_B&quot;, referencedColumnName = &quot;ID&quot;) })\r\nprivate Set&lt;TABLE_B&gt; valueForD;\r\n\r\nWhile inserting/updating entries to TABLE_D were done like this.\r\nSAVE METHOD:\r\n\r\nEntityC obj = new EntityC();\r\nobj.setValueForD(repository.findAllById(inputparam.getIds(),EntityB.class));\r\n\r\nNow adding ID_A to the TABLE_D totally disrupted the JPA Enitity and the SAVE METHOD,\r\nWe cannot find how to write JoinTable after adding ID from A to TableD, also the association changed from 1:1 to 1:n.\r\nWe cannot put separate table to map ID_C to ID_A.\r\nAs ID_A can have multiple ID_B selected for one ID_C.\r\nWe have to track which ID_Bs are selected for which ID_A for an entity C.\r\n\r\nNote:\r\nAs we had 1:1 for TABLE_A to TABLE_C intially we only maintained TABLE_C to TABLE_B mapping.\r\nBut now as it is changing we can no longer follow this.\r\n\r\n\r\n\r\nwe tried saving TABLE_D after TABLE_C.\r\nBut this is not maintaining the JPA Entity and somewhere the data is getting erased.\r\nFollowing issues of a product:\r\ncreate - moved to status 2. (SAVE TABLE_C and put ID_C, ID_A, ID_B to TABLE_D)\r\nEdit - moved to status 1 again. (SAVE TABLE_C and put ID_C, ID_A, ID_B to TABLE_D)\r\nEdit - move to status 2.(now TABLE_D is getting deleted for the particular ID_C)\r\n\r\nNeed to know how to make the PersistentSet for the TABLE_D(having ID_A, ID_B (from two non-associated lookup tables) and ID_C ) in TABLE_C.\r\nShall we use TABLE_E.","title":"Map an entity with another entity that is associated with another two lookup entities using JPA","body":"<p>I have below table design to be followed.\nTABLE_A, TABLE_B - Lookup Tables. Columns - ID, NAME, STATUS, CREATE_DATE, UPDATE_DATE\nTABLE_C - ID, NUMBER, NAME, ...Other Attributes\nTABLE_D - ID, ID_A, ID_B, ID_C\nTABLE_E - ID, ID_A, ID_B (this is available in DB but not used)\nThis table have IDs from Table A, B and C.</p>\n<p>Associations:</p>\n<p>TABLE_C to TABLE_D: 1:n\nTABLE_A to TABLE_D: 1:n\nTABLE_B to TABLE_D: 1:n\nTABLE_E to TABLE_A: n:1\nTABLE_E to TABLE_B: n:1</p>\n<p>Initially, TABLE_C can have only 1:1 association with TABLE_A and TABLE_D doesn't have ID_A, instead TABLE_C have ID_A.</p>\n<p>JPA Entity Created for TABLE_C<br />\n@Fetch(FetchMode.SUBSELECT)\n@JoinTable(name = &quot;TABLE_B&quot;, joinColumns = {\n@JoinColumn(name = &quot;ID_C&quot;, referencedColumnName = &quot;ID&quot;) }, inverseJoinColumns = {\n@JoinColumn(name = &quot;ID_B&quot;, referencedColumnName = &quot;ID&quot;) })\nprivate Set&lt;TABLE_B&gt; valueForD;</p>\n<p>While inserting/updating entries to TABLE_D were done like this.\nSAVE METHOD:</p>\n<p>EntityC obj = new EntityC();\nobj.setValueForD(repository.findAllById(inputparam.getIds(),EntityB.class));</p>\n<p>Now adding ID_A to the TABLE_D totally disrupted the JPA Enitity and the SAVE METHOD,\nWe cannot find how to write JoinTable after adding ID from A to TableD, also the association changed from 1:1 to 1:n.\nWe cannot put separate table to map ID_C to ID_A.\nAs ID_A can have multiple ID_B selected for one ID_C.\nWe have to track which ID_Bs are selected for which ID_A for an entity C.</p>\n<p>Note:\nAs we had 1:1 for TABLE_A to TABLE_C intially we only maintained TABLE_C to TABLE_B mapping.\nBut now as it is changing we can no longer follow this.</p>\n<p>we tried saving TABLE_D after TABLE_C.\nBut this is not maintaining the JPA Entity and somewhere the data is getting erased.\nFollowing issues of a product:\ncreate - moved to status 2. (SAVE TABLE_C and put ID_C, ID_A, ID_B to TABLE_D)\nEdit - moved to status 1 again. (SAVE TABLE_C and put ID_C, ID_A, ID_B to TABLE_D)\nEdit - move to status 2.(now TABLE_D is getting deleted for the particular ID_C)</p>\n<p>Need to know how to make the PersistentSet for the TABLE_D(having ID_A, ID_B (from two non-associated lookup tables) and ID_C ) in TABLE_C.\nShall we use TABLE_E.</p>\n"},{"tags":["java","sockets","inputstream"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685727251,"post_id":76391810,"comment_id":134706744,"body_markdown":"If OutputStream can send &#39;end of stream&#39; _before_ socket close, then what does that mean? That the socket is closed without calling `close()`? Who decides when that happens? Does it mean the other side gets -1 back for it` `read()` call, but data can later be sent anyway?","body":"If OutputStream can send &#39;end of stream&#39; <i>before</i> socket close, then what does that mean? That the socket is closed without calling <code>close()</code>? Who decides when that happens? Does it mean the other side gets -1 back for it` <code>read()</code> call, but data can later be sent anyway?"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1685733076,"post_id":76391810,"comment_id":134707804,"body_markdown":"Closing a `Socket` (or its `OutputStream`) sends a `FIN` packet to the peer. This is a *graceful* disconnect. No more data can be sent after `FIN` is sent. The `InputStream` of a `Socket` returns -1 when that `FIN` packet is received.","body":"Closing a <code>Socket</code> (or its <code>OutputStream</code>) sends a <code>FIN</code> packet to the peer. This is a <i>graceful</i> disconnect. No more data can be sent after <code>FIN</code> is sent. The <code>InputStream</code> of a <code>Socket</code> returns -1 when that <code>FIN</code> packet is received."},{"owner":{"account_id":22394749,"reputation":63,"user_id":16606189,"display_name":"MirageHF"},"score":0,"creation_date":1685787206,"post_id":76391810,"comment_id":134712245,"body_markdown":"@rzwitserloot But does “end of stream” really means “stream is closed” ? Or does it mean “end of current stream of information” and the OutputStream  object is still usable for further communication ?","body":"@rzwitserloot But does “end of stream” really means “stream is closed” ? Or does it mean “end of current stream of information” and the OutputStream  object is still usable for further communication ?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1685793812,"post_id":76391810,"comment_id":134712828,"body_markdown":"Ah, but then that requires a protocol that has a way to communicate &#39;stream is closed&#39;. It can&#39;t be some simple value because you&#39;d want to send _all possible byte values_ on this channel, therefore, there is no one value we can decree to mean &#39;end of stream&#39;. The solution that _you_ implement a protocol and decide on some sequence of bytes that means &#39;end of stream&#39;.","body":"Ah, but then that requires a protocol that has a way to communicate &#39;stream is closed&#39;. It can&#39;t be some simple value because you&#39;d want to send <i>all possible byte values</i> on this channel, therefore, there is no one value we can decree to mean &#39;end of stream&#39;. The solution that <i>you</i> implement a protocol and decide on some sequence of bytes that means &#39;end of stream&#39;."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688118438,"post_id":76391810,"comment_id":135034036,"body_markdown":"Because that&#39;s what &#39;end of stream&#39; *means.* It does not mean &#39;end of *current* stream of information&#39;. There is no such concept in TCP and no expression of it in Java.","body":"Because that&#39;s what &#39;end of stream&#39; <i>means.</i> It does not mean &#39;end of <i>current</i> stream of information&#39;. There is no such concept in TCP and no expression of it in Java."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1685736352,"creation_date":1685736352,"answer_id":76393197,"question_id":76391810,"body_markdown":"&gt; _I&#39;ve also read that the OutputStream of a socket only sends an &quot;end of stream&quot; message if the socket is closed._\r\n\r\nNot by default.\r\n\r\nThere doesn&#39;t appear to be anything within the _Socket_ class that will transmit a _-1_ value.  \r\nHere is the source for _[Socket#close](https://github.com/openjdk/jdk/blob/fdd3941121aad3975c7b448bb11e50f9943b7af7/src/java.base/share/classes/java/net/Socket.java#L1565)_, and here is _[ServerSocket#close](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/ServerSocket.java#L746)_.\r\n\r\nThe _-1_ is sent by the _[read](https://github.com/openjdk/jdk/blob/fdd3941121aad3975c7b448bb11e50f9943b7af7/src/java.base/share/classes/java/net/Socket.java#L954)_ method, when it has reached the end of the data stream.\r\n\r\nSo, It would depend on the interface&amp;mdash;for example, an _[FTP](https://www.ietf.org/rfc/rfc959.html)_ makes use of a _\\r\\n_ sequence to denote the end of a transmission.  \r\nThe concept is to increase the congruency between the components, since data transmission is _&quot;expensive&quot;_.  \r\nAdditionally, it&#39;s similar to how an _HTTP_ header contains a _[content-length](https://www.rfc-editor.org/rfc/rfc7230#section-3.3.2)_&amp;mdash;this reduces, what some refer to as _[polling](https://en.wikipedia.org/wiki/Polling_(computer_science))_&amp;mdash;essentially, _while((c = in.read()) != -1)_, without the block.  \r\n_[Blocking](https://en.wikipedia.org/wiki/Blocking_(computing))_ is a more logical concept, to prevent a requirement to _poll_.\r\n\r\n&gt; _... Because the client awaits for the end of stream signal (in.read() = -1) that never comes, so it stays blocked by the InputStream.read() call._\r\n\r\nCorrect.\r\nThe _Socket_ is accessing the _SocketInputStream#read_ method, which will block if it there is no data.","title":"Why does the InputStream of a socket returns -1 only when the socket is closed?","body":"<blockquote>\n<p><em>I've also read that the OutputStream of a socket only sends an &quot;end of stream&quot; message if the socket is closed.</em></p>\n</blockquote>\n<p>Not by default.</p>\n<p>There doesn't appear to be anything within the <em>Socket</em> class that will transmit a <em>-1</em> value.<br />\nHere is the source for <em><a href=\"https://github.com/openjdk/jdk/blob/fdd3941121aad3975c7b448bb11e50f9943b7af7/src/java.base/share/classes/java/net/Socket.java#L1565\" rel=\"nofollow noreferrer\">Socket#close</a></em>, and here is <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/ServerSocket.java#L746\" rel=\"nofollow noreferrer\">ServerSocket#close</a></em>.</p>\n<p>The <em>-1</em> is sent by the <em><a href=\"https://github.com/openjdk/jdk/blob/fdd3941121aad3975c7b448bb11e50f9943b7af7/src/java.base/share/classes/java/net/Socket.java#L954\" rel=\"nofollow noreferrer\">read</a></em> method, when it has reached the end of the data stream.</p>\n<p>So, It would depend on the interface—for example, an <em><a href=\"https://www.ietf.org/rfc/rfc959.html\" rel=\"nofollow noreferrer\">FTP</a></em> makes use of a <em>\\r\\n</em> sequence to denote the end of a transmission.<br />\nThe concept is to increase the congruency between the components, since data transmission is <em>&quot;expensive&quot;</em>.<br />\nAdditionally, it's similar to how an <em>HTTP</em> header contains a <em><a href=\"https://www.rfc-editor.org/rfc/rfc7230#section-3.3.2\" rel=\"nofollow noreferrer\">content-length</a></em>—this reduces, what some refer to as <em><a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\">polling</a></em>—essentially, <em>while((c = in.read()) != -1)</em>, without the block.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">Blocking</a></em> is a more logical concept, to prevent a requirement to <em>poll</em>.</p>\n<blockquote>\n<p><em>... Because the client awaits for the end of stream signal (in.read() = -1) that never comes, so it stays blocked by the InputStream.read() call.</em></p>\n</blockquote>\n<p>Correct.\nThe <em>Socket</em> is accessing the <em>SocketInputStream#read</em> method, which will block if it there is no data.</p>\n"},{"tags":[],"owner":{"account_id":22394749,"reputation":63,"user_id":16606189,"display_name":"MirageHF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688107611,"creation_date":1688107611,"answer_id":76586632,"question_id":76391810,"body_markdown":"I&#39;m going to close this question.\r\n\r\nMy conclusion is that the only way to know the end of a message at socket level is really the socket closing. This is because &quot;socket&quot; is at OSI level 5: in TCP/IP, the &quot;end of a message&quot; is indeed the end of the connection. That&#39;s why the socket signals &quot;end of connection&quot; only when connection is closed.\r\n\r\nThe level of abstraction required to identify and separate messages inside a socket&#39;s stream must be done at Application level (OSI level 7, typically HTTP), TCP/IP cannot do it by design.\r\n\r\nSo the solution for this problem is either to define a &quot;end of message&quot; character (like CRLF or `\\r\\n` in a Java String), or to use an existing application protocol (like HTTP) to exchange messages. From a discovery and experimentation POV, I find that both are interesting! \r\n\r\nI realize now this question was more a misunderstanding of the OSI layers than a Java problem. Thank you for taking the time to answer me!","title":"Why does the InputStream of a socket returns -1 only when the socket is closed?","body":"<p>I'm going to close this question.</p>\n<p>My conclusion is that the only way to know the end of a message at socket level is really the socket closing. This is because &quot;socket&quot; is at OSI level 5: in TCP/IP, the &quot;end of a message&quot; is indeed the end of the connection. That's why the socket signals &quot;end of connection&quot; only when connection is closed.</p>\n<p>The level of abstraction required to identify and separate messages inside a socket's stream must be done at Application level (OSI level 7, typically HTTP), TCP/IP cannot do it by design.</p>\n<p>So the solution for this problem is either to define a &quot;end of message&quot; character (like CRLF or <code>\\r\\n</code> in a Java String), or to use an existing application protocol (like HTTP) to exchange messages. From a discovery and experimentation POV, I find that both are interesting!</p>\n<p>I realize now this question was more a misunderstanding of the OSI layers than a Java problem. Thank you for taking the time to answer me!</p>\n"}],"owner":{"account_id":22394749,"reputation":63,"user_id":16606189,"display_name":"MirageHF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76586632,"answer_count":2,"score":0,"last_activity_date":1688107611,"creation_date":1685722169,"question_id":76391810,"body_markdown":"I have read on some question of StackOverflow that we usually use the condition ```(c = inputStream.read()) == -1)``` to detect if &quot;end of stream&quot; is reached. However, I&#39;ve also read that the OutputStream of a socket only sends an &quot;end of stream&quot; message if the socket is closed.\r\n\r\nThis makes this server code...\r\n\r\n\r\n    public class Server {\r\n        public static int port = 27018;\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            char c = &#39; &#39;;\r\n    \r\n            ServerSocket serverSocket = new ServerSocket(port);\r\n            System.out.println(&quot;Server started&quot;);\r\n            Socket connectionSocket = serverSocket.accept();\r\n            serverSocket.close();\r\n            String bufferOuputString = &quot;&quot;;\r\n    \r\n            InputStream in = connectionSocket.getInputStream();\r\n            OutputStream out = connectionSocket.getOutputStream();\r\n    \r\n            System.out.println(&quot;Connection established on port &quot; + port);\r\n            out.write(&quot;Welcome to my server !&quot;.getBytes());\r\n    \r\n    \r\n            System.out.println(&quot;Waiting for client messages&quot;);\r\n            while(c != &#39;/&#39;){\r\n                c = (char) in.read();\r\n                if(c == &#39;*&#39;){\r\n                    System.out.println(bufferOuputString);\r\n                    bufferOuputString = &quot;&quot;;\r\n                } else {\r\n                    bufferOuputString += c;\r\n                }\r\n            }\r\n    \r\n            connectionSocket.close();\r\n        }\r\n    }\r\n\r\n...alongside this client code...\r\n\r\n    \r\n    public class Client {\r\n        public static int port = 27018;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            try (Socket socket = new Socket(&quot;127.0.0.1&quot;, port)) {\r\n                int c;\r\n                Scanner sc = new Scanner(System.in);\r\n                String bufferInputString = &quot;&quot;;\r\n                String bufferString = &quot;&quot;;\r\n    \r\n                OutputStream out = socket.getOutputStream();\r\n                InputStream in = socket.getInputStream();\r\n    \r\n                while((c = in.read()) != -1){\r\n                    bufferInputString += (char) c;\r\n                }\r\n                System.out.println(bufferInputString);\r\n    \r\n                while(!bufferString.contains(&quot;/&quot;)){\r\n                    System.out.println(&quot;You can write messages to server:&quot;);\r\n                    bufferString = sc.nextLine() + &quot;*&quot;;\r\n                    out.write(bufferString.getBytes());\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n... useless. Because the client awaits for the end of stream signal (```in.read() = -1```) that never comes, so it stays blocked by the ```InputStream.read()``` call.\r\n\r\nFor the record, I tried this as server code to further check this &quot;rule&quot; of sockets:\r\n\r\n    public class Server {\r\n        public static int port = 27018;\r\n    \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            char c = &#39; &#39;;\r\n    \r\n            ServerSocket serverSocket = new ServerSocket(port);\r\n            System.out.println(&quot;Server started&quot;);\r\n            Socket connectionSocket = serverSocket.accept();\r\n            serverSocket.close();\r\n            String bufferOuputString = &quot;&quot;;\r\n    \r\n            InputStream in = connectionSocket.getInputStream();\r\n            OutputStream out = connectionSocket.getOutputStream();\r\n    \r\n            System.out.println(&quot;Connection established on port &quot; + port);\r\n            out.write(&quot;Welcome to my server !&quot;.getBytes());\r\n            Thread.sleep(3000);\r\n            connectionSocket.close();\r\n        }\r\n    }\r\n\r\nAnd after 3 seconds, client printed...\r\n\r\n[![Client output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FV7HE.png\r\n\r\n...and proceeded to go into infinite looping because I forgot to change the second ```while``` loop. So this confirms that socket&#39;s ```OutputStream``` object only sends &quot;end of stream&quot; at ```Socket.close()```. My question is : **why this design choice ?**","title":"Why does the InputStream of a socket returns -1 only when the socket is closed?","body":"<p>I have read on some question of StackOverflow that we usually use the condition <code>(c = inputStream.read()) == -1)</code> to detect if &quot;end of stream&quot; is reached. However, I've also read that the OutputStream of a socket only sends an &quot;end of stream&quot; message if the socket is closed.</p>\n<p>This makes this server code...</p>\n<pre><code>public class Server {\n    public static int port = 27018;\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        char c = ' ';\n\n        ServerSocket serverSocket = new ServerSocket(port);\n        System.out.println(&quot;Server started&quot;);\n        Socket connectionSocket = serverSocket.accept();\n        serverSocket.close();\n        String bufferOuputString = &quot;&quot;;\n\n        InputStream in = connectionSocket.getInputStream();\n        OutputStream out = connectionSocket.getOutputStream();\n\n        System.out.println(&quot;Connection established on port &quot; + port);\n        out.write(&quot;Welcome to my server !&quot;.getBytes());\n\n\n        System.out.println(&quot;Waiting for client messages&quot;);\n        while(c != '/'){\n            c = (char) in.read();\n            if(c == '*'){\n                System.out.println(bufferOuputString);\n                bufferOuputString = &quot;&quot;;\n            } else {\n                bufferOuputString += c;\n            }\n        }\n\n        connectionSocket.close();\n    }\n}\n</code></pre>\n<p>...alongside this client code...</p>\n<pre><code>public class Client {\n    public static int port = 27018;\n\n    public static void main(String[] args) throws IOException {\n        try (Socket socket = new Socket(&quot;127.0.0.1&quot;, port)) {\n            int c;\n            Scanner sc = new Scanner(System.in);\n            String bufferInputString = &quot;&quot;;\n            String bufferString = &quot;&quot;;\n\n            OutputStream out = socket.getOutputStream();\n            InputStream in = socket.getInputStream();\n\n            while((c = in.read()) != -1){\n                bufferInputString += (char) c;\n            }\n            System.out.println(bufferInputString);\n\n            while(!bufferString.contains(&quot;/&quot;)){\n                System.out.println(&quot;You can write messages to server:&quot;);\n                bufferString = sc.nextLine() + &quot;*&quot;;\n                out.write(bufferString.getBytes());\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>... useless. Because the client awaits for the end of stream signal (<code>in.read() = -1</code>) that never comes, so it stays blocked by the <code>InputStream.read()</code> call.</p>\n<p>For the record, I tried this as server code to further check this &quot;rule&quot; of sockets:</p>\n<pre><code>public class Server {\n    public static int port = 27018;\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        char c = ' ';\n\n        ServerSocket serverSocket = new ServerSocket(port);\n        System.out.println(&quot;Server started&quot;);\n        Socket connectionSocket = serverSocket.accept();\n        serverSocket.close();\n        String bufferOuputString = &quot;&quot;;\n\n        InputStream in = connectionSocket.getInputStream();\n        OutputStream out = connectionSocket.getOutputStream();\n\n        System.out.println(&quot;Connection established on port &quot; + port);\n        out.write(&quot;Welcome to my server !&quot;.getBytes());\n        Thread.sleep(3000);\n        connectionSocket.close();\n    }\n}\n</code></pre>\n<p>And after 3 seconds, client printed...</p>\n<p><a href=\"https://i.stack.imgur.com/FV7HE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FV7HE.png\" alt=\"Client output\" /></a></p>\n<p>...and proceeded to go into infinite looping because I forgot to change the second <code>while</code> loop. So this confirms that socket's <code>OutputStream</code> object only sends &quot;end of stream&quot; at <code>Socket.close()</code>. My question is : <strong>why this design choice ?</strong></p>\n"},{"tags":["java","rest","jersey","jax-rs","restful-url"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1688046828,"post_id":76581499,"comment_id":135023563,"body_markdown":"I doubt _everything_ is the same if it doesn&#39;t work. Find out what&#39;s different. You&#39;ve provided one file from the entire article, and haven&#39;t provided other details like server, jars, folder structure. So with this little information you&#39;ve provided, the best we can say is for you to figure out what&#39;s different from the article","body":"I doubt <i>everything</i> is the same if it doesn&#39;t work. Find out what&#39;s different. You&#39;ve provided one file from the entire article, and haven&#39;t provided other details like server, jars, folder structure. So with this little information you&#39;ve provided, the best we can say is for you to figure out what&#39;s different from the article"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688049437,"post_id":76581499,"comment_id":135024222,"body_markdown":"Hello, you have: `&lt;url-pattern&gt;/rest/&lt;/url-pattern&gt;` and in original it is: `&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;`","body":"Hello, you have: <code>&lt;url-pattern&gt;&#47;rest&#47;&lt;&#47;url-pattern&gt;</code> and in original it is: <code>&lt;url-pattern&gt;&#47;rest&#47;*&lt;&#47;url-pattern&gt;</code>"},{"owner":{"account_id":18017142,"reputation":1,"user_id":13095381,"display_name":"Srijan Erroju"},"score":0,"creation_date":1688096343,"post_id":76581499,"comment_id":135030968,"body_markdown":"@Mar-Z It&#39;s resulting in the same error with the original &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt; pattern too.","body":"@Mar-Z It&#39;s resulting in the same error with the original &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt; pattern too."},{"owner":{"account_id":18017142,"reputation":1,"user_id":13095381,"display_name":"Srijan Erroju"},"score":0,"creation_date":1688096385,"post_id":76581499,"comment_id":135030974,"body_markdown":"@PaulSamsotha I&#39;ve updated the required details in the post.","body":"@PaulSamsotha I&#39;ve updated the required details in the post."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688107582,"creation_date":1688107582,"answer_id":76586628,"question_id":76581499,"body_markdown":"&gt; Am I messing up with the versions?\r\n\r\nYes, the Jersey version 2.40 won&#39;t work with Tomcat 10.1 Try Jersey 3.1.2 instead.","title":"Getting HTTP Status 404 – Not Found : The origin server did not find a current representation for the target resource or is not willing to disclose","body":"<blockquote>\n<p>Am I messing up with the versions?</p>\n</blockquote>\n<p>Yes, the Jersey version 2.40 won't work with Tomcat 10.1 Try Jersey 3.1.2 instead.</p>\n"}],"owner":{"account_id":18017142,"reputation":1,"user_id":13095381,"display_name":"Srijan Erroju"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688107582,"creation_date":1688045086,"question_id":76581499,"body_markdown":"I was following this tutorial on RESTful Web Services https://www.tutorialspoint.com/restful/restful_first_application.htm\r\nI&#39;ve followed the same steps but the resource is not being found when I hit the URI through postman http://localhost:8080/UserManagement/rest/UserService/users \r\n\r\nThis is web.xml file stored inside WEB-INF folder under web app, the rest of the files have same content of the tutorial, I&#39;m a bit new to web services please help with what could be going wrong here\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n   &lt;display-name&gt;User Management&lt;/display-name&gt;\r\n   &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Jersey RESTful Application&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n         &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;com.tutorialspoint&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n   &lt;/servlet&gt;\r\n   &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Jersey RESTful Application&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n   &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nServer - apache-tomcat-10.1.10\r\n\r\nJersey - 2.40.0\r\n\r\nJdk 19\r\n\r\nUserService\r\n```\r\npackage com.tutorialspoint;  \r\n\r\nimport java.util.List; \r\nimport javax.ws.rs.GET; \r\nimport javax.ws.rs.Path; \r\nimport javax.ws.rs.Produces; \r\nimport javax.ws.rs.core.MediaType;  \r\n@Path(&quot;/UserService&quot;) \r\n\r\npublic class UserService {  \r\n   UserDao userDao = new UserDao();  \r\n   @GET \r\n   @Path(&quot;/users&quot;) \r\n   @Produces(MediaType.APPLICATION_XML) \r\n   public List&lt;User&gt; getUsers(){ \r\n\t   System.out.println(&quot;Inside Service Class&quot;);\r\n      return userDao.getAllUsers(); \r\n   }  \r\n}\r\n```\r\nUser\r\n```\r\npackage com.tutorialspoint;  \r\n\r\nimport java.io.Serializable;  \r\nimport javax.xml.bind.annotation.XmlElement; \r\nimport javax.xml.bind.annotation.XmlRootElement; \r\n@XmlRootElement(name = &quot;user&quot;) \r\n\r\npublic class User implements Serializable {  \r\n   private static final long serialVersionUID = 1L; \r\n   private int id; \r\n   private String name; \r\n   private String profession;  \r\n   public User(){} \r\n    \r\n   public User(int id, String name, String profession){  \r\n      this.id = id; \r\n      this.name = name; \r\n      this.profession = profession; \r\n   }  \r\n   public int getId() { \r\n      return id; \r\n   }  \r\n   @XmlElement \r\n   public void setId(int id) { \r\n      this.id = id; \r\n   } \r\n   public String getName() { \r\n      return name; \r\n   } \r\n   @XmlElement\r\n   public void setName(String name) { \r\n      this.name = name; \r\n   } \r\n   public String getProfession() { \r\n      return profession; \r\n   } \r\n   @XmlElement \r\n   public void setProfession(String profession) { \r\n      this.profession = profession; \r\n   }   \r\n} \r\n```\r\nUserDao\r\n```\r\npackage com.tutorialspoint;  \r\n\r\nimport java.io.File; \r\nimport java.io.FileInputStream; \r\nimport java.io.FileNotFoundException;  \r\nimport java.io.FileOutputStream; \r\nimport java.io.IOException; \r\nimport java.io.ObjectInputStream; \r\nimport java.io.ObjectOutputStream; \r\nimport java.util.ArrayList; \r\nimport java.util.List;  \r\n\r\npublic class UserDao { \r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic List&lt;User&gt; getAllUsers(){ \r\n      \r\n      List&lt;User&gt; userList = null; \r\n      try { \r\n         File file = new File(&quot;Users.dat&quot;); \r\n         if (!file.exists()) { \r\n            User user = new User(1, &quot;Mahesh&quot;, &quot;Teacher&quot;); \r\n            userList = new ArrayList&lt;User&gt;(); \r\n            userList.add(user); \r\n            saveUserList(userList); \r\n         } \r\n         else{ \r\n            FileInputStream fis = new FileInputStream(file); \r\n            ObjectInputStream ois = new ObjectInputStream(fis); \r\n            userList = (List&lt;User&gt;) ois.readObject(); \r\n            ois.close(); \r\n         } \r\n      } catch (IOException e) { \r\n         e.printStackTrace(); \r\n      } catch (ClassNotFoundException e) { \r\n         e.printStackTrace(); \r\n      }   \r\n      return userList; \r\n   } \r\n   private void saveUserList(List&lt;User&gt; userList){ \r\n      try { \r\n         File file = new File(&quot;Users.dat&quot;); \r\n         FileOutputStream fos;  \r\n         fos = new FileOutputStream(file); \r\n         ObjectOutputStream oos = new ObjectOutputStream(fos); \r\n         oos.writeObject(userList); \r\n         oos.close(); \r\n      } catch (FileNotFoundException e) { \r\n         e.printStackTrace(); \r\n      } catch (IOException e) { \r\n         e.printStackTrace(); \r\n      } \r\n   }    \r\n}\r\n```\r\n\r\n[Folder Structure][1]\r\n\r\n\r\n[Libraries][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lQchU.png\r\n  [2]: https://i.stack.imgur.com/Nl4Ff.png\r\n\r\nAlso, getting this exception for the first time when I hit the URI\r\n\r\n```\r\nMessage Class [org.glassfish.jersey.servlet.ServletContainer] is not a Servlet\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njakarta.servlet.ServletException: Class [org.glassfish.jersey.servlet.ServletContainer] is not a Servlet\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:1589)\r\nRoot Cause\r\n\r\njava.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class jakarta.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @a82c5f1; jakarta.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @3b95a09c)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\nAm I messing up with the versions?","title":"Getting HTTP Status 404 – Not Found : The origin server did not find a current representation for the target resource or is not willing to disclose","body":"<p>I was following this tutorial on RESTful Web Services <a href=\"https://www.tutorialspoint.com/restful/restful_first_application.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/restful/restful_first_application.htm</a>\nI've followed the same steps but the resource is not being found when I hit the URI through postman http://localhost:8080/UserManagement/rest/UserService/users</p>\n<p>This is web.xml file stored inside WEB-INF folder under web app, the rest of the files have same content of the tutorial, I'm a bit new to web services please help with what could be going wrong here</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n   &lt;display-name&gt;User Management&lt;/display-name&gt;\n   &lt;servlet&gt;\n      &lt;servlet-name&gt;Jersey RESTful Application&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n         &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n         &lt;param-value&gt;com.tutorialspoint&lt;/param-value&gt;\n      &lt;/init-param&gt;\n   &lt;/servlet&gt;\n   &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;Jersey RESTful Application&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n   &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Server - apache-tomcat-10.1.10</p>\n<p>Jersey - 2.40.0</p>\n<p>Jdk 19</p>\n<p>UserService</p>\n<pre><code>package com.tutorialspoint;  \n\nimport java.util.List; \nimport javax.ws.rs.GET; \nimport javax.ws.rs.Path; \nimport javax.ws.rs.Produces; \nimport javax.ws.rs.core.MediaType;  \n@Path(&quot;/UserService&quot;) \n\npublic class UserService {  \n   UserDao userDao = new UserDao();  \n   @GET \n   @Path(&quot;/users&quot;) \n   @Produces(MediaType.APPLICATION_XML) \n   public List&lt;User&gt; getUsers(){ \n       System.out.println(&quot;Inside Service Class&quot;);\n      return userDao.getAllUsers(); \n   }  \n}\n</code></pre>\n<p>User</p>\n<pre><code>package com.tutorialspoint;  \n\nimport java.io.Serializable;  \nimport javax.xml.bind.annotation.XmlElement; \nimport javax.xml.bind.annotation.XmlRootElement; \n@XmlRootElement(name = &quot;user&quot;) \n\npublic class User implements Serializable {  \n   private static final long serialVersionUID = 1L; \n   private int id; \n   private String name; \n   private String profession;  \n   public User(){} \n    \n   public User(int id, String name, String profession){  \n      this.id = id; \n      this.name = name; \n      this.profession = profession; \n   }  \n   public int getId() { \n      return id; \n   }  \n   @XmlElement \n   public void setId(int id) { \n      this.id = id; \n   } \n   public String getName() { \n      return name; \n   } \n   @XmlElement\n   public void setName(String name) { \n      this.name = name; \n   } \n   public String getProfession() { \n      return profession; \n   } \n   @XmlElement \n   public void setProfession(String profession) { \n      this.profession = profession; \n   }   \n} \n</code></pre>\n<p>UserDao</p>\n<pre><code>package com.tutorialspoint;  \n\nimport java.io.File; \nimport java.io.FileInputStream; \nimport java.io.FileNotFoundException;  \nimport java.io.FileOutputStream; \nimport java.io.IOException; \nimport java.io.ObjectInputStream; \nimport java.io.ObjectOutputStream; \nimport java.util.ArrayList; \nimport java.util.List;  \n\npublic class UserDao { \n@SuppressWarnings(&quot;unchecked&quot;)\npublic List&lt;User&gt; getAllUsers(){ \n      \n      List&lt;User&gt; userList = null; \n      try { \n         File file = new File(&quot;Users.dat&quot;); \n         if (!file.exists()) { \n            User user = new User(1, &quot;Mahesh&quot;, &quot;Teacher&quot;); \n            userList = new ArrayList&lt;User&gt;(); \n            userList.add(user); \n            saveUserList(userList); \n         } \n         else{ \n            FileInputStream fis = new FileInputStream(file); \n            ObjectInputStream ois = new ObjectInputStream(fis); \n            userList = (List&lt;User&gt;) ois.readObject(); \n            ois.close(); \n         } \n      } catch (IOException e) { \n         e.printStackTrace(); \n      } catch (ClassNotFoundException e) { \n         e.printStackTrace(); \n      }   \n      return userList; \n   } \n   private void saveUserList(List&lt;User&gt; userList){ \n      try { \n         File file = new File(&quot;Users.dat&quot;); \n         FileOutputStream fos;  \n         fos = new FileOutputStream(file); \n         ObjectOutputStream oos = new ObjectOutputStream(fos); \n         oos.writeObject(userList); \n         oos.close(); \n      } catch (FileNotFoundException e) { \n         e.printStackTrace(); \n      } catch (IOException e) { \n         e.printStackTrace(); \n      } \n   }    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lQchU.png\" rel=\"nofollow noreferrer\">Folder Structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/Nl4Ff.png\" rel=\"nofollow noreferrer\">Libraries</a></p>\n<p>Also, getting this exception for the first time when I hit the URI</p>\n<pre><code>Message Class [org.glassfish.jersey.servlet.ServletContainer] is not a Servlet\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: Class [org.glassfish.jersey.servlet.ServletContainer] is not a Servlet\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:1589)\nRoot Cause\n\njava.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class jakarta.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @a82c5f1; jakarta.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @3b95a09c)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>Am I messing up with the versions?</p>\n"},{"tags":["java","android","macos","gradle"],"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688107352,"creation_date":1688107352,"question_id":76586611,"body_markdown":"I was on low storage memory with my MacBook so I deleted some files... Now one of my React Native projects, in `android/build.gradle` gives me a red tilde at line 1. When I hover over it, I get the following message: \r\n\r\n```js\r\nCould not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.5.1-all.zip&#39;.\r\nThe specified initialization script &#39;/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle&#39; does not exist.Java(0)\r\n\r\n```\r\n\r\nAt first, I thought it was an android error, so I tried to solve it by cleaning rebuilding etc. Check here other questions on StackOverflow:\r\n\r\n- [Why the initialization script … .gradle does not exist?][1]\r\n- [Why gradle-test-kit-7.5.1.jar does not exist?][2]\r\n\r\nThis time, I uninstall and reinstall Java, and restarted the MacBook, but nothing changed.\r\n\r\nI&#39;m stuck with this for weeks now. I used to think that fortunately the app is not yet uploaded in Google Play, so I could create a new one and copy all the code in there. But now that I see that the missing file is in a private MacBook folder, I think that maybe I need to reinstall macOS. Does anyone know what I should do?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76553916/why-the-initialization-script-gradle-does-not-exist\r\n  [2]: https://stackoverflow.com/questions/76434259/why-gradle-test-kit-7-5-1-jar-does-not-exist","title":"How can I restore a file from Macintosh HD/private/var/folders/n_ that android/build.gradle ask for?","body":"<p>I was on low storage memory with my MacBook so I deleted some files... Now one of my React Native projects, in <code>android/build.gradle</code> gives me a red tilde at line 1. When I hover over it, I get the following message:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.5.1-all.zip'.\nThe specified initialization script '/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle' does not exist.Java(0)\n\n</code></pre>\n<p>At first, I thought it was an android error, so I tried to solve it by cleaning rebuilding etc. Check here other questions on StackOverflow:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/76553916/why-the-initialization-script-gradle-does-not-exist\">Why the initialization script … .gradle does not exist?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/76434259/why-gradle-test-kit-7-5-1-jar-does-not-exist\">Why gradle-test-kit-7.5.1.jar does not exist?</a></li>\n</ul>\n<p>This time, I uninstall and reinstall Java, and restarted the MacBook, but nothing changed.</p>\n<p>I'm stuck with this for weeks now. I used to think that fortunately the app is not yet uploaded in Google Play, so I could create a new one and copy all the code in there. But now that I see that the missing file is in a private MacBook folder, I think that maybe I need to reinstall macOS. Does anyone know what I should do?</p>\n"},{"tags":["java","postgresql","docker","dockerfile","liquibase"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1680083330,"post_id":75875141,"comment_id":133835594,"body_markdown":"Columns are always added &quot;at the end&quot; in Postgres. So if Liquibase accepted that attribute in a previous version it must have ignored it.","body":"Columns are always added &quot;at the end&quot; in Postgres. So if Liquibase accepted that attribute in a previous version it must have ignored it."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1680084676,"post_id":75875141,"comment_id":133835921,"body_markdown":"@a_horse_with_no_name but why ? people say that it makes sense\nhttps://stackoverflow.com/questions/1243547/how-to-add-a-new-column-in-a-table-after-the-2nd-or-3rd-column-in-the-table-usin/14775092#14775092","body":"@a_horse_with_no_name but why ? people say that it makes sense <a href=\"https://stackoverflow.com/questions/1243547/how-to-add-a-new-column-in-a-table-after-the-2nd-or-3rd-column-in-the-table-usin/14775092#14775092\" title=\"how to add a new column in a table after the 2nd or 3rd column in the table usin\">stackoverflow.com/questions/1243547/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1680084798,"post_id":75875141,"comment_id":133835953,"body_markdown":"Why? Because no one has implemented such a feature.","body":"Why? Because no one has implemented such a feature."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1680084836,"post_id":75875141,"comment_id":133835960,"body_markdown":"@a_horse_with_no_name so it was a bug in previous version of liquibase ?","body":"@a_horse_with_no_name so it was a bug in previous version of liquibase ?"}],"answers":[{"tags":[],"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680094229,"creation_date":1680094229,"answer_id":75877476,"question_id":75875141,"body_markdown":"As [this pull request](https://github.com/liquibase/liquibase/pull/2943) shows, previously liquibase did not warn that column ordering might not be applied, because the database does not support it. So it failed silently in older versions, but now it shows an error. Quoting the most important line:\r\n\r\n&gt; **Breaking change:** Because I fixed the validation logic, anyone who has a beforeColumn or afterColumn or position attribute on addColumn for a database that doesn&#39;t support that will now get a validation error vs. it just being ignored.","title":"addAfterColumn is not allowed on postgresql","body":"<p>As <a href=\"https://github.com/liquibase/liquibase/pull/2943\" rel=\"nofollow noreferrer\">this pull request</a> shows, previously liquibase did not warn that column ordering might not be applied, because the database does not support it. So it failed silently in older versions, but now it shows an error. Quoting the most important line:</p>\n<blockquote>\n<p><strong>Breaking change:</strong> Because I fixed the validation logic, anyone who has a beforeColumn or afterColumn or position attribute on addColumn for a database that doesn't support that will now get a validation error vs. it just being ignored.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13336772,"reputation":180,"user_id":9626373,"display_name":"Grygorii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407945,"creation_date":1682369410,"answer_id":76096010,"question_id":75875141,"body_markdown":"You can try to do suggestion with `modifySql` from here:\r\nhttps://github.com/liquibase/liquibase/issues/3094#issuecomment-1195961510\r\n\r\n\t&lt;changeSet id=&quot;***&quot; author=&quot;***&quot;&gt;\r\n        &lt;addColumn tableName=&quot;my_table&quot;&gt;\r\n            &lt;column name=&quot;new_column&quot; type=&quot;varchar(255)&quot;/&gt;\r\n        &lt;/addColumn&gt;\r\n        &lt;modifySql dbms=&quot;postgresql&quot;&gt;\r\n            &lt;append value=&quot; position 4&quot;/&gt;\r\n        &lt;/modifySql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nIt looks like in liquibase 4.13 https://github.com/liquibase/liquibase/pull/2943 they fixed something that doesn&#39;t need to be fixed as in https://github.com/liquibase/liquibase/issues/3091 they are trying to enhance/fix their own fix. In addition to breaking backward compatibility (as @gstackoverflow wrote in the comment), it breaks the logic when the product has support for many types of databases (no error for mySQL and error for Oracle/MsSQL/PostgreSQL).","title":"addAfterColumn is not allowed on postgresql","body":"<p>You can try to do suggestion with <code>modifySql</code> from here:\n<a href=\"https://github.com/liquibase/liquibase/issues/3094#issuecomment-1195961510\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/3094#issuecomment-1195961510</a></p>\n<pre><code>&lt;changeSet id=&quot;***&quot; author=&quot;***&quot;&gt;\n    &lt;addColumn tableName=&quot;my_table&quot;&gt;\n        &lt;column name=&quot;new_column&quot; type=&quot;varchar(255)&quot;/&gt;\n    &lt;/addColumn&gt;\n    &lt;modifySql dbms=&quot;postgresql&quot;&gt;\n        &lt;append value=&quot; position 4&quot;/&gt;\n    &lt;/modifySql&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>It looks like in liquibase 4.13 <a href=\"https://github.com/liquibase/liquibase/pull/2943\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/pull/2943</a> they fixed something that doesn't need to be fixed as in <a href=\"https://github.com/liquibase/liquibase/issues/3091\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/3091</a> they are trying to enhance/fix their own fix. In addition to breaking backward compatibility (as @gstackoverflow wrote in the comment), it breaks the logic when the product has support for many types of databases (no error for mySQL and error for Oracle/MsSQL/PostgreSQL).</p>\n"},{"tags":[],"owner":{"account_id":28923051,"reputation":21,"user_id":22153524,"display_name":"Wenke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688106777,"creation_date":1688103058,"answer_id":76586284,"question_id":75875141,"body_markdown":"remove &quot;afterColumn&quot; so it works in fresh ENV.\r\nto avoid Validation failure in an ENV where the change set is already executed, adding the original checksum works:\r\n\r\n      &lt;changeSet&gt;\r\n        &lt;validCheckSum&gt;9:6a4c63a04890c57dd610abc39389b4ce&lt;/validCheckSum&gt;\r\n            or\r\n        &lt;validCheckSum&gt;ANY&lt;/validCheckSum&gt;\r\n\r\n\r\n","title":"addAfterColumn is not allowed on postgresql","body":"<p>remove &quot;afterColumn&quot; so it works in fresh ENV.\nto avoid Validation failure in an ENV where the change set is already executed, adding the original checksum works:</p>\n<pre><code>  &lt;changeSet&gt;\n    &lt;validCheckSum&gt;9:6a4c63a04890c57dd610abc39389b4ce&lt;/validCheckSum&gt;\n        or\n    &lt;validCheckSum&gt;ANY&lt;/validCheckSum&gt;\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75877476,"answer_count":3,"score":3,"last_activity_date":1688106777,"creation_date":1680080506,"question_id":75875141,"body_markdown":"To fix vulnerabilities I upgraded docker image version in my dockerfile:\r\n\r\n**old:**\r\n\r\n    FROM liquibase/liquibase:4.4\r\n\r\n**new**:\r\n\r\n    FROM liquibase/liquibase:4.20\r\n\r\nBut I started to get error:\r\n\r\n    addAfterColumn is not allowed on postgresql\r\n\r\nI started to investigate this error and found out that in some changesets `addAfterColumn` is used.\r\n\r\n    &lt;changeSet author=&quot;***&quot; id=&quot;***&quot;&gt;\r\n        &lt;addColumn tableName=&quot;my_table&quot; &gt;\r\n          &lt;column afterColumn=&quot;existing_column&quot;\r\n            name=&quot;new_column&quot;\r\n            type=&quot;varchar(255)&quot; &gt;\r\n            &lt;constraints nullable=&quot;true&quot;/&gt;\r\n          &lt;/column&gt;\r\n        &lt;/addColumn&gt;\r\n      &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\nI also found this topic:\r\n\r\nhttps://github.com/liquibase/liquibase/issues/3091\r\n\r\nSo I just removed `afterColumn` but I am not sure what side effects could I experience ? I am not familiar about reason to use `afterColumn` but if it is removed it could be useless but I can&#39;t find any useful information.\r\n\r\nAre there any other options to fix the issue ? because editing liquibase scripts will break checksums for existing databases\r\n","title":"addAfterColumn is not allowed on postgresql","body":"<p>To fix vulnerabilities I upgraded docker image version in my dockerfile:</p>\n<p><strong>old:</strong></p>\n<pre><code>FROM liquibase/liquibase:4.4\n</code></pre>\n<p><strong>new</strong>:</p>\n<pre><code>FROM liquibase/liquibase:4.20\n</code></pre>\n<p>But I started to get error:</p>\n<pre><code>addAfterColumn is not allowed on postgresql\n</code></pre>\n<p>I started to investigate this error and found out that in some changesets <code>addAfterColumn</code> is used.</p>\n<pre><code>&lt;changeSet author=&quot;***&quot; id=&quot;***&quot;&gt;\n    &lt;addColumn tableName=&quot;my_table&quot; &gt;\n      &lt;column afterColumn=&quot;existing_column&quot;\n        name=&quot;new_column&quot;\n        type=&quot;varchar(255)&quot; &gt;\n        &lt;constraints nullable=&quot;true&quot;/&gt;\n      &lt;/column&gt;\n    &lt;/addColumn&gt;\n  &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>I also found this topic:</p>\n<p><a href=\"https://github.com/liquibase/liquibase/issues/3091\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/3091</a></p>\n<p>So I just removed <code>afterColumn</code> but I am not sure what side effects could I experience ? I am not familiar about reason to use <code>afterColumn</code> but if it is removed it could be useless but I can't find any useful information.</p>\n<p>Are there any other options to fix the issue ? because editing liquibase scripts will break checksums for existing databases</p>\n"},{"tags":["java","spring-boot","kubernetes","google-cloud-platform","spring-cloud-gcp"],"answers":[{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688106073,"creation_date":1688106073,"answer_id":76586510,"question_id":76586152,"body_markdown":"# Distributed Lock\r\n## use redis\r\n- [Distributed Locks with Redis](https://redis.io/docs/manual/patterns/distributed-locks/)\r\n- [use redisson ](https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers)\r\n- [spring-integration](https://docs.spring.io/spring-integration/docs/5.5.18/reference/html/redis.html#redis:~:text=Redis%20Lock-,Registry,-Spring%20Integration%204.0)\r\n\r\n## use zookeeper\r\n- [zookeeper sc_recipes_Locks](https://zookeeper.apache.org/doc/r3.1.2/recipes.html#sc_recipes_Locks)\r\n- [spring-integration](https://docs.spring.io/spring-integration/reference/html/zookeeper.html#zk-lock-registry:~:text=Zookeeper%20Lock-,Registry,-The%20ZookeeperLockRegistry%20can)","title":"Kubernetes : Multiple pods result in a scheduler being invoked multiple times","body":"<h1>Distributed Lock</h1>\n<h2>use redis</h2>\n<ul>\n<li><a href=\"https://redis.io/docs/manual/patterns/distributed-locks/\" rel=\"nofollow noreferrer\">Distributed Locks with Redis</a></li>\n<li><a href=\"https://github.com/redisson/redisson/wiki/8.-distributed-locks-and-synchronizers\" rel=\"nofollow noreferrer\">use redisson </a></li>\n<li><a href=\"https://docs.spring.io/spring-integration/docs/5.5.18/reference/html/redis.html#redis:%7E:text=Redis%20Lock-,Registry,-Spring%20Integration%204.0\" rel=\"nofollow noreferrer\">spring-integration</a></li>\n</ul>\n<h2>use zookeeper</h2>\n<ul>\n<li><a href=\"https://zookeeper.apache.org/doc/r3.1.2/recipes.html#sc_recipes_Locks\" rel=\"nofollow noreferrer\">zookeeper sc_recipes_Locks</a></li>\n<li><a href=\"https://docs.spring.io/spring-integration/reference/html/zookeeper.html#zk-lock-registry:%7E:text=Zookeeper%20Lock-,Registry,-The%20ZookeeperLockRegistry%20can\" rel=\"nofollow noreferrer\">spring-integration</a></li>\n</ul>\n"}],"owner":{"account_id":26237252,"reputation":41,"user_id":19912177,"display_name":"BefuddledBarberian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76586510,"answer_count":1,"score":0,"last_activity_date":1688106073,"creation_date":1688101252,"question_id":76586152,"body_markdown":"This is a clarification question\r\n\r\nSo I&#39;m working on a java spring boot application, where I have a scheduler running which would be calling an external api every one hour\r\n\r\nThis application is deployed in GCP kubernetes\r\n\r\nThe issue is, when there are multiple pods running, it&#39;s being invoked multiple times. For example, at 12 pm, if there are 5 pods running the external api is being called 5 times, which shouldn&#39;t be happening. \r\n\r\nWhat is the best way to fix this issue ?\r\n\r\nSome documentation would be appreciated","title":"Kubernetes : Multiple pods result in a scheduler being invoked multiple times","body":"<p>This is a clarification question</p>\n<p>So I'm working on a java spring boot application, where I have a scheduler running which would be calling an external api every one hour</p>\n<p>This application is deployed in GCP kubernetes</p>\n<p>The issue is, when there are multiple pods running, it's being invoked multiple times. For example, at 12 pm, if there are 5 pods running the external api is being called 5 times, which shouldn't be happening.</p>\n<p>What is the best way to fix this issue ?</p>\n<p>Some documentation would be appreciated</p>\n"},{"tags":["java","security","log4j","log4j2","exploit"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1639402310,"post_id":70310980,"comment_id":124331898,"body_markdown":"Does this answer your question? [How to mitigate log4shell vulnerability in version 1.2 of log4j?](https://stackoverflow.com/questions/70312033/how-to-mitigate-log4shell-vulnerability-in-version-1-2-of-log4j)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70312033/how-to-mitigate-log4shell-vulnerability-in-version-1-2-of-log4j\">How to mitigate log4shell vulnerability in version 1.2 of log4j?</a>"},{"owner":{"account_id":53422,"reputation":19165,"user_id":159658,"accept_rate":100,"display_name":"Brent Writes Code"},"score":1,"creation_date":1639696903,"post_id":70310980,"comment_id":124422335,"body_markdown":"This is tough because the guidance is still constantly evolving.  I recommend checking out the specific page CISA set up for this: https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance","body":"This is tough because the guidance is still constantly evolving.  I recommend checking out the specific page CISA set up for this: <a href=\"https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance\" rel=\"nofollow noreferrer\">cisa.gov/uscert/apache-log4j-vulnerability-guidance</a>"}],"answers":[{"tags":[],"owner":{"account_id":21309,"reputation":156748,"user_id":51685,"display_name":"AKX"},"down_vote_count":4,"up_vote_count":44,"is_accepted":true,"score":40,"last_activity_date":1641062589,"creation_date":1639175095,"answer_id":70311014,"question_id":70310980,"body_markdown":"The JNDI feature [was added into Log4j 2.0-beta9][1].\r\n\r\nLog4j 1.x thus does not have the vulnerable code.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/LOG4J2-313\r\n\r\n\r\n","title":"Log4j vulnerability - Is Log4j 1.2.17 vulnerable (was unable to find any JNDI code in source)?","body":"<p>The JNDI feature <a href=\"https://issues.apache.org/jira/browse/LOG4J2-313\" rel=\"noreferrer\">was added into Log4j 2.0-beta9</a>.</p>\n<p>Log4j 1.x thus does not have the vulnerable code.</p>\n"},{"tags":[],"owner":{"account_id":6023843,"reputation":4966,"user_id":5007662,"display_name":"giraffesyo"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1641062832,"creation_date":1639485969,"answer_id":70349116,"question_id":70310980,"body_markdown":"While not affected by the exact same Log4Shell issue, the [Apache Log4j team][1] recommends to remove `JMSAppender` and `SocketServer`, which has a vulnerability in [CVE-2019-17571][2], from your JAR files.\r\n\r\nYou can use the `zip` command to remove the affected classes. Replace the filename/version with yours:\r\n\r\n```shell\r\nzip -d log4j-1.2.16.jar org/apache/log4j/net/JMSAppender.class\r\nzip -d log4j-1.2.16.jar org/apache/log4j/net/SocketServer.class\r\n```\r\n\r\nYou can look through through the files in your zip using *[less][3]* and *[grep][4]*, e.g. `less log4j-1.2.16.jar | grep JMSAppender`\r\n\r\nThat being said, Apache recommends that you upgrade to the 2.x version if possible. According to [their security page][5]:\r\n\r\n&gt; Please note that Log4j 1.x has reached end of life and is no longer supported. Vulnerabilities reported after August 2015 against Log4j 1.x were not checked and will not be fixed. Users should upgrade to Log4j 2 to obtain security fixes.\r\n\r\n  [1]: https://github.com/apache/logging-log4j2/pull/608#issuecomment-993182759\r\n  [2]: https://nvd.nist.gov/vuln/detail/CVE-2019-17571\r\n  [3]: https://en.wikipedia.org/wiki/Less_(Unix)\r\n  [4]: https://en.wikipedia.org/wiki/Grep\r\n  [5]: https://logging.apache.org/log4j/2.x/security.html\r\n\r\n","title":"Log4j vulnerability - Is Log4j 1.2.17 vulnerable (was unable to find any JNDI code in source)?","body":"<p>While not affected by the exact same Log4Shell issue, the <a href=\"https://github.com/apache/logging-log4j2/pull/608#issuecomment-993182759\" rel=\"noreferrer\">Apache Log4j team</a> recommends to remove <code>JMSAppender</code> and <code>SocketServer</code>, which has a vulnerability in <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2019-17571\" rel=\"noreferrer\">CVE-2019-17571</a>, from your JAR files.</p>\n<p>You can use the <code>zip</code> command to remove the affected classes. Replace the filename/version with yours:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>zip -d log4j-1.2.16.jar org/apache/log4j/net/JMSAppender.class\nzip -d log4j-1.2.16.jar org/apache/log4j/net/SocketServer.class\n</code></pre>\n<p>You can look through through the files in your zip using <em><a href=\"https://en.wikipedia.org/wiki/Less_(Unix)\" rel=\"noreferrer\">less</a></em> and <em><a href=\"https://en.wikipedia.org/wiki/Grep\" rel=\"noreferrer\">grep</a></em>, e.g. <code>less log4j-1.2.16.jar | grep JMSAppender</code></p>\n<p>That being said, Apache recommends that you upgrade to the 2.x version if possible. According to <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"noreferrer\">their security page</a>:</p>\n<blockquote>\n<p>Please note that Log4j 1.x has reached end of life and is no longer supported. Vulnerabilities reported after August 2015 against Log4j 1.x were not checked and will not be fixed. Users should upgrade to Log4j 2 to obtain security fixes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1318950,"reputation":1139,"user_id":1265200,"accept_rate":86,"display_name":"Dazed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641156879,"creation_date":1639574078,"answer_id":70364341,"question_id":70310980,"body_markdown":"In addition to [giraffesyo&#39;s answer][1] and in case it helps anyone - I wrote this Bash script - which removes classes identified as vulnerabilities (link [here to Log4j dev thread][2]) and sets properties files are read-only - as suggested [here on a Red Hat Bugzilla thread][3].\r\n\r\nNote 1 - it does not check for any usage of these classes in properties it is purely a way to find and remove - use at own risk!\r\n\r\nNote 2 - it depends on `zip` and `unzip` being installed\r\n\r\n```lang-bash\r\n#!/bin/bash\r\n\r\nDIR=$1\r\nAPPLY=$2\r\n\r\n# Classes to be searched for/removed\r\nCLASSES=&quot;org/apache/log4j/net/SimpleSocketServer.class\r\norg/apache/log4j/net/SocketServer.class\r\norg/apache/log4j/net/JMSAppender.class&quot;\r\n\r\n\r\nPROGNAME=`basename $0`\r\nPROGPATH=`echo $0 | sed -e &#39;s,[\\\\/][^\\\\/][^\\\\/]*$,,&#39;`\r\n\r\nusage () {\r\n    echo &gt;&amp;2 Usage: ${PROGNAME} DIR [APPLY]\r\n    echo &gt;&amp;2        Where DIR is the starting directory for find\r\n    echo &gt;&amp;2        and   APPLY = &quot;Y&quot; - to perform purification\r\n    exit 1\r\n}\r\n\r\n# Force upper case on Apply\r\nAPPLY=$(echo &quot;${APPLY}&quot; | tr &#39;[:lower:]&#39; &#39;[:upper:]&#39;)\r\n\r\n# Default Apply to N\r\nif [ &quot;$APPLY&quot; == &quot;&quot; ] ; then\r\n   APPLY=&quot;N&quot;\r\nfi\r\n\r\n# Check parameters\r\nif [ &quot;$DIR&quot; == &quot;&quot; ] ; then\r\n   usage\r\nfi\r\necho $APPLY | grep -q -i -e &#39;^Y$&#39; -e &#39;^N$&#39; || usage\r\n\r\n# Search for log4j jar files - for class file removal\r\nFILES=$(find $DIR -name *log4j*jar)\r\nfor f in $FILES\r\ndo\r\n   echo &quot;Checking Jar [$f]&quot;\r\n\r\n   for jf in $CLASSES\r\n   do\r\n      unzip -v $f | grep -e &quot;$jf&quot;\r\n      if [ &quot;$APPLY&quot; = &quot;Y&quot; ]\r\n      then\r\n         echo &quot;Deleting $jf from $f&quot;\r\n         zip -d $f $jf\r\n      fi\r\n   done\r\ndone\r\n\r\n# Search for Log4j properties files - for read-only setting\r\nPFILES=$(find $DIR -name *log4j*properties)\r\nfor f in $PFILES\r\ndo\r\n   echo &quot;Checking permissions [$f]&quot;\r\n\r\n   if [ &quot;$APPLY&quot; = &quot;Y&quot; ]\r\n   then\r\n      echo &quot;Changing permissons on $f&quot;\r\n      chmod 444 $f\r\n   fi\r\n\r\n   ls -l $f\r\ndone\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/70310980/log4j-vulnerability-is-log4j-1-2-17-vulnerable-was-unable-to-find-any-jndi-co/70349116#70349116\r\n  [2]: https://github.com/apache/logging-log4j2/pull/608#issuecomment-990494126\r\n  [3]: https://bugzilla.redhat.com/show_bug.cgi?id=2031667#c43\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Log4j vulnerability - Is Log4j 1.2.17 vulnerable (was unable to find any JNDI code in source)?","body":"<p>In addition to <a href=\"https://stackoverflow.com/questions/70310980/log4j-vulnerability-is-log4j-1-2-17-vulnerable-was-unable-to-find-any-jndi-co/70349116#70349116\">giraffesyo's answer</a> and in case it helps anyone - I wrote this Bash script - which removes classes identified as vulnerabilities (link <a href=\"https://github.com/apache/logging-log4j2/pull/608#issuecomment-990494126\" rel=\"nofollow noreferrer\">here to Log4j dev thread</a>) and sets properties files are read-only - as suggested <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=2031667#c43\" rel=\"nofollow noreferrer\">here on a Red Hat Bugzilla thread</a>.</p>\n<p>Note 1 - it does not check for any usage of these classes in properties it is purely a way to find and remove - use at own risk!</p>\n<p>Note 2 - it depends on <code>zip</code> and <code>unzip</code> being installed</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nDIR=$1\nAPPLY=$2\n\n# Classes to be searched for/removed\nCLASSES=&quot;org/apache/log4j/net/SimpleSocketServer.class\norg/apache/log4j/net/SocketServer.class\norg/apache/log4j/net/JMSAppender.class&quot;\n\n\nPROGNAME=`basename $0`\nPROGPATH=`echo $0 | sed -e 's,[\\\\/][^\\\\/][^\\\\/]*$,,'`\n\nusage () {\n    echo &gt;&amp;2 Usage: ${PROGNAME} DIR [APPLY]\n    echo &gt;&amp;2        Where DIR is the starting directory for find\n    echo &gt;&amp;2        and   APPLY = &quot;Y&quot; - to perform purification\n    exit 1\n}\n\n# Force upper case on Apply\nAPPLY=$(echo &quot;${APPLY}&quot; | tr '[:lower:]' '[:upper:]')\n\n# Default Apply to N\nif [ &quot;$APPLY&quot; == &quot;&quot; ] ; then\n   APPLY=&quot;N&quot;\nfi\n\n# Check parameters\nif [ &quot;$DIR&quot; == &quot;&quot; ] ; then\n   usage\nfi\necho $APPLY | grep -q -i -e '^Y$' -e '^N$' || usage\n\n# Search for log4j jar files - for class file removal\nFILES=$(find $DIR -name *log4j*jar)\nfor f in $FILES\ndo\n   echo &quot;Checking Jar [$f]&quot;\n\n   for jf in $CLASSES\n   do\n      unzip -v $f | grep -e &quot;$jf&quot;\n      if [ &quot;$APPLY&quot; = &quot;Y&quot; ]\n      then\n         echo &quot;Deleting $jf from $f&quot;\n         zip -d $f $jf\n      fi\n   done\ndone\n\n# Search for Log4j properties files - for read-only setting\nPFILES=$(find $DIR -name *log4j*properties)\nfor f in $PFILES\ndo\n   echo &quot;Checking permissions [$f]&quot;\n\n   if [ &quot;$APPLY&quot; = &quot;Y&quot; ]\n   then\n      echo &quot;Changing permissons on $f&quot;\n      chmod 444 $f\n   fi\n\n   ls -l $f\ndone\n</code></pre>\n"}],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55508,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":70311014,"answer_count":3,"score":61,"last_activity_date":1688105655,"creation_date":1639174760,"question_id":70310980,"body_markdown":"With regard to the [Log4j][1] [JNDI][2] remote code execution vulnerability that has been identified [CVE-2021-44228][3]  - (also see references) - I wondered if [Log4j-v1.2][4] is also impacted, but the closest I got from source code review is the [JMS-Appender][5].\r\n\r\nThe question is, while the posts on the Internet indicate that Log4j 1.2 is also vulnerable, I am not able to find the relevant source code for it.\r\n\r\nAm I missing something that others have identified?\r\n\r\nLog4j 1.2 appears to have a vulnerability in the [socket-server][6] class, but my understanding is that it needs to be enabled in the first place for it to be applicable and hence is not a passive threat unlike the JNDI-lookup vulnerability which the one identified appears to be.\r\n\r\n***Is my understanding - that Log4j v1.2 - is not vulnerable to the jndi-remote-code execution bug correct?***\r\n\r\n### References\r\n\r\n * *[Apache Log4j Security Vulnerabilities][7]*\r\n\r\n * *[Zero-day in ubiquitous Log4j tool poses a grave threat to the Internet][8]*\r\n\r\n * *[Worst Apache Log4j RCE Zero day Dropped on Internet][9]*\r\n\r\n * *[‘Log4Shell’ vulnerability poses critical threat to applications using ‘ubiquitous’ Java logging package Apache Log4j][10]*\r\n\r\nThis [blog post from Cloudflare][11] also indicates the same point as from [AKX][12]....that it was introduced from Log4j 2!\r\n\r\n**Update #1** - A fork of the (now-retired) apache-log4j-1.2.x with patch fixes for few vulnerabilities identified in the older library is now available (from the original log4j author). The site is https://reload4j.qos.ch/. As of 21-Jan-2022 version 1.2.18.2 has been released. Vulnerabilities addressed to date include those pertaining to [JMSAppender][13], [SocketServer][14] and [Chainsaw][15] vulnerabilities. Note that I am simply relaying this information. Have not verified the fixes from my end. Please refer the link for additional details.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Log4j\r\n  [2]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [3]: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228\r\n  [4]: https://dlcdn.apache.org/logging/log4j/1.2.17/log4j-1.2.17.zip\r\n  [5]: https://github.com/kikonen/log4j-share/blob/master/src/main/java/org/apache/log4j/net/JMSAppender.java\r\n  [6]: https://github.com/kikonen/log4j-share/blob/master/src/main/java/org/apache/log4j/net/SocketServer.java\r\n  [7]: https://logging.apache.org/log4j/2.x/security.html\r\n  [8]: https://arstechnica.com/information-technology/2021/12/minecraft-and-other-apps-face-serious-threat-from-new-code-execution-bug/\r\n  [9]: https://www.cyberkendra.com/2021/12/worst-log4j-rce-zeroday-dropped-on.html\r\n  [10]: https://portswigger.net/daily-swig/log4shell-vulnerability-poses-critical-threat-to-applications-using-ubiquitous-java-logging-package-apache-log4j\r\n  [11]: https://blog.cloudflare.com/inside-the-log4j2-vulnerability-cve-2021-44228/\r\n  [12]: https://stackoverflow.com/users/51685/akx\r\n  [13]: https://cve.report/CVE-2021-4104\r\n  [14]: https://cve.report/CVE-2019-17571\r\n  [15]: https://cve.report/CVE-2022-23307","title":"Log4j vulnerability - Is Log4j 1.2.17 vulnerable (was unable to find any JNDI code in source)?","body":"<p>With regard to the <a href=\"https://en.wikipedia.org/wiki/Log4j\" rel=\"noreferrer\">Log4j</a> <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"noreferrer\">JNDI</a> remote code execution vulnerability that has been identified <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228\" rel=\"noreferrer\">CVE-2021-44228</a>  - (also see references) - I wondered if <a href=\"https://dlcdn.apache.org/logging/log4j/1.2.17/log4j-1.2.17.zip\" rel=\"noreferrer\">Log4j-v1.2</a> is also impacted, but the closest I got from source code review is the <a href=\"https://github.com/kikonen/log4j-share/blob/master/src/main/java/org/apache/log4j/net/JMSAppender.java\" rel=\"noreferrer\">JMS-Appender</a>.</p>\n<p>The question is, while the posts on the Internet indicate that Log4j 1.2 is also vulnerable, I am not able to find the relevant source code for it.</p>\n<p>Am I missing something that others have identified?</p>\n<p>Log4j 1.2 appears to have a vulnerability in the <a href=\"https://github.com/kikonen/log4j-share/blob/master/src/main/java/org/apache/log4j/net/SocketServer.java\" rel=\"noreferrer\">socket-server</a> class, but my understanding is that it needs to be enabled in the first place for it to be applicable and hence is not a passive threat unlike the JNDI-lookup vulnerability which the one identified appears to be.</p>\n<p><em><strong>Is my understanding - that Log4j v1.2 - is not vulnerable to the jndi-remote-code execution bug correct?</strong></em></p>\n<h3>References</h3>\n<ul>\n<li><p><em><a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"noreferrer\">Apache Log4j Security Vulnerabilities</a></em></p>\n</li>\n<li><p><em><a href=\"https://arstechnica.com/information-technology/2021/12/minecraft-and-other-apps-face-serious-threat-from-new-code-execution-bug/\" rel=\"noreferrer\">Zero-day in ubiquitous Log4j tool poses a grave threat to the Internet</a></em></p>\n</li>\n<li><p><em><a href=\"https://www.cyberkendra.com/2021/12/worst-log4j-rce-zeroday-dropped-on.html\" rel=\"noreferrer\">Worst Apache Log4j RCE Zero day Dropped on Internet</a></em></p>\n</li>\n<li><p><em><a href=\"https://portswigger.net/daily-swig/log4shell-vulnerability-poses-critical-threat-to-applications-using-ubiquitous-java-logging-package-apache-log4j\" rel=\"noreferrer\">‘Log4Shell’ vulnerability poses critical threat to applications using ‘ubiquitous’ Java logging package Apache Log4j</a></em></p>\n</li>\n</ul>\n<p>This <a href=\"https://blog.cloudflare.com/inside-the-log4j2-vulnerability-cve-2021-44228/\" rel=\"noreferrer\">blog post from Cloudflare</a> also indicates the same point as from <a href=\"https://stackoverflow.com/users/51685/akx\">AKX</a>....that it was introduced from Log4j 2!</p>\n<p><strong>Update #1</strong> - A fork of the (now-retired) apache-log4j-1.2.x with patch fixes for few vulnerabilities identified in the older library is now available (from the original log4j author). The site is <a href=\"https://reload4j.qos.ch/\" rel=\"noreferrer\">https://reload4j.qos.ch/</a>. As of 21-Jan-2022 version 1.2.18.2 has been released. Vulnerabilities addressed to date include those pertaining to <a href=\"https://cve.report/CVE-2021-4104\" rel=\"noreferrer\">JMSAppender</a>, <a href=\"https://cve.report/CVE-2019-17571\" rel=\"noreferrer\">SocketServer</a> and <a href=\"https://cve.report/CVE-2022-23307\" rel=\"noreferrer\">Chainsaw</a> vulnerabilities. Note that I am simply relaying this information. Have not verified the fixes from my end. Please refer the link for additional details.</p>\n"},{"tags":["java","android","phone-call","call-recording"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1648554966,"post_id":71661351,"comment_id":126648920,"body_markdown":"last i checked i don&#39;t think you can record calls anymore ..","body":"last i checked i don&#39;t think you can record calls anymore .."}],"answers":[{"tags":[],"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648555019,"creation_date":1648555019,"answer_id":71661577,"question_id":71661351,"body_markdown":"Unfortunately, it is not possible on most unrooted Android phones to record phone calls using a regular app.\r\n\r\nYou would need to either:\r\n\r\nA) Sign your app with the OEM certificate to get escalated privileges\r\n\r\nB) Root the phone\r\n\r\nC) Find a security exploit\r\n\r\nI think there are some rare models that have a different configuration of audio pathing that can allow this, but there are very few of them.","title":"How to Record phone call in Android","body":"<p>Unfortunately, it is not possible on most unrooted Android phones to record phone calls using a regular app.</p>\n<p>You would need to either:</p>\n<p>A) Sign your app with the OEM certificate to get escalated privileges</p>\n<p>B) Root the phone</p>\n<p>C) Find a security exploit</p>\n<p>I think there are some rare models that have a different configuration of audio pathing that can allow this, but there are very few of them.</p>\n"},{"tags":[],"owner":{"account_id":12512822,"reputation":722,"user_id":9107280,"display_name":"Farrukh Tulkunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648812988,"creation_date":1648812988,"answer_id":71706300,"question_id":71661351,"body_markdown":"When the phone call starts Mic access is moved to the priority app which is the voice call itself and its handling app. Your app will no longer have access to the mic if it&#39;s an ordinary app. However if your app has an Accessibility service you can share the microphone\r\n\r\nhttps://developer.android.com/guide/topics/media/sharing-audio-input \r\n&lt;br/&gt;\r\n\r\nAs far as I know, `VOICE_COMMUNICATION` is also just a mic with some filter on top, so the same mic sharing should work in this case\r\n\r\nLastly `VOICE_CALL` Now things get interesting here. This source requires [Manifest.permission.CAPTURE_AUDIO_OUTPUT][1] permission. If your app doesn&#39;t have it will crash. The problem is this permission is not provided to third-party app in any way. The accessibility trick will not help you here. \r\n\r\nNow if you just want a recording accessiblity+mic works most of the time and depending on the situation your recording will turn out either fine or unlistenable. If you don&#39;t want rooted phone or custom ROM etc. this is the only way you can record a call. \r\n\r\nIf you can root or custom ROM your device then you can look into installing your app as system application in order to get the permissions you need.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#CAPTURE_AUDIO_OUTPUT","title":"How to Record phone call in Android","body":"<p>When the phone call starts Mic access is moved to the priority app which is the voice call itself and its handling app. Your app will no longer have access to the mic if it's an ordinary app. However if your app has an Accessibility service you can share the microphone</p>\n<p><a href=\"https://developer.android.com/guide/topics/media/sharing-audio-input\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/sharing-audio-input</a>\n<br/></p>\n<p>As far as I know, <code>VOICE_COMMUNICATION</code> is also just a mic with some filter on top, so the same mic sharing should work in this case</p>\n<p>Lastly <code>VOICE_CALL</code> Now things get interesting here. This source requires <a href=\"https://developer.android.com/reference/android/Manifest.permission#CAPTURE_AUDIO_OUTPUT\" rel=\"nofollow noreferrer\">Manifest.permission.CAPTURE_AUDIO_OUTPUT</a> permission. If your app doesn't have it will crash. The problem is this permission is not provided to third-party app in any way. The accessibility trick will not help you here.</p>\n<p>Now if you just want a recording accessiblity+mic works most of the time and depending on the situation your recording will turn out either fine or unlistenable. If you don't want rooted phone or custom ROM etc. this is the only way you can record a call.</p>\n<p>If you can root or custom ROM your device then you can look into installing your app as system application in order to get the permissions you need.</p>\n"}],"owner":{"account_id":16856582,"reputation":63,"user_id":12188361,"display_name":"823"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688105517,"creation_date":1648554001,"question_id":71661351,"body_markdown":"I need to record a phone call in my android application. I have tried with MediaRecorder with the AudioSource set to MIC, VOICE_COMMUNICATION, VOICE_CALL and other options. But none of them record the call. Can anyone please suggest any solution for record a phone call in android.\r\n\r\nfollowing is the code that I have tried. But it does not record the call. only record the voice before and after the call. Please suggest Any Solution.\r\n\r\nCode to start recording\r\n\r\n```\r\npublic void startRecording(){\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.RECORD_AUDIO}, RECORD_AUDIO);\r\n\r\n            } else {\r\n                setReorder();\r\n            }\r\n        }\r\n\r\n public void setReorder(){\r\n        audioManager = (AudioManager)getApplicationContext().getSystemService(Context.AUDIO_SERVICE);\r\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\r\n        audioManager.setSpeakerphoneOn(true);\r\n        recorder = new MediaRecorder();\r\n//        recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL);\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setOutputFormat(output_formats[currentFormat]);\r\n//        recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n        recorder.setOutputFile(getFilename());\r\n        recorder.setOnErrorListener(errorListener);\r\n        recorder.setOnInfoListener(infoListener);\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n            // Do the file write\r\n            prepareAndStart();\r\n        } else {\r\n            // Request permission from the user\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE}, WRITE_EXTERNAL_STORAGE);\r\n        }\r\n    }\r\n\r\npublic void prepareAndStart() {\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, READ_EXTERNAL_STORAGE);\r\n\r\n            } else {\r\n                startRec();\r\n            }\r\n\r\n\r\n    }\r\n\r\n    public void startRec(){\r\n        try{\r\n            recorder.prepare();\r\n            recorder.start();\r\n\r\n        } catch (IllegalStateException e) {\r\n            Log.e(&quot;REDORDING :: &quot;,e.getMessage());\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            Log.e(&quot;REDORDING :: &quot;,e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n//    @SuppressLint(&quot;MissingSuperCall&quot;)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case 0:\r\n                // Re-attempt file write\r\n                setReorder();\r\n            case 1:\r\n                prepareAndStart();\r\n            case 2:\r\n                startRec();\r\n        }\r\n    }\r\n```\r\n\r\nCode to get file name for output file\r\n\r\n```\r\n    private String getFilename() {\r\n//        String filepath = Environment.getExternalStorageDirectory().getPath();\r\n        String filepath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).getPath();\r\n        File file = new File(filepath, AUDIO_RECORDER_FOLDER);\r\n        Log.d(&quot;FILEPATH&quot;, filepath);\r\n\r\n        if (!file.exists()) {\r\n            file.mkdirs();\r\n            Log.d( &quot;!file.exists&quot;,&quot;created file&quot;);\r\n\r\n        }\r\n        Log.d(&quot;BEFORE RETURN&quot;, &quot;created file EXISTS&quot;);\r\n        Log.d(&quot;BEFORE RETURN&quot;, file.getAbsolutePath());\r\n        return (file.getAbsolutePath() + &quot;/&quot; + System.currentTimeMillis() + file_exts[currentFormat]);\r\n//        return (file.getAbsolutePath());\r\n\r\n    }\r\n```\r\n\r\nCode to stop recording\r\n\r\n```\r\n    public void stopRecording(){\r\n        audioManager.setSpeakerphoneOn(false);\r\n\r\n        try{\r\n            if (null != recorder) {\r\n                recorder.stop();\r\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.stop();&quot;);\r\n                recorder.reset();\r\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.reset();&quot;);\r\n                recorder.release();\r\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.release();&quot;);\r\n\r\n                recorder = null;\r\n            }\r\n        }catch(RuntimeException stopException){\r\n            Log.e(&quot;REDORDING STOP :: &quot;, &quot;RuntimeException stopException&quot;);\r\n            Log.e(&quot;REDORDING STOP :: &quot;,stopException.getMessage());\r\n            stopException.printStackTrace();\r\n        }\r\n    }\r\n\r\n```","title":"How to Record phone call in Android","body":"<p>I need to record a phone call in my android application. I have tried with MediaRecorder with the AudioSource set to MIC, VOICE_COMMUNICATION, VOICE_CALL and other options. But none of them record the call. Can anyone please suggest any solution for record a phone call in android.</p>\n<p>following is the code that I have tried. But it does not record the call. only record the voice before and after the call. Please suggest Any Solution.</p>\n<p>Code to start recording</p>\n<pre><code>public void startRecording(){\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.RECORD_AUDIO}, RECORD_AUDIO);\n\n            } else {\n                setReorder();\n            }\n        }\n\n public void setReorder(){\n        audioManager = (AudioManager)getApplicationContext().getSystemService(Context.AUDIO_SERVICE);\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\n        audioManager.setSpeakerphoneOn(true);\n        recorder = new MediaRecorder();\n//        recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL);\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        recorder.setOutputFormat(output_formats[currentFormat]);\n//        recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n        recorder.setOutputFile(getFilename());\n        recorder.setOnErrorListener(errorListener);\n        recorder.setOnInfoListener(infoListener);\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n            // Do the file write\n            prepareAndStart();\n        } else {\n            // Request permission from the user\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE}, WRITE_EXTERNAL_STORAGE);\n        }\n    }\n\npublic void prepareAndStart() {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, READ_EXTERNAL_STORAGE);\n\n            } else {\n                startRec();\n            }\n\n\n    }\n\n    public void startRec(){\n        try{\n            recorder.prepare();\n            recorder.start();\n\n        } catch (IllegalStateException e) {\n            Log.e(&quot;REDORDING :: &quot;,e.getMessage());\n            e.printStackTrace();\n        } catch (IOException e) {\n            Log.e(&quot;REDORDING :: &quot;,e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n\n//    @SuppressLint(&quot;MissingSuperCall&quot;)\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case 0:\n                // Re-attempt file write\n                setReorder();\n            case 1:\n                prepareAndStart();\n            case 2:\n                startRec();\n        }\n    }\n</code></pre>\n<p>Code to get file name for output file</p>\n<pre><code>    private String getFilename() {\n//        String filepath = Environment.getExternalStorageDirectory().getPath();\n        String filepath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).getPath();\n        File file = new File(filepath, AUDIO_RECORDER_FOLDER);\n        Log.d(&quot;FILEPATH&quot;, filepath);\n\n        if (!file.exists()) {\n            file.mkdirs();\n            Log.d( &quot;!file.exists&quot;,&quot;created file&quot;);\n\n        }\n        Log.d(&quot;BEFORE RETURN&quot;, &quot;created file EXISTS&quot;);\n        Log.d(&quot;BEFORE RETURN&quot;, file.getAbsolutePath());\n        return (file.getAbsolutePath() + &quot;/&quot; + System.currentTimeMillis() + file_exts[currentFormat]);\n//        return (file.getAbsolutePath());\n\n    }\n</code></pre>\n<p>Code to stop recording</p>\n<pre><code>    public void stopRecording(){\n        audioManager.setSpeakerphoneOn(false);\n\n        try{\n            if (null != recorder) {\n                recorder.stop();\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.stop();&quot;);\n                recorder.reset();\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.reset();&quot;);\n                recorder.release();\n                Log.d(&quot;REDORDING STOP :: &quot;, &quot;recorder.release();&quot;);\n\n                recorder = null;\n            }\n        }catch(RuntimeException stopException){\n            Log.e(&quot;REDORDING STOP :: &quot;, &quot;RuntimeException stopException&quot;);\n            Log.e(&quot;REDORDING STOP :: &quot;,stopException.getMessage());\n            stopException.printStackTrace();\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","http","tomcat"],"comments":[{"owner":{"account_id":20956103,"reputation":5,"user_id":15396572,"display_name":"arquirupim"},"score":0,"creation_date":1689142309,"post_id":76586420,"comment_id":135169343,"body_markdown":"I was solved.\nBecause Jenkins not work by authority of ubuntu, then server&#39;s class file not changed\nWAS(I used Tomcat)&#39;s authority and Jenkins&#39;s authority was different","body":"I was solved. Because Jenkins not work by authority of ubuntu, then server&#39;s class file not changed WAS(I used Tomcat)&#39;s authority and Jenkins&#39;s authority was different"}],"owner":{"account_id":20956103,"reputation":5,"user_id":15396572,"display_name":"arquirupim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688105388,"creation_date":1688104953,"question_id":76586420,"body_markdown":"I was make some controller and test is success, so build and deploy server\r\n\r\nIn my local, It return normal (like BadRequest) but when after build, in server it return always 404\r\n\r\n\r\n\r\n```\r\n@Api\r\n@RestController\r\n@RequestMapping(&quot;/log&quot;)\r\n@RequiredArgsConstructor\r\npublic class LogController {\r\n    private final LogService logService;\r\n    @ApiOperation(&quot;insertLog&quot;)\r\n    @PostMapping(&quot;&quot;)\r\n    public RestResponse selectManager (@AuthenticationPrincipal AdminDTO adminDTO, HttpServletRequest request, @RequestBody LogDTO param){\r\n\r\n        System.out.println(&quot;insertLog&quot;);\r\n\r\n        return RestResponse.builder()\r\n                .restResponseCode(RestResponseCode.SUCCESS)\r\n                .data(logService.insertLog(adminDTO, request.getRemoteAddr(), param)).build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nIn server, I can&#39;t find any error in server log and find same code\r\n\r\nHow I can solve this? or What I&#39;ll find other code?","title":"localhost return normal value, deploy server return 404 error","body":"<p>I was make some controller and test is success, so build and deploy server</p>\n<p>In my local, It return normal (like BadRequest) but when after build, in server it return always 404</p>\n<pre><code>@Api\n@RestController\n@RequestMapping(&quot;/log&quot;)\n@RequiredArgsConstructor\npublic class LogController {\n    private final LogService logService;\n    @ApiOperation(&quot;insertLog&quot;)\n    @PostMapping(&quot;&quot;)\n    public RestResponse selectManager (@AuthenticationPrincipal AdminDTO adminDTO, HttpServletRequest request, @RequestBody LogDTO param){\n\n        System.out.println(&quot;insertLog&quot;);\n\n        return RestResponse.builder()\n                .restResponseCode(RestResponseCode.SUCCESS)\n                .data(logService.insertLog(adminDTO, request.getRemoteAddr(), param)).build();\n    }\n}\n</code></pre>\n<p>In server, I can't find any error in server log and find same code</p>\n<p>How I can solve this? or What I'll find other code?</p>\n"},{"tags":["java","java.util.scanner","calculator","calc"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":4,"creation_date":1454597942,"post_id":35204297,"comment_id":58124202,"body_markdown":"Possible duplicate of [Skipping nextLine() after using next(), nextInt() or other nextFoo() methods](http://stackoverflow.com/questions/13102045/skipping-nextline-after-using-next-nextint-or-other-nextfoo-methods)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/13102045/skipping-nextline-after-using-next-nextint-or-other-nextfoo-methods\">Skipping nextLine() after using next(), nextInt() or other nextFoo() methods</a>"},{"owner":{"account_id":5459394,"reputation":375,"user_id":4342875,"accept_rate":83,"display_name":"Niklas"},"score":0,"creation_date":1454598111,"post_id":35204297,"comment_id":58124328,"body_markdown":"apart from your programming issue: you might want to check division by zero ;)","body":"apart from your programming issue: you might want to check division by zero ;)"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1454598191,"post_id":35204297,"comment_id":58124389,"body_markdown":"To explain the link with the duplicate topic, _nextInt()_ doesn&#39;t consume the &quot;new line&quot; expression, so add a _nextLine()_ instruction just after your second _nextInt()_ .","body":"To explain the link with the duplicate topic, <i>nextInt()</i> doesn&#39;t consume the &quot;new line&quot; expression, so add a <i>nextLine()</i> instruction just after your second <i>nextInt()</i> ."}],"answers":[{"tags":[],"owner":{"account_id":7426620,"reputation":11138,"user_id":5648883,"display_name":"Roy Wang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454598273,"creation_date":1454598273,"answer_id":35204495,"question_id":35204297,"body_markdown":"Add `Calc.nextLine();` after `n2 = Calc.nextInt();` to consume the line feed.\r\n\r\nYou are also not using `else if` so all those `if` conditions will be checked even if previous `if` already matched (resulting in your final else being executed as long as operator not `&#39;/&#39;`).\r\n\r\nIn this case you should probably just use a `switch` block. ","title":"Simple calculator program in Java","body":"<p>Add <code>Calc.nextLine();</code> after <code>n2 = Calc.nextInt();</code> to consume the line feed.</p>\n\n<p>You are also not using <code>else if</code> so all those <code>if</code> conditions will be checked even if previous <code>if</code> already matched (resulting in your final else being executed as long as operator not <code>'/'</code>).</p>\n\n<p>In this case you should probably just use a <code>switch</code> block. </p>\n"},{"tags":[],"owner":{"account_id":19931986,"reputation":45,"user_id":14605453,"display_name":"Љубинко Стојановић - Смртник"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625634000,"creation_date":1625634000,"answer_id":68280269,"question_id":35204297,"body_markdown":"I made some changes to the code, this should work with you, but I also recommend using a switch. \r\n\r\nScanner Input = new Scanner(System.in);\r\n\r\n        try {\r\n            System.out.print(&quot;Enter a number: &quot;);\r\n            int num1 = Input.nextInt();\r\n\r\n            System.out.print(&quot;Enter an operator: &quot;);\r\n            char operator = Input.next().charAt(0);\r\n\r\n            System.out.print(&quot;Enter a second number: &quot;);\r\n            int num2 = Input.nextInt();\r\n            // this part of decision, it doesn&#39;t work.\r\n            if (&#39;+&#39; == operator) {\r\n                System.out.println(&quot;Your result is &quot; + (num1 + num2));\r\n            } else if (&#39;-&#39; == operator) {\r\n                System.out.println(&quot;Your result is &quot; + (num1 - num2));\r\n            } else if (&#39;*&#39; == operator) {\r\n                System.out.println(&quot;Your result is &quot; + (num1 * num2));\r\n            } else if (&#39;/&#39; == operator) {\r\n                System.out.println(&quot;Your result is &quot; + (num1 / num2));\r\n            }else {\r\n                System.out.println(&quot;Your answer is not valid&quot;);\r\n            }\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;similar to try and except in Python&quot;);\r\n        }","title":"Simple calculator program in Java","body":"<p>I made some changes to the code, this should work with you, but I also recommend using a switch.</p>\n<p>Scanner Input = new Scanner(System.in);</p>\n<pre><code>    try {\n        System.out.print(&quot;Enter a number: &quot;);\n        int num1 = Input.nextInt();\n\n        System.out.print(&quot;Enter an operator: &quot;);\n        char operator = Input.next().charAt(0);\n\n        System.out.print(&quot;Enter a second number: &quot;);\n        int num2 = Input.nextInt();\n        // this part of decision, it doesn't work.\n        if ('+' == operator) {\n            System.out.println(&quot;Your result is &quot; + (num1 + num2));\n        } else if ('-' == operator) {\n            System.out.println(&quot;Your result is &quot; + (num1 - num2));\n        } else if ('*' == operator) {\n            System.out.println(&quot;Your result is &quot; + (num1 * num2));\n        } else if ('/' == operator) {\n            System.out.println(&quot;Your result is &quot; + (num1 / num2));\n        }else {\n            System.out.println(&quot;Your answer is not valid&quot;);\n        }\n    } catch (InputMismatchException e) {\n        System.out.println(&quot;similar to try and except in Python&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":7775548,"reputation":23,"user_id":5883797,"display_name":"Shiv Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17850,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":35204495,"answer_count":2,"score":0,"last_activity_date":1688105110,"creation_date":1454597800,"question_id":35204297,"body_markdown":"I am a newbie coder in Java and I am trying to make this calculator in java where a user can enter two numbers and select the operation to be done on those numbers. However when the code comes to selecting the operator it skips the user input and the if statement and directly implements the else statement.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner Calc = new Scanner(System.in);\r\n    \t\tint n1;\r\n    \t\tint n2;\r\n    \t\tint Answer;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the first number: &quot;);\r\n    \t\tn1 = Calc.nextInt();\r\n    \t\tSystem.out.println(&quot;Enter the second number:&quot; );\r\n    \t\tn2 = Calc.nextInt();\r\n    \t\tSystem.out.println(&quot;Select the order of operation: &quot;);\r\n    \t\tchar operator = Calc.nextLine().charAt(0);\r\n    \t\t\r\n    \t\t\r\n    \t\tif (operator == &#39;+&#39;) {\r\n    \t\t\tAnswer = (n1 + n2);\r\n    \t\t\tSystem.out.println(&quot;Answer:&quot; + Answer);\r\n    \t\t\t} \r\n    \t\tif (operator == &#39;-&#39;) {\r\n    \t\t\tAnswer = (n1 - n2);\r\n    \t\t\tSystem.out.println(&quot;Answer:&quot; + Answer);\r\n    \t\t\t} \r\n    \t\tif (operator == &#39;*&#39;) {\r\n    \t\t\tAnswer = (n1 * n2);\r\n    \t\t\tSystem.out.println(&quot;Answer:&quot; + Answer);\r\n    \t\t\t} \r\n    \t\tif (operator == &#39;/&#39;) {\r\n    \t\t\tAnswer = (n1/n2);\r\n    \t\t\tSystem.out.println(&quot;Answer:&quot; + Answer);\r\n    \t\t\t} \r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;not implemented yet. Sorry!&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Simple calculator program in Java","body":"<p>I am a newbie coder in Java and I am trying to make this calculator in java where a user can enter two numbers and select the operation to be done on those numbers. However when the code comes to selecting the operator it skips the user input and the if statement and directly implements the else statement.</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class Calculator {\n\n    public static void main(String[] args) {\n        Scanner Calc = new Scanner(System.in);\n        int n1;\n        int n2;\n        int Answer;\n\n        System.out.println(\"Enter the first number: \");\n        n1 = Calc.nextInt();\n        System.out.println(\"Enter the second number:\" );\n        n2 = Calc.nextInt();\n        System.out.println(\"Select the order of operation: \");\n        char operator = Calc.nextLine().charAt(0);\n\n\n        if (operator == '+') {\n            Answer = (n1 + n2);\n            System.out.println(\"Answer:\" + Answer);\n            } \n        if (operator == '-') {\n            Answer = (n1 - n2);\n            System.out.println(\"Answer:\" + Answer);\n            } \n        if (operator == '*') {\n            Answer = (n1 * n2);\n            System.out.println(\"Answer:\" + Answer);\n            } \n        if (operator == '/') {\n            Answer = (n1/n2);\n            System.out.println(\"Answer:\" + Answer);\n            } \n        else {\n            System.out.println(\"not implemented yet. Sorry!\");\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687941184,"post_id":76571103,"comment_id":135005820,"body_markdown":"As an aside, consider using the `java.time` API instead of `Date`.","body":"As an aside, consider using the <code>java.time</code> API instead of <code>Date</code>."},{"owner":{"account_id":23751949,"reputation":23,"user_id":17768586,"display_name":"ssc1234"},"score":0,"creation_date":1687941225,"post_id":76571103,"comment_id":135005825,"body_markdown":"Why isn&#39;t Date working @JsonFormat","body":"Why isn&#39;t Date working @JsonFormat"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687941264,"post_id":76571103,"comment_id":135005843,"body_markdown":"Not sure. Nor was my comment attempting to answer your question (hence the &quot;as an aside&quot; bit).","body":"Not sure. Nor was my comment attempting to answer your question (hence the &quot;as an aside&quot; bit)."},{"owner":{"account_id":23751949,"reputation":23,"user_id":17768586,"display_name":"ssc1234"},"score":0,"creation_date":1687941291,"post_id":76571103,"comment_id":135005852,"body_markdown":"OK.Thank You for this.","body":"OK.Thank You for this."}],"answers":[{"tags":[],"owner":{"account_id":28902386,"reputation":30,"user_id":22137034,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688103632,"creation_date":1687946290,"answer_id":76572045,"question_id":76571103,"body_markdown":"I think, that - in absence of a no-argument constructor - Jackson uses the provided constructor to create an instance of the *ToDo* class.\r\nSince parameter names for constructors are removed during compilation, Jackson can not know which field corresponds to which constructor argument and can&#39;t use the `@JsonFormat` annotation present on the *toDoDate* field.\r\n\r\nAdding a no-arg constructor will fix the issue.\r\nYou can also annotate the constructor arguments with `@JsonProperty` annotation to prevent the error (see e.g. https://www.baeldung.com/jackson-deserialize-immutable-objects).\r\n\r\n","title":"Why doesn&#39;t my ToDoDate field accept the date in the format specified according to @JsonFormat?","body":"<p>I think, that - in absence of a no-argument constructor - Jackson uses the provided constructor to create an instance of the <em>ToDo</em> class.\nSince parameter names for constructors are removed during compilation, Jackson can not know which field corresponds to which constructor argument and can't use the <code>@JsonFormat</code> annotation present on the <em>toDoDate</em> field.</p>\n<p>Adding a no-arg constructor will fix the issue.\nYou can also annotate the constructor arguments with <code>@JsonProperty</code> annotation to prevent the error (see e.g. <a href=\"https://www.baeldung.com/jackson-deserialize-immutable-objects\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialize-immutable-objects</a>).</p>\n"}],"owner":{"account_id":23751949,"reputation":23,"user_id":17768586,"display_name":"ssc1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76572045,"answer_count":1,"score":0,"last_activity_date":1688103632,"creation_date":1687938752,"question_id":76571103,"body_markdown":"I am trying to create a todo application in springboot for practice and am trying to add toDoDate using postman however I am getting the following error:\r\n\r\nCannot deserialize value of type `java.util.Date` from String \\&quot;09/07/2026\\&quot;: not a valid representation (error: Failed to parse Date value &#39;09/07/2026&#39;: Cannot parse date \\&quot;09/07/2026\\&quot;: not compatible with any of standard forms (\\&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX\\&quot;, \\&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS\\&quot;, \\&quot;EEE, dd MMM yyyy HH:mm:ss zzz\\&quot;, \\&quot;yyyy-MM-dd\\&quot;))\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.\r\n\r\nToDoController.java\r\n```\r\npackage com.lcwd.todo.controllers;\r\n\r\nimport com.lcwd.todo.models.ToDo;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport com.lcwd.todo.services.ToDoService;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/todos&quot;)\r\npublic class ToDoController {\r\n\r\n    @Autowired\r\n    private ToDoService toDoService;\r\n    Logger logger= LoggerFactory.getLogger(ToDoController.class);\r\n\r\n    Random random=new Random();\r\n    @PostMapping\r\n    public ResponseEntity&lt;ToDo&gt; createToDoHandler(@RequestBody ToDo todo){\r\n        logger.info(&quot;created todo&quot;);\r\n        Date date=new Date();\r\n        todo.setAddedDate(date);\r\n        int id= random.nextInt(9999);\r\n        todo.setId(id);\r\n        ToDo todo1=toDoService.createToDo(todo);\r\n        return new ResponseEntity&lt;&gt;(todo1,HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;ToDo&gt;&gt; getAllToDo(){\r\n        logger.info(&quot;Received all todos&quot;);\r\n        List&lt;ToDo&gt; todos=toDoService.getAllToDo();\r\n        return new ResponseEntity&lt;&gt;(todos,HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{toDoId}&quot;)\r\n    public ResponseEntity&lt;ToDo&gt; getSingleToDo(@PathVariable(&quot;toDoId&quot;) int id){\r\n        ToDo todo=toDoService.getSingleToDo(id);\r\n        return new ResponseEntity&lt;&gt;(todo,HttpStatus.OK);\r\n    }\r\n\r\n    @PutMapping(&quot;/{todoId}&quot;)\r\n    public String updateSingleToDo(@PathVariable(&quot;todoId&quot;) int id,@RequestBody ToDo todo){\r\n       String answer=toDoService.updateToDo(id,todo);\r\n       return answer;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{toDoId}&quot;)\r\n    public String getDeleteToDo(@PathVariable(&quot;toDoId&quot;) int id){\r\n        toDoService.deleteToDo(id);\r\n        return &quot;Deleted Successfully&quot;;\r\n    }\r\n}\r\n```\r\n\r\nToDo.java\r\n```\r\npackage com.lcwd.todo.models;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n\r\nimport java.util.Date;\r\n\r\npublic class ToDo {\r\n    private String content;\r\n    private String title;\r\n    private String status;\r\n    private int id;\r\n    @JsonFormat(pattern=&quot;dd/MM/yyyy&quot;)\r\n    private Date toDoDate;\r\n    private Date addedDate;\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n\r\n    public void setContent(String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Date getToDoDate() {\r\n        return toDoDate;\r\n    }\r\n\r\n    public void setToDoDate(Date toDoDate) {\r\n        this.toDoDate = toDoDate;\r\n    }\r\n\r\n    public Date getAddedDate() {\r\n        return addedDate;\r\n    }\r\n\r\n    public void setAddedDate(Date addedDate) {\r\n        this.addedDate = addedDate;\r\n    }\r\n\r\n    public ToDo(String content, String title, String status, int id, Date toDoDate, Date addedDate) {\r\n        this.content = content;\r\n        this.title = title;\r\n        this.status = status;\r\n        this.id = id;\r\n        this.toDoDate = toDoDate;\r\n        this.addedDate = addedDate;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ToDo{&quot; +\r\n                &quot;content=&#39;&quot; + content + &#39;\\&#39;&#39; +\r\n                &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, status=&#39;&quot; + status + &#39;\\&#39;&#39; +\r\n                &quot;, id=&quot; + id +\r\n                &quot;, toDoDate=&quot; + toDoDate +\r\n                &quot;, addedDate=&quot; + addedDate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nToDoService.java\r\n```\r\npackage com.lcwd.todo.services;\r\n\r\nimport com.lcwd.todo.models.ToDo;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Stream;\r\n\r\n@Component\r\npublic class ToDoService {\r\n\r\n    ArrayList&lt;ToDo&gt; todos=new ArrayList&lt;&gt;();\r\n\r\n    Logger logger= LoggerFactory.getLogger(ToDoService.class);\r\n\r\n    public ToDo createToDo(ToDo todo) {\r\n        logger.info(&quot;Todos {}&quot;,this.todos);\r\n        todos.add(todo);\r\n        return todo;\r\n    }\r\n\r\n    public List&lt;ToDo&gt; getAllToDo() {\r\n        return todos;\r\n    }\r\n\r\n    public ToDo getSingleToDo(int id){\r\n        ToDo toDo;\r\n        for(ToDo todo1:todos){\r\n            if(todo1.getId()==id){\r\n                return todo1;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String updateToDo(int id,ToDo todo) {\r\n        for(ToDo todo1:todos){\r\n            if(todo1.getId()==id){\r\n                todo1.setContent(todo.getContent());\r\n                todo1.setTitle(todo.getTitle());\r\n                todo1.setStatus(todo.getStatus());\r\n            }\r\n        }\r\n        return &quot;updated successfully&quot;;\r\n    }\r\n\r\n    public void deleteToDo(int id) {\r\n        int index=0;\r\n        for(ToDo todo:todos){\r\n            if(todo.getId()==id){\r\n                index=todos.indexOf(todo);\r\n                todos.remove(index);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Json object passed is:\r\n```\r\n    {\r\n    &quot;content&quot;:&quot;Hello&quot;,\r\n    &quot;status&quot;:&quot;DONE&quot;,\r\n    &quot;title&quot;:&quot;Rppo&quot;,\r\n    &quot;toDoDate&quot;:&quot;09/07/2026&quot;\r\n    }\r\n```\r\n\r\n\r\n @JsonFormat(pattern=&quot;dd/MM/yyyy&quot;)\r\n    private Date toDoDate;","title":"Why doesn&#39;t my ToDoDate field accept the date in the format specified according to @JsonFormat?","body":"<p>I am trying to create a todo application in springboot for practice and am trying to add toDoDate using postman however I am getting the following error:</p>\n<p>Cannot deserialize value of type <code>java.util.Date</code> from String &quot;09/07/2026&quot;: not a valid representation (error: Failed to parse Date value '09/07/2026': Cannot parse date &quot;09/07/2026&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.</p>\n<p>ToDoController.java</p>\n<pre><code>package com.lcwd.todo.controllers;\n\nimport com.lcwd.todo.models.ToDo;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport com.lcwd.todo.services.ToDoService;\n\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Random;\n\n@RestController\n@RequestMapping(&quot;/todos&quot;)\npublic class ToDoController {\n\n    @Autowired\n    private ToDoService toDoService;\n    Logger logger= LoggerFactory.getLogger(ToDoController.class);\n\n    Random random=new Random();\n    @PostMapping\n    public ResponseEntity&lt;ToDo&gt; createToDoHandler(@RequestBody ToDo todo){\n        logger.info(&quot;created todo&quot;);\n        Date date=new Date();\n        todo.setAddedDate(date);\n        int id= random.nextInt(9999);\n        todo.setId(id);\n        ToDo todo1=toDoService.createToDo(todo);\n        return new ResponseEntity&lt;&gt;(todo1,HttpStatus.CREATED);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ToDo&gt;&gt; getAllToDo(){\n        logger.info(&quot;Received all todos&quot;);\n        List&lt;ToDo&gt; todos=toDoService.getAllToDo();\n        return new ResponseEntity&lt;&gt;(todos,HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{toDoId}&quot;)\n    public ResponseEntity&lt;ToDo&gt; getSingleToDo(@PathVariable(&quot;toDoId&quot;) int id){\n        ToDo todo=toDoService.getSingleToDo(id);\n        return new ResponseEntity&lt;&gt;(todo,HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/{todoId}&quot;)\n    public String updateSingleToDo(@PathVariable(&quot;todoId&quot;) int id,@RequestBody ToDo todo){\n       String answer=toDoService.updateToDo(id,todo);\n       return answer;\n    }\n\n    @DeleteMapping(&quot;/{toDoId}&quot;)\n    public String getDeleteToDo(@PathVariable(&quot;toDoId&quot;) int id){\n        toDoService.deleteToDo(id);\n        return &quot;Deleted Successfully&quot;;\n    }\n}\n</code></pre>\n<p>ToDo.java</p>\n<pre><code>package com.lcwd.todo.models;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\n\nimport java.util.Date;\n\npublic class ToDo {\n    private String content;\n    private String title;\n    private String status;\n    private int id;\n    @JsonFormat(pattern=&quot;dd/MM/yyyy&quot;)\n    private Date toDoDate;\n    private Date addedDate;\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Date getToDoDate() {\n        return toDoDate;\n    }\n\n    public void setToDoDate(Date toDoDate) {\n        this.toDoDate = toDoDate;\n    }\n\n    public Date getAddedDate() {\n        return addedDate;\n    }\n\n    public void setAddedDate(Date addedDate) {\n        this.addedDate = addedDate;\n    }\n\n    public ToDo(String content, String title, String status, int id, Date toDoDate, Date addedDate) {\n        this.content = content;\n        this.title = title;\n        this.status = status;\n        this.id = id;\n        this.toDoDate = toDoDate;\n        this.addedDate = addedDate;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ToDo{&quot; +\n                &quot;content='&quot; + content + '\\'' +\n                &quot;, title='&quot; + title + '\\'' +\n                &quot;, status='&quot; + status + '\\'' +\n                &quot;, id=&quot; + id +\n                &quot;, toDoDate=&quot; + toDoDate +\n                &quot;, addedDate=&quot; + addedDate +\n                '}';\n    }\n}\n</code></pre>\n<p>ToDoService.java</p>\n<pre><code>package com.lcwd.todo.services;\n\nimport com.lcwd.todo.models.ToDo;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Stream;\n\n@Component\npublic class ToDoService {\n\n    ArrayList&lt;ToDo&gt; todos=new ArrayList&lt;&gt;();\n\n    Logger logger= LoggerFactory.getLogger(ToDoService.class);\n\n    public ToDo createToDo(ToDo todo) {\n        logger.info(&quot;Todos {}&quot;,this.todos);\n        todos.add(todo);\n        return todo;\n    }\n\n    public List&lt;ToDo&gt; getAllToDo() {\n        return todos;\n    }\n\n    public ToDo getSingleToDo(int id){\n        ToDo toDo;\n        for(ToDo todo1:todos){\n            if(todo1.getId()==id){\n                return todo1;\n            }\n        }\n        return null;\n    }\n\n    public String updateToDo(int id,ToDo todo) {\n        for(ToDo todo1:todos){\n            if(todo1.getId()==id){\n                todo1.setContent(todo.getContent());\n                todo1.setTitle(todo.getTitle());\n                todo1.setStatus(todo.getStatus());\n            }\n        }\n        return &quot;updated successfully&quot;;\n    }\n\n    public void deleteToDo(int id) {\n        int index=0;\n        for(ToDo todo:todos){\n            if(todo.getId()==id){\n                index=todos.indexOf(todo);\n                todos.remove(index);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The Json object passed is:</p>\n<pre><code>    {\n    &quot;content&quot;:&quot;Hello&quot;,\n    &quot;status&quot;:&quot;DONE&quot;,\n    &quot;title&quot;:&quot;Rppo&quot;,\n    &quot;toDoDate&quot;:&quot;09/07/2026&quot;\n    }\n</code></pre>\n<p>@JsonFormat(pattern=&quot;dd/MM/yyyy&quot;)\nprivate Date toDoDate;</p>\n"},{"tags":["java","testng","appium","test-runner","feature-file"],"answers":[{"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688102825,"creation_date":1688102825,"answer_id":76586263,"question_id":76585892,"body_markdown":"I got it working \r\n\r\n    String[] argv = {\r\n    \t\t            &quot;--glue&quot;, &quot;stepDefinitions&quot;,\r\n    \t\t            &quot;--tags&quot;, &quot;@testfivecomprehensiveci&quot;,\r\n    \t\t            &quot;src/test/java/features&quot;\r\n    \t\t        };\r\n    \r\n    \t\t Main.run(argv, Thread.currentThread().getContextClassLoader());","title":"How to glue stepdefinition file with feature file programmatically java with Appium","body":"<p>I got it working</p>\n<pre><code>String[] argv = {\n                    &quot;--glue&quot;, &quot;stepDefinitions&quot;,\n                    &quot;--tags&quot;, &quot;@testfivecomprehensiveci&quot;,\n                    &quot;src/test/java/features&quot;\n                };\n\n         Main.run(argv, Thread.currentThread().getContextClassLoader());\n</code></pre>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688102825,"creation_date":1688096597,"question_id":76585892,"body_markdown":"I am following `BDD` framework. I have 21 feature files and all the feature files tags are passed in `Testrunner`. Now suppose one of the feature files failed due to some reason my automation stops which I don&#39;t want so I have wrapped all my code in catch clause. Now the catch clause does get call but I am not able to figure out how to programmatically start the next test case. Here are few of the code samples which I tried but I am not able to glue stepdefinition file with feature file\r\n\r\nSoln One:\r\n\r\n    Main.run(new String[]{&quot;--glue&quot;,\r\n    \t\t\t\t\t&quot;src/test/java/stepDefinitions&quot;,\r\n    \t\t\t\t\t&quot;--tags&quot;, &quot;@testfiveappformregression&quot;, &quot;src/test/java/features&quot;});\r\n\r\nSoln Two:\r\n\r\n \r\n\r\n    Main.main(new String[]{\r\n    \t\t\t            &quot;-g&quot;,\r\n    \t\t\t            &quot;src/test/java/stepDefinitions&quot;, \r\n    \t\t\t            &quot;src/test/java/features/TestFiveAppFormRegression.feature&quot;}\r\n    \t\t\t        );\r\n\r\nSoln Three:\r\n\r\n     Main.main(new String[]{&quot;-g&quot;, &quot;stepDefinitions&quot;,&quot;-t&quot;, &quot;@Regression&quot;,&quot;-p&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;, &quot;src/test/java/features/&quot;});\r\n\r\nIf I run the test cases one by one via test runner then it works but I want to execute it in batch","title":"How to glue stepdefinition file with feature file programmatically java with Appium","body":"<p>I am following <code>BDD</code> framework. I have 21 feature files and all the feature files tags are passed in <code>Testrunner</code>. Now suppose one of the feature files failed due to some reason my automation stops which I don't want so I have wrapped all my code in catch clause. Now the catch clause does get call but I am not able to figure out how to programmatically start the next test case. Here are few of the code samples which I tried but I am not able to glue stepdefinition file with feature file</p>\n<p>Soln One:</p>\n<pre><code>Main.run(new String[]{&quot;--glue&quot;,\n                    &quot;src/test/java/stepDefinitions&quot;,\n                    &quot;--tags&quot;, &quot;@testfiveappformregression&quot;, &quot;src/test/java/features&quot;});\n</code></pre>\n<p>Soln Two:</p>\n<pre><code>Main.main(new String[]{\n                        &quot;-g&quot;,\n                        &quot;src/test/java/stepDefinitions&quot;, \n                        &quot;src/test/java/features/TestFiveAppFormRegression.feature&quot;}\n                    );\n</code></pre>\n<p>Soln Three:</p>\n<pre><code> Main.main(new String[]{&quot;-g&quot;, &quot;stepDefinitions&quot;,&quot;-t&quot;, &quot;@Regression&quot;,&quot;-p&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;, &quot;src/test/java/features/&quot;});\n</code></pre>\n<p>If I run the test cases one by one via test runner then it works but I want to execute it in batch</p>\n"},{"tags":["java","sftp","race-condition","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688102355,"creation_date":1415951206,"answer_id":26925255,"question_id":26916128,"body_markdown":"You have to wait for the &quot;exec&quot; channel to complete/close before you can safely run the `rename` on the &quot;sftp&quot; channel.\r\n\r\nFor implementation, see https://stackoverflow.com/q/4194439/850848.\r\n","title":"Unix Copy &amp; JSch command is creating conflict while SFTP","body":"<p>You have to wait for the &quot;exec&quot; channel to complete/close before you can safely run the <code>rename</code> on the &quot;sftp&quot; channel.</p>\n<p>For implementation, see <a href=\"https://stackoverflow.com/q/4194439/850848\">Sending commands to server via JSch shell channel</a>.</p>\n"}],"owner":{"account_id":3196314,"reputation":67,"user_id":2699431,"accept_rate":40,"display_name":"Joe Lat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26925255,"answer_count":1,"score":1,"last_activity_date":1688102355,"creation_date":1415904169,"question_id":26916128,"body_markdown":"I have a scenario where, first I need to copy a file  from Source to Destination1 and then followed by move the same file from source to Destination2 directory.\r\n\r\nAll these three folders, Source, Destination1 and Destination2, are in the remote server. So to achieve the same I am using JSch API to make SFTP connection.\r\n\r\nSince JSch doesn&#39;t provide any method to copy any file remotely, so I am using Unix `cp` command  for the same. However there is rename command to move the file.\r\n\r\nThe issue is that when I am running the program file is not getting copied but moving successfully. It seems the reason is that Unix copy command is taking time to perform the action but before that move command is getting executed. Since I am using `cp` command of Unix, Java is not waiting (like Fire and Forget) to get the copy command completed.\r\n\r\nTo confirm my understanding on the issue I have placed `sleep()` after copy command and the file is copying and moving successfully. But this is not a good design.\r\n\r\nCan someone please help me to resolve the same. Is there any way java program can wait until the Unix `cp` command gets executed successfully.\r\n\r\nBelow is the code snippet for copying a file:\r\n\r\n    String command1= &quot;cp &quot;+BackUpQueue+&quot;/&quot;+trimmedString+&quot; &quot;+HUBQueue+&quot;/&quot;+trimmedString ; \r\n\tchannel1=session.openChannel(&quot;exec&quot;);\r\n\t((ChannelExec)channel1).setCommand(command1);\r\n\tchannel1.setInputStream(null);\r\n\t((ChannelExec)channel1).setErrStream(System.err);\r\n\tInputStream in=channel1.getInputStream();\r\n\tchannel1.connect();\r\n\tin.close();\r\n\r\nCode for Moving a file:\r\n\r\n    channelSftp.rename(SFTPWORKINGDIR+&quot;/&quot;+trimmedString, BackUpQueue+&quot;/&quot;+trimmedString);\r\n\r\n","title":"Unix Copy &amp; JSch command is creating conflict while SFTP","body":"<p>I have a scenario where, first I need to copy a file  from Source to Destination1 and then followed by move the same file from source to Destination2 directory.</p>\n<p>All these three folders, Source, Destination1 and Destination2, are in the remote server. So to achieve the same I am using JSch API to make SFTP connection.</p>\n<p>Since JSch doesn't provide any method to copy any file remotely, so I am using Unix <code>cp</code> command  for the same. However there is rename command to move the file.</p>\n<p>The issue is that when I am running the program file is not getting copied but moving successfully. It seems the reason is that Unix copy command is taking time to perform the action but before that move command is getting executed. Since I am using <code>cp</code> command of Unix, Java is not waiting (like Fire and Forget) to get the copy command completed.</p>\n<p>To confirm my understanding on the issue I have placed <code>sleep()</code> after copy command and the file is copying and moving successfully. But this is not a good design.</p>\n<p>Can someone please help me to resolve the same. Is there any way java program can wait until the Unix <code>cp</code> command gets executed successfully.</p>\n<p>Below is the code snippet for copying a file:</p>\n<pre><code>String command1= &quot;cp &quot;+BackUpQueue+&quot;/&quot;+trimmedString+&quot; &quot;+HUBQueue+&quot;/&quot;+trimmedString ; \nchannel1=session.openChannel(&quot;exec&quot;);\n((ChannelExec)channel1).setCommand(command1);\nchannel1.setInputStream(null);\n((ChannelExec)channel1).setErrStream(System.err);\nInputStream in=channel1.getInputStream();\nchannel1.connect();\nin.close();\n</code></pre>\n<p>Code for Moving a file:</p>\n<pre><code>channelSftp.rename(SFTPWORKINGDIR+&quot;/&quot;+trimmedString, BackUpQueue+&quot;/&quot;+trimmedString);\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1416320886,"post_id":26996600,"comment_id":42523904,"body_markdown":"Hint: use `BigDecimal.compareTo`, e.g. `lowerBound.compareTo(value)` and `upperBound.compareTo(value)`","body":"Hint: use <code>BigDecimal.compareTo</code>, e.g. <code>lowerBound.compareTo(value)</code> and <code>upperBound.compareTo(value)</code>"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1416321206,"post_id":26996600,"comment_id":42524105,"body_markdown":"Seems like `BigInteger` to me...","body":"Seems like <code>BigInteger</code> to me..."}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416321230,"creation_date":1416320876,"answer_id":26996658,"question_id":26996600,"body_markdown":"Use [`BigDecimal.compareTo(val)`][1] to compare if your Number is bigger, smaller or equal.\r\n\r\n&gt; returns -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.\r\n\r\n    if (price.compareTo(BigDecimal.ZERO) &gt;= 0 &amp;&amp; \r\n        price.compareTo(new BigDecimal(500)) &lt;= 0) {\r\n       ....\r\n    }  else if (price.compareTo(new BigDecimal(500)) &gt;= 0 &amp;&amp; \r\n                price.compareTo(new BigDecimal(1000)) &lt;= 0) {\r\n       ....\r\n    } else if (price.compareTo(price.compareTo(new BigDecimal(1000)) &lt; 0) {\r\n       ....\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)","title":"Check if BigDecimal value is in range","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)\" rel=\"nofollow\"><code>BigDecimal.compareTo(val)</code></a> to compare if your Number is bigger, smaller or equal.</p>\n\n<blockquote>\n  <p>returns -1, 0, or 1 as this BigDecimal is numerically less than, equal to, or greater than val.</p>\n</blockquote>\n\n<pre><code>if (price.compareTo(BigDecimal.ZERO) &gt;= 0 &amp;&amp; \n    price.compareTo(new BigDecimal(500)) &lt;= 0) {\n   ....\n}  else if (price.compareTo(new BigDecimal(500)) &gt;= 0 &amp;&amp; \n            price.compareTo(new BigDecimal(1000)) &lt;= 0) {\n   ....\n} else if (price.compareTo(price.compareTo(new BigDecimal(1000)) &lt; 0) {\n   ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5288991,"reputation":55,"user_id":4222082,"display_name":"Prabhu R.D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416320947,"creation_date":1416320947,"answer_id":26996681,"question_id":26996600,"body_markdown":"use compareTo method \r\n\r\n&gt; java.math.BigDecimal.compareTo(BigDecimal val)\r\n\r\nThis method returns -1 if the BigDecimal is less than val, 1 if the BigDecimal is greater than val and 0 if the BigDecimal is equal to val","title":"Check if BigDecimal value is in range","body":"<p>use compareTo method </p>\n\n<blockquote>\n  <p>java.math.BigDecimal.compareTo(BigDecimal val)</p>\n</blockquote>\n\n<p>This method returns -1 if the BigDecimal is less than val, 1 if the BigDecimal is greater than val and 0 if the BigDecimal is equal to val</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1688102349,"creation_date":1416320992,"answer_id":26996695,"question_id":26996600,"body_markdown":"There is no workaround to this i think. Eventually you could wrap it into a nice design pattern, but BigDecimal has only one method for comparing.\r\n\r\nMy idea is to extract a method for range:\r\n\r\n    boolean isBetween(BigDecimal value, BigDecimal min, BigDecimal max){\r\n      return value.compareTo(min) &gt;= 0 &amp;&amp; value.compareTo(max) &lt;= 0;\r\n    }","title":"Check if BigDecimal value is in range","body":"<p>There is no workaround to this i think. Eventually you could wrap it into a nice design pattern, but BigDecimal has only one method for comparing.</p>\n<p>My idea is to extract a method for range:</p>\n<pre><code>boolean isBetween(BigDecimal value, BigDecimal min, BigDecimal max){\n  return value.compareTo(min) &gt;= 0 &amp;&amp; value.compareTo(max) &lt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638661,"reputation":2399,"user_id":1511531,"display_name":"Semih Eker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416320998,"creation_date":1416320998,"answer_id":26996697,"question_id":26996600,"body_markdown":"You can do sthg like this;\r\n\r\n\r\n\r\n    public class BigDecimalDemo {\r\n\r\n      public static void main(String[] args) {\r\n\r\n        // create 2 BigDecimal objects\r\n        BigDecimal bg1, bg2;\r\n\r\n        bg1 = new BigDecimal(&quot;10&quot;);\r\n        bg2 = new BigDecimal(&quot;20&quot;);\r\n\r\n        //create int object\r\n        int res;\r\n\r\n        res = bg1.compareTo(bg2); // compare bg1 with bg2\r\n\r\n        String str1 = &quot;Both values are equal &quot;;\r\n\t    String str2 = &quot;First Value is greater &quot;;\r\n\t    String str3 = &quot;Second value is greater&quot;;\r\n\r\n\t    if( res == 0 )\r\n\t      System.out.println( str1 );\r\n   \t   else if( res == 1 )\r\n\t      System.out.println( str2 );\r\n\t   else if( res == -1 )\r\n\t     System.out.println( str3 );\r\n     }\r\n    }\r\n\r\n\r\n\r\nresource : http://www.tutorialspoint.com/java/math/bigdecimal_compareto.htm\r\n\r\n","title":"Check if BigDecimal value is in range","body":"<p>You can do sthg like this;</p>\n\n<pre><code>public class BigDecimalDemo {\n\n  public static void main(String[] args) {\n\n    // create 2 BigDecimal objects\n    BigDecimal bg1, bg2;\n\n    bg1 = new BigDecimal(\"10\");\n    bg2 = new BigDecimal(\"20\");\n\n    //create int object\n    int res;\n\n    res = bg1.compareTo(bg2); // compare bg1 with bg2\n\n    String str1 = \"Both values are equal \";\n    String str2 = \"First Value is greater \";\n    String str3 = \"Second value is greater\";\n\n    if( res == 0 )\n      System.out.println( str1 );\n   else if( res == 1 )\n      System.out.println( str2 );\n   else if( res == -1 )\n     System.out.println( str3 );\n }\n}\n</code></pre>\n\n<p>resource : <a href=\"http://www.tutorialspoint.com/java/math/bigdecimal_compareto.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/math/bigdecimal_compareto.htm</a></p>\n"},{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1445933503,"creation_date":1416321017,"answer_id":26996702,"question_id":26996600,"body_markdown":"That is achievable using the [.compareTo()][1] method. For instance:\r\n\r\n    if ( price.compareTo( BigDecimal.valueOf( 500 ) &gt; 0 \r\n         &amp;&amp; price.compareTo( BigDecimal.valueOf( 1000 ) &lt; 0 ) {\r\n        // price is larger than 500 and less than 1000\r\n        ...\r\n    }\r\n\r\nQuoting (and paraphrasing) from the JavaDoc:\r\n\r\n&gt; The suggested idiom for performing these comparisons is: (x.compareTo(y) ***op*** 0), where ***op*** is one of the six comparison operators *[(&lt;, ==, &gt;, &gt;=, !=, &lt;=)]*\r\n\r\nCheers,\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29","title":"Check if BigDecimal value is in range","body":"<p>That is achievable using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29\" rel=\"noreferrer\">.compareTo()</a> method. For instance:</p>\n\n<pre><code>if ( price.compareTo( BigDecimal.valueOf( 500 ) &gt; 0 \n     &amp;&amp; price.compareTo( BigDecimal.valueOf( 1000 ) &lt; 0 ) {\n    // price is larger than 500 and less than 1000\n    ...\n}\n</code></pre>\n\n<p>Quoting (and paraphrasing) from the JavaDoc:</p>\n\n<blockquote>\n  <p>The suggested idiom for performing these comparisons is: (x.compareTo(y) <strong><em>op</em></strong> 0), where <strong><em>op</em></strong> is one of the six comparison operators <em>[(&lt;, ==, >, >=, !=, &lt;=)]</em></p>\n</blockquote>\n\n<p>Cheers,</p>\n"},{"tags":[],"owner":{"account_id":1888633,"reputation":309,"user_id":1707311,"accept_rate":56,"display_name":"dani77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479303220,"creation_date":1479303220,"answer_id":40633507,"question_id":26996600,"body_markdown":"Use signum method from BigDecimal class:\r\n\r\n    private static boolean isBetween(BigDecimal amount, BigDecimal init, BigDecimal end) {\r\n\t\treturn amount.subtract(init).signum() &gt;= 0 &amp;&amp; amount.subtract(end).signum() &lt;= 0;\r\n\t}","title":"Check if BigDecimal value is in range","body":"<p>Use signum method from BigDecimal class:</p>\n\n<pre><code>private static boolean isBetween(BigDecimal amount, BigDecimal init, BigDecimal end) {\n    return amount.subtract(init).signum() &gt;= 0 &amp;&amp; amount.subtract(end).signum() &lt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8669362,"reputation":151,"user_id":6488759,"display_name":"Kirill Karandin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1512127751,"creation_date":1512127751,"answer_id":47592414,"question_id":26996600,"body_markdown":"Lets make it generic:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isBetween(T value, T start, T end) {\r\n        return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt;= 0;\r\n    }","title":"Check if BigDecimal value is in range","body":"<p>Lets make it generic:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isBetween(T value, T start, T end) {\n    return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8482758,"reputation":41,"user_id":8021018,"display_name":"Luigi Scognamiglio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528832152,"creation_date":1528832152,"answer_id":50824595,"question_id":26996600,"body_markdown":"As said by Kirill Karandin, you can write a generic method:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isBetween(T x, T lowerBound, T upperBound) {\r\n        return (x.compareTo(lowerBound) + upperBound.compareTo(x)) &gt; 0;\r\n    }\r\n\r\nThe difference is that the inner sum will return:\r\n\r\n - 0, if x is either less than of min or greater than of max;\r\n - 1, if x is equal to either min or max;\r\n - 2, if x belong to the interval, but it&#39;s not equal to either min or max.\r\n\r\nConsequently, if the sum is greater than of 0 (or simply not equal to 0) the x variable will belong to the interval.","title":"Check if BigDecimal value is in range","body":"<p>As said by Kirill Karandin, you can write a generic method:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isBetween(T x, T lowerBound, T upperBound) {\n    return (x.compareTo(lowerBound) + upperBound.compareTo(x)) &gt; 0;\n}\n</code></pre>\n\n<p>The difference is that the inner sum will return:</p>\n\n<ul>\n<li>0, if x is either less than of min or greater than of max;</li>\n<li>1, if x is equal to either min or max;</li>\n<li>2, if x belong to the interval, but it's not equal to either min or max.</li>\n</ul>\n\n<p>Consequently, if the sum is greater than of 0 (or simply not equal to 0) the x variable will belong to the interval.</p>\n"},{"tags":[],"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1529597632,"creation_date":1529597632,"answer_id":50973185,"question_id":26996600,"body_markdown":"If you already use Apache commons lang, one option is to use the [Range][1] class instead of writing your own utility method:\r\n\r\n    @Test\r\n    public void bigDecimalInRange() {\r\n      Range&lt;BigDecimal&gt; myRange = Range.between(BigDecimal.TEN, BigDecimal.valueOf(300));\r\n      BigDecimal tooSmallAmount = new BigDecimal(&quot;2.50&quot;);\r\n      assertFalse(myRange.contains(tooSmallAmount));\r\n    \r\n      BigDecimal rightAmount = new BigDecimal(&quot;10.01&quot;);\r\n      assertTrue(myRange.contains(rightAmount));\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/Range.html","title":"Check if BigDecimal value is in range","body":"<p>If you already use Apache commons lang, one option is to use the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/Range.html\" rel=\"noreferrer\">Range</a> class instead of writing your own utility method:</p>\n\n<pre><code>@Test\npublic void bigDecimalInRange() {\n  Range&lt;BigDecimal&gt; myRange = Range.between(BigDecimal.TEN, BigDecimal.valueOf(300));\n  BigDecimal tooSmallAmount = new BigDecimal(\"2.50\");\n  assertFalse(myRange.contains(tooSmallAmount));\n\n  BigDecimal rightAmount = new BigDecimal(\"10.01\");\n  assertTrue(myRange.contains(rightAmount));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17867821,"reputation":11,"user_id":13406315,"display_name":"Johan Sebastian Navarro Cano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587840717,"creation_date":1587832111,"answer_id":61428898,"question_id":26996600,"body_markdown":"    BigDecimal value = BigDecimal.valueOf(2);\r\n    BigDecimal zero = BigDecimal.valueOf(0);\r\n    BigDecimal one = BigDecimal.valueOf(1);\r\n    // When it is greater than 0 it returns 1 or if it is equal to 0 it returns 0\r\n    System.out.println(value.compareTo(BigDecimal.ZERO)&gt;=0);\r\n    // When it is greater than 1 it returns -1 or if it is equal to 1 it returns 0\r\n    System.out.println(value.compareTo(BigDecimal.ONE)&lt;=0);\r\n    boolean condition =  value.compareTo(BigDecimal.ZERO) &gt;= 0 &amp;&amp; value.compareTo(BigDecimal.ONE) &lt;= 0;\r\n    System.out.println(condition);","title":"Check if BigDecimal value is in range","body":"<pre><code>BigDecimal value = BigDecimal.valueOf(2);\nBigDecimal zero = BigDecimal.valueOf(0);\nBigDecimal one = BigDecimal.valueOf(1);\n// When it is greater than 0 it returns 1 or if it is equal to 0 it returns 0\nSystem.out.println(value.compareTo(BigDecimal.ZERO)&gt;=0);\n// When it is greater than 1 it returns -1 or if it is equal to 1 it returns 0\nSystem.out.println(value.compareTo(BigDecimal.ONE)&lt;=0);\nboolean condition =  value.compareTo(BigDecimal.ZERO) &gt;= 0 &amp;&amp; value.compareTo(BigDecimal.ONE) &lt;= 0;\nSystem.out.println(condition);\n</code></pre>\n"}],"owner":{"account_id":3763802,"reputation":6373,"user_id":3127896,"accept_rate":58,"display_name":"user3127896"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39716,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26996702,"answer_count":10,"score":13,"last_activity_date":1688102349,"creation_date":1416320655,"question_id":26996600,"body_markdown":"I have `BiGDecimal price` and i need to check if it is in some range.\r\nFor example should be 3 conditions:\r\n\r\n    if (price &gt;= 0 and price &lt;=500) {\r\n       ....\r\n    } else if (price &gt;=500 &amp;&amp; price &lt;=1000) {\r\n       ....\r\n    } else if (price &gt; 1000) {\r\n       ....\r\n    }\r\n\r\nHow to do it right using BigDecimal type.","title":"Check if BigDecimal value is in range","body":"<p>I have <code>BiGDecimal price</code> and i need to check if it is in some range.\nFor example should be 3 conditions:</p>\n\n<pre><code>if (price &gt;= 0 and price &lt;=500) {\n   ....\n} else if (price &gt;=500 &amp;&amp; price &lt;=1000) {\n   ....\n} else if (price &gt; 1000) {\n   ....\n}\n</code></pre>\n\n<p>How to do it right using BigDecimal type.</p>\n"},{"tags":["java","azure","azure-cognitive-services"],"comments":[{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1686658399,"post_id":76462167,"comment_id":134826567,"body_markdown":"Can you provide the code snippet you have tried in the question","body":"Can you provide the code snippet you have tried in the question"},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1686709895,"post_id":76462167,"comment_id":134835249,"body_markdown":"I converted speech to text with Java code, the output looks like [this](https://i.imgur.com/poDPzdn.png).","body":"I converted speech to text with Java code, the output looks like <a href=\"https://i.imgur.com/poDPzdn.png\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":1,"creation_date":1686712643,"post_id":76462167,"comment_id":134835442,"body_markdown":"I used com.microsoft.cognitiveservices.speech client-sdk 1.28.0 dependency in [pom.xml](https://i.imgur.com/YDSOuYi.png).","body":"I used com.microsoft.cognitiveservices.speech client-sdk 1.28.0 dependency in <a href=\"https://i.imgur.com/YDSOuYi.png\" rel=\"nofollow noreferrer\">pom.xml</a>."}],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688102078,"creation_date":1688102078,"answer_id":76586205,"question_id":76462167,"body_markdown":"***I tried below java code to convert speech-to-text with audio file.***\r\n\r\n**Code:**\r\n```java\r\nimport com.microsoft.cognitiveservices.speech.*;\r\nimport com.microsoft.cognitiveservices.speech.audio.AudioConfig;\r\n\r\npublic class SpeechToTextDemo {\r\n        private static String speechSubscriptionKey = &quot;&lt;key&gt;&quot;;\r\n        private static String serviceRegion = &quot;&lt;region&gt;&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                String audioFile = &quot;&lt;path/to/audio-wav-file&gt;&quot;;\r\n                AudioConfig audioConfig = AudioConfig.fromWavFileInput(audioFile);\r\n\r\n                SpeechConfig speechConfig = SpeechConfig.fromSubscription(speechSubscriptionKey, serviceRegion);\r\n                SpeechRecognizer recognizer = new SpeechRecognizer(speechConfig, audioConfig);\r\n\r\n                System.out.println(&quot;Recognizing...&quot;);\r\n                SpeechRecognitionResult result = recognizer.recognizeOnceAsync().get();\r\n\r\n                System.out.println(&quot;Recognized text: &quot; + result.getText());\r\n\r\n                recognizer.close();\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Error: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nMy project structure looks like below, I added **1 audio wav file** to get output as text,\r\n\r\n![enter image description here](https://i.imgur.com/5NHVRDY.png)\r\n\r\n\r\n**Dependencies:**\r\n\r\n```java\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\r\n        &lt;version&gt;1.28.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Output:**\r\n\r\n***It runs successfully and got output as below,***\r\n\r\n![enter image description here](https://i.imgur.com/h4nRvmd.png)\r\n\r\n\r\n**Reference:**\r\nCheck this [link](https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/get-started-speech-to-text?tabs=windows,terminal&amp;pivots=programming-language-java) to know more about Speech-To-Text\r\nconversions.\r\n","title":"azure speech to text service call","body":"<p><em><strong>I tried below java code to convert speech-to-text with audio file.</strong></em></p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.cognitiveservices.speech.*;\nimport com.microsoft.cognitiveservices.speech.audio.AudioConfig;\n\npublic class SpeechToTextDemo {\n        private static String speechSubscriptionKey = &quot;&lt;key&gt;&quot;;\n        private static String serviceRegion = &quot;&lt;region&gt;&quot;;\n\n        public static void main(String[] args) {\n            try {\n                String audioFile = &quot;&lt;path/to/audio-wav-file&gt;&quot;;\n                AudioConfig audioConfig = AudioConfig.fromWavFileInput(audioFile);\n\n                SpeechConfig speechConfig = SpeechConfig.fromSubscription(speechSubscriptionKey, serviceRegion);\n                SpeechRecognizer recognizer = new SpeechRecognizer(speechConfig, audioConfig);\n\n                System.out.println(&quot;Recognizing...&quot;);\n                SpeechRecognitionResult result = recognizer.recognizeOnceAsync().get();\n\n                System.out.println(&quot;Recognized text: &quot; + result.getText());\n\n                recognizer.close();\n            } catch (Exception ex) {\n                System.out.println(&quot;Error: &quot; + ex.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>My project structure looks like below, I added <strong>1 audio wav file</strong> to get output as text,</p>\n<p><img src=\"https://i.imgur.com/5NHVRDY.png\" alt=\"enter image description here\" /></p>\n<p><strong>Dependencies:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\n        &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><em><strong>It runs successfully and got output as below,</strong></em></p>\n<p><img src=\"https://i.imgur.com/h4nRvmd.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong>\nCheck this <a href=\"https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/get-started-speech-to-text?tabs=windows,terminal&amp;pivots=programming-language-java\" rel=\"nofollow noreferrer\">link</a> to know more about Speech-To-Text\nconversions.</p>\n"}],"owner":{"account_id":2979903,"reputation":1915,"user_id":2530100,"accept_rate":46,"display_name":"richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688102078,"creation_date":1686637565,"question_id":76462167,"body_markdown":"I have audio file, and want to invoke client sdk to speech to text service, so that text content can be returned. \r\nIs there any demo so that I can start quickly?\r\n\r\n\r\n    &lt;dependency\r\n       &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\r\n       &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\r\n       &lt;version&gt;1.28.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"azure speech to text service call","body":"<p>I have audio file, and want to invoke client sdk to speech to text service, so that text content can be returned.\nIs there any demo so that I can start quickly?</p>\n<pre><code>&lt;dependency\n   &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\n   &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\n   &lt;version&gt;1.28.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","sdk"],"answers":[{"tags":[],"owner":{"account_id":28922178,"reputation":1,"user_id":22152845,"display_name":"Dod Mason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688101701,"creation_date":1688101631,"answer_id":76586181,"question_id":76585482,"body_markdown":"Ok! found the solution myself, you have to install Activity~.aar file yourself. (The error is about missing class in runtime.)\r\nLink : https://maven.google.com/web/index.html#androidx.activity:activity:1.6.0\r\n\r\nThis google maven repository is awesome! (ADD IT TO FAVORITE!) and Find the version that you can use and download, put the aar file into your project [ Assets\\Plugins\\Android ].\r\n\r\nForce-Resolve it and build. Now the NoClassDefFoundError is gone! \r\n\r\nGood Job Myself! AND THANKS A LOT STACKOVARFLAW!","title":"Unity GooglePlayPlugins Error! :: java.lang.NoClassDefFoundError:Failed resolution of: Landroidx/activity/result/ActivityResultLauncher","body":"<p>Ok! found the solution myself, you have to install Activity~.aar file yourself. (The error is about missing class in runtime.)\nLink : <a href=\"https://maven.google.com/web/index.html#androidx.activity:activity:1.6.0\" rel=\"nofollow noreferrer\">https://maven.google.com/web/index.html#androidx.activity:activity:1.6.0</a></p>\n<p>This google maven repository is awesome! (ADD IT TO FAVORITE!) and Find the version that you can use and download, put the aar file into your project [ Assets\\Plugins\\Android ].</p>\n<p>Force-Resolve it and build. Now the NoClassDefFoundError is gone!</p>\n<p>Good Job Myself! AND THANKS A LOT STACKOVARFLAW!</p>\n"}],"owner":{"account_id":28922178,"reputation":1,"user_id":22152845,"display_name":"Dod Mason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688101701,"creation_date":1688088519,"question_id":76585482,"body_markdown":"I&#39;m using google play plugins (https://developers.google.com/unity/packages?hl=en#google_play) app-review &amp; app-update on Unity. and it worked just fine. until... I did something… (I’m not sure q_q... I&#39;m sorry! … I removed few plugin here and there.) now I’m getting this error in runtime all of a sudden! on certain function call in review &amp; app-update in the runtime build. Weird thing is, review works fine even with the error but app-update is not working with error. and app-building, force-resolving in editor are also all just fine. (all success!). \r\n\r\n\r\nDetailed Logs. (Runtime Error, logged by Android Logcat In Editor)\r\n\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/activity/result/ActivityResultLauncher;\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/activity/result/ActivityResultLauncher;\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.reflect.Executable.getParameterTypesInternal(Native Method)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.reflect.Method.getParameterTypes(Method.java:186)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.Class.getDeclaredMethods(Class.java:1881)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.ReflectionHelper.getMethodID(Unknown Source:26)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.UnityPlayerForActivityOrService.nativeRender(Native Method)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.L.handleMessage(Unknown Source:140)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at android.os.Handler.dispatchMessage(Handler.java:102)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at android.os.Looper.loop(Looper.java:205)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.O.run(Unknown Source:24)\r\n2023/06/27 15:33:37.995 17867 17912 Error Unity Caused by: java.lang.ClassNotFoundException: Didn’t find class “androidx.activity.result.ActivityResultLauncher” on path: DexPathList[[zip file “/system/framework/org.apache.http.legacy.boot.jar”, zip file &quot;/data/app/\r\n\r\nWhat I tried. (But Not Worked)\r\n1. Uninstalling &amp; Reinstalling SDK JDK.\r\n2. Uninstalling &amp; Reinstalling All GooglePlay Plugins to the latest version. (+Rebuilding Library)\r\n3. Uninstalling &amp; Reinstalling Unity Editor.\r\n4. Upgrading Unity Editor to Latest version available (2023.01.01f1)\r\n5. Removing JAVA, Android Studio and other tools except Unity-installed ones &amp; using only default Unity-installed SDK JDK NDK, Gradle tool.\r\n6. Removing C:\\Users\\xxx\\.gradle and Recreating via rebuilding.\r\n\r\n* Working fine : Force-resolve(Unity Editor), firebase(Runtime Remote-config, DataBase, Analytics), google play auto-sign in (Runtime), app-review (Request &amp; posting all successful, * even with error) (runtime).\r\n\r\n* Not Working : app-update. (can not use the function : appUpdateManager.GetAppUpdateInfo()) (runtime)\r\n\r\n","title":"Unity GooglePlayPlugins Error! :: java.lang.NoClassDefFoundError:Failed resolution of: Landroidx/activity/result/ActivityResultLauncher","body":"<p>I'm using google play plugins (<a href=\"https://developers.google.com/unity/packages?hl=en#google_play\" rel=\"nofollow noreferrer\">https://developers.google.com/unity/packages?hl=en#google_play</a>) app-review &amp; app-update on Unity. and it worked just fine. until... I did something… (I’m not sure q_q... I'm sorry! … I removed few plugin here and there.) now I’m getting this error in runtime all of a sudden! on certain function call in review &amp; app-update in the runtime build. Weird thing is, review works fine even with the error but app-update is not working with error. and app-building, force-resolving in editor are also all just fine. (all success!).</p>\n<p>Detailed Logs. (Runtime Error, logged by Android Logcat In Editor)</p>\n<p>2023/06/27 15:33:37.995 17867 17912 Error Unity AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/activity/result/ActivityResultLauncher;\n2023/06/27 15:33:37.995 17867 17912 Error Unity java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/activity/result/ActivityResultLauncher;\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.reflect.Executable.getParameterTypesInternal(Native Method)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.reflect.Method.getParameterTypes(Method.java:186)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at java.lang.Class.getDeclaredMethods(Class.java:1881)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.ReflectionHelper.getMethodID(Unknown Source:26)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.UnityPlayerForActivityOrService.nativeRender(Native Method)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.L.handleMessage(Unknown Source:140)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at android.os.Handler.dispatchMessage(Handler.java:102)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at android.os.Looper.loop(Looper.java:205)\n2023/06/27 15:33:37.995 17867 17912 Error Unity at com.unity3d.player.O.run(Unknown Source:24)\n2023/06/27 15:33:37.995 17867 17912 Error Unity Caused by: java.lang.ClassNotFoundException: Didn’t find class “androidx.activity.result.ActivityResultLauncher” on path: DexPathList[[zip file “/system/framework/org.apache.http.legacy.boot.jar”, zip file &quot;/data/app/</p>\n<p>What I tried. (But Not Worked)</p>\n<ol>\n<li>Uninstalling &amp; Reinstalling SDK JDK.</li>\n<li>Uninstalling &amp; Reinstalling All GooglePlay Plugins to the latest version. (+Rebuilding Library)</li>\n<li>Uninstalling &amp; Reinstalling Unity Editor.</li>\n<li>Upgrading Unity Editor to Latest version available (2023.01.01f1)</li>\n<li>Removing JAVA, Android Studio and other tools except Unity-installed ones &amp; using only default Unity-installed SDK JDK NDK, Gradle tool.</li>\n<li>Removing C:\\Users\\xxx.gradle and Recreating via rebuilding.</li>\n</ol>\n<ul>\n<li><p>Working fine : Force-resolve(Unity Editor), firebase(Runtime Remote-config, DataBase, Analytics), google play auto-sign in (Runtime), app-review (Request &amp; posting all successful, * even with error) (runtime).</p>\n</li>\n<li><p>Not Working : app-update. (can not use the function : appUpdateManager.GetAppUpdateInfo()) (runtime)</p>\n</li>\n</ul>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":2,"creation_date":1687714684,"post_id":76551254,"comment_id":134971850,"body_markdown":"Spring uses jackson for json deserialization, and jackson requires the type of key and value for successful deserialization of `Map`, so instead of using `EnumMap` directly, consider using `Map` with `DayOfWeek` as the key type and `List&lt;Task&gt;` as the value type","body":"Spring uses jackson for json deserialization, and jackson requires the type of key and value for successful deserialization of <code>Map</code>, so instead of using <code>EnumMap</code> directly, consider using <code>Map</code> with <code>DayOfWeek</code> as the key type and <code>List&lt;Task&gt;</code> as the value type"}],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688101432,"creation_date":1688101432,"answer_id":76586164,"question_id":76551254,"body_markdown":"As your wrapper class have key as `taskList`, for Jackson to deserialize you will need to pass the request body as below\r\n```\r\n{\r\n    &quot;tasklist&quot;: {\r\n        &quot;monday&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;task1&quot;,\r\n                &quot;allotedTime&quot;: 15\r\n            }\r\n        ],\r\n        &quot;tuesday&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;open&quot;,\r\n                &quot;allotedTime&quot;: 20\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;close&quot;,\r\n                &quot;allotedTime&quot;: 60\r\n            }\r\n        ]\r\n    }\r\n}\r\n```","title":"In a Spring Boot RestController, how to map the following Json to a Map inside a wrapper class","body":"<p>As your wrapper class have key as <code>taskList</code>, for Jackson to deserialize you will need to pass the request body as below</p>\n<pre><code>{\n    &quot;tasklist&quot;: {\n        &quot;monday&quot;: [\n            {\n                &quot;name&quot;: &quot;task1&quot;,\n                &quot;allotedTime&quot;: 15\n            }\n        ],\n        &quot;tuesday&quot;: [\n            {\n                &quot;name&quot;: &quot;open&quot;,\n                &quot;allotedTime&quot;: 20\n            },\n            {\n                &quot;name&quot;: &quot;close&quot;,\n                &quot;allotedTime&quot;: 60\n            }\n        ]\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4171304,"reputation":821,"user_id":3419000,"accept_rate":53,"display_name":"aswathy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688101432,"creation_date":1687708438,"question_id":76551254,"body_markdown":"\r\nIn a Spring Boot RestController, how to map the following Json to a Map inside a wrapper class. As of this code Wrapperclass is null, no mapping happening. Code works when I directly use the EnumMap in requestBody, but I need to use a Wrapper class.\r\n\r\nRequest: \r\n\r\n    {\r\n        &quot;monday&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;task1&quot;,\r\n                &quot;allotedTime&quot;: 15\r\n            }\r\n        ],\r\n        &quot;tuesday&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;open&quot;,\r\n                &quot;allotedTime&quot;: 20\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;close&quot;,\r\n                &quot;allotedTime&quot;: 60\r\n            }\r\n        ]\r\n    }\r\n\r\nRestController method:\r\n \r\n\r\n     @PostMapping(&quot;/taskApi&quot;)\r\n        public ResponseEntity&lt;String&gt; createTaskList(@Valid @RequestBody\r\n                                                          WrapperClass wrapperclass\r\n                                                          BindingResult result) {\r\n    //logic\r\n        }\r\n\r\nWrapper class:\r\n\r\n    @Data\r\n    public class WrapperClass {\r\n      \r\n        private EnumMap&lt;DayOfWeek, List&lt;Task&gt;&gt; taskList;\r\n    }\r\n\r\nTask class:\r\n\r\n    @Data\r\n    public class Task {\r\n    \r\n        private String name;\r\n    \r\n        @Min(value = 0, message = &quot;Time should not be less than 0&quot;)\r\n        private int alottedTime;\r\n    \r\n    }","title":"In a Spring Boot RestController, how to map the following Json to a Map inside a wrapper class","body":"<p>In a Spring Boot RestController, how to map the following Json to a Map inside a wrapper class. As of this code Wrapperclass is null, no mapping happening. Code works when I directly use the EnumMap in requestBody, but I need to use a Wrapper class.</p>\n<p>Request:</p>\n<pre><code>{\n    &quot;monday&quot;: [\n        {\n            &quot;name&quot;: &quot;task1&quot;,\n            &quot;allotedTime&quot;: 15\n        }\n    ],\n    &quot;tuesday&quot;: [\n        {\n            &quot;name&quot;: &quot;open&quot;,\n            &quot;allotedTime&quot;: 20\n        },\n        {\n            &quot;name&quot;: &quot;close&quot;,\n            &quot;allotedTime&quot;: 60\n        }\n    ]\n}\n</code></pre>\n<p>RestController method:</p>\n<pre><code> @PostMapping(&quot;/taskApi&quot;)\n    public ResponseEntity&lt;String&gt; createTaskList(@Valid @RequestBody\n                                                      WrapperClass wrapperclass\n                                                      BindingResult result) {\n//logic\n    }\n</code></pre>\n<p>Wrapper class:</p>\n<pre><code>@Data\npublic class WrapperClass {\n  \n    private EnumMap&lt;DayOfWeek, List&lt;Task&gt;&gt; taskList;\n}\n</code></pre>\n<p>Task class:</p>\n<pre><code>@Data\npublic class Task {\n\n    private String name;\n\n    @Min(value = 0, message = &quot;Time should not be less than 0&quot;)\n    private int alottedTime;\n\n}\n</code></pre>\n"},{"tags":["java","regex","regex-group","regexp-replace","regex-greedy"],"comments":[{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":2,"creation_date":1688055302,"post_id":76582792,"comment_id":135025566,"body_markdown":"Your input looks like JSON. You should use a JSON parser, not a regex, to extract data from it.","body":"Your input looks like JSON. You should use a JSON parser, not a regex, to extract data from it."},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1688055485,"post_id":76582792,"comment_id":135025607,"body_markdown":"I don&#39;t see how you&#39;re getting that result with your regexp. `[&quot;acks:&quot;]` doesn&#39;t match numbers, commas, curly braces, or square brackets. See https://regex101.com/r/oDQbM8/1","body":"I don&#39;t see how you&#39;re getting that result with your regexp. <code>[&quot;acks:&quot;]</code> doesn&#39;t match numbers, commas, curly braces, or square brackets. See <a href=\"https://regex101.com/r/oDQbM8/1\" rel=\"nofollow noreferrer\">regex101.com/r/oDQbM8/1</a>"},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1688055538,"post_id":76582792,"comment_id":135025620,"body_markdown":"Please show your actual Java code.","body":"Please show your actual Java code."},{"owner":{"account_id":10703215,"reputation":325,"user_id":7877828,"accept_rate":50,"display_name":"dumb_coder"},"score":0,"creation_date":1688056645,"post_id":76582792,"comment_id":135025849,"body_markdown":"@Barmar there is actually no java code. I am running the regex on nifi. I am using the validator https://www.regexplanet.com/advanced/java/index.html","body":"@Barmar there is actually no java code. I am running the regex on nifi. I am using the validator <a href=\"https://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/java/index.html</a>"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1688056860,"post_id":76582792,"comment_id":135025885,"body_markdown":"Since you want to leave out `[`,`]`,`,` and digits, you can replace everything rlse with empty string. Try [`[^\\d,[\\]]+`](https://regex101.com/r/kPq2E5/2)","body":"Since you want to leave out <code>[</code>,<code>]</code>,<code>,</code> and digits, you can replace everything rlse with empty string. Try <a href=\"https://regex101.com/r/kPq2E5/2\" rel=\"nofollow noreferrer\"><code>[^\\d,[\\]]+</code></a>"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1688057039,"post_id":76582792,"comment_id":135025921,"body_markdown":"And if you only need to extract digits from array of &quot;acks&quot;, you could try replacing `\\{&quot;acks&quot;:&quot;(\\d+)&quot;\\}` with `$1`. https://regex101.com/r/XYKaLJ/1","body":"And if you only need to extract digits from array of &quot;acks&quot;, you could try replacing <code>\\{&quot;acks&quot;:&quot;(\\d+)&quot;\\}</code> with <code>$1</code>. <a href=\"https://regex101.com/r/XYKaLJ/1\" rel=\"nofollow noreferrer\">regex101.com/r/XYKaLJ/1</a>"},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":1,"creation_date":1688058045,"post_id":76582792,"comment_id":135026110,"body_markdown":"It seems like you&#39;re confused about how `[]` works in regex. It&#39;s not for grouping substrings, it&#39;s for matching any of a set of characters.","body":"It seems like you&#39;re confused about how <code>[]</code> works in regex. It&#39;s not for grouping substrings, it&#39;s for matching any of a set of characters."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1688063196,"post_id":76582792,"comment_id":135027118,"body_markdown":"@dumb_coder, it would be benefitial for your question and anybody who attempts to answer it (and subsequently help you) if you&#39;ll add explanation what exactly happens, how it is used right now, and what you are trying to achieve with this regex. (not in comments, but with [edit])","body":"@dumb_coder, it would be benefitial for your question and anybody who attempts to answer it (and subsequently help you) if you&#39;ll add explanation what exactly happens, how it is used right now, and what you are trying to achieve with this regex. (not in comments, but with <a href=\"https://stackoverflow.com/posts/76582792/edit\">edit</a>)"}],"answers":[{"tags":[],"owner":{"account_id":28920169,"reputation":1,"user_id":22151315,"display_name":"ikhot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688101338,"creation_date":1688057816,"answer_id":76583140,"question_id":76582792,"body_markdown":"This should work for the described case:\r\n\r\n    System.out.println(&quot;[{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;17\\&quot;},{\\&quot;acks\\&quot;:\\&quot;888\\&quot;}]&quot;.replaceAll(&quot;(\\\\{\\&quot;acks\\&quot;:\\&quot;)*(\\&quot;})*&quot;, &quot;&quot;));\r\n\r\nResult: `[6,17,888]`\r\n\r\n\r\nI can see that there are some comments that instead of &quot;acks&quot; key might be any symbols, hence I would suggest to use next regexp `(\\{.*?:\\&quot;)*(\\&quot;})*` see https://regex101.com/r/kfAYsQ/1\r\n\r\n    System.out.println(&quot;[{\\&quot;key1\\&quot;:\\&quot;6\\&quot;},{\\&quot;key2\\&quot;:\\&quot;17\\&quot;},{\\&quot;key3\\&quot;:\\&quot;888\\&quot;}]&quot;.replaceAll(&quot;(\\\\{.*?:\\&quot;)*(\\&quot;})*&quot;, &quot;&quot;));\r\n\r\ninput: `[{\\&quot;key1\\&quot;:\\&quot;6\\&quot;},{\\&quot;key2\\&quot;:\\&quot;17\\&quot;},{\\&quot;key3\\&quot;:\\&quot;888\\&quot;}]`\r\n\r\nresult: `[6,17,888]`\r\n\r\n\r\n","title":"java regex with curly braces","body":"<p>This should work for the described case:</p>\n<pre><code>System.out.println(&quot;[{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;17\\&quot;},{\\&quot;acks\\&quot;:\\&quot;888\\&quot;}]&quot;.replaceAll(&quot;(\\\\{\\&quot;acks\\&quot;:\\&quot;)*(\\&quot;})*&quot;, &quot;&quot;));\n</code></pre>\n<p>Result: <code>[6,17,888]</code></p>\n<p>I can see that there are some comments that instead of &quot;acks&quot; key might be any symbols, hence I would suggest to use next regexp <code>(\\{.*?:\\&quot;)*(\\&quot;})*</code> see <a href=\"https://regex101.com/r/kfAYsQ/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/kfAYsQ/1</a></p>\n<pre><code>System.out.println(&quot;[{\\&quot;key1\\&quot;:\\&quot;6\\&quot;},{\\&quot;key2\\&quot;:\\&quot;17\\&quot;},{\\&quot;key3\\&quot;:\\&quot;888\\&quot;}]&quot;.replaceAll(&quot;(\\\\{.*?:\\&quot;)*(\\&quot;})*&quot;, &quot;&quot;));\n</code></pre>\n<p>input: <code>[{\\&quot;key1\\&quot;:\\&quot;6\\&quot;},{\\&quot;key2\\&quot;:\\&quot;17\\&quot;},{\\&quot;key3\\&quot;:\\&quot;888\\&quot;}]</code></p>\n<p>result: <code>[6,17,888]</code></p>\n"},{"tags":[],"owner":{"account_id":28920141,"reputation":11,"user_id":22151293,"display_name":"Sayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688064453,"creation_date":1688059735,"answer_id":76583356,"question_id":76582792,"body_markdown":"You can try this regexp `(?:\\&quot;[\\\\w]+\\&quot;:\\&quot;)(\\\\d+)`\r\n    \r\n    import java.util.regex.*;\r\n    import java.util.*;\r\n    import java.util.function.Supplier;\r\n    \r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n    \r\n        Pattern p = Pattern.compile(&quot;(?:\\&quot;[\\\\w]+\\&quot;:\\&quot;)(\\\\d+)&quot;);\r\n        Matcher m = p.matcher(&quot;[{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;7\\&quot;},{\\&quot;acks\\&quot;:\\&quot;8\\&quot;}]\\t&quot;);  \r\n    \r\n        List&lt;String&gt; llist = new LinkedList&lt;String&gt;();\r\n        while (m.find()) {    \r\n            llist.add(m.group(1));\r\n        }    \r\n        if(llist.size() == 0) {    \r\n            System.out.println(&quot;No match found.&quot;);    \r\n        } else {\r\n            System.out.println(&quot;Output : &quot; + llist.toString());\r\n        }\r\n       }\r\n    }\r\n    ","title":"java regex with curly braces","body":"<p>You can try this regexp <code>(?:\\&quot;[\\\\w]+\\&quot;:\\&quot;)(\\\\d+)</code></p>\n<pre><code>import java.util.regex.*;\nimport java.util.*;\nimport java.util.function.Supplier;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n\n    Pattern p = Pattern.compile(&quot;(?:\\&quot;[\\\\w]+\\&quot;:\\&quot;)(\\\\d+)&quot;);\n    Matcher m = p.matcher(&quot;[{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;7\\&quot;},{\\&quot;acks\\&quot;:\\&quot;8\\&quot;}]\\t&quot;);  \n\n    List&lt;String&gt; llist = new LinkedList&lt;String&gt;();\n    while (m.find()) {    \n        llist.add(m.group(1));\n    }    \n    if(llist.size() == 0) {    \n        System.out.println(&quot;No match found.&quot;);    \n    } else {\n        System.out.println(&quot;Output : &quot; + llist.toString());\n    }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688060712,"creation_date":1688060712,"answer_id":76583460,"question_id":76582792,"body_markdown":"It is unclear precisely what you are trying to do.\r\n\r\nIf all you want is to leave out `[`,`]`,`,` and digits, you can replace everything else with empty string using the following regex: [`[^\\d,[\\]]+`](https://regex101.com/r/kPq2E5/2)\r\n\r\nAnd if you only need to extract digits from objects with single field &quot;acks&quot;, you could replace `\\{&quot;acks&quot;:&quot;(\\d+)&quot;\\}` with `$1`.  \r\nDemo [here](http://regex101.com/r/XYKaLJ/1).","title":"java regex with curly braces","body":"<p>It is unclear precisely what you are trying to do.</p>\n<p>If all you want is to leave out <code>[</code>,<code>]</code>,<code>,</code> and digits, you can replace everything else with empty string using the following regex: <a href=\"https://regex101.com/r/kPq2E5/2\" rel=\"nofollow noreferrer\"><code>[^\\d,[\\]]+</code></a></p>\n<p>And if you only need to extract digits from objects with single field &quot;acks&quot;, you could replace <code>\\{&quot;acks&quot;:&quot;(\\d+)&quot;\\}</code> with <code>$1</code>.<br />\nDemo <a href=\"http://regex101.com/r/XYKaLJ/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688072614,"creation_date":1688072614,"answer_id":76584596,"question_id":76582792,"body_markdown":"Just check for `\\&quot;acks\\&quot;`, the `:` character, and the starting and ending `&quot;` characters.\r\n\r\nThe check for `{` doesn&#39;t seem necessary.\r\n\r\n```none\r\n\\&quot;acks\\&quot;:\\&quot;(.+?)\\&quot;\r\n```\r\n\r\n```java\r\nString string = &quot;{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;7\\&quot;},{\\&quot;acks\\&quot;:\\&quot;8\\&quot;}&quot;;\r\nPattern pattern = Pattern.compile(&quot;\\\\\\&quot;acks\\\\\\&quot;:\\\\\\&quot;(.+?)\\\\\\&quot;&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nwhile (matcher.find()) list.add(matcher.group(1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[6, 7, 8]\r\n```","title":"java regex with curly braces","body":"<p>Just check for <code>\\&quot;acks\\&quot;</code>, the <code>:</code> character, and the starting and ending <code>&quot;</code> characters.</p>\n<p>The check for <code>{</code> doesn't seem necessary.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\&quot;acks\\&quot;:\\&quot;(.+?)\\&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;{\\&quot;acks\\&quot;:\\&quot;6\\&quot;},{\\&quot;acks\\&quot;:\\&quot;7\\&quot;},{\\&quot;acks\\&quot;:\\&quot;8\\&quot;}&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\\\&quot;acks\\\\\\&quot;:\\\\\\&quot;(.+?)\\\\\\&quot;&quot;);\nMatcher matcher = pattern.matcher(string);\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nwhile (matcher.find()) list.add(matcher.group(1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[6, 7, 8]\n</code></pre>\n"}],"owner":{"account_id":10703215,"reputation":325,"user_id":7877828,"accept_rate":50,"display_name":"dumb_coder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1688101338,"creation_date":1688054739,"question_id":76582792,"body_markdown":"I am having hard time solving this particular problem\r\n     \r\n    input: [{&quot;acks&quot;:&quot;6&quot;},{&quot;acks&quot;:&quot;7&quot;},{&quot;acks&quot;:&quot;8&quot;}]\r\n    regex: [\\{]*[&quot;acks:&quot;]\r\n    current output: [6},7},8}]\r\n    desired output: [6,7,8]\r\n\r\nI am facing problem with the ending curly braces.\r\n\r\nThank you for helping me in advance!!","title":"java regex with curly braces","body":"<p>I am having hard time solving this particular problem</p>\n<pre><code>input: [{&quot;acks&quot;:&quot;6&quot;},{&quot;acks&quot;:&quot;7&quot;},{&quot;acks&quot;:&quot;8&quot;}]\nregex: [\\{]*[&quot;acks:&quot;]\ncurrent output: [6},7},8}]\ndesired output: [6,7,8]\n</code></pre>\n<p>I am facing problem with the ending curly braces.</p>\n<p>Thank you for helping me in advance!!</p>\n"},{"tags":["java","servlets","checkmarx","esapi"],"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1687790884,"post_id":76554954,"comment_id":134982330,"body_markdown":"Duplicate of https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\" title=\"why am i getting a noclassdeffounderror in java\">stackoverflow.com/questions/34413/&hellip;</a>"},{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":0,"creation_date":1687790909,"post_id":76554954,"comment_id":134982336,"body_markdown":"Does this answer your question? [Why am I getting a NoClassDefFoundError in Java?](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687826453,"creation_date":1687826453,"answer_id":76560973,"question_id":76554954,"body_markdown":"The default implementation class for ESAPI&#39;s Validator interface is DefaultValidator. That in turn eventually pulls in the DefaultHTTPUtilities class which references the Apache Commons FileUpload.\r\n\r\nHowever, without additional information (e.g., details of the dependencies in your pom.xml or build.gradle, etc.), I can&#39;t help very much beyond that aside from describing what could cause this. If you want assistance, you will need to supply us with those details. I&#39;d suggest by creating a toy program that uses Apache Commons FileUpload 1.4. Will it compile? Will it run?\r\n\r\nUnless you (in your application build file, e.g., pom.xml, build.gradle, etc.) are doing something to exclude Apache Commons FileUpload or your company is blocking Maven Central (many do), it should work. But many companies block Maven Central and they require you to pulling dependencies from something like a local JFrog Artifactory instance. If that is the case, it is *possible* that FileUpload 1.4 is not present there either. The 1.4 version could be getting blocked because there is a known unpatched vulnerability in FileUpload 1.4 (specifically, CVE-2023-24998; fixed [sort of] in 1.5). So the 1.4 version could be blocked by an SCA &quot;firewall&quot;. [Note: If you use ESAPI 2.5.2.0, it will automatically use Apache Commons FileUpload 1.5 unless you did something to change it.]\r\n\r\nAnyhow, I need more details before I can help any further.","title":"Error:Processing Request..Failed :java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory","body":"<p>The default implementation class for ESAPI's Validator interface is DefaultValidator. That in turn eventually pulls in the DefaultHTTPUtilities class which references the Apache Commons FileUpload.</p>\n<p>However, without additional information (e.g., details of the dependencies in your pom.xml or build.gradle, etc.), I can't help very much beyond that aside from describing what could cause this. If you want assistance, you will need to supply us with those details. I'd suggest by creating a toy program that uses Apache Commons FileUpload 1.4. Will it compile? Will it run?</p>\n<p>Unless you (in your application build file, e.g., pom.xml, build.gradle, etc.) are doing something to exclude Apache Commons FileUpload or your company is blocking Maven Central (many do), it should work. But many companies block Maven Central and they require you to pulling dependencies from something like a local JFrog Artifactory instance. If that is the case, it is <em>possible</em> that FileUpload 1.4 is not present there either. The 1.4 version could be getting blocked because there is a known unpatched vulnerability in FileUpload 1.4 (specifically, CVE-2023-24998; fixed [sort of] in 1.5). So the 1.4 version could be blocked by an SCA &quot;firewall&quot;. [Note: If you use ESAPI 2.5.2.0, it will automatically use Apache Commons FileUpload 1.5 unless you did something to change it.]</p>\n<p>Anyhow, I need more details before I can help any further.</p>\n"},{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688098658,"creation_date":1688098658,"answer_id":76586018,"question_id":76554954,"body_markdown":"Okay, well if you are are doing this the hard way and not using something like Maven or Gradle that automagically pulls down all the dependencies for them and configures them for your classpath, unless you want to play whack-a-mole while you are using ESAPI, let me refer you to a list of all the direct and transitive dependencies for the ESAPI 2.5.2.0 release, which you can find [here][1] in the 2.5.2.0 release notes. You can ignore those marked &#39;test&#39; and only need to pull down and include those marked &#39;compile&#39; into your classpath. (The ones marked as &#39;provided&#39; should be provided by your startup scripts for your servlet engine such as Tomcat or Jetty, etc.)\r\n\r\nSince there are so many, you may wish to dump them in your Java&#39;s &#39;java.ext.dirs&#39; system property (which I think defaults to $JAVA_HOME/jre/lib/ext) or fiddle with the &#39;-extdirs&#39; argument to &#39;javac&#39; and &#39;java&#39;. Or if you are hard-code and want to use the minimal set, you try eliminating dependencies and transitive dependencies one at a time until you get to some minimal set. Doing that for build-time wouldn&#39;t be a chore as none of the transitive dependencies are needed for compiling. But flushing all that out at runtime is tedious and error prone. That&#39;s the whack-a-mole scenario I was describing.\r\n\r\nHopefully, that&#39;s enough to get you started. If you are using something like &#39;ant&#39;, there are likely FOSS programs that will allow you to convert that to Maven or Gradle which you will find much easier to use once you get the hang of it. It may require restructuring your code directories a bit, but IMO, it&#39;s worth it.\r\n\r\nGood luck.\r\n\r\n\r\n  [1]: https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.5.2.0-release-notes.txt#L126-L181","title":"Error:Processing Request..Failed :java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory","body":"<p>Okay, well if you are are doing this the hard way and not using something like Maven or Gradle that automagically pulls down all the dependencies for them and configures them for your classpath, unless you want to play whack-a-mole while you are using ESAPI, let me refer you to a list of all the direct and transitive dependencies for the ESAPI 2.5.2.0 release, which you can find <a href=\"https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.5.2.0-release-notes.txt#L126-L181\" rel=\"nofollow noreferrer\">here</a> in the 2.5.2.0 release notes. You can ignore those marked 'test' and only need to pull down and include those marked 'compile' into your classpath. (The ones marked as 'provided' should be provided by your startup scripts for your servlet engine such as Tomcat or Jetty, etc.)</p>\n<p>Since there are so many, you may wish to dump them in your Java's 'java.ext.dirs' system property (which I think defaults to $JAVA_HOME/jre/lib/ext) or fiddle with the '-extdirs' argument to 'javac' and 'java'. Or if you are hard-code and want to use the minimal set, you try eliminating dependencies and transitive dependencies one at a time until you get to some minimal set. Doing that for build-time wouldn't be a chore as none of the transitive dependencies are needed for compiling. But flushing all that out at runtime is tedious and error prone. That's the whack-a-mole scenario I was describing.</p>\n<p>Hopefully, that's enough to get you started. If you are using something like 'ant', there are likely FOSS programs that will allow you to convert that to Maven or Gradle which you will find much easier to use once you get the hang of it. It may require restructuring your code directories a bit, but IMO, it's worth it.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688098658,"creation_date":1687768656,"question_id":76554954,"body_markdown":"i am facing trust boundary violation issue in my application for this using below method but applciation is not working!\r\n```\r\npublic static  String[] getValidInput(String[] input) {\r\n\t\tLog4j.log(&quot;info&quot;, &quot;Enter Into getValidInput() ESAPI&quot;+Arrays.toString(input));\r\n\t\tif(input==null) {\r\n\t\t\treturn input;\r\n\t\t\t}\r\n\t\tList&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\tfor(String str :input) {\r\n\t\t\tString output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);\r\n\t\t\tres.add(output);\r\n\t\t}\r\n\t\treturn res.toArray(new String[0]);\r\n}\r\n```\r\n\r\n```\r\npublic String getRqst(HttpServletRequest request, String param) {\r\n\tString[] reqs = Validate.getValidInput(request.getParameterValues(param)); -&gt; here i amgetting trust boundary violation in session variables for this issue i am using ESAPI\r\n```\r\n\r\n\r\nSafeString : ^[.\\\\p{Alnum}\\\\p{Space}_-]{0,1024}$\r\n\r\n added two below jars to application not working  commons-fileupload-1.4, commons-io-2.4","title":"Error:Processing Request..Failed :java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory","body":"<p>i am facing trust boundary violation issue in my application for this using below method but applciation is not working!</p>\n<pre><code>public static  String[] getValidInput(String[] input) {\n        Log4j.log(&quot;info&quot;, &quot;Enter Into getValidInput() ESAPI&quot;+Arrays.toString(input));\n        if(input==null) {\n            return input;\n            }\n        List&lt;String&gt; res = new ArrayList&lt;&gt;();\n        try {\n        for(String str :input) {\n            String output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);\n            res.add(output);\n        }\n        return res.toArray(new String[0]);\n}\n</code></pre>\n<pre><code>public String getRqst(HttpServletRequest request, String param) {\n    String[] reqs = Validate.getValidInput(request.getParameterValues(param)); -&gt; here i amgetting trust boundary violation in session variables for this issue i am using ESAPI\n</code></pre>\n<p>SafeString : ^[.\\p{Alnum}\\p{Space}_-]{0,1024}$</p>\n<p>added two below jars to application not working  commons-fileupload-1.4, commons-io-2.4</p>\n"},{"tags":["java"],"owner":{"account_id":26911267,"reputation":11,"user_id":20486791,"display_name":"Gan hui lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688098574,"creation_date":1688098574,"question_id":76586013,"body_markdown":"In MainActivity.kt:\r\n```\r\npackage com.example.myanimal\r\n\r\nimport android.os.Bundle\r\nimport androidx.activity.ComponentActivity\r\nimport androidx.activity.compose.setContent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.compose.foundation.layout.fillMaxSize\r\nimport androidx.compose.material3.MaterialTheme\r\nimport androidx.compose.material3.Surface\r\nimport androidx.compose.material3.Text\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.navigation.Navigation\r\nimport androidx.navigation.ui.AppBarConfiguration\r\nimport androidx.navigation.ui.NavigationUI\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView\r\n\r\nclass MainActivity : ComponentActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContent {\r\n            MyAnimalTheme {\r\n                // A surface container using the &#39;background&#39; color from the theme\r\n                Surface(modifier = Modifier.fillMaxSize(), color = MaterialTheme.colorScheme.background) {\r\n                    Greeting(&quot;Android&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Composable\r\nfun Greeting(name: String, modifier: Modifier = Modifier) {\r\n    Text(\r\n        text = &quot;Hello $name!&quot;,\r\n        modifier = modifier\r\n    )\r\n}\r\n\r\n@Preview(showBackground = true)\r\n@Composable\r\nfun GreetingPreview() {\r\n    MyAnimalTheme {\r\n        Greeting(&quot;Android&quot;)\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn Navbar.java:\r\n```\r\npackage com.example.myanimal;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class NavBar extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n\r\n        // Set up the top-level destinations in the navigation graph\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder( R.id.destination_home, R.id.destination_profile)\r\n.build();\r\n\r\n        // Connect the navigation controller to the bottom navigation view\r\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe above both codes are in the same directory. But in virtual screen, it shows &quot;Hello, Android!&quot; but the bottom navigation bar is not shown. How should i solve the problem?\r\n\r\nI tried combining the content of NavBar.java into the MainActivity.kt, but the app is not working and wouldn&#39;t allow me to open the app.","title":"Android studio not showing navigation bar","body":"<p>In MainActivity.kt:</p>\n<pre><code>package com.example.myanimal\n\nimport android.os.Bundle\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material3.MaterialTheme\nimport androidx.compose.material3.Surface\nimport androidx.compose.material3.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.navigation.Navigation\nimport androidx.navigation.ui.AppBarConfiguration\nimport androidx.navigation.ui.NavigationUI\nimport com.google.android.material.bottomnavigation.BottomNavigationView\n\nclass MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            MyAnimalTheme {\n                // A surface container using the 'background' color from the theme\n                Surface(modifier = Modifier.fillMaxSize(), color = MaterialTheme.colorScheme.background) {\n                    Greeting(&quot;Android&quot;)\n                }\n            }\n        }\n    }\n}\n\n\n@Composable\nfun Greeting(name: String, modifier: Modifier = Modifier) {\n    Text(\n        text = &quot;Hello $name!&quot;,\n        modifier = modifier\n    )\n}\n\n@Preview(showBackground = true)\n@Composable\nfun GreetingPreview() {\n    MyAnimalTheme {\n        Greeting(&quot;Android&quot;)\n    }\n}\n</code></pre>\n<p>In Navbar.java:</p>\n<pre><code>package com.example.myanimal;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport android.os.Bundle;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\npublic class NavBar extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n\n        // Set up the top-level destinations in the navigation graph\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder( R.id.destination_home, R.id.destination_profile)\n.build();\n\n        // Connect the navigation controller to the bottom navigation view\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\n    }\n}\n\n</code></pre>\n<p>The above both codes are in the same directory. But in virtual screen, it shows &quot;Hello, Android!&quot; but the bottom navigation bar is not shown. How should i solve the problem?</p>\n<p>I tried combining the content of NavBar.java into the MainActivity.kt, but the app is not working and wouldn't allow me to open the app.</p>\n"},{"tags":["java","hibernate","one-to-many","hibernate-mapping","many-to-one"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1688098297,"post_id":76585745,"comment_id":135031129,"body_markdown":"Do you have a different entity for the Class?","body":"Do you have a different entity for the Class?"},{"owner":{"account_id":28146212,"reputation":1,"user_id":21508486,"display_name":"Trọng Nguyễn Sỹ"},"score":0,"creation_date":1688113345,"post_id":76585745,"comment_id":135033064,"body_markdown":"No, classId is only thing we know about the class, but I need it when call api to define which class student or team in.","body":"No, classId is only thing we know about the class, but I need it when call api to define which class student or team in."}],"owner":{"account_id":28146212,"reputation":1,"user_id":21508486,"display_name":"Trọng Nguyễn Sỹ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688096391,"creation_date":1688093734,"question_id":76585745,"body_markdown":"I have a @OneToMany relationship: one team - many students. The Team entity use @EmbeddedId to define the main key with two column &quot;teamId&quot; and &quot;classId&quot; so when mapping with Student, I can detach them and must use @JoinColumn for all. My problem is: A Student in class don&#39;t have to join any team. This means the Team can null but the &quot;classId&quot; of the Student must not null (teamId NULL and classID NOT NULL in DB).\r\n\r\nHow can I set a uncertain value for the &quot;classId&quot; of Student when the Team is null?\r\n\r\nI have tried following:\r\n\r\n- Add @Column(name = &quot;classId&quot;) classId property =\\&gt; mapping false because duplicate column name\r\n- Add @Column(name = &quot;classId&quot;, insertable = false, updateable = false) classId property and use setter to set value for it when Team is null =\\&gt; code run, set successfully but cannot insert into DB\r\n- Use setter new Team() when Team is null then team.setClassId() =\\&gt; code run but when save student, the Team will also be saved =\\&gt; miss other properties of Team entity =\\&gt; can&#39;t save.\r\n\r\nThe Team Entity:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;teams&quot;)\r\npublic class Team {\r\n    @JsonUnwrapped\r\n    @EmbeddedId\r\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id&quot;))\r\n    @AttributeOverride(name = &quot;classId&quot;, column = @Column(name = &quot;classId&quot;))\r\n    private TeamId id;\r\n    \r\n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    @org.hibernate.annotations.OrderBy(clause = &quot;id ASC&quot;)\r\n    private List&lt;@Valid Student&gt; students = new ArrayList&lt;&gt;();\r\n    \r\n    //Other properties\r\n    \r\n    // Constructors, getters, setters\r\n}\r\n```\r\n\r\nThe Student Entity :\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;students&quot;)\r\npublic class Student {\r\n    @Id\r\n    private int id;\r\n    \r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;teamId&quot;, referencedColumnName = &quot;id&quot;)\r\n    @JoinColumn(name = &quot;classId&quot;, referencedColumnName = &quot;classId&quot;)\r\n    private Team team;\r\n    \r\n    //Other properties\r\n    \r\n    // Constructors, getters, setters\r\n}\r\n```\r\n\r\n\r\n","title":"In a @OneToMany and @ManyToOne relationship, how to set a property for the &quot;many&quot; entity when the other null and they is mapped by that property","body":"<p>I have a @OneToMany relationship: one team - many students. The Team entity use @EmbeddedId to define the main key with two column &quot;teamId&quot; and &quot;classId&quot; so when mapping with Student, I can detach them and must use @JoinColumn for all. My problem is: A Student in class don't have to join any team. This means the Team can null but the &quot;classId&quot; of the Student must not null (teamId NULL and classID NOT NULL in DB).</p>\n<p>How can I set a uncertain value for the &quot;classId&quot; of Student when the Team is null?</p>\n<p>I have tried following:</p>\n<ul>\n<li>Add @Column(name = &quot;classId&quot;) classId property =&gt; mapping false because duplicate column name</li>\n<li>Add @Column(name = &quot;classId&quot;, insertable = false, updateable = false) classId property and use setter to set value for it when Team is null =&gt; code run, set successfully but cannot insert into DB</li>\n<li>Use setter new Team() when Team is null then team.setClassId() =&gt; code run but when save student, the Team will also be saved =&gt; miss other properties of Team entity =&gt; can't save.</li>\n</ul>\n<p>The Team Entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;teams&quot;)\npublic class Team {\n    @JsonUnwrapped\n    @EmbeddedId\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id&quot;))\n    @AttributeOverride(name = &quot;classId&quot;, column = @Column(name = &quot;classId&quot;))\n    private TeamId id;\n    \n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @Fetch(FetchMode.SUBSELECT)\n    @org.hibernate.annotations.OrderBy(clause = &quot;id ASC&quot;)\n    private List&lt;@Valid Student&gt; students = new ArrayList&lt;&gt;();\n    \n    //Other properties\n    \n    // Constructors, getters, setters\n}\n</code></pre>\n<p>The Student Entity :</p>\n<pre><code>@Entity\n@Table(name=&quot;students&quot;)\npublic class Student {\n    @Id\n    private int id;\n    \n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;teamId&quot;, referencedColumnName = &quot;id&quot;)\n    @JoinColumn(name = &quot;classId&quot;, referencedColumnName = &quot;classId&quot;)\n    private Team team;\n    \n    //Other properties\n    \n    // Constructors, getters, setters\n}\n</code></pre>\n"},{"tags":["java","http","log4j2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688095936,"post_id":76585767,"comment_id":135030938,"body_markdown":"Are you trying to write an automated test?","body":"Are you trying to write an automated test?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688096019,"post_id":76585767,"comment_id":135030946,"body_markdown":"Why not just run a servlet locally which writes to a file, and check the file contents?","body":"Why not just run a servlet locally which writes to a file, and check the file contents?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688114936,"post_id":76585767,"comment_id":135033390,"body_markdown":"Why not check with its intended target rather than another target?","body":"Why not check with its intended target rather than another target?"}],"owner":{"account_id":22843757,"reputation":29,"user_id":16990363,"display_name":"kev0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688094308,"creation_date":1688094308,"question_id":76585767,"body_markdown":"I&#39;ve set up Log4j2 into my Spring Boot application and while I am able to test FileAppender by simply checking the contents of the file and seeing if my logs are being written, I have no idea on how I should test that my HTTP Appender is configured correctly. \r\n\r\n\r\n\r\n```&lt;Appenders&gt;\r\n    &lt;Http name=&quot;Http&quot; url=&quot;myEndPoint&quot;&gt;\r\n      &lt;Property name=&quot;X-Java-Runtime&quot; value=&quot;$${java:runtime}&quot; /&gt;\r\n      &lt;JsonLayout properties=&quot;true&quot;/&gt;\r\n    &lt;/Http&gt;\r\n  &lt;/Appenders&gt;\r\n```\r\n\r\nHTTP Appender takes a URL and sends a POST request to that url but how can I test to see that it&#39;s working? I plan using `httpbin.org/anything` as my url. `/anything` returns whatever you send it, so if my HTTP Appender works, I should receive my logs back in the response of the request but how do I print the **content of the response**? There is no field in log4j2 that allows it to print the response.\r\n\r\nAny help is appreciated.","title":"How can I test Log4j2&#39;s HTTP Appender in my Spring Boot Application?","body":"<p>I've set up Log4j2 into my Spring Boot application and while I am able to test FileAppender by simply checking the contents of the file and seeing if my logs are being written, I have no idea on how I should test that my HTTP Appender is configured correctly.</p>\n<pre><code>    &lt;Http name=&quot;Http&quot; url=&quot;myEndPoint&quot;&gt;\n      &lt;Property name=&quot;X-Java-Runtime&quot; value=&quot;$${java:runtime}&quot; /&gt;\n      &lt;JsonLayout properties=&quot;true&quot;/&gt;\n    &lt;/Http&gt;\n  &lt;/Appenders&gt;\n</code></pre>\n<p>HTTP Appender takes a URL and sends a POST request to that url but how can I test to see that it's working? I plan using <code>httpbin.org/anything</code> as my url. <code>/anything</code> returns whatever you send it, so if my HTTP Appender works, I should receive my logs back in the response of the request but how do I print the <strong>content of the response</strong>? There is no field in log4j2 that allows it to print the response.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","swing","graphics","paint"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688091915,"post_id":76585617,"comment_id":135030616,"body_markdown":"Using a KeyListener is not what you should be doing. Instead, use Key Bindings as per [MadProgrammer&#39;s example](https://stackoverflow.com/a/16867943/522444) and have it start a Swing timer.","body":"Using a KeyListener is not what you should be doing. Instead, use Key Bindings as per <a href=\"https://stackoverflow.com/a/16867943/522444\">MadProgrammer&#39;s example</a> and have it start a Swing timer."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1688091919,"post_id":76585617,"comment_id":135030618,"body_markdown":"Custom painting is done by overriding `paintComponent(...)` of a `JPanel` (or JComponent) and you need to invoke `super.paintComponent(...)` as the first statement to clear the background. Read the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information.","body":"Custom painting is done by overriding <code>paintComponent(...)</code> of a <code>JPanel</code> (or JComponent) and you need to invoke <code>super.paintComponent(...)</code> as the first statement to clear the background. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1688091938,"post_id":76585617,"comment_id":135030619,"body_markdown":"Also, do not mix AWT and Swing components. Get rid of the Canvas and use a JPanel and override paintComponent.","body":"Also, do not mix AWT and Swing components. Get rid of the Canvas and use a JPanel and override paintComponent."},{"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"score":0,"creation_date":1688092237,"post_id":76585617,"comment_id":135030644,"body_markdown":"K thanks for the help @HovercraftFullOfEels","body":"K thanks for the help @HovercraftFullOfEels"}],"owner":{"account_id":24456124,"reputation":19,"user_id":18377690,"display_name":"Epic Coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688091857,"answer_count":0,"score":0,"last_activity_date":1688092342,"creation_date":1688091409,"question_id":76585617,"body_markdown":"When I try to draw lines using the for loop below, it works, but it displays pretty slowly even when just loading in. It also pauses at every reload when moving (only added the d key for simplicity) Is that just my monitor/specs being slow, or is there a way to make graphics draw faster using some trade secret technique? Couldn&#39;t find anything on the matter by myself \r\n\r\nExample:\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n  \r\npublic class Prosscce extends Canvas implements KeyListener\r\n{\r\n   int xshift = 0;\r\n   \r\n   public Prosscce()\r\n   {\r\n      //Add Keystrokes\r\n      setFocusable(true);\r\n      requestFocus();\r\n      addKeyListener(this);\r\n   }\r\n   \r\n   public void keyTyped(KeyEvent e)\r\n   {\r\n      if (e.getKeyChar() == &#39;d&#39;)\r\n         xshift+=2;\r\n      \r\n      repaint();\r\n   }\r\n   \r\n   public void keyPressed(KeyEvent e) { }\r\n   \r\n   public void keyReleased(KeyEvent e) { }\r\n     \r\n   public void paint(Graphics g) \r\n   {\r\n      int spacing = 20;\r\n      \r\n      for (int i = xshift%spacing; i &lt; getWidth(); i+=spacing)\r\n         g.drawLine(i, 0,  i, getHeight());\r\n   }\r\n    \r\n   public static void main(String[] args) \r\n   {  \r\n      Prosscce xd = new Prosscce();  \r\n      JFrame f = new JFrame();  \r\n      f.setSize(600, 600);\r\n      f.setResizable(true);  \r\n      f.setLocationRelativeTo(null);\r\n      f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      f.add(xd);\r\n      f.setVisible(true);\r\n   }\r\n}\r\n```","title":"Speed up Graphics drawing method for Java Swing Graphics","body":"<p>When I try to draw lines using the for loop below, it works, but it displays pretty slowly even when just loading in. It also pauses at every reload when moving (only added the d key for simplicity) Is that just my monitor/specs being slow, or is there a way to make graphics draw faster using some trade secret technique? Couldn't find anything on the matter by myself</p>\n<p>Example:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n  \npublic class Prosscce extends Canvas implements KeyListener\n{\n   int xshift = 0;\n   \n   public Prosscce()\n   {\n      //Add Keystrokes\n      setFocusable(true);\n      requestFocus();\n      addKeyListener(this);\n   }\n   \n   public void keyTyped(KeyEvent e)\n   {\n      if (e.getKeyChar() == 'd')\n         xshift+=2;\n      \n      repaint();\n   }\n   \n   public void keyPressed(KeyEvent e) { }\n   \n   public void keyReleased(KeyEvent e) { }\n     \n   public void paint(Graphics g) \n   {\n      int spacing = 20;\n      \n      for (int i = xshift%spacing; i &lt; getWidth(); i+=spacing)\n         g.drawLine(i, 0,  i, getHeight());\n   }\n    \n   public static void main(String[] args) \n   {  \n      Prosscce xd = new Prosscce();  \n      JFrame f = new JFrame();  \n      f.setSize(600, 600);\n      f.setResizable(true);  \n      f.setLocationRelativeTo(null);\n      f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      f.add(xd);\n      f.setVisible(true);\n   }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":28922439,"reputation":21,"user_id":22153049,"display_name":"mc-goodch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688092196,"creation_date":1688092196,"answer_id":76585655,"question_id":76535247,"body_markdown":"I am having the same problem. This is apparently broken in the latest Forge builds. There is a PR waiting to be merged that addresses the issue: https://github.com/MinecraftForge/MinecraftForge/pull/9554","title":"Loot modifiers not being applied Minecraft Forge 1.20.1","body":"<p>I am having the same problem. This is apparently broken in the latest Forge builds. There is a PR waiting to be merged that addresses the issue: <a href=\"https://github.com/MinecraftForge/MinecraftForge/pull/9554\" rel=\"nofollow noreferrer\">https://github.com/MinecraftForge/MinecraftForge/pull/9554</a></p>\n"}],"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688092196,"creation_date":1687463691,"question_id":76535247,"body_markdown":"Mobs will not drop items I&#39;ve added to their loot tables through loot modifiers. I have like sixty loot modifier files but, to keep it simple, let&#39;s say my only loot modifier is spider_charm_from_spiders.json. That file looks like:\r\n```\r\n{\r\n  &quot;type&quot;: &quot;reinvigoration:add_item&quot;,\r\n  &quot;conditions&quot;: [\r\n    {\r\n      &quot;condition&quot;: &quot;minecraft:entity_properties&quot;,\r\n      &quot;predicate&quot;: {\r\n        &quot;type&quot;: &quot;minecraft:spider&quot;\r\n      },\r\n      &quot;entity&quot;: &quot;this&quot;\r\n    },\r\n    {\r\n      &quot;condition&quot;: &quot;minecraft:killed_by_player&quot;\r\n    }\r\n  ],\r\n  &quot;item&quot;: &quot;reinvigoration:spider_charm&quot;\r\n}\r\n```\r\nand is located in src/main/resources/data/reinvigoration/loot_modifiers/spider_charm_from_spiders.json\r\n\r\nMy global_loot_modifiers.json class located in src/main/resources/data/forge/loot_modifiers/global_loot_modifiers.json looks like this:\r\n```\r\n{\r\n  &quot;replace&quot;: false,\r\n  &quot;entries&quot;: [\r\n    &quot;reinvigoration:spider_charm_from_spiders&quot;\r\n  ]\r\n}\r\n```\r\nI have two classes, AddItemModifier.java and ModLootModifiers.java, in src/main/java/com/soliid/reinvigoraion/loot.\r\n\r\nAddItemModifier:\r\n```\r\npackage com.soliid.reinvigoration.loot;\r\n\r\nimport com.google.common.base.Suppliers;\r\nimport com.mojang.serialization.Codec;\r\nimport com.mojang.serialization.codecs.RecordCodecBuilder;\r\nimport it.unimi.dsi.fastutil.objects.ObjectArrayList;\r\nimport net.minecraft.world.item.Item;\r\nimport net.minecraft.world.item.ItemStack;\r\nimport net.minecraft.world.level.storage.loot.LootContext;\r\nimport net.minecraft.world.level.storage.loot.predicates.LootItemCondition;\r\nimport net.minecraftforge.common.loot.IGlobalLootModifier;\r\nimport net.minecraftforge.common.loot.LootModifier;\r\nimport net.minecraftforge.registries.ForgeRegistries;\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.function.Supplier;\r\n\r\npublic class AddItemModifier extends LootModifier {\r\n    public static final Supplier&lt;Codec&lt;AddItemModifier&gt;&gt; CODEC = Suppliers.memoize(()\r\n            -&gt; RecordCodecBuilder.create(inst -&gt; codecStart(inst).and(ForgeRegistries.ITEMS.getCodec()\r\n            .fieldOf(&quot;item&quot;).forGetter(m -&gt; m.item)).apply(inst, AddItemModifier::new)));\r\n    private final Item item;\r\n\r\n    protected AddItemModifier(LootItemCondition[] conditionsIn, Item item) {\r\n        super(conditionsIn);\r\n        this.item = item;\r\n    }\r\n\r\n    @Override\r\n    @NotNull\r\n    protected ObjectArrayList&lt;ItemStack&gt; doApply(ObjectArrayList&lt;ItemStack&gt; generatedLoot, LootContext context) {\r\n        generatedLoot.add(new ItemStack(item));\r\n        return generatedLoot;\r\n    }\r\n\r\n    @Override\r\n    public Codec&lt;? extends IGlobalLootModifier&gt; codec() {\r\n        return CODEC.get();\r\n    }\r\n}\r\n```\r\n\r\nModLootModifiers:\r\n```\r\npackage com.soliid.reinvigoration.loot;\r\n\r\nimport com.mojang.serialization.Codec;\r\nimport com.soliid.reinvigoration.Reinvigoration;\r\nimport net.minecraftforge.common.loot.IGlobalLootModifier;\r\nimport net.minecraftforge.eventbus.api.IEventBus;\r\nimport net.minecraftforge.registries.DeferredRegister;\r\nimport net.minecraftforge.registries.ForgeRegistries;\r\nimport net.minecraftforge.registries.RegistryObject;\r\n\r\npublic class ModLootModifiers  {\r\npublic static final DeferredRegister&lt;Codec&lt;? extends IGlobalLootModifier&gt;&gt; LOOT_MODIFIER_SERIALIZERS =\r\n            DeferredRegister.create(ForgeRegistries.Keys.GLOBAL_LOOT_MODIFIER_SERIALIZERS, Reinvigoration.MODID);\r\n\r\n    public static final RegistryObject&lt;Codec&lt;? extends IGlobalLootModifier&gt;&gt; ADD_ITEM =\r\n            LOOT_MODIFIER_SERIALIZERS.register(&quot;add_item&quot;, AddItemModifier.CODEC);\r\n\r\n    public static void register(IEventBus bus) {\r\n        LOOT_MODIFIER_SERIALIZERS.register(bus);\r\n    }\r\n}\r\n```\r\nI registered LOOT_MODIFIER_SERIALIZERS in my main class here:\r\n```\r\nModLootModifiers.register(modEventBus);\r\n```\r\nWhen I build &amp; play the game, spiders do not drop spider charms. I am modding in IntelliJ IDEA Community Edition 2023.1.2","title":"Loot modifiers not being applied Minecraft Forge 1.20.1","body":"<p>Mobs will not drop items I've added to their loot tables through loot modifiers. I have like sixty loot modifier files but, to keep it simple, let's say my only loot modifier is spider_charm_from_spiders.json. That file looks like:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;reinvigoration:add_item&quot;,\n  &quot;conditions&quot;: [\n    {\n      &quot;condition&quot;: &quot;minecraft:entity_properties&quot;,\n      &quot;predicate&quot;: {\n        &quot;type&quot;: &quot;minecraft:spider&quot;\n      },\n      &quot;entity&quot;: &quot;this&quot;\n    },\n    {\n      &quot;condition&quot;: &quot;minecraft:killed_by_player&quot;\n    }\n  ],\n  &quot;item&quot;: &quot;reinvigoration:spider_charm&quot;\n}\n</code></pre>\n<p>and is located in src/main/resources/data/reinvigoration/loot_modifiers/spider_charm_from_spiders.json</p>\n<p>My global_loot_modifiers.json class located in src/main/resources/data/forge/loot_modifiers/global_loot_modifiers.json looks like this:</p>\n<pre><code>{\n  &quot;replace&quot;: false,\n  &quot;entries&quot;: [\n    &quot;reinvigoration:spider_charm_from_spiders&quot;\n  ]\n}\n</code></pre>\n<p>I have two classes, AddItemModifier.java and ModLootModifiers.java, in src/main/java/com/soliid/reinvigoraion/loot.</p>\n<p>AddItemModifier:</p>\n<pre><code>package com.soliid.reinvigoration.loot;\n\nimport com.google.common.base.Suppliers;\nimport com.mojang.serialization.Codec;\nimport com.mojang.serialization.codecs.RecordCodecBuilder;\nimport it.unimi.dsi.fastutil.objects.ObjectArrayList;\nimport net.minecraft.world.item.Item;\nimport net.minecraft.world.item.ItemStack;\nimport net.minecraft.world.level.storage.loot.LootContext;\nimport net.minecraft.world.level.storage.loot.predicates.LootItemCondition;\nimport net.minecraftforge.common.loot.IGlobalLootModifier;\nimport net.minecraftforge.common.loot.LootModifier;\nimport net.minecraftforge.registries.ForgeRegistries;\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.function.Supplier;\n\npublic class AddItemModifier extends LootModifier {\n    public static final Supplier&lt;Codec&lt;AddItemModifier&gt;&gt; CODEC = Suppliers.memoize(()\n            -&gt; RecordCodecBuilder.create(inst -&gt; codecStart(inst).and(ForgeRegistries.ITEMS.getCodec()\n            .fieldOf(&quot;item&quot;).forGetter(m -&gt; m.item)).apply(inst, AddItemModifier::new)));\n    private final Item item;\n\n    protected AddItemModifier(LootItemCondition[] conditionsIn, Item item) {\n        super(conditionsIn);\n        this.item = item;\n    }\n\n    @Override\n    @NotNull\n    protected ObjectArrayList&lt;ItemStack&gt; doApply(ObjectArrayList&lt;ItemStack&gt; generatedLoot, LootContext context) {\n        generatedLoot.add(new ItemStack(item));\n        return generatedLoot;\n    }\n\n    @Override\n    public Codec&lt;? extends IGlobalLootModifier&gt; codec() {\n        return CODEC.get();\n    }\n}\n</code></pre>\n<p>ModLootModifiers:</p>\n<pre><code>package com.soliid.reinvigoration.loot;\n\nimport com.mojang.serialization.Codec;\nimport com.soliid.reinvigoration.Reinvigoration;\nimport net.minecraftforge.common.loot.IGlobalLootModifier;\nimport net.minecraftforge.eventbus.api.IEventBus;\nimport net.minecraftforge.registries.DeferredRegister;\nimport net.minecraftforge.registries.ForgeRegistries;\nimport net.minecraftforge.registries.RegistryObject;\n\npublic class ModLootModifiers  {\npublic static final DeferredRegister&lt;Codec&lt;? extends IGlobalLootModifier&gt;&gt; LOOT_MODIFIER_SERIALIZERS =\n            DeferredRegister.create(ForgeRegistries.Keys.GLOBAL_LOOT_MODIFIER_SERIALIZERS, Reinvigoration.MODID);\n\n    public static final RegistryObject&lt;Codec&lt;? extends IGlobalLootModifier&gt;&gt; ADD_ITEM =\n            LOOT_MODIFIER_SERIALIZERS.register(&quot;add_item&quot;, AddItemModifier.CODEC);\n\n    public static void register(IEventBus bus) {\n        LOOT_MODIFIER_SERIALIZERS.register(bus);\n    }\n}\n</code></pre>\n<p>I registered LOOT_MODIFIER_SERIALIZERS in my main class here:</p>\n<pre><code>ModLootModifiers.register(modEventBus);\n</code></pre>\n<p>When I build &amp; play the game, spiders do not drop spider charms. I am modding in IntelliJ IDEA Community Edition 2023.1.2</p>\n"},{"tags":["java","android"],"owner":{"account_id":28740960,"reputation":31,"user_id":22011099,"display_name":"vtu place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1688089944,"creation_date":1685761840,"question_id":76394413,"body_markdown":"i am trying to publish an android app on google playstore. the app is working fine, apparently its already in use. however, these are the issues from playstore.\r\n\r\nError: Detected on 1 device during testing\r\n\r\nStack trace\r\n```\r\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n\r\nFATAL EXCEPTION: Instr: com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging\r\nProcess: com.google.android.apps.mtaas.deviceadmin, PID: 3294\r\njava.lang.SecurityException: No active admin \r\n```\r\n\r\nthe app is already working fine on all device where its been used, but playstore pending approval gives out the above issues.","title":"How do I fix a &#39;No active admin&#39; SecurityException when publishing my Android app on Google Playstore?","body":"<p>i am trying to publish an android app on google playstore. the app is working fine, apparently its already in use. however, these are the issues from playstore.</p>\n<p>Error: Detected on 1 device during testing</p>\n<p>Stack trace</p>\n<pre><code>java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n\nFATAL EXCEPTION: Instr: com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging\nProcess: com.google.android.apps.mtaas.deviceadmin, PID: 3294\njava.lang.SecurityException: No active admin \n</code></pre>\n<p>the app is already working fine on all device where its been used, but playstore pending approval gives out the above issues.</p>\n"},{"tags":["java","lombok","builder"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688089328,"creation_date":1688089328,"answer_id":76585524,"question_id":76585320,"body_markdown":"You don&#39;t have to write out the entire builder. Just write the `test` method of the builder, and add your own validation:\r\n\r\n```\r\n@Builder(toBuilder = true)\r\nclass Testing {\r\n\r\n    @NonNull private String id;\r\n\r\n    @NonNull\r\n    private TestEnum test;\r\n\r\n    private String message;\r\n\r\n    public static class TestingBuilder {\r\n        public TestingBuilder test(@NonNull TestEnum test) {\r\n            if (test != TestEnum.ALPHA &amp;&amp; test != TestEnum.BETA) {\r\n                throw new IllegalArgumentException(&quot;test can only be ALPHA or BETA!&quot;);\r\n            }\r\n            this.test = test;\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that the builder class&#39; name and the name of the `test` method should be the same as whatever Lombok would have otherwise generated.\r\n\r\nIf you do not want *any* instance of `Testing` to be created that has a `test` value of `GAMMA`, not just those instances created using the builder, you should write your own constructor instead:\r\n\r\n    public Testing(@NonNull String id, @NonNull TestEnum test, @NonNull String message) {\r\n        if (test != TestEnum.ALPHA &amp;&amp; test != TestEnum.BETA) {\r\n            throw new IllegalArgumentException(&quot;test can only be ALPHA or BETA!&quot;);\r\n        }\r\n        this.id = id;\r\n        this.test = test;\r\n        this.message = message;\r\n    }","title":"Lombok Builder with extra validations on Enum","body":"<p>You don't have to write out the entire builder. Just write the <code>test</code> method of the builder, and add your own validation:</p>\n<pre><code>@Builder(toBuilder = true)\nclass Testing {\n\n    @NonNull private String id;\n\n    @NonNull\n    private TestEnum test;\n\n    private String message;\n\n    public static class TestingBuilder {\n        public TestingBuilder test(@NonNull TestEnum test) {\n            if (test != TestEnum.ALPHA &amp;&amp; test != TestEnum.BETA) {\n                throw new IllegalArgumentException(&quot;test can only be ALPHA or BETA!&quot;);\n            }\n            this.test = test;\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>Note that the builder class' name and the name of the <code>test</code> method should be the same as whatever Lombok would have otherwise generated.</p>\n<p>If you do not want <em>any</em> instance of <code>Testing</code> to be created that has a <code>test</code> value of <code>GAMMA</code>, not just those instances created using the builder, you should write your own constructor instead:</p>\n<pre><code>public Testing(@NonNull String id, @NonNull TestEnum test, @NonNull String message) {\n    if (test != TestEnum.ALPHA &amp;&amp; test != TestEnum.BETA) {\n        throw new IllegalArgumentException(&quot;test can only be ALPHA or BETA!&quot;);\n    }\n    this.id = id;\n    this.test = test;\n    this.message = message;\n}\n</code></pre>\n"}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76585524,"answer_count":1,"score":1,"last_activity_date":1688089328,"creation_date":1688085192,"question_id":76585320,"body_markdown":"I have a class like this - \r\n\r\n```\r\n\r\n@Builder(toBuilder = true)\r\npublic class Testing {\r\n\r\n    @NonNull private String id;\r\n\r\n    @NonNull private TestEnum test;\r\n\r\n    private String message;\r\n\r\n}\r\n\r\n\r\n\r\npublic enum TestEnum {\r\n    ALPHA, BETA, GAMMA;\r\n}\r\n\r\n```\r\n\r\nI have a use-case where I need the value of test to be only `ALPHA` or `BETA`. To ensure this is there any annotation that I can use with the builder annotation? The only other way I can think of doing this is writing my own builder implementation? The other way could be to write my own annotation that does that validation but I am not sure if that would work with the Lombok one? Is there a simpler way to do this?\r\n\r\nI don&#39;t think this scenario applies here - https://stackoverflow.com/questions/44855981/lombok-builder-to-check-non-null-and-not-empty.","title":"Lombok Builder with extra validations on Enum","body":"<p>I have a class like this -</p>\n<pre><code>\n@Builder(toBuilder = true)\npublic class Testing {\n\n    @NonNull private String id;\n\n    @NonNull private TestEnum test;\n\n    private String message;\n\n}\n\n\n\npublic enum TestEnum {\n    ALPHA, BETA, GAMMA;\n}\n\n</code></pre>\n<p>I have a use-case where I need the value of test to be only <code>ALPHA</code> or <code>BETA</code>. To ensure this is there any annotation that I can use with the builder annotation? The only other way I can think of doing this is writing my own builder implementation? The other way could be to write my own annotation that does that validation but I am not sure if that would work with the Lombok one? Is there a simpler way to do this?</p>\n<p>I don't think this scenario applies here - <a href=\"https://stackoverflow.com/questions/44855981/lombok-builder-to-check-non-null-and-not-empty\">Lombok builder to check non null and not empty</a>.</p>\n"},{"tags":["java","android","android-manifest","ads"],"owner":{"account_id":27680449,"reputation":1,"user_id":21129324,"display_name":"Eric Lotrowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688087692,"creation_date":1688087692,"question_id":76585445,"body_markdown":"Sounds like a bad question, but Google has confused and baffled me again. I am trying to add ads to my app that&#39;s already in the play store, but any time I add a new update, it is telling me that I need to add permission to the AndroidManifest.xml. I have even had some assistance from hired help to help me. And yet, google wont recognize it. The latest suggestion from their team is below\r\n*\r\n\r\nAs per checking, it appears that the closed track manifest doesn&#39;t include the permission declaration for com.google.android.gms.permission.AD_ID.\r\n\r\nWith that being said, you&#39;ll have two options to fix this issue, first update your closed track and include the permission declaration on your closed manifest... *\r\n\r\nBefore you ask, the other option was to update the info in the web console, which has been done many times. The only thing I could do is turn it off. No thank you.\r\n\r\n\r\n\r\nMy question is, what is the closed track manifest? Where would it be in Android Studio? What am I doing wrong? I have it in the manifest as &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;","title":"closed track manifest for andoid apps","body":"<p>Sounds like a bad question, but Google has confused and baffled me again. I am trying to add ads to my app that's already in the play store, but any time I add a new update, it is telling me that I need to add permission to the AndroidManifest.xml. I have even had some assistance from hired help to help me. And yet, google wont recognize it. The latest suggestion from their team is below\n*</p>\n<p>As per checking, it appears that the closed track manifest doesn't include the permission declaration for com.google.android.gms.permission.AD_ID.</p>\n<p>With that being said, you'll have two options to fix this issue, first update your closed track and include the permission declaration on your closed manifest... *</p>\n<p>Before you ask, the other option was to update the info in the web console, which has been done many times. The only thing I could do is turn it off. No thank you.</p>\n<p>My question is, what is the closed track manifest? Where would it be in Android Studio? What am I doing wrong? I have it in the manifest as </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1688086838,"post_id":76585397,"comment_id":135030227,"body_markdown":"*actually mean 2D list* - yes","body":"<i>actually mean 2D list</i> - yes"},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1688087067,"post_id":76585397,"comment_id":135030243,"body_markdown":"to be precise it&#39;s a jagged array, not a rectangular 2D array like a matrix","body":"to be precise it&#39;s a jagged array, not a rectangular 2D array like a matrix"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1688088137,"post_id":76585397,"comment_id":135030340,"body_markdown":"It&#39;s a list of lists.","body":"It&#39;s a list of lists."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1688089073,"post_id":76585397,"comment_id":135030429,"body_markdown":"In this specific case, it&#39;s how HackerRank chose to specify a square matrix of integers as the API for solving the [Diagonal Difference](https://www.hackerrank.com/challenges/diagonal-difference/problem) problem. The outer `List` are the rows, and each row is a `List&lt;Integer&gt;` of the columns in that row.","body":"In this specific case, it&#39;s how HackerRank chose to specify a square matrix of integers as the API for solving the <a href=\"https://www.hackerrank.com/challenges/diagonal-difference/problem\" rel=\"nofollow noreferrer\">Diagonal Difference</a> problem. The outer <code>List</code> are the rows, and each row is a <code>List&lt;Integer&gt;</code> of the columns in that row."}],"owner":{"account_id":28922154,"reputation":1,"user_id":22152829,"display_name":"Ahmed Khalil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688088877,"answer_count":0,"score":0,"last_activity_date":1688086718,"creation_date":1688086718,"question_id":76585397,"body_markdown":"    public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n    // Write your code here\r\n\r\n    }\r\n\r\nwhat does this function parameter actually mean 2D list or what\r\n\r\ni&#39;m just trying to make a something that calculate the sum of a diagonal of numbers","title":"What does List&lt;List&lt;Integer&gt;&gt; arr mean","body":"<pre><code>public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\n// Write your code here\n\n}\n</code></pre>\n<p>what does this function parameter actually mean 2D list or what</p>\n<p>i'm just trying to make a something that calculate the sum of a diagonal of numbers</p>\n"},{"tags":["java","picocli"],"comments":[{"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"score":0,"creation_date":1585867560,"post_id":61001974,"comment_id":107923733,"body_markdown":"It looks like perhaps I should be doing this via exit codes instead of exceptions now. Or perhaps I don&#39;t need custom exception handlers to get the help text added to the execution result?","body":"It looks like perhaps I should be doing this via exit codes instead of exceptions now. Or perhaps I don&#39;t need custom exception handlers to get the help text added to the execution result?"}],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1585880533,"creation_date":1585880533,"answer_id":61004145,"question_id":61001974,"body_markdown":"One of the changes in picocli 4.x is the new [execution][1] framework. The user manual has a [section on migration][2] that may be useful.\r\n\r\nBy design, the `CommandLine::execute` method never throws an exception. So there is no need to surround the call to `CommandLine::execute` with a `try/catch` block (unless you need to catch an `Error` or `Throwable`).\r\n\r\nInstead, you can optionally specify custom exception handlers, like you already do in your example. These exception handlers is where you can show an error message to the users. (Perhaps a combination of what was in the previous ExceptionHandler and the logic that previously was in the `catch` block.)\r\n\r\nThe `ParameterExceptionHandler` is invoked when the user provided invalid input. The default handler shows an error message, may suggest alternative spellings for options or subcommands that look like a typo, and finally displays the usage help message. The [Handling Errors][3] section of the user manual has an example `ShortErrorMessageHandler` that may be useful when the usage help message is so long that it obscures the error message.\r\n\r\nThe `ExecutionExceptionHandler` is invoked when the business logic throws an exception. The default handler just rethrows the exception, which results in a stack trace being printed. The [Business Logic Exceptions][4] section of the user manual shows an alternative. \r\n\r\nIt sounds like you need a custom `ExecutionExceptionHandler` that prints a stack trace followed by the usage help message.\r\n\r\n\r\n  [1]: https://picocli.info/#execute\r\n  [2]: https://picocli.info/#_migration\r\n  [3]: https://picocli.info/#_handling_errors\r\n  [4]: https://picocli.info/#_business_logic_exceptions","title":"picocli exception behavior changed?","body":"<p>One of the changes in picocli 4.x is the new <a href=\"https://picocli.info/#execute\" rel=\"nofollow noreferrer\">execution</a> framework. The user manual has a <a href=\"https://picocli.info/#_migration\" rel=\"nofollow noreferrer\">section on migration</a> that may be useful.</p>\n\n<p>By design, the <code>CommandLine::execute</code> method never throws an exception. So there is no need to surround the call to <code>CommandLine::execute</code> with a <code>try/catch</code> block (unless you need to catch an <code>Error</code> or <code>Throwable</code>).</p>\n\n<p>Instead, you can optionally specify custom exception handlers, like you already do in your example. These exception handlers is where you can show an error message to the users. (Perhaps a combination of what was in the previous ExceptionHandler and the logic that previously was in the <code>catch</code> block.)</p>\n\n<p>The <code>ParameterExceptionHandler</code> is invoked when the user provided invalid input. The default handler shows an error message, may suggest alternative spellings for options or subcommands that look like a typo, and finally displays the usage help message. The <a href=\"https://picocli.info/#_handling_errors\" rel=\"nofollow noreferrer\">Handling Errors</a> section of the user manual has an example <code>ShortErrorMessageHandler</code> that may be useful when the usage help message is so long that it obscures the error message.</p>\n\n<p>The <code>ExecutionExceptionHandler</code> is invoked when the business logic throws an exception. The default handler just rethrows the exception, which results in a stack trace being printed. The <a href=\"https://picocli.info/#_business_logic_exceptions\" rel=\"nofollow noreferrer\">Business Logic Exceptions</a> section of the user manual shows an alternative. </p>\n\n<p>It sounds like you need a custom <code>ExecutionExceptionHandler</code> that prints a stack trace followed by the usage help message.</p>\n"}],"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61004145,"answer_count":1,"score":3,"last_activity_date":1688086070,"creation_date":1585865466,"question_id":61001974,"body_markdown":"I&#39;m in the process of updating from picocli 3.9.6 to 4.2.0, and I&#39;m running into an issue when replacing old deprecated calls with the new versions.\r\n\r\nIn my original version, I had a code block like this:\r\n\r\n```java\r\ntry {\r\n    return commandLine.parseWithHandlers(\r\n            new RunLast().useOut(ps),\r\n            new ExceptionHandler(),\r\n            args);\r\n}\r\ncatch(Exception e) {\r\n    // handle exceptions\r\n}\r\n```\r\n\r\nThe `ExceptionHandler` handles both parameter and execution exceptions -- both are rethrown, but parameter exceptions get the help text added to the exception text. The catch would get hit in cases where, e.g., a command was given bad args. The catch would ensure the error was printed in the UI.\r\n\r\nI attempted to update it like this:\r\n\r\n```java\r\ntry {\r\n    commandLine.setOut(pw);\r\n    ExceptionHandler handler = new ExceptionHandler();\r\n    commandLine.setExecutionExceptionHandler(handler);\r\n    commandLine.setParameterExceptionHandler(handler);\r\n    commandLine.execute(args);\r\n    return commandLine.getExecutionResult();\r\n}\r\ncatch(Exception e) {\r\n    // handle exceptions\r\n}\r\n```\r\nWith this new version, exceptions are thrown as before, but they are no longer caught by the catch block after being rethrown by the `ExceptionHandler`. How can I catch these exceptions?","title":"picocli exception behavior changed?","body":"<p>I'm in the process of updating from picocli 3.9.6 to 4.2.0, and I'm running into an issue when replacing old deprecated calls with the new versions.</p>\n\n<p>In my original version, I had a code block like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    return commandLine.parseWithHandlers(\n            new RunLast().useOut(ps),\n            new ExceptionHandler(),\n            args);\n}\ncatch(Exception e) {\n    // handle exceptions\n}\n</code></pre>\n\n<p>The <code>ExceptionHandler</code> handles both parameter and execution exceptions -- both are rethrown, but parameter exceptions get the help text added to the exception text. The catch would get hit in cases where, e.g., a command was given bad args. The catch would ensure the error was printed in the UI.</p>\n\n<p>I attempted to update it like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    commandLine.setOut(pw);\n    ExceptionHandler handler = new ExceptionHandler();\n    commandLine.setExecutionExceptionHandler(handler);\n    commandLine.setParameterExceptionHandler(handler);\n    commandLine.execute(args);\n    return commandLine.getExecutionResult();\n}\ncatch(Exception e) {\n    // handle exceptions\n}\n</code></pre>\n\n<p>With this new version, exceptions are thrown as before, but they are no longer caught by the catch block after being rethrown by the <code>ExceptionHandler</code>. How can I catch these exceptions?</p>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688085093,"creation_date":1688085093,"answer_id":76585316,"question_id":76574565,"body_markdown":"I had previously thought that [`ValueAxis`][1] tick label orientation was limited by `setVerticalTickLabels()`. In this [discussion][2], you cite a forum [topic][3] that suggests a potential workaround.\r\n\r\nAs a proof of concept, based on this [example][4], the variation below illustrates the approach using a custom implementation of `refreshTicksHorizontal()`. Note:\r\n\r\n- The use of `setVerticalTickLabels(true)` prompts the axis to reserve space for the labels.\r\n\r\n- For expedience, the rotation angle is hard-coded; it should probably be made a constructor parameter.\r\n\r\n- The approach was only tested with horizontal orientation.\r\n\r\n- As the chart theme had already been applied in the `ChartFactory`, the example uses an `AttributedString` to decorate the axis label.\r\n\r\n[![Rotated Axis labels][5]][5]\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.font.TextAttribute;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.text.AttributedString;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.TimeZone;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.axis.DateTick;\r\nimport org.jfree.chart.axis.Tick;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\nimport org.jfree.data.time.Minute;\r\nimport org.jfree.data.time.TimeSeries;\r\nimport org.jfree.data.time.TimeSeriesCollection;\r\nimport org.jfree.data.xy.XYDataset;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/76574565/230513\r\n * @see https://stackoverflow.com/q/70071299/230513\r\n * @see https://stackoverflow.com/a/12481509/230513\r\n * @see https://stackoverflow.com/a/12481509/230513\r\n */\r\npublic class TimeTest {\r\n\r\n    private static XYDataset createDataset() throws ParseException {\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\n        TimeSeries series = new TimeSeries(&quot;Temperature&quot;);\r\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 12:10:00 PST 2021&quot;)), 72.5);\r\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 13:11:00 PST 2021&quot;)), 70.7);\r\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 14:12:00 PST 2021&quot;)), 70.1);\r\n        return new TimeSeriesCollection(series);\r\n    }\r\n\r\n    private static JFreeChart createChart(final XYDataset dataset) {\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        f.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n        JFreeChart chart = ChartFactory.createTimeSeriesChart\r\n(            &quot;Test&quot;, &quot;Time&quot;, &quot;Temperture &#176;F&quot;, dataset, true, true, false);\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setDefaultShapesVisible(true);\r\n        DateAxis domain = new DateAxis() {\r\n            //@see https://www.jfree.org/forum/viewtopic.php?t=25189\r\n            //todo paramterize angle\r\n            @Override\r\n            protected List refreshTicksHorizontal(Graphics2D g2, Rectangle2D dataArea, RectangleEdge edge) {\r\n                List ticks = super.refreshTicksHorizontal(g2, dataArea, edge);\r\n                List ret = new ArrayList();\r\n                for (Tick tick : (List&lt;Tick&gt;) ticks) {\r\n                    if (tick instanceof DateTick dateTick) {\r\n                        ret.add(new DateTick(dateTick.getDate(), dateTick.getText(),\r\n                            dateTick.getTextAnchor(), dateTick.getRotationAnchor(), -45));\r\n                    } else {\r\n                        ret.add(tick);\r\n                    }\r\n                }\r\n                return ret;\r\n            }\r\n        };\r\n        AttributedString as = new AttributedString(&quot;TimeN&quot;);\r\n        as.addAttribute(TextAttribute.SIZE, 16, 0, 5);\r\n        as.addAttribute(TextAttribute.WEIGHT, TextAttribute.WEIGHT_BOLD, 0, 5);\r\n        as.addAttribute(TextAttribute.SUPERSCRIPT, TextAttribute.SUPERSCRIPT_SUB, 4, 5);\r\n        domain.setAttributedLabel(as);\r\n        domain.setDateFormatOverride(f);\r\n        domain.setVerticalTickLabels(true);\r\n        plot.setDomainAxis(domain);\r\n        return chart;\r\n    }\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n\r\n        JFrame f = new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        XYDataset dataset = createDataset();\r\n        JFreeChart chart = createChart(dataset);\r\n        ChartPanel chartPanel = new ChartPanel(chart) {\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 250);\r\n            }\r\n        };\r\n        f.add(chartPanel);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/ValueAxis.html\r\n  [2]: https://github.com/jfree/jfreechart/discussions/372\r\n  [3]: https://www.jfree.org/forum/viewtopic.php?t=25189\r\n  [4]: https://stackoverflow.com/a/70086403/230513\r\n  [5]: https://i.stack.imgur.com/11q53.png","title":"How to rotate x-axis labels on JFreeChart xyPlot","body":"<p>I had previously thought that <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/ValueAxis.html\" rel=\"nofollow noreferrer\"><code>ValueAxis</code></a> tick label orientation was limited by <code>setVerticalTickLabels()</code>. In this <a href=\"https://github.com/jfree/jfreechart/discussions/372\" rel=\"nofollow noreferrer\">discussion</a>, you cite a forum <a href=\"https://www.jfree.org/forum/viewtopic.php?t=25189\" rel=\"nofollow noreferrer\">topic</a> that suggests a potential workaround.</p>\n<p>As a proof of concept, based on this <a href=\"https://stackoverflow.com/a/70086403/230513\">example</a>, the variation below illustrates the approach using a custom implementation of <code>refreshTicksHorizontal()</code>. Note:</p>\n<ul>\n<li><p>The use of <code>setVerticalTickLabels(true)</code> prompts the axis to reserve space for the labels.</p>\n</li>\n<li><p>For expedience, the rotation angle is hard-coded; it should probably be made a constructor parameter.</p>\n</li>\n<li><p>The approach was only tested with horizontal orientation.</p>\n</li>\n<li><p>As the chart theme had already been applied in the <code>ChartFactory</code>, the example uses an <code>AttributedString</code> to decorate the axis label.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/11q53.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11q53.png\" alt=\"Rotated Axis labels\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.font.TextAttribute;\nimport java.awt.geom.Rectangle2D;\nimport java.text.AttributedString;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.TimeZone;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.axis.DateTick;\nimport org.jfree.chart.axis.Tick;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.chart.ui.RectangleEdge;\nimport org.jfree.data.time.Minute;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\nimport org.jfree.data.xy.XYDataset;\n\n/**\n * @see https://stackoverflow.com/q/76574565/230513\n * @see https://stackoverflow.com/q/70071299/230513\n * @see https://stackoverflow.com/a/12481509/230513\n * @see https://stackoverflow.com/a/12481509/230513\n */\npublic class TimeTest {\n\n    private static XYDataset createDataset() throws ParseException {\n        SimpleDateFormat f = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\n        TimeSeries series = new TimeSeries(&quot;Temperature&quot;);\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 12:10:00 PST 2021&quot;)), 72.5);\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 13:11:00 PST 2021&quot;)), 70.7);\n        series.add(new Minute(f.parse(&quot;Sat Nov 20 14:12:00 PST 2021&quot;)), 70.1);\n        return new TimeSeriesCollection(series);\n    }\n\n    private static JFreeChart createChart(final XYDataset dataset) {\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm&quot;);\n        f.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\n        JFreeChart chart = ChartFactory.createTimeSeriesChart\n(            &quot;Test&quot;, &quot;Time&quot;, &quot;Temperture °F&quot;, dataset, true, true, false);\n        XYPlot plot = (XYPlot) chart.getPlot();\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setDefaultShapesVisible(true);\n        DateAxis domain = new DateAxis() {\n            //@see https://www.jfree.org/forum/viewtopic.php?t=25189\n            //todo paramterize angle\n            @Override\n            protected List refreshTicksHorizontal(Graphics2D g2, Rectangle2D dataArea, RectangleEdge edge) {\n                List ticks = super.refreshTicksHorizontal(g2, dataArea, edge);\n                List ret = new ArrayList();\n                for (Tick tick : (List&lt;Tick&gt;) ticks) {\n                    if (tick instanceof DateTick dateTick) {\n                        ret.add(new DateTick(dateTick.getDate(), dateTick.getText(),\n                            dateTick.getTextAnchor(), dateTick.getRotationAnchor(), -45));\n                    } else {\n                        ret.add(tick);\n                    }\n                }\n                return ret;\n            }\n        };\n        AttributedString as = new AttributedString(&quot;TimeN&quot;);\n        as.addAttribute(TextAttribute.SIZE, 16, 0, 5);\n        as.addAttribute(TextAttribute.WEIGHT, TextAttribute.WEIGHT_BOLD, 0, 5);\n        as.addAttribute(TextAttribute.SUPERSCRIPT, TextAttribute.SUPERSCRIPT_SUB, 4, 5);\n        domain.setAttributedLabel(as);\n        domain.setDateFormatOverride(f);\n        domain.setVerticalTickLabels(true);\n        plot.setDomainAxis(domain);\n        return chart;\n    }\n\n    public static void main(String[] args) throws ParseException {\n\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        XYDataset dataset = createDataset();\n        JFreeChart chart = createChart(dataset);\n        ChartPanel chartPanel = new ChartPanel(chart) {\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(400, 250);\n            }\n        };\n        f.add(chartPanel);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76585316,"answer_count":1,"score":-1,"last_activity_date":1688085093,"creation_date":1687965499,"question_id":76574565,"body_markdown":"I want to display the x-axis labels at a 45 degree angle, similar to this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n The examples I&#39;ve found all assume that getDomainAxis() returns a CategoryAxis, which has a setCategoryLabelPositions() method.  But in an XY Plot, I get a ValueAxis.  There&#39;s a method for displaying the labels vertical, but not rotating at an arbitrary angle.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KsOKm.png\r\n\r\n\r\n# Update\r\nLooking at the code for `ValueAxis.drawTickMarksAndLabels()`, there does seem to be mention of an angle on the `ValueTick` object, but I&#39;m not sure how to get access to that or where to set it","title":"How to rotate x-axis labels on JFreeChart xyPlot","body":"<p>I want to display the x-axis labels at a 45 degree angle, similar to this</p>\n<p><a href=\"https://i.stack.imgur.com/KsOKm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KsOKm.png\" alt=\"enter image description here\" /></a></p>\n<p>The examples I've found all assume that getDomainAxis() returns a CategoryAxis, which has a setCategoryLabelPositions() method.  But in an XY Plot, I get a ValueAxis.  There's a method for displaying the labels vertical, but not rotating at an arbitrary angle.</p>\n<h1>Update</h1>\n<p>Looking at the code for <code>ValueAxis.drawTickMarksAndLabels()</code>, there does seem to be mention of an angle on the <code>ValueTick</code> object, but I'm not sure how to get access to that or where to set it</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9655,"page":337,"page_size":100}
