{"items":[{"tags":["java","selenium","testing","drag"],"answers":[{"tags":[],"owner":{"account_id":10670149,"reputation":58,"user_id":7855464,"display_name":"Mayur Dhumal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518584962,"creation_date":1518584962,"answer_id":48780046,"question_id":48775864,"body_markdown":"Have you tried something like this:\r\n\r\n    // Create object of actions class\r\n    Actions act=new Actions(driver);\r\n     \r\n    // find element which we need to drag\r\n    WebElement drag=driver.findElement(By.xpath(&quot;.//*[@id=&#39;draggable&#39;]&quot;));\r\n     \r\n    // find element which we need to drop\r\n    WebElement drop=driver.findElement(By.xpath(&quot;.//*[@id=&#39;droppable&#39;]&quot;));\r\n     \r\n    // this will drag element to destination\r\n    act.dragAndDrop(drag, drop).build().perform();","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>Have you tried something like this:</p>\n\n<pre><code>// Create object of actions class\nActions act=new Actions(driver);\n\n// find element which we need to drag\nWebElement drag=driver.findElement(By.xpath(\".//*[@id='draggable']\"));\n\n// find element which we need to drop\nWebElement drop=driver.findElement(By.xpath(\".//*[@id='droppable']\"));\n\n// this will drag element to destination\nact.dragAndDrop(drag, drop).build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518586121,"creation_date":1518586121,"answer_id":48780242,"question_id":48775864,"body_markdown":"I have tried this and it works perfectly for me:\r\n\r\n    public class DragAndDrop {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Ranosys\\\\workspace\\\\MyTest\\\\chromedriver.exe&quot;);\r\n             WebDriver driver = new ChromeDriver();\r\n             driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n          \t  WebDriverWait wait=new WebDriverWait(driver,50 );\r\n             \r\n             driver.manage().window().maximize();\r\n             driver.get(&quot;http://demo.guru99.com/test/drag_drop.html&quot;);\r\n           //Element which needs to drag.    \t\t\r\n         \tWebElement From=driver.findElement(By.xpath(&quot;//*[@id=&#39;credit2&#39;]/a&quot;));\t\r\n          \r\n          //Element on which need to drop.\t\t\r\n          WebElement To=driver.findElement(By.xpath(&quot;//*[@id=&#39;bank&#39;]/li&quot;));\t\t\t\t\t\r\n          \t\t\r\n          //Using Action class for drag and drop.\t\t\r\n          Actions act=new Actions(driver);\t\t\t\t\t\r\n    \r\n    \t//Dragged and dropped.\t\t\r\n          act.dragAndDrop(From, To).build().perform();\t\r\n    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>I have tried this and it works perfectly for me:</p>\n\n<pre><code>public class DragAndDrop {\n\n    public static void main(String[] args) {\n         System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\Ranosys\\\\workspace\\\\MyTest\\\\chromedriver.exe\");\n         WebDriver driver = new ChromeDriver();\n         driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n          WebDriverWait wait=new WebDriverWait(driver,50 );\n\n         driver.manage().window().maximize();\n         driver.get(\"http://demo.guru99.com/test/drag_drop.html\");\n       //Element which needs to drag.           \n        WebElement From=driver.findElement(By.xpath(\"//*[@id='credit2']/a\"));   \n\n      //Element on which need to drop.      \n      WebElement To=driver.findElement(By.xpath(\"//*[@id='bank']/li\"));                 \n\n      //Using Action class for drag and drop.       \n      Actions act=new Actions(driver);                  \n\n    //Dragged and dropped.      \n      act.dragAndDrop(From, To).build().perform();  \n\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12941430,"reputation":33,"user_id":9357122,"display_name":"Rickie Thornley"},"score":1,"creation_date":1518799158,"post_id":48781939,"comment_id":84666439,"body_markdown":"I think I click the checkmark - used stack overflow for 2 years now, first post ever lol.","body":"I think I click the checkmark - used stack overflow for 2 years now, first post ever lol."},{"owner":{"account_id":235788,"reputation":2285,"user_id":502846,"display_name":"diachedelic"},"score":1,"creation_date":1552455754,"post_id":48781939,"comment_id":97010824,"body_markdown":"Apparently anything other than `buttonUp` after `buttonDown` [is undefined behaviour](https://github.com/SeleniumHQ/selenium/wiki/JsonWireProtocol#sessionsessionidbuttondown).  However this trick worked for me!","body":"Apparently anything other than <code>buttonUp</code> after <code>buttonDown</code> <a href=\"https://github.com/SeleniumHQ/selenium/wiki/JsonWireProtocol#sessionsessionidbuttondown\" rel=\"nofollow noreferrer\">is undefined behaviour</a>.  However this trick worked for me!"}],"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1518593931,"creation_date":1518593931,"answer_id":48781939,"question_id":48775864,"body_markdown":"    new Actions(driver)\r\n    \t\t\t\t.moveToElement(source)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.clickAndHold(source)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.moveByOffset(1, 0)\r\n    \t\t\t\t.moveToElement(destination)\r\n    \t\t\t\t.moveByOffset(1, 0)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.release().perform();","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<pre><code>new Actions(driver)\n                .moveToElement(source)\n                .pause(Duration.ofSeconds(1))\n                .clickAndHold(source)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(1, 0)\n                .moveToElement(destination)\n                .moveByOffset(1, 0)\n                .pause(Duration.ofSeconds(1))\n                .release().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365679,"reputation":41,"user_id":710755,"display_name":"Khalil Fazal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675614836,"creation_date":1675614836,"answer_id":75353834,"question_id":48775864,"body_markdown":"None of these solutions worked for me. @Fenio&#39;s suggestion seems like the greatest hope for my use case but I got no luck. Instead I decided to use selenium to get the coords of the elements and then use pyautogui (which internally uses Xlib) to do the clicking and mouse movements while the non-headless webdriver is running in kiosk mode. This roundabout solution worked for me.\r\n\r\n(I&#39;m using selenium for python btw)","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>None of these solutions worked for me. @Fenio's suggestion seems like the greatest hope for my use case but I got no luck. Instead I decided to use selenium to get the coords of the elements and then use pyautogui (which internally uses Xlib) to do the clicking and mouse movements while the non-headless webdriver is running in kiosk mode. This roundabout solution worked for me.</p>\n<p>(I'm using selenium for python btw)</p>\n"}],"owner":{"account_id":12941430,"reputation":33,"user_id":9357122,"display_name":"Rickie Thornley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8999,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48781939,"answer_count":4,"score":3,"last_activity_date":1675614836,"creation_date":1518556986,"question_id":48775864,"body_markdown":"So I am trying to automated a list element that can be clicked, and dragged to different portions of the ol elements, and then saved. But the test will oly go as far as to hold the element. it will not move by offset, and it will not move to the target element. \r\n\r\nChrome webdriver, Java/Selenium\r\n\r\n    public void clickAndDragListElement() {\r\n        Actions hold = new Actions(driver);\r\n\t\thold.clickAndHold(targetHoldElement)\r\n\t\t    .moveToElement(targetDestinationElement)\r\n\t\t\t.release(targetHoldElement)\r\n\t\t\t.build()\r\n\t\t\t.perform();\r\n\t}\r\n\r\n(WebElements are defined outside the element)\r\n\r\n\r\n","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>So I am trying to automated a list element that can be clicked, and dragged to different portions of the ol elements, and then saved. But the test will oly go as far as to hold the element. it will not move by offset, and it will not move to the target element. </p>\n\n<p>Chrome webdriver, Java/Selenium</p>\n\n<pre><code>public void clickAndDragListElement() {\n    Actions hold = new Actions(driver);\n    hold.clickAndHold(targetHoldElement)\n        .moveToElement(targetDestinationElement)\n        .release(targetHoldElement)\n        .build()\n        .perform();\n}\n</code></pre>\n\n<p>(WebElements are defined outside the element)</p>\n"},{"tags":["java","mongodb","reactive-streams"],"answers":[{"comments":[{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1674566354,"post_id":75220017,"comment_id":132737226,"body_markdown":"Thanks for your detailed reply! Unfortunately, I get an error message within my IDE with &#39;Mono&#39;: Cannot access reactor.core.publisher.Mono","body":"Thanks for your detailed reply! Unfortunately, I get an error message within my IDE with &#39;Mono&#39;: Cannot access reactor.core.publisher.Mono"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1674568744,"post_id":75220017,"comment_id":132738110,"body_markdown":"Fixed it. I didn&#39;t imported the reactor api, only the springframework. But how do I cast Mono&lt;Boolean&gt; to boolean?","body":"Fixed it. I didn&#39;t imported the reactor api, only the springframework. But how do I cast Mono&lt;Boolean&gt; to boolean?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":1,"creation_date":1674569027,"post_id":75220017,"comment_id":132738232,"body_markdown":"@Jackolix you can use `subscribe()`, or `block()` methods. https://stackoverflow.com/questions/47179937/how-to-get-string-from-monostring-in-reactive-java","body":"@Jackolix you can use <code>subscribe()</code>, or <code>block()</code> methods. <a href=\"https://stackoverflow.com/questions/47179937/how-to-get-string-from-monostring-in-reactive-java\" title=\"how to get string from monostring in reactive java\">stackoverflow.com/questions/47179937/&hellip;</a>"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675434274,"post_id":75220017,"comment_id":132933965,"body_markdown":"@VolodyaLombrozo &quot;another&quot; solution 1 would not work, reactor does not allow null values, so if publisher completes with empty, there will be no null value","body":"@VolodyaLombrozo &quot;another&quot; solution 1 would not work, reactor does not allow null values, so if publisher completes with empty, there will be no null value"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1675437088,"post_id":75220017,"comment_id":132934878,"body_markdown":"@kerbermeister Thank you. Have you check that? If it is so, I&#39;ll update my answer","body":"@kerbermeister Thank you. Have you check that? If it is so, I&#39;ll update my answer"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675438909,"post_id":75220017,"comment_id":132935558,"body_markdown":"@VolodyaLombrozo of course. When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty.","body":"@VolodyaLombrozo of course. When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty."}],"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675613422,"creation_date":1674555178,"answer_id":75220017,"question_id":75219437,"body_markdown":"\r\nTo check if a document exists you can use the `exists()` method from the `ReactiveMongoTemplate` class. The method takes a `Query` object as its parameter, which is used to specify the conditions to match the document. You can read about the `exists()` method right [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#exists(org.springframework.data.mongodb.core.query.Query,java.lang.Class)).\r\n\r\nHere is an example of how you can use the `exists()` method to check if a document with a specific `id` field exists in a collection called `docs`:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Boolean&gt; exists = reactiveMongoTemplate.exists(query, “docs”);\r\n```\r\n\r\nWhere `query` is  `org.springframework.data.mongodb.core.query.Query` and `reactiveMongoTemplate` is `org.springframework.data.mongodb.core.ReactiveMongoTemplate` \r\n___\r\nAnother solutions that you mentioned actually have to work too, for example:\r\n\r\n1. Using `findOne()` method:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Document&gt; documentMono = reactiveMongoTemplate.findOne(query, Document.class, &quot;docs&quot;);\r\ndocumentMono.subscribe(doc -&gt; {\r\n    if (doc != null) {\r\n        System.out.println(&quot;Document exists!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Document does not exist!&quot;);\r\n    }\r\n});\r\n```\r\nYou can read about `findOne()` method [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#findOne(org.springframework.data.mongodb.core.query.Query,java.lang.Class)).\r\n\r\n**Update for [1]: findOne()**:\r\n\r\nAs [kerbermeister](https://stackoverflow.com/users/14183092/kerbermeister) mentioned, That approach will not work:\r\n&gt; reactor does not allow null values, so if publisher completes with empty, there will be no null value \r\n\r\nand \r\n&gt; When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty.\r\n\r\n2. Using `count()` method:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Long&gt; count = reactiveMongoTemplate.count(query, &quot;docs&quot;);\r\ncount.subscribe(cnt -&gt; {\r\n    if (cnt &gt; 0) {\r\n        System.out.println(&quot;Document exists!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Document does not exist!&quot;);\r\n    }\r\n});\r\n```\r\nYou can read about `count()` method [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#count(org.springframework.data.mongodb.core.query.Query,java.lang.Class))","title":"Check if Document in MongoDB exists, using reactive-streams","body":"<p>To check if a document exists you can use the <code>exists()</code> method from the <code>ReactiveMongoTemplate</code> class. The method takes a <code>Query</code> object as its parameter, which is used to specify the conditions to match the document. You can read about the <code>exists()</code> method right <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#exists(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is an example of how you can use the <code>exists()</code> method to check if a document with a specific <code>id</code> field exists in a collection called <code>docs</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Boolean&gt; exists = reactiveMongoTemplate.exists(query, “docs”);\n</code></pre>\n<p>Where <code>query</code> is  <code>org.springframework.data.mongodb.core.query.Query</code> and <code>reactiveMongoTemplate</code> is <code>org.springframework.data.mongodb.core.ReactiveMongoTemplate</code></p>\n<hr />\n<p>Another solutions that you mentioned actually have to work too, for example:</p>\n<ol>\n<li>Using <code>findOne()</code> method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Document&gt; documentMono = reactiveMongoTemplate.findOne(query, Document.class, &quot;docs&quot;);\ndocumentMono.subscribe(doc -&gt; {\n    if (doc != null) {\n        System.out.println(&quot;Document exists!&quot;);\n    } else {\n        System.out.println(&quot;Document does not exist!&quot;);\n    }\n});\n</code></pre>\n<p>You can read about <code>findOne()</code> method <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#findOne(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Update for [1]: findOne()</strong>:</p>\n<p>As <a href=\"https://stackoverflow.com/users/14183092/kerbermeister\">kerbermeister</a> mentioned, That approach will not work:</p>\n<blockquote>\n<p>reactor does not allow null values, so if publisher completes with empty, there will be no null value</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty.</p>\n</blockquote>\n<ol start=\"2\">\n<li>Using <code>count()</code> method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Long&gt; count = reactiveMongoTemplate.count(query, &quot;docs&quot;);\ncount.subscribe(cnt -&gt; {\n    if (cnt &gt; 0) {\n        System.out.println(&quot;Document exists!&quot;);\n    } else {\n        System.out.println(&quot;Document does not exist!&quot;);\n    }\n});\n</code></pre>\n<p>You can read about <code>count()</code> method <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#count(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75220017,"answer_count":1,"score":1,"last_activity_date":1675613422,"creation_date":1674551721,"question_id":75219437,"body_markdown":"I&#39;m trying to check if a document already exits, but I&#39;m having some problems.\r\nI tried different solutions:\r\n\r\n 1. Using `findOne()` and checking if output is `null` (doesn’t work)\r\n 2. Using `countDocument()` (doesn’t work)\r\nThe error that is saw the most is that I can’t cast for example: `Publisher` to `long` or `Publisher` to `Document`\r\n\r\nThanks.\r\n\r\nMethod 1:\r\n```java\r\nDocument d = collection.find(eq(&quot;UUID&quot;, id)).first();\r\nif (d == null) {\r\n    System.out.println(&quot;document = null&quot;);\r\n    return;\r\n}\r\nSystem.out.println(&quot;document exists&quot;);\r\n```\r\n\r\nMethod 2:\r\n```java\r\nif (collection.countDocuments(query) &lt; 1) {\r\n    System.out.println(&quot;Document exists&quot;);\r\n}\r\n```","title":"Check if Document in MongoDB exists, using reactive-streams","body":"<p>I'm trying to check if a document already exits, but I'm having some problems.\nI tried different solutions:</p>\n<ol>\n<li>Using <code>findOne()</code> and checking if output is <code>null</code> (doesn’t work)</li>\n<li>Using <code>countDocument()</code> (doesn’t work)\nThe error that is saw the most is that I can’t cast for example: <code>Publisher</code> to <code>long</code> or <code>Publisher</code> to <code>Document</code></li>\n</ol>\n<p>Thanks.</p>\n<p>Method 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document d = collection.find(eq(&quot;UUID&quot;, id)).first();\nif (d == null) {\n    System.out.println(&quot;document = null&quot;);\n    return;\n}\nSystem.out.println(&quot;document exists&quot;);\n</code></pre>\n<p>Method 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (collection.countDocuments(query) &lt; 1) {\n    System.out.println(&quot;Document exists&quot;);\n}\n</code></pre>\n"},{"tags":["java","kotlin","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":0,"creation_date":1456838809,"post_id":34642254,"comment_id":59122959,"body_markdown":"In cases where you have no choice but to use `collect(Collectors.toList())` or similar, you might hit this issue:  http://stackoverflow.com/a/35722167/3679676 (the issue, with workarounds)","body":"In cases where you have no choice but to use <code>collect(Collectors.toList())</code> or similar, you might hit this issue:  <a href=\"http://stackoverflow.com/a/35722167/3679676\">stackoverflow.com/a/35722167/3679676</a> (the issue, with workarounds)"}],"answers":[{"comments":[{"owner":{"account_id":40635,"reputation":2312,"user_id":117750,"accept_rate":78,"display_name":"or9ob"},"score":0,"creation_date":1458882586,"post_id":34642255,"comment_id":60061364,"body_markdown":"Is there an equivalent to Java8&#39;s parallelStream() in Kotlin?","body":"Is there an equivalent to Java8&#39;s parallelStream() in Kotlin?"},{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":0,"creation_date":1459109215,"post_id":34642255,"comment_id":60133708,"body_markdown":"The answer about immutable collections and Kotlin is the same answer for @arnab here for parallel, other libraries exist, use them: http://stackoverflow.com/a/34476880/3679676","body":"The answer about immutable collections and Kotlin is the same answer for @arnab here for parallel, other libraries exist, use them: <a href=\"http://stackoverflow.com/a/34476880/3679676\">stackoverflow.com/a/34476880/3679676</a>"},{"owner":{"account_id":90167,"reputation":164,"user_id":2711105,"accept_rate":57,"display_name":"roborative"},"score":2,"creation_date":1477782023,"post_id":34642255,"comment_id":67904467,"body_markdown":"@arnab You might want to look at the Kotlin support for Java 7/8 features (in particular, kotlinx-support-jdk8) that was made available earlier this year: https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625","body":"@arnab You might want to look at the Kotlin support for Java 7/8 features (in particular, kotlinx-support-jdk8) that was made available earlier this year: <a href=\"https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625</a>"},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":1,"creation_date":1521737047,"post_id":34642255,"comment_id":85870083,"body_markdown":"Is it really idiomatic to use 3 different &quot;it&quot; references in one statement?","body":"Is it really idiomatic to use 3 different &quot;it&quot; references in one statement?"},{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":2,"creation_date":1521844488,"post_id":34642255,"comment_id":85921178,"body_markdown":"It is a preference, in the samples above I was keeping them short and only providing a local name for a parameter if necessary.","body":"It is a preference, in the samples above I was keeping them short and only providing a local name for a parameter if necessary."}],"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":5,"down_vote_count":1,"up_vote_count":308,"is_accepted":true,"score":307,"last_activity_date":1675613312,"creation_date":1452112475,"answer_id":34642255,"question_id":34642254,"body_markdown":"There are functions in the Kotlin stdlib for average, count, distinct, filtering, finding, grouping, joining, mapping, min, max, partitioning, slicing, sorting, summing, to/from arrays, to/from lists, to/from maps, union, co-iteration, all the functional paradigms, and more.  So you can use those to create little 1-liners and there is no need to use the more complicated syntax of Java 8.  \r\n\r\n&lt;s&gt;*I think the only thing missing from the built-in Java 8 `Collectors` class is summarization (but in [another answer to this question](https://stackoverflow.com/a/34661483/3679676) is a simple solution)*.&lt;/s&gt;\r\n\r\n&lt;s&gt;One thing missing from both is batching by count, which is seen in [another Stack Overflow answer](https://stackoverflow.com/a/34504231/3679676) and has a simple answer as well. Another interesting case is this one also from Stack Overflow: [Idiomatic way to split sequence into three lists using Kotlin](https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin).  And if you want to create something like `Stream.collect` for another purpose, see [Custom Stream.collect in Kotlin]( https://stackoverflow.com/questions/34639208)&lt;/s&gt;\r\n\r\n**EDIT 2017-08-11:** Chunked/windowed collection operations were added in Kotlin 1.2 M2, see https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\r\n\r\n---\r\n\r\nIt is always good to explore the [API Reference for kotlin.collections](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html) as a whole before creating new functions that might already exist there.\r\n\r\nHere are some conversions from Java 8 `Stream.collect` examples to the equivalent in Kotlin:\r\n\r\n**Accumulate names into a List**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:  \r\n    List&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val list = people.map { it.name }  // toList() not needed\r\n\r\n**Convert elements to strings and concatenate them, separated by commas**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String joined = things.stream()\r\n                          .map(Object::toString)\r\n                          .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val joined = things.joinToString(&quot;, &quot;)\r\n\r\n**Compute sum of salaries of employee**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    int total = employees.stream()\r\n                         .collect(Collectors.summingInt(Employee::getSalary)));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val total = employees.sumBy { it.salary }\r\n\r\n**Group employees by department**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Department, List&lt;Employee&gt;&gt; byDept\r\n         = employees.stream()\r\n                    .collect(Collectors.groupingBy(Employee::getDepartment));\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val byDept = employees.groupBy { it.department }\r\n\r\n**Compute sum of salaries by department**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Department, Integer&gt; totalByDept\r\n         = employees.stream()\r\n                    .collect(Collectors.groupingBy(Employee::getDepartment,\r\n                         Collectors.summingInt(Employee::getSalary)));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\r\n\r\n**Partition students into passing and failing**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Boolean, List&lt;Student&gt;&gt; passingFailing =\r\n         students.stream()\r\n                 .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val passingFailing = students.partition { it.grade &gt;= PASS_THRESHOLD }\r\n\r\n**Names of male members**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; namesOfMaleMembers = roster\r\n        .stream()\r\n        .filter(p -&gt; p.getGender() == Person.Sex.MALE)\r\n        .map(p -&gt; p.getName())\r\n        .collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val namesOfMaleMembers = roster.filter { it.gender == Person.Sex.MALE }.map { it.name }\r\n\r\n**Group names of members in roster by gender**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Person.Sex, List&lt;String&gt;&gt; namesByGender =\r\n          roster.stream().collect(\r\n            Collectors.groupingBy(\r\n                Person::getGender,                      \r\n                Collectors.mapping(\r\n                    Person::getName,\r\n                    Collectors.toList())));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val namesByGender = roster.groupBy { it.gender }.mapValues { it.value.map { it.name } }   \r\n\r\n**Filter a list to another list**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; filtered = items.stream()\r\n        .filter( item -&gt; item.startsWith(&quot;o&quot;) )\r\n        .collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val filtered = items.filter { it.startsWith(&#39;o&#39;) } \r\n\r\n**Finding shortest string a list**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String shortest = items.stream()\r\n        .min(Comparator.comparing(item -&gt; item.length()))\r\n        .get();\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val shortest = items.minBy { it.length }\r\n\r\n**Counting items in a list after filter is applied**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    long count = items.stream().filter( item -&gt; item.startsWith(&quot;t&quot;)).count();\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val count = items.filter { it.startsWith(&#39;t&#39;) }.size\r\n    // but better to not filter, but count with a predicate\r\n    val count = items.count { it.startsWith(&#39;t&#39;) }\r\n\r\nand on it goes...  In all cases, no special fold, reduce, or other functionality was required to mimic `Stream.collect`.  If you have further use cases, add them in comments and we can see!\r\n\r\n## About laziness ##\r\n\r\nIf you want to lazy process a chain, you can convert to a `Sequence` using `asSequence()` before the chain.  At the end of the chain of functions, you usually end up with a `Sequence` as well.  Then you can use `toList()`, `toSet()`, `toMap()` or some other function to materialize the `Sequence` at the end.\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // switch to and from lazy\r\n    val someList = items.asSequence().filter { ... }.take(10).map { ... }.toList()\r\n  \r\n    // switch to lazy, but sorted() brings us out again at the end\r\n    val someList = items.asSequence().filter { ... }.take(10).map { ... }.sorted()\r\n\r\n## Why are there no Types?!? ##\r\n\r\nYou will notice the Kotlin examples do not specify the types.  This is because Kotlin has full type inference and is completely type safe at compile time.  More so than Java because it also has nullable types and can help prevent the dreaded NPE.  So this in Kotlin:\r\n\r\n    val someList = people.filter { it.age &lt;= 30 }.map { it.name }\r\n\r\nis the same as:\r\n \r\n    val someList: List&lt;String&gt; = people.filter { it.age &lt;= 30 }.map { it.name }\r\n\r\nBecause Kotlin knows what `people` is, and that `people.age` is `Int` therefore the filter expression only allows comparison to an `Int`, and that `people.name` is a `String` therefore the `map` step produces a `List&lt;String&gt;` (readonly `List` of `String`).\r\n\r\nNow, if `people` were possibly `null`, as-in a `List&lt;People&gt;?` then:\r\n\r\n    val someList = people?.filter { it.age &lt;= 30 }?.map { it.name }\r\n\r\nReturns a `List&lt;String&gt;?` that would need to be null checked (*or use one of the other Kotlin operators for nullable values, see this [Kotlin idiomatic way to deal with nullable values](https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o) and also [Idiomatic way of handling nullable or empty list in Kotlin](https://stackoverflow.com/questions/26341225/idiomatic-way-of-handling-nullable-or-empty-list-in-kotlin)*)\r\n\r\n## See also: ##\r\n\r\n - API Reference for [extension functions for Iterable](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/index.html)\r\n - API reference for [extension functions for Array](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-array/index.html)\r\n - API reference for [extension functions for List](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-list/index.html)\r\n - API reference for [extension functions to Map](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-map/index.html)\r\n\r\n","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>There are functions in the Kotlin stdlib for average, count, distinct, filtering, finding, grouping, joining, mapping, min, max, partitioning, slicing, sorting, summing, to/from arrays, to/from lists, to/from maps, union, co-iteration, all the functional paradigms, and more.  So you can use those to create little 1-liners and there is no need to use the more complicated syntax of Java 8.</p>\n<p><s><em>I think the only thing missing from the built-in Java 8 <code>Collectors</code> class is summarization (but in <a href=\"https://stackoverflow.com/a/34661483/3679676\">another answer to this question</a> is a simple solution)</em>.</s></p>\n<p><s>One thing missing from both is batching by count, which is seen in <a href=\"https://stackoverflow.com/a/34504231/3679676\">another Stack Overflow answer</a> and has a simple answer as well. Another interesting case is this one also from Stack Overflow: <a href=\"https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin\">Idiomatic way to split sequence into three lists using Kotlin</a>.  And if you want to create something like <code>Stream.collect</code> for another purpose, see <a href=\"https://stackoverflow.com/questions/34639208\">Custom Stream.collect in Kotlin</a></s></p>\n<p><strong>EDIT 2017-08-11:</strong> Chunked/windowed collection operations were added in Kotlin 1.2 M2, see <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/</a></p>\n<hr />\n<p>It is always good to explore the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">API Reference for kotlin.collections</a> as a whole before creating new functions that might already exist there.</p>\n<p>Here are some conversions from Java 8 <code>Stream.collect</code> examples to the equivalent in Kotlin:</p>\n<p><strong>Accumulate names into a List</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:  \nList&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval list = people.map { it.name }  // toList() not needed\n</code></pre>\n<p><strong>Convert elements to strings and concatenate them, separated by commas</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString joined = things.stream()\n                      .map(Object::toString)\n                      .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval joined = things.joinToString(&quot;, &quot;)\n</code></pre>\n<p><strong>Compute sum of salaries of employee</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nint total = employees.stream()\n                     .collect(Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval total = employees.sumBy { it.salary }\n</code></pre>\n<p><strong>Group employees by department</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval byDept = employees.groupBy { it.department }\n</code></pre>\n<p><strong>Compute sum of salaries by department</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, Integer&gt; totalByDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment,\n                     Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n<p><strong>Partition students into passing and failing</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Boolean, List&lt;Student&gt;&gt; passingFailing =\n     students.stream()\n             .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval passingFailing = students.partition { it.grade &gt;= PASS_THRESHOLD }\n</code></pre>\n<p><strong>Names of male members</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; namesOfMaleMembers = roster\n    .stream()\n    .filter(p -&gt; p.getGender() == Person.Sex.MALE)\n    .map(p -&gt; p.getName())\n    .collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval namesOfMaleMembers = roster.filter { it.gender == Person.Sex.MALE }.map { it.name }\n</code></pre>\n<p><strong>Group names of members in roster by gender</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Person.Sex, List&lt;String&gt;&gt; namesByGender =\n      roster.stream().collect(\n        Collectors.groupingBy(\n            Person::getGender,                      \n            Collectors.mapping(\n                Person::getName,\n                Collectors.toList())));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval namesByGender = roster.groupBy { it.gender }.mapValues { it.value.map { it.name } }   \n</code></pre>\n<p><strong>Filter a list to another list</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; filtered = items.stream()\n    .filter( item -&gt; item.startsWith(&quot;o&quot;) )\n    .collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval filtered = items.filter { it.startsWith('o') } \n</code></pre>\n<p><strong>Finding shortest string a list</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString shortest = items.stream()\n    .min(Comparator.comparing(item -&gt; item.length()))\n    .get();\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval shortest = items.minBy { it.length }\n</code></pre>\n<p><strong>Counting items in a list after filter is applied</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nlong count = items.stream().filter( item -&gt; item.startsWith(&quot;t&quot;)).count();\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval count = items.filter { it.startsWith('t') }.size\n// but better to not filter, but count with a predicate\nval count = items.count { it.startsWith('t') }\n</code></pre>\n<p>and on it goes...  In all cases, no special fold, reduce, or other functionality was required to mimic <code>Stream.collect</code>.  If you have further use cases, add them in comments and we can see!</p>\n<h2>About laziness</h2>\n<p>If you want to lazy process a chain, you can convert to a <code>Sequence</code> using <code>asSequence()</code> before the chain.  At the end of the chain of functions, you usually end up with a <code>Sequence</code> as well.  Then you can use <code>toList()</code>, <code>toSet()</code>, <code>toMap()</code> or some other function to materialize the <code>Sequence</code> at the end.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// switch to and from lazy\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.toList()\n\n// switch to lazy, but sorted() brings us out again at the end\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.sorted()\n</code></pre>\n<h2>Why are there no Types?!?</h2>\n<p>You will notice the Kotlin examples do not specify the types.  This is because Kotlin has full type inference and is completely type safe at compile time.  More so than Java because it also has nullable types and can help prevent the dreaded NPE.  So this in Kotlin:</p>\n<pre><code>val someList = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n<p>is the same as:</p>\n<pre><code>val someList: List&lt;String&gt; = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n<p>Because Kotlin knows what <code>people</code> is, and that <code>people.age</code> is <code>Int</code> therefore the filter expression only allows comparison to an <code>Int</code>, and that <code>people.name</code> is a <code>String</code> therefore the <code>map</code> step produces a <code>List&lt;String&gt;</code> (readonly <code>List</code> of <code>String</code>).</p>\n<p>Now, if <code>people</code> were possibly <code>null</code>, as-in a <code>List&lt;People&gt;?</code> then:</p>\n<pre><code>val someList = people?.filter { it.age &lt;= 30 }?.map { it.name }\n</code></pre>\n<p>Returns a <code>List&lt;String&gt;?</code> that would need to be null checked (<em>or use one of the other Kotlin operators for nullable values, see this <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">Kotlin idiomatic way to deal with nullable values</a> and also <a href=\"https://stackoverflow.com/questions/26341225/idiomatic-way-of-handling-nullable-or-empty-list-in-kotlin\">Idiomatic way of handling nullable or empty list in Kotlin</a></em>)</p>\n<h2>See also:</h2>\n<ul>\n<li>API Reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/index.html\" rel=\"nofollow noreferrer\">extension functions for Iterable</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-array/index.html\" rel=\"nofollow noreferrer\">extension functions for Array</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-list/index.html\" rel=\"nofollow noreferrer\">extension functions for List</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-map/index.html\" rel=\"nofollow noreferrer\">extension functions to Map</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5027108,"reputation":22471,"user_id":4101725,"display_name":"Michele d&#39;Amico"},"score":0,"creation_date":1454935990,"post_id":34661483,"comment_id":58251432,"body_markdown":"In stream 5 there isn&#39;t any plus to use two maps instead of one `.map { it.substring(1).toInt() }`: as you know well inferred type is one of kotlin power.","body":"In stream 5 there isn&#39;t any plus to use two maps instead of one <code>.map { it.substring(1).toInt() }</code>: as you know well inferred type is one of kotlin power."},{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":0,"creation_date":1455037152,"post_id":34661483,"comment_id":58305759,"body_markdown":"true, but there is no downside either (for comparability I kept them separate)","body":"true, but there is no downside either (for comparability I kept them separate)"},{"owner":{"account_id":1600590,"reputation":968,"user_id":1481689,"accept_rate":10,"display_name":"Howard Lovatt"},"score":0,"creation_date":1523954944,"post_id":34661483,"comment_id":86762488,"body_markdown":"But the Java code can easily be made parallel, so in many cases you would be better off calling the Java stream code from Kotlin.","body":"But the Java code can easily be made parallel, so in many cases you would be better off calling the Java stream code from Kotlin."},{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":0,"creation_date":1524138494,"post_id":34661483,"comment_id":86856131,"body_markdown":"@HowardLovatt there are many cases where parallel is not the way to go, especially in heavy concurrent environments where you are already in a thread pool.  I&#39;m betting the average use case is NOT parallel, and it is the rare case.  But of course, you always have the option to use Java classes as you see fit, and none of this was really the purpose of this question and answer.","body":"@HowardLovatt there are many cases where parallel is not the way to go, especially in heavy concurrent environments where you are already in a thread pool.  I&#39;m betting the average use case is NOT parallel, and it is the rare case.  But of course, you always have the option to use Java classes as you see fit, and none of this was really the purpose of this question and answer."},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1664798191,"post_id":34661483,"comment_id":130546479,"body_markdown":"if you use `ifPresent` with `firstOrNull()`, then you will get an error at the moment: `Unresolved reference: ifPresent`, do you know any solution for this?","body":"if you use <code>ifPresent</code> with <code>firstOrNull()</code>, then you will get an error at the moment: <code>Unresolved reference: ifPresent</code>, do you know any solution for this?"}],"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":5,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1647061751,"creation_date":1452187669,"answer_id":34661483,"question_id":34642254,"body_markdown":"For additional examples, here are all the samples from [Java 8 Stream Tutorial](http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/) converted to Kotlin.  The title of each example, is derived from the source article:\r\n\r\n**How streams work**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; myList = Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;);\r\n\r\n    myList.stream()\r\n          .filter(s -&gt; s.startsWith(&quot;c&quot;))\r\n          .map(String::toUpperCase)\r\n         .sorted()\r\n         .forEach(System.out::println);\r\n\r\n    // C1\r\n    // C2\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val list = listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;)\r\n    list.filter { it.startsWith(&#39;c&#39;) }.map (String::toUpperCase).sorted()\r\n            .forEach (::println)\r\n \r\n**Different Kinds of Streams #1**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .stream()\r\n        .findFirst()\r\n        .ifPresent(System.out::println);    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\r\n\r\nor, create an extension function on String called ifPresent:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    inline fun String?.ifPresent(thenDo: (String)-&gt;Unit) = this?.apply { thenDo(this) }\r\n\r\n    // now use the new extension function:\r\n    listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull().ifPresent(::println)\r\n\r\nSee also: [`apply()` function](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html)\r\n\r\nSee also: [Extension Functions](https://kotlinlang.org/docs/reference/extensions.html)\r\n\r\nSee also:  [`?.` Safe Call operator](https://kotlinlang.org/docs/reference/null-safety.html#safe-calls), and in general nullability: https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o/34498563#34498563\r\n \r\n**Different Kinds of Streams #2**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .findFirst()\r\n        .ifPresent(System.out::println);    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\r\n\r\n**Different Kinds of Streams #3**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntStream.range(1, 4).forEach(System.out::println);\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  (inclusive range)\r\n    (1..3).forEach(::println)\r\n\r\n**Different Kinds of Streams #4**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Arrays.stream(new int[] {1, 2, 3})\r\n        .map(n -&gt; 2 * n + 1)\r\n        .average()\r\n        .ifPresent(System.out::println); // 5.0    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    arrayOf(1,2,3).map { 2 * it + 1}.average().apply(::println)\r\n\r\n**Different Kinds of Streams #5**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .map(s -&gt; s.substring(1))\r\n        .mapToInt(Integer::parseInt)\r\n        .max()\r\n        .ifPresent(System.out::println);  // 3\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .map { it.substring(1) }\r\n        .map(String::toInt)\r\n        .max().apply(::println)\r\n \r\n**Different Kinds of Streams #6**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntStream.range(1, 4)\r\n        .mapToObj(i -&gt; &quot;a&quot; + i)\r\n        .forEach(System.out::println);\r\n    \r\n    // a1\r\n    // a2\r\n    // a3    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  (inclusive range)\r\n    (1..3).map { &quot;a$it&quot; }.forEach(::println)\r\n \r\n**Different Kinds of Streams #7**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(1.0, 2.0, 3.0)\r\n        .mapToInt(Double::intValue)\r\n        .mapToObj(i -&gt; &quot;a&quot; + i)\r\n        .forEach(System.out::println);\r\n\r\n    // a1\r\n    // a2\r\n    // a3\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(1.0, 2.0, 3.0).map(Double::toInt).map { &quot;a$it&quot; }.forEach(::println)\r\n \r\n## Why Order Matters ##\r\n\r\nThis section of the Java 8 Stream Tutorial is the same for Kotlin and Java.\r\n\r\n## Reusing Streams ##\r\n\r\nIn Kotlin, it depends on the type of collection whether it can be consumed more than once.  A `Sequence` generates a new iterator every time, and unless it asserts &quot;use only once&quot; it can reset to the start each time it is acted upon.  Therefore while the following fails in Java 8 stream, but works in Kotlin:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream&lt;String&gt; stream =\r\n    Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).filter(s -&gt; s.startsWith(&quot;b&quot;));\r\n\r\n    stream.anyMatch(s -&gt; true);    // ok\r\n    stream.noneMatch(s -&gt; true);   // exception\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  \r\n    val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith(&#39;b&#39; ) }\r\n\r\n    stream.forEach(::println) // b1, b2\r\n\r\n    println(&quot;Any B ${stream.any { it.startsWith(&#39;b&#39;) }}&quot;) // Any B true\r\n    println(&quot;Any C ${stream.any { it.startsWith(&#39;c&#39;) }}&quot;) // Any C false\r\n\r\n    stream.forEach(::println) // b1, b2\r\n\r\nAnd in Java to get the same behavior:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier =\r\n        () -&gt; Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;)\r\n              .filter(s -&gt; s.startsWith(&quot;a&quot;));\r\n\r\n    streamSupplier.get().anyMatch(s -&gt; true);   // ok\r\n    streamSupplier.get().noneMatch(s -&gt; true);  // ok\r\n \r\nTherefore in Kotlin the provider of the data decides if it can reset back and provide a new iterator or not.  But if you want to intentionally constrain a `Sequence` to one time iteration, you can use `constrainOnce()` function for `Sequence` as follows:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith(&#39;b&#39; ) }\r\n            .constrainOnce()\r\n\r\n    stream.forEach(::println) // b1, b2\r\n    stream.forEach(::println) // Error:java.lang.IllegalStateException: This sequence can be consumed only once. \r\n\r\n## Advanced Operations ##\r\n\r\n**Collect example #5** (yes, I skipped those already in the other answer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String phrase = persons\r\n            .stream()\r\n            .filter(p -&gt; p.age &gt;= 18)\r\n            .map(p -&gt; p.name)\r\n            .collect(Collectors.joining(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;));\r\n\r\n        System.out.println(phrase);\r\n        // In Germany Max and Peter and Pamela are of legal age.    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val phrase = persons.filter { it.age &gt;= 18 }.map { it.name }\r\n            .joinToString(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;)\r\n\r\n    println(phrase)\r\n    // In Germany Max and Peter and Pamela are of legal age.\r\n\r\nAnd as a side note, in Kotlin we can create simple [data classes](https://kotlinlang.org/docs/reference/data-classes.html) and instantiate the test data as follows:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    // data class has equals, hashcode, toString, and copy methods automagically\r\n    data class Person(val name: String, val age: Int) \r\n\r\n    val persons = listOf(Person(&quot;Tod&quot;, 5), Person(&quot;Max&quot;, 33), \r\n                         Person(&quot;Frank&quot;, 13), Person(&quot;Peter&quot;, 80),\r\n                         Person(&quot;Pamela&quot;, 18))\r\n\r\n**Collect example #6**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Integer, String&gt; map = persons\r\n            .stream()\r\n            .collect(Collectors.toMap(\r\n                    p -&gt; p.age,\r\n                    p -&gt; p.name,\r\n                    (name1, name2) -&gt; name1 + &quot;;&quot; + name2));\r\n\r\n    System.out.println(map);\r\n    // {18=Max, 23=Peter;Pamela, 12=David}    \r\n\r\nOk, a more interest case here for Kotlin.  First the wrong answers to explore variations of creating a `Map` from a collection/sequence: \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val map1 = persons.map { it.age to it.name }.toMap()\r\n    println(map1)\r\n    // output: {18=Max, 23=Pamela, 12=David} \r\n    // Result: duplicates overridden, no exception similar to Java 8\r\n\r\n    val map2 = persons.toMap({ it.age }, { it.name })\r\n    println(map2)\r\n    // output: {18=Max, 23=Pamela, 12=David} \r\n    // Result: same as above, more verbose, duplicates overridden\r\n\r\n    val map3 = persons.toMapBy { it.age }\r\n    println(map3)\r\n    // output: {18=Person(name=Max, age=18), 23=Person(name=Pamela, age=23), 12=Person(name=David, age=12)}\r\n    // Result: duplicates overridden again\r\n\r\n    val map4 = persons.groupBy { it.age }\r\n    println(map4)\r\n    // output: {18=[Person(name=Max, age=18)], 23=[Person(name=Peter, age=23), Person(name=Pamela, age=23)], 12=[Person(name=David, age=12)]}\r\n    // Result: closer, but now have a Map&lt;Int, List&lt;Person&gt;&gt; instead of Map&lt;Int, String&gt;\r\n\r\n    val map5 = persons.groupBy { it.age }.mapValues { it.value.map { it.name } }\r\n    println(map5)\r\n    // output: {18=[Max], 23=[Peter, Pamela], 12=[David]}\r\n    // Result: closer, but now have a Map&lt;Int, List&lt;String&gt;&gt; instead of Map&lt;Int, String&gt;\r\n\r\nAnd now for the correct answer:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val map6 = persons.groupBy { it.age }.mapValues { it.value.joinToString(&quot;;&quot;) { it.name } }\r\n\r\n    println(map6)\r\n    // output: {18=Max, 23=Peter;Pamela, 12=David}\r\n    // Result: YAY!!\r\n\r\nWe just needed to join the matching values to collapse the lists and provide a transformer to `jointToString` to move from `Person` instance to the `Person.name`.\r\n\r\n**Collect example #7**\r\n\r\nOk, this one can easily be done without a custom `Collector`, so let&#39;s solve it the Kotlin way, then contrive a new example that shows how to do a similar process for `Collector.summarizingInt` which does not natively exist in Kotlin.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Collector&lt;Person, StringJoiner, String&gt; personNameCollector =\r\n    Collector.of(\r\n            () -&gt; new StringJoiner(&quot; | &quot;),          // supplier\r\n            (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator\r\n            (j1, j2) -&gt; j1.merge(j2),               // combiner\r\n            StringJoiner::toString);                // finisher\r\n\r\n    String names = persons\r\n            .stream()\r\n            .collect(personNameCollector);\r\n\r\n    System.out.println(names);  // MAX | PETER | PAMELA | DAVID    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val names = persons.map { it.name.toUpperCase() }.joinToString(&quot; | &quot;)\r\n\r\n*It&#39;s not my fault they picked a trivial example!!!*  Ok, here is a new `summarizingInt` method for Kotlin and a matching sample:\r\n\r\n**SummarizingInt Example**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntSummaryStatistics ageSummary =\r\n        persons.stream()\r\n               .collect(Collectors.summarizingInt(p -&gt; p.age));\r\n\r\n    System.out.println(ageSummary);\r\n    // IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n\r\n    // something to hold the stats...\r\n    data class SummaryStatisticsInt(var count: Int = 0,  \r\n                                    var sum: Int = 0, \r\n                                    var min: Int = Int.MAX_VALUE, \r\n                                    var max: Int = Int.MIN_VALUE, \r\n                                    var avg: Double = 0.0) {\r\n        fun accumulate(newInt: Int): SummaryStatisticsInt {\r\n            count++\r\n            sum += newInt\r\n            min = min.coerceAtMost(newInt)\r\n            max = max.coerceAtLeast(newInt)\r\n            avg = sum.toDouble() / count\r\n            return this\r\n        }\r\n    }\r\n\r\n    // Now manually doing a fold, since Stream.collect is really just a fold\r\n    val stats = persons.fold(SummaryStatisticsInt()) { stats, person -&gt; stats.accumulate(person.age) }\r\n    \r\n    println(stats)\r\n    // output: SummaryStatisticsInt(count=4, sum=76, min=12, max=23, avg=19.0)\r\n\r\nBut it is better to create an extension function, 2 actually to match styles in Kotlin stdlib:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    inline fun Collection&lt;Int&gt;.summarizingInt(): SummaryStatisticsInt\r\n            = this.fold(SummaryStatisticsInt()) { stats, num -&gt; stats.accumulate(num) }\r\n    \r\n    inline fun &lt;T: Any&gt; Collection&lt;T&gt;.summarizingInt(transform: (T)-&gt;Int): SummaryStatisticsInt =\r\n            this.fold(SummaryStatisticsInt()) { stats, item -&gt; stats.accumulate(transform(item)) }\r\n\r\nNow you have two ways to use the new `summarizingInt` functions:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    val stats2 = persons.map { it.age }.summarizingInt()\r\n\r\n    // or\r\n    \r\n    val stats3 = persons.summarizingInt { it.age }\r\n    \r\nAnd all of these produce the same results.  We can also create this extension to work on `Sequence` and for appropriate primitive types.\r\n\r\nFor fun, [compare the Java JDK code vs. Kotlin custom code](https://gist.github.com/apatrida/fe04727fa0db290d140f) required to implement this summarization. \r\n\r\n","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>For additional examples, here are all the samples from <a href=\"http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\" rel=\"nofollow noreferrer\">Java 8 Stream Tutorial</a> converted to Kotlin.  The title of each example, is derived from the source article:</p>\n<p><strong>How streams work</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; myList = Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;);\n\nmyList.stream()\n      .filter(s -&gt; s.startsWith(&quot;c&quot;))\n      .map(String::toUpperCase)\n     .sorted()\n     .forEach(System.out::println);\n\n// C1\n// C2\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval list = listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;)\nlist.filter { it.startsWith('c') }.map (String::toUpperCase).sorted()\n        .forEach (::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .stream()\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nlistOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\n</code></pre>\n<p>or, create an extension function on String called ifPresent:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\ninline fun String?.ifPresent(thenDo: (String)-&gt;Unit) = this?.apply { thenDo(this) }\n\n// now use the new extension function:\nlistOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull().ifPresent(::println)\n</code></pre>\n<p>See also: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply()</code> function</a></p>\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extension Functions</a></p>\n<p>See also:  <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\"><code>?.</code> Safe Call operator</a>, and in general nullability: <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o/34498563#34498563\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></p>\n<p><strong>Different Kinds of Streams #2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4).forEach(System.out::println);\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  (inclusive range)\n(1..3).forEach(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #4</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.stream(new int[] {1, 2, 3})\n    .map(n -&gt; 2 * n + 1)\n    .average()\n    .ifPresent(System.out::println); // 5.0    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\narrayOf(1,2,3).map { 2 * it + 1}.average().apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #5</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .map(s -&gt; s.substring(1))\n    .mapToInt(Integer::parseInt)\n    .max()\n    .ifPresent(System.out::println);  // 3\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .map { it.substring(1) }\n    .map(String::toInt)\n    .max().apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #6</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4)\n    .mapToObj(i -&gt; &quot;a&quot; + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  (inclusive range)\n(1..3).map { &quot;a$it&quot; }.forEach(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #7</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(1.0, 2.0, 3.0)\n    .mapToInt(Double::intValue)\n    .mapToObj(i -&gt; &quot;a&quot; + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(1.0, 2.0, 3.0).map(Double::toInt).map { &quot;a$it&quot; }.forEach(::println)\n</code></pre>\n<h2>Why Order Matters</h2>\n<p>This section of the Java 8 Stream Tutorial is the same for Kotlin and Java.</p>\n<h2>Reusing Streams</h2>\n<p>In Kotlin, it depends on the type of collection whether it can be consumed more than once.  A <code>Sequence</code> generates a new iterator every time, and unless it asserts &quot;use only once&quot; it can reset to the start each time it is acted upon.  Therefore while the following fails in Java 8 stream, but works in Kotlin:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream&lt;String&gt; stream =\nStream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).filter(s -&gt; s.startsWith(&quot;b&quot;));\n\nstream.anyMatch(s -&gt; true);    // ok\nstream.noneMatch(s -&gt; true);   // exception\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  \nval stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith('b' ) }\n\nstream.forEach(::println) // b1, b2\n\nprintln(&quot;Any B ${stream.any { it.startsWith('b') }}&quot;) // Any B true\nprintln(&quot;Any C ${stream.any { it.startsWith('c') }}&quot;) // Any C false\n\nstream.forEach(::println) // b1, b2\n</code></pre>\n<p>And in Java to get the same behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nSupplier&lt;Stream&lt;String&gt;&gt; streamSupplier =\n    () -&gt; Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;)\n          .filter(s -&gt; s.startsWith(&quot;a&quot;));\n\nstreamSupplier.get().anyMatch(s -&gt; true);   // ok\nstreamSupplier.get().noneMatch(s -&gt; true);  // ok\n</code></pre>\n<p>Therefore in Kotlin the provider of the data decides if it can reset back and provide a new iterator or not.  But if you want to intentionally constrain a <code>Sequence</code> to one time iteration, you can use <code>constrainOnce()</code> function for <code>Sequence</code> as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith('b' ) }\n        .constrainOnce()\n\nstream.forEach(::println) // b1, b2\nstream.forEach(::println) // Error:java.lang.IllegalStateException: This sequence can be consumed only once. \n</code></pre>\n<h2>Advanced Operations</h2>\n<p><strong>Collect example #5</strong> (yes, I skipped those already in the other answer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString phrase = persons\n        .stream()\n        .filter(p -&gt; p.age &gt;= 18)\n        .map(p -&gt; p.name)\n        .collect(Collectors.joining(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;));\n\n    System.out.println(phrase);\n    // In Germany Max and Peter and Pamela are of legal age.    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval phrase = persons.filter { it.age &gt;= 18 }.map { it.name }\n        .joinToString(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;)\n\nprintln(phrase)\n// In Germany Max and Peter and Pamela are of legal age.\n</code></pre>\n<p>And as a side note, in Kotlin we can create simple <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data classes</a> and instantiate the test data as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\n// data class has equals, hashcode, toString, and copy methods automagically\ndata class Person(val name: String, val age: Int) \n\nval persons = listOf(Person(&quot;Tod&quot;, 5), Person(&quot;Max&quot;, 33), \n                     Person(&quot;Frank&quot;, 13), Person(&quot;Peter&quot;, 80),\n                     Person(&quot;Pamela&quot;, 18))\n</code></pre>\n<p><strong>Collect example #6</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Integer, String&gt; map = persons\n        .stream()\n        .collect(Collectors.toMap(\n                p -&gt; p.age,\n                p -&gt; p.name,\n                (name1, name2) -&gt; name1 + &quot;;&quot; + name2));\n\nSystem.out.println(map);\n// {18=Max, 23=Peter;Pamela, 12=David}    \n</code></pre>\n<p>Ok, a more interest case here for Kotlin.  First the wrong answers to explore variations of creating a <code>Map</code> from a collection/sequence:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval map1 = persons.map { it.age to it.name }.toMap()\nprintln(map1)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: duplicates overridden, no exception similar to Java 8\n\nval map2 = persons.toMap({ it.age }, { it.name })\nprintln(map2)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: same as above, more verbose, duplicates overridden\n\nval map3 = persons.toMapBy { it.age }\nprintln(map3)\n// output: {18=Person(name=Max, age=18), 23=Person(name=Pamela, age=23), 12=Person(name=David, age=12)}\n// Result: duplicates overridden again\n\nval map4 = persons.groupBy { it.age }\nprintln(map4)\n// output: {18=[Person(name=Max, age=18)], 23=[Person(name=Peter, age=23), Person(name=Pamela, age=23)], 12=[Person(name=David, age=12)]}\n// Result: closer, but now have a Map&lt;Int, List&lt;Person&gt;&gt; instead of Map&lt;Int, String&gt;\n\nval map5 = persons.groupBy { it.age }.mapValues { it.value.map { it.name } }\nprintln(map5)\n// output: {18=[Max], 23=[Peter, Pamela], 12=[David]}\n// Result: closer, but now have a Map&lt;Int, List&lt;String&gt;&gt; instead of Map&lt;Int, String&gt;\n</code></pre>\n<p>And now for the correct answer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval map6 = persons.groupBy { it.age }.mapValues { it.value.joinToString(&quot;;&quot;) { it.name } }\n\nprintln(map6)\n// output: {18=Max, 23=Peter;Pamela, 12=David}\n// Result: YAY!!\n</code></pre>\n<p>We just needed to join the matching values to collapse the lists and provide a transformer to <code>jointToString</code> to move from <code>Person</code> instance to the <code>Person.name</code>.</p>\n<p><strong>Collect example #7</strong></p>\n<p>Ok, this one can easily be done without a custom <code>Collector</code>, so let's solve it the Kotlin way, then contrive a new example that shows how to do a similar process for <code>Collector.summarizingInt</code> which does not natively exist in Kotlin.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nCollector&lt;Person, StringJoiner, String&gt; personNameCollector =\nCollector.of(\n        () -&gt; new StringJoiner(&quot; | &quot;),          // supplier\n        (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator\n        (j1, j2) -&gt; j1.merge(j2),               // combiner\n        StringJoiner::toString);                // finisher\n\nString names = persons\n        .stream()\n        .collect(personNameCollector);\n\nSystem.out.println(names);  // MAX | PETER | PAMELA | DAVID    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval names = persons.map { it.name.toUpperCase() }.joinToString(&quot; | &quot;)\n</code></pre>\n<p><em>It's not my fault they picked a trivial example!!!</em>  Ok, here is a new <code>summarizingInt</code> method for Kotlin and a matching sample:</p>\n<p><strong>SummarizingInt Example</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntSummaryStatistics ageSummary =\n    persons.stream()\n           .collect(Collectors.summarizingInt(p -&gt; p.age));\n\nSystem.out.println(ageSummary);\n// IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\n\n// something to hold the stats...\ndata class SummaryStatisticsInt(var count: Int = 0,  \n                                var sum: Int = 0, \n                                var min: Int = Int.MAX_VALUE, \n                                var max: Int = Int.MIN_VALUE, \n                                var avg: Double = 0.0) {\n    fun accumulate(newInt: Int): SummaryStatisticsInt {\n        count++\n        sum += newInt\n        min = min.coerceAtMost(newInt)\n        max = max.coerceAtLeast(newInt)\n        avg = sum.toDouble() / count\n        return this\n    }\n}\n\n// Now manually doing a fold, since Stream.collect is really just a fold\nval stats = persons.fold(SummaryStatisticsInt()) { stats, person -&gt; stats.accumulate(person.age) }\n\nprintln(stats)\n// output: SummaryStatisticsInt(count=4, sum=76, min=12, max=23, avg=19.0)\n</code></pre>\n<p>But it is better to create an extension function, 2 actually to match styles in Kotlin stdlib:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\ninline fun Collection&lt;Int&gt;.summarizingInt(): SummaryStatisticsInt\n        = this.fold(SummaryStatisticsInt()) { stats, num -&gt; stats.accumulate(num) }\n\ninline fun &lt;T: Any&gt; Collection&lt;T&gt;.summarizingInt(transform: (T)-&gt;Int): SummaryStatisticsInt =\n        this.fold(SummaryStatisticsInt()) { stats, item -&gt; stats.accumulate(transform(item)) }\n</code></pre>\n<p>Now you have two ways to use the new <code>summarizingInt</code> functions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val stats2 = persons.map { it.age }.summarizingInt()\n\n// or\n\nval stats3 = persons.summarizingInt { it.age }\n</code></pre>\n<p>And all of these produce the same results.  We can also create this extension to work on <code>Sequence</code> and for appropriate primitive types.</p>\n<p>For fun, <a href=\"https://gist.github.com/apatrida/fe04727fa0db290d140f\" rel=\"nofollow noreferrer\">compare the Java JDK code vs. Kotlin custom code</a> required to implement this summarization.</p>\n"},{"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456839016,"creation_date":1456839016,"answer_id":35724284,"question_id":34642254,"body_markdown":"There are some cases where it is hard to avoid calling `collect(Collectors.toList())` or similar.  In those cases, you can more quickly change to a Kotlin equivalent using extension functions such as:\r\n\r\n&lt;!-- language-all: kotlin --&gt;\r\n\r\n    fun &lt;T: Any&gt; Stream&lt;T&gt;.toList(): List&lt;T&gt; = this.collect(Collectors.toList&lt;T&gt;())\r\n    fun &lt;T: Any&gt; Stream&lt;T&gt;.asSequence(): Sequence&lt;T&gt; = this.iterator().asSequence()\r\n\r\nThen you can simply `stream.toList()` or `stream.asSequence()` to move back into the Kotlin API.  A case such as `Files.list(path)` forces you into a `Stream` when you may not want it, and these extensions can help you to shift back into the standard collections and Kotlin API.","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>There are some cases where it is hard to avoid calling <code>collect(Collectors.toList())</code> or similar.  In those cases, you can more quickly change to a Kotlin equivalent using extension functions such as:</p>\n\n\n\n<pre><code>fun &lt;T: Any&gt; Stream&lt;T&gt;.toList(): List&lt;T&gt; = this.collect(Collectors.toList&lt;T&gt;())\nfun &lt;T: Any&gt; Stream&lt;T&gt;.asSequence(): Sequence&lt;T&gt; = this.iterator().asSequence()\n</code></pre>\n\n<p>Then you can simply <code>stream.toList()</code> or <code>stream.asSequence()</code> to move back into the Kotlin API.  A case such as <code>Files.list(path)</code> forces you into a <code>Stream</code> when you may not want it, and these extensions can help you to shift back into the standard collections and Kotlin API.</p>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521741768,"creation_date":1521741768,"answer_id":49435547,"question_id":34642254,"body_markdown":"## More on laziness ##\r\n\r\nLet&#39;s take the example solution for &quot;Compute sum of salaries by department&quot; given by Jayson:\r\n\r\n    val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\r\n\r\nIn order to make this lazy (i.e. avoid creating an intermediate map in the `groupBy` step), it is not possible to use `asSequence()`.  Instead, we must use `groupingBy` and `fold` operation:\r\n\r\n    val totalByDept = employees.groupingBy { it.dept }.fold(0) { acc, e -&gt; acc + e.salary }\r\n\r\nTo some people this may even be more readable, since you&#39;re not dealing with map entries: the `it.value` part in the solution was confusing for me too at first.\r\n\r\nSince this is a common case and we&#39;d prefer not to write out the `fold` each time, it may be better to just provide a generic `sumBy` function on `Grouping`:\r\n\r\n    public inline fun &lt;T, K&gt; Grouping&lt;T, K&gt;.sumBy(\r\n            selector: (T) -&gt; Int\r\n    ): Map&lt;K, Int&gt; = \r\n            fold(0) { acc, element -&gt; acc + selector(element) }\r\n\r\nso that we can simply write:\r\n\r\n    val totalByDept = employees.groupingBy { it.dept }.sumBy { it.salary }","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<h2>More on laziness</h2>\n\n<p>Let's take the example solution for \"Compute sum of salaries by department\" given by Jayson:</p>\n\n<pre><code>val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n\n<p>In order to make this lazy (i.e. avoid creating an intermediate map in the <code>groupBy</code> step), it is not possible to use <code>asSequence()</code>.  Instead, we must use <code>groupingBy</code> and <code>fold</code> operation:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.fold(0) { acc, e -&gt; acc + e.salary }\n</code></pre>\n\n<p>To some people this may even be more readable, since you're not dealing with map entries: the <code>it.value</code> part in the solution was confusing for me too at first.</p>\n\n<p>Since this is a common case and we'd prefer not to write out the <code>fold</code> each time, it may be better to just provide a generic <code>sumBy</code> function on <code>Grouping</code>:</p>\n\n<pre><code>public inline fun &lt;T, K&gt; Grouping&lt;T, K&gt;.sumBy(\n        selector: (T) -&gt; Int\n): Map&lt;K, Int&gt; = \n        fold(0) { acc, element -&gt; acc + selector(element) }\n</code></pre>\n\n<p>so that we can simply write:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.sumBy { it.salary }\n</code></pre>\n"}],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61662,"favorite_count":0,"down_vote_count":2,"up_vote_count":219,"accepted_answer_id":34642255,"answer_count":4,"score":217,"last_activity_date":1675613312,"creation_date":1452112475,"question_id":34642254,"body_markdown":"In Java 8, there is [`Stream.collect`](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect) which allows aggregations on collections.  In Kotlin, this does not exist in the same way, other than maybe as a collection of extension functions in the stdlib.  But it isn&#39;t clear what the equivalences are for different use cases.  \r\n\r\nFor example, at the [top of the JavaDoc for `Collectors`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) are examples written for Java 8, and when porting them to Kolin you can&#39;t use the Java 8 classes when on a different JDK version, so likely they should be written differently.  \r\n\r\nIn terms of resources online showing examples of Kotlin collections, they are typically trivial and don&#39;t really compare to the same use cases.  What are good examples that really match the cases such as documented for Java 8 `Stream.collect`?  The list there is:\r\n\r\n - Accumulate names into a List\r\n - Accumulate names into a TreeSet\r\n - Convert elements to strings and concatenate them, separated by commas\r\n - Compute sum of salaries of employee\r\n - Group employees by department\r\n - Compute sum of salaries by department\r\n - Partition students into passing and failing\r\n\r\nWith details in the JavaDoc linked above.\r\n\r\n***Note:*** *this question is intentionally written and answered by the author ([Self-Answered Questions](https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/)), so that the idiomatic answers to commonly asked Kotlin topics are present in SO. Also to clarify some really old answers written for alphas of Kotlin that are not accurate for current-day Kotlin.*","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>In Java 8, there is <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect\" rel=\"noreferrer\"><code>Stream.collect</code></a> which allows aggregations on collections.  In Kotlin, this does not exist in the same way, other than maybe as a collection of extension functions in the stdlib.  But it isn't clear what the equivalences are for different use cases.  </p>\n\n<p>For example, at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">top of the JavaDoc for <code>Collectors</code></a> are examples written for Java 8, and when porting them to Kolin you can't use the Java 8 classes when on a different JDK version, so likely they should be written differently.  </p>\n\n<p>In terms of resources online showing examples of Kotlin collections, they are typically trivial and don't really compare to the same use cases.  What are good examples that really match the cases such as documented for Java 8 <code>Stream.collect</code>?  The list there is:</p>\n\n<ul>\n<li>Accumulate names into a List</li>\n<li>Accumulate names into a TreeSet</li>\n<li>Convert elements to strings and concatenate them, separated by commas</li>\n<li>Compute sum of salaries of employee</li>\n<li>Group employees by department</li>\n<li>Compute sum of salaries by department</li>\n<li>Partition students into passing and failing</li>\n</ul>\n\n<p>With details in the JavaDoc linked above.</p>\n\n<p><strong><em>Note:</em></strong> <em>this question is intentionally written and answered by the author (<a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin topics are present in SO. Also to clarify some really old answers written for alphas of Kotlin that are not accurate for current-day Kotlin.</em></p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675612658,"post_id":75353550,"comment_id":132962532,"body_markdown":"Does this answer your question? [Where does Eclipse deploy web applications using WTP?](https://stackoverflow.com/questions/2119351/where-does-eclipse-deploy-web-applications-using-wtp) In other words, it&#39;s saved in your workspace. IDEs such as Eclipse and NetBeans avoid deploying directly to the targeted Tomcat instance - hence you don&#39;t (typically) see the web app showing up in `/webapps` - although you can change this behavior. At least you can in Eclipse, if I recall.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2119351/where-does-eclipse-deploy-web-applications-using-wtp\">Where does Eclipse deploy web applications using WTP?</a> In other words, it&#39;s saved in your workspace. IDEs such as Eclipse and NetBeans avoid deploying directly to the targeted Tomcat instance - hence you don&#39;t (typically) see the web app showing up in <code>&#47;webapps</code> - although you can change this behavior. At least you can in Eclipse, if I recall."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675625263,"post_id":75353550,"comment_id":132965037,"body_markdown":"What actually is the problem you&#39;re trying to solve?","body":"What actually is the problem you&#39;re trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":5912629,"reputation":93,"user_id":4652337,"display_name":"Chandika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675612759,"creation_date":1675612759,"answer_id":75353607,"question_id":75353550,"body_markdown":"I&#39;m usually doing this to find file location of classes\r\n\r\n```java\r\nYourClass.getProtectionDomain().getCodeSource().getLocation().getPath()\r\n```\r\n\r\nReplace &quot;YourClass&quot; with any class in your project, debug and evaluate this line, then this will reveal file location.\r\n\r\nAlso another hint, as per my understanding, a web application can packaged as a war file and can put to tomcat/webapps folder or web application path can be specified manually in a context xml file of tomcat/conf/localhost folder\r\n","title":"Web application binary location in Tomcat","body":"<p>I'm usually doing this to find file location of classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>YourClass.getProtectionDomain().getCodeSource().getLocation().getPath()\n</code></pre>\n<p>Replace &quot;YourClass&quot; with any class in your project, debug and evaluate this line, then this will reveal file location.</p>\n<p>Also another hint, as per my understanding, a web application can packaged as a war file and can put to tomcat/webapps folder or web application path can be specified manually in a context xml file of tomcat/conf/localhost folder</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675677315,"answer_count":1,"score":0,"last_activity_date":1675612759,"creation_date":1675612233,"question_id":75353550,"body_markdown":"I have dynamic web project in my Eclipse with Java that was used to create simple SOAP web service that runs on Tomcat 9. Service was published and runs fine. \r\n\r\nBut I can&#39;t find where Eclipse puts java class files and other libraries when I start web service. I can&#39;t find any changes in Tomcat folder.\r\n\r\n\r\n ","title":"Web application binary location in Tomcat","body":"<p>I have dynamic web project in my Eclipse with Java that was used to create simple SOAP web service that runs on Tomcat 9. Service was published and runs fine.</p>\n<p>But I can't find where Eclipse puts java class files and other libraries when I start web service. I can't find any changes in Tomcat folder.</p>\n"},{"tags":["java","akka-stream"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675612717,"creation_date":1675612717,"answer_id":75353604,"question_id":75351412,"body_markdown":"It is legal to have a stream stage check some global state and alter its behavior based on that state.\r\n\r\nWhether it&#39;s a great idea is another question entirely.\r\n\r\nAt minimum, you&#39;ll want to be aware of the limits and subtleties of the Java Memory Model around visibility (because if the code writing to that variable isn&#39;t executing on the same thread as the stream stage (and if it&#39;s outside of Akka, it categorically won&#39;t; if it&#39;s code executed by an actor on the same dispatcher as the stream stage, it might at some point execute on the same thread, but controlling that is going to require some tradeoffs), there&#39;s no guarantee about when (or even possibly _whether_) the stream stage will see the write).  Ensuring that visibility (e.g. `volatile` or using atomics) may in turn have substantial implications for performance, etc.\r\n\r\nYou may want to investigate alternatives like a custom stream stage which materializes as an object with methods which propagate updates to that value to the stage (e.g. via the async callback mechanisms in Akka): these would be guaranteed to become visible to the stage and would abstract away the concurrency.  Another option would be to expose a source (e.g. a `Source.queue`) which injects changes to that value as stream elements which get merged into the stream and interpreted by the stream to change its behavior.  Alternatively, in some cases it might be useful to use `mapAsync` or `ask` to pass stream elements to an actor.","title":"akka stream behaviour based on outside variable","body":"<p>It is legal to have a stream stage check some global state and alter its behavior based on that state.</p>\n<p>Whether it's a great idea is another question entirely.</p>\n<p>At minimum, you'll want to be aware of the limits and subtleties of the Java Memory Model around visibility (because if the code writing to that variable isn't executing on the same thread as the stream stage (and if it's outside of Akka, it categorically won't; if it's code executed by an actor on the same dispatcher as the stream stage, it might at some point execute on the same thread, but controlling that is going to require some tradeoffs), there's no guarantee about when (or even possibly <em>whether</em>) the stream stage will see the write).  Ensuring that visibility (e.g. <code>volatile</code> or using atomics) may in turn have substantial implications for performance, etc.</p>\n<p>You may want to investigate alternatives like a custom stream stage which materializes as an object with methods which propagate updates to that value to the stage (e.g. via the async callback mechanisms in Akka): these would be guaranteed to become visible to the stage and would abstract away the concurrency.  Another option would be to expose a source (e.g. a <code>Source.queue</code>) which injects changes to that value as stream elements which get merged into the stream and interpreted by the stream to change its behavior.  Alternatively, in some cases it might be useful to use <code>mapAsync</code> or <code>ask</code> to pass stream elements to an actor.</p>\n"}],"owner":{"account_id":1924367,"reputation":896,"user_id":1735168,"accept_rate":60,"display_name":"martinnovoty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353604,"answer_count":1,"score":0,"last_activity_date":1675612717,"creation_date":1675591262,"question_id":75351412,"body_markdown":"I have a generic question on Akka Streams,\r\n\r\nI need to change stream behavior based on variable outside of akka. The variable is static and is changed by other piece of code. \r\n\r\nHow would you achieve this. Simply by checking variable in stream element ?\r\nFor example:\r\n\r\n\r\n         .filterNot(ping -&gt; pingRecieved)\r\n\r\nThe pingRecieved is static variable in Java class.\r\n\r\n\r\n\r\n","title":"akka stream behaviour based on outside variable","body":"<p>I have a generic question on Akka Streams,</p>\n<p>I need to change stream behavior based on variable outside of akka. The variable is static and is changed by other piece of code.</p>\n<p>How would you achieve this. Simply by checking variable in stream element ?\nFor example:</p>\n<pre><code>     .filterNot(ping -&gt; pingRecieved)\n</code></pre>\n<p>The pingRecieved is static variable in Java class.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"comments":[{"owner":{"account_id":27702913,"reputation":51,"user_id":21147157,"display_name":"Madden Crush"},"score":0,"creation_date":1675585936,"post_id":75350985,"comment_id":132958053,"body_markdown":"No I need to write **Webelement f**","body":"No I need to write <b>Webelement f</b>"},{"owner":{"account_id":4127305,"reputation":549,"user_id":3386085,"display_name":"onzinsky"},"score":0,"creation_date":1675862613,"post_id":75350985,"comment_id":133018658,"body_markdown":"Hey thanks for answering! Some more explanation and code would sure be helpful!","body":"Hey thanks for answering! Some more explanation and code would sure be helpful!"}],"tags":[],"owner":{"account_id":24242242,"reputation":41,"user_id":18194450,"display_name":"TheNoobCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675585894,"creation_date":1675585894,"answer_id":75350985,"question_id":75350977,"body_markdown":"Instead of again writing Webelement f write the complete xpath including [2] in Webelement e itself.","title":"How to extract text from second link using previous webelement?","body":"<p>Instead of again writing Webelement f write the complete xpath including [2] in Webelement e itself.</p>\n"},{"comments":[{"owner":{"account_id":27702913,"reputation":51,"user_id":21147157,"display_name":"Madden Crush"},"score":2,"creation_date":1675589384,"post_id":75351109,"comment_id":132958517,"body_markdown":"my question is about JAVA not **python**","body":"my question is about JAVA not <b>python</b>"}],"tags":[],"owner":{"account_id":27707193,"reputation":1,"user_id":21150580,"display_name":"Mohit"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675587626,"creation_date":1675587626,"answer_id":75351109,"question_id":75350977,"body_markdown":"Here is an example in Python using Selenium to extract the text from the second link using a previous WebElement:\r\n\r\nfrom selenium import webdriver\r\n\r\n# initialize the browser\r\ndriver = webdriver.Firefox()\r\n\r\n# navigate to the website\r\ndriver.get(&quot;https://www.example.com&quot;)\r\n\r\n# locate the previous WebElement\r\nprevious_element = driver.find_element_by_css_selector(&quot;#element_id&quot;)\r\n\r\n# locate the second link relative to the previous WebElement\r\nsecond_link = previous_element.find_elements_by_tag_name(&quot;a&quot;)[1]\r\n\r\n# extract the text from the second link\r\ntext = second_link.text\r\n\r\n# close the browser\r\ndriver.quit()\r\n\r\nNote: Replace #element_id with the actual id of the previous WebElement and make sure to install the Selenium library if not already installed.\r\n","title":"How to extract text from second link using previous webelement?","body":"<p>Here is an example in Python using Selenium to extract the text from the second link using a previous WebElement:</p>\n<p>from selenium import webdriver</p>\n<h1>initialize the browser</h1>\n<p>driver = webdriver.Firefox()</p>\n<h1>navigate to the website</h1>\n<p>driver.get(&quot;https://www.example.com&quot;)</p>\n<h1>locate the previous WebElement</h1>\n<p>previous_element = driver.find_element_by_css_selector(&quot;#element_id&quot;)</p>\n<h1>locate the second link relative to the previous WebElement</h1>\n<p>second_link = previous_element.find_elements_by_tag_name(&quot;a&quot;)[1]</p>\n<h1>extract the text from the second link</h1>\n<p>text = second_link.text</p>\n<h1>close the browser</h1>\n<p>driver.quit()</p>\n<p>Note: Replace #element_id with the actual id of the previous WebElement and make sure to install the Selenium library if not already installed.</p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675612053,"creation_date":1675612053,"answer_id":75353527,"question_id":75350977,"body_markdown":"The second element you want is just another element that is located by the first locator. The easiest way to do what you are asking is to change the first statement to use `.findElements()` (plural) and then get the second element returned.\r\n\r\n\tList&lt;WebElement&gt; e = driver.findElements(By.xpath(&quot;//h2//a[@class=&#39;question-link&#39;]&quot;));\r\n\tSystem.out.println(e.get(1).getText()); // index starts at 0 so 1 is the second element","title":"How to extract text from second link using previous webelement?","body":"<p>The second element you want is just another element that is located by the first locator. The easiest way to do what you are asking is to change the first statement to use <code>.findElements()</code> (plural) and then get the second element returned.</p>\n<pre><code>List&lt;WebElement&gt; e = driver.findElements(By.xpath(&quot;//h2//a[@class='question-link']&quot;));\nSystem.out.println(e.get(1).getText()); // index starts at 0 so 1 is the second element\n</code></pre>\n"}],"owner":{"account_id":27702913,"reputation":51,"user_id":21147157,"display_name":"Madden Crush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353527,"answer_count":3,"score":0,"last_activity_date":1675612053,"creation_date":1675585703,"question_id":75350977,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n [1]: https://i.stack.imgur.com/LBetf.jpg\r\n\r\n\r\nI am using this code, but it&#39;s not working but xpath in the picture is correct. I am not allowed to use `(//h2//a[@class=&#39;question-link&#39;])[2]` because I need to use previous webelement:\r\n\r\n\t\t    driver.get(&quot;https://stackexchange.com/&quot;);\r\n\t\t    WebElement e = driver.findElement(By.xpath(&quot;//h2//a[@class=&#39;question-link&#39;]&quot;));\r\n\t\t    WebElement f=e.findElement(By.xpath(&quot;.[2]&quot;));\r\n\t\t    System.out.println(f.getText());\r\n\t\t    ","title":"How to extract text from second link using previous webelement?","body":"<p><a href=\"https://i.stack.imgur.com/LBetf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBetf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am using this code, but it's not working but xpath in the picture is correct. I am not allowed to use <code>(//h2//a[@class='question-link'])[2]</code> because I need to use previous webelement:</p>\n<pre><code>        driver.get(&quot;https://stackexchange.com/&quot;);\n        WebElement e = driver.findElement(By.xpath(&quot;//h2//a[@class='question-link']&quot;));\n        WebElement f=e.findElement(By.xpath(&quot;.[2]&quot;));\n        System.out.println(f.getText());\n        \n</code></pre>\n"},{"tags":["java","json","gson","pojo"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1675557677,"post_id":75349143,"comment_id":132955395,"body_markdown":"Serialising a ThreadLocal is probably not what you want to do -- you should consider excluding that field from serialization.","body":"Serialising a ThreadLocal is probably not what you want to do -- you should consider excluding that field from serialization."},{"owner":{"account_id":25423340,"reputation":3,"user_id":19354672,"display_name":"Mois&#233;s Zambrano"},"score":0,"creation_date":1675564964,"post_id":75349143,"comment_id":132956139,"body_markdown":"@tgdavies And how do I do that? what I&#39;m looking for is to convert it to Json String to save it in a mongodb collection.","body":"@tgdavies And how do I do that? what I&#39;m looking for is to convert it to Json String to save it in a mongodb collection."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675612045,"creation_date":1675612045,"answer_id":75353525,"question_id":75349143,"body_markdown":"As mentioned [in the comments](https://stackoverflow.com/questions/75349143/error-when-trying-to-convert-a-pojo-class-to-json-string-with-gson#comment132955395_75349143) your code indirectly tries to serialize a `java.lang.ThreadLocal`. Gson has no built-in adapter for that class so it tries to use reflection, which fails because internal fields of JDK classes cannot be accessed using reflection, see also the [Gson troubleshooting guide](https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module).\r\n\r\nThe field of type `ThreadLocal` is not directly in your `PlayerModel` class but nested, either in `TribeModel` or `Inventory` (or nested in some of the classes of their fields). Depending on your use case, you could either:\r\n- check if the `ThreadLocal` field (or even its declaring class) really has to be serialized and deserialized, and if not [exclude it](https://github.com/google/gson/blob/master/UserGuide.md#excluding-fields-from-serialization-and-deserialization), or\r\n- write a custom [`TypeAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html) which serializes and deserializes `ThreadLocal` instances. For example by calling their `get()` method to obtain the value during serialization, respectively creating a new instance and calling `set(...)` to set the value during deserialization.\r\n","title":"Error when trying to convert a POJO Class to Json String with GSON","body":"<p>As mentioned <a href=\"https://stackoverflow.com/questions/75349143/error-when-trying-to-convert-a-pojo-class-to-json-string-with-gson#comment132955395_75349143\">in the comments</a> your code indirectly tries to serialize a <code>java.lang.ThreadLocal</code>. Gson has no built-in adapter for that class so it tries to use reflection, which fails because internal fields of JDK classes cannot be accessed using reflection, see also the <a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">Gson troubleshooting guide</a>.</p>\n<p>The field of type <code>ThreadLocal</code> is not directly in your <code>PlayerModel</code> class but nested, either in <code>TribeModel</code> or <code>Inventory</code> (or nested in some of the classes of their fields). Depending on your use case, you could either:</p>\n<ul>\n<li>check if the <code>ThreadLocal</code> field (or even its declaring class) really has to be serialized and deserialized, and if not <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#excluding-fields-from-serialization-and-deserialization\" rel=\"nofollow noreferrer\">exclude it</a>, or</li>\n<li>write a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\"><code>TypeAdapter</code></a> which serializes and deserializes <code>ThreadLocal</code> instances. For example by calling their <code>get()</code> method to obtain the value during serialization, respectively creating a new instance and calling <code>set(...)</code> to set the value during deserialization.</li>\n</ul>\n"}],"owner":{"account_id":25423340,"reputation":3,"user_id":19354672,"display_name":"Mois&#233;s Zambrano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353525,"answer_count":1,"score":0,"last_activity_date":1675612045,"creation_date":1675554073,"question_id":75349143,"body_markdown":"I am trying to convert a POJO class to Json using Gson, but when I try to do it I get an error and I have no idea the exact solution.\r\n\r\nMy Java version is 19 and this is my class:\r\n\r\n```\r\npublic class PlayerModel {\r\n    String player;\r\n    UUID uuid;\r\n    TribeModel tribe;\r\n    Inventory inventory;\r\n\r\n    public PlayerModel(Player p, UUID uuid, Inventory inventory) {\r\n        this.player = p.getDisplayName();\r\n        this.uuid = uuid;\r\n        this.tribe = new TribeModel(this);\r\n        this.inventory = inventory;\r\n    }\r\n\r\n    public String getDisplayName() {\r\n        return this.player;\r\n    }\r\n\r\n    public UUID getUUID() {\r\n        return this.uuid;\r\n    }\r\n\r\n    public TribeModel getTribe() {\r\n        return this.tribe;\r\n    }\r\n\r\n    public Inventory getInventory() {\r\n        return this.inventory;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PlayerModel [player=&quot;\r\n                + player\r\n                + &quot;, uuid=&quot; + uuid\r\n                + &quot;, tribe=&quot; + tribe.toString()\r\n                + &quot;, inventory=&quot; + inventory.toString() + &quot;]&quot;;\r\n    }\r\n\r\n    public String toJson() {\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(this);\r\n        return json;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand these are the methods I use:\r\n\r\n```\r\n public static void SavePlayerOnFirstJoin(Player player) {\r\n        UUID uuid = player.getUniqueId();\r\n        Document existPlayer = Database.getPlayer(player.getUniqueId());\r\n        if (existPlayer == null) {\r\n            try {\r\n                Document playerDocument = MakePlayerDocument(player, uuid);\r\n                Database.userCollection.insertOne(playerDocument);\r\n            } catch (Exception e) {\r\n                NoWipe.Log.severe(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Document MakePlayerDocument(Player player, UUID uuid) {\r\n        String playerModel = new PlayerModel(player, uuid, player.getInventory()).toJson();\r\n        Document parse = Document.parse(playerModel);\r\n        return parse;\r\n    }\r\n```\r\n\r\nand this is my complete log of the error:\r\n\r\n```\r\ncom.google.gson.JsonIOException: Failed making field &#39;java.lang.ThreadLocal#threadLocalHashCode&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:817) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:795) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:742) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:719) ~[gson-2.10.jar:?]\r\n        at me.winflix.nowipe.models.PlayerModel.toJson(PlayerModel.java:50) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.utils.GlobalUtils.MakePlayerDocument(GlobalUtils.java:30) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.utils.GlobalUtils.SavePlayerOnFirstJoin(GlobalUtils.java:24) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.events.JoinEvents.PlayerJoinEvent(JoinEvents.java:15) ~[NoWipe.jar:?]\r\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor51.execute(Unknown Source) ~[?:?]\r\n        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:80) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:git-Purpur-1905]\r\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:680) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at net.minecraft.server.players.PlayerList.placeNewPlayer(PlayerList.java:319) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.placeNewPlayer(ServerLoginPacketListenerImpl.java:202) ~[?:?]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.handleAcceptedLogin(ServerLoginPacketListenerImpl.java:183) ~[?:?]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.tick(ServerLoginPacketListenerImpl.java:85) ~[?:?]\r\n        at net.minecraft.network.Connection.tick(Connection.java:594) ~[?:?]\r\n        at net.minecraft.server.network.ServerConnectionListener.tick(ServerConnectionListener.java:233) ~[?:?]\r\n        at net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1594) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:482) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1194) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:321) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at java.lang.Thread.run(Thread.java:1589) ~[?:?]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.lang.ThreadLocal.threadLocalHashCode accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2e24b18c\r\n        at java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[?:?]\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[?:?]\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[?:?]\r\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]\r\n        at java.lang.reflect.Field.setAccessible(Field.java:174) ~[?:?]\r\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:?]\r\n        ... 40 more\r\n```\r\n\r\nI have read about creating a TypeAdapter from the POJO to Gson but I still don&#39;t fully understand how to do it and thanks to everyone :)\r\n\r\nI also tried with Jackson but it gives me another huge error that if necessary I insert it in this post :)","title":"Error when trying to convert a POJO Class to Json String with GSON","body":"<p>I am trying to convert a POJO class to Json using Gson, but when I try to do it I get an error and I have no idea the exact solution.</p>\n<p>My Java version is 19 and this is my class:</p>\n<pre><code>public class PlayerModel {\n    String player;\n    UUID uuid;\n    TribeModel tribe;\n    Inventory inventory;\n\n    public PlayerModel(Player p, UUID uuid, Inventory inventory) {\n        this.player = p.getDisplayName();\n        this.uuid = uuid;\n        this.tribe = new TribeModel(this);\n        this.inventory = inventory;\n    }\n\n    public String getDisplayName() {\n        return this.player;\n    }\n\n    public UUID getUUID() {\n        return this.uuid;\n    }\n\n    public TribeModel getTribe() {\n        return this.tribe;\n    }\n\n    public Inventory getInventory() {\n        return this.inventory;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PlayerModel [player=&quot;\n                + player\n                + &quot;, uuid=&quot; + uuid\n                + &quot;, tribe=&quot; + tribe.toString()\n                + &quot;, inventory=&quot; + inventory.toString() + &quot;]&quot;;\n    }\n\n    public String toJson() {\n        Gson gson = new Gson();\n        String json = gson.toJson(this);\n        return json;\n    }\n\n}\n</code></pre>\n<p>and these are the methods I use:</p>\n<pre><code> public static void SavePlayerOnFirstJoin(Player player) {\n        UUID uuid = player.getUniqueId();\n        Document existPlayer = Database.getPlayer(player.getUniqueId());\n        if (existPlayer == null) {\n            try {\n                Document playerDocument = MakePlayerDocument(player, uuid);\n                Database.userCollection.insertOne(playerDocument);\n            } catch (Exception e) {\n                NoWipe.Log.severe(e.getMessage());\n            }\n        }\n    }\n\n    public static Document MakePlayerDocument(Player player, UUID uuid) {\n        String playerModel = new PlayerModel(player, uuid, player.getInventory()).toJson();\n        Document parse = Document.parse(playerModel);\n        return parse;\n    }\n</code></pre>\n<p>and this is my complete log of the error:</p>\n<pre><code>com.google.gson.JsonIOException: Failed making field 'java.lang.ThreadLocal#threadLocalHashCode' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:817) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:795) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:742) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:719) ~[gson-2.10.jar:?]\n        at me.winflix.nowipe.models.PlayerModel.toJson(PlayerModel.java:50) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.utils.GlobalUtils.MakePlayerDocument(GlobalUtils.java:30) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.utils.GlobalUtils.SavePlayerOnFirstJoin(GlobalUtils.java:24) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.events.JoinEvents.PlayerJoinEvent(JoinEvents.java:15) ~[NoWipe.jar:?]\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor51.execute(Unknown Source) ~[?:?]\n        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:80) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:git-Purpur-1905]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:680) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at net.minecraft.server.players.PlayerList.placeNewPlayer(PlayerList.java:319) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.placeNewPlayer(ServerLoginPacketListenerImpl.java:202) ~[?:?]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.handleAcceptedLogin(ServerLoginPacketListenerImpl.java:183) ~[?:?]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.tick(ServerLoginPacketListenerImpl.java:85) ~[?:?]\n        at net.minecraft.network.Connection.tick(Connection.java:594) ~[?:?]\n        at net.minecraft.server.network.ServerConnectionListener.tick(ServerConnectionListener.java:233) ~[?:?]\n        at net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1594) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:482) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1194) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:321) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at java.lang.Thread.run(Thread.java:1589) ~[?:?]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.lang.ThreadLocal.threadLocalHashCode accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2e24b18c\n        at java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[?:?]\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[?:?]\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[?:?]\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]\n        at java.lang.reflect.Field.setAccessible(Field.java:174) ~[?:?]\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:?]\n        ... 40 more\n</code></pre>\n<p>I have read about creating a TypeAdapter from the POJO to Gson but I still don't fully understand how to do it and thanks to everyone :)</p>\n<p>I also tried with Jackson but it gives me another huge error that if necessary I insert it in this post :)</p>\n"},{"tags":["java","android","manifest"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1448981508,"post_id":34023234,"comment_id":55801397,"body_markdown":"Please post the entire manifest and the entire source for `Activities`.","body":"Please post the entire manifest and the entire source for <code>Activities</code>."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448981823,"post_id":34023234,"comment_id":55801645,"body_markdown":"Not the answer, but... `&lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;`: **andorid**??","body":"Not the answer, but... <code>&lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; &#47;&gt;</code>: <b>andorid</b>??"}],"answers":[{"comments":[{"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"score":0,"creation_date":1448981833,"post_id":34023318,"comment_id":55801653,"body_markdown":"yes, removing upper case solved it! it was nothing relevant so.. thanks a lot :)","body":"yes, removing upper case solved it! it was nothing relevant so.. thanks a lot :)"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448981961,"post_id":34023318,"comment_id":55801757,"body_markdown":"@PierGiorgioMisley casing is **always** relevant, on UNIX systems.","body":"@PierGiorgioMisley casing is <b>always</b> relevant, on UNIX systems."},{"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"score":0,"creation_date":1448982098,"post_id":34023318,"comment_id":55801858,"body_markdown":"@FrankN.Stein you suggest me to change it with lowercase?","body":"@FrankN.Stein you suggest me to change it with lowercase?"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1448982674,"post_id":34023318,"comment_id":55802274,"body_markdown":"@PierGiorgioMisley exactly as you did: `yes, removing upper case solved it!`","body":"@PierGiorgioMisley exactly as you did: <code>yes, removing upper case solved it!</code>"}],"tags":[],"owner":{"account_id":7363801,"reputation":1298,"user_id":5606222,"display_name":"Matt"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1448981665,"creation_date":1448981665,"answer_id":34023318,"question_id":34023234,"body_markdown":"The most likely problem appeared because you are using upper case in your package name.","title":"android &quot;use $ instead of .&quot; produce cannot resolve symbol","body":"<p>The most likely problem appeared because you are using upper case in your package name.</p>\n"}],"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34023318,"answer_count":1,"score":3,"last_activity_date":1675611873,"creation_date":1448981446,"question_id":34023234,"body_markdown":"In my manifest. with the new SDK, it requires me to replace my android:name paths with the warning:\r\n\r\n&gt; use $ instead of . for inner classes(or use only lowercase letters in package name)\r\n\r\nThis is one of my activities:\r\n\r\n\r\n    &lt;activity\r\n        android:name=&quot;.Activities.LoginActivity&quot; &gt;\r\n    &lt;/activity&gt;\r\n\r\nand it suggest me to replace it with\r\n\r\n\r\n    &lt;activity\r\n        android:name=&quot;.Activities$LoginActivity&quot; &gt;\r\n    &lt;/activity&gt;\r\n\r\nThe problem is that this produce the following:\r\n\r\n&gt; Cannot resolve symble Activities\r\n\r\nSo, what I have to do? I just ignore the alert or I have to replace it someway else?\r\n\r\nEDIT:\r\n\r\nhere is the source of activities folder:\r\n\r\napp.java.personal.pier.myapp.Activities\r\n\r\n\r\n\r\nthis is my entire manifest, I don&#39;t think it should be need but just in case it is here :)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;personal.pier.myapp&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            android:supportsRtl=&quot;true&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.SplashScreenActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.LoginActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.HomePageActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodManagementActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodDetailsActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingSuntActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingDetailsActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.Activities.SportAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n","title":"android &quot;use $ instead of .&quot; produce cannot resolve symbol","body":"<p>In my manifest. with the new SDK, it requires me to replace my android:name paths with the warning:</p>\n\n<blockquote>\n  <p>use $ instead of . for inner classes(or use only lowercase letters in package name)</p>\n</blockquote>\n\n<p>This is one of my activities:</p>\n\n<pre><code>&lt;activity\n    android:name=\".Activities.LoginActivity\" &gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>and it suggest me to replace it with</p>\n\n<pre><code>&lt;activity\n    android:name=\".Activities$LoginActivity\" &gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>The problem is that this produce the following:</p>\n\n<blockquote>\n  <p>Cannot resolve symble Activities</p>\n</blockquote>\n\n<p>So, what I have to do? I just ignore the alert or I have to replace it someway else?</p>\n\n<p>EDIT:</p>\n\n<p>here is the source of activities folder:</p>\n\n<p>app.java.personal.pier.myapp.Activities</p>\n\n<p>this is my entire manifest, I don't think it should be need but just in case it is here :)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"personal.pier.myapp\" &gt;\n\n    &lt;uses-permission android:name=\"andorid.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\"\n        android:supportsRtl=\"true\" &gt;\n        &lt;activity\n            android:name=\".Activities.SplashScreenActivity\"\n            android:label=\"@string/app_name\"\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.LoginActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.HomePageActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodAddActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodManagementActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodDetailsActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingSuntActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingDetailsActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingAddActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".Activities.SportAddActivity\" &gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","terminal","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1673305171,"post_id":75063780,"comment_id":132465202,"body_markdown":"You only _think_ you are using Java 19.  Gradle is finding a Java 8 JVM and using that.  You need to ensure that Gradle has the correct path to an appropriate JVM","body":"You only <i>think</i> you are using Java 19.  Gradle is finding a Java 8 JVM and using that.  You need to ensure that Gradle has the correct path to an appropriate JVM"},{"owner":{"account_id":20897995,"reputation":1,"user_id":15351713,"display_name":"Silo mat"},"score":0,"creation_date":1673305673,"post_id":75063780,"comment_id":132465279,"body_markdown":"yes, it definetly is a Java 19 JVM. Maybe it&#39;s because I&#39;ve got another jdk version installed on my machine? But I&#39;m using intelliJ and it definetly says that the gradle JVM is set to Project SDK open jdk-19","body":"yes, it definetly is a Java 19 JVM. Maybe it&#39;s because I&#39;ve got another jdk version installed on my machine? But I&#39;m using intelliJ and it definetly says that the gradle JVM is set to Project SDK open jdk-19"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1673312772,"post_id":75063780,"comment_id":132466285,"body_markdown":"Clearly the gradle process has the old JVM 8 earlier in the path.","body":"Clearly the gradle process has the old JVM 8 earlier in the path."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673337264,"post_id":75063780,"comment_id":132470115,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673382923,"post_id":75073199,"comment_id":132485348,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75073199/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"display_name":"user20975576"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673368959,"creation_date":1673368959,"answer_id":75073199,"question_id":75063780,"body_markdown":"Well, you must use Java 17, because Minecraft 1.19 uses this Java version :)","title":"getting this error with running ./gradlew genSources command","body":"<p>Well, you must use Java 17, because Minecraft 1.19 uses this Java version :)</p>\n"},{"tags":[],"owner":{"account_id":22914553,"reputation":11,"user_id":17969278,"display_name":"Alice Carvalho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675611742,"creation_date":1675611742,"answer_id":75353478,"question_id":75063780,"body_markdown":"Since minecraft 1.19 was architectured around jdk-17, some methods end up breaking when running it on jdk-19, meaning the game won&#39;t even start. \r\nif you set it to run with jdk-17, it should work fine","title":"getting this error with running ./gradlew genSources command","body":"<p>Since minecraft 1.19 was architectured around jdk-17, some methods end up breaking when running it on jdk-19, meaning the game won't even start.\nif you set it to run with jdk-17, it should work fine</p>\n"}],"owner":{"account_id":20897995,"reputation":1,"user_id":15351713,"display_name":"Silo mat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675611742,"creation_date":1673305015,"question_id":75063780,"body_markdown":"I&#39;m trying to execute the gradlew genSources command here, but it says I&#39;m using an outdated version of java, and that I at least must have Java version 17.\r\n\r\n```\r\nPS D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19&gt; ./gradlew genSources\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nAn exception occurred applying plugin request [id: &#39;fabric-loom&#39;, version: &#39;1.0-SNAPSHOT&#39;]\r\n&gt; Failed to apply plugin &#39;fabric-loom&#39;.\r\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 621ms\r\n```\r\n\r\nI went to File &gt; Project Structure &gt; Project and the SDK property is clearly set to openjdk-19, the language level property is set to SDK default(19). I went to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle, which tells me that the Gradle JVM property is set to Project SDK openjdk-19.\r\n\r\nusing a Windows 10 machine","title":"getting this error with running ./gradlew genSources command","body":"<p>I'm trying to execute the gradlew genSources command here, but it says I'm using an outdated version of java, and that I at least must have Java version 17.</p>\n<pre><code>PS D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19&gt; ./gradlew genSources\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19\\build.gradle' line: 2\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'fabric-loom', version: '1.0-SNAPSHOT']\n&gt; Failed to apply plugin 'fabric-loom'.\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 621ms\n</code></pre>\n<p>I went to File &gt; Project Structure &gt; Project and the SDK property is clearly set to openjdk-19, the language level property is set to SDK default(19). I went to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle, which tells me that the Gradle JVM property is set to Project SDK openjdk-19.</p>\n<p>using a Windows 10 machine</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1675093537,"post_id":75286734,"comment_id":132849103,"body_markdown":"You&#39;re not calling getRef on anything, so it defaults to being called on your Adapter class.  And that class doesn&#39;t have a getRef function.  Either you&#39;re missing a function or you&#39;re missing the variable you wanted to call it on.","body":"You&#39;re not calling getRef on anything, so it defaults to being called on your Adapter class.  And that class doesn&#39;t have a getRef function.  Either you&#39;re missing a function or you&#39;re missing the variable you wanted to call it on."},{"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"score":0,"creation_date":1675093690,"post_id":75286734,"comment_id":132849161,"body_markdown":"then how can I delete data from firebase in this case? plz help me with an example code!","body":"then how can I delete data from firebase in this case? plz help me with an example code!"},{"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"score":0,"creation_date":1675095593,"post_id":75286734,"comment_id":132849818,"body_markdown":"plz help me, am trying it for very long @GabeSechan","body":"plz help me, am trying it for very long @GabeSechan"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675153786,"post_id":75286734,"comment_id":132862037,"body_markdown":"`getRef()` should be called on a [DataSnapshot](https://firebase.google.com/docs/reference/kotlin/com/google/firebase/database/DataSnapshot#getRef()) object, that&#39;s the reason why you get that error. However, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or even this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) might help.","body":"<code>getRef()</code> should be called on a <a href=\"https://firebase.google.com/docs/reference/kotlin/com/google/firebase/database/DataSnapshot#getRef()\" rel=\"nofollow noreferrer\">DataSnapshot</a> object, that&#39;s the reason why you get that error. However, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> or even this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">resource</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675611466,"creation_date":1675611398,"answer_id":75353420,"question_id":75286734,"body_markdown":"To delete any data instance from Firebase, one must implement FirebaseRecyclerAdapter as mentioned [here][1] \r\n\r\n\r\nalso get help from this video, if required [click here][2].\r\n\r\n\r\n  [1]: https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/\r\n  [2]: https://youtu.be/ePKC5ZEqeNY","title":"Cannot resolve method &#39;getRef(int)&#39;","body":"<p>To delete any data instance from Firebase, one must implement FirebaseRecyclerAdapter as mentioned <a href=\"https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>also get help from this video, if required <a href=\"https://youtu.be/ePKC5ZEqeNY\" rel=\"nofollow noreferrer\">click here</a>.</p>\n"}],"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675611590,"creation_date":1675093273,"question_id":75286734,"body_markdown":"[here is the error][1] I want to delete data from firebase using .removeValue(); but can&#39;t fetch the key inside child using .child(getRef(position).getKey()); it says &quot;Cannot resolve method &#39;getRef(int)&#39;&quot;\r\n\r\nI tried to get the key using getter &amp; setter in model class, but that too didn&#39;t work!\r\nAndroid Studio it does not resolve getRef(int) method. Here is the code:\r\n\r\n\r\n\r\n```\r\npublic class RecyclerContactAdapter extends RecyclerView.Adapter&lt;RecyclerContactAdapter.ViewHolder&gt; {\r\n\r\n\r\n\r\nContext context;\r\n\r\nArrayList&lt;User&gt; list;\r\n\r\nDataSnapshot snapshot;\r\n\r\nFirebaseFirestore firestore;\r\nFirebaseAuth auth;\r\n\r\nDatabaseReference reference;\r\n\r\n\r\n\r\n\r\n//for search\r\npublic void setFilteredList(ArrayList&lt;User&gt; filteredList){\r\n    this.list = filteredList;\r\n    notifyDataSetChanged();\r\n    }\r\n\r\npublic RecyclerContactAdapter(Context context, ArrayList&lt;User&gt;list){\r\n\r\n     this.context = context;\r\n     this.list = list;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View view = LayoutInflater.from(context).inflate(R.layout.contact_row, parent, false);\r\n\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        User user = list.get(position);\r\n//        String id1 = list.get(position).getKey();\r\n\r\n        holder.name.setText(user.getName());\r\n        holder.chn.setText(user.getChn());\r\n        holder.shn.setText(user.getShn());\r\n        holder.phone.setText(user.getPhone());\r\n\r\n        holder.hostel_optn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            FirebaseDatabase.getInstance().getReference().child(&quot;HostelSwappingDatabase&quot;)\r\n                    .child(getRef(position).getKey())\r\n                    .removeValue();\r\n\r\n\r\n            }\r\n        });\r\n\r\n        holder.setIsRecyclable(false);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n\r\n//\r\n    @Override\r\n    public long getItemId(int position) {\r\n\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n//\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView name, chn, shn, phone;\r\n        ImageView hostel_optn;\r\n\r\n        public ViewHolder(View itemView){\r\n           super(itemView);\r\n\r\n           name = itemView.findViewById(R.id.name);\r\n           chn = itemView.findViewById(R.id.chn);\r\n           shn = itemView.findViewById(R.id.shn);\r\n           phone = itemView.findViewById(R.id.phone);\r\n\r\n\r\n           hostel_optn = itemView.findViewById(R.id.hostel_optn);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZUlru.png","title":"Cannot resolve method &#39;getRef(int)&#39;","body":"<p><a href=\"https://i.stack.imgur.com/ZUlru.png\" rel=\"nofollow noreferrer\">here is the error</a> I want to delete data from firebase using .removeValue(); but can't fetch the key inside child using .child(getRef(position).getKey()); it says &quot;Cannot resolve method 'getRef(int)'&quot;</p>\n<p>I tried to get the key using getter &amp; setter in model class, but that too didn't work!\nAndroid Studio it does not resolve getRef(int) method. Here is the code:</p>\n<pre><code>public class RecyclerContactAdapter extends RecyclerView.Adapter&lt;RecyclerContactAdapter.ViewHolder&gt; {\n\n\n\nContext context;\n\nArrayList&lt;User&gt; list;\n\nDataSnapshot snapshot;\n\nFirebaseFirestore firestore;\nFirebaseAuth auth;\n\nDatabaseReference reference;\n\n\n\n\n//for search\npublic void setFilteredList(ArrayList&lt;User&gt; filteredList){\n    this.list = filteredList;\n    notifyDataSetChanged();\n    }\n\npublic RecyclerContactAdapter(Context context, ArrayList&lt;User&gt;list){\n\n     this.context = context;\n     this.list = list;\n\n\n    }\n\n\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View view = LayoutInflater.from(context).inflate(R.layout.contact_row, parent, false);\n\n\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        User user = list.get(position);\n//        String id1 = list.get(position).getKey();\n\n        holder.name.setText(user.getName());\n        holder.chn.setText(user.getChn());\n        holder.shn.setText(user.getShn());\n        holder.phone.setText(user.getPhone());\n\n        holder.hostel_optn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            FirebaseDatabase.getInstance().getReference().child(&quot;HostelSwappingDatabase&quot;)\n                    .child(getRef(position).getKey())\n                    .removeValue();\n\n\n            }\n        });\n\n        holder.setIsRecyclable(false);\n\n\n    }\n\n\n\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n\n//\n    @Override\n    public long getItemId(int position) {\n\n        return position;\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return position;\n    }\n\n//\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        TextView name, chn, shn, phone;\n        ImageView hostel_optn;\n\n        public ViewHolder(View itemView){\n           super(itemView);\n\n           name = itemView.findViewById(R.id.name);\n           chn = itemView.findViewById(R.id.chn);\n           shn = itemView.findViewById(R.id.shn);\n           phone = itemView.findViewById(R.id.phone);\n\n\n           hostel_optn = itemView.findViewById(R.id.hostel_optn);\n\n        }\n\n\n\n\n\n\n\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java-8","primes"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1602036182,"post_id":44366942,"comment_id":113590148,"body_markdown":"While it is nice to use Java 8 streams, if you want to compute primes fast in Java, you would do better to use conventional loops ... and pick a good algorithm.","body":"While it is nice to use Java 8 streams, if you want to compute primes fast in Java, you would do better to use conventional loops ... and pick a good algorithm."}],"answers":[{"comments":[{"owner":{"account_id":4247317,"reputation":4487,"user_id":3475600,"display_name":"srborlongan"},"score":1,"creation_date":1496660574,"post_id":44367443,"comment_id":75736019,"body_markdown":"IntStream::noneMatch could also be used instead: return IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);","body":"IntStream::noneMatch could also be used instead: return IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);"},{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1496662086,"post_id":44367443,"comment_id":75736836,"body_markdown":"Instead of doing it in the isPrime method can we do it in the main stream itself?","body":"Instead of doing it in the isPrime method can we do it in the main stream itself?"},{"owner":{"account_id":1049705,"reputation":5187,"user_id":1053930,"accept_rate":67,"display_name":"Shashwat Kumar"},"score":1,"creation_date":1496662498,"post_id":44367443,"comment_id":75737003,"body_markdown":"@srborlongan Thanks. Updated with your suggestion.","body":"@srborlongan Thanks. Updated with your suggestion."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1602035918,"post_id":44367443,"comment_id":113590102,"body_markdown":"You only need to check from 2 to sqrt(number)","body":"You only need to check from 2 to sqrt(number)"},{"owner":{"account_id":3907791,"reputation":329,"user_id":3234014,"display_name":"kanbagoly"},"score":0,"creation_date":1672536940,"post_id":44367443,"comment_id":132304252,"body_markdown":"As stated before, you only need to go `sqrt(number)`. But more importantly, the implementation itself is wrong. The very first test number in the question to test is one. This code recognizes number one as a prime number! As the range will be empty, so none will match. But the same will happen with number zero as it is also recognized by this code as prime, and all the negative numbers as well.","body":"As stated before, you only need to go <code>sqrt(number)</code>. But more importantly, the implementation itself is wrong. The very first test number in the question to test is one. This code recognizes number one as a prime number! As the range will be empty, so none will match. But the same will happen with number zero as it is also recognized by this code as prime, and all the negative numbers as well."}],"tags":[],"owner":{"account_id":1049705,"reputation":5187,"user_id":1053930,"accept_rate":67,"display_name":"Shashwat Kumar"},"comment_count":5,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1496662472,"creation_date":1496660285,"answer_id":44367443,"question_id":44366942,"body_markdown":"[IntStream][1] can be used to generate integer stream\r\n\r\n    public static boolean isPrime(int number) {\r\n    \treturn !IntStream.rangeClosed(2, number/2).anyMatch(i -&gt; number%i == 0); \r\n    }\r\nor\r\n\r\n    public static boolean isPrime(int number) {\r\n    \treturn IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"Prime number in java 8","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a> can be used to generate integer stream</p>\n\n<pre><code>public static boolean isPrime(int number) {\n    return !IntStream.rangeClosed(2, number/2).anyMatch(i -&gt; number%i == 0); \n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public static boolean isPrime(int number) {\n    return IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1049705,"reputation":5187,"user_id":1053930,"accept_rate":67,"display_name":"Shashwat Kumar"},"score":0,"creation_date":1496676144,"post_id":44371487,"comment_id":75745544,"body_markdown":"OP is not rooting for optimization. He wants only java8 solution to minimize the code. Also `i*i &lt;= number` would be slightly more optimal than `i &lt;= sqrt(number)`","body":"OP is not rooting for optimization. He wants only java8 solution to minimize the code. Also <code>i*i &lt;= number</code> would be slightly more optimal than <code>i &lt;= sqrt(number)</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1496677057,"post_id":44371487,"comment_id":75746080,"body_markdown":"@ShashwatKumar OP might not even know there is a better way... plus one.","body":"@ShashwatKumar OP might not even know there is a better way... plus one."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":2,"creation_date":1496687492,"post_id":44371487,"comment_id":75751779,"body_markdown":"@Shaswat It might be more optimal for checking small numbers.  For checking large numbers, either prime or with only large prime factors, then pre-calculating the square root once only is better.  It depends on the data the method is fed.","body":"@Shaswat It might be more optimal for checking small numbers.  For checking large numbers, either prime or with only large prime factors, then pre-calculating the square root once only is better.  It depends on the data the method is fed."},{"owner":{"account_id":3907791,"reputation":329,"user_id":3234014,"display_name":"kanbagoly"},"score":0,"creation_date":1672583538,"post_id":44371487,"comment_id":132308574,"body_markdown":"Number one is not a prime, however this implementation retrns `true`. Similarly for negative odd numbers it returns `true` as well.","body":"Number one is not a prime, however this implementation retrns <code>true</code>. Similarly for negative odd numbers it returns <code>true</code> as well."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1672585304,"post_id":44371487,"comment_id":132308843,"body_markdown":"Thanks for the comment. Code amended.","body":"Thanks for the comment. Code amended."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1672664249,"post_id":44371487,"comment_id":132322061,"body_markdown":"Good answer! I am curious to know why you have added 0.1. [Primality test](https://en.wikipedia.org/wiki/Primality_test) doesn&#39;t mention adding 0.1.","body":"Good answer! I am curious to know why you have added 0.1. <a href=\"https://en.wikipedia.org/wiki/Primality_test\" rel=\"nofollow noreferrer\">Primality test</a> doesn&#39;t mention adding 0.1."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1672674378,"post_id":44371487,"comment_id":132324947,"body_markdown":"@Arvind. It is for cases where you are testing a square number, and the decimal square root calculation is just a little off, something like giving &quot;sqrt(49) = 6.999982543&quot; which gets truncated down to 6 instead of the correct 7. Adding 0.1 will make sure it is truncated to the correct value. HTH.","body":"@Arvind. It is for cases where you are testing a square number, and the decimal square root calculation is just a little off, something like giving &quot;sqrt(49) = 6.999982543&quot; which gets truncated down to 6 instead of the correct 7. Adding 0.1 will make sure it is truncated to the correct value. HTH."}],"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1672585459,"creation_date":1496673716,"answer_id":44371487,"question_id":44366942,"body_markdown":"Your `isPrime()` is inefficient.  First, you do not need to divide by any even numbers greater than 2, since an initial division by 2 will catch all even non-primes.  Second, you terminate your loop at `number / 2` instead of the more efficient `sqrt(number)`.\r\n\r\nYou could rewrite your method something like this:\r\n\r\n    public static boolean isPrime(int number) {\r\n\r\n        // Low numbers\r\n        if (number &lt; 2) {\r\n          return false;\r\n        }\r\n\r\n        // Even numbers\r\n        if (number % 2 == 0) {\r\n            return number == 2;\r\n        }\r\n\r\n        // Odd numbers\r\n        int limit = (int)(0.1 + Math.sqrt(number));\r\n        for (int i = 3; i &lt;= limit; i += 2) {\r\n            if (number % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nThe Sieve of Eratosthenes would be more efficient still, but that might be overkill for a relatively small problem.\r\n","title":"Prime number in java 8","body":"<p>Your <code>isPrime()</code> is inefficient.  First, you do not need to divide by any even numbers greater than 2, since an initial division by 2 will catch all even non-primes.  Second, you terminate your loop at <code>number / 2</code> instead of the more efficient <code>sqrt(number)</code>.</p>\n<p>You could rewrite your method something like this:</p>\n<pre><code>public static boolean isPrime(int number) {\n\n    // Low numbers\n    if (number &lt; 2) {\n      return false;\n    }\n\n    // Even numbers\n    if (number % 2 == 0) {\n        return number == 2;\n    }\n\n    // Odd numbers\n    int limit = (int)(0.1 + Math.sqrt(number));\n    for (int i = 3; i &lt;= limit; i += 2) {\n        if (number % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>The Sieve of Eratosthenes would be more efficient still, but that might be overkill for a relatively small problem.</p>\n"},{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":1,"creation_date":1623246004,"post_id":44376332,"comment_id":120024445,"body_markdown":"`for (int j = i * i; j &lt; limit; j += i) { bitSet.set(j, false); }` will probably save a lot of cycles. Your `x` should start at `i` because for the values from `2*i` to `i*(i-1)`, were already set to false in the previous iterations. There are less useless computations, and multiplication is replaced by addition, which is usually easier for the CPU.","body":"<code>for (int j = i * i; j &lt; limit; j += i) { bitSet.set(j, false); }</code> will probably save a lot of cycles. Your <code>x</code> should start at <code>i</code> because for the values from <code>2*i</code> to <code>i*(i-1)</code>, were already set to false in the previous iterations. There are less useless computations, and multiplication is replaced by addition, which is usually easier for the CPU."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1623248331,"post_id":44376332,"comment_id":120025629,"body_markdown":"[Here](https://tio.run/##VZAxb4MwEIX3/IoboaFWUnWjWbp16MQYZXDJBR0FQ@yDtqry2@lhm4gimZN933v37FqP@rE@f04TtX1nGWo5UANTo16JC@R8UzbaOXjXZOB3A9APHw2V4FizlLGjM7TSSwq2ZKrjCbStXOpRgFFbaKglhgO8GcYKreq1dSibZAaPu1Oa31FHOKKgvaUWi3mTeHVEih/H2KpuYCWE4cYkXqEcW9RtkqqyG8Q49fxNVkwZrrK2FXUItk66jDf4FSX/xsdZcvqUBXEGbAeM7UtnwfuSWAjhrlKf87m@BDz3rWBj8HseIGMSgi3s0yggeABaQq1M61l5zaXezWrYHtbsOmGdwUU3bskWXmP5W@TBmkCHl7pN07TfLd8f) is an  optimized version to reduce cycle usage.","body":"<a href=\"https://tio.run/##VZAxb4MwEIX3/IoboaFWUnWjWbp16MQYZXDJBR0FQ@yDtqry2@lhm4gimZN933v37FqP@rE@f04TtX1nGWo5UANTo16JC@R8UzbaOXjXZOB3A9APHw2V4FizlLGjM7TSSwq2ZKrjCbStXOpRgFFbaKglhgO8GcYKreq1dSibZAaPu1Oa31FHOKKgvaUWi3mTeHVEih/H2KpuYCWE4cYkXqEcW9RtkqqyG8Q49fxNVkwZrrK2FXUItk66jDf4FSX/xsdZcvqUBXEGbAeM7UtnwfuSWAjhrlKf87m@BDz3rWBj8HseIGMSgi3s0yggeABaQq1M61l5zaXezWrYHtbsOmGdwUU3bskWXmP5W@TBmkCHl7pN07TfLd8f\" rel=\"nofollow noreferrer\">Here</a> is an  optimized version to reduce cycle usage."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623250049,"post_id":44376332,"comment_id":120026499,"body_markdown":"@OlivierGr&#233;goire oh, that is a great point. I will leave the code as is and let anyone else to defer to your excellent comment.","body":"@OlivierGr&#233;goire oh, that is a great point. I will leave the code as is and let anyone else to defer to your excellent comment."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496742299,"creation_date":1496691040,"answer_id":44376332,"question_id":44366942,"body_markdown":"As suggest by @rossum you can use the famous [Sieve of Eratosthenes][1] for this and it will compute the primes pretty fast.\r\n\r\n     private static BitSet primes(int limit) {\r\n        BitSet bitSet = new BitSet(limit);\r\n        bitSet.set(0, false);\r\n        bitSet.set(1, false);\r\n        bitSet.set(2, limit, true);\r\n\r\n        for (int i = 2; i * i &lt; limit; ++i) {\r\n\r\n            if (bitSet.get(i)) {\r\n                int j = i;\r\n                int x = 2;\r\n                while (j &lt; limit) {\r\n                    j = i * x;\r\n                    bitSet.set(j, false);\r\n                    ++x;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        return bitSet;\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes","title":"Prime number in java 8","body":"<p>As suggest by @rossum you can use the famous <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a> for this and it will compute the primes pretty fast.</p>\n\n<pre><code> private static BitSet primes(int limit) {\n    BitSet bitSet = new BitSet(limit);\n    bitSet.set(0, false);\n    bitSet.set(1, false);\n    bitSet.set(2, limit, true);\n\n    for (int i = 2; i * i &lt; limit; ++i) {\n\n        if (bitSet.get(i)) {\n            int j = i;\n            int x = 2;\n            while (j &lt; limit) {\n                j = i * x;\n                bitSet.set(j, false);\n                ++x;\n            }\n        }\n\n    }\n\n    return bitSet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8592139,"reputation":9634,"user_id":6436398,"display_name":"Deep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529430236,"creation_date":1529430236,"answer_id":50934178,"question_id":44366942,"body_markdown":"You can achieve the desired using predicate as well.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.function.IntPredicate;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class PrimeUsingStream {\r\n    \t \r\n    \t public static boolean isPrime(int i) {\r\n    \t\t    IntPredicate isDivisible = index -&gt; i % index == 0;\r\n    \t\t\treturn i &gt; 1 &amp;&amp; IntStream.range(2, i).noneMatch(isDivisible);\r\n    \t }\r\n    \t \r\n    \t public static void main(String[] args) \r\n    \t {\r\n    \t\r\n    \t    //System.out.println(printPrime(200));\r\n    \t\t \r\n    \t\t List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20,23);\r\n    \t        // Prime number \r\n    \t    System.out.println(numbers.stream()\r\n    \t                             .filter(PrimeUsingStream::isPrime)\r\n    \t                             .collect(Collectors.toList()));\r\n    \t }\r\n    \r\n    }\r\n\r\n","title":"Prime number in java 8","body":"<p>You can achieve the desired using predicate as well.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.function.IntPredicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class PrimeUsingStream {\n\n     public static boolean isPrime(int i) {\n            IntPredicate isDivisible = index -&gt; i % index == 0;\n            return i &gt; 1 &amp;&amp; IntStream.range(2, i).noneMatch(isDivisible);\n     }\n\n     public static void main(String[] args) \n     {\n\n        //System.out.println(printPrime(200));\n\n         List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20,23);\n            // Prime number \n        System.out.println(numbers.stream()\n                                 .filter(PrimeUsingStream::isPrime)\n                                 .collect(Collectors.toList()));\n     }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10627842,"reputation":21,"user_id":7826981,"display_name":"S. Zror"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547762300,"creation_date":1547762300,"answer_id":54244880,"question_id":44366942,"body_markdown":"You can use stream as this test below:\r\n\r\n    @Test\r\n    public void generatePrimeNumberListByStream(){\r\n        List&lt;Integer&gt; primeNumbers =\r\n                IntStream\r\n                        .range(2,30)\r\n                        .filter(number -&gt; IntStream.range(2,number)\r\n                                .noneMatch(divider -&gt; number % divider == 0))\r\n                        .boxed()\r\n                        .collect(Collectors.toList());\r\n        assertThat(primeNumbers, contains(2,3,5,7,11,13, 17,19, 23, 29));\r\n    }","title":"Prime number in java 8","body":"<p>You can use stream as this test below:</p>\n\n<pre><code>@Test\npublic void generatePrimeNumberListByStream(){\n    List&lt;Integer&gt; primeNumbers =\n            IntStream\n                    .range(2,30)\n                    .filter(number -&gt; IntStream.range(2,number)\n                            .noneMatch(divider -&gt; number % divider == 0))\n                    .boxed()\n                    .collect(Collectors.toList());\n    assertThat(primeNumbers, contains(2,3,5,7,11,13, 17,19, 23, 29));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599487863,"creation_date":1597052409,"answer_id":63337713,"question_id":44366942,"body_markdown":"You can use algorithm [Sieve of Eratosthenes](https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes) like this\r\n\r\n    public static IntStream primes(int max) {\r\n        IntStream primes = IntStream.range(2, max);\r\n        IntFunction&lt;IntPredicate&gt; sieve = n -&gt; i -&gt; i == n || i % n != 0;\r\n        primes = primes.filter(sieve.apply(2));\r\n        for (int i = 3; i * i &lt;= max; i += 2)\r\n            primes = primes.filter(sieve.apply(i));\r\n        return primes;\r\n    }\r\n\r\nand\r\n\r\n    System.out.println(primes(100).count());    // -&gt; 25\r\n    System.out.println(primes(1000).count());   // -&gt; 168\r\n    System.out.println(primes(10000).count());  // -&gt; 1229\r\n","title":"Prime number in java 8","body":"<p>You can use algorithm <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"noreferrer\">Sieve of Eratosthenes</a> like this</p>\n<pre><code>public static IntStream primes(int max) {\n    IntStream primes = IntStream.range(2, max);\n    IntFunction&lt;IntPredicate&gt; sieve = n -&gt; i -&gt; i == n || i % n != 0;\n    primes = primes.filter(sieve.apply(2));\n    for (int i = 3; i * i &lt;= max; i += 2)\n        primes = primes.filter(sieve.apply(i));\n    return primes;\n}\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(primes(100).count());    // -&gt; 25\nSystem.out.println(primes(1000).count());   // -&gt; 168\nSystem.out.println(primes(10000).count());  // -&gt; 1229\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":1,"creation_date":1602038609,"post_id":64235815,"comment_id":113590603,"body_markdown":"This would be a better answer if you explained how the code you provided answers the question.","body":"This would be a better answer if you explained how the code you provided answers the question."},{"owner":{"account_id":19007538,"reputation":8436,"user_id":13873980,"display_name":"Joe Ferndz"},"score":1,"creation_date":1602039741,"post_id":64235815,"comment_id":113590814,"body_markdown":"While the code may answer the question, it is always best to provide explanation. Please read about what to do when someone [answers](https://stackoverflow.com/help/someone-answers) your question.","body":"While the code may answer the question, it is always best to provide explanation. Please read about what to do when someone <a href=\"https://stackoverflow.com/help/someone-answers\">answers</a> your question."},{"owner":{"account_id":10026752,"reputation":36,"user_id":7414719,"display_name":"Spang"},"score":0,"creation_date":1602062620,"post_id":64235815,"comment_id":113598333,"body_markdown":"Thanks guys added some explanations.","body":"Thanks guys added some explanations."}],"tags":[],"owner":{"account_id":10026752,"reputation":36,"user_id":7414719,"display_name":"Spang"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602062709,"creation_date":1602033052,"answer_id":64235815,"question_id":44366942,"body_markdown":"    public static boolean isPrime(int i) {\r\n        return i % 2 != 0 &amp;&amp; IntStream.iterate(\r\n                3, n -&gt; n &lt;= (int)(Math.sqrt(i)), n -&gt; n + 2)\r\n                .noneMatch(k-&gt;i%k==0);\r\n    }\r\n\r\niterate takes 3 parameters, similar to a for loop, base is the start, the second is the stop condition, third is the increment rule.\r\n1 and 2 are prime already so we start at 3 and we stop before reaching the square root of the number. The idea is that suppose n is a positive integer  n=pq, where p and q are prime numbers. Assume p greater than square root of n and greater than square root of n. Multiplying these inequalities we have p*q &gt; sqrt n * sqrt n, which implies pq &gt; n. This is a contradiction to our hypothesis n=pq. Hence we can conclude that either p less or equal sqrt n or q less than equal sqrt n.  \r\n\r\n&gt; n -&gt; n &lt;= (int)(Math.sqrt(i))\r\n\r\nfinally we do not need to check even numbers as long as it is not divisible by 2 so we only try every second number. \r\n\r\n&gt; (n -&gt; n+2)","title":"Prime number in java 8","body":"<pre><code>public static boolean isPrime(int i) {\n    return i % 2 != 0 &amp;&amp; IntStream.iterate(\n            3, n -&gt; n &lt;= (int)(Math.sqrt(i)), n -&gt; n + 2)\n            .noneMatch(k-&gt;i%k==0);\n}\n</code></pre>\n<p>iterate takes 3 parameters, similar to a for loop, base is the start, the second is the stop condition, third is the increment rule.\n1 and 2 are prime already so we start at 3 and we stop before reaching the square root of the number. The idea is that suppose n is a positive integer  n=pq, where p and q are prime numbers. Assume p greater than square root of n and greater than square root of n. Multiplying these inequalities we have p*q &gt; sqrt n * sqrt n, which implies pq &gt; n. This is a contradiction to our hypothesis n=pq. Hence we can conclude that either p less or equal sqrt n or q less than equal sqrt n.</p>\n<blockquote>\n<p>n -&gt; n &lt;= (int)(Math.sqrt(i))</p>\n</blockquote>\n<p>finally we do not need to check even numbers as long as it is not divisible by 2 so we only try every second number.</p>\n<blockquote>\n<p>(n -&gt; n+2)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1622222,"reputation":435,"user_id":1498537,"display_name":"alfiogang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606491945,"creation_date":1606491945,"answer_id":65040084,"question_id":44366942,"body_markdown":"**Java8+ solution**\r\n\r\n```\r\npublic static boolean isPrime(long number) {\r\n    return number&gt;1 &amp;&amp; LongStream.rangeClosed(2, number / 2).noneMatch(i -&gt; number % i == 0);\r\n}\r\n```\r\n\r\n***need to exclude 1!!*** \r\n\r\n&gt; A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.\r\n\r\nhttps://en.wikipedia.org/wiki/Prime_number","title":"Prime number in java 8","body":"<p><strong>Java8+ solution</strong></p>\n<pre><code>public static boolean isPrime(long number) {\n    return number&gt;1 &amp;&amp; LongStream.rangeClosed(2, number / 2).noneMatch(i -&gt; number % i == 0);\n}\n</code></pre>\n<p><em><strong>need to exclude 1!!</strong></em></p>\n<blockquote>\n<p>A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.</p>\n</blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Prime_number\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Prime_number</a></p>\n"},{"tags":[],"owner":{"account_id":7718980,"reputation":76,"user_id":5845762,"display_name":"Akhil KC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623248983,"creation_date":1623244725,"answer_id":67904969,"question_id":44366942,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = IntStream.range(0, 100).filter(i -&gt; isPrime(i)).boxed().collect(Collectors.toList());\r\n\t\tSystem.out.println(list);\r\n\r\n\t}\r\n\r\n\tstatic boolean isPrime(int number) {\r\n\t\treturn number &gt; 1 &amp;&amp; IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number % i == 0);\r\n\t}","title":"Prime number in java 8","body":"<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = IntStream.range(0, 100).filter(i -&gt; isPrime(i)).boxed().collect(Collectors.toList());\n    System.out.println(list);\n\n}\n\nstatic boolean isPrime(int number) {\n    return number &gt; 1 &amp;&amp; IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number % i == 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3907791,"reputation":329,"user_id":3234014,"display_name":"kanbagoly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672663210,"creation_date":1672606046,"answer_id":74977306,"question_id":44366942,"body_markdown":"I am coming late to the game, but I am sharing my solution because there is a surprising number of incorrect implementations shared and the following code has better performance than the other `boolean isPrime(int candidate)` solutions.\r\n\r\nThe solution in the original post, the accepted answer, and many more answers are incorrect because they identify negative numbers, zero, and one as prime numbers, which they are not. See Wikipedia: https://en.wikipedia.org/wiki/Prime_number\r\n&gt; A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.\r\n\r\nThe solution is faster than other `boolean isPrime(int candidate)` solutions due to:\r\n* It is sufficient to do the check up to `Math.sqrt(candidate)`.\r\n* The original post likes to use Java 8&#39;s Stream API. However, most people want prime calculations to be fast, which is more important than using the Stream API what would bring huge overhead.\r\n* It uses the fact that all primes (except 2 and 3) have to be at `6k&#177;1`. Therefore, it skips testing numbers that are divisible by 2 or 3. It will only test the groups of (5, 7), (11, 13) and so on.\r\n\r\n```\r\nstatic boolean isPrime(int candidate) {\r\n    if (candidate &lt; 4) {\r\n        return candidate &gt; 1;\r\n    }\r\n    if (candidate % 2 == 0 || candidate % 3 == 0) {\r\n        return false;\r\n    }\r\n    for (int i = 5; i &lt;= Math.sqrt(candidate); i += 6) {\r\n        if (candidate % i == 0 || candidate % (i + 2) == 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```","title":"Prime number in java 8","body":"<p>I am coming late to the game, but I am sharing my solution because there is a surprising number of incorrect implementations shared and the following code has better performance than the other <code>boolean isPrime(int candidate)</code> solutions.</p>\n<p>The solution in the original post, the accepted answer, and many more answers are incorrect because they identify negative numbers, zero, and one as prime numbers, which they are not. See Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Prime_number\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Prime_number</a></p>\n<blockquote>\n<p>A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.</p>\n</blockquote>\n<p>The solution is faster than other <code>boolean isPrime(int candidate)</code> solutions due to:</p>\n<ul>\n<li>It is sufficient to do the check up to <code>Math.sqrt(candidate)</code>.</li>\n<li>The original post likes to use Java 8's Stream API. However, most people want prime calculations to be fast, which is more important than using the Stream API what would bring huge overhead.</li>\n<li>It uses the fact that all primes (except 2 and 3) have to be at <code>6k±1</code>. Therefore, it skips testing numbers that are divisible by 2 or 3. It will only test the groups of (5, 7), (11, 13) and so on.</li>\n</ul>\n<pre><code>static boolean isPrime(int candidate) {\n    if (candidate &lt; 4) {\n        return candidate &gt; 1;\n    }\n    if (candidate % 2 == 0 || candidate % 3 == 0) {\n        return false;\n    }\n    for (int i = 5; i &lt;= Math.sqrt(candidate); i += 6) {\n        if (candidate % i == 0 || candidate % (i + 2) == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46417,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44367443,"answer_count":10,"score":6,"last_activity_date":1675611445,"creation_date":1496658518,"question_id":44366942,"body_markdown":"I was trying to write a simple prime number program in Java 8. Below is the program. I wanted to reduce the code in `isPrime()` as well. Is there something that filters the elements from `2` to `n/2`, and then apply filter for `n%i == 0` which would make `isPrime` irrelevant?\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.function.Predicate;\r\n    \r\n    public class Stream1 {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20);\r\n            // Prime number \r\n            System.out.println(numbers.stream()\r\n                                 .filter(Stream1::isPrime)\r\n                                 .collect(toList()));\r\n        }\r\n    \r\n        public static boolean isPrime(int number) {\r\n            for (int i = 2; i &lt;= number / 2; i++) {\r\n                if (number % i == 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }","title":"Prime number in java 8","body":"<p>I was trying to write a simple prime number program in Java 8. Below is the program. I wanted to reduce the code in <code>isPrime()</code> as well. Is there something that filters the elements from <code>2</code> to <code>n/2</code>, and then apply filter for <code>n%i == 0</code> which would make <code>isPrime</code> irrelevant?</p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.function.Predicate;\n\npublic class Stream1 {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20);\n        // Prime number \n        System.out.println(numbers.stream()\n                             .filter(Stream1::isPrime)\n                             .collect(toList()));\n    }\n\n    public static boolean isPrime(int number) {\n        for (int i = 2; i &lt;= number / 2; i++) {\n            if (number % i == 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception","aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675089342,"post_id":75285518,"comment_id":132847621,"body_markdown":"Spring Boot already exposes metrics you want, why reinvent the wheel. Or write an eventlistener for the `ServletRequestHandledEvent` and enable event publishing in the `DispatcherServlet`. But I would suggest using the first (the already available metrics) and use the out-of-the-box provided metrics (by including `spring-boot-starter-actuator`).","body":"Spring Boot already exposes metrics you want, why reinvent the wheel. Or write an eventlistener for the <code>ServletRequestHandledEvent</code> and enable event publishing in the <code>DispatcherServlet</code>. But I would suggest using the first (the already available metrics) and use the out-of-the-box provided metrics (by including <code>spring-boot-starter-actuator</code>)."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675091332,"post_id":75285518,"comment_id":132848360,"body_markdown":"Thanks for the input, @M.Deinum. The actuator won&#39;t do, because I&#39;ve been asked to log individual calls to DB, so that stats can be made by controller, by endpoint, potentially months from now. Actuator is too much of a &quot;right now&quot; approach for what I&#39;m asked. The `RequestHandledEvent` might be just what I need, though. Drilling in that direction.","body":"Thanks for the input, @M.Deinum. The actuator won&#39;t do, because I&#39;ve been asked to log individual calls to DB, so that stats can be made by controller, by endpoint, potentially months from now. Actuator is too much of a &quot;right now&quot; approach for what I&#39;m asked. The <code>RequestHandledEvent</code> might be just what I need, though. Drilling in that direction."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675091500,"post_id":75285518,"comment_id":132848419,"body_markdown":"(My question was also simplified, and I normally have a custom annotations to determine which controllers are concerned with this logging. Will see how I can negociate around this requirement.)","body":"(My question was also simplified, and I normally have a custom annotations to determine which controllers are concerned with this logging. Will see how I can negociate around this requirement.)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675091605,"post_id":75285518,"comment_id":132848460,"body_markdown":"And why wouldn&#39;t the actuator do. If you have enabled tracing from end to end you can do exactly what you want, you can even enrich the tags so you can make that possible. Don&#39;t try to reinvent the wheel.","body":"And why wouldn&#39;t the actuator do. If you have enabled tracing from end to end you can do exactly what you want, you can even enrich the tags so you can make that possible. Don&#39;t try to reinvent the wheel."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675092475,"post_id":75285518,"comment_id":132848743,"body_markdown":"Checking it out, thanks. Didn&#39;t know that particular feature indeed. Thanks a lot.","body":"Checking it out, thanks. Didn&#39;t know that particular feature indeed. Thanks a lot."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675092821,"post_id":75285518,"comment_id":132848870,"body_markdown":"(I&#39;m not one to reinvent the wheel. I&#39;m not even a fan of AOP. Maybe you should just assume, when someone is missing the obvious, that they just don&#39;t know the feature exists and be just a bit more didactic. Spring is a vast framework and not many of us have the leisure of learning it all in details. Written communication is quite complicated as many indicators are missing, like tone and body language. As good as your knowledge is, @M.Deinum, you might be mistaken for condescending in your answers. I&#39;m really grateful for the help and pointers, though.)","body":"(I&#39;m not one to reinvent the wheel. I&#39;m not even a fan of AOP. Maybe you should just assume, when someone is missing the obvious, that they just don&#39;t know the feature exists and be just a bit more didactic. Spring is a vast framework and not many of us have the leisure of learning it all in details. Written communication is quite complicated as many indicators are missing, like tone and body language. As good as your knowledge is, @M.Deinum, you might be mistaken for condescending in your answers. I&#39;m really grateful for the help and pointers, though.)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675108315,"post_id":75285518,"comment_id":132853857,"body_markdown":"IMO, he was not condescending, just clear and assertive. Knowledge and straight talk are not the same as arrogance.","body":"IMO, he was not condescending, just clear and assertive. Knowledge and straight talk are not the same as arrogance."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675242255,"post_id":75285518,"comment_id":132884157,"body_markdown":"I hear that, and I only said it was a possible mistake, but too much conciseness leads to loss of information, hence the part of my comment recommending a more didactic approach. :) As I said, I appreciated the advice and pointers, but they were so concise I had trouble getting to the matter of one of them: pointing to Actuator and Actuator&#39;s httptrace aren&#39;t the same thing, but once I had that element, I could unblock my situation, all thanks to him, and with a better approach than my initial one.","body":"I hear that, and I only said it was a possible mistake, but too much conciseness leads to loss of information, hence the part of my comment recommending a more didactic approach. :) As I said, I appreciated the advice and pointers, but they were so concise I had trouble getting to the matter of one of them: pointing to Actuator and Actuator&#39;s httptrace aren&#39;t the same thing, but once I had that element, I could unblock my situation, all thanks to him, and with a better approach than my initial one."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675502822,"post_id":75285518,"comment_id":132946052,"body_markdown":"Probably Marten is right with his approach. Let me just comment on the aspect part, because that is my sweet spot, not Spring: If your aspect is broken and returns the wrong object type, why don&#39;t you fix that? And is is not better to add another case to your aspect than to scatter exception handling across the whole code base? At least, there it is all in one place and can be maintained properly.","body":"Probably Marten is right with his approach. Let me just comment on the aspect part, because that is my sweet spot, not Spring: If your aspect is broken and returns the wrong object type, why don&#39;t you fix that? And is is not better to add another case to your aspect than to scatter exception handling across the whole code base? At least, there it is all in one place and can be maintained properly."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675502827,"post_id":75285518,"comment_id":132946053,"body_markdown":"I am also wondering if it makes much sense to mix two things: timing/logging and exception handling. Nothing forces you to do that. Just let the aspect do the logging and pass through the exceptions, not handling them there at all. Another aspect, interceptor or whichever appropriate Spring thingy can do that.","body":"I am also wondering if it makes much sense to mix two things: timing/logging and exception handling. Nothing forces you to do that. Just let the aspect do the logging and pass through the exceptions, not handling them there at all. Another aspect, interceptor or whichever appropriate Spring thingy can do that."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675605990,"post_id":75285518,"comment_id":132961223,"body_markdown":"Relevant questions, but you need to know Spring to understand that. :) My aspect is actually short-circuiting some of Spring&#39;s mechanics to handle exceptions properly, hence my problems. In a Spring controller, you typically declare the nominal return type. In case of an error, you throw the exception and you have an ExceptionHandler that will build an alternate response from it. That&#39;s also the part that&#39;ll tell &quot;OK, since I&#39;m in case of an exception, I return another type.&quot;","body":"Relevant questions, but you need to know Spring to understand that. :) My aspect is actually short-circuiting some of Spring&#39;s mechanics to handle exceptions properly, hence my problems. In a Spring controller, you typically declare the nominal return type. In case of an error, you throw the exception and you have an ExceptionHandler that will build an alternate response from it. That&#39;s also the part that&#39;ll tell &quot;OK, since I&#39;m in case of an exception, I return another type.&quot;"},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675606159,"post_id":75285518,"comment_id":132961254,"body_markdown":"Properly speaking, I don&#39;t wish to make exception handling inside my aspect. On the contrary, I&#39;d like to avoid it if possible. Since I intercept calls to the controller with my `@Around`, Spring&#39;s dispatcher loses track and I must admit I don&#39;t know it deep enough to find what I could call in the framework to handle it correctly — and I probably shouldn&#39;t need to. That&#39;s why M. Deinum was indeed probably right: there are things in Spring to handle my case, and I should rely on them. Events and httptrace are two perfect solutions I didn&#39;t know about.","body":"Properly speaking, I don&#39;t wish to make exception handling inside my aspect. On the contrary, I&#39;d like to avoid it if possible. Since I intercept calls to the controller with my <code>@Around</code>, Spring&#39;s dispatcher loses track and I must admit I don&#39;t know it deep enough to find what I could call in the framework to handle it correctly — and I probably shouldn&#39;t need to. That&#39;s why M. Deinum was indeed probably right: there are things in Spring to handle my case, and I should rely on them. Events and httptrace are two perfect solutions I didn&#39;t know about."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675611220,"post_id":75285518,"comment_id":132962254,"body_markdown":"I really do not understand why Spring&#39;s dispatcher would lose track because of an aspect, because aspects, unless you annotate your advice with `@Async`, are executed synchronously. Hence, they should be pretty much transparent if you simply pass through all exceptions and let them focus on logging. The exception handler can take care of the rest. I think I know enough Spring to be bold enough to say that.","body":"I really do not understand why Spring&#39;s dispatcher would lose track because of an aspect, because aspects, unless you annotate your advice with <code>@Async</code>, are executed synchronously. Hence, they should be pretty much transparent if you simply pass through all exceptions and let them focus on logging. The exception handler can take care of the rest. I think I know enough Spring to be bold enough to say that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1675611253,"post_id":75285518,"comment_id":132962264,"body_markdown":"BTW, If you really just want to log, you do not need an `@Around` advice at all, probably `@After` (or a pair of `@AfterReturning` and `@AfterThrowing`, if you want to bind the exception to an advice parameter) would suffice and not change the control flow at all.","body":"BTW, If you really just want to log, you do not need an <code>@Around</code> advice at all, probably <code>@After</code> (or a pair of <code>@AfterReturning</code> and <code>@AfterThrowing</code>, if you want to bind the exception to an advice parameter) would suffice and not change the control flow at all."}],"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675611297,"creation_date":1675087409,"question_id":75285518,"body_markdown":"## Context\r\n\r\n#### What I&#39;m satisfied with\r\n\r\nI&#39;m creating a Spring Boot REST service returning a `ResponseEntity&lt;StreamingResponseBody&gt;`. I also have a @ControllerAdvice for exception handling. It all works fine.\r\n\r\nI&#39;ve been asked to provide logging (endpoints being called, execution time, HTTP status and such). The most solid way I can think of to do it was to use an Aspect. I made one with some `@Around` pointcuts, like below, and that, too, works fine in the nominal case.\r\n\r\n```java\r\n@Around(value = &quot;@annotation(requestMapping)&quot;, argNames = &quot;pjp,requestMapping&quot;)\r\npublic Object trackExecutionTime(ProceedingJoinPoint pjp, RequestMapping requestMapping) throws Throwable {\r\n    return trackExecutionTime(pjp, requestMapping.method()[0], requestMapping.value()[0]);\r\n}\r\n```\r\n\r\n#### What&#39;s brittle or broken\r\n\r\nMy problem now occurs in case of an exception. I couldn&#39;t find a better way than injecting my exception handler into my Aspect. It&#39;s dirty, brittle, and even completely broken in my case:\r\n\r\n```java\r\n// Simplified\r\nprivate Object trackExecutionTime(ProceedingJoinPoint pjp) throws Throwable {\r\n\r\n    StopWatch stopWatch = new StopWatch();\r\n    stopWatch.start();\r\n\r\n    Object result = null;\r\n    try {\r\n        result = pjp.proceed();\r\n    } catch (MyException1 e) {\r\n        result = exceptionHandler.handleMyException1(e);\r\n    } catch (Exception e) {\r\n        result = exceptionHandler.handleException(e, webRequest);\r\n    } finally {\r\n        stopWatch.stop();\r\n        doLog(result, stopWatch.getTotalTimeMillis(),\r\n            ((ResponseEntity) result).getStatus());\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n* Brittle: new cases in exception handler means new catches to add here. I don&#39;t like it.\r\n* Broken: Spring isn&#39;t happy, at all. He expects a StreamingResponseBody and I return an ErrorDto. The ExceptionHandling is broken and the endpoint returns Spring&#39;s generic error + 500 instead of my DTO + appropriate HTTP status.\r\n\r\n```none\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517) ~[jakarta.servlet-api-4.0.4.jar:4.0.4]\r\n...\r\nCaused by: java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\r\n\tat org.springframework.util.Assert.instanceCheckFailed(Assert.java:702) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.util.Assert.isInstanceOf(Assert.java:602) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler.handleReturnValue(StreamingResponseBodyReturnValueHandler.java:90) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\t...\r\n```\r\n\r\nI of course did a PoC before starting this aspect, but I used `ResponseEntity&lt;String&gt;` in both success and failure cases, so I missed this issue.\r\n\r\n\r\n## My questions\r\n\r\n* **Real, primary question**: Is there a way to enhance my aspect so that I can achieve my purpose?\r\n* **Bonus question**: Does that enhancement allow me to handle exceptions in a generic way, by throwing it to some kind of Dispatcher in the Spring context, for instance?\r\n\r\nAs a potential lead, I considered not catching the exception and making the ExceptionHandler call the log service itself, but then I don&#39;t know how to get the StopWatch to have the execution time.\r\n\r\nThanks for any insight!\r\n","title":"Spring Boot, AOP and exception handler","body":"<h2>Context</h2>\n<h4>What I'm satisfied with</h4>\n<p>I'm creating a Spring Boot REST service returning a <code>ResponseEntity&lt;StreamingResponseBody&gt;</code>. I also have a @ControllerAdvice for exception handling. It all works fine.</p>\n<p>I've been asked to provide logging (endpoints being called, execution time, HTTP status and such). The most solid way I can think of to do it was to use an Aspect. I made one with some <code>@Around</code> pointcuts, like below, and that, too, works fine in the nominal case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(value = &quot;@annotation(requestMapping)&quot;, argNames = &quot;pjp,requestMapping&quot;)\npublic Object trackExecutionTime(ProceedingJoinPoint pjp, RequestMapping requestMapping) throws Throwable {\n    return trackExecutionTime(pjp, requestMapping.method()[0], requestMapping.value()[0]);\n}\n</code></pre>\n<h4>What's brittle or broken</h4>\n<p>My problem now occurs in case of an exception. I couldn't find a better way than injecting my exception handler into my Aspect. It's dirty, brittle, and even completely broken in my case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Simplified\nprivate Object trackExecutionTime(ProceedingJoinPoint pjp) throws Throwable {\n\n    StopWatch stopWatch = new StopWatch();\n    stopWatch.start();\n\n    Object result = null;\n    try {\n        result = pjp.proceed();\n    } catch (MyException1 e) {\n        result = exceptionHandler.handleMyException1(e);\n    } catch (Exception e) {\n        result = exceptionHandler.handleException(e, webRequest);\n    } finally {\n        stopWatch.stop();\n        doLog(result, stopWatch.getTotalTimeMillis(),\n            ((ResponseEntity) result).getStatus());\n    }\n    return result;\n}\n</code></pre>\n<ul>\n<li>Brittle: new cases in exception handler means new catches to add here. I don't like it.</li>\n<li>Broken: Spring isn't happy, at all. He expects a StreamingResponseBody and I return an ErrorDto. The ExceptionHandling is broken and the endpoint returns Spring's generic error + 500 instead of my DTO + appropriate HTTP status.</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517) ~[jakarta.servlet-api-4.0.4.jar:4.0.4]\n...\nCaused by: java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\n    at org.springframework.util.Assert.instanceCheckFailed(Assert.java:702) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.util.Assert.isInstanceOf(Assert.java:602) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler.handleReturnValue(StreamingResponseBodyReturnValueHandler.java:90) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    ...\n</code></pre>\n<p>I of course did a PoC before starting this aspect, but I used <code>ResponseEntity&lt;String&gt;</code> in both success and failure cases, so I missed this issue.</p>\n<h2>My questions</h2>\n<ul>\n<li><strong>Real, primary question</strong>: Is there a way to enhance my aspect so that I can achieve my purpose?</li>\n<li><strong>Bonus question</strong>: Does that enhancement allow me to handle exceptions in a generic way, by throwing it to some kind of Dispatcher in the Spring context, for instance?</li>\n</ul>\n<p>As a potential lead, I considered not catching the exception and making the ExceptionHandler call the log service itself, but then I don't know how to get the StopWatch to have the execution time.</p>\n<p>Thanks for any insight!</p>\n"},{"tags":["java","android","android-alertdialog","blur"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610591,"post_id":75353300,"comment_id":132962126,"body_markdown":"My knowledge has no support for blur either. And never heard this word on stackoverflow.","body":"My knowledge has no support for blur either. And never heard this word on stackoverflow."}],"owner":{"account_id":19598741,"reputation":1,"user_id":20757377,"display_name":"Yaroslav Zhuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675610966,"creation_date":1675610206,"question_id":75353300,"body_markdown":"I have AlertDialog class in my app. It&#39;s used in a lot of activities, so I implemented blur logic in AlertDialog class itself instead of implementing and handling it in every activity. Is it possible to blur behind AlertDialog for all its implementations universally or I should use another libraries to blur on attach/unblur on detach for every instance?\r\n\r\nTo achieve behind blur I used FLAG_BLUR_BEHIND with setBackgroundBlurRadius() applied to AlertDialog. It works just fine, but appears it won&#39;t work on devices, that have no support of hardware blur(and there are a lot of them). ","title":"How to blur behind of AlertDialog","body":"<p>I have AlertDialog class in my app. It's used in a lot of activities, so I implemented blur logic in AlertDialog class itself instead of implementing and handling it in every activity. Is it possible to blur behind AlertDialog for all its implementations universally or I should use another libraries to blur on attach/unblur on detach for every instance?</p>\n<p>To achieve behind blur I used FLAG_BLUR_BEHIND with setBackgroundBlurRadius() applied to AlertDialog. It works just fine, but appears it won't work on devices, that have no support of hardware blur(and there are a lot of them).</p>\n"},{"tags":["java","groovy","junit","junit4","spock"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675610803,"creation_date":1675499823,"answer_id":75343891,"question_id":75326648,"body_markdown":"&gt; The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.\r\n\r\nMy recommendation is to fix those issues and upgrade instead of investing a lot of work to add a feature to a legacy Spock version. Solve the problem instead of evading it.\r\n\r\n&gt; I want to see skipped tests in the pipeline but with a reason why.\r\n\r\nYou did not specify what exactly you need. Is this about console log or rather about generated test reports? In the former case, a cheap trick would be:\r\n\r\n```java\r\n@IgnoreIf({ println &#39;reason: back-end server unavailable on Sundays&#39;; true })\r\n```\r\n\r\nIf you need a nice ignore message in the test report, it gets more complicated. You might need to develop your own annotation-based Spock extension which would react to your custom `@MyIgnoreIf(value = { true }, reason = &#39;whatever&#39;)` and also somehow hook into report generation, which might be possible, but I never tried.\r\n\r\nBesides, the reason that Spock 2.x can offer users skip reasons more easily is that its engine runs on top of the JUnit 5 platform, which has a [`Node.SkipResult.skip(String reason)`](https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/Node.SkipResult.html#skip(java.lang.String)) method out of the box that Spock can delegate the skip reason to.\r\n\r\nSpock 1.x however runs on top of JUnit 4, where there is no such infrastructure. Instead, you could use [JUnit 4 assumptions](https://www.baeldung.com/junit-conditional-assume), which are basically the equivalent of dynamic skip conditions with reasons, but that would be code-based rather than annotation-based, e.g.:\r\n\r\n```java\r\ndef dummy() {\r\n  org.junit.Assume.assumeFalse(&#39;back-end server unavailable on Sundays&#39;, true)\r\n\r\n  expect:\r\n  true\r\n}\r\n```\r\n\r\nThe output would be something like this and the rest of your test method execution skipped:\r\n\r\n```none\r\norg.junit.AssumptionViolatedException: back-end server unavailable on Sundays\r\n\tat org.junit.Assume.assumeTrue(Assume.java:68)\r\n\tat org.junit.Assume.assumeFalse(Assume.java:75)\r\n\tat org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:234)\r\n\tat de.scrum_master.stackoverflow.q74575745.AuthRequestInterceptorTest.dummy(AuthRequestInterceptorTest.groovy:26)\r\n```\r\n\r\nIn IntelliJ IDEA, it looks like this, the method actually being reported as skipped:\r\n\r\n[![Spock test execution result ion IDEA][1]][1]\r\n\r\nI think that JUnit 4 assumptions are good enough for your legacy code base, until you upgrade them to Spock 2.x and can enjoy all of the nice new syntax features and extensions.\r\n\r\n  [1]: https://i.stack.imgur.com/myn2o.png","title":"How to ignore tests and log reason in Spock 1.x","body":"<blockquote>\n<p>The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.</p>\n</blockquote>\n<p>My recommendation is to fix those issues and upgrade instead of investing a lot of work to add a feature to a legacy Spock version. Solve the problem instead of evading it.</p>\n<blockquote>\n<p>I want to see skipped tests in the pipeline but with a reason why.</p>\n</blockquote>\n<p>You did not specify what exactly you need. Is this about console log or rather about generated test reports? In the former case, a cheap trick would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@IgnoreIf({ println 'reason: back-end server unavailable on Sundays'; true })\n</code></pre>\n<p>If you need a nice ignore message in the test report, it gets more complicated. You might need to develop your own annotation-based Spock extension which would react to your custom <code>@MyIgnoreIf(value = { true }, reason = 'whatever')</code> and also somehow hook into report generation, which might be possible, but I never tried.</p>\n<p>Besides, the reason that Spock 2.x can offer users skip reasons more easily is that its engine runs on top of the JUnit 5 platform, which has a <a href=\"https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/Node.SkipResult.html#skip(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Node.SkipResult.skip(String reason)</code></a> method out of the box that Spock can delegate the skip reason to.</p>\n<p>Spock 1.x however runs on top of JUnit 4, where there is no such infrastructure. Instead, you could use <a href=\"https://www.baeldung.com/junit-conditional-assume\" rel=\"nofollow noreferrer\">JUnit 4 assumptions</a>, which are basically the equivalent of dynamic skip conditions with reasons, but that would be code-based rather than annotation-based, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>def dummy() {\n  org.junit.Assume.assumeFalse('back-end server unavailable on Sundays', true)\n\n  expect:\n  true\n}\n</code></pre>\n<p>The output would be something like this and the rest of your test method execution skipped:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.junit.AssumptionViolatedException: back-end server unavailable on Sundays\n    at org.junit.Assume.assumeTrue(Assume.java:68)\n    at org.junit.Assume.assumeFalse(Assume.java:75)\n    at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:234)\n    at de.scrum_master.stackoverflow.q74575745.AuthRequestInterceptorTest.dummy(AuthRequestInterceptorTest.groovy:26)\n</code></pre>\n<p>In IntelliJ IDEA, it looks like this, the method actually being reported as skipped:</p>\n<p><a href=\"https://i.stack.imgur.com/myn2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myn2o.png\" alt=\"Spock test execution result ion IDEA\" /></a></p>\n<p>I think that JUnit 4 assumptions are good enough for your legacy code base, until you upgrade them to Spock 2.x and can enjoy all of the nice new syntax features and extensions.</p>\n"}],"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75343891,"answer_count":1,"score":0,"last_activity_date":1675610803,"creation_date":1675357788,"question_id":75326648,"body_markdown":"I have been writing some tests using Groovy/Spock and came to the need of some decorator/logic that would only run some tests based in a variable&#39;s value\r\n\r\nI was reading about [@IgnoreIf][1] which is the perfect option as it allows me to write something in the lines of\r\n\r\n    @IgnoreIf(value = { !enabled }, reason = &quot;Feature flag not enabled&quot;)\r\n\r\nThe problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.\r\n\r\nIs there any other option I could use to achieve the same result, bearing in mind that, at the end of they day, I want to see skipped tests in the pipeline but with a reason why.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://spockframework.org/spock/javadoc/2.2/spock/lang/IgnoreIf.html","title":"How to ignore tests and log reason in Spock 1.x","body":"<p>I have been writing some tests using Groovy/Spock and came to the need of some decorator/logic that would only run some tests based in a variable's value</p>\n<p>I was reading about <a href=\"https://spockframework.org/spock/javadoc/2.2/spock/lang/IgnoreIf.html\" rel=\"nofollow noreferrer\">@IgnoreIf</a> which is the perfect option as it allows me to write something in the lines of</p>\n<pre><code>@IgnoreIf(value = { !enabled }, reason = &quot;Feature flag not enabled&quot;)\n</code></pre>\n<p>The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.</p>\n<p>Is there any other option I could use to achieve the same result, bearing in mind that, at the end of they day, I want to see skipped tests in the pipeline but with a reason why.</p>\n<p>Thanks</p>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-yaml"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1640019975,"creation_date":1640005024,"answer_id":70422163,"question_id":70422060,"body_markdown":"`No such method error` in most cases means that you have have 2 dependencies that are the same but with different versions, however the application is loading the version that does not have this method in it,\r\n\r\nThe reference to this `_createContentReference` exists in `YAMLFactory` in `jackson-dataformat-yaml.jar`\r\n\r\nThe actual `_createContentReference` implementation exists in `com.fasterxml.jackson.core.JsonFactory` which exists `jackson-core.2.13.0.`  \r\n\r\nIn your case, you probably have another `jackson-core.jar` with an older version as part of your indirect dependencies.\r\n\r\nYou can see `mvn dependency:tree` or your IDE (Such as Eclipse allows you to search for dependency by name, and it returns all that match, including their versions)\r\n\r\n","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p><code>No such method error</code> in most cases means that you have have 2 dependencies that are the same but with different versions, however the application is loading the version that does not have this method in it,</p>\n<p>The reference to this <code>_createContentReference</code> exists in <code>YAMLFactory</code> in <code>jackson-dataformat-yaml.jar</code></p>\n<p>The actual <code>_createContentReference</code> implementation exists in <code>com.fasterxml.jackson.core.JsonFactory</code> which exists <code>jackson-core.2.13.0.</code></p>\n<p>In your case, you probably have another <code>jackson-core.jar</code> with an older version as part of your indirect dependencies.</p>\n<p>You can see <code>mvn dependency:tree</code> or your IDE (Such as Eclipse allows you to search for dependency by name, and it returns all that match, including their versions)</p>\n"},{"comments":[{"owner":{"account_id":12270827,"reputation":427,"user_id":8956009,"display_name":"Arshanvit"},"score":0,"creation_date":1651267384,"post_id":71114695,"comment_id":127332269,"body_markdown":"version of quarkus?","body":"version of quarkus?"},{"owner":{"account_id":21549244,"reputation":51,"user_id":15885626,"display_name":"perj"},"score":0,"creation_date":1651422655,"post_id":71114695,"comment_id":127356761,"body_markdown":"I&#39;m using quarkus version 2.7.1.Final","body":"I&#39;m using quarkus version 2.7.1.Final"}],"tags":[],"owner":{"account_id":21549244,"reputation":51,"user_id":15885626,"display_name":"perj"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644854271,"creation_date":1644854271,"answer_id":71114695,"question_id":70422060,"body_markdown":"Thanks.\r\nIt helped me to exclude jackson-dataformat-yaml version 2.13.1 from  quarkus-smallrye-openapi  and include  2.12.3 . Like this :\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.3&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>Thanks.\nIt helped me to exclude jackson-dataformat-yaml version 2.13.1 from  quarkus-smallrye-openapi  and include  2.12.3 . Like this :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n        &lt;version&gt;2.12.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675610411,"creation_date":1675610411,"answer_id":75353326,"question_id":70422060,"body_markdown":"The same problem I also faced. My environment is - \r\nWildfly version - 26.1.1-Final\r\nSpring boot - 2.7.8\r\n\r\nThe issue is coming because Wildfly has the same version API already added as module and the same set of jackson* series jars are going thourgh spring boot hence on runtime it is creating issue. \r\n\r\nSolution - all jackson* jar under spring-boot pom.xml add into exclusion list and separtly added dependencies with scope provied. My modified pom.xml is as below - \r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;spring.boot.version&gt;2.7.8&lt;/spring.boot.version&gt;\r\n\t\t&lt;jackson.version&gt;2.13.4&lt;/jackson.version&gt;\t\t\r\n\t&lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n               &lt;!-- Exclusion list --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- added dependency with provided scope --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>The same problem I also faced. My environment is -\nWildfly version - 26.1.1-Final\nSpring boot - 2.7.8</p>\n<p>The issue is coming because Wildfly has the same version API already added as module and the same set of jackson* series jars are going thourgh spring boot hence on runtime it is creating issue.</p>\n<p>Solution - all jackson* jar under spring-boot pom.xml add into exclusion list and separtly added dependencies with scope provied. My modified pom.xml is as below -</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring.boot.version&gt;2.7.8&lt;/spring.boot.version&gt;\n    &lt;jackson.version&gt;2.13.4&lt;/jackson.version&gt;       \n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n           &lt;!-- Exclusion list --&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- added dependency with provided scope --&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13361,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70422163,"answer_count":3,"score":9,"last_activity_date":1675610411,"creation_date":1640004527,"question_id":70422060,"body_markdown":"I&#39;m using the latest 2.13.0 version of jackson, and when I try to parse a YAML file, I&#39;m getting this exception\r\n\r\n```\r\n java.lang.NoSuchMethodError: &#39;com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)&#39;\r\n```\r\n\r\nWhat could be the issue?\r\n\r\nThe dependencies that I&#39;ve included are jackson-core, jackson-databind and jackson-dataformat-yaml - all 2.13.0","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>I'm using the latest 2.13.0 version of jackson, and when I try to parse a YAML file, I'm getting this exception</p>\n<pre><code> java.lang.NoSuchMethodError: 'com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)'\n</code></pre>\n<p>What could be the issue?</p>\n<p>The dependencies that I've included are jackson-core, jackson-databind and jackson-dataformat-yaml - all 2.13.0</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634222008,"post_id":69572204,"comment_id":122971936,"body_markdown":"@WiktorStribiżew `\\\\w` will not match closing tags like `&amp;lt;/xmltag1&gt;`.","body":"@WiktorStribiżew <code>\\\\w</code> will not match closing tags like <code>&amp;lt;&#47;xmltag1&gt;</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1634222279,"post_id":69572204,"comment_id":122972060,"body_markdown":"It looks like this response was a UTF-8 response, but was read as ISO 8859-n.  I assume `a&#195;&#177;os` should be `a&#241;os`.","body":"It looks like this response was a UTF-8 response, but was read as ISO 8859-n.  I assume <code>a&#195;&#177;os</code> should be <code>a&#241;os</code>."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634225016,"post_id":69572204,"comment_id":122973362,"body_markdown":"`string.replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)`?","body":"<code>string.replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)</code>?"}],"answers":[{"comments":[{"owner":{"account_id":12480444,"reputation":54,"user_id":9085392,"display_name":"David Gonz&#225;lez Arias"},"score":1,"creation_date":1634279474,"post_id":69573718,"comment_id":122986584,"body_markdown":"That works perfectly for what I asked! Is there a way for doing it with N ocurrences of  &amp;lt;","body":"That works perfectly for what I asked! Is there a way for doing it with N ocurrences of  &amp;lt;"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1634283465,"post_id":69573718,"comment_id":122987714,"body_markdown":"@DavidGonz&#225;lezArias Probably you mean `.replaceAll(&quot;&amp;lt;(?=/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;&quot;)`. Or `.replaceAll(&quot;(?:&amp;lt;)+(?=/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;&quot;)`.","body":"@DavidGonz&#225;lezArias Probably you mean <code>.replaceAll(&quot;&amp;lt;(?=&#47;?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;&quot;)</code>. Or <code>.replaceAll(&quot;(?:&amp;lt;)+(?=&#47;?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;&quot;)</code>."}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634226683,"creation_date":1634226683,"answer_id":69573718,"question_id":69572204,"body_markdown":"You can use\r\n```java\r\nString fixedXml = text.replaceAll(&quot;&amp;lt;(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;$1&quot;);\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `&amp;lt;` - a `&amp;lt;` string\r\n - `(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)` - Group 1 (`$1`):\r\n   - `/?` - an optional `/` char\r\n   - `\\w+` - one or more word chars \r\n   - `(?:\\s[^&gt;]*)?` - an optional sequence of a whitespace char and then any zero or more chars other than `&gt;`\r\n   - `&gt;`  - a `&gt;` char.\r\n\r\n\r\n  [1]: https://regex101.com/r/VgSh9M/2/","title":"Unescape XML tags only. Keep content escaped","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fixedXml = text.replaceAll(&quot;&amp;lt;(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;$1&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/VgSh9M/2/\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>&amp;lt;</code> - a <code>&amp;lt;</code> string</li>\n<li><code>(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)</code> - Group 1 (<code>$1</code>):\n<ul>\n<li><code>/?</code> - an optional <code>/</code> char</li>\n<li><code>\\w+</code> - one or more word chars</li>\n<li><code>(?:\\s[^&gt;]*)?</code> - an optional sequence of a whitespace char and then any zero or more chars other than <code>&gt;</code></li>\n<li><code>&gt;</code>  - a <code>&gt;</code> char.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":12480444,"reputation":54,"user_id":9085392,"display_name":"David Gonz&#225;lez Arias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69573718,"answer_count":1,"score":2,"last_activity_date":1675610175,"creation_date":1634220536,"question_id":69572204,"body_markdown":"I have to consume a WS that sends its XML data inside a CDATA tag, the output I get is the following:\r\n\r\n    &amp;lt;parent&gt;\r\n    \t&amp;lt;child1&gt;\r\n    \t\t&amp;lt;xmltag1&gt;4 a&#195;&#177;os &amp;lt; 8 &amp;lt;/xmltag1&gt;\r\n    \t\t&amp;lt;xmltag2&gt;3 a&#195;&#177;os &amp;lt; 12 &amp;lt;/xmltag2&gt;\r\n    \t&amp;lt;child1&gt;\r\n    &amp;lt;/parent&gt;\r\n\r\nI have to format this data to an usable XML so I can work with it.\r\n\r\nIt should look like:\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;child1&gt;\r\n    \t\t&lt;xmltag1&gt;4 a&#195;&#177;os &amp;lt; 8 &lt;/xmltag1&gt;\r\n    \t\t&lt;xmltag2&gt;3 a&#195;&#177;os &amp;lt; 12 &lt;/xmltag2&gt;\r\n    \t&lt;child&gt;\r\n    &lt;/parent&gt;\r\n\r\nWith various java functions like this one i havent got a decent output:\r\n\r\n    StringEscapeUtils.unescapeXml(string);\r\n\r\nThere could be a way of getting that result by using regex, so far I got this, but regex is not my strength:\r\n\r\n    string.replaceAll(&quot;&amp;lt;{0}&gt;&quot;, &quot;&lt;/{0}&gt;&quot;);","title":"Unescape XML tags only. Keep content escaped","body":"<p>I have to consume a WS that sends its XML data inside a CDATA tag, the output I get is the following:</p>\n<pre><code>&amp;lt;parent&gt;\n    &amp;lt;child1&gt;\n        &amp;lt;xmltag1&gt;4 aÃ±os &amp;lt; 8 &amp;lt;/xmltag1&gt;\n        &amp;lt;xmltag2&gt;3 aÃ±os &amp;lt; 12 &amp;lt;/xmltag2&gt;\n    &amp;lt;child1&gt;\n&amp;lt;/parent&gt;\n</code></pre>\n<p>I have to format this data to an usable XML so I can work with it.</p>\n<p>It should look like:</p>\n<pre><code>&lt;parent&gt;\n    &lt;child1&gt;\n        &lt;xmltag1&gt;4 aÃ±os &amp;lt; 8 &lt;/xmltag1&gt;\n        &lt;xmltag2&gt;3 aÃ±os &amp;lt; 12 &lt;/xmltag2&gt;\n    &lt;child&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>With various java functions like this one i havent got a decent output:</p>\n<pre><code>StringEscapeUtils.unescapeXml(string);\n</code></pre>\n<p>There could be a way of getting that result by using regex, so far I got this, but regex is not my strength:</p>\n<pre><code>string.replaceAll(&quot;&amp;lt;{0}&gt;&quot;, &quot;&lt;/{0}&gt;&quot;);\n</code></pre>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675597727,"post_id":75348553,"comment_id":132959819,"body_markdown":"Can you show your `build.gradle`?","body":"Can you show your <code>build.gradle</code>?"},{"owner":{"account_id":5213686,"reputation":11,"user_id":4169302,"display_name":"Andrzej Pazdalski"},"score":0,"creation_date":1675609715,"post_id":75348553,"comment_id":132961937,"body_markdown":"@dan1st added to main post","body":"@dan1st added to main post"}],"owner":{"account_id":5213686,"reputation":11,"user_id":4169302,"display_name":"Andrzej Pazdalski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675609822,"creation_date":1675546690,"question_id":75348553,"body_markdown":"My deployment process just freezes without any error at &#39;Starting a Gradle Daemon (subsequent builds will be faster)&#39;. Here is my Dockerfile:\r\n\r\n```\r\n# Build the JAR\r\nFROM maven:3.6.3-jdk-11 as build\r\n\r\nWORKDIR /rl-build\r\n# TODO simplify? add .dockerignore with unwanted folders/libraries ?\r\nCOPY ./ .\r\n\r\nRUN ./gradlew clean build -x integrationTest -x test\r\n\r\n# Run the JAR\r\nFROM adoptopenjdk:11-jre-hotspot\r\n\r\nWORKDIR /rl\r\nCOPY --from=build /rl-build/build/libs/interview-service-*.jar ./interview-service.jar\r\n\r\nENV PORT 8080\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-XX:MaxRAMPercentage=60.0&quot;,&quot;-jar&quot;,&quot;/rl/interview-service.jar&quot;]\r\n```\r\nHere is gradle.build:\r\n```\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;2.5.4&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n    id &quot;java&quot;\r\n    id &quot;org.sonarqube&quot; version &quot;3.3&quot;\r\n    id &quot;jacoco&quot;\r\n    id &quot;org.owasp.dependencycheck&quot; version &quot;6.5.0.1&quot;\r\n}\r\n\r\ngroup = &quot;com.rocketlawyer.interview&quot;\r\nversion = &quot;1.0.0&quot;\r\ndescription = &quot;Interview Service&quot;\r\nsourceCompatibility = &quot;11&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets {\r\n    integrationTest {\r\n        java {\r\n            compileClasspath += main.output + test.output\r\n            runtimeClasspath += main.output + test.output\r\n            srcDir file(&#39;src/integration-test/java&#39;)\r\n        }\r\n        resources.srcDir file(&#39;src/integration-test/resources&#39;)\r\n    }\r\n}\r\n\r\nconfigurations {\r\n    integrationTestCompile.extendsFrom testCompile\r\n    integrationTestImplementation.extendsFrom testImplementation\r\n    integrationTestRuntime.extendsFrom testRuntime\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n        exclude group: &quot;org.junit.vintage&quot;, module: &quot;junit-vintage-engine&quot;\r\n    }\r\n\r\n    implementation &quot;commons-codec:commons-codec:1.14&quot;\r\n    implementation &quot;org.projectlombok:lombok:1.18.20&quot;\r\n    implementation &quot;org.postgresql:postgresql:42.2.10&quot;\r\n    implementation &quot;ch.qos.logback:logback-classic:1.2.6&quot;\r\n    implementation &quot;net.logstash.logback:logstash-logback-encoder:6.6&quot;\r\n    implementation &#39;org.jdbi:jdbi3-sqlobject:3.21.0&#39;\r\n    implementation &#39;org.jdbi:jdbi3-postgres:3.21.0&#39;\r\n    implementation &#39;org.jdbi:jdbi3-spring4:3.18.0&#39;\r\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.5.9&quot;\r\n    implementation &#39;org.jdbi:jdbi3-json:3.18.0&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.14.3&#39;\r\n    implementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    implementation &#39;org.springframework.retry:spring-retry:1.2.5.RELEASE&#39;\r\n    implementation &#39;org.springframework:spring-aspects:5.0.0.RELEASE&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-prometheus:1.8.2&#39;\r\n    implementation &#39;io.prometheus:simpleclient:0.15.0&#39;\r\n\r\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\r\n\r\n    testImplementation &quot;org.testcontainers:postgresql:1.16.2&quot;\r\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.16.2&quot;\r\n    testImplementation &quot;com.h2database:h2:1.4.200&quot;\r\n    testImplementation &quot;org.flywaydb:flyway-core:7.14.0&quot;\r\n    testImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.30.1&quot;\r\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-params:5.7.2&quot;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-api:0.11.1&#39;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-impl:0.11.1&#39;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-jackson:0.11.1&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;com.google.cloud:google-cloud-pubsub:1.115.1&#39;\r\n    testImplementation &#39;org.testcontainers:testcontainers:1.16.2&#39;\r\n    testImplementation &#39;org.testcontainers:gcloud:1.16.2&#39;\r\n    testImplementation &#39;org.awaitility:awaitility:4.1.1&#39;\r\n\r\n}\r\n\r\ntask integrationTest(type: Test) {\r\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n    classpath = sourceSets.integrationTest.runtimeClasspath\r\n    outputs.upToDateWhen {\r\n        false\r\n    }\r\n    useJUnitPlatform()\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\ncheck.dependsOn integrationTest\r\nintegrationTest.mustRunAfter test\r\n\r\njacoco {\r\n    toolVersion = &quot;0.8.7&quot;\r\n    reportsDirectory = layout.buildDirectory.dir(&quot;$buildDir/coverage&quot;)\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test, integrationTest\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        html.outputLocation = layout.buildDirectory.dir(&quot;$buildDir/jacoco&quot;)\r\n        getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\r\n    }\r\n}\r\nproject.tasks[&#39;dependencyCheckAnalyze&#39;].dependsOn &quot;jacocoTestReport&quot;\r\nproject.tasks[&#39;sonarqube&#39;].dependsOn &quot;test&quot;\r\nsonarqube {\r\n    properties {\r\n        property &quot;sonar.coverage.jacoco.xmlReportPaths&quot;, &quot;build/jacoco/jacocoTestReport.xml&quot;\r\n    }\r\n}\r\n\r\njar {\r\n    enabled = false\r\n}\r\n```\r\n\r\nI&#39;v tried to add additional command in Dockerfile to kill any subsequent daemons, restart computer, update operating system and Docker.\r\n\r\nIm running this on Mac ventura 13.2, Apple M1 Max, Docker updated to latest version. Thanks in the advance for any suggestions.","title":"Docker deploy stops at &#39;Starting a Gradle Daemon (subsequent builds will be faster)&#39;","body":"<p>My deployment process just freezes without any error at 'Starting a Gradle Daemon (subsequent builds will be faster)'. Here is my Dockerfile:</p>\n<pre><code># Build the JAR\nFROM maven:3.6.3-jdk-11 as build\n\nWORKDIR /rl-build\n# TODO simplify? add .dockerignore with unwanted folders/libraries ?\nCOPY ./ .\n\nRUN ./gradlew clean build -x integrationTest -x test\n\n# Run the JAR\nFROM adoptopenjdk:11-jre-hotspot\n\nWORKDIR /rl\nCOPY --from=build /rl-build/build/libs/interview-service-*.jar ./interview-service.jar\n\nENV PORT 8080\nEXPOSE 8080\n\nENTRYPOINT [&quot;java&quot;,&quot;-XX:MaxRAMPercentage=60.0&quot;,&quot;-jar&quot;,&quot;/rl/interview-service.jar&quot;]\n</code></pre>\n<p>Here is gradle.build:</p>\n<pre><code>plugins {\n    id &quot;org.springframework.boot&quot; version &quot;2.5.4&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n    id &quot;java&quot;\n    id &quot;org.sonarqube&quot; version &quot;3.3&quot;\n    id &quot;jacoco&quot;\n    id &quot;org.owasp.dependencycheck&quot; version &quot;6.5.0.1&quot;\n}\n\ngroup = &quot;com.rocketlawyer.interview&quot;\nversion = &quot;1.0.0&quot;\ndescription = &quot;Interview Service&quot;\nsourceCompatibility = &quot;11&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets {\n    integrationTest {\n        java {\n            compileClasspath += main.output + test.output\n            runtimeClasspath += main.output + test.output\n            srcDir file('src/integration-test/java')\n        }\n        resources.srcDir file('src/integration-test/resources')\n    }\n}\n\nconfigurations {\n    integrationTestCompile.extendsFrom testCompile\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntime.extendsFrom testRuntime\n}\n\ndependencies {\n    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude group: &quot;org.junit.vintage&quot;, module: &quot;junit-vintage-engine&quot;\n    }\n\n    implementation &quot;commons-codec:commons-codec:1.14&quot;\n    implementation &quot;org.projectlombok:lombok:1.18.20&quot;\n    implementation &quot;org.postgresql:postgresql:42.2.10&quot;\n    implementation &quot;ch.qos.logback:logback-classic:1.2.6&quot;\n    implementation &quot;net.logstash.logback:logstash-logback-encoder:6.6&quot;\n    implementation 'org.jdbi:jdbi3-sqlobject:3.21.0'\n    implementation 'org.jdbi:jdbi3-postgres:3.21.0'\n    implementation 'org.jdbi:jdbi3-spring4:3.18.0'\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.5.9&quot;\n    implementation 'org.jdbi:jdbi3-json:3.18.0'\n    implementation 'org.jsoup:jsoup:1.14.3'\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n    implementation 'org.springframework.retry:spring-retry:1.2.5.RELEASE'\n    implementation 'org.springframework:spring-aspects:5.0.0.RELEASE'\n    implementation 'org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE'\n    implementation 'io.micrometer:micrometer-registry-prometheus:1.8.2'\n    implementation 'io.prometheus:simpleclient:0.15.0'\n\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\n\n    testImplementation &quot;org.testcontainers:postgresql:1.16.2&quot;\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.16.2&quot;\n    testImplementation &quot;com.h2database:h2:1.4.200&quot;\n    testImplementation &quot;org.flywaydb:flyway-core:7.14.0&quot;\n    testImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.30.1&quot;\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-params:5.7.2&quot;\n    testImplementation 'io.jsonwebtoken:jjwt-api:0.11.1'\n    testImplementation 'io.jsonwebtoken:jjwt-impl:0.11.1'\n    testImplementation 'io.jsonwebtoken:jjwt-jackson:0.11.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'com.google.cloud:google-cloud-pubsub:1.115.1'\n    testImplementation 'org.testcontainers:testcontainers:1.16.2'\n    testImplementation 'org.testcontainers:gcloud:1.16.2'\n    testImplementation 'org.awaitility:awaitility:4.1.1'\n\n}\n\ntask integrationTest(type: Test) {\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    outputs.upToDateWhen {\n        false\n    }\n    useJUnitPlatform()\n}\n\ntest {\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n}\n\ncheck.dependsOn integrationTest\nintegrationTest.mustRunAfter test\n\njacoco {\n    toolVersion = &quot;0.8.7&quot;\n    reportsDirectory = layout.buildDirectory.dir(&quot;$buildDir/coverage&quot;)\n}\n\njacocoTestReport {\n    dependsOn test, integrationTest\n    reports {\n        xml.enabled true\n        html.enabled true\n        html.outputLocation = layout.buildDirectory.dir(&quot;$buildDir/jacoco&quot;)\n        getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\n    }\n}\nproject.tasks['dependencyCheckAnalyze'].dependsOn &quot;jacocoTestReport&quot;\nproject.tasks['sonarqube'].dependsOn &quot;test&quot;\nsonarqube {\n    properties {\n        property &quot;sonar.coverage.jacoco.xmlReportPaths&quot;, &quot;build/jacoco/jacocoTestReport.xml&quot;\n    }\n}\n\njar {\n    enabled = false\n}\n</code></pre>\n<p>I'v tried to add additional command in Dockerfile to kill any subsequent daemons, restart computer, update operating system and Docker.</p>\n<p>Im running this on Mac ventura 13.2, Apple M1 Max, Docker updated to latest version. Thanks in the advance for any suggestions.</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"comments":[{"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"score":4,"creation_date":1521885385,"post_id":7489380,"comment_id":85929557,"body_markdown":"Any Other `libs` available for `Android` to get Page content is loaded with `javascript`?","body":"Any Other <code>libs</code> available for <code>Android</code> to get Page content is loaded with <code>javascript</code>?"}],"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"comment_count":1,"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1316540534,"creation_date":1316540534,"answer_id":7489380,"question_id":7488872,"body_markdown":"JSoup is an **HTML** parser, not some kind of embedded browser engine.  This means that it&#39;s completely unaware of any content that is added to the DOM by Javascript after the initial page load.\r\n\r\nTo get access to that type of content you will need an embedded browser component, there are a number of discussions on SO regarding that kind of component, eg https://stackoverflow.com/questions/48249/is-there-a-way-to-embed-a-browser-in-java ","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>JSoup is an <strong>HTML</strong> parser, not some kind of embedded browser engine.  This means that it's completely unaware of any content that is added to the DOM by Javascript after the initial page load.</p>\n\n<p>To get access to that type of content you will need an embedded browser component, there are a number of discussions on SO regarding that kind of component, eg <a href=\"https://stackoverflow.com/questions/48249/is-there-a-way-to-embed-a-browser-in-java\">Is there a way to embed a browser in Java?</a> </p>\n"},{"tags":[],"owner":{"account_id":1106212,"reputation":1937,"user_id":1097543,"accept_rate":14,"display_name":"salihcenap"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385201884,"creation_date":1385201884,"answer_id":20161098,"question_id":7488872,"body_markdown":"I fact there is a &quot;way&quot;! Maybe it is more &quot;a workaround&quot; than a &quot;way... The code below checks both for meta attribute &quot;REFRESH&quot; and javascript redirects... If either of them exists `RedirectedUrl` variable is set. So you know your target... Then you can retrieve the target page and go on...\r\n\r\n\t\tString RedirectedUrl=null;\r\n\t\tElements meta = page.select(&quot;html head meta&quot;);\r\n\t\tif (meta.attr(&quot;http-equiv&quot;).contains(&quot;REFRESH&quot;)) {\r\n\t\t\tRedirectedUrl = meta.attr(&quot;content&quot;).split(&quot;=&quot;)[1];\r\n\t\t} else {\r\n\t\t\tif (page.toString().contains(&quot;window.location.href&quot;)) {\r\n\t\t\t\tmeta = page.select(&quot;script&quot;);\r\n\t\t\t\tfor (Element script:meta) {\r\n\t\t\t\t\tString s = script.data();\r\n\t\t\t\t\tif (!s.isEmpty() &amp;&amp; s.startsWith(&quot;window.location.href&quot;)) {\r\n\t\t\t\t\t\tint start = s.indexOf(&quot;=&quot;);\r\n\t\t\t\t\t\tint end = s.indexOf(&quot;;&quot;);\r\n\t\t\t\t\t\tif (start&gt;0 &amp;&amp; end &gt;start) {\r\n\t\t\t\t\t\t\ts = s.substring(start+1,end);\r\n\t\t\t\t\t\t\ts =s.replace(&quot;&#39;&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;);        \r\n\t\t\t\t\t\t\tRedirectedUrl = s.trim();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n    ... now retrieve the redirected page again...","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>I fact there is a \"way\"! Maybe it is more \"a workaround\" than a \"way... The code below checks both for meta attribute \"REFRESH\" and javascript redirects... If either of them exists <code>RedirectedUrl</code> variable is set. So you know your target... Then you can retrieve the target page and go on...</p>\n\n<pre><code>    String RedirectedUrl=null;\n    Elements meta = page.select(\"html head meta\");\n    if (meta.attr(\"http-equiv\").contains(\"REFRESH\")) {\n        RedirectedUrl = meta.attr(\"content\").split(\"=\")[1];\n    } else {\n        if (page.toString().contains(\"window.location.href\")) {\n            meta = page.select(\"script\");\n            for (Element script:meta) {\n                String s = script.data();\n                if (!s.isEmpty() &amp;&amp; s.startsWith(\"window.location.href\")) {\n                    int start = s.indexOf(\"=\");\n                    int end = s.indexOf(\";\");\n                    if (start&gt;0 &amp;&amp; end &gt;start) {\n                        s = s.substring(start+1,end);\n                        s =s.replace(\"'\", \"\").replace(\"\\\"\", \"\");        \n                        RedirectedUrl = s.trim();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n... now retrieve the redirected page again...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316085,"reputation":9998,"user_id":2873507,"accept_rate":70,"display_name":"Vic Seedoubleyew"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1487007455,"creation_date":1471643409,"answer_id":39048149,"question_id":7488872,"body_markdown":"You need to understand what is happening :\r\n\r\n - When you query a page from a website, whether using Jsoup or your browser, what gets sent back to you is some HTML. Jsoup is able to parse that.\r\n - However, most websites include Javascript in that HTML, or linked from that HTML, which will populate the page with content. Your browser is able to execute the Javascript, and thus populate the page. Jsoup is not.\r\n\r\nThe way to understand this is the following : parsing HTML code is easy. Executing Javascript code and updating corresponding HTML code is a lot more complex, and is the work of a browser.\r\n\r\nHere are some solutions for this kind of problems:\r\n\r\n 1. If you can find what are the Ajax calls that Javascript code is making, that is loading content, you might be able to use the URL of these calls with Jsoup. In order to do that, use Developer Tools from your browser. But this is not guaranteed to work:\r\n   - it might be that the url is dynamic, and depends on what is on the page at that time\r\n    - if the content is not public, cookies will be involved, and simply querying the resource URL will not be enough\r\n\r\n 2. In these cases, you will need to &quot;simulate&quot; the work of a browser. Fortunately, such tools exist. The one I know, and recommend, is [PhantomJS][1]. It works with Javascript, and you would need to launch it from Java by starting a new process. If you want to stick to Java, [this post][2] lists some Java alternatives.\r\n\r\n\r\n  [1]: http://phantomjs.org\r\n  [2]: https://stackoverflow.com/questions/19759421/any-java-equivalent-to-phantomjs","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>You need to understand what is happening :</p>\n\n<ul>\n<li>When you query a page from a website, whether using Jsoup or your browser, what gets sent back to you is some HTML. Jsoup is able to parse that.</li>\n<li>However, most websites include Javascript in that HTML, or linked from that HTML, which will populate the page with content. Your browser is able to execute the Javascript, and thus populate the page. Jsoup is not.</li>\n</ul>\n\n<p>The way to understand this is the following : parsing HTML code is easy. Executing Javascript code and updating corresponding HTML code is a lot more complex, and is the work of a browser.</p>\n\n<p>Here are some solutions for this kind of problems:</p>\n\n<ol>\n<li><p>If you can find what are the Ajax calls that Javascript code is making, that is loading content, you might be able to use the URL of these calls with Jsoup. In order to do that, use Developer Tools from your browser. But this is not guaranteed to work:</p>\n\n<ul>\n<li>it might be that the url is dynamic, and depends on what is on the page at that time</li>\n<li>if the content is not public, cookies will be involved, and simply querying the resource URL will not be enough</li>\n</ul></li>\n<li><p>In these cases, you will need to \"simulate\" the work of a browser. Fortunately, such tools exist. The one I know, and recommend, is <a href=\"http://phantomjs.org\" rel=\"noreferrer\">PhantomJS</a>. It works with Javascript, and you would need to launch it from Java by starting a new process. If you want to stick to Java, <a href=\"https://stackoverflow.com/questions/19759421/any-java-equivalent-to-phantomjs\">this post</a> lists some Java alternatives.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"score":0,"creation_date":1521885142,"post_id":39369662,"comment_id":85929507,"body_markdown":"any solution for `Android` implementation?","body":"any solution for <code>Android</code> implementation?"},{"owner":{"account_id":9149538,"reputation":215,"user_id":6804591,"display_name":"ilu"},"score":0,"creation_date":1522249707,"post_id":39369662,"comment_id":86083105,"body_markdown":"1. Android app case: I&#39;m not sure it can help. Also I&#39;ve never met same behavior in android view.","body":"1. Android app case: I&#39;m not sure it can help. Also I&#39;ve never met same behavior in android view."},{"owner":{"account_id":9149538,"reputation":215,"user_id":6804591,"display_name":"ilu"},"score":0,"creation_date":1522250232,"post_id":39369662,"comment_id":86083549,"body_markdown":"2. Android web case: The problem of Phantomjs driver solution: you don&#39;t run UI driver. In fact phantom driver is &quot;a webkit which runs headless with an inbuilt JavaScript API&quot;. it is a no UI driver. Usually I use it for collecting data only. You cannot be sure, that UI view is correct.","body":"2. Android web case: The problem of Phantomjs driver solution: you don&#39;t run UI driver. In fact phantom driver is &quot;a webkit which runs headless with an inbuilt JavaScript API&quot;. it is a no UI driver. Usually I use it for collecting data only. You cannot be sure, that UI view is correct."}],"tags":[],"owner":{"account_id":9149538,"reputation":215,"user_id":6804591,"display_name":"ilu"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1507805141,"creation_date":1473250365,"answer_id":39369662,"question_id":7488872,"body_markdown":"Solved in my case with com.codeborne.phantomjsdriver\r\nNOTE: it is groovy code.\r\n\r\n**pom.xml**\r\n\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n              &lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\r\n              &lt;version&gt; &lt;here goes last version&gt; &lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n**PhantomJsUtils.groovy**\r\n\r\n    import org.jsoup.Jsoup\r\n    import org.jsoup.nodes.Document\r\n    import org.openqa.selenium.WebDriver\r\n    import org.openqa.selenium.phantomjs.PhantomJSDriver\r\n    \r\n    class PhantomJsUtils {\r\n        private static String filePath = &#39;data/temp/&#39;;\r\n    \r\n        public static Document renderPage(String filePath) {\r\n            System.setProperty(&quot;phantomjs.binary.path&quot;, &#39;libs/phantomjs&#39;) // path to bin file. NOTE: platform dependent\r\n            WebDriver ghostDriver = new PhantomJSDriver();\r\n            try {\r\n                ghostDriver.get(filePath);\r\n                return Jsoup.parse(ghostDriver.getPageSource());\r\n            } finally {\r\n                ghostDriver.quit();\r\n            }\r\n        }\r\n    \r\n        public static Document renderPage(Document doc) {\r\n            String tmpFileName = &quot;$filePath${Calendar.getInstance().timeInMillis}.html&quot;;\r\n            FileUtils.writeToFile(tmpFileName, doc.toString());\r\n            return renderPage(tmpFileName);\r\n        }\r\n    }\r\n\r\n\r\n**ClassInProject.groovy**\r\n\r\n    Document doc = PhantomJsUtils.renderPage(Jsoup.parse(yourSource))","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>Solved in my case with com.codeborne.phantomjsdriver\nNOTE: it is groovy code.</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n          &lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\n          &lt;version&gt; &lt;here goes last version&gt; &lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>PhantomJsUtils.groovy</strong></p>\n\n<pre><code>import org.jsoup.Jsoup\nimport org.jsoup.nodes.Document\nimport org.openqa.selenium.WebDriver\nimport org.openqa.selenium.phantomjs.PhantomJSDriver\n\nclass PhantomJsUtils {\n    private static String filePath = 'data/temp/';\n\n    public static Document renderPage(String filePath) {\n        System.setProperty(\"phantomjs.binary.path\", 'libs/phantomjs') // path to bin file. NOTE: platform dependent\n        WebDriver ghostDriver = new PhantomJSDriver();\n        try {\n            ghostDriver.get(filePath);\n            return Jsoup.parse(ghostDriver.getPageSource());\n        } finally {\n            ghostDriver.quit();\n        }\n    }\n\n    public static Document renderPage(Document doc) {\n        String tmpFileName = \"$filePath${Calendar.getInstance().timeInMillis}.html\";\n        FileUtils.writeToFile(tmpFileName, doc.toString());\n        return renderPage(tmpFileName);\n    }\n}\n</code></pre>\n\n<p><strong>ClassInProject.groovy</strong></p>\n\n<pre><code>Document doc = PhantomJsUtils.renderPage(Jsoup.parse(yourSource))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8447846,"reputation":1,"user_id":6346129,"display_name":"Partha Pratim Dutta"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1499004563,"creation_date":1499002050,"answer_id":44871319,"question_id":7488872,"body_markdown":"Try:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Document Doc = Jsoup.connect(url)\r\n        .header(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)\r\n        .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0&quot;)\r\n        .maxBodySize(0)\r\n        .timeout(600000)\r\n        .get();\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>Try:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Document Doc = Jsoup.connect(url)\r\n    .header(\"Accept-Encoding\", \"gzip, deflate\")\r\n    .userAgent(\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0\")\r\n    .maxBodySize(0)\r\n    .timeout(600000)\r\n    .get();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":7426515,"reputation":1697,"user_id":5648801,"display_name":"emon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544106434,"creation_date":1544106434,"answer_id":53653568,"question_id":7488872,"body_markdown":"After specifying user agent, my problem is solved.\r\n\r\nhttps://github.com/jhy/jsoup/issues/287#issuecomment-12769155","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>After specifying user agent, my problem is solved.</p>\n\n<p><a href=\"https://github.com/jhy/jsoup/issues/287#issuecomment-12769155\" rel=\"nofollow noreferrer\">https://github.com/jhy/jsoup/issues/287#issuecomment-12769155</a></p>\n"},{"tags":[],"owner":{"account_id":13431403,"reputation":775,"user_id":9691138,"display_name":"res"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579166616,"creation_date":1579166616,"answer_id":59766434,"question_id":7488872,"body_markdown":"It is possible by combining `JSoup` with another framework to interpret the webpage, in my example here I&#39;m using `HtmlUnit`.\r\n\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n    \r\n    ...\r\n    \r\n    WebClient webClient = new WebClient();\r\n    HtmlPage myPage = webClient.getPage(URL);\r\n    \t\t\t\t\r\n    Document document = Jsoup.parse(myPage.asXml());\r\n    Elements otherLinks = document.select(&quot;a[href]&quot;);","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>It is possible by combining <code>JSoup</code> with another framework to interpret the webpage, in my example here I'm using <code>HtmlUnit</code>.</p>\n\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\n...\n\nWebClient webClient = new WebClient();\nHtmlPage myPage = webClient.getPage(URL);\n\nDocument document = Jsoup.parse(myPage.asXml());\nElements otherLinks = document.select(\"a[href]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591558155,"creation_date":1588276424,"answer_id":61531637,"question_id":7488872,"body_markdown":"You can use a combination of JSoup and HtmlUnit to get the page contents after JavaScript scripts are done loading.\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n        &lt;version&gt;3.35&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Simple Example** From file https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit\r\n\r\n\t// load page using HTML Unit and fire scripts\r\n    WebClient webClient2 = new WebClient();\r\n    HtmlPage myPage = webClient2.getPage(new File(&quot;page.html&quot;).toURI().toURL());\r\n\r\n    // convert page to generated HTML and convert to document\r\n    Document doc = Jsoup.parse(myPage.asXml());\r\n\t \r\n    // iterate row and col\r\n    for (Element row : doc.select(&quot;table#data &gt; tbody &gt; tr&quot;))\r\n        for (Element col : row.select(&quot;td&quot;))\r\n            // print results\r\n            System.out.println(col.ownText());\r\n\r\n    // clean up resources        \r\n    webClient2.close();\r\n\r\n**A Complex Example:** Load login, get Session and CSRF, then post and wait for home page to finish loading (15 seconds)\r\n\r\n    import java.io.IOException;\r\n    import java.net.HttpCookie;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import org.jsoup.Connection;\r\n    import org.jsoup.Connection.Method;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    import com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;\r\n    import com.gargoylesoftware.htmlunit.HttpMethod;\r\n    import com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.WebRequest;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n\r\n    //JSoup load Login Page and get Session Details\r\n    Connection.Response res = Jsoup.connect(&quot;https://loginpage&quot;).method(Method.GET).execute();\r\n\r\n\tString sessionId = res.cookie(&quot;findSESSION&quot;);\r\n\tString csrf = res.cookie(&quot;findCSRF&quot;);\r\n\r\n    HttpCookie cookie = new HttpCookie(&quot;findCSRF&quot;, csrf);\r\n\tcookie.setDomain(&quot;domain.url&quot;);\r\n\tcookie.setPath(&quot;/path&quot;);\r\n\r\n\tWebClient webClient = new WebClient();\r\n\twebClient.addCookie(cookie.toString(),\r\n\t\t\t\tnew URL(&quot;https://url&quot;),\r\n\t\t\t\t&quot;https://referrer&quot;);\r\n\r\n    // Add other cookies/ Session ...\r\n\r\n    webClient.getOptions().setJavaScriptEnabled(true);\r\n\twebClient.getOptions().setCssEnabled(false);\r\n\twebClient.getOptions().setUseInsecureSSL(true);\r\n\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\twebClient.getCookieManager().setCookiesEnabled(true);\r\n\twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n    // Wait time\r\n\twebClient.waitForBackgroundJavaScript(15000);\r\n\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n    URL url = new URL(&quot;https://login.path&quot;);\r\n    WebRequest requestSettings = new WebRequest(url, HttpMethod.POST);\r\n    \r\n    requestSettings.setRequestBody(&quot;user=234&amp;pass=sdsdc&amp;CSRFToken=&quot;+csrf);\r\n    HtmlPage page = webClient.getPage(requestSettings);\r\n    \t\r\n    // Wait\r\n    synchronized (page) {\r\n        try {\r\n            page.wait(15000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Parse logged in page as needed\r\n    Document doc = Jsoup.parse(page.asXml());","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>You can use a combination of JSoup and HtmlUnit to get the page contents after JavaScript scripts are done loading.</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;3.35&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Simple Example</strong> From file <a href=\"https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit\" rel=\"noreferrer\">https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit</a></p>\n\n<pre><code>// load page using HTML Unit and fire scripts\nWebClient webClient2 = new WebClient();\nHtmlPage myPage = webClient2.getPage(new File(\"page.html\").toURI().toURL());\n\n// convert page to generated HTML and convert to document\nDocument doc = Jsoup.parse(myPage.asXml());\n\n// iterate row and col\nfor (Element row : doc.select(\"table#data &gt; tbody &gt; tr\"))\n    for (Element col : row.select(\"td\"))\n        // print results\n        System.out.println(col.ownText());\n\n// clean up resources        \nwebClient2.close();\n</code></pre>\n\n<p><strong>A Complex Example:</strong> Load login, get Session and CSRF, then post and wait for home page to finish loading (15 seconds)</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.HttpCookie;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.jsoup.Connection;\nimport org.jsoup.Connection.Method;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\nimport com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;\nimport com.gargoylesoftware.htmlunit.HttpMethod;\nimport com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.WebRequest;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\n//JSoup load Login Page and get Session Details\nConnection.Response res = Jsoup.connect(\"https://loginpage\").method(Method.GET).execute();\n\nString sessionId = res.cookie(\"findSESSION\");\nString csrf = res.cookie(\"findCSRF\");\n\nHttpCookie cookie = new HttpCookie(\"findCSRF\", csrf);\ncookie.setDomain(\"domain.url\");\ncookie.setPath(\"/path\");\n\nWebClient webClient = new WebClient();\nwebClient.addCookie(cookie.toString(),\n            new URL(\"https://url\"),\n            \"https://referrer\");\n\n// Add other cookies/ Session ...\n\nwebClient.getOptions().setJavaScriptEnabled(true);\nwebClient.getOptions().setCssEnabled(false);\nwebClient.getOptions().setUseInsecureSSL(true);\nwebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nwebClient.getCookieManager().setCookiesEnabled(true);\nwebClient.setAjaxController(new NicelyResynchronizingAjaxController());\n// Wait time\nwebClient.waitForBackgroundJavaScript(15000);\nwebClient.getOptions().setThrowExceptionOnScriptError(false);\n\nURL url = new URL(\"https://login.path\");\nWebRequest requestSettings = new WebRequest(url, HttpMethod.POST);\n\nrequestSettings.setRequestBody(\"user=234&amp;pass=sdsdc&amp;CSRFToken=\"+csrf);\nHtmlPage page = webClient.getPage(requestSettings);\n\n// Wait\nsynchronized (page) {\n    try {\n        page.wait(15000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\n// Parse logged in page as needed\nDocument doc = Jsoup.parse(page.asXml());\n</code></pre>\n"}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66659,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"accepted_answer_id":7489380,"answer_count":8,"score":46,"last_activity_date":1675609394,"creation_date":1316538078,"question_id":7488872,"body_markdown":"One block on the page is filled with content by JavaScript and after loading page with Jsoup there is none of that inforamtion. Is there a way to get also JavaScript generated content when parsing page with `Jsoup`?\r\n\r\nCan&#39;t paste page code here, since it is too long: http://pastebin.com/qw4Rfqgw\r\n\r\nHere&#39;s element which content I need: `&lt;div id=&#39;tags_list&#39;&gt;&lt;/div&gt;`\r\n\r\nI need to get this information in Java. Preferably using Jsoup. Element is field with help of JavaScript:\r\n\r\n    &lt;div id=&quot;tags_list&quot;&gt;\r\n    \t&lt;a href=&quot;/tagsc0t20099.html&quot; style=&quot;font-size:14;&quot;&gt;разведчик&lt;/a&gt;\r\n    \t&lt;a href=&quot;/tagsc0t1879.html&quot; style=&quot;font-size:14;&quot;&gt;Sr&lt;/a&gt;\r\n    \t&lt;a href=&quot;/tagsc0t3140.html&quot; style=&quot;font-size:14;&quot;&gt;стратегический&lt;/a&gt;\r\n    &lt;/div&gt;\r\n\r\nJava code:\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test\r\n    {\r\n    \tpublic static void main( String[] args )\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tDocument Doc = Jsoup.connect( &quot;http://www.bestreferat.ru/referat-32558.html&quot; ).get();\r\n    \t\t\tElements Tags = Doc.select( &quot;#tags_list a&quot; );\r\n    \t\t\t\r\n    \t\t\tfor ( Element Tag : Tags )\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println( Tag.text() );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch ( IOException e )\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>One block on the page is filled with content by JavaScript and after loading page with Jsoup there is none of that inforamtion. Is there a way to get also JavaScript generated content when parsing page with <code>Jsoup</code>?</p>\n\n<p>Can't paste page code here, since it is too long: <a href=\"http://pastebin.com/qw4Rfqgw\" rel=\"noreferrer\">http://pastebin.com/qw4Rfqgw</a></p>\n\n<p>Here's element which content I need: <code>&lt;div id='tags_list'&gt;&lt;/div&gt;</code></p>\n\n<p>I need to get this information in Java. Preferably using Jsoup. Element is field with help of JavaScript:</p>\n\n<pre><code>&lt;div id=\"tags_list\"&gt;\n    &lt;a href=\"/tagsc0t20099.html\" style=\"font-size:14;\"&gt;разведчик&lt;/a&gt;\n    &lt;a href=\"/tagsc0t1879.html\" style=\"font-size:14;\"&gt;Sr&lt;/a&gt;\n    &lt;a href=\"/tagsc0t3140.html\" style=\"font-size:14;\"&gt;стратегический&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport java.io.IOException;\n\npublic class Test\n{\n    public static void main( String[] args )\n    {\n        try\n        {\n            Document Doc = Jsoup.connect( \"http://www.bestreferat.ru/referat-32558.html\" ).get();\n            Elements Tags = Doc.select( \"#tags_list a\" );\n\n            for ( Element Tag : Tags )\n            {\n                System.out.println( Tag.text() );\n            }\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-security"],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1675605486,"post_id":75342471,"comment_id":132961141,"body_markdown":"@jonathan-hagen see the notes I added","body":"@jonathan-hagen see the notes I added"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675608392,"creation_date":1675475513,"answer_id":75342471,"question_id":75341971,"body_markdown":"As already stated in the answer to your other question [&quot;How to write unit test for SecurityConfig for spring security&quot;][1], **for unit-testing a `@Controller`, use `@WebMvcTest`** (with mocked dependencies), not `@SpringBootTest` which is intended for integration testing, loads much more config, and instantiate &amp; autowire actual components (and, as a consequence, is slower and less focused)\r\n```Java\r\n@WebMvcTest(controllers = DataImporterController.class)\r\npublic class DataImporterControllerUnitTest {\r\n    @MockBean\r\n    DataImporterService dataImporterService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\twhen(dataImporterService.doImport(body)).thenReturn(something);\r\n\t}\r\n\r\n    @Test\r\n    void doImportExpect200() throws Exception {\r\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\r\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\r\n                        .content(BODY)).andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nIf you had followed the [link I already provided][2], you&#39;d have find that in the main README, in [the many samples][3], and in [the tutorials][4]\r\n\r\n# Notes\r\n\r\n&gt; I am writing a unit test for spring security and JWT validation.\r\n\r\nThis are completely separate concerns and is to be done separately:\r\n- spring security access-control is unit-tested with secured components: `@Controller` of course, but also `@Service`, `@Repository`, etc. where method-security is used (refer to your previous question for instructions and to my repo for samples)\r\n- Authorization header is not considered when building `@WebMvcTest` or `@WebfluxTest` security-context. Authentication instances are built based on MockMvc request post-processors, WebTestClient mutators or annotations and **this does not involve any token decoding or validation**. JWT validation has to be tested in a `JwtDecoder` unit-test (only if you keep your own, which you shouldn&#39;t, see below)\r\n\r\n&gt; Spring Security does not validate the &quot;aud&quot; claim of the token\r\n\r\n[This is wrong with spring-boot since 2.7][6]: `spring.security.oauth2.resourceserver.jwt.audiences` property does just that. There is no need for you to override the `JwtDecoder` provided by spring-boot (actually, you shouldn&#39;t), and, as a consequence to unit-test your own.\r\n\r\n&gt; 1. When no token -&gt; expect 401\r\n&gt; 2. When token but wrong scope -&gt; expect 403\r\n&gt; 3. When token and scope -&gt; expect 200\r\n\r\nTo be exact, the phrasing would better be:\r\n- &quot;anonymous&quot; rather than &quot;no token&quot;\r\n- &quot;authenticated&quot; rather than just &quot;token&quot;\r\n- &quot;authorities&quot; rather than &quot;scope&quot;\r\n\r\nThe reason for that are:\r\n- the OAuth2 token is validated and then turned into an `Authentication` instance: by default `AnonymousAuthenticationToken` if token is missing or validation fails, and whatever the configured authentication-converter returns if validation is successful\r\n- spring-security **R**ole-**B**ased **A**ccess-**C**ontrol is completely generic (nothing specific to OAuth2) and relies on `GrantedAuthority`, not `scope`. This common confusion is due to the fact that there is nothing related to RBAC in OAuth2 nor OpenID standards and the default authentication-converter had to choose a claim that is always there to map authorities from. `scope` claim was picked as default, adding the `SCOPE_` prefix. You should refer to how RBAC is implemented by your own authorization server and provide an authentication-converter bean to map authorities from the right claim(s).\r\n\r\nAuth0 uses `roles` and `permissions` claims when [RBAC is enabled][7], Keycloak uses `realm_access.roles` and `resource_access.{client-id}.roles`, etc., reason for me implementing a configurable authorities-converter, which picks the claims that should be used as authorities source from application properties (and how to map it: prefix and case transformation).\r\n\r\nLast, your configuration is still risky (enabled sessions with disabled CSRF protection and poor CORS config). You should really consider using [&quot;my&quot; starters][5], or follow the tutorial I wrote for [configuring a resource-server with just `spring-boot-oauth2-resource-server`][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75340753/619830\r\n  [2]: https://github.com/ch4mpy/spring-addons\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\r\n  [5]: https://github.com/ch4mpy/spring-addons#spring-boot-resource-server-starters\r\n  [6]: https://github.com/spring-projects/spring-boot/pull/29084\r\n  [7]: https://auth0.com/docs/manage-users/access-control/rbac","title":"mockMvc cannot mock service for unit test","body":"<p>As already stated in the answer to your other question <a href=\"https://stackoverflow.com/a/75340753/619830\">&quot;How to write unit test for SecurityConfig for spring security&quot;</a>, <strong>for unit-testing a <code>@Controller</code>, use <code>@WebMvcTest</code></strong> (with mocked dependencies), not <code>@SpringBootTest</code> which is intended for integration testing, loads much more config, and instantiate &amp; autowire actual components (and, as a consequence, is slower and less focused)</p>\n<pre><code>@WebMvcTest(controllers = DataImporterController.class)\npublic class DataImporterControllerUnitTest {\n    @MockBean\n    DataImporterService dataImporterService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setUp() {\n        when(dataImporterService.doImport(body)).thenReturn(something);\n    }\n\n    @Test\n    void doImportExpect200() throws Exception {\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\n                        .content(BODY)).andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>If you had followed the <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">link I already provided</a>, you'd have find that in the main README, in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">the many samples</a>, and in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">the tutorials</a></p>\n<h1>Notes</h1>\n<blockquote>\n<p>I am writing a unit test for spring security and JWT validation.</p>\n</blockquote>\n<p>This are completely separate concerns and is to be done separately:</p>\n<ul>\n<li>spring security access-control is unit-tested with secured components: <code>@Controller</code> of course, but also <code>@Service</code>, <code>@Repository</code>, etc. where method-security is used (refer to your previous question for instructions and to my repo for samples)</li>\n<li>Authorization header is not considered when building <code>@WebMvcTest</code> or <code>@WebfluxTest</code> security-context. Authentication instances are built based on MockMvc request post-processors, WebTestClient mutators or annotations and <strong>this does not involve any token decoding or validation</strong>. JWT validation has to be tested in a <code>JwtDecoder</code> unit-test (only if you keep your own, which you shouldn't, see below)</li>\n</ul>\n<blockquote>\n<p>Spring Security does not validate the &quot;aud&quot; claim of the token</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-boot/pull/29084\" rel=\"nofollow noreferrer\">This is wrong with spring-boot since 2.7</a>: <code>spring.security.oauth2.resourceserver.jwt.audiences</code> property does just that. There is no need for you to override the <code>JwtDecoder</code> provided by spring-boot (actually, you shouldn't), and, as a consequence to unit-test your own.</p>\n<blockquote>\n<ol>\n<li>When no token -&gt; expect 401</li>\n<li>When token but wrong scope -&gt; expect 403</li>\n<li>When token and scope -&gt; expect 200</li>\n</ol>\n</blockquote>\n<p>To be exact, the phrasing would better be:</p>\n<ul>\n<li>&quot;anonymous&quot; rather than &quot;no token&quot;</li>\n<li>&quot;authenticated&quot; rather than just &quot;token&quot;</li>\n<li>&quot;authorities&quot; rather than &quot;scope&quot;</li>\n</ul>\n<p>The reason for that are:</p>\n<ul>\n<li>the OAuth2 token is validated and then turned into an <code>Authentication</code> instance: by default <code>AnonymousAuthenticationToken</code> if token is missing or validation fails, and whatever the configured authentication-converter returns if validation is successful</li>\n<li>spring-security <strong>R</strong>ole-<strong>B</strong>ased <strong>A</strong>ccess-<strong>C</strong>ontrol is completely generic (nothing specific to OAuth2) and relies on <code>GrantedAuthority</code>, not <code>scope</code>. This common confusion is due to the fact that there is nothing related to RBAC in OAuth2 nor OpenID standards and the default authentication-converter had to choose a claim that is always there to map authorities from. <code>scope</code> claim was picked as default, adding the <code>SCOPE_</code> prefix. You should refer to how RBAC is implemented by your own authorization server and provide an authentication-converter bean to map authorities from the right claim(s).</li>\n</ul>\n<p>Auth0 uses <code>roles</code> and <code>permissions</code> claims when <a href=\"https://auth0.com/docs/manage-users/access-control/rbac\" rel=\"nofollow noreferrer\">RBAC is enabled</a>, Keycloak uses <code>realm_access.roles</code> and <code>resource_access.{client-id}.roles</code>, etc., reason for me implementing a configurable authorities-converter, which picks the claims that should be used as authorities source from application properties (and how to map it: prefix and case transformation).</p>\n<p>Last, your configuration is still risky (enabled sessions with disabled CSRF protection and poor CORS config). You should really consider using <a href=\"https://github.com/ch4mpy/spring-addons#spring-boot-resource-server-starters\" rel=\"nofollow noreferrer\">&quot;my&quot; starters</a>, or follow the tutorial I wrote for <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">configuring a resource-server with just <code>spring-boot-oauth2-resource-server</code></a>.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75342471,"answer_count":1,"score":0,"last_activity_date":1675608392,"creation_date":1675467171,"question_id":75341971,"body_markdown":"I am writing a unit test for spring security and JWT validation. There are 3 basic cases I want to start the test with:\r\n\r\n 1. When no token -&gt; expect 401\r\n 2. When token but wrong scope -&gt; expect 403\r\n 3. When token and scope -&gt; expect 200\r\n\r\nI tested my code using postman and they return expected responses. In my unit test I have this:\r\n```\r\n@SpringBootTest\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\n@AutoConfigureMockMvc\r\n@EnableAutoConfiguration\r\n@Import(DataImporterControllerConfig.class)\r\npublic class SecurityConfigTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    void doImportExpect200() throws Exception {\r\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\r\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\r\n                        .content(BODY)).andExpect(status().isOk());\r\n    }\r\n```\r\nIt does pass validation part and try to return some value from the controller:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;${data.uriPrefix}&quot;)\r\n@Loggable(value = INFO, trim = false)\r\npublic class DataImporterController {\r\n\r\n    private final DataImporterService dataImporterService;\r\n\r\n    @PutMapping(path = &quot;/someurl&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\r\n    public dataImportResponse doImport(@RequestHeader(name = ACCEPT, required = true) final String acceptHeader,\r\n        final @RequestBody @NotBlank String body) {\r\n        return new DataImportResponse(dataImporterService.doImport(body));\r\n    }\r\n```\r\nThe logic inside `dataImporterService.doImport(body)` require some db operation, so ideally, I want to mock it and make it return some value (something like `when(dataImporterServiceMock.doImport(body)).thenReturn(something)`.\r\n\r\nHowever, when I try it, it doesn&#39;t work. I think it is because I am not creating a controller with mocked service. I tried to create one, but due to configuration for `SecurityConfig` class, it is not that easy. Here is SecurityConfig class:\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        /*\r\n        This is where we configure the security required for our endpoints and setup our app to serve as\r\n        an OAuth2 Resource Server, using JWT validation.\r\n        */\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.GET, &quot;/actuator/**&quot;).permitAll()\r\n            .antMatchers(HttpMethod.PUT, &quot;/dataimporter/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\r\n            .anyRequest().authenticated()\r\n            .and().cors()\r\n            .and().oauth2ResourceServer().jwt();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\nI got this code from Auth0 and just modified `antMatcher` portion. How can I test it so it returns 200 (mock service or something)?","title":"mockMvc cannot mock service for unit test","body":"<p>I am writing a unit test for spring security and JWT validation. There are 3 basic cases I want to start the test with:</p>\n<ol>\n<li>When no token -&gt; expect 401</li>\n<li>When token but wrong scope -&gt; expect 403</li>\n<li>When token and scope -&gt; expect 200</li>\n</ol>\n<p>I tested my code using postman and they return expected responses. In my unit test I have this:</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = SecurityConfig.class)\n@AutoConfigureMockMvc\n@EnableAutoConfiguration\n@Import(DataImporterControllerConfig.class)\npublic class SecurityConfigTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void doImportExpect200() throws Exception {\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\n                        .content(BODY)).andExpect(status().isOk());\n    }\n</code></pre>\n<p>It does pass validation part and try to return some value from the controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;${data.uriPrefix}&quot;)\n@Loggable(value = INFO, trim = false)\npublic class DataImporterController {\n\n    private final DataImporterService dataImporterService;\n\n    @PutMapping(path = &quot;/someurl&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\n    public dataImportResponse doImport(@RequestHeader(name = ACCEPT, required = true) final String acceptHeader,\n        final @RequestBody @NotBlank String body) {\n        return new DataImportResponse(dataImporterService.doImport(body));\n    }\n</code></pre>\n<p>The logic inside <code>dataImporterService.doImport(body)</code> require some db operation, so ideally, I want to mock it and make it return some value (something like <code>when(dataImporterServiceMock.doImport(body)).thenReturn(something)</code>.</p>\n<p>However, when I try it, it doesn't work. I think it is because I am not creating a controller with mocked service. I tried to create one, but due to configuration for <code>SecurityConfig</code> class, it is not that easy. Here is SecurityConfig class:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        /*\n        This is where we configure the security required for our endpoints and setup our app to serve as\n        an OAuth2 Resource Server, using JWT validation.\n        */\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/actuator/**&quot;).permitAll()\n            .antMatchers(HttpMethod.PUT, &quot;/dataimporter/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\n            .anyRequest().authenticated()\n            .and().cors()\n            .and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n        jwtDecoder.setJwtValidator(withAudience);\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>I got this code from Auth0 and just modified <code>antMatcher</code> portion. How can I test it so it returns 200 (mock service or something)?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1675461330,"post_id":75341192,"comment_id":132941645,"body_markdown":"Not all programmers agree on the meaning of the terms &#39;parallelism&#39; and &#39;concurrency&#39;. They may define them in different ways or do not distinguish them at all. Please improve your question by: 1. giving your definitions 2. Adding a link to the article you refer to.","body":"Not all programmers agree on the meaning of the terms &#39;parallelism&#39; and &#39;concurrency&#39;. They may define them in different ways or do not distinguish them at all. Please improve your question by: 1. giving your definitions 2. Adding a link to the article you refer to."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675461535,"post_id":75341192,"comment_id":132941681,"body_markdown":"I think we all define &quot;parallelism&quot; the same way.  &quot;Concurrency&quot; is a bit of a sticking point because the common English usage of a similar word (concurrent) means &quot;at the same time&quot; but the Computer Science definition of &quot;concurrency&quot; allows for task to execute sequentially (i.e, *not* at the same time).","body":"I think we all define &quot;parallelism&quot; the same way.  &quot;Concurrency&quot; is a bit of a sticking point because the common English usage of a similar word (concurrent) means &quot;at the same time&quot; but the Computer Science definition of &quot;concurrency&quot; allows for task to execute sequentially (i.e, <i>not</i> at the same time)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675461765,"post_id":75341192,"comment_id":132941732,"body_markdown":"I think for a long time, Java (that is, the JVM) has used OS threads and/or OS processes for its multi-threading, so what you really get is up to the OS and its scheduler.  I don&#39;t think the JVM *prevents* you from scheduling threads in parallel, but depending on various factors the threads may or may not literally execute in parallel.  I think this has been true for a long time (well before Java 1.5) but things got more definite by the 1.5 release and any otherwise eligible task from that point should be eligible for parallelism if the OS permits it.","body":"I think for a long time, Java (that is, the JVM) has used OS threads and/or OS processes for its multi-threading, so what you really get is up to the OS and its scheduler.  I don&#39;t think the JVM <i>prevents</i> you from scheduling threads in parallel, but depending on various factors the threads may or may not literally execute in parallel.  I think this has been true for a long time (well before Java 1.5) but things got more definite by the 1.5 release and any otherwise eligible task from that point should be eligible for parallelism if the OS permits it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675462530,"post_id":75341192,"comment_id":132941883,"body_markdown":"I also have a minor quibble: hardware can be parallel as well, starting around the Pentium 5 in 1990 for common hardware.  A single process with a single thread could still execute in parallel, since those cores had two instruction pipelines which could execute two machine instructions at the same instant.  But I realize this is getting far afield of what you were actually talking about.","body":"I also have a minor quibble: hardware can be parallel as well, starting around the Pentium 5 in 1990 for common hardware.  A single process with a single thread could still execute in parallel, since those cores had two instruction pipelines which could execute two machine instructions at the same instant.  But I realize this is getting far afield of what you were actually talking about."},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":0,"creation_date":1675463225,"post_id":75341192,"comment_id":132942013,"body_markdown":"@markspace Thanks for that knowledge though, any new knowledge is appreciated.. thanks for the edit too","body":"@markspace Thanks for that knowledge though, any new knowledge is appreciated.. thanks for the edit too"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675562561,"post_id":75341192,"comment_id":132955938,"body_markdown":"Maybe this article: https://qr.ae/pruIFr","body":"Maybe this article: <a href=\"https://qr.ae/pruIFr\" rel=\"nofollow noreferrer\">qr.ae/pruIFr</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675568016,"post_id":75341192,"comment_id":132956343,"body_markdown":"That article is full of inaccuracies.  For instance the &quot;core-awareness&quot; that he is apparently talking about has always been a feature of Java since Java 1.3 when &quot;green threads&quot; were replaces with &quot;native threads&quot;.","body":"That article is full of inaccuracies.  For instance the &quot;core-awareness&quot; that he is apparently talking about has always been a feature of Java since Java 1.3 when &quot;green threads&quot; were replaces with &quot;native threads&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675569161,"post_id":75341192,"comment_id":132956432,"body_markdown":"Chetan: It is a well known fact that a lot of the articles that one reads on the internet are either incorrect or just someone&#39;s (ill-informed) opinion.  Before asking an SO question like this, it is important that you do some *independent* research (e.g. finding and reading reputable academic sources, or even just Wikipedia) ... rather than (in effect) asking us to do it for you.","body":"Chetan: It is a well known fact that a lot of the articles that one reads on the internet are either incorrect or just someone&#39;s (ill-informed) opinion.  Before asking an SO question like this, it is important that you do some <i>independent</i> research (e.g. finding and reading reputable academic sources, or even just Wikipedia) ... rather than (in effect) asking us to do it for you."}],"answers":[{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675462001,"post_id":75341437,"comment_id":132941777,"body_markdown":"However, &quot;concurrency&quot; is a different word than the ones you use above.  And it&#39;s official definition allows tasks to execute sequentially.  That&#39;s how you can have &quot;concurrency&quot; in languages with a global interpreter lock that prevents any possibility of parallelism.","body":"However, &quot;concurrency&quot; is a different word than the ones you use above.  And it&#39;s official definition allows tasks to execute sequentially.  That&#39;s how you can have &quot;concurrency&quot; in languages with a global interpreter lock that prevents any possibility of parallelism."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1675462111,"post_id":75341437,"comment_id":132941800,"body_markdown":"@markspace, Nothing that I said rules out the possibility that in some execution, two &quot;concurrent&quot; threads actually run one after the other. And nothing that I said rules out the possibility of having concurrent threads in a certain language that has a &quot;Global Interpreter Lock.&quot;","body":"@markspace, Nothing that I said rules out the possibility that in some execution, two &quot;concurrent&quot; threads actually run one after the other. And nothing that I said rules out the possibility of having concurrent threads in a certain language that has a &quot;Global Interpreter Lock.&quot;"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675561882,"post_id":75341437,"comment_id":132955864,"body_markdown":"There is an academic definition of the work &quot;concurrency&quot; which I bet a large percentage of thread programmers would disagree with.  It is more complicated because the word &quot;concurrent&quot; in the post is a different word with a specific dictionary definition.  I would say &quot;concurrency theory&quot; is what you are describing.  To me concurrency is a synonym of concurrence and I&#39;ve been a thread programmer for 30 years and learned it before they taught it (which is probably the problem).","body":"There is an academic definition of the work &quot;concurrency&quot; which I bet a large percentage of thread programmers would disagree with.  It is more complicated because the word &quot;concurrent&quot; in the post is a different word with a specific dictionary definition.  I would say &quot;concurrency theory&quot; is what you are describing.  To me concurrency is a synonym of concurrence and I&#39;ve been a thread programmer for 30 years and learned it before they taught it (which is probably the problem)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1675562163,"post_id":75341437,"comment_id":132955901,"body_markdown":"How about this definition then? Two function activations are &quot;concurrent&quot; during any interval of time when both of them have been started, but neither one of them has finished. It&#39;s a little bit broader because _recursive_ calls from the same thread count as &quot;concurrent&quot; by that definition, but if we stipulate that the two calls happen in different threads, then in practice, it implies the kind of &quot;concurrency&quot; that I described above.","body":"How about this definition then? Two function activations are &quot;concurrent&quot; during any interval of time when both of them have been started, but neither one of them has finished. It&#39;s a little bit broader because <i>recursive</i> calls from the same thread count as &quot;concurrent&quot; by that definition, but if we stipulate that the two calls happen in different threads, then in practice, it implies the kind of &quot;concurrency&quot; that I described above."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675562285,"post_id":75341437,"comment_id":132955911,"body_markdown":"Here&#39;s a MIT reading with some different context. \n &quot;Concurrency means multiple computations are happening at the same time.&quot; https://web.mit.edu/6.005/www/fa14/classes/17-concurrency/","body":"Here&#39;s a MIT reading with some different context.   &quot;Concurrency means multiple computations are happening at the same time.&quot; <a href=\"https://web.mit.edu/6.005/www/fa14/classes/17-concurrency/\" rel=\"nofollow noreferrer\">web.mit.edu/6.005/www/fa14/classes/17-concurrency</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675562400,"post_id":75341437,"comment_id":132955920,"body_markdown":"For me two function activations are &quot;concurrent&quot; if they are executing simultaneously but again I&#39;m an old thread programmer.","body":"For me two function activations are &quot;concurrent&quot; if they are executing simultaneously but again I&#39;m an old thread programmer."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1675562988,"post_id":75341437,"comment_id":132955970,"body_markdown":"@Gray, But it&#39;s the ambiguity in &quot;_executing_ simultaneously&quot; that drives the OP to ask the question. If function `f` calls function `g` in a single thread, can we say that the two functions &quot;execute simultaneously?&quot; (Sounds dubious to me!) If `f` and `g` are called by different threads on a single-CPU machine, can we say that they may &quot;execute simultaneously?&quot; (More than one newbie here has struggled to understand that exact question). IMO, the way to disambiguate is to exorcize the word &quot;simultaneous&quot; from any definition of concurrency, and only use it when talking about &quot;parallelism.&quot;","body":"@Gray, But it&#39;s the ambiguity in &quot;<i>executing</i> simultaneously&quot; that drives the OP to ask the question. If function <code>f</code> calls function <code>g</code> in a single thread, can we say that the two functions &quot;execute simultaneously?&quot; (Sounds dubious to me!) If <code>f</code> and <code>g</code> are called by different threads on a single-CPU machine, can we say that they may &quot;execute simultaneously?&quot; (More than one newbie here has struggled to understand that exact question). IMO, the way to disambiguate is to exorcize the word &quot;simultaneous&quot; from any definition of concurrency, and only use it when talking about &quot;parallelism.&quot;"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675563299,"post_id":75341437,"comment_id":132955994,"body_markdown":"Agreed @SolomonSlow.  Sounds confusing to me as well.  I would certainly say that the latter is simultaneous given that the word means &quot;done at the same time&quot;.  The former is confusing.","body":"Agreed @SolomonSlow.  Sounds confusing to me as well.  I would certainly say that the latter is simultaneous given that the word means &quot;done at the same time&quot;.  The former is confusing."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675462385,"creation_date":1675461837,"answer_id":75341437,"question_id":75341192,"body_markdown":"Parallel _is_ concurrent. &quot;Concurrent&quot; means that the effective order in which events from two or more different threads happen is undefined (not counting events like unlocking a mutex that are specifically intended to coordinate the threads.) &quot;Parallel&quot; means, that the threads are using more CPU resources than a single CPU core is able to provide. Threads can&#39;t run in parallel without also running concurrently.\r\n\r\n&gt; What was the situation before 1.7 version\r\n\r\nI don&#39;t remember what changed with 1.7, but I was using Java from its earliest days, and the language always promised that threads would run concurrently. Whether or not they also were able to run in parallel was outside of the scope of the language spec. It depended on what hardware you were running on, what operating system and version, what JVM and version, etc.","title":"Java threads are concurrent or parallel?","body":"<p>Parallel <em>is</em> concurrent. &quot;Concurrent&quot; means that the effective order in which events from two or more different threads happen is undefined (not counting events like unlocking a mutex that are specifically intended to coordinate the threads.) &quot;Parallel&quot; means, that the threads are using more CPU resources than a single CPU core is able to provide. Threads can't run in parallel without also running concurrently.</p>\n<blockquote>\n<p>What was the situation before 1.7 version</p>\n</blockquote>\n<p>I don't remember what changed with 1.7, but I was using Java from its earliest days, and the language always promised that threads would run concurrently. Whether or not they also were able to run in parallel was outside of the scope of the language spec. It depended on what hardware you were running on, what operating system and version, what JVM and version, etc.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675608252,"creation_date":1675563128,"answer_id":75349707,"question_id":75341192,"body_markdown":"&gt; So i am pretty confused. I read in an article that version 1.7 onwards java has been &#39;core-aware&#39;\r\n\r\nI think the context matters.  Maybe you are talking about [this Quora post][1]?  To quote:\r\n\r\n&gt; Ever since Java 7, the JVM has been core-aware and able to access cores within a CPU. If the host has two CPUs with two cores each, then it can create four threads and dispatch them to each of the four cores.\r\n\r\nThis is not talking about the differences between concurrency theory or parallelism but rather about how the JVM interfaces with the OS and the hardware to provide thread services to the application.\r\n\r\n&gt; What was the situation before 1.7 version, does that mean java was only concurrent back then?\r\n\r\nJava threads have been available for some time before 1.7.  Most of the concurrency stuff was greatly improved in 1.5.  Again, the post seems specifically about CPUs verses cores.  Applications before 1.7 could use multiple cores to run in parallel.\r\n\r\n&gt; Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?\r\n\r\nSo this part of the question seems to be addressing the academic terms &quot;parallel&quot; and &quot;concurrent&quot;.  @SolomonSlow sounds like they have more academic instruction around this.  I&#39;ve been programming threads for 30+ years starting when they were non-preemptive – back when reentrance was more about recursion than threads.\r\n\r\nTo me &quot;concurrent&quot; means in parallel – running concurrency on a single piece of hardware put on different cores (physical or virtual).  I understand that this [wikipedia page on Concurrency (computer science)][2] disagrees with my definition.\r\n\r\nI also understand that a threaded program may run serially depending on many factors including the application itself, the OS, the load on the server running it, etc. and there is a lot of theory behind all this.\r\n\r\n&gt; Concurrent: Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.\r\n\r\nThis definition I disagree with.  The wikipedia page talks about the fact that 2 concurrent units can run in parallel or out of order which could mean sequentially, but it&#39;s not part of the definition.\r\n\r\n  [1]: https://qr.ae/pruIFr\r\n  [2]: https://en.wikipedia.org/wiki/Concurrency_(computer_science)","title":"Java threads are concurrent or parallel?","body":"<blockquote>\n<p>So i am pretty confused. I read in an article that version 1.7 onwards java has been 'core-aware'</p>\n</blockquote>\n<p>I think the context matters.  Maybe you are talking about <a href=\"https://qr.ae/pruIFr\" rel=\"nofollow noreferrer\">this Quora post</a>?  To quote:</p>\n<blockquote>\n<p>Ever since Java 7, the JVM has been core-aware and able to access cores within a CPU. If the host has two CPUs with two cores each, then it can create four threads and dispatch them to each of the four cores.</p>\n</blockquote>\n<p>This is not talking about the differences between concurrency theory or parallelism but rather about how the JVM interfaces with the OS and the hardware to provide thread services to the application.</p>\n<blockquote>\n<p>What was the situation before 1.7 version, does that mean java was only concurrent back then?</p>\n</blockquote>\n<p>Java threads have been available for some time before 1.7.  Most of the concurrency stuff was greatly improved in 1.5.  Again, the post seems specifically about CPUs verses cores.  Applications before 1.7 could use multiple cores to run in parallel.</p>\n<blockquote>\n<p>Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?</p>\n</blockquote>\n<p>So this part of the question seems to be addressing the academic terms &quot;parallel&quot; and &quot;concurrent&quot;.  @SolomonSlow sounds like they have more academic instruction around this.  I've been programming threads for 30+ years starting when they were non-preemptive – back when reentrance was more about recursion than threads.</p>\n<p>To me &quot;concurrent&quot; means in parallel – running concurrency on a single piece of hardware put on different cores (physical or virtual).  I understand that this <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">wikipedia page on Concurrency (computer science)</a> disagrees with my definition.</p>\n<p>I also understand that a threaded program may run serially depending on many factors including the application itself, the OS, the load on the server running it, etc. and there is a lot of theory behind all this.</p>\n<blockquote>\n<p>Concurrent: Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.</p>\n</blockquote>\n<p>This definition I disagree with.  The wikipedia page talks about the fact that 2 concurrent units can run in parallel or out of order which could mean sequentially, but it's not part of the definition.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675570106,"creation_date":1675568611,"answer_id":75349981,"question_id":75341192,"body_markdown":"I think that the actual change that the &quot;article&quot; was referring to happened in Java 1.3 when the &quot;green thread&quot; implementation&lt;sup&gt;1&lt;/sup&gt; was replaced with &quot;native&quot; threads.  (Source: https://en.wikipedia.org/wiki/Green_thread)\r\n\r\n---------------------\r\n\r\nHowever, your distinction between Concurrent vs Parallel does not match Oracle / Sun&#39;s definitions; see [Sun&#39;s Multithreaded Programming Guide: Defining Multithreading Terms](https://docs.oracle.com/cd/E19455-01/806-5257/6je9h032b/index.html).\r\n\r\n&gt; &quot;Parallelism: A condition that arises when at least two threads are executing simultaneously.&quot;\r\n&gt;\r\n&gt; &quot;Concurrency: A condition that exists when at least two threads are making progress. **A more generalized form of parallelism** that can include time-slicing as a form of virtual parallelism.&quot;.\r\n\r\nThis also aligns with what the [Wikipedia page on Concurrency](https://en.wikipedia.org/wiki/Concurrency_(computer_science)) says.\r\n\r\n&gt; &quot;In computer science, concurrency is the ability of different parts or units of a program, algorithm, or problem to be executed out-of-order or in partial order, without affecting the outcome. **This allows for parallel execution of the concurrent units, which can significantly improve overall speed of the execution in multi-processor and multi-core systems.**&quot;\r\n\r\n--------------------\r\n\r\nIf you could give us a citation for the source(s) of your definitions of &quot;Concurrent&quot; and &quot;Parallel&quot;, it would help us to understand whether there is a genuine dispute about the terminology ... or ... you are simply misinformed.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Interesting fact: they were called &quot;green threads&quot; because the Sun team that developed the first Java release was called the &quot;Green Team&quot;.  Source: [&quot;Java Technology: The early years&quot;](https://web.archive.org/web/20080530073139/http://java.sun.com/features/1998/05/birthday.html) by Jon Byous, April 2003.&lt;/sup&gt;","title":"Java threads are concurrent or parallel?","body":"<p>I think that the actual change that the &quot;article&quot; was referring to happened in Java 1.3 when the &quot;green thread&quot; implementation<sup>1</sup> was replaced with &quot;native&quot; threads.  (Source: <a href=\"https://en.wikipedia.org/wiki/Green_thread\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Green_thread</a>)</p>\n<hr />\n<p>However, your distinction between Concurrent vs Parallel does not match Oracle / Sun's definitions; see <a href=\"https://docs.oracle.com/cd/E19455-01/806-5257/6je9h032b/index.html\" rel=\"nofollow noreferrer\">Sun's Multithreaded Programming Guide: Defining Multithreading Terms</a>.</p>\n<blockquote>\n<p>&quot;Parallelism: A condition that arises when at least two threads are executing simultaneously.&quot;</p>\n<p>&quot;Concurrency: A condition that exists when at least two threads are making progress. <strong>A more generalized form of parallelism</strong> that can include time-slicing as a form of virtual parallelism.&quot;.</p>\n</blockquote>\n<p>This also aligns with what the <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">Wikipedia page on Concurrency</a> says.</p>\n<blockquote>\n<p>&quot;In computer science, concurrency is the ability of different parts or units of a program, algorithm, or problem to be executed out-of-order or in partial order, without affecting the outcome. <strong>This allows for parallel execution of the concurrent units, which can significantly improve overall speed of the execution in multi-processor and multi-core systems.</strong>&quot;</p>\n</blockquote>\n<hr />\n<p>If you could give us a citation for the source(s) of your definitions of &quot;Concurrent&quot; and &quot;Parallel&quot;, it would help us to understand whether there is a genuine dispute about the terminology ... or ... you are simply misinformed.</p>\n<hr />\n<p><sup>1 - Interesting fact: they were called &quot;green threads&quot; because the Sun team that developed the first Java release was called the &quot;Green Team&quot;.  Source: <a href=\"https://web.archive.org/web/20080530073139/http://java.sun.com/features/1998/05/birthday.html\" rel=\"nofollow noreferrer\">&quot;Java Technology: The early years&quot;</a> by Jon Byous, April 2003.</sup></p>\n"}],"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75341437,"answer_count":3,"score":0,"last_activity_date":1675608252,"creation_date":1675459750,"question_id":75341192,"body_markdown":"\r\nSo i am pretty confused. I read in an article that version 1.7 onwards java has been &#39;core-aware&#39;\r\n\r\n\r\nNow question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system? \r\n\r\nWhat was the situation before 1.7 version, does that mean java was only concurrent back then?\r\nAlso tell the same for the ForkJoinPool and ThreadPool (Executor Framework).\r\n\r\n\r\n**Concurrent:** Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.\r\n\r\n**Parallel:** On the same instant on different cores e.g. 8 threads/4 cores(hyperthreaded).\r\n\r\n\r\nThanks a lot in advance ","title":"Java threads are concurrent or parallel?","body":"<p>So i am pretty confused. I read in an article that version 1.7 onwards java has been 'core-aware'</p>\n<p>Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?</p>\n<p>What was the situation before 1.7 version, does that mean java was only concurrent back then?\nAlso tell the same for the ForkJoinPool and ThreadPool (Executor Framework).</p>\n<p><strong>Concurrent:</strong> Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.</p>\n<p><strong>Parallel:</strong> On the same instant on different cores e.g. 8 threads/4 cores(hyperthreaded).</p>\n<p>Thanks a lot in advance</p>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"score":0,"creation_date":1675610284,"post_id":75352859,"comment_id":132962058,"body_markdown":"I never would have thought that my code was too complex but here we are. I&#39;ll see about these ideas. The class itself is built a bit differently but in general, all of the fields are the same.","body":"I never would have thought that my code was too complex but here we are. I&#39;ll see about these ideas. The class itself is built a bit differently but in general, all of the fields are the same."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1675611346,"post_id":75352859,"comment_id":132962286,"body_markdown":"@TeaDrinker - your code is not very complex, its just better if you can make it even simpler. Makes it easier to maintain","body":"@TeaDrinker - your code is not very complex, its just better if you can make it even simpler. Makes it easier to maintain"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675608103,"creation_date":1675606234,"answer_id":75352859,"question_id":75349919,"body_markdown":"Well, &quot;title&quot; is not a property at the top level of your JSON so when it searches for such property it finds nothing and returns null. Also it seems to me that your code may be a bit too complex. You didn&#39;t provide your `GoogleVolume` class. However by its structure it should be the same as the structure of your JSON. What I would suggest that you use ObjectMapper method: [public &lt;T&gt; T readValue(String content,\r\n                       Class&lt;T&gt; valueType)\r\n                throws JsonProcessingException,\r\n                       JsonMappingException][1]\r\nwhere the second parameter would be your `GoogleVolume.class`. Or You can try use `Map.class` to parse your JSON String to instance of `Map&lt;String, Object&gt;`. Also if I may suggest to simplify your code even further I wrote my own Open Source library called MgntUtils that provides (among other utils) a very simple Http client and JsonUtil for simple cases of serializing/parsing JSON. your code with use of my library may look something like this:\r\n\r\n    HttpClient httpClient = new HttpClient();\r\n    String jsonResponse = httpClient.sendHttpRequest(urlStr, HttpClient.HttpMethod.GET);\r\n    GoogleVolume volume = JsonUtils.readObjectFromJsonString(jsonResponse, GoogleVolume.class); \r\n\r\nFor simplicity I omitted exception handling. Here is the [Javadoc for MgntUtils library][2]. The library can be obtained as [Maven artifact from Maven Central][3] or from [Github][4] (including Javadoc and source code)\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>Well, &quot;title&quot; is not a property at the top level of your JSON so when it searches for such property it finds nothing and returns null. Also it seems to me that your code may be a bit too complex. You didn't provide your <code>GoogleVolume</code> class. However by its structure it should be the same as the structure of your JSON. What I would suggest that you use ObjectMapper method: <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">public  T readValue(String content,\nClass valueType)\nthrows JsonProcessingException,\nJsonMappingException</a>\nwhere the second parameter would be your <code>GoogleVolume.class</code>. Or You can try use <code>Map.class</code> to parse your JSON String to instance of <code>Map&lt;String, Object&gt;</code>. Also if I may suggest to simplify your code even further I wrote my own Open Source library called MgntUtils that provides (among other utils) a very simple Http client and JsonUtil for simple cases of serializing/parsing JSON. your code with use of my library may look something like this:</p>\n<pre><code>HttpClient httpClient = new HttpClient();\nString jsonResponse = httpClient.sendHttpRequest(urlStr, HttpClient.HttpMethod.GET);\nGoogleVolume volume = JsonUtils.readObjectFromJsonString(jsonResponse, GoogleVolume.class); \n</code></pre>\n<p>For simplicity I omitted exception handling. Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">Javadoc for MgntUtils library</a>. The library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact from Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including Javadoc and source code)</p>\n"},{"comments":[{"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"score":0,"creation_date":1675607678,"post_id":75352867,"comment_id":132961514,"body_markdown":"For whatever reason, it never occurred to me that stacking multiple &#39;.get&#39; methods  like this was an option.","body":"For whatever reason, it never occurred to me that stacking multiple &#39;.get&#39; methods  like this was an option."}],"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675606270,"creation_date":1675606270,"answer_id":75352867,"question_id":75349919,"body_markdown":"According to the JSON structure, the first items must be fetched, and since it is a list, the first items must be fetched based on index.&#160;  \r\n\r\n     String title = volumeNode.get(&quot;items&quot;).get(0).get(&quot;volumeInfo&quot;).get(&quot;title&quot;).textValue();\r\n\r\n","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>According to the JSON structure, the first items must be fetched, and since it is a list, the first items must be fetched based on index. </p>\n<pre><code> String title = volumeNode.get(&quot;items&quot;).get(0).get(&quot;volumeInfo&quot;).get(&quot;title&quot;).textValue();\n</code></pre>\n"}],"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675608103,"creation_date":1675567512,"question_id":75349919,"body_markdown":"I&#39;ve been trying for a while to get this parser to work correctly but I keep getting the same issue every time. The code is very insistent that the value is `null`.\r\n\r\nThe issue is this, I have this call to the Google Books API which returns a fairly large JSON response. The values I need from this are nested and are proving hard to get at.\r\n\r\nThis is an example of the JSON in question. What I want to get to are a few of the books&#39; identifying information which can be found under `volumeInfo`.\r\n\r\n```\r\n{\r\n  &quot;kind&quot;: &quot;books#volumes&quot;,\r\n  &quot;totalItems&quot;: 1,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;kind&quot;: &quot;books#volume&quot;,\r\n      &quot;id&quot;: &quot;zkqMEAAAQBAJ&quot;,\r\n      &quot;etag&quot;: &quot;4V9ue/R0aw4&quot;,\r\n      &quot;selfLink&quot;: &quot;https://www.googleapis.com/books/v1/volumes/zkqMEAAAQBAJ&quot;,\r\n      &quot;volumeInfo&quot;: {\r\n        &quot;title&quot;: &quot;The Song of the Cell&quot;,\r\n        &quot;subtitle&quot;: &quot;An Exploration of Medicine and the New Human&quot;,\r\n        &quot;authors&quot;: [\r\n          &quot;Siddhartha Mukherjee&quot;\r\n        ],\r\n        &quot;publisher&quot;: &quot;Simon and Schuster&quot;,\r\n        &quot;publishedDate&quot;: &quot;2022-10-25&quot;,\r\n        &quot;description&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery of cells created a new kind of medicine based on the therapeutic manipulation of cells.&quot;,\r\n        &quot;industryIdentifiers&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;ISBN_13&quot;,\r\n            &quot;identifier&quot;: &quot;9781982117351&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;ISBN_10&quot;,\r\n            &quot;identifier&quot;: &quot;1982117354&quot;\r\n          }\r\n        ],\r\n        &quot;readingModes&quot;: {\r\n          &quot;text&quot;: false,\r\n          &quot;image&quot;: false\r\n        },\r\n        &quot;pageCount&quot;: 496,\r\n        &quot;printType&quot;: &quot;BOOK&quot;,\r\n        &quot;categories&quot;: [\r\n          &quot;History&quot;\r\n        ],\r\n        &quot;averageRating&quot;: 5,\r\n        &quot;ratingsCount&quot;: 2,\r\n        &quot;maturityRating&quot;: &quot;NOT_MATURE&quot;,\r\n        &quot;allowAnonLogging&quot;: false,\r\n        &quot;contentVersion&quot;: &quot;0.6.2.0.preview.0&quot;,\r\n        &quot;panelizationSummary&quot;: {\r\n          &quot;containsEpubBubbles&quot;: false,\r\n          &quot;containsImageBubbles&quot;: false\r\n        },\r\n        &quot;imageLinks&quot;: {\r\n          &quot;smallThumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api&quot;,\r\n          &quot;thumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api&quot;\r\n        },\r\n        &quot;language&quot;: &quot;en&quot;,\r\n        &quot;previewLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;dq=isbn:9781982117351&amp;hl=&amp;cd=1&amp;source=gbs_api&quot;,\r\n        &quot;infoLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;dq=isbn:9781982117351&amp;hl=&amp;source=gbs_api&quot;,\r\n        &quot;canonicalVolumeLink&quot;: &quot;https://books.google.com/books/about/The_Song_of_the_Cell.html?hl=&amp;id=zkqMEAAAQBAJ&quot;\r\n      },\r\n      &quot;saleInfo&quot;: {\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;saleability&quot;: &quot;NOT_FOR_SALE&quot;,\r\n        &quot;isEbook&quot;: false\r\n      },\r\n      &quot;accessInfo&quot;: {\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;viewability&quot;: &quot;PARTIAL&quot;,\r\n        &quot;embeddable&quot;: true,\r\n        &quot;publicDomain&quot;: false,\r\n        &quot;textToSpeechPermission&quot;: &quot;ALLOWED_FOR_ACCESSIBILITY&quot;,\r\n        &quot;epub&quot;: {\r\n          &quot;isAvailable&quot;: false\r\n        },\r\n        &quot;pdf&quot;: {\r\n          &quot;isAvailable&quot;: false\r\n        },\r\n        &quot;webReaderLink&quot;: &quot;http://play.google.com/books/reader?id=zkqMEAAAQBAJ&amp;hl=&amp;source=gbs_api&quot;,\r\n        &quot;accessViewStatus&quot;: &quot;SAMPLE&quot;,\r\n        &quot;quoteSharingAllowed&quot;: false\r\n      },\r\n      &quot;searchInfo&quot;: {\r\n        &quot;textSnippet&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery ...&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nMy code is fairly simple. I&#39;ve tried a few different combinations of JsonNode, JsonFactory and JsonParser but nothing has seemed to work like it should. Some of the resources I looked at while trying to fix this were [this article][1] on Baeldung, [this tutorial][2] and more Stack Overflow posts than I can list. The API call itself is not the problem. It works just fine.\r\n\r\nThis is standard Java. No Spring or other frameworks.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\n        URL url= new URL(setURL(bookInfo, infoType));\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        InputStream responseStream = connection.getInputStream();\r\n\r\n        JsonNode volumeNode = mapper.readTree(responseStream);\r\n        GoogleVolume testVolume= new GoogleVolume();\r\n\r\n        testVolume.setTitle(volumeNode.get(&quot;title&quot;).textValue());\r\n```\r\n\r\nHere is the stackTrace:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.textValue()&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(String)&quot; is null\r\n\tat com.libary@0.0.1-SNAPSHOT/com.library.models.GoogleBooksService.getBookData(GoogleBooksService.java:49)\r\n\tat com.libary@0.0.1-SNAPSHOT/com.library.controllers.LoginController.attemptLogin(LoginController.java:33)\r\n```\r\n\r\nI apologize if the details are a bit lite, but if any information is needed then I&#39;ll be happy to provide it. Any input on why this is happening would be greatly appreciated!\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-nested-values\r\n  [2]: https://www.javatpoint.com/parsing-string-to-jsonnode-jackson","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>I've been trying for a while to get this parser to work correctly but I keep getting the same issue every time. The code is very insistent that the value is <code>null</code>.</p>\n<p>The issue is this, I have this call to the Google Books API which returns a fairly large JSON response. The values I need from this are nested and are proving hard to get at.</p>\n<p>This is an example of the JSON in question. What I want to get to are a few of the books' identifying information which can be found under <code>volumeInfo</code>.</p>\n<pre><code>{\n  &quot;kind&quot;: &quot;books#volumes&quot;,\n  &quot;totalItems&quot;: 1,\n  &quot;items&quot;: [\n    {\n      &quot;kind&quot;: &quot;books#volume&quot;,\n      &quot;id&quot;: &quot;zkqMEAAAQBAJ&quot;,\n      &quot;etag&quot;: &quot;4V9ue/R0aw4&quot;,\n      &quot;selfLink&quot;: &quot;https://www.googleapis.com/books/v1/volumes/zkqMEAAAQBAJ&quot;,\n      &quot;volumeInfo&quot;: {\n        &quot;title&quot;: &quot;The Song of the Cell&quot;,\n        &quot;subtitle&quot;: &quot;An Exploration of Medicine and the New Human&quot;,\n        &quot;authors&quot;: [\n          &quot;Siddhartha Mukherjee&quot;\n        ],\n        &quot;publisher&quot;: &quot;Simon and Schuster&quot;,\n        &quot;publishedDate&quot;: &quot;2022-10-25&quot;,\n        &quot;description&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery of cells created a new kind of medicine based on the therapeutic manipulation of cells.&quot;,\n        &quot;industryIdentifiers&quot;: [\n          {\n            &quot;type&quot;: &quot;ISBN_13&quot;,\n            &quot;identifier&quot;: &quot;9781982117351&quot;\n          },\n          {\n            &quot;type&quot;: &quot;ISBN_10&quot;,\n            &quot;identifier&quot;: &quot;1982117354&quot;\n          }\n        ],\n        &quot;readingModes&quot;: {\n          &quot;text&quot;: false,\n          &quot;image&quot;: false\n        },\n        &quot;pageCount&quot;: 496,\n        &quot;printType&quot;: &quot;BOOK&quot;,\n        &quot;categories&quot;: [\n          &quot;History&quot;\n        ],\n        &quot;averageRating&quot;: 5,\n        &quot;ratingsCount&quot;: 2,\n        &quot;maturityRating&quot;: &quot;NOT_MATURE&quot;,\n        &quot;allowAnonLogging&quot;: false,\n        &quot;contentVersion&quot;: &quot;0.6.2.0.preview.0&quot;,\n        &quot;panelizationSummary&quot;: {\n          &quot;containsEpubBubbles&quot;: false,\n          &quot;containsImageBubbles&quot;: false\n        },\n        &quot;imageLinks&quot;: {\n          &quot;smallThumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api&quot;,\n          &quot;thumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api&quot;\n        },\n        &quot;language&quot;: &quot;en&quot;,\n        &quot;previewLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;dq=isbn:9781982117351&amp;hl=&amp;cd=1&amp;source=gbs_api&quot;,\n        &quot;infoLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;dq=isbn:9781982117351&amp;hl=&amp;source=gbs_api&quot;,\n        &quot;canonicalVolumeLink&quot;: &quot;https://books.google.com/books/about/The_Song_of_the_Cell.html?hl=&amp;id=zkqMEAAAQBAJ&quot;\n      },\n      &quot;saleInfo&quot;: {\n        &quot;country&quot;: &quot;US&quot;,\n        &quot;saleability&quot;: &quot;NOT_FOR_SALE&quot;,\n        &quot;isEbook&quot;: false\n      },\n      &quot;accessInfo&quot;: {\n        &quot;country&quot;: &quot;US&quot;,\n        &quot;viewability&quot;: &quot;PARTIAL&quot;,\n        &quot;embeddable&quot;: true,\n        &quot;publicDomain&quot;: false,\n        &quot;textToSpeechPermission&quot;: &quot;ALLOWED_FOR_ACCESSIBILITY&quot;,\n        &quot;epub&quot;: {\n          &quot;isAvailable&quot;: false\n        },\n        &quot;pdf&quot;: {\n          &quot;isAvailable&quot;: false\n        },\n        &quot;webReaderLink&quot;: &quot;http://play.google.com/books/reader?id=zkqMEAAAQBAJ&amp;hl=&amp;source=gbs_api&quot;,\n        &quot;accessViewStatus&quot;: &quot;SAMPLE&quot;,\n        &quot;quoteSharingAllowed&quot;: false\n      },\n      &quot;searchInfo&quot;: {\n        &quot;textSnippet&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery ...&quot;\n      }\n    }\n  ]\n}\n\n</code></pre>\n<p>My code is fairly simple. I've tried a few different combinations of JsonNode, JsonFactory and JsonParser but nothing has seemed to work like it should. Some of the resources I looked at while trying to fix this were <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">this article</a> on Baeldung, <a href=\"https://www.javatpoint.com/parsing-string-to-jsonnode-jackson\" rel=\"nofollow noreferrer\">this tutorial</a> and more Stack Overflow posts than I can list. The API call itself is not the problem. It works just fine.</p>\n<p>This is standard Java. No Spring or other frameworks.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n        URL url= new URL(setURL(bookInfo, infoType));\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        InputStream responseStream = connection.getInputStream();\n\n        JsonNode volumeNode = mapper.readTree(responseStream);\n        GoogleVolume testVolume= new GoogleVolume();\n\n        testVolume.setTitle(volumeNode.get(&quot;title&quot;).textValue());\n</code></pre>\n<p>Here is the stackTrace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.textValue()&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(String)&quot; is null\n    at com.libary@0.0.1-SNAPSHOT/com.library.models.GoogleBooksService.getBookData(GoogleBooksService.java:49)\n    at com.libary@0.0.1-SNAPSHOT/com.library.controllers.LoginController.attemptLogin(LoginController.java:33)\n</code></pre>\n<p>I apologize if the details are a bit lite, but if any information is needed then I'll be happy to provide it. Any input on why this is happening would be greatly appreciated!</p>\n"},{"tags":["java","mockito","powermockito"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1675614818,"post_id":75352901,"comment_id":132962922,"body_markdown":"How is the `helper` autowired if it is not a parameter of the super class constructor?","body":"How is the <code>helper</code> autowired if it is not a parameter of the super class constructor?"}],"owner":{"account_id":27683293,"reputation":1,"user_id":21131586,"display_name":"ghithon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675606851,"creation_date":1675606499,"question_id":75352901,"body_markdown":"How can be mocked a field which is inherited from the parent class, it is autowired there and it is used in the child&#39;s constructor? The constructor:\r\n\r\n    public A(B b) {\r\n\t    super(b);\r\n\t    fieldA = (C) helper.getSomething(b.getId());\r\n    }\r\n\r\nThe problematic field is the `helper`.\r\n\r\n\r\nTried to mock it with `ReflectionTestUtils.setField()` but it not worked because it should be handled via the instance, which cannot be created before the constructor call.","title":"How to mock inherited autowired field which used in child constructor?","body":"<p>How can be mocked a field which is inherited from the parent class, it is autowired there and it is used in the child's constructor? The constructor:</p>\n<pre><code>public A(B b) {\n    super(b);\n    fieldA = (C) helper.getSomething(b.getId());\n}\n</code></pre>\n<p>The problematic field is the <code>helper</code>.</p>\n<p>Tried to mock it with <code>ReflectionTestUtils.setField()</code> but it not worked because it should be handled via the instance, which cannot be created before the constructor call.</p>\n"},{"tags":["java","sockets","server"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675650362,"post_id":75352839,"comment_id":132968488,"body_markdown":"(1) Game lobby, there are many players waiting to enter the game room\n(2) Only two players are allowed in each game room\n(3) After the game room enters two players, start the game\nAccording to this rule, you should be able to write class and method","body":"(1) Game lobby, there are many players waiting to enter the game room (2) Only two players are allowed in each game room (3) After the game room enters two players, start the game According to this rule, you should be able to write class and method"}],"owner":{"account_id":26697093,"reputation":1,"user_id":20304765,"display_name":"Adrijan A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675606611,"creation_date":1675605996,"question_id":75352839,"body_markdown":"I&#39;m currently working on a tcg (Trading card Game) in java. The UI for the players and the game itself are working fine, I just need to connect them now. I have a class Game.java that contains all the information about the current match as well as the methods to manipulate that state (for example, playing a card). Then I have the GUI (a JavaFX application) which is supposed to get the appropriate information from the Game instance and ddiplay it to the user as well as sending out requests to do stuff like playing a card. As far as I understand I now need to create a Server class that connects to 2 sockets and checks the requests. However, all the examples I found online only echoed Strings and never manipulated a data structure or returned something like an int. How would I go about that?\r\n\r\nOne example I found went like this:\r\n```\r\npublic class EchoMultiServer {\r\n    private ServerSocket serverSocket;\r\n\r\n    public void start(int port) {\r\n        serverSocket = new ServerSocket(port);\r\n        while (true)\r\n            new EchoClientHandler(serverSocket.accept()).start();\r\n    }\r\n\r\n    public void stop() {\r\n        serverSocket.close();\r\n    }\r\n\r\n    private static class EchoClientHandler extends Thread {\r\n        private Socket clientSocket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n\r\n        public EchoClientHandler(Socket socket) {\r\n            this.clientSocket = socket;\r\n        }\r\n\r\n        public void run() {\r\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            in = new BufferedReader(\r\n              new InputStreamReader(clientSocket.getInputStream()));\r\n            \r\n            String inputLine;\r\n            while ((inputLine = in.readLine()) != null) {\r\n                if (&quot;.&quot;.equals(inputLine)) {\r\n                    out.println(&quot;bye&quot;);\r\n                    break;\r\n                }\r\n                out.println(inputLine);\r\n            }\r\n\r\n            in.close();\r\n            out.close();\r\n            clientSocket.close();\r\n    }\r\n}\r\n```\r\nThere are 2 things missing: How do I get a different output type, like an int, and how do I respond to input that changes the game state? For example when someone plays a card I want to show it in both GUIs not just in the one that sent the request.\r\n\r\nAnother thing I&#39;m interested in is how to open up a new game. Since only 2 players should ever get placed together in a game, the first connection should wait for the 2nd client to start a game. And then, when I get 2 more, i need to open another game that runs parallel to it.","title":"How to connect multiple players via sockets in java?","body":"<p>I'm currently working on a tcg (Trading card Game) in java. The UI for the players and the game itself are working fine, I just need to connect them now. I have a class Game.java that contains all the information about the current match as well as the methods to manipulate that state (for example, playing a card). Then I have the GUI (a JavaFX application) which is supposed to get the appropriate information from the Game instance and ddiplay it to the user as well as sending out requests to do stuff like playing a card. As far as I understand I now need to create a Server class that connects to 2 sockets and checks the requests. However, all the examples I found online only echoed Strings and never manipulated a data structure or returned something like an int. How would I go about that?</p>\n<p>One example I found went like this:</p>\n<pre><code>public class EchoMultiServer {\n    private ServerSocket serverSocket;\n\n    public void start(int port) {\n        serverSocket = new ServerSocket(port);\n        while (true)\n            new EchoClientHandler(serverSocket.accept()).start();\n    }\n\n    public void stop() {\n        serverSocket.close();\n    }\n\n    private static class EchoClientHandler extends Thread {\n        private Socket clientSocket;\n        private PrintWriter out;\n        private BufferedReader in;\n\n        public EchoClientHandler(Socket socket) {\n            this.clientSocket = socket;\n        }\n\n        public void run() {\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\n            in = new BufferedReader(\n              new InputStreamReader(clientSocket.getInputStream()));\n            \n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                if (&quot;.&quot;.equals(inputLine)) {\n                    out.println(&quot;bye&quot;);\n                    break;\n                }\n                out.println(inputLine);\n            }\n\n            in.close();\n            out.close();\n            clientSocket.close();\n    }\n}\n</code></pre>\n<p>There are 2 things missing: How do I get a different output type, like an int, and how do I respond to input that changes the game state? For example when someone plays a card I want to show it in both GUIs not just in the one that sent the request.</p>\n<p>Another thing I'm interested in is how to open up a new game. Since only 2 players should ever get placed together in a game, the first connection should wait for the 2nd client to start a game. And then, when I get 2 more, i need to open another game that runs parallel to it.</p>\n"},{"tags":["java","mule","dataweave","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1675602676,"post_id":75351495,"comment_id":132960638,"body_markdown":"What did you try? What did you find?","body":"What did you try? What did you find?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675606158,"creation_date":1675606158,"answer_id":75352853,"question_id":75351495,"body_markdown":"This topic is actually described in the documentation: https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3. Just convert the input list to the expected Java list type.\r\n\r\nExample\r\n```\r\noutput application/java\r\n---\r\npayload as Array {class: &quot;java.util.ArrayList&lt;Student&gt;&quot;}\r\n```\r\n\r\nYou could also convert just each element inside the array but the class implementing the list would be choosen by DataWeave.","title":"Mule 4 Dataweave 2 Invoke a static Java method which accepts a List of custom POJO","body":"<p>This topic is actually described in the documentation: <a href=\"https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3\" rel=\"nofollow noreferrer\">https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3</a>. Just convert the input list to the expected Java list type.</p>\n<p>Example</p>\n<pre><code>output application/java\n---\npayload as Array {class: &quot;java.util.ArrayList&lt;Student&gt;&quot;}\n</code></pre>\n<p>You could also convert just each element inside the array but the class implementing the list would be choosen by DataWeave.</p>\n"}],"owner":{"account_id":273386,"reputation":667,"user_id":564955,"accept_rate":67,"display_name":"akila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75352853,"answer_count":1,"score":0,"last_activity_date":1675606158,"creation_date":1675592183,"question_id":75351495,"body_markdown":"I am trying to invoke a static method in a Java class that accepts a ArrayList of Student POJO\r\nHere is the Java code :\r\n\r\n    public class StudentService {\r\n    \r\n    \tpublic static Map&lt;String,Student&gt; mytest(List&lt;Student&gt; data) {\r\n    \r\n    \t\tfor(int i=0;i&lt;data.size();i++) {\r\n               // fails here \r\n               Student s1 = data.get(i);\r\n              // do some processing and then store results into a Map\r\n              \r\n            }\r\n    \r\n    \t\t// then return this Map\r\n    \t\treturn studentMap;\r\n    \t}\r\n    }\r\n    \r\n    public class Student {\r\n    \t\r\n    \tpublic Student(String id, String name, String lastName) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \t\r\n    \tpublic Student() {\t\t\r\n    \t};\r\n    \t\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \tprivate String lastName;\r\n\r\n        // getters and setters\r\n    }\r\n\r\nWhen the control reaches the Java method I can see that its an arraylist but rather than each element of the array being a StudentObject , it is a LinkedHashMap&lt;String,String&gt;\r\n\r\nHere is the debugger view of datastructure when control reaches Java :\r\n[![enter image description here][1]][1]\r\n\r\nI did find something similar where input json object is being converted into a Java POJO \r\nI just need to have a collection of POJO .....\r\nSo my question is how do I pass this json array to the Java method as a List&lt;Student&gt; ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Lw61.png","title":"Mule 4 Dataweave 2 Invoke a static Java method which accepts a List of custom POJO","body":"<p>I am trying to invoke a static method in a Java class that accepts a ArrayList of Student POJO\nHere is the Java code :</p>\n<pre><code>public class StudentService {\n\n    public static Map&lt;String,Student&gt; mytest(List&lt;Student&gt; data) {\n\n        for(int i=0;i&lt;data.size();i++) {\n           // fails here \n           Student s1 = data.get(i);\n          // do some processing and then store results into a Map\n          \n        }\n\n        // then return this Map\n        return studentMap;\n    }\n}\n\npublic class Student {\n    \n    public Student(String id, String name, String lastName) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.lastName = lastName;\n    }\n    \n    public Student() {      \n    };\n    \n    private String id;\n    private String name;\n    private String lastName;\n\n    // getters and setters\n}\n</code></pre>\n<p>When the control reaches the Java method I can see that its an arraylist but rather than each element of the array being a StudentObject , it is a LinkedHashMap&lt;String,String&gt;</p>\n<p>Here is the debugger view of datastructure when control reaches Java :\n<a href=\"https://i.stack.imgur.com/6Lw61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Lw61.png\" alt=\"enter image description here\" /></a></p>\n<p>I did find something similar where input json object is being converted into a Java POJO\nI just need to have a collection of POJO .....\nSo my question is how do I pass this json array to the Java method as a List ?</p>\n"},{"tags":["java","flutter","android-studio","sdk"],"answers":[{"comments":[{"owner":{"account_id":28812,"reputation":4438,"user_id":77265,"accept_rate":60,"display_name":"Hahnemann"},"score":0,"creation_date":1675530389,"post_id":75119339,"comment_id":132950663,"body_markdown":"Just upgraded to Electric Eel 2022.1.1 and now the `ln -s jbr jre` workaround does not work anymore - and the [issue is closed](https://github.com/flutter/flutter/issues/106674)!","body":"Just upgraded to Electric Eel 2022.1.1 and now the <code>ln -s jbr jre</code> workaround does not work anymore - and the <a href=\"https://github.com/flutter/flutter/issues/106674\" rel=\"nofollow noreferrer\">issue is closed</a>!"}],"tags":[],"owner":{"account_id":28812,"reputation":4438,"user_id":77265,"accept_rate":60,"display_name":"Hahnemann"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673712754,"creation_date":1673712754,"answer_id":75119339,"question_id":75119276,"body_markdown":"Apparently it&#39;s an [open issue][1] with Android Studio Electric Eel 2022.1.1 after I upgraded using Brew. The workaround is:\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents\r\n    ln -s jbr jre\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/106674","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>Apparently it's an <a href=\"https://github.com/flutter/flutter/issues/106674\" rel=\"nofollow noreferrer\">open issue</a> with Android Studio Electric Eel 2022.1.1 after I upgraded using Brew. The workaround is:</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15547066,"reputation":96,"user_id":11215933,"display_name":"RomJan D. Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673714431,"creation_date":1673714431,"answer_id":75119564,"question_id":75119276,"body_markdown":"On Linux Operating System do this\r\n\r\n    cd /opt/android-studio\r\n\r\nthen\r\n\r\n    ln -s jbr jre ","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>On Linux Operating System do this</p>\n<pre><code>cd /opt/android-studio\n</code></pre>\n<p>then</p>\n<pre><code>ln -s jbr jre \n</code></pre>\n"},{"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673728617,"creation_date":1673728617,"answer_id":75121061,"question_id":75119276,"body_markdown":"For Windows you can try this:\r\n\r\n1. Open a terminal with admin permissions (e.g. Press &lt;kbd&gt;Win&lt;/kbd&gt; and type &quot;cmd&quot;, &quot;powershell&quot; or &quot;terminal&quot;, whatever you prefer, and press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;)\r\n\r\n2. Then type:\r\n\r\n        cd C:\\Program Files\\Android\\Android Studio\r\n        mklink /D &quot;jre&quot; &quot;jbr&quot;\r\n\r\n### Hints\r\nIf you have installed Android Studio in a different directory change the path.  \r\nIf there is a almost jre directory you can simply delete it with `rmdir /s jre` this was the case on my system after an update to Electric Eel (2022.1.1).","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>For Windows you can try this:</p>\n<ol>\n<li><p>Open a terminal with admin permissions (e.g. Press <kbd>Win</kbd> and type &quot;cmd&quot;, &quot;powershell&quot; or &quot;terminal&quot;, whatever you prefer, and press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>)</p>\n</li>\n<li><p>Then type:</p>\n<pre><code> cd C:\\Program Files\\Android\\Android Studio\n mklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n</li>\n</ol>\n<h3>Hints</h3>\n<p>If you have installed Android Studio in a different directory change the path.<br />\nIf there is a almost jre directory you can simply delete it with <code>rmdir /s jre</code> this was the case on my system after an update to Electric Eel (2022.1.1).</p>\n"},{"tags":[],"owner":{"account_id":3295496,"reputation":656,"user_id":2772866,"display_name":"ossamacpp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675605771,"creation_date":1675605771,"answer_id":75352827,"question_id":75119276,"body_markdown":"Follow these steps:\r\n1. Go to Applications folder and find Android Studio app\r\n2. Right click on it and hit Show Package Contents\r\n3. Navigate to Contents, then right click on &quot;jbr&quot;\r\n4. Hit duplicate\r\n5. Rename the duplicate folder to &quot;jre&quot;\r\n\r\nDone!!","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>Follow these steps:</p>\n<ol>\n<li>Go to Applications folder and find Android Studio app</li>\n<li>Right click on it and hit Show Package Contents</li>\n<li>Navigate to Contents, then right click on &quot;jbr&quot;</li>\n<li>Hit duplicate</li>\n<li>Rename the duplicate folder to &quot;jre&quot;</li>\n</ol>\n<p>Done!!</p>\n"}],"owner":{"account_id":28812,"reputation":4438,"user_id":77265,"accept_rate":60,"display_name":"Hahnemann"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675701513,"answer_count":4,"score":-1,"last_activity_date":1675605771,"creation_date":1673712126,"question_id":75119276,"body_markdown":"`flutter doctor -v` fails due to missing Java:\r\n\r\n    [✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-arm, locale en-US)\r\n        • Flutter version 3.3.10 on channel stable at /opt/homebrew/Caskroom/flutter/3.3.10/flutter\r\n        • Upstream repository https://github.com/flutter/flutter.git\r\n        • Framework revision 135454af32 (4 weeks ago), 2022-12-15 07:36:55 -0800\r\n        • Engine revision 3316dd8728\r\n        • Dart version 2.18.6\r\n        • DevTools version 2.15.0\r\n    \r\n    [✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n        • Android SDK at /Users/hahnemann/Library/Android/sdk\r\n        • Platform android-31, build-tools 31.0.0\r\n        • Java binary at: /Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home/bin/java\r\n        • Java version OpenJDK Runtime Environment Temurin-19.0.1+10 (build 19.0.1+10)\r\n        • All Android licenses accepted.\r\n    \r\n    [✓] Xcode - develop for iOS and macOS (Xcode 14.2)\r\n        • Xcode at /Applications/Xcode.app/Contents/Developer\r\n        • Build 14C18\r\n        • CocoaPods version 1.11.3\r\n    \r\n    [✓] Chrome - develop for the web\r\n        • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n    \r\n    [!] Android Studio (version 2022.1)\r\n        • Android Studio at /Applications/Android Studio.app/Contents\r\n        • Flutter plugin can be installed from:\r\n          &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n        • Dart plugin can be installed from:\r\n          &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n        ✗ Unable to find bundled Java version.\r\n        • Try updating or re-installing Android Studio.\r\n    \r\n    [✓] VS Code (version 1.74.3)\r\n        • VS Code at /Applications/Visual Studio Code.app/Contents\r\n        • Flutter extension version 3.48.0\r\n    \r\n    [✓] Connected device (2 available)\r\n        • macOS (desktop) • macos  • darwin-arm64   • macOS 13.1 22C65 darwin-arm\r\n        • Chrome (web)    • chrome • web-javascript • Google Chrome 109.0.5414.87\r\n    \r\n    [✓] HTTP Host Availability\r\n        • All required HTTP hosts are available\r\n\r\nI have Java installed from [Adoptium using Brew][1]. I already tried `flutter doctor --android-licenses` and removed the obsolete version of Android SDK Tools:\r\n\r\n[![enter image description here][2]][2] \r\n\r\nWhat could be wrong?\r\n\r\n  [1]: https://wolfpaulus.com/installing-java-on-macos/\r\n  [2]: https://i.stack.imgur.com/nAnbe.jpg","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p><code>flutter doctor -v</code> fails due to missing Java:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-arm, locale en-US)\n    • Flutter version 3.3.10 on channel stable at /opt/homebrew/Caskroom/flutter/3.3.10/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 135454af32 (4 weeks ago), 2022-12-15 07:36:55 -0800\n    • Engine revision 3316dd8728\n    • Dart version 2.18.6\n    • DevTools version 2.15.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at /Users/hahnemann/Library/Android/sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: /Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment Temurin-19.0.1+10 (build 19.0.1+10)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.11.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[!] Android Studio (version 2022.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] VS Code (version 1.74.3)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.48.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 13.1 22C65 darwin-arm\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 109.0.5414.87\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n</code></pre>\n<p>I have Java installed from <a href=\"https://wolfpaulus.com/installing-java-on-macos/\" rel=\"nofollow noreferrer\">Adoptium using Brew</a>. I already tried <code>flutter doctor --android-licenses</code> and removed the obsolete version of Android SDK Tools:</p>\n<p><a href=\"https://i.stack.imgur.com/nAnbe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nAnbe.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What could be wrong?</p>\n"},{"tags":["java","android","currency","number-formatting"],"answers":[{"comments":[{"owner":{"account_id":1234829,"reputation":151,"user_id":1198635,"accept_rate":50,"display_name":"Linghui"},"score":0,"creation_date":1341879227,"post_id":11404973,"comment_id":15038514,"body_markdown":"Yes, I&#39;m ignoring the device&#39;s locale in the code, but when I switches the device&#39;s languages, it does not seem to be ignored 100% by the NumberFormat. For example, as an experiment, I wrote something like this:","body":"Yes, I&#39;m ignoring the device&#39;s locale in the code, but when I switches the device&#39;s languages, it does not seem to be ignored 100% by the NumberFormat. For example, as an experiment, I wrote something like this:"},{"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"score":0,"creation_date":1341879296,"post_id":11404973,"comment_id":15038524,"body_markdown":"What is the call to `getCurrentLocale()` doing? Doesn&#39;t sound like the user&#39;s locale is being ignored from the comment above it :).","body":"What is the call to <code>getCurrentLocale()</code> doing? Doesn&#39;t sound like the user&#39;s locale is being ignored from the comment above it :)."},{"owner":{"account_id":1234829,"reputation":151,"user_id":1198635,"accept_rate":50,"display_name":"Linghui"},"score":0,"creation_date":1341879744,"post_id":11404973,"comment_id":15038608,"body_markdown":"It gets the user&#39;s selected lang and maps it to the correspondent locale. For example, &#39;en_US&#39; to Locale.ENGLISH and &#39;fr_FR&#39; to Locale.FRANCE @cklab","body":"It gets the user&#39;s selected lang and maps it to the correspondent locale. For example, &#39;en_US&#39; to Locale.ENGLISH and &#39;fr_FR&#39; to Locale.FRANCE @cklab"},{"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"score":0,"creation_date":1341880334,"post_id":11404973,"comment_id":15038702,"body_markdown":"Right... so I&#39;m saying don&#39;t use that Locale.","body":"Right... so I&#39;m saying don&#39;t use that Locale."},{"owner":{"account_id":1234829,"reputation":151,"user_id":1198635,"accept_rate":50,"display_name":"Linghui"},"score":0,"creation_date":1341880540,"post_id":11404973,"comment_id":15038749,"body_markdown":"Urrr, I have to use that locale, so that the currency can be formatted in the right way. Like 1.79 € instead of $ 1.79 when the user selects German as the language.@cklab","body":"Urrr, I have to use that locale, so that the currency can be formatted in the right way. Like 1.79 € instead of $ 1.79 when the user selects German as the language.@cklab"},{"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"score":0,"creation_date":1341882593,"post_id":11404973,"comment_id":15039102,"body_markdown":"Ah, I see. Well the first thing I would say is I hope you&#39;re aware that conversion between currencies might require a bit more than a formatter and a locale! Furthermore, I&#39;ve generally experienced this behavior when the `language` is incorrectly defined in the `Locale`. Can you provide the definition of `getCurrentLocale()`?","body":"Ah, I see. Well the first thing I would say is I hope you&#39;re aware that conversion between currencies might require a bit more than a formatter and a locale! Furthermore, I&#39;ve generally experienced this behavior when the <code>language</code> is incorrectly defined in the <code>Locale</code>. Can you provide the definition of <code>getCurrentLocale()</code>?"}],"tags":[],"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341878883,"creation_date":1341878883,"answer_id":11404973,"question_id":11404943,"body_markdown":"Why not always use the `Locale` that you want it to displayed in? Ignore the device&#39;s `Locale`. \r\n\r\nFor [`Locale.ENGLISH`][1]:\r\n\r\n\r\n    String formatCurrency(String amount) {\r\n        final NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.ENGLISH);\r\n        return formatter.format(new BigDecimal(amount));\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#ENGLISH","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>Why not always use the <code>Locale</code> that you want it to displayed in? Ignore the device's <code>Locale</code>. </p>\n\n<p>For <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#ENGLISH\" rel=\"nofollow\"><code>Locale.ENGLISH</code></a>:</p>\n\n<pre><code>String formatCurrency(String amount) {\n    final NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.ENGLISH);\n    return formatter.format(new BigDecimal(amount));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439652,"reputation":6670,"user_id":828728,"accept_rate":50,"display_name":"yugidroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341880619,"creation_date":1341880619,"answer_id":11405153,"question_id":11404943,"body_markdown":"You should take a look at [this][1]. \r\n\r\nUse the *[getSymbol()][2]* from Currency&#39;s object to resolve your issue.\r\n\r\n\r\n  [1]: http://developers.sun.com/dev/gadc/technicalpublications/articles/java1.4currency.html\r\n  [2]: http://developer.android.com/reference/java/util/Currency.html#getSymbol%28java.util.Locale%29","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>You should take a look at <a href=\"http://developers.sun.com/dev/gadc/technicalpublications/articles/java1.4currency.html\" rel=\"nofollow\">this</a>. </p>\n\n<p>Use the <em><a href=\"http://developer.android.com/reference/java/util/Currency.html#getSymbol%28java.util.Locale%29\" rel=\"nofollow\">getSymbol()</a></em> from Currency's object to resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675605691,"creation_date":1675605691,"answer_id":75352818,"question_id":11404943,"body_markdown":"I had the same issue in Java but not in an Android project.\r\nBut using the `DecimalFormat` class returned the correct output.\r\nTry code like the one below.\r\n\r\n    DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(amount);","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>I had the same issue in Java but not in an Android project.\nBut using the <code>DecimalFormat</code> class returned the correct output.\nTry code like the one below.</p>\n<pre><code>DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(amount);\n</code></pre>\n"}],"owner":{"account_id":1234829,"reputation":151,"user_id":1198635,"accept_rate":50,"display_name":"Linghui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1675605691,"creation_date":1341878655,"question_id":11404943,"body_markdown":"I&#39;m developing an android app that supports multiple user languages. \r\n\r\nIn the app, I&#39;m using java.util.NumberFormat to format currency:\r\n\r\n    \r\n    String formatCurrency(String amount) {\r\n        // getCurrentLocale determines the locale from the user&#39;s selected language; \r\n        // if the user selects de_DE as the app&#39;s language, then this method will return Locale.Germany\r\n        final Locale locale = getCurrentLocale(); \r\n        final NumberFormat formatter = NumberFormat.getCurrencyInstance(locale);\r\n        return formatter.format(new BigDecimal(amount));\r\n    }\r\n\r\nThe testing device I&#39;m using is a HTC G2, which has two device language options - english and spanish.\r\n\r\nOk, now I select the user language for my app to be &#39;de_DE&#39;:\r\n\r\n    // When my device language is english, if I call:\r\n    System.out.println(formatCurrency(&quot;1.79&quot;));\r\n    // I got:\r\n    1.79 €\r\n\r\n    // But when I switch my device language to spanish:\r\n    System.out.println(formatCurrency(&quot;1.79&quot;));\r\n    // I got :\r\n    1.79 EUR\r\n\r\nMy question here is can I get the NumberFormat to give me € in both cases?","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>I'm developing an android app that supports multiple user languages. </p>\n\n<p>In the app, I'm using java.util.NumberFormat to format currency:</p>\n\n<pre><code>String formatCurrency(String amount) {\n    // getCurrentLocale determines the locale from the user's selected language; \n    // if the user selects de_DE as the app's language, then this method will return Locale.Germany\n    final Locale locale = getCurrentLocale(); \n    final NumberFormat formatter = NumberFormat.getCurrencyInstance(locale);\n    return formatter.format(new BigDecimal(amount));\n}\n</code></pre>\n\n<p>The testing device I'm using is a HTC G2, which has two device language options - english and spanish.</p>\n\n<p>Ok, now I select the user language for my app to be 'de_DE':</p>\n\n<pre><code>// When my device language is english, if I call:\nSystem.out.println(formatCurrency(\"1.79\"));\n// I got:\n1.79 €\n\n// But when I switch my device language to spanish:\nSystem.out.println(formatCurrency(\"1.79\"));\n// I got :\n1.79 EUR\n</code></pre>\n\n<p>My question here is can I get the NumberFormat to give me € in both cases?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532324757,"post_id":51464852,"comment_id":89912536,"body_markdown":"You are trying to start another transaction. Don&#39;t do `entityManager.getTransaction().begin();` etc. That is what `@Transactional` is already doing for you.","body":"You are trying to start another transaction. Don&#39;t do <code>entityManager.getTransaction().begin();</code> etc. That is what <code>@Transactional</code> is already doing for you."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1532328034,"post_id":51464852,"comment_id":89913888,"body_markdown":"Can you show me how I can use EntityManager with Hibernate?","body":"Can you show me how I can use EntityManager with Hibernate?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532328119,"post_id":51464852,"comment_id":89913935,"body_markdown":"You are already doing it, the problem is you are trying to start another transaction. You are fighting with `@Transactional` (which as the name implies handles your transaction). You only need 2 lines of code in your method 1, get the `Session` from the `EntityManager`, 2. return and get the value from the `Session`. (Although I don&#39;t see why would need a `Session` for that at all).","body":"You are already doing it, the problem is you are trying to start another transaction. You are fighting with <code>@Transactional</code> (which as the name implies handles your transaction). You only need 2 lines of code in your method 1, get the <code>Session</code> from the <code>EntityManager</code>, 2. return and get the value from the <code>Session</code>. (Although I don&#39;t see why would need a <code>Session</code> for that at all)."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1532329121,"post_id":51464852,"comment_id":89914409,"body_markdown":"Can you paste here please official answer with sample code so I can up vote it.","body":"Can you paste here please official answer with sample code so I can up vote it."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1532329765,"post_id":51473235,"comment_id":89914730,"body_markdown":"Can I ask in order to select table row by username and password how I have to update the code? (two WHERE arguments)","body":"Can I ask in order to select table row by username and password how I have to update the code? (two WHERE arguments)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532329804,"post_id":51473235,"comment_id":89914754,"body_markdown":"No as that is a different question (your question here was about transactions).","body":"No as that is a different question (your question here was about transactions)."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1532329518,"creation_date":1532329518,"answer_id":51473235,"question_id":51464852,"body_markdown":"You are using `@Transactional` and still are trying to manually start a transaction. Either do manual transaction management (i.e remove the `@Transactional`) or embrace `@Transactional` by removing the manual transaction management code. \r\n\r\n    @Override\r\n    @Transactional\r\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n        TerminalsModel terminal = null;\r\n        Session session = entityManager.unwrap(Session.class);\r\n        return (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\r\n    }\r\n\r\nHowever I don&#39;t see why you would want to use plain Hibernate over JPA here. The same result can be achieved by using JPA. \r\n\r\n    @Override\r\n    @Transactional\r\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n        return entityManager.find(TerminalsModel.class, terminalToken);\r\n    }\r\n\r\nGenerally there is no need to use the plain Hibernate API over JPA with the current state of the JPA API. ","title":"Configure Spring transactions or EJB CMT instead","body":"<p>You are using <code>@Transactional</code> and still are trying to manually start a transaction. Either do manual transaction management (i.e remove the <code>@Transactional</code>) or embrace <code>@Transactional</code> by removing the manual transaction management code. </p>\n\n<pre><code>@Override\n@Transactional\npublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n    TerminalsModel terminal = null;\n    Session session = entityManager.unwrap(Session.class);\n    return (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\n}\n</code></pre>\n\n<p>However I don't see why you would want to use plain Hibernate over JPA here. The same result can be achieved by using JPA. </p>\n\n<pre><code>@Override\n@Transactional\npublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n    return entityManager.find(TerminalsModel.class, terminalToken);\n}\n</code></pre>\n\n<p>Generally there is no need to use the plain Hibernate API over JPA with the current state of the JPA API. </p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7613,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51473235,"answer_count":1,"score":3,"last_activity_date":1675605311,"creation_date":1532260499,"question_id":51464852,"body_markdown":"I tried to configure Spring Boot with Hibernate:\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityTransaction;\r\n    \r\n    import org.datalis.plugin.database.dao.TerminalsService;\r\n    import org.datalis.plugin.database.models.TerminalsModel;\r\n    import org.hibernate.Session;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Service\r\n    @Qualifier(&quot;terminalsService&quot;)\r\n    public class TerminalsDaoHibernate implements TerminalsService {\r\n     \t\r\n    \t@Autowired\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n    \t\tTerminalsModel terminal = null;\r\n    \t\tSession session = entityManager.unwrap(Session.class);\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tentityManager.getTransaction().begin();\r\n    \t\t\tterminal = (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\r\n    \t\t\tsession.getTransaction().commit();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tsession.getTransaction().rollback();\r\n    \t\t\tthrow new Exception(&quot;Error&quot;);\r\n    \t\t}\r\n    \t\treturn terminal;\r\n    \t}\r\n    }\r\n\r\nBut I get this error:\r\n\r\n    14:47:34,323 ERROR [stderr] (default task-1) java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n    14:47:34,323 ERROR [stderr] (default task-1) \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:255)\r\n\r\nWhat is the proper way to configure @Transactional properly?\r\nDo I need to use Transaction is a different way?","title":"Configure Spring transactions or EJB CMT instead","body":"<p>I tried to configure Spring Boot with Hibernate:</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\n\nimport org.datalis.plugin.database.dao.TerminalsService;\nimport org.datalis.plugin.database.models.TerminalsModel;\nimport org.hibernate.Session;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Qualifier(\"terminalsService\")\npublic class TerminalsDaoHibernate implements TerminalsService {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    @Transactional\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n        TerminalsModel terminal = null;\n        Session session = entityManager.unwrap(Session.class);\n        try {\n\n            entityManager.getTransaction().begin();\n            terminal = (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\n            session.getTransaction().commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n            session.getTransaction().rollback();\n            throw new Exception(\"Error\");\n        }\n        return terminal;\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>14:47:34,323 ERROR [stderr] (default task-1) java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\n14:47:34,323 ERROR [stderr] (default task-1)    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:255)\n</code></pre>\n\n<p>What is the proper way to configure @Transactional properly?\nDo I need to use Transaction is a different way?</p>\n"},{"tags":["java","android","time","sensors","android-dateutils"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1470608101,"post_id":38819025,"comment_id":65004849,"body_markdown":"I think Jan 01 1970 equates to 0 (i.e. start of date/time). So perhaps look to see if 0 is being returned/set.","body":"I think Jan 01 1970 equates to 0 (i.e. start of date/time). So perhaps look to see if 0 is being returned/set."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1470608111,"post_id":38819025,"comment_id":65004852,"body_markdown":"Since `timestamp` is nanosecond-level precision, it is unlikely to be in the Unix epoch timebase, so dividing by 1000000 is unlikely to work. It might be using the same system [as `nanoTime()`](https://developer.android.com/reference/java/lang/System.html#nanoTime()), in which case you only use it for computing relative times from some starting point.","body":"Since <code>timestamp</code> is nanosecond-level precision, it is unlikely to be in the Unix epoch timebase, so dividing by 1000000 is unlikely to work. It might be using the same system <a href=\"https://developer.android.com/reference/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">as <code>nanoTime()</code></a>, in which case you only use it for computing relative times from some starting point."},{"owner":{"account_id":6615288,"reputation":21,"user_id":6689037,"display_name":"Yongyi Wu"},"score":0,"creation_date":1472660898,"post_id":38819025,"comment_id":65845097,"body_markdown":"Thank you very much! I think I find the reason.","body":"Thank you very much! I think I find the reason."}],"answers":[{"comments":[{"owner":{"account_id":260365,"reputation":9128,"user_id":543873,"accept_rate":72,"display_name":"Michael"},"score":0,"creation_date":1578522576,"post_id":53890646,"comment_id":105470511,"body_markdown":"sorry, but what is &quot;DateTime&quot;... AS doesn&#39;t recognize this as a valid class of anything.","body":"sorry, but what is &quot;DateTime&quot;... AS doesn&#39;t recognize this as a valid class of anything."},{"owner":{"account_id":7192370,"reputation":506,"user_id":5492211,"accept_rate":50,"display_name":"Sagar Patel"},"score":0,"creation_date":1674129471,"post_id":53890646,"comment_id":132651209,"body_markdown":"I guess, we can replace `DateTime.now().getMillis()` with `System.currentTimeMillis().`","body":"I guess, we can replace <code>DateTime.now().getMillis()</code> with <code>System.currentTimeMillis().</code>"},{"owner":{"account_id":7192370,"reputation":506,"user_id":5492211,"accept_rate":50,"display_name":"Sagar Patel"},"score":0,"creation_date":1674133774,"post_id":53890646,"comment_id":132652598,"body_markdown":"The base of the `SystemClock.elapsedRealTime()` and `SensorEvent.timestamp` can be different (relative since boot) than the base of the `DateTime.now().getMillis()` or `System.currentTimeMillis()` (wall clock time). Should it still work?","body":"The base of the <code>SystemClock.elapsedRealTime()</code> and <code>SensorEvent.timestamp</code> can be different (relative since boot) than the base of the <code>DateTime.now().getMillis()</code> or <code>System.currentTimeMillis()</code> (wall clock time). Should it still work?"},{"owner":{"account_id":7192370,"reputation":506,"user_id":5492211,"accept_rate":50,"display_name":"Sagar Patel"},"score":0,"creation_date":1674569822,"post_id":53890646,"comment_id":132738577,"body_markdown":"I have checked it, and it is working. However, I could not understand how and why because I guess the base of the `System.currentTimeMillis()` might be different than the base of the `SystemClock.elapsedRealtime()`.","body":"I have checked it, and it is working. However, I could not understand how and why because I guess the base of the <code>System.currentTimeMillis()</code> might be different than the base of the <code>SystemClock.elapsedRealtime()</code>."}],"tags":[],"owner":{"account_id":287826,"reputation":136,"user_id":587889,"display_name":"vvm"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545425360,"creation_date":1545425360,"answer_id":53890646,"question_id":38819025,"body_markdown":"SensorEvent reports time in nanoseconds since system boot (including sleep time). \r\nTo convert it to absolute time in nanos, use following formula:\r\n\r\n    (DateTime.now().getMillis() - SystemClock.elapsedRealtime()) * 1000000\r\n                    + sensorEvent.timestamp","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p>SensorEvent reports time in nanoseconds since system boot (including sleep time). \nTo convert it to absolute time in nanos, use following formula:</p>\n\n<pre><code>(DateTime.now().getMillis() - SystemClock.elapsedRealtime()) * 1000000\n                + sensorEvent.timestamp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7192370,"reputation":506,"user_id":5492211,"accept_rate":50,"display_name":"Sagar Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675604837,"creation_date":1674572518,"answer_id":75223347,"question_id":38819025,"body_markdown":"`SensorEvent.timestamp` is when the event happened, but it is an elapsed time since boot. It is not the exact timestamp of when the event happened. We want to get the actual time when the event happened from the elapsed time since the event happened.\r\n\r\nReference: https://developer.android.com/reference/android/hardware/SensorEvent#timestamp\r\n\r\n 1. We need all the entities in a similar unit. We are taking `Millis` here.\r\n 2. We have three entities to use. a) `System.currentTimeMillis()` b) `SystemClock.elapsedRealtime()` and c) `SensorEvent.timestamp`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. If we use `SystemClock.elapsedRealtimeNanos()`, then we need to convert it into `Millis` as below:\r\n\r\n```\r\nval systemCurrentTimeMillis = System.currentTimeMillis()\r\nval systemClockElapsedRealtimeMillis = TimeUnit.NANOSECONDS.toMillis(SystemClock.elapsedRealtimeNanos())\r\nval sensorEventTimeStampMillis = TimeUnit.NANOSECONDS.toMillis(sensorEvent.timestamp)\r\n```\r\n\r\n 4. We need to find the difference between the `systemCurrentTimeMillis`, and `systemClockElapsedRealtimeMillis` as below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n```\r\nval currentMinusElapsedRealtimeMillis = systemCurrentTimeMillis - systemClockElapsedRealtimeMillis\r\n```\r\n\r\n 5. Once we find the difference, we need to add `sensorEventTimeStampMillis` to it as below:\r\n\r\n[![enter image description here][3]][3]\r\nOR\r\n[![enter image description here][4]][4]\r\n\r\n```\r\nval actualEventTimeMillis = currentMinusElapsedRealtimeMillis + sensorEventTimeStampMillis\r\n```\r\n\r\n 6. Then, we need to convert the result into UTC as below (I am using `Joda Time`):\r\n\r\n```\r\nval actualEventTimeUtc = DateTime(actualEventTimeMillis, DateTimeZone.UTC)\r\n```\r\n\r\nThe `actualEventTimeUtc` is the absolute time when the event happened.\r\n\r\n**Another way to understand it is:**\r\n\r\nSuppose the sensor reports an event in `onSensorChanged.` We find that the current time is: 13 PM. In other words, the reporting time is 13 PM and it is not the time when the actual event happened.\r\n\r\nThe `SystemClock.elapsedRealtime()` says that it has been running since last 30 hours. In other words, it started 30 hours before from the current time.\r\n\r\nSo, we subtract the 30 hours from the current time to get the time when the sensor started. So, we get 7 AM of the previous day.\r\n\r\nThe `SensorEvent.timestamp` says that the event happened after 28 hours of the `SystemClock.elapsedRealtime().`\r\n\r\nHence, we add 28 hours to the 7 AM of the previous day. So, we get 11 AM of the current day and it is the actual time when event happened.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TFbTp.png\r\n  [2]: https://i.stack.imgur.com/wDmgb.png\r\n  [3]: https://i.stack.imgur.com/QfBpz.png\r\n  [4]: https://i.stack.imgur.com/llKV8.png","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p><code>SensorEvent.timestamp</code> is when the event happened, but it is an elapsed time since boot. It is not the exact timestamp of when the event happened. We want to get the actual time when the event happened from the elapsed time since the event happened.</p>\n<p>Reference: <a href=\"https://developer.android.com/reference/android/hardware/SensorEvent#timestamp\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/hardware/SensorEvent#timestamp</a></p>\n<ol>\n<li>We need all the entities in a similar unit. We are taking <code>Millis</code> here.</li>\n<li>We have three entities to use. a) <code>System.currentTimeMillis()</code> b) <code>SystemClock.elapsedRealtime()</code> and c) <code>SensorEvent.timestamp</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/TFbTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFbTp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>If we use <code>SystemClock.elapsedRealtimeNanos()</code>, then we need to convert it into <code>Millis</code> as below:</li>\n</ol>\n<pre><code>val systemCurrentTimeMillis = System.currentTimeMillis()\nval systemClockElapsedRealtimeMillis = TimeUnit.NANOSECONDS.toMillis(SystemClock.elapsedRealtimeNanos())\nval sensorEventTimeStampMillis = TimeUnit.NANOSECONDS.toMillis(sensorEvent.timestamp)\n</code></pre>\n<ol start=\"4\">\n<li>We need to find the difference between the <code>systemCurrentTimeMillis</code>, and <code>systemClockElapsedRealtimeMillis</code> as below:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/wDmgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDmgb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>val currentMinusElapsedRealtimeMillis = systemCurrentTimeMillis - systemClockElapsedRealtimeMillis\n</code></pre>\n<ol start=\"5\">\n<li>Once we find the difference, we need to add <code>sensorEventTimeStampMillis</code> to it as below:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QfBpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QfBpz.png\" alt=\"enter image description here\" /></a>\nOR\n<a href=\"https://i.stack.imgur.com/llKV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llKV8.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>val actualEventTimeMillis = currentMinusElapsedRealtimeMillis + sensorEventTimeStampMillis\n</code></pre>\n<ol start=\"6\">\n<li>Then, we need to convert the result into UTC as below (I am using <code>Joda Time</code>):</li>\n</ol>\n<pre><code>val actualEventTimeUtc = DateTime(actualEventTimeMillis, DateTimeZone.UTC)\n</code></pre>\n<p>The <code>actualEventTimeUtc</code> is the absolute time when the event happened.</p>\n<p><strong>Another way to understand it is:</strong></p>\n<p>Suppose the sensor reports an event in <code>onSensorChanged.</code> We find that the current time is: 13 PM. In other words, the reporting time is 13 PM and it is not the time when the actual event happened.</p>\n<p>The <code>SystemClock.elapsedRealtime()</code> says that it has been running since last 30 hours. In other words, it started 30 hours before from the current time.</p>\n<p>So, we subtract the 30 hours from the current time to get the time when the sensor started. So, we get 7 AM of the previous day.</p>\n<p>The <code>SensorEvent.timestamp</code> says that the event happened after 28 hours of the <code>SystemClock.elapsedRealtime().</code></p>\n<p>Hence, we add 28 hours to the 7 AM of the previous day. So, we get 11 AM of the current day and it is the actual time when event happened.</p>\n"}],"owner":{"account_id":6615288,"reputation":21,"user_id":6689037,"display_name":"Yongyi Wu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675604837,"creation_date":1470607770,"question_id":38819025,"body_markdown":"I want to display the time which the first step was detected. But the app always shows Jan 01 1970. Would some one check what is wrong and how to change it? Here is my code:\r\n\r\n    public void run() {\r\n        SensorManager mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n        Sensor mSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\r\n\r\n        mSensorManager.registerListener(new SensorEventListener() {\r\n            @Override\r\n            public void onSensorChanged(SensorEvent sensorEvent) {\r\n                long timeStamp = sensorEvent.timestamp / 1000000;\r\n                textView_moveTime.setText(DateUtils.getRelativeTimeSpanString(timeStamp));\r\n            }\r\n\r\n            @Override\r\n            public void onAccuracyChanged(Sensor sensor, int i) {\r\n\r\n            }\r\n        }, mSensor, mSensorManager.SENSOR_DELAY_FASTEST);\r\n    }","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p>I want to display the time which the first step was detected. But the app always shows Jan 01 1970. Would some one check what is wrong and how to change it? Here is my code:</p>\n\n<pre><code>public void run() {\n    SensorManager mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n    Sensor mSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\n\n    mSensorManager.registerListener(new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            long timeStamp = sensorEvent.timestamp / 1000000;\n            textView_moveTime.setText(DateUtils.getRelativeTimeSpanString(timeStamp));\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    }, mSensor, mSensorManager.SENSOR_DELAY_FASTEST);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-security","auth0"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1675455161,"post_id":75340149,"comment_id":132940324,"body_markdown":"Are you wanting to test the JwtDecoder?","body":"Are you wanting to test the JwtDecoder?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675604583,"creation_date":1675456282,"answer_id":75340753,"question_id":75340149,"body_markdown":"You can test actuator endpoints access-control in integration tests only (`@SpringBootTest`). For your own secured `@Components`, you can do it also in unit-tests (many samples in [this repo][1]):\r\n- `@Controller` with `@WebMvcTest` (`@WebfluxTest` if you were in a reactive app)\r\n- plain JUnit with `@ExtendWith(SpringExtension.class)`, `@EnableMethodSecurity` and `@Import` of the tested component (`@Service` or `@Repository` with method security like `@PreAuthorize` expressions) to get an autowired instance instrumented with security\r\n\r\n`spring-security-test` comes with some MockMvc request post-processors (see `org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt` in your case) as well as WebTestClient mutators (see `org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockJwt`) to configure Authentication of the right type (`JwtAuthenticationToken` in your case) and set it in test security context, but this is limited to MockMvc and WebTestClient and as so to `@Controller` tests.\r\n\r\nSample usage in an integration test (`@SpringBootTest`) for actuator to be up (but you get the idea for unit-tests):\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt;\r\n\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n\t@Autowired\r\n\tMockMvc api;\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/actuator/health/liveness&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;)\r\n\t\t\t\t.with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_data:write&quot;))))))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;)\r\n\t\t\t\t.with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\r\n\t\t\t.andExpect(status().isForbidden());\r\n\t}\r\n}\r\n```\r\n\r\n\r\nYou might also use `@WithMockJwtAuth` from [this libs I maintain][1]. This repo contains quite a few samples for unit and integration testing of any kind of `@Component` (`@Controllers` of course but also `@Services` or `@Repositories` decorated with method-security).\r\n\r\nAbove Sample becomes:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.12&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n\t@Autowired\r\n\tMockMvc api;\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/actuator/health/liveness&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(&quot;SCOPE_data:write&quot;)\r\n\tvoid givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(&quot;SCOPE_openid&quot;)\r\n\tvoid givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isForbidden());\r\n\t}\r\n}\r\n```\r\n\r\n# Spring-addons starter\r\nIn the same repo as test annotations, you&#39;ll find starters to simplify your resource server security config (and also improve your CORS config and synchronize sessions and CSRF protection disabling as **the second should not be disabled with active sessions**...).\r\n\r\nUsage is super simple and **all you&#39;d have to change to switch to another OIDC authorization-server would be properties**. This could happen for instance because you are forced to by the busyness (if, they decide that Auth0 is too expensive or cannot be trusted anymore) or maybe because you find it is more convenient to use a standalone Keycloak on your dev machine (it is available offline, which I frequently am).\r\n\r\nInstead of directly importing `spring-boot-starter-oauth2-resource-server`, import a thin wrapper around it ([composed of 3 files][2] only):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBy default, users must be authenticated to access any route but those listed in `com.c4-soft.springaddons.security.permit-all` property (see below). Replace all your Java conf with:\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    // If not using method-security or to configure actuator RBAC\r\n    // You might define a bean of type ExpressionInterceptUrlRegistryPostProcessor\r\n    // and Fine tune AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\r\n}\r\n```\r\nYou can remove all `spring.security.oauth2.resourceserver` properties, it is ignored (with an exception of `spring.security.oauth2.resourceserver.jwt.audiences` if you validate audience). Properties to use instead are:\r\n```\r\n# Define this instead of auth0.audience\r\nspring.security.oauth2.resourceserver.jwt.audiences=http://localhost:8080,https://localhost:8080\r\n\r\n# Single OIDC JWT issuer but you can add as many as you like\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://dev-ch4mpy.eu.auth0.com/\r\n\r\n# Mimic spring-security default converter: map authorities with &quot;SCOPE_&quot; prefix\r\n# Difference with your current conf is authorities source is not only &quot;scope&quot; claim but also &quot;roles&quot; and &quot;permissions&quot; ones \r\n# I would consider map authorities without &quot;SCOPE_&quot; prefix (the default behaviour of my starters) and update access control expressions accordingly\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=scope,roles,permissions\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.prefix=SCOPE_\r\n\r\n# Fine-grained CORS configuration can be set per path as follow:\r\ncom.c4-soft.springaddons.security.cors[0].path=/data/api/**\r\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\r\ncom.c4-soft.springaddons.security.cors[0].allowedOrigins=*\r\ncom.c4-soft.springaddons.security.cors[0].allowedMethods=*\r\ncom.c4-soft.springaddons.security.cors[0].allowedHeaders=*\r\ncom.c4-soft.springaddons.security.cors[0].exposedHeaders=*\r\n\r\n# Comma separated list of ant path matchers for resources accessible to anonymous\r\ncom.c4-soft.springaddons.security.permit-all=/data/actuator/**\r\n```\r\nBootyfool, isn&#39;t it?\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server","title":"How to write unit test for SecurityConfig for spring security","body":"<p>You can test actuator endpoints access-control in integration tests only (<code>@SpringBootTest</code>). For your own secured <code>@Components</code>, you can do it also in unit-tests (many samples in <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this repo</a>):</p>\n<ul>\n<li><code>@Controller</code> with <code>@WebMvcTest</code> (<code>@WebfluxTest</code> if you were in a reactive app)</li>\n<li>plain JUnit with <code>@ExtendWith(SpringExtension.class)</code>, <code>@EnableMethodSecurity</code> and <code>@Import</code> of the tested component (<code>@Service</code> or <code>@Repository</code> with method security like <code>@PreAuthorize</code> expressions) to get an autowired instance instrumented with security</li>\n</ul>\n<p><code>spring-security-test</code> comes with some MockMvc request post-processors (see <code>org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt</code> in your case) as well as WebTestClient mutators (see <code>org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockJwt</code>) to configure Authentication of the right type (<code>JwtAuthenticationToken</code> in your case) and set it in test security context, but this is limited to MockMvc and WebTestClient and as so to <code>@Controller</code> tests.</p>\n<p>Sample usage in an integration test (<code>@SpringBootTest</code>) for actuator to be up (but you get the idea for unit-tests):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt;\n\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    @Test\n    void givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\n        api.perform(get(&quot;/data/actuator/health/liveness&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    void givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_data:write&quot;))))))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n<p>You might also use <code>@WithMockJwtAuth</code> from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this libs I maintain</a>. This repo contains quite a few samples for unit and integration testing of any kind of <code>@Component</code> (<code>@Controllers</code> of course but also <code>@Services</code> or <code>@Repositories</code> decorated with method-security).</p>\n<p>Above Sample becomes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    @Test\n    void givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\n        api.perform(get(&quot;/data/actuator/health/liveness&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_data:write&quot;)\n    void givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;)\n    void givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n<h1>Spring-addons starter</h1>\n<p>In the same repo as test annotations, you'll find starters to simplify your resource server security config (and also improve your CORS config and synchronize sessions and CSRF protection disabling as <strong>the second should not be disabled with active sessions</strong>...).</p>\n<p>Usage is super simple and <strong>all you'd have to change to switch to another OIDC authorization-server would be properties</strong>. This could happen for instance because you are forced to by the busyness (if, they decide that Auth0 is too expensive or cannot be trusted anymore) or maybe because you find it is more convenient to use a standalone Keycloak on your dev machine (it is available offline, which I frequently am).</p>\n<p>Instead of directly importing <code>spring-boot-starter-oauth2-resource-server</code>, import a thin wrapper around it (<a href=\"https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server\" rel=\"nofollow noreferrer\">composed of 3 files</a> only):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default, users must be authenticated to access any route but those listed in <code>com.c4-soft.springaddons.security.permit-all</code> property (see below). Replace all your Java conf with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n    // If not using method-security or to configure actuator RBAC\n    // You might define a bean of type ExpressionInterceptUrlRegistryPostProcessor\n    // and Fine tune AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\n}\n</code></pre>\n<p>You can remove all <code>spring.security.oauth2.resourceserver</code> properties, it is ignored (with an exception of <code>spring.security.oauth2.resourceserver.jwt.audiences</code> if you validate audience). Properties to use instead are:</p>\n<pre><code># Define this instead of auth0.audience\nspring.security.oauth2.resourceserver.jwt.audiences=http://localhost:8080,https://localhost:8080\n\n# Single OIDC JWT issuer but you can add as many as you like\ncom.c4-soft.springaddons.security.issuers[0].location=https://dev-ch4mpy.eu.auth0.com/\n\n# Mimic spring-security default converter: map authorities with &quot;SCOPE_&quot; prefix\n# Difference with your current conf is authorities source is not only &quot;scope&quot; claim but also &quot;roles&quot; and &quot;permissions&quot; ones \n# I would consider map authorities without &quot;SCOPE_&quot; prefix (the default behaviour of my starters) and update access control expressions accordingly\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=scope,roles,permissions\ncom.c4-soft.springaddons.security.issuers[0].authorities.prefix=SCOPE_\n\n# Fine-grained CORS configuration can be set per path as follow:\ncom.c4-soft.springaddons.security.cors[0].path=/data/api/**\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\ncom.c4-soft.springaddons.security.cors[0].allowedOrigins=*\ncom.c4-soft.springaddons.security.cors[0].allowedMethods=*\ncom.c4-soft.springaddons.security.cors[0].allowedHeaders=*\ncom.c4-soft.springaddons.security.cors[0].exposedHeaders=*\n\n# Comma separated list of ant path matchers for resources accessible to anonymous\ncom.c4-soft.springaddons.security.permit-all=/data/actuator/**\n</code></pre>\n<p>Bootyfool, isn't it?</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75340753,"answer_count":1,"score":1,"last_activity_date":1675604583,"creation_date":1675452026,"question_id":75340149,"body_markdown":"I have a class for spring security, validating token from the user. I got the code from Auth0 website and modified `antMatcher` part for my configuration. Here is the code:\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        /*\r\n        This is where we configure the security required for our endpoints and setup our app to serve as\r\n        an OAuth2 Resource Server, using JWT validation.\r\n        */\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.GET, &quot;/data/actuator/**&quot;).permitAll()\r\n            .antMatchers(HttpMethod.PUT, &quot;/data/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\r\n            .anyRequest().authenticated()\r\n            .and().cors()\r\n            .and().oauth2ResourceServer().jwt();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator =\r\n                new com.nuance.pindata.health.importer.security.AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\nI am now trying to write unit test, but there is no good way to test it. I can practically test changing method/path, but it is not straight forward how to write this unit test, and it can be done through integration (automation) tests.\r\n\r\nFrom https://stackoverflow.com/questions/43663688/spring-security-httpsecurity-configuration-testing, he suggests not writing unit test for such security config as well. What is the right approach here? If I should write unit test, how can I achieve this?","title":"How to write unit test for SecurityConfig for spring security","body":"<p>I have a class for spring security, validating token from the user. I got the code from Auth0 website and modified <code>antMatcher</code> part for my configuration. Here is the code:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        /*\n        This is where we configure the security required for our endpoints and setup our app to serve as\n        an OAuth2 Resource Server, using JWT validation.\n        */\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/data/actuator/**&quot;).permitAll()\n            .antMatchers(HttpMethod.PUT, &quot;/data/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\n            .anyRequest().authenticated()\n            .and().cors()\n            .and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator =\n                new com.nuance.pindata.health.importer.security.AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n        jwtDecoder.setJwtValidator(withAudience);\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>I am now trying to write unit test, but there is no good way to test it. I can practically test changing method/path, but it is not straight forward how to write this unit test, and it can be done through integration (automation) tests.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/43663688/spring-security-httpsecurity-configuration-testing\">Spring Security HttpSecurity Configuration Testing</a>, he suggests not writing unit test for such security config as well. What is the right approach here? If I should write unit test, how can I achieve this?</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1675595753,"post_id":75346049,"comment_id":132959492,"body_markdown":"I&#39;d try setting a `Content-Type: text/plain` header somehow (but I don&#39;t know this particular API).","body":"I&#39;d try setting a <code>Content-Type: text&#47;plain</code> header somehow (but I don&#39;t know this particular API)."},{"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"score":0,"creation_date":1675603615,"post_id":75346049,"comment_id":132960818,"body_markdown":"@tevemadar, you got it. I was trying so many different combinations (actually trying to send some binary data with some custom content-type), and removed the content type setting, while creating the minimal repro. \n\nHttpRequest::header(&quot;Content-Type&quot;, &quot;text/plain&quot;)","body":"@tevemadar, you got it. I was trying so many different combinations (actually trying to send some binary data with some custom content-type), and removed the content type setting, while creating the minimal repro.   HttpRequest::header(&quot;Content-Type&quot;, &quot;text/plain&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675604253,"creation_date":1675603790,"answer_id":75352627,"question_id":75346049,"body_markdown":"Per @tevemadar&#39;s suggestion, setting a content type (Postman) makes the HttpClient push the data, (or the server to pull the data).\r\n\r\nAdding `.header(&quot;Content-Type&quot;, &quot;text/plain&quot;)` helped made the body appear on the other side. Full code:\r\n\r\n```java\r\n    var response =\r\n        java.net.http.HttpClient.newHttpClient()\r\n            .send(\r\n                java.net.http.HttpRequest.newBuilder()\r\n                    .uri(URI.create(uri))\r\n                    .header(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                    .POST(\r\n                        java.net.http.HttpRequest.BodyPublishers.ofString(\r\n                            &quot;hello&quot;, StandardCharsets.UTF_8))\r\n                    .build(),\r\n                java.net.http.HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nNot setting any content-type on the `HttpRequest` makes the `HttpClient::send` method call (or the server-side) ignore the request body (or perceive it as an empty body). There is no error, no warning, nothing in the JDK debug logs.\r\n\r\nSetting any (even wrong) content type makes the body come across to the server side.","title":"java.net.http.HttpClient POST request sends empty body","body":"<p>Per @tevemadar's suggestion, setting a content type (Postman) makes the HttpClient push the data, (or the server to pull the data).</p>\n<p>Adding <code>.header(&quot;Content-Type&quot;, &quot;text/plain&quot;)</code> helped made the body appear on the other side. Full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var response =\n        java.net.http.HttpClient.newHttpClient()\n            .send(\n                java.net.http.HttpRequest.newBuilder()\n                    .uri(URI.create(uri))\n                    .header(&quot;Content-Type&quot;, &quot;text/plain&quot;)\n                    .POST(\n                        java.net.http.HttpRequest.BodyPublishers.ofString(\n                            &quot;hello&quot;, StandardCharsets.UTF_8))\n                    .build(),\n                java.net.http.HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>Not setting any content-type on the <code>HttpRequest</code> makes the <code>HttpClient::send</code> method call (or the server-side) ignore the request body (or perceive it as an empty body). There is no error, no warning, nothing in the JDK debug logs.</p>\n<p>Setting any (even wrong) content type makes the body come across to the server side.</p>\n"}],"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675604253,"creation_date":1675523683,"question_id":75346049,"body_markdown":"Java (tested on JDK11 and JDK17) HttpClient POST request with a &quot;hello&quot; body delivers empty body to the server.\r\n\r\n```java\r\nval response = java.net.http.HttpClient.newHttpClient()\r\n    .send(\r\n        java.net.http.HttpRequest.newBuilder()\r\n            .uri(URI.create(&quot;http://....&quot;))\r\n            .POST(java.net.http.HttpRequest.BodyPublishers.ofString(&quot;hello&quot;, StandardCharsets.UTF_8))\r\n            .build(),\r\n        java.net.http.HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nNo exception throw, `response.statusCode()` is 202, the `content-length` header shows `5`, but the request body is empty. Tested against multiple server implementations and Postman mock server.\r\n\r\n[![Postman mock server trace][1]][1]\r\n\r\nI am executing this code from within a JUnit test.\r\n\r\n`OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)`\r\n\r\n**Update 2023-02-05**\r\n\r\nDebugging into the JVM, I see two buffers are queued for posting. One contains 9 characters (encoded message start frame?) and the second contains my 5 characters 104, 101, 108, 108, 111 (i.e. `hello`).\\\r\nThe body publisher then seems to only send the first 9 characters and never my actual 5 character payload. Log follows (please pardon the length):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFull [java.net.http log file][3]\r\n\r\n  [1]: https://i.stack.imgur.com/z2po8.png\r\n  [2]: https://i.stack.imgur.com/BTrWo.png\r\n  [3]: https://github.com/jan-dolejsi/java-http-client/blob/main/java.net.http.log","title":"java.net.http.HttpClient POST request sends empty body","body":"<p>Java (tested on JDK11 and JDK17) HttpClient POST request with a &quot;hello&quot; body delivers empty body to the server.</p>\n<pre class=\"lang-java prettyprint-override\"><code>val response = java.net.http.HttpClient.newHttpClient()\n    .send(\n        java.net.http.HttpRequest.newBuilder()\n            .uri(URI.create(&quot;http://....&quot;))\n            .POST(java.net.http.HttpRequest.BodyPublishers.ofString(&quot;hello&quot;, StandardCharsets.UTF_8))\n            .build(),\n        java.net.http.HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>No exception throw, <code>response.statusCode()</code> is 202, the <code>content-length</code> header shows <code>5</code>, but the request body is empty. Tested against multiple server implementations and Postman mock server.</p>\n<p><a href=\"https://i.stack.imgur.com/z2po8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z2po8.png\" alt=\"Postman mock server trace\" /></a></p>\n<p>I am executing this code from within a JUnit test.</p>\n<p><code>OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)</code></p>\n<p><strong>Update 2023-02-05</strong></p>\n<p>Debugging into the JVM, I see two buffers are queued for posting. One contains 9 characters (encoded message start frame?) and the second contains my 5 characters 104, 101, 108, 108, 111 (i.e. <code>hello</code>).<br />\nThe body publisher then seems to only send the first 9 characters and never my actual 5 character payload. Log follows (please pardon the length):</p>\n<p><a href=\"https://i.stack.imgur.com/BTrWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BTrWo.png\" alt=\"enter image description here\" /></a></p>\n<p>Full <a href=\"https://github.com/jan-dolejsi/java-http-client/blob/main/java.net.http.log\" rel=\"nofollow noreferrer\">java.net.http log file</a></p>\n"},{"tags":["java","spring-boot","file-upload","postman","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675576619,"creation_date":1675576619,"answer_id":75350407,"question_id":75350349,"body_markdown":"This worked for me.\r\n\r\nFor attaching single file with `@RequestParam`:\r\n```\r\n@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;?&gt; uploadImage(@RequestParam MultipartFile file) throws IOException {\r\n    // ...\r\n}\r\n```\r\n\r\nFor attaching file in DTO with `@ModelAttribute`: \r\n```\r\npublic record FileDTO(\r\n        Integer id,\r\n        MultipartFile file) {\r\n}\r\n\r\n@PostMapping(value = &quot;/2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_JPEG_VALUE)\r\npublic ResponseEntity&lt;?&gt; uploadImage2(@ModelAttribute FileDTO dto) throws IOException {\r\n    // ...\r\n}\r\n```\r\n\r\nBTW, you probably want use OpenAPI(Swagger UI) for manually testing your app, it&#39;s easier than using postman.\r\n\r\nReference article: https://www.baeldung.com/spring-file-upload","title":"Error uploading JSON data and Image in single API call: Spring Boot","body":"<p>This worked for me.</p>\n<p>For attaching single file with <code>@RequestParam</code>:</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; uploadImage(@RequestParam MultipartFile file) throws IOException {\n    // ...\n}\n</code></pre>\n<p>For attaching file in DTO with <code>@ModelAttribute</code>:</p>\n<pre><code>public record FileDTO(\n        Integer id,\n        MultipartFile file) {\n}\n\n@PostMapping(value = &quot;/2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_JPEG_VALUE)\npublic ResponseEntity&lt;?&gt; uploadImage2(@ModelAttribute FileDTO dto) throws IOException {\n    // ...\n}\n</code></pre>\n<p>BTW, you probably want use OpenAPI(Swagger UI) for manually testing your app, it's easier than using postman.</p>\n<p>Reference article: <a href=\"https://www.baeldung.com/spring-file-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-file-upload</a></p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675604102,"creation_date":1675575835,"question_id":75350349,"body_markdown":"I am working on a Spring Boot Project where I want to send **JSON data and Multipart File** (Image) in a single API call. For this, I referred- https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered.  \r\nMy **Controller** is-\r\n```\r\n@PostMapping(value = &quot;/create&quot;,consumes = {MediaType.APPLICATION_JSON_VALUE,MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        public ResponseEntity&lt;SuccessResponse&lt;PostDto&gt;&gt; createPost(\r\n                @RequestPart(&quot;post&quot;) String post,\r\n                        @RequestPart(&quot;image&quot;) MultipartFile file,\r\n                        @RequestParam(name = &quot;userid&quot;) Integer uid,\r\n                        @RequestParam(name = &quot;categoryid&quot;) Integer categoryId) {\r\n\r\n                log.info(&quot;Filename :&quot; + file.getOriginalFilename());\r\n                log.info(&quot;Size:&quot; + file.getSize());\r\n                log.info(&quot;Contenttype:&quot; + file.getContentType());\r\n\r\n                //convert the post string to POJO\r\n                 PostDto postDto=postService.getJson(post);\r\n                //Now create the post\r\n                 PostDto newPost = this.postService.createPost(postDto, uid, categoryId, file);\r\n                SuccessResponse&lt;PostDto&gt; successResponse = new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,\r\n                                AppConstants.SUCCESS_MESSAGE, newPost);\r\n                return new ResponseEntity&lt;&gt;(successResponse, HttpStatus.OK);\r\n        }\r\n```\r\nI am using **Postman** for testing-\r\n[![Request Example][1]][1]\r\n\r\nWhen I make the request, I get the following error (Note- I  have set the error response in Spring Security as seen in the image.)\r\n```\r\n[nio-8085-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required part &#39;image&#39; is not present.]\r\n```\r\nI tried another approach but it gives another error-\r\n```\r\n @PostMapping(&quot;/uploadimage/{postid}/{isUpdatingPost}&quot;)\r\n        public ResponseEntity&lt;SuccessResponse&lt;String&gt;&gt; uploadImage(@RequestParam(name=&quot;file&quot;) MultipartFile file, @PathVariable(&quot;postid&quot;) int postid, @PathVariable(&quot;isUpdatingPost&quot;)boolean isUpdatingPost){\r\n                String result=this.postService.uploadImage(file, postid, isUpdatingPost);\r\n                SuccessResponse&lt;String&gt; response=new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,AppConstants.SUCCESS_MESSAGE,result);\r\n                return new ResponseEntity&lt;&gt;(response,HttpStatus.OK);\r\n        }\r\n```\r\n\r\n```\r\n[Request processing failed: org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\r\n\r\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\r\n```\r\nI am not able to understand the problem in these approaches. I also set the content type to **multipart/form-data in Postman** and the **consume** parameter in **@PostMapping**, but still getting these errors. \r\nPlease help in finding the problem!\r\n\r\n  [1]: https://i.stack.imgur.com/TNv80.png","title":"Error uploading JSON data and Image in single API call: Spring Boot","body":"<p>I am working on a Spring Boot Project where I want to send <strong>JSON data and Multipart File</strong> (Image) in a single API call. For this, I referred- <a href=\"https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:%7E:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered\" rel=\"nofollow noreferrer\">https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered</a>.<br />\nMy <strong>Controller</strong> is-</p>\n<pre><code>@PostMapping(value = &quot;/create&quot;,consumes = {MediaType.APPLICATION_JSON_VALUE,MediaType.MULTIPART_FORM_DATA_VALUE})\n        public ResponseEntity&lt;SuccessResponse&lt;PostDto&gt;&gt; createPost(\n                @RequestPart(&quot;post&quot;) String post,\n                        @RequestPart(&quot;image&quot;) MultipartFile file,\n                        @RequestParam(name = &quot;userid&quot;) Integer uid,\n                        @RequestParam(name = &quot;categoryid&quot;) Integer categoryId) {\n\n                log.info(&quot;Filename :&quot; + file.getOriginalFilename());\n                log.info(&quot;Size:&quot; + file.getSize());\n                log.info(&quot;Contenttype:&quot; + file.getContentType());\n\n                //convert the post string to POJO\n                 PostDto postDto=postService.getJson(post);\n                //Now create the post\n                 PostDto newPost = this.postService.createPost(postDto, uid, categoryId, file);\n                SuccessResponse&lt;PostDto&gt; successResponse = new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,\n                                AppConstants.SUCCESS_MESSAGE, newPost);\n                return new ResponseEntity&lt;&gt;(successResponse, HttpStatus.OK);\n        }\n</code></pre>\n<p>I am using <strong>Postman</strong> for testing-\n<a href=\"https://i.stack.imgur.com/TNv80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNv80.png\" alt=\"Request Example\" /></a></p>\n<p>When I make the request, I get the following error (Note- I  have set the error response in Spring Security as seen in the image.)</p>\n<pre><code>[nio-8085-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required part 'image' is not present.]\n</code></pre>\n<p>I tried another approach but it gives another error-</p>\n<pre><code> @PostMapping(&quot;/uploadimage/{postid}/{isUpdatingPost}&quot;)\n        public ResponseEntity&lt;SuccessResponse&lt;String&gt;&gt; uploadImage(@RequestParam(name=&quot;file&quot;) MultipartFile file, @PathVariable(&quot;postid&quot;) int postid, @PathVariable(&quot;isUpdatingPost&quot;)boolean isUpdatingPost){\n                String result=this.postService.uploadImage(file, postid, isUpdatingPost);\n                SuccessResponse&lt;String&gt; response=new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,AppConstants.SUCCESS_MESSAGE,result);\n                return new ResponseEntity&lt;&gt;(response,HttpStatus.OK);\n        }\n</code></pre>\n<pre><code>[Request processing failed: org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\n\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\n</code></pre>\n<p>I am not able to understand the problem in these approaches. I also set the content type to <strong>multipart/form-data in Postman</strong> and the <strong>consume</strong> parameter in <strong>@PostMapping</strong>, but still getting these errors.\nPlease help in finding the problem!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675606233,"post_id":75352478,"comment_id":132961265,"body_markdown":"note that a single `char` does NOT cover all Unicode code points...","body":"note that a single <code>char</code> does NOT cover all Unicode code points..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675622815,"post_id":75352478,"comment_id":132964541,"body_markdown":"This sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378).  I doubt you want to convert only a single char to bytes;  if you are converting a String to bytes, there are much better ways to do it than converting one character at a time.","body":"This sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a>.  I doubt you want to convert only a single char to bytes;  if you are converting a String to bytes, there are much better ways to do it than converting one character at a time."}],"answers":[{"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1675602943,"post_id":75352512,"comment_id":132960676,"body_markdown":"Why mask `ch &amp; 255`? Why not just `(byte)ch`?","body":"Why mask <code>ch &amp; 255</code>? Why not just <code>(byte)ch</code>?"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1675603035,"post_id":75352512,"comment_id":132960697,"body_markdown":"@user229044 Good point, no good reason, especially since I didn’t do it for the second byte. I’ll change it to make it consistent. (I think my rationale was to make explicit to the reader that we are aware that the cast truncates the value of `ch` but the context should make this clear anyway.)","body":"@user229044 Good point, no good reason, especially since I didn’t do it for the second byte. I’ll change it to make it consistent. (I think my rationale was to make explicit to the reader that we are aware that the cast truncates the value of <code>ch</code> but the context should make this clear anyway.)"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1675603998,"post_id":75352512,"comment_id":132960887,"body_markdown":"What is the more significant byte here - b1 or b2?","body":"What is the more significant byte here - b1 or b2?"},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1675604115,"post_id":75352512,"comment_id":132960906,"body_markdown":"@KonradRudolph Cool, I&#39;m not a Java developer, so I really wasn&#39;t sure if I was missing something about how casting works.","body":"@KonradRudolph Cool, I&#39;m not a Java developer, so I really wasn&#39;t sure if I was missing something about how casting works."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1675605029,"post_id":75352512,"comment_id":132961073,"body_markdown":"@RA Since you only shift for `b2`, `b2` must be the most significant byte.","body":"@RA Since you only shift for <code>b2</code>, <code>b2</code> must be the most significant byte."}],"tags":[],"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675603048,"creation_date":1675602773,"answer_id":75352512,"question_id":75352478,"body_markdown":"You can perform bitwise arithmetic on `char` to access the individual bytes:\r\n\r\n```\r\nvar b1 = (byte) ch;\r\nvar b2 = (byte) (ch &gt;&gt; 8);\r\n```\r\n\r\n```\r\nSystem.out.printf(&quot;%02x %02x\\n&quot;, b1, b2);\r\n// 87 65\r\n```","title":"Get two raw bytes from a single char","body":"<p>You can perform bitwise arithmetic on <code>char</code> to access the individual bytes:</p>\n<pre><code>var b1 = (byte) ch;\nvar b2 = (byte) (ch &gt;&gt; 8);\n</code></pre>\n<pre><code>System.out.printf(&quot;%02x %02x\\n&quot;, b1, b2);\n// 87 65\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675602776,"creation_date":1675602776,"answer_id":75352513,"question_id":75352478,"body_markdown":"This is probably just simple math.\r\n\r\n      byte b1 = (byte)(0xFF &amp; ch);\r\n      byte b2 = (byte)(0xFF &amp; (ch &gt;&gt; 8));\r\n\r\nLet us know if this works for you.  Be aware that `byte` is signed and this will yield negative numbers about half the time.\r\n","title":"Get two raw bytes from a single char","body":"<p>This is probably just simple math.</p>\n<pre><code>  byte b1 = (byte)(0xFF &amp; ch);\n  byte b2 = (byte)(0xFF &amp; (ch &gt;&gt; 8));\n</code></pre>\n<p>Let us know if this works for you.  Be aware that <code>byte</code> is signed and this will yield negative numbers about half the time.</p>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75352512,"answer_count":2,"score":0,"last_activity_date":1675603097,"creation_date":1675602477,"question_id":75352478,"body_markdown":"Size of `char` in Java is two bytes. How can I get raw `byte`s from a `char` variable?\r\n```\r\nvar ch = &#39;文&#39;;\r\nvar b1 = // ?\r\nvar b2 = // ?\r\n```","title":"Get two raw bytes from a single char","body":"<p>Size of <code>char</code> in Java is two bytes. How can I get raw <code>byte</code>s from a <code>char</code> variable?</p>\n<pre><code>var ch = '文';\nvar b1 = // ?\nvar b2 = // ?\n</code></pre>\n"},{"tags":["java","sql-server","stored-procedures"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1675592344,"post_id":75351456,"comment_id":132958996,"body_markdown":"Honestly, I would recommend using an output parameter over the `RETURN` value, which is meant to denote the success of a procedure (`0` for success, `1` for failure). Your code also strongly implies you are storing plain text passwords; I hope not, as that is a *severe&quot; vulnerability for both you and your users.","body":"Honestly, I would recommend using an output parameter over the <code>RETURN</code> value, which is meant to denote the success of a procedure (<code>0</code> for success, <code>1</code> for failure). Your code also strongly implies you are storing plain text passwords; I hope not, as that is a *severe&quot; vulnerability for both you and your users."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1675602036,"post_id":75351456,"comment_id":132960514,"body_markdown":"you can&#39;t use executeQuery if you don&#39;t return resultsets. You should use execute. See https://stackoverflow.com/questions/1947754/getting-the-return-value-from-jdbc-mssql","body":"you can&#39;t use executeQuery if you don&#39;t return resultsets. You should use execute. See <a href=\"https://stackoverflow.com/questions/1947754/getting-the-return-value-from-jdbc-mssql\" title=\"getting the return value from jdbc mssql\">stackoverflow.com/questions/1947754/&hellip;</a>"},{"owner":{"account_id":24165,"reputation":274991,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1675635125,"post_id":75351456,"comment_id":132966673,"body_markdown":"Also `nchar(50)`? So all your usernames and passwords are all _exactly_ 50 characters?","body":"Also <code>nchar(50)</code>? So all your usernames and passwords are all <i>exactly</i> 50 characters?"}],"answers":[{"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1675595734,"post_id":75351598,"comment_id":132959487,"body_markdown":"This changes nothing other than stopping a warning message being returned, per the [documentation](https://learn.microsoft.com/en-us/sql/t-sql/language-elements/return-transact-sql?view=sql-server-ver16#remarks).","body":"This changes nothing other than stopping a warning message being returned, per the <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/language-elements/return-transact-sql?view=sql-server-ver16#remarks\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":27368937,"reputation":410,"user_id":20875298,"display_name":"Tom Boyd"},"score":0,"creation_date":1675602695,"post_id":75351598,"comment_id":132960642,"body_markdown":"But that is exactly what he is asking for. &quot;I need to get return value(0 or 1), but I get error:&quot;","body":"But that is exactly what he is asking for. &quot;I need to get return value(0 or 1), but I get error:&quot;"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1675608269,"post_id":75351598,"comment_id":132961622,"body_markdown":"Did you read the error..? This doesn&#39;t address that no result set is returned, nor (as I stated) changes the behaviour.","body":"Did you read the error..? This doesn&#39;t address that no result set is returned, nor (as I stated) changes the behaviour."}],"tags":[],"owner":{"account_id":27368937,"reputation":410,"user_id":20875298,"display_name":"Tom Boyd"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675593222,"creation_date":1675593222,"answer_id":75351598,"question_id":75351456,"body_markdown":"In your SP, you declare @response as bit but don&#39;t give it a default value. Bits can be 0, 1, or NULL. @response is set to NULL. \r\n\r\nIn the update, you set it to 1 only when username and password match. If they don&#39;t match, @response is still NULL.\r\n\r\nThis should fix it.\r\n\r\n    DECLARE @response AS bit = 0;","title":"calling Stored Procedure in Java","body":"<p>In your SP, you declare @response as bit but don't give it a default value. Bits can be 0, 1, or NULL. @response is set to NULL.</p>\n<p>In the update, you set it to 1 only when username and password match. If they don't match, @response is still NULL.</p>\n<p>This should fix it.</p>\n<pre><code>DECLARE @response AS bit = 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25636404,"reputation":49,"user_id":19405926,"display_name":"dmmhlchk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675602329,"creation_date":1675602329,"answer_id":75352466,"question_id":75351456,"body_markdown":"I did it and I want to share with you this information.\r\n\r\n    connection = Shop.OpenConnection();\r\n\r\n    storedProcedure = connection.prepareCall(&quot;**{? = call auth_user(?, ?)}**&quot;);\r\n    storedProcedure.setString(2, UsernameField.getText());\r\n    storedProcedure.setString(3, PasswordField.getText());\r\n            \r\n    storedProcedure.registerOutParameter(1, Types.INTEGER);\r\n    storedProcedure.execute();\r\n            \r\n    System.out.println(storedProcedure.getInt(1));\r\n\r\nI changed string of call SP -&gt; **{? = call auth_user(?, ?)}** \r\nand declared each parameter with its number. That is, the return value is 1, the passed parameter is 2, and the passed parameter is 3","title":"calling Stored Procedure in Java","body":"<p>I did it and I want to share with you this information.</p>\n<pre><code>connection = Shop.OpenConnection();\n\nstoredProcedure = connection.prepareCall(&quot;**{? = call auth_user(?, ?)}**&quot;);\nstoredProcedure.setString(2, UsernameField.getText());\nstoredProcedure.setString(3, PasswordField.getText());\n        \nstoredProcedure.registerOutParameter(1, Types.INTEGER);\nstoredProcedure.execute();\n        \nSystem.out.println(storedProcedure.getInt(1));\n</code></pre>\n<p>I changed string of call SP -&gt; <strong>{? = call auth_user(?, ?)}</strong>\nand declared each parameter with its number. That is, the return value is 1, the passed parameter is 2, and the passed parameter is 3</p>\n"}],"owner":{"account_id":25636404,"reputation":49,"user_id":19405926,"display_name":"dmmhlchk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675602329,"creation_date":1675591740,"question_id":75351456,"body_markdown":"I have a SP:\r\n\r\n```\r\nALTER PROCEDURE [dbo].[auth_user]\r\n\t@username nchar(50),\r\n\t@password nchar(50)\r\nAS BEGIN\r\n\tDECLARE @response AS bit = 0;\r\n\r\n\tUPDATE dbo.Users\r\n\tSET @response = 1\r\n\tWHERE Username = @username\r\n\t\tAND Password = @password\r\n\r\n\tRETURN @response\r\nEND\r\n```\r\n\r\nI try to get return value from SP in Java\r\n\r\n```\r\n    Connection connection = null;\r\n    CallableStatement storedProcedure = null;\r\n    ResultSet resultSet = null;\r\n\r\n       ...\r\n\r\n    connection = Shop.OpenConnection();\r\n    \r\n    storedProcedure = connection.prepareCall(&quot;{call auth_user(?, ?)}&quot;);\r\n    storedProcedure.setString(1, UsernameField.getText());\r\n    storedProcedure.setString(2, PasswordField.getText());\r\n    \r\n    resultSet = storedProcedure.executeQuery(); //Error\r\n    if (resultSet.next()) {\r\n        JOptionPane.showMessageDialog(null, &quot;Correct username and password&quot;);\r\n        MainFrame frame = new MainFrame();\r\n        frame.setVisible(true);\r\n    } else {\r\n        JOptionPane.showMessageDialog(null, &quot;Wrong username or password&quot;);\r\n    }\r\n```\r\n\r\nI need to get return value(0 or 1), but I get error:\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.","title":"calling Stored Procedure in Java","body":"<p>I have a SP:</p>\n<pre><code>ALTER PROCEDURE [dbo].[auth_user]\n    @username nchar(50),\n    @password nchar(50)\nAS BEGIN\n    DECLARE @response AS bit = 0;\n\n    UPDATE dbo.Users\n    SET @response = 1\n    WHERE Username = @username\n        AND Password = @password\n\n    RETURN @response\nEND\n</code></pre>\n<p>I try to get return value from SP in Java</p>\n<pre><code>    Connection connection = null;\n    CallableStatement storedProcedure = null;\n    ResultSet resultSet = null;\n\n       ...\n\n    connection = Shop.OpenConnection();\n    \n    storedProcedure = connection.prepareCall(&quot;{call auth_user(?, ?)}&quot;);\n    storedProcedure.setString(1, UsernameField.getText());\n    storedProcedure.setString(2, PasswordField.getText());\n    \n    resultSet = storedProcedure.executeQuery(); //Error\n    if (resultSet.next()) {\n        JOptionPane.showMessageDialog(null, &quot;Correct username and password&quot;);\n        MainFrame frame = new MainFrame();\n        frame.setVisible(true);\n    } else {\n        JOptionPane.showMessageDialog(null, &quot;Wrong username or password&quot;);\n    }\n</code></pre>\n<p>I need to get return value(0 or 1), but I get error:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-oauth2"],"comments":[{"owner":{"account_id":4922689,"reputation":624,"user_id":3964849,"display_name":"Harish Barma"},"score":0,"creation_date":1671196406,"post_id":74824775,"comment_id":132052612,"body_markdown":"you did not import OAuth2AuthenticationToken in your class.","body":"you did not import OAuth2AuthenticationToken in your class."},{"owner":{"account_id":26768638,"reputation":3,"user_id":20369341,"display_name":"John"},"score":0,"creation_date":1671201977,"post_id":74824775,"comment_id":132054664,"body_markdown":"Yes, because the IntelliJ itself does not offer to import. I&#39;d like to, but I can&#39;t .","body":"Yes, because the IntelliJ itself does not offer to import. I&#39;d like to, but I can&#39;t ."}],"owner":{"account_id":26768638,"reputation":3,"user_id":20369341,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675602111,"creation_date":1671195444,"question_id":74824775,"body_markdown":"**My Configure java file GoogleOAuth2SuccessHandler:**\r\n\r\n```\r\npackage ru.connor.shopping_app.config;\r\n\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.web.DefaultRedirectStrategy;\r\nimport org.springframework.security.web.RedirectStrategy;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\nimport ru.connor.shopping_app.repository.RoleRepository;\r\nimport ru.connor.shopping_app.repository.UserRepository;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\r\n    private final RoleRepository roleRepository;\r\n    private final UserRepository userRepository;\r\n\r\n\r\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication;\r\n    }\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI added the following dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n    &lt;version&gt;5.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut for some reason, the compiler gives the following error:\r\n***Cannot resolve symbol &#39;OAuth2AuthenticationToken&#39;***\r\n\r\nI don&#39;t understand what the problem is.\r\n","title":"Cannot resolve symbol &#39;OAuth2AuthenticationToken&#39;","body":"<p><strong>My Configure java file GoogleOAuth2SuccessHandler:</strong></p>\n<pre><code>package ru.connor.shopping_app.config;\n\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.DefaultRedirectStrategy;\nimport org.springframework.security.web.RedirectStrategy;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\nimport ru.connor.shopping_app.repository.RoleRepository;\nimport ru.connor.shopping_app.repository.UserRepository;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\n@RequiredArgsConstructor\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\n    private final RoleRepository roleRepository;\n    private final UserRepository userRepository;\n\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication;\n    }\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\n\n    }\n\n}\n</code></pre>\n<p>I added the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n    &lt;version&gt;5.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But for some reason, the compiler gives the following error:\n<em><strong>Cannot resolve symbol 'OAuth2AuthenticationToken'</strong></em></p>\n<p>I don't understand what the problem is.</p>\n"},{"tags":["java","intellij-idea","processing","rendering"],"comments":[{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675511227,"post_id":75344683,"comment_id":132947201,"body_markdown":"Check if You have 1.25 UI scalling in Windows Screen Settings?","body":"Check if You have 1.25 UI scalling in Windows Screen Settings?"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675519117,"post_id":75344683,"comment_id":132948524,"body_markdown":"@Mruk I don’t have the problem with the processing’s IDE either…I guess the screen settings aren’t in fault","body":"@Mruk I don’t have the problem with the processing’s IDE either…I guess the screen settings aren’t in fault"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":1,"creation_date":1675520328,"post_id":75344683,"comment_id":132948701,"body_markdown":"Processing&#39;s IDE is ignoring global Windows settings. Just make a test how it is in Idea and write the conclusion for us.","body":"Processing&#39;s IDE is ignoring global Windows settings. Just make a test how it is in Idea and write the conclusion for us."},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675521778,"post_id":75344683,"comment_id":132948923,"body_markdown":"Ok I didn’t know that ! I will try it, I just assumed it wasn’t that because the 2 images are of the same size although one was taken through Intellij and the other with Processing’s IDE","body":"Ok I didn’t know that ! I will try it, I just assumed it wasn’t that because the 2 images are of the same size although one was taken through Intellij and the other with Processing’s IDE"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675525861,"post_id":75344683,"comment_id":132949729,"body_markdown":"I have indeed the 1.25 UI scaling in Windows and putting it at 100% makes the anti-aliasing work ! However would it be possible to put 100% only in Intellij and not affect the rest of my Windows ?","body":"I have indeed the 1.25 UI scaling in Windows and putting it at 100% makes the anti-aliasing work ! However would it be possible to put 100% only in Intellij and not affect the rest of my Windows ?"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675587084,"post_id":75344683,"comment_id":132958185,"body_markdown":"By the way - Where in the Project Structure did You import processing.core?","body":"By the way - Where in the Project Structure did You import processing.core?"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":1,"creation_date":1675589196,"post_id":75344683,"comment_id":132958483,"body_markdown":"I imported the Processing/core/library in the libraries tab of the project structure, everything compiles and the import in my code is well recognized","body":"I imported the Processing/core/library in the libraries tab of the project structure, everything compiles and the import in my code is well recognized"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675605824,"post_id":75344683,"comment_id":132961188,"body_markdown":"OK, here is working solution for Your question:  -Dsun.java2d.uiScale=1.0 \n (https://stackoverflow.com/a/48623068/4885365)","body":"OK, here is working solution for Your question:  -Dsun.java2d.uiScale=1.0   (<a href=\"https://stackoverflow.com/a/48623068/4885365\">stackoverflow.com/a/48623068/4885365</a>)"}],"answers":[{"tags":[],"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675600397,"creation_date":1675600397,"answer_id":75352252,"question_id":75344683,"body_markdown":"This problem arises because the window is being scaled (according to windows scaling settings) but its content is not rendered in a higher resolution (hence the &quot;jaggies&quot;).\r\n\r\nIt&#39;s a problem only with the default (Java AWT) renderer. To fix it:\r\n\r\n- Call `System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;)` before `PApplet.runSketch()` -- this will prevent the window from being scaled.\r\n\r\nAn alternative solution is to use the JavaFX renderer (`size(500, 500, FX2D)`), which seems to behave correctly (the content renders at a higher resolution). \r\n\r\nIf however high DPI scaling is not desired with the `FX2D` renderer, you can call `System.setProperty(&quot;prism.allowhidpi&quot;, &quot;false&quot;)`to disable it.","title":"Different rendering in the simulation or using saveFrame() using Processing in Intellij","body":"<p>This problem arises because the window is being scaled (according to windows scaling settings) but its content is not rendered in a higher resolution (hence the &quot;jaggies&quot;).</p>\n<p>It's a problem only with the default (Java AWT) renderer. To fix it:</p>\n<ul>\n<li>Call <code>System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;)</code> before <code>PApplet.runSketch()</code> -- this will prevent the window from being scaled.</li>\n</ul>\n<p>An alternative solution is to use the JavaFX renderer (<code>size(500, 500, FX2D)</code>), which seems to behave correctly (the content renders at a higher resolution).</p>\n<p>If however high DPI scaling is not desired with the <code>FX2D</code> renderer, you can call <code>System.setProperty(&quot;prism.allowhidpi&quot;, &quot;false&quot;)</code>to disable it.</p>\n"}],"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75352252,"answer_count":1,"score":1,"last_activity_date":1675600397,"creation_date":1675509143,"question_id":75344683,"body_markdown":"After many years with Processing IDE, I missed Intellij IDEA too much so I went back for it but Processing stays on :wink:\r\n\r\nHowever, the shapes drawn are way less sharp than in the real PDE, for example, a simple circle is rendered differently using both time the latest version of Processing available 4.1.2, Java 17, the same PC and the same monitor :\r\n\r\n\r\nIn PDE :\r\n\r\n    public void setup() {\r\n        size(500, 500);\r\n    }\r\n\r\n\r\n    public void draw() {\r\n        background(40);\r\n        noStroke();\r\n        fill(255);\r\n        circle(width/2, height/2, 400);\r\n        saveFrame(&quot;./PDE.png&quot;);\r\n        noLoop();\r\n    }\r\n\r\nand the result is : \r\n\r\n[![saveFrame() or direct view using Processing IDE][1]][1]\r\n\r\nWith Intellij however :\r\n\r\n    import processing.core.PApplet;\r\n\r\n    public class Main extends PApplet {\r\n\r\n        public void settings() {\r\n            size(500, 500);\r\n        }\r\n\r\n\r\n        public void draw() {\r\n            background(40);\r\n            noStroke();\r\n            fill(255);\r\n            circle(width/2, height/2, 400);\r\n            saveFrame(&quot;Intellij IDEA.png&quot;);\r\n            noLoop();\r\n        }\r\n        public static void main(String... args) {\r\n            Main pt = new Main();\r\n            PApplet.runSketch(new String[]{&quot;testRendering&quot;}, pt);\r\n        }\r\n    }\r\n\r\nthe saveFrame() is exactly the same as with Processing IDE but the real view in the sketch is :[![real view in the sketch with Intellij](https://i.stack.imgur.com/Y1tKr.png)](https://i.stack.imgur.com/Y1tKr.png)\r\n\r\nI guess that it is a problem of renderer but I can&#39;t change it using `fullScreen(P2D)` for example because it throws errors. \r\nThe only solution I found were using Maven but I am not so I&#39;d rather find a solution for my problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ohq14.png","title":"Different rendering in the simulation or using saveFrame() using Processing in Intellij","body":"<p>After many years with Processing IDE, I missed Intellij IDEA too much so I went back for it but Processing stays on :wink:</p>\n<p>However, the shapes drawn are way less sharp than in the real PDE, for example, a simple circle is rendered differently using both time the latest version of Processing available 4.1.2, Java 17, the same PC and the same monitor :</p>\n<p>In PDE :</p>\n<pre><code>public void setup() {\n    size(500, 500);\n}\n\n\npublic void draw() {\n    background(40);\n    noStroke();\n    fill(255);\n    circle(width/2, height/2, 400);\n    saveFrame(&quot;./PDE.png&quot;);\n    noLoop();\n}\n</code></pre>\n<p>and the result is :</p>\n<p><a href=\"https://i.stack.imgur.com/Ohq14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ohq14.png\" alt=\"saveFrame() or direct view using Processing IDE\" /></a></p>\n<p>With Intellij however :</p>\n<pre><code>import processing.core.PApplet;\n\npublic class Main extends PApplet {\n\n    public void settings() {\n        size(500, 500);\n    }\n\n\n    public void draw() {\n        background(40);\n        noStroke();\n        fill(255);\n        circle(width/2, height/2, 400);\n        saveFrame(&quot;Intellij IDEA.png&quot;);\n        noLoop();\n    }\n    public static void main(String... args) {\n        Main pt = new Main();\n        PApplet.runSketch(new String[]{&quot;testRendering&quot;}, pt);\n    }\n}\n</code></pre>\n<p>the saveFrame() is exactly the same as with Processing IDE but the real view in the sketch is :<a href=\"https://i.stack.imgur.com/Y1tKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1tKr.png\" alt=\"real view in the sketch with Intellij\" /></a></p>\n<p>I guess that it is a problem of renderer but I can't change it using <code>fullScreen(P2D)</code> for example because it throws errors.\nThe only solution I found were using Maven but I am not so I'd rather find a solution for my problem.</p>\n"},{"tags":["java","android","properties"],"answers":[{"comments":[{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":2,"creation_date":1440076306,"post_id":32117990,"comment_id":52130751,"body_markdown":"Didnt work inputstream comes as null. Did you tried it yourself?","body":"Didnt work inputstream comes as null. Did you tried it yourself?"},{"owner":{"display_name":"user4972508"},"score":0,"creation_date":1440131309,"post_id":32117990,"comment_id":52155426,"body_markdown":"Its because your getResourceAsStream is returning null, check this http://stackoverflow.com/questions/18053059/getresourceasstream-is-returning-null-properties-file-is-not-loading","body":"Its because your getResourceAsStream is returning null, check this <a href=\"http://stackoverflow.com/questions/18053059/getresourceasstream-is-returning-null-properties-file-is-not-loading\" title=\"getresourceasstream is returning null properties file is not loading\">stackoverflow.com/questions/18053059/&hellip;</a>"},{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":0,"creation_date":1440139465,"post_id":32117990,"comment_id":52158392,"body_markdown":"they are saying to put file under some directory. As i specified in the question i would like to avoid that and use local.properties of root folder.","body":"they are saying to put file under some directory. As i specified in the question i would like to avoid that and use local.properties of root folder."},{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":0,"creation_date":1440154404,"post_id":32117990,"comment_id":52166809,"body_markdown":"For this to work i need to put the file in assets folder of root directory . But i needed to read file local.properties from root folder. I mentioned that in the question","body":"For this to work i need to put the file in assets folder of root directory . But i needed to read file local.properties from root folder. I mentioned that in the question"},{"owner":{"display_name":"user4972508"},"score":0,"creation_date":1440158119,"post_id":32117990,"comment_id":52168936,"body_markdown":"InputStream input = new FileInputStream(&quot;/path/of/file/fileName.properties&quot;); put the path of your properties file inside inverted comma&#39;s,","body":"InputStream input = new FileInputStream(&quot;/path/of/file/fileName.properties&quot;); put the path of your properties file inside inverted comma&#39;s,"},{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":0,"creation_date":1440162630,"post_id":32117990,"comment_id":52171710,"body_markdown":"i can read asset folder files. Learning is to know how to read files from root directory. And standard is to use local.properties file for doing local build setttings stuff.","body":"i can read asset folder files. Learning is to know how to read files from root directory. And standard is to use local.properties file for doing local build setttings stuff."},{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":0,"creation_date":1440165150,"post_id":32117990,"comment_id":52173485,"body_markdown":"how can i know the path of android root directory of my app.?","body":"how can i know the path of android root directory of my app.?"},{"owner":{"display_name":"user4972508"},"score":0,"creation_date":1440390584,"post_id":32117990,"comment_id":52235061,"body_markdown":"&quot;/system/app/&quot; + localApplicationInfo.packageName","body":"&quot;/system/app/&quot; + localApplicationInfo.packageName"}],"tags":[],"owner":{"display_name":"user4972508"},"comment_count":8,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1440141717,"creation_date":1440072793,"answer_id":32117990,"question_id":32117413,"body_markdown":"    Properties properties = new Properties();\r\n    InputStream inputStream = \r\n    this.getClass().getClassLoader().getResourceAsStream(&quot;fileName.properties&quot;);\r\n    properties.load(inputStream);\r\n    Username=properties.getProperty(&quot;username&quot;);      \r\n    password=properties.getProperty(&quot;password&quot;);\r\n\r\nMore detailed answer is here\r\nhttp://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html\r\n\r\nand for asset use this code\r\n    \r\n            AssetManager assetManager = getAssets();\r\n            InputStream inputStream = null;\r\n            try {\r\n                inputStream = assetManager.open(&quot;fileName.properties&quot;);\r\n                properties.load(inputStream);\r\n                String Username = properties.getProperty(&quot;username&quot;);\r\n                String password = properties.getProperty(&quot;password&quot;);\r\n            }\r\n            catch (IOException e){\r\n                Log.e(&quot;message: &quot;,e.toString);\r\n            }","title":"How to read local.properties android in java files","body":"<pre><code>Properties properties = new Properties();\nInputStream inputStream = \nthis.getClass().getClassLoader().getResourceAsStream(\"fileName.properties\");\nproperties.load(inputStream);\nUsername=properties.getProperty(\"username\");      \npassword=properties.getProperty(\"password\");\n</code></pre>\n\n<p>More detailed answer is here\n<a href=\"http://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html\" rel=\"nofollow\">http://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html</a></p>\n\n<p>and for asset use this code</p>\n\n<pre><code>        AssetManager assetManager = getAssets();\n        InputStream inputStream = null;\n        try {\n            inputStream = assetManager.open(\"fileName.properties\");\n            properties.load(inputStream);\n            String Username = properties.getProperty(\"username\");\n            String password = properties.getProperty(\"password\");\n        }\n        catch (IOException e){\n            Log.e(\"message: \",e.toString);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1393612,"reputation":603,"user_id":1323864,"display_name":"Jakub"},"score":0,"creation_date":1511783365,"post_id":45754564,"comment_id":81976135,"body_markdown":"@Kat can you be more specific? You should be able to move the `buildConfigField` declaration from `defaultConfig` to one of your `buildTypes` or `productFlavors`.","body":"@Kat can you be more specific? You should be able to move the <code>buildConfigField</code> declaration from <code>defaultConfig</code> to one of your <code>buildTypes</code> or <code>productFlavors</code>."}],"tags":[],"owner":{"account_id":1393612,"reputation":603,"user_id":1323864,"display_name":"Jakub"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1503052448,"creation_date":1503052448,"answer_id":45754564,"question_id":32117413,"body_markdown":"I know that this is an old question but I recently encountered the same thing and I thought I&#39;d share my solution:\r\n\r\n 1. Set the value in your **local.properties** file.\r\n 2. Read the value in your Gradle build script and set it to a `BuildConfig` constant.\r\n 3. Access the `BuildConfig` constant in your Java code.\r\n\r\n**local.properties**\r\n\r\n    username=myUsername\r\n\r\n**build.gradle**:\r\n\r\n    def getUsername() {\r\n        Properties properties = new Properties()\r\n        properties.load(project.rootProject.file(&#39;local.properties&#39;).newDataInputStream())\r\n        return properties.getProperty(&quot;username&quot;);\r\n    }\r\n\r\n    android {\r\n        defaultConfig {\r\n            buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot;+getUsername()+&quot;\\&quot;&quot;\r\n        }\r\n    }\r\nExample Java class:\r\n\r\n    package your.package.name;\r\n    \r\n    class MyClass {\r\n        String getUsername() {\r\n            return BuildConfig.USERNAME; // Will return &quot;myUsername&quot;\r\n        }\r\n    }\r\n\r\n    ","title":"How to read local.properties android in java files","body":"<p>I know that this is an old question but I recently encountered the same thing and I thought I'd share my solution:</p>\n\n<ol>\n<li>Set the value in your <strong>local.properties</strong> file.</li>\n<li>Read the value in your Gradle build script and set it to a <code>BuildConfig</code> constant.</li>\n<li>Access the <code>BuildConfig</code> constant in your Java code.</li>\n</ol>\n\n<p><strong>local.properties</strong></p>\n\n<pre><code>username=myUsername\n</code></pre>\n\n<p><strong>build.gradle</strong>:</p>\n\n<pre><code>def getUsername() {\n    Properties properties = new Properties()\n    properties.load(project.rootProject.file('local.properties').newDataInputStream())\n    return properties.getProperty(\"username\");\n}\n\nandroid {\n    defaultConfig {\n        buildConfigField \"String\", \"USERNAME\", \"\\\"\"+getUsername()+\"\\\"\"\n    }\n}\n</code></pre>\n\n<p>Example Java class:</p>\n\n<pre><code>package your.package.name;\n\nclass MyClass {\n    String getUsername() {\n        return BuildConfig.USERNAME; // Will return \"myUsername\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10982382,"reputation":1530,"user_id":8069085,"display_name":"j3App"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675599931,"creation_date":1675599931,"answer_id":75352195,"question_id":32117413,"body_markdown":"Here&#39;s a variant of the other solutions, stripped down to the essentials:\r\n\r\nlocal.properties:\r\n\r\n    username=test123\r\n    password=abcd1234\r\n\r\nbuild.gradle\r\n\r\n    android {\r\n        ...\r\n        defaultConfig {\r\n            ...\r\n            Properties properties = new Properties()\r\n            properties.load(project.rootProject.file(&#39;local.properties&#39;).newDataInputStream())\r\n            buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot; + properties.getProperty(&#39;username&#39;) + &quot;\\&quot;&quot;\r\n            buildConfigField &quot;String&quot;, &quot;PASSWORD&quot;, &quot;\\&quot;&quot; + properties.getProperty(&#39;password&#39;) + &quot;\\&quot;&quot;\r\n        }\r\n    }\r\n\r\nJava:\r\n\r\n    String userName = BuildConfig.USERNAME;","title":"How to read local.properties android in java files","body":"<p>Here's a variant of the other solutions, stripped down to the essentials:</p>\n<p>local.properties:</p>\n<pre><code>username=test123\npassword=abcd1234\n</code></pre>\n<p>build.gradle</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        Properties properties = new Properties()\n        properties.load(project.rootProject.file('local.properties').newDataInputStream())\n        buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot; + properties.getProperty('username') + &quot;\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;PASSWORD&quot;, &quot;\\&quot;&quot; + properties.getProperty('password') + &quot;\\&quot;&quot;\n    }\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>String userName = BuildConfig.USERNAME;\n</code></pre>\n"}],"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9146,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1675599931,"creation_date":1440071203,"question_id":32117413,"body_markdown":"I want to add custom fields in `local.properties` like\r\n```\r\ndebug.username=test123\r\ndebug.password=abcd1234\r\n```\r\ncan add `.properties` files in assets folder and read that easily. \r\n    \r\n    Resources resources = context.getResources();\r\n    AssetManager assetManager = resources.getAssets();\r\n    Properties properties = null;        \r\n    InputStream inputStream = assetManager.open(fileName);\r\n    properties = new Properties();\r\n    properties.load(inputStream);\r\n\r\nBut don&#39;t want to do this. \r\nAs i want every team member of our to use `local.properties` to specify there custom attribute. which is not the part of version control system.\r\n\r\nSo how to &lt;b&gt;read `local.properties` placed in the root folder of gradle based android project in java files at runtime&lt;/b&gt;?\r\n","title":"How to read local.properties android in java files","body":"<p>I want to add custom fields in <code>local.properties</code> like</p>\n<pre><code>debug.username=test123\ndebug.password=abcd1234\n</code></pre>\n<p>can add <code>.properties</code> files in assets folder and read that easily.</p>\n<pre><code>Resources resources = context.getResources();\nAssetManager assetManager = resources.getAssets();\nProperties properties = null;        \nInputStream inputStream = assetManager.open(fileName);\nproperties = new Properties();\nproperties.load(inputStream);\n</code></pre>\n<p>But don't want to do this.\nAs i want every team member of our to use <code>local.properties</code> to specify there custom attribute. which is not the part of version control system.</p>\n<p>So how to <b>read <code>local.properties</code> placed in the root folder of gradle based android project in java files at runtime</b>?</p>\n"},{"tags":["java","android","android-studio","google-maps","gps"],"owner":{"account_id":1185082,"reputation":185,"user_id":1159226,"display_name":"Rasool Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675599709,"creation_date":1675599709,"question_id":75352178,"body_markdown":"I&#39;m developing a taxi application. The only problem is my marker doesn&#39;t update it&#39;s location screamingly on mapview. After some debugging I noticed that the listener named onLocationChanged is never called!!!\r\n\r\nThe idea is to view a marker on mapview to view driver&#39;s location and track is own location while driver. But, the problem is his marker never changes!.\r\n\r\nHere is my code:\r\n\r\n    public class HomeFragment extends FragmentManagePermission implements OnMapReadyCallback, DirectionCallback, Animation.AnimationListener, GoogleApiClient.ConnectionCallbacks,\r\n        GoogleApiClient.OnConnectionFailedListener,\r\n        LocationListener {\r\n    private final static int CONNECTION_FAILURE_RESOLUTION_REQUEST = 9000;\r\n    public String NETWORK;\r\n    public String ERROR = &quot;حدث خطأ&quot;;\r\n    public String TRYAGAIN;\r\n    Boolean flag = false;\r\n    GoogleMap myMap;\r\n    ImageView current_location, clear;\r\n    MapView mMapView;\r\n    int i = 0;\r\n    String result = &quot;&quot;;\r\n    Animation animFadeIn, animFadeOut;\r\n    String TAG = &quot;home&quot;;\r\n    LinearLayout linear_request;\r\n    String permissionAsk[] = {\r\n            PermissionUtils.Manifest_CAMERA,\r\n            PermissionUtils.Manifest_WRITE_EXTERNAL_STORAGE,\r\n            PermissionUtils.Manifest_READ_EXTERNAL_STORAGE,\r\n            PermissionUtils.Manifest_ACCESS_FINE_LOCATION,\r\n            PermissionUtils.Manifest_ACCESS_COARSE_LOCATION\r\n    };\r\n    CardView rides, earnings;\r\n    private String driver_id = &quot;&quot;;\r\n    private String cost = &quot;&quot;;\r\n    private String unit = &quot;&quot;;\r\n    private GoogleApiClient mGoogleApiClient;\r\n    private LocationRequest mLocationRequest;\r\n    private Double currentLatitude;\r\n    private Double currentLongitude;\r\n    private View rootView;\r\n    private String check = &quot;&quot;;\r\n    private String drivername = &quot;&quot;;\r\n    private Marker my_marker;\r\n    private boolean isShown = true;\r\n\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        super.onDetach();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        fusedLocationProviderClient = new FusedLocationProviderClient(requireContext());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        NETWORK = getString(R.string.network_not_available);\r\n        TRYAGAIN = getString(R.string.tryagian);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        try {\r\n            rootView = inflater.inflate(R.layout.home_fragment, container, false);\r\n            // globatTitle = &quot;Home&quot;;\r\n            ((HomeActivity) getActivity()).fontToTitleBar(getString(R.string.home));\r\n            bindView(savedInstanceState);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                askCompactPermissions(permissionAsk, new PermissionResult() {\r\n                    @Override\r\n                    public void permissionGranted() {\r\n                        if (!GPSEnable()) {\r\n                            tunonGps();\r\n                        } else {\r\n                            getCurrentlOcation();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void permissionDenied() {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void permissionForeverDenied() {\r\n                        openSettingsApp(getActivity());\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                if (!GPSEnable()) {\r\n                    tunonGps();\r\n                } else {\r\n                    getCurrentlOcation();\r\n                }\r\n\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n            Log.e(&quot;tag&quot;, &quot;Inflate exception   &quot; + e.toString());\r\n        }\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == 1000) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                String result = data.getStringExtra(&quot;result&quot;);\r\n                getCurrentlOcation();\r\n            }\r\n            if (resultCode == Activity.RESULT_CANCELED) {\r\n                //Write your code if there&#39;s no result\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        try {\r\n            if (getActivity() != null &amp;&amp; mMapView != null) {\r\n                mMapView.onPause();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                if (mGoogleApiClient.isConnected()) {\r\n                    LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\r\n                    mGoogleApiClient.disconnect();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onDestroy();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onSaveInstanceState(outState);\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onLowMemory();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onStop();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                mGoogleApiClient.disconnect();\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onResume();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                mGoogleApiClient.connect();\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        myMap = googleMap;\r\n        myMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\r\n            @Override\r\n            public View getInfoWindow(Marker marker) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public View getInfoContents(final Marker marker) {\r\n                View v = null;\r\n                if (getActivity() != null) {\r\n                    v = getActivity().getLayoutInflater().inflate(R.layout.view_custom_marker, null);\r\n\r\n                    TextView title = (TextView) v.findViewById(R.id.t);\r\n                    TextView t1 = (TextView) v.findViewById(R.id.t1);\r\n                    TextView t2 = (TextView) v.findViewById(R.id.t2);\r\n                    Typeface font = Typeface.createFromAsset(getActivity().getAssets(), &quot;font/AvenirLTStd_Medium.otf&quot;);\r\n                    t1.setTypeface(font);\r\n                    t2.setTypeface(font);\r\n\r\n                    String name = marker.getTitle();\r\n                    title.setText(name);\r\n                    String info = marker.getSnippet();\r\n                    t1.setText(info);\r\n                    driver_id = (String) marker.getTag();\r\n                    drivername = marker.getTitle();\r\n                }\r\n\r\n                return v;\r\n\r\n            }\r\n        });\r\n\r\n\r\n        if (myMap != null) {\r\n            tunonGps();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDirectionSuccess(Direction direction, String rawBody) {\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDirectionFailure(Throwable t) {\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAnimationStart(Animation animation) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAnimationEnd(Animation animation) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAnimationRepeat(Animation animation) {\r\n\r\n    }\r\n\r\n    public void bindView(Bundle savedInstanceState) {\r\n\r\n        MapsInitializer.initialize(this.getActivity());\r\n        mMapView = (MapView) rootView.findViewById(R.id.mapview);\r\n        mMapView.onCreate(savedInstanceState);\r\n\r\n        mMapView.getMapAsync(this);\r\n        // load animations\r\n        animFadeIn = AnimationUtils.loadAnimation(getActivity(),\r\n                R.anim.dialogue_scale_anim_open);\r\n        animFadeOut = AnimationUtils.loadAnimation(getActivity(),\r\n                R.anim.dialogue_scale_anim_exit);\r\n        animFadeIn.setAnimationListener(this);\r\n        animFadeOut.setAnimationListener(this);\r\n\r\n        rides = (CardView) rootView.findViewById(R.id.cardview_totalride);\r\n        earnings = (CardView) rootView.findViewById(R.id.earnings);\r\n\r\n        Utils.overrideFonts(getActivity(), rootView);\r\n        getEarningInfo();\r\n    }\r\n\r\n    public void getEarningInfo() {\r\n        final ProgressDialog progressDialog = new ProgressDialog(getActivity());\r\n        progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\r\n        progressDialog.setCancelable(true);\r\n        progressDialog.show();\r\n        RequestParams params = new RequestParams();\r\n        if (Utils.haveNetworkConnection(getActivity())) {\r\n            params.put(&quot;driver_id&quot;, SessionManager.getUserId());\r\n        }\r\n        Server.setHeader(SessionManager.getKEY());\r\n        Server.get(Server.EARN, params, new JsonHttpResponseHandler() {\r\n\r\n            @Override\r\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                super.onSuccess(statusCode, headers, response);\r\n                Log.e(&quot;earn&quot;, response.toString());\r\n                try {\r\n                    if (response.has(&quot;status&quot;) &amp;&amp; response.getString(&quot;status&quot;).equalsIgnoreCase(&quot;success&quot;)) {\r\n                        if (response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).length() != 0) {\r\n                            Gson gson = new Gson();\r\n\r\n                            PendingRequestPojo pojo = gson.fromJson(response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).toString(), PendingRequestPojo.class);\r\n                            ((HomeActivity) getActivity()).setPojo(pojo);\r\n                            ((HomeActivity) getActivity()).setStatus(pojo, &quot;&quot;, false);\r\n\r\n                               }\r\n\r\n\r\n                        String today_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;today_earning&quot;);\r\n                        String week_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;week_earning&quot;);\r\n                        String total_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;total_earning&quot;);\r\n                        String total_rides = response.getJSONObject(&quot;data&quot;).getString(&quot;total_rides&quot;);\r\n\r\n                        try {\r\n                            String unit = response.getJSONObject(&quot;data&quot;).getString(&quot;unit&quot;);\r\n\r\n                            //SessionManager.getInstance().setUnit(unit);\r\n                        } catch (JSONException e) {\r\n\r\n                        }\r\n\r\n                        TextView textView_today = (TextView) rootView.findViewById(R.id.txt_todayearning);\r\n                        TextView textView_week = (TextView) rootView.findViewById(R.id.txt_weekearning);\r\n                        TextView textView_overall = (TextView) rootView.findViewById(R.id.txt_overallearning);\r\n                        TextView textView_totalride = (TextView) rootView.findViewById(R.id.txt_total_ridecount);\r\n                        textView_today.setText(today_earning);\r\n                        textView_week.setText(week_earning);\r\n                        textView_overall.setText(total_earning);\r\n                        textView_totalride.setText(total_rides);\r\n                    } else {\r\n                        Toast.makeText(getActivity(), response.getString(&quot;data&quot;), Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                } catch (JSONException e) {\r\n                    Toast.makeText(getActivity(), getString(R.string.error_occurred), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFinish() {\r\n                super.onFinish();\r\n                if (progressDialog.isShowing())\r\n                    progressDialog.dismiss();\r\n            }\r\n        });\r\n    }\r\n    @SuppressWarnings({&quot;MissingPermission&quot;})\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        try {\r\n            android.location.Location location = LocationServices.FusedLocationApi.getLastLocation(mGoogleApiClient);\r\n            if (location == null) {\r\n                LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\r\n            } else {\r\n                currentLatitude = location.getLatitude();\r\n                currentLongitude = location.getLongitude();\r\n                if (myMap != null) {\r\n                    myMap.clear();\r\n                    my_marker = myMap.addMarker(new MarkerOptions().position(new LatLng(currentLatitude, currentLongitude)).title(&quot;Your are here.&quot;));\r\n                    my_marker.showInfoWindow();\r\n                    CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\r\n                    myMap.animateCamera(cameraUpdate);\r\n                    myMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                        @Override\r\n                        public void onMapClick(LatLng latLng) {\r\n                            if (isShown) {\r\n                                isShown = false;\r\n                                rides.startAnimation(animFadeOut);\r\n                                rides.setVisibility(View.GONE);\r\n                                earnings.startAnimation(animFadeOut);\r\n                                earnings.setVisibility(View.GONE);\r\n                            } else {\r\n                                isShown = true;\r\n                                rides.setVisibility(View.VISIBLE);\r\n                                rides.startAnimation(animFadeIn);\r\n                                earnings.setVisibility(View.VISIBLE);\r\n                                earnings.startAnimation(animFadeIn);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                setCurrentLocation(currentLatitude, currentLongitude);\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n    public void setCurrentLocation(final Double lat, final Double log) {\r\n        try {\r\n            my_marker.setPosition(new LatLng(lat, log));\r\n            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\r\n            myMap.animateCamera(cameraUpdate);\r\n            RequestParams par = new RequestParams();\r\n            Server.setHeader(SessionManager.getKEY());\r\n            par.put(&quot;user_id&quot;, SessionManager.getUserId());\r\n            par.add(&quot;latitude&quot;, String.valueOf(currentLatitude));\r\n            par.add(&quot;longitude&quot;, String.valueOf(currentLongitude));\r\n            Server.post(Server.UPDATE, par, new JsonHttpResponseHandler() {\r\n                @Override\r\n                public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                    super.onSuccess(statusCode, headers, response);\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n    }\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n        if (connectionResult.hasResolution()) {\r\n            try {\r\n                connectionResult.startResolutionForResult(getActivity(), CONNECTION_FAILURE_RESOLUTION_REQUEST);\r\n            } catch (IntentSender.SendIntentException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onLocationChanged(android.location.Location location) {\r\n        if (location != null) {\r\n            currentLatitude = location.getLatitude();\r\n            currentLongitude = location.getLongitude();\r\n            if (!currentLatitude.equals(0.0) &amp;&amp; !currentLongitude.equals(0.0)) {\r\n                setCurrentLocation(currentLatitude, currentLongitude);\r\n            } else {\r\n                Toast.makeText(getActivity(), getString(R.string.couldnt_get_location), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n    public void getCurrentlOcation() {\r\n        mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(LocationServices.API)\r\n                .build();\r\n        mLocationRequest = LocationRequest.create();\r\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        mLocationRequest.setInterval(30 * 1000);\r\n        mLocationRequest.setFastestInterval(5 * 1000);\r\n    }\r\n    public void tunonGps() {\r\n        if (mGoogleApiClient == null) {\r\n            mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\r\n                    .addApi(LocationServices.API).addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this).build();\r\n            mGoogleApiClient.connect();\r\n            mLocationRequest = LocationRequest.create();\r\n            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            mLocationRequest.setInterval(30 * 1000);\r\n            mLocationRequest.setFastestInterval(5 * 1000);\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                    .addLocationRequest(mLocationRequest);\r\n            // **************************\r\n            builder.setAlwaysShow(true); // this is the key ingredient\r\n            // **************************\r\n            PendingResult&lt;LocationSettingsResult&gt; result = LocationServices.SettingsApi\r\n                    .checkLocationSettings(mGoogleApiClient, builder.build());\r\n            result.setResultCallback(new ResultCallback&lt;LocationSettingsResult&gt;() {\r\n                @Override\r\n                public void onResult(LocationSettingsResult result) {\r\n                    final Status status = result.getStatus();\r\n                    final LocationSettingsStates state = result\r\n                            .getLocationSettingsStates();\r\n                    switch (status.getStatusCode()) {\r\n                        case LocationSettingsStatusCodes.SUCCESS:\r\n                            // All location settings are satisfied. The client can\r\n                            // initialize location\r\n                            // requests here.\r\n                            getCurrentlOcation();\r\n                            break;\r\n                        case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\r\n                            // Location settings are not satisfied. But could be\r\n                            // fixed by showing the user\r\n                            // a dialog.\r\n                            try {\r\n                                // Show the dialog by calling\r\n                                // startResolutionForResult(),\r\n                                // and checkky the result in onActivityResult().\r\n                                status.startResolutionForResult(getActivity(), 1000);\r\n                            } catch (IntentSender.SendIntentException e) {\r\n                                // Ignore the error.\r\n                            }\r\n                            break;\r\n                        case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\r\n                            // Location settings are not satisfied. However, we have\r\n                            // no way to fix the\r\n                            // settings so we won&#39;t show the dialog.\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public Boolean GPSEnable() {\r\n        GPSTracker gpsTracker = new GPSTracker(getActivity());\r\n        if (gpsTracker.canGetLocation()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nWhat&#39;s the problem with my code? ","title":"OnLocationChanged never called android studio LocationListener GoogleApiClient","body":"<p>I'm developing a taxi application. The only problem is my marker doesn't update it's location screamingly on mapview. After some debugging I noticed that the listener named onLocationChanged is never called!!!</p>\n<p>The idea is to view a marker on mapview to view driver's location and track is own location while driver. But, the problem is his marker never changes!.</p>\n<p>Here is my code:</p>\n<pre><code>public class HomeFragment extends FragmentManagePermission implements OnMapReadyCallback, DirectionCallback, Animation.AnimationListener, GoogleApiClient.ConnectionCallbacks,\n    GoogleApiClient.OnConnectionFailedListener,\n    LocationListener {\nprivate final static int CONNECTION_FAILURE_RESOLUTION_REQUEST = 9000;\npublic String NETWORK;\npublic String ERROR = &quot;حدث خطأ&quot;;\npublic String TRYAGAIN;\nBoolean flag = false;\nGoogleMap myMap;\nImageView current_location, clear;\nMapView mMapView;\nint i = 0;\nString result = &quot;&quot;;\nAnimation animFadeIn, animFadeOut;\nString TAG = &quot;home&quot;;\nLinearLayout linear_request;\nString permissionAsk[] = {\n        PermissionUtils.Manifest_CAMERA,\n        PermissionUtils.Manifest_WRITE_EXTERNAL_STORAGE,\n        PermissionUtils.Manifest_READ_EXTERNAL_STORAGE,\n        PermissionUtils.Manifest_ACCESS_FINE_LOCATION,\n        PermissionUtils.Manifest_ACCESS_COARSE_LOCATION\n};\nCardView rides, earnings;\nprivate String driver_id = &quot;&quot;;\nprivate String cost = &quot;&quot;;\nprivate String unit = &quot;&quot;;\nprivate GoogleApiClient mGoogleApiClient;\nprivate LocationRequest mLocationRequest;\nprivate Double currentLatitude;\nprivate Double currentLongitude;\nprivate View rootView;\nprivate String check = &quot;&quot;;\nprivate String drivername = &quot;&quot;;\nprivate Marker my_marker;\nprivate boolean isShown = true;\n\nprivate FusedLocationProviderClient fusedLocationProviderClient;\n\n@Override\npublic void onDetach() {\n    super.onDetach();\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    fusedLocationProviderClient = new FusedLocationProviderClient(requireContext());\n\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    NETWORK = getString(R.string.network_not_available);\n    TRYAGAIN = getString(R.string.tryagian);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n    try {\n        rootView = inflater.inflate(R.layout.home_fragment, container, false);\n        // globatTitle = &quot;Home&quot;;\n        ((HomeActivity) getActivity()).fontToTitleBar(getString(R.string.home));\n        bindView(savedInstanceState);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            askCompactPermissions(permissionAsk, new PermissionResult() {\n                @Override\n                public void permissionGranted() {\n                    if (!GPSEnable()) {\n                        tunonGps();\n                    } else {\n                        getCurrentlOcation();\n                    }\n                }\n\n                @Override\n                public void permissionDenied() {\n\n                }\n\n                @Override\n                public void permissionForeverDenied() {\n                    openSettingsApp(getActivity());\n                }\n            });\n\n        } else {\n            if (!GPSEnable()) {\n                tunonGps();\n            } else {\n                getCurrentlOcation();\n            }\n\n        }\n\n    } catch (Exception e) {\n\n        Log.e(&quot;tag&quot;, &quot;Inflate exception   &quot; + e.toString());\n    }\n\n    return rootView;\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == 1000) {\n        if (resultCode == Activity.RESULT_OK) {\n            String result = data.getStringExtra(&quot;result&quot;);\n            getCurrentlOcation();\n        }\n        if (resultCode == Activity.RESULT_CANCELED) {\n            //Write your code if there's no result\n        }\n    }\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    try {\n        if (getActivity() != null &amp;&amp; mMapView != null) {\n            mMapView.onPause();\n        }\n        if (mGoogleApiClient != null) {\n            if (mGoogleApiClient.isConnected()) {\n                LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\n                mGoogleApiClient.disconnect();\n            }\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    try {\n        if (mMapView != null) {\n            mMapView.onDestroy();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n\n@Override\npublic void onSaveInstanceState(Bundle outState) {\n    super.onSaveInstanceState(outState);\n    try {\n        if (mMapView != null) {\n            mMapView.onSaveInstanceState(outState);\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onLowMemory() {\n    super.onLowMemory();\n    try {\n        if (mMapView != null) {\n            mMapView.onLowMemory();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    try {\n        if (mMapView != null) {\n            mMapView.onStop();\n        }\n        if (mGoogleApiClient != null) {\n            mGoogleApiClient.disconnect();\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    try {\n        if (mMapView != null) {\n            mMapView.onResume();\n        }\n        if (mGoogleApiClient != null) {\n            mGoogleApiClient.connect();\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    myMap = googleMap;\n    myMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\n        @Override\n        public View getInfoWindow(Marker marker) {\n            return null;\n        }\n\n        @Override\n        public View getInfoContents(final Marker marker) {\n            View v = null;\n            if (getActivity() != null) {\n                v = getActivity().getLayoutInflater().inflate(R.layout.view_custom_marker, null);\n\n                TextView title = (TextView) v.findViewById(R.id.t);\n                TextView t1 = (TextView) v.findViewById(R.id.t1);\n                TextView t2 = (TextView) v.findViewById(R.id.t2);\n                Typeface font = Typeface.createFromAsset(getActivity().getAssets(), &quot;font/AvenirLTStd_Medium.otf&quot;);\n                t1.setTypeface(font);\n                t2.setTypeface(font);\n\n                String name = marker.getTitle();\n                title.setText(name);\n                String info = marker.getSnippet();\n                t1.setText(info);\n                driver_id = (String) marker.getTag();\n                drivername = marker.getTitle();\n            }\n\n            return v;\n\n        }\n    });\n\n\n    if (myMap != null) {\n        tunonGps();\n    }\n}\n\n\n@Override\npublic void onDirectionSuccess(Direction direction, String rawBody) {\n\n\n}\n\n@Override\npublic void onDirectionFailure(Throwable t) {\n\n}\n\n\n@Override\npublic void onAnimationStart(Animation animation) {\n\n}\n\n@Override\npublic void onAnimationEnd(Animation animation) {\n\n}\n\n@Override\npublic void onAnimationRepeat(Animation animation) {\n\n}\n\npublic void bindView(Bundle savedInstanceState) {\n\n    MapsInitializer.initialize(this.getActivity());\n    mMapView = (MapView) rootView.findViewById(R.id.mapview);\n    mMapView.onCreate(savedInstanceState);\n\n    mMapView.getMapAsync(this);\n    // load animations\n    animFadeIn = AnimationUtils.loadAnimation(getActivity(),\n            R.anim.dialogue_scale_anim_open);\n    animFadeOut = AnimationUtils.loadAnimation(getActivity(),\n            R.anim.dialogue_scale_anim_exit);\n    animFadeIn.setAnimationListener(this);\n    animFadeOut.setAnimationListener(this);\n\n    rides = (CardView) rootView.findViewById(R.id.cardview_totalride);\n    earnings = (CardView) rootView.findViewById(R.id.earnings);\n\n    Utils.overrideFonts(getActivity(), rootView);\n    getEarningInfo();\n}\n\npublic void getEarningInfo() {\n    final ProgressDialog progressDialog = new ProgressDialog(getActivity());\n    progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\n    progressDialog.setCancelable(true);\n    progressDialog.show();\n    RequestParams params = new RequestParams();\n    if (Utils.haveNetworkConnection(getActivity())) {\n        params.put(&quot;driver_id&quot;, SessionManager.getUserId());\n    }\n    Server.setHeader(SessionManager.getKEY());\n    Server.get(Server.EARN, params, new JsonHttpResponseHandler() {\n\n        @Override\n        public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n            super.onSuccess(statusCode, headers, response);\n            Log.e(&quot;earn&quot;, response.toString());\n            try {\n                if (response.has(&quot;status&quot;) &amp;&amp; response.getString(&quot;status&quot;).equalsIgnoreCase(&quot;success&quot;)) {\n                    if (response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).length() != 0) {\n                        Gson gson = new Gson();\n\n                        PendingRequestPojo pojo = gson.fromJson(response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).toString(), PendingRequestPojo.class);\n                        ((HomeActivity) getActivity()).setPojo(pojo);\n                        ((HomeActivity) getActivity()).setStatus(pojo, &quot;&quot;, false);\n\n                           }\n\n\n                    String today_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;today_earning&quot;);\n                    String week_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;week_earning&quot;);\n                    String total_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;total_earning&quot;);\n                    String total_rides = response.getJSONObject(&quot;data&quot;).getString(&quot;total_rides&quot;);\n\n                    try {\n                        String unit = response.getJSONObject(&quot;data&quot;).getString(&quot;unit&quot;);\n\n                        //SessionManager.getInstance().setUnit(unit);\n                    } catch (JSONException e) {\n\n                    }\n\n                    TextView textView_today = (TextView) rootView.findViewById(R.id.txt_todayearning);\n                    TextView textView_week = (TextView) rootView.findViewById(R.id.txt_weekearning);\n                    TextView textView_overall = (TextView) rootView.findViewById(R.id.txt_overallearning);\n                    TextView textView_totalride = (TextView) rootView.findViewById(R.id.txt_total_ridecount);\n                    textView_today.setText(today_earning);\n                    textView_week.setText(week_earning);\n                    textView_overall.setText(total_earning);\n                    textView_totalride.setText(total_rides);\n                } else {\n                    Toast.makeText(getActivity(), response.getString(&quot;data&quot;), Toast.LENGTH_LONG).show();\n\n                }\n            } catch (JSONException e) {\n                Toast.makeText(getActivity(), getString(R.string.error_occurred), Toast.LENGTH_LONG).show();\n            }\n        }\n        @Override\n        public void onFinish() {\n            super.onFinish();\n            if (progressDialog.isShowing())\n                progressDialog.dismiss();\n        }\n    });\n}\n@SuppressWarnings({&quot;MissingPermission&quot;})\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n    try {\n        android.location.Location location = LocationServices.FusedLocationApi.getLastLocation(mGoogleApiClient);\n        if (location == null) {\n            LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\n        } else {\n            currentLatitude = location.getLatitude();\n            currentLongitude = location.getLongitude();\n            if (myMap != null) {\n                myMap.clear();\n                my_marker = myMap.addMarker(new MarkerOptions().position(new LatLng(currentLatitude, currentLongitude)).title(&quot;Your are here.&quot;));\n                my_marker.showInfoWindow();\n                CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\n                myMap.animateCamera(cameraUpdate);\n                myMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                    @Override\n                    public void onMapClick(LatLng latLng) {\n                        if (isShown) {\n                            isShown = false;\n                            rides.startAnimation(animFadeOut);\n                            rides.setVisibility(View.GONE);\n                            earnings.startAnimation(animFadeOut);\n                            earnings.setVisibility(View.GONE);\n                        } else {\n                            isShown = true;\n                            rides.setVisibility(View.VISIBLE);\n                            rides.startAnimation(animFadeIn);\n                            earnings.setVisibility(View.VISIBLE);\n                            earnings.startAnimation(animFadeIn);\n                        }\n                    }\n                });\n            }\n            setCurrentLocation(currentLatitude, currentLongitude);\n        }\n    } catch (Exception e) {\n    }\n}\npublic void setCurrentLocation(final Double lat, final Double log) {\n    try {\n        my_marker.setPosition(new LatLng(lat, log));\n        CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\n        myMap.animateCamera(cameraUpdate);\n        RequestParams par = new RequestParams();\n        Server.setHeader(SessionManager.getKEY());\n        par.put(&quot;user_id&quot;, SessionManager.getUserId());\n        par.add(&quot;latitude&quot;, String.valueOf(currentLatitude));\n        par.add(&quot;longitude&quot;, String.valueOf(currentLongitude));\n        Server.post(Server.UPDATE, par, new JsonHttpResponseHandler() {\n            @Override\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n                super.onSuccess(statusCode, headers, response);\n            }\n        });\n    } catch (Exception e) {\n    }\n}\n@Override\npublic void onConnectionSuspended(int i) {\n}\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n    if (connectionResult.hasResolution()) {\n        try {\n            connectionResult.startResolutionForResult(getActivity(), CONNECTION_FAILURE_RESOLUTION_REQUEST);\n        } catch (IntentSender.SendIntentException e) {\n            e.printStackTrace();\n        }\n    }\n}\n@Override\npublic void onLocationChanged(android.location.Location location) {\n    if (location != null) {\n        currentLatitude = location.getLatitude();\n        currentLongitude = location.getLongitude();\n        if (!currentLatitude.equals(0.0) &amp;&amp; !currentLongitude.equals(0.0)) {\n            setCurrentLocation(currentLatitude, currentLongitude);\n        } else {\n            Toast.makeText(getActivity(), getString(R.string.couldnt_get_location), Toast.LENGTH_LONG).show();\n        }\n    }\n}\npublic void getCurrentlOcation() {\n    mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(LocationServices.API)\n            .build();\n    mLocationRequest = LocationRequest.create();\n    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    mLocationRequest.setInterval(30 * 1000);\n    mLocationRequest.setFastestInterval(5 * 1000);\n}\npublic void tunonGps() {\n    if (mGoogleApiClient == null) {\n        mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\n                .addApi(LocationServices.API).addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this).build();\n        mGoogleApiClient.connect();\n        mLocationRequest = LocationRequest.create();\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        mLocationRequest.setInterval(30 * 1000);\n        mLocationRequest.setFastestInterval(5 * 1000);\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                .addLocationRequest(mLocationRequest);\n        // **************************\n        builder.setAlwaysShow(true); // this is the key ingredient\n        // **************************\n        PendingResult&lt;LocationSettingsResult&gt; result = LocationServices.SettingsApi\n                .checkLocationSettings(mGoogleApiClient, builder.build());\n        result.setResultCallback(new ResultCallback&lt;LocationSettingsResult&gt;() {\n            @Override\n            public void onResult(LocationSettingsResult result) {\n                final Status status = result.getStatus();\n                final LocationSettingsStates state = result\n                        .getLocationSettingsStates();\n                switch (status.getStatusCode()) {\n                    case LocationSettingsStatusCodes.SUCCESS:\n                        // All location settings are satisfied. The client can\n                        // initialize location\n                        // requests here.\n                        getCurrentlOcation();\n                        break;\n                    case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\n                        // Location settings are not satisfied. But could be\n                        // fixed by showing the user\n                        // a dialog.\n                        try {\n                            // Show the dialog by calling\n                            // startResolutionForResult(),\n                            // and checkky the result in onActivityResult().\n                            status.startResolutionForResult(getActivity(), 1000);\n                        } catch (IntentSender.SendIntentException e) {\n                            // Ignore the error.\n                        }\n                        break;\n                    case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\n                        // Location settings are not satisfied. However, we have\n                        // no way to fix the\n                        // settings so we won't show the dialog.\n                        break;\n                }\n            }\n        });\n    }\n}\npublic Boolean GPSEnable() {\n    GPSTracker gpsTracker = new GPSTracker(getActivity());\n    if (gpsTracker.canGetLocation()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>What's the problem with my code?</p>\n"},{"tags":["java","android","android-studio","admob"],"owner":{"account_id":27708047,"reputation":1,"user_id":21151280,"display_name":"labmember001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675598906,"creation_date":1675598818,"question_id":75352091,"body_markdown":"I got ads limit on my Account 1, so I want to use another admob account in my app. The hard part is that I want to use both accounts and I switch between accounts using remote config. That includes changing APP ID in AndroidManifest.xml and replacing ad unit IDs in my activity. Is it theoretically/practically possible? If yes, how can I do that? What&#39;s admob&#39;s policy regarding this.\r\n\r\nI tried changing app ID using this:\r\n\r\n```\r\n`// Retrieve the boolean remote config parameter from Firebase Remote Config\r\nBoolean useAdmobAppId1 = FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_app_id_1&quot;);\r\n\r\n// Determine which Admob App ID to use based on the value of the remote config parameter\r\nString admobAppId;\r\nif (useAdmobAppId1) {\r\nadmobAppId = &quot;ca-app-pub-496948190xxxxxxx~3460231xxx&quot;;\r\n} else {\r\nadmobAppId = &quot;ca-app-pub-659546309xxxxxxx~6818220xxx&quot;;\r\n}\r\n\r\n// Update the AndroidManifest.xml file with the determined Admob App ID\r\ntry {\r\nApplicationInfo ai = getPackageManager().getApplicationInfo(getPackageName(), PackageManager.GET_META_DATA);\r\nBundle bundle = ai.metaData;\r\nbundle.putString(&quot;com.google.android.gms.ads.APPLICATION_ID&quot;, admobAppId);\r\n} catch (PackageManager.NameNotFoundException e) {\r\nLog.e(&quot;AdmobAppIdUpdater&quot;, &quot;Failed to update Admob App ID in AndroidManifest.xml&quot;, e);\r\n}\r\n```\r\n\r\nand also tried doing this:\r\n```MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n@Override\r\npublic void onInitializationComplete(InitializationStatus initializationStatus) {\r\nupdateAdUnitIds();\r\n}\r\n});\r\n\r\nprivate void updateAdUnitIds() {\r\nif (FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_account_1&quot;)) {\r\nAD_UNIT_ID = getString(R.string.admob_account_1_rewarded_video_ad_unit_id);\r\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_1_rewarded_int_ad_unit_id);\r\n} else {\r\nAD_UNIT_ID = getString(R.string.admob_account_2_rewarded_video_ad_unit_id);\r\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_2_rewarded_int_ad_unit_id);\r\n}}```","title":"switch between two admob accounts","body":"<p>I got ads limit on my Account 1, so I want to use another admob account in my app. The hard part is that I want to use both accounts and I switch between accounts using remote config. That includes changing APP ID in AndroidManifest.xml and replacing ad unit IDs in my activity. Is it theoretically/practically possible? If yes, how can I do that? What's admob's policy regarding this.</p>\n<p>I tried changing app ID using this:</p>\n<pre><code>`// Retrieve the boolean remote config parameter from Firebase Remote Config\nBoolean useAdmobAppId1 = FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_app_id_1&quot;);\n\n// Determine which Admob App ID to use based on the value of the remote config parameter\nString admobAppId;\nif (useAdmobAppId1) {\nadmobAppId = &quot;ca-app-pub-496948190xxxxxxx~3460231xxx&quot;;\n} else {\nadmobAppId = &quot;ca-app-pub-659546309xxxxxxx~6818220xxx&quot;;\n}\n\n// Update the AndroidManifest.xml file with the determined Admob App ID\ntry {\nApplicationInfo ai = getPackageManager().getApplicationInfo(getPackageName(), PackageManager.GET_META_DATA);\nBundle bundle = ai.metaData;\nbundle.putString(&quot;com.google.android.gms.ads.APPLICATION_ID&quot;, admobAppId);\n} catch (PackageManager.NameNotFoundException e) {\nLog.e(&quot;AdmobAppIdUpdater&quot;, &quot;Failed to update Admob App ID in AndroidManifest.xml&quot;, e);\n}\n</code></pre>\n<p>and also tried doing this:</p>\n<pre><code>@Override\npublic void onInitializationComplete(InitializationStatus initializationStatus) {\nupdateAdUnitIds();\n}\n});\n\nprivate void updateAdUnitIds() {\nif (FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_account_1&quot;)) {\nAD_UNIT_ID = getString(R.string.admob_account_1_rewarded_video_ad_unit_id);\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_1_rewarded_int_ad_unit_id);\n} else {\nAD_UNIT_ID = getString(R.string.admob_account_2_rewarded_video_ad_unit_id);\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_2_rewarded_int_ad_unit_id);\n}}```\n</code></pre>\n"},{"tags":["java","rest","error-handling","jersey-2.0","exceptionmapper"],"answers":[{"comments":[{"owner":{"account_id":4746587,"reputation":8622,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"score":0,"creation_date":1517332647,"post_id":48526964,"comment_id":84049014,"body_markdown":"Maybe I did not explain my questions clearly. I already updated my post. Thanks","body":"Maybe I did not explain my questions clearly. I already updated my post. Thanks"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1517332892,"post_id":48526964,"comment_id":84049145,"body_markdown":"@BAE do you have try catch block, I don&#39;t see that in your code. If yes, then you need to build JSON response inside your catch block. If you are expecting this will done implicitly. Then you are wrong.","body":"@BAE do you have try catch block, I don&#39;t see that in your code. If yes, then you need to build JSON response inside your catch block. If you are expecting this will done implicitly. Then you are wrong."},{"owner":{"account_id":4746587,"reputation":8622,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"score":0,"creation_date":1517333146,"post_id":48526964,"comment_id":84049291,"body_markdown":"I think the parsing is done implicitly by jersey. and it did not reach my api codes.","body":"I think the parsing is done implicitly by jersey. and it did not reach my api codes."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1517333327,"post_id":48526964,"comment_id":84049404,"body_markdown":"@BAE Yes, jersey takes care of (de)serialization, depending on your POJO. If you wanted to ignore above exception in all cases. Then you can mark Ignorable.","body":"@BAE Yes, jersey takes care of (de)serialization, depending on your POJO. If you wanted to ignore above exception in all cases. Then you can mark Ignorable."}],"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517332231,"creation_date":1517332231,"answer_id":48526964,"question_id":48526488,"body_markdown":"&gt; Unrecognized field &quot;name1&quot; (class com.xxx.datatypes.DataType), not\r\n&gt; marked as ignorable (1 known properties: &quot;name&quot;])\r\n\r\nIf you look at the exception raised, it is quite clear that, your POJO class has property with name `name` not `name1`.\r\n\r\nAnd, you are trying to post your JSON with property name `name1`.\r\n\r\n    { &quot;name1&quot;: &quot;xxx&quot; }\r\n\r\nAnd, it wasn&#39;t recognized as `name1` wasn&#39;t defined instead `name`.\r\n\r\n    public class DataType {\r\n        @Column\r\n        private String name;\r\n    }\r\n\r\nAnd that is the reason , it works fine for you in other case, when you post JSON as\r\n\r\n    { &quot;name&quot;: &quot;xxx&quot; }","title":"how to map JSON parsing related errors to json response in jersey","body":"<blockquote>\n  <p>Unrecognized field \"name1\" (class com.xxx.datatypes.DataType), not\n  marked as ignorable (1 known properties: \"name\"])</p>\n</blockquote>\n\n<p>If you look at the exception raised, it is quite clear that, your POJO class has property with name <code>name</code> not <code>name1</code>.</p>\n\n<p>And, you are trying to post your JSON with property name <code>name1</code>.</p>\n\n<pre><code>{ \"name1\": \"xxx\" }\n</code></pre>\n\n<p>And, it wasn't recognized as <code>name1</code> wasn't defined instead <code>name</code>.</p>\n\n<pre><code>public class DataType {\n    @Column\n    private String name;\n}\n</code></pre>\n\n<p>And that is the reason , it works fine for you in other case, when you post JSON as</p>\n\n<pre><code>{ \"name\": \"xxx\" }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4746587,"reputation":8622,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"score":1,"creation_date":1517347348,"post_id":48530296,"comment_id":84056843,"body_markdown":"but after I added my own JsonMappingExceptionMapper, I can get the JSON response. I tried to map `JsonParseException` in mapper, it is not working. so, I am confused.","body":"but after I added my own JsonMappingExceptionMapper, I can get the JSON response. I tried to map <code>JsonParseException</code> in mapper, it is not working. so, I am confused."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1517353527,"post_id":48530296,"comment_id":84059448,"body_markdown":"Yeah, I&#39;m not sure about this.","body":"Yeah, I&#39;m not sure about this."},{"owner":{"account_id":10214393,"reputation":705,"user_id":7540535,"display_name":"NiYanchun"},"score":0,"creation_date":1607682221,"post_id":48530296,"comment_id":115354746,"body_markdown":"@BAE  may be the jersey&#39;s  `JsonParseExceptionMapper` shadows yours. It&#39;s random at the program start. see my answer.","body":"@BAE  may be the jersey&#39;s  <code>JsonParseExceptionMapper</code> shadows yours. It&#39;s random at the program start. see my answer."}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517345469,"creation_date":1517345469,"answer_id":48530296,"question_id":48526488,"body_markdown":"&gt;why my generic exception mapper cannot catch it.\r\n\r\nBecause the Jackson-JAXRS module already comes with [ExceptionMappers for Jackson exceptions](https://github.com/FasterXML/jackson-jaxrs-providers/tree/master/base/src/main/java/com/fasterxml/jackson/jaxrs/base).\r\n\r\n&gt;The json mapping exception mapper cannot map the following exception\r\n\r\nI didn&#39;t test this, but it most likely because it is not a _mapping_ exception, but a _parsing_ exception. Jackson has both `JsonParseException` and `JsonMappingException`. You can see in the previous link that Jackson comes with an ExceptionMapper for both `JsonMappingException` and `JsonParseException`. You are only overriding the mapper for `JsonMappingException`.","title":"how to map JSON parsing related errors to json response in jersey","body":"<blockquote>\n  <p>why my generic exception mapper cannot catch it.</p>\n</blockquote>\n\n<p>Because the Jackson-JAXRS module already comes with <a href=\"https://github.com/FasterXML/jackson-jaxrs-providers/tree/master/base/src/main/java/com/fasterxml/jackson/jaxrs/base\" rel=\"nofollow noreferrer\">ExceptionMappers for Jackson exceptions</a>.</p>\n\n<blockquote>\n  <p>The json mapping exception mapper cannot map the following exception</p>\n</blockquote>\n\n<p>I didn't test this, but it most likely because it is not a <em>mapping</em> exception, but a <em>parsing</em> exception. Jackson has both <code>JsonParseException</code> and <code>JsonMappingException</code>. You can see in the previous link that Jackson comes with an ExceptionMapper for both <code>JsonMappingException</code> and <code>JsonParseException</code>. You are only overriding the mapper for <code>JsonMappingException</code>.</p>\n"},{"tags":[],"owner":{"account_id":10214393,"reputation":705,"user_id":7540535,"display_name":"NiYanchun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607681868,"creation_date":1607681868,"answer_id":65249450,"question_id":48526488,"body_markdown":"\r\nI met the same issue, and I have solved it. I try to explain your question：\r\n\r\nBoth `JsonMappingException` and `JsonParseException` extend `JsonProcessingException`. And Jersey has defined `JsonMappingExceptionMapper` for `JsonMappingException` and `JsonParseExceptionMapper` for `JsonParseException`.\r\n\r\n1. If you define your own mapper for `JsonProcessingException` (or more wide exception mapper), it cannot catch `JsonMappingException` and `JsonParseException`, because these two exceptions have their own mapper. If they have not, your mapper can catch.\r\n2. If you define your own mapper(say `XxxJsonMappingExceptionMapper` for `JsonMappingException` and  `YyyJsonParseExceptionMapper` for  `JsonParseException`), you may find sometimes you can catch these exceptions, sometimes cannot, it depends your own mapper is working or jersey&#39;s mapper is working. **Now, you can add `@Priority(1)`(javax.annotation.Priority) to your mapper to make sure your mapper is working.**  see https://stackoverflow.com/questions/45478512/jackson-jsonparseexceptionmapper-and-jsonmappingexceptionmapper-shadows-custom-m.\r\n\r\n\r\nback to your question:\r\n\r\n1. Your generic exception mapper cannot catch it becasuse these exceptions has their own exception mapper(`JsonMappingExceptionMapper` and `JsonParseExceptionMapper`, they have a higher priority).\r\n2. You cannot catch the exception may because your own mapper is shadowed by the `JsonParseExceptionMapper`. Try to figure out by adding `@Priority(1)` to your own mapper","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>I met the same issue, and I have solved it. I try to explain your question：</p>\n<p>Both <code>JsonMappingException</code> and <code>JsonParseException</code> extend <code>JsonProcessingException</code>. And Jersey has defined <code>JsonMappingExceptionMapper</code> for <code>JsonMappingException</code> and <code>JsonParseExceptionMapper</code> for <code>JsonParseException</code>.</p>\n<ol>\n<li>If you define your own mapper for <code>JsonProcessingException</code> (or more wide exception mapper), it cannot catch <code>JsonMappingException</code> and <code>JsonParseException</code>, because these two exceptions have their own mapper. If they have not, your mapper can catch.</li>\n<li>If you define your own mapper(say <code>XxxJsonMappingExceptionMapper</code> for <code>JsonMappingException</code> and  <code>YyyJsonParseExceptionMapper</code> for  <code>JsonParseException</code>), you may find sometimes you can catch these exceptions, sometimes cannot, it depends your own mapper is working or jersey's mapper is working. <strong>Now, you can add <code>@Priority(1)</code>(javax.annotation.Priority) to your mapper to make sure your mapper is working.</strong>  see <a href=\"https://stackoverflow.com/questions/45478512/jackson-jsonparseexceptionmapper-and-jsonmappingexceptionmapper-shadows-custom-m\">Jackson JsonParseExceptionMapper and JsonMappingExceptionMapper shadows custom mapper</a>.</li>\n</ol>\n<p>back to your question:</p>\n<ol>\n<li>Your generic exception mapper cannot catch it becasuse these exceptions has their own exception mapper(<code>JsonMappingExceptionMapper</code> and <code>JsonParseExceptionMapper</code>, they have a higher priority).</li>\n<li>You cannot catch the exception may because your own mapper is shadowed by the <code>JsonParseExceptionMapper</code>. Try to figure out by adding <code>@Priority(1)</code> to your own mapper</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2222612,"reputation":922,"user_id":1961655,"accept_rate":36,"display_name":"Asaf Magen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675598678,"creation_date":1675598678,"answer_id":75352079,"question_id":48526488,"body_markdown":"Im using org.glassfish.jersey-jackson-2.33.\r\nwhen you register JacksonFeature which is responsible for the default Jackson response with a  &quot;withoutExceptionMappers())&quot;.\r\nthen if you have some Throwable exception mapper it will be catch instead of the default jackson mapper.\r\nyou can also write your JsonParseException mapper if you dont use a Throwable mapper.\r\n\r\n    import org.glassfish.jersey.jackson.JacksonFeature;\r\n    import org.glassfish.jersey.media.multipart.MultiPartFeature;\r\n    import org.glassfish.jersey.process.internal.RequestScoped;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n\r\n    public class JerseyApplication extends ResourceConfig {\r\n    \t//register(JacksonFeature.class);\r\n    \tregister(JacksonFeature.withoutExceptionMappers());\r\n    }\r\n    \r\n \r\n\r\n\r\n----------\r\n\r\n\r\n   \r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    \r\n    @Provider\r\n    public class JsonExceptionsMapper implements ExceptionMapper&lt;JsonParseException&gt; {\r\n        @Override\r\n        public Response toResponse(JsonParseException exception) {\r\n    \t\t //replace with your custom response\r\n             return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).type(&quot;text/plain&quot;).build();\r\n        }\r\n    }\r\n\r\n","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>Im using org.glassfish.jersey-jackson-2.33.\nwhen you register JacksonFeature which is responsible for the default Jackson response with a  &quot;withoutExceptionMappers())&quot;.\nthen if you have some Throwable exception mapper it will be catch instead of the default jackson mapper.\nyou can also write your JsonParseException mapper if you dont use a Throwable mapper.</p>\n<pre><code>import org.glassfish.jersey.jackson.JacksonFeature;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.process.internal.RequestScoped;\nimport org.glassfish.jersey.server.ResourceConfig;\n\npublic class JerseyApplication extends ResourceConfig {\n    //register(JacksonFeature.class);\n    register(JacksonFeature.withoutExceptionMappers());\n}\n</code></pre>\n<hr />\n<pre><code>import javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.core.JsonParseException;\n\n@Provider\npublic class JsonExceptionsMapper implements ExceptionMapper&lt;JsonParseException&gt; {\n    @Override\n    public Response toResponse(JsonParseException exception) {\n         //replace with your custom response\n         return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).type(&quot;text/plain&quot;).build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4746587,"reputation":8622,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8695,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1675598678,"creation_date":1517330650,"question_id":48526488,"body_markdown":"I defined a datatype and its API:\r\n\r\n    public class DataType {\r\n        @Column\r\n        private String name;\r\n    }\r\n    \r\n    // API is:\r\n    public class DataTypeAPI {\r\n        @POST\r\n        @Path(&quot;/&quot;)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @ManagedAsync\r\n        public void createDataType(\r\n                final DataType dataType,\r\n        ) {\r\n            ...\r\n            asyncResponse.resume(Response.status(Response.Status.CREATED)\r\n                    .entity(dataType)\r\n                    .build());\r\n        }\r\n    }\r\n\r\nEverything is fine if I posed \r\n`{\r\n    &quot;name&quot;: &quot;xxx&quot;\r\n}`,\r\n\r\nbut when I posted `{ &quot;name1&quot;: &quot;xxx&quot; }`, I got the following `text/plain` response:\r\n\r\n    Unrecognized field &quot;name1&quot; (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: &quot;name&quot;])\r\n     at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@526e34b1; line: 2, column: 15] (through reference chain: com.xxx.datatypes.DataType[&quot;name1&quot;])\r\n\r\n\r\nI prefer to convert the above error into JSON response. but event I added the following exception mapper, it is not returning JSON response.\r\n\r\n\r\n    @Provider\r\n\r\n    public class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\r\n        public Response toResponse(Throwable ex) {\r\n            System.out.println(&quot;GenericExceptionMapper&quot;);\r\n            ex.printStackTrace();\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(new ErrorBody(500, ex.getMessage()))\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nWhy my above exception mapper cannot catch the jersey parsing error. Could someone explain it to me? Thanks\r\n\r\n**UPDATE**\r\n\r\nI have two questions: \r\n\r\n1, how to make the response to be `application/json` instead of `text/plain`? \r\n\r\n2, why my exception mapper did not catch the exception raised and map it to a json response?\r\n\r\n\r\n**UPDATE**\r\n\r\nI added the following mapper:\r\n\r\n    public class JsonMappingExceptionMapper implements ExceptionMapper&lt;JsonMappingException&gt; {\r\n        public Response toResponse(JsonMappingException ex) {\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(new ErrorBody(500, ex.getMessage()))\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nNow, I can get the json response:\r\n`{\r\n    &quot;code&quot;: 500,\r\n    &quot;message&quot;: &quot;Unrecognized field \\&quot;name1\\&quot; (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \\&quot;name\\&quot;])\\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@1d8cd12a; line: 2, column: 15] (through reference chain: class com.xxx.datatypes.DataType[\\&quot;name1\\&quot;])&quot;\r\n}`\r\n\r\n\r\nI still have two questions:\r\n\r\n1, **why my generic exception mapper cannot catch it.**\r\n\r\n2, **The json mapping exception mapper cannot map the following exception `Unexpected character (&#39;}&#39; (code 125)): was expecting double-quote to start field name\r\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@7615743c; line: 3, column: 2]` when `{&quot;name&quot;: &quot;xxxx&quot;,}`posted (comma , added for testing)**\r\n\r\n","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>I defined a datatype and its API:</p>\n\n<pre><code>public class DataType {\n    @Column\n    private String name;\n}\n\n// API is:\npublic class DataTypeAPI {\n    @POST\n    @Path(\"/\")\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @ManagedAsync\n    public void createDataType(\n            final DataType dataType,\n    ) {\n        ...\n        asyncResponse.resume(Response.status(Response.Status.CREATED)\n                .entity(dataType)\n                .build());\n    }\n}\n</code></pre>\n\n<p>Everything is fine if I posed \n<code>{\n    \"name\": \"xxx\"\n}</code>,</p>\n\n<p>but when I posted <code>{ \"name1\": \"xxx\" }</code>, I got the following <code>text/plain</code> response:</p>\n\n<pre><code>Unrecognized field \"name1\" (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \"name\"])\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@526e34b1; line: 2, column: 15] (through reference chain: com.xxx.datatypes.DataType[\"name1\"])\n</code></pre>\n\n<p>I prefer to convert the above error into JSON response. but event I added the following exception mapper, it is not returning JSON response.</p>\n\n<pre><code>@Provider\n\npublic class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\n    public Response toResponse(Throwable ex) {\n        System.out.println(\"GenericExceptionMapper\");\n        ex.printStackTrace();\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(new ErrorBody(500, ex.getMessage()))\n                .type(MediaType.APPLICATION_JSON)\n                .build();\n    }\n}\n</code></pre>\n\n<p>Why my above exception mapper cannot catch the jersey parsing error. Could someone explain it to me? Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have two questions: </p>\n\n<p>1, how to make the response to be <code>application/json</code> instead of <code>text/plain</code>? </p>\n\n<p>2, why my exception mapper did not catch the exception raised and map it to a json response?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I added the following mapper:</p>\n\n<pre><code>public class JsonMappingExceptionMapper implements ExceptionMapper&lt;JsonMappingException&gt; {\n    public Response toResponse(JsonMappingException ex) {\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(new ErrorBody(500, ex.getMessage()))\n                .type(MediaType.APPLICATION_JSON)\n                .build();\n    }\n}\n</code></pre>\n\n<p>Now, I can get the json response:\n<code>{\n    \"code\": 500,\n    \"message\": \"Unrecognized field \\\"name1\\\" (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \\\"name\\\"])\\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@1d8cd12a; line: 2, column: 15] (through reference chain: class com.xxx.datatypes.DataType[\\\"name1\\\"])\"\n}</code></p>\n\n<p>I still have two questions:</p>\n\n<p>1, <strong>why my generic exception mapper cannot catch it.</strong></p>\n\n<p>2, <strong>The json mapping exception mapper cannot map the following exception <code>Unexpected character ('}' (code 125)): was expecting double-quote to start field name\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@7615743c; line: 3, column: 2]</code> when <code>{\"name\": \"xxxx\",}</code>posted (comma , added for testing)</strong></p>\n"},{"tags":["java","soap","soap-client","java-17","jaxws-maven-plugin"],"comments":[{"owner":{"account_id":3392888,"reputation":3881,"user_id":2847330,"display_name":"Azhar Khan"},"score":0,"creation_date":1675599271,"post_id":75335778,"comment_id":132960065,"body_markdown":"Are you able to generate the WebServiceClient class for sample HelloWorld web service? If not, then provide more details to reproduce the issue - like WSDL, all classes, configs, classpath, command to generate etc. If yes, then there is some issue with your implementation. Instead of generating artifact for all, try to generate for a small portion, by simplifying the web service (by reducing logic, request response params etc).","body":"Are you able to generate the WebServiceClient class for sample HelloWorld web service? If not, then provide more details to reproduce the issue - like WSDL, all classes, configs, classpath, command to generate etc. If yes, then there is some issue with your implementation. Instead of generating artifact for all, try to generate for a small portion, by simplifying the web service (by reducing logic, request response params etc)."}],"owner":{"account_id":27694483,"reputation":11,"user_id":21140504,"display_name":"rkhot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675598522,"creation_date":1675427495,"question_id":75335778,"body_markdown":"We are developing a client for a SOAP werbservice using JDK 17 and SpringBoot.\r\n\r\nWe are using jaxws-maven-plugin as described in https://www.baeldung.com/java-soap-web-… to generate stubs for the SOAP client.\r\n\r\nThe plugin fails to generate the `@WebServiceClient` class that can be used to make the SOAP API call. \r\n\r\nIf we use JDK1.8 which comes packaged with `wsimport` utility, these classes get generated successfully. But we need to use OpenJDK 17 for project requirements.  \r\n\r\nHow to resolve this issue?\r\n\r\nI tried using below piece of code in pom.xml for maven build \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n            &lt;args&gt;\r\n                  &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n            &lt;/args&gt;\r\n            &lt;wsdlUrls&gt;\r\n                  &lt;wsdlUrl&gt;----/?wsdl&lt;/wsdlUrl&gt;\r\n            &lt;/wsdlUrls&gt;\r\n            &lt;keep&gt;true&lt;/keep&gt;\r\n            &lt;packageName&gt;com.....&lt;/packageName&gt;\r\n            &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\r\n      &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nbut the client class with annotation `@WebServiceClient` is not getting generated. Rest of the bean classes are generated.\r\n","title":"SOAP Webservice client : jaxws-maven-plugin fails to generate the @WebServiceClient class","body":"<p>We are developing a client for a SOAP werbservice using JDK 17 and SpringBoot.</p>\n<p>We are using jaxws-maven-plugin as described in <a href=\"https://www.baeldung.com/java-soap-web-%E2%80%A6\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-soap-web-…</a> to generate stubs for the SOAP client.</p>\n<p>The plugin fails to generate the <code>@WebServiceClient</code> class that can be used to make the SOAP API call.</p>\n<p>If we use JDK1.8 which comes packaged with <code>wsimport</code> utility, these classes get generated successfully. But we need to use OpenJDK 17 for project requirements.</p>\n<p>How to resolve this issue?</p>\n<p>I tried using below piece of code in pom.xml for maven build</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.3.2&lt;/version&gt;\n      &lt;configuration&gt;\n            &lt;args&gt;\n                  &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n            &lt;/args&gt;\n            &lt;wsdlUrls&gt;\n                  &lt;wsdlUrl&gt;----/?wsdl&lt;/wsdlUrl&gt;\n            &lt;/wsdlUrls&gt;\n            &lt;keep&gt;true&lt;/keep&gt;\n            &lt;packageName&gt;com.....&lt;/packageName&gt;\n            &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>but the client class with annotation <code>@WebServiceClient</code> is not getting generated. Rest of the bean classes are generated.</p>\n"},{"tags":["java","android","android-studio","kotlin","iunknown"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1675447857,"post_id":75339560,"comment_id":132938515,"body_markdown":"You might have a look here: https://stackoverflow.com/q/53249677.","body":"You might have a look here: <a href=\"https://stackoverflow.com/q/53249677\">stackoverflow.com/q/53249677</a>."},{"owner":{"account_id":17897467,"reputation":389,"user_id":13002482,"display_name":"Serge"},"score":1,"creation_date":1675484094,"post_id":75339560,"comment_id":132944193,"body_markdown":"I&#39;m sorry, I don&#39;t know how to fix your issue. However, I&#39;d advise you to look into version control (git). Version control allows you to easily roll-back any changes (among other things). This will help you avoid such problems in the future.","body":"I&#39;m sorry, I don&#39;t know how to fix your issue. However, I&#39;d advise you to look into version control (git). Version control allows you to easily roll-back any changes (among other things). This will help you avoid such problems in the future."}],"answers":[{"comments":[{"owner":{"account_id":23421098,"reputation":1,"user_id":17481284,"display_name":"Aas Mohammad"},"score":1,"creation_date":1675619619,"post_id":75352062,"comment_id":132963883,"body_markdown":"Thank you so much man you save me ,i was trying to solve this for a weak now","body":"Thank you so much man you save me ,i was trying to solve this for a weak now"}],"tags":[],"owner":{"account_id":20260812,"reputation":528,"user_id":14859218,"display_name":"Lucas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675598517,"creation_date":1675598517,"answer_id":75352062,"question_id":75339560,"body_markdown":"Try this. \r\nRight-click on the file (e.g.: MainActivity.kt), \r\nthen click on &quot;Open In&quot;, it will open your explorer window. \r\nAt this point open that file, which now you see in your explorer window, in a notepad, make a change (e.g.: adding a space where there is already a blank space) \r\nand save the file. \r\nNow Android Studio should see it correctly or, if not, try to restart Android Studio.\r\nIf that works, do the same for all suddenly-changed files.","title":"My every project files and class suddenly turned into an strange format","body":"<p>Try this.\nRight-click on the file (e.g.: MainActivity.kt),\nthen click on &quot;Open In&quot;, it will open your explorer window.\nAt this point open that file, which now you see in your explorer window, in a notepad, make a change (e.g.: adding a space where there is already a blank space)\nand save the file.\nNow Android Studio should see it correctly or, if not, try to restart Android Studio.\nIf that works, do the same for all suddenly-changed files.</p>\n"}],"owner":{"account_id":23421098,"reputation":1,"user_id":17481284,"display_name":"Aas Mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675598517,"creation_date":1675447779,"question_id":75339560,"body_markdown":"Everything was good. Today, I opened Android Studio, and every kotlin class code and even layout and value files turned into another format like XML. I don&#39;t know what kind of strange reason it is.\r\nI have been trying to fix this for 2 days now. even though I opened my files into some other editors(sublime, notepad)but the problem is still there.\r\n\r\n\r\n\r\nI am attaching some screenshots [MainActivity.kt][1].\r\n\r\nI also tried these couple of things below\r\n\r\nFile &gt; Sync project with Gradle files. Result: didn&#39;t solve my problem.\r\nFile &gt; Invalidated cache/restart. Result: didn&#39;t solve my problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sLTDJ.png","title":"My every project files and class suddenly turned into an strange format","body":"<p>Everything was good. Today, I opened Android Studio, and every kotlin class code and even layout and value files turned into another format like XML. I don't know what kind of strange reason it is.\nI have been trying to fix this for 2 days now. even though I opened my files into some other editors(sublime, notepad)but the problem is still there.</p>\n<p>I am attaching some screenshots <a href=\"https://i.stack.imgur.com/sLTDJ.png\" rel=\"nofollow noreferrer\">MainActivity.kt</a>.</p>\n<p>I also tried these couple of things below</p>\n<p>File &gt; Sync project with Gradle files. Result: didn't solve my problem.\nFile &gt; Invalidated cache/restart. Result: didn't solve my problem.</p>\n"},{"tags":["java","angular","spring-boot","angular-cli"],"answers":[{"comments":[{"owner":{"account_id":174770,"reputation":24253,"user_id":404339,"accept_rate":75,"display_name":"Ehsan Zargar Ershadi"},"score":0,"creation_date":1554843340,"post_id":45015595,"comment_id":97898275,"body_markdown":"Check your clip version for me it was 1.7.4 they have made changes recently","body":"Check your clip version for me it was 1.7.4 they have made changes recently"},{"owner":{"account_id":270664,"reputation":3099,"user_id":560745,"accept_rate":86,"display_name":"TCB13"},"score":1,"creation_date":1605774263,"post_id":45015595,"comment_id":114756398,"body_markdown":"Please note that `--minimal` might have another side effects: https://stackoverflow.com/questions/45429245/what-does-minimal-do-in-angular-cli-ng-new","body":"Please note that <code>--minimal</code> might have another side effects: <a href=\"https://stackoverflow.com/questions/45429245/what-does-minimal-do-in-angular-cli-ng-new\" title=\"what does minimal do in angular cli ng new\">stackoverflow.com/questions/45429245/&hellip;</a>"}],"tags":[],"owner":{"account_id":174770,"reputation":24253,"user_id":404339,"accept_rate":75,"display_name":"Ehsan Zargar Ershadi"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1526024660,"creation_date":1499699284,"answer_id":45015595,"question_id":42740074,"body_markdown":"I&#39;m not sure if this answers your question but you can use this command line to create the minimal app and without any tests:\r\n\r\n    ng new &lt;project_name&gt; --skip-test --minimal","title":"angular-cli simple configuration without test and ng serve","body":"<p>I'm not sure if this answers your question but you can use this command line to create the minimal app and without any tests:</p>\n\n<pre><code>ng new &lt;project_name&gt; --skip-test --minimal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8725235,"reputation":26264,"user_id":6527049,"accept_rate":84,"display_name":"Vivek Nuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675598260,"creation_date":1675598260,"answer_id":75352047,"question_id":42740074,"body_markdown":"you can also use the alias `st` (skip test) also `ng new &lt;project_name&gt; --st`, which does the same thing","title":"angular-cli simple configuration without test and ng serve","body":"<p>you can also use the alias <code>st</code> (skip test) also <code>ng new &lt;project_name&gt; --st</code>, which does the same thing</p>\n"}],"owner":{"account_id":75452,"reputation":57633,"user_id":216431,"accept_rate":91,"display_name":"d-man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5591,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675598260,"creation_date":1489263027,"question_id":42740074,"body_markdown":"I have java webapp with `angular2` support.\r\n\r\npackaging and compilation of .java and .ts files is done through maven, then we run .war using spring-boot that gives hot deployment of code.\r\n\r\nI want to use `angular-cli` only up to a consent, for generating components, services, etc.. i don&#39;t have plan to add jasmine tests yet so i am not worried about testing, server configuration etc.. i do not want webpacking and  additional `angular-cli` garbage files either. only what is already defined in `package.json`\r\nis there a way i can use angular-cli on existing project for generating file structure only ?\r\n\r\n\r\nFollowing are project and file structure.\r\n\r\n    src/main/webapp\r\n    src/main/webapp/package.json\r\n    src/main/webapp/systemjs.config.js\r\n    src/main/webapp/app\r\n    src/main/webapp/main.ts\r\n    src/main/webapp/module.ts\r\n    src/main/webapp/component.ts\r\n    src/main/webapp/landing.html\r\n    src/main/webapp/node_modules\r\n    \r\nfollowing is my `package.json`\r\n\r\n    {\r\n      &quot;name&quot;: &quot;angular-simple-start&quot;,\r\n      &quot;version&quot;: &quot;1.0.0&quot;,\r\n      &quot;description&quot;: &quot;Simple app&quot;,\r\n      &quot;scripts&quot;: {\r\n      },\r\n      &quot;dependencies&quot;: {\r\n        &quot;@angular/common&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/compiler&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/core&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/forms&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/http&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/platform-browser&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/platform-browser-dynamic&quot;: &quot;~2.4.0&quot;,\r\n        &quot;@angular/router&quot;: &quot;~3.4.0&quot;,\r\n    \r\n        &quot;angular-in-memory-web-api&quot;: &quot;~0.2.4&quot;,\r\n        &quot;systemjs&quot;: &quot;0.19.40&quot;,\r\n        &quot;core-js&quot;: &quot;^2.4.1&quot;,\r\n        &quot;rxjs&quot;: &quot;5.0.1&quot;,\r\n        &quot;zone.js&quot;: &quot;^0.7.4&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;concurrently&quot;: &quot;^3.2.0&quot;,\r\n        &quot;typescript&quot;: &quot;~2.0.10&quot;,\r\n        &quot;@types/node&quot;: &quot;^6.0.46&quot;,\r\n      },\r\n    \r\n    }","title":"angular-cli simple configuration without test and ng serve","body":"<p>I have java webapp with <code>angular2</code> support.</p>\n\n<p>packaging and compilation of .java and .ts files is done through maven, then we run .war using spring-boot that gives hot deployment of code.</p>\n\n<p>I want to use <code>angular-cli</code> only up to a consent, for generating components, services, etc.. i don't have plan to add jasmine tests yet so i am not worried about testing, server configuration etc.. i do not want webpacking and  additional <code>angular-cli</code> garbage files either. only what is already defined in <code>package.json</code>\nis there a way i can use angular-cli on existing project for generating file structure only ?</p>\n\n<p>Following are project and file structure.</p>\n\n<pre><code>src/main/webapp\nsrc/main/webapp/package.json\nsrc/main/webapp/systemjs.config.js\nsrc/main/webapp/app\nsrc/main/webapp/main.ts\nsrc/main/webapp/module.ts\nsrc/main/webapp/component.ts\nsrc/main/webapp/landing.html\nsrc/main/webapp/node_modules\n</code></pre>\n\n<p>following is my <code>package.json</code></p>\n\n<pre><code>{\n  \"name\": \"angular-simple-start\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Simple app\",\n  \"scripts\": {\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"~2.4.0\",\n    \"@angular/compiler\": \"~2.4.0\",\n    \"@angular/core\": \"~2.4.0\",\n    \"@angular/forms\": \"~2.4.0\",\n    \"@angular/http\": \"~2.4.0\",\n    \"@angular/platform-browser\": \"~2.4.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.4.0\",\n    \"@angular/router\": \"~3.4.0\",\n\n    \"angular-in-memory-web-api\": \"~0.2.4\",\n    \"systemjs\": \"0.19.40\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"5.0.1\",\n    \"zone.js\": \"^0.7.4\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^3.2.0\",\n    \"typescript\": \"~2.0.10\",\n    \"@types/node\": \"^6.0.46\",\n  },\n\n}\n</code></pre>\n"},{"tags":["java","android","push-notification","notifications"],"owner":{"account_id":27706153,"reputation":11,"user_id":21149751,"display_name":"jay raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675598228,"creation_date":1675571224,"question_id":75350117,"body_markdown":"I want firebase notification badge count. **public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {** onMessageReceived are notifications coming from firebase. Post_id, title etc. Notifications are coming \r\n\r\n `  public class MyFirebaseMessageService extends FirebaseMessagingService {\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        super.onNewToken(token);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Map&lt;String, String&gt; data = remoteMessage.getData();\r\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\r\n\r\n            if (data.get(&quot;post_id&quot;) != null) {\r\n                String _unique_id = data.get(&quot;unique_id&quot;);\r\n                String title = data.get(&quot;title&quot;);\r\n                String message = data.get(&quot;message&quot;);\r\n                String big_image = data.get(&quot;big_image&quot;);\r\n                String link = data.get(&quot;link&quot;);\r\n                String _post_id = data.get(&quot;post_id&quot;);\r\n\r\n                assert _unique_id != null;\r\n                long unique_id = Long.parseLong(_unique_id);\r\n\r\n                assert _post_id != null;\r\n                long post_id = Long.parseLong(_post_id);\r\n\r\n                createNotification(unique_id, title, message, big_image, link, post_id);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\r\n        intent.putExtra(&quot;post_id&quot;, post_id);\r\n        intent.putExtra(&quot;title&quot;, title);\r\n        intent.putExtra(&quot;link&quot;, link);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\r\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        } else {\r\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\r\n        }\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.shouldShowLights();\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(false);\r\n            assert notificationManager != null;\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\r\n            Bitmap image = fetchBitmap(image_url);\r\n            if (image != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\r\n            }\r\n        }\r\n\r\n        //assert notificationManager != null;\r\n        notificationManager.notify((int) post_id, notificationBuilder.build());\r\n    }\r\n\r\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\r\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n        return R.drawable.ic_stat_onesignal_default;\r\n    }\r\n\r\n    private Bitmap fetchBitmap(String src) {\r\n        try {\r\n            if (src != null) {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.setConnectTimeout(1200000);\r\n                connection.setReadTimeout(1200000);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                return BitmapFactory.decodeStream(input);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n`\r\n`\r\n\r\nHow to counter firebase notification badge android ","title":"How to counter firebase notification badge android","body":"<p>I want firebase notification badge count. <strong>public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {</strong> onMessageReceived are notifications coming from firebase. Post_id, title etc. Notifications are coming</p>\n<p>`  public class MyFirebaseMessageService extends FirebaseMessagingService {\n@Override\npublic void onNewToken(@NonNull String token) {\nsuper.onNewToken(token);\n}</p>\n<pre><code>@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n\n    if (remoteMessage.getData().size() &gt; 0) {\n        Map&lt;String, String&gt; data = remoteMessage.getData();\n        Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\n\n        if (data.get(&quot;post_id&quot;) != null) {\n            String _unique_id = data.get(&quot;unique_id&quot;);\n            String title = data.get(&quot;title&quot;);\n            String message = data.get(&quot;message&quot;);\n            String big_image = data.get(&quot;big_image&quot;);\n            String link = data.get(&quot;link&quot;);\n            String _post_id = data.get(&quot;post_id&quot;);\n\n            assert _unique_id != null;\n            long unique_id = Long.parseLong(_unique_id);\n\n            assert _post_id != null;\n            long post_id = Long.parseLong(_post_id);\n\n            createNotification(unique_id, title, message, big_image, link, post_id);\n        }\n    }\n}\n\nprivate void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\n\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.putExtra(&quot;unique_id&quot;, unique_id);\n    intent.putExtra(&quot;post_id&quot;, post_id);\n    intent.putExtra(&quot;title&quot;, title);\n    intent.putExtra(&quot;link&quot;, link);\n\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n    notificationBuilder.setAutoCancel(true)\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setWhen(System.currentTimeMillis())\n            .setSmallIcon(getNotificationIcon(notificationBuilder))\n            .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\n            .setContentTitle(title)\n            .setContentText(message)\n            .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n            .setContentIntent(pendingIntent);\n\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n    } else {\n        notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\n    }\n\n    Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n        notificationChannel.enableLights(true);\n        notificationChannel.shouldShowLights();\n        notificationChannel.setLightColor(Color.GREEN);\n        notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n        notificationChannel.enableVibration(false);\n        assert notificationManager != null;\n        notificationManager.createNotificationChannel(notificationChannel);\n    }\n\n    if (image_url != null &amp;&amp; !image_url.isEmpty()) {\n        Bitmap image = fetchBitmap(image_url);\n        if (image != null) {\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\n        }\n    }\n\n    //assert notificationManager != null;\n    notificationManager.notify((int) post_id, notificationBuilder.build());\n}\n\nprivate int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\n    notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n    return R.drawable.ic_stat_onesignal_default;\n}\n\nprivate Bitmap fetchBitmap(String src) {\n    try {\n        if (src != null) {\n            URL url = new URL(src);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoInput(true);\n            connection.setConnectTimeout(1200000);\n            connection.setReadTimeout(1200000);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            return BitmapFactory.decodeStream(input);\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>}\n<code> </code></p>\n<p>How to counter firebase notification badge android</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675690997,"post_id":75352020,"comment_id":132977285,"body_markdown":"Which version of Hibernate are you using? Pretty sure that Hibernate 6+ supports this properly.","body":"Which version of Hibernate are you using? Pretty sure that Hibernate 6+ supports this properly."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1675691621,"post_id":75352020,"comment_id":132977499,"body_markdown":"I&#39;m pretty sure older versions going back to H2 supported it too. (It&#39;s even required by the JPA 1 spec.)","body":"I&#39;m pretty sure older versions going back to H2 supported it too. (It&#39;s even required by the JPA 1 spec.)"},{"owner":{"account_id":907801,"reputation":551,"user_id":942342,"accept_rate":43,"display_name":"TwTw"},"score":0,"creation_date":1675846364,"post_id":75352020,"comment_id":133013731,"body_markdown":"I&#39;m using hibernate 5+","body":"I&#39;m using hibernate 5+"}],"owner":{"account_id":907801,"reputation":551,"user_id":942342,"accept_rate":43,"display_name":"TwTw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675597965,"creation_date":1675597965,"question_id":75352020,"body_markdown":"I&#39;m wondered if there any way to select custom type and regular type in one query using Hibernate.\r\n\r\nI&#39;m trying to do something like:\r\n\r\n    Query query = db.createQuery(&quot;select e.id, new com.util.data.MyCustomOBJECT(e.firstName,e.lastName, e.description) from elements e&quot;);\r\n\r\nbut get error:\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: , near line 1, column 14 [select...\r\n\r\nany Idea?","title":"Select custom type and regular type in one query using Hibernate","body":"<p>I'm wondered if there any way to select custom type and regular type in one query using Hibernate.</p>\n<p>I'm trying to do something like:</p>\n<pre><code>Query query = db.createQuery(&quot;select e.id, new com.util.data.MyCustomOBJECT(e.firstName,e.lastName, e.description) from elements e&quot;);\n</code></pre>\n<p>but get error:\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: , near line 1, column 14 [select...</p>\n<p>any Idea?</p>\n"},{"tags":["java","android","push-notification","notifications"],"owner":{"account_id":27706153,"reputation":11,"user_id":21149751,"display_name":"jay raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675597706,"creation_date":1675591148,"question_id":75351404,"body_markdown":"The counter badge should be displayed on the notification icon from firebase. I don&#39;t know how to bring bedge to these, I tried many things but I didn&#39;t get any answer If you know anything let me know How to bring these to budget. I am getting errors. How to fix these counter icon show bedge\r\n   \r\n    `public class MyFirebaseMessageService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        super.onNewToken(token);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n          try {\r\n            if(remoteMessage.getData().size() &gt; 0) {\r\n\r\n                final JSONObject jsonObject = new JSONObject(remoteMessage.getData().toString());\r\n                Log.d(TAG,&quot;remoteMessage = &quot; + jsonObject.toString());\r\n                \r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;onMessageReceived: &quot;, e);\r\n        }\r\n     \r\n           if (remoteMessage.getData().size() &gt; 0) {\r\n            Map&lt;String, String&gt; data = remoteMessage.getData();\r\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\r\n\r\n            if (data.get(&quot;post_id&quot;) != null) {\r\n                String _unique_id = data.get(&quot;unique_id&quot;);\r\n                String title = data.get(&quot;title&quot;);\r\n                String message = data.get(&quot;message&quot;);\r\n                String big_image = data.get(&quot;big_image&quot;);\r\n                String link = data.get(&quot;link&quot;);\r\n                String _post_id = data.get(&quot;post_id&quot;);\r\n\r\n                assert _unique_id != null;\r\n                long unique_id = Long.parseLong(_unique_id);\r\n\r\n                assert _post_id != null;\r\n                long post_id = Long.parseLong(_post_id);\r\n\r\n                createNotification(unique_id, title, message, big_image, link, post_id);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\r\n        intent.putExtra(&quot;post_id&quot;, post_id);\r\n        intent.putExtra(&quot;title&quot;, title);\r\n        intent.putExtra(&quot;link&quot;, link);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentIntent(pendingIntent);\r\n\r\n\r\n        \r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\r\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        } else {\r\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\r\n        }\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.shouldShowLights();\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(false);\r\n            assert notificationManager != null;\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\r\n            Bitmap image = fetchBitmap(image_url);\r\n            if (image != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\r\n            }\r\n        }\r\n\r\n        //assert notificationManager != null;\r\n        notificationManager.notify((int) post_id, notificationBuilder.build());\r\n    }\r\n\r\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\r\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n        return R.drawable.ic_stat_onesignal_default;\r\n    }\r\n\r\n    private Bitmap fetchBitmap(String src) {\r\n        try {\r\n            if (src != null) {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.setConnectTimeout(1200000);\r\n                connection.setReadTimeout(1200000);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                return BitmapFactory.decodeStream(input);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}`\r\n\r\n\r\nhow clear this error ","title":"How to count Push notification bedge android","body":"<p>The counter badge should be displayed on the notification icon from firebase. I don't know how to bring bedge to these, I tried many things but I didn't get any answer If you know anything let me know How to bring these to budget. I am getting errors. How to fix these counter icon show bedge</p>\n<pre><code>`public class MyFirebaseMessageService extends FirebaseMessagingService {\n\n@Override\npublic void onNewToken(@NonNull String token) {\n    super.onNewToken(token);\n}\n\n@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n\n      try {\n        if(remoteMessage.getData().size() &gt; 0) {\n\n            final JSONObject jsonObject = new JSONObject(remoteMessage.getData().toString());\n            Log.d(TAG,&quot;remoteMessage = &quot; + jsonObject.toString());\n            \n        }\n    } catch (Exception e) {\n        Log.e(TAG, &quot;onMessageReceived: &quot;, e);\n    }\n \n       if (remoteMessage.getData().size() &gt; 0) {\n        Map&lt;String, String&gt; data = remoteMessage.getData();\n        Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\n\n        if (data.get(&quot;post_id&quot;) != null) {\n            String _unique_id = data.get(&quot;unique_id&quot;);\n            String title = data.get(&quot;title&quot;);\n            String message = data.get(&quot;message&quot;);\n            String big_image = data.get(&quot;big_image&quot;);\n            String link = data.get(&quot;link&quot;);\n            String _post_id = data.get(&quot;post_id&quot;);\n\n            assert _unique_id != null;\n            long unique_id = Long.parseLong(_unique_id);\n\n            assert _post_id != null;\n            long post_id = Long.parseLong(_post_id);\n\n            createNotification(unique_id, title, message, big_image, link, post_id);\n        }\n    }\n}\n\n\nprivate void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\n\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.putExtra(&quot;unique_id&quot;, unique_id);\n    intent.putExtra(&quot;post_id&quot;, post_id);\n    intent.putExtra(&quot;title&quot;, title);\n    intent.putExtra(&quot;link&quot;, link);\n\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n    notificationBuilder.setAutoCancel(true)\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setWhen(System.currentTimeMillis())\n            .setSmallIcon(getNotificationIcon(notificationBuilder))\n            .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\n            .setContentTitle(title)\n            .setContentText(message)\n            .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n            .setContentIntent(pendingIntent);\n\n\n    \n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n        notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n    } else {\n        notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\n    }\n\n    Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n        notificationChannel.enableLights(true);\n        notificationChannel.shouldShowLights();\n        notificationChannel.setLightColor(Color.GREEN);\n        notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n        notificationChannel.enableVibration(false);\n        assert notificationManager != null;\n        notificationManager.createNotificationChannel(notificationChannel);\n    }\n\n    if (image_url != null &amp;&amp; !image_url.isEmpty()) {\n        Bitmap image = fetchBitmap(image_url);\n        if (image != null) {\n            notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\n        }\n    }\n\n    //assert notificationManager != null;\n    notificationManager.notify((int) post_id, notificationBuilder.build());\n}\n\nprivate int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\n    notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n    return R.drawable.ic_stat_onesignal_default;\n}\n\nprivate Bitmap fetchBitmap(String src) {\n    try {\n        if (src != null) {\n            URL url = new URL(src);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoInput(true);\n            connection.setConnectTimeout(1200000);\n            connection.setReadTimeout(1200000);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            return BitmapFactory.decodeStream(input);\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>}`</p>\n<p>how clear this error</p>\n"},{"tags":["java","android","fingerprint"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1468390952,"post_id":38343895,"comment_id":64101564,"body_markdown":"is `attemptCount` reset after the `setSecurityBanTimer`?","body":"is <code>attemptCount</code> reset after the <code>setSecurityBanTimer</code>?"},{"owner":{"account_id":8625129,"reputation":243,"user_id":6458567,"display_name":"Luke Swain"},"score":0,"creation_date":1468391014,"post_id":38343895,"comment_id":64101585,"body_markdown":"I will change this and tell you whether it fixes or not in about 2 min. :)","body":"I will change this and tell you whether it fixes or not in about 2 min. :)"},{"owner":{"account_id":8625129,"reputation":243,"user_id":6458567,"display_name":"Luke Swain"},"score":0,"creation_date":1468391261,"post_id":38343895,"comment_id":64101698,"body_markdown":"This does not resolve the issue.","body":"This does not resolve the issue."}],"answers":[{"comments":[{"owner":{"account_id":1901501,"reputation":10353,"user_id":1717276,"accept_rate":80,"display_name":"Michał Tajchert"},"score":0,"creation_date":1508399679,"post_id":38344233,"comment_id":80597743,"body_markdown":"Corrent document link is here -&gt; https://source.android.com/compatibility/6.0/android-6.0-cdd#7_3_10_fingeprint","body":"Corrent document link is here -&gt; <a href=\"https://source.android.com/compatibility/6.0/android-6.0-cdd#7_3_10_fingeprint\" rel=\"nofollow noreferrer\">source.android.com/compatibility/6.0/&hellip;</a>"}],"tags":[],"owner":{"account_id":8625129,"reputation":243,"user_id":6458567,"display_name":"Luke Swain"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508399718,"creation_date":1468391747,"answer_id":38344233,"question_id":38343895,"body_markdown":"I have found at that the API forces the security to have a 30 second gap between 5th and further attempts.\r\n\r\nThis means that the scanner will be unresponsive after the 5th attempt if the security of the application sets lockout at 4.\r\n\r\n**Documentation:**\r\n\r\n\r\n*Device implementations with a secure lock screen SHOULD include a fingerprint sensor. If a device implementation includes a fingerprint sensor and has a corresponding API for third-party developers, it:\r\nMUST rate limit attempts for at least 30 seconds after 5 false trials for fingerprint verification.*\r\n\r\nFind information [here][1].\r\n\r\n\r\n  [1]: https://source.android.com/compatibility/6.0/android-6.0-cdd#7_3_10_fingeprint","title":"Android - Fingerprint scanner stops working after 5 attempts?","body":"<p>I have found at that the API forces the security to have a 30 second gap between 5th and further attempts.</p>\n\n<p>This means that the scanner will be unresponsive after the 5th attempt if the security of the application sets lockout at 4.</p>\n\n<p><strong>Documentation:</strong></p>\n\n<p><em>Device implementations with a secure lock screen SHOULD include a fingerprint sensor. If a device implementation includes a fingerprint sensor and has a corresponding API for third-party developers, it:\nMUST rate limit attempts for at least 30 seconds after 5 false trials for fingerprint verification.</em></p>\n\n<p>Find information <a href=\"https://source.android.com/compatibility/6.0/android-6.0-cdd#7_3_10_fingeprint\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":8625129,"reputation":243,"user_id":6458567,"display_name":"Luke Swain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8467,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1675596942,"creation_date":1468390470,"question_id":38343895,"body_markdown":"A bit of a weird issue when using the fingerprint scanner in Android 6.0 (Marshmallow) that I am stuck with and can&#39;t figure out.\r\n\r\nI have searched all over but can only see things related to hardware defects.\r\n\r\nThe application accepts, encrypts, decrypts and validates fingerprints just fine, however it only allows 5 attempts before it for some reason stops working. (More on that below)\r\n\r\nI have setup the application to allow the user four scan attempts before implementing a security lockout timer, however if I intentionally fail to authenticate 4 times. Then I wait to lockout period of 5 minutes and come back I can only scan my finger once, after that the fingerprint appears to stop listening until I force quit the application from Applications Manager?\r\n\r\nIt then accepts fingerprints again. \r\n\r\n**Code for authenticationFailed callback:**\r\n\r\n    @Override\r\n    public void onAuthenticationFailed() {\r\n        authenticationDialog.dismiss();\r\n        cancellationSignal.cancel();\r\n\r\n        //Add one to the number of attempts taken\r\n        attemptCount += 1;\r\n\r\n        if (attemptCount &lt; maxAttempAllowance) {\r\n            AlertDialog.Builder message = new AlertDialog.Builder(appContext);\r\n            message.setTitle(&quot;Authentication Failed&quot;);\r\n            message.setMessage(&quot;The finger you scanned is not registered in your devices settings or your device failed to identify you.&quot;);\r\n            message.setPositiveButton(&quot;Try Again&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    dialog.dismiss();\r\n                    showAuthenticationDialog();\r\n                    startAuth(manager, cryptoObject);\r\n                }\r\n            });\r\n            message.setIcon(R.drawable.cross_flat);\r\n            message.setCancelable(false);\r\n            message.show();\r\n        }\r\n        else {\r\n            AlertDialog.Builder message = new AlertDialog.Builder(appContext);\r\n            message.setTitle(&quot;Authentication Failed&quot;);\r\n            message.setMessage(&quot;You have exceeded the maximum login attempts allowed. Try again in 5 minutes.&quot;);\r\n            message.setIcon(R.drawable.cross_flat);\r\n            message.setCancelable(false);\r\n            message.show();\r\n            setSecurityBanTimer();\r\n        }\r\n    }\r\n\r\nEven without the lockout security code the scanner still only accepts 5 prints.","title":"Android - Fingerprint scanner stops working after 5 attempts?","body":"<p>A bit of a weird issue when using the fingerprint scanner in Android 6.0 (Marshmallow) that I am stuck with and can't figure out.</p>\n\n<p>I have searched all over but can only see things related to hardware defects.</p>\n\n<p>The application accepts, encrypts, decrypts and validates fingerprints just fine, however it only allows 5 attempts before it for some reason stops working. (More on that below)</p>\n\n<p>I have setup the application to allow the user four scan attempts before implementing a security lockout timer, however if I intentionally fail to authenticate 4 times. Then I wait to lockout period of 5 minutes and come back I can only scan my finger once, after that the fingerprint appears to stop listening until I force quit the application from Applications Manager?</p>\n\n<p>It then accepts fingerprints again. </p>\n\n<p><strong>Code for authenticationFailed callback:</strong></p>\n\n<pre><code>@Override\npublic void onAuthenticationFailed() {\n    authenticationDialog.dismiss();\n    cancellationSignal.cancel();\n\n    //Add one to the number of attempts taken\n    attemptCount += 1;\n\n    if (attemptCount &lt; maxAttempAllowance) {\n        AlertDialog.Builder message = new AlertDialog.Builder(appContext);\n        message.setTitle(\"Authentication Failed\");\n        message.setMessage(\"The finger you scanned is not registered in your devices settings or your device failed to identify you.\");\n        message.setPositiveButton(\"Try Again\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.dismiss();\n                showAuthenticationDialog();\n                startAuth(manager, cryptoObject);\n            }\n        });\n        message.setIcon(R.drawable.cross_flat);\n        message.setCancelable(false);\n        message.show();\n    }\n    else {\n        AlertDialog.Builder message = new AlertDialog.Builder(appContext);\n        message.setTitle(\"Authentication Failed\");\n        message.setMessage(\"You have exceeded the maximum login attempts allowed. Try again in 5 minutes.\");\n        message.setIcon(R.drawable.cross_flat);\n        message.setCancelable(false);\n        message.show();\n        setSecurityBanTimer();\n    }\n}\n</code></pre>\n\n<p>Even without the lockout security code the scanner still only accepts 5 prints.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675563428,"creation_date":1675563428,"answer_id":75349719,"question_id":75349346,"body_markdown":"You are probably hitting this Tomcat bug: https://bz.apache.org/bugzilla/show_bug.cgi?id=63814\r\n\r\n&gt; Socket timeout -1 no longer allowed since Java 13, leading to IllegalArgumentException and unit test hang for TestAbstractAjpProcessor\r\n\r\nFrom the [Tomcat 7 changelog](https://tomcat.apache.org/tomcat-7.0-doc/changelog.html), it was fixed in version 7.0.98.\r\n\r\n&gt; 63814: Do not set server socket timeout with negative values in NIO. (remm) \r\n\r\nSince Java 13, `setSoTimeout()`&#39;s behaviour [was changed](https://bugs.openjdk.org/browse/JDK-8221248) to explicitly throw an exception when a socket timeout was set to negative.\r\n\r\n---\r\n\r\nMy guess is that you are running a very old version of Tomcat (&lt; 7.0.98) with a newer version of Java (&gt;= 13).  Either upgrade Tomcat to a more recent version or downgrade your JDK to 12 or older.\r\n\r\nIf you need to use the particular versions you are using now, you could try explicitly [setting the socket timeout configuration option](https://tomcat.apache.org/tomcat-7.0-doc/config/http.html) to a positive value on the connector in Tomcat configuration file `conf/server.xml`.","title":"Failed to initialize end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]","body":"<p>You are probably hitting this Tomcat bug: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=63814\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=63814</a></p>\n<blockquote>\n<p>Socket timeout -1 no longer allowed since Java 13, leading to IllegalArgumentException and unit test hang for TestAbstractAjpProcessor</p>\n</blockquote>\n<p>From the <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/changelog.html\" rel=\"nofollow noreferrer\">Tomcat 7 changelog</a>, it was fixed in version 7.0.98.</p>\n<blockquote>\n<p>63814: Do not set server socket timeout with negative values in NIO. (remm)</p>\n</blockquote>\n<p>Since Java 13, <code>setSoTimeout()</code>'s behaviour <a href=\"https://bugs.openjdk.org/browse/JDK-8221248\" rel=\"nofollow noreferrer\">was changed</a> to explicitly throw an exception when a socket timeout was set to negative.</p>\n<hr />\n<p>My guess is that you are running a very old version of Tomcat (&lt; 7.0.98) with a newer version of Java (&gt;= 13).  Either upgrade Tomcat to a more recent version or downgrade your JDK to 12 or older.</p>\n<p>If you need to use the particular versions you are using now, you could try explicitly <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow noreferrer\">setting the socket timeout configuration option</a> to a positive value on the connector in Tomcat configuration file <code>conf/server.xml</code>.</p>\n"}],"owner":{"account_id":16106122,"reputation":11,"user_id":14154057,"display_name":"Marcello lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675596692,"creation_date":1675557216,"question_id":75349346,"body_markdown":"Can someone help me?\r\n\r\n```\r\nGRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\njava.lang.IllegalArgumentException: timeout &lt; 0\r\n\tat java.base/sun.nio.ch.ServerSocketAdaptor.setSoTimeout(ServerSocketAdaptor.java:162)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:352)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:823)\r\n\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:476)\r\n\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:568)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:871)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:592)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:615)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:308)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:482)\r\n\r\nfev. 04, 2023 9:26:28 PM org.apache.catalina.core.StandardService initInternal\r\nGRAVE: Failed to initialize connector [Connector[AJP/1.3-8009]]\r\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n\tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:568)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:871)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:592)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:615)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:308)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:482)\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:962)\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n\t... 10 more\r\nCaused by: java.lang.IllegalArgumentException: timeout &lt; 0\r\n\tat java.base/sun.nio.ch.ServerSocketAdaptor.setSoTimeout(ServerSocketAdaptor.java:162)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:352)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:823)\r\n\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:476)\r\n\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\r\n\t... 11 more\r\n```\r\n\r\nI have no idea what it could be, can someone help me?","title":"Failed to initialize end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]","body":"<p>Can someone help me?</p>\n<pre><code>GRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\njava.lang.IllegalArgumentException: timeout &lt; 0\n    at java.base/sun.nio.ch.ServerSocketAdaptor.setSoTimeout(ServerSocketAdaptor.java:162)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:352)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:823)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:476)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:568)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:871)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:592)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:615)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:308)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:482)\n\nfev. 04, 2023 9:26:28 PM org.apache.catalina.core.StandardService initInternal\nGRAVE: Failed to initialize connector [Connector[AJP/1.3-8009]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:568)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:871)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:592)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:615)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:308)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:482)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:962)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 10 more\nCaused by: java.lang.IllegalArgumentException: timeout &lt; 0\n    at java.base/sun.nio.ch.ServerSocketAdaptor.setSoTimeout(ServerSocketAdaptor.java:162)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:352)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:823)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:476)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:960)\n    ... 11 more\n</code></pre>\n<p>I have no idea what it could be, can someone help me?</p>\n"},{"tags":["java"],"owner":{"account_id":27648880,"reputation":1,"user_id":21104218,"display_name":"XinyeYang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675596511,"creation_date":1675590643,"question_id":75351369,"body_markdown":"I&#39;m focusing on some work about &#39;Java Development Tools (jdt)&#39;\r\n```\r\njava.lang.SecurityException: class &quot;org.eclipse.core.runtime.Plugin&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\tat java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1150)\r\n\tat java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:905)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1014)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat org.eclipse.jdt.core.dom.ASTParser.initializeDefaults(ASTParser.java:282)\r\n\tat org.eclipse.jdt.core.dom.ASTParser.&lt;init&gt;(ASTParser.java:232)\r\n\tat org.eclipse.jdt.core.dom.ASTParser.newParser(ASTParser.java:135)\r\n\tat slice.AST_extract.test(AST_extract.java:219)\r\n\tat slice.AST_extract.main(AST_extract.java:255)\r\n```\r\n![enter image description here](https://i.stack.imgur.com/ZHjGQ.png)\r\n\r\nI have imported the related packages by Maven.\r\n\r\nI have tried to remove `tomcat` and `JUnit`, but it doesn&#39;t work.","title":"class &quot;org.eclipse.core.runtime.Plugin&quot;&#39;s signer information does not match signer information of other classes in the same package","body":"<p>I'm focusing on some work about 'Java Development Tools (jdt)'</p>\n<pre><code>java.lang.SecurityException: class &quot;org.eclipse.core.runtime.Plugin&quot;'s signer information does not match signer information of other classes in the same package\n    at java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1150)\n    at java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:905)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1014)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at org.eclipse.jdt.core.dom.ASTParser.initializeDefaults(ASTParser.java:282)\n    at org.eclipse.jdt.core.dom.ASTParser.&lt;init&gt;(ASTParser.java:232)\n    at org.eclipse.jdt.core.dom.ASTParser.newParser(ASTParser.java:135)\n    at slice.AST_extract.test(AST_extract.java:219)\n    at slice.AST_extract.main(AST_extract.java:255)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/ZHjGQ.png\" alt=\"enter image description here\" /></p>\n<p>I have imported the related packages by Maven.</p>\n<p>I have tried to remove <code>tomcat</code> and <code>JUnit</code>, but it doesn't work.</p>\n"},{"tags":["java","gradle","intellij-idea","minecraft-forge"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1675596270,"post_id":75351838,"comment_id":132959565,"body_markdown":"Can you please show your `build.gradle` or `build.gradle.kts`? Also, do you have a JDK installed? Is your `JAVA_HOME` set to that JDK? What&#39;s the output of `java -version` and `javac -version`?","body":"Can you please show your <code>build.gradle</code> or <code>build.gradle.kts</code>? Also, do you have a JDK installed? Is your <code>JAVA_HOME</code> set to that JDK? What&#39;s the output of <code>java -version</code> and <code>javac -version</code>?"},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":1,"creation_date":1675596608,"post_id":75351838,"comment_id":132959613,"body_markdown":"It looks like your JAVA_HOME environment variable is pointing to a JRE and not a JDK. You need install JDK package and set it as new JAVA_HOME.","body":"It looks like your JAVA_HOME environment variable is pointing to a JRE and not a JDK. You need install JDK package and set it as new JAVA_HOME."},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":0,"creation_date":1675596745,"post_id":75351838,"comment_id":132959640,"body_markdown":"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version","body":"<a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\" title=\"how do i tell gradle to use specific jdk version\">stackoverflow.com/questions/18487406/&hellip;</a>"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1675671803,"post_id":75351838,"comment_id":132971634,"body_markdown":"Does this answer your question? [How do I tell Gradle to use specific JDK version?](https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\">How do I tell Gradle to use specific JDK version?</a>"}],"owner":{"account_id":27707826,"reputation":1,"user_id":21151090,"display_name":"Charcko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675596247,"creation_date":1675595978,"question_id":75351838,"body_markdown":"I was trying to run my gradle project on Intellij IDEA but it gave me this error, this is the output when I ran it with `--stacktrace`:\r\n```\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.3/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build\r\n\r\n&gt; Configure project :\r\nJava: 19.0.2 JVM: 19.0.2+7-44(Oracle Corporation) Arch: amd64\r\nWARNING: This project is configured to use the official obfuscation mappings provided by Mojang. These mapping fall under their associated license, you should be fully aware of this license. For the latest license text, refer below, or the reference copy here: https://github.com/MinecraftForge/MCPConfig/blob/master/Mojang.md, You can hide this warning by running the `hideOfficialWarningUntilChanged` task\r\nWARNING: (c) 2020 Microsoft Corporation. These mappings are provided &quot;as-is&quot; and you bear the risk of using them. You may copy and use the mappings for development purposes, but you may not redistribute the mappings complete and unmodified. Microsoft makes no warranties, express or implied, with respect to the mappings provided here.  Use and modification of this document or the source code (in any form) of Minecraft: Java Edition is governed by the Minecraft End User License Agreement available at https://account.mojang.com/documents/minecraft_eula.\r\njava.lang.IllegalStateException: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_361 contains a valid JDK installation.\r\n        at org.gradle.api.internal.tasks.compile.JdkTools.&lt;init&gt;(JdkTools.java:77)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.createJdkTools(JavaHomeBasedJavaCompilerFactory.java:48)\r\n        at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:43)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:29)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.createCompileTask(JdkJavaCompiler.java:63)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:53)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:32)\r\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:22)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:85)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:55)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n        at java.lang.Thread.run(Unknown Source)\r\njava.lang.IllegalStateException: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_361 contains a valid JDK installation.\r\n        at org.gradle.api.internal.tasks.compile.JdkTools.&lt;init&gt;(JdkTools.java:77)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.createJdkTools(JavaHomeBasedJavaCompilerFactory.java:48)\r\n        at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:43)\r\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:29)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.createCompileTask(JdkJavaCompiler.java:63)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:53)\r\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:32)\r\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:22)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:85)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:55)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n        at java.lang.Thread.run(Unknown Source)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not resolve all files for configuration &#39;:runtimeClasspathCopy&#39;.\r\n&gt; Could not find net.minecraftforge:forge:1.16.5-36.2.34_mapped_official_1.16.5.\r\n  Searched in the following locations:\r\n    - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.pom\r\n    - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.jar\r\n  Required by:\r\n      project :\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:runtimeClasspathCopy&#39;.\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1423)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$3600(DefaultConfiguration.java:152)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$DefaultResolutionHost.rethrowFailure(DefaultConfiguration.java:2035)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1395)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.visitContents(DefaultConfiguration.java:498)\r\n        at org.gradle.api.internal.file.AbstractFileCollection.getFiles(AbstractFileCollection.java:130)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\r\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolve(DefaultConfiguration.java:488)\r\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.getResolvedClasspath(RunConfigGenerator.java:233)\r\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRuntimeClassPathList(RunConfigGenerator.java:241)\r\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.configureTokensLazy(RunConfigGenerator.java:199)\r\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRunTask(RunConfigGenerator.java:256)\r\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRunTask(RunConfigGenerator.java:229)\r\n        at net.minecraftforge.gradle.common.util.Utils.lambda$null$10(Utils.java:409)\r\n        at net.minecraftforge.gradle.common.util.Utils.lambda$createRunConfigTasks$11(Utils.java:409)\r\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:152)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction.execute(DefaultListenerBuildOperationDecorator.java:149)\r\n        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:95)\r\n        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:83)\r\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\r\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\r\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\r\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\r\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\r\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\r\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n        at jdk.proxy1/jdk.proxy1.$Proxy27.projectsEvaluated(Unknown Source)\r\n        at org.gradle.initialization.ProjectsEvaluatedNotifier$NotifyProjectsEvaluatedListeners.run(ProjectsEvaluatedNotifier.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.initialization.ProjectsEvaluatedNotifier.notify(ProjectsEvaluatedNotifier.java:35)\r\n        at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:49)\r\n        at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n        at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\r\n        at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\r\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\r\n        at org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\r\n        at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\r\n        at org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\r\n        at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:105)\r\n        at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\r\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\r\n        at org.gradle.internal.build.StateTransitionController.maybeTransition(StateTransitionController.java:174)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:103)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:86)\r\n        at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:85)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\r\n        at org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\r\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n        at org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:66)\r\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n        at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\r\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\r\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n        at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n        at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n        at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:50)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find net.minecraftforge:forge:1.16.5-36.2.34_mapped_official_1.16.5.\r\nSearched in the following locations:\r\n  - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.pom\r\n  - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.jar\r\nRequired by:\r\n    project :\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 1m\r\n```\r\n\r\nI don&#39;t know what to do as I am quite new to Java and IntelliJ.","title":"gradlew genIntellijRuns failed, Could not resolve all files for configuration &#39;:runtimeClasspathCopy&#39;","body":"<p>I was trying to run my gradle project on Intellij IDEA but it gave me this error, this is the output when I ran it with <code>--stacktrace</code>:</p>\n<pre><code>To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.3/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build\n\n&gt; Configure project :\nJava: 19.0.2 JVM: 19.0.2+7-44(Oracle Corporation) Arch: amd64\nWARNING: This project is configured to use the official obfuscation mappings provided by Mojang. These mapping fall under their associated license, you should be fully aware of this license. For the latest license text, refer below, or the reference copy here: https://github.com/MinecraftForge/MCPConfig/blob/master/Mojang.md, You can hide this warning by running the `hideOfficialWarningUntilChanged` task\nWARNING: (c) 2020 Microsoft Corporation. These mappings are provided &quot;as-is&quot; and you bear the risk of using them. You may copy and use the mappings for development purposes, but you may not redistribute the mappings complete and unmodified. Microsoft makes no warranties, express or implied, with respect to the mappings provided here.  Use and modification of this document or the source code (in any form) of Minecraft: Java Edition is governed by the Minecraft End User License Agreement available at https://account.mojang.com/documents/minecraft_eula.\njava.lang.IllegalStateException: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_361 contains a valid JDK installation.\n        at org.gradle.api.internal.tasks.compile.JdkTools.&lt;init&gt;(JdkTools.java:77)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.createJdkTools(JavaHomeBasedJavaCompilerFactory.java:48)\n        at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:43)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:29)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.createCompileTask(JdkJavaCompiler.java:63)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:53)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:32)\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:22)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:85)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:55)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\n        at java.lang.Thread.run(Unknown Source)\njava.lang.IllegalStateException: Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_361 contains a valid JDK installation.\n        at org.gradle.api.internal.tasks.compile.JdkTools.&lt;init&gt;(JdkTools.java:77)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.createJdkTools(JavaHomeBasedJavaCompilerFactory.java:48)\n        at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:43)\n        at org.gradle.api.internal.tasks.compile.JavaHomeBasedJavaCompilerFactory.create(JavaHomeBasedJavaCompilerFactory.java:29)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.createCompileTask(JdkJavaCompiler.java:63)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:53)\n        at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:39)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:32)\n        at org.gradle.workers.internal.FlatClassLoaderWorker.run(FlatClassLoaderWorker.java:22)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:85)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:55)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\n        at java.lang.Thread.run(Unknown Source)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not resolve all files for configuration ':runtimeClasspathCopy'.\n&gt; Could not find net.minecraftforge:forge:1.16.5-36.2.34_mapped_official_1.16.5.\n  Searched in the following locations:\n    - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.pom\n    - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.jar\n  Required by:\n      project :\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':runtimeClasspathCopy'.\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1423)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$3600(DefaultConfiguration.java:152)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$DefaultResolutionHost.rethrowFailure(DefaultConfiguration.java:2035)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.visitContents(DefaultConfiguration.java:1395)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.visitContents(DefaultConfiguration.java:498)\n        at org.gradle.api.internal.file.AbstractFileCollection.getFiles(AbstractFileCollection.java:130)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolve(DefaultConfiguration.java:488)\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.getResolvedClasspath(RunConfigGenerator.java:233)\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRuntimeClassPathList(RunConfigGenerator.java:241)\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.configureTokensLazy(RunConfigGenerator.java:199)\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRunTask(RunConfigGenerator.java:256)\n        at net.minecraftforge.gradle.common.util.runs.RunConfigGenerator.createRunTask(RunConfigGenerator.java:229)\n        at net.minecraftforge.gradle.common.util.Utils.lambda$null$10(Utils.java:409)\n        at net.minecraftforge.gradle.common.util.Utils.lambda$createRunConfigTasks$11(Utils.java:409)\n        at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:152)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction.execute(DefaultListenerBuildOperationDecorator.java:149)\n        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:95)\n        at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:83)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\n        at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n        at jdk.proxy1/jdk.proxy1.$Proxy27.projectsEvaluated(Unknown Source)\n        at org.gradle.initialization.ProjectsEvaluatedNotifier$NotifyProjectsEvaluatedListeners.run(ProjectsEvaluatedNotifier.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.initialization.ProjectsEvaluatedNotifier.notify(ProjectsEvaluatedNotifier.java:35)\n        at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:49)\n        at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n        at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\n        at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\n        at org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\n        at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\n        at org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\n        at org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:105)\n        at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\n        at org.gradle.internal.build.StateTransitionController.maybeTransition(StateTransitionController.java:174)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:103)\n        at org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:86)\n        at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:85)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\n        at org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\n        at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n        at org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\n        at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:66)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n        at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n        at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\n        at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\n        at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n        at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n        at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n        at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n        at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n        at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n        at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:50)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find net.minecraftforge:forge:1.16.5-36.2.34_mapped_official_1.16.5.\nSearched in the following locations:\n  - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.pom\n  - file:/C:/Users/Charles Pitcher/.gradle/caches/forge_gradle/bundeled_repo/net/minecraftforge/forge/1.16.5-36.2.34_mapped_official_1.16.5/forge-1.16.5-36.2.34_mapped_official_1.16.5.jar\nRequired by:\n    project :\n\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1m\n</code></pre>\n<p>I don't know what to do as I am quite new to Java and IntelliJ.</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660889672,"creation_date":1660889672,"answer_id":73412536,"question_id":73412351,"body_markdown":"**1- update the gradle:**\r\n\r\nGet latest version supported by Android Studio from:\r\n\r\nhttps://services.gradle.org/distributions\r\n\r\n\r\n**2- upgrade an Android project to Java 11:**\r\n\r\n    android {\r\n        .\r\n        .\r\n        .\r\n        compileOptions {\r\n          sourceCompatibility JavaVersion.VERSION_11\r\n          targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    \r\n        // For Kotlin projects\r\n        kotlinOptions {\r\n          jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n\r\nGo to Preferences → Build, Execution, Deployment → Build Tools → Gradle → *Gradle JDK.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xGjCf.png\r\n\r\n**3- Sync Project:**\r\n\r\n - Sync project \r\n - Clean Project\r\n - Rebuild Project\r\n\r\nThat&#39;s it.","title":"Could not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.4-all.zip&#39;","body":"<p><strong>1- update the gradle:</strong></p>\n<p>Get latest version supported by Android Studio from:</p>\n<p><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a></p>\n<p><strong>2- upgrade an Android project to Java 11:</strong></p>\n<pre><code>android {\n    .\n    .\n    .\n    compileOptions {\n      sourceCompatibility JavaVersion.VERSION_11\n      targetCompatibility JavaVersion.VERSION_11\n    }\n\n    // For Kotlin projects\n    kotlinOptions {\n      jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n<p>Go to Preferences → Build, Execution, Deployment → Build Tools → Gradle → *Gradle JDK.</p>\n<p><a href=\"https://i.stack.imgur.com/xGjCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGjCf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>3- Sync Project:</strong></p>\n<ul>\n<li>Sync project</li>\n<li>Clean Project</li>\n<li>Rebuild Project</li>\n</ul>\n<p>That's it.</p>\n"}],"owner":{"account_id":26104542,"reputation":1,"user_id":19799418,"display_name":"Anitha Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675592861,"creation_date":1660888241,"question_id":73412351,"body_markdown":"Can anyone help me on this error\r\n\r\n```none\r\nCould not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.4-all.zip&#39;.\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;android&#39;.\r\nA problem occurred configuring root project &#39;android&#39;.\r\nA problem occurred evaluating root project &#39;android&#39;.\r\nA problem occurred configuring project &#39;:app&#39;.\r\nA problem occurred evaluating project &#39;:app&#39;.\r\nFailed to apply plugin &#39;com.android.internal.application&#39;.\r\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\nYou can try some of the following options:\r\n  - changing the IDE settings.\r\n  - changing the JAVA_HOME environment variable.\r\n```","title":"Could not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.4-all.zip&#39;","body":"<p>Can anyone help me on this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.4-all.zip'.\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'android'.\nA problem occurred configuring root project 'android'.\nA problem occurred evaluating root project 'android'.\nA problem occurred configuring project ':app'.\nA problem occurred evaluating project ':app'.\nFailed to apply plugin 'com.android.internal.application'.\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\nYou can try some of the following options:\n  - changing the IDE settings.\n  - changing the JAVA_HOME environment variable.\n</code></pre>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674834794,"post_id":75260319,"comment_id":132804312,"body_markdown":"403 is an *authorization* failure response, as opposed to 401 which is an *authentication* failure. In other words, 401 means &quot;I don&#39;t know who you are&quot; whereas 403 means &quot;I identified you but you don&#39;t have permission for that resource.&quot;","body":"403 is an <i>authorization</i> failure response, as opposed to 401 which is an <i>authentication</i> failure. In other words, 401 means &quot;I don&#39;t know who you are&quot; whereas 403 means &quot;I identified you but you don&#39;t have permission for that resource.&quot;"},{"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"score":0,"creation_date":1674835126,"post_id":75260319,"comment_id":132804418,"body_markdown":"Thank you, yes I know this but the problem is getting 403 even though the user was authenticated and have the right permission to get access to `/api/hello` resource.","body":"Thank you, yes I know this but the problem is getting 403 even though the user was authenticated and have the right permission to get access to <code>&#47;api&#47;hello</code> resource."},{"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"score":0,"creation_date":1674835199,"post_id":75260319,"comment_id":132804441,"body_markdown":"I must add when trying to get the principal name in an open resource I get anonymousUser.","body":"I must add when trying to get the principal name in an open resource I get anonymousUser."}],"answers":[{"comments":[{"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"score":0,"creation_date":1675605488,"post_id":75265583,"comment_id":132961142,"body_markdown":"The filter is getting called and it authenticates the user but when I send another request I get 403 or `anonymousUser`. Please check my [other](https://stackoverflow.com/questions/75289494/getting-anonymous-user-after-authentication-with-custom-filter) post as I make things more clear","body":"The filter is getting called and it authenticates the user but when I send another request I get 403 or <code>anonymousUser</code>. Please check my <a href=\"https://stackoverflow.com/questions/75289494/getting-anonymous-user-after-authentication-with-custom-filter\">other</a> post as I make things more clear"}],"tags":[],"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674884765,"creation_date":1674883680,"answer_id":75265583,"question_id":75260319,"body_markdown":"Extending a UsernamePassWordAuthenticationFilter brings in more customizations than you need to set up a custom auth filter.. see this post for more details why your filter is not getting called - [link][1]\r\n\r\nYou can achieve the same using OncePerRequestFilter as below - \r\n\r\n    @Component\r\n    public class JsonUserPasswordAuthenticationFilter extends OncePerRequestFilter\r\n    {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n    \t    throws ServletException, IOException {\r\n    \t\r\n            UsernamePasswordAuthenticationToken authToken = YOUR_LOGIC(); // new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;passwd&quot;,Collections.emptyList()); as you have no authorities empty list is important here...\r\n    \t\r\n            SecurityContextHolder.getContext().setAuthentication(authToken);\r\n    \r\n    \t    filterChain.doFilter(request, response);\r\n    \t\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig\r\n    {\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http, JsonUserPasswordAuthenticationFilter filter) throws Exception {\r\n\t    http\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\r\n            .authorizeHttpRequests(auth -&gt; {\r\n              auth.requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\r\n            .anyRequest().permitAll();\r\n    \t    })  ;\r\n\t\r\n        return http.build();\r\n    }    \r\n\r\n  [1]: https://stackoverflow.com/questions/50609233/custom-spring-security-filter-not-called-at-runtime\r\n","title":"Getting 403 forbidden after authentication using custom authentication filter that parses JSON payload","body":"<p>Extending a UsernamePassWordAuthenticationFilter brings in more customizations than you need to set up a custom auth filter.. see this post for more details why your filter is not getting called - <a href=\"https://stackoverflow.com/questions/50609233/custom-spring-security-filter-not-called-at-runtime\">link</a></p>\n<p>You can achieve the same using OncePerRequestFilter as below -</p>\n<pre><code>@Component\npublic class JsonUserPasswordAuthenticationFilter extends OncePerRequestFilter\n{\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n    \n        UsernamePasswordAuthenticationToken authToken = YOUR_LOGIC(); // new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;passwd&quot;,Collections.emptyList()); as you have no authorities empty list is important here...\n    \n        SecurityContextHolder.getContext().setAuthentication(authToken);\n\n        filterChain.doFilter(request, response);\n    \n    }\n}\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, JsonUserPasswordAuthenticationFilter filter) throws Exception {\n    http\n        .csrf().disable()\n        .formLogin().disable()\n        .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\n        .authorizeHttpRequests(auth -&gt; {\n          auth.requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\n        .anyRequest().permitAll();\n        })  ;\n\n    return http.build();\n}    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"score":0,"creation_date":1675605596,"post_id":75351512,"comment_id":132961156,"body_markdown":"Sorry I didn&#39;t clarify I was authenticating against `/login`, I actually send a request to `/login` and get authenticated and when I send another request I get 403 or `anonymousUser` if the endpoint is not protected. Please check my [other](https://stackoverflow.com/questions/75289494/getting-anonymous-user-after-authentication-with-custom-filter) post where I clarify things more.","body":"Sorry I didn&#39;t clarify I was authenticating against <code>&#47;login</code>, I actually send a request to <code>&#47;login</code> and get authenticated and when I send another request I get 403 or <code>anonymousUser</code> if the endpoint is not protected. Please check my <a href=\"https://stackoverflow.com/questions/75289494/getting-anonymous-user-after-authentication-with-custom-filter\">other</a> post where I clarify things more."}],"tags":[],"owner":{"account_id":10247655,"reputation":89,"user_id":7562955,"display_name":"zzpzaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675592416,"creation_date":1675592416,"answer_id":75351512,"question_id":75260319,"body_markdown":"When you send a request to /api/hello your filter’s attemptAuthentication() never takes action. This is because your custom implementation extends the UsernamePasswordAuthenticationFilter (which in its turn extends the AbstractAuthenticationProcessingFilter). The UsernamePasswordAuthenticationFilter, by default, is used for .formLogin authentication, and handles the default AntRequestMatcher &quot;/login&quot;. Sending a request to /api/hello is an endpoint that is not handled by your filter. Since your security configuration requires that any /api/** endpoint should be authenticated, you receive the error. So, it should be made clear that an implementation of either UsernamePasswordAuthenticationFilter or AbstractAuthenticationProcessingFilter, is usually being used for Authenticating a user.\r\n\r\nHowever, you can use/add your testing /api/hello endpoint to your filter and confirm that it works. For instance, you can override the default “/login” AntRequestMatcher from within your custom filter constructor, by using something like that (use the appropriate for you Http action, GET, POST, etc:\r\n\r\n    protected JsonUserPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.setAuthenticationManager(authenticationManager); \r\n        super.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/api/hello&quot;, &quot;POST&quot;));\r\n    }\r\n\r\n","title":"Getting 403 forbidden after authentication using custom authentication filter that parses JSON payload","body":"<p>When you send a request to /api/hello your filter’s attemptAuthentication() never takes action. This is because your custom implementation extends the UsernamePasswordAuthenticationFilter (which in its turn extends the AbstractAuthenticationProcessingFilter). The UsernamePasswordAuthenticationFilter, by default, is used for .formLogin authentication, and handles the default AntRequestMatcher &quot;/login&quot;. Sending a request to /api/hello is an endpoint that is not handled by your filter. Since your security configuration requires that any /api/** endpoint should be authenticated, you receive the error. So, it should be made clear that an implementation of either UsernamePasswordAuthenticationFilter or AbstractAuthenticationProcessingFilter, is usually being used for Authenticating a user.</p>\n<p>However, you can use/add your testing /api/hello endpoint to your filter and confirm that it works. For instance, you can override the default “/login” AntRequestMatcher from within your custom filter constructor, by using something like that (use the appropriate for you Http action, GET, POST, etc:</p>\n<pre><code>protected JsonUserPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\n    this.setAuthenticationManager(authenticationManager); \n    super.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/api/hello&quot;, &quot;POST&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675592416,"creation_date":1674834213,"question_id":75260319,"body_markdown":"What I&#39;m trying to do is just authenticate in-memory default user using a custom authentication filter that parses a JSON payload that contain the username and the password.\r\n\r\n***SecurityConfig.java***\r\n``` lang-java\r\npackage ali.yousef.authdemo.config.security;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig\r\n{\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception\r\n    {\r\n        AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\r\n\r\n        return authenticationManager;\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder()\r\n    {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception\r\n    {\r\n        JsonUserPasswordAuthenticationFilter jsonUserPasswordAuthenticationFilter = new JsonUserPasswordAuthenticationFilter();\r\n        jsonUserPasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\r\n\r\n        http\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .addFilterAt(jsonUserPasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\r\n                .anyRequest().permitAll();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n***JsonUserPasswordAuthenticationFilter.java***\r\n\r\n``` lang-java\r\npackage ali.yousef.authdemo.config.security;\r\n\r\npublic class JsonUserPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter\r\n{\r\n    protected JsonUserPasswordAuthenticationFilter(AuthenticationManager authenticationManager)\r\n    {\r\n        this.setAuthenticationManager(authenticationManager);\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException\r\n    {\r\n        UsernamePasswordDto usernamePasswordDto;\r\n\r\n        try\r\n        {\r\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\r\n            System.out.println(usernamePasswordDto.toString());\r\n        }\r\n        catch (IOException ioe)\r\n        {\r\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authToken =\r\n                new UsernamePasswordAuthenticationToken(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\r\n\r\n        return this.getAuthenticationManager().authenticate(authToken);\r\n    }\r\n}\r\n\r\n```\r\n\r\n***TestController.java***\r\n``` lang-java\r\n@RestController\r\npublic class TestController\r\n{\r\n    @GetMapping(&quot;/api/hello&quot;)\r\n    public String hello(Principal principal)\r\n    {\r\n        return &quot;hello &quot; + principal.getName();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen authenticating the default user it gets authenticated and return the home page but when I try to send a request to `/api/hello` it respond with `403`.\r\n\r\nEDIT:\r\nI edited how I register the custom authentication filter. But the same problem is present. It seems like the security context gets cleared after successful authentication and I get `anonymousUser` from principal.  ","title":"Getting 403 forbidden after authentication using custom authentication filter that parses JSON payload","body":"<p>What I'm trying to do is just authenticate in-memory default user using a custom authentication filter that parses a JSON payload that contain the username and the password.</p>\n<p><em><strong>SecurityConfig.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package ali.yousef.authdemo.config.security;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception\n    {\n        AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\n\n        return authenticationManager;\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception\n    {\n        JsonUserPasswordAuthenticationFilter jsonUserPasswordAuthenticationFilter = new JsonUserPasswordAuthenticationFilter();\n        jsonUserPasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\n\n        http\n                .csrf().disable()\n                .formLogin().disable()\n                .addFilterAt(jsonUserPasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\n                .anyRequest().permitAll();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><em><strong>JsonUserPasswordAuthenticationFilter.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package ali.yousef.authdemo.config.security;\n\npublic class JsonUserPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter\n{\n    protected JsonUserPasswordAuthenticationFilter(AuthenticationManager authenticationManager)\n    {\n        this.setAuthenticationManager(authenticationManager);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException\n    {\n        UsernamePasswordDto usernamePasswordDto;\n\n        try\n        {\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\n            System.out.println(usernamePasswordDto.toString());\n        }\n        catch (IOException ioe)\n        {\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\n        }\n\n        UsernamePasswordAuthenticationToken authToken =\n                new UsernamePasswordAuthenticationToken(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\n\n        return this.getAuthenticationManager().authenticate(authToken);\n    }\n}\n\n</code></pre>\n<p><em><strong>TestController.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController\n{\n    @GetMapping(&quot;/api/hello&quot;)\n    public String hello(Principal principal)\n    {\n        return &quot;hello &quot; + principal.getName();\n    }\n}\n\n</code></pre>\n<p>When authenticating the default user it gets authenticated and return the home page but when I try to send a request to <code>/api/hello</code> it respond with <code>403</code>.</p>\n<p>EDIT:\nI edited how I register the custom authentication filter. But the same problem is present. It seems like the security context gets cleared after successful authentication and I get <code>anonymousUser</code> from principal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675574581,"post_id":75350225,"comment_id":132956914,"body_markdown":"Inside the inner `for` loop (in method `pract`) the value of variable `i` is not changing. Do you know how to use a debugger? If you do, then try using it to debug your code.","body":"Inside the inner <code>for</code> loop (in method <code>pract</code>) the value of variable <code>i</code> is not changing. Do you know how to use a debugger? If you do, then try using it to debug your code."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675575371,"creation_date":1675574782,"answer_id":75350294,"question_id":75350225,"body_markdown":"```\r\n    static void pract(){\r\n        int ct=0;\r\n        for (long i=100000; i&lt;1000000; i++){\r\n            //PUT THIS IS FIRST FOR LOOP  \r\n            System.out.print( i + &quot;  &quot;);\r\n            ct++;\r\n            //EVERY 15 , print new line\r\n            if (ct == 15) {\r\n                ct=0;\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n```","title":"How not to print the same number for every row, I want different number at every position","body":"<pre><code>    static void pract(){\n        int ct=0;\n        for (long i=100000; i&lt;1000000; i++){\n            //PUT THIS IS FIRST FOR LOOP  \n            System.out.print( i + &quot;  &quot;);\n            ct++;\n            //EVERY 15 , print new line\n            if (ct == 15) {\n                ct=0;\n                System.out.println();\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17608141,"reputation":5,"user_id":12776786,"display_name":"SAURABH7DEOKATE"},"score":0,"creation_date":1675577592,"post_id":75350298,"comment_id":132957177,"body_markdown":"at the last line of the output,  this code is printing 1000001..........1000014. how not to print that","body":"at the last line of the output,  this code is printing 1000001..........1000014. how not to print that"},{"owner":{"account_id":15573539,"reputation":2428,"user_id":11235205,"display_name":"Minh-Long Luu"},"score":0,"creation_date":1675579487,"post_id":75350298,"comment_id":132957333,"body_markdown":"Corrected. I missed a line","body":"Corrected. I missed a line"}],"tags":[],"owner":{"account_id":15573539,"reputation":2428,"user_id":11235205,"display_name":"Minh-Long Luu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675579477,"creation_date":1675574857,"answer_id":75350298,"question_id":75350225,"body_markdown":"You are using the wrong loop. `i` is not changing. What you want to do is to have a combination of `while -&gt; for`:\r\n\r\n```java\r\nstatic void pract(){\r\n    int i = 100000;\r\n    while(i&lt;1000001){\r\n        for(int q=0; q&lt;15; q++){\r\n            System.out.print(&quot;  &quot; + i + &quot;  &quot;);\r\n            i++;\r\n            if (i &gt; 1000000) break;\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How not to print the same number for every row, I want different number at every position","body":"<p>You are using the wrong loop. <code>i</code> is not changing. What you want to do is to have a combination of <code>while -&gt; for</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void pract(){\n    int i = 100000;\n    while(i&lt;1000001){\n        for(int q=0; q&lt;15; q++){\n            System.out.print(&quot;  &quot; + i + &quot;  &quot;);\n            i++;\n            if (i &gt; 1000000) break;\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17608141,"reputation":5,"user_id":12776786,"display_name":"SAURABH7DEOKATE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75350294,"answer_count":2,"score":0,"last_activity_date":1675592252,"creation_date":1675573596,"question_id":75350225,"body_markdown":"I want to print numbers from 100000 to 1000000 separated by two spaces on each side of the number. I want to print 15 columns/ 15 unique numbers per line, but it&#39;s printing the same number for each line. How to fix this\r\n\r\n```java\r\nclass practicex{\r\n    public static void main(String[] args) {\r\n\t\tpract();\r\n\t}\r\n\r\n\tstatic void pract(){\r\n\t\tfor (long i=100000; i&lt;1000000; i++){\r\n\t\t    for(long q=0; q&lt;15; q++){\r\n\t\t\t    System.out.print(&quot;  &quot; + i + &quot;  &quot;);\r\n\t\t    }\r\n\t\tSystem.out.println();\r\n\t    }\r\n\t}\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f460E.jpg","title":"How not to print the same number for every row, I want different number at every position","body":"<p>I want to print numbers from 100000 to 1000000 separated by two spaces on each side of the number. I want to print 15 columns/ 15 unique numbers per line, but it's printing the same number for each line. How to fix this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class practicex{\n    public static void main(String[] args) {\n        pract();\n    }\n\n    static void pract(){\n        for (long i=100000; i&lt;1000000; i++){\n            for(long q=0; q&lt;15; q++){\n                System.out.print(&quot;  &quot; + i + &quot;  &quot;);\n            }\n        System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f460E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f460E.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","maven","jenkins","cucumber"],"answers":[{"comments":[{"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"score":0,"creation_date":1675556342,"post_id":75349109,"comment_id":132955227,"body_markdown":"The second hint works after minor modifications. I will tag your answer green if you move the main class into the &lt;mainClass&gt; tag and above the &lt;arguments&gt; tag so that others have fully working example.","body":"The second hint works after minor modifications. I will tag your answer green if you move the main class into the &lt;mainClass&gt; tag and above the &lt;arguments&gt; tag so that others have fully working example."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675557449,"post_id":75349109,"comment_id":132955363,"body_markdown":"@hicnar yeap, you a right, the initial config was wrong","body":"@hicnar yeap, you a right, the initial config was wrong"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675591386,"creation_date":1675553735,"answer_id":75349109,"question_id":75348362,"body_markdown":"Too many backslashes, should be:\r\n\r\n```\r\nsh &#39;&#39;&#39;mvn spring-boot:start \\\r\n exec:java \\\r\n -Dexec.classpathScope=test \\\r\n -Dexec.mainClass=io.cucumber.core.cli.Main \\\r\n -Dexec.args=\\&quot;src/test-bdd/resources/features/set02 --glue gluepackage\\&quot; \\\r\n spring-boot:stop\r\n&#39;&#39;&#39;\r\n```\r\n\r\nbtw, for this particular case I would recommend to define execution for `exec-maven-plugin`:\r\n\r\n**I**. `Java` as executable (I prefer this option - it does not affect `maven` VM):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;set02&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;executable&gt;java&lt;/executable&gt;\r\n                &lt;arguments&gt;\r\n                    &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                    &lt;classpath /&gt;\r\n                    &lt;argument&gt;io.cucumber.core.cli.Main&lt;/argument&gt;\r\n                    &lt;argument&gt;src/test-bdd/resources/features/set02&lt;/argument&gt;\r\n                    &lt;argument&gt;--glue&lt;/argument&gt;\r\n                    &lt;argument&gt;gluepackage&lt;/argument&gt;\r\n                &lt;/arguments&gt;\r\n                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n**II**. Main class within the same VM as `maven`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;set02&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;\r\n                    &lt;mainClass&gt;io.cucumber.core.cli.Main&lt;/mainClass&gt;\r\n                    &lt;argument&gt;src/test-bdd/resources/features/set02&lt;/argument&gt;\r\n                    &lt;argument&gt;--glue&lt;/argument&gt;\r\n                    &lt;argument&gt;gluepackage&lt;/argument&gt;\r\n                &lt;/arguments&gt;\r\n                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nand run it via `exec:exec@exection-id` or `exec:java@exection-id`, i.e.:\r\n\r\n```\r\nsh &#39;&#39;&#39;mvn spring-boot:start \\\r\n exec:exec@set02 \\\r\n spring-boot:stop\r\n&#39;&#39;&#39;\r\n```\r\n\r\nalso, it is not clear whether `maven` can stop `spring-boot` application in case of failure and that is better to split pipeline into separate steps protected by try/finally.","title":"Passing parameters from Jenkins pipeline to maven plugin executed in shell","body":"<p>Too many backslashes, should be:</p>\n<pre><code>sh '''mvn spring-boot:start \\\n exec:java \\\n -Dexec.classpathScope=test \\\n -Dexec.mainClass=io.cucumber.core.cli.Main \\\n -Dexec.args=\\&quot;src/test-bdd/resources/features/set02 --glue gluepackage\\&quot; \\\n spring-boot:stop\n'''\n</code></pre>\n<p>btw, for this particular case I would recommend to define execution for <code>exec-maven-plugin</code>:</p>\n<p><strong>I</strong>. <code>Java</code> as executable (I prefer this option - it does not affect <code>maven</code> VM):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set02&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;java&lt;/executable&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-classpath&lt;/argument&gt;\n                    &lt;classpath /&gt;\n                    &lt;argument&gt;io.cucumber.core.cli.Main&lt;/argument&gt;\n                    &lt;argument&gt;src/test-bdd/resources/features/set02&lt;/argument&gt;\n                    &lt;argument&gt;--glue&lt;/argument&gt;\n                    &lt;argument&gt;gluepackage&lt;/argument&gt;\n                &lt;/arguments&gt;\n                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>II</strong>. Main class within the same VM as <code>maven</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set02&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;\n                    &lt;mainClass&gt;io.cucumber.core.cli.Main&lt;/mainClass&gt;\n                    &lt;argument&gt;src/test-bdd/resources/features/set02&lt;/argument&gt;\n                    &lt;argument&gt;--glue&lt;/argument&gt;\n                    &lt;argument&gt;gluepackage&lt;/argument&gt;\n                &lt;/arguments&gt;\n                &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and run it via <code>exec:exec@exection-id</code> or <code>exec:java@exection-id</code>, i.e.:</p>\n<pre><code>sh '''mvn spring-boot:start \\\n exec:exec@set02 \\\n spring-boot:stop\n'''\n</code></pre>\n<p>also, it is not clear whether <code>maven</code> can stop <code>spring-boot</code> application in case of failure and that is better to split pipeline into separate steps protected by try/finally.</p>\n"}],"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75349109,"answer_count":1,"score":2,"last_activity_date":1675591386,"creation_date":1675544605,"question_id":75348362,"body_markdown":"When trying to execute cucumber tests from Jenkins pipeline with the invocation looking like this:\r\n\r\n```\r\nsh &#39;&#39;&#39;mvn spring-boot:start \\\r\n                            exec:java \\\r\n                            -Dexec.classpathScope=test \\\r\n                            -Dexec.mainClass=io.cucumber.core.cli.Main \\\r\n                            -Dexec.args=\\\\&quot;src/test-bdd/resources/features/set02 --glue gluepackage\\\\&quot; \\\r\n                            spring-boot:stop\r\n                        &#39;&#39;&#39;\r\n```\r\nafter that line gets invoked, Jenkins will output the following:\r\n\r\n```\r\n20:39:31  + mvn spring-boot:start exec:java -Dexec.classpathScope=test -Dexec.mainClass=io.cucumber.core.cli.Main -Dexec.args=&quot;src/test-bdd/resources/features/set02 --glue gluepackage&quot; spring-boot:stop\r\n20:39:31  Unable to parse command line options: Unrecognized option: --glue\r\n20:39:31  \r\n20:39:31  usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\r\n```\r\n\r\nThat basically means the shell is not passing the value of the -Dexec.args parameter to the exec plugin as a string but rather interprets that value as arguments to the *mvn* command. Obviously there&#39;s no *--glue* argument maven recognises, so the shell will print help on how to use maven and exit with a an error.\r\n\r\nIf I copy-paste the generated command into my terminal in the project directory and hit enter, it will run perfectly fine meaning the contents between quotes will be passed to the exec:java plugin command and the cucumber tests start and run as they should.\r\n\r\nI tried quite a few things (single quotes, double quotes, groovy style string interpolation, passing as environment variable etc) except probably writing a simple shell script and invoking the command line inside it with params passed to the script which would probably be the closest to what happens when invoked directly from command line, but from all that I have tried nothing seems to work.\r\n\r\nI am running Jenkins 2.375.2. Both controller and nodes run on Mac.\r\n\r\nWill appreciate any suggestions.","title":"Passing parameters from Jenkins pipeline to maven plugin executed in shell","body":"<p>When trying to execute cucumber tests from Jenkins pipeline with the invocation looking like this:</p>\n<pre><code>sh '''mvn spring-boot:start \\\n                            exec:java \\\n                            -Dexec.classpathScope=test \\\n                            -Dexec.mainClass=io.cucumber.core.cli.Main \\\n                            -Dexec.args=\\\\&quot;src/test-bdd/resources/features/set02 --glue gluepackage\\\\&quot; \\\n                            spring-boot:stop\n                        '''\n</code></pre>\n<p>after that line gets invoked, Jenkins will output the following:</p>\n<pre><code>20:39:31  + mvn spring-boot:start exec:java -Dexec.classpathScope=test -Dexec.mainClass=io.cucumber.core.cli.Main -Dexec.args=&quot;src/test-bdd/resources/features/set02 --glue gluepackage&quot; spring-boot:stop\n20:39:31  Unable to parse command line options: Unrecognized option: --glue\n20:39:31  \n20:39:31  usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\n</code></pre>\n<p>That basically means the shell is not passing the value of the -Dexec.args parameter to the exec plugin as a string but rather interprets that value as arguments to the <em>mvn</em> command. Obviously there's no <em>--glue</em> argument maven recognises, so the shell will print help on how to use maven and exit with a an error.</p>\n<p>If I copy-paste the generated command into my terminal in the project directory and hit enter, it will run perfectly fine meaning the contents between quotes will be passed to the exec:java plugin command and the cucumber tests start and run as they should.</p>\n<p>I tried quite a few things (single quotes, double quotes, groovy style string interpolation, passing as environment variable etc) except probably writing a simple shell script and invoking the command line inside it with params passed to the script which would probably be the closest to what happens when invoked directly from command line, but from all that I have tried nothing seems to work.</p>\n<p>I am running Jenkins 2.375.2. Both controller and nodes run on Mac.</p>\n<p>Will appreciate any suggestions.</p>\n"},{"tags":["java","testing","repository"],"answers":[{"comments":[{"owner":{"account_id":18369308,"reputation":39,"user_id":13379701,"display_name":"Flash-KIM142"},"score":0,"creation_date":1675591812,"post_id":75351413,"comment_id":132958914,"body_markdown":"The very first line you wrote, now I think I see a point for testing repository class. And I&#39;ve never heard about the test pyramid but now that you mentioned and I should dig into this. thank you so much","body":"The very first line you wrote, now I think I see a point for testing repository class. And I&#39;ve never heard about the test pyramid but now that you mentioned and I should dig into this. thank you so much"}],"tags":[],"owner":{"account_id":9535390,"reputation":624,"user_id":7085739,"display_name":"jml"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1675591264,"creation_date":1675591264,"answer_id":75351413,"question_id":75351357,"body_markdown":"Consider the test pyramid and whether there is anything in ToDoEntity that needs to be covered by unit tests\r\n\r\nYou could then decide whether you’d test such repositories (containing your custom entities) via unit tests or in integration tests where you’d test the operations of To Do via an application or API endpoint\r\n\r\nYou can unit test JPA repositories. plenty of examples on google if you search for testing JPA entities\r\n\r\nI’ve previously opted for the integration test approach as unit testing every jpa repo / entity can seem like overkill especially when the entities are simple\r\n\r\n","title":"Is testing for Repository class without any code of my own necessary?","body":"<p>Consider the test pyramid and whether there is anything in ToDoEntity that needs to be covered by unit tests</p>\n<p>You could then decide whether you’d test such repositories (containing your custom entities) via unit tests or in integration tests where you’d test the operations of To Do via an application or API endpoint</p>\n<p>You can unit test JPA repositories. plenty of examples on google if you search for testing JPA entities</p>\n<p>I’ve previously opted for the integration test approach as unit testing every jpa repo / entity can seem like overkill especially when the entities are simple</p>\n"}],"owner":{"account_id":18369308,"reputation":39,"user_id":13379701,"display_name":"Flash-KIM142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675591264,"creation_date":1675590400,"question_id":75351357,"body_markdown":"I&#39;m trying to learn about writing test for my Spring boot application and I ran into this question. \r\n\r\nI don&#39;t have any logic of my own on my Repository class which extends JpaRepository. Do I still really need testing for this? What&#39;s the point and what exactly am I testing for? JPA already implemented every methods I&#39;m using and those are already qualified. \r\n\r\nIt&#39;s hard to find a well organized or official docs for the answer of this question. \r\n\r\n### TodoRepository.java\r\n``` java\r\npackage com.todolist.repository;\r\n\r\nimport com.todolist.model.entity.TodoEntity;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface TodoRepository extends JpaRepository&lt;TodoEntity, Long&gt; {\r\n\r\n}\r\n```","title":"Is testing for Repository class without any code of my own necessary?","body":"<p>I'm trying to learn about writing test for my Spring boot application and I ran into this question.</p>\n<p>I don't have any logic of my own on my Repository class which extends JpaRepository. Do I still really need testing for this? What's the point and what exactly am I testing for? JPA already implemented every methods I'm using and those are already qualified.</p>\n<p>It's hard to find a well organized or official docs for the answer of this question.</p>\n<h3>TodoRepository.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.todolist.repository;\n\nimport com.todolist.model.entity.TodoEntity;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface TodoRepository extends JpaRepository&lt;TodoEntity, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","memory-leaks"],"comments":[{"owner":{"account_id":105188,"reputation":20585,"user_id":1617926,"display_name":"mikerobi"},"score":0,"creation_date":1297273852,"post_id":4948529,"comment_id":5519391,"body_markdown":"Are you looking for a contrived example or a very common programming mistake?","body":"Are you looking for a contrived example or a very common programming mistake?"},{"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"score":0,"creation_date":1297273907,"post_id":4948529,"comment_id":5519409,"body_markdown":"a contrived example would be best please.","body":"a contrived example would be best please."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1297274104,"post_id":4948529,"comment_id":5519461,"body_markdown":"A memory leak is created whenever an object that is not intended to be used has a reference to it. Almost any program one could write would be a contrived example of a memory leak.","body":"A memory leak is created whenever an object that is not intended to be used has a reference to it. Almost any program one could write would be a contrived example of a memory leak."},{"owner":{"account_id":179989,"reputation":5011,"user_id":413020,"accept_rate":67,"display_name":"Alberto"},"score":0,"creation_date":1338470772,"post_id":4948529,"comment_id":14106160,"body_markdown":"Take a look at [&#39;Creating a memory leak with java&#39;](http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java) for other ways different than _the easiest_.","body":"Take a look at <a href=\"http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java\">&#39;Creating a memory leak with java&#39;</a> for other ways different than <i>the easiest</i>."}],"answers":[{"tags":[],"owner":{"account_id":20059,"reputation":80086,"user_id":47550,"accept_rate":89,"display_name":"Paul Sasik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621900168,"creation_date":1297273897,"answer_id":4948549,"question_id":4948529,"body_markdown":" 1. Create a collection of objects at class scope\r\n 1. Periodically add new objects to the collection\r\n 1. Do not drop the reference to the instance of the class that holds the collection\r\n\r\nBecause there is always a reference to the collection and the instance of the object that owns the collection, the garbage collector will never clean up that memory, thus causing a &quot;leak&quot; over time.\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<ol>\n<li>Create a collection of objects at class scope</li>\n<li>Periodically add new objects to the collection</li>\n<li>Do not drop the reference to the instance of the class that holds the collection</li>\n</ol>\n<p>Because there is always a reference to the collection and the instance of the object that owns the collection, the garbage collector will never clean up that memory, thus causing a &quot;leak&quot; over time.</p>\n"},{"comments":[{"owner":{"account_id":105188,"reputation":20585,"user_id":1617926,"display_name":"mikerobi"},"score":1,"creation_date":1297274010,"post_id":4948552,"comment_id":5519439,"body_markdown":"This will cause you to run out of memory, but how can you have a leak if you never do anything to break an object reference?","body":"This will cause you to run out of memory, but how can you have a leak if you never do anything to break an object reference?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":7,"creation_date":1297274133,"post_id":4948552,"comment_id":5519471,"body_markdown":"@mikerobi - a memory leak is when you &quot;occupy&quot; some memory without cleaning it (and without using it). If you dereference the object, however, it will be garbage collected.","body":"@mikerobi - a memory leak is when you &quot;occupy&quot; some memory without cleaning it (and without using it). If you dereference the object, however, it will be garbage collected."},{"owner":{"account_id":105188,"reputation":20585,"user_id":1617926,"display_name":"mikerobi"},"score":1,"creation_date":1297274872,"post_id":4948552,"comment_id":5519611,"body_markdown":"I understand that, but I don&#39;t consider this to be a leak in every case.  It is definitely a leak if you mistakenly make a class variable static, it is possibly a leak if you are using it as a global value in a long running process.  It is not a leak if your intention is for the data to persist until program termination.  The fact that an infinite loop exhausts your memory has nothing to do with the fact that this is a leak.  A lot of leaks don&#39;t get noticed, unless they continually allocate new data, but having a fixed chunk of orphaned memory is still a leak.","body":"I understand that, but I don&#39;t consider this to be a leak in every case.  It is definitely a leak if you mistakenly make a class variable static, it is possibly a leak if you are using it as a global value in a long running process.  It is not a leak if your intention is for the data to persist until program termination.  The fact that an infinite loop exhausts your memory has nothing to do with the fact that this is a leak.  A lot of leaks don&#39;t get noticed, unless they continually allocate new data, but having a fixed chunk of orphaned memory is still a leak."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1297275059,"post_id":4948552,"comment_id":5519654,"body_markdown":"@mikerobi - I didn&#39;t mention a loop ;) I agree that the usage of the static collection determines whether it&#39;s a leak or not. But that&#39;s how they happen in Java - you cannot have orphaned memory in the sense that you have allocated it, but then forgot about it. This is handled by the garbage collector.","body":"@mikerobi - I didn&#39;t mention a loop ;) I agree that the usage of the static collection determines whether it&#39;s a leak or not. But that&#39;s how they happen in Java - you cannot have orphaned memory in the sense that you have allocated it, but then forgot about it. This is handled by the garbage collector."},{"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"score":1,"creation_date":1378223849,"post_id":4948552,"comment_id":27368834,"body_markdown":"This is not a memory leak.","body":"This is not a memory leak."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1621900363,"creation_date":1297273902,"answer_id":4948552,"question_id":4948529,"body_markdown":"Use:\r\n\r\n    public static List&lt;byte[]&gt; list = new ArrayList&lt;byte[]&gt;();\r\n\r\nAnd then add (big) arrays without removing them. At some point you will run out of memory without suspecting it. (You can do this with any objects, but with big, full arrays you can run out of memory faster.)\r\n\r\nIn Java, if you dereference an object (it falls out of scope), it is garbage collected. So you have to hold a reference to it in order to have a memory problem.\r\n\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>Use:</p>\n<pre><code>public static List&lt;byte[]&gt; list = new ArrayList&lt;byte[]&gt;();\n</code></pre>\n<p>And then add (big) arrays without removing them. At some point you will run out of memory without suspecting it. (You can do this with any objects, but with big, full arrays you can run out of memory faster.)</p>\n<p>In Java, if you dereference an object (it falls out of scope), it is garbage collected. So you have to hold a reference to it in order to have a memory problem.</p>\n"},{"comments":[{"owner":{"account_id":2155201,"reputation":1224,"user_id":1910621,"accept_rate":53,"display_name":"TheBlueNotebook"},"score":2,"creation_date":1421835233,"post_id":4948560,"comment_id":44509310,"body_markdown":"Could you explain a little as to how are you achieving the memory leak in this example?","body":"Could you explain a little as to how are you achieving the memory leak in this example?"},{"owner":{"account_id":1230175,"reputation":131,"user_id":1194938,"display_name":"pescamillam"},"score":1,"creation_date":1428610492,"post_id":4948560,"comment_id":47247767,"body_markdown":"Not sure but this code seems to work, at least it killed my pc and the processes keeped on the background even after closing eclipse","body":"Not sure but this code seems to work, at least it killed my pc and the processes keeped on the background even after closing eclipse"},{"owner":{"account_id":5120569,"reputation":1168,"user_id":4602283,"accept_rate":75,"display_name":"Jeutnarg"},"score":5,"creation_date":1452019925,"post_id":4948560,"comment_id":56983674,"body_markdown":"@TheBlueNotebook The finalize method he overrode is what Java normally calls when it is about to free up the memory for an Object. In his main method he creates 100K of finalizers and then tells the JVM to free all memory. The JVM does this politely and calls finalize before actually freeing the memory. The finalize method it calls yields forever, so the objects are never deleted, but the main loop continues, thus creating another 100K Objects that will never be deleted, then another, then another...","body":"@TheBlueNotebook The finalize method he overrode is what Java normally calls when it is about to free up the memory for an Object. In his main method he creates 100K of finalizers and then tells the JVM to free all memory. The JVM does this politely and calls finalize before actually freeing the memory. The finalize method it calls yields forever, so the objects are never deleted, but the main loop continues, thus creating another 100K Objects that will never be deleted, then another, then another..."}],"tags":[],"owner":{"account_id":255423,"reputation":3209,"user_id":535467,"accept_rate":83,"display_name":"acconrad"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1574514085,"creation_date":1297273967,"answer_id":4948560,"question_id":4948529,"body_markdown":"Here&#39;s a simple example\r\n\r\n    public class Finalizer {\r\n        @Override\r\n        protected void finalize() throws Throwable {\r\n            while (true) {\r\n                Thread.yield();\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            while (true) {\r\n                for (int i = 0; i &lt; 100000; i++) {\r\n                    Finalizer f = new Finalizer();\r\n                }\r\n\r\n                System.out.println(&quot;&quot; + Runtime.getRuntime().freeMemory() + &quot; bytes free!&quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>Here's a simple example</p>\n\n<pre><code>public class Finalizer {\n    @Override\n    protected void finalize() throws Throwable {\n        while (true) {\n            Thread.yield();\n        }\n    }\n\n    public static void main(String[] args) {\n        while (true) {\n            for (int i = 0; i &lt; 100000; i++) {\n                Finalizer f = new Finalizer();\n            }\n\n            System.out.println(\"\" + Runtime.getRuntime().freeMemory() + \" bytes free!\");\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1621900574,"post_id":4948718,"comment_id":119627943,"body_markdown":"The link is (effectively) broken: *&quot;The domain exampledepot.com maybe for sale.&quot;* (yes, misspelled that way)","body":"The link is (effectively) broken: <i>&quot;The domain exampledepot.com maybe for sale.&quot;</i> (yes, misspelled that way)"}],"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621900555,"creation_date":1297274893,"answer_id":4948718,"question_id":4948529,"body_markdown":"From what I&#39;ve read in the most voted answer, you are most probably asking for a C-like memory leak. Well, since there&#39;s garbage collection, you can&#39;t allocate an object, lose all its references and get it still occupying memory - that would be a serious JVM bug.\r\n\r\nOn the other hand, you can happen to leak threads - which, of course, would cause this state, because you would have some thread running with its references to objects, and you may lose the thread&#39;s reference. You can still get the Thread reference through the API - see http://www.exampledepot.com/egs/java.lang/ListThreads.html\r\n\r\n\r\n\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>From what I've read in the most voted answer, you are most probably asking for a C-like memory leak. Well, since there's garbage collection, you can't allocate an object, lose all its references and get it still occupying memory - that would be a serious JVM bug.</p>\n<p>On the other hand, you can happen to leak threads - which, of course, would cause this state, because you would have some thread running with its references to objects, and you may lose the thread's reference. You can still get the Thread reference through the API - see <a href=\"http://www.exampledepot.com/egs/java.lang/ListThreads.html\" rel=\"nofollow noreferrer\">http://www.exampledepot.com/egs/java.lang/ListThreads.html</a></p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1297279059,"post_id":4948729,"comment_id":5520531,"body_markdown":"This is the most complicated simple example here. ;)","body":"This is the most complicated simple example here. ;)"},{"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"score":1,"creation_date":1378224176,"post_id":4948729,"comment_id":27369036,"body_markdown":"Where&#39;s the leak? isn&#39;t the list freed after GC?","body":"Where&#39;s the leak? isn&#39;t the list freed after GC?"}],"tags":[],"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621900672,"creation_date":1297274935,"answer_id":4948729,"question_id":4948529,"body_markdown":"Try this simple class:\r\n\r\n    public class Memory {\r\n        private Map&lt;String, List&lt;Object&gt;&gt; dontGarbageMe = new HashMap&lt;String, List&lt;Object&gt;&gt;();\r\n\r\n        public Memory() {\r\n            dontGarbageMe.put(&quot;map&quot;, new ArrayList&lt;Object&gt;());\r\n        }\r\n\r\n        public void useMemInMB(long size) {\r\n            System.out.println(&quot;Before=&quot; + getFreeMemInMB() + &quot; MB&quot;);\r\n\r\n            long before = getFreeMemInMB();\r\n            while ((before  - getFreeMemInMB()) &lt; size) {\r\n                dontGarbageMe.get(&quot;map&quot;).add(&quot;aaaaaaaaaaaaaaaaaaaaaa&quot;);\r\n            }\r\n\r\n            dontGarbageMe.put(&quot;map&quot;, null);\r\n\r\n            System.out.println(&quot;After=&quot; + getFreeMemInMB() + &quot; MB&quot;);\r\n        }\r\n\r\n        private long getFreeMemInMB() {\r\n            return Runtime.getRuntime().freeMemory() / (1024 * 1024);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Memory m = new Memory();\r\n            m.useMemInMB(15);  // put here apropriate huge value\r\n        }\r\n    }\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>Try this simple class:</p>\n<pre><code>public class Memory {\n    private Map&lt;String, List&lt;Object&gt;&gt; dontGarbageMe = new HashMap&lt;String, List&lt;Object&gt;&gt;();\n\n    public Memory() {\n        dontGarbageMe.put(&quot;map&quot;, new ArrayList&lt;Object&gt;());\n    }\n\n    public void useMemInMB(long size) {\n        System.out.println(&quot;Before=&quot; + getFreeMemInMB() + &quot; MB&quot;);\n\n        long before = getFreeMemInMB();\n        while ((before  - getFreeMemInMB()) &lt; size) {\n            dontGarbageMe.get(&quot;map&quot;).add(&quot;aaaaaaaaaaaaaaaaaaaaaa&quot;);\n        }\n\n        dontGarbageMe.put(&quot;map&quot;, null);\n\n        System.out.println(&quot;After=&quot; + getFreeMemInMB() + &quot; MB&quot;);\n    }\n\n    private long getFreeMemInMB() {\n        return Runtime.getRuntime().freeMemory() / (1024 * 1024);\n    }\n\n    public static void main(String[] args) {\n        Memory m = new Memory();\n        m.useMemInMB(15);  // put here apropriate huge value\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":86219,"reputation":35532,"user_id":239916,"accept_rate":90,"display_name":"Thomas Eding"},"score":2,"creation_date":1310075151,"post_id":4948763,"comment_id":7812186,"body_markdown":"&quot;But at any time you could still dereference the objects you created and thus freeing the memory&quot;. I disagree. The class implementor can hide the object handles from the outside world.","body":"&quot;But at any time you could still dereference the objects you created and thus freeing the memory&quot;. I disagree. The class implementor can hide the object handles from the outside world."},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":0,"creation_date":1310139852,"post_id":4948763,"comment_id":7825545,"body_markdown":"@trinithis: If you have an object that privately wastes memory by allocating huge amounts of memory, then you can&#39;t force the object to release the memory without discarding that object as well. But in this case it is still just wasting memory and not a leak. The memory CAN be freed. It will be freed once the object that references the wasted memory is not referenced anymore. Or did I misunderstand you?","body":"@trinithis: If you have an object that privately wastes memory by allocating huge amounts of memory, then you can&#39;t force the object to release the memory without discarding that object as well. But in this case it is still just wasting memory and not a leak. The memory CAN be freed. It will be freed once the object that references the wasted memory is not referenced anymore. Or did I misunderstand you?"},{"owner":{"account_id":86219,"reputation":35532,"user_id":239916,"accept_rate":90,"display_name":"Thomas Eding"},"score":0,"creation_date":1310170649,"post_id":4948763,"comment_id":7832906,"body_markdown":"I think I misunderstood what you meant by &#39;dereference&#39;. I was thinking the C meaning of the word.","body":"I think I misunderstood what you meant by &#39;dereference&#39;. I was thinking the C meaning of the word."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1669016403,"post_id":4948763,"comment_id":131537891,"body_markdown":"The definition of the term on Wikipedia has changed. It is now this: *&quot;In computer science, a memory leak is a type of resource leak that occurs when a computer program incorrectly manages memory allocations in a way that memory which is no longer needed is not released.&quot;* This is the definition used by almost all posters, but not this one.","body":"The definition of the term on Wikipedia has changed. It is now this: <i>&quot;In computer science, a memory leak is a type of resource leak that occurs when a computer program incorrectly manages memory allocations in a way that memory which is no longer needed is not released.&quot;</i> This is the definition used by almost all posters, but not this one."},{"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"score":1,"creation_date":1675591008,"post_id":4948763,"comment_id":132958777,"body_markdown":"@Lii: I rewrote the whole answer","body":"@Lii: I rewrote the whole answer"}],"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"comment_count":5,"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1675590958,"creation_date":1297275143,"answer_id":4948763,"question_id":4948529,"body_markdown":"First we have to agree on what a memory leak actually is.\r\n\r\nWikipedia [used to describe a memory leak](https://en.wikipedia.org/w/index.php?title=Memory_leak&amp;direction=prev&amp;oldid=521727801) like this:\r\n&gt; A memory leak, in computer science (or leakage, in this context), occurs when a computer program consumes memory but is unable to release it back to the operating system.\r\n\r\nHowever this has changed multiple times and right now ([02/2023](https://en.wikipedia.org/w/index.php?title=Memory_leak&amp;oldid=1123425213)) it says:\r\n\r\n&gt; In computer science, a memory leak is a type of resource leak that occurs when a computer program incorrectly manages memory allocations in a way that memory which is no longer needed is not released.\r\n\r\nDepending on the context you need to specify what exactly you are looking for more precisely.\r\n\r\n# Unreachable dynamically allocated memory\r\n\r\nFirst, let us have a quick look at an example from a language without automatic memory management: In C you can use `malloc()` in order to allocate some memory. This function returns a pointer to the allocated memory. You must call `free()` on exactly this pointer in order to release the memory back to the operating system. But what if the pointer is used in multiple places? Who is responsible for calling `free()`? If you release the memory too early, then some parts of your application that is still working with that memory is broken. If you do not release the memory, you have a leak. If all pointers to the memory allocated are lost (overwritten or lifetime exceeded), then your application will be unable to release the memory back to the operating system. This would fulfill the old definition that Wikipedia had for a memory leak in 2011. To avoid this, you need some kind of contract that defines who is responsible for freeing memory that was allocated. This requires documentation, which must be read, correctly understood and followed by possibly many people creating various opportunities for errors.\r\n\r\nAutomatic memory management (which Java has) frees you from this danger. In Java you can allocate memory using the keyword `new`, but there is no `free` in Java. `new` returns a &quot;reference&quot;, which (in this context) behaves similarly to a pointer. When all references to allocated memory are lost (overwritten or lifetime exceeded) then this is detected automatically and the memory is returned to the operating system.\r\n\r\nIn Java this type of memory leak is only &quot;available&quot; in case of bugs in the garbage collector, JNI modules that leak memory or similar, but at least in theory you are safe.\r\n\r\n# Other programming errors\r\n\r\nThat withstanding it is of course both with and without automatic memory management possible to actively maintain unneeded references. Assume the following class:\r\n```java\r\nclass Demo {\r\n    private static final LinkedList&lt;Integer&gt; history = new LinkedList&lt;&gt;(Collections.singleton(0));\r\n\r\n    public static int plusPrevious(int value) {\r\n        int result = history.getLast() + value;\r\n        history.add(value);\r\n        return result;\r\n    }\r\n}\r\n```\r\nEverytime someone calls `plusPrevious` the `history`-List grows. But why? Only one value is needed, not the full history. This class is holding on to memory which it does not need. This fulfills the current definition that Wikipedia has for a memory leak.\r\n\r\nIn this case the error is obvious. However in more complicated scenarios it might not be so easy to decide what is still &quot;needed&quot; and what is not.\r\n\r\nAt any rate, putting things in `static` variables is &quot;good&quot; start to get into trouble. If in the example above the `history` were not `static` then a user of that class might eventually release the reference to the instance of `Demo` and thus free the memory. However since it is static the history will hang around until the application as a whole terminates.\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>First we have to agree on what a memory leak actually is.</p>\n<p>Wikipedia <a href=\"https://en.wikipedia.org/w/index.php?title=Memory_leak&amp;direction=prev&amp;oldid=521727801\" rel=\"nofollow noreferrer\">used to describe a memory leak</a> like this:</p>\n<blockquote>\n<p>A memory leak, in computer science (or leakage, in this context), occurs when a computer program consumes memory but is unable to release it back to the operating system.</p>\n</blockquote>\n<p>However this has changed multiple times and right now (<a href=\"https://en.wikipedia.org/w/index.php?title=Memory_leak&amp;oldid=1123425213\" rel=\"nofollow noreferrer\">02/2023</a>) it says:</p>\n<blockquote>\n<p>In computer science, a memory leak is a type of resource leak that occurs when a computer program incorrectly manages memory allocations in a way that memory which is no longer needed is not released.</p>\n</blockquote>\n<p>Depending on the context you need to specify what exactly you are looking for more precisely.</p>\n<h1>Unreachable dynamically allocated memory</h1>\n<p>First, let us have a quick look at an example from a language without automatic memory management: In C you can use <code>malloc()</code> in order to allocate some memory. This function returns a pointer to the allocated memory. You must call <code>free()</code> on exactly this pointer in order to release the memory back to the operating system. But what if the pointer is used in multiple places? Who is responsible for calling <code>free()</code>? If you release the memory too early, then some parts of your application that is still working with that memory is broken. If you do not release the memory, you have a leak. If all pointers to the memory allocated are lost (overwritten or lifetime exceeded), then your application will be unable to release the memory back to the operating system. This would fulfill the old definition that Wikipedia had for a memory leak in 2011. To avoid this, you need some kind of contract that defines who is responsible for freeing memory that was allocated. This requires documentation, which must be read, correctly understood and followed by possibly many people creating various opportunities for errors.</p>\n<p>Automatic memory management (which Java has) frees you from this danger. In Java you can allocate memory using the keyword <code>new</code>, but there is no <code>free</code> in Java. <code>new</code> returns a &quot;reference&quot;, which (in this context) behaves similarly to a pointer. When all references to allocated memory are lost (overwritten or lifetime exceeded) then this is detected automatically and the memory is returned to the operating system.</p>\n<p>In Java this type of memory leak is only &quot;available&quot; in case of bugs in the garbage collector, JNI modules that leak memory or similar, but at least in theory you are safe.</p>\n<h1>Other programming errors</h1>\n<p>That withstanding it is of course both with and without automatic memory management possible to actively maintain unneeded references. Assume the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Demo {\n    private static final LinkedList&lt;Integer&gt; history = new LinkedList&lt;&gt;(Collections.singleton(0));\n\n    public static int plusPrevious(int value) {\n        int result = history.getLast() + value;\n        history.add(value);\n        return result;\n    }\n}\n</code></pre>\n<p>Everytime someone calls <code>plusPrevious</code> the <code>history</code>-List grows. But why? Only one value is needed, not the full history. This class is holding on to memory which it does not need. This fulfills the current definition that Wikipedia has for a memory leak.</p>\n<p>In this case the error is obvious. However in more complicated scenarios it might not be so easy to decide what is still &quot;needed&quot; and what is not.</p>\n<p>At any rate, putting things in <code>static</code> variables is &quot;good&quot; start to get into trouble. If in the example above the <code>history</code> were not <code>static</code> then a user of that class might eventually release the reference to the instance of <code>Demo</code> and thus free the memory. However since it is static the history will hang around until the application as a whole terminates.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":4,"creation_date":1297275689,"post_id":4948789,"comment_id":5519788,"body_markdown":"Interned strings are not really memory leaks, they can get garbage-collected, too. The problem is only that they (in the usual implementations) are in a special memory area (PermGen) which is smaller than the rest of the memory, and thus easier fills up.","body":"Interned strings are not really memory leaks, they can get garbage-collected, too. The problem is only that they (in the usual implementations) are in a special memory area (PermGen) which is smaller than the rest of the memory, and thus easier fills up."},{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":0,"creation_date":1297281873,"post_id":4948789,"comment_id":5521107,"body_markdown":"You are right. Interned Strings are not a &quot;real&quot; leak (then again, &quot;real leaks&quot; are not  possible with jvm).  Nevertheless, perm gets collected only when everything else fails and its contents survives major collections, so it&#39;s one of the few sources of real memory problems. Also interned strings take space even though they are not referenced from your program. In that sense they are as close to a leak as you can get.","body":"You are right. Interned Strings are not a &quot;real&quot; leak (then again, &quot;real leaks&quot; are not  possible with jvm).  Nevertheless, perm gets collected only when everything else fails and its contents survives major collections, so it&#39;s one of the few sources of real memory problems. Also interned strings take space even though they are not referenced from your program. In that sense they are as close to a leak as you can get."}],"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"comment_count":2,"down_vote_count":3,"up_vote_count":38,"is_accepted":true,"score":35,"last_activity_date":1621899927,"creation_date":1297275332,"answer_id":4948789,"question_id":4948529,"body_markdown":"You cannot really &quot;leak memory&quot; in Java unless you:\r\n\r\n - intern strings\r\n - generate classes\r\n - leak memory in the native code called by [JNI][1]\r\n - keep references to things that you do not want in some forgotten or obscure place.\r\n\r\nI take it that you are interested in the last case. The common scenarios are:\r\n\r\n - listeners, especially done with inner classes\r\n - caches.\r\n\r\nA nice example would be to:\r\n\r\n - build a Swing GUI that launches a potentially unlimited number of modal windows;\r\n - have the modal window do something like this during its initialization:\r\n&lt;code&gt;&lt;pre&gt;\r\n    StaticGuiHelper.getMainApplicationFrame().getOneOfTheButtons().addActionListener(new ActionListener(){\r\n      public void actionPerformed(ActionEvent e){\r\n         // do nothing...\r\n      }\r\n    })\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nThe registered action does nothing, but it will cause the modal window to linger in memory forever, even after closing, causing a leak - since the listeners are never unregistered, and each anonymous inner class object holds a reference (invisible) to its outer object. What&#39;s more - any object referenced from the modal windows have a chance of leaking too.\r\n\r\nThis is why libraries such as EventBus use weak references by default.\r\n\r\nApart from listeners, other typical examples are caches, but I cannot think of a nice example.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Interface\r\n\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>You cannot really &quot;leak memory&quot; in Java unless you:</p>\n<ul>\n<li>intern strings</li>\n<li>generate classes</li>\n<li>leak memory in the native code called by <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a></li>\n<li>keep references to things that you do not want in some forgotten or obscure place.</li>\n</ul>\n<p>I take it that you are interested in the last case. The common scenarios are:</p>\n<ul>\n<li>listeners, especially done with inner classes</li>\n<li>caches.</li>\n</ul>\n<p>A nice example would be to:</p>\n<ul>\n<li>build a Swing GUI that launches a potentially unlimited number of modal windows;</li>\n<li>have the modal window do something like this during its initialization:\n<code><pre>\nStaticGuiHelper.getMainApplicationFrame().getOneOfTheButtons().addActionListener(new ActionListener(){\npublic void actionPerformed(ActionEvent e){\n// do nothing...\n}\n})\n</pre></code></li>\n</ul>\n<p>The registered action does nothing, but it will cause the modal window to linger in memory forever, even after closing, causing a leak - since the listeners are never unregistered, and each anonymous inner class object holds a reference (invisible) to its outer object. What's more - any object referenced from the modal windows have a chance of leaking too.</p>\n<p>This is why libraries such as EventBus use weak references by default.</p>\n<p>Apart from listeners, other typical examples are caches, but I cannot think of a nice example.</p>\n"},{"tags":[],"owner":{"account_id":36193,"reputation":373,"user_id":103105,"display_name":"MrJacqes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621901110,"creation_date":1297292191,"answer_id":4951567,"question_id":4948529,"body_markdown":"It does seem that most of the answers are not C style memory leaks.\r\n\r\nI thought I&#39;d add an example of a library class with a bug that will give you an out-of-memory exception.  Again, it is not a true memory leak, but it is an example of something running out of memory that you would not expect.\r\n\r\n    public class Scratch {\r\n        public static void main(String[] args) throws Exception {\r\n            long lastOut = System.currentTimeMillis();\r\n            File file = new File(&quot;deleteme.txt&quot;);\r\n\r\n            ObjectOutputStream out;\r\n            try {\r\n                out = new ObjectOutputStream(\r\n                        new FileOutputStream(&quot;deleteme.txt&quot;));\r\n\r\n                while (true) {\r\n                    out.writeUnshared(new LittleObject());\r\n                    if ((System.currentTimeMillis() - lastOut) &gt; 2000) {\r\n                        lastOut = System.currentTimeMillis();\r\n                        System.out.println(&quot;Size &quot; + file.length());\r\n                        // out.reset();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    class LittleObject implements Serializable {\r\n        int x = 0;\r\n    }\r\n\r\nYou will find the original code and bug description at *[JDK-4363937: ObjectOutputStream is creating a memory leak][1]*\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4363937\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>It does seem that most of the answers are not C style memory leaks.</p>\n<p>I thought I'd add an example of a library class with a bug that will give you an out-of-memory exception.  Again, it is not a true memory leak, but it is an example of something running out of memory that you would not expect.</p>\n<pre><code>public class Scratch {\n    public static void main(String[] args) throws Exception {\n        long lastOut = System.currentTimeMillis();\n        File file = new File(&quot;deleteme.txt&quot;);\n\n        ObjectOutputStream out;\n        try {\n            out = new ObjectOutputStream(\n                    new FileOutputStream(&quot;deleteme.txt&quot;));\n\n            while (true) {\n                out.writeUnshared(new LittleObject());\n                if ((System.currentTimeMillis() - lastOut) &gt; 2000) {\n                    lastOut = System.currentTimeMillis();\n                    System.out.println(&quot;Size &quot; + file.length());\n                    // out.reset();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass LittleObject implements Serializable {\n    int x = 0;\n}\n</code></pre>\n<p>You will find the original code and bug description at <em><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4363937\" rel=\"nofollow noreferrer\">JDK-4363937: ObjectOutputStream is creating a memory leak</a></em></p>\n"},{"tags":[],"owner":{"account_id":86219,"reputation":35532,"user_id":239916,"accept_rate":90,"display_name":"Thomas Eding"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621901177,"creation_date":1310074733,"answer_id":6617464,"question_id":4948529,"body_markdown":"The following extremely contrived `Box` class will leak memory if used. Objects that are `put` into this class are eventually (after another call to `put` to be precise... provided the same object is not re-`put` into it.) inaccessible to the outside world. They cannot be dereferenced through this class, yet this class ensures they cannot be collected. This is a *real* leak. I know this is really contrived, but similar cases are possible to do by accident.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Stack;\r\n\r\n    public class Box &lt;E&gt; {\r\n        private final Collection&lt;Box&lt;?&gt;&gt; createdBoxes = new ArrayList&lt;Box&lt;?&gt;&gt;();\r\n        private final Stack&lt;E&gt; stack = new Stack&lt;E&gt;();\r\n\r\n        public Box () {\r\n            createdBoxes.add(this);\r\n        }\r\n\r\n        public void put (E e) {\r\n            stack.push(e);\r\n        }\r\n\r\n        public E get () {\r\n            if (stack.isEmpty()) {\r\n                return null;\r\n            }\r\n            return stack.peek();\r\n        }\r\n    }\r\n","title":"Easiest way to cause a memory leak in Java","body":"<p>The following extremely contrived <code>Box</code> class will leak memory if used. Objects that are <code>put</code> into this class are eventually (after another call to <code>put</code> to be precise... provided the same object is not re-<code>put</code> into it.) inaccessible to the outside world. They cannot be dereferenced through this class, yet this class ensures they cannot be collected. This is a <em>real</em> leak. I know this is really contrived, but similar cases are possible to do by accident.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Stack;\n\npublic class Box &lt;E&gt; {\n    private final Collection&lt;Box&lt;?&gt;&gt; createdBoxes = new ArrayList&lt;Box&lt;?&gt;&gt;();\n    private final Stack&lt;E&gt; stack = new Stack&lt;E&gt;();\n\n    public Box () {\n        createdBoxes.add(this);\n    }\n\n    public void put (E e) {\n        stack.push(e);\n    }\n\n    public E get () {\n        if (stack.isEmpty()) {\n            return null;\n        }\n        return stack.peek();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28999,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"closed_date":1338775014,"accepted_answer_id":4948789,"answer_count":9,"score":41,"last_activity_date":1675590958,"creation_date":1297273784,"question_id":4948529,"body_markdown":"&gt; **Possible Duplicate:** \\\r\n&gt; [Creating a memory leak with Java](https://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java)\r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nWhat&#39;s the easiest way to cause a Java memory leak?\r\n\r\n\r\n","title":"Easiest way to cause a memory leak in Java","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong> <br />\n<a href=\"https://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java\">Creating a memory leak with Java</a></p>\n</blockquote>\n\n<p>What's the easiest way to cause a Java memory leak?</p>\n"},{"tags":["java","spring-boot","spring-mvc","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"score":0,"creation_date":1675666505,"post_id":75351212,"comment_id":132970441,"body_markdown":"this one worked for me\nnew Settings().toBuilder().\n                settingsBlock(new SettingsBlock().toBuilder().build()","body":"this one worked for me new Settings().toBuilder().                 settingsBlock(new SettingsBlock().toBuilder().build()"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1675682970,"post_id":75351212,"comment_id":132974981,"body_markdown":"@Basavaraddy These methods were not in your code snippets. I guess the builder methods doing the instatiation of the variables, right? Then you could upvote my answer.","body":"@Basavaraddy These methods were not in your code snippets. I guess the builder methods doing the instatiation of the variables, right? Then you could upvote my answer."},{"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"score":0,"creation_date":1675748739,"post_id":75351212,"comment_id":132990373,"body_markdown":"I am  not using the any methods I have used the Lombok annotation","body":"I am  not using the any methods I have used the Lombok annotation"}],"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675589772,"creation_date":1675588825,"answer_id":75351212,"question_id":75351099,"body_markdown":"```SettingsBlock``` is not instantiated, that&#39;s why *jackson* can&#39;t get any property of this object! If you want to have the default values of ```SettingsBlock```, you have to instantiate it:\r\n\r\n    public class Settings {\r\n      private  SettingsBlock settingsBlock = new SettingsBlock();\r\n      private int test1=10;\r\n      private int test2;\r\n    }\r\n","title":"convert object to xml using jackson-dataformat-xml with default values","body":"<p><code>SettingsBlock</code> is not instantiated, that's why <em>jackson</em> can't get any property of this object! If you want to have the default values of <code>SettingsBlock</code>, you have to instantiate it:</p>\n<pre><code>public class Settings {\n  private  SettingsBlock settingsBlock = new SettingsBlock();\n  private int test1=10;\n  private int test2;\n}\n</code></pre>\n"}],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675589772,"creation_date":1675587516,"question_id":75351099,"body_markdown":"I am using the jackson-dataformat-xml  dependency to convert my object to  xml.\r\nIts initializing the parent class properties to default value in the output xml but properties of nested class is not getting initialized(in the output xml nested class properties are not coming).\r\nBelow is the code which  tried ,can anyone pls look into this issue, if am missing something.\r\n\r\n\r\nBelow is my class structure\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class Settings {\r\n    \r\n        private  SettingsBlock settingsBlock //nested class;\r\n        private int test1=10;\r\n    \tprivate int test2;\r\n    }\r\n\r\nbelow is the nested class\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SettingsBlock {\r\n    \r\n        private Boolean block1=true;\r\n        private Boolean block2=;        \r\n    }    \r\n\r\n\r\n Building the xml \r\n\r\n    class Build XML{\r\n    \r\n       XmlMapper xmlMapper = new XmlMapper()\r\n       String xml = mapper.writeValueAsString(new Settings())\r\n    }\r\n\r\nOutput I am getting currently\r\n\r\n    &lt;Settings&gt;\t \r\n    \t&lt;test1&gt;1&lt;/test1&gt;\r\n    \t&lt;test2&gt;0&lt;/test2&gt;\r\n    \t&lt;SettingsBlock/&gt;\r\n    &lt;/Settings&gt;\r\n\r\nOutput which I wanted is\r\n\r\n    &lt;Settings&gt;     \r\n    \t&lt;test1&gt;1&lt;/test1&gt;\r\n    \t&lt;test2&gt;0&lt;/test2&gt;\r\n    \t&lt;SettingsBlock&gt;\r\n    \t   &lt;block1&gt;true&lt;/block1&gt;\r\n    \t   &lt;block2&gt;false&lt;/block2&gt;\r\n    \t &lt;SettingsBlock/&gt;\r\n    &lt;/Settings&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"convert object to xml using jackson-dataformat-xml with default values","body":"<p>I am using the jackson-dataformat-xml  dependency to convert my object to  xml.\nIts initializing the parent class properties to default value in the output xml but properties of nested class is not getting initialized(in the output xml nested class properties are not coming).\nBelow is the code which  tried ,can anyone pls look into this issue, if am missing something.</p>\n<p>Below is my class structure</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class Settings {\n\n    private  SettingsBlock settingsBlock //nested class;\n    private int test1=10;\n    private int test2;\n}\n</code></pre>\n<p>below is the nested class</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SettingsBlock {\n\n    private Boolean block1=true;\n    private Boolean block2=;        \n}    \n</code></pre>\n<p>Building the xml</p>\n<pre><code>class Build XML{\n\n   XmlMapper xmlMapper = new XmlMapper()\n   String xml = mapper.writeValueAsString(new Settings())\n}\n</code></pre>\n<p>Output I am getting currently</p>\n<pre><code>&lt;Settings&gt;   \n    &lt;test1&gt;1&lt;/test1&gt;\n    &lt;test2&gt;0&lt;/test2&gt;\n    &lt;SettingsBlock/&gt;\n&lt;/Settings&gt;\n</code></pre>\n<p>Output which I wanted is</p>\n<pre><code>&lt;Settings&gt;     \n    &lt;test1&gt;1&lt;/test1&gt;\n    &lt;test2&gt;0&lt;/test2&gt;\n    &lt;SettingsBlock&gt;\n       &lt;block1&gt;true&lt;/block1&gt;\n       &lt;block2&gt;false&lt;/block2&gt;\n     &lt;SettingsBlock/&gt;\n&lt;/Settings&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","firebase","parse-platform","jobs","firebase-job-dispatcher"],"owner":{"account_id":27707282,"reputation":1,"user_id":21150647,"display_name":"Kasım A&#231;ıkg&#246;z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675589358,"creation_date":1675589358,"question_id":75351269,"body_markdown":"I am using Android Studio Chipmunk. I will use Parse in my application. But I am getting such an error. Please help because I could not find it.\r\n\r\nI use the ..\r\n`\r\n `id &#39;com.android.application&#39; version &#39;7.2.0&#39; apply false`\r\n `id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false`\r\n\r\n `JavaVersion.VERSION_1_8`\r\n\r\n\r\n`parseVersion = &quot;1.17.3&quot;`\r\n`implementation &quot;com.parse:parse-android:$parseVersion&quot;`\r\n`implementation &quot;com.parse:parse-fcm-android:$parseVersion&quot;`","title":"Failed to resolve: com.firebase:firebase-jobdispatcher:0.8.5","body":"<p>I am using Android Studio Chipmunk. I will use Parse in my application. But I am getting such an error. Please help because I could not find it.</p>\n<p>I use the ..\n<code> </code>id 'com.android.application' version '7.2.0' apply false<code> </code>id 'com.android.library' version '7.2.0' apply false`</p>\n<p><code>JavaVersion.VERSION_1_8</code></p>\n<p><code>parseVersion = &quot;1.17.3&quot;</code>\n<code>implementation &quot;com.parse:parse-android:$parseVersion&quot;</code>\n<code>implementation &quot;com.parse:parse-fcm-android:$parseVersion&quot;</code></p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1675349131,"post_id":75324796,"comment_id":132913427,"body_markdown":"Is there any error message?","body":"Is there any error message?"},{"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"score":0,"creation_date":1675356448,"post_id":75324796,"comment_id":132916102,"body_markdown":"Hi, Thank you very much for your help! There are no errors, but for some reason the articles are still not found...","body":"Hi, Thank you very much for your help! There are no errors, but for some reason the articles are still not found..."},{"owner":{"account_id":11616634,"reputation":312,"user_id":8509119,"display_name":"larjae"},"score":0,"creation_date":1675367541,"post_id":75324796,"comment_id":132919600,"body_markdown":"So are you saying that you are seeing the text &quot;No Articles&quot;?","body":"So are you saying that you are seeing the text &quot;No Articles&quot;?"},{"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"score":0,"creation_date":1675368304,"post_id":75324796,"comment_id":132919810,"body_markdown":"Thank you very much !! Your method in the wave controller works!\nI needed to additionally change Set&lt;Article&gt; articles; on List&lt;Article&gt; articles;","body":"Thank you very much !! Your method in the wave controller works! I needed to additionally change Set&lt;Article&gt; articles; on List&lt;Article&gt; articles;"}],"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675589297,"creation_date":1675348972,"question_id":75324796,"body_markdown":"I want to show on the page all the articles from the category I need.\r\n\r\n---------------------------------------------------------------------------\r\n\r\n**Class Article**\r\n\r\n```java\r\npublic class Article {\r\n    private Long id;\r\n    private String title;\r\n    private String description;\r\n    private String image;\r\n    private String content;\r\n    private String author;\r\n    private LocalDateTime created;\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;categories_articles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_article&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_category&quot;))\r\n    private Set&lt;Category&gt; categories;\r\n}\r\n```\r\n\r\n**Class Category**\r\n\r\n```java\r\npublic class Category {\r\n    private Integer id;\r\n    private String name;\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;categories&quot;)\r\n    private Set&lt;Article&gt; articles;\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n```java\r\n    @Override\r\n    public List&lt;Category&gt; findAllCategories() {\r\n        return categoryRepository.findAll();\r\n    }\r\n    @Override\r\n    public List&lt;Article&gt; findAllArticles() {\r\n        return articleRepository.findAll();\r\n    }\r\n```\r\n\r\n**Controller**\r\n\r\n```java\r\n    @GetMapping(&quot;/category&quot;)\r\n    public String adminAllArticlesByCategory(Model model) {\r\n        model.addAttribute(&quot;categories&quot;, categoryService.findAllCategories());\r\n        model.addAttribute(&quot;articles&quot;, articleService.findAllArticles());\r\n        return &quot;/viewByCategory&quot;;\r\n    }\r\n```\r\n\r\nThis code doesn&#39;t work. There are no errors, but for some reason the articles are still not found\r\n\r\n**viewByCategory.html**\r\n\r\n```html\r\n&lt;section&gt;\r\n    &lt;div th:each=&quot;category: ${categories}&quot; th:if=&quot;${category.name == &#39;Tourism&#39;}&quot;&gt;\r\n        &lt;div th:if=&quot;${!articles.isEmpty()}&quot;&gt;\r\n            &lt;div th:each=&quot;el : ${articles}&quot;&gt;\r\n                &lt;img th:src=&quot;${&#39;/images/&#39; + el.image}&quot; th:alt=&quot;${el.title}&quot;&gt;\r\n                &lt;div&gt;\r\n                    &lt;a th:href=&quot;${el.url}&quot; th:text=&quot;${el.title}&quot;&gt;&lt;/a&gt;\r\n                    &lt;span th:text=&quot;${el.description}&quot;&gt;&lt;/span&gt;\r\n                    &lt;span th:text=&quot;${#temporals.format(el.created, &#39;dd MMM yyyy HH:mm&#39;)}&quot;&gt;&lt;/span&gt;\r\n                    &lt;span th:text=&quot;${el.author}&quot;&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;h2 th:if=&quot;${articles.isEmpty()}&quot;&gt;No Articles&lt;/h2&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/section&gt;\r\n```\r\n\r\nWhat can be done?\r\n","title":"Spring Boot + Thymeleaf - How to show articles by category?","body":"<p>I want to show on the page all the articles from the category I need.</p>\n<hr />\n<p><strong>Class Article</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Article {\n    private Long id;\n    private String title;\n    private String description;\n    private String image;\n    private String content;\n    private String author;\n    private LocalDateTime created;\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;categories_articles&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_article&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_category&quot;))\n    private Set&lt;Category&gt; categories;\n}\n</code></pre>\n<p><strong>Class Category</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Category {\n    private Integer id;\n    private String name;\n    \n    @ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;categories&quot;)\n    private Set&lt;Article&gt; articles;\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;Category&gt; findAllCategories() {\n        return categoryRepository.findAll();\n    }\n    @Override\n    public List&lt;Article&gt; findAllArticles() {\n        return articleRepository.findAll();\n    }\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/category&quot;)\n    public String adminAllArticlesByCategory(Model model) {\n        model.addAttribute(&quot;categories&quot;, categoryService.findAllCategories());\n        model.addAttribute(&quot;articles&quot;, articleService.findAllArticles());\n        return &quot;/viewByCategory&quot;;\n    }\n</code></pre>\n<p>This code doesn't work. There are no errors, but for some reason the articles are still not found</p>\n<p><strong>viewByCategory.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;section&gt;\n    &lt;div th:each=&quot;category: ${categories}&quot; th:if=&quot;${category.name == 'Tourism'}&quot;&gt;\n        &lt;div th:if=&quot;${!articles.isEmpty()}&quot;&gt;\n            &lt;div th:each=&quot;el : ${articles}&quot;&gt;\n                &lt;img th:src=&quot;${'/images/' + el.image}&quot; th:alt=&quot;${el.title}&quot;&gt;\n                &lt;div&gt;\n                    &lt;a th:href=&quot;${el.url}&quot; th:text=&quot;${el.title}&quot;&gt;&lt;/a&gt;\n                    &lt;span th:text=&quot;${el.description}&quot;&gt;&lt;/span&gt;\n                    &lt;span th:text=&quot;${#temporals.format(el.created, 'dd MMM yyyy HH:mm')}&quot;&gt;&lt;/span&gt;\n                    &lt;span th:text=&quot;${el.author}&quot;&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;h2 th:if=&quot;${articles.isEmpty()}&quot;&gt;No Articles&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n<p>What can be done?</p>\n"},{"tags":["java","android","kotlin","android-jetpack","android-jetpack-navigation"],"owner":{"account_id":12568609,"reputation":11,"user_id":9143530,"display_name":"Shubhankar Mahajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675589218,"creation_date":1675589218,"question_id":75351257,"body_markdown":"I have NavigationComponent in my app which is connected to drawer Navigation and bottom NavigationView also. **both navigation view have different unique items and destinations.**\r\n\r\nWhen I select any item from bottom navigation then item icon gets highlighted but when I select item from drawer navigation view then also some item icon in bottom navigation remains highlighted. which is not what I want.\r\n\r\nwhen profile item selected from bottomNavigation:\r\n\r\n[![profile item selected from bottom navigation](https://i.stack.imgur.com/h3Ocu.jpg)](https://i.stack.imgur.com/h3Ocu.jpg)\r\n\r\nwhen some item from drawer navigation is selected then the profile item in bottom navigation remains selected:\r\n[![selecting item from drawer navigation](https://i.stack.imgur.com/FhtRO.jpg)](https://i.stack.imgur.com/FhtRO.jpg)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried follwoing snippet in onClickListeners, setNavigationItemSelectedListener and other listners of Drawer Navigation view.\r\n\r\n```\r\n var idItemSelected = binding.bottomNavMainActivity.selectedItemId\r\n            binding.bottomNavMainActivity.menu.findItem(idItemSelected).isChecked = false\r\n```\r\n\r\n**I want to unselect(unhighlight) items from bottom navigation view if there is any items selected in drawer navigation view.**\r\n\r\n\r\n\r\n**Drawer Navigation menu code:**\r\n\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/configureKeyboardFragment&quot;\r\n        android:icon=&quot;@drawable/ic_star&quot;\r\n        android:title=&quot;Configure Keyboard&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/keyboardSettingFragment&quot;\r\n        android:icon=&quot;@drawable/ic_explore&quot;\r\n        android:title=&quot;Keyboard Settings&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/item_drawer_share&quot;\r\n        android:icon=&quot;@drawable/ic_search&quot;\r\n        android:title=&quot;Share&quot; /&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\n**Drawer Navigation view xml:**\r\n\r\n\r\n```\r\n &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/navigation_view_drawer&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:itemTextColor=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\r\n        app:itemIconTint=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:background=&quot;@drawable/shape_round_navigation_background&quot;\r\n        android:fitsSystemWindows=&quot;false&quot;\r\n        app:headerLayout=&quot;@layout/layout_header_drawer&quot;\r\n        app:menu=&quot;@menu/menu_drawer_main&quot; /&gt;\r\n```\r\n\r\n\r\n**Bottom Navigation menu code:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/searchFragment&quot;\r\n        android:icon=&quot;@drawable/ic_search&quot;\r\n        android:title=&quot;Search&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/favoriteFragment&quot;\r\n        android:icon=&quot;@drawable/ic_star&quot;\r\n        android:title=&quot;Fav&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/exploreFragment&quot;\r\n        android:icon=&quot;@drawable/ic_explore&quot;\r\n        android:title=&quot;Explore&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/keyboardFragment&quot;\r\n        android:icon=&quot;@drawable/ic_keyboard&quot;\r\n        android:title=&quot;Keyboard&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/profileFragment&quot;\r\n        android:icon=&quot;@drawable/ic_profile&quot;\r\n        android:title=&quot;Profile&quot; /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n **Bottom Navigation view xml:**\r\n\r\n```\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavMainActivity&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:layout_marginStart=&quot;@dimen/marginLeft&quot;\r\n            android:layout_marginEnd=&quot;@dimen/marginRight&quot;\r\n            android:layout_marginBottom=&quot;15dp&quot;\r\n            android:background=&quot;@drawable/shape_round_bottom_nav_bar_main&quot;\r\n            app:itemIconTint=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\r\n            app:labelVisibilityMode=&quot;unlabeled&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/menu_bottom_nav_main_activity&quot; /&gt;\r\n```\r\n\r\n**Actvity code where we are setting navigation:**\r\n\r\n\r\n```\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    lateinit var binding: ActivityMainBinding\r\n    lateinit var navController: NavController\r\n\r\n    lateinit var drawerLayout: DrawerLayout\r\n    lateinit var actionBarDrawerToggle: ActionBarDrawerToggle\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        //toolbar and drawer setup\r\n        setSupportActionBar(binding.toolbarActvitiyMain)\r\n        drawerLayout = binding.drawerMainActivity\r\n        actionBarDrawerToggle =\r\n            ActionBarDrawerToggle(this, drawerLayout, R.string.nav_open, R.string.nav_close)\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle)\r\n        actionBarDrawerToggle.syncState()\r\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n\r\n        //navigation setup\r\n        val navHostFragment =\r\n            supportFragmentManager.findFragmentById(R.id.fragmentContainerView) as NavHostFragment\r\n        navController = navHostFragment.navController\r\n\r\n        binding.bottomNavMainActivity.setupWithNavController(navController)\r\n        binding.navigationViewDrawer.setupWithNavController(navController)\r\n\r\n\r\n    }\r\n\r\n    override fun onSupportNavigateUp(): Boolean {\r\n        drawerLayout.openDrawer(binding.navigationViewDrawer)\r\n        return true\r\n    }\r\n//todo\r\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n        return if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n            var idItemSelected = binding.bottomNavMainActivity.selectedItemId\r\n            binding.bottomNavMainActivity.menu.findItem(idItemSelected).isChecked = false\r\n            true\r\n        } else super.onOptionsItemSelected(item)\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Unselect bottom Navigation View items when any item of Drawer Navigation View is clicked","body":"<p>I have NavigationComponent in my app which is connected to drawer Navigation and bottom NavigationView also. <strong>both navigation view have different unique items and destinations.</strong></p>\n<p>When I select any item from bottom navigation then item icon gets highlighted but when I select item from drawer navigation view then also some item icon in bottom navigation remains highlighted. which is not what I want.</p>\n<p>when profile item selected from bottomNavigation:</p>\n<p><a href=\"https://i.stack.imgur.com/h3Ocu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3Ocu.jpg\" alt=\"profile item selected from bottom navigation\" /></a></p>\n<p>when some item from drawer navigation is selected then the profile item in bottom navigation remains selected:\n<a href=\"https://i.stack.imgur.com/FhtRO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhtRO.jpg\" alt=\"selecting item from drawer navigation\" /></a></p>\n<p>I tried follwoing snippet in onClickListeners, setNavigationItemSelectedListener and other listners of Drawer Navigation view.</p>\n<pre><code> var idItemSelected = binding.bottomNavMainActivity.selectedItemId\n            binding.bottomNavMainActivity.menu.findItem(idItemSelected).isChecked = false\n</code></pre>\n<p><strong>I want to unselect(unhighlight) items from bottom navigation view if there is any items selected in drawer navigation view.</strong></p>\n<p><strong>Drawer Navigation menu code:</strong></p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/configureKeyboardFragment&quot;\n        android:icon=&quot;@drawable/ic_star&quot;\n        android:title=&quot;Configure Keyboard&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/keyboardSettingFragment&quot;\n        android:icon=&quot;@drawable/ic_explore&quot;\n        android:title=&quot;Keyboard Settings&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/item_drawer_share&quot;\n        android:icon=&quot;@drawable/ic_search&quot;\n        android:title=&quot;Share&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p><strong>Drawer Navigation view xml:</strong></p>\n<pre><code> &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/navigation_view_drawer&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:itemTextColor=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\n        app:itemIconTint=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@drawable/shape_round_navigation_background&quot;\n        android:fitsSystemWindows=&quot;false&quot;\n        app:headerLayout=&quot;@layout/layout_header_drawer&quot;\n        app:menu=&quot;@menu/menu_drawer_main&quot; /&gt;\n</code></pre>\n<p><strong>Bottom Navigation menu code:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/searchFragment&quot;\n        android:icon=&quot;@drawable/ic_search&quot;\n        android:title=&quot;Search&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/favoriteFragment&quot;\n        android:icon=&quot;@drawable/ic_star&quot;\n        android:title=&quot;Fav&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/exploreFragment&quot;\n        android:icon=&quot;@drawable/ic_explore&quot;\n        android:title=&quot;Explore&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/keyboardFragment&quot;\n        android:icon=&quot;@drawable/ic_keyboard&quot;\n        android:title=&quot;Keyboard&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/profileFragment&quot;\n        android:icon=&quot;@drawable/ic_profile&quot;\n        android:title=&quot;Profile&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p><strong>Bottom Navigation view xml:</strong></p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavMainActivity&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:layout_marginStart=&quot;@dimen/marginLeft&quot;\n            android:layout_marginEnd=&quot;@dimen/marginRight&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            android:background=&quot;@drawable/shape_round_bottom_nav_bar_main&quot;\n            app:itemIconTint=&quot;@color/color_bottom_nav_menu_item_icon_selector&quot;\n            app:labelVisibilityMode=&quot;unlabeled&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:menu=&quot;@menu/menu_bottom_nav_main_activity&quot; /&gt;\n</code></pre>\n<p><strong>Actvity code where we are setting navigation:</strong></p>\n<pre><code>\n\nclass MainActivity : AppCompatActivity() {\n    lateinit var binding: ActivityMainBinding\n    lateinit var navController: NavController\n\n    lateinit var drawerLayout: DrawerLayout\n    lateinit var actionBarDrawerToggle: ActionBarDrawerToggle\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        //toolbar and drawer setup\n        setSupportActionBar(binding.toolbarActvitiyMain)\n        drawerLayout = binding.drawerMainActivity\n        actionBarDrawerToggle =\n            ActionBarDrawerToggle(this, drawerLayout, R.string.nav_open, R.string.nav_close)\n        drawerLayout.addDrawerListener(actionBarDrawerToggle)\n        actionBarDrawerToggle.syncState()\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n        //navigation setup\n        val navHostFragment =\n            supportFragmentManager.findFragmentById(R.id.fragmentContainerView) as NavHostFragment\n        navController = navHostFragment.navController\n\n        binding.bottomNavMainActivity.setupWithNavController(navController)\n        binding.navigationViewDrawer.setupWithNavController(navController)\n\n\n    }\n\n    override fun onSupportNavigateUp(): Boolean {\n        drawerLayout.openDrawer(binding.navigationViewDrawer)\n        return true\n    }\n//todo\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        return if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n            var idItemSelected = binding.bottomNavMainActivity.selectedItemId\n            binding.bottomNavMainActivity.menu.findItem(idItemSelected).isChecked = false\n            true\n        } else super.onOptionsItemSelected(item)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","http-status-code-400","httpconnection","400-bad-request"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1675327823,"post_id":75320451,"comment_id":132906061,"body_markdown":"The client code looks ok to me. What matters is the backend. Do you have the code for that? You said it&#39;s working with postman, how are you sending the request there? POST? Which headers? How are you sending the request body?","body":"The client code looks ok to me. What matters is the backend. Do you have the code for that? You said it&#39;s working with postman, how are you sending the request there? POST? Which headers? How are you sending the request body?"},{"owner":{"account_id":7106910,"reputation":21,"user_id":5436271,"display_name":"BipLab"},"score":0,"creation_date":1675330118,"post_id":75320451,"comment_id":132906756,"body_markdown":"I am using POST request to call the API. Request body is a raw JSON like this-\n{\n&quot;username&quot;: &quot;ic8823790&quot;,\n&quot;password&quot;: &quot;ic8823790&quot;,\n&quot;Product_No&quot;: &quot;sss265&quot;,\n&quot;Description&quot;: &quot;sss265&quot;,\n&quot;Stocking_Type&quot;: &quot;s&quot;,\n&quot;G_L_Class&quot;: &quot;in30&quot;,\n&quot;Unit_of_Measure&quot;: &quot;ea&quot;,\n&quot;Search_Text&quot;: &quot;sss265&quot;,\n&quot;Branch_Plant&quot;: &quot;30&quot;\n}\n@invzbl3","body":"I am using POST request to call the API. Request body is a raw JSON like this- { &quot;username&quot;: &quot;ic8823790&quot;, &quot;password&quot;: &quot;ic8823790&quot;, &quot;Product_No&quot;: &quot;sss265&quot;, &quot;Description&quot;: &quot;sss265&quot;, &quot;Stocking_Type&quot;: &quot;s&quot;, &quot;G_L_Class&quot;: &quot;in30&quot;, &quot;Unit_of_Measure&quot;: &quot;ea&quot;, &quot;Search_Text&quot;: &quot;sss265&quot;, &quot;Branch_Plant&quot;: &quot;30&quot; } @invzbl3"}],"answers":[{"tags":[],"owner":{"account_id":7106910,"reputation":21,"user_id":5436271,"display_name":"BipLab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675589188,"creation_date":1675402258,"answer_id":75331860,"question_id":75320451,"body_markdown":"the issue is solved.\r\nI have just removed the `UTF-8` from the `setRequestProperty` of the connection and it is working now.\r\n\r\nBefore : \r\n\r\n```java\r\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\r\n```\r\n\r\nAfter : \r\n\r\n```java\r\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n```\r\n","title":"Getting 400 Bad Request while calling RestAPI in eclipse, but working in Postman","body":"<p>the issue is solved.\nI have just removed the <code>UTF-8</code> from the <code>setRequestProperty</code> of the connection and it is working now.</p>\n<p>Before :</p>\n<pre class=\"lang-java prettyprint-override\"><code>con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\n</code></pre>\n<p>After :</p>\n<pre class=\"lang-java prettyprint-override\"><code>con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n</code></pre>\n"}],"owner":{"account_id":7106910,"reputation":21,"user_id":5436271,"display_name":"BipLab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675589188,"creation_date":1675326844,"question_id":75320451,"body_markdown":"I have a function which takes `2` input -\r\n\r\n1. `JSON` filepath\r\n2. RestURL\r\n\r\nAfter calling the function, it should return the output as `JSON`.\r\n\r\nBut the problem here, it is throwing `400` Bad request error.\r\nBelow is the log of error which i am getting -\r\n\r\n    Error Log :\r\n    URL:\r\n    http://localhost:26081/jderest/v3/orchestrator/ORC_2212160001JDE\r\n    Conn : sun.net.www.protocol.http.HttpURLConnection:http://localhost:26081/jderest/v3/orchestrator/ORC_2212160001JDE\r\n    JSON Input path : \\\\phxxxx155826.xxxxxx.fusionappsdphx1.xxxxxxxx.com\\\\FF\\\\Orchest\\\\orc1.json\r\n    {\r\n    &quot;username&quot;: &quot;ic8823790&quot;,\r\n    &quot;password&quot;: &quot;ic8823790&quot;,\r\n    &quot;Product_No&quot;: &quot;sss265&quot;,\r\n    &quot;Description&quot;: &quot;sss265&quot;,\r\n    &quot;Stocking_Type&quot;: &quot;s&quot;,\r\n    &quot;G_L_Class&quot;: &quot;in30&quot;,\r\n    &quot;Unit_of_Measure&quot;: &quot;ea&quot;,\r\n    &quot;Search_Text&quot;: &quot;sss265&quot;,\r\n    &quot;Branch_Plant&quot;: &quot;30&quot;\r\n    }\r\n    HTTP CODE : 400\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: http://exx11001.ad1.xxxxxxxdephx.xxxxxxx.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1944)\r\n    at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1939)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1938)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1508)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n    at OrchestratorAPI.orchestratorCall(OrchestratorAPI.java:108)\r\n    at OrchestratorAPI.main(OrchestratorAPI.java:25)\r\n    Caused by: java.io.IOException: Server returned HTTP response code: 400 for URL: http://ems11001.ad1.fusionappsdephx.oraclevcn.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n    at OrchestratorAPI.orchestratorCall(OrchestratorAPI.java:100)\r\n    ... 1 more\r\n\r\nThis is source what i have tried -\r\n\r\n\r\n    public class OrchestratorAPI {\r\n    \r\n        public static void main(String[] args) throws MalformedURLException, IOException {\r\n        \t// TODO Auto-generated method stub\r\n        \tString filepath = &quot;\\\\\\\\xxxxxxx155826.xxxxxxx.fusionappsdphx1.xxxxxxx.com\\\\FF\\\\Orchest\\\\orc1.json&quot;;\r\n        \tString orchAPI = &quot;http://exx11001.ad1.xxxxxxxdephx.xxxxxxx.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE&quot;;\r\n        \torchestratorCall(filepath, orchAPI);\r\n        \r\n        }\r\n        \r\n        public static void orchestratorCall(String filePath, String orchestAPI) throws MalformedURLException, IOException {\r\n        \r\n        \tString charset = &quot;UTF-8&quot;;\r\n        \tStringBuilder result;\r\n        \tString content = &quot;&quot;;\r\n        \tString path = &quot;&quot;, sid = &quot;&quot;;\r\n        \tString paramsJSON=&quot;&quot;;\r\n        \r\n        \tURLConnection con = new URL(orchestAPI).openConnection();\r\n        \tSystem.out.println(&quot;URL : &quot;+orchestAPI + &quot;\\nConn : &quot;+con);\r\n        \r\n        \tSystem.out.println(&quot;JSON Input path : &quot; + filePath);\r\n        \ttry {\r\n        \t\tparamsJSON = new String(\r\n                    Files.readAllBytes(Paths.get(filePath)));\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        \r\n        \tSystem.out.println(paramsJSON);\r\n        \r\n        \ttry {\r\n        \t\t((HttpURLConnection) con).setRequestMethod(&quot;POST&quot;);\r\n        \t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\r\n        \t\tcon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        \r\n        \t\tcon.setDoOutput(true);\r\n        \t\tcon.setReadTimeout(60000);\r\n        \t\tcon.setConnectTimeout(60000);\r\n        \r\n        \t\ttry (OutputStream os = con.getOutputStream()) {\r\n        \t\t\tbyte[] input = paramsJSON.getBytes(charset);\r\n        \t\t\tos.write(input, 0, input.length);\r\n        \t\t}\r\n        \r\n        \t\tint code = ((HttpURLConnection) con).getResponseCode();\r\n        \t\tSystem.out.println(&quot;HTTP CODE : &quot; + String.valueOf(code));\r\n        \t} catch (IOException e) {\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        \r\n        \ttry {\r\n        \t\t// Receive the response from the server\r\n        \t\tInputStream in = new BufferedInputStream(con.getInputStream());\r\n        \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n        \t\tresult = new StringBuilder();\r\n        \t\tString line;\r\n        \t\twhile ((line = reader.readLine()) != null) {\r\n        \t\t\tresult.append(line);\r\n        \t\t}\r\n        \r\n        \t\tSystem.out.println(&quot;JSON Parser -&gt; result: &quot; + result.toString());\r\n        \r\n        \t\ttry {\r\n        \t\t\t// Create new report file\r\n        \t\t\tcontent = result.toString();\r\n        \t\t\tpath = &quot;\\\\\\\\xxxxxxx155826.xxxxxxx.fusionappsdphx1.xxxxxxxx.com\\\\FF\\\\Orchest\\\\&quot; + &quot;&quot; + &quot;OrchestratorReport.json&quot;;\r\n        \t\t\tSystem.out.println(&quot;Home Dir path : &quot; + path);\r\n        \t\t\tFile file = new File(path);\r\n        \r\n        \t\t\t// If file doesn&#39;t exists, then create it\r\n        \t\t\tif (!file.exists()) {\r\n        \t\t\t\tfile.createNewFile();\r\n        \t\t\t}\r\n        \r\n        \t\t\tFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n        \t\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n        \r\n        \t\t\t// Write in file\r\n        \t\t\tbw.write(content);\r\n        \r\n        \t\t\t// Close connection\r\n        \t\t\tbw.close();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.out.println(e);\r\n        \t\t}\r\n        \r\n        \t} catch (IOException e) {\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        \r\n        \t((HttpURLConnection) con).disconnect();   \r\n        }\r\n    }","title":"Getting 400 Bad Request while calling RestAPI in eclipse, but working in Postman","body":"<p>I have a function which takes <code>2</code> input -</p>\n<ol>\n<li><code>JSON</code> filepath</li>\n<li>RestURL</li>\n</ol>\n<p>After calling the function, it should return the output as <code>JSON</code>.</p>\n<p>But the problem here, it is throwing <code>400</code> Bad request error.\nBelow is the log of error which i am getting -</p>\n<pre><code>Error Log :\nURL:\nhttp://localhost:26081/jderest/v3/orchestrator/ORC_2212160001JDE\nConn : sun.net.www.protocol.http.HttpURLConnection:http://localhost:26081/jderest/v3/orchestrator/ORC_2212160001JDE\nJSON Input path : \\\\phxxxx155826.xxxxxx.fusionappsdphx1.xxxxxxxx.com\\\\FF\\\\Orchest\\\\orc1.json\n{\n&quot;username&quot;: &quot;ic8823790&quot;,\n&quot;password&quot;: &quot;ic8823790&quot;,\n&quot;Product_No&quot;: &quot;sss265&quot;,\n&quot;Description&quot;: &quot;sss265&quot;,\n&quot;Stocking_Type&quot;: &quot;s&quot;,\n&quot;G_L_Class&quot;: &quot;in30&quot;,\n&quot;Unit_of_Measure&quot;: &quot;ea&quot;,\n&quot;Search_Text&quot;: &quot;sss265&quot;,\n&quot;Branch_Plant&quot;: &quot;30&quot;\n}\nHTTP CODE : 400\njava.io.IOException: Server returned HTTP response code: 400 for URL: http://exx11001.ad1.xxxxxxxdephx.xxxxxxx.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1944)\nat sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1939)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1938)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1508)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\nat OrchestratorAPI.orchestratorCall(OrchestratorAPI.java:108)\nat OrchestratorAPI.main(OrchestratorAPI.java:25)\nCaused by: java.io.IOException: Server returned HTTP response code: 400 for URL: http://ems11001.ad1.fusionappsdephx.oraclevcn.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\nat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat OrchestratorAPI.orchestratorCall(OrchestratorAPI.java:100)\n... 1 more\n</code></pre>\n<p>This is source what i have tried -</p>\n<pre><code>public class OrchestratorAPI {\n\n    public static void main(String[] args) throws MalformedURLException, IOException {\n        // TODO Auto-generated method stub\n        String filepath = &quot;\\\\\\\\xxxxxxx155826.xxxxxxx.fusionappsdphx1.xxxxxxx.com\\\\FF\\\\Orchest\\\\orc1.json&quot;;\n        String orchAPI = &quot;http://exx11001.ad1.xxxxxxxdephx.xxxxxxx.com:26081/jderest/v3/orchestrator/ORC_2212160001JDE&quot;;\n        orchestratorCall(filepath, orchAPI);\n    \n    }\n    \n    public static void orchestratorCall(String filePath, String orchestAPI) throws MalformedURLException, IOException {\n    \n        String charset = &quot;UTF-8&quot;;\n        StringBuilder result;\n        String content = &quot;&quot;;\n        String path = &quot;&quot;, sid = &quot;&quot;;\n        String paramsJSON=&quot;&quot;;\n    \n        URLConnection con = new URL(orchestAPI).openConnection();\n        System.out.println(&quot;URL : &quot;+orchestAPI + &quot;\\nConn : &quot;+con);\n    \n        System.out.println(&quot;JSON Input path : &quot; + filePath);\n        try {\n            paramsJSON = new String(\n                Files.readAllBytes(Paths.get(filePath)));\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    \n        System.out.println(paramsJSON);\n    \n        try {\n            ((HttpURLConnection) con).setRequestMethod(&quot;POST&quot;);\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\n            con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n    \n            con.setDoOutput(true);\n            con.setReadTimeout(60000);\n            con.setConnectTimeout(60000);\n    \n            try (OutputStream os = con.getOutputStream()) {\n                byte[] input = paramsJSON.getBytes(charset);\n                os.write(input, 0, input.length);\n            }\n    \n            int code = ((HttpURLConnection) con).getResponseCode();\n            System.out.println(&quot;HTTP CODE : &quot; + String.valueOf(code));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    \n        try {\n            // Receive the response from the server\n            InputStream in = new BufferedInputStream(con.getInputStream());\n            BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n            result = new StringBuilder();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                result.append(line);\n            }\n    \n            System.out.println(&quot;JSON Parser -&gt; result: &quot; + result.toString());\n    \n            try {\n                // Create new report file\n                content = result.toString();\n                path = &quot;\\\\\\\\xxxxxxx155826.xxxxxxx.fusionappsdphx1.xxxxxxxx.com\\\\FF\\\\Orchest\\\\&quot; + &quot;&quot; + &quot;OrchestratorReport.json&quot;;\n                System.out.println(&quot;Home Dir path : &quot; + path);\n                File file = new File(path);\n    \n                // If file doesn't exists, then create it\n                if (!file.exists()) {\n                    file.createNewFile();\n                }\n    \n                FileWriter fw = new FileWriter(file.getAbsoluteFile());\n                BufferedWriter bw = new BufferedWriter(fw);\n    \n                // Write in file\n                bw.write(content);\n    \n                // Close connection\n                bw.close();\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n    \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    \n        ((HttpURLConnection) con).disconnect();   \n    }\n}\n</code></pre>\n"},{"tags":["java","sql","database","postgresql","sql-insert"],"comments":[{"owner":{"account_id":1582991,"reputation":2281,"user_id":1467914,"accept_rate":75,"display_name":"topsail"},"score":4,"creation_date":1675560409,"post_id":75349535,"comment_id":132955695,"body_markdown":"This has to be two statements. In general, the way you make sure &quot;both happen&quot; is to put them into a transaction - this means that if anything fails, all the statements (both of them) are rolled back - so they fail or succeed together.","body":"This has to be two statements. In general, the way you make sure &quot;both happen&quot; is to put them into a transaction - this means that if anything fails, all the statements (both of them) are rolled back - so they fail or succeed together."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675560662,"post_id":75349535,"comment_id":132955725,"body_markdown":"As the first comment said, the proper way to do that is to use a transaction. But, have you tried using `;` instead of `AND`?","body":"As the first comment said, the proper way to do that is to use a transaction. But, have you tried using <code>;</code> instead of <code>AND</code>?"},{"owner":{"account_id":26284170,"reputation":3,"user_id":19952182,"display_name":"Deep"},"score":0,"creation_date":1675561012,"post_id":75349535,"comment_id":132955764,"body_markdown":"I want to use this statement in Java so I have a string named sqlQuery that will store this prepared statement and I cannot place a semicolon on one.","body":"I want to use this statement in Java so I have a string named sqlQuery that will store this prepared statement and I cannot place a semicolon on one."},{"owner":{"account_id":26284170,"reputation":3,"user_id":19952182,"display_name":"Deep"},"score":0,"creation_date":1675561032,"post_id":75349535,"comment_id":132955766,"body_markdown":"I don&#39;t know anything about transaction!","body":"I don&#39;t know anything about transaction!"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1675561418,"post_id":75349535,"comment_id":132955813,"body_markdown":"MySQL is able to run multiple SQL statements at once (I think it&#39;s a bad idea), but not PostgreSQL. Just run one after the one and problem solved.","body":"MySQL is able to run multiple SQL statements at once (I think it&#39;s a bad idea), but not PostgreSQL. Just run one after the one and problem solved."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1675588973,"post_id":75349535,"comment_id":132958455,"body_markdown":"@TheImpaler: Postgres will happily run multiple statements in a single `execute()` call as long as they are properly terminated with `;`","body":"@TheImpaler: Postgres will happily run multiple statements in a single <code>execute()</code> call as long as they are properly terminated with <code>;</code>"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675603130,"post_id":75349535,"comment_id":132960717,"body_markdown":"@a_horse_with_no_name I stand corrected. Just tested it.","body":"@a_horse_with_no_name I stand corrected. Just tested it."}],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675588573,"creation_date":1675588573,"answer_id":75351185,"question_id":75349535,"body_markdown":"It is not possible to combine two insert statements with an AND. They need to be seperated.\r\n\r\nIn your code, depending on the language/framework, you can make one transaction for both statements, so they will be comitted at the same time to your DB.","title":"Using two INSERT statements for two different tables in a single SQL statement","body":"<p>It is not possible to combine two insert statements with an AND. They need to be seperated.</p>\n<p>In your code, depending on the language/framework, you can make one transaction for both statements, so they will be comitted at the same time to your DB.</p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675588924,"creation_date":1675588924,"answer_id":75351226,"question_id":75349535,"body_markdown":"If the goal is to avoid repeating the value for the ID column, this _could_ be done using a data modifying CTE:\r\n\r\n    with data (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) as (\r\n      VALUES (100222222, &#39;password&#39;, &#39;Robert&#39;, &#39;McReady&#39;, &#39;bob.mcready@dcmail.ca&#39;, &#39;2016-03-07&#39;, &#39;2015-09-03&#39;, true, &#39;s&#39;) \r\n    ), new_user as (\r\n      INSERT INTO users (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) \r\n      select id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type\r\n      from data\r\n    )\r\n    INSERT INTO students (id, programcode, programdescription, year) \r\n    select id, &#39;a&#39;, &#39;b&#39;, 3\r\n    from data;\r\n\r\nPostgres also allows to run two statements with a single `Statement.executeUpdate()` call as long as they are delimited with a `;` (not with an &quot;AND&quot;)\r\n\r\n```java\r\nString sqlInsert = &quot;insert into users (...) values (...);&quot; +\r\n                   &quot;insert into students (...) values (...);&quot;;\r\n```\r\n\r\n---\r\n\r\nHowever the above is **not** the correct approach. You should **not** put the actual values directly into your SQL strings. \r\n\r\nIt&#39;s better (safer and more efficient) to use a `PreparedStatement`. As the ID will be stored in a Java variable, there is no need to repeat it. \r\n\r\nThis has the additional advantage that you can pass the values for the `DATE` columns as proper `LocalDate` instances rather than strings. If you insert both in a single transaction you make sure that either both rows or nothing is inserted.\r\n\r\nSomething like the following (without proper error handling and cleanup!)\r\n\r\n```java\r\nString usersInsert = &quot;INSERT INTO users \r\n                    (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) \r\n                    VALUES (?,?,?,?,?,?,?,?,?)&quot;;\r\nString studentInsert = &quot;INSERT INTO INSERT INTO students (id, programcode, programdescription, year)  values (?,?,?,?)&quot;; \r\n\r\n\r\n// Start a transaction\r\nconnection.setAutocommit(false);\r\n\r\nint id = 100222222;\r\nPreparedStatement stmtUsers = connection.prepareStatement(usersInsert);\r\nstmtUsers.setInt(1, id);\r\nstmtUsers.setString(2, &quot;password&quot;);\r\nstmtUsers.setString(3, &quot;Robert&quot;);\r\n...\r\nstmtUsers.setObject(6, LocalDate.of(2016,3,7), Types.DATE);\r\nstmtUsers.setObject(7, LocalDate.of(2015,9,3), Types.DATE);\r\n...\r\nstmtUsers.executeUpdate();\r\n\r\nPreparedStatement stmtStudent = connection.prepareStatement(studentInsert);\r\nstmtStudent.setInt(1, id);\r\nstmtStudent.setString(2, &quot;a&quot;);\r\n...\r\n\r\nstmtStudent.executeUpdate();\r\n\r\n// end the transaction\r\nconnection.commit();\r\n\r\nstmtStudent.close();\r\nstmtUsers.close();\r\n```\r\n \r\n\r\n","title":"Using two INSERT statements for two different tables in a single SQL statement","body":"<p>If the goal is to avoid repeating the value for the ID column, this <em>could</em> be done using a data modifying CTE:</p>\n<pre><code>with data (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) as (\n  VALUES (100222222, 'password', 'Robert', 'McReady', 'bob.mcready@dcmail.ca', '2016-03-07', '2015-09-03', true, 's') \n), new_user as (\n  INSERT INTO users (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) \n  select id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type\n  from data\n)\nINSERT INTO students (id, programcode, programdescription, year) \nselect id, 'a', 'b', 3\nfrom data;\n</code></pre>\n<p>Postgres also allows to run two statements with a single <code>Statement.executeUpdate()</code> call as long as they are delimited with a <code>;</code> (not with an &quot;AND&quot;)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sqlInsert = &quot;insert into users (...) values (...);&quot; +\n                   &quot;insert into students (...) values (...);&quot;;\n</code></pre>\n<hr />\n<p>However the above is <strong>not</strong> the correct approach. You should <strong>not</strong> put the actual values directly into your SQL strings.</p>\n<p>It's better (safer and more efficient) to use a <code>PreparedStatement</code>. As the ID will be stored in a Java variable, there is no need to repeat it.</p>\n<p>This has the additional advantage that you can pass the values for the <code>DATE</code> columns as proper <code>LocalDate</code> instances rather than strings. If you insert both in a single transaction you make sure that either both rows or nothing is inserted.</p>\n<p>Something like the following (without proper error handling and cleanup!)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String usersInsert = &quot;INSERT INTO users \n                    (id, password, firstname, lastname, emailaddress, enrolldate, lastaccess, enabled, type) \n                    VALUES (?,?,?,?,?,?,?,?,?)&quot;;\nString studentInsert = &quot;INSERT INTO INSERT INTO students (id, programcode, programdescription, year)  values (?,?,?,?)&quot;; \n\n\n// Start a transaction\nconnection.setAutocommit(false);\n\nint id = 100222222;\nPreparedStatement stmtUsers = connection.prepareStatement(usersInsert);\nstmtUsers.setInt(1, id);\nstmtUsers.setString(2, &quot;password&quot;);\nstmtUsers.setString(3, &quot;Robert&quot;);\n...\nstmtUsers.setObject(6, LocalDate.of(2016,3,7), Types.DATE);\nstmtUsers.setObject(7, LocalDate.of(2015,9,3), Types.DATE);\n...\nstmtUsers.executeUpdate();\n\nPreparedStatement stmtStudent = connection.prepareStatement(studentInsert);\nstmtStudent.setInt(1, id);\nstmtStudent.setString(2, &quot;a&quot;);\n...\n\nstmtStudent.executeUpdate();\n\n// end the transaction\nconnection.commit();\n\nstmtStudent.close();\nstmtUsers.close();\n</code></pre>\n"}],"owner":{"account_id":26284170,"reputation":3,"user_id":19952182,"display_name":"Deep"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75351226,"answer_count":2,"score":0,"last_activity_date":1675588924,"creation_date":1675560140,"question_id":75349535,"body_markdown":"I have two tables one is users and other is students. I wish to execute a single SQL statement that inserts into both these tables different values. The id is PK for users and I have referenced the same id in the student table with (`id INTEGER NOT NULL PRIMARY KEY REFERENCES users(id)`)\r\n\r\nI tried this:\r\n\r\n```\r\nINSERT INTO users (id, password, firstName, lastName, emailAddress, enrollDate, lastAccess, enabled, type) VALUES (100222222, &#39;password&#39;, &#39;Robert&#39;, &#39;McReady&#39;, &#39;bob.mcready@dcmail.ca&#39;, &#39;2016-03-07&#39;, &#39;2015-09-03&#39;, true, &#39;s&#39;) \r\nAND \r\nINSERT INTO students (id, programCode, programDescription, year) VALUES (100222222, &#39;a&#39;, &#39;b&#39;, 3)\r\n```\r\n\r\nThis statement throws syntax error (`syntax error at or near &quot;AND&quot;`), and I don&#39;t understand why. I am connecting this SQL prepared statement through Java so my code is like this:\r\n\r\n```java\r\nString sqlInsert = &quot;INSERT INTO users (id, password, firstName, lastName, emailAddress, enrollDate, lastAccess&quot; + &quot;, enabled, type) VALUES (100222222, &#39;password&#39;, &#39;Robert&#39;, &#39;McReady&#39;, &#39;bob.mcready@dcmail.ca&#39;, &quot; + &quot;&#39;2016-03-07&#39;, &#39;2015-09-03&#39;, &#39;s&#39;, true)&quot;;\r\n```\r\n\r\nIs there a way so I can code this sqlInsert statement to insert into two different tables with different values in a single sql statement in Java?","title":"Using two INSERT statements for two different tables in a single SQL statement","body":"<p>I have two tables one is users and other is students. I wish to execute a single SQL statement that inserts into both these tables different values. The id is PK for users and I have referenced the same id in the student table with (<code>id INTEGER NOT NULL PRIMARY KEY REFERENCES users(id)</code>)</p>\n<p>I tried this:</p>\n<pre><code>INSERT INTO users (id, password, firstName, lastName, emailAddress, enrollDate, lastAccess, enabled, type) VALUES (100222222, 'password', 'Robert', 'McReady', 'bob.mcready@dcmail.ca', '2016-03-07', '2015-09-03', true, 's') \nAND \nINSERT INTO students (id, programCode, programDescription, year) VALUES (100222222, 'a', 'b', 3)\n</code></pre>\n<p>This statement throws syntax error (<code>syntax error at or near &quot;AND&quot;</code>), and I don't understand why. I am connecting this SQL prepared statement through Java so my code is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sqlInsert = &quot;INSERT INTO users (id, password, firstName, lastName, emailAddress, enrollDate, lastAccess&quot; + &quot;, enabled, type) VALUES (100222222, 'password', 'Robert', 'McReady', 'bob.mcready@dcmail.ca', &quot; + &quot;'2016-03-07', '2015-09-03', 's', true)&quot;;\n</code></pre>\n<p>Is there a way so I can code this sqlInsert statement to insert into two different tables with different values in a single sql statement in Java?</p>\n"},{"tags":["java","button"],"answers":[{"tags":[],"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675588779,"creation_date":1675588779,"answer_id":75351203,"question_id":75350073,"body_markdown":"I&#39;m not a 100 percent sure, but as fas as I understand `handler.postDelayed()` from\r\nthis explanation \r\n\r\n&gt; Causes the Runnable r to be added to the message queue, to be run\r\n&gt; after the specified amount of time elapses. The runnable will be run\r\n&gt; on the thread to which this handler is attached. The time-base is\r\n&gt; SystemClock.uptimeMillis(). Time spent in deep sleep will add an\r\n&gt; additional delay to execution.\r\n\r\nyou will just add it to a queue, and execute it after 1000ms, so it won&#39;t delay the current execution, but will start the run() method again, after 1000ms.\r\nTo break down your code:\r\n\r\n    public Runnable CountDown = new Runnable() {\r\n        public void run() {\r\n            btnVideoStarts.setText(&quot;Video loading.&quot;); // sets the text to &quot;Video loading.&quot;\r\n            handler.postDelayed(this, 1000); // adds itself to a queue, but won&#39;t stop the execution of this run through\r\n            btnVideoStarts.setText(&quot;Video loading..&quot;); // sets the text to &quot;Video loading..&quot;\r\n            handler.postDelayed(this, 1000);\r\n            btnVideoStarts.setText(&quot;Video loading...&quot;); // Finally sets the text to what you will always see, because the time window, between the text changes is to small\r\n            if (rewardedInterstitialAd != null) {\r\n                btnVideoStarts.setText(&quot;Start video&quot;);\r\n                handler.removeCallbacks(CountDown);\r\n            }\r\n        }\r\n    };\r\n\r\nSo essentially, you&#39;re generating a loop, with both of you&#39;re methods, as both will call themselves (delayed), your second method works, because you don&#39;t set the text twice in the method.\r\nIf you want to wait inside a Runnable, use `Thread.sleep(ms)` and a loop, that stops, when the video is loaded","title":"Why isn&#39;t the text on my &quot;video loading&quot; button changing?","body":"<p>I'm not a 100 percent sure, but as fas as I understand <code>handler.postDelayed()</code> from\nthis explanation</p>\n<blockquote>\n<p>Causes the Runnable r to be added to the message queue, to be run\nafter the specified amount of time elapses. The runnable will be run\non the thread to which this handler is attached. The time-base is\nSystemClock.uptimeMillis(). Time spent in deep sleep will add an\nadditional delay to execution.</p>\n</blockquote>\n<p>you will just add it to a queue, and execute it after 1000ms, so it won't delay the current execution, but will start the run() method again, after 1000ms.\nTo break down your code:</p>\n<pre><code>public Runnable CountDown = new Runnable() {\n    public void run() {\n        btnVideoStarts.setText(&quot;Video loading.&quot;); // sets the text to &quot;Video loading.&quot;\n        handler.postDelayed(this, 1000); // adds itself to a queue, but won't stop the execution of this run through\n        btnVideoStarts.setText(&quot;Video loading..&quot;); // sets the text to &quot;Video loading..&quot;\n        handler.postDelayed(this, 1000);\n        btnVideoStarts.setText(&quot;Video loading...&quot;); // Finally sets the text to what you will always see, because the time window, between the text changes is to small\n        if (rewardedInterstitialAd != null) {\n            btnVideoStarts.setText(&quot;Start video&quot;);\n            handler.removeCallbacks(CountDown);\n        }\n    }\n};\n</code></pre>\n<p>So essentially, you're generating a loop, with both of you're methods, as both will call themselves (delayed), your second method works, because you don't set the text twice in the method.\nIf you want to wait inside a Runnable, use <code>Thread.sleep(ms)</code> and a loop, that stops, when the video is loaded</p>\n"}],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1675588779,"creation_date":1675570340,"question_id":75350073,"body_markdown":"I have a button that plays a rewarded ad, but it takes a few seconds for the ad to load.  I want the button text to cycle between &quot;Video loading.&quot; &quot;Video loading..&quot; and &quot;Video loading...&quot;\r\n\r\nI&#39;ve used the following runnable for this:\r\n\r\n    public Runnable CountDown = new Runnable() {\r\n        public void run() {\r\n            btnVideoStarts.setText(&quot;Video loading.&quot;);\r\n            handler.postDelayed(this, 1000);\r\n            btnVideoStarts.setText(&quot;Video loading..&quot;);\r\n            handler.postDelayed(this, 1000);\r\n            btnVideoStarts.setText(&quot;Video loading...&quot;);\r\n            if (rewardedInterstitialAd != null) {\r\n                btnVideoStarts.setText(&quot;Start video&quot;);\r\n                handler.removeCallbacks(CountDown);\r\n            }\r\n        }\r\n    };\r\n\r\nThe button shows &quot;Video loading...&quot; the whole time until it changes to &quot;Start video&quot;.\r\n\r\nDoes anyone know why it&#39;s only showing those two labels?\r\n\r\nI used to have a countdown timer that worked.  Here&#39;s the code for it:\r\n\r\n    public Runnable CountDown = new Runnable() {\r\n        public void run() {\r\n            btnVideoStarts.setText(&quot;Video ready in &quot; + String.valueOf(buttonCount)+&quot;s&quot;);\r\n            buttonCount --;\r\n            handler.postDelayed(this, 1000);\r\n            if (buttonCount ==0) {\r\n                btnVideoStarts.setText(&quot;Start Video&quot;);\r\n                handler.removeCallbacks(CountDown);\r\n            }\r\n        }\r\n    };\r\n\r\nThe only problem was that the load times varied, so I figured I&#39;d be better off just saying &quot;Video loading...&quot; rather than have the countdown expire before the video was ready.  \r\n\r\nI don&#39;t understand why the old code worked, but the new code doesn&#39;t.  Can someone show me where I&#39;ve gone wrong?","title":"Why isn&#39;t the text on my &quot;video loading&quot; button changing?","body":"<p>I have a button that plays a rewarded ad, but it takes a few seconds for the ad to load.  I want the button text to cycle between &quot;Video loading.&quot; &quot;Video loading..&quot; and &quot;Video loading...&quot;</p>\n<p>I've used the following runnable for this:</p>\n<pre><code>public Runnable CountDown = new Runnable() {\n    public void run() {\n        btnVideoStarts.setText(&quot;Video loading.&quot;);\n        handler.postDelayed(this, 1000);\n        btnVideoStarts.setText(&quot;Video loading..&quot;);\n        handler.postDelayed(this, 1000);\n        btnVideoStarts.setText(&quot;Video loading...&quot;);\n        if (rewardedInterstitialAd != null) {\n            btnVideoStarts.setText(&quot;Start video&quot;);\n            handler.removeCallbacks(CountDown);\n        }\n    }\n};\n</code></pre>\n<p>The button shows &quot;Video loading...&quot; the whole time until it changes to &quot;Start video&quot;.</p>\n<p>Does anyone know why it's only showing those two labels?</p>\n<p>I used to have a countdown timer that worked.  Here's the code for it:</p>\n<pre><code>public Runnable CountDown = new Runnable() {\n    public void run() {\n        btnVideoStarts.setText(&quot;Video ready in &quot; + String.valueOf(buttonCount)+&quot;s&quot;);\n        buttonCount --;\n        handler.postDelayed(this, 1000);\n        if (buttonCount ==0) {\n            btnVideoStarts.setText(&quot;Start Video&quot;);\n            handler.removeCallbacks(CountDown);\n        }\n    }\n};\n</code></pre>\n<p>The only problem was that the load times varied, so I figured I'd be better off just saying &quot;Video loading...&quot; rather than have the countdown expire before the video was ready.</p>\n<p>I don't understand why the old code worked, but the new code doesn't.  Can someone show me where I've gone wrong?</p>\n"},{"tags":["java","eclipse","debugging","jboss","breakpoints"],"comments":[{"owner":{"account_id":121574,"reputation":11450,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"score":0,"creation_date":1326844208,"post_id":8903062,"comment_id":11135440,"body_markdown":"It is a case that the java files are in a different project and you have added a jar file of the project that you are currently debugging?","body":"It is a case that the java files are in a different project and you have added a jar file of the project that you are currently debugging?"},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1326863729,"post_id":8903062,"comment_id":11138377,"body_markdown":"No, the the class I am trying to debug is in the current project. Not a dependency.","body":"No, the the class I am trying to debug is in the current project. Not a dependency."}],"answers":[{"comments":[{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1326864551,"post_id":8904019,"comment_id":11138490,"body_markdown":"Thank you - could you please explain why eclipse/JBoss(?) could not figure out by itself where the root of my java classes is. I thought eclipse could conclude it from my project&#39;s directory structure?","body":"Thank you - could you please explain why eclipse/JBoss(?) could not figure out by itself where the root of my java classes is. I thought eclipse could conclude it from my project&#39;s directory structure?"},{"owner":{"account_id":133792,"reputation":2503,"user_id":335439,"accept_rate":62,"display_name":"mrcaramori"},"score":0,"creation_date":1326909536,"post_id":8904019,"comment_id":11152061,"body_markdown":"@rapt I really don&#39;t know why it can&#39;t infer that. Anyway, I usually choose all my projects in the first debug, so I will never worry again with souce lookup. Austin gave a good explanation of why it asks for souce location.","body":"@rapt I really don&#39;t know why it can&#39;t infer that. Anyway, I usually choose all my projects in the first debug, so I will never worry again with souce lookup. Austin gave a good explanation of why it asks for souce location."}],"tags":[],"owner":{"account_id":133792,"reputation":2503,"user_id":335439,"accept_rate":62,"display_name":"mrcaramori"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326849836,"creation_date":1326849836,"answer_id":8904019,"question_id":8903062,"body_markdown":"There should be a button &#39;Edit Source Lookup Path&#39; where you can add the location of you source files (where you put the breakpoint).","title":"&quot;Source not found&quot; message in Eclipse with JBoss at debug mode - breakpoint is in MY CODE","body":"<p>There should be a button 'Edit Source Lookup Path' where you can add the location of you source files (where you put the breakpoint).</p>\n"},{"comments":[{"owner":{"account_id":112089,"reputation":22076,"user_id":295797,"accept_rate":73,"display_name":"Roy Truelove"},"score":0,"creation_date":1394107941,"post_id":8906697,"comment_id":33744059,"body_markdown":"The answer below tells you exactly how to do this: http://stackoverflow.com/a/9206318/295797","body":"The answer below tells you exactly how to do this: <a href=\"http://stackoverflow.com/a/9206318/295797\">stackoverflow.com/a/9206318/295797</a>"}],"tags":[],"owner":{"account_id":446746,"reputation":1171,"user_id":839979,"accept_rate":87,"display_name":"austin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1326877601,"creation_date":1326872199,"answer_id":8906697,"question_id":8903062,"body_markdown":"You might have configured your Debug settings for a particular project in your workspace(in eclipse) which is deployed in JBOSS as jar or war, if the breakpoint is inside code that may be inside some other project(jar, war) which may be a dependency of the project for which you configured your debug settings then eclipse would not be able to find the source code. this is why you need to &#39;edit source look up&#39; to the source code containing the source","title":"&quot;Source not found&quot; message in Eclipse with JBoss at debug mode - breakpoint is in MY CODE","body":"<p>You might have configured your Debug settings for a particular project in your workspace(in eclipse) which is deployed in JBOSS as jar or war, if the breakpoint is inside code that may be inside some other project(jar, war) which may be a dependency of the project for which you configured your debug settings then eclipse would not be able to find the source code. this is why you need to 'edit source look up' to the source code containing the source</p>\n"},{"tags":[],"owner":{"account_id":264535,"reputation":3576,"user_id":550889,"accept_rate":61,"display_name":"JAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1328768537,"creation_date":1328768537,"answer_id":9206318,"question_id":8903062,"body_markdown":"Just Below **Source not found** error you will see &quot;**Edit Source Lookup Path**&quot; button click on it and then click on Add button then Java Project and include your imported project .. Hope this will solve your problem","title":"&quot;Source not found&quot; message in Eclipse with JBoss at debug mode - breakpoint is in MY CODE","body":"<p>Just Below <strong>Source not found</strong> error you will see \"<strong>Edit Source Lookup Path</strong>\" button click on it and then click on Add button then Java Project and include your imported project .. Hope this will solve your problem</p>\n"},{"tags":[],"owner":{"account_id":27690213,"reputation":1,"user_id":21137062,"display_name":"user21137062"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675588685,"creation_date":1675383426,"answer_id":75330233,"question_id":8903062,"body_markdown":"Try adding your file system folder of the project in the JBoss server configuration:\r\n\r\n&gt;Servers (tab) -&gt; Red Hat JBoss EAP 7.4 (right clic) -&gt; Open (option) -&gt; Open launch configuration -&gt; Source -&gt; Add -&gt; File system directory (select your project folder) + Search subdirectories.","title":"&quot;Source not found&quot; message in Eclipse with JBoss at debug mode - breakpoint is in MY CODE","body":"<p>Try adding your file system folder of the project in the JBoss server configuration:</p>\n<blockquote>\n<p>Servers (tab) -&gt; Red Hat JBoss EAP 7.4 (right clic) -&gt; Open (option) -&gt; Open launch configuration -&gt; Source -&gt; Add -&gt; File system directory (select your project folder) + Search subdirectories.</p>\n</blockquote>\n"}],"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5322,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8906697,"answer_count":4,"score":5,"last_activity_date":1675588685,"creation_date":1326842253,"question_id":8903062,"body_markdown":"I started up JBoss in debug mode, my project is built by Maven, I work with Eclipse, the only breakpoint is in **my code**. But when I run the app it stops on a window with a name as the class I&#39;ve put the breakpoint in, but it only shows the &quot;Source not found.&quot;\r\n\r\nWhat is it supposed to mean in my case, and how could I overcome this?\r\n\r\nI am not an expert in debugging with Eclipse so I would appreciate a thorough explanation!\r\n","title":"&quot;Source not found&quot; message in Eclipse with JBoss at debug mode - breakpoint is in MY CODE","body":"<p>I started up JBoss in debug mode, my project is built by Maven, I work with Eclipse, the only breakpoint is in <strong>my code</strong>. But when I run the app it stops on a window with a name as the class I've put the breakpoint in, but it only shows the \"Source not found.\"</p>\n\n<p>What is it supposed to mean in my case, and how could I overcome this?</p>\n\n<p>I am not an expert in debugging with Eclipse so I would appreciate a thorough explanation!</p>\n"},{"tags":["java","mysql","spring","hibernate","google-cloud-platform"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675345151,"post_id":75323991,"comment_id":132911879,"body_markdown":"you&#39;ll need to show more of the stacktrace","body":"you&#39;ll need to show more of the stacktrace"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675345358,"post_id":75323991,"comment_id":132911956,"body_markdown":"Please add the full stacktrace.","body":"Please add the full stacktrace."},{"owner":{"account_id":27685611,"reputation":11,"user_id":21133436,"display_name":"Orikos"},"score":0,"creation_date":1675588544,"post_id":75323991,"comment_id":132958391,"body_markdown":"I&#39;ve added the the full stacktrace. I&#39;ll be glad for help","body":"I&#39;ve added the the full stacktrace. I&#39;ll be glad for help"}],"owner":{"account_id":27685611,"reputation":11,"user_id":21133436,"display_name":"Orikos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675588493,"creation_date":1675345025,"question_id":75323991,"body_markdown":"I&#39;ve uploaded a java spring-boot project to GCP. When I enter the server&#39;s url in the browser, I get status code 500. I checked the error reporting in GCP and this is what I see (MovieTown is the project&#39;s name):\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:1804 )\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:620 )\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:542 )\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0 ( org/springframework.beans.factory.support/AbstractBeanFactory.java:335 )\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton ( org/springframework.beans.factory.support/DefaultSingletonBeanRegistry.java:234 )\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean ( org/springframework.beans.factory.support/AbstractBeanFactory.java:333 )\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean ( org/springframework.beans.factory.support/AbstractBeanFactory.java:208 )\r\nat org.springframework.context.support.AbstractApplicationContext.getBean ( org/springframework.context.support/AbstractApplicationContext.java:1154 )\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization ( org/springframework.context.support/AbstractApplicationContext.java:908 )\r\nat org.springframework.context.support.AbstractApplicationContext.refresh ( org/springframework.context.support/AbstractApplicationContext.java:583 )\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh ( org/springframework.boot.web.servlet.context/ServletWebServerApplicationContext.java:147 )\r\nat org.springframework.boot.SpringApplication.refresh ( org/springframework.boot/SpringApplication.java:734 )\r\nat org.springframework.boot.SpringApplication.refreshContext ( org/springframework.boot/SpringApplication.java:408 )\r\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:308 )\r\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:1306 )\r\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:1295 )\r\nat com.MovieTown.MovieTownApplication.main ( com/MovieTown/MovieTownApplication.java:15 )\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke ( jdk/internal.reflect/NativeMethodAccessorImpl.java:77 )\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ( jdk/internal.reflect/DelegatingMethodAccessorImpl.java:43 )\r\nat java.lang.reflect.Method.invoke ( java/lang.reflect/Method.java:568 )\r\nat org.springframework.boot.loader.MainMethodRunner.run ( org/springframework.boot.loader/MainMethodRunner.java:49 )\r\nat org.springframework.boot.loader.Launcher.launch ( org/springframework.boot.loader/Launcher.java:108 )\r\nat org.springframework.boot.loader.Launcher.launch ( org/springframework.boot.loader/Launcher.java:58 )\r\nat org.springframework.boot.loader.JarLauncher.main ( org/springframework.boot.loader/JarLauncher.java:65 )\r\nCaused by: org.hibernate.service.spi.ServiceException\r\n\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService ( AbstractServiceRegistryImpl.java:275 )\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService ( AbstractServiceRegistryImpl.java:237 )\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService ( AbstractServiceRegistryImpl.java:214 )\r\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices ( DefaultIdentifierGeneratorFactory.java:175 )\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies ( AbstractServiceRegistryImpl.java:286 )\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService ( AbstractServiceRegistryImpl.java:243 )\r\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService ( AbstractServiceRegistryImpl.java:214 )\r\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt; ( InFlightMetadataCollectorImpl.java:173 )\r\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete ( MetadataBuildingProcess.java:127 )\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata ( EntityManagerFactoryBuilderImpl.java:1460 )\r\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build ( EntityManagerFactoryBuilderImpl.java:1494 )\r\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory ( SpringHibernateJpaPersistenceProvider.java:58 )\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory ( LocalContainerEntityManagerFactoryBean.java:365 )\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory ( AbstractEntityManagerFactoryBean.java:409 )\r\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet ( AbstractEntityManagerFactoryBean.java:396 )\r\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet ( LocalContainerEntityManagerFactoryBean.java:341 )\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods ( AbstractAutowireCapableBeanFactory.java:1863 )\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean ( AbstractAutowireCapableBeanFactory.java:1800 )\r\n\r\n\r\n…\r\n```\r\n\r\n\r\nI&#39;ve already created a mySQL instance. I also changed the application.properties so my project will connect to it, and when I run my project locally, it connects to it successfully.\r\n\r\nDid I miss something or did something wrong?","title":"Why does my java project in GCP can&#39;t create entityManagerFactory?","body":"<p>I've uploaded a java spring-boot project to GCP. When I enter the server's url in the browser, I get status code 500. I checked the error reporting in GCP and this is what I see (MovieTown is the project's name):</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:1804 )\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:620 )\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean ( org/springframework.beans.factory.support/AbstractAutowireCapableBeanFactory.java:542 )\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0 ( org/springframework.beans.factory.support/AbstractBeanFactory.java:335 )\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton ( org/springframework.beans.factory.support/DefaultSingletonBeanRegistry.java:234 )\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean ( org/springframework.beans.factory.support/AbstractBeanFactory.java:333 )\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean ( org/springframework.beans.factory.support/AbstractBeanFactory.java:208 )\nat org.springframework.context.support.AbstractApplicationContext.getBean ( org/springframework.context.support/AbstractApplicationContext.java:1154 )\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization ( org/springframework.context.support/AbstractApplicationContext.java:908 )\nat org.springframework.context.support.AbstractApplicationContext.refresh ( org/springframework.context.support/AbstractApplicationContext.java:583 )\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh ( org/springframework.boot.web.servlet.context/ServletWebServerApplicationContext.java:147 )\nat org.springframework.boot.SpringApplication.refresh ( org/springframework.boot/SpringApplication.java:734 )\nat org.springframework.boot.SpringApplication.refreshContext ( org/springframework.boot/SpringApplication.java:408 )\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:308 )\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:1306 )\nat org.springframework.boot.SpringApplication.run ( org/springframework.boot/SpringApplication.java:1295 )\nat com.MovieTown.MovieTownApplication.main ( com/MovieTown/MovieTownApplication.java:15 )\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke ( jdk/internal.reflect/NativeMethodAccessorImpl.java:77 )\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ( jdk/internal.reflect/DelegatingMethodAccessorImpl.java:43 )\nat java.lang.reflect.Method.invoke ( java/lang.reflect/Method.java:568 )\nat org.springframework.boot.loader.MainMethodRunner.run ( org/springframework.boot.loader/MainMethodRunner.java:49 )\nat org.springframework.boot.loader.Launcher.launch ( org/springframework.boot.loader/Launcher.java:108 )\nat org.springframework.boot.loader.Launcher.launch ( org/springframework.boot.loader/Launcher.java:58 )\nat org.springframework.boot.loader.JarLauncher.main ( org/springframework.boot.loader/JarLauncher.java:65 )\nCaused by: org.hibernate.service.spi.ServiceException\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService ( AbstractServiceRegistryImpl.java:275 )\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService ( AbstractServiceRegistryImpl.java:237 )\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService ( AbstractServiceRegistryImpl.java:214 )\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices ( DefaultIdentifierGeneratorFactory.java:175 )\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies ( AbstractServiceRegistryImpl.java:286 )\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService ( AbstractServiceRegistryImpl.java:243 )\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService ( AbstractServiceRegistryImpl.java:214 )\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt; ( InFlightMetadataCollectorImpl.java:173 )\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete ( MetadataBuildingProcess.java:127 )\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata ( EntityManagerFactoryBuilderImpl.java:1460 )\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build ( EntityManagerFactoryBuilderImpl.java:1494 )\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory ( SpringHibernateJpaPersistenceProvider.java:58 )\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory ( LocalContainerEntityManagerFactoryBean.java:365 )\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory ( AbstractEntityManagerFactoryBean.java:409 )\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet ( AbstractEntityManagerFactoryBean.java:396 )\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet ( LocalContainerEntityManagerFactoryBean.java:341 )\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods ( AbstractAutowireCapableBeanFactory.java:1863 )\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean ( AbstractAutowireCapableBeanFactory.java:1800 )\n\n\n…\n</code></pre>\n<p>I've already created a mySQL instance. I also changed the application.properties so my project will connect to it, and when I run my project locally, it connects to it successfully.</p>\n<p>Did I miss something or did something wrong?</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":4,"creation_date":1395808753,"post_id":22651591,"comment_id":34501279,"body_markdown":"Your `main` method has nothing in it","body":"Your <code>main</code> method has nothing in it"},{"owner":{"account_id":3494803,"reputation":327,"user_id":2923395,"accept_rate":35,"display_name":"user2923395"},"score":0,"creation_date":1395809160,"post_id":22651591,"comment_id":34501418,"body_markdown":"I used a main method from another GUI I built, but it still does not display","body":"I used a main method from another GUI I built, but it still does not display"}],"answers":[{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":1,"creation_date":1395808927,"post_id":22651631,"comment_id":34501340,"body_markdown":"Please see the comment from  Steve Kuo","body":"Please see the comment from  Steve Kuo"},{"owner":{"account_id":4006785,"reputation":93,"user_id":3301269,"accept_rate":54,"display_name":"Sushin PS"},"score":0,"creation_date":1395808994,"post_id":22651631,"comment_id":34501363,"body_markdown":"even nothing in main. It will work. Because your constructor do all your GUI","body":"even nothing in main. It will work. Because your constructor do all your GUI"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1395809117,"post_id":22651631,"comment_id":34501403,"body_markdown":"But who calls the constructor - also by default, a `JFrame` constructor doesn&#39;t add components to itself or show itself, so I hardly think it would make a difference.  Besides, you shouldn&#39;t need to extend from `JFrame`, you&#39;re not adding any functionality to, simply create an instance and add the `RangedModel` to it...","body":"But who calls the constructor - also by default, a <code>JFrame</code> constructor doesn&#39;t add components to itself or show itself, so I hardly think it would make a difference.  Besides, you shouldn&#39;t need to extend from <code>JFrame</code>, you&#39;re not adding any functionality to, simply create an instance and add the <code>RangedModel</code> to it..."},{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1395809143,"post_id":22651631,"comment_id":34501412,"body_markdown":"user3301269 Please try and than share the resulting GUI.","body":"user3301269 Please try and than share the resulting GUI."},{"owner":{"account_id":3494803,"reputation":327,"user_id":2923395,"accept_rate":35,"display_name":"user2923395"},"score":0,"creation_date":1395809193,"post_id":22651631,"comment_id":34501429,"body_markdown":"I added the main method I&#39;ve used from another GUI I built, but it still does not display.  Changing it to JFrame did not work either btw","body":"I added the main method I&#39;ve used from another GUI I built, but it still does not display.  Changing it to JFrame did not work either btw"},{"owner":{"account_id":4006785,"reputation":93,"user_id":3301269,"accept_rate":54,"display_name":"Sushin PS"},"score":0,"creation_date":1395809453,"post_id":22651631,"comment_id":34501546,"body_markdown":"constructor automatically invokes when object is created. initcomponents have the code you designed using NetBeans which is inside the constructor. try to create a new JFrame and design from first. if the you dont want to design again, add the already designed JPanel to JFrame","body":"constructor automatically invokes when object is created. initcomponents have the code you designed using NetBeans which is inside the constructor. try to create a new JFrame and design from first. if the you dont want to design again, add the already designed JPanel to JFrame"}],"tags":[],"owner":{"account_id":4006785,"reputation":93,"user_id":3301269,"accept_rate":54,"display_name":"Sushin PS"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395808889,"creation_date":1395808889,"answer_id":22651631,"question_id":22651591,"body_markdown":"change JPanel to JFrame. It will work.","title":"My GUI will not display when I hit run in NetBeans","body":"<p>change JPanel to JFrame. It will work.</p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395884679,"creation_date":1395809189,"answer_id":22651686,"question_id":22651591,"body_markdown":"1. `JPanel` forms are _not_ created with `main` methods, in GUI Builder, which you _do_ need.\r\n\r\n2. `JPanel` is not a top-level container, which you _do_ need to run a Swing app.\r\n\r\n3. A top-level container is, for instance, a `JFrame`. So you should have created a `JFrame` form instead of a `JPanel` form. When you do this in Netbeans GUI Builder, a `main` method will be provided for you.\r\n\r\n4. A simple fix would be just to create a new `JFrame` form, then just drag and drop the `JPanel` form to the `JFrame` form, as seen [here](https://stackoverflow.com/a/22194357/2587435), get rid of the `main` method in your `JPanel` form, then run the `JFrame` form class.\r\n\r\n5. You may also need to set/change the Main class to the new `JFrame` form you just created. You can that by looking at [this answer](https://stackoverflow.com/a/20601920/2587435)","title":"My GUI will not display when I hit run in NetBeans","body":"<ol>\n<li><p><code>JPanel</code> forms are <em>not</em> created with <code>main</code> methods, in GUI Builder, which you <em>do</em> need.</p></li>\n<li><p><code>JPanel</code> is not a top-level container, which you <em>do</em> need to run a Swing app.</p></li>\n<li><p>A top-level container is, for instance, a <code>JFrame</code>. So you should have created a <code>JFrame</code> form instead of a <code>JPanel</code> form. When you do this in Netbeans GUI Builder, a <code>main</code> method will be provided for you.</p></li>\n<li><p>A simple fix would be just to create a new <code>JFrame</code> form, then just drag and drop the <code>JPanel</code> form to the <code>JFrame</code> form, as seen <a href=\"https://stackoverflow.com/a/22194357/2587435\">here</a>, get rid of the <code>main</code> method in your <code>JPanel</code> form, then run the <code>JFrame</code> form class.</p></li>\n<li><p>You may also need to set/change the Main class to the new <code>JFrame</code> form you just created. You can that by looking at <a href=\"https://stackoverflow.com/a/20601920/2587435\">this answer</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1266647,"reputation":1230,"user_id":1223817,"accept_rate":90,"display_name":"Mitro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395834762,"creation_date":1395834762,"answer_id":22660182,"question_id":22651591,"body_markdown":"First of all, you are extending JPanel, it&#39;s wrong because as peeskillet wrote at points 2 and 3.\r\nKind of top-level container are:\r\n\r\n - JFrame : the window with the bar\r\n - JWindow : the window without bar\r\n - JDialog : the window usually used to create option window\r\n\r\nSo you have to extend one of them, probably the first.\r\n\r\nThan in this top-level container you can create JPanel, one or more, everyone will be a container of another object which will be the contenent.\r\n\r\nMorover, remember to `setVisible` every JPanel that you implement and also the top-level container.\r\n\r\nUseful links: \r\n\r\n - https://stackoverflow.com/questions/21709997/icon-in-jbutton-is-not-shown-at-the-running-of-the-program-what-could-be\r\n - https://stackoverflow.com/questions/1655294/java-swing-multiple-windows\r\n - https://stackoverflow.com/questions/9494380/whats-the-difference-between-the-implements-extends-keywords-in-java\r\n","title":"My GUI will not display when I hit run in NetBeans","body":"<p>First of all, you are extending JPanel, it's wrong because as peeskillet wrote at points 2 and 3.\nKind of top-level container are:</p>\n\n<ul>\n<li>JFrame : the window with the bar</li>\n<li>JWindow : the window without bar</li>\n<li>JDialog : the window usually used to create option window</li>\n</ul>\n\n<p>So you have to extend one of them, probably the first.</p>\n\n<p>Than in this top-level container you can create JPanel, one or more, everyone will be a container of another object which will be the contenent.</p>\n\n<p>Morover, remember to <code>setVisible</code> every JPanel that you implement and also the top-level container.</p>\n\n<p>Useful links: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21709997/icon-in-jbutton-is-not-shown-at-the-running-of-the-program-what-could-be\">icon in JButton is not shown at the running of the program, what could be?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1655294/java-swing-multiple-windows\">Java Swing: multiple windows</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9494380/whats-the-difference-between-the-implements-extends-keywords-in-java\">What&#39;s the difference between the implements &amp; extends keywords in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14176322,"reputation":91,"user_id":10241460,"display_name":"Samet Cesmebasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536931931,"creation_date":1536931931,"answer_id":52333115,"question_id":22651591,"body_markdown":"Follow path YourProject/packacge which your java file is in\r\nthen,\r\nYou can right click to your project then click from over there &quot;run file&quot;.This worked for me.","title":"My GUI will not display when I hit run in NetBeans","body":"<p>Follow path YourProject/packacge which your java file is in\nthen,\nYou can right click to your project then click from over there \"run file\".This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":27665739,"reputation":1,"user_id":21117597,"display_name":"Karina Zubko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675588363,"creation_date":1675249944,"answer_id":75309337,"question_id":22651591,"body_markdown":"If you work in NetBeans, after building, check that you are running the file you need from the project. To do this, press &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;F6&lt;/kbd&gt;","title":"My GUI will not display when I hit run in NetBeans","body":"<p>If you work in NetBeans, after building, check that you are running the file you need from the project. To do this, press <kbd>shift</kbd> + <kbd>F6</kbd></p>\n"}],"owner":{"account_id":3494803,"reputation":327,"user_id":2923395,"accept_rate":35,"display_name":"user2923395"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1675588363,"creation_date":1395808676,"question_id":22651591,"body_markdown":"When I select &quot;run&quot; in Netbeans, my GUI does not display.  It just displays a box on the bottom of the screen that says &quot;Build successful&quot;.\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n\r\n    package modelrange;\r\n    \r\n    import javax.swing.DefaultBoundedRangeModel;\r\n    \r\n    public class RangedModel extends javax.swing.JPanel {\r\n    \r\n        DefaultBoundedRangeModel myModel;\r\n\r\n        public static void main(String[] args) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new RangedModel().setVisible(true);\r\n                }\r\n           });\r\n        }\r\n        \r\n        /**\r\n         * Creates new form RangedModel\r\n         */\r\n        public RangedModel() {\r\n            myModel = new DefaultBoundedRangeModel(123, 100, 0, 1000);\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n                            \r\n        private void initComponents() { \r\n        This is just the automated netbeans code from the GUI builder (edited out for the post)            \r\n        }\r\n\r\n","title":"My GUI will not display when I hit run in NetBeans","body":"<p>When I select \"run\" in Netbeans, my GUI does not display.  It just displays a box on the bottom of the screen that says \"Build successful\".</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage modelrange;\n\nimport javax.swing.DefaultBoundedRangeModel;\n\npublic class RangedModel extends javax.swing.JPanel {\n\n    DefaultBoundedRangeModel myModel;\n\n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new RangedModel().setVisible(true);\n            }\n       });\n    }\n\n    /**\n     * Creates new form RangedModel\n     */\n    public RangedModel() {\n        myModel = new DefaultBoundedRangeModel(123, 100, 0, 1000);\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n\n    private void initComponents() { \n    This is just the automated netbeans code from the GUI builder (edited out for the post)            \n    }\n</code></pre>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":5783998,"reputation":97,"user_id":4563826,"accept_rate":80,"display_name":"sam"},"score":0,"creation_date":1429470410,"post_id":29734287,"comment_id":47602067,"body_markdown":"I just realized that escape causes a property change value of JOptionPane.CLOSED_OPTION, so removing that from the property change listener solves escape.","body":"I just realized that escape causes a property change value of JOptionPane.CLOSED_OPTION, so removing that from the property change listener solves escape."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1429470897,"post_id":29734287,"comment_id":47602271,"body_markdown":"and enter does the same thing: it sets the value option to JOptionPane.OK.","body":"and enter does the same thing: it sets the value option to JOptionPane.OK."}],"answers":[{"comments":[{"owner":{"account_id":5783998,"reputation":97,"user_id":4563826,"accept_rate":80,"display_name":"sam"},"score":1,"creation_date":1429471699,"post_id":29734489,"comment_id":47602603,"body_markdown":"Thanks! That&#39;s a very viable and helpful solution. In an effort not to rewrite a bunch of code, it worked to consume the enter press just by getting the input/actionMaps of the JOptionPane instance and giving &#39;ENTER&#39; a blank action","body":"Thanks! That&#39;s a very viable and helpful solution. In an effort not to rewrite a bunch of code, it worked to consume the enter press just by getting the input/actionMaps of the JOptionPane instance and giving &#39;ENTER&#39; a blank action"},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1681765652,"post_id":29734489,"comment_id":134106995,"body_markdown":"I&#39;m doing much the same thing as the code above and what @sam wrote, and it works.  What&#39;s escaping (no pun) me at the moment is why it only works to assign a replacement do-nothing Action; removing the entry from the action map and also setting the map&#39;s parent to null should also do away with the escape action.  But that has no effect.","body":"I&#39;m doing much the same thing as the code above and what @sam wrote, and it works.  What&#39;s escaping (no pun) me at the moment is why it only works to assign a replacement do-nothing Action; removing the entry from the action map and also setting the map&#39;s parent to null should also do away with the escape action.  But that has no effect."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1429470392,"creation_date":1429470392,"answer_id":29734489,"question_id":29734287,"body_markdown":"&gt; Edit: dialog is created with JOptionPane and a custom component\r\n\r\nOne solution: don&#39;t do this. Create your own modal JDialog, set its KeyBindings, and use it. e.g.,\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;    \r\n    import javax.swing.*;\r\n    \r\n    public class JDialogTest {\r\n       private static void createAndShowGUI() {\r\n          final JFrame frame = new JFrame(&quot;JDialogTest&quot;);\r\n    \r\n          JPanel panel = new JPanel();\r\n          panel.add(new JButton(new AbstractAction(&quot;Push Me&quot;) {\r\n             \r\n             @Override\r\n             public void actionPerformed(ActionEvent arg0) {\r\n                final JTextArea textArea = new JTextArea(15, 30);\r\n                textArea.setFocusable(false);\r\n                JDialog dialog = new JDialog(frame, &quot;Dialog&quot;, true);\r\n                \r\n                int condition = JComponent.WHEN_IN_FOCUSED_WINDOW;\r\n                JPanel contentPane = (JPanel) dialog.getContentPane();\r\n                InputMap inputMap = contentPane.getInputMap(condition);\r\n                ActionMap actionMap = contentPane.getActionMap();\r\n                \r\n                KeyStroke enterKs = KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0);\r\n                inputMap.put(enterKs, enterKs.toString());\r\n                actionMap.put(enterKs.toString(), new AbstractAction() {\r\n                   \r\n                   @Override\r\n                   public void actionPerformed(ActionEvent arg0) {\r\n                      textArea.append(&quot;Enter pushed\\n&quot;);\r\n                   }\r\n                });\r\n                \r\n                KeyStroke escKs = KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0);\r\n                inputMap.put(escKs, escKs.toString());\r\n                actionMap.put(escKs.toString(), new AbstractAction() {\r\n                   \r\n                   @Override\r\n                   public void actionPerformed(ActionEvent arg0) {\r\n                      textArea.append(&quot;Escape pushed\\n&quot;);\r\n                   }\r\n                });\r\n                \r\n                \r\n                dialog.add(new JScrollPane(textArea));\r\n                dialog.pack();\r\n                dialog.setVisible(true);\r\n             }\r\n          }));\r\n    \r\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          frame.getContentPane().add(panel);\r\n          frame.pack();\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          SwingUtilities.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowGUI();\r\n             }\r\n          });\r\n       }\r\n    }","title":"Can I keep a JDialog from closing on escape/enter press?","body":"<blockquote>\n  <p>Edit: dialog is created with JOptionPane and a custom component</p>\n</blockquote>\n\n<p>One solution: don't do this. Create your own modal JDialog, set its KeyBindings, and use it. e.g.,</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;    \nimport javax.swing.*;\n\npublic class JDialogTest {\n   private static void createAndShowGUI() {\n      final JFrame frame = new JFrame(\"JDialogTest\");\n\n      JPanel panel = new JPanel();\n      panel.add(new JButton(new AbstractAction(\"Push Me\") {\n\n         @Override\n         public void actionPerformed(ActionEvent arg0) {\n            final JTextArea textArea = new JTextArea(15, 30);\n            textArea.setFocusable(false);\n            JDialog dialog = new JDialog(frame, \"Dialog\", true);\n\n            int condition = JComponent.WHEN_IN_FOCUSED_WINDOW;\n            JPanel contentPane = (JPanel) dialog.getContentPane();\n            InputMap inputMap = contentPane.getInputMap(condition);\n            ActionMap actionMap = contentPane.getActionMap();\n\n            KeyStroke enterKs = KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0);\n            inputMap.put(enterKs, enterKs.toString());\n            actionMap.put(enterKs.toString(), new AbstractAction() {\n\n               @Override\n               public void actionPerformed(ActionEvent arg0) {\n                  textArea.append(\"Enter pushed\\n\");\n               }\n            });\n\n            KeyStroke escKs = KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0);\n            inputMap.put(escKs, escKs.toString());\n            actionMap.put(escKs.toString(), new AbstractAction() {\n\n               @Override\n               public void actionPerformed(ActionEvent arg0) {\n                  textArea.append(\"Escape pushed\\n\");\n               }\n            });\n\n\n            dialog.add(new JScrollPane(textArea));\n            dialog.pack();\n            dialog.setVisible(true);\n         }\n      }));\n\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.getContentPane().add(panel);\n      frame.pack();\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGUI();\n         }\n      });\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675587783,"creation_date":1675587783,"answer_id":75351126,"question_id":29734287,"body_markdown":"The @HovercraftFullOfEels code as a separate class (with margins and button sizes matching the standard swing (a.k.a. &quot;Metal&quot;) look-and-feel):\r\n\r\n    public class SimpleDialog {\r\n        static void showDialog(JFrame parent, JPanel message, String title) {\r\n            JDialog dialog = new JDialog(parent, title, true);\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n            panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \r\n            panel.add(message);\r\n    \r\n            panel.add(Box.createRigidArea(new Dimension(5, 10)));\r\n    \r\n            JButton closeButton = new JButton(&quot;OK&quot;);\r\n            closeButton.setMargin(new Insets(2, 8, 2, 8));\r\n            closeButton.addActionListener(e -&gt; {\r\n                dialog.dispose();\r\n            });\r\n            JPanel buttonPanel = new JPanel();\r\n            buttonPanel.setLayout(new GridBagLayout());\r\n            buttonPanel.add(closeButton, new GridBagConstraints());\r\n            panel.add(buttonPanel);\r\n    \r\n            JPanel contentPane = (JPanel) dialog.getContentPane();\r\n            InputMap inputMap = contentPane.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap actionMap = contentPane.getActionMap();\r\n            KeyStroke escKs = KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0);\r\n            inputMap.put(escKs, &quot;Esc&quot;);\r\n            actionMap.put(&quot;Esc&quot;, new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n                    dialog.dispose();\r\n                }\r\n            });\r\n    \r\n            dialog.add(panel);\r\n            dialog.pack();\r\n            dialog.setLocationRelativeTo(parent);\r\n            closeButton.requestFocus();\r\n            dialog.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Can I keep a JDialog from closing on escape/enter press?","body":"<p>The @HovercraftFullOfEels code as a separate class (with margins and button sizes matching the standard swing (a.k.a. &quot;Metal&quot;) look-and-feel):</p>\n<pre><code>public class SimpleDialog {\n    static void showDialog(JFrame parent, JPanel message, String title) {\n        JDialog dialog = new JDialog(parent, title, true);\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n\n        panel.add(message);\n\n        panel.add(Box.createRigidArea(new Dimension(5, 10)));\n\n        JButton closeButton = new JButton(&quot;OK&quot;);\n        closeButton.setMargin(new Insets(2, 8, 2, 8));\n        closeButton.addActionListener(e -&gt; {\n            dialog.dispose();\n        });\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(new GridBagLayout());\n        buttonPanel.add(closeButton, new GridBagConstraints());\n        panel.add(buttonPanel);\n\n        JPanel contentPane = (JPanel) dialog.getContentPane();\n        InputMap inputMap = contentPane.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = contentPane.getActionMap();\n        KeyStroke escKs = KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0);\n        inputMap.put(escKs, &quot;Esc&quot;);\n        actionMap.put(&quot;Esc&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                dialog.dispose();\n            }\n        });\n\n        dialog.add(panel);\n        dialog.pack();\n        dialog.setLocationRelativeTo(parent);\n        closeButton.requestFocus();\n        dialog.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5783998,"reputation":97,"user_id":4563826,"accept_rate":80,"display_name":"sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":29734489,"answer_count":2,"score":5,"last_activity_date":1675587783,"creation_date":1429469352,"question_id":29734287,"body_markdown":"I created a dialog to take user keystrokes to change key bindings for menu items. I&#39;d like enter and escape to be keys the user can bind, but they both close the dialog. How can those presses be intercepted?\r\n\r\nEdit:\r\ndialog is created with JOptionPane and a custom component\r\n\r\n\tGetKeyComponent comp = new GetKeyComponent(accels, menuItem);\r\n\tObject[] array = { comp };\r\n\tJOptionPane optionPane = new JOptionPane(array, \r\n        JOptionPane.PLAIN_MESSAGE, JOptionPane.OK_CANCEL_OPTION);\r\n","title":"Can I keep a JDialog from closing on escape/enter press?","body":"<p>I created a dialog to take user keystrokes to change key bindings for menu items. I'd like enter and escape to be keys the user can bind, but they both close the dialog. How can those presses be intercepted?</p>\n\n<p>Edit:\ndialog is created with JOptionPane and a custom component</p>\n\n<pre><code>GetKeyComponent comp = new GetKeyComponent(accels, menuItem);\nObject[] array = { comp };\nJOptionPane optionPane = new JOptionPane(array, \n    JOptionPane.PLAIN_MESSAGE, JOptionPane.OK_CANCEL_OPTION);\n</code></pre>\n"},{"tags":["java","junit","jetty","connection-refused"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1675650668,"post_id":75351022,"comment_id":132968532,"body_markdown":"Jetty 6.x was declared End of Life back in 2010 (current supported versions of Jetty are 10.x, 11.x, and even 12.x) - Your version contains none of the fixes mandated by various browsers (like Chrome and Safari) and does not represent the nature of HTTP in today&#39;s internet. (yes, it has changed, HTTP 1.x RFC2616, was replaced by RFC7230 for HTTP/1.1, which was replaced by RFC9112 for HTTP/1.1), along with a long collection of related spec changes (like Cookie and Host)","body":"Jetty 6.x was declared End of Life back in 2010 (current supported versions of Jetty are 10.x, 11.x, and even 12.x) - Your version contains none of the fixes mandated by various browsers (like Chrome and Safari) and does not represent the nature of HTTP in today&#39;s internet. (yes, it has changed, HTTP 1.x RFC2616, was replaced by RFC7230 for HTTP/1.1, which was replaced by RFC9112 for HTTP/1.1), along with a long collection of related spec changes (like Cookie and Host)"},{"owner":{"account_id":2271070,"reputation":337,"user_id":1998463,"accept_rate":75,"display_name":"JMD"},"score":0,"creation_date":1676230175,"post_id":75351022,"comment_id":133091246,"body_markdown":"That helped resolve issue","body":"That helped resolve issue"}],"owner":{"account_id":2271070,"reputation":337,"user_id":1998463,"accept_rate":75,"display_name":"JMD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675587528,"creation_date":1675586407,"question_id":75351022,"body_markdown":"**TL;DR** Am using `org.mortbay.jetty:jetty:6.1.26` in my JUnits to Stub a server. I was hoping to get predetermined content in output. However am getting exception `java.net.ConnectException: Connection refused: no further information`. When I hit the endpoint from web browser, I do not get response immediately but after all JUnits are completed and Jetty shut the server (I get expected response in browser as well as Socket closed exception in app logs). I searched few stackoverflow posts but couldn&#39;t progress much and hence need help\r\n\r\n**Details**: Application code we have is (successfully) getting required information from external clients by reading that data, parsing it and finally saving that data. Below is how code looks like\r\n\r\n                HTTPUtilities.performGet(uri)\r\n                    .thenApply(HTTPUtilities::httpResponseToReader)\r\n                    .thenApply(reader -&gt; parseContent(reader, id))\r\n                    .thenAccept(idDetailsList -&gt; idRepository.saveAll(idDetailsList))\r\n                    .whenComplete((resp, err) -&gt; {\r\n                        if (err == null) {\r\n                            log.info(&quot;Data for {} is successfully saved&quot;, id);\r\n                        } else {\r\n                            log.error(&quot;Exception encountered for URI {} / id : {}. Message: -&gt; {} &quot;, uri, id, err.getMessage());\r\n                        }\r\n                    });\r\n\r\nMy intent is to Stub first method of above CompletableFuture which is HTTPUtilities.performGet(uri). It&#39;s a static method and its code looks like below\r\n\r\n        HttpUriRequest request = RequestBuilder.get()\r\n                .setUri(uri)\r\n                .setHeader(HttpHeaders.ACCEPT, HEADER_ACCEPT_CONSTANT)\r\n                .setHeader(HttpHeaders.USER_AGENT, HEADER_USER_AGENT_CONSTANT)\r\n                .build();\r\n\r\n        CompletableFuture&lt;HttpResponse&gt; resp = new CompletableFuture&lt;&gt;();\r\n        executorService.execute(() -&gt; {\r\n            try (CloseableHttpClient httpclient = HttpClients.custom().setDefaultRequestConfig(config).build();\r\n                 CloseableHttpResponse response = httpclient.execute(request)) {\r\n                    resp.complete(response);\r\n                    log.info(&quot;Successfully returning response for URL: {}&quot;, uri);\r\n            } catch (NullPointerException ex) {\r\n                log.error(&quot;NullPointerException encountered when performing GET against URL {} with message {}&quot;, uri, ex.getCause());\r\n                resp.completeExceptionally(ex);\r\n            } catch (IOException ex) {\r\n                log.error(&quot;IOException encountered when performing GET against URL {} with message {}&quot;, uri, ex.getCause());\r\n                resp.completeExceptionally(ex);\r\n            }\r\n        });\r\n\r\n        return resp;\r\n\r\nThis code works fine for actual calls. However, it fails with below stack trace when run from JUnits where HTTP calls are stubbed using Jetty. Below stacktrace is generated when code reaches `CloseableHttpResponse response = httpclient.execute(request)` line in above call.\r\n\r\n    java.net.ConnectException: Connection refused: no further information\r\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n        at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n        at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n        at java.base/java.net.Socket.connect(Socket.java:633)\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\r\nBelow is code from JUnit Test class\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\tpublic class IdRetreieveAndSaveTest {\r\n\r\n\t\t@InjectMocks\r\n\t\tUpdateIdData updateIdData;\r\n\r\n\t\t@BeforeAll\r\n\t\tstatic void initial() throws Exception {\r\n\r\n\t\t\t//Stub to replace actual call\r\n\t\t\tServer server = new Server(stubbedPort);\r\n\t\t\tContext contentOkContext = new Context(server, stubbedContext);\r\n\t\t\tcontentOkContext.setHandler(new HttpCustomHandler());\r\n\t\t\tserver.setStopAtShutdown(true);\r\n\t\t\tserver.start();\r\n\r\n\t\t}\r\n\t\t\r\n\t\t@Test\r\n\t\tvoid updateIdDataTest() {\r\n\t\t\r\n            List&lt;IdData&gt; resp = new ArrayList&lt;&gt;();\r\n\t\t\tupdateIdData.invokeHttpAndSave(id);\r\n            assertEquals(100, resp.size());\r\n\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\nand finally helper class for JUnit\r\n\r\n\tpublic class HttpCustomHandler extends AbstractHandler {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(String s, HttpServletRequest httpServletRequest, HttpServletResponse response, int i) throws IOException {\r\n\t\t\tOutputStream out = response.getOutputStream();\r\n\t\t\ttry (ByteArrayISO8859Writer writer = new ByteArrayISO8859Writer()) {\r\n\t\t\t\twriter.write(codeThatReturnsSampleDataFromExternalClient());\r\n\t\t\t\twriter.flush();\r\n\t\t\t\tresponse.setIntHeader(HttpHeaders.CONTENT_LENGTH, writer.size());\r\n\t\t\t\twriter.writeTo(out);\r\n\t\t\t\tout.flush();\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t}\r\n\r\nI verified that port is up and listening during Junit execution. Below is response when at breakpoint during JUnit execution in debug mode and these lines disappear for same command once JUnit test execution completes\r\n\r\n\tnetstat -ano | Select-String -pattern &quot;65500&quot;\r\n\r\n\t  TCP    0.0.0.0:65500          0.0.0.0:0              LISTENING       27448\r\n\t  TCP    [::]:65500             [::]:0                 LISTENING       27448\r\n\r\nThank you in advance","title":"Jetty for Junit - java.net.ConnectException: Connection refused: no further information","body":"<p><strong>TL;DR</strong> Am using <code>org.mortbay.jetty:jetty:6.1.26</code> in my JUnits to Stub a server. I was hoping to get predetermined content in output. However am getting exception <code>java.net.ConnectException: Connection refused: no further information</code>. When I hit the endpoint from web browser, I do not get response immediately but after all JUnits are completed and Jetty shut the server (I get expected response in browser as well as Socket closed exception in app logs). I searched few stackoverflow posts but couldn't progress much and hence need help</p>\n<p><strong>Details</strong>: Application code we have is (successfully) getting required information from external clients by reading that data, parsing it and finally saving that data. Below is how code looks like</p>\n<pre><code>            HTTPUtilities.performGet(uri)\n                .thenApply(HTTPUtilities::httpResponseToReader)\n                .thenApply(reader -&gt; parseContent(reader, id))\n                .thenAccept(idDetailsList -&gt; idRepository.saveAll(idDetailsList))\n                .whenComplete((resp, err) -&gt; {\n                    if (err == null) {\n                        log.info(&quot;Data for {} is successfully saved&quot;, id);\n                    } else {\n                        log.error(&quot;Exception encountered for URI {} / id : {}. Message: -&gt; {} &quot;, uri, id, err.getMessage());\n                    }\n                });\n</code></pre>\n<p>My intent is to Stub first method of above CompletableFuture which is HTTPUtilities.performGet(uri). It's a static method and its code looks like below</p>\n<pre><code>    HttpUriRequest request = RequestBuilder.get()\n            .setUri(uri)\n            .setHeader(HttpHeaders.ACCEPT, HEADER_ACCEPT_CONSTANT)\n            .setHeader(HttpHeaders.USER_AGENT, HEADER_USER_AGENT_CONSTANT)\n            .build();\n\n    CompletableFuture&lt;HttpResponse&gt; resp = new CompletableFuture&lt;&gt;();\n    executorService.execute(() -&gt; {\n        try (CloseableHttpClient httpclient = HttpClients.custom().setDefaultRequestConfig(config).build();\n             CloseableHttpResponse response = httpclient.execute(request)) {\n                resp.complete(response);\n                log.info(&quot;Successfully returning response for URL: {}&quot;, uri);\n        } catch (NullPointerException ex) {\n            log.error(&quot;NullPointerException encountered when performing GET against URL {} with message {}&quot;, uri, ex.getCause());\n            resp.completeExceptionally(ex);\n        } catch (IOException ex) {\n            log.error(&quot;IOException encountered when performing GET against URL {} with message {}&quot;, uri, ex.getCause());\n            resp.completeExceptionally(ex);\n        }\n    });\n\n    return resp;\n</code></pre>\n<p>This code works fine for actual calls. However, it fails with below stack trace when run from JUnits where HTTP calls are stubbed using Jetty. Below stacktrace is generated when code reaches <code>CloseableHttpResponse response = httpclient.execute(request)</code> line in above call.</p>\n<pre><code>java.net.ConnectException: Connection refused: no further information\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n</code></pre>\n<p>Below is code from JUnit Test class</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class IdRetreieveAndSaveTest {\n\n    @InjectMocks\n    UpdateIdData updateIdData;\n\n    @BeforeAll\n    static void initial() throws Exception {\n\n        //Stub to replace actual call\n        Server server = new Server(stubbedPort);\n        Context contentOkContext = new Context(server, stubbedContext);\n        contentOkContext.setHandler(new HttpCustomHandler());\n        server.setStopAtShutdown(true);\n        server.start();\n\n    }\n    \n    @Test\n    void updateIdDataTest() {\n    \n        List&lt;IdData&gt; resp = new ArrayList&lt;&gt;();\n        updateIdData.invokeHttpAndSave(id);\n        assertEquals(100, resp.size());\n    \n    }\n\n}\n</code></pre>\n<p>and finally helper class for JUnit</p>\n<pre><code>public class HttpCustomHandler extends AbstractHandler {\n\n    @Override\n    public void handle(String s, HttpServletRequest httpServletRequest, HttpServletResponse response, int i) throws IOException {\n        OutputStream out = response.getOutputStream();\n        try (ByteArrayISO8859Writer writer = new ByteArrayISO8859Writer()) {\n            writer.write(codeThatReturnsSampleDataFromExternalClient());\n            writer.flush();\n            response.setIntHeader(HttpHeaders.CONTENT_LENGTH, writer.size());\n            writer.writeTo(out);\n            out.flush();\n        };\n    }\n\n}\n</code></pre>\n<p>I verified that port is up and listening during Junit execution. Below is response when at breakpoint during JUnit execution in debug mode and these lines disappear for same command once JUnit test execution completes</p>\n<pre><code>netstat -ano | Select-String -pattern &quot;65500&quot;\n\n  TCP    0.0.0.0:65500          0.0.0.0:0              LISTENING       27448\n  TCP    [::]:65500             [::]:0                 LISTENING       27448\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7121514,"reputation":177,"user_id":5445982,"display_name":"dgarceran"},"score":0,"creation_date":1526626818,"post_id":50404686,"comment_id":87826296,"body_markdown":"You could try [profiles](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html).","body":"You could try <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">profiles</a>."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1526658690,"post_id":50404686,"comment_id":87845867,"body_markdown":"Profiles would override each other, I need both the context paths to be active simultaneously","body":"Profiles would override each other, I need both the context paths to be active simultaneously"},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1526926480,"post_id":50404686,"comment_id":87922187,"body_markdown":"For now I have used `Netflix Zuul` route to create a proxy URL for the application.","body":"For now I have used <code>Netflix Zuul</code> route to create a proxy URL for the application."}],"answers":[{"comments":[{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1684003492,"post_id":75351016,"comment_id":134454337,"body_markdown":"It&#39;s been long since I posted this, but it is possible. I didn&#39;t use external proxy but just added Zuul dependency to the project, which allowed me to add multiple context paths in it&#39;s proxy configurations","body":"It&#39;s been long since I posted this, but it is possible. I didn&#39;t use external proxy but just added Zuul dependency to the project, which allowed me to add multiple context paths in it&#39;s proxy configurations"}],"tags":[],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675586287,"creation_date":1675586287,"answer_id":75351016,"question_id":50404686,"body_markdown":"No, it&#39;s not possible to have multiple context paths for the same Spring Boot application. The context path is used to define the base URL of the application, and it can only be set once.\r\n\r\nAs mentioned in the comments, you could use something external like a reverse proxy to handle the URL mapping and apply different security mechanisms based on the URL pattern.","title":"Spring Boot multiple context path aliases","body":"<p>No, it's not possible to have multiple context paths for the same Spring Boot application. The context path is used to define the base URL of the application, and it can only be set once.</p>\n<p>As mentioned in the comments, you could use something external like a reverse proxy to handle the URL mapping and apply different security mechanisms based on the URL pattern.</p>\n"}],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2692,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1675586287,"creation_date":1526623202,"question_id":50404686,"body_markdown":"Following is the Spring Boot configuration for context path\r\n\r\n    server.servlet.context-path=/rootContext\r\n\r\nIs it possible to create multiple aliases for the same so that same application is served on `/rootContext_2` and `rootContext_3`?\r\n\r\nI essentially want to configure different security mechanisms for different aliases.","title":"Spring Boot multiple context path aliases","body":"<p>Following is the Spring Boot configuration for context path</p>\n\n<pre><code>server.servlet.context-path=/rootContext\n</code></pre>\n\n<p>Is it possible to create multiple aliases for the same so that same application is served on <code>/rootContext_2</code> and <code>rootContext_3</code>?</p>\n\n<p>I essentially want to configure different security mechanisms for different aliases.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1638954881,"post_id":70272222,"comment_id":124222472,"body_markdown":"Probably the decision you’ll always have to make. In general all integrations of a library or service into spring(-boot) offer some great comfort but if something doesn’t work as desired is harder to debug/understand than a homebrew solution. I can’t say anything about spring-kafka in particular but I’d personally always use the official integrations with spring. It’s easier to find resources/help and bugs, that a homebrew solution will have, have probably already been fixed.","body":"Probably the decision you’ll always have to make. In general all integrations of a library or service into spring(-boot) offer some great comfort but if something doesn’t work as desired is harder to debug/understand than a homebrew solution. I can’t say anything about spring-kafka in particular but I’d personally always use the official integrations with spring. It’s easier to find resources/help and bugs, that a homebrew solution will have, have probably already been fixed."},{"owner":{"account_id":16479268,"reputation":11,"user_id":11906417,"display_name":"aatish bansal"},"score":0,"creation_date":1639025970,"post_id":70272222,"comment_id":124244587,"body_markdown":"@dpr can you please help me to provide any additional features provided by spring kafka","body":"@dpr can you please help me to provide any additional features provided by spring kafka"}],"owner":{"account_id":16479268,"reputation":11,"user_id":11906417,"display_name":"aatish bansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675584977,"creation_date":1638953512,"question_id":70272222,"body_markdown":"If I want to send messages to Kafka or consume messages from Kafka. Would you recommend using Spring Kafka library or just using Kafka Java API.\r\n\r\nIn Spring they provide a lot of annotations which seems more magics when having some runtime error.\r\n\r\nCan someone differentiate between Spring Kafka and Kafka.","title":"Difference between Spring Kafka and Kafka","body":"<p>If I want to send messages to Kafka or consume messages from Kafka. Would you recommend using Spring Kafka library or just using Kafka Java API.</p>\n<p>In Spring they provide a lot of annotations which seems more magics when having some runtime error.</p>\n<p>Can someone differentiate between Spring Kafka and Kafka.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675549905,"post_id":75348379,"comment_id":132954314,"body_markdown":"That screenshot looks wrong - there are options missing - [this is what mine looks like](https://i.stack.imgur.com/1rWgP.png). Try re-installing the [latest version](https://spring.io/tools). Describe the precise steps you followed. Check the error logs in `.metadata/.plugins/org.eclipse.ui.workbench/log` - or go to Help &gt; About &gt; Installation Details &gt; Configuration &gt; View error log. Update your question accordingly.","body":"That screenshot looks wrong - there are options missing - <a href=\"https://i.stack.imgur.com/1rWgP.png\" rel=\"nofollow noreferrer\">this is what mine looks like</a>. Try re-installing the <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">latest version</a>. Describe the precise steps you followed. Check the error logs in <code>.metadata&#47;.plugins&#47;org.eclipse.ui.workbench&#47;log</code> - or go to Help &gt; About &gt; Installation Details &gt; Configuration &gt; View error log. Update your question accordingly."},{"owner":{"account_id":4170998,"reputation":103,"user_id":3418760,"accept_rate":53,"display_name":"Manju"},"score":0,"creation_date":1675584744,"post_id":75348379,"comment_id":132957885,"body_markdown":"@andrewJames Thanks for your inputs. It worked after installing the latest version which you have suggested. Once again thanks :-)","body":"@andrewJames Thanks for your inputs. It worked after installing the latest version which you have suggested. Once again thanks :-)"}],"answers":[{"tags":[],"owner":{"account_id":4170998,"reputation":103,"user_id":3418760,"accept_rate":53,"display_name":"Manju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675584944,"creation_date":1675584944,"answer_id":75350920,"question_id":75348379,"body_markdown":"The problem was with my STS installation that I figured out by following the steps provide by andrewJames in the comments section. After installing the latest version(4.17), the problem got resolved. ","title":"Unable to create Spring boot starter project in STS","body":"<p>The problem was with my STS installation that I figured out by following the steps provide by andrewJames in the comments section. After installing the latest version(4.17), the problem got resolved.</p>\n"}],"owner":{"account_id":4170998,"reputation":103,"user_id":3418760,"accept_rate":53,"display_name":"Manju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675584944,"creation_date":1675544775,"question_id":75348379,"body_markdown":"I am new to Spring boot architecture. I am trying to create a new spring boot application from the scratch. As a first step, I have installed STS in my machine and also I have the jdk-11 installed and configured in the environment variables section.\r\n\r\nI am able to create standalone java applications using STS. But when I try to create a spring-starter project, I am not at all finding any such options in STS(image shown below). Please let me know what I am missing here. Below is the screenshot of my STS. \r\n\r\n[![These are the only options available in STS][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S4iYS.png","title":"Unable to create Spring boot starter project in STS","body":"<p>I am new to Spring boot architecture. I am trying to create a new spring boot application from the scratch. As a first step, I have installed STS in my machine and also I have the jdk-11 installed and configured in the environment variables section.</p>\n<p>I am able to create standalone java applications using STS. But when I try to create a spring-starter project, I am not at all finding any such options in STS(image shown below). Please let me know what I am missing here. Below is the screenshot of my STS.</p>\n<p><a href=\"https://i.stack.imgur.com/S4iYS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S4iYS.png\" alt=\"These are the only options available in STS\" /></a></p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1675578665,"post_id":75350490,"comment_id":132957261,"body_markdown":"`x[1.length]` -&gt; `x[1].length`","body":"<code>x[1.length]</code> -&gt; <code>x[1].length</code>"}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675584739,"creation_date":1675583977,"answer_id":75350835,"question_id":75350490,"body_markdown":"In Java, a two-dimensional array is merely an array of arrays.  This means the length of any of the array elements can be checked to find the number of columns.  Using your example, this would be:\r\n\r\n```lang-java\r\ndouble[][] t = new double[x[0].length][x.length];\r\n```\r\n\r\nThis should be sufficient for your matrix situation, where we can assume the outer array is not empty, and all inner arrays have the same length.\r\n\r\nNote that this is not guaranteed to work in general.  If the outer array is empty, there are no inner arrays to check, so the number of columns isn&#39;t defined and can&#39;t be determined.  Secondly, there is no guarantee that all inner arrays of a given array of arrays in Java are all the same length.  They will be using the `new double[x][y]` syntax, but the array could have been created using another mechanism or one of the inner arrays could have been replaced with an array of a different length.","title":"find number of columns in a 2D array Java","body":"<p>In Java, a two-dimensional array is merely an array of arrays.  This means the length of any of the array elements can be checked to find the number of columns.  Using your example, this would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] t = new double[x[0].length][x.length];\n</code></pre>\n<p>This should be sufficient for your matrix situation, where we can assume the outer array is not empty, and all inner arrays have the same length.</p>\n<p>Note that this is not guaranteed to work in general.  If the outer array is empty, there are no inner arrays to check, so the number of columns isn't defined and can't be determined.  Secondly, there is no guarantee that all inner arrays of a given array of arrays in Java are all the same length.  They will be using the <code>new double[x][y]</code> syntax, but the array could have been created using another mechanism or one of the inner arrays could have been replaced with an array of a different length.</p>\n"}],"owner":{"account_id":24358009,"reputation":17,"user_id":18292832,"display_name":"Fab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75350835,"answer_count":1,"score":0,"last_activity_date":1675584739,"creation_date":1675578348,"question_id":75350490,"body_markdown":"I&#39;m new to java and am trying to find the transpose of a matrix X with m rows and x columns. I&#39;m not familiar with java syntax but I think I can access the number of rows using double[x.length] but how do I figure out the number of columns? Here is my code:\r\n```\r\nimport stdlib.StdArrayIO;\r\n\r\npublic class Transpose {\r\n    // Entry point\r\n    public static void main(String[] args) {\r\n        double[][] x = StdArrayIO.readDouble2D();\r\n        StdArrayIO.print(transpose(x));\r\n    }\r\n\r\n    // Returns a new matrix that is the transpose of x.\r\n    private static double[][] transpose(double[][] x) {\r\n        // Create a new 2D matrix t (for transpose) with dimensions n x m, where m x n are the\r\n        // dimensions of x.\r\n        double[][] t = new double[x.length][x[1.length]]\r\n\r\n        // For each 0 &lt;= i &lt; m and 0 &lt;= j &lt; n, set t[j][i] to x[i][j].\r\n        \r\n\r\n\r\n        // Return t.\r\n    \r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nAlso, I was trying to figure it out by printing a 2D list in a scrap file but It wouldn&#39;t work for some reason, where is what I had: \r\n```\r\nimport stdlib.StdArrayIO;\r\nimport stdlib.StdOut;\r\n\r\npublic class scrap {\r\n    public static void main(String[] args){\r\n        double[][] x = new double[10][20];\r\n        StdOut.println(x.length);\r\n    }\r\n\r\n\r\n}\r\n```\r\nCould you point out what I was doing wrong? It kept waiting on input. I could also use any other tips that would help, I am transitioning from Python. ","title":"find number of columns in a 2D array Java","body":"<p>I'm new to java and am trying to find the transpose of a matrix X with m rows and x columns. I'm not familiar with java syntax but I think I can access the number of rows using double[x.length] but how do I figure out the number of columns? Here is my code:</p>\n<pre><code>import stdlib.StdArrayIO;\n\npublic class Transpose {\n    // Entry point\n    public static void main(String[] args) {\n        double[][] x = StdArrayIO.readDouble2D();\n        StdArrayIO.print(transpose(x));\n    }\n\n    // Returns a new matrix that is the transpose of x.\n    private static double[][] transpose(double[][] x) {\n        // Create a new 2D matrix t (for transpose) with dimensions n x m, where m x n are the\n        // dimensions of x.\n        double[][] t = new double[x.length][x[1.length]]\n\n        // For each 0 &lt;= i &lt; m and 0 &lt;= j &lt; n, set t[j][i] to x[i][j].\n        \n\n\n        // Return t.\n    \n\n\n    }\n}\n</code></pre>\n<p>Also, I was trying to figure it out by printing a 2D list in a scrap file but It wouldn't work for some reason, where is what I had:</p>\n<pre><code>import stdlib.StdArrayIO;\nimport stdlib.StdOut;\n\npublic class scrap {\n    public static void main(String[] args){\n        double[][] x = new double[10][20];\n        StdOut.println(x.length);\n    }\n\n\n}\n</code></pre>\n<p>Could you point out what I was doing wrong? It kept waiting on input. I could also use any other tips that would help, I am transitioning from Python.</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":13658449,"reputation":930,"user_id":9854260,"display_name":"Esmaeil Ahmadipour"},"score":0,"creation_date":1675542387,"post_id":75348046,"comment_id":132953103,"body_markdown":"Actually, your question needs to reproduce the code. And if you get any error in the steps, please send the screenshot.","body":"Actually, your question needs to reproduce the code. And if you get any error in the steps, please send the screenshot."},{"owner":{"account_id":9813013,"reputation":830,"user_id":7270457,"accept_rate":75,"display_name":"Phil"},"score":0,"creation_date":1675600351,"post_id":75348046,"comment_id":132960222,"body_markdown":"You don&#39;t need a future also Don&#39;t use setstate before navigation.","body":"You don&#39;t need a future also Don&#39;t use setstate before navigation."}],"owner":{"account_id":16990544,"reputation":425,"user_id":12290240,"display_name":"Khader Murtaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675584474,"creation_date":1675541273,"question_id":75348046,"body_markdown":"From the Flutter side, using the PlatformChannel, I am navigating to an Android Java activity, and doing some processes.\r\n\r\nThe activity successfully opens and I&#39;m able to do the functionality and have the final result of it.\r\n\r\nHow may I navigate back to the Flutter side to a specific page and pass a value?\r\n\r\n&gt; P.S.: without going back to the same page and then redirecting to the\r\n&gt; next page.\r\n\r\n**On the Flutter side:**\r\nI have these variables\r\n\r\n```dart\r\n/// Filters Method Channel\r\nfinal filtersChannel = const MethodChannel(&#39;flutter.native/filters&#39;);\r\n\r\n/// Filters Method Channel\r\nfinal filtersResultChannel = const MethodChannel(&quot;flutter.native/result_filters&quot;);\r\n```\r\n\r\nI have a `floatingActionButton` with this function which invokes a `MethodChannel`\r\n```dart\r\nFuture&lt;void&gt; startNewActivity() async {\r\n  try {\r\n    await filtersChannel.invokeMethod(&#39;open_filters&#39;);\r\n  } on PlatformException catch (e) {\r\n    debugPrint(&quot;Failed to Invoke: &#39;${e.message}&#39;.&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**On the `MainActivity.java`**\r\nOn the `protected void onCreate(@Nullable Bundle savedInstanceState)` function, I&#39;m starting an activity which has the AR video recording like this:\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n\r\n    Intent intent = new Intent(this, FiltersActivity.class);\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n**On the `FiltersActivity.java`**\r\nOn the `public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine)` function\r\n\r\nI’m defining and invoking my two channels:\r\n\r\n 1. The `flutter.native/result_filters` channel which builds the UI and\r\n    the functionality.\r\n 2. The `flutter.native/filters` channel which returns the final result.\r\n\r\n\r\nHere:\r\n```java\r\n@Override\r\npublic void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n    GeneratedPluginRegistrant.registerWith(flutterEngine);\r\n\r\n    String resultFiltersChannelIdentifier = &quot;flutter.native/result_filters&quot;;\r\n    filtersResultChannel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), resultFiltersChannelIdentifier);\r\n\r\n    String filtersChannelIdentifier = &quot;flutter.native/filters&quot;;\r\n    MethodChannel filtersChannel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), filtersChannelIdentifier);\r\n    filtersChannel.setMethodCallHandler(this::filtersMethodCallHandler);\r\n}\r\n```\r\n\r\nThen, the `flutter.native/filters` displays the UI using the filtersMethodCallHandler function. Here:\r\n```java\r\nprivate void filtersMethodCallHandler(MethodCall methodCall, MethodChannel.Result result) {\r\n    if (methodCall.method.equals(&quot;open_filters&quot;)) {\r\n        openUI();\r\n    } else {\r\n        result.notImplemented();\r\n    }\r\n}\r\n```\r\n\r\nIn the openUI function, I&#39;m assigning the record button a function, here:\r\n```java\r\nrecordButton.setOnClickListener(this::toggleRecording);\r\n```\r\n\r\nAnd here&#39;s the toggleRecording function:\r\n```java\r\npublic void toggleRecording(View unusedView) {\r\n    boolean recording = videoRecorder.onToggleRecord();\r\n    if (recording) {\r\n        recordButton.setImageResource(R.drawable.round_stop);\r\n        Toast.makeText(this, &quot;Started Recording&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        recordButton.setImageResource(R.drawable.round_videocam);\r\n        Toast.makeText(this, &quot;Recording Stopped&quot;, Toast.LENGTH_SHORT).show();\r\n        videoPath = videoRecorder.getVideoPath().getAbsolutePath();\r\n        Toast.makeText(this, &quot;Video saved: &quot; + videoPath, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;Video saved: &quot; + videoPath);\r\n        // Send  notification of updated content.\r\n        ContentValues values = new ContentValues();\r\n        values.put(MediaStore.Video.Media.TITLE, &quot;Sceneform Video&quot;);\r\n        values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n        values.put(MediaStore.Video.Media.DATA, videoPath);\r\n        getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values);\r\n        filtersResultChannel.invokeMethod(&quot;filters_result&quot;, videoPath);\r\n        finish();\r\n    }\r\n}\r\n```\r\n\r\nAs shown above, I&#39;m invoking the `filters_result` method for the `filtersResultChannel` channel and I&#39;m adding the `videoPath` to it.\r\nAnd then, I&#39;m calling the `finish();` method to close the `FiltersActivity` and return back to the `MainAvtivity` which successfully returns me to the Flutter page!\r\n\r\n**BACK to the Flutter side,**\r\nI&#39;m listening to the `filtersResultChannel` like this:\r\n```dart\r\n@override\r\nvoid initState() {\r\n  super.initState();\r\n  filtersResultChannel.setMethodCallHandler(_filtersResultHandler);\r\n}\r\n\r\nFuture _filtersResultHandler(MethodCall methodCall) async {\r\n  if (methodCall.method == &quot;filters_result&quot;) {\r\n    final videoPath = methodCall.arguments;\r\n    if (videoPath != null &amp;&amp; videoPath.length &gt;= 0) {\r\n      SchedulerBinding.instance.addPostFrameCallback((_) {\r\n        debugPrint(&quot;YES YES YES =&gt; $videoPath&quot;);\r\n        setState(() {\r\n          reportStatus = videoPath;\r\n          Navigator.push(\r\n            context,\r\n            MaterialPageRoute(\r\n              builder: (context) =&gt; VideoShow(clipPath: videoPath),\r\n            ),\r\n          );\r\n        });\r\n      });\r\n    }\r\n    return null;\r\n  } else {\r\n      return null;\r\n  }\r\n}\r\n```\r\n\r\nAs shown above, I have a `debugPrint` statement, this statement prints the returned `videoPath` from the `filtersResultChannel`\r\n\r\n\r\n**&lt;---------&gt;**\r\n**THE PROBLEM**\r\n**&lt;---------&gt;**\r\n\r\nEven though I&#39;m successfully getting the `videoPath` value and successfully returning back to the Flutter page, I&#39;m NOT able to use it!!\r\n\r\nThe `setState();` doesn&#39;t update the UI NOR navigate to the next screen, the VideoShow screen!\r\n\r\n\r\n**HOW MAY I FIX SUCH AN ISSUE?**","title":"How to update the Flutter app state after navigating back from Android Java activity?","body":"<p>From the Flutter side, using the PlatformChannel, I am navigating to an Android Java activity, and doing some processes.</p>\n<p>The activity successfully opens and I'm able to do the functionality and have the final result of it.</p>\n<p>How may I navigate back to the Flutter side to a specific page and pass a value?</p>\n<blockquote>\n<p>P.S.: without going back to the same page and then redirecting to the\nnext page.</p>\n</blockquote>\n<p><strong>On the Flutter side:</strong>\nI have these variables</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// Filters Method Channel\nfinal filtersChannel = const MethodChannel('flutter.native/filters');\n\n/// Filters Method Channel\nfinal filtersResultChannel = const MethodChannel(&quot;flutter.native/result_filters&quot;);\n</code></pre>\n<p>I have a <code>floatingActionButton</code> with this function which invokes a <code>MethodChannel</code></p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; startNewActivity() async {\n  try {\n    await filtersChannel.invokeMethod('open_filters');\n  } on PlatformException catch (e) {\n    debugPrint(&quot;Failed to Invoke: '${e.message}'.&quot;);\n  }\n}\n</code></pre>\n<p><strong>On the <code>MainActivity.java</code></strong>\nOn the <code>protected void onCreate(@Nullable Bundle savedInstanceState)</code> function, I'm starting an activity which has the AR video recording like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    Intent intent = new Intent(this, FiltersActivity.class);\n    startActivity(intent);\n}\n</code></pre>\n<p><strong>On the <code>FiltersActivity.java</code></strong>\nOn the <code>public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine)</code> function</p>\n<p>I’m defining and invoking my two channels:</p>\n<ol>\n<li>The <code>flutter.native/result_filters</code> channel which builds the UI and\nthe functionality.</li>\n<li>The <code>flutter.native/filters</code> channel which returns the final result.</li>\n</ol>\n<p>Here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n    GeneratedPluginRegistrant.registerWith(flutterEngine);\n\n    String resultFiltersChannelIdentifier = &quot;flutter.native/result_filters&quot;;\n    filtersResultChannel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), resultFiltersChannelIdentifier);\n\n    String filtersChannelIdentifier = &quot;flutter.native/filters&quot;;\n    MethodChannel filtersChannel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), filtersChannelIdentifier);\n    filtersChannel.setMethodCallHandler(this::filtersMethodCallHandler);\n}\n</code></pre>\n<p>Then, the <code>flutter.native/filters</code> displays the UI using the filtersMethodCallHandler function. Here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void filtersMethodCallHandler(MethodCall methodCall, MethodChannel.Result result) {\n    if (methodCall.method.equals(&quot;open_filters&quot;)) {\n        openUI();\n    } else {\n        result.notImplemented();\n    }\n}\n</code></pre>\n<p>In the openUI function, I'm assigning the record button a function, here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>recordButton.setOnClickListener(this::toggleRecording);\n</code></pre>\n<p>And here's the toggleRecording function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void toggleRecording(View unusedView) {\n    boolean recording = videoRecorder.onToggleRecord();\n    if (recording) {\n        recordButton.setImageResource(R.drawable.round_stop);\n        Toast.makeText(this, &quot;Started Recording&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        recordButton.setImageResource(R.drawable.round_videocam);\n        Toast.makeText(this, &quot;Recording Stopped&quot;, Toast.LENGTH_SHORT).show();\n        videoPath = videoRecorder.getVideoPath().getAbsolutePath();\n        Toast.makeText(this, &quot;Video saved: &quot; + videoPath, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;Video saved: &quot; + videoPath);\n        // Send  notification of updated content.\n        ContentValues values = new ContentValues();\n        values.put(MediaStore.Video.Media.TITLE, &quot;Sceneform Video&quot;);\n        values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n        values.put(MediaStore.Video.Media.DATA, videoPath);\n        getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values);\n        filtersResultChannel.invokeMethod(&quot;filters_result&quot;, videoPath);\n        finish();\n    }\n}\n</code></pre>\n<p>As shown above, I'm invoking the <code>filters_result</code> method for the <code>filtersResultChannel</code> channel and I'm adding the <code>videoPath</code> to it.\nAnd then, I'm calling the <code>finish();</code> method to close the <code>FiltersActivity</code> and return back to the <code>MainAvtivity</code> which successfully returns me to the Flutter page!</p>\n<p><strong>BACK to the Flutter side,</strong>\nI'm listening to the <code>filtersResultChannel</code> like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>@override\nvoid initState() {\n  super.initState();\n  filtersResultChannel.setMethodCallHandler(_filtersResultHandler);\n}\n\nFuture _filtersResultHandler(MethodCall methodCall) async {\n  if (methodCall.method == &quot;filters_result&quot;) {\n    final videoPath = methodCall.arguments;\n    if (videoPath != null &amp;&amp; videoPath.length &gt;= 0) {\n      SchedulerBinding.instance.addPostFrameCallback((_) {\n        debugPrint(&quot;YES YES YES =&gt; $videoPath&quot;);\n        setState(() {\n          reportStatus = videoPath;\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; VideoShow(clipPath: videoPath),\n            ),\n          );\n        });\n      });\n    }\n    return null;\n  } else {\n      return null;\n  }\n}\n</code></pre>\n<p>As shown above, I have a <code>debugPrint</code> statement, this statement prints the returned <code>videoPath</code> from the <code>filtersResultChannel</code></p>\n<p><strong>&lt;---------&gt;</strong>\n<strong>THE PROBLEM</strong>\n<strong>&lt;---------&gt;</strong></p>\n<p>Even though I'm successfully getting the <code>videoPath</code> value and successfully returning back to the Flutter page, I'm NOT able to use it!!</p>\n<p>The <code>setState();</code> doesn't update the UI NOR navigate to the next screen, the VideoShow screen!</p>\n<p><strong>HOW MAY I FIX SUCH AN ISSUE?</strong></p>\n"},{"tags":["java","amazon-web-services","jenkins","amazon-s3"],"comments":[{"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"score":0,"creation_date":1401711932,"post_id":23991694,"comment_id":36976178,"body_markdown":"There is also Swift3, but it would be even more complex to set up. Perhaps having a server set up outside jenkins, instead of setting up in the test suite?","body":"There is also Swift3, but it would be even more complex to set up. Perhaps having a server set up outside jenkins, instead of setting up in the test suite?"},{"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"score":0,"creation_date":1401712595,"post_id":23991694,"comment_id":36976597,"body_markdown":"Yeah that&#39;s another option, didn&#39;t think of that. It&#39;s much nicer to have completely self contained tests though, you don&#39;t want to have to VPN into a network with the S3 server set up just to run your tests.","body":"Yeah that&#39;s another option, didn&#39;t think of that. It&#39;s much nicer to have completely self contained tests though, you don&#39;t want to have to VPN into a network with the S3 server set up just to run your tests."},{"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"score":0,"creation_date":1401714051,"post_id":23991694,"comment_id":36977497,"body_markdown":"For that i belive setting the hosts file in the jenkins machine and running on FakeS3, or just mocking the S3 client interface, could be a better solution...","body":"For that i belive setting the hosts file in the jenkins machine and running on FakeS3, or just mocking the S3 client interface, could be a better solution..."},{"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"score":0,"creation_date":1401719249,"post_id":23991694,"comment_id":36981073,"body_markdown":"It&#39;s quite a big interface to mock, and I would rather avoid using mocks if at all possible, as you end up tying your tests to the implementation.","body":"It&#39;s quite a big interface to mock, and I would rather avoid using mocks if at all possible, as you end up tying your tests to the implementation."},{"owner":{"account_id":2513551,"reputation":711,"user_id":2611083,"accept_rate":78,"display_name":"Beno&#238;t Sauv&#232;re"},"score":2,"creation_date":1447168583,"post_id":23991694,"comment_id":55040052,"body_markdown":"May be s3ninja.net ?","body":"May be s3ninja.net ?"}],"answers":[{"comments":[{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":6,"creation_date":1449658351,"post_id":34012175,"comment_id":56100404,"body_markdown":"This does not answer the question at all. OP is asking for a local solution so he doesn&#39;t have to spend $$$ when running his Integration tests.....","body":"This does not answer the question at all. OP is asking for a local solution so he doesn&#39;t have to spend $$$ when running his Integration tests....."}],"tags":[],"owner":{"account_id":4043723,"reputation":48,"user_id":3325677,"display_name":"Anthony Hobbs"},"comment_count":1,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1448941163,"creation_date":1448941163,"answer_id":34012175,"question_id":23991694,"body_markdown":"I created different buckets to use for the different use cases. For example: my-dev-bucket and my-prod-bucket. I don&#39;t know if this meets your use criteria but you might want to consider it. The side benefit is it makes your pre production and production code follow the exact same flows.\r\n\r\n","title":"AWS S3 local server for integration testing","body":"<p>I created different buckets to use for the different use cases. For example: my-dev-bucket and my-prod-bucket. I don't know if this meets your use criteria but you might want to consider it. The side benefit is it makes your pre production and production code follow the exact same flows.</p>\n"},{"comments":[{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":1,"creation_date":1558048038,"post_id":35812932,"comment_id":98981580,"body_markdown":"Minio does not support tags unfortunately","body":"Minio does not support tags unfortunately"}],"tags":[],"owner":{"account_id":221274,"reputation":1942,"user_id":2390296,"display_name":"koolhead17"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1457176756,"creation_date":1457173511,"answer_id":35812932,"question_id":23991694,"body_markdown":"You can try installing [minio][1] server on your laptop/system, its open source &amp; single static binary. Server is S3 compatible. Then you can try [minio-java client library][2] for all operations, following is basic [operations example][3].\r\n\r\nInstalling minio server [GNU/Linux]\r\n\r\n    $ wget https://dl.minio.io/server/minio/release/linux-amd64/minio\r\n    $ chmod 755 minio\r\n    $ ./minio --help  \r\n\r\nHope it helps\r\nDisclaimer: I work for [Minio][4]\r\n\r\n\r\n  [1]: https://github.com/minio/minio\r\n  [2]: https://github.com/minio/minio-java\r\n  [3]: https://github.com/minio/minio-java/tree/master/examples\r\n  [4]: https://www.minio.io","title":"AWS S3 local server for integration testing","body":"<p>You can try installing <a href=\"https://github.com/minio/minio\" rel=\"noreferrer\">minio</a> server on your laptop/system, its open source &amp; single static binary. Server is S3 compatible. Then you can try <a href=\"https://github.com/minio/minio-java\" rel=\"noreferrer\">minio-java client library</a> for all operations, following is basic <a href=\"https://github.com/minio/minio-java/tree/master/examples\" rel=\"noreferrer\">operations example</a>.</p>\n\n<p>Installing minio server [GNU/Linux]</p>\n\n<pre><code>$ wget https://dl.minio.io/server/minio/release/linux-amd64/minio\n$ chmod 755 minio\n$ ./minio --help  \n</code></pre>\n\n<p>Hope it helps\nDisclaimer: I work for <a href=\"https://www.minio.io\" rel=\"noreferrer\">Minio</a></p>\n"},{"tags":[],"owner":{"account_id":6241235,"reputation":31,"user_id":4854804,"display_name":"RalfU"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458759193,"creation_date":1458759193,"answer_id":36186455,"question_id":23991694,"body_markdown":"I started a S3 Server API project for Ladon, it contains a simple File System Repository. Its a Java Project and contains a Spring Boot Starter for simple testing. Not all S3 API features are supported yet but I will add them on request. Its on Github: [Ladon S3 Server][1] \r\n\r\n\r\n  [1]: https://github.com/mindmill/ladon-s3-server","title":"AWS S3 local server for integration testing","body":"<p>I started a S3 Server API project for Ladon, it contains a simple File System Repository. Its a Java Project and contains a Spring Boot Starter for simple testing. Not all S3 API features are supported yet but I will add them on request. Its on Github: <a href=\"https://github.com/mindmill/ladon-s3-server\" rel=\"nofollow\">Ladon S3 Server</a> </p>\n"},{"comments":[{"owner":{"account_id":4358519,"reputation":1017,"user_id":3556394,"accept_rate":25,"display_name":"PyThon"},"score":0,"creation_date":1477297358,"post_id":36954663,"comment_id":67691461,"body_markdown":"can you please tell how to connect to riak-cs local server in place of s3","body":"can you please tell how to connect to riak-cs local server in place of s3"},{"owner":{"account_id":4358519,"reputation":1017,"user_id":3556394,"accept_rate":25,"display_name":"PyThon"},"score":0,"creation_date":1477297420,"post_id":36954663,"comment_id":67691503,"body_markdown":"I want my existing code base to run against riak-cs in place of s3","body":"I want my existing code base to run against riak-cs in place of s3"},{"owner":{"account_id":49802,"reputation":46805,"user_id":148423,"accept_rate":74,"display_name":"Joe"},"score":0,"creation_date":1479381287,"post_id":36954663,"comment_id":68538022,"body_markdown":"I looked at docker-riak-cs but it didn&#39;t look like I could automatically configure it with keys for unsupervised integration tests. How did you do it?","body":"I looked at docker-riak-cs but it didn&#39;t look like I could automatically configure it with keys for unsupervised integration tests. How did you do it?"},{"owner":{"account_id":208088,"reputation":8844,"user_id":458356,"accept_rate":92,"display_name":"Ian Bytchek"},"score":0,"creation_date":1479416910,"post_id":36954663,"comment_id":68561197,"body_markdown":"Riak CS doesn&#39;t allow to specify custom credentials for security reasons. Docker image provides this for cases when you already have data and want to mount it, this is mentioned in [configuration](https://github.com/ianbytchek/docker-riak-cs#configuration). After container starts you can get credentials from logs, see how it&#39;s done in [test.sh](https://github.com/ianbytchek/docker-riak-cs/blob/d3324f8582831269a5088ee63d2d34d6787b19f3/build/ci/script/test.sh#L30-L35).","body":"Riak CS doesn&#39;t allow to specify custom credentials for security reasons. Docker image provides this for cases when you already have data and want to mount it, this is mentioned in <a href=\"https://github.com/ianbytchek/docker-riak-cs#configuration\" rel=\"nofollow noreferrer\">configuration</a>. After container starts you can get credentials from logs, see how it&#39;s done in <a href=\"https://github.com/ianbytchek/docker-riak-cs/blob/d3324f8582831269a5088ee63d2d34d6787b19f3/build/ci/script/test.sh#L30-L35\" rel=\"nofollow noreferrer\">test.sh</a>."},{"owner":{"account_id":16209,"reputation":280512,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"score":1,"creation_date":1536666952,"post_id":36954663,"comment_id":91498130,"body_markdown":"The [repo seems to be no longer maintained](https://github.com/ianbytchek/docker-riak-cs/issues/13#issuecomment-419885808) and startup times are atrocious (90s+ on decent hardware!).","body":"The <a href=\"https://github.com/ianbytchek/docker-riak-cs/issues/13#issuecomment-419885808\" rel=\"nofollow noreferrer\">repo seems to be no longer maintained</a> and startup times are atrocious (90s+ on decent hardware!)."}],"tags":[],"owner":{"account_id":208088,"reputation":8844,"user_id":458356,"accept_rate":92,"display_name":"Ian Bytchek"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1462017634,"creation_date":1462017634,"answer_id":36954663,"question_id":23991694,"body_markdown":"Late answer, will be useful mostly for Docker users. There&#39;s a great S3 compatible storage software called [Riak CS](https://github.com/basho/riak_cs) and there&#39;s [docker-riak-cs](https://github.com/ianbytchek/docker-riak-cs) image that allows to quickly launch the server.\r\n\r\nI&#39;ve been using it for nearly 2 years for local development and integration testing with great success. It has some limitations, but nothing major that comes in the way, see api / compatibility [documentation](http://docs.basho.com/riak/cs/2.1.1/references/apis/storage/s3/).\r\n\r\nIf you need Docker-less solution, you can set it up locally for each build, all setup and configuration scripts are available in [docker-riak-cs](https://github.com/ianbytchek/docker-riak-cs) repository.","title":"AWS S3 local server for integration testing","body":"<p>Late answer, will be useful mostly for Docker users. There's a great S3 compatible storage software called <a href=\"https://github.com/basho/riak_cs\">Riak CS</a> and there's <a href=\"https://github.com/ianbytchek/docker-riak-cs\">docker-riak-cs</a> image that allows to quickly launch the server.</p>\n\n<p>I've been using it for nearly 2 years for local development and integration testing with great success. It has some limitations, but nothing major that comes in the way, see api / compatibility <a href=\"http://docs.basho.com/riak/cs/2.1.1/references/apis/storage/s3/\">documentation</a>.</p>\n\n<p>If you need Docker-less solution, you can set it up locally for each build, all setup and configuration scripts are available in <a href=\"https://github.com/ianbytchek/docker-riak-cs\">docker-riak-cs</a> repository.</p>\n"},{"comments":[{"owner":{"account_id":1066649,"reputation":617,"user_id":1067039,"accept_rate":100,"display_name":"Martin Charlesworth"},"score":0,"creation_date":1558602255,"post_id":48640678,"comment_id":99158254,"body_markdown":"great tip, this worked great for me. similar to using wiremock in tests, if you&#39;re familiar with that.","body":"great tip, this worked great for me. similar to using wiremock in tests, if you&#39;re familiar with that."}],"tags":[],"owner":{"account_id":21452,"reputation":2018,"user_id":52142,"accept_rate":40,"display_name":"Artur Gajowy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517912641,"creation_date":1517912641,"answer_id":48640678,"question_id":23991694,"body_markdown":"[findify/s3mock](https://github.com/findify/s3mock) - an in-process, Java S3 server aimed at testing. Didn&#39;t test it - just stumbled upon it. Needs no docker, which might be an advantage. HTH! :)","title":"AWS S3 local server for integration testing","body":"<p><a href=\"https://github.com/findify/s3mock\" rel=\"nofollow noreferrer\">findify/s3mock</a> - an in-process, Java S3 server aimed at testing. Didn't test it - just stumbled upon it. Needs no docker, which might be an advantage. HTH! :)</p>\n"},{"comments":[{"owner":{"account_id":6423201,"reputation":309,"user_id":4979285,"accept_rate":78,"display_name":"Nico"},"score":0,"creation_date":1644851313,"post_id":49685252,"comment_id":125708430,"body_markdown":"Do you know if you can connect to a local S3 running from localstack through a SFTP client? I am not finding anything in the documentation. Maybe is not possible.","body":"Do you know if you can connect to a local S3 running from localstack through a SFTP client? I am not finding anything in the documentation. Maybe is not possible."}],"tags":[],"owner":{"account_id":5065111,"reputation":10075,"user_id":5916915,"accept_rate":42,"display_name":"Flux"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1577173344,"creation_date":1522988449,"answer_id":49685252,"question_id":23991694,"body_markdown":"You can try [localstack](https://github.com/localstack/localstack), which is an open source local AWS cloud stack made for testing. It provides implementations of several of AWS services, including S3.\r\n\r\nIt looks like a very popular open source project on GitHub.","title":"AWS S3 local server for integration testing","body":"<p>You can try <a href=\"https://github.com/localstack/localstack\" rel=\"noreferrer\">localstack</a>, which is an open source local AWS cloud stack made for testing. It provides implementations of several of AWS services, including S3.</p>\n\n<p>It looks like a very popular open source project on GitHub.</p>\n"},{"tags":[],"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608644582,"creation_date":1606989951,"answer_id":65123774,"question_id":23991694,"body_markdown":"[Minio][1] offers (in my opinion) the best set of features, flexibility and ease of use. \r\nIt is available as a docker container or binary for major OSes.\r\n\r\nTo start with [minio][2], it is as easy as:\r\n\r\n - Download\r\n - Start the binary `minio server /data`\r\n - Use it\r\n\r\nIt works flawlessly with s3cmd and it has nice documentation for popular programming languages.\r\n\r\n  [1]: https://docs.min.io/\r\n  [2]: https://min.io/","title":"AWS S3 local server for integration testing","body":"<p><a href=\"https://docs.min.io/\" rel=\"nofollow noreferrer\">Minio</a> offers (in my opinion) the best set of features, flexibility and ease of use.\nIt is available as a docker container or binary for major OSes.</p>\n<p>To start with <a href=\"https://min.io/\" rel=\"nofollow noreferrer\">minio</a>, it is as easy as:</p>\n<ul>\n<li>Download</li>\n<li>Start the binary <code>minio server /data</code></li>\n<li>Use it</li>\n</ul>\n<p>It works flawlessly with s3cmd and it has nice documentation for popular programming languages.</p>\n"},{"tags":[],"owner":{"account_id":2084375,"reputation":1,"user_id":1855666,"display_name":"Bar Hemo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675583814,"creation_date":1675583774,"answer_id":75350824,"question_id":23991694,"body_markdown":"ive tried both minio and localstack, and the problem with localstack is that the storage in the s3 bucket is not persistence. I think only if you have the pro version it will support percistency. minio was very easy to use, and it is persistent for free.","title":"AWS S3 local server for integration testing","body":"<p>ive tried both minio and localstack, and the problem with localstack is that the storage in the s3 bucket is not persistence. I think only if you have the pro version it will support percistency. minio was very easy to use, and it is persistent for free.</p>\n"}],"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60548,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":8,"score":42,"last_activity_date":1675583814,"creation_date":1401702570,"question_id":23991694,"body_markdown":"I have some code that uploads and downloads files using AWS S3 (using the Java AWS SDK). I want to be able to write some tests for it, I was wondering if anyone has any good options. Ideally I would like a light-weight S3 server that runs locally that can be started fast and requires no system configuration (the tests need to be run by Jenkins).\r\n\r\nSome options I have looked at so far:\r\n\r\n 1. [**FakeS3**][1] - Almost exactly what I&#39;m looking for, however, when using the Java AWS SDK, you must edit your /etc/hosts file and restart networking, not something I can do in Jenkins. Also when trying it out there seems to be a bug with the creation date field being formatted wrong which makes my client throw an exception, which doesn&#39;t inspire me with much confidence in the project.\r\n 2. **Ceph** - Implements S3 API but takes several minutes to install\r\n\r\n\r\n\r\n  [1]: https://github.com/jubos/fake-s3","title":"AWS S3 local server for integration testing","body":"<p>I have some code that uploads and downloads files using AWS S3 (using the Java AWS SDK). I want to be able to write some tests for it, I was wondering if anyone has any good options. Ideally I would like a light-weight S3 server that runs locally that can be started fast and requires no system configuration (the tests need to be run by Jenkins).</p>\n\n<p>Some options I have looked at so far:</p>\n\n<ol>\n<li><a href=\"https://github.com/jubos/fake-s3\"><strong>FakeS3</strong></a> - Almost exactly what I'm looking for, however, when using the Java AWS SDK, you must edit your /etc/hosts file and restart networking, not something I can do in Jenkins. Also when trying it out there seems to be a bug with the creation date field being formatted wrong which makes my client throw an exception, which doesn't inspire me with much confidence in the project.</li>\n<li><strong>Ceph</strong> - Implements S3 API but takes several minutes to install</li>\n</ol>\n"},{"tags":["java","java-8","java-stream","generics"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1430955452,"post_id":30089469,"comment_id":48291900,"body_markdown":"You simply cannot do this because Java doesn&#39;t accept operator overloading for classes.","body":"You simply cannot do this because Java doesn&#39;t accept operator overloading for classes."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1430955558,"post_id":30089469,"comment_id":48291942,"body_markdown":"I don&#39;t get the idea. What do you want the answer to be, a `T` or a primitive type like `int`?","body":"I don&#39;t get the idea. What do you want the answer to be, a <code>T</code> or a primitive type like <code>int</code>?"},{"owner":{"account_id":134632,"reputation":9364,"user_id":336892,"accept_rate":72,"display_name":"Jay"},"score":0,"creation_date":1430955631,"post_id":30089469,"comment_id":48291962,"body_markdown":"@pbabcdefp Integer, Double, or it could be int, or double","body":"@pbabcdefp Integer, Double, or it could be int, or double"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1430956117,"post_id":30089469,"comment_id":48292102,"body_markdown":"Also see http://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass. If generic arithmetic is your goal you will basically need to find a library or write one.","body":"Also see <a href=\"http://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass\" title=\"can i do arithmetic operations on the number baseclass\">stackoverflow.com/questions/3873215/&hellip;</a>. If generic arithmetic is your goal you will basically need to find a library or write one."}],"answers":[{"comments":[{"owner":{"account_id":134632,"reputation":9364,"user_id":336892,"accept_rate":72,"display_name":"Jay"},"score":0,"creation_date":1430955848,"post_id":30089517,"comment_id":48292021,"body_markdown":"Awesome! is there any way to make it generic?","body":"Awesome! is there any way to make it generic?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1430955970,"post_id":30089517,"comment_id":48292055,"body_markdown":"@Jay You can pass the mapper and summer in. You&#39;d end up with something like `MyMath.sum(map, Number::intValue, Integer::sum)` and the summer is a reduce operation. That&#39;s not much better so not really.","body":"@Jay You can pass the mapper and summer in. You&#39;d end up with something like <code>MyMath.sum(map, Number::intValue, Integer::sum)</code> and the summer is a reduce operation. That&#39;s not much better so not really."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1430955979,"post_id":30089517,"comment_id":48292058,"body_markdown":"@Jay It&#39;s already generic in the sense that `T` is any type extending `Number`. If you mean, is there any way to make it give an `int` or a `double` etc, the answer is no as primitive types in java need to be dealt with separately.","body":"@Jay It&#39;s already generic in the sense that <code>T</code> is any type extending <code>Number</code>. If you mean, is there any way to make it give an <code>int</code> or a <code>double</code> etc, the answer is no as primitive types in java need to be dealt with separately."},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1430956038,"post_id":30089517,"comment_id":48292073,"body_markdown":"@Jay &#39;Generic&#39; means to decide what field of `Number` you want to sum up (`intValue`, `doubleValue`, `longValue`)?","body":"@Jay &#39;Generic&#39; means to decide what field of <code>Number</code> you want to sum up (<code>intValue</code>, <code>doubleValue</code>, <code>longValue</code>)?"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":3,"creation_date":1430956218,"post_id":30089517,"comment_id":48292130,"body_markdown":"@Jay See this answer for how to do a reduction over a stream to get a generalized sum: http://stackoverflow.com/a/30019328/3973077","body":"@Jay See this answer for how to do a reduction over a stream to get a generalized sum: <a href=\"http://stackoverflow.com/a/30019328/3973077\">stackoverflow.com/a/30019328/3973077</a>"},{"owner":{"account_id":134632,"reputation":9364,"user_id":336892,"accept_rate":72,"display_name":"Jay"},"score":0,"creation_date":1430956269,"post_id":30089517,"comment_id":48292149,"body_markdown":"@isnot2bad I wanted to wrap it in a function like T sum(Map&lt;String, T&gt;map) {}, but this is pretty close","body":"@isnot2bad I wanted to wrap it in a function like T sum(Map&lt;String, T&gt;map) {}, but this is pretty close"},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1430956415,"post_id":30089517,"comment_id":48292200,"body_markdown":"@Jay As others already stated: That&#39;s not possible. Can&#39;t be, as `Map&lt;String, Number&gt;` would be a legal argument, which could contain a mix of `Integer`, `Double`, `Long`... as values.","body":"@Jay As others already stated: That&#39;s not possible. Can&#39;t be, as <code>Map&lt;String, Number&gt;</code> would be a legal argument, which could contain a mix of <code>Integer</code>, <code>Double</code>, <code>Long</code>... as values."},{"owner":{"account_id":134632,"reputation":9364,"user_id":336892,"accept_rate":72,"display_name":"Jay"},"score":1,"creation_date":1430956431,"post_id":30089517,"comment_id":48292206,"body_markdown":"@pbabcdefp good find! I guess I can do it if I create a class with an add method","body":"@pbabcdefp good find! I guess I can do it if I create a class with an add method"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":2,"creation_date":1430956497,"post_id":30089517,"comment_id":48292223,"body_markdown":"What you&#39;d have to do is make an interface `Summable` as in the question I link to and then make classes implement that interface for each number type (`WrappedInt`, `WrappedDouble` etc).","body":"What you&#39;d have to do is make an interface <code>Summable</code> as in the question I link to and then make classes implement that interface for each number type (<code>WrappedInt</code>, <code>WrappedDouble</code> etc)."},{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":0,"creation_date":1430957864,"post_id":30089517,"comment_id":48292615,"body_markdown":"@pbabcdefp mapping to int is not a good idea for collection of Long or BigDecimal or Double, maybe correct your answer, as it&#39;s now too misleading","body":"@pbabcdefp mapping to int is not a good idea for collection of Long or BigDecimal or Double, maybe correct your answer, as it&#39;s now too misleading"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1430958654,"post_id":30089517,"comment_id":48292800,"body_markdown":"@harshtuna Most people don&#39;t bother to explain downvotes, so I appreciate that. I think the question was more about how to translate summing using a `for` loop into `Stream`s, and my answer does that. I agree a more generic approach, returning the same type as the numbers in the collection would be better, and I explain how to do that in the comments above. However the answer I give is not completely useless; for integral types `BigInteger`, `Integer`, `Long` etc it returns the sum modulo `2^32`. For `Float`, `Double` and `BigDecimal` I agree there isn&#39;t much point.","body":"@harshtuna Most people don&#39;t bother to explain downvotes, so I appreciate that. I think the question was more about how to translate summing using a <code>for</code> loop into <code>Stream</code>s, and my answer does that. I agree a more generic approach, returning the same type as the numbers in the collection would be better, and I explain how to do that in the comments above. However the answer I give is not completely useless; for integral types <code>BigInteger</code>, <code>Integer</code>, <code>Long</code> etc it returns the sum modulo <code>2^32</code>. For <code>Float</code>, <code>Double</code> and <code>BigDecimal</code> I agree there isn&#39;t much point."},{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":0,"creation_date":1430959837,"post_id":30089517,"comment_id":48293077,"body_markdown":"@pbabcdefp for-loop to streams is easy, that would be simply duplicate which does not deserve any answer. Generic Number handling is the challenge here.","body":"@pbabcdefp for-loop to streams is easy, that would be simply duplicate which does not deserve any answer. Generic Number handling is the challenge here."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1430960129,"post_id":30089517,"comment_id":48293151,"body_markdown":"@harshtuna But since we can&#39;t really do generic number handling we are suggesting alternatives. : ) It&#39;s fine if you want to downvote it I guess but we know we are suggesting alternatives.","body":"@harshtuna But since we can&#39;t really do generic number handling we are suggesting alternatives. : ) It&#39;s fine if you want to downvote it I guess but we know we are suggesting alternatives."},{"owner":{"account_id":6115694,"reputation":3228,"user_id":4770813,"accept_rate":53,"display_name":"Scaramouche"},"score":0,"creation_date":1556414581,"post_id":30089517,"comment_id":98430337,"body_markdown":"@Radiodef &#39;s [answer](https://stackoverflow.com/a/30089778/4770813) worked for me but this one shows ***incompatible types: invalid method reference \\n incompatible types: integer cannot be converted to String \\n The type of mapToInt(ToIntFunction&lt;? super T&gt;) is erroneous \\n where T is a type-variable: \\n T extends Object declared in interface Stream***. I&#39;m just returning the whole line in a `public int` method. My map&#39;s key is a reference to one of my java classes and the value is an `Integer`. Please help, thanks","body":"@Radiodef &#39;s <a href=\"https://stackoverflow.com/a/30089778/4770813\">answer</a> worked for me but this one shows <b><i>incompatible types: invalid method reference \\n incompatible types: integer cannot be converted to String \\n The type of mapToInt(ToIntFunction&lt;? super T&gt;) is erroneous \\n where T is a type-variable: \\n T extends Object declared in interface Stream</i></b>. I&#39;m just returning the whole line in a <code>public int</code> method. My map&#39;s key is a reference to one of my java classes and the value is an <code>Integer</code>. Please help, thanks"}],"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"comment_count":14,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1542797388,"creation_date":1430955721,"answer_id":30089517,"question_id":30089469,"body_markdown":"You can do this:\r\n\r\n    int sum = data.values().stream().mapToInt(Integer::parseInt).sum();","title":"How to sum values in a Map with a stream?","body":"<p>You can do this:</p>\n\n<pre><code>int sum = data.values().stream().mapToInt(Integer::parseInt).sum();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":1,"creation_date":1430959128,"post_id":30089778,"comment_id":48292922,"body_markdown":"there&#39;s also no generic solution to sum heterogeneous stream of Number (AtomicInteger, AtomicLong, BigDecimal, BigInteger, Byte, Double,...) and possibly custom types","body":"there&#39;s also no generic solution to sum heterogeneous stream of Number (AtomicInteger, AtomicLong, BigDecimal, BigInteger, Byte, Double,...) and possibly custom types"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":0,"creation_date":1430959483,"post_id":30089778,"comment_id":48292990,"body_markdown":"The arguments for `Integer.sum` are both `int`, so in the first bit you&#39;re going to have to get from `T` to `int` somehow. I think the solution to the `Optional` problem is to make the method accept a zero value and use `orElse`.","body":"The arguments for <code>Integer.sum</code> are both <code>int</code>, so in the first bit you&#39;re going to have to get from <code>T</code> to <code>int</code> somehow. I think the solution to the <code>Optional</code> problem is to make the method accept a zero value and use <code>orElse</code>."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1430960057,"post_id":30089778,"comment_id":48293138,"body_markdown":"@Radiodef Lambdas do unboxing, yes, but they won&#39;t unbox a `Number` to an `int`...","body":"@Radiodef Lambdas do unboxing, yes, but they won&#39;t unbox a <code>Number</code> to an <code>int</code>..."}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1530896700,"creation_date":1430957396,"answer_id":30089778,"question_id":30089469,"body_markdown":"Here&#39;s another way to do this:\r\n\r\n    int sum = data.values().stream().reduce(0, Integer::sum);\r\n\r\n(For a sum to just `int`, however, Paul&#39;s answer does less boxing and unboxing.)\r\n\r\nAs for doing this *generically*, I don&#39;t think there&#39;s a way that&#39;s much more convenient.\r\n\r\nWe could do something like this:\r\n\r\n    static &lt;T&gt; T sum(Map&lt;?, T&gt; m, BinaryOperator&lt;T&gt; summer) {\r\n        return m.values().stream().reduce(summer).get();\r\n    }\r\n\r\n    int sum = MyMath.sum(data, Integer::sum);\r\n\r\nBut you always end up passing the summer. `reduce` is also problematic because it returns `Optional`. The above `sum` method throws an exception for an empty map, but an empty sum should be 0. Of course, we could pass the 0 too:\r\n\r\n    static &lt;T&gt; T sum(Map&lt;?, T&gt; m, T identity, BinaryOperator&lt;T&gt; summer) {\r\n        return m.values().stream().reduce(identity, summer);\r\n    }\r\n\r\n    int sum = MyMath.sum(data, 0, Integer::sum);","title":"How to sum values in a Map with a stream?","body":"<p>Here's another way to do this:</p>\n\n<pre><code>int sum = data.values().stream().reduce(0, Integer::sum);\n</code></pre>\n\n<p>(For a sum to just <code>int</code>, however, Paul's answer does less boxing and unboxing.)</p>\n\n<p>As for doing this <em>generically</em>, I don't think there's a way that's much more convenient.</p>\n\n<p>We could do something like this:</p>\n\n<pre><code>static &lt;T&gt; T sum(Map&lt;?, T&gt; m, BinaryOperator&lt;T&gt; summer) {\n    return m.values().stream().reduce(summer).get();\n}\n\nint sum = MyMath.sum(data, Integer::sum);\n</code></pre>\n\n<p>But you always end up passing the summer. <code>reduce</code> is also problematic because it returns <code>Optional</code>. The above <code>sum</code> method throws an exception for an empty map, but an empty sum should be 0. Of course, we could pass the 0 too:</p>\n\n<pre><code>static &lt;T&gt; T sum(Map&lt;?, T&gt; m, T identity, BinaryOperator&lt;T&gt; summer) {\n    return m.values().stream().reduce(identity, summer);\n}\n\nint sum = MyMath.sum(data, 0, Integer::sum);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7758115,"reputation":1662,"user_id":5871709,"display_name":"funder7"},"score":0,"creation_date":1611871615,"post_id":35035833,"comment_id":116597732,"body_markdown":"`(x, y) -&gt; x + y` can also be written as `Long::sum` ;)","body":"<code>(x, y) -&gt; x + y</code> can also be written as <code>Long::sum</code> ;)"}],"tags":[],"owner":{"account_id":56980,"reputation":9928,"user_id":170664,"accept_rate":48,"display_name":"Saeed Zarinfam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453893425,"creation_date":1453893425,"answer_id":35035833,"question_id":30089469,"body_markdown":"You can do it like this:\r\n\r\n    int creditAmountSum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0, (x, y) -&gt; x + y);","title":"How to sum values in a Map with a stream?","body":"<p>You can do it like this:</p>\n\n<pre><code>int creditAmountSum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0, (x, y) -&gt; x + y);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614591743,"creation_date":1614591743,"answer_id":66419740,"question_id":30089469,"body_markdown":"For Doubles you can use this simply.\r\n\r\n    Double sum = myMap.values().stream().mapToDouble(d -&gt; d).sum();\r\n\r\nworks for me.","title":"How to sum values in a Map with a stream?","body":"<p>For Doubles you can use this simply.</p>\n<pre><code>Double sum = myMap.values().stream().mapToDouble(d -&gt; d).sum();\n</code></pre>\n<p>works for me.</p>\n"},{"tags":[],"owner":{"account_id":3956265,"reputation":51,"user_id":3264615,"display_name":"user3264615"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675583287,"creation_date":1626952287,"answer_id":68483799,"question_id":30089469,"body_markdown":"```java\r\nInteger sum = intMap.values().stream().mapToInt(d-&gt; d).sum();\r\n```\r\n\r\nGet the `HashMap.values` method to Stream and collect `mapToIn` with lambda expression ending with aggregation sum method.","title":"How to sum values in a Map with a stream?","body":"<pre class=\"lang-java prettyprint-override\"><code>Integer sum = intMap.values().stream().mapToInt(d-&gt; d).sum();\n</code></pre>\n<p>Get the <code>HashMap.values</code> method to Stream and collect <code>mapToIn</code> with lambda expression ending with aggregation sum method.</p>\n"}],"owner":{"account_id":134632,"reputation":9364,"user_id":336892,"accept_rate":72,"display_name":"Jay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120006,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":30089778,"answer_count":5,"score":59,"last_activity_date":1675583287,"creation_date":1430955408,"question_id":30089469,"body_markdown":"I want the equivalent of this with a stream:\r\n\r\n    public static &lt;T extends Number&gt; T getSum(final Map&lt;String, T&gt; data) {\r\n        T sum = 0;\r\n        for (String key: data.keySet())\r\n            sum += data.get(key);\r\n        return sum;\r\n    }\r\n\r\nThis code doesn&#39;t actually compile because 0 cannot be assigned to type T, but you get the idea.","title":"How to sum values in a Map with a stream?","body":"<p>I want the equivalent of this with a stream:</p>\n\n<pre><code>public static &lt;T extends Number&gt; T getSum(final Map&lt;String, T&gt; data) {\n    T sum = 0;\n    for (String key: data.keySet())\n        sum += data.get(key);\n    return sum;\n}\n</code></pre>\n\n<p>This code doesn't actually compile because 0 cannot be assigned to type T, but you get the idea.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"score":0,"creation_date":1345279318,"post_id":12017051,"comment_id":16034055,"body_markdown":"I guess it is Duplicate of http://stackoverflow.com/questions/681881/when-does-a-java-object-become-non-null-during-construction","body":"I guess it is Duplicate of <a href=\"http://stackoverflow.com/questions/681881/when-does-a-java-object-become-non-null-during-construction\" title=\"when does a java object become non null during construction\">stackoverflow.com/questions/681881/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":256971,"reputation":691,"user_id":538042,"accept_rate":70,"display_name":"MinhHoang"},"score":0,"creation_date":1345280796,"post_id":12017147,"comment_id":16034351,"body_markdown":"Hi! Thanks for your answer. I have question about volatile variable like: volatile Pool pool = new Pool(); where is pool pointing to now if Pool constructor throws exception in the middle of initialization&#39;","body":"Hi! Thanks for your answer. I have question about volatile variable like: volatile Pool pool = new Pool(); where is pool pointing to now if Pool constructor throws exception in the middle of initialization&#39;"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1345281717,"post_id":12017147,"comment_id":16034544,"body_markdown":"@FinalIllusion If the Pool constructor throws an exception, the Pool reference will be unchanged -- it won&#39;t refer to a partially-constructed object.","body":"@FinalIllusion If the Pool constructor throws an exception, the Pool reference will be unchanged -- it won&#39;t refer to a partially-constructed object."},{"owner":{"account_id":256971,"reputation":691,"user_id":538042,"accept_rate":70,"display_name":"MinhHoang"},"score":0,"creation_date":1345282068,"post_id":12017147,"comment_id":16034601,"body_markdown":"@yshavit you mean that it&#39;s still pointing to previous assigned instance?","body":"@yshavit you mean that it&#39;s still pointing to previous assigned instance?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1345311836,"post_id":12017147,"comment_id":16040424,"body_markdown":"Yes, exactly -- or to null, if the reference was previously null.","body":"Yes, exactly -- or to null, if the reference was previously null."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1345489617,"post_id":12017147,"comment_id":16078834,"body_markdown":"If you pass the `this` in the constructor somewhere and throw an Exception, you will have a partially constructed object. ;)","body":"If you pass the <code>this</code> in the constructor somewhere and throw an Exception, you will have a partially constructed object. ;)"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1345278678,"creation_date":1345278678,"answer_id":12017147,"question_id":12017051,"body_markdown":"This can happen in a number of ways.\r\n\r\n- You pass your object to another thread in the constructor, e.g. you start a thread in your constructor.\r\n- You pass the object to another thread but the other thread sees old, uninitialized values because the fields are not final or volatile or accessed in a locked or synchronized block.  Other fields are not guarenteed to be thread safe.","title":"Partially constructed object","body":"<p>This can happen in a number of ways.</p>\n\n<ul>\n<li>You pass your object to another thread in the constructor, e.g. you start a thread in your constructor.</li>\n<li>You pass the object to another thread but the other thread sees old, uninitialized values because the fields are not final or volatile or accessed in a locked or synchronized block.  Other fields are not guarenteed to be thread safe.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1393629588,"post_id":12017268,"comment_id":33536525,"body_markdown":"If an object&#39;s constructor sets a `final` field to refer to a newly-constructed and newly-written holder which has never been exposed via any other means; would the storage of the reference to a `final` field guarantee that all writes to items within the object have completed?","body":"If an object&#39;s constructor sets a <code>final</code> field to refer to a newly-constructed and newly-written holder which has never been exposed via any other means; would the storage of the reference to a <code>final</code> field guarantee that all writes to items within the object have completed?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1393670540,"post_id":12017268,"comment_id":33546159,"body_markdown":"Quoting JLS 17.5: &quot;when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s `final` fields. It will also see versions of any object or array referenced by those `final` fields that are at least as up-to-date as the `final` fields are.&quot; I think this covers exactly what you asked about.","body":"Quoting JLS 17.5: &quot;when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s <code>final</code> fields. It will also see versions of any object or array referenced by those <code>final</code> fields that are at least as up-to-date as the <code>final</code> fields are.&quot; I think this covers exactly what you asked about."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1393805163,"post_id":12017268,"comment_id":33586885,"body_markdown":"Thanks.  So if an object is created for the sole purpose of having a reference to it placed into a final field, and if it will never be exposed to anything that will modify it after that, the object itself doesn&#39;t need to worry about whether any of its fields are `final`.  Very useful to know.  Thanks.","body":"Thanks.  So if an object is created for the sole purpose of having a reference to it placed into a final field, and if it will never be exposed to anything that will modify it after that, the object itself doesn&#39;t need to worry about whether any of its fields are <code>final</code>.  Very useful to know.  Thanks."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675583255,"creation_date":1345280147,"answer_id":12017268,"question_id":12017051,"body_markdown":"The best case in point would be the notoriously broken double-checked locking idiom. I&#39;ll extract from it only the part relevant for this argument. Take this code:\r\n\r\n    public class Holder { public static File f; }\r\n\r\nSomewhere in Thread A you do `Holder.f = new File(&quot;path&quot;);` and elsewhere in Thread B you do `File xxf = Holder.f;` and proceed to use it. There is no guarantee that, even if you read the reference to `Holder.f`, any field of the `File` instance will be in any defined state. You may read all nulls, (zeros, falses, depending on type), as well as any combination of non-null and null values.","title":"Partially constructed object","body":"<p>The best case in point would be the notoriously broken double-checked locking idiom. I'll extract from it only the part relevant for this argument. Take this code:</p>\n<pre><code>public class Holder { public static File f; }\n</code></pre>\n<p>Somewhere in Thread A you do <code>Holder.f = new File(&quot;path&quot;);</code> and elsewhere in Thread B you do <code>File xxf = Holder.f;</code> and proceed to use it. There is no guarantee that, even if you read the reference to <code>Holder.f</code>, any field of the <code>File</code> instance will be in any defined state. You may read all nulls, (zeros, falses, depending on type), as well as any combination of non-null and null values.</p>\n"}],"owner":{"account_id":256971,"reputation":691,"user_id":538042,"accept_rate":70,"display_name":"MinhHoang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675583255,"creation_date":1345277679,"question_id":12017051,"body_markdown":"Is this possible if an object is visible to other threads during its initialization (visible while doing initialization but not completed yet)? If yes then could you please give a simple example to backup your justification?  ","title":"Partially constructed object","body":"<p>Is this possible if an object is visible to other threads during its initialization (visible while doing initialization but not completed yet)? If yes then could you please give a simple example to backup your justification?  </p>\n"},{"tags":["java","swing","jbutton","margin"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1261594896,"creation_date":1261594896,"answer_id":1954691,"question_id":1954674,"body_markdown":"I believe [`setMargin`][1] is what you&#39;re looking for.\r\n\r\n    myButton.setMargin(new Insets(0, 0, 0, 0));\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html#setMargin(java.awt.Insets)","title":"Can I make Swing JButtons have smaller margins?","body":"<p>I believe <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html#setMargin(java.awt.Insets)\" rel=\"noreferrer\"><code>setMargin</code></a> is what you're looking for.</p>\n\n<pre><code>myButton.setMargin(new Insets(0, 0, 0, 0));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1504632719,"post_id":40475535,"comment_id":79081256,"body_markdown":"I don&#39;t understand this answer. What do you mean?","body":"I don&#39;t understand this answer. What do you mean?"},{"owner":{"account_id":3550635,"reputation":333,"user_id":2965610,"accept_rate":29,"display_name":"UnixNerd"},"score":0,"creation_date":1504646197,"post_id":40475535,"comment_id":79087718,"body_markdown":"You can do new Insets(0,-4,0,-4); and it makes things even smaller.","body":"You can do new Insets(0,-4,0,-4); and it makes things even smaller."}],"tags":[],"owner":{"account_id":3550635,"reputation":333,"user_id":2965610,"accept_rate":29,"display_name":"UnixNerd"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675582493,"creation_date":1478556388,"answer_id":40475535,"question_id":1954674,"body_markdown":"Worth noting you can make the values for Insets -ve (EDIT: read _negative_). This makes things even more compact and if done carefully doesn&#39;t look unpleasant.","title":"Can I make Swing JButtons have smaller margins?","body":"<p>Worth noting you can make the values for Insets -ve (EDIT: read <em>negative</em>). This makes things even more compact and if done carefully doesn't look unpleasant.</p>\n"}],"owner":{"account_id":81618,"reputation":1564,"user_id":230018,"accept_rate":61,"display_name":"EndangeringSpecies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29187,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1954691,"answer_count":2,"score":21,"last_activity_date":1675582493,"creation_date":1261594646,"question_id":1954674,"body_markdown":"I prefer buttons with minimal margins, about as wide as their text caption. Is there a way to achieve that in a JButton in Swing?\r\n\r\nWhat I am seeing in practice now is that even if I try to use setMaximumSize() and similar, it just ends up eating the text caption, cutting it off to the right. But it does not reduce the margins.","title":"Can I make Swing JButtons have smaller margins?","body":"<p>I prefer buttons with minimal margins, about as wide as their text caption. Is there a way to achieve that in a JButton in Swing?</p>\n\n<p>What I am seeing in practice now is that even if I try to use setMaximumSize() and similar, it just ends up eating the text caption, cutting it off to the right. But it does not reduce the margins.</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1576521098,"post_id":59362312,"comment_id":104918648,"body_markdown":"`continue;` will continue your loop and jump to the next iteration. So once your paymentPerHour is in the valid range (&gt;=28 &lt;=100) you always tell your while loop to do the next iteration. Did you by any chance mean to use `break;` to break the loop?","body":"<code>continue;</code> will continue your loop and jump to the next iteration. So once your paymentPerHour is in the valid range (&gt;=28 &lt;=100) you always tell your while loop to do the next iteration. Did you by any chance mean to use <code>break;</code> to break the loop?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1576521250,"post_id":59362312,"comment_id":104918726,"body_markdown":"`while(paymentPerHour&gt;0)` ... so it&#39;s okay if they enter a **negative** number?!","body":"<code>while(paymentPerHour&gt;0)</code> ... so it&#39;s okay if they enter a <b>negative</b> number?!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1576523192,"post_id":59362312,"comment_id":104919518,"body_markdown":"after fixing the `continue` problem, check [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/a/13102066/85421)","body":"after fixing the <code>continue</code> problem, check <a href=\"https://stackoverflow.com/a/13102066/85421\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":17162769,"reputation":75,"user_id":12421945,"display_name":"Tal Ouzan"},"score":0,"creation_date":1576528437,"post_id":59362312,"comment_id":104921603,"body_markdown":"Hi everyone , thanks for answer. tried to add continue; inside the loop. still the same result. (the program doesn&#39;t continue without errors).","body":"Hi everyone , thanks for answer. tried to add continue; inside the loop. still the same result. (the program doesn&#39;t continue without errors)."},{"owner":{"account_id":2464729,"reputation":333,"user_id":2148091,"display_name":"Bernard"},"score":0,"creation_date":1597042087,"post_id":59362312,"comment_id":111994049,"body_markdown":"As a side note, I would avoid using `float` or `double` for calculations including money since they are inherently limited in precision. Use `BigDecimal` instead.","body":"As a side note, I would avoid using <code>float</code> or <code>double</code> for calculations including money since they are inherently limited in precision. Use <code>BigDecimal</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":27706498,"reputation":1,"user_id":21150024,"display_name":"MaStErMiNd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675580679,"creation_date":1675580679,"answer_id":75350605,"question_id":59362312,"body_markdown":"You should not use `continue;` in the loop. It will force the loop to go to the next iteration even if the conditions are met. Instead you should use `break;` which will terminate the loop if the conditions are met. Also you should not add the condition `paymentPerHour&gt;0` because it will skip the loop if the user enters a negative number (thx to Idle_Mind for this one). See the code sample:\r\n```\r\nwhile(true)\r\n{      \r\n      if(paymentPerHour&gt;=28 &amp;&amp;paymentPerHour&lt;=100) {\r\n         break; // This will terminate the loop if the conditions are met\r\n       }\r\n\r\n    // This part will only run if the conditions are not met\r\n      System.out.println(&quot;Please enter payment per hour&quot;);\r\n      paymentPerHour=in.nextInt();\r\n}\r\n```","title":"Salary calculation per hour (Java)","body":"<p>You should not use <code>continue;</code> in the loop. It will force the loop to go to the next iteration even if the conditions are met. Instead you should use <code>break;</code> which will terminate the loop if the conditions are met. Also you should not add the condition <code>paymentPerHour&gt;0</code> because it will skip the loop if the user enters a negative number (thx to Idle_Mind for this one). See the code sample:</p>\n<pre><code>while(true)\n{      \n      if(paymentPerHour&gt;=28 &amp;&amp;paymentPerHour&lt;=100) {\n         break; // This will terminate the loop if the conditions are met\n       }\n\n    // This part will only run if the conditions are not met\n      System.out.println(&quot;Please enter payment per hour&quot;);\n      paymentPerHour=in.nextInt();\n}\n</code></pre>\n"}],"owner":{"account_id":17162769,"reputation":75,"user_id":12421945,"display_name":"Tal Ouzan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2307,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1675580679,"creation_date":1576520688,"question_id":59362312,"body_markdown":"I&#39;ve been trying to write a java program to calculate daily salary relying on hours worked per day. and if it was weekend or no. (boolean value).\r\n\r\nThe time the user need to write is 0824 it equals to 08:24 (no idea how to ask for hour:minutes pattern and subtract them).\r\n\r\nI&#39;ve been using only one loop to ask for payment Per Hour again and again if the user puts values lower than 28.00$ or higher than 100.00$.\r\n\r\nWhen the program running after asking for `paymentPerHour` the program stops `&lt;terminated&gt;` is not shown.\r\n\r\nWould appreciate any help. Thanks! :)\r\n(don&#39;t pay attention to the class name)\r\n\r\n\r\n```Java\r\npackage ouzanFirstProject;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class convertDecToBinary {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in= new Scanner(System.in);\r\n\t\t int paymentPerHour , entryHour = 0 , exitHour = 0;\r\n\t\t float totalHour= (exitHour-entryHour)/100;\r\n\t\t boolean workedAtWeekend;\r\n\t\t float salary = 0;\r\n\t\t \r\n\t\tSystem.out.println(&quot;Please enter the hour you arrived to work (HHMM)&quot;);\r\n\t\tentryHour=in.nextInt();\r\n\t\tSystem.out.println(&quot;Please enter the hour you exit from work(HHMM)&quot;);\r\n\t\texitHour=in.nextInt();\r\n\t\tSystem.out.println(&quot;Please enter payment per hour (between 28.00 and 100.00):&quot;);\r\n\t\tpaymentPerHour=in.nextInt();\r\n\t\twhile(paymentPerHour&gt;0) {\r\n\t\t\tif(paymentPerHour&lt;28 ||paymentPerHour&gt;100) {\r\n\t\t\tSystem.out.println(&quot;Please enter payment per hour&quot;);\r\n\t\t\tpaymentPerHour=in.nextInt();\r\n\t\t\t}\r\n\t\t\t\tif(paymentPerHour&gt;=28 &amp;&amp;paymentPerHour&lt;=100) {\r\n\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Did you work on weekend ? (True/False)&quot;);\r\n\t\tworkedAtWeekend=in.hasNext();\r\n\t\tif(workedAtWeekend){\r\n\t\t\tsalary= (float) ((totalHour)*0.20+100);\r\n\t\t}\r\n\t\telse if (totalHour&gt;=9) {\r\n\t\t\tsalary=(float) ((float)(totalHour)*paymentPerHour*1.5);\r\n\t\t\tif(totalHour&gt;11) {\r\n\t\t\t\tsalary = (float)((float)(totalHour)*paymentPerHour*2);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(totalHour&lt;9) {\r\n\t\t\tsalary=(float)((float)(totalHour)*paymentPerHour*0.1);\r\n\t\t\tif(totalHour&lt;=1) {\r\n\t\t\t\tsalary= 0;\r\n\t\t\t}\r\n\t\t\t\tif(totalHour&gt;=15) {\r\n\t\t\t\t\tSystem.out.println(&quot;You cant work more than 15 hours a day&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\tif(totalHour&lt;0) {\r\n\t\t\t\t\t\tsalary=Math.abs(totalHour)*paymentPerHour;\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;You&#39;ve been working for: &quot;+totalHour+&quot; Hours&quot;+&quot;,And your payment is: &quot;+salary);\r\n\t}\r\n\r\n}\r\n```","title":"Salary calculation per hour (Java)","body":"<p>I've been trying to write a java program to calculate daily salary relying on hours worked per day. and if it was weekend or no. (boolean value).</p>\n<p>The time the user need to write is 0824 it equals to 08:24 (no idea how to ask for hour:minutes pattern and subtract them).</p>\n<p>I've been using only one loop to ask for payment Per Hour again and again if the user puts values lower than 28.00$ or higher than 100.00$.</p>\n<p>When the program running after asking for <code>paymentPerHour</code> the program stops <code>&lt;terminated&gt;</code> is not shown.</p>\n<p>Would appreciate any help. Thanks! :)\n(don't pay attention to the class name)</p>\n<pre><code>package ouzanFirstProject;\n\nimport java.util.Scanner;\n\npublic class convertDecToBinary {\n\n    public static void main(String[] args) {\n        Scanner in= new Scanner(System.in);\n         int paymentPerHour , entryHour = 0 , exitHour = 0;\n         float totalHour= (exitHour-entryHour)/100;\n         boolean workedAtWeekend;\n         float salary = 0;\n         \n        System.out.println(&quot;Please enter the hour you arrived to work (HHMM)&quot;);\n        entryHour=in.nextInt();\n        System.out.println(&quot;Please enter the hour you exit from work(HHMM)&quot;);\n        exitHour=in.nextInt();\n        System.out.println(&quot;Please enter payment per hour (between 28.00 and 100.00):&quot;);\n        paymentPerHour=in.nextInt();\n        while(paymentPerHour&gt;0) {\n            if(paymentPerHour&lt;28 ||paymentPerHour&gt;100) {\n            System.out.println(&quot;Please enter payment per hour&quot;);\n            paymentPerHour=in.nextInt();\n            }\n                if(paymentPerHour&gt;=28 &amp;&amp;paymentPerHour&lt;=100) {\n                continue;\n                }\n        }\n        System.out.println(&quot;Did you work on weekend ? (True/False)&quot;);\n        workedAtWeekend=in.hasNext();\n        if(workedAtWeekend){\n            salary= (float) ((totalHour)*0.20+100);\n        }\n        else if (totalHour&gt;=9) {\n            salary=(float) ((float)(totalHour)*paymentPerHour*1.5);\n            if(totalHour&gt;11) {\n                salary = (float)((float)(totalHour)*paymentPerHour*2);\n            }\n        }\n        else if(totalHour&lt;9) {\n            salary=(float)((float)(totalHour)*paymentPerHour*0.1);\n            if(totalHour&lt;=1) {\n                salary= 0;\n            }\n                if(totalHour&gt;=15) {\n                    System.out.println(&quot;You cant work more than 15 hours a day&quot;);\n                }\n                    if(totalHour&lt;0) {\n                        salary=Math.abs(totalHour)*paymentPerHour;\n                    }\n        }\n        System.out.println(&quot;You've been working for: &quot;+totalHour+&quot; Hours&quot;+&quot;,And your payment is: &quot;+salary);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1675093227,"post_id":75273273,"comment_id":132848995,"body_markdown":"Please include your test case in the question itself. Also lines 22-31 in your test case are wrong and should be removed.","body":"Please include your test case in the question itself. Also lines 22-31 in your test case are wrong and should be removed."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1675094599,"post_id":75273273,"comment_id":132849483,"body_markdown":"Actually I take it back. As the rules are designed you do need to do that awful thing. What a terrible example.","body":"Actually I take it back. As the rules are designed you do need to do that awful thing. What a terrible example."}],"answers":[{"comments":[{"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"score":0,"creation_date":1675579755,"post_id":75287117,"comment_id":132957358,"body_markdown":"Adding not(Coupon(...)) isn&#39;t working for me. The item objects in the order look different when the coupon rule is executed the second time. Updated the question with the logs.","body":"Adding not(Coupon(...)) isn&#39;t working for me. The item objects in the order look different when the coupon rule is executed the second time. Updated the question with the logs."},{"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"score":0,"creation_date":1675581036,"post_id":75287117,"comment_id":132957480,"body_markdown":"Looks like this is because the coupon rule is executed once before items in the order are classified and once after. But I do not understand why the not(Coupon(...)) condition isn&#39;t working.","body":"Looks like this is because the coupon rule is executed once before items in the order are classified and once after. But I do not understand why the not(Coupon(...)) condition isn&#39;t working."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1675609720,"post_id":75287117,"comment_id":132961941,"body_markdown":"Yes the item rules have the same issue in that they also will cause coupon to fire multiple times. The entire example is terrible, you should ignore it and just move in once you understand the gist.","body":"Yes the item rules have the same issue in that they also will cause coupon to fire multiple times. The entire example is terrible, you should ignore it and just move in once you understand the gist."}],"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675124910,"creation_date":1675095113,"answer_id":75287117,"question_id":75273273,"body_markdown":"By the time a book on Drools gets published, it&#39;s out of date. Drools has _fantastic_ documentation that you should be using as your primary source, not a very old book on a very old version of Drools. (Current version of Drools is Drools 8. Your book is for Drools 6.)\r\n\r\nThe other reason I recommend people not use books is because they tend to be awful. This one is no exception\r\n\r\n---\r\n\r\nThe reason you&#39;re firing more rules than you think is because both &quot;High Range order - 10% discount&quot; forces a reevaluation of working memory, and &quot;Create Coupons for silver customer&quot; doesn&#39;t have anything to stop it from triggering multiple times.\r\n\r\n&quot;High Range...&quot; calls &#39;modify&#39; which re-fires all rules with the modified item. Since &quot;Create Coupon...&quot; remains valid to fire, it will trigger twice. (It&#39;ll fire once, and then once &quot;High Range...&quot; forces the reevaluation of working memory, it&#39;ll fire a second time.) You&#39;ll also see that there&#39;s twice as many coupons in working memory as you&#39;d expect -- there will be 2 coupons instead of one because you fired the coupon rule twice.\r\n\r\nTo keep this from happening, you need to make &quot;Create Coupon...&quot; not valid to fire twice. (That is, once it&#39;s fired, it can&#39;t be triggered again.) You can do this, for example, by not allowing two of the same coupon. Or you could do this by only allowing one coupon. Depends on your use case.\r\n\r\nOne way might be:\r\n\r\n```\r\nrule &quot;Create Coupons for silver customer&quot;\r\nwhen\r\n  $o: Order($customer: customer)\r\n  $c: Customer(category == Customer.Category.SILVER)\r\n\r\n  // don&#39;t fire if this coupon already exists; I guessed on the variable names\r\n  not( Coupon( customer == $c, order == $o, type == Coupon.CouponType.POINTS) )\r\nthen\r\n  Coupon x = new Coupon($c, $o, Coupon.CouponType.POINTS);\r\n  insert(x);\r\nend\r\n```\r\n\r\n---\r\n\r\nIn the Real World, you want to keep your rules simple. Don&#39;t stick the entire kitchen sink into a single KieBase. The single responsibility principle is key here. Your &quot;Item classification&quot; rules should be fired separately from your customer classification rules should be fired separately from your discount rules.\r\n\r\nAlso calling `update` is a great way to get yourself into infinite loops and greatly increase your memory/cpu overhead. At my last company it was considered not only a code smell and bad practice, but actually outright banned (we checked for it in code reviews.)","title":"Drools rule gets executed more times than expected","body":"<p>By the time a book on Drools gets published, it's out of date. Drools has <em>fantastic</em> documentation that you should be using as your primary source, not a very old book on a very old version of Drools. (Current version of Drools is Drools 8. Your book is for Drools 6.)</p>\n<p>The other reason I recommend people not use books is because they tend to be awful. This one is no exception</p>\n<hr />\n<p>The reason you're firing more rules than you think is because both &quot;High Range order - 10% discount&quot; forces a reevaluation of working memory, and &quot;Create Coupons for silver customer&quot; doesn't have anything to stop it from triggering multiple times.</p>\n<p>&quot;High Range...&quot; calls 'modify' which re-fires all rules with the modified item. Since &quot;Create Coupon...&quot; remains valid to fire, it will trigger twice. (It'll fire once, and then once &quot;High Range...&quot; forces the reevaluation of working memory, it'll fire a second time.) You'll also see that there's twice as many coupons in working memory as you'd expect -- there will be 2 coupons instead of one because you fired the coupon rule twice.</p>\n<p>To keep this from happening, you need to make &quot;Create Coupon...&quot; not valid to fire twice. (That is, once it's fired, it can't be triggered again.) You can do this, for example, by not allowing two of the same coupon. Or you could do this by only allowing one coupon. Depends on your use case.</p>\n<p>One way might be:</p>\n<pre><code>rule &quot;Create Coupons for silver customer&quot;\nwhen\n  $o: Order($customer: customer)\n  $c: Customer(category == Customer.Category.SILVER)\n\n  // don't fire if this coupon already exists; I guessed on the variable names\n  not( Coupon( customer == $c, order == $o, type == Coupon.CouponType.POINTS) )\nthen\n  Coupon x = new Coupon($c, $o, Coupon.CouponType.POINTS);\n  insert(x);\nend\n</code></pre>\n<hr />\n<p>In the Real World, you want to keep your rules simple. Don't stick the entire kitchen sink into a single KieBase. The single responsibility principle is key here. Your &quot;Item classification&quot; rules should be fired separately from your customer classification rules should be fired separately from your discount rules.</p>\n<p>Also calling <code>update</code> is a great way to get yourself into infinite loops and greatly increase your memory/cpu overhead. At my last company it was considered not only a code smell and bad practice, but actually outright banned (we checked for it in code reviews.)</p>\n"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675580302,"creation_date":1674977549,"question_id":75273273,"body_markdown":"I&#39;m new to Drools and am following along the book: [Mastering JBoss Drools 6][1]\r\n\r\nChapter 2 shows an example where we create a `Customer` and `Order`, classify customers based on their order size, give discounts and generate `Coupon`s .\r\n\r\nThe example mentions:\r\n - A customer \r\n - The customer has an order with 5 items and therefore classified as a `SILVER` customer\r\n - Each item costs more than 500, so it is classified as a `HIGH_RANGE` item\r\n - The customer is a `SILVER` customer therefore a `Coupon` is created\r\n - Give a discount of 10% for each `SILVER` customer with orders with more than 2 items\r\n\r\nHere are the Drools rules:\r\n\r\nadd-discount.drl\r\n```drl\r\nrule &quot;High Range order - 10% discount&quot;\r\n    when\r\n        $o: Order($lines: orderLines, orderLines.size &gt;= 2, $customer: customer, discount == null)\r\n        $c: Customer(category == Customer.Category.SILVER, this == $customer)\r\n        forall(\r\n            OrderLine(this memberOf $lines, $item: item)\r\n            Item(this == $item, category == Item.Category.HIGH_RANGE)\r\n        )\r\n    then\r\n        modify($o){\r\n            setDiscount(new Discount(10.0))\r\n        }\r\nend\r\n```\r\n\r\nclassify-customer-rules.drl\r\n```drl\r\nrule &quot;Classify Customer by order size&quot;\r\n    when\r\n        $o: Order( orderLines.size &gt;= 5, $customer: customer )\r\n        $c: Customer(this == $customer, category == Customer.Category.NA)\r\n    then\r\n        modify($c){\r\n            setCategory(Customer.Category.SILVER)\r\n        }\r\nend\r\n```\r\n\r\nclassify-items-rules.drl\r\n```drl\r\nrule &quot;Classify Item - Low Range&quot;\r\n    when\r\n        $i: Item(cost &lt; 200, category == Category.NA)\r\n    then\r\n        $i.setCategory(Category.LOW_RANGE);\r\n        update($i);\r\nend\r\n\r\nrule &quot;Classify Item - Mid Range&quot;\r\n    when\r\n        $i: Item(cost &gt; 200 &amp;&amp; cost &lt; 500, category == Category.NA)\r\n    then\r\n        $i.setCategory(Category.MID_RANGE);\r\n        update($i);\r\nend\r\n\r\nrule &quot;Classify Item - High Range&quot;\r\n    when\r\n        $i: Item(cost &gt;= 500, category == Category.NA)\r\n    then\r\n        $i.setCategory(Category.HIGH_RANGE);\r\n        update($i);\r\nend\r\n```\r\n\r\ncoupons-creation.drl\r\n\r\n```drl\r\nrule &quot;Create Coupons for silver customer&quot;\r\n    when\r\n        $o: Order($customer: customer)\r\n        $c: Customer(this == $customer, category == Customer.Category.SILVER)\r\n    then\r\n        Coupon x = new Coupon($c, $o, Coupon.CouponType.POINTS);\r\n        System.out.println(x);\r\n        insert(x);\r\nend\r\n```\r\n\r\nThe number of rules executed should be 8.\r\n5 items to classify (5 rules) + 1 customer to classify (1 rule) + 1 discount to add (1 rule) + 1 coupon to create (1 rule)\r\n\r\nBut the actual number of rules fired is 9. Here is the test I used to check.\r\n\r\n```java\r\n@Test\r\n\tvoid orderDiscountTest() {\r\n\t\tKieSession kieSession = Util.getDefaultKieSession();\r\n\t\tOrder o = ModelFactory.getOrderWithFiveHighRangeItems();\r\n\r\n\t\tkieSession.insert(o.getCustomer());\r\n\t\tkieSession.insert(o.getOrderLines().get(0));\r\n\t\tkieSession.insert(o.getOrderLines().get(1));\r\n\t\tkieSession.insert(o.getOrderLines().get(2));\r\n\t\tkieSession.insert(o.getOrderLines().get(3));\r\n\t\tkieSession.insert(o.getOrderLines().get(4));\r\n\t\tkieSession.insert(o.getOrderLines().get(0).getItem());\r\n\t\tkieSession.insert(o.getOrderLines().get(1).getItem());\r\n\t\tkieSession.insert(o.getOrderLines().get(2).getItem());\r\n\t\tkieSession.insert(o.getOrderLines().get(3).getItem());\r\n\t\tkieSession.insert(o.getOrderLines().get(4).getItem());\r\n\t\tkieSession.insert(o);\r\n\r\n\t\tint fired = kieSession.fireAllRules();\r\n\r\n\t\tassertEquals(8, fired);\r\n\t\tassertEquals(Customer.Category.SILVER, o.getCustomer().getCategory());\r\n\t\tassertNotNull(o.getDiscount());\r\n\t\tassertEquals(10.0, o.getDiscount().getPercentage());\r\n\t\tassertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(0).getItem().getCategory());\r\n\t\tassertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(1).getItem().getCategory());\r\n\t\tassertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(2).getItem().getCategory());\r\n\t\tassertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(3).getItem().getCategory());\r\n\t\tassertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(4).getItem().getCategory());\r\n\r\n\t\tCollection&lt;Coupon&gt; coupons = Util.getFactsFromSession(kieSession, Coupon.class);\r\n\t\tcoupons.forEach(x -&gt; System.out.println(x));\r\n\t\tassertEquals(1, coupons.size());\r\n\t}\r\n```\r\n\r\nThe coupon creation rule is fired twice. I do not understand why.\r\nI checked the number of coupons created after firing the rule like so:\r\n\r\n```java\r\nCollection&lt;Coupon&gt; coupons = Util.getFactsFromSession(kieSession, Coupon.class);\r\ncoupons.forEach(x -&gt; System.out.println(x));\r\n```\r\n\r\nand I also have a print statement in the coupon creation rule.\r\n\r\nThis is what I get:\r\n\r\n```console\r\n12:54:47.607 [main] DEBUG org.drools.core.impl.KnowledgeBaseImpl - Starting Engine in PHREAK mode\r\n12:54:47.730 [main] DEBUG org.drools.core.common.DefaultAgenda - State was INACTIVE is nw FIRING_ALL_RULES\r\n12:54:47.732 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.795 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\nCoupon created com.example.droolstut.model.Coupon@b14cb989\r\n12:54:47.797 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.797 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.799 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\nCoupon created com.example.droolstut.model.Coupon@424f842a\r\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - State was FIRING_ALL_RULES is nw HALTING\r\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - State was HALTING is nw INACTIVE\r\nCoupon found: com.example.droolstut.model.Coupon@424f842a\r\nCoupon found: com.example.droolstut.model.Coupon@424f842a\r\n```\r\n\r\nSo, it looks like the rule is executed twice, but only the second coupon is found post execution.\r\n\r\nBut, when I run the test in debug mode, the coupon rule is executed only once, and the total number of rules fired is 8 too.\r\n\r\nDid I miss something? I&#39;d appreciate any help.\r\n\r\nEDIT 1:\r\n\r\nI printed the order and customer after adding the `not(Coupon(...))` condition. The item objects look different.\r\n\r\n```\r\nOrder(orderId=1, date=Thu Jan 01 05:30:00 IST 1970, customer=Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER), orderLines=[OrderLine(item=com.example.droolstut.model.Item@38c70399, quantity=1), OrderLine(item=com.example.droolstut.model.Item@5245e3d4, quantity=1), OrderLine(item=com.example.droolstut.model.Item@6bc4c40f, quantity=1), OrderLine(item=com.example.droolstut.model.Item@8543a44a, quantity=1), OrderLine(item=com.example.droolstut.model.Item@9ec28485, quantity=1)], state=PENDING, discount=null) Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER)\r\ncom.example.droolstut.model.Coupon@2753dad2\r\n12:16:02.399 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:16:02.400 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:16:02.402 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\n12:16:02.408 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\r\nOrder(orderId=1, date=Thu Jan 01 05:30:00 IST 1970, customer=Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER), orderLines=[OrderLine(item=com.example.droolstut.model.Item@5dc27ea9, quantity=1), OrderLine(item=com.example.droolstut.model.Item@77415ee4, quantity=1), OrderLine(item=com.example.droolstut.model.Item@90c03f1f, quantity=1), OrderLine(item=com.example.droolstut.model.Item@aa3f1f5a, quantity=1), OrderLine(item=com.example.droolstut.model.Item@c3bdff95, quantity=1)], state=PENDING, discount=Discount(percentage=10.0)) Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER)\r\ncom.example.droolstut.model.Coupon@10e5ecb2\r\n```\r\n\r\nEDIT 2:\r\n\r\nI am using lombok for getters/setter/Equals &amp; hashCode.\r\nOnce I remove the @EqualsAndHashCode annotation and add only the equals `method()`, it works as expected. As soon as I add the `hashCode()` method, it fails.\r\n\r\n```java\r\n@Override\r\n    public int hashCode() {\r\n        int hash = 3;\r\n        hash = 17 * hash + Objects.hashCode(this.orderId);\r\n        hash = 17 * hash + Objects.hashCode(this.date);\r\n        hash = 17 * hash + Objects.hashCode(this.customer);\r\n        hash = 17 * hash + Objects.hashCode(this.orderLines);\r\n        hash = 17 * hash + Objects.hashCode(this.state);\r\n        hash = 17 * hash + Objects.hashCode(this.discount);\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        final Order other = (Order) obj;\r\n        if (!Objects.equals(this.orderId, other.orderId)) {\r\n            return false;\r\n        }\r\n        if (!Objects.equals(this.date, other.date)) {\r\n            return false;\r\n        }\r\n        if (!Objects.equals(this.customer, other.customer)) {\r\n            return false;\r\n        }\r\n        if (!Objects.equals(this.orderLines, other.orderLines)) {\r\n            return false;\r\n        }\r\n        if (this.state != other.state) {\r\n            return false;\r\n        }\r\n        if (!Objects.equals(this.discount, other.discount)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\n  [1]: https://www.packtpub.com/product/mastering-jboss-drools-6/9781783288625\r\n  [2]: https://github.com/KarthikRIyer/mastering-jboss-drools-6/blob/main/src/test/java/com/example/droolstut/OrderDiscountTest.java","title":"Drools rule gets executed more times than expected","body":"<p>I'm new to Drools and am following along the book: <a href=\"https://www.packtpub.com/product/mastering-jboss-drools-6/9781783288625\" rel=\"nofollow noreferrer\">Mastering JBoss Drools 6</a></p>\n<p>Chapter 2 shows an example where we create a <code>Customer</code> and <code>Order</code>, classify customers based on their order size, give discounts and generate <code>Coupon</code>s .</p>\n<p>The example mentions:</p>\n<ul>\n<li>A customer</li>\n<li>The customer has an order with 5 items and therefore classified as a <code>SILVER</code> customer</li>\n<li>Each item costs more than 500, so it is classified as a <code>HIGH_RANGE</code> item</li>\n<li>The customer is a <code>SILVER</code> customer therefore a <code>Coupon</code> is created</li>\n<li>Give a discount of 10% for each <code>SILVER</code> customer with orders with more than 2 items</li>\n</ul>\n<p>Here are the Drools rules:</p>\n<p>add-discount.drl</p>\n<pre><code>rule &quot;High Range order - 10% discount&quot;\n    when\n        $o: Order($lines: orderLines, orderLines.size &gt;= 2, $customer: customer, discount == null)\n        $c: Customer(category == Customer.Category.SILVER, this == $customer)\n        forall(\n            OrderLine(this memberOf $lines, $item: item)\n            Item(this == $item, category == Item.Category.HIGH_RANGE)\n        )\n    then\n        modify($o){\n            setDiscount(new Discount(10.0))\n        }\nend\n</code></pre>\n<p>classify-customer-rules.drl</p>\n<pre><code>rule &quot;Classify Customer by order size&quot;\n    when\n        $o: Order( orderLines.size &gt;= 5, $customer: customer )\n        $c: Customer(this == $customer, category == Customer.Category.NA)\n    then\n        modify($c){\n            setCategory(Customer.Category.SILVER)\n        }\nend\n</code></pre>\n<p>classify-items-rules.drl</p>\n<pre><code>rule &quot;Classify Item - Low Range&quot;\n    when\n        $i: Item(cost &lt; 200, category == Category.NA)\n    then\n        $i.setCategory(Category.LOW_RANGE);\n        update($i);\nend\n\nrule &quot;Classify Item - Mid Range&quot;\n    when\n        $i: Item(cost &gt; 200 &amp;&amp; cost &lt; 500, category == Category.NA)\n    then\n        $i.setCategory(Category.MID_RANGE);\n        update($i);\nend\n\nrule &quot;Classify Item - High Range&quot;\n    when\n        $i: Item(cost &gt;= 500, category == Category.NA)\n    then\n        $i.setCategory(Category.HIGH_RANGE);\n        update($i);\nend\n</code></pre>\n<p>coupons-creation.drl</p>\n<pre><code>rule &quot;Create Coupons for silver customer&quot;\n    when\n        $o: Order($customer: customer)\n        $c: Customer(this == $customer, category == Customer.Category.SILVER)\n    then\n        Coupon x = new Coupon($c, $o, Coupon.CouponType.POINTS);\n        System.out.println(x);\n        insert(x);\nend\n</code></pre>\n<p>The number of rules executed should be 8.\n5 items to classify (5 rules) + 1 customer to classify (1 rule) + 1 discount to add (1 rule) + 1 coupon to create (1 rule)</p>\n<p>But the actual number of rules fired is 9. Here is the test I used to check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void orderDiscountTest() {\n        KieSession kieSession = Util.getDefaultKieSession();\n        Order o = ModelFactory.getOrderWithFiveHighRangeItems();\n\n        kieSession.insert(o.getCustomer());\n        kieSession.insert(o.getOrderLines().get(0));\n        kieSession.insert(o.getOrderLines().get(1));\n        kieSession.insert(o.getOrderLines().get(2));\n        kieSession.insert(o.getOrderLines().get(3));\n        kieSession.insert(o.getOrderLines().get(4));\n        kieSession.insert(o.getOrderLines().get(0).getItem());\n        kieSession.insert(o.getOrderLines().get(1).getItem());\n        kieSession.insert(o.getOrderLines().get(2).getItem());\n        kieSession.insert(o.getOrderLines().get(3).getItem());\n        kieSession.insert(o.getOrderLines().get(4).getItem());\n        kieSession.insert(o);\n\n        int fired = kieSession.fireAllRules();\n\n        assertEquals(8, fired);\n        assertEquals(Customer.Category.SILVER, o.getCustomer().getCategory());\n        assertNotNull(o.getDiscount());\n        assertEquals(10.0, o.getDiscount().getPercentage());\n        assertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(0).getItem().getCategory());\n        assertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(1).getItem().getCategory());\n        assertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(2).getItem().getCategory());\n        assertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(3).getItem().getCategory());\n        assertEquals(Item.Category.HIGH_RANGE, o.getOrderLines().get(4).getItem().getCategory());\n\n        Collection&lt;Coupon&gt; coupons = Util.getFactsFromSession(kieSession, Coupon.class);\n        coupons.forEach(x -&gt; System.out.println(x));\n        assertEquals(1, coupons.size());\n    }\n</code></pre>\n<p>The coupon creation rule is fired twice. I do not understand why.\nI checked the number of coupons created after firing the rule like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;Coupon&gt; coupons = Util.getFactsFromSession(kieSession, Coupon.class);\ncoupons.forEach(x -&gt; System.out.println(x));\n</code></pre>\n<p>and I also have a print statement in the coupon creation rule.</p>\n<p>This is what I get:</p>\n<pre><code>12:54:47.607 [main] DEBUG org.drools.core.impl.KnowledgeBaseImpl - Starting Engine in PHREAK mode\n12:54:47.730 [main] DEBUG org.drools.core.common.DefaultAgenda - State was INACTIVE is nw FIRING_ALL_RULES\n12:54:47.732 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.795 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\nCoupon created com.example.droolstut.model.Coupon@b14cb989\n12:54:47.797 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.797 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.799 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\nCoupon created com.example.droolstut.model.Coupon@424f842a\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - State was FIRING_ALL_RULES is nw HALTING\n12:54:47.806 [main] DEBUG org.drools.core.common.DefaultAgenda - State was HALTING is nw INACTIVE\nCoupon found: com.example.droolstut.model.Coupon@424f842a\nCoupon found: com.example.droolstut.model.Coupon@424f842a\n</code></pre>\n<p>So, it looks like the rule is executed twice, but only the second coupon is found post execution.</p>\n<p>But, when I run the test in debug mode, the coupon rule is executed only once, and the total number of rules fired is 8 too.</p>\n<p>Did I miss something? I'd appreciate any help.</p>\n<p>EDIT 1:</p>\n<p>I printed the order and customer after adding the <code>not(Coupon(...))</code> condition. The item objects look different.</p>\n<pre><code>Order(orderId=1, date=Thu Jan 01 05:30:00 IST 1970, customer=Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER), orderLines=[OrderLine(item=com.example.droolstut.model.Item@38c70399, quantity=1), OrderLine(item=com.example.droolstut.model.Item@5245e3d4, quantity=1), OrderLine(item=com.example.droolstut.model.Item@6bc4c40f, quantity=1), OrderLine(item=com.example.droolstut.model.Item@8543a44a, quantity=1), OrderLine(item=com.example.droolstut.model.Item@9ec28485, quantity=1)], state=PENDING, discount=null) Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER)\ncom.example.droolstut.model.Coupon@2753dad2\n12:16:02.399 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:16:02.400 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:16:02.402 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\n12:16:02.408 [main] DEBUG org.drools.core.common.DefaultAgenda - Fire Loop\nOrder(orderId=1, date=Thu Jan 01 05:30:00 IST 1970, customer=Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER), orderLines=[OrderLine(item=com.example.droolstut.model.Item@5dc27ea9, quantity=1), OrderLine(item=com.example.droolstut.model.Item@77415ee4, quantity=1), OrderLine(item=com.example.droolstut.model.Item@90c03f1f, quantity=1), OrderLine(item=com.example.droolstut.model.Item@aa3f1f5a, quantity=1), OrderLine(item=com.example.droolstut.model.Item@c3bdff95, quantity=1)], state=PENDING, discount=Discount(percentage=10.0)) Customer(customerId=1, age=40, name=John Doe, email=johndoe@example.com, category=SILVER)\ncom.example.droolstut.model.Coupon@10e5ecb2\n</code></pre>\n<p>EDIT 2:</p>\n<p>I am using lombok for getters/setter/Equals &amp; hashCode.\nOnce I remove the @EqualsAndHashCode annotation and add only the equals <code>method()</code>, it works as expected. As soon as I add the <code>hashCode()</code> method, it fails.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public int hashCode() {\n        int hash = 3;\n        hash = 17 * hash + Objects.hashCode(this.orderId);\n        hash = 17 * hash + Objects.hashCode(this.date);\n        hash = 17 * hash + Objects.hashCode(this.customer);\n        hash = 17 * hash + Objects.hashCode(this.orderLines);\n        hash = 17 * hash + Objects.hashCode(this.state);\n        hash = 17 * hash + Objects.hashCode(this.discount);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final Order other = (Order) obj;\n        if (!Objects.equals(this.orderId, other.orderId)) {\n            return false;\n        }\n        if (!Objects.equals(this.date, other.date)) {\n            return false;\n        }\n        if (!Objects.equals(this.customer, other.customer)) {\n            return false;\n        }\n        if (!Objects.equals(this.orderLines, other.orderLines)) {\n            return false;\n        }\n        if (this.state != other.state) {\n            return false;\n        }\n        if (!Objects.equals(this.discount, other.discount)) {\n            return false;\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","swing","jframe","jdialog"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675579322,"creation_date":1527280168,"answer_id":50536453,"question_id":50536283,"body_markdown":"&gt; is it possible to get the position of the location on the screen of a JFrame\r\n\r\nThe code in the `ActionListener` would be something like:\r\n\r\n    Component c = event.getComponent();\r\n    Window window = SwingUtilities.windowForComponent(c);\r\n    JDialog dialog = new JDialog(...);\r\n    ...\r\n    dialog.pack();\r\n    dialog.setLocation( window.getLocation() );\r\n    dialog.setVisible( rue ;\r\n\r\nor you could center the dialog on the frame by using:\r\n\r\n    dialog.setLocationRelativeTo( window );\r\n    dialog.setVisible( true );\r\n\r\nEDIT For the record, `JFrame` extends `Window`, so if you already have your `JFrame`, that may be enough.","title":"How to get a JFrame position in the screen to put in a JDialog?","body":"<blockquote>\n<p>is it possible to get the position of the location on the screen of a JFrame</p>\n</blockquote>\n<p>The code in the <code>ActionListener</code> would be something like:</p>\n<pre><code>Component c = event.getComponent();\nWindow window = SwingUtilities.windowForComponent(c);\nJDialog dialog = new JDialog(...);\n...\ndialog.pack();\ndialog.setLocation( window.getLocation() );\ndialog.setVisible( rue ;\n</code></pre>\n<p>or you could center the dialog on the frame by using:</p>\n<pre><code>dialog.setLocationRelativeTo( window );\ndialog.setVisible( true );\n</code></pre>\n<p>EDIT For the record, <code>JFrame</code> extends <code>Window</code>, so if you already have your <code>JFrame</code>, that may be enough.</p>\n"}],"owner":{"account_id":13465649,"reputation":17,"user_id":9716031,"display_name":"Luis Enrique Berm&#250;dez Garc&#237;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50536453,"answer_count":1,"score":0,"last_activity_date":1675579322,"creation_date":1527279351,"question_id":50536283,"body_markdown":"i was wondering if it possible to get the position of the location on the screen of a JFrame, to put the same location in a JDialog. I mean, that i want to do is when i open a JDialog from a JFrame button, i want to put the JDialog in the same position that the main JFrame, maybe with the .setLocationRelativeto() method, any ideas to do it??, thank you!.\r\n\r\n       this.setUndecorated(true);\r\n       initComponents();\r\n       this.setBounds(WIDTH, WIDTH, 444, 308);\r\n       JDialog dialog=new JDialog();\r\n\r\nI want to adopt the same position from the mainJFrame, but i dont know how to to it....\r\n\r\n       dialog.setLocationRelativeTo();  \r\n","title":"How to get a JFrame position in the screen to put in a JDialog?","body":"<p>i was wondering if it possible to get the position of the location on the screen of a JFrame, to put the same location in a JDialog. I mean, that i want to do is when i open a JDialog from a JFrame button, i want to put the JDialog in the same position that the main JFrame, maybe with the .setLocationRelativeto() method, any ideas to do it??, thank you!.</p>\n\n<pre><code>   this.setUndecorated(true);\n   initComponents();\n   this.setBounds(WIDTH, WIDTH, 444, 308);\n   JDialog dialog=new JDialog();\n</code></pre>\n\n<p>I want to adopt the same position from the mainJFrame, but i dont know how to to it....</p>\n\n<pre><code>   dialog.setLocationRelativeTo();  \n</code></pre>\n"},{"tags":["java","android","database","jison"],"answers":[{"tags":[],"owner":{"account_id":25881739,"reputation":112,"user_id":19610655,"display_name":"AR Sharif Uddin JUMMAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675578046,"creation_date":1675258171,"answer_id":75310907,"question_id":75308541,"body_markdown":"I solved this problem by using the [volley][1] library.\r\n\r\n\r\n  [1]: https://google.github.io/volley/\r\n\r\nMy requested url was:\r\n\r\n    String Video_id = &quot;jhjgN2d7yok&quot;;\r\n    String url = &quot;https://www.youtube.com/oembed?url=youtube.com/watch?v=&quot; +Video_id+ &quot;&amp;format=json&quot;;\r\n","title":"How can I get youtubeVideo Title from URL for android studio?","body":"<p>I solved this problem by using the <a href=\"https://google.github.io/volley/\" rel=\"nofollow noreferrer\">volley</a> library.</p>\n<p>My requested url was:</p>\n<pre><code>String Video_id = &quot;jhjgN2d7yok&quot;;\nString url = &quot;https://www.youtube.com/oembed?url=youtube.com/watch?v=&quot; +Video_id+ &quot;&amp;format=json&quot;;\n</code></pre>\n"}],"owner":{"account_id":3563376,"reputation":7,"user_id":2975634,"display_name":"user2975634"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675578046,"creation_date":1675246183,"question_id":75308541,"body_markdown":"I want to get the youtube video title from a url so I found this code below (IOUtils) is depreciated any other way to do this \r\n\r\n    public class SimpleYouTubeHelper {\r\n\r\n       public static String getTitleQuietly(String youtubeUrl) {\r\n          try {\r\n               if (youtubeUrl != null) {\r\n                  URL embededURL = new URL(&quot;http://www.youtube.com/oembed?url=&quot; +\r\n                  youtubeUrl + &quot;&amp;format=json&quot;\r\n              );\r\n\r\n            return new JSONObject(IOUtils.toString(embededURL)).getString(&quot;title&quot;);\r\n        }\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return null;\r\n    }\r\n    }\r\n\r\n\r\nsecond way i tried\r\n\r\n     \tclass getYoutubeJSON extends Thread {\r\n\r\n        String data = &quot; &quot;;\r\n\r\n        @Override\r\n        public void run() {\r\n\r\n            try {\r\n                URL url = new URL(&quot;http://www.youtube.com/oembed?url=&quot;+&quot; https://www.youtube.com/watch?v=a4NT5iBFuZs&amp;ab_channel=FilipVujovic&quot;\r\n                        + &quot;&amp;format=json&quot;);\r\n\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n\r\n                while ((line = bufferedReader.readLine()) != null){\r\n\r\n                     data =data + line;\r\n                }\r\n\r\n\r\n                if(!data.isEmpty()){\r\n\r\n                    JSONObject jsonObject = new JSONObject(data);\r\n                   // JSONArray users = jsonObject.getJSONArray(&quot;author_name&quot;);\r\n\r\n                    Log.d(&quot;RT &quot; , jsonObject.toString());\r\n                }\r\n\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n    \t    }\r\n  \t  }\r\n\r\nThis code gets a an error **Cleartext HTTP traffic to www.youtube.com not permitted**\r\nso I found this answer [https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted][1] but I am still getting some error I don&#39;t understand. \r\n\r\n  [1]: https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted","title":"How can I get youtubeVideo Title from URL for android studio?","body":"<p>I want to get the youtube video title from a url so I found this code below (IOUtils) is depreciated any other way to do this</p>\n<pre><code>public class SimpleYouTubeHelper {\n\n   public static String getTitleQuietly(String youtubeUrl) {\n      try {\n           if (youtubeUrl != null) {\n              URL embededURL = new URL(&quot;http://www.youtube.com/oembed?url=&quot; +\n              youtubeUrl + &quot;&amp;format=json&quot;\n          );\n\n        return new JSONObject(IOUtils.toString(embededURL)).getString(&quot;title&quot;);\n    }\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\nreturn null;\n}\n}\n</code></pre>\n<p>second way i tried</p>\n<pre><code>    class getYoutubeJSON extends Thread {\n\n    String data = &quot; &quot;;\n\n    @Override\n    public void run() {\n\n        try {\n            URL url = new URL(&quot;http://www.youtube.com/oembed?url=&quot;+&quot; https://www.youtube.com/watch?v=a4NT5iBFuZs&amp;ab_channel=FilipVujovic&quot;\n                    + &quot;&amp;format=json&quot;);\n\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n\n            InputStream inputStream = httpURLConnection.getInputStream();\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            String line;\n\n            while ((line = bufferedReader.readLine()) != null){\n\n                 data =data + line;\n            }\n\n\n            if(!data.isEmpty()){\n\n                JSONObject jsonObject = new JSONObject(data);\n               // JSONArray users = jsonObject.getJSONArray(&quot;author_name&quot;);\n\n                Log.d(&quot;RT &quot; , jsonObject.toString());\n            }\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n\n        }\n  }\n</code></pre>\n<p>This code gets a an error <strong>Cleartext HTTP traffic to <a href=\"http://www.youtube.com\" rel=\"nofollow noreferrer\">www.youtube.com</a> not permitted</strong>\nso I found this answer <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\">Android 8: Cleartext HTTP traffic not permitted</a> but I am still getting some error I don't understand.</p>\n"},{"tags":["java","swing","jframe","titlebar"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675538749,"post_id":75347685,"comment_id":132952416,"body_markdown":"You can add an icon to the title bar, but that&#39;s the only change you can make.  The workaround, as you&#39;ve already found, is to create your own title bar with an undecorated `JFrame`.  You then have to implement all the functionality of a title bar yourself.","body":"You can add an icon to the title bar, but that&#39;s the only change you can make.  The workaround, as you&#39;ve already found, is to create your own title bar with an undecorated <code>JFrame</code>.  You then have to implement all the functionality of a title bar yourself."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1675541439,"post_id":75347685,"comment_id":132952922,"body_markdown":"I am having problems adding all the functionality in the custom title bar, and also I lack the knowledge. Can you help me with this?","body":"I am having problems adding all the functionality in the custom title bar, and also I lack the knowledge. Can you help me with this?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675547394,"post_id":75347685,"comment_id":132953947,"body_markdown":"Check out: https://stackoverflow.com/a/47871969/131872 for the basic logic for dragging any component around a JPanel. However you will need to make a single change because the component you want to drag is the frame, not the component you click on. So in the mouseDragged logic you will need to find the parent frame of the panel you click on. Check out the `SwingUtilities` class for a method to help you.","body":"Check out: <a href=\"https://stackoverflow.com/a/47871969/131872\">stackoverflow.com/a/47871969/131872</a> for the basic logic for dragging any component around a JPanel. However you will need to make a single change because the component you want to drag is the frame, not the component you click on. So in the mouseDragged logic you will need to find the parent frame of the panel you click on. Check out the <code>SwingUtilities</code> class for a method to help you."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675547497,"post_id":75347685,"comment_id":132953963,"body_markdown":"Resizing the frame will be more complicated because you need to know which side of the frame you are resizing. You will also need to know if the mouse is positioned in a corner of the frame in which case you will need to resize two sides of the frame. But the concept is the same, you need to add the listeners to the frame and then do you calculations based on the mouse position in the frame.","body":"Resizing the frame will be more complicated because you need to know which side of the frame you are resizing. You will also need to know if the mouse is positioned in a corner of the frame in which case you will need to resize two sides of the frame. But the concept is the same, you need to add the listeners to the frame and then do you calculations based on the mouse position in the frame."}],"answers":[{"tags":[],"owner":{"account_id":17640472,"reputation":38,"user_id":12802843,"display_name":"kingrishabdugar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1675573945,"creation_date":1675573945,"answer_id":75350247,"question_id":75347685,"body_markdown":"**Assumption :** You need a by-default decorated JFrame, which acquires the look &amp; feel of the machine&#39;s operating system.\r\n\r\nSetting an icon and customizing text on Title bar is easy.It can be done as shown below,\r\n\r\n```\r\nclass TitleBar {     \r\nTitleBar(){     \r\nFrame f=new Frame(); \r\n\r\n//Setting TitleBar icon with &quot;YourImage.png&quot; \r\n       f.setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;YourImage.png&quot;)));\r\n\r\n//set other parameters as per your choice viz size layout etc.  \r\n\r\n//Set the Title Bar text\r\nf.setTitle(&quot;YOUR CUSTOM TEXT&quot;);\r\n\r\nf.setVisible(true);     \r\n\r\n}     \r\n```\r\n\r\nNow with the frame decoration turned &quot;ON&quot;, it is not possible to change the color of titlebar, font of the top-level JFrame (to the best of my knowledge). You CAN change the color of an InternalFrame however.\r\n\r\nIf you want to customise these then turn off windows decorations with f.setUndecorated(true) and you can change the title bar appearance with the help of LAF (Look And Feel). This is better explained in the answer below :\r\n\r\n[Change the color of the title bar in javax.swing][1]\r\n\r\nYou may also try modifying the UIDefaults as shown here :\r\n\r\n[Modifying UIDefaults | For Windows 10 and above][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69469930/12802843\r\n  [2]: https://stackoverflow.com/a/49019710/12802843\r\n\r\nDo upvote if my answer is useful !!","title":"how to edit jframe title bar?","body":"<p><strong>Assumption :</strong> You need a by-default decorated JFrame, which acquires the look &amp; feel of the machine's operating system.</p>\n<p>Setting an icon and customizing text on Title bar is easy.It can be done as shown below,</p>\n<pre><code>class TitleBar {     \nTitleBar(){     \nFrame f=new Frame(); \n\n//Setting TitleBar icon with &quot;YourImage.png&quot; \n       f.setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;YourImage.png&quot;)));\n\n//set other parameters as per your choice viz size layout etc.  \n\n//Set the Title Bar text\nf.setTitle(&quot;YOUR CUSTOM TEXT&quot;);\n\nf.setVisible(true);     \n\n}     \n</code></pre>\n<p>Now with the frame decoration turned &quot;ON&quot;, it is not possible to change the color of titlebar, font of the top-level JFrame (to the best of my knowledge). You CAN change the color of an InternalFrame however.</p>\n<p>If you want to customise these then turn off windows decorations with f.setUndecorated(true) and you can change the title bar appearance with the help of LAF (Look And Feel). This is better explained in the answer below :</p>\n<p><a href=\"https://stackoverflow.com/a/69469930/12802843\">Change the color of the title bar in javax.swing</a></p>\n<p>You may also try modifying the UIDefaults as shown here :</p>\n<p><a href=\"https://stackoverflow.com/a/49019710/12802843\">Modifying UIDefaults | For Windows 10 and above</a></p>\n<p>Do upvote if my answer is useful !!</p>\n"}],"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75350247,"answer_count":1,"score":0,"last_activity_date":1675577260,"creation_date":1675537925,"question_id":75347685,"body_markdown":"jframe title bar image (run time)\r\n\r\n[1]:https://i.stack.imgur.com/zWbcf.jpg\r\n\r\n![1]\r\n\r\nI don&#39;t want it undecorated, want black color and change icons.\r\n\r\n\r\n\r\nI am making my college project, I tried making a customized title bar with an undecorated frame, and it works fine, but I have problems dragging the frame and re-sizing it. So I thought maybe I could edit the original frame but didn&#39;t find any solutions. Can someone guide me through this? ","title":"how to edit jframe title bar?","body":"<p>jframe title bar image (run time)</p>\n<p><img src=\"https://i.stack.imgur.com/zWbcf.jpg\" alt=\"1\" /></p>\n<p>I don't want it undecorated, want black color and change icons.</p>\n<p>I am making my college project, I tried making a customized title bar with an undecorated frame, and it works fine, but I have problems dragging the frame and re-sizing it. So I thought maybe I could edit the original frame but didn't find any solutions. Can someone guide me through this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","graph"],"answers":[{"comments":[{"owner":{"account_id":27534833,"reputation":11,"user_id":21012696,"display_name":"ShyBee"},"score":0,"creation_date":1675580142,"post_id":75350360,"comment_id":132957395,"body_markdown":"I think the new BarEntry is not working because it keeps crashing y,x","body":"I think the new BarEntry is not working because it keeps crashing y,x"},{"owner":{"account_id":9635799,"reputation":176,"user_id":7151930,"display_name":"ekibet"},"score":0,"creation_date":1675608004,"post_id":75350360,"comment_id":132961579,"body_markdown":"Check if you are able to get the data from firebase database","body":"Check if you are able to get the data from firebase database"}],"tags":[],"owner":{"account_id":9635799,"reputation":176,"user_id":7151930,"display_name":"ekibet"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675575988,"creation_date":1675575988,"answer_id":75350360,"question_id":75350338,"body_markdown":"I would recommend you to make use of the: https://github.com/PhilJay/MPAndroidChart for displaying the bar graph.\r\n\r\nOnce you retrieve the data from the Firebase database and update the chart:\r\n\r\n    myRef.addValueEventListener(new ValueEventListener() {\r\n      @Override\r\n      public void onDataChange(DataSnapshot dataSnapshot) {\r\n        // Get the data from the snapshot\r\n        Map&lt;String, Long&gt; data = (Map&lt;String, Long&gt;) dataSnapshot.getValue();\r\n    \r\n        // Prepare the data for the chart\r\n        List&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\r\n        int index = 0;\r\n        for (Map.Entry&lt;String, Long&gt; entry : data.entrySet()) {\r\n          entries.add(new BarEntry(index++, entry.getValue()));\r\n        }\r\n    \r\n        // Create the chart\r\n        BarDataSet dataSet = new BarDataSet(entries, &quot;Data&quot;);\r\n        BarData barData = new BarData(dataSet);\r\n        BarChart chart = (BarChart) findViewById(R.id.bar_chart);\r\n        chart.setData(barData);\r\n        chart.invalidate();\r\n      }\r\n    \r\n      @Override\r\n      public void onCancelled(DatabaseError error) {\r\n        // Handle errors\r\n      }\r\n    });\r\n\r\n","title":"Input data in firebase to graph android studio","body":"<p>I would recommend you to make use of the: <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">https://github.com/PhilJay/MPAndroidChart</a> for displaying the bar graph.</p>\n<p>Once you retrieve the data from the Firebase database and update the chart:</p>\n<pre><code>myRef.addValueEventListener(new ValueEventListener() {\n  @Override\n  public void onDataChange(DataSnapshot dataSnapshot) {\n    // Get the data from the snapshot\n    Map&lt;String, Long&gt; data = (Map&lt;String, Long&gt;) dataSnapshot.getValue();\n\n    // Prepare the data for the chart\n    List&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\n    int index = 0;\n    for (Map.Entry&lt;String, Long&gt; entry : data.entrySet()) {\n      entries.add(new BarEntry(index++, entry.getValue()));\n    }\n\n    // Create the chart\n    BarDataSet dataSet = new BarDataSet(entries, &quot;Data&quot;);\n    BarData barData = new BarData(dataSet);\n    BarChart chart = (BarChart) findViewById(R.id.bar_chart);\n    chart.setData(barData);\n    chart.invalidate();\n  }\n\n  @Override\n  public void onCancelled(DatabaseError error) {\n    // Handle errors\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":27534833,"reputation":11,"user_id":21012696,"display_name":"ShyBee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675576154,"creation_date":1675575567,"question_id":75350338,"body_markdown":"My database is like this from firebase [![data][1]][1]\r\n\r\n\r\nI was figuring out how to combine this two as set1 and set2 on graph but the first problem I encounter is when I use the Date as x it must be in int.\r\n\r\n\r\n\r\n    gIncomeDatabase= FirebaseDatabase.getInstance().getReference().child(&quot;IncomeData&quot;).child(uid);\r\n    gExpenseDatabase= FirebaseDatabase.getInstance().getReference().child(&quot;ExpenseData&quot;).child(uid);\r\n\r\nHow can I convert the month into number where in I will use the number on x axis(1f) in here\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        ArrayList&lt;BarEntry&gt; values1 = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;BarEntry&gt; values2 = new ArrayList&lt;&gt;();\r\n\r\n            values1.add(new BarEntry(1f, 20));\r\n            values2.add(new BarEntry(1f, 20));\r\n\r\n        BarDataSet set1= new BarDataSet(values1,&quot;Income&quot;);\r\n        BarDataSet set2= new BarDataSet(values2,&quot;Expense&quot;);\r\n        BarData barData = new BarData(set1,set2);\r\n        set1.setValues(values1);\r\n        set2.setValues(values2);\r\n        barinc.setData(barData);\r\n\r\nAnd is it also possible to put the name of the months below them?\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3fQVP.png\r\n  [2]: https://i.stack.imgur.com/xGH3Y.png\r\n\r\nThank you so much","title":"Input data in firebase to graph android studio","body":"<p>My database is like this from firebase <a href=\"https://i.stack.imgur.com/3fQVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3fQVP.png\" alt=\"data\" /></a></p>\n<p>I was figuring out how to combine this two as set1 and set2 on graph but the first problem I encounter is when I use the Date as x it must be in int.</p>\n<pre><code>gIncomeDatabase= FirebaseDatabase.getInstance().getReference().child(&quot;IncomeData&quot;).child(uid);\ngExpenseDatabase= FirebaseDatabase.getInstance().getReference().child(&quot;ExpenseData&quot;).child(uid);\n</code></pre>\n<p>How can I convert the month into number where in I will use the number on x axis(1f) in here</p>\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n\n    ArrayList&lt;BarEntry&gt; values1 = new ArrayList&lt;&gt;();\n    ArrayList&lt;BarEntry&gt; values2 = new ArrayList&lt;&gt;();\n\n        values1.add(new BarEntry(1f, 20));\n        values2.add(new BarEntry(1f, 20));\n\n    BarDataSet set1= new BarDataSet(values1,&quot;Income&quot;);\n    BarDataSet set2= new BarDataSet(values2,&quot;Expense&quot;);\n    BarData barData = new BarData(set1,set2);\n    set1.setValues(values1);\n    set2.setValues(values2);\n    barinc.setData(barData);\n</code></pre>\n<p>And is it also possible to put the name of the months below them?\n<a href=\"https://i.stack.imgur.com/xGH3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGH3Y.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you so much</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675576747,"post_id":75350368,"comment_id":132957103,"body_markdown":"What is the package name for the `LongRunningAlloc` class?  What does it say in the source code?","body":"What is the package name for the <code>LongRunningAlloc</code> class?  What does it say in the source code?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1675576808,"post_id":75350368,"comment_id":132957110,"body_markdown":"It is: package jvm;","body":"It is: package jvm;"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1675577131,"post_id":75350368,"comment_id":132957137,"body_markdown":"Since you’re using an ide, then why not take advantage of that and just create a run/debug config and run from the class instead of first creating the jar and running from there?","body":"Since you’re using an ide, then why not take advantage of that and just create a run/debug config and run from the class instead of first creating the jar and running from there?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675577664,"post_id":75350368,"comment_id":132957181,"body_markdown":"And within the JAR file, what is the full name of the entry for the `LongRunningAlloc` class?  (Use `jar -tvf absolute-path-to-jar` to find out.)","body":"And within the JAR file, what is the full name of the entry for the <code>LongRunningAlloc</code> class?  (Use <code>jar -tvf absolute-path-to-jar</code> to find out.)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675592483,"post_id":75350368,"comment_id":132959025,"body_markdown":"You should generally be building an executable jar so only `java -jar outputjar.jar` should be necessary","body":"You should generally be building an executable jar so only <code>java -jar outputjar.jar</code> should be necessary"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675576143,"creation_date":1675576143,"question_id":75350368,"body_markdown":"I have a maven project in intellij on windows.\r\n\r\nInside, I have a package with a file inside it:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbuild generates a jar named as &#39;outputjar&#39;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI want to run  java -cp command for the class, and tried various ways:\r\n\r\n    java -cp \\target\\outputjar\\java\\main\\ jvm.LongRunningAlloc &amp;\r\n    java -cp \\target\\outputjar jvm.LongRunningAlloc &amp;\r\n    java -cp absolute-path-to-jar jvm.LongRunningAlloc &amp;\r\n\r\nBut none works.\r\n\r\nI always get:\r\n\r\n    Error: Could not find or load main class jvm.LongRunningAlloc\r\n\r\nWhat is correct way of doing it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yonJB.png\r\n  [2]: https://i.stack.imgur.com/QXMBp.png","title":"Running java -cp command for a maven project in intellij IDE","body":"<p>I have a maven project in intellij on windows.</p>\n<p>Inside, I have a package with a file inside it:</p>\n<p><a href=\"https://i.stack.imgur.com/yonJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yonJB.png\" alt=\"enter image description here\" /></a></p>\n<p>build generates a jar named as 'outputjar':</p>\n<p><a href=\"https://i.stack.imgur.com/QXMBp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QXMBp.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to run  java -cp command for the class, and tried various ways:</p>\n<pre><code>java -cp \\target\\outputjar\\java\\main\\ jvm.LongRunningAlloc &amp;\njava -cp \\target\\outputjar jvm.LongRunningAlloc &amp;\njava -cp absolute-path-to-jar jvm.LongRunningAlloc &amp;\n</code></pre>\n<p>But none works.</p>\n<p>I always get:</p>\n<pre><code>Error: Could not find or load main class jvm.LongRunningAlloc\n</code></pre>\n<p>What is correct way of doing it?</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":9043801,"reputation":143,"user_id":6737006,"display_name":"Mikhail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675576122,"creation_date":1675576122,"answer_id":75350366,"question_id":75332657,"body_markdown":"You can try to set a global layout listener to the root view of your Activity to detect changes in the height of the view. When the height of the view decreases, you can assume that the keyboard has opened. When the height of the view increases, you can assume that the keyboard has closed.\r\n\r\n    val rootView = findViewById&lt;View&gt;(android.R.id.content)\r\n        rootView.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n            ViewTreeObserver.OnGlobalLayoutListener {\r\n            override fun onGlobalLayout() {\r\n                val heightDiff = rootView.rootView.height - rootView.height\r\n                if (heightDiff &gt; dpToPx(this@YourActivity, 200f)) { // if more than 200 dp, it&#39;s probably a keyboard...\r\n                    // do something here\r\n                } else {\r\n                    // do something here\r\n                }\r\n            }\r\n        })\r\n        \r\n       \r\n        fun dpToPx(context: Context, dp: Float): Int {\r\n            return TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dp, context.resources.displayMetrics).toInt()\r\n        }\r\n\r\n\r\n\r\n","title":"Keyboard visibility listener when activity is not resizable","body":"<p>You can try to set a global layout listener to the root view of your Activity to detect changes in the height of the view. When the height of the view decreases, you can assume that the keyboard has opened. When the height of the view increases, you can assume that the keyboard has closed.</p>\n<pre><code>val rootView = findViewById&lt;View&gt;(android.R.id.content)\n    rootView.viewTreeObserver.addOnGlobalLayoutListener(object :\n        ViewTreeObserver.OnGlobalLayoutListener {\n        override fun onGlobalLayout() {\n            val heightDiff = rootView.rootView.height - rootView.height\n            if (heightDiff &gt; dpToPx(this@YourActivity, 200f)) { // if more than 200 dp, it's probably a keyboard...\n                // do something here\n            } else {\n                // do something here\n            }\n        }\n    })\n    \n   \n    fun dpToPx(context: Context, dp: Float): Int {\n        return TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dp, context.resources.displayMetrics).toInt()\n    }\n</code></pre>\n"}],"owner":{"account_id":9280828,"reputation":21,"user_id":7461861,"display_name":"Ummer Siddique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75350366,"answer_count":1,"score":0,"last_activity_date":1675576122,"creation_date":1675409097,"question_id":75332657,"body_markdown":"I have an `Activity` where there are 2 `EditText`. I have applied `android:windowSoftInputMode=&quot;adjustNothing&quot;`. When the user clicks on the `EditText`, the soft keyboard opens to enter some value in it. I want to set some other `View`&#39;s visibility to `Gone` when the soft keyboard opens and also when the soft keyboard closes from the `EditText` on the back button press. Then I want to set some other `View`&#39;s visibility to `Visible`.\r\n\r\nI have tried serveral solution but they are not working due to `adjustNothing` applied on the `Activity`.\r\nI have also used following keyboard visibilty watcher library but it&#39;s also not working due to `adjustNothing`.\r\n\r\n`implementation &#39;net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:3.0.0-RC2&#39;\r\n`","title":"Keyboard visibility listener when activity is not resizable","body":"<p>I have an <code>Activity</code> where there are 2 <code>EditText</code>. I have applied <code>android:windowSoftInputMode=&quot;adjustNothing&quot;</code>. When the user clicks on the <code>EditText</code>, the soft keyboard opens to enter some value in it. I want to set some other <code>View</code>'s visibility to <code>Gone</code> when the soft keyboard opens and also when the soft keyboard closes from the <code>EditText</code> on the back button press. Then I want to set some other <code>View</code>'s visibility to <code>Visible</code>.</p>\n<p>I have tried serveral solution but they are not working due to <code>adjustNothing</code> applied on the <code>Activity</code>.\nI have also used following keyboard visibilty watcher library but it's also not working due to <code>adjustNothing</code>.</p>\n<p><code>implementation 'net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:3.0.0-RC2' </code></p>\n"},{"tags":["java","imageview"],"owner":{"account_id":26223075,"reputation":9,"user_id":19900160,"display_name":"FlitchZy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675575644,"creation_date":1675567133,"question_id":75349895,"body_markdown":"Im having problem while setting corner radius of imageview in **homescreen widget** i setted radius of bg linear using drawable file, please anyone help me i&quot;ll add screenshots of below\r\n\r\n[This is my manifest when i set java file for widget in manifest widget is not loading, if anyone know why leave a comment for this too but, my main question is imageview radius]\r\n\r\n    &lt;receiver android:name=&quot;.WidgetMusicProvider&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.appwidget.provider&quot;\r\n                android:resource=&quot;@xml/widget_info&quot; /&gt;\r\n        &lt;/receiver&gt;\r\n\r\n[This is the widget xml still no java has been used in widget]\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;0dp&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;0dp&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/main_lin&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;0dp&quot;\r\n        android:background=&quot;@xml/widget_style&quot;\r\n        android:outlineProvider=&quot;background&quot;\r\n        android:padding=&quot;0dp&quot; &gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:outlineProvider=&quot;background&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@drawable/Sundari&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:padding=&quot;8dp&quot; &gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/font&quot;\r\n                android:text=&quot;Titles goes here&quot;\r\n                android:textColor=&quot;#000000&quot;\r\n                android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/font&quot;\r\n                android:text=&quot;Artist goes here&quot;\r\n                android:textColor=&quot;#757575&quot;\r\n                android:textSize=&quot;12dp&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:paddingLeft=&quot;0dp&quot; &gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;0dp&quot;\r\n                    android:src=&quot;@drawable/noti_prev&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;0dp&quot;\r\n                    android:src=&quot;@drawable/noti_play&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;0dp&quot;\r\n                    android:src=&quot;@drawable/noti_next&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n[This is the java file i tried to set but when setted from manifest its not showing widget even if the java file is empty so problem is not in java file]\r\n\r\n    \r\n\r\n\r\n\t@Override\r\n\tpublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n\t\t\r\n\t\tfor (int appWidgetId : appWidgetIds) {\r\n\t\t\r\n\t\tRemoteViews rv = new RemoteViews(context.getPackageName(), R.layout.widget_music);\r\n\t\t\r\n\t\trv.setBoolean(R.id.main_lin, &quot;setClipToOutline&quot;, true);\r\n\t\t\r\n\t\tappWidgetManager.updateAppWidget(appWidgetId, rv);\r\n\t\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\n[This is the widget][1]\r\n\r\nI tried android:clipToOutline cardview but when use cardview its not showing widget in homescreen its showing (problem loading widget) im expecting to fix this soon\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hNVP.jpg","title":"Setting corner radius of imageview (java)","body":"<p>Im having problem while setting corner radius of imageview in <strong>homescreen widget</strong> i setted radius of bg linear using drawable file, please anyone help me i&quot;ll add screenshots of below</p>\n<p>[This is my manifest when i set java file for widget in manifest widget is not loading, if anyone know why leave a comment for this too but, my main question is imageview radius]</p>\n<pre><code>&lt;receiver android:name=&quot;.WidgetMusicProvider&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.appwidget.provider&quot;\n            android:resource=&quot;@xml/widget_info&quot; /&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>[This is the widget xml still no java has been used in widget]</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_margin=&quot;0dp&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:padding=&quot;0dp&quot; &gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/main_lin&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;0dp&quot;\n    android:background=&quot;@xml/widget_style&quot;\n    android:outlineProvider=&quot;background&quot;\n    android:padding=&quot;0dp&quot; &gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:outlineProvider=&quot;background&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/Sundari&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:padding=&quot;8dp&quot; &gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/font&quot;\n            android:text=&quot;Titles goes here&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/font&quot;\n            android:text=&quot;Artist goes here&quot;\n            android:textColor=&quot;#757575&quot;\n            android:textSize=&quot;12dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:paddingLeft=&quot;0dp&quot; &gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;0dp&quot;\n                android:src=&quot;@drawable/noti_prev&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;0dp&quot;\n                android:src=&quot;@drawable/noti_play&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;0dp&quot;\n                android:src=&quot;@drawable/noti_next&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>[This is the java file i tried to set but when setted from manifest its not showing widget even if the java file is empty so problem is not in java file]</p>\n<pre><code>@Override\npublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n    \n    for (int appWidgetId : appWidgetIds) {\n    \n    RemoteViews rv = new RemoteViews(context.getPackageName(), R.layout.widget_music);\n    \n    rv.setBoolean(R.id.main_lin, &quot;setClipToOutline&quot;, true);\n    \n    appWidgetManager.updateAppWidget(appWidgetId, rv);\n    \n    }\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/9hNVP.jpg\" rel=\"nofollow noreferrer\">This is the widget</a></p>\n<p>I tried android:clipToOutline cardview but when use cardview its not showing widget in homescreen its showing (problem loading widget) im expecting to fix this soon</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","countdown"],"owner":{"account_id":18835665,"reputation":1,"user_id":13738388,"display_name":"Rahitul Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675571191,"answer_count":0,"score":0,"last_activity_date":1675574191,"creation_date":1675570928,"question_id":75350104,"body_markdown":"I have encountered a problem. I want to set a count down timer, which I set from the android app and it gets uploaded to the **Firebase Realtime database**. I want to see the timer on app Realtime. Just like **(freelancer.com)**. Where hirer set a timer for freelancer and freelancers can see the timer Realtime. **Want a android app developer(java)** \r\n \r\n\r\nPlease help me out from this problem. ","title":"Countdown Timer Android App(Firebase Realtime database)","body":"<p>I have encountered a problem. I want to set a count down timer, which I set from the android app and it gets uploaded to the <strong>Firebase Realtime database</strong>. I want to see the timer on app Realtime. Just like <strong>(freelancer.com)</strong>. Where hirer set a timer for freelancer and freelancers can see the timer Realtime. <strong>Want a android app developer(java)</strong></p>\n<p>Please help me out from this problem.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675603875,"post_id":75350051,"comment_id":132960863,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":26759070,"reputation":1,"user_id":20357305,"display_name":"erchimen shestarkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675570247,"creation_date":1675569985,"question_id":75350051,"body_markdown":"I&#39;m trying to register using a phone number and it gives an error\r\n```\r\nE/FirebearCryptoHelper: Exception encountered during crypto setup:\r\n    Protocol message contained an invalid tag (zero).\r\nE/FirebearCryptoHelper: KeysetManager failed to initialize - unable to get Public key\r\nE/RecaptchaActivity: Could not generate an encryption key for reCAPTCHA - cancelling flow.\r\nW/Activity: Slow Operation: Activity mychati.app/com.google.firebase.auth.internal.RecaptchaActivity onResume took 180ms\r\nW/System: Ignoring header X-Firebase-Locale because its value was null.\r\nE/zzf: Failed to get reCAPTCHA token with error [An internal error has occurred. [ Failed to generate/retrieve public encryption key for reCAPTCHA flow. ]]- calling backend without app verification\r\nI/AssistStructure: Flattened final assist data: 2196 bytes, containing 1 windows, 11 views\r\nW/System: Ignoring header X-Firebase-Locale because its value was null.\r\nE/FirebaseAuth: [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17010 null\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10749; state: ENABLED\r\n```\r\nSHA1 and SHA 256 fingerprints added,Google-Service Json latest downloaded.\r\nHere is my registration code\r\n```\r\n    private String verificationID;\r\nprivate AppCompatButton getcode,verifycode;\r\nprivate FirebaseAuth mAuth;\r\n    private PhoneAuthProvider.ForceResendingToken mResendToken;\r\nprivate static int PHONE_NUMBER=12;\r\n  edit_phonenum.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                if (editable.length()==PHONE_NUMBER){\r\n                    getcode.setEnabled(true);\r\n\r\n                }else{\r\n                    getcode.setEnabled(false);\r\n                }\r\n            }\r\n        });\r\n  getcode.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n              String  phoneNumber=edit_phonenum.getText().toString();\r\nPhoneVery(phoneNumber);\r\n\r\nverifycode.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        verifycode(verifysms.getText().toString());\r\n    }\r\n});\r\n            }\r\n        });\r\n    }\r\n\r\n    private void PhoneVery(String phoneNumber) {\r\n        PhoneAuthOptions options =\r\n                PhoneAuthOptions.newBuilder(mAuth)\r\n                        .setPhoneNumber(phoneNumber)       // Phone number to verify\r\n                        .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit\r\n                        .setActivity(RegisterPhoneActivity.this)                 // Activity (for callback binding)\r\n                        .setCallbacks(mCallbacks)          // OnVerificationStateChangedCallbacks\r\n                        .build();\r\n        PhoneAuthProvider.verifyPhoneNumber(options);\r\n    }\r\n\r\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\r\n            mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n        @Override\r\n        public void onVerificationCompleted(@NonNull PhoneAuthCredential credential)\r\n        {\r\n            final String code = credential.getSmsCode();\r\n            if(code!=null)\r\n            {\r\n                verifycode(code);\r\n            }\r\n        }\r\n        @Override\r\n        public void onVerificationFailed(@NonNull FirebaseException e) {\r\n            Toast.makeText(RegisterPhoneActivity.this, &quot;Verification Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onCodeSent(@NonNull String s,\r\n                               @NonNull PhoneAuthProvider.ForceResendingToken token)\r\n        {\r\n            super.onCodeSent(s, token);\r\n            verificationID = s;\r\n            Toast.makeText(RegisterPhoneActivity.this, &quot;Код отправлен&quot;, Toast.LENGTH_SHORT).show();\r\n            verifycode.setEnabled(true);\r\nverifycode.setVisibility(View.VISIBLE);\r\nverifysms.setVisibility(View.VISIBLE);\r\ngetcode.setEnabled(false);\r\ngetcode.setVisibility(View.GONE);\r\n        }};\r\n    private void verifycode(String Code)\r\n    {\r\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationID,Code);\r\n        signinbyCredentials(credential);\r\n    }\r\n\r\n    private void signinbyCredentials(PhoneAuthCredential credential)\r\n    {\r\n        FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task)\r\n                    {\r\n                        if(task.isSuccessful())\r\n                        {\r\n\r\n                           Intent sucsees=new Intent(RegisterPhoneActivity.this, SplashScreenActivity.class);\r\n\r\n                           startActivity(sucsees);\r\n                           finish();\r\n                        }\r\n\r\n                    }\r\n                });}\r\n\r\n```\r\nin the application itself, the onVerificationFailed method is triggered, and issues a Toast &quot;Verification Failed&quot;\r\n\r\nTried reinstalling google service json. Previously, this method worked, although I did not change anything in the code.","title":"problem when trying to register via firebase phone number","body":"<p>I'm trying to register using a phone number and it gives an error</p>\n<pre><code>E/FirebearCryptoHelper: Exception encountered during crypto setup:\n    Protocol message contained an invalid tag (zero).\nE/FirebearCryptoHelper: KeysetManager failed to initialize - unable to get Public key\nE/RecaptchaActivity: Could not generate an encryption key for reCAPTCHA - cancelling flow.\nW/Activity: Slow Operation: Activity mychati.app/com.google.firebase.auth.internal.RecaptchaActivity onResume took 180ms\nW/System: Ignoring header X-Firebase-Locale because its value was null.\nE/zzf: Failed to get reCAPTCHA token with error [An internal error has occurred. [ Failed to generate/retrieve public encryption key for reCAPTCHA flow. ]]- calling backend without app verification\nI/AssistStructure: Flattened final assist data: 2196 bytes, containing 1 windows, 11 views\nW/System: Ignoring header X-Firebase-Locale because its value was null.\nE/FirebaseAuth: [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17010 null\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10749; state: ENABLED\n</code></pre>\n<p>SHA1 and SHA 256 fingerprints added,Google-Service Json latest downloaded.\nHere is my registration code</p>\n<pre><code>    private String verificationID;\nprivate AppCompatButton getcode,verifycode;\nprivate FirebaseAuth mAuth;\n    private PhoneAuthProvider.ForceResendingToken mResendToken;\nprivate static int PHONE_NUMBER=12;\n  edit_phonenum.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                if (editable.length()==PHONE_NUMBER){\n                    getcode.setEnabled(true);\n\n                }else{\n                    getcode.setEnabled(false);\n                }\n            }\n        });\n  getcode.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n              String  phoneNumber=edit_phonenum.getText().toString();\nPhoneVery(phoneNumber);\n\nverifycode.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        verifycode(verifysms.getText().toString());\n    }\n});\n            }\n        });\n    }\n\n    private void PhoneVery(String phoneNumber) {\n        PhoneAuthOptions options =\n                PhoneAuthOptions.newBuilder(mAuth)\n                        .setPhoneNumber(phoneNumber)       // Phone number to verify\n                        .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit\n                        .setActivity(RegisterPhoneActivity.this)                 // Activity (for callback binding)\n                        .setCallbacks(mCallbacks)          // OnVerificationStateChangedCallbacks\n                        .build();\n        PhoneAuthProvider.verifyPhoneNumber(options);\n    }\n\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\n            mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n        @Override\n        public void onVerificationCompleted(@NonNull PhoneAuthCredential credential)\n        {\n            final String code = credential.getSmsCode();\n            if(code!=null)\n            {\n                verifycode(code);\n            }\n        }\n        @Override\n        public void onVerificationFailed(@NonNull FirebaseException e) {\n            Toast.makeText(RegisterPhoneActivity.this, &quot;Verification Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onCodeSent(@NonNull String s,\n                               @NonNull PhoneAuthProvider.ForceResendingToken token)\n        {\n            super.onCodeSent(s, token);\n            verificationID = s;\n            Toast.makeText(RegisterPhoneActivity.this, &quot;Код отправлен&quot;, Toast.LENGTH_SHORT).show();\n            verifycode.setEnabled(true);\nverifycode.setVisibility(View.VISIBLE);\nverifysms.setVisibility(View.VISIBLE);\ngetcode.setEnabled(false);\ngetcode.setVisibility(View.GONE);\n        }};\n    private void verifycode(String Code)\n    {\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationID,Code);\n        signinbyCredentials(credential);\n    }\n\n    private void signinbyCredentials(PhoneAuthCredential credential)\n    {\n        FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();\n        firebaseAuth.signInWithCredential(credential)\n                .addOnCompleteListener(new OnCompleteListener() {\n                    @Override\n                    public void onComplete(@NonNull Task task)\n                    {\n                        if(task.isSuccessful())\n                        {\n\n                           Intent sucsees=new Intent(RegisterPhoneActivity.this, SplashScreenActivity.class);\n\n                           startActivity(sucsees);\n                           finish();\n                        }\n\n                    }\n                });}\n\n</code></pre>\n<p>in the application itself, the onVerificationFailed method is triggered, and issues a Toast &quot;Verification Failed&quot;</p>\n<p>Tried reinstalling google service json. Previously, this method worked, although I did not change anything in the code.</p>\n"},{"tags":["java","spring-boot","maven","command-line-interface","maven-compiler-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675590353,"post_id":75349524,"comment_id":132958661,"body_markdown":"`clean` removes what `compile` did","body":"<code>clean</code> removes what <code>compile</code> did"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675618510,"post_id":75349524,"comment_id":132963653,"body_markdown":"you have a lot of warnings during the build like `com.example.dummy:common:${rversion}, ...` which will not work... furthermore if you into sub directories it does not really make sense only if done a `mvn install` before....","body":"you have a lot of warnings during the build like <code>com.example.dummy:common:${rversion}, ...</code> which will not work... furthermore if you into sub directories it does not really make sense only if done a <code>mvn install</code> before...."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675618334,"post_id":75349894,"comment_id":132963618,"body_markdown":"bad idea to define the version of all the spring boot parts manually...they are defined via the spring-boot parent ... don&#39;t do that.. Better use the BOM setup instead of manually doing it so....","body":"bad idea to define the version of all the spring boot parts manually...they are defined via the spring-boot parent ... don&#39;t do that.. Better use the BOM setup instead of manually doing it so...."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675648474,"post_id":75349894,"comment_id":132968265,"body_markdown":"@khmarbaise, Yes, you are right. My first version of the answer was to refer to this: **Creating a Multi Module Project** (https://spring.io/guides/gs/multi-module/).  But the referenced answer is far from the original setting of @ hamidie, so I modified a version close to the original setting of @ hamidie, which is the current version.","body":"@khmarbaise, Yes, you are right. My first version of the answer was to refer to this: <b>Creating a Multi Module Project</b> (<a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/multi-module</a>).  But the referenced answer is far from the original setting of @ hamidie, so I modified a version close to the original setting of @ hamidie, which is the current version."}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1675570236,"creation_date":1675567111,"answer_id":75349894,"question_id":75349524,"body_markdown":"# pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dummy&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;dummy&lt;/name&gt;\r\n  &lt;description&gt;dummy&lt;/description&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;14&lt;/java.version&gt;\r\n    &lt;rversion&gt;0.0.1-SNAPSHOT&lt;/rversion&gt;\r\n    &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;common&lt;/module&gt;\r\n    &lt;module&gt;foo&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;!--\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n--&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## common/pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dummy&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\r\n  &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;common&lt;/name&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;description&gt;common&lt;/description&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## foo/pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dummy&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\r\n  &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;foo&lt;/name&gt;\r\n  &lt;description&gt;foo&lt;/description&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"How could `mvn package` failed with compilation failure while `mvn compile` would have passed","body":"<h1>pom.xml</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;dummy&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;dummy&lt;/name&gt;\n  &lt;description&gt;dummy&lt;/description&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;14&lt;/java.version&gt;\n    &lt;rversion&gt;0.0.1-SNAPSHOT&lt;/rversion&gt;\n    &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;modules&gt;\n    &lt;module&gt;common&lt;/module&gt;\n    &lt;module&gt;foo&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;!--\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n--&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>common/pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dummy&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\n  &lt;artifactId&gt;common&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;common&lt;/name&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;description&gt;common&lt;/description&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>foo/pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dummy&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\n  &lt;artifactId&gt;foo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;foo&lt;/name&gt;\n  &lt;description&gt;foo&lt;/description&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.example.dummy&lt;/groupId&gt;\n      &lt;artifactId&gt;common&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":7266993,"reputation":511,"user_id":5541289,"display_name":"Jiahua Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75349894,"answer_count":1,"score":1,"last_activity_date":1675570236,"creation_date":1675559920,"question_id":75349524,"body_markdown":"I have a maven spring-boot multi-module project https://github.com/JiahuaZhang/maven-spring-boot-mutli-module-question.\r\n\r\nFor the `mvn clean test`\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for dummy 0.0.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] dummy .............................................. SUCCESS [  0.094 s]\r\n[INFO] common ............................................. SUCCESS [  4.884 s]\r\n[INFO] foo ................................................ SUCCESS [  2.987 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\nFor `mvn clean package`\r\n```\r\n[INFO] Reactor Summary for dummy 0.0.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] dummy .............................................. SUCCESS [  0.661 s]\r\n[INFO] common ............................................. SUCCESS [  4.673 s]\r\n[INFO] foo ................................................ FAILURE [  0.178 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.731 s\r\n[INFO] Finished at 2023-02-04T20:04:51-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project foo: Compilation failure: Compilation failure:\r\n```\r\n\r\nHow could I get a compilation error on the `package` phase when the `compile` phase already passed?\r\n\r\nFor this project, in IntelliJ IDEA, I am able to run `CommonApplication` and `FooApplication`, and I have verified both apps&#39; functionalities. For CommonApplication, I am able to access `/common` endpoint and connect to the `ws://localhost:8080/ws/common` web socket. For FooApplication, I am able to access the `/common` endpoint, `ws://localhost:8080/ws/common`, and also the `/foo` endpoint (since the Foo module depends on the Common module).\r\n\r\nHow could I `package` this project properly? I hope I can run `CommonApplication` or `FooApplication` through a single jar. For example, running `java -jar foo.jar` would bootstrap the spring-boot application, `/common`, `/foo`, and `ws://localhost:8080/ws/common` would be accessible locally.\r\n\r\nP.S.\r\nMy Java and maven version info:\r\n```\r\njava --version\r\nopenjdk 14.0.2 2020-07-14\r\nOpenJDK Runtime Environment (build 14.0.2+12-46)\r\nOpenJDK 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing)\r\n```\r\n\r\n```\r\nmvn --version\r\nApache Maven 3.8.7 (b89d5959fcde851dcb1c8946a785a163f14e1e29)\r\nMaven home: /usr/local/Cellar/maven/3.8.7/libexec\r\nJava version: 14.0.2, vendor: Oracle Corporation, runtime: /usr/local/Cellar/sdkman-cli/5.16.0/libexec/candidates/java/14.0.2-open\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```","title":"How could `mvn package` failed with compilation failure while `mvn compile` would have passed","body":"<p>I have a maven spring-boot multi-module project <a href=\"https://github.com/JiahuaZhang/maven-spring-boot-mutli-module-question\" rel=\"nofollow noreferrer\">https://github.com/JiahuaZhang/maven-spring-boot-mutli-module-question</a>.</p>\n<p>For the <code>mvn clean test</code></p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for dummy 0.0.1-SNAPSHOT:\n[INFO]\n[INFO] dummy .............................................. SUCCESS [  0.094 s]\n[INFO] common ............................................. SUCCESS [  4.884 s]\n[INFO] foo ................................................ SUCCESS [  2.987 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>For <code>mvn clean package</code></p>\n<pre><code>[INFO] Reactor Summary for dummy 0.0.1-SNAPSHOT:\n[INFO]\n[INFO] dummy .............................................. SUCCESS [  0.661 s]\n[INFO] common ............................................. SUCCESS [  4.673 s]\n[INFO] foo ................................................ FAILURE [  0.178 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.731 s\n[INFO] Finished at 2023-02-04T20:04:51-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project foo: Compilation failure: Compilation failure:\n</code></pre>\n<p>How could I get a compilation error on the <code>package</code> phase when the <code>compile</code> phase already passed?</p>\n<p>For this project, in IntelliJ IDEA, I am able to run <code>CommonApplication</code> and <code>FooApplication</code>, and I have verified both apps' functionalities. For CommonApplication, I am able to access <code>/common</code> endpoint and connect to the <code>ws://localhost:8080/ws/common</code> web socket. For FooApplication, I am able to access the <code>/common</code> endpoint, <code>ws://localhost:8080/ws/common</code>, and also the <code>/foo</code> endpoint (since the Foo module depends on the Common module).</p>\n<p>How could I <code>package</code> this project properly? I hope I can run <code>CommonApplication</code> or <code>FooApplication</code> through a single jar. For example, running <code>java -jar foo.jar</code> would bootstrap the spring-boot application, <code>/common</code>, <code>/foo</code>, and <code>ws://localhost:8080/ws/common</code> would be accessible locally.</p>\n<p>P.S.\nMy Java and maven version info:</p>\n<pre><code>java --version\nopenjdk 14.0.2 2020-07-14\nOpenJDK Runtime Environment (build 14.0.2+12-46)\nOpenJDK 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing)\n</code></pre>\n<pre><code>mvn --version\nApache Maven 3.8.7 (b89d5959fcde851dcb1c8946a785a163f14e1e29)\nMaven home: /usr/local/Cellar/maven/3.8.7/libexec\nJava version: 14.0.2, vendor: Oracle Corporation, runtime: /usr/local/Cellar/sdkman-cli/5.16.0/libexec/candidates/java/14.0.2-open\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675569859,"creation_date":1675569859,"answer_id":75350042,"question_id":75350032,"body_markdown":"Use `Objects.equals` instead of `==` or `!=` to compare non-primitives that might be `null`. Note that you should check that the two `Map`s have the exact same size instead of doing the value check both ways.\r\n\r\n```java\r\nif (!Objects.equals(one.get(c), two.get(c))) return false;\r\n```","title":"Custom function to check whether 2 HashMaps are equal is not working in Java","body":"<p>Use <code>Objects.equals</code> instead of <code>==</code> or <code>!=</code> to compare non-primitives that might be <code>null</code>. Note that you should check that the two <code>Map</code>s have the exact same size instead of doing the value check both ways.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!Objects.equals(one.get(c), two.get(c))) return false;\n</code></pre>\n"}],"owner":{"account_id":13287307,"reputation":112,"user_id":9592986,"display_name":"Sai Pavan Kalyan Munaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675573284,"accepted_answer_id":75350042,"answer_count":1,"score":1,"last_activity_date":1675569859,"creation_date":1675569704,"question_id":75350032,"body_markdown":"I&#39;m trying to check whether 2 HashMaps are equal using a custom function `match`. I expect the output to be `true`, but the program outputs `false`. Here is the code snippet.\r\n\r\n    import java.util.HashMap;\r\n\r\n    public class HashMapEquals{\r\n\r\n        private static boolean matches1(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\r\n            for(char c: one.keySet()){\r\n                if(one.get(c) != two.get(c))\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        private static boolean matches2(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\r\n            for(char c: two.keySet()){\r\n                if(two.get(c) != one.get(c))\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        private static boolean matches(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\r\n            boolean first = matches1(one, two);\r\n            boolean second = matches2(one, two);\r\n            System.out.println(first);\r\n            System.out.println(second);\r\n            return (first &amp;&amp; second);\r\n        }\r\n\r\n        public static void main(String args[]){\r\n            HashMap&lt;Character, Integer&gt; one = new HashMap&lt;&gt;();\r\n            HashMap&lt;Character, Integer&gt; two = new HashMap&lt;&gt;();\r\n\r\n            one.put(&#39;a&#39;, 10000);\r\n            two.put(&#39;a&#39;, 10000);\r\n\r\n            matches(one, two);\r\n            System.out.println(one.equals(two));\r\n        }\r\n    }\r\n    \r\nThe output is \r\n\r\n    $ java HashMapEquals\r\n      false\r\n      false\r\n      true\r\n\r\nI know we can check the same functionality using the inbuilt function of hashmap `one.equals(two)` which is working as expected. But, I am just curious to know what is wrong with the custom function `matches` in the above code snippet.\r\n\r\n","title":"Custom function to check whether 2 HashMaps are equal is not working in Java","body":"<p>I'm trying to check whether 2 HashMaps are equal using a custom function <code>match</code>. I expect the output to be <code>true</code>, but the program outputs <code>false</code>. Here is the code snippet.</p>\n<pre><code>import java.util.HashMap;\n\npublic class HashMapEquals{\n\n    private static boolean matches1(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\n        for(char c: one.keySet()){\n            if(one.get(c) != two.get(c))\n                return false;\n        }\n        return true;\n    }\n\n    private static boolean matches2(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\n        for(char c: two.keySet()){\n            if(two.get(c) != one.get(c))\n                return false;\n        }\n        return true;\n    }\n\n    private static boolean matches(HashMap&lt;Character, Integer&gt; one, HashMap&lt;Character, Integer&gt; two){\n        boolean first = matches1(one, two);\n        boolean second = matches2(one, two);\n        System.out.println(first);\n        System.out.println(second);\n        return (first &amp;&amp; second);\n    }\n\n    public static void main(String args[]){\n        HashMap&lt;Character, Integer&gt; one = new HashMap&lt;&gt;();\n        HashMap&lt;Character, Integer&gt; two = new HashMap&lt;&gt;();\n\n        one.put('a', 10000);\n        two.put('a', 10000);\n\n        matches(one, two);\n        System.out.println(one.equals(two));\n    }\n}\n</code></pre>\n<p>The output is</p>\n<pre><code>$ java HashMapEquals\n  false\n  false\n  true\n</code></pre>\n<p>I know we can check the same functionality using the inbuilt function of hashmap <code>one.equals(two)</code> which is working as expected. But, I am just curious to know what is wrong with the custom function <code>matches</code> in the above code snippet.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675590260,"post_id":75349880,"comment_id":132958649,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675605167,"post_id":75349880,"comment_id":132961093,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26900888,"reputation":1,"user_id":20478056,"display_name":"Djonathan Kaiper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675566830,"creation_date":1675566830,"question_id":75349880,"body_markdown":"I have a project with maven in java that I generate a package on github, but I need to generate a package for the develop branch and another for the master branch, both must be active and must be accessible?\r\n\r\nKnowing how to generate two packages in the master and develop branches","title":"How to create two packages on github in the same project?","body":"<p>I have a project with maven in java that I generate a package on github, but I need to generate a package for the develop branch and another for the master branch, both must be active and must be accessible?</p>\n<p>Knowing how to generate two packages in the master and develop branches</p>\n"},{"tags":["java","swing","user-interface","jpanel","jlayeredpane"],"answers":[{"comments":[{"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"score":0,"creation_date":1390776007,"post_id":21369858,"comment_id":32226048,"body_markdown":"Your second &quot;You could&quot; got it to work, in combination with http://stackoverflow.com/a/11197851/2403253. It&#39;s important to use `setLayer(...)` prior to adding the components (as shown in the question I linked to). Thank you very much. I really appreciate your help!","body":"Your second &quot;You could&quot; got it to work, in combination with <a href=\"http://stackoverflow.com/a/11197851/2403253\">stackoverflow.com/a/11197851/2403253</a>. It&#39;s important to use <code>setLayer(...)</code> prior to adding the components (as shown in the question I linked to). Thank you very much. I really appreciate your help!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1390776587,"post_id":21369858,"comment_id":32226209,"body_markdown":"@unseenghost Personally, I like the third one, less hassle from POV, but what ever works ;)","body":"@unseenghost Personally, I like the third one, less hassle from POV, but what ever works ;)"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675565537,"creation_date":1390773722,"answer_id":21369858,"question_id":21369670,"body_markdown":"## You Could... ##\r\n\r\nTry using a [`OverlayLayout`](http://docs.oracle.com/javase/7/docs/api/javax/swing/OverlayLayout.html), but I&#39;m not sure it will meet your requirements.\r\n\r\n## You Could ##\r\n\r\nSet use a `GridBagLayout` on the `JLayeredPane`, placing each component at the same `gridx`/`gridy` and then filling with `GridBagConstraints.BOTH` and a `weightx`/`weighty` of `1`\r\n\r\n## You Could ##\r\n\r\nUse the frame&#39;s &quot;glass pane&quot; as the top layer.  Which will allow you to place controls over the top the frame&#39;s &quot;content pane&quot;\r\n\r\nSee [How to use root panes](http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html) for more details.","title":"Expandable panel with layering","body":"<h2>You Could...</h2>\n<p>Try using a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/OverlayLayout.html\" rel=\"nofollow noreferrer\"><code>OverlayLayout</code></a>, but I'm not sure it will meet your requirements.</p>\n<h2>You Could</h2>\n<p>Set use a <code>GridBagLayout</code> on the <code>JLayeredPane</code>, placing each component at the same <code>gridx</code>/<code>gridy</code> and then filling with <code>GridBagConstraints.BOTH</code> and a <code>weightx</code>/<code>weighty</code> of <code>1</code></p>\n<h2>You Could</h2>\n<p>Use the frame's &quot;glass pane&quot; as the top layer.  Which will allow you to place controls over the top the frame's &quot;content pane&quot;</p>\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">How to use root panes</a> for more details.</p>\n"}],"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21369858,"answer_count":1,"score":1,"last_activity_date":1675565537,"creation_date":1390772710,"question_id":21369670,"body_markdown":"I&#39;ve trying to get two `JPanel`s to layer on top of one another, but at the same time, expand to fit the size of their parent. For example, if the `JFrame` that contains the two layered `JPanel`s is expanded, the layered `JPanel`s also expand to fill the entire `JFrame`, and vice-versa when the `JFrame` is collapsed.\r\n\r\nThe idea is to create a top layer that contains buttons and other Swing components that control a bottom layer, but the bottom layer can still be seen through the top layer (by setting the top layer&#39;s properties to `setOpaque(false)`). At the same time, both the top and the bottom layers should fill the available size of their container (the `JPanel` or `JFrame` that contains the layers).\r\n\r\nI have already tried working with `JLayeredPane`, but the size of the pane must be known in advanced (as far I have been able to get it working so far). These size constraints will change as the size of the containing `JPanel` or `JFrame` change.\r\n\r\nThank you in advanced for your help.","title":"Expandable panel with layering","body":"<p>I've trying to get two <code>JPanel</code>s to layer on top of one another, but at the same time, expand to fit the size of their parent. For example, if the <code>JFrame</code> that contains the two layered <code>JPanel</code>s is expanded, the layered <code>JPanel</code>s also expand to fill the entire <code>JFrame</code>, and vice-versa when the <code>JFrame</code> is collapsed.</p>\n\n<p>The idea is to create a top layer that contains buttons and other Swing components that control a bottom layer, but the bottom layer can still be seen through the top layer (by setting the top layer's properties to <code>setOpaque(false)</code>). At the same time, both the top and the bottom layers should fill the available size of their container (the <code>JPanel</code> or <code>JFrame</code> that contains the layers).</p>\n\n<p>I have already tried working with <code>JLayeredPane</code>, but the size of the pane must be known in advanced (as far I have been able to get it working so far). These size constraints will change as the size of the containing <code>JPanel</code> or <code>JFrame</code> change.</p>\n\n<p>Thank you in advanced for your help.</p>\n"},{"tags":["java","swing","oop","conventions"],"owner":{"account_id":27046071,"reputation":55,"user_id":20600249,"display_name":"3rdgrade-dropout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675563856,"answer_count":0,"score":0,"last_activity_date":1675563641,"creation_date":1675563641,"question_id":75349731,"body_markdown":"So I&#39;ve two pseudocodes:\r\n\r\n```java\r\nclass A \r\n{\r\n  JFrame sampleFrame = new JFrame();\r\n  JPanel samplePanel = new JPanel();\r\n  JButton sampleButton = new JButton(&quot;Click&quot;);\r\n  //...\r\n\r\n  A() \r\n  {\r\n    // Other things like setting up ActionListeners, \r\n    // frame title/geometry etc. + others\r\n  }\r\n}\r\n```\r\n```java\r\nclass B \r\n{\r\n  JFrame sampleFrame;\r\n  JPanel samplePanel;\r\n  JButton sampleButton;\r\n  //...\r\n\r\n  B() \r\n  {\r\n    sampleFrame = new JFrame();\r\n    samplePanel = new JPanel();\r\n    sampleButton = new JButton(&quot;Click&quot;);\r\n\r\n    // Other things like setting up ActionListeners, \r\n    // frame title/geometry etc. + others\r\n  }\r\n}\r\n```\r\n\r\nWhich one of these in the conventional/correct way of doing so?\r\n \r\nI find `B` redundant when I can just initialize these JComponents when they are declared as field variables, but I&#39;ve seen many code online mostly resembling `B`","title":"Should I initialize my JComponents when declared or initialize them inside the constructor?","body":"<p>So I've two pseudocodes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A \n{\n  JFrame sampleFrame = new JFrame();\n  JPanel samplePanel = new JPanel();\n  JButton sampleButton = new JButton(&quot;Click&quot;);\n  //...\n\n  A() \n  {\n    // Other things like setting up ActionListeners, \n    // frame title/geometry etc. + others\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class B \n{\n  JFrame sampleFrame;\n  JPanel samplePanel;\n  JButton sampleButton;\n  //...\n\n  B() \n  {\n    sampleFrame = new JFrame();\n    samplePanel = new JPanel();\n    sampleButton = new JButton(&quot;Click&quot;);\n\n    // Other things like setting up ActionListeners, \n    // frame title/geometry etc. + others\n  }\n}\n</code></pre>\n<p>Which one of these in the conventional/correct way of doing so?</p>\n<p>I find <code>B</code> redundant when I can just initialize these JComponents when they are declared as field variables, but I've seen many code online mostly resembling <code>B</code></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1675562018,"post_id":75349625,"comment_id":132955880,"body_markdown":"Demo here: https://ideone.com/tKlMDY","body":"Demo here: <a href=\"https://ideone.com/tKlMDY\" rel=\"nofollow noreferrer\">ideone.com/tKlMDY</a>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675561612,"creation_date":1675561612,"answer_id":75349625,"question_id":75349580,"body_markdown":"First, create a `Map` that maps each coin name to its position/priority. Then, use [`Comparator.comparing`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-) to sort based on that `Map`.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; position = listCoinStatus.stream().collect(\r\n                Collectors.toMap(CoinStatus::getCoinQueryId, CoinStatus::getPosition));\r\nlistQueryResult.sort(Comparator.comparing(r -&gt; position.get(r.getCoinQueryId())));\r\n```","title":"How do I sort two lists of different objects based on the int values in the objects of the second list?","body":"<p>First, create a <code>Map</code> that maps each coin name to its position/priority. Then, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Comparator.comparing</code></a> to sort based on that <code>Map</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; position = listCoinStatus.stream().collect(\n                Collectors.toMap(CoinStatus::getCoinQueryId, CoinStatus::getPosition));\nlistQueryResult.sort(Comparator.comparing(r -&gt; position.get(r.getCoinQueryId())));\n</code></pre>\n"}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75349625,"answer_count":1,"score":0,"last_activity_date":1675561612,"creation_date":1675560867,"question_id":75349580,"body_markdown":"I&#39;m making a network call that gives me a list of ```CoinPriceQueryResult``` objects:\r\n\r\n```\r\npublic class CoinPriceQueryResult {\r\n    private String coinQueryId;\r\n    private double price;\r\n}\r\n```\r\n\r\nHow can I sort this list into the order of my second list of objects:\r\n\r\n```\r\npublic class CoinStatus {\r\n    private String coinQueryId;\r\n    private int position;\r\n}\r\n```\r\n\r\nbased on the ```position```.\r\n\r\n```\r\nList&lt;CoinQueryResult&gt; listQueryResult = new ArrayList();\r\nlistQueryResult.add(&quot;penny&quot;, 1.15);\r\nlistQueryResult.add(&quot;nickel&quot;, 5.05);\r\nlistQueryResult.add(&quot;dime&quot;, 10.10);\r\n\r\nList&lt;CoinStatus&gt; listCoinStatus = new ArrayList();\r\nlistCoinStatus.add(&quot;nickel&quot;, 0);\r\nlistCoinStatus.add(&quot;penny&quot;, 1);\r\nlistCoinStatus.add(&quot;dime&quot;, 2);\r\n```\r\nI want ```listQueryResult``` to be sorted in the order of\r\n\r\nnickel, penny, dime \r\n\r\nHow do I get the sorted list using the  int value ```position```in the ```CoinStatus``` object?","title":"How do I sort two lists of different objects based on the int values in the objects of the second list?","body":"<p>I'm making a network call that gives me a list of <code>CoinPriceQueryResult</code> objects:</p>\n<pre><code>public class CoinPriceQueryResult {\n    private String coinQueryId;\n    private double price;\n}\n</code></pre>\n<p>How can I sort this list into the order of my second list of objects:</p>\n<pre><code>public class CoinStatus {\n    private String coinQueryId;\n    private int position;\n}\n</code></pre>\n<p>based on the <code>position</code>.</p>\n<pre><code>List&lt;CoinQueryResult&gt; listQueryResult = new ArrayList();\nlistQueryResult.add(&quot;penny&quot;, 1.15);\nlistQueryResult.add(&quot;nickel&quot;, 5.05);\nlistQueryResult.add(&quot;dime&quot;, 10.10);\n\nList&lt;CoinStatus&gt; listCoinStatus = new ArrayList();\nlistCoinStatus.add(&quot;nickel&quot;, 0);\nlistCoinStatus.add(&quot;penny&quot;, 1);\nlistCoinStatus.add(&quot;dime&quot;, 2);\n</code></pre>\n<p>I want <code>listQueryResult</code> to be sorted in the order of</p>\n<p>nickel, penny, dime</p>\n<p>How do I get the sorted list using the  int value <code>position</code>in the <code>CoinStatus</code> object?</p>\n"},{"tags":["java","android","listener"],"owner":{"account_id":27705241,"reputation":1,"user_id":21149041,"display_name":"CodingLamb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675558527,"creation_date":1675558373,"question_id":75349415,"body_markdown":"I&#39;m working in Android Studio using Java.  I&#39;m using [madrapps/pikolo (github)](https://github.com/Madrapps/Pikolo) and [fornewid/neumorphism (github)](https://github.com/fornewid/neumorphism).  I think this question can be answered without knowledge of these 2 dependencies since I&#39;ve had the same problem in Java with button listeners.  \r\n\r\nBackground info:\r\n\r\nHere&#39;s a picture of the UI element I&#39;m trying to manipulate (called btnNeuTest): \r\n[Neumorphic button... basically a button with a shadow color and highlight color](https://i.stack.imgur.com/iFDRY.png).\r\n \r\nsetShadowColorLight changes the white highlight (top left), and setShadowColorDark changes the grey shadow (bottom right)\r\n\r\nmadrapps/Pikolo is a color picker UI element.  I have a ColorSelectionListener that executes lines of code just like a button&#39;s onClick listener (below).  I need the code within onColorSelected() to occur simultaneously whenever onColorSelected() is called:\r\n\r\n```\r\ncolorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\r\n            @Override\r\n            public void onColorSelected(int color) {\r\n                // works like onClick()\r\n                // &#39;color&#39; is the currently selected color from the color picker\r\n\r\n                // sets the fill color of an ImageView (a circle)\r\n                // this line works\r\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n\r\n                // sets background color of the button\r\n                // this line also works\r\n                btnNeuTest.setBackgroundColor(color);\r\n\r\n\r\n                // sets the shadow and highlight colors of the button\r\n                // the 6 lines below don&#39;t seem to work\r\n                float[] hsl0 = new float[3];\r\n                ColorUtils.colorToHSL(color, hsl0);\r\n\r\n                float[] hsl1 = new float[]{hsl0[0], hsl0[1], hsl0[2]-15f}; // makes &#39;color&#39; darker\r\n                btnNeuTest.setShadowColorDark(HSLToColor(hsl1)); // sets shadow color of button\r\n\r\n                float[] hsl2 = new float[]{hsl0[0], hsl0[1], hsl0[2]+15f}; // makes &#39;color&#39; lighter\r\n                btnNeuTest.setShadowColorLight(HSLToColor(hsl2)); // sets highlight color of button\r\n            }\r\n        });\r\n```\r\n\r\n\r\nI have tried the following and it worked as intended (all colors were set simultaneously), although it&#39;s not exactly what I&#39;m trying to do:\r\n\r\n```\r\n colorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\r\n            @Override\r\n            public void onColorSelected(int color) {\r\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n                btnNeuTest.setShadowColorDark(color);\r\n                btnNeuTest.setBackgroundColor(color);  \r\n                btnNeuTest.setShadowColorLight(color);\r\n```\r\nThe issue is, I need to modify &#39;color&#39; before executing setShadowColorDark() or setShadowColorLight(), and it needs to be modified **each time** that onColorSelected() is called.\r\n\r\nI also tried executing most of the changes within a separate method, and it did the same thing as the first block of code in this question:\r\n\r\n```\r\n       colorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\r\n            @Override\r\n            public void onColorSelected(int color) {\r\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n\r\n                setBtnNeuColors(color);\r\n\r\n            }\r\n        });\r\n    \r\n// new method created in the same class as the listener\r\n\r\n    public void setBtnNeuColors(int color) {\r\n        btnNeuTest.setBackgroundColor(color);\r\n        float[] hsl0 = new float[3];\r\n        ColorUtils.colorToHSL(color, hsl0);\r\n        float[] hsl1 = new float[]{hsl0[0], hsl0[1], hsl0[2]-15f}; //darkens color\r\n        btnNeuTest.setShadowColorDark(HSLToColor(hsl1));\r\n        float[] hsl2 = new float[]{hsl0[0], hsl0[1], hsl0[2]+15f}; //lightens color\r\n        btnNeuTest.setShadowColorLight(HSLToColor(hsl2));\r\n    }\r\n```\r\n\r\nI also tried moving &#39;float[] hsl0 = new float[3];&#39; to the top of the class so it&#39;s only done once, but it didn&#39;t solve the issue.\r\n\r\nSo, I have only been able to change all of the colors I needed to change when I don&#39;t modify them first (the lines with the float[]).  How can I execute all of the lines in the original code block each time onColorSelected() is called?","title":"How do I change multiple UI items simultaneously from one button&#39;s listener (Java)? I need to modify an object in between changing UI","body":"<p>I'm working in Android Studio using Java.  I'm using <a href=\"https://github.com/Madrapps/Pikolo\" rel=\"nofollow noreferrer\">madrapps/pikolo (github)</a> and <a href=\"https://github.com/fornewid/neumorphism\" rel=\"nofollow noreferrer\">fornewid/neumorphism (github)</a>.  I think this question can be answered without knowledge of these 2 dependencies since I've had the same problem in Java with button listeners.</p>\n<p>Background info:</p>\n<p>Here's a picture of the UI element I'm trying to manipulate (called btnNeuTest):\n<a href=\"https://i.stack.imgur.com/iFDRY.png\" rel=\"nofollow noreferrer\">Neumorphic button... basically a button with a shadow color and highlight color</a>.</p>\n<p>setShadowColorLight changes the white highlight (top left), and setShadowColorDark changes the grey shadow (bottom right)</p>\n<p>madrapps/Pikolo is a color picker UI element.  I have a ColorSelectionListener that executes lines of code just like a button's onClick listener (below).  I need the code within onColorSelected() to occur simultaneously whenever onColorSelected() is called:</p>\n<pre><code>colorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\n            @Override\n            public void onColorSelected(int color) {\n                // works like onClick()\n                // 'color' is the currently selected color from the color picker\n\n                // sets the fill color of an ImageView (a circle)\n                // this line works\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n\n                // sets background color of the button\n                // this line also works\n                btnNeuTest.setBackgroundColor(color);\n\n\n                // sets the shadow and highlight colors of the button\n                // the 6 lines below don't seem to work\n                float[] hsl0 = new float[3];\n                ColorUtils.colorToHSL(color, hsl0);\n\n                float[] hsl1 = new float[]{hsl0[0], hsl0[1], hsl0[2]-15f}; // makes 'color' darker\n                btnNeuTest.setShadowColorDark(HSLToColor(hsl1)); // sets shadow color of button\n\n                float[] hsl2 = new float[]{hsl0[0], hsl0[1], hsl0[2]+15f}; // makes 'color' lighter\n                btnNeuTest.setShadowColorLight(HSLToColor(hsl2)); // sets highlight color of button\n            }\n        });\n</code></pre>\n<p>I have tried the following and it worked as intended (all colors were set simultaneously), although it's not exactly what I'm trying to do:</p>\n<pre><code> colorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\n            @Override\n            public void onColorSelected(int color) {\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n                btnNeuTest.setShadowColorDark(color);\n                btnNeuTest.setBackgroundColor(color);  \n                btnNeuTest.setShadowColorLight(color);\n</code></pre>\n<p>The issue is, I need to modify 'color' before executing setShadowColorDark() or setShadowColorLight(), and it needs to be modified <strong>each time</strong> that onColorSelected() is called.</p>\n<p>I also tried executing most of the changes within a separate method, and it did the same thing as the first block of code in this question:</p>\n<pre><code>       colorPicker.setColorSelectionListener(new SimpleColorSelectionListener() {\n            @Override\n            public void onColorSelected(int color) {\n                currentColor.getBackground().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n\n                setBtnNeuColors(color);\n\n            }\n        });\n    \n// new method created in the same class as the listener\n\n    public void setBtnNeuColors(int color) {\n        btnNeuTest.setBackgroundColor(color);\n        float[] hsl0 = new float[3];\n        ColorUtils.colorToHSL(color, hsl0);\n        float[] hsl1 = new float[]{hsl0[0], hsl0[1], hsl0[2]-15f}; //darkens color\n        btnNeuTest.setShadowColorDark(HSLToColor(hsl1));\n        float[] hsl2 = new float[]{hsl0[0], hsl0[1], hsl0[2]+15f}; //lightens color\n        btnNeuTest.setShadowColorLight(HSLToColor(hsl2));\n    }\n</code></pre>\n<p>I also tried moving 'float[] hsl0 = new float[3];' to the top of the class so it's only done once, but it didn't solve the issue.</p>\n<p>So, I have only been able to change all of the colors I needed to change when I don't modify them first (the lines with the float[]).  How can I execute all of the lines in the original code block each time onColorSelected() is called?</p>\n"},{"tags":["java","jvm","garbage-collection","heap-memory","g1gc"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1675614969,"post_id":75349327,"comment_id":132962965,"body_markdown":"Did you specify a max heap size? Are both apps receiving the same workload? Is the GC activity causing any issues?","body":"Did you specify a max heap size? Are both apps receiving the same workload? Is the GC activity causing any issues?"}],"owner":{"account_id":6399802,"reputation":11,"user_id":4962936,"display_name":"netmon80"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675557080,"creation_date":1675556882,"question_id":75349327,"body_markdown":"We have a microservices environment with two servers and 50 java(11) apps managed by tomcat. Each app have small heap (no more than 2 GB) and starts with 500 MB (-Xms).\r\n\r\nSometimes, after reboot the server, we observe that G1 GC behaviour change, and (after 30 hours) goes from 5000 GC starts to 400 GC starts with exactly the same numer of requests, so heap is a bit larger and no memory is returned to OS. This is a problem with OS memory when this behaviour take place with 50 apps.\r\n\r\nForo example this is a VM.info for Server_A and App_A:\r\n\r\n`Event: 118110.566 GC heap after\r\n{Heap after GC invocations=4884 (full 0):\r\n garbage-first heap   total 294912K, used 113497K [0x00000000c0000000, 0x0000000100000000)\r\n  region size 1024K, 1 young (1024K), 1 survivors (1024K)\r\n Metaspace       used 184030K, capacity 188339K, committed 189344K, reserved 1216512K\r\n  class space    used 21086K, capacity 22563K, committed 22860K, reserved 1048576K\r\n}`\r\n\r\nAnd the same statistics for Server_B and App_A. \r\n\r\n`Event: 111212.036 GC heap after\r\n{Heap after GC invocations=344 (full 0):\r\n garbage-first heap   total 891904K, used 175855K [0x00000000c0000000, 0x0000000100000000)\r\n  region size 1024K, 12 young (12288K), 12 survivors (12288K)\r\n Metaspace       used 186664K, capacity 192522K, committed 192776K, reserved 1218560K\r\n  class space    used 21741K, capacity 23879K, committed 23936K, reserved 1048576K\r\n}`\r\n\r\nIn Server_A the heap it&#39;s 294912K with 4884 GC invocations\r\n\r\nIn Server_B the heap it&#39;s 891904K with 344 GC invocations.\r\n\r\nSame behaviour for the rest of java apps in Server_B\r\n\r\n\r\nServer_A and Server_B are clones. Sometimes reboot Server_B solves the problem and G1 GC take place at regular intervals. Sometimes reboot Server_A and problems with &quot;GC starts&quot; take place again.\r\n\r\nHow is possible this behaviour?\r\n\r\nAny suggestion?\r\n\r\nThanks a lot.\r\n\r\nWe expect the same GC behaviour each time we reboot the server.","title":"Different behaviour in G1 GC with the same app in two different servers","body":"<p>We have a microservices environment with two servers and 50 java(11) apps managed by tomcat. Each app have small heap (no more than 2 GB) and starts with 500 MB (-Xms).</p>\n<p>Sometimes, after reboot the server, we observe that G1 GC behaviour change, and (after 30 hours) goes from 5000 GC starts to 400 GC starts with exactly the same numer of requests, so heap is a bit larger and no memory is returned to OS. This is a problem with OS memory when this behaviour take place with 50 apps.</p>\n<p>Foro example this is a VM.info for Server_A and App_A:</p>\n<p><code>Event: 118110.566 GC heap after {Heap after GC invocations=4884 (full 0): garbage-first heap   total 294912K, used 113497K [0x00000000c0000000, 0x0000000100000000) region size 1024K, 1 young (1024K), 1 survivors (1024K) Metaspace       used 184030K, capacity 188339K, committed 189344K, reserved 1216512K class space    used 21086K, capacity 22563K, committed 22860K, reserved 1048576K }</code></p>\n<p>And the same statistics for Server_B and App_A.</p>\n<p><code>Event: 111212.036 GC heap after {Heap after GC invocations=344 (full 0): garbage-first heap   total 891904K, used 175855K [0x00000000c0000000, 0x0000000100000000) region size 1024K, 12 young (12288K), 12 survivors (12288K) Metaspace       used 186664K, capacity 192522K, committed 192776K, reserved 1218560K class space    used 21741K, capacity 23879K, committed 23936K, reserved 1048576K }</code></p>\n<p>In Server_A the heap it's 294912K with 4884 GC invocations</p>\n<p>In Server_B the heap it's 891904K with 344 GC invocations.</p>\n<p>Same behaviour for the rest of java apps in Server_B</p>\n<p>Server_A and Server_B are clones. Sometimes reboot Server_B solves the problem and G1 GC take place at regular intervals. Sometimes reboot Server_A and problems with &quot;GC starts&quot; take place again.</p>\n<p>How is possible this behaviour?</p>\n<p>Any suggestion?</p>\n<p>Thanks a lot.</p>\n<p>We expect the same GC behaviour each time we reboot the server.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":2744963,"reputation":1366,"user_id":2365580,"accept_rate":67,"display_name":"Holi Boom"},"score":2,"creation_date":1462788424,"post_id":37112967,"comment_id":61767235,"body_markdown":"Try to clean up your project.","body":"Try to clean up your project."},{"owner":{"account_id":3798216,"reputation":11151,"user_id":3152529,"accept_rate":20,"display_name":"Jay Rathod"},"score":1,"creation_date":1462788447,"post_id":37112967,"comment_id":61767252,"body_markdown":"Clean or Rebuild will do.","body":"Clean or Rebuild will do."},{"owner":{"account_id":3090966,"reputation":4300,"user_id":2617062,"accept_rate":38,"display_name":"Abhishek Patel"},"score":1,"creation_date":1462788534,"post_id":37112967,"comment_id":61767317,"body_markdown":"change `android:layout_below=&quot;@id/myLabel&quot;`  to `android:layout_below=&quot;@+id/myLabel&quot;` and same to all other ,it may help","body":"change <code>android:layout_below=&quot;@id&#47;myLabel&quot;</code>  to <code>android:layout_below=&quot;@+id&#47;myLabel&quot;</code> and same to all other ,it may help"},{"owner":{"account_id":1129684,"reputation":442,"user_id":1116062,"display_name":"Shailesh"},"score":0,"creation_date":1462788536,"post_id":37112967,"comment_id":61767319,"body_markdown":"Use @+id instead of @id. e.g.android:layout_alignTop=&quot;@+id/accept&quot;. Please vote if acceptable.","body":"Use @+id instead of @id. e.g.android:layout_alignTop=&quot;@+id/accept&quot;. Please vote if acceptable."},{"owner":{"account_id":4946433,"reputation":4310,"user_id":3981656,"accept_rate":79,"display_name":"Sathish Kumar J"},"score":0,"creation_date":1462788559,"post_id":37112967,"comment_id":61767339,"body_markdown":"your code works correctly in my IDE. try to restart IDE","body":"your code works correctly in my IDE. try to restart IDE"},{"owner":{"account_id":4307291,"reputation":131,"user_id":3519356,"display_name":"user3519356"},"score":0,"creation_date":1462788611,"post_id":37112967,"comment_id":61767377,"body_markdown":"Not its not working in android studio.","body":"Not its not working in android studio."},{"owner":{"account_id":3798216,"reputation":11151,"user_id":3152529,"accept_rate":20,"display_name":"Jay Rathod"},"score":0,"creation_date":1462788622,"post_id":37112967,"comment_id":61767386,"body_markdown":"@Shailesh This not needful also running code without `@+id`.","body":"@Shailesh This not needful also running code without <code>@+id</code>."},{"owner":{"account_id":3798216,"reputation":11151,"user_id":3152529,"accept_rate":20,"display_name":"Jay Rathod"},"score":0,"creation_date":1462788692,"post_id":37112967,"comment_id":61767437,"body_markdown":"@user3519356 Go to `File -&gt; Invalidate caches or Restart` click on that and restart studio.","body":"@user3519356 Go to <code>File -&gt; Invalidate caches or Restart</code> click on that and restart studio."},{"owner":{"account_id":4307291,"reputation":131,"user_id":3519356,"display_name":"user3519356"},"score":3,"creation_date":1462788699,"post_id":37112967,"comment_id":61767440,"body_markdown":"Hi all, @+id is for declaring and @id for using declared elements.","body":"Hi all, @+id is for declaring and @id for using declared elements."},{"owner":{"account_id":8091186,"reputation":1841,"user_id":6097062,"display_name":"Saurabh Vardani"},"score":0,"creation_date":1462788878,"post_id":37112967,"comment_id":61767565,"body_markdown":"Everything is fine in your code..just try as jaydroider said....","body":"Everything is fine in your code..just try as jaydroider said...."},{"owner":{"account_id":5925609,"reputation":836,"user_id":4661554,"display_name":"Chaudhary Amar"},"score":0,"creation_date":1462788987,"post_id":37112967,"comment_id":61767633,"body_markdown":"Codes seems f9 if still getting error use LinearLayout.","body":"Codes seems f9 if still getting error use LinearLayout."}],"answers":[{"comments":[{"owner":{"account_id":3798216,"reputation":11151,"user_id":3152529,"accept_rate":20,"display_name":"Jay Rathod"},"score":0,"creation_date":1462793836,"post_id":37114684,"comment_id":61770682,"body_markdown":"Try to expand your answer briefly.","body":"Try to expand your answer briefly."},{"owner":{"account_id":5041926,"reputation":884,"user_id":5488468,"display_name":"Bipin Bharti"},"score":0,"creation_date":1462794009,"post_id":37114684,"comment_id":61770795,"body_markdown":"ohk u are declaring @+id/accept and u can try to accessing              &lt;Button\n        android:id=&quot;@+id/cancel&quot;\n       \n       &lt;!--heare try to @id/accept replace   @+id/accept--!&gt;\n        android:layout_toLeftOf=&quot;@id/accept&quot;\n        android:layout_alignTop=&quot;@id/accept&quot;\n    /&gt;","body":"ohk u are declaring @+id/accept and u can try to accessing              &lt;Button         android:id=&quot;@+id/cancel&quot;                &lt;!--heare try to @id/accept replace   @+id/accept--!&gt;         android:layout_toLeftOf=&quot;@id/accept&quot;         android:layout_alignTop=&quot;@id/accept&quot;     /&gt;"}],"tags":[],"owner":{"account_id":5041926,"reputation":884,"user_id":5488468,"display_name":"Bipin Bharti"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1462793816,"creation_date":1462793450,"answer_id":37114684,"question_id":37112967,"body_markdown":"It&#39;s because you declaring id like this `@+id/accept` and using another place like this `@id/accept`.","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p>It's because you declaring id like this <code>@+id/accept</code> and using another place like this <code>@id/accept</code>.</p>\n"},{"tags":[],"owner":{"account_id":18896415,"reputation":181,"user_id":13785481,"display_name":"Vamsee."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597738806,"creation_date":1597738806,"answer_id":63464568,"question_id":37112967,"body_markdown":"try to reload all from disk [Ctrl + Alt + Y]","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p>try to reload all from disk [Ctrl + Alt + Y]</p>\n"},{"tags":[],"owner":{"account_id":15435118,"reputation":439,"user_id":11135438,"display_name":"syed dastagir"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1617270152,"creation_date":1617270152,"answer_id":66902159,"question_id":37112967,"body_markdown":"`Rebuild project` has worked for me.","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p><code>Rebuild project</code> has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23814228,"reputation":69,"user_id":17822692,"display_name":"Ayush Vatsal"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1641214507,"creation_date":1641214507,"answer_id":70566087,"question_id":37112967,"body_markdown":"Try invalidate caches and restart , worked for me :) ","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p>Try invalidate caches and restart , worked for me :)</p>\n"},{"tags":[],"owner":{"account_id":26944527,"reputation":1,"user_id":20514726,"display_name":"Serge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675556568,"creation_date":1675556568,"answer_id":75349310,"question_id":37112967,"body_markdown":"Check if you are using valid caracters...\r\nIf everything seems correct... Just close all project, restart Android Studio and it should work (I sometimes have this when loading too much AS).\r\n","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p>Check if you are using valid caracters...\nIf everything seems correct... Just close all project, restart Android Studio and it should work (I sometimes have this when loading too much AS).</p>\n"}],"owner":{"account_id":4307291,"reputation":131,"user_id":3519356,"display_name":"user3519356"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19156,"favorite_count":0,"down_vote_count":4,"up_vote_count":13,"answer_count":5,"score":9,"last_activity_date":1675556568,"creation_date":1462788354,"question_id":37112967,"body_markdown":"I am getting an error saying &quot;`Cannot resolve symbol &#39;@id/myLabel`&#39;&quot;.\r\nsame error is for following elements:\r\n\r\n    &quot;Cannot resolve symbol &#39;@id/numberStudents&#39;&quot;\r\n    &quot;Cannot resolve symbol &#39;@id/accept&#39;&quot;\r\n\r\nPlease help me to resolve this issue.\r\nSample of my xml is being pasted below.\r\n\r\nThanks,\r\nAbhilash Kadala.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n\t    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;&gt;\r\n\t    &lt;TextView  \r\n\t\t    android:id=&quot;@+id/myLabel&quot;\r\n\t\t    android:text=&quot;Name of student:&quot;\r\n\t\t    android:layout_width=&quot;fill_parent&quot;\r\n\t\t    android:layout_height=&quot;wrap_content&quot;\r\n\t    /&gt;\r\n\t    &lt;EditText\r\n\t\t    android:id=&quot;@+id/numberStudents&quot;\r\n\t\t    android:layout_width=&quot;fill_parent&quot;\r\n\t\t    android:layout_height=&quot;wrap_content&quot;\r\n\t\t    android:layout_below=&quot;@id/myLabel&quot;\r\n\t    /&gt;\r\n\t    &lt;Button\r\n\t\t    android:id=&quot;@+id/accept&quot;\r\n\t\t    android:text=&quot;Accept&quot;\r\n\t\t    android:layout_width=&quot;wrap_content&quot;\r\n\t\t    android:layout_height=&quot;wrap_content&quot;\r\n\t        android:layout_below=&quot;@id/numberStudents&quot;\r\n\t\t    android:layout_alignParentRight=&quot;true&quot;\r\n\t\t    android:layout_marginLeft=&quot;10px&quot;\r\n\t    /&gt;\r\n\t    &lt;Button\r\n\t\t    android:id=&quot;@+id/cancel&quot;\r\n\t\t    android:text=&quot;Cancel&quot;\r\n\t\t    android:layout_width=&quot;wrap_content&quot;\r\n\t\t    android:layout_height=&quot;wrap_content&quot;\r\n\t\t    android:layout_toLeftOf=&quot;@id/accept&quot;\r\n\t\t    android:layout_alignTop=&quot;@id/accept&quot;\r\n\t    /&gt;\r\n\t\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n","title":"Android &quot;Cannot resolve symbol &#39;@id/myLabel&quot;","body":"<p>I am getting an error saying \"<code>Cannot resolve symbol '@id/myLabel</code>'\".\nsame error is for following elements:</p>\n\n<pre><code>\"Cannot resolve symbol '@id/numberStudents'\"\n\"Cannot resolve symbol '@id/accept'\"\n</code></pre>\n\n<p>Please help me to resolve this issue.\nSample of my xml is being pasted below.</p>\n\n<p>Thanks,\nAbhilash Kadala.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n    &lt;TextView  \n        android:id=\"@+id/myLabel\"\n        android:text=\"Name of student:\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n    /&gt;\n    &lt;EditText\n        android:id=\"@+id/numberStudents\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/myLabel\"\n    /&gt;\n    &lt;Button\n        android:id=\"@+id/accept\"\n        android:text=\"Accept\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/numberStudents\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_marginLeft=\"10px\"\n    /&gt;\n    &lt;Button\n        android:id=\"@+id/cancel\"\n        android:text=\"Cancel\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_toLeftOf=\"@id/accept\"\n        android:layout_alignTop=\"@id/accept\"\n    /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-developer-api"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674918504,"post_id":75268542,"comment_id":132818446,"body_markdown":"In your layout resource, `R.id.EMIView` points to a `TextView`, not an `EditText`.","body":"In your layout resource, <code>R.id.EMIView</code> points to a <code>TextView</code>, not an <code>EditText</code>."},{"owner":{"account_id":27627447,"reputation":13,"user_id":21087151,"display_name":"Dev_chaitanya"},"score":0,"creation_date":1674919312,"post_id":75268542,"comment_id":132818590,"body_markdown":"thanks for the suggestion, I&#39;ve tried it...Actually, it&#39;s a text view, and I want to show the EMI amount on the screen. can you please suggest another option ??","body":"thanks for the suggestion, I&#39;ve tried it...Actually, it&#39;s a text view, and I want to show the EMI amount on the screen. can you please suggest another option ??"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674919529,"post_id":75268542,"comment_id":132818635,"body_markdown":"&quot;Actually, it&#39;s a text view, and I want to show the EMI amount on the screen&quot; -- then change your declaration of `amountEt` to be a `TextView`, not an `EditText`. Or, [switch to view binding](https://developer.android.com/topic/libraries/view-binding) and remove the `findViewById()` calls.","body":"&quot;Actually, it&#39;s a text view, and I want to show the EMI amount on the screen&quot; -- then change your declaration of <code>amountEt</code> to be a <code>TextView</code>, not an <code>EditText</code>. Or, <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">switch to view binding</a> and remove the <code>findViewById()</code> calls."}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675555983,"creation_date":1675555983,"answer_id":75349267,"question_id":75268542,"body_markdown":"If you haven&#39;t found the solution yet. Look for how you are declaring the view `amountEt` it seems you are doing it like `val amountEt: EditText` when it is a `TextView` in xml. You cant cast a TextView to an EditText.\r\nThat is what `Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText **at com.example.sw001.EMIPayment.initializeViews()`  says. Either change it to `EditText` tag in xml if you want to use Text input field. Or do it with `lateinit var amountEt: TextView` in your code if its a TextView you want.","title":"How we can access the result variables inside OnclickListener into another function?","body":"<p>If you haven't found the solution yet. Look for how you are declaring the view <code>amountEt</code> it seems you are doing it like <code>val amountEt: EditText</code> when it is a <code>TextView</code> in xml. You cant cast a TextView to an EditText.\nThat is what <code>Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText **at com.example.sw001.EMIPayment.initializeViews()</code>  says. Either change it to <code>EditText</code> tag in xml if you want to use Text input field. Or do it with <code>lateinit var amountEt: TextView</code> in your code if its a TextView you want.</p>\n"}],"owner":{"account_id":27627447,"reputation":13,"user_id":21087151,"display_name":"Dev_chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675555983,"creation_date":1674917970,"question_id":75268542,"body_markdown":"**I have same variables which got after onClickLisener Activity and not i want to access that variable in another function.**\r\n\r\n`\r\nclass EMIPayment : AppCompatActivity() {\r\n    lateinit var amountEt: EditText\r\n    var noteEt: String = &quot;EMI&quot;\r\n    var nameEt: String = &quot;Swayambhu&quot;\r\n    var upiIdEt: String = &quot;XXXXXXXXX@ibl&quot;\r\n    lateinit var send: Button\r\n\r\n    internal val UPI_PAYMENT = 0\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_emipayment)\r\n\r\n        title = &quot;EMI Payment&quot;\r\n        supportActionBar?.setBackgroundDrawable(\r\n            ColorDrawable(Color.parseColor(&quot;#3F51B5&quot;))\r\n        )\r\n        try {\r\n            val calculateEMI = findViewById&lt;Button&gt;(R.id.calculateEMI)\r\n            //val result2= Math.round(result*10.0)/10.0\r\n            //val result2= Math.round(result*10.0)/10.0\r\n            calculateEMI.setOnClickListener {\r\n                val emiView = findViewById&lt;TextView&gt;(R.id.EMIView)\r\n                val pe = findViewById&lt;EditText&gt;(R.id.loanAmount)\r\n                val pe2 = pe.text.toString()+&quot;000&quot;\r\n                val pe3 = pe2.toDouble()\r\n                val ne = findViewById&lt;EditText&gt;(R.id.tenure)\r\n                val p = pe3\r\n                val n = ne.text.toString().toDouble()\r\n                val r = 0.01717\r\n                val result = (p * r * (1 + r).pow(n)) / ((1 + r).pow(n) - 1)\r\n                val result2 = String.format(&quot;%.2f&quot;,result).toDouble() **Want to access this value**\r\n                val fin = result2 * 1\r\n               emiView.text = fin.toString()\r\n            }\r\n\r\n        } catch (e: NumberFormatException) {\r\n            Toast.makeText(applicationContext, &quot;An Error occurred&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n\r\n        initializeViews()\r\n        \r\n        send.setOnClickListener {\r\n            //Getting the values from the EditTexts\r\n            val amount = amountEt.text.toString()\r\n            val note = noteEt\r\n            val name = nameEt\r\n            val upiId = upiIdEt\r\n            payUsingUpi(amount, upiId, name, note)\r\n        }\r\n    }\r\n    internal fun initializeViews() {\r\n\r\n        send = findViewById(R.id.payEMI)\r\n        amountEt = findViewById(R.id.EMIView) **At Here**\r\n        //noteEt = findViewById(R.id.note)\r\n        //nameEt = findViewById(R.id.name)\r\n        //upiIdEt = findViewById(R.id.upi_id)\r\n    }\r\n\r\n    fun payUsingUpi(amount: String, upiId: String, name: String, note: String) {\r\n\r\n        val uri = Uri.parse(&quot;upi://pay&quot;).buildUpon()\r\n            .appendQueryParameter(&quot;pa&quot;, upiId)\r\n            .appendQueryParameter(&quot;pn&quot;, name)\r\n            .appendQueryParameter(&quot;tn&quot;, note)\r\n            .appendQueryParameter(&quot;am&quot;, amount)\r\n            .appendQueryParameter(&quot;cu&quot;, &quot;INR&quot;)\r\n            .build()\r\n\r\n\r\n        val upiPayIntent = Intent(Intent.ACTION_VIEW)\r\n        upiPayIntent.data = uri\r\n\r\n        // will always show a dialog to user to choose an app\r\n        val chooser = Intent.createChooser(upiPayIntent, &quot;Pay with&quot;)\r\n\r\n        // check if intent resolves\r\n        if (null != chooser.resolveActivity(packageManager)) {\r\n            startActivityForResult(chooser, UPI_PAYMENT)\r\n        } else {\r\n            Toast.makeText(this@EMIPayment, &quot;No UPI app found, please install one to continue&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n\r\n    }\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n\r\n        when (requestCode) {\r\n            UPI_PAYMENT -&gt; if (Activity.RESULT_OK == resultCode || resultCode == 11) {\r\n                if (data != null) {\r\n                    val trxt = data.getStringExtra(&quot;response&quot;)\r\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: $trxt&quot;)\r\n                    val dataList = ArrayList&lt;String&gt;()\r\n                    dataList.add(trxt.toString())\r\n                    upiPaymentDataOperation(dataList)\r\n                } else {\r\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;)\r\n                    val dataList = ArrayList&lt;String&gt;()\r\n                    dataList.add(&quot;nothing&quot;)\r\n                    upiPaymentDataOperation(dataList)\r\n                }\r\n            } else {\r\n                Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;) //when user simply back without payment\r\n                val dataList = ArrayList&lt;String&gt;()\r\n                dataList.add(&quot;nothing&quot;)\r\n                upiPaymentDataOperation(dataList)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun upiPaymentDataOperation(data: ArrayList&lt;String&gt;) {\r\n        if (isConnectionAvailable(this@EMIPayment)) {\r\n            var str: String? = data[0]\r\n            Log.d(&quot;UPIPAY&quot;, &quot;upiPaymentDataOperation: &quot; + str!!)\r\n            var paymentCancel = &quot;&quot;\r\n            if (str == null) str = &quot;discard&quot;\r\n            var status = &quot;&quot;\r\n            var approvalRefNo = &quot;&quot;\r\n            val response = str.split(&quot;&amp;&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\r\n            for (i in response.indices) {\r\n                val equalStr = response[i].split(&quot;=&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\r\n                if (equalStr.size &gt;= 2) {\r\n                    if (equalStr[0].toLowerCase() == &quot;Status&quot;.toLowerCase()) {\r\n                        status = equalStr[1].toLowerCase()\r\n                    } else if (equalStr[0].toLowerCase() == &quot;ApprovalRefNo&quot;.toLowerCase() || equalStr[0].toLowerCase() == &quot;txnRef&quot;.toLowerCase()) {\r\n                        approvalRefNo = equalStr[1]\r\n                    }\r\n                } else {\r\n                    paymentCancel = &quot;Payment cancelled by user.&quot;\r\n                }\r\n            }\r\n\r\n            if (status == &quot;success&quot;) {\r\n                //Code to handle successful transaction here.\r\n                Toast.makeText(this@EMIPayment, &quot;Transaction successful.&quot;, Toast.LENGTH_SHORT).show()\r\n                Log.d(&quot;UPI&quot;, &quot;responseStr: $approvalRefNo&quot;)\r\n            } else if (&quot;Payment cancelled by user.&quot; == paymentCancel) {\r\n                Toast.makeText(this@EMIPayment, &quot;Payment cancelled by user.&quot;, Toast.LENGTH_SHORT).show()\r\n            } else {\r\n                Toast.makeText(this@EMIPayment, &quot;Transaction failed.Please try again&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        } else {\r\n            Toast.makeText(this@EMIPayment, &quot;Internet connection is not available. Please check and try again&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n    companion object {\r\n\r\n        fun isConnectionAvailable(context: Context): Boolean {\r\n            val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            if (connectivityManager != null) {\r\n                val netInfo = connectivityManager.activeNetworkInfo\r\n                if (netInfo != null &amp;&amp; netInfo.isConnected\r\n                    &amp;&amp; netInfo.isConnectedOrConnecting\r\n                    &amp;&amp; netInfo.isAvailable) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    }\r\n\r\n\r\n}`\r\n\r\n**I have got the Eception**\r\n`E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.sw001, PID: 18881\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sw001/com.example.sw001.EMIPayment}: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3687)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3844)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:110)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2262)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7941)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1009)\r\n     Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText\r\n        **at com.example.sw001.EMIPayment.initializeViews$app_debug(EMIPayment.kt:75)**\r\n        **at com.example.sw001.EMIPayment.onCreate(EMIPayment.kt:61)**\r\n        at android.app.Activity.performCreate(Activity.java:8059)\r\n        at android.app.Activity.performCreate(Activity.java:8039)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1335)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3660)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3844)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:110)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2262)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7941)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1009)&#160;`","title":"How we can access the result variables inside OnclickListener into another function?","body":"<p><strong>I have same variables which got after onClickLisener Activity and not i want to access that variable in another function.</strong></p>\n<p>`\nclass EMIPayment : AppCompatActivity() {\nlateinit var amountEt: EditText\nvar noteEt: String = &quot;EMI&quot;\nvar nameEt: String = &quot;Swayambhu&quot;\nvar upiIdEt: String = &quot;XXXXXXXXX@ibl&quot;\nlateinit var send: Button</p>\n<pre><code>internal val UPI_PAYMENT = 0\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_emipayment)\n\n    title = &quot;EMI Payment&quot;\n    supportActionBar?.setBackgroundDrawable(\n        ColorDrawable(Color.parseColor(&quot;#3F51B5&quot;))\n    )\n    try {\n        val calculateEMI = findViewById&lt;Button&gt;(R.id.calculateEMI)\n        //val result2= Math.round(result*10.0)/10.0\n        //val result2= Math.round(result*10.0)/10.0\n        calculateEMI.setOnClickListener {\n            val emiView = findViewById&lt;TextView&gt;(R.id.EMIView)\n            val pe = findViewById&lt;EditText&gt;(R.id.loanAmount)\n            val pe2 = pe.text.toString()+&quot;000&quot;\n            val pe3 = pe2.toDouble()\n            val ne = findViewById&lt;EditText&gt;(R.id.tenure)\n            val p = pe3\n            val n = ne.text.toString().toDouble()\n            val r = 0.01717\n            val result = (p * r * (1 + r).pow(n)) / ((1 + r).pow(n) - 1)\n            val result2 = String.format(&quot;%.2f&quot;,result).toDouble() **Want to access this value**\n            val fin = result2 * 1\n           emiView.text = fin.toString()\n        }\n\n    } catch (e: NumberFormatException) {\n        Toast.makeText(applicationContext, &quot;An Error occurred&quot;, Toast.LENGTH_SHORT).show()\n    }\n\n    initializeViews()\n    \n    send.setOnClickListener {\n        //Getting the values from the EditTexts\n        val amount = amountEt.text.toString()\n        val note = noteEt\n        val name = nameEt\n        val upiId = upiIdEt\n        payUsingUpi(amount, upiId, name, note)\n    }\n}\ninternal fun initializeViews() {\n\n    send = findViewById(R.id.payEMI)\n    amountEt = findViewById(R.id.EMIView) **At Here**\n    //noteEt = findViewById(R.id.note)\n    //nameEt = findViewById(R.id.name)\n    //upiIdEt = findViewById(R.id.upi_id)\n}\n\nfun payUsingUpi(amount: String, upiId: String, name: String, note: String) {\n\n    val uri = Uri.parse(&quot;upi://pay&quot;).buildUpon()\n        .appendQueryParameter(&quot;pa&quot;, upiId)\n        .appendQueryParameter(&quot;pn&quot;, name)\n        .appendQueryParameter(&quot;tn&quot;, note)\n        .appendQueryParameter(&quot;am&quot;, amount)\n        .appendQueryParameter(&quot;cu&quot;, &quot;INR&quot;)\n        .build()\n\n\n    val upiPayIntent = Intent(Intent.ACTION_VIEW)\n    upiPayIntent.data = uri\n\n    // will always show a dialog to user to choose an app\n    val chooser = Intent.createChooser(upiPayIntent, &quot;Pay with&quot;)\n\n    // check if intent resolves\n    if (null != chooser.resolveActivity(packageManager)) {\n        startActivityForResult(chooser, UPI_PAYMENT)\n    } else {\n        Toast.makeText(this@EMIPayment, &quot;No UPI app found, please install one to continue&quot;, Toast.LENGTH_SHORT).show()\n    }\n\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    when (requestCode) {\n        UPI_PAYMENT -&gt; if (Activity.RESULT_OK == resultCode || resultCode == 11) {\n            if (data != null) {\n                val trxt = data.getStringExtra(&quot;response&quot;)\n                Log.d(&quot;UPI&quot;, &quot;onActivityResult: $trxt&quot;)\n                val dataList = ArrayList&lt;String&gt;()\n                dataList.add(trxt.toString())\n                upiPaymentDataOperation(dataList)\n            } else {\n                Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;)\n                val dataList = ArrayList&lt;String&gt;()\n                dataList.add(&quot;nothing&quot;)\n                upiPaymentDataOperation(dataList)\n            }\n        } else {\n            Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;) //when user simply back without payment\n            val dataList = ArrayList&lt;String&gt;()\n            dataList.add(&quot;nothing&quot;)\n            upiPaymentDataOperation(dataList)\n        }\n    }\n}\n\nprivate fun upiPaymentDataOperation(data: ArrayList&lt;String&gt;) {\n    if (isConnectionAvailable(this@EMIPayment)) {\n        var str: String? = data[0]\n        Log.d(&quot;UPIPAY&quot;, &quot;upiPaymentDataOperation: &quot; + str!!)\n        var paymentCancel = &quot;&quot;\n        if (str == null) str = &quot;discard&quot;\n        var status = &quot;&quot;\n        var approvalRefNo = &quot;&quot;\n        val response = str.split(&quot;&amp;&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n        for (i in response.indices) {\n            val equalStr = response[i].split(&quot;=&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n            if (equalStr.size &gt;= 2) {\n                if (equalStr[0].toLowerCase() == &quot;Status&quot;.toLowerCase()) {\n                    status = equalStr[1].toLowerCase()\n                } else if (equalStr[0].toLowerCase() == &quot;ApprovalRefNo&quot;.toLowerCase() || equalStr[0].toLowerCase() == &quot;txnRef&quot;.toLowerCase()) {\n                    approvalRefNo = equalStr[1]\n                }\n            } else {\n                paymentCancel = &quot;Payment cancelled by user.&quot;\n            }\n        }\n\n        if (status == &quot;success&quot;) {\n            //Code to handle successful transaction here.\n            Toast.makeText(this@EMIPayment, &quot;Transaction successful.&quot;, Toast.LENGTH_SHORT).show()\n            Log.d(&quot;UPI&quot;, &quot;responseStr: $approvalRefNo&quot;)\n        } else if (&quot;Payment cancelled by user.&quot; == paymentCancel) {\n            Toast.makeText(this@EMIPayment, &quot;Payment cancelled by user.&quot;, Toast.LENGTH_SHORT).show()\n        } else {\n            Toast.makeText(this@EMIPayment, &quot;Transaction failed.Please try again&quot;, Toast.LENGTH_SHORT).show()\n        }\n    } else {\n        Toast.makeText(this@EMIPayment, &quot;Internet connection is not available. Please check and try again&quot;, Toast.LENGTH_SHORT).show()\n    }\n}\n\ncompanion object {\n\n    fun isConnectionAvailable(context: Context): Boolean {\n        val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        if (connectivityManager != null) {\n            val netInfo = connectivityManager.activeNetworkInfo\n            if (netInfo != null &amp;&amp; netInfo.isConnected\n                &amp;&amp; netInfo.isConnectedOrConnecting\n                &amp;&amp; netInfo.isAvailable) {\n                return true\n            }\n        }\n        return false\n    }\n}\n</code></pre>\n<p>}`</p>\n<p><strong>I have got the Eception</strong>\n<code>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.sw001, PID: 18881 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sw001/com.example.sw001.EMIPayment}: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3687) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3844) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:110) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2262) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loopOnce(Looper.java:201) at android.os.Looper.loop(Looper.java:288) at android.app.ActivityThread.main(ActivityThread.java:7941) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1009) Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatTextView cannot be cast to android.widget.EditText **at com.example.sw001.EMIPayment.initializeViews$app_debug(EMIPayment.kt:75)** **at com.example.sw001.EMIPayment.onCreate(EMIPayment.kt:61)** at android.app.Activity.performCreate(Activity.java:8059) at android.app.Activity.performCreate(Activity.java:8039) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1335) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3660) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3844)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:110)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2262)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loopOnce(Looper.java:201)  at android.os.Looper.loop(Looper.java:288)  at android.app.ActivityThread.main(ActivityThread.java:7941)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1009) </code></p>\n"},{"tags":["java","math","vector"],"answers":[{"tags":[],"owner":{"account_id":20974807,"reputation":1,"user_id":15411106,"display_name":"Mega2223"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675555285,"creation_date":1675555285,"answer_id":75349222,"question_id":75348630,"body_markdown":"Figured it out, the correct way to do this is\r\n```java\r\npublic static float[] rotateVector3 (float x, float y, float z, double rX, double rY, double rZ, float aX, float aY, float aZ){\r\n\r\n        float[] ret = new float[3];\r\n        while(rX &lt; 0){rX += Math.PI*2;}\r\n        while(rY &lt; 0){rY += Math.PI*2;}\r\n        while(rZ &lt; 0){rZ += Math.PI*2;}\r\n        while(rX &gt;= Math.PI*2){rX -= Math.PI*2;}\r\n        while(rY &gt;= Math.PI*2){rY -= Math.PI*2;}\r\n        while(rZ &gt;= Math.PI*2){rZ -= Math.PI*2;}\r\n\r\n        double cosX = Math.cos(rX);\r\n        double cosY = Math.cos(rY);\r\n        double cosZ = Math.cos(rZ);\r\n        double sinX = Math.sin(rX);\r\n        double sinY = Math.sin(rY);\r\n        double sinZ = Math.sin(rZ);\r\n\r\n        double Axx = cosX*cosY;\r\n        double Axy = cosX*sinY*sinZ - sinX*cosZ;\r\n        double Axz = cosX*sinY*cosZ + sinX*sinZ;\r\n\r\n        double Ayx = sinX*cosY;\r\n        double Ayy = sinX*sinY*sinZ + cosX*cosZ;\r\n        double Ayz = sinX*sinY*cosZ - cosX*sinZ;\r\n\r\n        double Azx = -sinY;\r\n        double Azy = cosY*sinZ;\r\n        double Azz = cosY*cosZ;\r\n\r\n        x-=aX;\r\n        y-=aY;\r\n        z-=aZ;\r\n\r\n        ret[0] = (float) (Axx*x + Axy*y + Axz*z);\r\n        ret[1] = (float) (Ayx*x + Ayy*y + Ayz*z);\r\n        ret[2] = (float) (Azx*x + Azy*y + Azz*z);\r\n\r\n\r\n        System.out.println(&quot;(&quot; + x + &quot; &quot; + y + &quot; &quot; + z +&quot;) -&gt; (&quot; + rX + &quot;&#186; &quot; + rY + &quot;&#186; &quot; + rZ + &quot;&#186;) = (&quot; + ret[0] + &quot; &quot; + ret[1] + &quot; &quot; + ret[2] + &quot;)&quot;);\r\n        return ret;\r\n\r\n    }\r\n```\r\n\r\nI&#39;d explain how this works but that would imply that I actually know what I&#39;m doing","title":"Rotation matrix not returning correct number on the Z Axis","body":"<p>Figured it out, the correct way to do this is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static float[] rotateVector3 (float x, float y, float z, double rX, double rY, double rZ, float aX, float aY, float aZ){\n\n        float[] ret = new float[3];\n        while(rX &lt; 0){rX += Math.PI*2;}\n        while(rY &lt; 0){rY += Math.PI*2;}\n        while(rZ &lt; 0){rZ += Math.PI*2;}\n        while(rX &gt;= Math.PI*2){rX -= Math.PI*2;}\n        while(rY &gt;= Math.PI*2){rY -= Math.PI*2;}\n        while(rZ &gt;= Math.PI*2){rZ -= Math.PI*2;}\n\n        double cosX = Math.cos(rX);\n        double cosY = Math.cos(rY);\n        double cosZ = Math.cos(rZ);\n        double sinX = Math.sin(rX);\n        double sinY = Math.sin(rY);\n        double sinZ = Math.sin(rZ);\n\n        double Axx = cosX*cosY;\n        double Axy = cosX*sinY*sinZ - sinX*cosZ;\n        double Axz = cosX*sinY*cosZ + sinX*sinZ;\n\n        double Ayx = sinX*cosY;\n        double Ayy = sinX*sinY*sinZ + cosX*cosZ;\n        double Ayz = sinX*sinY*cosZ - cosX*sinZ;\n\n        double Azx = -sinY;\n        double Azy = cosY*sinZ;\n        double Azz = cosY*cosZ;\n\n        x-=aX;\n        y-=aY;\n        z-=aZ;\n\n        ret[0] = (float) (Axx*x + Axy*y + Axz*z);\n        ret[1] = (float) (Ayx*x + Ayy*y + Ayz*z);\n        ret[2] = (float) (Azx*x + Azy*y + Azz*z);\n\n\n        System.out.println(&quot;(&quot; + x + &quot; &quot; + y + &quot; &quot; + z +&quot;) -&gt; (&quot; + rX + &quot;º &quot; + rY + &quot;º &quot; + rZ + &quot;º) = (&quot; + ret[0] + &quot; &quot; + ret[1] + &quot; &quot; + ret[2] + &quot;)&quot;);\n        return ret;\n\n    }\n</code></pre>\n<p>I'd explain how this works but that would imply that I actually know what I'm doing</p>\n"}],"owner":{"account_id":20974807,"reputation":1,"user_id":15411106,"display_name":"Mega2223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675555285,"creation_date":1675547700,"question_id":75348630,"body_markdown":"I made a method in my Java code which translates a 3 coordinate vector into another 3 coordinate system basing my method on the [rotation matrix](https://en.wikipedia.org/wiki/Rotation_matrix#Basic_rotations) which OpenGL used to have, here is the full method:\r\n\r\n```java\r\npublic static float[] rotateVector3 (float x, float y, float z, double rX, double rY, double rZ){\r\n\r\n        float[] ret = {x,y,z};\r\n        while(rX &lt; 0){rX += Math.PI*2;}\r\n        while(rY &lt; 0){rY += Math.PI*2;}\r\n        while(rZ &lt; 0){rZ += Math.PI*2;}\r\n        while(rX &gt;= Math.PI*2){rX -= Math.PI*2;}\r\n        while(rY &gt;= Math.PI*2){rY -= Math.PI*2;}\r\n        while(rZ &gt;= Math.PI*2){rZ -= Math.PI*2;}\r\n\r\n        //ret[0] *= 1;\r\n        ret[1] *= Math.cos(rX) - Math.sin(rX);\r\n        ret[2] *= Math.sin(rX) + Math.cos(rX);\r\n\r\n        ret[0] *= Math.cos(rY) + Math.sin(rY);\r\n        //ret[1] *= 1;\r\n        ret[2] *= - Math.sin(rY) + Math.cos(rY);\r\n\r\n        ret[0] *= Math.cos(rZ) - Math.sin(rZ);\r\n        ret[1] *= Math.sin(rZ) + Math.cos(rZ);\r\n        //ret[2] *= 1;\r\n\r\n        System.out.println(&quot;(&quot; + x + &quot; &quot; + y + &quot; &quot; + z +&quot;) -&gt; (&quot; + rX + &quot;&#186; &quot; + rY + &quot;&#186; &quot; + rZ + &quot;&#186;) = (&quot; + ret[0] + &quot; &quot; + ret[1] + &quot; &quot; + ret[2] + &quot;)&quot;);\r\n        return ret;\r\n\r\n    }\r\n```\r\n\r\nHowever this method for some reason does not work well with the Z axis.\r\n\r\nLet&#39;s assume for instance that i have 4 arrays representing vectors, each with 3 coordinates (XYZ respectively):\r\n`vecA = {50,50,1}, vecB = {50,-50,1}, vecC = {-50f,-50f,1}, vecD = {-50f,50f,1}`\r\n\r\nWhen I input those values in their respective order in the method, with each value of the rotation being {0,2,0} radians respectively, I get the following output:\r\n\r\n```\r\n(50.0 50.0 1.0) -&gt; (0.0&#186; 2.0&#186; 0.0&#186;) = (24.65753 50.0 -1.3254442)\r\n(50.0 -50.0 1.0) -&gt; (0.0&#186; 2.0&#186; 0.0&#186;) = (24.65753 -50.0 -1.3254442)\r\n(-50.0 -50.0 1.0) -&gt; (0.0&#186; 2.0&#186; 0.0&#186;) = (-24.65753 -50.0 -1.3254442)\r\n(-50.0 50.0 1.0) -&gt; (0.0&#186; 2.0&#186; 0.0&#186;) = (-24.65753 50.0 -1.3254442)\r\n```\r\n\r\nWhich does not make sense. As I am rotating in the Y axis, the vectors with the Y coordinates above zero should be farther that those with the negative Y coordinates, yet it always returns the same Z values regardless and I&#39;m not entirely sure why, is there any correction that I am missing?","title":"Rotation matrix not returning correct number on the Z Axis","body":"<p>I made a method in my Java code which translates a 3 coordinate vector into another 3 coordinate system basing my method on the <a href=\"https://en.wikipedia.org/wiki/Rotation_matrix#Basic_rotations\" rel=\"nofollow noreferrer\">rotation matrix</a> which OpenGL used to have, here is the full method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static float[] rotateVector3 (float x, float y, float z, double rX, double rY, double rZ){\n\n        float[] ret = {x,y,z};\n        while(rX &lt; 0){rX += Math.PI*2;}\n        while(rY &lt; 0){rY += Math.PI*2;}\n        while(rZ &lt; 0){rZ += Math.PI*2;}\n        while(rX &gt;= Math.PI*2){rX -= Math.PI*2;}\n        while(rY &gt;= Math.PI*2){rY -= Math.PI*2;}\n        while(rZ &gt;= Math.PI*2){rZ -= Math.PI*2;}\n\n        //ret[0] *= 1;\n        ret[1] *= Math.cos(rX) - Math.sin(rX);\n        ret[2] *= Math.sin(rX) + Math.cos(rX);\n\n        ret[0] *= Math.cos(rY) + Math.sin(rY);\n        //ret[1] *= 1;\n        ret[2] *= - Math.sin(rY) + Math.cos(rY);\n\n        ret[0] *= Math.cos(rZ) - Math.sin(rZ);\n        ret[1] *= Math.sin(rZ) + Math.cos(rZ);\n        //ret[2] *= 1;\n\n        System.out.println(&quot;(&quot; + x + &quot; &quot; + y + &quot; &quot; + z +&quot;) -&gt; (&quot; + rX + &quot;º &quot; + rY + &quot;º &quot; + rZ + &quot;º) = (&quot; + ret[0] + &quot; &quot; + ret[1] + &quot; &quot; + ret[2] + &quot;)&quot;);\n        return ret;\n\n    }\n</code></pre>\n<p>However this method for some reason does not work well with the Z axis.</p>\n<p>Let's assume for instance that i have 4 arrays representing vectors, each with 3 coordinates (XYZ respectively):\n<code>vecA = {50,50,1}, vecB = {50,-50,1}, vecC = {-50f,-50f,1}, vecD = {-50f,50f,1}</code></p>\n<p>When I input those values in their respective order in the method, with each value of the rotation being {0,2,0} radians respectively, I get the following output:</p>\n<pre><code>(50.0 50.0 1.0) -&gt; (0.0º 2.0º 0.0º) = (24.65753 50.0 -1.3254442)\n(50.0 -50.0 1.0) -&gt; (0.0º 2.0º 0.0º) = (24.65753 -50.0 -1.3254442)\n(-50.0 -50.0 1.0) -&gt; (0.0º 2.0º 0.0º) = (-24.65753 -50.0 -1.3254442)\n(-50.0 50.0 1.0) -&gt; (0.0º 2.0º 0.0º) = (-24.65753 50.0 -1.3254442)\n</code></pre>\n<p>Which does not make sense. As I am rotating in the Y axis, the vectors with the Y coordinates above zero should be farther that those with the negative Y coordinates, yet it always returns the same Z values regardless and I'm not entirely sure why, is there any correction that I am missing?</p>\n"},{"tags":["java","android","imageview","android-notifications"],"comments":[{"owner":{"account_id":10256372,"reputation":970,"user_id":7569106,"display_name":"Mohamed Embaby"},"score":0,"creation_date":1515525236,"post_id":48174155,"comment_id":83329996,"body_markdown":"it will not work that way, clear the notification and build it again with the new view","body":"it will not work that way, clear the notification and build it again with the new view"},{"owner":{"account_id":10786840,"reputation":492,"user_id":7935596,"display_name":"Ofek Regev"},"score":0,"creation_date":1515526222,"post_id":48174155,"comment_id":83330460,"body_markdown":"Should I clean the RemoteViews and add a new inflated view or should I cear the notification and send a new one?","body":"Should I clean the RemoteViews and add a new inflated view or should I cear the notification and send a new one?"},{"owner":{"account_id":10256372,"reputation":970,"user_id":7569106,"display_name":"Mohamed Embaby"},"score":0,"creation_date":1515527368,"post_id":48174155,"comment_id":83331005,"body_markdown":"clear the notification it-self","body":"clear the notification it-self"}],"answers":[{"tags":[],"owner":{"account_id":2012439,"reputation":41,"user_id":1800584,"display_name":"TexAmicoMio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675553986,"creation_date":1675553986,"answer_id":75349128,"question_id":48174155,"body_markdown":"Missing update at end of code block. You need to enter code like this:\r\n\r\n    ComponentName thisWidget = new ComponentName(context, MainWidget.class);\r\n    AppWidgetManager.getInstance(context).updateAppWidget(thisWidget, remoteViews);","title":"setting visibility to views in RemoteViews not working","body":"<p>Missing update at end of code block. You need to enter code like this:</p>\n<pre><code>ComponentName thisWidget = new ComponentName(context, MainWidget.class);\nAppWidgetManager.getInstance(context).updateAppWidget(thisWidget, remoteViews);\n</code></pre>\n"}],"owner":{"account_id":10786840,"reputation":492,"user_id":7935596,"display_name":"Ofek Regev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675553986,"creation_date":1515520832,"question_id":48174155,"body_markdown":"I&#39;m trying to change the visibility of imagviews in the notification when one of them clicked and nothing happens even though the click trigger on the receiver has called.\r\n\r\nMy receiver code : \r\n\r\n    public class NotificationInteractionReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (context instanceof ExoPlayerService){\r\n            ExoPlayerService service= (ExoPlayerService) context;\r\n            RemoteViews views=NotificationHelper.remoteViews;\r\n\r\n            if (views==null){\r\n                return;\r\n            }\r\n            if (intent.getAction().equals(NotificationHelper.NOTIFY_DELETE)){\r\n                Log.e(&quot;NotificationReceiver&quot;,&quot;delete button clicked&quot;);\r\n            }\r\n            if (intent.getAction().equals(NotificationHelper.NOTIFY_NEXT)){\r\n                Log.e(&quot;NotificationReceiver&quot;,&quot;next button clicked&quot;);\r\n            }\r\n            if (intent.getAction().equals(NotificationHelper.NOTIFY_PREVIOUS)){\r\n                Log.e(&quot;NotificationReceiver&quot;,&quot;previous button clicked&quot;);\r\n            }\r\n            if (intent.getAction().equals(NotificationHelper.NOTIFY_PAUSE)){\r\n                Log.e(&quot;NotificationReceiver&quot;,&quot;pause button clicked&quot;);\r\n                views.setViewVisibility(R.id.pauseBtn_notification, View.GONE);\r\n                views.setViewVisibility(R.id.playBtn_notification, View.VISIBLE);\r\n            }\r\n            if (intent.getAction().equals(NotificationHelper.NOTIFY_PLAY)){\r\n                Log.e(&quot;NotificationReceiver&quot;,&quot;play button clicked&quot;);\r\n                views.setViewVisibility(R.id.playBtn_notification,View.GONE);\r\n                views.setViewVisibility(R.id.pauseBtn_notification, View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n ","title":"setting visibility to views in RemoteViews not working","body":"<p>I'm trying to change the visibility of imagviews in the notification when one of them clicked and nothing happens even though the click trigger on the receiver has called.</p>\n\n<p>My receiver code : </p>\n\n<pre><code>public class NotificationInteractionReceiver extends BroadcastReceiver {\n@Override\npublic void onReceive(Context context, Intent intent) {\n    if (context instanceof ExoPlayerService){\n        ExoPlayerService service= (ExoPlayerService) context;\n        RemoteViews views=NotificationHelper.remoteViews;\n\n        if (views==null){\n            return;\n        }\n        if (intent.getAction().equals(NotificationHelper.NOTIFY_DELETE)){\n            Log.e(\"NotificationReceiver\",\"delete button clicked\");\n        }\n        if (intent.getAction().equals(NotificationHelper.NOTIFY_NEXT)){\n            Log.e(\"NotificationReceiver\",\"next button clicked\");\n        }\n        if (intent.getAction().equals(NotificationHelper.NOTIFY_PREVIOUS)){\n            Log.e(\"NotificationReceiver\",\"previous button clicked\");\n        }\n        if (intent.getAction().equals(NotificationHelper.NOTIFY_PAUSE)){\n            Log.e(\"NotificationReceiver\",\"pause button clicked\");\n            views.setViewVisibility(R.id.pauseBtn_notification, View.GONE);\n            views.setViewVisibility(R.id.playBtn_notification, View.VISIBLE);\n        }\n        if (intent.getAction().equals(NotificationHelper.NOTIFY_PLAY)){\n            Log.e(\"NotificationReceiver\",\"play button clicked\");\n            views.setViewVisibility(R.id.playBtn_notification,View.GONE);\n            views.setViewVisibility(R.id.pauseBtn_notification, View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":2,"creation_date":1408253119,"post_id":25346512,"comment_id":39517395,"body_markdown":"Do you have some code that you&#39;ve tried, but isn&#39;t working? http://stackoverflow.com/help/how-to-ask","body":"Do you have some code that you&#39;ve tried, but isn&#39;t working? <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1408253476,"post_id":25346512,"comment_id":39517436,"body_markdown":"[Java API for JSON Processing](https://jsonp.java.net/)","body":"<a href=\"https://jsonp.java.net/\" rel=\"nofollow noreferrer\">Java API for JSON Processing</a>"},{"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"score":0,"creation_date":1408253510,"post_id":25346512,"comment_id":39517444,"body_markdown":"Provide your efforts..","body":"Provide your efforts.."},{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":3,"creation_date":1408254028,"post_id":25346512,"comment_id":39517528,"body_markdown":"Side note: That is not valid JSON.","body":"Side note: That is not valid JSON."},{"owner":{"account_id":3751745,"reputation":278,"user_id":3119112,"accept_rate":56,"display_name":"sf9251"},"score":2,"creation_date":1408259770,"post_id":25346512,"comment_id":39518311,"body_markdown":"These are 3 different JSON objects. If you are saying a JSON file, then all these objects must be wrapped within a single JSON Object, else it is invalid.","body":"These are 3 different JSON objects. If you are saying a JSON file, then all these objects must be wrapped within a single JSON Object, else it is invalid."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1408410204,"post_id":25346512,"comment_id":39568970,"body_markdown":"That&#39;s not legal JSON.","body":"That&#39;s not legal JSON."},{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":2,"creation_date":1487063126,"post_id":25346512,"comment_id":71603790,"body_markdown":"It is absolutely valid to have more than one JSON data structure in one file. The example given is thus legal and any decent JSON parser should be able to read multiple JSON structures from a stream / file / resource. For those who are in doubt - please go ahead and read ECMA-404. Nowhere in this document you will find &quot;file&quot;, &quot;resource&quot;, &quot;stream&quot;, &quot;document&quot; in the context of JSON&#39;s data structure notation. Thus the data structure notion is independent of storage questions. Thus you can of course have multiple structures in one file. Period.","body":"It is absolutely valid to have more than one JSON data structure in one file. The example given is thus legal and any decent JSON parser should be able to read multiple JSON structures from a stream / file / resource. For those who are in doubt - please go ahead and read ECMA-404. Nowhere in this document you will find &quot;file&quot;, &quot;resource&quot;, &quot;stream&quot;, &quot;document&quot; in the context of JSON&#39;s data structure notation. Thus the data structure notion is independent of storage questions. Thus you can of course have multiple structures in one file. Period."}],"answers":[{"tags":[],"owner":{"account_id":3635224,"reputation":6579,"user_id":3030495,"accept_rate":100,"display_name":"hurricane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408253453,"creation_date":1408253453,"answer_id":25346562,"question_id":25346512,"body_markdown":"I know two option for read JSON. \r\n\r\nJSON Simple its good for small JSON results.\r\nBut GSON is very usefull for big json results. Because you can set Object form in GSON. \r\n\r\nFirs one [json.jar][1]\r\n\r\n\r\nUsage : \r\n\r\n\r\n    String st = &quot;&quot;; // your json object to string\r\n    JSONObject newJson = null;\r\n    \ttry {\r\n    \t\tnewJson = new JSONObject(st);\r\n            newJson.getJSONObject(&quot;key&quot;);\r\n    \t} catch (JSONException e1) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te1.printStackTrace();\r\n    \t}\r\n\r\n\r\nSecond One [gson.jar][2]\r\n\r\nUsage:\r\n\r\n    int one = gson.fromJson(&quot;1&quot;, int.class);\r\n    Integer one = gson.fromJson(&quot;1&quot;, Integer.class);\r\n    Long one = gson.fromJson(&quot;1&quot;, Long.class);\r\n    Boolean false = gson.fromJson(&quot;false&quot;, Boolean.class);\r\n    String str = gson.fromJson(&quot;\\&quot;abc\\&quot;&quot;, String.class);\r\n    String anotherStr = gson.fromJson(&quot;[\\&quot;abc\\&quot;]&quot;, String.class);\r\n\r\n\r\n  [1]: http://code.google.com/p/json-simple/wiki/EncodingExamples\r\n  [2]: https://sites.google.com/site/gson/gson-user-guide","title":"Read Multiple Objects JSON with Java","body":"<p>I know two option for read JSON. </p>\n\n<p>JSON Simple its good for small JSON results.\nBut GSON is very usefull for big json results. Because you can set Object form in GSON. </p>\n\n<p>Firs one <a href=\"http://code.google.com/p/json-simple/wiki/EncodingExamples\" rel=\"nofollow\">json.jar</a></p>\n\n<p>Usage : </p>\n\n<pre><code>String st = \"\"; // your json object to string\nJSONObject newJson = null;\n    try {\n        newJson = new JSONObject(st);\n        newJson.getJSONObject(\"key\");\n    } catch (JSONException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n</code></pre>\n\n<p>Second One <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow\">gson.jar</a></p>\n\n<p>Usage:</p>\n\n<pre><code>int one = gson.fromJson(\"1\", int.class);\nInteger one = gson.fromJson(\"1\", Integer.class);\nLong one = gson.fromJson(\"1\", Long.class);\nBoolean false = gson.fromJson(\"false\", Boolean.class);\nString str = gson.fromJson(\"\\\"abc\\\"\", String.class);\nString anotherStr = gson.fromJson(\"[\\\"abc\\\"]\", String.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4759579,"reputation":141,"user_id":3847319,"display_name":"Yuan"},"score":0,"creation_date":1408410094,"post_id":25352198,"comment_id":39568943,"body_markdown":"yes, i&#39;m using JSON Simple 1.1.1 but i have problems with my code, i edited the original post, can you check the code?, thanks !","body":"yes, i&#39;m using JSON Simple 1.1.1 but i have problems with my code, i edited the original post, can you check the code?, thanks !"},{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":0,"creation_date":1487063385,"post_id":25352198,"comment_id":71603938,"body_markdown":"@prasadmadanayake - your advice given is very questionable or rather bad practice. Because you rely on the fact that a single line contains a single JSON data structure. Now image what is going to happen if someone is going to format the input? Will such a simple change break your solution?","body":"@prasadmadanayake - your advice given is very questionable or rather bad practice. Because you rely on the fact that a single line contains a single JSON data structure. Now image what is going to happen if someone is going to format the input? Will such a simple change break your solution?"}],"tags":[],"owner":{"account_id":4561262,"reputation":1425,"user_id":3703528,"display_name":"prasadmadanayake"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1408962456,"creation_date":1408299383,"answer_id":25352198,"question_id":25346512,"body_markdown":"I think what you mean is your Json strings are stored in a text file and you need to read them in to a Json objects. If that&#39;s the case use BufferedReader or Scanner to read the file line by line and parse each line to a Json object using [json-simple][1] \r\n\r\n\r\n  [1]: https://code.google.com/p/json-simple/\r\n\r\n\r\nJsonReader is use to Read One Json Object. Use Scanner or BufferedReader to Read File Line By Line as String and then Parse it to a Json Object.Here is  an Example\r\n\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class JSONExample{\r\n    public static void main(String x[]){\r\n        String FileName=&quot;C:\\\\Users\\\\Prasad\\\\Desktop\\\\JSONExample.txt&quot;;\r\n        try {\r\n            ArrayList&lt;JSONObject&gt; jsons=ReadJSON(new File(FileName),&quot;UTF-8&quot;);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static synchronized ArrayList&lt;JSONObject&gt; ReadJSON(File MyFile,String Encoding) throws FileNotFoundException, ParseException {\r\n        Scanner scn=new Scanner(MyFile,Encoding);\r\n        ArrayList&lt;JSONObject&gt; json=new ArrayList&lt;JSONObject&gt;();\r\n    //Reading and Parsing Strings to Json\r\n        while(scn.hasNext()){\r\n            JSONObject obj= (JSONObject) new JSONParser().parse(scn.nextLine());\r\n            json.add(obj);\r\n        }\r\n    //Here Printing Json Objects\r\n        for(JSONObject obj : json){\r\n            System.out.println((String)obj.get(&quot;id_user&quot;)+&quot; : &quot;+(String)obj.get(&quot;level&quot;)+&quot; : &quot;+(String)obj.get(&quot;text&quot;));\r\n        }\r\n        return json;\r\n    }\r\n\r\n    }","title":"Read Multiple Objects JSON with Java","body":"<p>I think what you mean is your Json strings are stored in a text file and you need to read them in to a Json objects. If that's the case use BufferedReader or Scanner to read the file line by line and parse each line to a Json object using <a href=\"https://code.google.com/p/json-simple/\" rel=\"nofollow\">json-simple</a> </p>\n\n<p>JsonReader is use to Read One Json Object. Use Scanner or BufferedReader to Read File Line By Line as String and then Parse it to a Json Object.Here is  an Example</p>\n\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class JSONExample{\npublic static void main(String x[]){\n    String FileName=\"C:\\\\Users\\\\Prasad\\\\Desktop\\\\JSONExample.txt\";\n    try {\n        ArrayList&lt;JSONObject&gt; jsons=ReadJSON(new File(FileName),\"UTF-8\");\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n}\npublic static synchronized ArrayList&lt;JSONObject&gt; ReadJSON(File MyFile,String Encoding) throws FileNotFoundException, ParseException {\n    Scanner scn=new Scanner(MyFile,Encoding);\n    ArrayList&lt;JSONObject&gt; json=new ArrayList&lt;JSONObject&gt;();\n//Reading and Parsing Strings to Json\n    while(scn.hasNext()){\n        JSONObject obj= (JSONObject) new JSONParser().parse(scn.nextLine());\n        json.add(obj);\n    }\n//Here Printing Json Objects\n    for(JSONObject obj : json){\n        System.out.println((String)obj.get(\"id_user\")+\" : \"+(String)obj.get(\"level\")+\" : \"+(String)obj.get(\"text\"));\n    }\n    return json;\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":2,"creation_date":1487063467,"post_id":25374377,"comment_id":71603996,"body_markdown":"just in case you wonder why no one voted for your &quot;solution&quot;: - (a) your example does very obviously NOT contain a legal JSON data structure - (b)  - the subject of this question is how to read a given VALID input and not how to read a similar but different input.","body":"just in case you wonder why no one voted for your &quot;solution&quot;: - (a) your example does very obviously NOT contain a legal JSON data structure - (b)  - the subject of this question is how to read a given VALID input and not how to read a similar but different input."}],"tags":[],"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470389166,"creation_date":1408411490,"answer_id":25374377,"question_id":25346512,"body_markdown":"The proper way to work through this JSON file is:\r\n\r\n    &quot;users&quot;: [\r\n      {\r\n        &quot;id_user&quot;: &quot;10&quot;,\r\n        &quot;level&quot;: &quot;medium&quot;,\r\n        &quot;text&quot;: &quot;hello 10&quot;\r\n      },\r\n      {\r\n        &quot;id_user&quot;: &quot;20&quot;,\r\n        &quot;level&quot;: &quot;medium&quot;,\r\n        &quot;text&quot;: &quot;hello 20&quot;\r\n      },\r\n      {\r\n        &quot;id_user&quot;: &quot;30&quot;,\r\n        &quot;level&quot;: &quot;medium&quot;,\r\n        &quot;text&quot;: &quot;hello 30&quot;\r\n      }\r\n    ]\r\n\r\nTry using [XStream][1] if you are using a standalone application. It parses JSON into objects in a blink of an eye. \r\n\r\n\r\n  [1]: http://x-stream.github.io/tutorial.html","title":"Read Multiple Objects JSON with Java","body":"<p>The proper way to work through this JSON file is:</p>\n\n<pre><code>\"users\": [\n  {\n    \"id_user\": \"10\",\n    \"level\": \"medium\",\n    \"text\": \"hello 10\"\n  },\n  {\n    \"id_user\": \"20\",\n    \"level\": \"medium\",\n    \"text\": \"hello 20\"\n  },\n  {\n    \"id_user\": \"30\",\n    \"level\": \"medium\",\n    \"text\": \"hello 30\"\n  }\n]\n</code></pre>\n\n<p>Try using <a href=\"http://x-stream.github.io/tutorial.html\" rel=\"nofollow\">XStream</a> if you are using a standalone application. It parses JSON into objects in a blink of an eye. </p>\n"},{"comments":[{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":3,"creation_date":1487064211,"post_id":36109027,"comment_id":71604456,"body_markdown":"This is not a valid JSON data structure and you have the changed the input. Thus you gave an answer for a different problem.","body":"This is not a valid JSON data structure and you have the changed the input. Thus you gave an answer for a different problem."}],"tags":[],"owner":{"account_id":5381258,"reputation":1907,"user_id":4286411,"accept_rate":62,"display_name":"ojus kulkarni"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458434727,"creation_date":1458434727,"answer_id":36109027,"question_id":25346512,"body_markdown":"My data format is :\r\n\r\n    &quot;array&quot;: [\r\n      {\r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;name&quot;: &quot;peter&quot;,\r\n        &quot;text&quot;: &quot;hie peter&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: &quot;5&quot;,\r\n        &quot;name&quot;: &quot;rina&quot;,\r\n        &quot;text&quot;: &quot;hey rina&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: &quot;12&quot;,\r\n        &quot;name&quot;: &quot;parx&quot;,\r\n        &quot;text&quot;: &quot;hey bro&quot;\r\n      }\r\n    ]\r\n\r\nI tried this one and it works :\r\n\r\n    Object obj = parser.parse(new FileReader(&quot;/home/hp2/json.json&quot;));\r\n\r\n      JSONObject jsonObject = (JSONObject) obj;\r\n      JSONArray array = (JSONArray) jsonObject.get(&quot;array&quot;); // it should be any array name\r\n\r\n         Iterator&lt;Object&gt; iterator = array.iterator();\r\n            while (iterator.hasNext()) {\r\n                System.out.println(&quot;if iterator have next element &quot; + iterator.next());\r\n            }","title":"Read Multiple Objects JSON with Java","body":"<p>My data format is :</p>\n\n<pre><code>\"array\": [\n  {\n    \"id\": \"1\",\n    \"name\": \"peter\",\n    \"text\": \"hie peter\"\n  },\n  {\n    \"id\": \"5\",\n    \"name\": \"rina\",\n    \"text\": \"hey rina\"\n  },\n  {\n    \"id\": \"12\",\n    \"name\": \"parx\",\n    \"text\": \"hey bro\"\n  }\n]\n</code></pre>\n\n<p>I tried this one and it works :</p>\n\n<pre><code>Object obj = parser.parse(new FileReader(\"/home/hp2/json.json\"));\n\n  JSONObject jsonObject = (JSONObject) obj;\n  JSONArray array = (JSONArray) jsonObject.get(\"array\"); // it should be any array name\n\n     Iterator&lt;Object&gt; iterator = array.iterator();\n        while (iterator.hasNext()) {\n            System.out.println(\"if iterator have next element \" + iterator.next());\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":2,"creation_date":1487063953,"post_id":36920281,"comment_id":71604295,"body_markdown":"you have changed the input like most did. In practice however you have to process a given (!) output, i.e. you have to bite the bullet and process it.","body":"you have changed the input like most did. In practice however you have to process a given (!) output, i.e. you have to bite the bullet and process it."},{"owner":{"account_id":8327998,"reputation":461,"user_id":6257464,"display_name":"Farhad Ba-ali"},"score":0,"creation_date":1544611964,"post_id":36920281,"comment_id":94335357,"body_markdown":"Hi @AMITAVA, i have used your code in my project, and it&#39;s working, but it&#168;s just not outputting in correct order as you see it prints Level medium instead of Id. I tried to fix the bug, but i was unable, i hope you can help fix it. thanks","body":"Hi @AMITAVA, i have used your code in my project, and it&#39;s working, but it&#168;s just not outputting in correct order as you see it prints Level medium instead of Id. I tried to fix the bug, but i was unable, i hope you can help fix it. thanks"},{"owner":{"account_id":7699190,"reputation":505,"user_id":5832443,"accept_rate":60,"display_name":"amitava"},"score":0,"creation_date":1545590375,"post_id":36920281,"comment_id":94656862,"body_markdown":"@Farhad Ba-ali  , Hi sorry, I saw this message too late. Anyway for the type of object which contains keys and values, we always get the values by the key. Why the ordering is important here? Anyway I noticed a flaw in my earlier code. We should catch the key,values in a Map instead inside the iterator loop. I edited my answer accordingly.","body":"@Farhad Ba-ali  , Hi sorry, I saw this message too late. Anyway for the type of object which contains keys and values, we always get the values by the key. Why the ordering is important here? Anyway I noticed a flaw in my earlier code. We should catch the key,values in a Map instead inside the iterator loop. I edited my answer accordingly."}],"tags":[],"owner":{"account_id":7699190,"reputation":505,"user_id":5832443,"accept_rate":60,"display_name":"amitava"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545591165,"creation_date":1461860429,"answer_id":36920281,"question_id":25346512,"body_markdown":"keep the data inside [ ] like\r\n`[{&quot;id_user&quot;:&quot;10&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 10&quot;}\r\n{&quot;id_user&quot;:&quot;20&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 20&quot;}\r\n{&quot;id_user&quot;:&quot;30&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 30&quot;}]`\r\n\r\ninside the file\r\nso that it becomes a list then you can use JSONArray . the way I wrote is as follows\r\n\r\n    public class JSONReadFromFile {\r\n \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static void main(String[] args) {\r\n        JSONParser parser = new JSONParser();\r\n \r\n        try {\r\n \r\n            Object obj = parser.parse(new FileReader(&quot;\\\\D:\\\\JSON\\\\file3.txt&quot;));\r\n            JSONArray jsonArray = (JSONArray) obj;\r\n            int length = jsonArray.size();\r\n                      \r\n            LinkedList author = new LinkedList();\r\n        \t\r\n        \t\r\n            for (int i =0; i&lt; length; i++) {\r\n            \tJSONObject jsonObject = (JSONObject) jsonArray.get(i);\r\n            \tSet s = jsonObject.entrySet();\r\n            \tIterator iter = s.iterator();\r\n            \t\r\n            \tHashMap hm = new HashMap();\r\n            \t\r\n            \twhile(iter.hasNext()){\r\n            \t\tMap.Entry me = (Map.Entry) iter.next();\r\n            \t\thm.put(me.getKey(), me.getValue());\r\n            \t}\r\n            \tauthor.add(hm);            \t\r\n            \t}            \r\n            for(int i=0;i&lt;author.size();i++){\r\n    \t   HashMap hm = (HashMap) author.get(i);\r\n    \t   Set s = hm.entrySet();\r\n           Iterator iter = s.iterator();\r\n           while(iter.hasNext()){\r\n               Map.Entry me = (Map.Entry) iter.next();\r\n              System.out.println(me.getKey() + &quot;---&quot; + me.getValue());\r\n              }   \r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nThe output I get is\r\n\r\n`text---hello 10\r\nid_user---10\r\nlevel---medium\r\ntext---hello 20\r\nid_user---20\r\nlevel---medium\r\ntext---hello 30\r\nid_user---30\r\nlevel---medium\r\n`\r\n","title":"Read Multiple Objects JSON with Java","body":"<p>keep the data inside [ ] like\n<code>[{\"id_user\":\"10\",\"level\":\"medium\",\"text\":\"hello 10\"}\n{\"id_user\":\"20\",\"level\":\"medium\",\"text\":\"hello 20\"}\n{\"id_user\":\"30\",\"level\":\"medium\",\"text\":\"hello 30\"}]</code></p>\n\n<p>inside the file\nso that it becomes a list then you can use JSONArray . the way I wrote is as follows</p>\n\n<pre><code>public class JSONReadFromFile {\n\n@SuppressWarnings(\"unchecked\")\npublic static void main(String[] args) {\n    JSONParser parser = new JSONParser();\n\n    try {\n\n        Object obj = parser.parse(new FileReader(\"\\\\D:\\\\JSON\\\\file3.txt\"));\n        JSONArray jsonArray = (JSONArray) obj;\n        int length = jsonArray.size();\n\n        LinkedList author = new LinkedList();\n\n\n        for (int i =0; i&lt; length; i++) {\n            JSONObject jsonObject = (JSONObject) jsonArray.get(i);\n            Set s = jsonObject.entrySet();\n            Iterator iter = s.iterator();\n\n            HashMap hm = new HashMap();\n\n            while(iter.hasNext()){\n                Map.Entry me = (Map.Entry) iter.next();\n                hm.put(me.getKey(), me.getValue());\n            }\n            author.add(hm);             \n            }            \n        for(int i=0;i&lt;author.size();i++){\n       HashMap hm = (HashMap) author.get(i);\n       Set s = hm.entrySet();\n       Iterator iter = s.iterator();\n       while(iter.hasNext()){\n           Map.Entry me = (Map.Entry) iter.next();\n          System.out.println(me.getKey() + \"---\" + me.getValue());\n          }   \n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The output I get is</p>\n\n<p><code>text---hello 10\nid_user---10\nlevel---medium\ntext---hello 20\nid_user---20\nlevel---medium\ntext---hello 30\nid_user---30\nlevel---medium\n</code></p>\n"},{"comments":[{"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"score":0,"creation_date":1464099110,"post_id":36932225,"comment_id":62338192,"body_markdown":"yes, but you can insert &quot;\\r\\n&quot; after every writing of the json object in the text.txt file, so you ensure that each line has only one object","body":"yes, but you can insert &quot;\\r\\n&quot; after every writing of the json object in the text.txt file, so you ensure that each line has only one object"},{"owner":{"account_id":1646023,"reputation":1034,"user_id":1517569,"accept_rate":50,"display_name":"Nati"},"score":1,"creation_date":1464099278,"post_id":36932225,"comment_id":62338314,"body_markdown":"The problem is the other way around, if every json is multiple lines.","body":"The problem is the other way around, if every json is multiple lines."},{"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"score":0,"creation_date":1464099706,"post_id":36932225,"comment_id":62338650,"body_markdown":"In this case, i will think about trying to make each json object in exactly one line. coding text line wrapper from &quot;{&quot; to &quot;}&quot; may also be a solution to this issue. I actually have an output json objects file like they are described in the question and i wanted to read them like they are :) that&#39;s why i found it useful to post it.","body":"In this case, i will think about trying to make each json object in exactly one line. coding text line wrapper from &quot;{&quot; to &quot;}&quot; may also be a solution to this issue. I actually have an output json objects file like they are described in the question and i wanted to read them like they are :) that&#39;s why i found it useful to post it."},{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":0,"creation_date":1487064105,"post_id":36932225,"comment_id":71604384,"body_markdown":"@halim - any arbitrary source code formatter for JSON will make your code break. Would you as customer accept such code? I would not.","body":"@halim - any arbitrary source code formatter for JSON will make your code break. Would you as customer accept such code? I would not."},{"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"score":0,"creation_date":1487950381,"post_id":36932225,"comment_id":72028721,"body_markdown":"yes it is true. this code is only meant too read a file has JSON objects which are saved in a file by the way described above only, if the objects are formatted in different way, it won&#39;t work. I am forced to read a JSON objects written in this way by another application. If I can write the JSON objects, I will do them correctly from the beginning.","body":"yes it is true. this code is only meant too read a file has JSON objects which are saved in a file by the way described above only, if the objects are formatted in different way, it won&#39;t work. I am forced to read a JSON objects written in this way by another application. If I can write the JSON objects, I will do them correctly from the beginning."}],"tags":[],"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1486273931,"creation_date":1461914972,"answer_id":36932225,"question_id":25346512,"body_markdown":"I know it has been almost one year for this post :) but i am actually reposing again as an answer because i had this problem same as you Yuan \r\n\r\nI have this text.txt file - I know this is not a valid Json array - but if you look, you will see that each line of this file is a Json object in its case alone.\r\n\r\n    {&quot;Sensor_ID&quot;:&quot;874233&quot;,&quot;Date&quot;:&quot;Apr 29,2016 08:49:58 Info Log1&quot;}\r\n    {&quot;Sensor_ID&quot;:&quot;34234&quot;,&quot;Date&quot;:&quot;Apr 29,2016 08:49:58 Info Log12&quot;}\r\n    {&quot;Sensor_ID&quot;:&quot;56785&quot;,&quot;Date&quot;:&quot;Apr 29,2016 08:49:58 Info Log13&quot;}\r\n    {&quot;Sensor_ID&quot;:&quot;235657&quot;,&quot;Date&quot;:&quot;Apr 29,2016 08:49:58 Info Log14&quot;}\r\n    {&quot;Sensor_ID&quot;:&quot;568678&quot;,&quot;Date&quot;:&quot;Apr 29,2016 08:49:58 Info Log15&quot;}\r\n\r\nNow I want to read each line of the above and parse the names &quot;Sensor_ID&quot; and &quot;Date&quot; into Json format. After long search, I have the following:\r\n\r\nTry it and look on the console to see the result. I hope it helps.\r\n\r\n    package reading_file;\r\n\r\n    import java.io.*;\r\n    import java.util.ArrayList;\r\n\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n\r\n    public class file_read {\r\n    public static void main(String [] args) {\r\n        ArrayList&lt;JSONObject&gt; json=new ArrayList&lt;JSONObject&gt;();\r\n        JSONObject obj;\r\n        // The name of the file to open.\r\n        String fileName = &quot;C:\\\\Users\\\\aawad\\\\workspace\\\\kura_juno\\\\data_logger\\\\log\\\\Apr_28_2016\\\\test.txt &quot;;\r\n\r\n        // This will reference one line at a time\r\n        String line = null;\r\n\r\n        try {\r\n            // FileReader reads text files in the default encoding.\r\n            FileReader fileReader = new FileReader(fileName);\r\n\r\n            // Always wrap FileReader in BufferedReader.\r\n            BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\r\n            while((line = bufferedReader.readLine()) != null) {\r\n\t            obj = (JSONObject) new JSONParser().parse(line);\r\n\t\t\t\tjson.add(obj);\r\n\t\t\t\tSystem.out.println((String)obj.get(&quot;Sensor_ID&quot;)+&quot;:&quot;+\r\n                                   (String)obj.get(&quot;Date&quot;));\r\n            }\r\n            // Always close files.\r\n            bufferedReader.close();         \r\n        }\r\n        catch(FileNotFoundException ex) {\r\n            System.out.println(&quot;Unable to open file &#39;&quot; + fileName + &quot;&#39;&quot;);                \r\n        }\r\n        catch(IOException ex) {\r\n            System.out.println(&quot;Error reading file &#39;&quot; + fileName + &quot;&#39;&quot;);                  \r\n            // Or we could just do this: \r\n            // ex.printStackTrace();\r\n        } catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    }\r\n\r\n    ","title":"Read Multiple Objects JSON with Java","body":"<p>I know it has been almost one year for this post :) but i am actually reposing again as an answer because i had this problem same as you Yuan </p>\n\n<p>I have this text.txt file - I know this is not a valid Json array - but if you look, you will see that each line of this file is a Json object in its case alone.</p>\n\n<pre><code>{\"Sensor_ID\":\"874233\",\"Date\":\"Apr 29,2016 08:49:58 Info Log1\"}\n{\"Sensor_ID\":\"34234\",\"Date\":\"Apr 29,2016 08:49:58 Info Log12\"}\n{\"Sensor_ID\":\"56785\",\"Date\":\"Apr 29,2016 08:49:58 Info Log13\"}\n{\"Sensor_ID\":\"235657\",\"Date\":\"Apr 29,2016 08:49:58 Info Log14\"}\n{\"Sensor_ID\":\"568678\",\"Date\":\"Apr 29,2016 08:49:58 Info Log15\"}\n</code></pre>\n\n<p>Now I want to read each line of the above and parse the names \"Sensor_ID\" and \"Date\" into Json format. After long search, I have the following:</p>\n\n<p>Try it and look on the console to see the result. I hope it helps.</p>\n\n<pre><code>package reading_file;\n\nimport java.io.*;\nimport java.util.ArrayList;\n\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class file_read {\npublic static void main(String [] args) {\n    ArrayList&lt;JSONObject&gt; json=new ArrayList&lt;JSONObject&gt;();\n    JSONObject obj;\n    // The name of the file to open.\n    String fileName = \"C:\\\\Users\\\\aawad\\\\workspace\\\\kura_juno\\\\data_logger\\\\log\\\\Apr_28_2016\\\\test.txt \";\n\n    // This will reference one line at a time\n    String line = null;\n\n    try {\n        // FileReader reads text files in the default encoding.\n        FileReader fileReader = new FileReader(fileName);\n\n        // Always wrap FileReader in BufferedReader.\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\n\n        while((line = bufferedReader.readLine()) != null) {\n            obj = (JSONObject) new JSONParser().parse(line);\n            json.add(obj);\n            System.out.println((String)obj.get(\"Sensor_ID\")+\":\"+\n                               (String)obj.get(\"Date\"));\n        }\n        // Always close files.\n        bufferedReader.close();         \n    }\n    catch(FileNotFoundException ex) {\n        System.out.println(\"Unable to open file '\" + fileName + \"'\");                \n    }\n    catch(IOException ex) {\n        System.out.println(\"Error reading file '\" + fileName + \"'\");                  \n        // Or we could just do this: \n        // ex.printStackTrace();\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":3,"creation_date":1487064282,"post_id":39035166,"comment_id":71604497,"body_markdown":"you also rely on the fact that each JSON structure fits into a single line. Any formatter will break your code.","body":"you also rely on the fact that each JSON structure fits into a single line. Any formatter will break your code."}],"tags":[],"owner":{"account_id":4758418,"reputation":781,"user_id":4368994,"display_name":"Victor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551502576,"creation_date":1471597681,"answer_id":39035166,"question_id":25346512,"body_markdown":"include following maven dependency:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen write your code as below:\r\n\r\n\r\n    public class HistoricalData {\r\n        private static final String PATH = &quot;&lt;PATH&gt;&quot;;\r\n        public static void main(String[] args) throws FileNotFoundException,\r\n\r\n     ParseException {\r\n\r\n        Scanner scanner = new Scanner(new File(PATH + &quot;/Sample.txt&quot;));\r\n        List&lt;JSONObject&gt; jsonArray = new ArrayList&lt;JSONObject&gt;();\r\n        while (scanner.hasNext()) {\r\n            JSONObject obj = (JSONObject) new JSONParser().parse(scanner.nextLine());\r\n            jsonArray.add(obj);\r\n        }\r\n    }\r\n    }","title":"Read Multiple Objects JSON with Java","body":"<p>include following maven dependency:</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>then write your code as below:</p>\n\n<pre><code>public class HistoricalData {\n    private static final String PATH = \"&lt;PATH&gt;\";\n    public static void main(String[] args) throws FileNotFoundException,\n\n ParseException {\n\n    Scanner scanner = new Scanner(new File(PATH + \"/Sample.txt\"));\n    List&lt;JSONObject&gt; jsonArray = new ArrayList&lt;JSONObject&gt;();\n    while (scanner.hasNext()) {\n        JSONObject obj = (JSONObject) new JSONParser().parse(scanner.nextLine());\n        jsonArray.add(obj);\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1487068463,"creation_date":1487068463,"answer_id":42223823,"question_id":25346512,"body_markdown":"This is a working example based (and tested) with [gson-2.8.0][1]. It accepts an **arbitrary** sequence of JSON objects on a given input stream. And, of course, it does not impose any restrictions on how you have formatted your input:\r\n\r\n           InputStream is = /* whatever */\r\n           Reader r = new InputStreamReader(is, &quot;UTF-8&quot;);\r\n           Gson gson = new GsonBuilder().create();\r\n           JsonStreamParser p = new JsonStreamParser(r);\r\n        \t\t\r\n           while (p.hasNext()) {\r\n              JsonElement e = p.next();\r\n              if (e.isJsonObject()) {\r\n                  Map m = gson.fromJson(e, Map.class);\r\n                  /* do something useful with JSON object .. */\r\n              }\r\n              /* handle other JSON data structures */\r\n           }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"Read Multiple Objects JSON with Java","body":"<p>This is a working example based (and tested) with <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"noreferrer\">gson-2.8.0</a>. It accepts an <strong>arbitrary</strong> sequence of JSON objects on a given input stream. And, of course, it does not impose any restrictions on how you have formatted your input:</p>\n\n<pre><code>       InputStream is = /* whatever */\n       Reader r = new InputStreamReader(is, \"UTF-8\");\n       Gson gson = new GsonBuilder().create();\n       JsonStreamParser p = new JsonStreamParser(r);\n\n       while (p.hasNext()) {\n          JsonElement e = p.next();\n          if (e.isJsonObject()) {\n              Map m = gson.fromJson(e, Map.class);\n              /* do something useful with JSON object .. */\n          }\n          /* handle other JSON data structures */\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750291,"reputation":838,"user_id":3280682,"accept_rate":100,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675553013,"creation_date":1497864213,"answer_id":44626709,"question_id":25346512,"body_markdown":"I used below code and its working fine.\r\n\t\r\n    public static void main(String[] args)\r\n\t\t\tthrows IOException, JSchException, SftpException, InterruptedException, ParseException\r\n\t{\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tObject obj = parser.parse(new FileReader(&quot;c:\\\\netapp1.txt&quot;));\r\n\t\tMap&lt;Object, Object&gt; shareList = new HashMap&lt;Object, Object&gt;();\r\n\t\tJSONObject jsonObject = (JSONObject) obj;\r\n\t\tJSONArray array = (JSONArray) jsonObject.get(&quot;dataLevels&quot;); // it should be any array name\r\n\r\n\t\tIterator&lt;Object&gt; iterator = array.iterator();\r\n\t\twhile (iterator.hasNext())\r\n\t\t{\r\n\t\t\tObject it = iterator.next();\r\n\t\t\tJSONObject data = (JSONObject) it;\r\n\t\t\tshareList.put(data.get(&quot;name&quot;), data.get(&quot;type&quot;));\r\n\t\t}\r\n\t\tIterator it = shareList.entrySet().iterator();\r\n\t\twhile (it.hasNext())\r\n\t\t{\r\n\t\t\tMap.Entry value = (Map.Entry) it.next();\r\n\t\t\tSystem.out.println(&quot;Name: &quot; + value.getKey() + &quot; and type: &quot; + value.getValue());\r\n\t\t}\r\n\t}\r\n\r\n\r\n*JSON*:\r\n\r\n        {\r\n    \r\n        &quot;version&quot;: 1,\r\n    \r\n        &quot;dataLevels&quot;: \r\n    \r\n        [\r\n    \r\n        {\r\n    \r\n          &quot;name&quot;: &quot;test1&quot;,\r\n    \r\n          &quot;externId&quot;: &quot;test1&quot;,\r\n    \r\n          &quot;type&quot;: &quot;test1&quot;\r\n    \r\n        },\r\n    \r\n        {\r\n    \r\n          &quot;name&quot;: &quot;test2&quot;,\r\n    \r\n          &quot;externId&quot;: &quot;test2&quot;,\r\n    \r\n          &quot;type&quot;: &quot;test2&quot;\r\n    \r\n        },\r\n    \r\n        {\r\n    \r\n          &quot;name&quot;: &quot;test3&quot;,\r\n    \r\n          &quot;externId&quot;: &quot;test3&quot;,\r\n    \r\n          &quot;type&quot;: &quot;test3&quot;\r\n    \r\n        }\r\n      ]\r\n    }","title":"Read Multiple Objects JSON with Java","body":"<p>I used below code and its working fine.</p>\n<pre><code>public static void main(String[] args)\n        throws IOException, JSchException, SftpException, InterruptedException, ParseException\n{\n    JSONParser parser = new JSONParser();\n    Object obj = parser.parse(new FileReader(&quot;c:\\\\netapp1.txt&quot;));\n    Map&lt;Object, Object&gt; shareList = new HashMap&lt;Object, Object&gt;();\n    JSONObject jsonObject = (JSONObject) obj;\n    JSONArray array = (JSONArray) jsonObject.get(&quot;dataLevels&quot;); // it should be any array name\n\n    Iterator&lt;Object&gt; iterator = array.iterator();\n    while (iterator.hasNext())\n    {\n        Object it = iterator.next();\n        JSONObject data = (JSONObject) it;\n        shareList.put(data.get(&quot;name&quot;), data.get(&quot;type&quot;));\n    }\n    Iterator it = shareList.entrySet().iterator();\n    while (it.hasNext())\n    {\n        Map.Entry value = (Map.Entry) it.next();\n        System.out.println(&quot;Name: &quot; + value.getKey() + &quot; and type: &quot; + value.getValue());\n    }\n}\n</code></pre>\n<p><em>JSON</em>:</p>\n<pre><code>    {\n\n    &quot;version&quot;: 1,\n\n    &quot;dataLevels&quot;: \n\n    [\n\n    {\n\n      &quot;name&quot;: &quot;test1&quot;,\n\n      &quot;externId&quot;: &quot;test1&quot;,\n\n      &quot;type&quot;: &quot;test1&quot;\n\n    },\n\n    {\n\n      &quot;name&quot;: &quot;test2&quot;,\n\n      &quot;externId&quot;: &quot;test2&quot;,\n\n      &quot;type&quot;: &quot;test2&quot;\n\n    },\n\n    {\n\n      &quot;name&quot;: &quot;test3&quot;,\n\n      &quot;externId&quot;: &quot;test3&quot;,\n\n      &quot;type&quot;: &quot;test3&quot;\n\n    }\n  ]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"score":1,"creation_date":1544463209,"post_id":49516671,"comment_id":94276048,"body_markdown":"the while (true) loop has me troubled....  How do you know when you are done?  Do you catch an exception?  Is there a cleaner way?","body":"the while (true) loop has me troubled....  How do you know when you are done?  Do you catch an exception?  Is there a cleaner way?"},{"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"score":0,"creation_date":1544551748,"post_id":49516671,"comment_id":94313574,"body_markdown":"Ok, there is not while(true). It is while (is.available() &gt; 0), see the variable used to create the JsonReader","body":"Ok, there is not while(true). It is while (is.available() &gt; 0), see the variable used to create the JsonReader"}],"tags":[],"owner":{"account_id":5812298,"reputation":1818,"user_id":4582948,"display_name":"armagedescu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585216705,"creation_date":1522163838,"answer_id":49516671,"question_id":25346512,"body_markdown":"Using gson to read multiple objects from stream.\r\nWith gson-2.8.2, I had to call this: reader.setLenient(true);\r\n\r\n    JsonReader reader = new JsonReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n\treader.setLenient(true);\r\n\twhile ((is.available() &gt; 0))\r\n\t{\r\n\t\treader.beginObject();\r\n        while (reader.hasNext()) {\r\n            System.out.println(&quot;message: &quot;+reader.nextName()+&quot;=&quot;+reader.nextString());\r\n        }\r\n\t\tSystem.out.println(&quot;=== End message ===&quot;);\r\n        reader.endObject();\r\n\r\n\r\nThis was suggested explicitly by the stack trace, when I did it, the code worked perfectly:\r\n\r\n    com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 2 column 3481 path $\r\n        at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1568)\r\n        at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1409)\r\n        at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:542)\r\n        at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:379)\r\n...","title":"Read Multiple Objects JSON with Java","body":"<p>Using gson to read multiple objects from stream.\nWith gson-2.8.2, I had to call this: reader.setLenient(true);</p>\n\n<pre><code>JsonReader reader = new JsonReader(new InputStreamReader(is, \"UTF-8\"));\nreader.setLenient(true);\nwhile ((is.available() &gt; 0))\n{\n    reader.beginObject();\n    while (reader.hasNext()) {\n        System.out.println(\"message: \"+reader.nextName()+\"=\"+reader.nextString());\n    }\n    System.out.println(\"=== End message ===\");\n    reader.endObject();\n</code></pre>\n\n<p>This was suggested explicitly by the stack trace, when I did it, the code worked perfectly:</p>\n\n<pre><code>com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 2 column 3481 path $\n    at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1568)\n    at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1409)\n    at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:542)\n    at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:379)\n</code></pre>\n\n<p>...</p>\n"}],"owner":{"account_id":4759579,"reputation":141,"user_id":3847319,"display_name":"Yuan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81682,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":10,"score":14,"last_activity_date":1675553013,"creation_date":1408252767,"question_id":25346512,"body_markdown":"I need to read a JSON file in Java with the following structure:\r\n\r\n    {&quot;id_user&quot;:&quot;10&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 10&quot;}\r\n    {&quot;id_user&quot;:&quot;20&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 20&quot;}\r\n    {&quot;id_user&quot;:&quot;30&quot;,&quot;level&quot;:&quot;medium&quot;,&quot;text&quot;:&quot;hello 30&quot;}\r\n\r\nThanks!.\r\n\r\n------\r\n\r\n[POST-EDITED]\r\n\r\nI have this code but only read the first JSON Object, I need read the three objects one by one.    \r\n\r\n    private void loadJSONFile(){\r\n            FileReader fileReader = new FileReader(pathFile);\r\n            try (JsonReader jsonReader = new JsonReader(fileReader)) {\r\n                jsonReader.beginObject();\r\n                while (jsonReader.hasNext()) {\r\n                    String name = jsonReader.nextName();\r\n                    if (name.equals(&quot;filter_level&quot;)) {\r\n                        System.out.println(jsonReader.nextString());\r\n                    } else if (name.equals(&quot;text&quot;)) {\r\n                        System.out.println(&quot;text: &quot; + jsonReader.nextString());\r\n                    } else {\r\n                        jsonReader.skipValue();\r\n                    }\r\n                }\r\n                jsonReader.endObject();\r\n                jsonReader.close();\r\n            }\r\n        }\r\n\r\nthanks!","title":"Read Multiple Objects JSON with Java","body":"<p>I need to read a JSON file in Java with the following structure:</p>\n\n<pre><code>{\"id_user\":\"10\",\"level\":\"medium\",\"text\":\"hello 10\"}\n{\"id_user\":\"20\",\"level\":\"medium\",\"text\":\"hello 20\"}\n{\"id_user\":\"30\",\"level\":\"medium\",\"text\":\"hello 30\"}\n</code></pre>\n\n<p>Thanks!.</p>\n\n<hr>\n\n<p>[POST-EDITED]</p>\n\n<p>I have this code but only read the first JSON Object, I need read the three objects one by one.    </p>\n\n<pre><code>private void loadJSONFile(){\n        FileReader fileReader = new FileReader(pathFile);\n        try (JsonReader jsonReader = new JsonReader(fileReader)) {\n            jsonReader.beginObject();\n            while (jsonReader.hasNext()) {\n                String name = jsonReader.nextName();\n                if (name.equals(\"filter_level\")) {\n                    System.out.println(jsonReader.nextString());\n                } else if (name.equals(\"text\")) {\n                    System.out.println(\"text: \" + jsonReader.nextString());\n                } else {\n                    jsonReader.skipValue();\n                }\n            }\n            jsonReader.endObject();\n            jsonReader.close();\n        }\n    }\n</code></pre>\n\n<p>thanks!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9549,"page":674,"page_size":100}
