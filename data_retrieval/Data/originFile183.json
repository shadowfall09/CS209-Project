{"items":[{"tags":["java","spring","hibernate","vaadin","vaadin24"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1694620582,"post_id":77098117,"comment_id":135916141,"body_markdown":"Does that custom framework you did not name offer some data service abstraction layer on top of Hibernate? Just noting here that Vaadin itself has nothing and is totally agnostic regarding how you access data.","body":"Does that custom framework you did not name offer some data service abstraction layer on top of Hibernate? Just noting here that Vaadin itself has nothing and is totally agnostic regarding how you access data."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1694702375,"post_id":77098117,"comment_id":135928776,"body_markdown":"OSIV will not help with Vaadin. I wonder how it was possible that it worked before","body":"OSIV will not help with Vaadin. I wonder how it was possible that it worked before"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1694763462,"post_id":77098117,"comment_id":135936619,"body_markdown":"What is the point, when it &quot;fixes alot of the issues&quot;, but not all? OSIV is/was a band-aid in a vaadin application (it helped back in the V7/8 days so maybe still; but more likely by accident, as it prolongs the link to the session for the loaded objects across the borders of the servlet world), when your design has no barrier between DB and UI.  So the answer no one wants to hear is: fix your architecture.  Therefor I close-vote: neither the problems, that OSIV fixes are shown (I have a strong guess though) nor the remaining ones.","body":"What is the point, when it &quot;fixes alot of the issues&quot;, but not all? OSIV is/was a band-aid in a vaadin application (it helped back in the V7/8 days so maybe still; but more likely by accident, as it prolongs the link to the session for the loaded objects across the borders of the servlet world), when your design has no barrier between DB and UI.  So the answer no one wants to hear is: fix your architecture.  Therefor I close-vote: neither the problems, that OSIV fixes are shown (I have a strong guess though) nor the remaining ones."}],"owner":{"account_id":29430225,"reputation":11,"user_id":22550078,"display_name":"loooooong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694793715,"creation_date":1694615936,"question_id":77098117,"body_markdown":"Since updating the versions of Hibernate, Vaadin and a custom framework based on Vaadin of the application, many issues have appeared regarding Hibernate proxy and lazily loading, that weren&#39;t there before doing the update.\r\n\r\nI have enabled spring.jpa.open-in-view in the application.properties, since this was explicitly disabled before, and it fixed a lot of the issues. \r\n\r\nI was wondering if anyone working with Vaadin 20 or later, would discourage enabling spring.jpa.open-in-view on an application running on Vaadin 24 in production, and if so, why this would be the case? \r\n\r\nI have only found some warnings regarding it slowing down performance a bit, but the way the custom framework based on Vaadin is set up, enabling OSIV seems like the most effective and efficient way of solving the issues at this moment.","title":"Using OSIV in vaadin 24 in production","body":"<p>Since updating the versions of Hibernate, Vaadin and a custom framework based on Vaadin of the application, many issues have appeared regarding Hibernate proxy and lazily loading, that weren't there before doing the update.</p>\n<p>I have enabled spring.jpa.open-in-view in the application.properties, since this was explicitly disabled before, and it fixed a lot of the issues.</p>\n<p>I was wondering if anyone working with Vaadin 20 or later, would discourage enabling spring.jpa.open-in-view on an application running on Vaadin 24 in production, and if so, why this would be the case?</p>\n<p>I have only found some warnings regarding it slowing down performance a bit, but the way the custom framework based on Vaadin is set up, enabling OSIV seems like the most effective and efficient way of solving the issues at this moment.</p>\n"},{"tags":["java","jpa","junit","spring-data-jpa","mockito"],"answers":[{"comments":[{"owner":{"account_id":3504050,"reputation":125,"user_id":2930025,"display_name":"alaskanloops"},"score":0,"creation_date":1694800336,"post_id":77113822,"comment_id":135943658,"body_markdown":"This worked, thank you! I couldn&#39;t see the forest for the trees while trying to figure this out.","body":"This worked, thank you! I couldn&#39;t see the forest for the trees while trying to figure this out."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694793690,"creation_date":1694793690,"answer_id":77113822,"question_id":77108950,"body_markdown":"[`JpaSystemException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/JpaSystemException.html#%3Cinit%3E(java.lang.RuntimeException)) has a public constructor, so you can simply create an instance of it for your test:\r\n\r\n```\r\nfinal int errorCode = 20001;\r\nfinal Exception ex = new JpaSystemException(\r\n    new Exception(\r\n        new SQLException(&quot;reason&quot;, &quot;sqlstate&quot;, errorCode)));\r\n\r\n// ex.getCause().getCause() is your SQLException\r\n```","title":"How to unit test JpaSystemException error handling logic?","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/JpaSystemException.html#%3Cinit%3E(java.lang.RuntimeException)\" rel=\"nofollow noreferrer\"><code>JpaSystemException</code></a> has a public constructor, so you can simply create an instance of it for your test:</p>\n<pre><code>final int errorCode = 20001;\nfinal Exception ex = new JpaSystemException(\n    new Exception(\n        new SQLException(&quot;reason&quot;, &quot;sqlstate&quot;, errorCode)));\n\n// ex.getCause().getCause() is your SQLException\n</code></pre>\n"}],"owner":{"account_id":3504050,"reputation":125,"user_id":2930025,"display_name":"alaskanloops"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77113822,"answer_count":1,"score":0,"last_activity_date":1694793690,"creation_date":1694735758,"question_id":77108950,"body_markdown":"I have a JpaRepository that is calling an Oracle function, which can return a handfull of application errors.  I&#39;ve successfully handled the errors with the following util method:\r\n\r\n        private Integer pullOracleErrorCodeFromJpaException(JpaSystemException t) {\r\n        if (t.getCause().getCause() instanceof SQLException) {\r\n            SQLException sqlException = (SQLException) t.getCause().getCause();\r\n            return sqlException.getErrorCode();\r\n        }\r\n        return null;\r\n    }\r\n\r\nI can then key off of returned error in the JpaSystemException catch block like so:\r\n\r\n\r\n    try {\r\n    personProfile = personRepository.findPersonProfile(\r\n            request.getPersonId(),\r\n            request.getBillingAccount(),\r\n            request.getCustomerAccount()\r\n    } catch (JpaSystemException jse) {\r\n\r\n    Integer oracleErrorCode = pullOracleErrorCodeFromJpaException(jse);\r\n\r\n    if (oracleErrorCode == null) {\r\n        throw new OracleErrorException(&quot;Oracle Function returned an error.&quot;);\r\n    }\r\n    else if (oracleErrorCode == 20001) {\r\n        throw new InvalidRequestException(&quot;At least one variable is required to run the acp usac function.&quot;);\r\n    } else if (oracleErrorCode == 20002) {\r\n        throw new InvalidRequestException(&quot;Make sure you enter billing account in the billing account field.&quot;);\r\n    } else if (oracleErrorCode == 20003) {\r\n        throw new InvalidRequestException(&quot;Make sure you enter a customer account in the customer account field.&quot;);\r\n    } else {\r\n        throw new OracleErrorException(&quot;Oracle function returned an unrecognized application error.&quot;);\r\n    }\r\n    \r\n\r\n\r\nWhich works great! However I&#39;m having a hard time figuring out how to unit test the various return codes from Oracle, since they&#39;re 2 exceptions deep. Is it possible to set a cause 2 levels deep in a `org.mockito.Mockito.doThrow` so that I can validate each Oracle error code throws the correct subsequent exception?","title":"How to unit test JpaSystemException error handling logic?","body":"<p>I have a JpaRepository that is calling an Oracle function, which can return a handfull of application errors.  I've successfully handled the errors with the following util method:</p>\n<pre><code>    private Integer pullOracleErrorCodeFromJpaException(JpaSystemException t) {\n    if (t.getCause().getCause() instanceof SQLException) {\n        SQLException sqlException = (SQLException) t.getCause().getCause();\n        return sqlException.getErrorCode();\n    }\n    return null;\n}\n</code></pre>\n<p>I can then key off of returned error in the JpaSystemException catch block like so:</p>\n<pre><code>try {\npersonProfile = personRepository.findPersonProfile(\n        request.getPersonId(),\n        request.getBillingAccount(),\n        request.getCustomerAccount()\n} catch (JpaSystemException jse) {\n\nInteger oracleErrorCode = pullOracleErrorCodeFromJpaException(jse);\n\nif (oracleErrorCode == null) {\n    throw new OracleErrorException(&quot;Oracle Function returned an error.&quot;);\n}\nelse if (oracleErrorCode == 20001) {\n    throw new InvalidRequestException(&quot;At least one variable is required to run the acp usac function.&quot;);\n} else if (oracleErrorCode == 20002) {\n    throw new InvalidRequestException(&quot;Make sure you enter billing account in the billing account field.&quot;);\n} else if (oracleErrorCode == 20003) {\n    throw new InvalidRequestException(&quot;Make sure you enter a customer account in the customer account field.&quot;);\n} else {\n    throw new OracleErrorException(&quot;Oracle function returned an unrecognized application error.&quot;);\n}\n</code></pre>\n<p>Which works great! However I'm having a hard time figuring out how to unit test the various return codes from Oracle, since they're 2 exceptions deep. Is it possible to set a cause 2 levels deep in a <code>org.mockito.Mockito.doThrow</code> so that I can validate each Oracle error code throws the correct subsequent exception?</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":2,"creation_date":1694793339,"post_id":77113738,"comment_id":135942451,"body_markdown":"Is there a reason why you cannot simply debug your code and see which implementation ends up being used at runtime?","body":"Is there a reason why you cannot simply debug your code and see which implementation ends up being used at runtime?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694793504,"post_id":77113738,"comment_id":135942475,"body_markdown":"Also, you should get a small green bean icon in the gutter next to the autowired field. If you click it, it will take you to the location where the candidates for autowiring are being created. I&#39;m talking about IntelliJ Enterprise, of course","body":"Also, you should get a small green bean icon in the gutter next to the autowired field. If you click it, it will take you to the location where the candidates for autowiring are being created. I&#39;m talking about IntelliJ Enterprise, of course"},{"owner":{"account_id":25761652,"reputation":56,"user_id":19512473,"display_name":"javaguy"},"score":0,"creation_date":1694797737,"post_id":77113738,"comment_id":135943217,"body_markdown":"I have Intellij Ultimate but when clicking the green bean it says no autowired candidates.  Just expecting that geen bean to be better help when the implementation is in a jar that was pulled in by the pom.  I wanted to see if I could find the implementation without having to run the code","body":"I have Intellij Ultimate but when clicking the green bean it says no autowired candidates.  Just expecting that geen bean to be better help when the implementation is in a jar that was pulled in by the pom.  I wanted to see if I could find the implementation without having to run the code"}],"owner":{"account_id":25761652,"reputation":56,"user_id":19512473,"display_name":"javaguy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694792875,"creation_date":1694792875,"question_id":77113738,"body_markdown":"We have an interface in our Springboot 2 code that references an abstract method on interface of type MessageChannel  (org.springframework.messaging)\r\n\r\nThe implementation is in a class that is autoconfigured and pulled in by maven as a transitive dependency, likely by a maven artifact for RabbitMQ\r\n\r\nIn Intellij, I click the down arrow in the gutter and see a dropdown containing 33 implementations. \r\n\r\nHow can I tell which implementation in the dropdown is the one that applicable?","title":"Determine which implementation is applicable?","body":"<p>We have an interface in our Springboot 2 code that references an abstract method on interface of type MessageChannel  (org.springframework.messaging)</p>\n<p>The implementation is in a class that is autoconfigured and pulled in by maven as a transitive dependency, likely by a maven artifact for RabbitMQ</p>\n<p>In Intellij, I click the down arrow in the gutter and see a dropdown containing 33 implementations.</p>\n<p>How can I tell which implementation in the dropdown is the one that applicable?</p>\n"},{"tags":["java","string","junit","tostring","assert"],"comments":[{"owner":{"account_id":3589934,"reputation":1414,"user_id":4070984,"display_name":"Ben"},"score":0,"creation_date":1456919764,"post_id":35746442,"comment_id":59166280,"body_markdown":"Is this question JUnit&#39;s assertEquals method? If so you should add a JUnit tag.","body":"Is this question JUnit&#39;s assertEquals method? If so you should add a JUnit tag."},{"owner":{"account_id":3589934,"reputation":1414,"user_id":4070984,"display_name":"Ben"},"score":2,"creation_date":1456919821,"post_id":35746442,"comment_id":59166318,"body_markdown":"Why don&#39;t you want to call toString yourself - what&#39;s the problem you&#39;re trying to solve here?","body":"Why don&#39;t you want to call toString yourself - what&#39;s the problem you&#39;re trying to solve here?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1456919859,"post_id":35746442,"comment_id":59166347,"body_markdown":"The only way is to override the `assertEquals` method.","body":"The only way is to override the <code>assertEquals</code> method."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1456919939,"post_id":35746442,"comment_id":59166412,"body_markdown":"But the best way is to convert &quot;10,00 €&quot;To a currency object and compare the two currecy objects","body":"But the best way is to convert &quot;10,00 €&quot;To a currency object and compare the two currecy objects"}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1456919913,"post_id":35746538,"comment_id":59166391,"body_markdown":"Laziness is one of the three virtues of a programmer! Do write your own `assertToStringEquals` helper if you find that you need this a lot.","body":"Laziness is one of the three virtues of a programmer! Do write your own <code>assertToStringEquals</code> helper if you find that you need this a lot."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522143486,"creation_date":1456919794,"answer_id":35746538,"question_id":35746442,"body_markdown":"Nope, the only way to do that is to write it yourself:\r\n\r\n    assertEquals(&quot;10,00 €&quot;, new Currency(bon.getTotal()).toString());","title":"force assertEquals(String s, Object o) to use o.toString()?","body":"<p>Nope, the only way to do that is to write it yourself:</p>\n\n<pre><code>assertEquals(\"10,00 €\", new Currency(bon.getTotal()).toString());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7929539,"reputation":1273,"user_id":5987899,"accept_rate":94,"display_name":"jam"},"score":0,"creation_date":1456921363,"post_id":35746707,"comment_id":59167467,"body_markdown":"great, thanks. I totally forgot that Object has the equals method, used for comparing.  -.-","body":"great, thanks. I totally forgot that Object has the equals method, used for comparing.  -.-"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1456921857,"post_id":35746707,"comment_id":59167802,"body_markdown":"@jam Btw, I didn&#39;t mentionned it in my post, but it&#39;s a good practice to also override `hashCode()` everytime `equals()` is overriden (and vice-versa). :-)","body":"@jam Btw, I didn&#39;t mentionned it in my post, but it&#39;s a good practice to also override <code>hashCode()</code> everytime <code>equals()</code> is overriden (and vice-versa). :-)"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1456923549,"post_id":35746707,"comment_id":59168965,"body_markdown":"@jam In order to properly work with Java collections. [More details here](http://www.ibm.com/developerworks/library/j-jtp05273/).","body":"@jam In order to properly work with Java collections. <a href=\"http://www.ibm.com/developerworks/library/j-jtp05273/\" rel=\"nofollow noreferrer\">More details here</a>."}],"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456920256,"creation_date":1456920256,"answer_id":35746707,"question_id":35746442,"body_markdown":"You should compare two instances of `Currency`:\r\n\r\n    assertEquals(new Currency(&quot;10,00 €&quot;), new Currency(bon.getTotal()))\r\n\r\nTherefore, redefining `equals()` is mandatory. If the equality must be based on the string representation of `Currency`, it&#39;s also mandatory to override `toString()` (you probably already did that).\r\n\r\n    public class Currency {\r\n\r\n        ...\r\n    \r\n        @Override\r\n        public String toString() {\r\n            //overriden in a custom way\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object other) {\r\n            if(other instanceof Currency) {\r\n                Currency that = (Currency) other;\r\n                return this.toString().equals(that.toString());\r\n            }\r\n            return false;\r\n        }\r\n\r\n        ...\r\n    }","title":"force assertEquals(String s, Object o) to use o.toString()?","body":"<p>You should compare two instances of <code>Currency</code>:</p>\n\n<pre><code>assertEquals(new Currency(\"10,00 €\"), new Currency(bon.getTotal()))\n</code></pre>\n\n<p>Therefore, redefining <code>equals()</code> is mandatory. If the equality must be based on the string representation of <code>Currency</code>, it's also mandatory to override <code>toString()</code> (you probably already did that).</p>\n\n<pre><code>public class Currency {\n\n    ...\n\n    @Override\n    public String toString() {\n        //overriden in a custom way\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if(other instanceof Currency) {\n            Currency that = (Currency) other;\n            return this.toString().equals(that.toString());\n        }\n        return false;\n    }\n\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22431811,"reputation":608,"user_id":16637552,"display_name":"Xiaomin Wu"},"score":0,"creation_date":1695181698,"post_id":77113653,"comment_id":135988253,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34998812)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34998812\">From Review</a>"}],"tags":[],"owner":{"account_id":17509483,"reputation":45,"user_id":12697880,"display_name":"bahareh saremi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694792227,"creation_date":1694792227,"answer_id":77113653,"question_id":35746442,"body_markdown":"I had the same error.\r\nI used this approach.\r\nthe  `assertEquals(20 ,   new Duller(result.multiple()).toString());` did not work.\r\n\r\n    public class MoneyTest {\r\n    \r\n        @Test\r\n        public void testMultiplication(){\r\n            Duller fiveValue= new Duller(5);\r\n            Duller twoTimes = fiveValue.times(2);\r\n            assertEquals(10,twoTimes.amount);\r\n    \r\n            Duller threeTimes = fiveValue.times(3);\r\n            assertEquals(15, threeTimes.amount);\r\n    \r\n            Duller result = new Duller();\r\n            result.setAmount(4);\r\n            result.setTimes(5);\r\n           int x=  result.multiple();\r\n    \r\n    \r\n           /*\r\n           org.opentest4j.AssertionFailedError:\r\n            Expected :20\r\n            Actual   :com.bahar.test.domain.Duller@16aa0a0a\r\n            */\r\n          //  assertEquals(20 ,   new Duller(result.multiple(result.getTimes())); //actual and expected is obj\r\n            assertEquals(20,x);\r\n        }   \r\n    }\r\n\r\n\r\n    public class Duller {\r\n        int amount;\r\n        int times;\r\n    \r\n        public Duller(){}\r\n        public Duller(int amount){\r\n            this.amount=amount;\r\n        }\r\n    \r\n         Duller times(int multiple){\r\n         //   amount *=multiple; // version 1\r\n            return new Duller(amount*multiple); //version 2\r\n        }\r\n    \r\n        public int getAmount() {\r\n            return amount;\r\n        }\r\n    \r\n        public void setAmount(int amount) {\r\n            this.amount = amount;\r\n        }\r\n    \r\n        public int getTimes() {\r\n            return times;\r\n        }\r\n    \r\n        public void setTimes(int times) {\r\n            this.times = times;\r\n        }\r\n    // changed the Dullar to int\r\n       public int multiple(){\r\n            //   amount *=multiple; // version 1\r\n            return getAmount()*getTimes(); //version 2\r\n           // return this.getAmount()*this.getTimes();\r\n    \r\n        }","title":"force assertEquals(String s, Object o) to use o.toString()?","body":"<p>I had the same error.\nI used this approach.\nthe  <code>assertEquals(20 ,   new Duller(result.multiple()).toString());</code> did not work.</p>\n<pre><code>public class MoneyTest {\n\n    @Test\n    public void testMultiplication(){\n        Duller fiveValue= new Duller(5);\n        Duller twoTimes = fiveValue.times(2);\n        assertEquals(10,twoTimes.amount);\n\n        Duller threeTimes = fiveValue.times(3);\n        assertEquals(15, threeTimes.amount);\n\n        Duller result = new Duller();\n        result.setAmount(4);\n        result.setTimes(5);\n       int x=  result.multiple();\n\n\n       /*\n       org.opentest4j.AssertionFailedError:\n        Expected :20\n        Actual   :com.bahar.test.domain.Duller@16aa0a0a\n        */\n      //  assertEquals(20 ,   new Duller(result.multiple(result.getTimes())); //actual and expected is obj\n        assertEquals(20,x);\n    }   \n}\n\n\npublic class Duller {\n    int amount;\n    int times;\n\n    public Duller(){}\n    public Duller(int amount){\n        this.amount=amount;\n    }\n\n     Duller times(int multiple){\n     //   amount *=multiple; // version 1\n        return new Duller(amount*multiple); //version 2\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n\n    public int getTimes() {\n        return times;\n    }\n\n    public void setTimes(int times) {\n        this.times = times;\n    }\n// changed the Dullar to int\n   public int multiple(){\n        //   amount *=multiple; // version 1\n        return getAmount()*getTimes(); //version 2\n       // return this.getAmount()*this.getTimes();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7929539,"reputation":1273,"user_id":5987899,"accept_rate":94,"display_name":"jam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35746707,"answer_count":3,"score":1,"last_activity_date":1694792227,"creation_date":1456919513,"question_id":35746442,"body_markdown":"Is it possible to force \r\n\r\n    assertEquals(&quot;10,00 €&quot;, new Currency(bon.getTotal()))\r\n\r\nto use the toString() method of the Currency Object?\r\n(I don&#39;t want to call it myself.)\r\n\r\nSince otherwise, it compares the references, which of course don&#39;t match.\r\n\r\n&gt;  java.lang.AssertionError:  \r\n\r\n&gt; expected: java.lang.String&lt;10,00 €&gt;\r\n\r\n&gt; but was: jam.cashregister.Currency&lt;10,00 €&gt;\r\n\r\n\r\n**Update**\r\n\r\nI finally ended up with this code:\r\n\r\n    assertEquals(new Currency(bon.getTotal()), &quot;10,00 €&quot;);\r\n\r\n&gt; I don&#39;t know if it is a good idea to swap the expected with\r\n&gt; the actual part, in the assertation.\r\n\r\n    \r\n    public class Currency() {\r\n    \r\n        @Override\r\n        public boolean equals(Object other) {\r\n            return this.toString().equals(other.toString());\r\n        }\r\n    }","title":"force assertEquals(String s, Object o) to use o.toString()?","body":"<p>Is it possible to force </p>\n\n<pre><code>assertEquals(\"10,00 €\", new Currency(bon.getTotal()))\n</code></pre>\n\n<p>to use the toString() method of the Currency Object?\n(I don't want to call it myself.)</p>\n\n<p>Since otherwise, it compares the references, which of course don't match.</p>\n\n<blockquote>\n  <p>java.lang.AssertionError:  </p>\n  \n  <p>expected: java.lang.String&lt;10,00 €></p>\n  \n  <p>but was: jam.cashregister.Currency&lt;10,00 €></p>\n</blockquote>\n\n<p><strong>Update</strong></p>\n\n<p>I finally ended up with this code:</p>\n\n<pre><code>assertEquals(new Currency(bon.getTotal()), \"10,00 €\");\n</code></pre>\n\n<blockquote>\n  <p>I don't know if it is a good idea to swap the expected with\n  the actual part, in the assertation.</p>\n</blockquote>\n\n<pre><code>public class Currency() {\n\n    @Override\n    public boolean equals(Object other) {\n        return this.toString().equals(other.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","timestamp","relative-time-span"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1694770992,"post_id":77111289,"comment_id":135938012,"body_markdown":"Assuming that represents milliseconds since epoch, calculate the number of milliseconds from the timestamp to now, divide by 1000, you have seconds. Is it bigger than 60? Divide by 60 and you have minutes. Is it bigger than 60? Divide again by 60 and you have hours. Is it bigger than 24? Divide again by 24 and you have days. And so on...","body":"Assuming that represents milliseconds since epoch, calculate the number of milliseconds from the timestamp to now, divide by 1000, you have seconds. Is it bigger than 60? Divide by 60 and you have minutes. Is it bigger than 60? Divide again by 60 and you have hours. Is it bigger than 24? Divide again by 24 and you have days. And so on..."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1694771065,"post_id":77111289,"comment_id":135938035,"body_markdown":"Any solution in JS should be easily translatable to Java, or you can just code it yourself, doesn&#39;t seem very complicated as stated by @FedericoklezCulloca","body":"Any solution in JS should be easily translatable to Java, or you can just code it yourself, doesn&#39;t seem very complicated as stated by @FedericoklezCulloca"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1694771133,"post_id":77111289,"comment_id":135938052,"body_markdown":"That was more than one minute ago, but `Duration.between(Instant.ofEpochMilli(1694603269045L), Instant.now(Clock.systemUTC()));`","body":"That was more than one minute ago, but <code>Duration.between(Instant.ofEpochMilli(1694603269045L), Instant.now(Clock.systemUTC()));</code>"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":1,"creation_date":1694771439,"post_id":77111289,"comment_id":135938102,"body_markdown":"How does this Duration.between and Instant.now works?","body":"How does this Duration.between and Instant.now works?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1694771531,"post_id":77111289,"comment_id":135938114,"body_markdown":"Math. [`Duration.between(Temporal, Temporal)`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-) and [`Instant.now(Clock)`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now-java.time.Clock-)","body":"Math. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\"><code>Duration.between(Temporal, Temporal)</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now-java.time.Clock-\" rel=\"nofollow noreferrer\"><code>Instant.now(Clock)</code></a>"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1694771642,"post_id":77111289,"comment_id":135938144,"body_markdown":"How to get the string by the help of these?","body":"How to get the string by the help of these?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694771768,"post_id":77111289,"comment_id":135938165,"body_markdown":"Formatting this, specifically in English, may need you to manually arrange it.","body":"Formatting this, specifically in English, may need you to manually arrange it."}],"answers":[{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1694772118,"post_id":77111407,"comment_id":135938240,"body_markdown":"It just said Usage of API documented as @since 9+ \n\nCall requires API level 31 (current min is 24): java.time.Duration#toSecondsPart","body":"It just said Usage of API documented as @since 9+   Call requires API level 31 (current min is 24): java.time.Duration#toSecondsPart"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1694772367,"post_id":77111407,"comment_id":135938286,"body_markdown":"You can make those calls available by [`Android API Desugaring`](https://developer.android.com/studio/write/java8-support-table), I think…","body":"You can make those calls available by <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\"><code>Android API Desugaring</code></a>, I think…"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":1,"creation_date":1694775974,"post_id":77111407,"comment_id":135938899,"body_markdown":"Yeah, I did that. Thanks.","body":"Yeah, I did that. Thanks."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694771759,"creation_date":1694771759,"answer_id":77111407,"question_id":77111289,"body_markdown":"You can create an `Instant` from your *timestamp* and calculate the `Duration` between it and `Instant.now()`.\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// your timestamp\t\r\n\tlong timestamp = 1694603269045L;\r\n    // convert to an Instant\r\n\tInstant then = Instant.ofEpochMilli(timestamp);\r\n    // get &quot;now&quot;\r\n\tInstant now = Instant.now();\r\n    // calulate the Duration\r\n\tDuration duration = Duration.between(then, now);\r\n    // print the minutes part\r\n\tSystem.out.println(duration.toMinutesPart() + &quot; minutes ago&quot;);\r\n}\r\n```\r\n\r\nThis just printed\r\n```none\r\n47 minutes ago\r\n```\r\n\r\nYou will have to check which values (hours, minutes, seconds and so on) are actually zero if you want to switch from minutes to hours when minutes are 0, but hours aren&#39;t, for example. This would print `0 minutes ago` in 13 minutes and you may want to cover situations like that.","title":"How to convert timestamp into human readable time string (for example &quot;one minute ago&quot;) in Java","body":"<p>You can create an <code>Instant</code> from your <em>timestamp</em> and calculate the <code>Duration</code> between it and <code>Instant.now()</code>.</p>\n<pre><code>public static void main(String[] args) {\n    // your timestamp   \n    long timestamp = 1694603269045L;\n    // convert to an Instant\n    Instant then = Instant.ofEpochMilli(timestamp);\n    // get &quot;now&quot;\n    Instant now = Instant.now();\n    // calulate the Duration\n    Duration duration = Duration.between(then, now);\n    // print the minutes part\n    System.out.println(duration.toMinutesPart() + &quot; minutes ago&quot;);\n}\n</code></pre>\n<p>This just printed</p>\n<pre class=\"lang-none prettyprint-override\"><code>47 minutes ago\n</code></pre>\n<p>You will have to check which values (hours, minutes, seconds and so on) are actually zero if you want to switch from minutes to hours when minutes are 0, but hours aren't, for example. This would print <code>0 minutes ago</code> in 13 minutes and you may want to cover situations like that.</p>\n"},{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1694773332,"post_id":77111532,"comment_id":135938473,"body_markdown":"I found the dependency but there is no code, what does it return?","body":"I found the dependency but there is no code, what does it return?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694775436,"post_id":77111532,"comment_id":135938815,"body_markdown":"[This JUnit test](https://www.ocpsoft.org/prettytime/#examples) shows examples of what it returns. Only don’t use the outdated `Date` class as those examples do. Use `Instant` as in this answer, or other classes from java.time, the modern Java date and time API.","body":"<a href=\"https://www.ocpsoft.org/prettytime/#examples\" rel=\"nofollow noreferrer\">This JUnit test</a> shows examples of what it returns. Only don’t use the outdated <code>Date</code> class as those examples do. Use <code>Instant</code> as in this answer, or other classes from java.time, the modern Java date and time API."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694773003,"creation_date":1694773003,"answer_id":77111532,"question_id":77111289,"body_markdown":"If you want to use a third party library, you might want to take a look at [PrettyTime Library][1]\r\n\r\n\r\n  [1]: https://github.com/ocpsoft/prettytime\r\n\r\nUsing PrettyTime your code could look as simple as:\r\n\r\n    String calculateTimeAgoWithPrettyTime(final Instant pastTime) {\r\n        PrettyTime prettyTime = new PrettyTime();\r\n        return prettyTime.format(pastTime);\r\n    }","title":"How to convert timestamp into human readable time string (for example &quot;one minute ago&quot;) in Java","body":"<p>If you want to use a third party library, you might want to take a look at <a href=\"https://github.com/ocpsoft/prettytime\" rel=\"nofollow noreferrer\">PrettyTime Library</a></p>\n<p>Using PrettyTime your code could look as simple as:</p>\n<pre><code>String calculateTimeAgoWithPrettyTime(final Instant pastTime) {\n    PrettyTime prettyTime = new PrettyTime();\n    return prettyTime.format(pastTime);\n}\n</code></pre>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694870069,"accepted_answer_id":77111407,"answer_count":2,"score":0,"last_activity_date":1694792006,"creation_date":1694770735,"question_id":77111289,"body_markdown":"I am trying to create a chat application in android studio.  \r\nI have a timestamp, say this\r\n```none\r\n1694603269045\r\n```\r\nNow I want to convert this timestamp into human readable way like `one minute ago` or `one hour ago`. I will is into my `storyView` mode where a user will be able to see when his friends uploaded a story/status.\r\n\r\nI need this as `String`, like\r\n```none\r\none minute ago\r\n```\r\nso that I can use it in a `TextView`. Is that possible?\r\n\r\nI tried to find some solutions but most of them are related to javascript where I need it in Java.\r\nThe `String` needs to be like this: \r\n[![Example][1]][1]\r\n\r\nIs that possible in Java in some way? Thank You.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIZTI.png","title":"How to convert timestamp into human readable time string (for example &quot;one minute ago&quot;) in Java","body":"<p>I am trying to create a chat application in android studio.<br />\nI have a timestamp, say this</p>\n<pre class=\"lang-none prettyprint-override\"><code>1694603269045\n</code></pre>\n<p>Now I want to convert this timestamp into human readable way like <code>one minute ago</code> or <code>one hour ago</code>. I will is into my <code>storyView</code> mode where a user will be able to see when his friends uploaded a story/status.</p>\n<p>I need this as <code>String</code>, like</p>\n<pre class=\"lang-none prettyprint-override\"><code>one minute ago\n</code></pre>\n<p>so that I can use it in a <code>TextView</code>. Is that possible?</p>\n<p>I tried to find some solutions but most of them are related to javascript where I need it in Java.\nThe <code>String</code> needs to be like this:\n<a href=\"https://i.stack.imgur.com/fIZTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIZTI.png\" alt=\"Example\" /></a></p>\n<p>Is that possible in Java in some way? Thank You.</p>\n"},{"tags":["java","jackson","deep-copy"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":2,"creation_date":1668900301,"post_id":74501974,"comment_id":131519523,"body_markdown":"Have you tried: `.addMixIn(MultipartFile[].class, JacksonMixInForIgnoreType.class)`? It should work in the same way. Which version of Jackson do you use?","body":"Have you tried: <code>.addMixIn(MultipartFile[].class, JacksonMixInForIgnoreType.class)</code>? It should work in the same way. Which version of Jackson do you use?"}],"answers":[{"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1668959064,"post_id":74509369,"comment_id":131527377,"body_markdown":"I never tried but you could try something like `TypeReference&lt;List&lt;MultipartFile&gt;&gt; typeRef = new TypeReference&lt;List&lt;MultipartFile()&gt;{};mapper.addMixIn(typeRef.getClass(),JacksonMixInForIgnoreType.class);`","body":"I never tried but you could try something like <code>TypeReference&lt;List&lt;MultipartFile&gt;&gt; typeRef = new TypeReference&lt;List&lt;MultipartFile()&gt;{};mapper.addMixIn(typeRe&zwnj;&#8203;f.getClass(),Jackson&zwnj;&#8203;MixInForIgnoreType.c&zwnj;&#8203;lass);</code>"},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1669045970,"post_id":74509369,"comment_id":131548271,"body_markdown":"`TypeReference&lt;List&lt;MultipartFile&gt;&gt; typeRef = new TypeReference&lt;List&lt;MultipartFile&gt;&gt;(){}; mapper.addMixIn(typeRef.getClass(), JacksonMixInForIgnoreType.class);` doesn&#39;t work for me. `typeRef.getClass().toString()` is `class com.example.uploadingfiles.FileUploadController$1`, not `java.util.List&lt;org.springframework.web.multipart.MultipartFile&gt;`. `mapper.addMixIn(typeRef.getType().getClass(), JacksonMixInForIgnoreType.class);` is also doesn&#39;t work for me.","body":"<code>TypeReference&lt;List&lt;MultipartFile&gt;&gt; typeRef = new TypeReference&lt;List&lt;MultipartFile&gt;&gt;(){}; mapper.addMixIn(typeRef.getClass(), JacksonMixInForIgnoreType.class);</code> doesn&#39;t work for me. <code>typeRef.getClass().toString()</code> is <code>class com.example.uploadingfiles.FileUploadController$1</code>, not <code>java.util.List&lt;org.springframework.web.multipart.MultipartFi&zwnj;&#8203;le&gt;</code>. <code>mapper.addMixIn(typeRef.getType().getClass(), JacksonMixInForIgnoreType.class);</code> is also doesn&#39;t work for me."}],"tags":[],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668957621,"creation_date":1668957621,"answer_id":74509369,"question_id":74501974,"body_markdown":"I am using Jackson Databind 2.13.1. The following code works for `MultipartFile[]` (based on @Michał Ziober&#39;s comment):\r\n\r\n```java\r\nprivate Object makeClone(Object obj) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.addMixIn(MultipartFile.class, JacksonMixInForIgnoreType.class);\r\n    mapper.addMixIn(MultipartFile[].class, JacksonMixInForIgnoreType.class);\r\n    try {\r\n        return mapper.readValue(mapper.writeValueAsString(obj), obj.getClass());\r\n    } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nAnd I couldn&#39;t find the way to ignore `List&lt;MultipartFile&gt;` with `ObjectMapper#addMixIn()`.\r\n","title":"Tell Jackson to ignore a property that is a array/collection of a specific type","body":"<p>I am using Jackson Databind 2.13.1. The following code works for <code>MultipartFile[]</code> (based on @Michał Ziober's comment):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Object makeClone(Object obj) {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.addMixIn(MultipartFile.class, JacksonMixInForIgnoreType.class);\n    mapper.addMixIn(MultipartFile[].class, JacksonMixInForIgnoreType.class);\n    try {\n        return mapper.readValue(mapper.writeValueAsString(obj), obj.getClass());\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>And I couldn't find the way to ignore <code>List&lt;MultipartFile&gt;</code> with <code>ObjectMapper#addMixIn()</code>.</p>\n"},{"comments":[{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":2,"creation_date":1694878703,"post_id":77113612,"comment_id":135950765,"body_markdown":"Thank you for your information, but this code ignores not only `List&lt;MultipartFile&gt;` but also other List like `List&lt;String&gt;`, so is not suitable for my purpose.","body":"Thank you for your information, but this code ignores not only <code>List&lt;MultipartFile&gt;</code> but also other List like <code>List&lt;String&gt;</code>, so is not suitable for my purpose."}],"tags":[],"owner":{"account_id":29453953,"reputation":1,"user_id":22570188,"display_name":"woordi52"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694791938,"creation_date":1694791769,"answer_id":77113612,"question_id":74501974,"body_markdown":"    ObjectMapper mapper = new ObjectMapper();\r\n    TypeFactory typeFactory = mapper.getTypeFactory();\r\n    CollectionType collectionType = typeFactory.constructCollectionType(List.class, MultipartFile.class);\r\n    mapper.configOverride(collectionType.getRawClass()).setIsIgnoredType(true);\r\n\r\nthis code worked for me, please try.","title":"Tell Jackson to ignore a property that is a array/collection of a specific type","body":"<pre><code>ObjectMapper mapper = new ObjectMapper();\nTypeFactory typeFactory = mapper.getTypeFactory();\nCollectionType collectionType = typeFactory.constructCollectionType(List.class, MultipartFile.class);\nmapper.configOverride(collectionType.getRawClass()).setIsIgnoredType(true);\n</code></pre>\n<p>this code worked for me, please try.</p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74509369,"answer_count":2,"score":0,"last_activity_date":1694791938,"creation_date":1668877526,"question_id":74501974,"body_markdown":"## Background\r\n\r\n- I want to clone DTOs that store values from a request in Spring Boot.\r\n  - Sometimes it has a non-serializable field (i.e. `MultipartFile`), so I can&#39;t use the strategy to use `ObjectOutputStream`/`ObjectInputStream` like https://stackoverflow.com/a/64066/3902663 .\r\n- I don&#39;t have control over these DTOs, so I can&#39;t add a `transient` modifier to ignore these fields.\r\n\r\n\r\n## What I tried\r\n\r\nI tried to write a method with Jackson&#39;s `ObjectMapper`. You can use `@JsonIgnoreType` and `ObjectMapper#addMixIn()` to ignore non-serializable fields according to their class without changing the definition of DTOs.\r\n\r\n```java\r\nprivate Object makeClone(Object obj) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.addMixIn(MultipartFile.class, JacksonMixInForIgnoreType.class);\r\n    try {\r\n        return mapper.readValue(mapper.writeValueAsString(obj), obj.getClass());\r\n    } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\n@JsonIgnoreType\r\nclass JacksonMixInForIgnoreType {}\r\n```\r\n\r\n## Problem\r\n\r\nYou can&#39;t ignore the field like `MultipartFile[] fileArray;` with this strategy. When you have an array of `MultipartFile` in a DTO to upload multiple files, the code above throws an exception like this:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.example.uploadingfiles.DeepCopyDto[&quot;fileArray&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\r\n        at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n        at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n ...\r\n```\r\n\r\n## Question\r\n\r\nIs there any way to tell Jackson to ignore a property that is an array/collection of a specific type?\r\n","title":"Tell Jackson to ignore a property that is a array/collection of a specific type","body":"<h2>Background</h2>\n<ul>\n<li>I want to clone DTOs that store values from a request in Spring Boot.\n<ul>\n<li>Sometimes it has a non-serializable field (i.e. <code>MultipartFile</code>), so I can't use the strategy to use <code>ObjectOutputStream</code>/<code>ObjectInputStream</code> like <a href=\"https://stackoverflow.com/a/64066/3902663\">https://stackoverflow.com/a/64066/3902663</a> .</li>\n</ul>\n</li>\n<li>I don't have control over these DTOs, so I can't add a <code>transient</code> modifier to ignore these fields.</li>\n</ul>\n<h2>What I tried</h2>\n<p>I tried to write a method with Jackson's <code>ObjectMapper</code>. You can use <code>@JsonIgnoreType</code> and <code>ObjectMapper#addMixIn()</code> to ignore non-serializable fields according to their class without changing the definition of DTOs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Object makeClone(Object obj) {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.addMixIn(MultipartFile.class, JacksonMixInForIgnoreType.class);\n    try {\n        return mapper.readValue(mapper.writeValueAsString(obj), obj.getClass());\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n}\n\n@JsonIgnoreType\nclass JacksonMixInForIgnoreType {}\n</code></pre>\n<h2>Problem</h2>\n<p>You can't ignore the field like <code>MultipartFile[] fileArray;</code> with this strategy. When you have an array of <code>MultipartFile</code> in a DTO to upload multiple files, the code above throws an exception like this:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.example.uploadingfiles.DeepCopyDto[&quot;fileArray&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\n        at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.1.jar:2.13.1]\n        at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.1.jar:2.13.1]\n ...\n</code></pre>\n<h2>Question</h2>\n<p>Is there any way to tell Jackson to ignore a property that is an array/collection of a specific type?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694699126,"creation_date":1694698883,"answer_id":77105491,"question_id":77105433,"body_markdown":"The second instance t2 gets you also the nanoseconds, so it is more precise. The first one stops at milliseconds.\r\n\r\nt1 console log:\r\n2023-09-14 16:44:51.055\r\n\r\nt2 console log:\r\n2023-09-14 16:44:51.057259","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>The second instance t2 gets you also the nanoseconds, so it is more precise. The first one stops at milliseconds.</p>\n<p>t1 console log:\n2023-09-14 16:44:51.055</p>\n<p>t2 console log:\n2023-09-14 16:44:51.057259</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694718028,"post_id":77105505,"comment_id":135931819,"body_markdown":"This is true only for Java 9+. In Java 8, `Instant.now` has only milliseconds, with zero microseconds/nanoseconds.","body":"This is true only for Java 9+. In Java 8, <code>Instant.now</code> has only milliseconds, with zero microseconds/nanoseconds."}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694698950,"creation_date":1694698950,"answer_id":77105505,"question_id":77105433,"body_markdown":"I know that there is only one not significant difference:\r\n\r\n `Timestamp.from(Instant.now())` is more precise, as it can represent timestamps with a resolution of nanoseconds. \r\n\r\n`new Timestamp(System.currentTimeMillis())` can only represent timestamps with a resolution of milliseconds.\r\n\r\n","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>I know that there is only one not significant difference:</p>\n<p><code>Timestamp.from(Instant.now())</code> is more precise, as it can represent timestamps with a resolution of nanoseconds.</p>\n<p><code>new Timestamp(System.currentTimeMillis())</code> can only represent timestamps with a resolution of milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698978,"creation_date":1694698978,"answer_id":77105509,"question_id":77105433,"body_markdown":"By looking at the [source code][1] there are indeed subtle differences in the implementation:\r\n\r\n```\r\npublic static Timestamp from(Instant instant) {\r\n    try {\r\n        Timestamp stamp = new Timestamp(instant.getEpochSecond() * MILLIS_PER_SECOND);\r\n        stamp.nanos = instant.getNano();\r\n        return stamp;\r\n    } catch (ArithmeticException ex) {\r\n        throw new IllegalArgumentException(ex);\r\n    }\r\n}\r\n```\r\nvs\r\n```\r\npublic Timestamp(long time) {\r\n    super((time/1000)*1000);\r\n    nanos = (int)((time%1000) * 1000000);\r\n    if (nanos &lt; 0) {\r\n        nanos = 1000000000 + nanos;\r\n        super.setTime(((time/1000)-1)*1000);\r\n    }\r\n}\r\n```\r\n\r\nIn practice I&#39;d say that none of those is significantly better or worse than the other(1). However, factory methods _may_ allow for optimizations in future JDK versions (cf. https://stackoverflow.com/q/3130311/4616087) so I&#39;d personally prefer `from`.\r\n\r\n(1) Other answers mention the different resolution of nanos vs millis but that also depends on the system clock and more often than not does not make a difference in real-world code. It can also simply be remedied by using [`System.nanoTime()`][2].\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Timestamp.java\r\n  [2]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/lang/System.html#nanoTime()","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>By looking at the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Timestamp.java\" rel=\"nofollow noreferrer\">source code</a> there are indeed subtle differences in the implementation:</p>\n<pre><code>public static Timestamp from(Instant instant) {\n    try {\n        Timestamp stamp = new Timestamp(instant.getEpochSecond() * MILLIS_PER_SECOND);\n        stamp.nanos = instant.getNano();\n        return stamp;\n    } catch (ArithmeticException ex) {\n        throw new IllegalArgumentException(ex);\n    }\n}\n</code></pre>\n<p>vs</p>\n<pre><code>public Timestamp(long time) {\n    super((time/1000)*1000);\n    nanos = (int)((time%1000) * 1000000);\n    if (nanos &lt; 0) {\n        nanos = 1000000000 + nanos;\n        super.setTime(((time/1000)-1)*1000);\n    }\n}\n</code></pre>\n<p>In practice I'd say that none of those is significantly better or worse than the other(1). However, factory methods <em>may</em> allow for optimizations in future JDK versions (cf. <a href=\"https://stackoverflow.com/q/3130311/4616087\">Weird Integer boxing in Java</a>) so I'd personally prefer <code>from</code>.</p>\n<p>(1) Other answers mention the different resolution of nanos vs millis but that also depends on the system clock and more often than not does not make a difference in real-world code. It can also simply be remedied by using <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1694703128,"post_id":77106035,"comment_id":135928949,"body_markdown":"This is a good answer, and everything works fine, but would just like to remind readers that in the general case, if you want to get the average of two integers that could possibly be very large (not so in this particular case), it&#39;s safer to average using `n1 + (n2 - n1) / 2` in order to avoid the possibility of overflow.","body":"This is a good answer, and everything works fine, but would just like to remind readers that in the general case, if you want to get the average of two integers that could possibly be very large (not so in this particular case), it&#39;s safer to average using <code>n1 + (n2 - n1) &#47; 2</code> in order to avoid the possibility of overflow."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694703090,"creation_date":1694702702,"answer_id":77106035,"question_id":77105433,"body_markdown":"Sans any internal implementation differences, as long as you&#39;re talking about milliseconds then they are the same as they are both how many milliseconds from the epoch date and time (aka [Unix time](https://en.wikipedia.org/wiki/Unix_time#:~:text=Early%20definitions%20of%20Unix%20time,to%20avoid%20short%2Dterm%20overflow)) of 1970-01-01 00:00 UTC have elapsed.\r\n\r\nAny delta time it takes to invoke the two calls is somewhat mitigated by calling twice in different order and then averaging.\r\n```\r\nlong instant1 = Instant.now().toEpochMilli();\r\nlong system1 = System.currentTimeMillis();\r\n\r\nlong system2 = System.currentTimeMillis();\r\nlong instant2 = Instant.now().toEpochMilli();\r\n\r\nSystem.out.println((system1 + system2)/2);\r\nSystem.out.println((instant1 + instant2)/2);\r\n```\r\nprints something like\r\n```\r\n1694702273207\r\n1694702273207        ","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>Sans any internal implementation differences, as long as you're talking about milliseconds then they are the same as they are both how many milliseconds from the epoch date and time (aka <a href=\"https://en.wikipedia.org/wiki/Unix_time#:%7E:text=Early%20definitions%20of%20Unix%20time,to%20avoid%20short%2Dterm%20overflow\" rel=\"nofollow noreferrer\">Unix time</a>) of 1970-01-01 00:00 UTC have elapsed.</p>\n<p>Any delta time it takes to invoke the two calls is somewhat mitigated by calling twice in different order and then averaging.</p>\n<pre><code>long instant1 = Instant.now().toEpochMilli();\nlong system1 = System.currentTimeMillis();\n\nlong system2 = System.currentTimeMillis();\nlong instant2 = Instant.now().toEpochMilli();\n\nSystem.out.println((system1 + system2)/2);\nSystem.out.println((instant1 + instant2)/2);\n</code></pre>\n<p>prints something like</p>\n<pre><code>1694702273207\n1694702273207        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694706390,"creation_date":1694706390,"answer_id":77106528,"question_id":77105433,"body_markdown":"Which one is better depends on your requirements. If you want more than milliseconds precision, use `Timestamp.from(Instant.now())`. However, you should bear the following points in mind:\r\n\r\n1. Your system clock almost certainly does not have nanosecond accuracy. You will be lucky if it is within a millisecond of actual UTC.\r\n2. Your DBMS probably holds SQL timestamp values with less than nanosecond precision. For example, PostgreSQL has microsecond precision.\r\n3. Using the nanoseconds from `Instant.now()` is only useful when you compare two such instants to see which one came first. Even then, it is not 100% guaranteed that Instant uses a monotonic clock (so not 100% guaranteed that if you call `Instant.now()` twice, you&#39;ll get a higher value from the second call). However, on a well maintained Linux system running `ntpd`, your system clock _should_ be monotonic and therefore, in those circumstances, you _could_ use the timestamp to determine which event came after which.","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>Which one is better depends on your requirements. If you want more than milliseconds precision, use <code>Timestamp.from(Instant.now())</code>. However, you should bear the following points in mind:</p>\n<ol>\n<li>Your system clock almost certainly does not have nanosecond accuracy. You will be lucky if it is within a millisecond of actual UTC.</li>\n<li>Your DBMS probably holds SQL timestamp values with less than nanosecond precision. For example, PostgreSQL has microsecond precision.</li>\n<li>Using the nanoseconds from <code>Instant.now()</code> is only useful when you compare two such instants to see which one came first. Even then, it is not 100% guaranteed that Instant uses a monotonic clock (so not 100% guaranteed that if you call <code>Instant.now()</code> twice, you'll get a higher value from the second call). However, on a well maintained Linux system running <code>ntpd</code>, your system clock <em>should</em> be monotonic and therefore, in those circumstances, you <em>could</em> use the timestamp to determine which event came after which.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694791859,"creation_date":1694718748,"answer_id":77107792,"question_id":77105433,"body_markdown":"# Moot question\r\n\r\nSeveral good Answers already. But none mention the most important thing: Your Question is moot. \r\n\r\nThe terribly flawed `java.sql.Timestamp` class was years ago supplanted by the modern *java.time* classes defined in JSR 310 for Java 8+. Specifically replaced by `OffsetDateTime` for JDBC (database access), and by `Instant` for more general purposes. \r\n\r\n[JDBC][1] 4.2+ requires all [drivers][2] to support *java.time*. [Jakarta Persistence][3] (JPA) and [Hibernate][4] have been updated to support *java.time*. \r\n\r\nSo there is **no reason for you to be constructing any `Timestamp`** objects. Do all your work in *java.time* classes. \r\n\r\n## *java.time* with JDBC\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now() ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval:\r\n\r\n    OffsetDateTime odt = myReultSet.getObject( … , OffsetDateTime.class ) ; \r\n\r\n## Converting legacy ↔ modern\r\n\r\nYou may need to interoperate with old code not yet updated to *java.time*. You can convert back and forth between legacy and modern classes by calling new conversion methods added to the old classes. \r\n\r\n    Timestamp ts = java.sql.Timestamp.from( odt.toInstant() ) ;\r\n\r\nAnd the other direction:\r\n\r\n    Instant instant = ts.toInstant() ;\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n\r\nBy the way… Both `OffsetDateTime` and `Instant` resolve to nanoseconds. Be aware that many databases do not support such fine granularity. You can [truncate][5] your *java.time* objects if need be. \r\n\r\n    \r\n    \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [2]: https://en.m.wikipedia.org/wiki/JDBC_driver\r\n  [3]: https://en.m.wikipedia.org/wiki/Jakarta_Persistence\r\n  [4]: https://en.m.wikipedia.org/wiki/Hibernate_(framework)\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<h1>Moot question</h1>\n<p>Several good Answers already. But none mention the most important thing: Your Question is moot.</p>\n<p>The terribly flawed <code>java.sql.Timestamp</code> class was years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310 for Java 8+. Specifically replaced by <code>OffsetDateTime</code> for JDBC (database access), and by <code>Instant</code> for more general purposes.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> 4.2+ requires all <a href=\"https://en.m.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">drivers</a> to support <em>java.time</em>. <a href=\"https://en.m.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\">Jakarta Persistence</a> (JPA) and <a href=\"https://en.m.wikipedia.org/wiki/Hibernate_(framework)\" rel=\"nofollow noreferrer\">Hibernate</a> have been updated to support <em>java.time</em>.</p>\n<p>So there is <strong>no reason for you to be constructing any <code>Timestamp</code></strong> objects. Do all your work in <em>java.time</em> classes.</p>\n<h2><em>java.time</em> with JDBC</h2>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now() ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>OffsetDateTime odt = myReultSet.getObject( … , OffsetDateTime.class ) ; \n</code></pre>\n<h2>Converting legacy ↔ modern</h2>\n<p>You may need to interoperate with old code not yet updated to <em>java.time</em>. You can convert back and forth between legacy and modern classes by calling new conversion methods added to the old classes.</p>\n<pre><code>Timestamp ts = java.sql.Timestamp.from( odt.toInstant() ) ;\n</code></pre>\n<p>And the other direction:</p>\n<pre><code>Instant instant = ts.toInstant() ;\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>By the way… Both <code>OffsetDateTime</code> and <code>Instant</code> resolve to nanoseconds. Be aware that many databases do not support such fine granularity. You can <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">truncate</a> your <em>java.time</em> objects if need be.</p>\n"}],"owner":{"account_id":16466407,"reputation":584,"user_id":11896414,"display_name":"once"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":77106528,"answer_count":6,"score":2,"last_activity_date":1694791859,"creation_date":1694698397,"question_id":77105433,"body_markdown":"I was wondering is there any difference or which one is better between these two in creating a current sql `timestamp`\r\n\r\n    java.sql.Timestamp t1 = new Timestamp(System.currentTimeMillis());\r\n    \r\n    java.sql.Timestamp t2 = Timestamp.from(Instant.now());","title":"Any difference in creating Timestamp using constructor vs from an Instant","body":"<p>I was wondering is there any difference or which one is better between these two in creating a current sql <code>timestamp</code></p>\n<pre><code>java.sql.Timestamp t1 = new Timestamp(System.currentTimeMillis());\n\njava.sql.Timestamp t2 = Timestamp.from(Instant.now());\n</code></pre>\n"},{"tags":["java","spring","jdbc","sybase","jconnect"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694792519,"post_id":77113363,"comment_id":135942298,"body_markdown":"If you Google for &quot;sybase jdbc driver&quot; you will see a number of search results.  The Sybase documentation suggests the SQL Anywhere JDBC 3.0 driver or the SQL Anywhere JDBC 4.0 driver or the jConnect driver.  There are a few options to try.","body":"If you Google for &quot;sybase jdbc driver&quot; you will see a number of search results.  The Sybase documentation suggests the SQL Anywhere JDBC 3.0 driver or the SQL Anywhere JDBC 4.0 driver or the jConnect driver.  There are a few options to try."}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694791083,"creation_date":1694789321,"question_id":77113363,"body_markdown":"I am successfullt able to connect to sybase db using jconnect4 lib &amp; bcpkix-jdk15on and below code\r\n\r\n```\r\nimport com.sybase.jdbc4.jdbc.SybDataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\n\r\npublic class SybaseConnectionManager {\r\n    public static Connection getSybaseConnection(String serverName, String databaseName, String userName, String password, String url) throws DataGeneratorException {\r\n        SybDataSource ds = new SybDataSource();\r\n\r\n        try {\r\n            ds.setServerName(serverName);\r\n            ds.setDatabaseName(databaseName);\r\n            ds.setUser(userName);\r\n            ds.setPassword(password);\r\n\r\n            // Splitting URL by semicolon\r\n            String[] params = url.split(&quot;;&quot;);\r\n            for (String param : params) {\r\n                String[] props = param.split(&quot;=&quot;);\r\n                switch (props[0].toUpperCase()) {\r\n                    case &quot;PORT&quot;:\r\n                        ds.setPortNumber(Integer.parseInt(props[1]));\r\n                        break;\r\n                    case &quot;ENCRYPT_PASSWORD&quot;:\r\n                        ds.setENCRYPT_PASSWORD(props[1]);\r\n                        break;\r\n                    case &quot;RETRY_WITH_NO_ENCRYPTION&quot;:\r\n                        ds.setRETRY_WITH_NO_ENCRYPTION(props[1]);\r\n                        break;\r\n                    case &quot;JCE_PROVIDER_CLASS&quot;:\r\n                        ds.setJCE_PROVIDER_CLASS(props[1]);\r\n                        break;\r\n                }\r\n            }\r\n\r\n            // Get the connection\r\n            Connection con = ds.getConnection();\r\n            con.setAutoCommit(false);\r\n            return con;\r\n        } catch (SQLException e) {\r\n            log.error(&quot;Handling Sybase Exception&quot;, e);\r\n            throw new DataGeneratorException(e.getMessage());\r\n        }\r\n    }\r\n```\r\nI tried connecting to sybase db using jtds lib but getting error &quot;Adaptive Server requires encryption of the login password on the network&quot;. I created jdbc url for jtds like below \r\n```\r\njdbc:jtds:sybase://&lt;hostname&gt;:&lt;portno&gt;/&lt;dbname&gt;\r\nconn prop below:--\r\nuser:\r\npassword:\r\nencrypt_password:\r\nretry_with_no_encryyption:\r\njce_provider_class:\r\n```\r\nwhy I&#39;m trying to connect with sybase because of this issue jconnect4 with ojdbcx lib giving noclassfounderror in linux server when used in single application.\r\nhttps://stackoverflow.com/questions/77096194/getting-classnotfounderror-for-oracle-and-sybase-db-connection-in-linux-server","title":"How to make Connection to sybase db not using jconnect4 in java","body":"<p>I am successfullt able to connect to sybase db using jconnect4 lib &amp; bcpkix-jdk15on and below code</p>\n<pre><code>import com.sybase.jdbc4.jdbc.SybDataSource;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic class SybaseConnectionManager {\n    public static Connection getSybaseConnection(String serverName, String databaseName, String userName, String password, String url) throws DataGeneratorException {\n        SybDataSource ds = new SybDataSource();\n\n        try {\n            ds.setServerName(serverName);\n            ds.setDatabaseName(databaseName);\n            ds.setUser(userName);\n            ds.setPassword(password);\n\n            // Splitting URL by semicolon\n            String[] params = url.split(&quot;;&quot;);\n            for (String param : params) {\n                String[] props = param.split(&quot;=&quot;);\n                switch (props[0].toUpperCase()) {\n                    case &quot;PORT&quot;:\n                        ds.setPortNumber(Integer.parseInt(props[1]));\n                        break;\n                    case &quot;ENCRYPT_PASSWORD&quot;:\n                        ds.setENCRYPT_PASSWORD(props[1]);\n                        break;\n                    case &quot;RETRY_WITH_NO_ENCRYPTION&quot;:\n                        ds.setRETRY_WITH_NO_ENCRYPTION(props[1]);\n                        break;\n                    case &quot;JCE_PROVIDER_CLASS&quot;:\n                        ds.setJCE_PROVIDER_CLASS(props[1]);\n                        break;\n                }\n            }\n\n            // Get the connection\n            Connection con = ds.getConnection();\n            con.setAutoCommit(false);\n            return con;\n        } catch (SQLException e) {\n            log.error(&quot;Handling Sybase Exception&quot;, e);\n            throw new DataGeneratorException(e.getMessage());\n        }\n    }\n</code></pre>\n<p>I tried connecting to sybase db using jtds lib but getting error &quot;Adaptive Server requires encryption of the login password on the network&quot;. I created jdbc url for jtds like below</p>\n<pre><code>jdbc:jtds:sybase://&lt;hostname&gt;:&lt;portno&gt;/&lt;dbname&gt;\nconn prop below:--\nuser:\npassword:\nencrypt_password:\nretry_with_no_encryyption:\njce_provider_class:\n</code></pre>\n<p>why I'm trying to connect with sybase because of this issue jconnect4 with ojdbcx lib giving noclassfounderror in linux server when used in single application.\n<a href=\"https://stackoverflow.com/questions/77096194/getting-classnotfounderror-for-oracle-and-sybase-db-connection-in-linux-server\">Getting ClassNotFoundError for oracle and sybase db connection in linux server, but in local wndows eclipse it is working fine</a></p>\n"},{"tags":["java","spring-boot","threadpool"],"answers":[{"tags":[],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633716682,"creation_date":1633716022,"answer_id":69500000,"question_id":69498421,"body_markdown":"Short answer? Yes\r\n\r\nOn shutdown ( either by hitting by a request to the shutdown end point or by calling applicationcontext.close ) by default, Spring&#39;s TaskExecutor simply interrupts all running tasks.\r\n\r\nNote that your threads must be in an interruptible state (e.g. sleep) to actually be interrupted.  \r\n\r\nIn some cases you may want to wait for all running tasks to be complete.\r\n\r\ncalling setWaitForTasksToCompleteOnShutdown(true) simply prevents interrupting the running tasks on shutdown and ensures that both the currently executing tasks and queued up tasks are completed.\r\n\r\n\r\n( I assume this is because they are non-daemon threads that prevent application exit. )\r\n\r\nIn short, the answer to your question is yes.\r\n\r\nYou can play with the following piece of code. When you change setWait from false to true, you will see that the application will not exit until the sleep is over. When you set it to false, the application will terminate immediately.\r\n\r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.core.task.TaskExecutor;\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \t@Autowired\r\n    \tprivate TaskExecutor taskExecutor;\r\n    \t\r\n    \t@Bean\r\n    \tpublic TaskExecutor taskExecutor() {\r\n    \t    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n    \t    taskExecutor.setCorePoolSize(2);\r\n    \t    taskExecutor.setMaxPoolSize(2);\r\n    \t    taskExecutor.setWaitForTasksToCompleteOnShutdown(false);\r\n    \t    taskExecutor.initialize();\r\n    \t    return taskExecutor;\r\n    \t}\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void runTaskOnStartup() {\r\n    \t    for (int i = 0; i &lt; 1; i++) {\r\n    \t        taskExecutor.execute(() -&gt; {\r\n    \t            try {\r\n    \t\t\t\t\tThread.sleep(10_000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Sleep Interrupted!&quot;);\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t        });\r\n    \t    }\r\n    \t}\r\n    \t\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext run = SpringApplication.run(Application.class, args);\r\n            run.close();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring Boot async task stuck on shutdown","body":"<p>Short answer? Yes</p>\n<p>On shutdown ( either by hitting by a request to the shutdown end point or by calling applicationcontext.close ) by default, Spring's TaskExecutor simply interrupts all running tasks.</p>\n<p>Note that your threads must be in an interruptible state (e.g. sleep) to actually be interrupted.</p>\n<p>In some cases you may want to wait for all running tasks to be complete.</p>\n<p>calling setWaitForTasksToCompleteOnShutdown(true) simply prevents interrupting the running tasks on shutdown and ensures that both the currently executing tasks and queued up tasks are completed.</p>\n<p>( I assume this is because they are non-daemon threads that prevent application exit. )</p>\n<p>In short, the answer to your question is yes.</p>\n<p>You can play with the following piece of code. When you change setWait from false to true, you will see that the application will not exit until the sleep is over. When you set it to false, the application will terminate immediately.</p>\n<pre><code>import javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.core.task.TaskExecutor;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\n\n@SpringBootApplication\npublic class Application {\n    @Autowired\n    private TaskExecutor taskExecutor;\n    \n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(2);\n        taskExecutor.setMaxPoolSize(2);\n        taskExecutor.setWaitForTasksToCompleteOnShutdown(false);\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n    \n    @PostConstruct\n    public void runTaskOnStartup() {\n        for (int i = 0; i &lt; 1; i++) {\n            taskExecutor.execute(() -&gt; {\n                try {\n                    Thread.sleep(10_000);\n                } catch (InterruptedException e) {\n                    System.out.println(&quot;Sleep Interrupted!&quot;);\n                    e.printStackTrace();\n                }\n            });\n        }\n    }\n    \n    public static void main(String[] args) {\n        ConfigurableApplicationContext run = SpringApplication.run(Application.class, args);\n        run.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22670093,"reputation":51,"user_id":16841967,"display_name":"Bruno Genovese"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694790775,"creation_date":1694790775,"answer_id":77113515,"question_id":69498421,"body_markdown":"As far as I can tell after extensive googling the root cause is that in Java 17 (possibly earlier) they deprecated Thread.stop(), making threads that cannot be interrupted or stopped via a flag... unstoppable from inside java.\r\n\r\nI would love a better solution, but this clunky approach currently works for me:\r\n\r\n- Use the ThreadExecutor to launch the thread.\r\n- Add a &quot;stop&quot; flag that the thread code can check, ending the processing loop if set.\r\n- To stop, set the flag.  Wait for a &quot;stop tolerance time&quot; for the thread to hit that flag check and end cleanly.\r\n- After the tolerance time, if not stopped use an interrupt (2nd stop attempt).  I do it on the thread, which is possibly not ideal and it might be better to do it on the TaskExecutor.\r\n- A second later, if the thread still has not stopped, I use the deprecated Thread.stop() as a final resort (3rd stop attempt).  This is known to be a **bad approach**, but has not caused **me** any problems for a decade.  \r\n- As another undesirable alternative to stop, there is always the option to kill the executable itself, by hand.  Nasty, but under some emergency circumstances it might be the only way to stop a long-running thread.\r\n\r\nI sincerely hope I am wrong and that there is a better way to stop uninterruptible long-running threads, but I found no better answer anywhere.\r\n\r\nIf anybody knows of a better solution, please mention it and I&#39;ll edit this post.","title":"Spring Boot async task stuck on shutdown","body":"<p>As far as I can tell after extensive googling the root cause is that in Java 17 (possibly earlier) they deprecated Thread.stop(), making threads that cannot be interrupted or stopped via a flag... unstoppable from inside java.</p>\n<p>I would love a better solution, but this clunky approach currently works for me:</p>\n<ul>\n<li>Use the ThreadExecutor to launch the thread.</li>\n<li>Add a &quot;stop&quot; flag that the thread code can check, ending the processing loop if set.</li>\n<li>To stop, set the flag.  Wait for a &quot;stop tolerance time&quot; for the thread to hit that flag check and end cleanly.</li>\n<li>After the tolerance time, if not stopped use an interrupt (2nd stop attempt).  I do it on the thread, which is possibly not ideal and it might be better to do it on the TaskExecutor.</li>\n<li>A second later, if the thread still has not stopped, I use the deprecated Thread.stop() as a final resort (3rd stop attempt).  This is known to be a <strong>bad approach</strong>, but has not caused <strong>me</strong> any problems for a decade.</li>\n<li>As another undesirable alternative to stop, there is always the option to kill the executable itself, by hand.  Nasty, but under some emergency circumstances it might be the only way to stop a long-running thread.</li>\n</ul>\n<p>I sincerely hope I am wrong and that there is a better way to stop uninterruptible long-running threads, but I found no better answer anywhere.</p>\n<p>If anybody knows of a better solution, please mention it and I'll edit this post.</p>\n"}],"owner":{"account_id":22980025,"reputation":85,"user_id":17107099,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2954,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69500000,"answer_count":2,"score":3,"last_activity_date":1694790775,"creation_date":1633707455,"question_id":69498421,"body_markdown":"As per spring documentation for `setWaitForTasksToCompleteOnShutdown` \r\n&gt; Set whether to wait for scheduled tasks to complete on shutdown\r\n\r\nDoes it mean that if any task is stuck on some long running process and we explicity try to stop the container, it will not be terminated untill that task is finished?\r\n\r\n```Java\r\n  @Bean\r\n  public TaskExecutor myAsyncTaskExecutor() {\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(20);\r\n    executor.setMaxPoolSize(30);\r\n    executor.setQueueCapacity(50);\r\n    executor.setWaitForTasksToCompleteOnShutdown(true); // How it behaves?\r\n    //executor.afterPropertiesSet();\r\n    executor.setThreadNamePrefix(&quot;MY-ASYNC-TASK&quot;);\r\n    executor.initialize();\r\n    return executor;\r\n  }\r\n```\r\n\r\nThanks for the answers.\r\n","title":"Spring Boot async task stuck on shutdown","body":"<p>As per spring documentation for <code>setWaitForTasksToCompleteOnShutdown</code></p>\n<blockquote>\n<p>Set whether to wait for scheduled tasks to complete on shutdown</p>\n</blockquote>\n<p>Does it mean that if any task is stuck on some long running process and we explicity try to stop the container, it will not be terminated untill that task is finished?</p>\n<pre><code>  @Bean\n  public TaskExecutor myAsyncTaskExecutor() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(20);\n    executor.setMaxPoolSize(30);\n    executor.setQueueCapacity(50);\n    executor.setWaitForTasksToCompleteOnShutdown(true); // How it behaves?\n    //executor.afterPropertiesSet();\n    executor.setThreadNamePrefix(&quot;MY-ASYNC-TASK&quot;);\n    executor.initialize();\n    return executor;\n  }\n</code></pre>\n<p>Thanks for the answers.</p>\n"},{"tags":["java","android","kotlin","file"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":5,"creation_date":1694790497,"post_id":77113471,"comment_id":135941869,"body_markdown":"&quot;this file is supposed to be deleted after I close my app&quot; -- what is your definition of &quot;close my app&quot;? `deleteOnExit()` will take effect when your process ends, which is handled by the OS on its own schedule.","body":"&quot;this file is supposed to be deleted after I close my app&quot; -- what is your definition of &quot;close my app&quot;? <code>deleteOnExit()</code> will take effect when your process ends, which is handled by the OS on its own schedule."},{"owner":{"account_id":4398965,"reputation":368,"user_id":3585218,"accept_rate":22,"display_name":"tipa"},"score":0,"creation_date":1696010483,"post_id":77113471,"comment_id":136104095,"body_markdown":"https://android.googlesource.com/platform/libcore.git/+/android-4.2.2_r1/luni/src/main/java/java/io/File.java#323 &quot;Note that on Android, the application lifecycle does not include VM termination, so calling this method will not ensure that files are deleted&quot;","body":"<a href=\"https://android.googlesource.com/platform/libcore.git/+/android-4.2.2_r1/luni/src/main/java/java/io/File.java#323\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/libcore.git/+/&hellip;</a> &quot;Note that on Android, the application lifecycle does not include VM termination, so calling this method will not ensure that files are deleted&quot;"}],"owner":{"account_id":19214916,"reputation":96,"user_id":14039860,"display_name":"segoSambel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694790351,"creation_date":1694790351,"question_id":77113471,"body_markdown":"This is my current implementation to create a temporary file inside the cache directory on Android. However, this file is supposed to be deleted after I close my app. Yet, this file is still present in my cache directory. My emulator is running Android 12 btw.\r\n\r\n```\r\nfun uriToFile(context: Context, uri: Uri): File? {\r\n    val contentResolver: ContentResolver = context.contentResolver\r\n    val fileExtension = getFileExtension(context, uri)\r\n    val fileName = &quot;file_${System.currentTimeMillis()}&quot;\r\n    val directory = context.cacheDir\r\n    val destinationFile = File.createTempFile(fileName, &quot;.$fileExtension&quot;, directory)\r\n    destinationFile.deleteOnExit()\r\n\r\n    try {\r\n        val inputStream: InputStream? = contentResolver.openInputStream(uri)\r\n        if (inputStream!=null) {\r\n            val outputStream = FileOutputStream(destinationFile)\r\n            val buffer = ByteArray(1024)\r\n            var bytesRead: Int\r\n            while (inputStream.read(buffer).also { bytesRead = it }!=-1) {\r\n                outputStream.write(buffer, 0, bytesRead)\r\n            }\r\n            outputStream.close()\r\n            inputStream.close()\r\n            return destinationFile\r\n        }\r\n    } catch (e: IOException) {\r\n        //\r\n    }\r\n    return null\r\n}\r\n\r\nprivate fun getFileExtension(context: Context, uri: Uri): String {\r\n    val contentResolver: ContentResolver = context.contentResolver\r\n    val mimeType = contentResolver.getType(uri)\r\n    return MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType)\r\n        ?: &quot;unknown&quot;\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried moving around the `destinationFile.deleteOnExit()`, but it didn&#39;t work.","title":"Temporary file not deleted after calling deleteOnExit","body":"<p>This is my current implementation to create a temporary file inside the cache directory on Android. However, this file is supposed to be deleted after I close my app. Yet, this file is still present in my cache directory. My emulator is running Android 12 btw.</p>\n<pre><code>fun uriToFile(context: Context, uri: Uri): File? {\n    val contentResolver: ContentResolver = context.contentResolver\n    val fileExtension = getFileExtension(context, uri)\n    val fileName = &quot;file_${System.currentTimeMillis()}&quot;\n    val directory = context.cacheDir\n    val destinationFile = File.createTempFile(fileName, &quot;.$fileExtension&quot;, directory)\n    destinationFile.deleteOnExit()\n\n    try {\n        val inputStream: InputStream? = contentResolver.openInputStream(uri)\n        if (inputStream!=null) {\n            val outputStream = FileOutputStream(destinationFile)\n            val buffer = ByteArray(1024)\n            var bytesRead: Int\n            while (inputStream.read(buffer).also { bytesRead = it }!=-1) {\n                outputStream.write(buffer, 0, bytesRead)\n            }\n            outputStream.close()\n            inputStream.close()\n            return destinationFile\n        }\n    } catch (e: IOException) {\n        //\n    }\n    return null\n}\n\nprivate fun getFileExtension(context: Context, uri: Uri): String {\n    val contentResolver: ContentResolver = context.contentResolver\n    val mimeType = contentResolver.getType(uri)\n    return MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType)\n        ?: &quot;unknown&quot;\n}\n</code></pre>\n<p>I've tried moving around the <code>destinationFile.deleteOnExit()</code>, but it didn't work.</p>\n"},{"tags":["java","xml","junit","webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335905459,"creation_date":1335905459,"answer_id":10404167,"question_id":10397117,"body_markdown":"I am going to make assumption - you would like to pass some parameter to the Webdriver. That can be done via two ways:\r\n\r\n 1. Make class which extends Webdriver and make its constructor to have the parameter which you need to pass. However, this is the **hard** way, because you have to implement/override all (needed) functions from webdriver:\r\n\r\n        public class MyWebdriver extends Webdriver{\r\n              private String theParameter;\r\n          \r\n             public MyWebdriver(String parameter){\r\n               //... initialize the Webdriver\r\n               \r\n               //store the parameter\r\n               theParameter = parameter\r\n        }\r\n\r\n 2. Make your own wrapper, which will contain instance off WebDriver. That is **easy**(-ier). For example: In my own tests, I need to tell the Webdriver which environment I am testing. So I created my own class for the Environment:\r\n\r\n        public class Environment{\r\n          private String baseUrl;\r\n          public enum NameOfEnvironment {DEV, ACC}\r\n          private NameOfEnvironment environment;\r\n\r\n          public Environment(NameOfEnvironment envName){\r\n             environment = envName;\r\n          }\r\n\r\n          public String getBaseUrl(){\r\n              switch (environment){\r\n                 case DEV: baseUrl = &quot;https://10.10.11.12:9080/test/&quot;;\r\n                           break;\r\n                 case ACC: baseUrl = &quot;https://acceptance.our-official-site.com&quot;;\r\n                           break;\r\n              }\r\n            return baseUrl;\r\n          }\r\n         }\r\n\r\nand then I have my own WebDriver wrapper, where I initialize it like this:\r\n\r\n    public class TestUI{\r\n          private Webdriver driver;\r\n          private Environment env;\r\n      \r\n       public TestUI(Environment e){\r\n           this.env = e;\r\n           driver = new FirefoxDriver;\r\n           driver.get(env.getBaseUrl());\r\n       }\r\n    }\r\n\r\nAnd in the test:\r\n\r\n     public class TestCases{\r\n\r\n       public static final Environment USED_ENVIRONMENT = new Environment(Environment.NameOfEnvironment.ACC);\r\n\r\n     @Test\r\n     public void testSomething(){\r\n        testUI test = new testUI(USED_ENVIRONMENT);\r\n        //.. further steps\r\n     }\r\n     }","title":"How to do parameterization in Selenium Webdriver?","body":"<p>I am going to make assumption - you would like to pass some parameter to the Webdriver. That can be done via two ways:</p>\n\n<ol>\n<li><p>Make class which extends Webdriver and make its constructor to have the parameter which you need to pass. However, this is the <strong>hard</strong> way, because you have to implement/override all (needed) functions from webdriver:</p>\n\n<pre><code>public class MyWebdriver extends Webdriver{\n      private String theParameter;\n\n     public MyWebdriver(String parameter){\n       //... initialize the Webdriver\n\n       //store the parameter\n       theParameter = parameter\n}\n</code></pre></li>\n<li><p>Make your own wrapper, which will contain instance off WebDriver. That is <strong>easy</strong>(-ier). For example: In my own tests, I need to tell the Webdriver which environment I am testing. So I created my own class for the Environment:</p>\n\n<pre><code>public class Environment{\n  private String baseUrl;\n  public enum NameOfEnvironment {DEV, ACC}\n  private NameOfEnvironment environment;\n\n  public Environment(NameOfEnvironment envName){\n     environment = envName;\n  }\n\n  public String getBaseUrl(){\n      switch (environment){\n         case DEV: baseUrl = \"https://10.10.11.12:9080/test/\";\n                   break;\n         case ACC: baseUrl = \"https://acceptance.our-official-site.com\";\n                   break;\n      }\n    return baseUrl;\n  }\n }\n</code></pre></li>\n</ol>\n\n<p>and then I have my own WebDriver wrapper, where I initialize it like this:</p>\n\n<pre><code>public class TestUI{\n      private Webdriver driver;\n      private Environment env;\n\n   public TestUI(Environment e){\n       this.env = e;\n       driver = new FirefoxDriver;\n       driver.get(env.getBaseUrl());\n   }\n}\n</code></pre>\n\n<p>And in the test:</p>\n\n<pre><code> public class TestCases{\n\n   public static final Environment USED_ENVIRONMENT = new Environment(Environment.NameOfEnvironment.ACC);\n\n @Test\n public void testSomething(){\n    testUI test = new testUI(USED_ENVIRONMENT);\n    //.. further steps\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335941260,"creation_date":1335941260,"answer_id":10408966,"question_id":10397117,"body_markdown":"My suggestion would be to try to use a testing framework (TestNG or Junit) which gives many more features than just parametrization.  Probably a little effort in setting up the framework in the beginning will save a lot of effort when your test code grows.","title":"How to do parameterization in Selenium Webdriver?","body":"<p>My suggestion would be to try to use a testing framework (TestNG or Junit) which gives many more features than just parametrization.  Probably a little effort in setting up the framework in the beginning will save a lot of effort when your test code grows.</p>\n"},{"tags":[],"owner":{"account_id":1530436,"reputation":1,"user_id":1427749,"display_name":"shashank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338449028,"creation_date":1338449028,"answer_id":10829112,"question_id":10397117,"body_markdown":"\tpublic void property(){\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tFile file = new File(&quot;login.properties&quot;);\r\n\t\t\tFileInputStream fileInput = new FileInputStream(file);\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\tproperties.load(fileInput);\r\n\t\t\tfileInput.close();\r\n\r\n\t\t\tEnumeration enuKeys = properties.keys();\r\n\t\t\twhile (enuKeys.hasMoreElements()) {\r\n\t\t\t\tString key = (String) enuKeys.nextElement();\r\n\t\t\t\tString value = properties.getProperty(key);\r\n\t\t\t\tdriver.findElement(By.id(key)).sendKeys(value);\r\n\t\t\t\tSystem.out.println(key + &quot;: &quot; + value);\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\nand to pass the values from the properties file use property(); in main class. and execute ","title":"How to do parameterization in Selenium Webdriver?","body":"<pre><code>public void property(){\n    try {\n\n        File file = new File(\"login.properties\");\n        FileInputStream fileInput = new FileInputStream(file);\n        Properties properties = new Properties();\n        properties.load(fileInput);\n        fileInput.close();\n\n        Enumeration enuKeys = properties.keys();\n        while (enuKeys.hasMoreElements()) {\n            String key = (String) enuKeys.nextElement();\n            String value = properties.getProperty(key);\n            driver.findElement(By.id(key)).sendKeys(value);\n            System.out.println(key + \": \" + value);\n        }\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>and to pass the values from the properties file use property(); in main class. and execute </p>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1346995782,"post_id":11842780,"comment_id":16521382,"body_markdown":"You can use either JUnit or TestNG as test framework. What do you want to use? I prefer TestNG. If you use TestNG, you need to make an XML file e.g. testng.xml where you can specify data to parameterize using @Parameters annotation of TestNG (which has been mentioned in above snippet of code","body":"You can use either JUnit or TestNG as test framework. What do you want to use? I prefer TestNG. If you use TestNG, you need to make an XML file e.g. testng.xml where you can specify data to parameterize using @Parameters annotation of TestNG (which has been mentioned in above snippet of code"}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344331010,"creation_date":1344331010,"answer_id":11842780,"question_id":10397117,"body_markdown":"    @Parameters({ &quot;first-name&quot; })\r\n    @Test\r\n    public void testSingleString(String firstName) {\r\n      System.out.println(&quot;Invoked testString &quot; + firstName);\r\n      assert &quot;Cedric&quot;.equals(firstName);\r\n    }\r\n\r\nIn this code, we specify that the parameter firstName of your Java method should receive the value of the XML parameter called first-name.  This XML parameter is defined in testng.xml:\r\n    &lt;suite name=&quot;My suite&quot;&gt;\r\n      &lt;parameter name=&quot;first-name&quot;  value=&quot;Cedric&quot;/&gt;\r\n      &lt;test name=&quot;Simple example&quot;&gt;\r\n      &lt;-- ... --&gt;\r\n\r\nFor more details, please visit the following:\r\nhttp://testng.org/doc/documentation-main.html#parameters\r\n\r\n","title":"How to do parameterization in Selenium Webdriver?","body":"<pre><code>@Parameters({ \"first-name\" })\n@Test\npublic void testSingleString(String firstName) {\n  System.out.println(\"Invoked testString \" + firstName);\n  assert \"Cedric\".equals(firstName);\n}\n</code></pre>\n\n<p>In this code, we specify that the parameter firstName of your Java method should receive the value of the XML parameter called first-name.  This XML parameter is defined in testng.xml:\n    \n      \n      \n      &lt;-- ... --></p>\n\n<p>For more details, please visit the following:\n<a href=\"http://testng.org/doc/documentation-main.html#parameters\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#parameters</a></p>\n"},{"tags":[],"owner":{"account_id":3713601,"reputation":1,"user_id":3090311,"display_name":"B-Gun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389177251,"creation_date":1389177251,"answer_id":20993067,"question_id":10397117,"body_markdown":"Here i am providing a test case that might be helpful            \r\n \r\n \r\n \r\n     package pac1;\r\n     import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.Wait;\r\n    import java.io.File;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n      import javax.xml.parsers.DocumentBuilderFactory;\r\n     import org.w3c.dom.*;\r\n\r\n    public class test extends sut  {\r\n    static WebDriver driver;\r\n    static Wait&lt;WebDriver&gt; wait;\r\n      public static boolean run(WebDriver driverArg, Wait&lt;WebDriver&gt; waitArg)\r\n    {\r\n        driver = driverArg;\r\n        wait = waitArg;\r\n       // Run all the methods and return false if any fails\r\n        return (test1() );\r\n                      }\t\r\n       private static boolean test1()\r\n       {\r\n          \r\n\r\n\r\n      driver.get(&quot;https://accounts.google.com&quot;);\r\n\r\n    \ttry {\r\n    \t\tFile file = new File(&quot;emaildata.xml&quot;); //file location should be specified correctly put your xml in the same folder of the source code.\r\n    \t\t// Prepare XML\r\n    \t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \t\tDocument document = db.parse(file);\r\n    \t\tdocument.getDocumentElement().normalize();\r\n    \t\tNodeList emailNodeElementList = document.getElementsByTagName(&quot;test&quot;);//test is the name of the child tag \r\n    \t    for(int j=0;j&lt;emailNodeElementList.getLength(); j++)//loop for the multiple data\r\n    \t{\r\n    \t   String client = &quot;The username or password you entered is incorrect. ?&quot;;\r\n    \t\tElement emailNodeElement = (Element)emailNodeElementList.item(j);\r\n    \t\tNodeList details = emailNodeElement.getChildNodes();\r\n    \t\tString emailAddress=((Node) details.item(0)).getNodeValue();\r\n    \t\tSystem.out.println(&quot;email :&quot; + emailAddress);//it just prints which email is going to be parsed\r\n    \t\tWebElement element = driver.findElement(By.cssSelector(&quot;body&quot;));\r\n    \t        boolean feedBack = driver.findElement(By.cssSelector(&quot;body&quot;)).getText().contains(client);\r\n    \t        boolean feedbackVisible = element.isDisplayed();\r\n\r\n    \t\t\r\n        WebElement e1 = driver.findElement(By.id(&quot;Email&quot;));//getting the location from the web\r\n        e1.sendKeys(emailAddress);//sending keys to the server\r\n        WebElement e3 = driver.findElement(By.id(&quot;signIn&quot;));\r\n        e3.click();\r\n        \r\n       \r\n        if(feedBack==true){\r\n            System.out.println(client+ &quot;is present&quot;);\r\n            if(feedbackVisible==true){\r\n                System.out.println(client+ &quot;is visible&quot;);\r\n            }\r\n            else{\r\n                System.out.println(client+ &quot;is not visible&quot;);\r\n            }\r\n\r\n        }\r\n        else{\r\n            System.out.println(client+ &quot;is not present&quot;);\r\n\r\n        }\r\n    \t}\r\n      }\r\n     catch (Exception e) {e.printStackTrace();}\r\n   \r\n      return true;\r\n      }}\r\n    \r\n","title":"How to do parameterization in Selenium Webdriver?","body":"<p>Here i am providing a test case that might be helpful            </p>\n\n<pre><code> package pac1;\n import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.Wait;\nimport java.io.File;\nimport javax.xml.parsers.DocumentBuilder;\n  import javax.xml.parsers.DocumentBuilderFactory;\n import org.w3c.dom.*;\n\npublic class test extends sut  {\nstatic WebDriver driver;\nstatic Wait&lt;WebDriver&gt; wait;\n  public static boolean run(WebDriver driverArg, Wait&lt;WebDriver&gt; waitArg)\n{\n    driver = driverArg;\n    wait = waitArg;\n   // Run all the methods and return false if any fails\n    return (test1() );\n                  } \n   private static boolean test1()\n   {\n\n\n\n  driver.get(\"https://accounts.google.com\");\n\n    try {\n        File file = new File(\"emaildata.xml\"); //file location should be specified correctly put your xml in the same folder of the source code.\n        // Prepare XML\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document document = db.parse(file);\n        document.getDocumentElement().normalize();\n        NodeList emailNodeElementList = document.getElementsByTagName(\"test\");//test is the name of the child tag \n        for(int j=0;j&lt;emailNodeElementList.getLength(); j++)//loop for the multiple data\n    {\n       String client = \"The username or password you entered is incorrect. ?\";\n        Element emailNodeElement = (Element)emailNodeElementList.item(j);\n        NodeList details = emailNodeElement.getChildNodes();\n        String emailAddress=((Node) details.item(0)).getNodeValue();\n        System.out.println(\"email :\" + emailAddress);//it just prints which email is going to be parsed\n        WebElement element = driver.findElement(By.cssSelector(\"body\"));\n            boolean feedBack = driver.findElement(By.cssSelector(\"body\")).getText().contains(client);\n            boolean feedbackVisible = element.isDisplayed();\n\n\n    WebElement e1 = driver.findElement(By.id(\"Email\"));//getting the location from the web\n    e1.sendKeys(emailAddress);//sending keys to the server\n    WebElement e3 = driver.findElement(By.id(\"signIn\"));\n    e3.click();\n\n\n    if(feedBack==true){\n        System.out.println(client+ \"is present\");\n        if(feedbackVisible==true){\n            System.out.println(client+ \"is visible\");\n        }\n        else{\n            System.out.println(client+ \"is not visible\");\n        }\n\n    }\n    else{\n        System.out.println(client+ \"is not present\");\n\n    }\n    }\n  }\n catch (Exception e) {e.printStackTrace();}\n\n  return true;\n  }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12147097,"reputation":1,"user_id":8868964,"display_name":"dfhfghfgdfghdf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509549671,"creation_date":1509548853,"answer_id":47057904,"question_id":10397117,"body_markdown":"    /* You can pass parameters by creating two classes.\r\n    The first class, which you can call Main Class, will be public static void.\r\n    It will contain code such as:\r\n    */\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Parameters id = new Parameters();   //this is referring to second class\r\n\tdriver.findElement(By.name(&quot;q&quot;)).sendKeys(id.x);\r\n    //****************************************************************\r\n    //this is the second class [separate page] - here you can declare int or string varibale as public [so you can share them with other class while defining them]  - \r\n    //when you make this class - don&#39;t need to add public static void\r\n\r\n    public String x = &quot;username&quot;\r\n    //if you look at the first page, I&#39;m passing this string in the main script","title":"How to do parameterization in Selenium Webdriver?","body":"<pre><code>/* You can pass parameters by creating two classes.\nThe first class, which you can call Main Class, will be public static void.\nIt will contain code such as:\n*/\nWebDriver driver = new FirefoxDriver();\ndriver.get(\"https://www.google.com\");\nParameters id = new Parameters();   //this is referring to second class\ndriver.findElement(By.name(\"q\")).sendKeys(id.x);\n//****************************************************************\n//this is the second class [separate page] - here you can declare int or string varibale as public [so you can share them with other class while defining them]  - \n//when you make this class - don't need to add public static void\n\npublic String x = \"username\"\n//if you look at the first page, I'm passing this string in the main script\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15849179,"reputation":1,"user_id":11435506,"display_name":"guest"},"score":0,"creation_date":1556684334,"post_id":55931504,"comment_id":98516115,"body_markdown":"String Username = read.readData(&quot;Sheet1&quot;, 1, 2);\n\t\tdriver.findElement(By.id(&quot;ap_email&quot;)).sendKeys(Username);\n\t\tdriver.findElement(By.id(&quot;continue&quot;)).click();\n\t\t\n\t\tString Password = read.readData(&quot;Sheet1&quot;, 1, 3);\n\t\tdriver.findElement(By.id(&quot;ap_password&quot;)).sendKeys(Password);","body":"String Username = read.readData(&quot;Sheet1&quot;, 1, 2); \t\tdriver.findElement(By.id(&quot;ap_email&quot;)).sendKeys(Username); \t\tdriver.findElement(By.id(&quot;continue&quot;)).click(); \t\t \t\tString Password = read.readData(&quot;Sheet1&quot;, 1, 3); \t\tdriver.findElement(By.id(&quot;ap_password&quot;)).sendKeys(Password&zwnj;&#8203;);"},{"owner":{"account_id":10414205,"reputation":1377,"user_id":7678788,"accept_rate":62,"display_name":"Chirag Jain"},"score":0,"creation_date":1556685755,"post_id":55931504,"comment_id":98516380,"body_markdown":"Thanks for contribution to SO. Please take time and visit [SO Answering Help](https://stackoverflow.com/help/answering). You should explain why you think this is a right answer","body":"Thanks for contribution to SO. Please take time and visit <a href=\"https://stackoverflow.com/help/answering\">SO Answering Help</a>. You should explain why you think this is a right answer"}],"tags":[],"owner":{"account_id":15849179,"reputation":1,"user_id":11435506,"display_name":"guest"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556683733,"creation_date":1556683687,"answer_id":55931504,"question_id":10397117,"body_markdown":"    public class ReadExcel {\r\n           public String readData (String strSheetName, int strRowNo, int strCellNo) throws Exception {\r\n                 \r\n                  FileInputStream fis = new FileInputStream(&quot;D:\\\\Selenium\\\\TestData.xlsx&quot;);\r\n                  Workbook wb = WorkbookFactory.create(fis);\r\n                  Sheet sh = wb.getSheet(strSheetName);\r\n                  Row rw = sh.getRow(strRowNo);\r\n                  String val = rw.getCell(strCellNo).getStringCellValue();\r\n                  \r\n                  return val;\r\n                         \r\n                  }\r\n    \r\n    }\r\n\r\n","title":"How to do parameterization in Selenium Webdriver?","body":"<pre><code>public class ReadExcel {\n       public String readData (String strSheetName, int strRowNo, int strCellNo) throws Exception {\n\n              FileInputStream fis = new FileInputStream(\"D:\\\\Selenium\\\\TestData.xlsx\");\n              Workbook wb = WorkbookFactory.create(fis);\n              Sheet sh = wb.getSheet(strSheetName);\n              Row rw = sh.getRow(strRowNo);\n              String val = rw.getCell(strCellNo).getStringCellValue();\n\n              return val;\n\n              }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1440553,"reputation":13,"user_id":1360832,"display_name":"Tufan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":7,"score":0,"last_activity_date":1694790175,"creation_date":1335872225,"question_id":10397117,"body_markdown":"How to do parameterization in Selenium 2 (WebDriver)? I use Eclipse with maven plugins and I have no previous experience on Selenium Webdriver. When I google for it then every thing shows about testNG and JUnit. Is there any method through which we can parameterized the Webdriver?","title":"How to do parameterization in Selenium Webdriver?","body":"<p>How to do parameterization in Selenium 2 (WebDriver)? I use Eclipse with maven plugins and I have no previous experience on Selenium Webdriver. When I google for it then every thing shows about testNG and JUnit. Is there any method through which we can parameterized the Webdriver?</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694789810,"post_id":77113065,"comment_id":135941732,"body_markdown":"You need to change your method to `Future&lt;ResponseEntity&lt;JsonNode&gt;&gt;` or block the thread while waiting for the future to complete.","body":"You need to change your method to <code>Future&lt;ResponseEntity&lt;JsonNode&gt;&gt;</code> or block the thread while waiting for the future to complete."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694791284,"post_id":77113065,"comment_id":135942051,"body_markdown":"Closely related: https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/ (you are calling a &quot;red&quot; function)","body":"Closely related: <a href=\"https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">journal.stuffwithstuff.com/2015/02/01/&hellip;</a> (you are calling a &quot;red&quot; function)"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1694792729,"post_id":77113065,"comment_id":135942337,"body_markdown":"@knittl  How should i block the thread till the future is complete? can u give some idea?","body":"@knittl  How should i block the thread till the future is complete? can u give some idea?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1694793042,"post_id":77113065,"comment_id":135942397,"body_markdown":"[`future.get(10, TimeUnit.SECONDS)`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-)","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>future.get(10, TimeUnit.SECONDS)</code></a>"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1694794653,"post_id":77113065,"comment_id":135942654,"body_markdown":"This seems to be Future object from  io.vertx:vertx-core:3.9.0\nSo get method is not available. Only result() is available but no timeout can be passed","body":"This seems to be Future object from  io.vertx:vertx-core:3.9.0 So get method is not available. Only result() is available but no timeout can be passed"}],"answers":[{"comments":[{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1694792494,"post_id":77113442,"comment_id":135942291,"body_markdown":"I have a query. what if the generatePower method returns value in 1 second but we wait for 5 seconds. I want to return the value as and when the future object is ready/complete. and i guess ResponseEntity should be final since we can&#39;t use non final variables inside lambda expression. correct me","body":"I have a query. what if the generatePower method returns value in 1 second but we wait for 5 seconds. I want to return the value as and when the future object is ready/complete. and i guess ResponseEntity should be final since we can&#39;t use non final variables inside lambda expression. correct me"},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1694794527,"post_id":77113442,"comment_id":135942634,"body_markdown":"ready.await will return when the count reaches zero or when the timeout expires, so in your example result will be returned within close to 1 seconds.","body":"ready.await will return when the count reaches zero or when the timeout expires, so in your example result will be returned within close to 1 seconds."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1695208973,"post_id":77113442,"comment_id":135992807,"body_markdown":"This worked perfectly. thanks","body":"This worked perfectly. thanks"}],"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694790111,"creation_date":1694790111,"answer_id":77113442,"question_id":77113065,"body_markdown":"You can use a CountDownLatch to wait for the result:\r\n\r\n```\r\n    public ResponseEntity&lt;JsonNode&gt; doSomeAction(\r\n            @ApiParam(name = &quot;mode&quot;, required = true) @PathVariable final String mode,\r\n            @RequestBody SomeAction action, HttpServletRequest request) throws IOException) {\r\n\r\n                ResponseEntity&lt;JSonObbject&gt; result = null;\r\n                CountDownLatch ready = new CountDownLatch(1);\r\n                if(mode.equals(&quot;POWER&quot;){\r\n                    Future&lt;JsonObject&gt; future = someAppService.generatePower(action);\r\n                    future.onComplete( result -&gt; {\r\n                        result = new ResponseEntity&lt;JsonNode&gt;(JsonHelper.toJsonNode(result.result().encode()), HttpStatus.OK)\r\n                        ready.countDown();\r\n                    });\r\n                } else if(mode.equals(&quot;someOtherMode&quot;){\r\n    \r\n                    //code that updates result variable\r\n    \r\n                } else {\r\n                   // take care of all other cases\r\n                }\r\n                \r\n                if (!ready.await(timeout, SECONDS) {\r\n                    // return error or throw appropriate exception\r\n                }\r\n                return result;\r\n    }\r\n```\r\n","title":"Java Future object return value from API after onComplete","body":"<p>You can use a CountDownLatch to wait for the result:</p>\n<pre><code>    public ResponseEntity&lt;JsonNode&gt; doSomeAction(\n            @ApiParam(name = &quot;mode&quot;, required = true) @PathVariable final String mode,\n            @RequestBody SomeAction action, HttpServletRequest request) throws IOException) {\n\n                ResponseEntity&lt;JSonObbject&gt; result = null;\n                CountDownLatch ready = new CountDownLatch(1);\n                if(mode.equals(&quot;POWER&quot;){\n                    Future&lt;JsonObject&gt; future = someAppService.generatePower(action);\n                    future.onComplete( result -&gt; {\n                        result = new ResponseEntity&lt;JsonNode&gt;(JsonHelper.toJsonNode(result.result().encode()), HttpStatus.OK)\n                        ready.countDown();\n                    });\n                } else if(mode.equals(&quot;someOtherMode&quot;){\n    \n                    //code that updates result variable\n    \n                } else {\n                   // take care of all other cases\n                }\n                \n                if (!ready.await(timeout, SECONDS) {\n                    // return error or throw appropriate exception\n                }\n                return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77113442,"answer_count":1,"score":1,"last_activity_date":1694790111,"creation_date":1694786931,"question_id":77113065,"body_markdown":"I have a API method like below where the method returns `ResponseEntity&lt;JsonNode&gt;`. I don&#39;t know how to wait for it and return value in Future `onComplete` method.\r\n\r\n```\r\npublic ResponseEntity&lt;JsonNode&gt; doSomeAction(\r\n        @ApiParam(name = &quot;mode&quot;, required = true) @PathVariable final String mode,\r\n        @RequestBody SomeAction action, HttpServletRequest request) throws IOException) {\r\n\r\n            if(mode.equals(&quot;POWER&quot;){\r\n                Future&lt;JsonObject&gt; future = someAppService.generatePower(action);\r\n                future.onComplete( result -&gt; {\r\n                    return new ResponseEntity&lt;JsonNode&gt;(JsonHelper.toJsonNode(result.result().encode()), HttpStatus.OK)\r\n                    //above return is not valid but i want to return here as soon as future completes\r\n\r\n                });\r\n            }\r\n            if(mode.equals(&quot;someOtherMode&quot;){\r\n\r\n                //some code here\r\n\r\n            }\r\n            return new ResponseEntity&lt;JsonNode&gt;(JsonHelper.getObjectMapper().valueToTree(someResponse), headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nBasically , i want to return value in `onComplete` method i.e after generatePower() method is executed which internally invokes some API which might take some time.\r\nI tried to use `DeferredResult&lt;JsonNode&gt;` but its not working.  Any idea?","title":"Java Future object return value from API after onComplete","body":"<p>I have a API method like below where the method returns <code>ResponseEntity&lt;JsonNode&gt;</code>. I don't know how to wait for it and return value in Future <code>onComplete</code> method.</p>\n<pre><code>public ResponseEntity&lt;JsonNode&gt; doSomeAction(\n        @ApiParam(name = &quot;mode&quot;, required = true) @PathVariable final String mode,\n        @RequestBody SomeAction action, HttpServletRequest request) throws IOException) {\n\n            if(mode.equals(&quot;POWER&quot;){\n                Future&lt;JsonObject&gt; future = someAppService.generatePower(action);\n                future.onComplete( result -&gt; {\n                    return new ResponseEntity&lt;JsonNode&gt;(JsonHelper.toJsonNode(result.result().encode()), HttpStatus.OK)\n                    //above return is not valid but i want to return here as soon as future completes\n\n                });\n            }\n            if(mode.equals(&quot;someOtherMode&quot;){\n\n                //some code here\n\n            }\n            return new ResponseEntity&lt;JsonNode&gt;(JsonHelper.getObjectMapper().valueToTree(someResponse), headers, HttpStatus.OK);\n}\n</code></pre>\n<p>Basically , i want to return value in <code>onComplete</code> method i.e after generatePower() method is executed which internally invokes some API which might take some time.\nI tried to use <code>DeferredResult&lt;JsonNode&gt;</code> but its not working.  Any idea?</p>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1447431808,"post_id":33697213,"comment_id":55166156,"body_markdown":"classpath or servlet container setup issue for these error msgs. It is needing `mysql-connector-java-5.1.35-bin` jar or one of its siblings","body":"classpath or servlet container setup issue for these error msgs. It is needing <code>mysql-connector-java-5.1.35-bin</code> jar or one of its siblings"},{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1447436884,"post_id":33697213,"comment_id":55169428,"body_markdown":"It looks like the .jar file is in the root folder of the project. Perhaps it should be under &quot;External Libraries&quot;? (I&#39;ve never used IntelliJ, but in Eclipse it would need to be in the &quot;Referenced Libraries&quot; folder, a.k.a. the classpath for the project.)","body":"It looks like the .jar file is in the root folder of the project. Perhaps it should be under &quot;External Libraries&quot;? (I&#39;ve never used IntelliJ, but in Eclipse it would need to be in the &quot;Referenced Libraries&quot; folder, a.k.a. the classpath for the project.)"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695037957,"post_id":33697213,"comment_id":135966224,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>."}],"answers":[{"comments":[{"owner":{"account_id":6154866,"reputation":79,"user_id":4798186,"accept_rate":67,"display_name":"Mary"},"score":0,"creation_date":1447433852,"post_id":33697516,"comment_id":55167568,"body_markdown":"I&#39;ve just added mysql-connector-java-5.1.37-bin.jar and get the same exception","body":"I&#39;ve just added mysql-connector-java-5.1.37-bin.jar and get the same exception"},{"owner":{"account_id":6154866,"reputation":79,"user_id":4798186,"accept_rate":67,"display_name":"Mary"},"score":0,"creation_date":1447435485,"post_id":33697516,"comment_id":55168579,"body_markdown":"Dear  K K, I&#39;ve just edited my question adding an error stacktrace pic.","body":"Dear  K K, I&#39;ve just edited my question adding an error stacktrace pic."},{"owner":{"account_id":5324221,"reputation":99,"user_id":4246703,"accept_rate":50,"display_name":"K K"},"score":0,"creation_date":1447436673,"post_id":33697516,"comment_id":55169304,"body_markdown":"My answer is the only solution. You have to cross check whether jar is in correct folder or not. Add in project lib directory &amp; tomcat lib.","body":"My answer is the only solution. You have to cross check whether jar is in correct folder or not. Add in project lib directory &amp; tomcat lib."},{"owner":{"account_id":5324221,"reputation":99,"user_id":4246703,"accept_rate":50,"display_name":"K K"},"score":0,"creation_date":1447437416,"post_id":33697516,"comment_id":55169734,"body_markdown":"@Mary i have edited my answer. make sure you have jar in external lib","body":"@Mary i have edited my answer. make sure you have jar in external lib"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694792324,"post_id":33697516,"comment_id":135942261,"body_markdown":"Perhaps you could explain what is different about the `bin` version of that JAR.","body":"Perhaps you could explain what is different about the <code>bin</code> version of that JAR."}],"tags":[],"owner":{"account_id":5324221,"reputation":99,"user_id":4246703,"accept_rate":50,"display_name":"K K"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1447437302,"creation_date":1447432401,"answer_id":33697516,"question_id":33697213,"body_markdown":"Please add **mysql-connector-java-5.1.x-bin.jar** not mysql-connector-java-5.1.x.jar. \r\n\r\nAlso, Add it to the global lib directory. For Tomcat this is `TOMCAT_HOME/lib`.\r\n\r\n1. Click File from File menu\r\n2. Project Structure (&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; on Windows/Linux, &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;;&lt;/kbd&gt; on Mac OS X)\r\n3. Select Modules at the left panel\r\n4. Dependencies tab\r\n5. Add... &amp;rarr; Project Library &amp;rarr;  Attach Jar\r\n\r\nTry this.","title":"Hibernate JDBC Driver com.mysql.jdbc.Driver could not be loaded","body":"<p>Please add <strong>mysql-connector-java-5.1.x-bin.jar</strong> not mysql-connector-java-5.1.x.jar. </p>\n\n<p>Also, Add it to the global lib directory. For Tomcat this is <code>TOMCAT_HOME/lib</code>.</p>\n\n<ol>\n<li>Click File from File menu</li>\n<li>Project Structure (<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>ALT</kbd> + <kbd>S</kbd> on Windows/Linux, <kbd>⌘</kbd> + <kbd>;</kbd> on Mac OS X)</li>\n<li>Select Modules at the left panel</li>\n<li>Dependencies tab</li>\n<li>Add... &rarr; Project Library &rarr;  Attach Jar</li>\n</ol>\n\n<p>Try this.</p>\n"},{"tags":[],"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491756715,"creation_date":1491756715,"answer_id":43309351,"question_id":33697213,"body_markdown":"If you got maven support with your project, you can also add this dependency to your POM:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;(current version)&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\nPlease also notice you might want to update the scope of your dependency if you deploy it.\r\n","title":"Hibernate JDBC Driver com.mysql.jdbc.Driver could not be loaded","body":"<p>If you got maven support with your project, you can also add this dependency to your POM:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;version&gt;(current version)&lt;/version&gt;\n</code></pre>\n\n<p></p>\n\n<p>Please also notice you might want to update the scope of your dependency if you deploy it.</p>\n"},{"tags":[],"owner":{"account_id":29370870,"reputation":1,"user_id":22503527,"display_name":"Faslan Rizni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694789841,"creation_date":1694789841,"answer_id":77113418,"question_id":33697213,"body_markdown":"To overcome from this issue, need to add hibernate manually to intalij(IDE)\r\n1) download hibernate orm dependency jar file\r\n2) open -&gt; lib -&gt; required -&gt;copy the files \r\n3) paste it in intalij(IDE)\r\n4)\r\nClick File from File menu\r\nProject Structure \r\nSelect Libraries at the left panel\r\nDependencies tab\r\nAdd... → Project Library → Attach Jar ","title":"Hibernate JDBC Driver com.mysql.jdbc.Driver could not be loaded","body":"<p>To overcome from this issue, need to add hibernate manually to intalij(IDE)</p>\n<ol>\n<li>download hibernate orm dependency jar file</li>\n<li>open -&gt; lib -&gt; required -&gt;copy the files</li>\n<li>paste it in intalij(IDE)</li>\n<li></li>\n</ol>\n<p>Click File from File menu\nProject Structure\nSelect Libraries at the left panel\nDependencies tab\nAdd... → Project Library → Attach Jar</p>\n"}],"owner":{"account_id":6154866,"reputation":79,"user_id":4798186,"accept_rate":67,"display_name":"Mary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33697516,"answer_count":3,"score":2,"last_activity_date":1694789841,"creation_date":1447431536,"question_id":33697213,"body_markdown":"I&#39;m trying to run this simple hibernate example: \r\n[tutorial link][1]\r\n\r\nError is\r\n\r\n&gt; Specified JDBC Driver com.mysql.jdbc.Driver could not be loaded\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nhere is an error stacktrace:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/hibernate/hibernate_examples.htm\r\n  [2]: http://i.stack.imgur.com/kRKsM.png\r\n  [3]: http://i.stack.imgur.com/NhwoK.png","title":"Hibernate JDBC Driver com.mysql.jdbc.Driver could not be loaded","body":"<p>I'm trying to run this simple hibernate example: \n<a href=\"http://www.tutorialspoint.com/hibernate/hibernate_examples.htm\" rel=\"nofollow noreferrer\">tutorial link</a></p>\n\n<p>Error is</p>\n\n<blockquote>\n  <p>Specified JDBC Driver com.mysql.jdbc.Driver could not be loaded</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/kRKsM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRKsM.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is an error stacktrace:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NhwoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NhwoK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","7zip"],"answers":[{"comments":[{"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"score":1,"creation_date":1694790161,"post_id":77113413,"comment_id":135941805,"body_markdown":"yes, it  works, RandomAccessFile implements Closeable, but I didn&#39;t close it, thank you very much","body":"yes, it  works, RandomAccessFile implements Closeable, but I didn&#39;t close it, thank you very much"}],"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694789793,"creation_date":1694789793,"answer_id":77113413,"question_id":77113319,"body_markdown":"Examples found online, close the file after closing the archive.\r\n\r\nSomething like the following (depending on your needs, you may want to try-catch the close() calls separately) :\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public void extractRar(@RequestBody UploadDto dto){\r\n        byte[] decodedBytes = Base64.getDecoder().decode(dto.data());\r\n        try {\r\n            String filePath = dto.name();\r\n            Files.write(Paths.get(filePath), decodedBytes);\r\n            log.info(&quot;File saved successfully to: &quot; + filePath);\r\n            File file = new File(filePath);\r\n            IInArchive archive;\r\n    \t\tRandomAccessFile randomAccessFile;\r\n            try {\r\n    \t\t\t\r\n    \t\t\trandomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\r\n                archive = SevenZip.openInArchive(null, new RandomAccessFileInStream(randomAccessFile));\r\n                log.info(String.valueOf(archive.getNumberOfItems()));\r\n            } catch (SevenZipException | FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            archive.close();\r\n    \t\trandomAccessFile.close();\r\n    \r\n            // 1 method\r\n            Files.delete(Path.of(filePath));\r\n    \r\n            // 2 method\r\n            if (file.delete()) {\r\n                log.info(&quot;file deleted successfully&quot;);\r\n            } else {\r\n                log.error(&quot;failed to delete the temporary file used for unzipping&quot;);\r\n            }\r\n    \r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"Unable to delete file after using SevenZip.openArchive method in java","body":"<p>Examples found online, close the file after closing the archive.</p>\n<p>Something like the following (depending on your needs, you may want to try-catch the close() calls separately) :</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic void extractRar(@RequestBody UploadDto dto){\n    byte[] decodedBytes = Base64.getDecoder().decode(dto.data());\n    try {\n        String filePath = dto.name();\n        Files.write(Paths.get(filePath), decodedBytes);\n        log.info(&quot;File saved successfully to: &quot; + filePath);\n        File file = new File(filePath);\n        IInArchive archive;\n        RandomAccessFile randomAccessFile;\n        try {\n            \n            randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\n            archive = SevenZip.openInArchive(null, new RandomAccessFileInStream(randomAccessFile));\n            log.info(String.valueOf(archive.getNumberOfItems()));\n        } catch (SevenZipException | FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        archive.close();\n        randomAccessFile.close();\n\n        // 1 method\n        Files.delete(Path.of(filePath));\n\n        // 2 method\n        if (file.delete()) {\n            log.info(&quot;file deleted successfully&quot;);\n        } else {\n            log.error(&quot;failed to delete the temporary file used for unzipping&quot;);\n        }\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77113413,"answer_count":1,"score":2,"last_activity_date":1694789793,"creation_date":1694788991,"question_id":77113319,"body_markdown":"In my endpoint I receive the content of a file as String in format base64.\r\nUnzipping works fine with SevenZip library, no problems there.\r\nBut after executing this line \r\n```\r\narchive = SevenZip.openInArchive(null, new RandomAccessFileInStream(\r\n                        new RandomAccessFile(file, &quot;r&quot;)));\r\n```\r\njava is unable to delete file because of following exception:\r\n```\r\njava.nio.file.FileSystemException: myFile.RAR: The process cannot access the file because it is being used by another process\r\n```\r\nI have tried to use junrar library, but SevenZip works better (supports RAR5 and identifies less corupted files as junrar).\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sevenzipjbinding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;16.02-2.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sevenzipjbinding-all-platforms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;16.02-2.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nHere is the dto:\r\n```\r\npublic record UploadDto(\r\n        @NotNull\r\n        String name,\r\n        @NotNull\r\n        String data) {\r\n}\r\n```\r\n\r\nHere is the controller with the logic:\r\n```\r\nimport net.sf.sevenzipjbinding.IInArchive;\r\nimport net.sf.sevenzipjbinding.SevenZip;\r\nimport net.sf.sevenzipjbinding.SevenZipException;\r\nimport net.sf.sevenzipjbinding.impl.RandomAccessFileInStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.RandomAccessFile;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Base64;\r\n\r\n@RestController\r\npublic class TestController {\r\n    private final Logger log = LoggerFactory.getLogger(TestController.class);\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public void extractRar(@RequestBody UploadDto dto){\r\n        byte[] decodedBytes = Base64.getDecoder().decode(dto.data());\r\n        try {\r\n            String filePath = dto.name();\r\n            Files.write(Paths.get(filePath), decodedBytes);\r\n            log.info(&quot;File saved successfully to: &quot; + filePath);\r\n            File file = new File(filePath);\r\n            IInArchive archive;\r\n            try {\r\n                archive = SevenZip.openInArchive(null, new RandomAccessFileInStream(\r\n                        new RandomAccessFile(file, &quot;r&quot;)));\r\n                log.info(String.valueOf(archive.getNumberOfItems()));\r\n            } catch (SevenZipException | FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            archive.close();\r\n\r\n            // 1 method\r\n            Files.delete(Path.of(filePath));\r\n\r\n            // 2 method\r\n            if (file.delete()) {\r\n                log.info(&quot;file deleted successfully&quot;);\r\n            } else {\r\n                log.error(&quot;failed to delete the temporary file used for unzipping&quot;);\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nexample of request body :\r\n```\r\n{\r\n  &quot;name&quot;: &quot;myFile.RAR&quot;,\r\n  &quot;data&quot;: &quot;UmFyIRoHAM+QcwAADQAAAAAAAABTL3QgkC8AFAAAABQAAAACTeXQiWmKL1cdMAoAIAAAAG15RmlsZS50eHQAsAA/PXJhciBkYXRhIG1vY2sgaGVyZQ0KxD17AEAHAA==&quot;\r\n}\r\n```\r\nI have tried 2 methods to delete the file, but none of them seems to work.\r\nAlso I didn&#39;t find any method to openArchive using a byte array or InputStream.\r\nThe problem would be solved if I could delete the file after extracting the content or to extract the content without saving the file locally.\r\nAny help or ideas would be appreciated!\r\nOS windows 10","title":"Unable to delete file after using SevenZip.openArchive method in java","body":"<p>In my endpoint I receive the content of a file as String in format base64.\nUnzipping works fine with SevenZip library, no problems there.\nBut after executing this line</p>\n<pre><code>archive = SevenZip.openInArchive(null, new RandomAccessFileInStream(\n                        new RandomAccessFile(file, &quot;r&quot;)));\n</code></pre>\n<p>java is unable to delete file because of following exception:</p>\n<pre><code>java.nio.file.FileSystemException: myFile.RAR: The process cannot access the file because it is being used by another process\n</code></pre>\n<p>I have tried to use junrar library, but SevenZip works better (supports RAR5 and identifies less corupted files as junrar).</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\n            &lt;artifactId&gt;sevenzipjbinding&lt;/artifactId&gt;\n            &lt;version&gt;16.02-2.01&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;\n            &lt;artifactId&gt;sevenzipjbinding-all-platforms&lt;/artifactId&gt;\n            &lt;version&gt;16.02-2.01&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the dto:</p>\n<pre><code>public record UploadDto(\n        @NotNull\n        String name,\n        @NotNull\n        String data) {\n}\n</code></pre>\n<p>Here is the controller with the logic:</p>\n<pre><code>import net.sf.sevenzipjbinding.IInArchive;\nimport net.sf.sevenzipjbinding.SevenZip;\nimport net.sf.sevenzipjbinding.SevenZipException;\nimport net.sf.sevenzipjbinding.impl.RandomAccessFileInStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Base64;\n\n@RestController\npublic class TestController {\n    private final Logger log = LoggerFactory.getLogger(TestController.class);\n\n    @PostMapping(&quot;/upload&quot;)\n    public void extractRar(@RequestBody UploadDto dto){\n        byte[] decodedBytes = Base64.getDecoder().decode(dto.data());\n        try {\n            String filePath = dto.name();\n            Files.write(Paths.get(filePath), decodedBytes);\n            log.info(&quot;File saved successfully to: &quot; + filePath);\n            File file = new File(filePath);\n            IInArchive archive;\n            try {\n                archive = SevenZip.openInArchive(null, new RandomAccessFileInStream(\n                        new RandomAccessFile(file, &quot;r&quot;)));\n                log.info(String.valueOf(archive.getNumberOfItems()));\n            } catch (SevenZipException | FileNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n            archive.close();\n\n            // 1 method\n            Files.delete(Path.of(filePath));\n\n            // 2 method\n            if (file.delete()) {\n                log.info(&quot;file deleted successfully&quot;);\n            } else {\n                log.error(&quot;failed to delete the temporary file used for unzipping&quot;);\n            }\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>example of request body :</p>\n<pre><code>{\n  &quot;name&quot;: &quot;myFile.RAR&quot;,\n  &quot;data&quot;: &quot;UmFyIRoHAM+QcwAADQAAAAAAAABTL3QgkC8AFAAAABQAAAACTeXQiWmKL1cdMAoAIAAAAG15RmlsZS50eHQAsAA/PXJhciBkYXRhIG1vY2sgaGVyZQ0KxD17AEAHAA==&quot;\n}\n</code></pre>\n<p>I have tried 2 methods to delete the file, but none of them seems to work.\nAlso I didn't find any method to openArchive using a byte array or InputStream.\nThe problem would be solved if I could delete the file after extracting the content or to extract the content without saving the file locally.\nAny help or ideas would be appreciated!\nOS windows 10</p>\n"},{"tags":["java","connection","httpclient"],"owner":{"account_id":13758918,"reputation":1,"user_id":9929119,"display_name":"Wiebe G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694789600,"creation_date":1694767172,"question_id":77110885,"body_markdown":"I have a problem with the `CloseableHttpClient`:\r\n\r\nAfter about two days I end up with 200 ESTABLISHED connections and my application stuck on a `client.execute`\r\n\r\nLooks like a connection leak. \r\n\r\n`netstat -a | grep address-portal.loc` gives me 200 lines like this:\r\n\r\n\r\n    cp6       0      0 mymachine.unix.i:38064 address-portal.loc.lo:https ESTABLISHED\r\n\r\nMy Java code :\r\n```java\r\nprivate static CloseableHttpClient getHttpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\treturn HttpClients.custom().setSSLContext(getSSLContext()).setMaxConnTotal(20).setConnectionTimeToLive(1, TimeUnit.SECONDS).build();\r\n}\r\n\r\npublic static List&lt;Address&gt; lookupAddress(String id, NominatimSourceType sourceType) throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException, IOException {\r\n\tList&lt;Address&gt; reqResult;\r\n\tString apiCall = String.format(API_CALL_FORMAT_STR, getNominatimBaseUrl(sourceType), LOOKUP_URL_PRE_PART, id);\r\n\tLoggerService.logWhenDebug(&quot;API Call lookupAddress: &quot; + apiCall, LOGGER);\r\n\tHttpGet req = new HttpGet(apiCall);\r\n\tCloseableHttpClient client = getHttpClient();\r\n\ttry {\r\n\t\tLoggerService.logWhenDebug(&quot;before client.execute&quot;, LOGGER);\r\n\t\t// in the end the application hangs on this execute because of too many ESTABLISHED connections\r\n\t\treqResult = client.execute(req, listAddressNominatimResponseHandler);\r\n\t\tLoggerService.logWhenDebug(&quot;client execute done&quot;, LOGGER);\r\n\t}\r\n\tcatch (Exception e) {\r\n\t\tLoggerService.logWhenDebug(&quot;client.execute error: &quot; + e, LOGGER);\r\n\t\tthrow e;\r\n\t}\r\n\tfinally {\r\n\t\treq.releaseConnection();\r\n\t\tclient.close();\r\n\t\t// below is used deprecated getConnectionManager() trying too fix the connections problem\r\n\t\tclient.getConnectionManager().closeExpiredConnections();\r\n\t\tclient.getConnectionManager().closeIdleConnections(1, TimeUnit.SECONDS);\r\n\t}\r\n\treturn reqResult;\r\n}\r\n```\r\n    \r\n\r\nI am using Java version 11.0.20 and runnning on Tomcat version 9.0.55\r\n\r\nAnybody has a clue?\r\n\r\nI have tried adding the following code to fix the problem\r\n```java\r\nsetMaxConnTotal(20)\r\nsetConnectionTimeToLive(1, TimeUnit.SECONDS)\r\n```\r\n\r\nAnd also used the deprecated function `getConnectionManager()` to try to close the connections\r\n\r\n```java\r\nclient.getConnectionManager().closeExpiredConnections();\r\nclient.getConnectionManager().closeIdleConnections(1, TimeUnit.SECONDS);\r\n```\r\n","title":"Connections do not close, and continue as ESTABLISHED and in the CloseableHttpClient will get stuck by that","body":"<p>I have a problem with the <code>CloseableHttpClient</code>:</p>\n<p>After about two days I end up with 200 ESTABLISHED connections and my application stuck on a <code>client.execute</code></p>\n<p>Looks like a connection leak.</p>\n<p><code>netstat -a | grep address-portal.loc</code> gives me 200 lines like this:</p>\n<pre><code>cp6       0      0 mymachine.unix.i:38064 address-portal.loc.lo:https ESTABLISHED\n</code></pre>\n<p>My Java code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static CloseableHttpClient getHttpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n    return HttpClients.custom().setSSLContext(getSSLContext()).setMaxConnTotal(20).setConnectionTimeToLive(1, TimeUnit.SECONDS).build();\n}\n\npublic static List&lt;Address&gt; lookupAddress(String id, NominatimSourceType sourceType) throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException, IOException {\n    List&lt;Address&gt; reqResult;\n    String apiCall = String.format(API_CALL_FORMAT_STR, getNominatimBaseUrl(sourceType), LOOKUP_URL_PRE_PART, id);\n    LoggerService.logWhenDebug(&quot;API Call lookupAddress: &quot; + apiCall, LOGGER);\n    HttpGet req = new HttpGet(apiCall);\n    CloseableHttpClient client = getHttpClient();\n    try {\n        LoggerService.logWhenDebug(&quot;before client.execute&quot;, LOGGER);\n        // in the end the application hangs on this execute because of too many ESTABLISHED connections\n        reqResult = client.execute(req, listAddressNominatimResponseHandler);\n        LoggerService.logWhenDebug(&quot;client execute done&quot;, LOGGER);\n    }\n    catch (Exception e) {\n        LoggerService.logWhenDebug(&quot;client.execute error: &quot; + e, LOGGER);\n        throw e;\n    }\n    finally {\n        req.releaseConnection();\n        client.close();\n        // below is used deprecated getConnectionManager() trying too fix the connections problem\n        client.getConnectionManager().closeExpiredConnections();\n        client.getConnectionManager().closeIdleConnections(1, TimeUnit.SECONDS);\n    }\n    return reqResult;\n}\n</code></pre>\n<p>I am using Java version 11.0.20 and runnning on Tomcat version 9.0.55</p>\n<p>Anybody has a clue?</p>\n<p>I have tried adding the following code to fix the problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>setMaxConnTotal(20)\nsetConnectionTimeToLive(1, TimeUnit.SECONDS)\n</code></pre>\n<p>And also used the deprecated function <code>getConnectionManager()</code> to try to close the connections</p>\n<pre class=\"lang-java prettyprint-override\"><code>client.getConnectionManager().closeExpiredConnections();\nclient.getConnectionManager().closeIdleConnections(1, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":["java","database","oracle"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694682196,"post_id":77103283,"comment_id":135924142,"body_markdown":"`FETCH FIRST 5 ROWS ONLY` is supported in Oracle 12c and above.  Try to remove it. See https://www.dbi-services.com/blog/oracle-rownum-vs-rownumber-and-12c-fetch-first/","body":"<code>FETCH FIRST 5 ROWS ONLY</code> is supported in Oracle 12c and above.  Try to remove it. See <a href=\"https://www.dbi-services.com/blog/oracle-rownum-vs-rownumber-and-12c-fetch-first/\" rel=\"nofollow noreferrer\">dbi-services.com/blog/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694683623,"post_id":77103283,"comment_id":135924456,"body_markdown":"You are running a version of Java that was EOL in 2008 to connect to an Oracle database that was EOL before 2003.  And you are using an application that is using Oracle SQL features introduced in 2013.  Are you seeing the problem here?","body":"You are running a version of Java that was EOL in 2008 to connect to an Oracle database that was EOL before 2003.  And you are using an application that is using Oracle SQL features introduced in 2013.  Are you seeing the problem here?"},{"owner":{"account_id":29054609,"reputation":11,"user_id":22256640,"display_name":"Nuwan Madushanka"},"score":0,"creation_date":1694684975,"post_id":77103283,"comment_id":135924780,"body_markdown":"I&#39;ve changed the select statement. Still, the issue persists. modified query is &quot;SELECT COL1,COL2,COL3 FROM SCHEMA_A.TABLE_A WHERE COL1=1&quot;.","body":"I&#39;ve changed the select statement. Still, the issue persists. modified query is &quot;SELECT COL1,COL2,COL3 FROM SCHEMA_A.TABLE_A WHERE COL1=1&quot;."},{"owner":{"account_id":29054609,"reputation":11,"user_id":22256640,"display_name":"Nuwan Madushanka"},"score":0,"creation_date":1694685472,"post_id":77103283,"comment_id":135924908,"body_markdown":"The error is occurred at &quot;con = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);&quot; This is why suspect something to do with ojdbc version and java version","body":"The error is occurred at &quot;con = DriverManager.getConnection(                 &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);&quot; This is why suspect something to do with ojdbc version and java version"}],"answers":[{"comments":[{"owner":{"account_id":29054609,"reputation":11,"user_id":22256640,"display_name":"Nuwan Madushanka"},"score":0,"creation_date":1694685243,"post_id":77103469,"comment_id":135924845,"body_markdown":"I&#39;ve changed the select statement. But error is same. The error is giving at &quot;con = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);&quot;. Therefore, isn&#39;t the issue with connectivity?","body":"I&#39;ve changed the select statement. But error is same. The error is giving at &quot;con = DriverManager.getConnection(                 &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);&quot;. Therefore, isn&#39;t the issue with connectivity?"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1694685379,"post_id":77103469,"comment_id":135924891,"body_markdown":"@NuwanMadushanka See issue #1 in the answer. You need to work out where the `ALTER SESSION` command is being invoked and fix it. (As mentioned in the answer, there is probably a trigger that fires on logon; you can talk to your DBA and ask what logon triggers there are.)","body":"@NuwanMadushanka See issue #1 in the answer. You need to work out where the <code>ALTER SESSION</code> command is being invoked and fix it. (As mentioned in the answer, there is probably a trigger that fires on logon; you can talk to your DBA and ask what logon triggers there are.)"}],"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694683158,"creation_date":1694683158,"answer_id":77103469,"question_id":77103283,"body_markdown":"You have (at least) two problems:\r\n\r\n 1. The error message is:\r\n\r\n    ```lang-none\r\n    ORA-02248: invalid option for ALTER SESSION\r\n    ```\r\n\r\n    This means that, when you create the connection and Oracle implicitly starts a session, an `ALTER SESSION` command is being invoked and that command is invalid. You do not show any `ALTER SESSION` commands so it is probably in a trigger. You need to fix that command so it is valid.\r\n 2. The `FETCH FIRST n ROWS ONLY` syntax was introduced in Oracle 12. You are using Oracle 8 so it is not going to work. Instead, you want:\r\n\r\n    ```lang-sql\r\n    SELECT COL1, COL2, COL3 FROM TABLE_A WHERE ROWNUM &lt;= 5\r\n    ```\r\n\r\n    However, you probably want an `ORDER BY` clause as well (otherwise you are getting 5 random rows, rather than 5 specific rows).\r\n    \r\n    ```lang-sql\r\n    SELECT * FROM (SELECT COL1, COL2, COL3 FROM TABLE_A ORDER BY COL1, COL2, COL2) WHERE ROWNUM &lt;= 5\r\n    ```\r\n","title":"Java application connectivity issue for Oracle8 Release 8.0.5.0.0","body":"<p>You have (at least) two problems:</p>\n<ol>\n<li><p>The error message is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ORA-02248: invalid option for ALTER SESSION\n</code></pre>\n<p>This means that, when you create the connection and Oracle implicitly starts a session, an <code>ALTER SESSION</code> command is being invoked and that command is invalid. You do not show any <code>ALTER SESSION</code> commands so it is probably in a trigger. You need to fix that command so it is valid.</p>\n</li>\n<li><p>The <code>FETCH FIRST n ROWS ONLY</code> syntax was introduced in Oracle 12. You are using Oracle 8 so it is not going to work. Instead, you want:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT COL1, COL2, COL3 FROM TABLE_A WHERE ROWNUM &lt;= 5\n</code></pre>\n<p>However, you probably want an <code>ORDER BY</code> clause as well (otherwise you are getting 5 random rows, rather than 5 specific rows).</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM (SELECT COL1, COL2, COL3 FROM TABLE_A ORDER BY COL1, COL2, COL2) WHERE ROWNUM &lt;= 5\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695000737,"post_id":77113326,"comment_id":135961286,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77113326/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29054609,"reputation":11,"user_id":22256640,"display_name":"Nuwan Madushanka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694789069,"creation_date":1694789069,"answer_id":77113326,"question_id":77103283,"body_markdown":"Managed to fix with Java 1.2 and classes12.zip","title":"Java application connectivity issue for Oracle8 Release 8.0.5.0.0","body":"<p>Managed to fix with Java 1.2 and classes12.zip</p>\n"}],"owner":{"account_id":29054609,"reputation":11,"user_id":22256640,"display_name":"Nuwan Madushanka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694789069,"creation_date":1694681837,"question_id":77103283,"body_markdown":"I&#39;ve given a task to connect to Oracle8 Release 8.0.5.0.0 from a Java application. My code snippet is as follows.\r\n\r\n\r\n```\r\nimport java.sql.*;\r\n\r\nclass OracleConOldJava {\r\n    public static void main(String args[]) {\r\n        Connection con = null;\r\n        Statement stmt = null;\r\n        ResultSet rs = null;\r\n\r\n        try {\r\n            // Load the Oracle JDBC driver\r\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\n            // Establish the database connection\r\n            con = DriverManager.getConnection(\r\n                &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n\r\n            // Create a statement\r\n            stmt = con.createStatement();\r\n\r\n            // Execute the SQL query with FETCH FIRST to limit the number of rows\r\n            rs = stmt.executeQuery(\r\n                &quot;SELECT COL1, COL2, COL3 FROM TABLE_A FETCH FIRST 5 ROWS ONLY&quot;);\r\n\r\n            // Iterate through the result set and print the data\r\n            while (rs.next()) {\r\n                System.out.println(\r\n                    rs.getInt(&quot;COL&quot;) + &quot;  &quot; +\r\n                    rs.getString(&quot;COL2&quot;) + &quot;  &quot; +\r\n                    rs.getString(&quot;COL3&quot;));\r\n            }\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                // Close the resources in the reverse order of acquisition\r\n                if (rs != null) rs.close();\r\n                if (stmt != null) stmt.close();\r\n                if (con != null) con.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m using ojdbc14.jar with java 1.4.\r\n\r\nWhen I run the code getting below error.\r\n\r\n\r\n```\r\nC:\\j2sdk1.4.2_18\\bin\\java.exe -cp .;ojdbc14.jar OracleConOldJava\r\njava.sql.SQLException: ORA-00604: error occurred at recursive SQL level 1\r\nORA-02248: invalid option for ALTER SESSION\r\n\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\r\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:283)\r\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:278)\r\n        at oracle.jdbc.driver.T4CTTIoauthenticate.receiveOauth(T4CTTIoauthenticate.java:785)\r\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:362)\r\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\r\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:512)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:171)\r\n        at OracleConOldJava.main(OracleConOldJava.java:14)\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve used java 1.8 with ojdbc8.jar and java 1.4 with ojdbc14.jar. Same error occurred.\r\nWhat could be the reason for this? Is it due to driver mismatch? If so what is the driver I have to use?","title":"Java application connectivity issue for Oracle8 Release 8.0.5.0.0","body":"<p>I've given a task to connect to Oracle8 Release 8.0.5.0.0 from a Java application. My code snippet is as follows.</p>\n<pre><code>import java.sql.*;\n\nclass OracleConOldJava {\n    public static void main(String args[]) {\n        Connection con = null;\n        Statement stmt = null;\n        ResultSet rs = null;\n\n        try {\n            // Load the Oracle JDBC driver\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n\n            // Establish the database connection\n            con = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@192.168.1.3:1521/DBNAME&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\n\n            // Create a statement\n            stmt = con.createStatement();\n\n            // Execute the SQL query with FETCH FIRST to limit the number of rows\n            rs = stmt.executeQuery(\n                &quot;SELECT COL1, COL2, COL3 FROM TABLE_A FETCH FIRST 5 ROWS ONLY&quot;);\n\n            // Iterate through the result set and print the data\n            while (rs.next()) {\n                System.out.println(\n                    rs.getInt(&quot;COL&quot;) + &quot;  &quot; +\n                    rs.getString(&quot;COL2&quot;) + &quot;  &quot; +\n                    rs.getString(&quot;COL3&quot;));\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                // Close the resources in the reverse order of acquisition\n                if (rs != null) rs.close();\n                if (stmt != null) stmt.close();\n                if (con != null) con.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm using ojdbc14.jar with java 1.4.</p>\n<p>When I run the code getting below error.</p>\n<pre><code>C:\\j2sdk1.4.2_18\\bin\\java.exe -cp .;ojdbc14.jar OracleConOldJava\njava.sql.SQLException: ORA-00604: error occurred at recursive SQL level 1\nORA-02248: invalid option for ALTER SESSION\n\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:283)\n        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:278)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.receiveOauth(T4CTTIoauthenticate.java:785)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:362)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at java.sql.DriverManager.getConnection(DriverManager.java:512)\n        at java.sql.DriverManager.getConnection(DriverManager.java:171)\n        at OracleConOldJava.main(OracleConOldJava.java:14)\n</code></pre>\n<p>I've used java 1.8 with ojdbc8.jar and java 1.4 with ojdbc14.jar. Same error occurred.\nWhat could be the reason for this? Is it due to driver mismatch? If so what is the driver I have to use?</p>\n"},{"tags":["java","openstack-swift"],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694788596,"creation_date":1694124377,"question_id":77063109,"body_markdown":"I&#39;m uploading the file like this as mentioned in their public document.\r\n```\r\nString path = getClass().getClassLoader().getResource(&quot;SmallImage.png&quot;).getPath();\r\nString name = &quot;SmallImage.png&quot;;\r\nStoredObject object = container.getObject(name);\r\nUploadInstructions uploadInstructions = new UploadInstructions(new File(path));\r\nobject.uploadObject(uploadInstructions);\r\n```\r\nThe library itself generates the Etag and adds it to the PUT request header. But then I get the MD5_CHECKSUM error when I try to upload. I don&#39;t understand why that MD5 checksum is rejected the the server when the library itself is generating the etag.\r\n\r\nThe workaround of not supplying the etag does not work either since the library mandatorily adds the etag header here in UploadObjectCommandImpl.prepareUpload method.\r\n\r\nPlease suggest what can be done here to solve this problem.","title":"MD5_CHECKSUM error while uploading a file","body":"<p>I'm uploading the file like this as mentioned in their public document.</p>\n<pre><code>String path = getClass().getClassLoader().getResource(&quot;SmallImage.png&quot;).getPath();\nString name = &quot;SmallImage.png&quot;;\nStoredObject object = container.getObject(name);\nUploadInstructions uploadInstructions = new UploadInstructions(new File(path));\nobject.uploadObject(uploadInstructions);\n</code></pre>\n<p>The library itself generates the Etag and adds it to the PUT request header. But then I get the MD5_CHECKSUM error when I try to upload. I don't understand why that MD5 checksum is rejected the the server when the library itself is generating the etag.</p>\n<p>The workaround of not supplying the etag does not work either since the library mandatorily adds the etag header here in UploadObjectCommandImpl.prepareUpload method.</p>\n<p>Please suggest what can be done here to solve this problem.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694788427,"creation_date":1694788427,"answer_id":77113247,"question_id":77053100,"body_markdown":"Pffffff !! \r\n\r\nI had a proxy on my vm arguments ... it works without","title":"Springboot - Connect exception","body":"<p>Pffffff !!</p>\n<p>I had a proxy on my vm arguments ... it works without</p>\n"}],"owner":{"account_id":18391609,"reputation":87,"user_id":13397146,"display_name":"Josselin Beaud&#39;huy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694788427,"creation_date":1694012157,"question_id":77053100,"body_markdown":"I used this code in a springboot application : \r\n\r\n\r\n```\r\ntry {\r\n\t\t\tSystem.out.println(&quot;StartListener.onApplicationEvent()&quot;);\r\n\t\t\tHttpRequest request = HttpRequest.newBuilder().GET()\r\n\t\t\t\t\t.uri(URI.create(\r\n\t\t\t\t\t\t\t&quot;https://fr.ftp.opendatasoft.com/openscol/fr-en-calendrier-scolaire/Zone-A-B-C-Corse.ics&quot;))\r\n\t\t\t\t\t.build();\r\n\t\t\tHttpClient httpClient = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\r\n\t\t\tHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\t\tSystem.out.println(response.body());\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\ni have a connect exception every time : \r\n\r\n\r\n&gt; java.net.ConnectException \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:573)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\r\n&gt; \tat\r\n&gt; fr.utensilia.covoit.back.config.StartListener.onApplicationEvent(StartListener.java:42)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; \tat\r\n&gt; fr.utensilia.covoit.CovoitApplication.main(CovoitApplication.java:10)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n&gt; Caused by: java.net.ConnectException \tat\r\n&gt; java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1047)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:198)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:230)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:206)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; java.nio.channels.ClosedChannelException \tat\r\n&gt; java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:195)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:760)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:848)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:183)\r\n&gt; \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n&gt; \tat\r\n&gt; java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:185)\r\n&gt; \t... 9 more\r\n\r\n\r\n\r\nIf i use the same code in a simple class (without spring) it&#39;s ok : \r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;StartListener.onApplicationEvent()&quot;);\r\n\t\t\tHttpRequest request = HttpRequest.newBuilder().GET()\r\n\t\t\t\t\t.uri(URI.create(\r\n\t\t\t\t\t\t\t&quot;https://fr.ftp.opendatasoft.com/openscol/fr-en-calendrier-scolaire/Zone-A-B-C-Corse.ics&quot;))\r\n\t\t\t\t\t.build();\r\n\t\t\tHttpClient httpClient = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\r\n\t\t\tHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\t\tSystem.out.println(response.body());\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI can open it in a browser and exception is not similar to this one : https://stackoverflow.com/questions/72688051/java-net-connectexception-while-source-validation-in-java\r\n\r\nAny idea ? ","title":"Springboot - Connect exception","body":"<p>I used this code in a springboot application :</p>\n<pre><code>try {\n            System.out.println(&quot;StartListener.onApplicationEvent()&quot;);\n            HttpRequest request = HttpRequest.newBuilder().GET()\n                    .uri(URI.create(\n                            &quot;https://fr.ftp.opendatasoft.com/openscol/fr-en-calendrier-scolaire/Zone-A-B-C-Corse.ics&quot;))\n                    .build();\n            HttpClient httpClient = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\n            HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n            System.out.println(response.body());\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>i have a connect exception every time :</p>\n<blockquote>\n<p>java.net.ConnectException     at\njava.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:573)\nat\njava.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\nat\nfr.utensilia.covoit.back.config.StartListener.onApplicationEvent(StartListener.java:42)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)\nat\norg.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)\nat\norg.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\nat\norg.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\nat\norg.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\nat\norg.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\nat\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\nat\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\nat\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nat\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:308)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat\nfr.utensilia.covoit.CovoitApplication.main(CovoitApplication.java:10)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.net.ConnectException  at\njava.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1047)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:198)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:230)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:206)\nat\njava.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\nat\njava.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\nat\njava.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\nat\njava.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njava.nio.channels.ClosedChannelException  at\njava.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:195)\nat\njava.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:760)\nat\njava.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:848)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:183)\nat\njava.base/java.security.AccessController.doPrivileged(AccessController.java:569)\nat\njava.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:185)\n... 9 more</p>\n</blockquote>\n<p>If i use the same code in a simple class (without spring) it's ok :</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(&quot;StartListener.onApplicationEvent()&quot;);\n            HttpRequest request = HttpRequest.newBuilder().GET()\n                    .uri(URI.create(\n                            &quot;https://fr.ftp.opendatasoft.com/openscol/fr-en-calendrier-scolaire/Zone-A-B-C-Corse.ics&quot;))\n                    .build();\n            HttpClient httpClient = HttpClient.newBuilder().version(HttpClient.Version.HTTP_2).build();\n            HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n            System.out.println(response.body());\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>I can open it in a browser and exception is not similar to this one : <a href=\"https://stackoverflow.com/questions/72688051/java-net-connectexception-while-source-validation-in-java\">java.net.ConnectException while Source Validation in Java</a></p>\n<p>Any idea ?</p>\n"},{"tags":["java","tree","swt","eclipse-rcp","row-height"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1694787638,"post_id":77113080,"comment_id":135941279,"body_markdown":"Setting the `height` field in the `MeasureItem` event can increase the size of the rows (but not decrease it). Also note that all rows have to have the same height.","body":"Setting the <code>height</code> field in the <code>MeasureItem</code> event can increase the size of the rows (but not decrease it). Also note that all rows have to have the same height."},{"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"score":0,"creation_date":1694789248,"post_id":77113080,"comment_id":135941612,"body_markdown":"@greg-449 i want to decrease the height for all rows. How can i do it","body":"@greg-449 i want to decrease the height for all rows. How can i do it"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1694795733,"post_id":77113080,"comment_id":135942853,"body_markdown":"There is no official way to do that. On macOS it is possible to access some of the SWT internals to do it but that make the code macOS specific. I don&#39;t know if it is possible on other platforms.","body":"There is no official way to do that. On macOS it is possible to access some of the SWT internals to do it but that make the code macOS specific. I don&#39;t know if it is possible on other platforms."}],"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694787083,"creation_date":1694787044,"question_id":77113080,"body_markdown":"I have tree, i want to change the row height of that tree.\r\nI have tried adding listener, SWT.MeasureItem and EraseItem as well, but still the row height is not changing.\r\n\r\nThere is the function in inbuilt Tree class but, that function is not public , so I am not able to use that function\r\n\r\n\r\n\r\nPlease suggest some approach to change the row height of the tree.","title":"Change row height in SWT tree","body":"<p>I have tree, i want to change the row height of that tree.\nI have tried adding listener, SWT.MeasureItem and EraseItem as well, but still the row height is not changing.</p>\n<p>There is the function in inbuilt Tree class but, that function is not public , so I am not able to use that function</p>\n<p>Please suggest some approach to change the row height of the tree.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1687866243,"post_id":23868733,"comment_id":134993694,"body_markdown":"somewhat surprisingly, even `Supplier&lt;Void&gt;` won&#39;t work since `void cannot be converted to Void` XD","body":"somewhat surprisingly, even <code>Supplier&lt;Void&gt;</code> won&#39;t work since <code>void cannot be converted to Void</code> XD"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1689980001,"post_id":23868733,"comment_id":135294223,"body_markdown":"I disagree with the use `Runnable` advice. It miscommunicates intent: https://stackoverflow.com/a/76741622/501113","body":"I disagree with the use <code>Runnable</code> advice. It miscommunicates intent: <a href=\"https://stackoverflow.com/a/76741622/501113\">stackoverflow.com/a/76741622/501113</a>"}],"answers":[{"comments":[{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":3,"creation_date":1401105086,"post_id":23868969,"comment_id":36740434,"body_markdown":"Yes, I was looking for it in the new `java.util.function`package and I completely forgot the old `Runnable`","body":"Yes, I was looking for it in the new <code>java.util.function</code>package and I completely forgot the old <code>Runnable</code>"},{"owner":{"account_id":924287,"reputation":313,"user_id":955370,"accept_rate":38,"display_name":"TheSecretSquad"},"score":52,"creation_date":1430452978,"post_id":23868969,"comment_id":48082368,"body_markdown":"`Runnable`&#39;s interface specification indicates it is to provide executable code to the `Thread` class. It doesn&#39;t seem right to me to use `Runnable` where it&#39;s not intended for execution by a thread; seems misleading. `Runnable` is defined as a `FunctionalInterface` because it meets the specification of a functional interface and can be created using lambda syntax. Why not create your own functional interface? see [Runnable](http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html), see [FunctionalInterface](http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html)","body":"<code>Runnable</code>&#39;s interface specification indicates it is to provide executable code to the <code>Thread</code> class. It doesn&#39;t seem right to me to use <code>Runnable</code> where it&#39;s not intended for execution by a thread; seems misleading. <code>Runnable</code> is defined as a <code>FunctionalInterface</code> because it meets the specification of a functional interface and can be created using lambda syntax. Why not create your own functional interface? see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a>, see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">FunctionalInterface</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":9,"creation_date":1430469396,"post_id":23868969,"comment_id":48086911,"body_markdown":"@TheSecretSquad (i) `Runnable` is annotated with `@FunctionalInterface` and (ii) even in the context of a lambda expression it will be executed on a thread: the thread in which the lambda is run which may be the current thread...","body":"@TheSecretSquad (i) <code>Runnable</code> is annotated with <code>@FunctionalInterface</code> and (ii) even in the context of a lambda expression it will be executed on a thread: the thread in which the lambda is run which may be the current thread..."},{"owner":{"account_id":233198,"reputation":712,"user_id":498531,"accept_rate":62,"display_name":"jpangamarca"},"score":12,"creation_date":1439999194,"post_id":23868969,"comment_id":52094699,"body_markdown":"I agree with @TheSecretSquad, while it satisfies the functional requirement, it does not sound very semantic, Runnable is commonly associated with creating threads. A simple Worker functional interface with a doWork method would have been nice. EDIT: Oops: http://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294","body":"I agree with @TheSecretSquad, while it satisfies the functional requirement, it does not sound very semantic, Runnable is commonly associated with creating threads. A simple Worker functional interface with a doWork method would have been nice. EDIT: Oops: <a href=\"http://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294\" title=\"function with no args and no return type void in java 8\">stackoverflow.com/questions/27973294/&hellip;</a>"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":10,"creation_date":1459459589,"post_id":23868969,"comment_id":60309935,"body_markdown":"Fleshing out @jpangamarca&#39;s &quot;Oops&quot; above: In the comments on the  duplicate question he linked, Brian Goetz confirmed that `Runnable` was intended to be used for this purpose, not just for threading contexts.","body":"Fleshing out @jpangamarca&#39;s &quot;Oops&quot; above: In the comments on the  duplicate question he linked, Brian Goetz confirmed that <code>Runnable</code> was intended to be used for this purpose, not just for threading contexts."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":12,"creation_date":1459459742,"post_id":23868969,"comment_id":60310009,"body_markdown":"Given that that&#39;s the case, though, I think the javadoc should be made more generic: https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html","body":"Given that that&#39;s the case, though, I think the javadoc should be made more generic: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html</a>"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":1,"creation_date":1553084214,"post_id":23868969,"comment_id":97252398,"body_markdown":"If you end up writing lambdas without parameters and return values, you are likely to write code with side effects. So it&#39;s time to think over and change your design.","body":"If you end up writing lambdas without parameters and return values, you are likely to write code with side effects. So it&#39;s time to think over and change your design."},{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":3,"creation_date":1591024015,"post_id":23868969,"comment_id":109892849,"body_markdown":"FWIW Java 11 standard library uses a `Runnable` for this purpose in at least one place: [`Optional::ifPresentOrElse`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)) (Which admittedly also made me think at first if it would run on a different thread)","body":"FWIW Java 11 standard library uses a <code>Runnable</code> for this purpose in at least one place: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Optional::ifPresentOrElse</code></a> (Which admittedly also made me think at first if it would run on a different thread)"},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":5,"creation_date":1687866654,"post_id":23868969,"comment_id":134993780,"body_markdown":"since Java 19, it&#39;s actually the *official* way: see https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Runnable.html vs Java 18&#39;s https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Runnable.html","body":"since Java 19, it&#39;s actually the <i>official</i> way: see <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> vs Java 18&#39;s <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1694786664,"post_id":23868969,"comment_id":135941082,"body_markdown":"@spamove Good catch!","body":"@spamove Good catch!"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":10,"down_vote_count":3,"up_vote_count":136,"is_accepted":true,"score":133,"last_activity_date":1471334322,"creation_date":1401103370,"answer_id":23868969,"question_id":23868733,"body_markdown":"If I understand correctly you want a functional interface with a method `void m()`. In which case you can simply use a [`Runnable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html).","title":"Java 8 functional interface with no arguments and no return value","body":"<p>If I understand correctly you want a functional interface with a method <code>void m()</code>. In which case you can simply use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\"><code>Runnable</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1687866951,"post_id":45419418,"comment_id":134993854,"body_markdown":"since Java 19, no need to make your own, `Runnable` is the officially documented answer.","body":"since Java 19, no need to make your own, <code>Runnable</code> is the officially documented answer."}],"tags":[],"owner":{"account_id":6899463,"reputation":1074,"user_id":5299539,"accept_rate":59,"display_name":"Charana"},"comment_count":1,"down_vote_count":6,"up_vote_count":40,"is_accepted":false,"score":34,"last_activity_date":1501513648,"creation_date":1501513648,"answer_id":45419418,"question_id":23868733,"body_markdown":"Just make your own\r\n\r\n\r\n    @FunctionalInterface\r\n    public interface Procedure {\r\n        void run();\r\n    \r\n        default Procedure andThen(Procedure after){\r\n            return () -&gt; {\r\n                this.run();\r\n                after.run();\r\n            };\r\n        }\r\n    \r\n        default Procedure compose(Procedure before){\r\n            return () -&gt; {\r\n                before.run();\r\n                this.run();\r\n            };\r\n        }\r\n    }\r\n\r\nand use it like this\r\n\r\n    public static void main(String[] args){\r\n        Procedure procedure1 = () -&gt; System.out.print(&quot;Hello&quot;);\r\n        Procedure procedure2 = () -&gt; System.out.print(&quot;World&quot;);\r\n\r\n        procedure1.andThen(procedure2).run();\r\n        System.out.println();\r\n        procedure1.compose(procedure2).run();\r\n\r\n    }\r\n\r\nand the output\r\n\r\n    HelloWorld\r\n    WorldHello","title":"Java 8 functional interface with no arguments and no return value","body":"<p>Just make your own</p>\n\n<pre><code>@FunctionalInterface\npublic interface Procedure {\n    void run();\n\n    default Procedure andThen(Procedure after){\n        return () -&gt; {\n            this.run();\n            after.run();\n        };\n    }\n\n    default Procedure compose(Procedure before){\n        return () -&gt; {\n            before.run();\n            this.run();\n        };\n    }\n}\n</code></pre>\n\n<p>and use it like this</p>\n\n<pre><code>public static void main(String[] args){\n    Procedure procedure1 = () -&gt; System.out.print(\"Hello\");\n    Procedure procedure2 = () -&gt; System.out.print(\"World\");\n\n    procedure1.andThen(procedure2).run();\n    System.out.println();\n    procedure1.compose(procedure2).run();\n\n}\n</code></pre>\n\n<p>and the output</p>\n\n<pre><code>HelloWorld\nWorldHello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17945185,"reputation":122,"user_id":13039638,"display_name":"uma mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610528915,"creation_date":1589866728,"answer_id":61883965,"question_id":23868733,"body_markdown":"   \r\n\r\n `@FunctionalInterface` allows only method abstract method Hence you can instantiate that interface with lambda expression as below and you can access the interface members\r\n\r\n            @FunctionalInterface\r\n            interface Hai {\r\n            \r\n            \tvoid m2();\r\n            \r\n            \tstatic void m1() {\r\n            \t\tSystem.out.println(&quot;i m1 method:::&quot;);\r\n            \t}\r\n            \r\n            \tdefault void log(String str) {\r\n            \t\tSystem.out.println(&quot;i am log method:::&quot; + str);\r\n            \t}\r\n            \r\n            }\r\n        \r\n        public class Hello {\r\n        \tpublic static void main(String[] args) {\r\n        \r\n        \t\tHai hai = () -&gt; {};\r\n        \t\thai.log(&quot;lets do it.&quot;);\r\n        \t\tHai.m1();\r\n        \r\n        \t}\r\n        }\r\n    \r\n    \r\noutput:\r\n\r\n    i am log method:::lets do it.\r\n    i m1 method:::","title":"Java 8 functional interface with no arguments and no return value","body":"<p><code>@FunctionalInterface</code> allows only method abstract method Hence you can instantiate that interface with lambda expression as below and you can access the interface members</p>\n<pre><code>        @FunctionalInterface\n        interface Hai {\n        \n            void m2();\n        \n            static void m1() {\n                System.out.println(&quot;i m1 method:::&quot;);\n            }\n        \n            default void log(String str) {\n                System.out.println(&quot;i am log method:::&quot; + str);\n            }\n        \n        }\n    \n    public class Hello {\n        public static void main(String[] args) {\n    \n            Hai hai = () -&gt; {};\n            hai.log(&quot;lets do it.&quot;);\n            Hai.m1();\n    \n        }\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>i am log method:::lets do it.\ni m1 method:::\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694786406,"creation_date":1689979594,"answer_id":76741622,"question_id":23868733,"body_markdown":"**Note:** For a more complete solution, here&#39;s an [StackOverflow Answer][1] I&#39;ve posted.\r\n\r\n----------\r\n\r\nI don&#39;t like the decision made by the Java library team to leave out the case of a no-parameter-no-return-value `Function` interface, and nudging those who need one to use `Runnable`. I think it inaccurately, and even incorrectly, redirects attention and subsequent assumptions when trying to read through a code base. Especially years after the original code was written.\r\n\r\nGiven communication and readability are far higher concerns for me and my audiences, I have composed a small helper `interface` designed and named in the spirit of the Java library&#39;s missing case:\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface VoidSupplier {\r\n  void get();\r\n}\r\n```\r\n\r\nAnd in my case, the likelihood of an Exception being thrown in the method is considerably higher, so I actually added a checked exception like this:\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface VoidSupplier {\r\n  void get() throws Exception;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76985309/501113","title":"Java 8 functional interface with no arguments and no return value","body":"<p><strong>Note:</strong> For a more complete solution, here's an <a href=\"https://stackoverflow.com/a/76985309/501113\">StackOverflow Answer</a> I've posted.</p>\n<hr />\n<p>I don't like the decision made by the Java library team to leave out the case of a no-parameter-no-return-value <code>Function</code> interface, and nudging those who need one to use <code>Runnable</code>. I think it inaccurately, and even incorrectly, redirects attention and subsequent assumptions when trying to read through a code base. Especially years after the original code was written.</p>\n<p>Given communication and readability are far higher concerns for me and my audiences, I have composed a small helper <code>interface</code> designed and named in the spirit of the Java library's missing case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface VoidSupplier {\n  void get();\n}\n</code></pre>\n<p>And in my case, the likelihood of an Exception being thrown in the method is considerably higher, so I actually added a checked exception like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface VoidSupplier {\n  void get() throws Exception;\n}\n</code></pre>\n"}],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37152,"favorite_count":0,"down_vote_count":1,"up_vote_count":144,"accepted_answer_id":23868969,"answer_count":4,"score":143,"last_activity_date":1694786406,"creation_date":1401102531,"question_id":23868733,"body_markdown":"What is the Java 8 functional interface for a method that takes nothing and returns nothing? \r\n\r\nI.e., the equivalent to the C# parameterless `Action` with `void` return type?","title":"Java 8 functional interface with no arguments and no return value","body":"<p>What is the Java 8 functional interface for a method that takes nothing and returns nothing?</p>\n<p>I.e., the equivalent to the C# parameterless <code>Action</code> with <code>void</code> return type?</p>\n"},{"tags":["java","intellij-idea","javafx","jar","artifact"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":4,"creation_date":1694780106,"post_id":77111187,"comment_id":135939633,"body_markdown":"Please, [no images of code/data/errors](https://meta.stackoverflow.com/q/285551/230513).","body":"Please, <a href=\"https://meta.stackoverflow.com/q/285551/230513\">no images of code/data/errors</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1694788625,"post_id":77111187,"comment_id":135941470,"body_markdown":"Follow one of the tutorials [here](https://openjfx.io/openjfx-docs/).","body":"Follow one of the tutorials <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":28953821,"reputation":1,"user_id":22177788,"display_name":"dominguez damien"},"score":0,"creation_date":1694875947,"post_id":77112952,"comment_id":135950403,"body_markdown":"I add in the artifacts project structure, the path to the lib javafx 20, to the bin javafx 20. i had in the edit configurations -&gt;VM options : --module-path &quot;C:\\Program Files (x86)\\javafx-sdk-20.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml.   I can start the artifact jar file from intellij without error now, but when i want to launch the jar file in explorer, they say: &quot;A Java Exception has occured&quot;","body":"I add in the artifacts project structure, the path to the lib javafx 20, to the bin javafx 20. i had in the edit configurations -&gt;VM options : --module-path &quot;C:\\Program Files (x86)\\javafx-sdk-20.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml.   I can start the artifact jar file from intellij without error now, but when i want to launch the jar file in explorer, they say: &quot;A Java Exception has occured&quot;"},{"owner":{"account_id":13556035,"reputation":11,"user_id":9779463,"display_name":"cdiegobb"},"score":0,"creation_date":1695379247,"post_id":77112952,"comment_id":136019816,"body_markdown":"do you set the values in your enviroment variable too?","body":"do you set the values in your enviroment variable too?"}],"tags":[],"owner":{"account_id":13556035,"reputation":11,"user_id":9779463,"display_name":"cdiegobb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694785984,"creation_date":1694785984,"answer_id":77112952,"question_id":77111187,"body_markdown":"Which version of java do you use?, normally after the version 11 of Java, JavaFx is no more part of the lib. \r\nYou need to download apart go here (https://openjfx.io/), if you use version 9 please made this:\r\n`java --module-path /path/of/javafx-sdk-XX/lib --add-modules javafx.controls,javafx.fxml -jar YourApp.jar` java and javafx most be compatible also \r\n\r\n","title":"JavaFX runtine components are missing?","body":"<p>Which version of java do you use?, normally after the version 11 of Java, JavaFx is no more part of the lib.\nYou need to download apart go here (<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">https://openjfx.io/</a>), if you use version 9 please made this:\n<code>java --module-path /path/of/javafx-sdk-XX/lib --add-modules javafx.controls,javafx.fxml -jar YourApp.jar</code> java and javafx most be compatible also</p>\n"}],"owner":{"account_id":28953821,"reputation":1,"user_id":22177788,"display_name":"dominguez damien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694896370,"answer_count":1,"score":0,"last_activity_date":1694785984,"creation_date":1694769902,"question_id":77111187,"body_markdown":"Hello i try to build an artifact but they say:[enter image description here](https://i.stack.imgur.com/XtxIx.png)\r\n\r\n\r\n\r\ni try to add maven dependency on the projetstructure, but that doesn t work.[enter image description here](https://i.stack.imgur.com/zJsSS.png) what can i do ?\r\n\r\nThanks a lot for your answers","title":"JavaFX runtine components are missing?","body":"<p>Hello i try to build an artifact but they say:<a href=\"https://i.stack.imgur.com/XtxIx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i try to add maven dependency on the projetstructure, but that doesn t work.<a href=\"https://i.stack.imgur.com/zJsSS.png\" rel=\"nofollow noreferrer\">enter image description here</a> what can i do ?</p>\n<p>Thanks a lot for your answers</p>\n"},{"tags":["java","spring-boot","caching","types","ehcache-3"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1694916932,"post_id":77112895,"comment_id":135953920,"body_markdown":"You should upgrade, as you are on v3.0.0 which [asserts](https://github.com/ehcache/ehcache3/blob/v3.0.0/107/src/main/java/org/ehcache/jsr107/Eh107CacheManager.java#L256C2-L275) that `getCache(String)` uses `Object.class` for the key/value type. The jsr107 spec was [changed](https://github.com/jsr107/jsr107spec/commit/403cb2b86813b18e1febdfa3143724df65b14ad1) in 1.1 to no longer require this check.","body":"You should upgrade, as you are on v3.0.0 which <a href=\"https://github.com/ehcache/ehcache3/blob/v3.0.0/107/src/main/java/org/ehcache/jsr107/Eh107CacheManager.java#L256C2-L275\" rel=\"nofollow noreferrer\">asserts</a> that <code>getCache(String)</code> uses <code>Object.class</code> for the key/value type. The jsr107 spec was <a href=\"https://github.com/jsr107/jsr107spec/commit/403cb2b86813b18e1febdfa3143724df65b14ad1\" rel=\"nofollow noreferrer\">changed</a> in 1.1 to no longer require this check."},{"owner":{"account_id":29452437,"reputation":1,"user_id":22568819,"display_name":"Francesca Pizzimenti"},"score":0,"creation_date":1695020681,"post_id":77112895,"comment_id":135962964,"body_markdown":"@BenManes it worked, thank you so much!","body":"@BenManes it worked, thank you so much!"},{"owner":{"account_id":29452437,"reputation":1,"user_id":22568819,"display_name":"Francesca Pizzimenti"},"score":0,"creation_date":1695022044,"post_id":77112895,"comment_id":135963207,"body_markdown":"@BenManes Sorry, you know if it is possible to use &quot;@Cacheable&quot; on an interceptor method?","body":"@BenManes Sorry, you know if it is possible to use &quot;@Cacheable&quot; on an interceptor method?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1695073158,"post_id":77112895,"comment_id":135972885,"body_markdown":"Sorry, I haven&#39;t used either Spring or Ehcache for many years. ChatGPT seems to say that is non-standard scenario, so you either write your own caching abstraction or annotate the target method.","body":"Sorry, I haven&#39;t used either Spring or Ehcache for many years. ChatGPT seems to say that is non-standard scenario, so you either write your own caching abstraction or annotate the target method."}],"owner":{"account_id":29452437,"reputation":1,"user_id":22568819,"display_name":"Francesca Pizzimenti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694785580,"creation_date":1694785580,"question_id":77112895,"body_markdown":"my issue is the same of this https://stackoverflow.com/q/45737109/22568819,\r\nthe only difference is that I don&#39;t have an .xml file, I have this CacheConfig instead: \r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        // creation of cache configuration\r\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(\r\n                        String.class, String.class,\r\n                        ResourcePoolsBuilder.heap(1000).build()\r\n                ).build();\r\n\r\n        // fetching cacheManager\r\n        CachingProvider cachingProvider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = cachingProvider.getCacheManager();\r\n\r\n        // parsing ehcache configuration to something SpringBoot will understand\r\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\r\n\r\n        // creating as many caches as you want\r\n        cacheManager.createCache(&quot;serviceHostName&quot;, configuration);\r\n\r\n        // add shutdown hook to close cacheManager\r\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\r\n\r\n        // return Bean\r\n        return cacheManager;\r\n    }\r\n}\r\n\r\n```\r\nBut when I deploy project, I have this exception: \r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheManager&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Cache [serviceHostName] specifies key/value types. Use getCache(String, Class, Class)....\r\n\t\r\nCaused by: java.lang.IllegalArgumentException: Cache [serviceHostName] specifies key/value types. Use getCache(String, Class, Class)\r\n\tat org.ehcache.jsr107.Eh107CacheManager.getCache(Eh107CacheManager.java:271) ~[ehcache-3.0.0.jar:3.0.0 6973aca181d2b3e0010945a89933f3c99f4460c5]....\r\n\r\n```\r\nWhat is need to do, that I can use own key type and value types?\r\n","title":"Spring Ehcache3 cause exception with key-type and value-type","body":"<p>my issue is the same of this <a href=\"https://stackoverflow.com/q/45737109/22568819\">Spring Ehcache3 cause exception with with key-type and value-type</a>,\nthe only difference is that I don't have an .xml file, I have this CacheConfig instead:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        // creation of cache configuration\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(\n                        String.class, String.class,\n                        ResourcePoolsBuilder.heap(1000).build()\n                ).build();\n\n        // fetching cacheManager\n        CachingProvider cachingProvider = Caching.getCachingProvider();\n        CacheManager cacheManager = cachingProvider.getCacheManager();\n\n        // parsing ehcache configuration to something SpringBoot will understand\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\n\n        // creating as many caches as you want\n        cacheManager.createCache(&quot;serviceHostName&quot;, configuration);\n\n        // add shutdown hook to close cacheManager\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\n\n        // return Bean\n        return cacheManager;\n    }\n}\n\n</code></pre>\n<p>But when I deploy project, I have this exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Cache [serviceHostName] specifies key/value types. Use getCache(String, Class, Class)....\n    \nCaused by: java.lang.IllegalArgumentException: Cache [serviceHostName] specifies key/value types. Use getCache(String, Class, Class)\n    at org.ehcache.jsr107.Eh107CacheManager.getCache(Eh107CacheManager.java:271) ~[ehcache-3.0.0.jar:3.0.0 6973aca181d2b3e0010945a89933f3c99f4460c5]....\n\n</code></pre>\n<p>What is need to do, that I can use own key type and value types?</p>\n"},{"tags":["java","windows","ant","runtime","version"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1694613938,"post_id":77097715,"comment_id":135914627,"body_markdown":"Have you tried to `SET JAVA_HOME=G:\\Progra~1\\Java\\jdk1.8.0_301` before running `ant`? And if that doesn&#39;t work, maybe `SET PATH=G:\\Progra~1\\Java\\jdk1.8.0_301\\bin;%PATH%`?","body":"Have you tried to <code>SET JAVA_HOME=G:\\Progra~1\\Java\\jdk1.8.0_301</code> before running <code>ant</code>? And if that doesn&#39;t work, maybe <code>SET PATH=G:\\Progra~1\\Java\\jdk1.8.0_301\\bin;%PATH%</code>?"},{"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"score":0,"creation_date":1694614105,"post_id":77097715,"comment_id":135914662,"body_markdown":"@NikosParaskevopoulos `SET JAVA_HOME` works. Thank you ... However, still interested to know if there is any `-D` parameters to force which java to use?","body":"@NikosParaskevopoulos <code>SET JAVA_HOME</code> works. Thank you ... However, still interested to know if there is any <code>-D</code> parameters to force which java to use?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694614412,"post_id":77097715,"comment_id":135914732,"body_markdown":"No, there isn&#39;t. And setting the source/target compatibility does not affect which JDK is used, it affects which bytecode version is emitted (and which Java features are available in source).","body":"No, there isn&#39;t. And setting the source/target compatibility does not affect which JDK is used, it affects which bytecode version is emitted (and which Java features are available in source)."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1694614481,"post_id":77097715,"comment_id":135914754,"body_markdown":"`-D` parameters usually apply to the `java` executable, after the startup script has determined where it is! So, I would say no, `-D` parameters will not have the effect you want. What they probably do (haven&#39;t used Ant for many years) is set the compiler compatibility required by your code, but again *after* the `java` executable has been located.","body":"<code>-D</code> parameters usually apply to the <code>java</code> executable, after the startup script has determined where it is! So, I would say no, <code>-D</code> parameters will not have the effect you want. What they probably do (haven&#39;t used Ant for many years) is set the compiler compatibility required by your code, but again <i>after</i> the <code>java</code> executable has been located."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694614766,"post_id":77097715,"comment_id":135914815,"body_markdown":"I would consider using [JEnv for Windows](https://github.com/FelixSelter/JEnv-for-Windows) and then you can get it to automatically use a particular version depending upon which project folder you&#39;re running in.","body":"I would consider using <a href=\"https://github.com/FelixSelter/JEnv-for-Windows\" rel=\"nofollow noreferrer\">JEnv for Windows</a> and then you can get it to automatically use a particular version depending upon which project folder you&#39;re running in."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694785141,"creation_date":1694784769,"answer_id":77112804,"question_id":77097715,"body_markdown":"You should be able to use javac from a different JDK version to the default by specifying a forked javac task:\r\n\r\n    &lt;javac \r\n         ...\r\n         fork=&quot;yes&quot; executable=&quot;${mycompiler}&quot;\r\n\r\nRun with path to a different javac.exe:\r\n\r\n    ant -Dmycompiler=C:\\java\\jdk-14\\bin\\javac.exe targets\r\n    ant -Dmycompiler=C:\\java\\jdk-17\\bin\\javac.exe targets\r\n\r\nYou may of course need additional ant settings to ensure that the default source/release is compatible for alternative JDK.\r\n\r\nIMO though you&#39;d be better off fixing your login / environment so that there isn&#39;t multiple java.exe versions when you type `where java`. It is very easy to configure CMD.EXE or Windows Terminal to setup for a specific JDK, allowing build from any version without changing the command line to `ant`.","title":"Force ant to use specific java version on Windows","body":"<p>You should be able to use javac from a different JDK version to the default by specifying a forked javac task:</p>\n<pre><code>&lt;javac \n     ...\n     fork=&quot;yes&quot; executable=&quot;${mycompiler}&quot;\n</code></pre>\n<p>Run with path to a different javac.exe:</p>\n<pre><code>ant -Dmycompiler=C:\\java\\jdk-14\\bin\\javac.exe targets\nant -Dmycompiler=C:\\java\\jdk-17\\bin\\javac.exe targets\n</code></pre>\n<p>You may of course need additional ant settings to ensure that the default source/release is compatible for alternative JDK.</p>\n<p>IMO though you'd be better off fixing your login / environment so that there isn't multiple java.exe versions when you type <code>where java</code>. It is very easy to configure CMD.EXE or Windows Terminal to setup for a specific JDK, allowing build from any version without changing the command line to <code>ant</code>.</p>\n"}],"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694785141,"creation_date":1694612917,"question_id":77097715,"body_markdown":"I use a simple build.xml from the internet with no java/executable specified as below. \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project name=&quot;the project&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\r\n    \r\n    \t&lt;property name=&quot;src.dir&quot; location=&quot;src&quot; /&gt;\r\n    \t&lt;property name=&quot;bin.dir&quot; location=&quot;bin&quot; /&gt;\r\n    \t&lt;property name=&quot;lib.dir&quot; location=&quot;lib&quot; /&gt;\r\n    \r\n    \t&lt;path id=&quot;classpath&quot;&gt;\r\n    \t\t&lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot; /&gt;\r\n    \t&lt;/path&gt;\r\n    \r\n    \t&lt;target name=&quot;init&quot;&gt;\r\n    \t\t&lt;!-- Create the time stamp --&gt;\r\n    \t\t&lt;tstamp /&gt;\r\n    \t\t&lt;!-- Create the build directory structure used by compile --&gt;\r\n    \t\t&lt;mkdir dir=&quot;${bin.dir}&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \r\n    \t&lt;target name=&quot;clean&quot; description=&quot;remove intermediate files&quot;&gt;\r\n    \t\t&lt;delete dir=&quot;${bin.dir}&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the Java source code to class files&quot;&gt;\r\n    \t\t&lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${bin.dir}&quot; classpathref=&quot;classpath&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBelow are a few java versions on my Windows apart from others:\r\n\r\n    where java\r\n    C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n    C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n    G:\\Program Files\\Java\\jdk1.8.0_301\\bin\\java.exe\r\n\r\nI wish to use this specific version of java with ant `G:\\Program Files\\Java\\jdk1.8.0_301\\bin\\java.exe`. However, ant continues to use a different below JDK version.\r\n\r\n    C:\\Users\\HOME&gt;ant -Dant.build.javac.target=1.8.0_301 -Dant.build.javac.source=1.8.0_301 -Dant.java.version=1.8.0_301 -v |  findstr /I &quot;java&quot;\r\n    Detected Java version: 10 in: G:\\jdk-10\r\n    \r\n    BUILD FAILED\r\n    C:\\Users\\HOME\\build.xml:25: srcdir &quot;C:\\Users\\HOME\\src&quot; does not exist!\r\n            at org.apache.tools.ant.taskdefs.Javac.collectFileListFromSourcePath(Javac.java:1144)\r\n            at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1086)\r\n            at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n            at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n            at org.apache.tools.ant.Task.perform(Task.java:350)\r\n            at org.apache.tools.ant.Target.execute(Target.java:449)\r\n            at org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n            at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n            at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\r\n            at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n            at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n            at org.apache.tools.ant.Main.runBuild(Main.java:818)\r\n            at org.apache.tools.ant.Main.startAnt(Main.java:223)\r\n            at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\r\n            at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\r\n    \r\n    Total time: 0 seconds\r\n        [javac] C:\\Users\\HOME\\build.xml:25: warning: &#39;includeantruntime&#39; was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\r\n\r\nIgnoring the error as I&#39;m just concerned with checking which version of java is used by my ant.\r\n\r\nI also tried `C:\\Users\\HOME&gt;ant -Dant.build.javac.target=1.8 -Dant.build.javac.source=1.8 -v |  findstr /I &quot;java&quot;` which also did not help.\r\n\r\n\r\nI&#39;m open to different answers but would prefer solutions to pass arguments to ant commands to use the desired JDK. \r\n\r\nThe idea is to switch between `java versions` when using `ant` to build different applications on my host.\r\n\r\nThe sub-version of java is important so I may wish to choose between java versions `1.8.0_145` and `1.8.0_301`\r\n\r\n","title":"Force ant to use specific java version on Windows","body":"<p>I use a simple build.xml from the internet with no java/executable specified as below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project name=&quot;the project&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\n\n    &lt;property name=&quot;src.dir&quot; location=&quot;src&quot; /&gt;\n    &lt;property name=&quot;bin.dir&quot; location=&quot;bin&quot; /&gt;\n    &lt;property name=&quot;lib.dir&quot; location=&quot;lib&quot; /&gt;\n\n    &lt;path id=&quot;classpath&quot;&gt;\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot; /&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;init&quot;&gt;\n        &lt;!-- Create the time stamp --&gt;\n        &lt;tstamp /&gt;\n        &lt;!-- Create the build directory structure used by compile --&gt;\n        &lt;mkdir dir=&quot;${bin.dir}&quot; /&gt;\n    &lt;/target&gt;\n\n\n    &lt;target name=&quot;clean&quot; description=&quot;remove intermediate files&quot;&gt;\n        &lt;delete dir=&quot;${bin.dir}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the Java source code to class files&quot;&gt;\n        &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${bin.dir}&quot; classpathref=&quot;classpath&quot; /&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below are a few java versions on my Windows apart from others:</p>\n<pre><code>where java\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nG:\\Program Files\\Java\\jdk1.8.0_301\\bin\\java.exe\n</code></pre>\n<p>I wish to use this specific version of java with ant <code>G:\\Program Files\\Java\\jdk1.8.0_301\\bin\\java.exe</code>. However, ant continues to use a different below JDK version.</p>\n<pre><code>C:\\Users\\HOME&gt;ant -Dant.build.javac.target=1.8.0_301 -Dant.build.javac.source=1.8.0_301 -Dant.java.version=1.8.0_301 -v |  findstr /I &quot;java&quot;\nDetected Java version: 10 in: G:\\jdk-10\n\nBUILD FAILED\nC:\\Users\\HOME\\build.xml:25: srcdir &quot;C:\\Users\\HOME\\src&quot; does not exist!\n        at org.apache.tools.ant.taskdefs.Javac.collectFileListFromSourcePath(Javac.java:1144)\n        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:1086)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n        at org.apache.tools.ant.Task.perform(Task.java:350)\n        at org.apache.tools.ant.Target.execute(Target.java:449)\n        at org.apache.tools.ant.Target.performTasks(Target.java:470)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n        at org.apache.tools.ant.Main.runBuild(Main.java:818)\n        at org.apache.tools.ant.Main.startAnt(Main.java:223)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\n\nTotal time: 0 seconds\n    [javac] C:\\Users\\HOME\\build.xml:25: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n</code></pre>\n<p>Ignoring the error as I'm just concerned with checking which version of java is used by my ant.</p>\n<p>I also tried <code>C:\\Users\\HOME&gt;ant -Dant.build.javac.target=1.8 -Dant.build.javac.source=1.8 -v |  findstr /I &quot;java&quot;</code> which also did not help.</p>\n<p>I'm open to different answers but would prefer solutions to pass arguments to ant commands to use the desired JDK.</p>\n<p>The idea is to switch between <code>java versions</code> when using <code>ant</code> to build different applications on my host.</p>\n<p>The sub-version of java is important so I may wish to choose between java versions <code>1.8.0_145</code> and <code>1.8.0_301</code></p>\n"},{"tags":["java","error-handling","mapbox","mapbox-android","rnmapbox-maps"],"answers":[{"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1695901555,"post_id":77112835,"comment_id":136087262,"body_markdown":"You should accept this answer by clicking the green checkmark next to the answer. That will remove the question from the list of open questions and maybe help someone else who has this problem.","body":"You should accept this answer by clicking the green checkmark next to the answer. That will remove the question from the list of open questions and maybe help someone else who has this problem."}],"tags":[],"owner":{"account_id":27137770,"reputation":11,"user_id":20678952,"display_name":"Lynda Douglas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694785011,"creation_date":1694785011,"answer_id":77112835,"question_id":77112806,"body_markdown":"Adding the following code to onDestroy resolved this issue:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (mapboxMap != null) {\r\n                mapboxMap.removeOnMapClickListener(this);\r\n                mapView.removeOnDidFinishLoadingStyleListener(this::onDestroy);\r\n                mapView.onStop();\r\n            }\r\n            mapView.onDestroy();\r\n\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"App crashing after exiting MapBoxMap Activity","body":"<p>Adding the following code to onDestroy resolved this issue:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mapboxMap != null) {\n            mapboxMap.removeOnMapClickListener(this);\n            mapView.removeOnDidFinishLoadingStyleListener(this::onDestroy);\n            mapView.onStop();\n        }\n        mapView.onDestroy();\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27137770,"reputation":11,"user_id":20678952,"display_name":"Lynda Douglas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77112835,"answer_count":1,"score":0,"last_activity_date":1694785011,"creation_date":1694784803,"question_id":77112806,"body_markdown":"Whenever I exit the activity that holds the Mapbox map, the application crashes and this error message appears in my log:\r\n\r\nW/mbgl-locationSymbol: Style is not fully loaded, not able to get source!\r\n\r\nThis is what my @onDestroy looks like:\r\n  \r\n```\r\n  @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (mapboxMap != null) {\r\n           mapView.onDestroy();\r\n        }\r\n        \r\n\r\n    }\r\n```\r\n","title":"App crashing after exiting MapBoxMap Activity","body":"<p>Whenever I exit the activity that holds the Mapbox map, the application crashes and this error message appears in my log:</p>\n<p>W/mbgl-locationSymbol: Style is not fully loaded, not able to get source!</p>\n<p>This is what my @onDestroy looks like:</p>\n<pre><code>  @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mapboxMap != null) {\n           mapView.onDestroy();\n        }\n        \n\n    }\n</code></pre>\n"},{"tags":["java","json","dto"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1694785696,"post_id":77112829,"comment_id":135940860,"body_markdown":"Also, don&#39;t recreate the instance of `Gson` every time, reuse an existing one - you can use static field in your case.","body":"Also, don&#39;t recreate the instance of <code>Gson</code> every time, reuse an existing one - you can use static field in your case."}],"owner":{"account_id":24771120,"reputation":64,"user_id":18654817,"display_name":"Dev Minty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695019413,"answer_count":0,"score":0,"last_activity_date":1694784954,"creation_date":1694784954,"question_id":77112829,"body_markdown":"Is there a way I could deserialize JSON string into DTO object and trim all the string values in the proces with some kind of a contstructor? Or could I update my custom JSON parser code?\r\n\r\nThis is an excaple of DTO class:\r\n```\r\npublic class House {\r\n    @SerializedName(&quot;HouseID&quot;)\r\n    @Expose\r\n    private final int houseId;\r\n    @SerializedName(&quot;Address&quot;)\r\n    @Expose\r\n    private final String address;\r\n    @SerializedName(&quot;Number&quot;)\r\n    @Expose\r\n    private final int number;\r\n}\r\n```\r\n\r\nAfter I receive a JSON response I parse the JSON like this:\r\n```\r\nCommon.parseJson(arr.getJSONObject(i).toString(), House.class)\r\n```\r\n\r\nThis is my JSON parser:\r\n```\r\npublic static &lt;T&gt; T parseJson(String json, Class&lt;T&gt; type) {\r\n    if (json.equals(&quot;{}&quot;)) return null;\r\n    else {\r\n        Gson gson = new GsonBuilder().create();\r\n        return gson.fromJson(json, type);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Deserialize JSON into DTO object and trim string values","body":"<p>Is there a way I could deserialize JSON string into DTO object and trim all the string values in the proces with some kind of a contstructor? Or could I update my custom JSON parser code?</p>\n<p>This is an excaple of DTO class:</p>\n<pre><code>public class House {\n    @SerializedName(&quot;HouseID&quot;)\n    @Expose\n    private final int houseId;\n    @SerializedName(&quot;Address&quot;)\n    @Expose\n    private final String address;\n    @SerializedName(&quot;Number&quot;)\n    @Expose\n    private final int number;\n}\n</code></pre>\n<p>After I receive a JSON response I parse the JSON like this:</p>\n<pre><code>Common.parseJson(arr.getJSONObject(i).toString(), House.class)\n</code></pre>\n<p>This is my JSON parser:</p>\n<pre><code>public static &lt;T&gt; T parseJson(String json, Class&lt;T&gt; type) {\n    if (json.equals(&quot;{}&quot;)) return null;\n    else {\n        Gson gson = new GsonBuilder().create();\n        return gson.fromJson(json, type);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","sonarqube","maven-surefire-plugin"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694767317,"post_id":77110860,"comment_id":135937324,"body_markdown":"Does this answer your question? [multiple maven modules sonar code coverage is showing zero % on sonar qube](https://stackoverflow.com/questions/68157168/multiple-maven-modules-sonar-code-coverage-is-showing-zero-on-sonar-qube)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68157168/multiple-maven-modules-sonar-code-coverage-is-showing-zero-on-sonar-qube\">multiple maven modules sonar code coverage is showing zero % on sonar qube</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1694768225,"post_id":77110860,"comment_id":135937481,"body_markdown":"Your 0.0% are for NEW code only. What is the overall amount?","body":"Your 0.0% are for NEW code only. What is the overall amount?"},{"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"score":0,"creation_date":1694768472,"post_id":77110860,"comment_id":135937527,"body_markdown":"overall is also 0%","body":"overall is also 0%"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694769524,"post_id":77110860,"comment_id":135937727,"body_markdown":"for all we know, you have zero tests written.","body":"for all we know, you have zero tests written."},{"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"score":1,"creation_date":1694769806,"post_id":77110860,"comment_id":135937781,"body_markdown":"Actually , the coverage was coming 70% before, but it is coming as 0 after updating the versions of spring boot , sonar and jacoco. I have written the test cases. Sure fire reports rae getting generated but I don&#39;t see jacoco.xml though jacoco.exec is generating","body":"Actually , the coverage was coming 70% before, but it is coming as 0 after updating the versions of spring boot , sonar and jacoco. I have written the test cases. Sure fire reports rae getting generated but I don&#39;t see jacoco.xml though jacoco.exec is generating"}],"answers":[{"tags":[],"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694784601,"creation_date":1694772970,"answer_id":77111528,"question_id":77110860,"body_markdown":"This worked for me:\r\n\r\n1. Run `mvn clean install` (check if `jacoco.exec` is generated in the `target` folder).\r\n2. Then run `mvn jacoco:report` (This will generate the `jacoco.xml` file which sonar will import and calculate the coverage)","title":"Getting 0% Sonar coverage, jacoco.xml not generated","body":"<p>This worked for me:</p>\n<ol>\n<li>Run <code>mvn clean install</code> (check if <code>jacoco.exec</code> is generated in the <code>target</code> folder).</li>\n<li>Then run <code>mvn jacoco:report</code> (This will generate the <code>jacoco.xml</code> file which sonar will import and calculate the coverage)</li>\n</ol>\n"}],"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77111528,"answer_count":1,"score":2,"last_activity_date":1694784601,"creation_date":1694766965,"question_id":77110860,"body_markdown":"This is how my POM file looks like:\r\n   \r\n \r\n\r\n    &lt;properties&gt;\r\n        \t&lt;java.version&gt;11&lt;/java.version&gt;\r\n        \t&lt;spring-cloud.version&gt;3.1.5&lt;/spring-cloud.version&gt;\r\n        \t&lt;jacoco.version&gt;0.8.6&lt;/jacoco.version&gt;\r\n        \t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n        \t&lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n        \t&lt;sonar.version&gt;3.4.0.905&lt;/sonar.version&gt;\r\n        \t&lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\r\n        \t&lt;sonar.host.url&gt;http://localhost:9000&lt;/sonar.host.url&gt;\r\n        \t&lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n        &lt;/properties&gt;\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${sonar.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n the coverage was coming 70% before, but it is coming as 0 after updating the versions of spring boot , sonar and jacoco. I have written the test cases. Sure fire reports are getting generated but I don&#39;t see jacoco.xml though jacoco.exec is generating\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7UpR.png\r\n  [2]: https://i.stack.imgur.com/WlR8W.png\r\n  [3]: https://i.stack.imgur.com/9sLpz.png\r\n  [4]: https://i.stack.imgur.com/gC4zK.png","title":"Getting 0% Sonar coverage, jacoco.xml not generated","body":"<p>This is how my POM file looks like:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;3.1.5&lt;/spring-cloud.version&gt;\n        &lt;jacoco.version&gt;0.8.6&lt;/jacoco.version&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n        &lt;sonar.version&gt;3.4.0.905&lt;/sonar.version&gt;\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\n        &lt;sonar.host.url&gt;http://localhost:9000&lt;/sonar.host.url&gt;\n        &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n    &lt;/properties&gt;\n&lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${sonar.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${jacoco.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jacoco-site&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f7UpR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7UpR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WlR8W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlR8W.png\" alt=\"enter image description here\" /></a></p>\n<p>the coverage was coming 70% before, but it is coming as 0 after updating the versions of spring boot , sonar and jacoco. I have written the test cases. Sure fire reports are getting generated but I don't see jacoco.xml though jacoco.exec is generating</p>\n<p><a href=\"https://i.stack.imgur.com/9sLpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sLpz.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gC4zK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gC4zK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","swing","user-interface"],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":19,"creation_date":1341993498,"post_id":11425134,"comment_id":15075421,"body_markdown":"-1 wrong - you would at least need the fully qualified classname of the LAF","body":"-1 wrong - you would at least need the fully qualified classname of the LAF"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1390134224,"post_id":11425134,"comment_id":31953223,"body_markdown":"@RonE dooh, nearly fainted and quickly tried (which you might have done as well ;-) It&#39;s throwing `java.lang.ClassNotFoundException: Windows` just as documented, so curious: why do you think that?","body":"@RonE dooh, nearly fainted and quickly tried (which you might have done as well ;-) It&#39;s throwing <code>java.lang.ClassNotFoundException: Windows</code> just as documented, so curious: why do you think that?"},{"owner":{"account_id":3216308,"reputation":1458,"user_id":2714915,"accept_rate":100,"display_name":"Ron"},"score":0,"creation_date":1390296193,"post_id":11425134,"comment_id":32018973,"body_markdown":"@kleopatra My mistake, I&#39;m just so used to a helper method that makes use of parameter `lookAndFeelString` to select the L&amp;F. \t\t\t`for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {\n\t\t\t\tif (lookAndFeelString.equals(info.getName())) { UIManager.setLookAndFeel(info.getClassName());}}` I&#39;ll remove my other comment to not be misleading.","body":"@kleopatra My mistake, I&#39;m just so used to a helper method that makes use of parameter <code>lookAndFeelString</code> to select the L&amp;F. \t\t\t<code>for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) { \t\t\t\tif (lookAndFeelString.equals(info.getName())) { UIManager.setLookAndFeel(info.getClassName());}}</code> I&#39;ll remove my other comment to not be misleading."}],"tags":[],"owner":{"account_id":1644814,"reputation":41,"user_id":1516520,"display_name":"Tan Hao"},"comment_count":3,"down_vote_count":10,"up_vote_count":6,"is_accepted":false,"score":-4,"last_activity_date":1473424312,"creation_date":1341977476,"answer_id":11425134,"question_id":11425103,"body_markdown":"try this code:\r\n\r\n    javax.swing.UIManager.setLookAndFeel(&quot;Windows&quot;)","title":"How to get the windows native look in Java GUI programming?","body":"<p>try this code:</p>\n\n<pre><code>javax.swing.UIManager.setLookAndFeel(\"Windows\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1341993664,"post_id":11425549,"comment_id":15075480,"body_markdown":"a) not recommended to hard-code class names b) no need for the third of the three lines (it&#39;s already handled in the second :-)","body":"a) not recommended to hard-code class names b) no need for the third of the three lines (it&#39;s already handled in the second :-)"},{"owner":{"account_id":1531328,"reputation":3720,"user_id":1428461,"display_name":"Jacob Raihle"},"score":9,"creation_date":1341993972,"post_id":11425549,"comment_id":15075616,"body_markdown":"Only the first line is necessary, if you run it before realizing any GUI components.","body":"Only the first line is necessary, if you run it before realizing any GUI components."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1341980809,"creation_date":1341980809,"answer_id":11425549,"question_id":11425103,"body_markdown":"Try this....\r\n\r\nThe syntax is:\r\n\r\n`UIManager.setLookAndFeel(PLAF);   (Pluggable Look and Feel)`\r\n\r\nSo, **you must include the below 3 lines.**\r\n\r\n    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\r\n\r\n    SwingUtilities.updateComponentTreeUI(frame);\r\n\r\n    updateComponentTreeUI(frame);\r\n\r\n**SwingUtilities.updateComponentTreeUI(frame)** is used for refreshing the frame after the change.","title":"How to get the windows native look in Java GUI programming?","body":"<p>Try this....</p>\n\n<p>The syntax is:</p>\n\n<p><code>UIManager.setLookAndFeel(PLAF);   (Pluggable Look and Feel)</code></p>\n\n<p>So, <strong>you must include the below 3 lines.</strong></p>\n\n<pre><code>UIManager.setLookAndFeel(\"com.sun.java.swing.plaf.windows.WindowsLookAndFeel\");\n\nSwingUtilities.updateComponentTreeUI(frame);\n\nupdateComponentTreeUI(frame);\n</code></pre>\n\n<p><strong>SwingUtilities.updateComponentTreeUI(frame)</strong> is used for refreshing the frame after the change.</p>\n"},{"comments":[{"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"score":0,"creation_date":1415609079,"post_id":11426036,"comment_id":42243972,"body_markdown":"if you use this you have to do the update as you can see in Kumar answer below:\n`SwingUtilities.updateComponentTreeUI(frmae);`\n`updateComponentTreeUI(frame);`","body":"if you use this you have to do the update as you can see in Kumar answer below: <code>SwingUtilities.updateComponentTreeUI(frmae);</code> <code>updateComponentTreeUI(frame);</code>"},{"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"score":2,"creation_date":1415736764,"post_id":11426036,"comment_id":42305259,"body_markdown":"@Csanesz if you change the L&amp;F after the application start up when the UI is already visible then `updateComponentTreeUI` is required, otherwise it is not needed. The mentioned tutorial discusses various options.","body":"@Csanesz if you change the L&amp;F after the application start up when the UI is already visible then <code>updateComponentTreeUI</code> is required, otherwise it is not needed. The mentioned tutorial discusses various options."},{"owner":{"account_id":1315609,"reputation":1863,"user_id":1262566,"accept_rate":96,"display_name":"Devid"},"score":0,"creation_date":1677164341,"post_id":11426036,"comment_id":133287145,"body_markdown":"Don&#39;t forget to surround it with try/catch (checked exceptions)","body":"Don&#39;t forget to surround it with try/catch (checked exceptions)"}],"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"comment_count":3,"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1341984283,"creation_date":1341984283,"answer_id":11426036,"question_id":11425103,"body_markdown":"Use the following: \r\n\r\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\r\nRead [UIManager][1] and [How to Set the Look and Feel][2] for more information. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/UIManager.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html","title":"How to get the windows native look in Java GUI programming?","body":"<p>Use the following: </p>\n\n<pre><code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n</code></pre>\n\n<p>Read <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/UIManager.html\">UIManager</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\">How to Set the Look and Feel</a> for more information. </p>\n"}],"owner":{"account_id":1641172,"reputation":737,"user_id":1513551,"accept_rate":100,"display_name":"Anirudh Rayabharam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71232,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":11426036,"answer_count":3,"score":49,"last_activity_date":1694784569,"creation_date":1341977118,"question_id":11425103,"body_markdown":"I am new to Java programming and want to whether it is possible to get the windows native look in Java GUI applications. Obviously Swing won&#39;t work.","title":"How to get the windows native look in Java GUI programming?","body":"<p>I am new to Java programming and want to whether it is possible to get the windows native look in Java GUI applications. Obviously Swing won't work.</p>\n"},{"tags":["java","hibernate","filter","log4j","java-8"],"answers":[{"tags":[],"owner":{"account_id":48117,"reputation":944,"user_id":142815,"accept_rate":75,"display_name":"Barn"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1563971257,"creation_date":1417093976,"answer_id":27171593,"question_id":26166281,"body_markdown":"Using log4j 1.2 I am able to filter out specific exceptions, using an [ExpressionFilter](https://logging.apache.org/log4j/extras/apidocs/index.html?org/apache/log4j/filter/ExpressionFilter.html) in the Appender.\r\n\r\n    &lt;appender name=&quot;LOGFILE&quot; class=&quot;com.me.RollingFileAppender&quot;&gt;\r\n        &lt;param name=&quot;File&quot; value=&quot;...&quot; /&gt;\r\n        ...\r\n        &lt;layout .../&gt;\r\n        &lt;!-- Exclude expected exceptions --&gt;\r\n        &lt;filter class=&quot;org.apache.log4j.filter.ExpressionFilter&quot;&gt;\r\n            &lt;param name=&quot;Expression&quot; value=&quot;EXCEPTION ~= &#39;String found in the exception message&#39;&quot;/&gt;\r\n            &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\nSee http://blog.trifork.com/2011/08/23/filtering-specific-exceptions-when-using-log4j/\r\n","title":"How to filter a specific exception from Log4j?","body":"<p>Using log4j 1.2 I am able to filter out specific exceptions, using an <a href=\"https://logging.apache.org/log4j/extras/apidocs/index.html?org/apache/log4j/filter/ExpressionFilter.html\" rel=\"nofollow noreferrer\">ExpressionFilter</a> in the Appender.</p>\n\n<pre><code>&lt;appender name=\"LOGFILE\" class=\"com.me.RollingFileAppender\"&gt;\n    &lt;param name=\"File\" value=\"...\" /&gt;\n    ...\n    &lt;layout .../&gt;\n    &lt;!-- Exclude expected exceptions --&gt;\n    &lt;filter class=\"org.apache.log4j.filter.ExpressionFilter\"&gt;\n        &lt;param name=\"Expression\" value=\"EXCEPTION ~= 'String found in the exception message'\"/&gt;\n        &lt;param name=\"AcceptOnMatch\" value=\"false\"/&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>See <a href=\"http://blog.trifork.com/2011/08/23/filtering-specific-exceptions-when-using-log4j/\" rel=\"nofollow noreferrer\">http://blog.trifork.com/2011/08/23/filtering-specific-exceptions-when-using-log4j/</a></p>\n"},{"tags":[],"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1589332739,"creation_date":1519729197,"answer_id":49007065,"question_id":26166281,"body_markdown":"I have found the solution - [`RegexFilter`][1].\r\n\r\nHere is the related Log4j 2.x configuration, that allows me to exclude specific messages both from *log file* and *console* appenders.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;console&quot; target=&quot;System.out&quot;&gt;\r\n            &lt;RegexFilter regex=&quot;.*(Javassist Enhancement failed|could not create proxy factory for).*&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-2p %c{1.} %x - %m%n&quot;/&gt; \r\n        &lt;/Console&gt;\r\n        &lt;File name=&quot;logfile&quot; filename=&quot;./app.log&quot; append=&quot;true&quot;&gt;\r\n            &lt;!--Evita cargar en el log el error que tira hibernate por Java 8 (default method en Interfaces)--&gt;\r\n            &lt;RegexFilter regex=&quot;.*(Javassist Enhancement failed|could not create proxy factory for).*&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{-1} %X{userName} - %m%n&quot;/&gt; \r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/RegexFilter.html","title":"How to filter a specific exception from Log4j?","body":"<p>I have found the solution - <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/RegexFilter.html\" rel=\"noreferrer\"><code>RegexFilter</code></a>.</p>\n\n<p>Here is the related Log4j 2.x configuration, that allows me to exclude specific messages both from <em>log file</em> and <em>console</em> appenders.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Appenders&gt;\n    &lt;Console name=\"console\" target=\"System.out\"&gt;\n        &lt;RegexFilter regex=\".*(Javassist Enhancement failed|could not create proxy factory for).*\" onMatch=\"DENY\" onMismatch=\"ACCEPT\"/&gt;\n        &lt;PatternLayout pattern=\"%d{yyyy-MM-dd HH:mm:ss} %-2p %c{1.} %x - %m%n\"/&gt; \n    &lt;/Console&gt;\n    &lt;File name=\"logfile\" filename=\"./app.log\" append=\"true\"&gt;\n        &lt;!--Evita cargar en el log el error que tira hibernate por Java 8 (default method en Interfaces)--&gt;\n        &lt;RegexFilter regex=\".*(Javassist Enhancement failed|could not create proxy factory for).*\" onMatch=\"DENY\" onMismatch=\"ACCEPT\"/&gt;\n        &lt;PatternLayout pattern=\"%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{-1} %X{userName} - %m%n\"/&gt; \n    &lt;/File&gt;\n&lt;/Appenders&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694784496,"creation_date":1692102702,"answer_id":76906003,"question_id":26166281,"body_markdown":"&gt; For YAML ,please see/read below:\r\n\r\nThe accepted answer is using [RegexFilter][1] and is an elegant solution for managing log filtering in Log4j2.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/RegexFilter.html\r\n\r\nWhile implementing, encountered a scenario where it was needed to exclude a specific `Hibernate` error from being logged. As in our projects we are working with a `YAML` configuration, thus found it valuable to share the approach here, especially since most available examples on the internet tend to focus on `XML` configuration.\r\n\r\nBelow is an example of how to employ the `RegexFilter` within a `YAML` `Log4j2` configuration:\r\n\r\n\r\n```\r\n  Loggers:\r\n    logger:\r\n      - name: org.hibernate.orm.jdbc.batch\r\n        level: ERROR\r\n        Filters:\r\n          # Ignore log events with &#39;org.hibernate.StaleStateException&#39; exception\r\n          - RegexFilter:\r\n              regex: &quot;.*org.hibernate.StaleStateException.*&quot;\r\n              onMatch: DENY\r\n              onMismatch: NEUTRAL\r\n```\r\n\r\nIn the above example, the intent is to filter out logs related to `org.hibernate.StaleStateException`, preventing them from being recorded. This is achieved while allowing all other `error` logs from the `org.hibernate.orm.jdbc.batch` logger to be captured.\r\n\r\nFeel free to customize it further according to your preference.","title":"How to filter a specific exception from Log4j?","body":"<blockquote>\n<p>For YAML ,please see/read below:</p>\n</blockquote>\n<p>The accepted answer is using <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/RegexFilter.html\" rel=\"nofollow noreferrer\">RegexFilter</a> and is an elegant solution for managing log filtering in Log4j2.</p>\n<p>While implementing, encountered a scenario where it was needed to exclude a specific <code>Hibernate</code> error from being logged. As in our projects we are working with a <code>YAML</code> configuration, thus found it valuable to share the approach here, especially since most available examples on the internet tend to focus on <code>XML</code> configuration.</p>\n<p>Below is an example of how to employ the <code>RegexFilter</code> within a <code>YAML</code> <code>Log4j2</code> configuration:</p>\n<pre><code>  Loggers:\n    logger:\n      - name: org.hibernate.orm.jdbc.batch\n        level: ERROR\n        Filters:\n          # Ignore log events with 'org.hibernate.StaleStateException' exception\n          - RegexFilter:\n              regex: &quot;.*org.hibernate.StaleStateException.*&quot;\n              onMatch: DENY\n              onMismatch: NEUTRAL\n</code></pre>\n<p>In the above example, the intent is to filter out logs related to <code>org.hibernate.StaleStateException</code>, preventing them from being recorded. This is achieved while allowing all other <code>error</code> logs from the <code>org.hibernate.orm.jdbc.batch</code> logger to be captured.</p>\n<p>Feel free to customize it further according to your preference.</p>\n"}],"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14280,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49007065,"answer_count":3,"score":9,"last_activity_date":1694784496,"creation_date":1412271161,"question_id":26166281,"body_markdown":"I&#39;m implementing some new features of Java 8 on my desktop app and Hibernate 3.6 seems to doesn&#39;t like it.\r\n\r\nI added to an Interface a &quot;default method&quot;, since then Hibernate it throwing:\r\n\r\n    2014-10-02 14:01:25,538 WARN entity.PojoEntityTuplizer  - could not create proxy factory for:modelo.ChequeTercero\r\n    org.hibernate.HibernateException: Javassist Enhancement failed: modelo.ChequeTercero\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:169)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\r\n    Caused by: java.lang.VerifyError: (class: modelo/ChequeTercero_$$_javassist_45, method: _d21getNumeroValor signature: ()Ljava/lang/String;) Illegal use of nonvirtual function call\r\n\r\nfor EACH class that implement the interface multiplied for EACH default method in the interface.\r\n\r\nAs this log is a `Level.WARN`, it is generating biiiiiiiiiig log file on the users every time they open the application.\r\n\r\nI tried to make some logger filters but is not working:\r\n\r\n    &lt;filter class=&quot;org.hibernate.proxy.pojo.BasicLazyInitializer&quot;&gt;\r\n    &lt;param name=&quot;LevelMin&quot; value=&quot;FATAL&quot; /&gt;\r\n    &lt;param name=&quot;LevelMax&quot; value=&quot;FATAL&quot; /&gt;\r\n        &lt;/filter&gt;\r\n    &lt;filter class=&quot;org.apache.log4j.filter.ExpressionFilter&quot;&gt;\r\n            &lt;param name=&quot;expression&quot; value=&quot;EXCEPTION ~= org.hibernate.proxy.pojo.BasicLazyInitializer&quot;/&gt;\r\n            &lt;param name=&quot;acceptOnMatch&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter class=&quot;org.apache.log4j.varia.StringMatchFilter&quot;&gt;\r\n            &lt;param name=&quot;StringToMatch&quot; value=&quot;org.hibernate.HibernateException: Javassist Enhancement failed&quot;/&gt;\r\n            &lt;param name=&quot;AcceptOnMatch&quot; value=&quot;false&quot; /&gt;\r\n        &lt;/filter&gt;\r\n        &lt;!--&lt;filter class=&quot;org.apache.log4j.varia.DenyAllFilter&quot;/&gt; --&gt;\r\n\r\n\r\nWhat am I doing wrong? Also if I uncomment `DenyAllFilter` no log appears anymore.\r\n","title":"How to filter a specific exception from Log4j?","body":"<p>I'm implementing some new features of Java 8 on my desktop app and Hibernate 3.6 seems to doesn't like it.</p>\n\n<p>I added to an Interface a \"default method\", since then Hibernate it throwing:</p>\n\n<pre><code>2014-10-02 14:01:25,538 WARN entity.PojoEntityTuplizer  - could not create proxy factory for:modelo.ChequeTercero\norg.hibernate.HibernateException: Javassist Enhancement failed: modelo.ChequeTercero\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:169)\nat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\nCaused by: java.lang.VerifyError: (class: modelo/ChequeTercero_$$_javassist_45, method: _d21getNumeroValor signature: ()Ljava/lang/String;) Illegal use of nonvirtual function call\n</code></pre>\n\n<p>for EACH class that implement the interface multiplied for EACH default method in the interface.</p>\n\n<p>As this log is a <code>Level.WARN</code>, it is generating biiiiiiiiiig log file on the users every time they open the application.</p>\n\n<p>I tried to make some logger filters but is not working:</p>\n\n<pre><code>&lt;filter class=\"org.hibernate.proxy.pojo.BasicLazyInitializer\"&gt;\n&lt;param name=\"LevelMin\" value=\"FATAL\" /&gt;\n&lt;param name=\"LevelMax\" value=\"FATAL\" /&gt;\n    &lt;/filter&gt;\n&lt;filter class=\"org.apache.log4j.filter.ExpressionFilter\"&gt;\n        &lt;param name=\"expression\" value=\"EXCEPTION ~= org.hibernate.proxy.pojo.BasicLazyInitializer\"/&gt;\n        &lt;param name=\"acceptOnMatch\" value=\"false\"/&gt;\n    &lt;/filter&gt;\n    &lt;filter class=\"org.apache.log4j.varia.StringMatchFilter\"&gt;\n        &lt;param name=\"StringToMatch\" value=\"org.hibernate.HibernateException: Javassist Enhancement failed\"/&gt;\n        &lt;param name=\"AcceptOnMatch\" value=\"false\" /&gt;\n    &lt;/filter&gt;\n    &lt;!--&lt;filter class=\"org.apache.log4j.varia.DenyAllFilter\"/&gt; --&gt;\n</code></pre>\n\n<p>What am I doing wrong? Also if I uncomment <code>DenyAllFilter</code> no log appears anymore.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-retry"],"comments":[{"owner":{"account_id":538250,"reputation":14477,"user_id":903137,"accept_rate":71,"display_name":"Ashish"},"score":0,"creation_date":1694716416,"post_id":77107528,"comment_id":135931571,"body_markdown":"do you have `@EnableRetry` in your AppConfig class ?","body":"do you have <code>@EnableRetry</code> in your AppConfig class ?"},{"owner":{"account_id":29444595,"reputation":1,"user_id":22562155,"display_name":"PCcorrosive"},"score":0,"creation_date":1694719169,"post_id":77107528,"comment_id":135931998,"body_markdown":"@Ashish Yes, I do","body":"@Ashish Yes, I do"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1694800459,"post_id":77107528,"comment_id":135943679,"body_markdown":"This looks like the same question as here: https://stackoverflow.com/questions/42730104/retryable-doesnt-work-in-spring-data-repository-interface They don&#39;t seem to have support for it - see https://github.com/spring-projects/spring-data-jpa/issues/2223","body":"This looks like the same question as here: <a href=\"https://stackoverflow.com/questions/42730104/retryable-doesnt-work-in-spring-data-repository-interface\" title=\"retryable doesnt work in spring data repository interface\">stackoverflow.com/questions/42730104/&hellip;</a> They don&#39;t seem to have support for it - see <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2223\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/issues/2223</a>"}],"owner":{"account_id":29444595,"reputation":1,"user_id":22562155,"display_name":"PCcorrosive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694784293,"creation_date":1694715856,"question_id":77107528,"body_markdown":"I am trying to implement retries on the methods of a class that extends JpaRespository. For all the methods annotated with @Query the retries work as expected (3 retries, and then the error is thrown if unsuccessful). However, when the inherited save() function is called and a database exception is thrown, only one retry is performed, and then program execution continues as if the query were successful (even though it wasn&#39;t). \r\n\r\nThe MSSQL database connection is configured with Spring Boot. The repository is defined similarly to the below:\r\n\r\n    @EnableJpaRepositories\r\n    @Repository\r\n    @Retryable(listeners = {&quot;retryListeners&quot;})\r\n    public interface ExampleRepo extends JpaRepository&lt;ExampleRecord, Long&gt;{\r\n\r\n    @Query(&quot;select * from ExampleRepo where exampleParam = :exampleParam&quot;)\r\n    List&lt;ExampleRecord&gt; exampleQuery(@Param(&quot;exampleParam&quot;) String exampleParam);\r\n\r\n    }\r\n\r\nThe save method is being called on an instance of the repo from another class. \r\n\r\n    exampleRepo.save(exampleRecord);\r\n\r\nEditing to add that my AppConfig class is like below:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableRetry\r\n    public class AppConfig {\r\n    \r\n    // unrelated configurations\r\n    \r\n    // Retry listener bean implemented similarly to this response https://stackoverflow.com/a/50704746/22562155\r\n\r\n    }\r\n\r\nThe output I get in the console comes in this order:\r\n\r\n1. &quot;Starting retryable method&quot; from the retryListener\r\n2. Hibernate debug logs with the query and parameter binding information\r\n3. SqlExceptionHelper logs with error info, eg that data would be truncated\r\n4. &quot;Retryable method threw exception&quot; from the retryListener\r\n5. &quot;Finished retryable method&quot; from the retryListener\r\n6. Logs from continued normal code execution; no exception is thrown\r\n\r\n\r\n\r\nI have stepped through the execution with the IntelliJ debugger, and I can tell that somehow the retry implementation concludes that the retryable method succeeded, but I&#39;m having trouble understanding why. I can&#39;t find any answers online about this issue to reference; I am hoping someone else knows whether the save() method is incompatible with the Retryable annotation, or if there is something I need to fix for this to work. ","title":"Can Spring Boot @Retryable work with the Spring Data JPA save() method? My attempt retries once and then fakes success","body":"<p>I am trying to implement retries on the methods of a class that extends JpaRespository. For all the methods annotated with @Query the retries work as expected (3 retries, and then the error is thrown if unsuccessful). However, when the inherited save() function is called and a database exception is thrown, only one retry is performed, and then program execution continues as if the query were successful (even though it wasn't).</p>\n<p>The MSSQL database connection is configured with Spring Boot. The repository is defined similarly to the below:</p>\n<pre><code>@EnableJpaRepositories\n@Repository\n@Retryable(listeners = {&quot;retryListeners&quot;})\npublic interface ExampleRepo extends JpaRepository&lt;ExampleRecord, Long&gt;{\n\n@Query(&quot;select * from ExampleRepo where exampleParam = :exampleParam&quot;)\nList&lt;ExampleRecord&gt; exampleQuery(@Param(&quot;exampleParam&quot;) String exampleParam);\n\n}\n</code></pre>\n<p>The save method is being called on an instance of the repo from another class.</p>\n<pre><code>exampleRepo.save(exampleRecord);\n</code></pre>\n<p>Editing to add that my AppConfig class is like below:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableRetry\npublic class AppConfig {\n\n// unrelated configurations\n\n// Retry listener bean implemented similarly to this response https://stackoverflow.com/a/50704746/22562155\n\n}\n</code></pre>\n<p>The output I get in the console comes in this order:</p>\n<ol>\n<li>&quot;Starting retryable method&quot; from the retryListener</li>\n<li>Hibernate debug logs with the query and parameter binding information</li>\n<li>SqlExceptionHelper logs with error info, eg that data would be truncated</li>\n<li>&quot;Retryable method threw exception&quot; from the retryListener</li>\n<li>&quot;Finished retryable method&quot; from the retryListener</li>\n<li>Logs from continued normal code execution; no exception is thrown</li>\n</ol>\n<p>I have stepped through the execution with the IntelliJ debugger, and I can tell that somehow the retry implementation concludes that the retryable method succeeded, but I'm having trouble understanding why. I can't find any answers online about this issue to reference; I am hoping someone else knows whether the save() method is incompatible with the Retryable annotation, or if there is something I need to fix for this to work.</p>\n"},{"tags":["java","memory-management","garbage-collection","javabeans","jmx"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1548241084,"post_id":54325529,"comment_id":95469734,"body_markdown":"System.gc is not an order, it&#39;s a recommendation. There are no guarantees that the gc will actually be performed.","body":"System.gc is not an order, it&#39;s a recommendation. There are no guarantees that the gc will actually be performed."},{"owner":{"account_id":5495106,"reputation":343,"user_id":4366515,"display_name":"Tomer Shahar"},"score":0,"creation_date":1548241554,"post_id":54325529,"comment_id":95469985,"body_markdown":"@Erik Agree, but as I mention in the post, there is a test that waits for GC to be performed and check it by using a WeakReference to an object that is being cleaned. If this isn&#39;t a sufficient indication for GC then what is?","body":"@Erik Agree, but as I mention in the post, there is a test that waits for GC to be performed and check it by using a WeakReference to an object that is being cleaned. If this isn&#39;t a sufficient indication for GC then what is?"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1548242423,"post_id":54325529,"comment_id":95470488,"body_markdown":"But is there a reason for the gc to run? What does the heap look like? If there are space enough, why should it run?","body":"But is there a reason for the gc to run? What does the heap look like? If there are space enough, why should it run?"},{"owner":{"account_id":5495106,"reputation":343,"user_id":4366515,"display_name":"Tomer Shahar"},"score":0,"creation_date":1548242493,"post_id":54325529,"comment_id":95470534,"body_markdown":"I also tried creating a lot of object, but let&#39;s say I didn&#39;t. The fact that the ref is empty should mean that it did actually ran GC.","body":"I also tried creating a lot of object, but let&#39;s say I didn&#39;t. The fact that the ref is empty should mean that it did actually ran GC."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1548248280,"post_id":54325529,"comment_id":95473593,"body_markdown":"Look at the gc log.","body":"Look at the gc log."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1548261868,"post_id":54325529,"comment_id":95481713,"body_markdown":"It seems, it doesn’t send any notification when only the Young Generation changes. When I create enough objects to affect the Old Generation, I get notifications. Which makes me wonder whether there is any documentation about whether and which notifications are supposed to be sent. Or is finding out that the object implements `NotificationEmitter` at runtime the best we can get?","body":"It seems, it doesn’t send any notification when only the Young Generation changes. When I create enough objects to affect the Old Generation, I get notifications. Which makes me wonder whether there is any documentation about whether and which notifications are supposed to be sent. Or is finding out that the object implements <code>NotificationEmitter</code> at runtime the best we can get?"}],"answers":[{"comments":[{"owner":{"account_id":5495106,"reputation":343,"user_id":4366515,"display_name":"Tomer Shahar"},"score":0,"creation_date":1548241949,"post_id":54325901,"comment_id":95470222,"body_markdown":"See my other comment. In the post I explain that I run this with a test that has while loop until the object is cleaned. The weak reference is indeed empty.","body":"See my other comment. In the post I explain that I run this with a test that has while loop until the object is cleaned. The weak reference is indeed empty."}],"tags":[],"owner":{"account_id":6010176,"reputation":986,"user_id":4720870,"display_name":"Tarun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548241802,"creation_date":1548241802,"answer_id":54325901,"question_id":54325529,"body_markdown":"This is what [System.gc()][1] javadoc says  \r\n\r\n&gt; Calling the gc method suggests that the Java Virtual Machine expend\r\n&gt; effort toward recycling unused objects in order to make the memory\r\n&gt; they currently occupy available for quick reuse. When control returns\r\n&gt; from the method call, the Java Virtual Machine has made a best effort\r\n&gt; to reclaim space from all discarded objects.\r\n\r\nCalling garbage collector does not means that garbage will collected immediately on call. But by calling gc you can only suggest JVM to collect garbage but cannot force it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#gc()","title":"Java garbage collection is performed, but GC notification is not received","body":"<p>This is what <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#gc()\" rel=\"nofollow noreferrer\">System.gc()</a> javadoc says  </p>\n\n<blockquote>\n  <p>Calling the gc method suggests that the Java Virtual Machine expend\n  effort toward recycling unused objects in order to make the memory\n  they currently occupy available for quick reuse. When control returns\n  from the method call, the Java Virtual Machine has made a best effort\n  to reclaim space from all discarded objects.</p>\n</blockquote>\n\n<p>Calling garbage collector does not means that garbage will collected immediately on call. But by calling gc you can only suggest JVM to collect garbage but cannot force it.</p>\n"},{"tags":[],"owner":{"account_id":5495106,"reputation":343,"user_id":4366515,"display_name":"Tomer Shahar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650658247,"creation_date":1548597252,"answer_id":54388868,"question_id":54325529,"body_markdown":"The problem actually was:\r\n\r\n1. As Holger mentioned in a comment, I was only getting notification for GC that affected the old generation, and \r\n2. Debugger did not stop at my breakpoint, though the code was executed, so even though I couldn&#39;t tell, doSomething actually did something.\r\n","title":"Java garbage collection is performed, but GC notification is not received","body":"<p>The problem actually was:</p>\n<ol>\n<li>As Holger mentioned in a comment, I was only getting notification for GC that affected the old generation, and</li>\n<li>Debugger did not stop at my breakpoint, though the code was executed, so even though I couldn't tell, doSomething actually did something.</li>\n</ol>\n"}],"owner":{"account_id":5495106,"reputation":343,"user_id":4366515,"display_name":"Tomer Shahar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694784142,"creation_date":1548240629,"question_id":54325529,"body_markdown":"I have followed a few examples from various sources, and have the following snippet:\r\n\r\n     private void registerForMemUsageChanges() {\r\n        List&lt;GarbageCollectorMXBean&gt; garbageCollectorMXBeans = ManagementFactory.getGarbageCollectorMXBeans();\r\n        for (GarbageCollectorMXBean garbageCollectorMXBean : garbageCollectorMXBeans) {\r\n            listenForGarbageCollectionOn(garbageCollectorMXBean); \r\n        }\r\n\r\n    }\r\n\r\n    private void listenForGarbageCollectionOn(GarbageCollectorMXBean garbageCollectorMXBean) {\r\n        NotificationEmitter notificationEmitter = (NotificationEmitter) garbageCollectorMXBean;\r\n        GarbageListener listener = new GarbageListener();\r\n        notificationEmitter.addNotificationListener(listener, null, null);\r\n    }\r\n\r\n    public class GarbageListener implements NotificationListener {\r\n\r\n        @Override\r\n        public void handleNotification(Notification notification, Object handback) {\r\n            if (notification.getType().equals(GarbageCollectionNotificationInfo.GARBAGE_COLLECTION_NOTIFICATION)) {\r\n                doSomthing();//irrelevant\r\n            }\r\n\r\n        }\r\n    }\r\nI have added a test that does the following (again, based on examples I found) and it seems to work:\r\n\r\n    private void triggerGc() throws InterruptedException {\r\n        Object obj = new Object();\r\n        WeakReference ref = new WeakReference&lt;Object&gt;(obj);\r\n        obj = null;\r\n        while(ref.get() != null) {\r\n            System.gc();\r\n        }\r\n    }\r\n\r\n\r\nWhile running in debug mode I see that the listener is registered to ps marksweep and ps scavenge. **The while loop finished (which I take as a sign that GC was performed)** but no notification is called. Not a GC notification or of any type.\r\n\r\n\r\nIs the problem that the listener is registered wrong or was GC not really performed? it seems that the weak ref is indeed empty after the while loop.\r\n\r\nI am using openjdk 1.8.0_144.\r\n  ","title":"Java garbage collection is performed, but GC notification is not received","body":"<p>I have followed a few examples from various sources, and have the following snippet:</p>\n\n<pre><code> private void registerForMemUsageChanges() {\n    List&lt;GarbageCollectorMXBean&gt; garbageCollectorMXBeans = ManagementFactory.getGarbageCollectorMXBeans();\n    for (GarbageCollectorMXBean garbageCollectorMXBean : garbageCollectorMXBeans) {\n        listenForGarbageCollectionOn(garbageCollectorMXBean); \n    }\n\n}\n\nprivate void listenForGarbageCollectionOn(GarbageCollectorMXBean garbageCollectorMXBean) {\n    NotificationEmitter notificationEmitter = (NotificationEmitter) garbageCollectorMXBean;\n    GarbageListener listener = new GarbageListener();\n    notificationEmitter.addNotificationListener(listener, null, null);\n}\n\npublic class GarbageListener implements NotificationListener {\n\n    @Override\n    public void handleNotification(Notification notification, Object handback) {\n        if (notification.getType().equals(GarbageCollectionNotificationInfo.GARBAGE_COLLECTION_NOTIFICATION)) {\n            doSomthing();//irrelevant\n        }\n\n    }\n}\n</code></pre>\n\n<p>I have added a test that does the following (again, based on examples I found) and it seems to work:</p>\n\n<pre><code>private void triggerGc() throws InterruptedException {\n    Object obj = new Object();\n    WeakReference ref = new WeakReference&lt;Object&gt;(obj);\n    obj = null;\n    while(ref.get() != null) {\n        System.gc();\n    }\n}\n</code></pre>\n\n<p>While running in debug mode I see that the listener is registered to ps marksweep and ps scavenge. <strong>The while loop finished (which I take as a sign that GC was performed)</strong> but no notification is called. Not a GC notification or of any type.</p>\n\n<p>Is the problem that the listener is registered wrong or was GC not really performed? it seems that the weak ref is indeed empty after the while loop.</p>\n\n<p>I am using openjdk 1.8.0_144.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1393357001,"post_id":1049518,"comment_id":33387040,"body_markdown":"After dealing with it a few times in code, I&#39;m pretty sure it&#39;s that way just to make maintenance programmers angry at the API designer.  :-)  Greenfield programmers end up passing around LinkedList (instead of List) so they can use getLast().  Maintenance guys figure out that ArrayList is more appropriate and have to deal with all these specified LinkedLists that really should have been List in the first place (and probably would have been except for this one critical failure in the List interface)...","body":"After dealing with it a few times in code, I&#39;m pretty sure it&#39;s that way just to make maintenance programmers angry at the API designer.  :-)  Greenfield programmers end up passing around LinkedList (instead of List) so they can use getLast().  Maintenance guys figure out that ArrayList is more appropriate and have to deal with all these specified LinkedLists that really should have been List in the first place (and probably would have been except for this one critical failure in the List interface)..."}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":8,"creation_date":1246027833,"post_id":1049540,"comment_id":860944,"body_markdown":"No, an interface&#39;s goal is to seperate implementation from interface. The type of operations have nothing to do with it.","body":"No, an interface&#39;s goal is to seperate implementation from interface. The type of operations have nothing to do with it."},{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":0,"creation_date":1246028027,"post_id":1049540,"comment_id":860967,"body_markdown":"I&#39;m not sure I agree, but I guess it depends on how likely someone is to want the last item from a list.","body":"I&#39;m not sure I agree, but I guess it depends on how likely someone is to want the last item from a list."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1246028210,"post_id":1049540,"comment_id":860992,"body_markdown":"I wonder what other list implementations are possible apart from the built in LinkedList/ArrayList in witch a common getFirst() getLast() interface method wouldn&#39;t have been O(1)?","body":"I wonder what other list implementations are possible apart from the built in LinkedList/ArrayList in witch a common getFirst() getLast() interface method wouldn&#39;t have been O(1)?"},{"owner":{"account_id":18735,"reputation":12072,"user_id":43222,"accept_rate":87,"display_name":"Zack Marrapese"},"score":0,"creation_date":1246044304,"post_id":1049540,"comment_id":862335,"body_markdown":"@skaffman: You&#39;re correct. That is the *main* goal of an interface, of course. I&#39;m talking more from the perspective of a secondary goal. I will update my answer to reflect this.","body":"@skaffman: You&#39;re correct. That is the <i>main</i> goal of an interface, of course. I&#39;m talking more from the perspective of a secondary goal. I will update my answer to reflect this."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1517908922,"post_id":1049540,"comment_id":84275218,"body_markdown":"With the arrival of Java 8&#39;s `default` methods, you can have the best of both worlds by providing nice methods for the users of the interface without forcing the implementers to write them themselves. So they could add a `default T getLast()` and everybody would be happy.","body":"With the arrival of Java 8&#39;s <code>default</code> methods, you can have the best of both worlds by providing nice methods for the users of the interface without forcing the implementers to write them themselves. So they could add a <code>default T getLast()</code> and everybody would be happy."}],"tags":[],"owner":{"account_id":18735,"reputation":12072,"user_id":43222,"accept_rate":87,"display_name":"Zack Marrapese"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1246044525,"creation_date":1246027646,"answer_id":1049540,"question_id":1049518,"body_markdown":"An interface&#39;s goal is to provide the maximum usability with the lowest possible number of public methods. The less methods there are to support, the better. There is no getLast() method because this can be derived, as you said.\r\n\r\nLinkedList, on the other hand is a concrete implementation, and therefore doesn&#39;t have these issues.\r\n\r\nEdit: as Skaffman pointed out, this is not the *main* goal of an interface. It is more a secondary goal which allows implementations of this interface to be easier to maintain. The main purpose of an interface is to decouple the concrete implementation from the objects that use it.","title":"Why does the Java List interface not support getLast()?","body":"<p>An interface's goal is to provide the maximum usability with the lowest possible number of public methods. The less methods there are to support, the better. There is no getLast() method because this can be derived, as you said.</p>\n\n<p>LinkedList, on the other hand is a concrete implementation, and therefore doesn't have these issues.</p>\n\n<p>Edit: as Skaffman pointed out, this is not the <em>main</em> goal of an interface. It is more a secondary goal which allows implementations of this interface to be easier to maintain. The main purpose of an interface is to decouple the concrete implementation from the objects that use it.</p>\n"},{"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":3,"creation_date":1246028060,"post_id":1049543,"comment_id":860971,"body_markdown":"I sometimes wish they had added it to ArrayList too at least. Writing arraylist.get(arraylist.size() - 1) over and over again is kind of a boilerplate.","body":"I sometimes wish they had added it to ArrayList too at least. Writing arraylist.get(arraylist.size() - 1) over and over again is kind of a boilerplate."},{"owner":{"account_id":33533,"reputation":644,"user_id":93959,"display_name":"Charlie"},"score":1,"creation_date":1246034142,"post_id":1049543,"comment_id":861539,"body_markdown":"public class MyArrayList&lt;E&gt; extends ArrayList&lt;E&gt; { public E getLast() {return get(size()-1);} }","body":"public class MyArrayList&lt;E&gt; extends ArrayList&lt;E&gt; { public E getLast() {return get(size()-1);} }"},{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":2,"creation_date":1246038343,"post_id":1049543,"comment_id":861889,"body_markdown":"@Charlie: Unless you work with a list interface and don&#39;t want to ever directly know what&#39;s your underlying implementation.","body":"@Charlie: Unless you work with a list interface and don&#39;t want to ever directly know what&#39;s your underlying implementation."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1246044761,"post_id":1049543,"comment_id":862377,"body_markdown":"I guess Charlie would solve this issue by having a MyList extend List and MyArrayList implement MyList.","body":"I guess Charlie would solve this issue by having a MyList extend List and MyArrayList implement MyList."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1517908751,"post_id":1049543,"comment_id":84275084,"body_markdown":"@akarnokd Then you would have to change all your code, and make readers wonder why the custom list, all of that just for a `getLast()` convenience. I find it annoying too that it&#39;s not in the list interface, I understand the minimalist approach, but sometimes you gain a lot by just adding a tiny bit of help, like `isEmpty()`.","body":"@akarnokd Then you would have to change all your code, and make readers wonder why the custom list, all of that just for a <code>getLast()</code> convenience. I find it annoying too that it&#39;s not in the list interface, I understand the minimalist approach, but sometimes you gain a lot by just adding a tiny bit of help, like <code>isEmpty()</code>."}],"tags":[],"owner":{"account_id":2794,"reputation":88146,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1246027718,"creation_date":1246027718,"answer_id":1049543,"question_id":1049518,"body_markdown":"Usually the reason is that they wanted to specify each function with a Big-O requirement and felt that getLast() could not be implemented efficiently on all lists.  So they introduce it at each level with its Big-O promise.\r\n\r\nOr it could just have been an oversight, or they felt it wasn&#39;t common enough and if you needed it you could get it with size/getIndex.","title":"Why does the Java List interface not support getLast()?","body":"<p>Usually the reason is that they wanted to specify each function with a Big-O requirement and felt that getLast() could not be implemented efficiently on all lists.  So they introduce it at each level with its Big-O promise.</p>\n\n<p>Or it could just have been an oversight, or they felt it wasn't common enough and if you needed it you could get it with size/getIndex.</p>\n"},{"tags":[],"owner":{"account_id":15311,"reputation":2760,"user_id":32188,"accept_rate":82,"display_name":"Alexandru Luchian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246027734,"creation_date":1246027734,"answer_id":1049546,"question_id":1049518,"body_markdown":"As you said, with List you can get the last one with getIndex(), since it&#39;s index based. So personally I do not see any good reason to put it (since you can write it yourself).\r\n\r\nWhile a LinkedList is not array based, so no indexes, it makes sense to provide a method like that, sometimes you need to know the last item.","title":"Why does the Java List interface not support getLast()?","body":"<p>As you said, with List you can get the last one with getIndex(), since it's index based. So personally I do not see any good reason to put it (since you can write it yourself).</p>\n\n<p>While a LinkedList is not array based, so no indexes, it makes sense to provide a method like that, sometimes you need to know the last item.</p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1246028941,"post_id":1049614,"comment_id":861056,"body_markdown":"Unless it just stored the last element in a field. How do you think getSize() is implemented?","body":"Unless it just stored the last element in a field. How do you think getSize() is implemented?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1246029657,"post_id":1049614,"comment_id":861151,"body_markdown":"This is why java&#39;s LinkedList is double linked or in single linked case the list just holds a reference to its last element to allow O(1) addition at the end of the list.","body":"This is why java&#39;s LinkedList is double linked or in single linked case the list just holds a reference to its last element to allow O(1) addition at the end of the list."}],"tags":[],"owner":{"account_id":19563,"reputation":1419,"user_id":45938,"accept_rate":50,"display_name":"clemahieu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246028627,"creation_date":1246028627,"answer_id":1049614,"question_id":1049518,"body_markdown":"getLast() couldn&#39;t be implemented in a one-way linked list.  getIndex() on a one-way linked list would probably scan the entire list from the beginning so it has an efficiency implication.","title":"Why does the Java List interface not support getLast()?","body":"<p>getLast() couldn't be implemented in a one-way linked list.  getIndex() on a one-way linked list would probably scan the entire list from the beginning so it has an efficiency implication.</p>\n"},{"comments":[{"owner":{"account_id":173898,"reputation":1213,"user_id":402893,"accept_rate":75,"display_name":"peskal"},"score":11,"creation_date":1312753539,"post_id":1049678,"comment_id":8321986,"body_markdown":"Good explanation. Makes me wonder why there&#39;s an isEmpty method though.","body":"Good explanation. Makes me wonder why there&#39;s an isEmpty method though."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1487675746,"post_id":1049678,"comment_id":71881461,"body_markdown":"@peskal With Java 8 we can use isEmpty as a method reference which is nice.","body":"@peskal With Java 8 we can use isEmpty as a method reference which is nice."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1517908563,"post_id":1049678,"comment_id":84274954,"body_markdown":"@Thorbj&#248;rnRavnAndersen but it existed far before Java 8 ;)","body":"@Thorbj&#248;rnRavnAndersen but it existed far before Java 8 ;)"}],"tags":[],"owner":{"account_id":2842,"reputation":31004,"user_id":4023,"accept_rate":89,"display_name":"Matthew Murdoch"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1246035734,"creation_date":1246029306,"answer_id":1049678,"question_id":1049518,"body_markdown":"The `java.util.List` interface doesn&#39;t support `getLast()` because the designers went for a &#39;minimal interface&#39;. With the minimal number of methods defined it makes it both easier to understand and quicker to learn.\n\nThis is in contrast with a &#39;humane interface&#39; (such as used in the [Ruby array class][1]) which attempts to provide methods for doing common operations (e.g. `getLast()`). As there are many uses which such a fundamental concept as a list can be put to this tends to lead to much larger interfaces.\n\nFor further information see Martin Fowler&#39;s [Minimal Interface][2] and [Humane Interface][3] descriptions.\n\nAs to why LinkedList supports `getLast()` etc., to quote the javadoc:\n\n&gt; ... the LinkedList class provides uniformly named methods to get, remove and insert an element at the beginning and end of the list. These operations allow linked lists to be used as a stack, queue, or double-ended queue (deque).\n\nPresumably it was felt that a general List would not be adequate for these specific use cases.\n\nAs an insight into the mind of the principal designer of the Java Collections API (Joshua Bloch) he provides [this list of API design maxims][4] by which he works. Of which, the most pertinent to this question are:\n\n&gt; Early drafts of APIs should be short, typically one page with class and method signatures and one-line descriptions. This makes it easy to restructure the API when you don&#39;t get it right the first time.\n&gt;\n&gt; When in doubt, leave it out. If there is a fundamental theorem of API design, this is it. It applies equally to functionality, classes, methods, and parameters. Every facet of an API should be as small as possible, but no smaller. You can always add things later, but you can&#39;t take them away. Minimizing conceptual weight is more important than class- or method-count.\n&gt;\n&gt; Keep APIs free of implementations details. They confuse users and inhibit the flexibility to evolve. It isn&#39;t always obvious what&#39;s an implementation detail: Be wary of overspecification.\n&gt;\n&gt; Minimize accessibility; when in doubt, make it private. This simplifies APIs and reduces coupling.\n&gt;\n&gt; Consider the performance consequences of API design decisions, but don&#39;t warp an API to achieve performance gains. Luckily, good APIs typically lend themselves to fast implementations.\n\nHowever he also states:\n\n&gt; Don&#39;t make the client do anything the library could do. Violating this rule leads to boilerplate code in the client, which is annoying and error-prone.\n\nWhich just shows that design guidelines often conflict and the hardest part of an API designers job is to balance these conflicts.\n\n\n  [1]: http://www.ruby-doc.org/core/classes/Array.html\n  [2]: http://martinfowler.com/bliki/MinimalInterface.html\n  [3]: http://martinfowler.com/bliki/HumaneInterface.html\n  [4]: http://www.infoq.com/articles/API-Design-Joshua-Bloch","title":"Why does the Java List interface not support getLast()?","body":"<p>The <code>java.util.List</code> interface doesn't support <code>getLast()</code> because the designers went for a 'minimal interface'. With the minimal number of methods defined it makes it both easier to understand and quicker to learn.</p>\n<p>This is in contrast with a 'humane interface' (such as used in the <a href=\"http://www.ruby-doc.org/core/classes/Array.html\" rel=\"noreferrer\">Ruby array class</a>) which attempts to provide methods for doing common operations (e.g. <code>getLast()</code>). As there are many uses which such a fundamental concept as a list can be put to this tends to lead to much larger interfaces.</p>\n<p>For further information see Martin Fowler's <a href=\"http://martinfowler.com/bliki/MinimalInterface.html\" rel=\"noreferrer\">Minimal Interface</a> and <a href=\"http://martinfowler.com/bliki/HumaneInterface.html\" rel=\"noreferrer\">Humane Interface</a> descriptions.</p>\n<p>As to why LinkedList supports <code>getLast()</code> etc., to quote the javadoc:</p>\n<blockquote>\n<p>... the LinkedList class provides uniformly named methods to get, remove and insert an element at the beginning and end of the list. These operations allow linked lists to be used as a stack, queue, or double-ended queue (deque).</p>\n</blockquote>\n<p>Presumably it was felt that a general List would not be adequate for these specific use cases.</p>\n<p>As an insight into the mind of the principal designer of the Java Collections API (Joshua Bloch) he provides <a href=\"http://www.infoq.com/articles/API-Design-Joshua-Bloch\" rel=\"noreferrer\">this list of API design maxims</a> by which he works. Of which, the most pertinent to this question are:</p>\n<blockquote>\n<p>Early drafts of APIs should be short, typically one page with class and method signatures and one-line descriptions. This makes it easy to restructure the API when you don't get it right the first time.</p>\n<p>When in doubt, leave it out. If there is a fundamental theorem of API design, this is it. It applies equally to functionality, classes, methods, and parameters. Every facet of an API should be as small as possible, but no smaller. You can always add things later, but you can't take them away. Minimizing conceptual weight is more important than class- or method-count.</p>\n<p>Keep APIs free of implementations details. They confuse users and inhibit the flexibility to evolve. It isn't always obvious what's an implementation detail: Be wary of overspecification.</p>\n<p>Minimize accessibility; when in doubt, make it private. This simplifies APIs and reduces coupling.</p>\n<p>Consider the performance consequences of API design decisions, but don't warp an API to achieve performance gains. Luckily, good APIs typically lend themselves to fast implementations.</p>\n</blockquote>\n<p>However he also states:</p>\n<blockquote>\n<p>Don't make the client do anything the library could do. Violating this rule leads to boilerplate code in the client, which is annoying and error-prone.</p>\n</blockquote>\n<p>Which just shows that design guidelines often conflict and the hardest part of an API designers job is to balance these conflicts.</p>\n"},{"comments":[{"owner":{"account_id":2842,"reputation":31004,"user_id":4023,"accept_rate":89,"display_name":"Matthew Murdoch"},"score":0,"creation_date":1246036183,"post_id":1049687,"comment_id":861692,"body_markdown":"The Deque interface was only introduced in Java 6. The LinkedList class (with its getLast() method) predates this by several versions (introduced in 1.2).","body":"The Deque interface was only introduced in Java 6. The LinkedList class (with its getLast() method) predates this by several versions (introduced in 1.2)."}],"tags":[],"owner":{"account_id":44171,"reputation":11,"user_id":129484,"display_name":"Daire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246029366,"creation_date":1246029366,"answer_id":1049687,"question_id":1049518,"body_markdown":"The getLast() method is from the Deque interface that LinkedList implements.  If you wanted an array backed version of that, you could use ArrayDeque .  I guess it&#39;s not part of the List interface because they wanted to seperate out different abstract data types into seperate interfaces, even though an implementation like LinkedList can implement more than one interface.","title":"Why does the Java List interface not support getLast()?","body":"<p>The getLast() method is from the Deque interface that LinkedList implements.  If you wanted an array backed version of that, you could use ArrayDeque .  I guess it's not part of the List interface because they wanted to seperate out different abstract data types into seperate interfaces, even though an implementation like LinkedList can implement more than one interface.</p>\n"},{"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1246029808,"post_id":1049695,"comment_id":861160,"body_markdown":"If you look at the LinkedList implementation it contains an optimization for the index based lockup: If the index is after the half size of the list then then the traversal starts at the end and goes backwards. This way a get(size - 1) is practically has the same time cost as getLast().","body":"If you look at the LinkedList implementation it contains an optimization for the index based lockup: If the index is after the half size of the list then then the traversal starts at the end and goes backwards. This way a get(size - 1) is practically has the same time cost as getLast()."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1246030344,"post_id":1049695,"comment_id":861215,"body_markdown":"@kd304, that is an implementation detail that doesn&#39;t address the general case of index based lookups not being optimal for LinkedList. There is no contract on LinkedList that states that certain index based lookups will be fast.","body":"@kd304, that is an implementation detail that doesn&#39;t address the general case of index based lookups not being optimal for LinkedList. There is no contract on LinkedList that states that certain index based lookups will be fast."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246029391,"creation_date":1246029391,"answer_id":1049695,"question_id":1049518,"body_markdown":"The List interface doesn&#39;t have any convenience methods of that type. No getFirst() or getLast(). It is strictly index based. LinkedList needs a way of avoiding index based lookups if possible for performance reasons, so getLast is really an optimization, not a convenience method.\r\n\r\nI&#39;m sure the designers wanted to keep the amount of methods down, so they didn&#39;t add a lot of potentially convenient methods.","title":"Why does the Java List interface not support getLast()?","body":"<p>The List interface doesn't have any convenience methods of that type. No getFirst() or getLast(). It is strictly index based. LinkedList needs a way of avoiding index based lookups if possible for performance reasons, so getLast is really an optimization, not a convenience method.</p>\n\n<p>I'm sure the designers wanted to keep the amount of methods down, so they didn't add a lot of potentially convenient methods.</p>\n"}],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7383,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"closed_date":1694784261,"accepted_answer_id":1049678,"answer_count":7,"score":19,"last_activity_date":1694784037,"creation_date":1246027416,"question_id":1049518,"body_markdown":"I&#39;m trying to understand the API inconsistency in the Java standard collections library.\r\n\r\nThere is no method in `List` or in `AbstractList` to get the last item, although one can simulate that with size and `getIndex()`. \r\n\r\nHowever, `LinkedList` supports that function.\r\n\r\nAny idea why it was decided not to support this method in the interface?\r\n\r\n","title":"Why does the Java List interface not support getLast()?","body":"<p>I'm trying to understand the API inconsistency in the Java standard collections library.</p>\n<p>There is no method in <code>List</code> or in <code>AbstractList</code> to get the last item, although one can simulate that with size and <code>getIndex()</code>.</p>\n<p>However, <code>LinkedList</code> supports that function.</p>\n<p>Any idea why it was decided not to support this method in the interface?</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":7405203,"reputation":161,"user_id":5634320,"display_name":"Hiteshwar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589646336,"creation_date":1589641761,"answer_id":61838916,"question_id":61825748,"body_markdown":"The Resource Metrics API is not included in the official Java client library.\r\nso you have to query the API server as following:\r\n\r\n    GET /apis/metrics/v1alpha1/namespaces/{namespace}/pods/{pod}\r\n\r\nwhich will return the results of current metrics.\r\n\r\nHere are a few references with ability to add even more custom metrics:\r\n\r\n* https://blog.jetstack.io/blog/resource-and-custom-metrics-hpa-v2/\r\n* https://github.com/kubernetes/metrics\r\n\r\nHope this answers your question.","title":"Kubernetes Java API for Metrics","body":"<p>The Resource Metrics API is not included in the official Java client library.\nso you have to query the API server as following:</p>\n\n<pre><code>GET /apis/metrics/v1alpha1/namespaces/{namespace}/pods/{pod}\n</code></pre>\n\n<p>which will return the results of current metrics.</p>\n\n<p>Here are a few references with ability to add even more custom metrics:</p>\n\n<ul>\n<li><a href=\"https://blog.jetstack.io/blog/resource-and-custom-metrics-hpa-v2/\" rel=\"nofollow noreferrer\">https://blog.jetstack.io/blog/resource-and-custom-metrics-hpa-v2/</a></li>\n<li><a href=\"https://github.com/kubernetes/metrics\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/metrics</a></li>\n</ul>\n\n<p>Hope this answers your question.</p>\n"},{"tags":[],"owner":{"account_id":2622195,"reputation":53,"user_id":2270000,"display_name":"blue_man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605887294,"creation_date":1605887294,"answer_id":64932540,"question_id":61825748,"body_markdown":"Kotlin Solution\r\n\r\n    val client = Config.defaultClient();\r\n\tConfiguration.setDefaultApiClient(client);\r\n\tMetrics(client).getPodMetrics(\r\n\t\t\t&quot;name-space&quot;\r\n\t).items.forEach {\r\n\t\tit.containers.forEach {metrics -&gt;\r\n\t\t\tprintln(metrics.usage)\r\n\t\t}\r\n\t}\r\n\r\nThis should give the metrics you are looking for.\r\n\r\nSample Output\r\n\r\n    {cpu=Quantity{number=0.011135729, format=DECIMAL_SI}, memory=Quantity{number=831680512, format=BINARY_SI}}\r\n\r\n    {cpu=Quantity{number=0.008742460, format=DECIMAL_SI}, memory=Quantity{number=781041664, format=BINARY_SI}}","title":"Kubernetes Java API for Metrics","body":"<p>Kotlin Solution</p>\n<pre><code>val client = Config.defaultClient();\nConfiguration.setDefaultApiClient(client);\nMetrics(client).getPodMetrics(\n        &quot;name-space&quot;\n).items.forEach {\n    it.containers.forEach {metrics -&gt;\n        println(metrics.usage)\n    }\n}\n</code></pre>\n<p>This should give the metrics you are looking for.</p>\n<p>Sample Output</p>\n<pre><code>{cpu=Quantity{number=0.011135729, format=DECIMAL_SI}, memory=Quantity{number=831680512, format=BINARY_SI}}\n\n{cpu=Quantity{number=0.008742460, format=DECIMAL_SI}, memory=Quantity{number=781041664, format=BINARY_SI}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13663465,"reputation":246,"user_id":9857909,"display_name":"Lukonjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618818801,"creation_date":1618516435,"answer_id":67115224,"question_id":61825748,"body_markdown":"as blue man said, it is now possible to get this metrics  \r\nJava Solution\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n    PodMetricsList list = new Metrics(client).getPodMetrics(&quot;playground&quot;);\r\n    \r\n    for(PodMetrics podMetrics:list.getItems()){\r\n        for(ContainerMetrics containerMetrics:podMetrics.getContainers()){\r\n    \t\t\t\tSystem.out.println(containerMetrics.getUsage());\r\n    \t}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Kubernetes Java API for Metrics","body":"<p>as blue man said, it is now possible to get this metrics<br />\nJava Solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>PodMetricsList list = new Metrics(client).getPodMetrics(&quot;playground&quot;);\n\nfor(PodMetrics podMetrics:list.getItems()){\n    for(ContainerMetrics containerMetrics:podMetrics.getContainers()){\n                System.out.println(containerMetrics.getUsage());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25973720,"reputation":1,"user_id":19688458,"display_name":"Suresh Samarawarna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694783336,"creation_date":1694783095,"answer_id":77112613,"question_id":61825748,"body_markdown":"you can test with your Kubernetes cluster by changing the following parameters.(should be installed metrics server on your cluster)\r\n\r\n`ApiClient client;` //create client as you wish\r\n\r\n    import com.google.gson.JsonElement;\r\n    import io.kubernetes.client.openapi.ApiClient;\r\n    import io.kubernetes.client.openapi.ApiException;\r\n    import io.kubernetes.client.openapi.Configuration;\r\n    import io.kubernetes.client.openapi.Pair;\r\n    import io.kubernetes.client.util.Config;\r\n    import okhttp3.Call;\r\n    import org.springframework.boot.SpringApplication;\r\n\r\n    String apiPath = &quot;    &quot;;\r\n            Object localVarPostBody = null;\r\n            List&lt;Pair&gt; localVarCollectionQueryParams = new ArrayList &lt;&gt;();\r\n            List &lt; Pair &gt; localVarQueryParams = new ArrayList &lt;&gt;();\r\n            localVarQueryParams.addAll(client.parameterToPair(&quot;pretty&quot;, &quot;true&quot;));\r\n            Map &lt;String, String&gt; localVarHeaderParams = new HashMap &lt;&gt;();\r\n            Map&lt;String, String&gt; localVarCookieParams = new HashMap &lt;&gt;();\r\n            Map&lt;String, Object&gt; localVarFormParams = new HashMap &lt;&gt;();\r\n            String[] localVarAccepts = new String[]{&quot;application/json&quot;};\r\n            String localVarAccept = client.selectHeaderAccept(localVarAccepts);\r\n            if (localVarAccept != null) {\r\n                localVarHeaderParams.put(&quot;Accept&quot;, localVarAccept);\r\n            }\r\n            String[] localVarContentTypes = new String[0];\r\n            String localVarContentType = client.selectHeaderContentType(localVarContentTypes);\r\n            localVarHeaderParams.put(&quot;Content-Type&quot;, localVarContentType);\r\n            String[] localVarAuthNames = new String[]{&quot;BearerToken&quot;};\r\n            Call call = client.buildCall(apiPath, &quot;GET&quot;, localVarQueryParams, localVarCollectionQueryParams, localVarPostBody, localVarHeaderParams, localVarCookieParams, localVarFormParams, localVarAuthNames, null);\r\n            JsonElement element = (JsonElement)client.execute(call, JsonElement.class).getData();\r\n            System.out.println(element);\r\n\r\napiPath = /apis/metrics.k8s.io/v1beta1/namespaces/{namespace}/pods/{pod} ,\r\n          /apis/metrics.k8s.io/v1beta1/pods\r\n\r\nyou can get usage of &quot;cpu&quot; and &quot;memory&quot; according to the **container vice** under the **pod name**.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n        &lt;version&gt;11.0.2&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Kubernetes Java API for Metrics","body":"<p>you can test with your Kubernetes cluster by changing the following parameters.(should be installed metrics server on your cluster)</p>\n<p><code>ApiClient client;</code> //create client as you wish</p>\n<pre><code>import com.google.gson.JsonElement;\nimport io.kubernetes.client.openapi.ApiClient;\nimport io.kubernetes.client.openapi.ApiException;\nimport io.kubernetes.client.openapi.Configuration;\nimport io.kubernetes.client.openapi.Pair;\nimport io.kubernetes.client.util.Config;\nimport okhttp3.Call;\nimport org.springframework.boot.SpringApplication;\n\nString apiPath = &quot;    &quot;;\n        Object localVarPostBody = null;\n        List&lt;Pair&gt; localVarCollectionQueryParams = new ArrayList &lt;&gt;();\n        List &lt; Pair &gt; localVarQueryParams = new ArrayList &lt;&gt;();\n        localVarQueryParams.addAll(client.parameterToPair(&quot;pretty&quot;, &quot;true&quot;));\n        Map &lt;String, String&gt; localVarHeaderParams = new HashMap &lt;&gt;();\n        Map&lt;String, String&gt; localVarCookieParams = new HashMap &lt;&gt;();\n        Map&lt;String, Object&gt; localVarFormParams = new HashMap &lt;&gt;();\n        String[] localVarAccepts = new String[]{&quot;application/json&quot;};\n        String localVarAccept = client.selectHeaderAccept(localVarAccepts);\n        if (localVarAccept != null) {\n            localVarHeaderParams.put(&quot;Accept&quot;, localVarAccept);\n        }\n        String[] localVarContentTypes = new String[0];\n        String localVarContentType = client.selectHeaderContentType(localVarContentTypes);\n        localVarHeaderParams.put(&quot;Content-Type&quot;, localVarContentType);\n        String[] localVarAuthNames = new String[]{&quot;BearerToken&quot;};\n        Call call = client.buildCall(apiPath, &quot;GET&quot;, localVarQueryParams, localVarCollectionQueryParams, localVarPostBody, localVarHeaderParams, localVarCookieParams, localVarFormParams, localVarAuthNames, null);\n        JsonElement element = (JsonElement)client.execute(call, JsonElement.class).getData();\n        System.out.println(element);\n</code></pre>\n<p>apiPath = /apis/metrics.k8s.io/v1beta1/namespaces/{namespace}/pods/{pod} ,\n/apis/metrics.k8s.io/v1beta1/pods</p>\n<p>you can get usage of &quot;cpu&quot; and &quot;memory&quot; according to the <strong>container vice</strong> under the <strong>pod name</strong>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n    &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n    &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3195546,"reputation":79,"user_id":2698795,"accept_rate":0,"display_name":"geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1694783336,"creation_date":1589566251,"question_id":61825748,"body_markdown":"I am getting the pod metrics through kubectl command\r\n\r\n```\r\n➜  kubectl top pods\r\nNAME                CPU(cores)   MEMORY(bytes)\r\napi-6bd876fc8b-85dnx   72m          553Mi\r\nui-67b794cf8d-gcrg5    0m           1Mi\r\n```\r\nbut I want to try through Java client https://github.com/kubernetes-client/java/\r\n\r\nIs there any support to get the Metrics for Pods and Nodes through kubernetes-client ?","title":"Kubernetes Java API for Metrics","body":"<p>I am getting the pod metrics through kubectl command</p>\n\n<pre><code>➜  kubectl top pods\nNAME                CPU(cores)   MEMORY(bytes)\napi-6bd876fc8b-85dnx   72m          553Mi\nui-67b794cf8d-gcrg5    0m           1Mi\n</code></pre>\n\n<p>but I want to try through Java client <a href=\"https://github.com/kubernetes-client/java/\" rel=\"nofollow noreferrer\">https://github.com/kubernetes-client/java/</a></p>\n\n<p>Is there any support to get the Metrics for Pods and Nodes through kubernetes-client ?</p>\n"},{"tags":["java","ghostscript","ghost4j"],"answers":[{"tags":[],"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515251944,"creation_date":1515251944,"answer_id":48128725,"question_id":48121900,"body_markdown":"Try running Ghostscript directly from the command line.\r\n\r\nError -100 is a &#39;fatal error&#39;, something went wrong, and we can&#39;t tell what. Can be out of memory, file permission problems, or invalid configuration (or trying to use a 32-bit library when a 64-bit version was expected).\r\n\r\nI can&#39;t help at all with Ghost4J, which is why I suggest trying to reproduce the problem with Ghostscript itself. If you can do that, or you can get the transcript from stderr/stdout then I may be able to help more.\r\n","title":"Cannot Initialize Ghostscript Interpreter","body":"<p>Try running Ghostscript directly from the command line.</p>\n\n<p>Error -100 is a 'fatal error', something went wrong, and we can't tell what. Can be out of memory, file permission problems, or invalid configuration (or trying to use a 32-bit library when a 64-bit version was expected).</p>\n\n<p>I can't help at all with Ghost4J, which is why I suggest trying to reproduce the problem with Ghostscript itself. If you can do that, or you can get the transcript from stderr/stdout then I may be able to help more.</p>\n"},{"tags":[],"owner":{"account_id":15068677,"reputation":29,"user_id":10874949,"display_name":"Nibra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589892659,"creation_date":1589892659,"answer_id":61891476,"question_id":48121900,"body_markdown":"it may be a little old but here is my solution:\r\nyou need to delete the instance at the end of conversion\r\n\r\n    Ghostscript.deleteInstance();\r\n\r\n\r\n","title":"Cannot Initialize Ghostscript Interpreter","body":"<p>it may be a little old but here is my solution:\nyou need to delete the instance at the end of conversion</p>\n\n<pre><code>Ghostscript.deleteInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10217408,"reputation":524,"user_id":7542654,"display_name":"David Abragimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694783073,"creation_date":1694783073,"answer_id":77112609,"question_id":48121900,"body_markdown":"In my case the &quot;Cannot initialize Ghostscript interpreter. Error code is -100&quot; was because ghostscript used in multithreaded environment.  \r\nhttp://www.ghost4j.org/threadsafetyandmultithreading.html\r\n\r\nadding synchronized in addition to gs.deleteInstance(); helped to resolve the problem \r\n\r\n    try {\r\n    \t\t\tsynchronized(gs) {\r\n    \t\t\t\tgs.initialize(args.toArray(new String[args.size()]));\r\n    \t\t\t\tgs.deleteInstance();\r\n    \t\t\t\tgs.exit();\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (GhostscriptException e) {\r\n    \t\t}","title":"Cannot Initialize Ghostscript Interpreter","body":"<p>In my case the &quot;Cannot initialize Ghostscript interpreter. Error code is -100&quot; was because ghostscript used in multithreaded environment.<br />\n<a href=\"http://www.ghost4j.org/threadsafetyandmultithreading.html\" rel=\"nofollow noreferrer\">http://www.ghost4j.org/threadsafetyandmultithreading.html</a></p>\n<p>adding synchronized in addition to gs.deleteInstance(); helped to resolve the problem</p>\n<pre><code>try {\n            synchronized(gs) {\n                gs.initialize(args.toArray(new String[args.size()]));\n                gs.deleteInstance();\n                gs.exit();\n            }\n\n        } catch (GhostscriptException e) {\n        }\n</code></pre>\n"}],"owner":{"account_id":11936715,"reputation":171,"user_id":8734940,"display_name":"Akshay Chopra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694783073,"creation_date":1515189703,"question_id":48121900,"body_markdown":"I&#39;m trying to use the Ghost4j wrapper to convert .ps files to .pdf on macOS 10.12.6 (Sierra)\r\n\r\nI have used the sample program found here: http://www.ghost4j.org/highlevelapisamples.html\r\n\r\nI have included the all the ghost4j jars and add the ghostscript libraries on the build path.\r\n\r\nBut I am getting the following error: \r\n\r\n    \r\n    org.ghost4j.converter.ConverterException: org.ghost4j.GhostscriptException: Cannot initialize Ghostscript interpreter. Error code is -100\r\n\tat org.ghost4j.converter.PDFConverter.run(PDFConverter.java:251)\r\n\tat org.ghost4j.converter.AbstractRemoteConverter.convert(AbstractRemoteConverter.java:85)\r\n\tat Convert.main(Convert.java:25)\r\n    Caused by: org.ghost4j.GhostscriptException: Cannot initialize Ghostscript interpreter. Error code is -100\r\n\tat org.ghost4j.Ghostscript.initialize(Ghostscript.java:365)\r\n\tat org.ghost4j.converter.PDFConverter.run(PDFConverter.java:231)\r\n\t... 2 more\r\n\r\n\r\nAny suggestions?\r\n\r\n\r\n","title":"Cannot Initialize Ghostscript Interpreter","body":"<p>I'm trying to use the Ghost4j wrapper to convert .ps files to .pdf on macOS 10.12.6 (Sierra)</p>\n\n<p>I have used the sample program found here: <a href=\"http://www.ghost4j.org/highlevelapisamples.html\" rel=\"nofollow noreferrer\">http://www.ghost4j.org/highlevelapisamples.html</a></p>\n\n<p>I have included the all the ghost4j jars and add the ghostscript libraries on the build path.</p>\n\n<p>But I am getting the following error: </p>\n\n<pre><code>org.ghost4j.converter.ConverterException: org.ghost4j.GhostscriptException: Cannot initialize Ghostscript interpreter. Error code is -100\nat org.ghost4j.converter.PDFConverter.run(PDFConverter.java:251)\nat org.ghost4j.converter.AbstractRemoteConverter.convert(AbstractRemoteConverter.java:85)\nat Convert.main(Convert.java:25)\nCaused by: org.ghost4j.GhostscriptException: Cannot initialize Ghostscript interpreter. Error code is -100\nat org.ghost4j.Ghostscript.initialize(Ghostscript.java:365)\nat org.ghost4j.converter.PDFConverter.run(PDFConverter.java:231)\n... 2 more\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","graphql","netflix","netflix-dgs"],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694781982,"creation_date":1694172158,"question_id":77066464,"body_markdown":"I am using `com.netflix.graphql.dgs:graphql-dgs-client:4.9.16` along with HttpClient (JDK 17) \r\n\r\nI am creating graphql client using below.\r\n\r\n    GraphQLCLient graphQLClient = GraphQLClient.createCustom(\r\n            host-url,\r\n            requestExecutor::exec);\r\n\r\nAnd my request executor is based on HttpClient.\r\n\r\nThe `requestExecutor.exec(String url, Map&lt;String, ? extends List&lt;String&gt;&gt; headers, String body)` method can accept the headers but I am not seeing a graphql client method that can pass or accept httpheader. \r\n\r\nWhat I am currently using is -   \r\n\r\n    var request = new GraphQLQueryRequest(\r\n            OurStoreGraphQLQuery.newRequest().oneStoreId(oneStoreId).build(),\r\n            RESPONSE_PROJECTION; \r\n    \r\n    GraphQLResponse response = graphQLClient.executeQuery(request.serialize());\r\n\r\nNeither of the above i.e. `GraphQLQueryRequest` constructor or `executeQuery` method has a overloaded equivalent that accept HttpHeader and in-turn pass it to `requestExecutor::exec` method. \r\n\r\n1) What is the point of [exec method][1] accepting `headers` if it can not be passed by the user code with out creating a new instance of `RequestExecutor`.\r\n-- from where is the headers parameter picked up, how can i add more headers to the above headers param??\r\n\r\n\r\n----------\r\nProbably I can use the below style as mentioned in [java-client/#plug-in-your-own-http-client][2] docs - \r\n\r\n    CustomGraphQLClient client = GraphQLClient.createCustom(url,  (url, headers, body) -&gt; {\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        headers.forEach(httpHeaders::addAll);\r\n        ResponseEntity&lt;String&gt; exchange = restTemplate.exchange(url, HttpMethod.POST, new HttpEntity&lt;&gt;(body, httpHeaders),String.class);\r\n        return new HttpResponse(exchange.getStatusCodeValue(), exchange.getBody());\r\n    });\r\n    \r\n    GraphQLResponse graphQLResponse = client.executeQuery(query, emptyMap(), &quot;SubmitReview&quot;);\r\n    String submittedBy = graphQLResponse.extractValueAsObject(&quot;submitReview.submittedBy&quot;, String.class);\r\n\r\n-- but looks like i will have to create a custom client instance each time my header changes. Is that right?? \r\n-- Using the above suggested approach, it does not look like i can use the same requestExecutor i.e requestExecutor::exec in a generic approach.\r\n\r\n\r\n  [1]: https://github.com/Netflix/dgs-framework/blob/8f6eba40859138ef173690da8640a3defe6de56f/graphql-dgs-client/src/main/kotlin/com/netflix/graphql/dgs/client/RequestExecutor.kt#L29\r\n  [2]: https://netflix.github.io/dgs/advanced/java-client/#plug-in-your-own-http-client","title":"How to pass request headers when using java netflix graphql client?","body":"<p>I am using <code>com.netflix.graphql.dgs:graphql-dgs-client:4.9.16</code> along with HttpClient (JDK 17)</p>\n<p>I am creating graphql client using below.</p>\n<pre><code>GraphQLCLient graphQLClient = GraphQLClient.createCustom(\n        host-url,\n        requestExecutor::exec);\n</code></pre>\n<p>And my request executor is based on HttpClient.</p>\n<p>The <code>requestExecutor.exec(String url, Map&lt;String, ? extends List&lt;String&gt;&gt; headers, String body)</code> method can accept the headers but I am not seeing a graphql client method that can pass or accept httpheader.</p>\n<p>What I am currently using is -</p>\n<pre><code>var request = new GraphQLQueryRequest(\n        OurStoreGraphQLQuery.newRequest().oneStoreId(oneStoreId).build(),\n        RESPONSE_PROJECTION; \n\nGraphQLResponse response = graphQLClient.executeQuery(request.serialize());\n</code></pre>\n<p>Neither of the above i.e. <code>GraphQLQueryRequest</code> constructor or <code>executeQuery</code> method has a overloaded equivalent that accept HttpHeader and in-turn pass it to <code>requestExecutor::exec</code> method.</p>\n<ol>\n<li>What is the point of <a href=\"https://github.com/Netflix/dgs-framework/blob/8f6eba40859138ef173690da8640a3defe6de56f/graphql-dgs-client/src/main/kotlin/com/netflix/graphql/dgs/client/RequestExecutor.kt#L29\" rel=\"nofollow noreferrer\">exec method</a> accepting <code>headers</code> if it can not be passed by the user code with out creating a new instance of <code>RequestExecutor</code>.\n-- from where is the headers parameter picked up, how can i add more headers to the above headers param??</li>\n</ol>\n<hr />\n<p>Probably I can use the below style as mentioned in <a href=\"https://netflix.github.io/dgs/advanced/java-client/#plug-in-your-own-http-client\" rel=\"nofollow noreferrer\">java-client/#plug-in-your-own-http-client</a> docs -</p>\n<pre><code>CustomGraphQLClient client = GraphQLClient.createCustom(url,  (url, headers, body) -&gt; {\n    HttpHeaders httpHeaders = new HttpHeaders();\n    headers.forEach(httpHeaders::addAll);\n    ResponseEntity&lt;String&gt; exchange = restTemplate.exchange(url, HttpMethod.POST, new HttpEntity&lt;&gt;(body, httpHeaders),String.class);\n    return new HttpResponse(exchange.getStatusCodeValue(), exchange.getBody());\n});\n\nGraphQLResponse graphQLResponse = client.executeQuery(query, emptyMap(), &quot;SubmitReview&quot;);\nString submittedBy = graphQLResponse.extractValueAsObject(&quot;submitReview.submittedBy&quot;, String.class);\n</code></pre>\n<p>-- but looks like i will have to create a custom client instance each time my header changes. Is that right??\n-- Using the above suggested approach, it does not look like i can use the same requestExecutor i.e requestExecutor::exec in a generic approach.</p>\n"},{"tags":["java","apdu","emv"],"comments":[{"owner":{"account_id":220963,"reputation":8330,"user_id":478681,"accept_rate":53,"display_name":"user478681"},"score":0,"creation_date":1694869793,"post_id":77112421,"comment_id":135949713,"body_markdown":"are you sure that the SELECT command has correct Len specifier? 00A4040005A0000000031010 - here you define 00 A4 04 00 - SELECT command, 05 - the length of the payload, but the payload consist of 7 bytes (A0 00 00 00 03 10 10)","body":"are you sure that the SELECT command has correct Len specifier? 00A4040005A0000000031010 - here you define 00 A4 04 00 - SELECT command, 05 - the length of the payload, but the payload consist of 7 bytes (A0 00 00 00 03 10 10)"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1695054859,"post_id":77112421,"comment_id":135969855,"body_markdown":"According to `https://www.eftlab.com/knowledge-base/complete-list-of-application-identifiers-aid` the dedicated file name provided by the card (&quot;\tA000000003000000&quot;) is NOT pointing to a regular payment card/application but to a **Global Payment* one (see: *(VISA) Card Manager: Used by most GP2.1.1 cards / Oberthur OP201 cards. Visa Proprietary Card Manager AID for OpenPlatform cards (visa.openplatform).*). Probably you need additional documents provided from Visa to process the card.","body":"According to <code>https:&#47;&#47;www.eftlab.com&#47;knowledge-base&#47;complete-list-of-appli&zwnj;&#8203;cation-identifiers-a&zwnj;&#8203;id</code> the dedicated file name provided by the card (&quot;\tA000000003000000&quot;) is NOT pointing to a regular payment card/application but to a <i>*Global Payment</i> one (see: <i>(VISA) Card Manager: Used by most GP2.1.1 cards / Oberthur OP201 cards. Visa Proprietary Card Manager AID for OpenPlatform cards (visa.openplatform).</i>). Probably you need additional documents provided from Visa to process the card."},{"owner":{"account_id":123769,"reputation":9348,"user_id":1348522,"accept_rate":57,"display_name":"Zumry Mohamed"},"score":0,"creation_date":1695096982,"post_id":77112421,"comment_id":135974875,"body_markdown":"@user478681 when i tried with length 07, i receive only SW1 and SW2 as 9000. no response data but when i mention the 05, i receive the above response. Do oyu think this might be a manufactorer error?","body":"@user478681 when i tried with length 07, i receive only SW1 and SW2 as 9000. no response data but when i mention the 05, i receive the above response. Do oyu think this might be a manufactorer error?"},{"owner":{"account_id":123769,"reputation":9348,"user_id":1348522,"accept_rate":57,"display_name":"Zumry Mohamed"},"score":0,"creation_date":1695097084,"post_id":77112421,"comment_id":135974886,"body_markdown":"@MichaelFehr i will try to find addtitional doc. Sometime i feel like device got manufacturer error. I don&#39;t receive values properly for the commands sometime.","body":"@MichaelFehr i will try to find addtitional doc. Sometime i feel like device got manufacturer error. I don&#39;t receive values properly for the commands sometime."},{"owner":{"account_id":220963,"reputation":8330,"user_id":478681,"accept_rate":53,"display_name":"user478681"},"score":0,"creation_date":1695127103,"post_id":77112421,"comment_id":135980016,"body_markdown":"@ZumryMohamed, sorry, have no idea. Even the response to request 3 looks not correct to me (at least it is not a TLV coded data). Either you have manufactorer error or some issue with logging. Try to read the card using some external tool","body":"@ZumryMohamed, sorry, have no idea. Even the response to request 3 looks not correct to me (at least it is not a TLV coded data). Either you have manufactorer error or some issue with logging. Try to read the card using some external tool"},{"owner":{"account_id":13158077,"reputation":1197,"user_id":9504571,"display_name":"Michal Gluchowski"},"score":0,"creation_date":1695222946,"post_id":77112421,"comment_id":135996362,"body_markdown":"Honestly, it seems that you are not using a certified kernel. The commands you are showing would not have been sent by it. You have not select the application properly, but a card manager instead. I don&#39;t know what you are doing, but it is not a payment application as this way you won&#39;t get through L3 certifications without using certified L2 kernels.","body":"Honestly, it seems that you are not using a certified kernel. The commands you are showing would not have been sent by it. You have not select the application properly, but a card manager instead. I don&#39;t know what you are doing, but it is not a payment application as this way you won&#39;t get through L3 certifications without using certified L2 kernels."}],"owner":{"account_id":123769,"reputation":9348,"user_id":1348522,"accept_rate":57,"display_name":"Zumry Mohamed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694781301,"creation_date":1694781301,"question_id":77112421,"body_markdown":"I have been working on a Pos terminal app for Pax A930 device. I was able to AID, card type and etc but when i tried the GPO command, it throws 6985 error. I am not sure issues is from my end or whether the SDK got any issue. \r\n\r\nRequest 1 : \r\n\r\n    00A404000E315041592E5359532E444446303100\r\n\r\nResponse :\r\n\r\n    6F1E840E315041592E5359532E4444463031A50C8801015F2D02656E9F1101019000\r\n\r\n&gt; ------\r\n\r\nRequest 2 : \r\n\r\n    00B2010C00\r\n\r\nResponse: \r\n\r\n    7021611F4F07A00000000310105004564953419F120A564953412044454249548701019000\r\n\r\n&gt; ------\r\n\r\nRequest 3: \r\n\r\n    00A4040005A0000000031010\r\n\r\nResponse\r\n\r\n    6F3D8408A000000003000000A5319F6E9000\r\n\r\n\r\nEverything works perfectly upto here but when i try to execute the GPO\r\n\r\n    80A800000283000000\r\n\r\nI get 6985\r\n\r\n\r\nAs per my knowledge i didnt get PDOL response from the 3rd call, so i am using the commonly used command for the GPO.  \r\n\r\ncan someone guide me on this?\r\n\r\n","title":"Trying to get GPO command for EMV Card failed","body":"<p>I have been working on a Pos terminal app for Pax A930 device. I was able to AID, card type and etc but when i tried the GPO command, it throws 6985 error. I am not sure issues is from my end or whether the SDK got any issue.</p>\n<p>Request 1 :</p>\n<pre><code>00A404000E315041592E5359532E444446303100\n</code></pre>\n<p>Response :</p>\n<pre><code>6F1E840E315041592E5359532E4444463031A50C8801015F2D02656E9F1101019000\n</code></pre>\n<blockquote>\n<hr />\n</blockquote>\n<p>Request 2 :</p>\n<pre><code>00B2010C00\n</code></pre>\n<p>Response:</p>\n<pre><code>7021611F4F07A00000000310105004564953419F120A564953412044454249548701019000\n</code></pre>\n<blockquote>\n<hr />\n</blockquote>\n<p>Request 3:</p>\n<pre><code>00A4040005A0000000031010\n</code></pre>\n<p>Response</p>\n<pre><code>6F3D8408A000000003000000A5319F6E9000\n</code></pre>\n<p>Everything works perfectly upto here but when i try to execute the GPO</p>\n<pre><code>80A800000283000000\n</code></pre>\n<p>I get 6985</p>\n<p>As per my knowledge i didnt get PDOL response from the 3rd call, so i am using the commonly used command for the GPO.</p>\n<p>can someone guide me on this?</p>\n"},{"tags":["java","logback","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":13209447,"reputation":13,"user_id":9540164,"display_name":"forestfart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588761794,"creation_date":1588752312,"answer_id":61630247,"question_id":59664650,"body_markdown":"You can change application user file creation mask by `umask 023` in linux (best to do it on startup).\r\n\r\nIf you want to have more control over it inside application you can upgrade your logging to Log4j2 which is more powerful and starting from version `2.9` you can set it in `log4j2.xml`, i.e. `&lt;RollingFile ... filePermissions=&quot;rwxr-xr--&quot;&gt;`.","title":"Give 754 linux file permission to java application log files generated through Spring Logback","body":"<p>You can change application user file creation mask by <code>umask 023</code> in linux (best to do it on startup).</p>\n\n<p>If you want to have more control over it inside application you can upgrade your logging to Log4j2 which is more powerful and starting from version <code>2.9</code> you can set it in <code>log4j2.xml</code>, i.e. <code>&lt;RollingFile ... filePermissions=\"rwxr-xr--\"&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694781048,"creation_date":1694781048,"answer_id":77112386,"question_id":59664650,"body_markdown":"    Add this to your pom file:\r\n    \r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n            \t\t\t&lt;jvmArguments&gt;\r\n    \t\t\t\t\t\t-DUMASK=&quot;0022&quot;\r\n                \t\t\t-Dorg.apache.catalina.security.SecurityListener.UMASK=&quot;0022&quot;\r\n            \t\t\t&lt;/jvmArguments&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n                &lt;/plugin&gt;","title":"Give 754 linux file permission to java application log files generated through Spring Logback","body":"<pre><code>Add this to your pom file:\n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;\n                        -DUMASK=&quot;0022&quot;\n                        -Dorg.apache.catalina.security.SecurityListener.UMASK=&quot;0022&quot;\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12500257,"reputation":47,"user_id":9098955,"display_name":"Ishan Gandhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694781048,"creation_date":1578575134,"question_id":59664650,"body_markdown":"In my Java Spring-based application, using Logback to generate application logs, I need to give specific `754` linux file permission to log files generated by this application.\r\n\r\nHow can specific file permissions of log files be set in `logback-spring.xml` file?\r\n","title":"Give 754 linux file permission to java application log files generated through Spring Logback","body":"<p>In my Java Spring-based application, using Logback to generate application logs, I need to give specific <code>754</code> linux file permission to log files generated by this application.</p>\n\n<p>How can specific file permissions of log files be set in <code>logback-spring.xml</code> file?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":8819821,"reputation":1674,"user_id":7492795,"display_name":"TheKingElessar"},"score":0,"creation_date":1686253703,"post_id":39433775,"comment_id":134777565,"body_markdown":"For anybody getting this exception when querying Mongo, ensure you&#39;re querying with the correct datatype (e.g. String), not a POJO.","body":"For anybody getting this exception when querying Mongo, ensure you&#39;re querying with the correct datatype (e.g. String), not a POJO."}],"answers":[{"tags":[],"owner":{"account_id":6497236,"reputation":381,"user_id":5029447,"display_name":"Dallas Phillips"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1473877937,"creation_date":1473877937,"answer_id":39497344,"question_id":39433775,"body_markdown":"From the looks of what you are trying to do, you are trying to add some custom data type (in this case your POJO) but what you need to keep in mind is that fields in documents can only accept certain data types, not objects directly.\r\n\r\nIn case if you didn&#39;t know also, Mongo Documents are structured the same way as json. So you have to explicitaly create the documents by creating the fields and inserting the values into them. There are specific data types that are allowed in value fields: \r\n\r\nhttp://mongodb.github.io/mongo-java-driver/3.0/bson/documents/\r\n\r\nTo help with your case, the code below takes your POJO as a parameter and knowing the structure of the POJO, returns a Mongo Document that can be inserted into your collection:\r\n\r\n    private Document pojoToDoc(Pojo pojo){\r\n        Document doc = new Document();\r\n\r\n        doc.put(&quot;Name&quot;,pojo.getName());\r\n        doc.put(&quot;Surname&quot;,pojo.getSurname());\r\n        doc.put(&quot;id&quot;,pojo.getId());\r\n \r\n        return doc;\r\n    } \r\n\r\nThis should work for insertion. If you want to index one of the fields:\r\n\r\n    database.getCollection(&quot;Records&quot;).createIndex(new Document(&quot;id&quot;, 1));\r\n\r\nI hope this answers your question and works for you.","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>From the looks of what you are trying to do, you are trying to add some custom data type (in this case your POJO) but what you need to keep in mind is that fields in documents can only accept certain data types, not objects directly.</p>\n\n<p>In case if you didn't know also, Mongo Documents are structured the same way as json. So you have to explicitaly create the documents by creating the fields and inserting the values into them. There are specific data types that are allowed in value fields: </p>\n\n<p><a href=\"http://mongodb.github.io/mongo-java-driver/3.0/bson/documents/\" rel=\"noreferrer\">http://mongodb.github.io/mongo-java-driver/3.0/bson/documents/</a></p>\n\n<p>To help with your case, the code below takes your POJO as a parameter and knowing the structure of the POJO, returns a Mongo Document that can be inserted into your collection:</p>\n\n<pre><code>private Document pojoToDoc(Pojo pojo){\n    Document doc = new Document();\n\n    doc.put(\"Name\",pojo.getName());\n    doc.put(\"Surname\",pojo.getSurname());\n    doc.put(\"id\",pojo.getId());\n\n    return doc;\n} \n</code></pre>\n\n<p>This should work for insertion. If you want to index one of the fields:</p>\n\n<pre><code>database.getCollection(\"Records\").createIndex(new Document(\"id\", 1));\n</code></pre>\n\n<p>I hope this answers your question and works for you.</p>\n"},{"comments":[{"owner":{"account_id":2910091,"reputation":558,"user_id":2494533,"display_name":"Alexander Murza"},"score":1,"creation_date":1537952718,"post_id":44774764,"comment_id":91967529,"body_markdown":"Still fails on mongodb-driver 3.6.4, so - no","body":"Still fails on mongodb-driver 3.6.4, so - no"},{"owner":{"account_id":6497236,"reputation":381,"user_id":5029447,"display_name":"Dallas Phillips"},"score":1,"creation_date":1549089711,"post_id":44774764,"comment_id":95787333,"body_markdown":"This has nothing to do with what the PO asked. Your answer references drives but code shows spring framework, irrelevant to original question.","body":"This has nothing to do with what the PO asked. Your answer references drives but code shows spring framework, irrelevant to original question."}],"tags":[],"owner":{"account_id":10016352,"reputation":15,"user_id":7407492,"display_name":"hankchan101"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1498549353,"creation_date":1498549353,"answer_id":44774764,"question_id":39433775,"body_markdown":"did you check the library of mongodb. I solve this problem in this morning by change the mongodb java driver from 3.2.2 to 3.4.2.\r\nthe new maven like that:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nhave a try and response","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>did you check the library of mongodb. I solve this problem in this morning by change the mongodb java driver from 3.2.2 to 3.4.2.\nthe new maven like that:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>have a try and response</p>\n"},{"comments":[{"owner":{"account_id":3687479,"reputation":425,"user_id":3070934,"display_name":"mojave"},"score":2,"creation_date":1533426053,"post_id":50609892,"comment_id":90342455,"body_markdown":"Not sure if this option was available when the OP asked the question couple years back, but this is the best solution, since you are utilizing Mongo&#39;s builtin, rather than rolling your own.","body":"Not sure if this option was available when the OP asked the question couple years back, but this is the best solution, since you are utilizing Mongo&#39;s builtin, rather than rolling your own."}],"tags":[],"owner":{"account_id":3079097,"reputation":492,"user_id":2607753,"display_name":"Renato Oliveira"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1527699183,"creation_date":1527699183,"answer_id":50609892,"question_id":39433775,"body_markdown":"You need to configure the CodeRegistry to use the PojoCodecProvider as explained here:\r\nhttp://mongodb.github.io/mongo-java-driver/3.7/driver/getting-started/quick-start-pojo/","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>You need to configure the CodeRegistry to use the PojoCodecProvider as explained here:\n<a href=\"http://mongodb.github.io/mongo-java-driver/3.7/driver/getting-started/quick-start-pojo/\" rel=\"noreferrer\">http://mongodb.github.io/mongo-java-driver/3.7/driver/getting-started/quick-start-pojo/</a></p>\n"},{"tags":[],"owner":{"account_id":6834571,"reputation":1130,"user_id":5257091,"display_name":"Hasnaa Ibraheem"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1551364726,"creation_date":1551363643,"answer_id":54927809,"question_id":39433775,"body_markdown":"To be bit abstract, as this may save the day for other developers..&lt;br&gt;\r\nThis error: _CodecConfigurationException: Can&#39;t find a codec for class xxx_ means that your mongo driver is not able to handle the data you sent in the object you made of that xxx class and accordingly can&#39;t generate the mongo query you want.&lt;br&gt;&lt;br&gt;\r\nThe resolution in that case would be either to use the right class i.e to use one of the expected classes by the driver (in my case replacing java array by ArrayList object resolved the issue).. The other resolution could be to upgrade your driver. Third solution could be as mentioned by @Renato, to define your own decoding logic.. This depends on your exact case.&lt;br&gt;\r\nhth","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>To be bit abstract, as this may save the day for other developers..<br>\nThis error: <em>CodecConfigurationException: Can't find a codec for class xxx</em> means that your mongo driver is not able to handle the data you sent in the object you made of that xxx class and accordingly can't generate the mongo query you want.<br><br>\nThe resolution in that case would be either to use the right class i.e to use one of the expected classes by the driver (in my case replacing java array by ArrayList object resolved the issue).. The other resolution could be to upgrade your driver. Third solution could be as mentioned by @Renato, to define your own decoding logic.. This depends on your exact case.<br>\nhth</p>\n"},{"tags":[],"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579989538,"creation_date":1579989538,"answer_id":59913773,"question_id":39433775,"body_markdown":"I&#39;m using [MongoDB POJO support][1]. In my case, I had this &quot;clue&quot; WARNing before the exception:\r\n\r\n```\r\n org.bson.codecs.pojo                     : Cannot use &#39;UserBeta&#39; with the PojoCodec.\r\n\r\norg.bson.codecs.configuration.CodecConfigurationException: Property &#39;premium&#39; in UserBeta, has differing data types: TypeData{type=PremiumStatus} and TypeData{type=Boolean}.\r\n```\r\n\r\nMy class `UserBeta` had `getPremium()`, `setPremium()`, and `isPremium()`. I already `@BsonIgnore`-d the `isPremium()` but for some reason it&#39;s still detected and causing conflict.\r\n\r\nMy workaround is to rename `isPremium()` to `isAnyPremium()`.\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.12/bson/pojos/","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>I'm using <a href=\"https://mongodb.github.io/mongo-java-driver/3.12/bson/pojos/\" rel=\"nofollow noreferrer\">MongoDB POJO support</a>. In my case, I had this \"clue\" WARNing before the exception:</p>\n\n<pre><code> org.bson.codecs.pojo                     : Cannot use 'UserBeta' with the PojoCodec.\n\norg.bson.codecs.configuration.CodecConfigurationException: Property 'premium' in UserBeta, has differing data types: TypeData{type=PremiumStatus} and TypeData{type=Boolean}.\n</code></pre>\n\n<p>My class <code>UserBeta</code> had <code>getPremium()</code>, <code>setPremium()</code>, and <code>isPremium()</code>. I already <code>@BsonIgnore</code>-d the <code>isPremium()</code> but for some reason it's still detected and causing conflict.</p>\n\n<p>My workaround is to rename <code>isPremium()</code> to <code>isAnyPremium()</code>.</p>\n"},{"tags":[],"owner":{"account_id":11561916,"reputation":11,"user_id":8471381,"display_name":"Rami DH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582791736,"creation_date":1582791736,"answer_id":60428965,"question_id":39433775,"body_markdown":"I resolve it by adding the spring-boot-starter-data-mongodb dependency in your pom.xml or your build.gradle.\r\n\r\n`compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;, version: &#39;2.2.4.RELEASE&#39;`","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>I resolve it by adding the spring-boot-starter-data-mongodb dependency in your pom.xml or your build.gradle.</p>\n\n<p><code>compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb', version: '2.2.4.RELEASE'</code></p>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588521096,"creation_date":1588151660,"answer_id":61498214,"question_id":39433775,"body_markdown":"Documentation:\r\n[MongoDB Driver Quick Start - POJOs][1]\r\n\r\n\r\nAfter following the above document, if you are still getting error, then\r\n\r\nyou could be using a **generic document** inside your **collection**  like\r\n\r\n    class DocStore {\r\n      String docId:\r\n      String docType;\r\n      Object document; // this will cause the BSON cast to throw a codec error\r\n      Map&lt;String, Object&gt; document; // this won&#39;t\r\n    }\r\n\r\nAnd still, you would want to cast your document \r\nfrom **POJO** to **Map**\r\n\r\n[mkyong][2] tutorial could help.\r\n\r\nAs for the fetch, it works as expected but you might want to cast from Map to your POJO as a post-processing step, we can find some good answers [here][3]\r\n\r\nHope it helps! &#128578;️\r\n\r\n  [1]: http://mongodb.github.io/mongo-java-driver/3.7/driver/getting-started/quick-start-pojo/\r\n  [2]: https://mkyong.com/java/java-convert-object-to-map-example/\r\n  [3]: https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>Documentation:\n<a href=\"http://mongodb.github.io/mongo-java-driver/3.7/driver/getting-started/quick-start-pojo/\" rel=\"nofollow noreferrer\">MongoDB Driver Quick Start - POJOs</a></p>\n\n<p>After following the above document, if you are still getting error, then</p>\n\n<p>you could be using a <strong>generic document</strong> inside your <strong>collection</strong>  like</p>\n\n<pre><code>class DocStore {\n  String docId:\n  String docType;\n  Object document; // this will cause the BSON cast to throw a codec error\n  Map&lt;String, Object&gt; document; // this won't\n}\n</code></pre>\n\n<p>And still, you would want to cast your document \nfrom <strong>POJO</strong> to <strong>Map</strong></p>\n\n<p><a href=\"https://mkyong.com/java/java-convert-object-to-map-example/\" rel=\"nofollow noreferrer\">mkyong</a> tutorial could help.</p>\n\n<p>As for the fetch, it works as expected but you might want to cast from Map to your POJO as a post-processing step, we can find some good answers <a href=\"https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo\">here</a></p>\n\n<p>Hope it helps! 🙂️</p>\n"},{"tags":[],"owner":{"account_id":9461048,"reputation":69,"user_id":7034744,"display_name":"Lakshmi Narayanan"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1590657839,"creation_date":1590651709,"answer_id":62059453,"question_id":39433775,"body_markdown":"Use below set of lines while making connection to mongo db for resolving the issue with codec, while using POJO class in mongo.\r\n\r\nReference : https://developer.mongodb.com/quickstart/java-mapping-pojos\r\n\r\n```java\r\nConnectionString connectionString = new ConnectionString(&quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + host + &quot;:&quot; + port);\r\nCodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\nCodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n\r\nMongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                .applyConnectionString(connectionString)\r\n                .codecRegistry(codecRegistry)\r\n                .build();\r\nMongoClient mongoClient = MongoClients.create(clientSettings);\r\nMongoDatabase mongoDatabase = mongoClient.getDatabase(database);\r\n```\r\n","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>Use below set of lines while making connection to mongo db for resolving the issue with codec, while using POJO class in mongo.</p>\n\n<p>Reference : <a href=\"https://developer.mongodb.com/quickstart/java-mapping-pojos\" rel=\"nofollow noreferrer\">https://developer.mongodb.com/quickstart/java-mapping-pojos</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionString connectionString = new ConnectionString(\"mongodb://\" + username + \":\" + password + \"@\" + host + \":\" + port);\nCodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\nCodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n\nMongoClientSettings clientSettings = MongoClientSettings.builder()\n                .applyConnectionString(connectionString)\n                .codecRegistry(codecRegistry)\n                .build();\nMongoClient mongoClient = MongoClients.create(clientSettings);\nMongoDatabase mongoDatabase = mongoClient.getDatabase(database);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557673,"reputation":928,"user_id":5736627,"display_name":"Elias Meireles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624179460,"creation_date":1624178939,"answer_id":68054176,"question_id":39433775,"body_markdown":"I had this problem with the spring boot. The code below solved the problem.\r\n\r\nCreating beam.\r\n    \r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class MongoConfig {\r\n    \r\n    \tprivate final MongodbProperties properties;\r\n    \r\n    \t@Bean\r\n    \tpublic MongoClientSettings mongoClient() {\r\n    \t\treturn MongoClientSettings.builder()\r\n    \t\t\t\t.applyToClusterSettings(builder -&gt; builder.hosts(getServerAddress()))\r\n    \t\t\t\t.credential(getClientCredentials())\r\n    \t\t\t\t.codecRegistry(getCodecRegistry())\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \tprivate CodecRegistry getCodecRegistry() {\r\n    \t\treturn fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\r\n    \t\t\t\tfromProviders(PojoCodecProvider.builder().automatic(true).build()));\r\n    \t}\r\n    \r\n    \tprivate List&lt;ServerAddress&gt; getServerAddress() {\r\n    \t\treturn Collections.singletonList(new ServerAddress(properties.getHost(), properties.getPort()));\r\n    \t}\r\n    \r\n    \tprivate MongoCredential getClientCredentials() {\r\n    \t\treturn MongoCredential\r\n    \t\t\t\t.createCredential(properties.getUsername(), properties.getAuthenticationDatabase(),\r\n    \t\t\t\t\t\tproperties.getPassword().toCharArray());\r\n    \t}\r\n    }\r\n\r\nGetting properties from application.yml file.\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    public class MongodbProperties {\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.host}&quot;)\r\n    \tprivate String host;\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.database}&quot;)\r\n    \tprivate String database;\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.authentication-database}&quot;)\r\n    \tprivate String authenticationDatabase;\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.port}&quot;)\r\n    \tprivate int port;\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.username}&quot;)\r\n    \tprivate String username;\r\n    \r\n    \t@Value(&quot;${spring.data.mongodb.password}&quot;)\r\n    \tprivate String password;\r\n    }\r\n\r\n","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>I had this problem with the spring boot. The code below solved the problem.</p>\n<p>Creating beam.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class MongoConfig {\n\n    private final MongodbProperties properties;\n\n    @Bean\n    public MongoClientSettings mongoClient() {\n        return MongoClientSettings.builder()\n                .applyToClusterSettings(builder -&gt; builder.hosts(getServerAddress()))\n                .credential(getClientCredentials())\n                .codecRegistry(getCodecRegistry())\n                .build();\n    }\n\n    private CodecRegistry getCodecRegistry() {\n        return fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n    }\n\n    private List&lt;ServerAddress&gt; getServerAddress() {\n        return Collections.singletonList(new ServerAddress(properties.getHost(), properties.getPort()));\n    }\n\n    private MongoCredential getClientCredentials() {\n        return MongoCredential\n                .createCredential(properties.getUsername(), properties.getAuthenticationDatabase(),\n                        properties.getPassword().toCharArray());\n    }\n}\n</code></pre>\n<p>Getting properties from application.yml file.</p>\n<pre><code>@Getter\n@Setter\n@Configuration\npublic class MongodbProperties {\n\n    @Value(&quot;${spring.data.mongodb.host}&quot;)\n    private String host;\n\n    @Value(&quot;${spring.data.mongodb.database}&quot;)\n    private String database;\n\n    @Value(&quot;${spring.data.mongodb.authentication-database}&quot;)\n    private String authenticationDatabase;\n\n    @Value(&quot;${spring.data.mongodb.port}&quot;)\n    private int port;\n\n    @Value(&quot;${spring.data.mongodb.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.data.mongodb.password}&quot;)\n    private String password;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934165,"reputation":63,"user_id":7353036,"display_name":"Vignesh Baskaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657780377,"creation_date":1657780377,"answer_id":72976150,"question_id":39433775,"body_markdown":"MongoDB driver couldn&#39;t understand your POJO, So it is asking for a way to convert it to the BSON document. So, Instead of defining codecs for each object, it is better to convert POJO into the document and use it further.\r\n\r\nJust convert it using object mapper/ GSON and parse it using `org.bson.Document` class.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper(); //Advisable to create and consume as bean\r\n    Document pojoDocument = Document.parse(objectMapper.writeValueAsString(pojo));\r\n\r\nThen you can fed the pojoDocument into the mongo client methods.\r\n\r\n    Document document = new Document();\r\n    document.put(&quot;person&quot;, pojoDocument);\r\n\r\n    database.getCollection(&quot;Records&quot;).insertOne(document); ","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>MongoDB driver couldn't understand your POJO, So it is asking for a way to convert it to the BSON document. So, Instead of defining codecs for each object, it is better to convert POJO into the document and use it further.</p>\n<p>Just convert it using object mapper/ GSON and parse it using <code>org.bson.Document</code> class.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper(); //Advisable to create and consume as bean\nDocument pojoDocument = Document.parse(objectMapper.writeValueAsString(pojo));\n</code></pre>\n<p>Then you can fed the pojoDocument into the mongo client methods.</p>\n<pre><code>Document document = new Document();\ndocument.put(&quot;person&quot;, pojoDocument);\n\ndatabase.getCollection(&quot;Records&quot;).insertOne(document); \n</code></pre>\n"}],"owner":{"account_id":9171073,"reputation":732,"user_id":6818560,"accept_rate":12,"display_name":"İlkay Gunel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77986,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":10,"score":30,"last_activity_date":1694780801,"creation_date":1473578424,"question_id":39433775,"body_markdown":"I&#39;m learning MongoDB with Java. I&#39;m trying to insert data to MongoDB with Java driver. I&#39;m doing inserting like in MongoDB tutorial and every thing is okey. But if I want to insert a variable and when I run the code, driver throws an error like this:\r\n\r\n    org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo.\r\n\r\nI searhed questions in Stack Overflow like this but I couldn&#39;t understand anything and I cant&#39;t find anything to solve this error. My code is below. How can solve this problem?\r\n\r\nI&#39;m using this code:\r\n\r\n    package io.github.ilkgunel.mongodb;\r\n    import org.bson.Document;\r\n    \r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.MongoDatabase;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class MongoDBBasicUsage {\r\n        public static void main(String[] args) {\r\n            MongoClient mongoClient;\r\n            try {\r\n                Pojo pojo = new Pojo();\r\n                mongoClient = new MongoClient(&quot;localhost&quot;, 27017);\r\n                MongoDatabase database = mongoClient.getDatabase(&quot;MongoDB&quot;);\r\n                \r\n                pojo.setId(&quot;1&quot;);\r\n                pojo.setName(&quot;ilkay&quot;);\r\n                pojo.setSurname(&quot;g&#252;nel&quot;);\r\n            \r\n                Document document = new Document();\r\n                document.put(&quot;person&quot;, pojo);\r\n            \r\n                database.getCollection(&quot;Records&quot;).insertOne(document);  \r\n            } catch (Exception e) {\r\n                System.err.println(&quot;Bir Hata Meydana Geldi!&quot;);\r\n                System.out.println(&quot;Hata&quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\nMy Pojo is this:\r\n\r\n    package io.github.ilkgunel.mongodb;\r\n    \r\n    public class Pojo {\r\n        String name;\r\n        String surname;\r\n        String id;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n    \r\n        public void setSurname(String surname) {\r\n            this.surname = surname;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        } \r\n    }\r\n\r\n","title":"MongoDB Java Inserting Throws org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class io.github.ilkgunel.mongodb.Pojo","body":"<p>I'm learning MongoDB with Java. I'm trying to insert data to MongoDB with Java driver. I'm doing inserting like in MongoDB tutorial and every thing is okey. But if I want to insert a variable and when I run the code, driver throws an error like this:</p>\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class io.github.ilkgunel.mongodb.Pojo.\n</code></pre>\n<p>I searhed questions in Stack Overflow like this but I couldn't understand anything and I cant't find anything to solve this error. My code is below. How can solve this problem?</p>\n<p>I'm using this code:</p>\n<pre><code>package io.github.ilkgunel.mongodb;\nimport org.bson.Document;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MongoDBBasicUsage {\n    public static void main(String[] args) {\n        MongoClient mongoClient;\n        try {\n            Pojo pojo = new Pojo();\n            mongoClient = new MongoClient(&quot;localhost&quot;, 27017);\n            MongoDatabase database = mongoClient.getDatabase(&quot;MongoDB&quot;);\n            \n            pojo.setId(&quot;1&quot;);\n            pojo.setName(&quot;ilkay&quot;);\n            pojo.setSurname(&quot;günel&quot;);\n        \n            Document document = new Document();\n            document.put(&quot;person&quot;, pojo);\n        \n            database.getCollection(&quot;Records&quot;).insertOne(document);  \n        } catch (Exception e) {\n            System.err.println(&quot;Bir Hata Meydana Geldi!&quot;);\n            System.out.println(&quot;Hata&quot; + e);\n        }\n    }\n}\n</code></pre>\n<p>My Pojo is this:</p>\n<pre><code>package io.github.ilkgunel.mongodb;\n\npublic class Pojo {\n    String name;\n    String surname;\n    String id;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    } \n}\n</code></pre>\n"},{"tags":["java","android","ssl"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1694780382,"post_id":77112283,"comment_id":135939689,"body_markdown":"Please show some code.","body":"Please show some code."},{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1694782821,"post_id":77112283,"comment_id":135940216,"body_markdown":"There no code t show. I am asking for advise","body":"There no code t show. I am asking for advise"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1694783590,"post_id":77112283,"comment_id":135940382,"body_markdown":"What you can try is to use the default jdk trusted certificates, android ca trusted certificates and also include the ssl certificate issued by Ionos. These two links will give you examples how to load them all: https://github.com/Hakky54/sslcontext-kickstart#loading-jdk-and-os-trusted-certificates and https://github.com/Hakky54/sslcontext-kickstart#using-der-files By the way this is my library... Please let me know if this works for you. The SSLFactory instance will give you a SSLSocketFactory","body":"What you can try is to use the default jdk trusted certificates, android ca trusted certificates and also include the ssl certificate issued by Ionos. These two links will give you examples how to load them all: <a href=\"https://github.com/Hakky54/sslcontext-kickstart#loading-jdk-and-os-trusted-certificates\" rel=\"nofollow noreferrer\">github.com/Hakky54/&hellip;</a> and <a href=\"https://github.com/Hakky54/sslcontext-kickstart#using-der-files\" rel=\"nofollow noreferrer\">github.com/Hakky54/sslcontext-kickstart#using-der-files</a> By the way this is my library... Please let me know if this works for you. The SSLFactory instance will give you a SSLSocketFactory"},{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1694789929,"post_id":77112283,"comment_id":135941756,"body_markdown":"Hi thanks for providing me with a library to do this. but how do I then connect the sslcontext to a websocket client","body":"Hi thanks for providing me with a library to do this. but how do I then connect the sslcontext to a websocket client"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1694795255,"post_id":77112283,"comment_id":135942761,"body_markdown":"@Ageis which websocket are you using?","body":"@Ageis which websocket are you using?"},{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1694810949,"post_id":77112283,"comment_id":135945238,"body_markdown":"WebSocketClient the org.java_websocket.client https://javadoc.io/doc/org.java-websocket/Java-WebSocket/latest/index.html","body":"WebSocketClient the org.java_websocket.client <a href=\"https://javadoc.io/doc/org.java-websocket/Java-WebSocket/latest/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.java-websocket/Java-WebSocket/latest/&hellip;</a>"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1694850320,"post_id":77112283,"comment_id":135947896,"body_markdown":"You can just do: `webSocketClient.setSocketFactory(sslfactory.getSslSocketFacktory())` can you give it a try and share your results here?","body":"You can just do: <code>webSocketClient.setSocketFactory(sslfactory.getSslSocketFack&zwnj;&#8203;tory())</code> can you give it a try and share your results here?"}],"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694780305,"creation_date":1694779984,"question_id":77112283,"body_markdown":"I am trying to create a keystore for my android app because I am guessing it doesn&#39;t trust the root ca for my Digi cert issued certificate. It&#39;s a real ssl certificate issued by Ionos but the root ca is digi cert.\r\n\r\nI am using web sockets in my android app and I get this error enter \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nso I am trying to create a custom SSLSocketFactory that uses the built-in certificate KeyStore, but falls back on an alternate KeyStore for anything that fails to verify with the default.\r\nAfter some research, I came across this stack overflow https://stackoverflow.com/questions/6825226/trust-anchor-not-found-for-android-ssl-connection which mensions bks keystore however according to this video https://www.youtube.com/watch?v=iB41HWOhVnc bks keystores arent considered secure anymore.\r\n\r\nso what is the recommended method nowadays? I will require full instructions as I am absolutely clueless. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uSayD.png","title":"recommend way of resolving Trust Anchor not found for Android SSL Connection","body":"<p>I am trying to create a keystore for my android app because I am guessing it doesn't trust the root ca for my Digi cert issued certificate. It's a real ssl certificate issued by Ionos but the root ca is digi cert.</p>\n<p>I am using web sockets in my android app and I get this error enter</p>\n<p><a href=\"https://i.stack.imgur.com/uSayD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSayD.png\" alt=\"enter image description here\" /></a></p>\n<p>so I am trying to create a custom SSLSocketFactory that uses the built-in certificate KeyStore, but falls back on an alternate KeyStore for anything that fails to verify with the default.\nAfter some research, I came across this stack overflow <a href=\"https://stackoverflow.com/questions/6825226/trust-anchor-not-found-for-android-ssl-connection\">Trust Anchor not found for Android SSL Connection</a> which mensions bks keystore however according to this video <a href=\"https://www.youtube.com/watch?v=iB41HWOhVnc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=iB41HWOhVnc</a> bks keystores arent considered secure anymore.</p>\n<p>so what is the recommended method nowadays? I will require full instructions as I am absolutely clueless. Thanks in advance.</p>\n"},{"tags":["java","gradle","kotlin","junit5","gradle-kotlin-dsl"],"answers":[{"comments":[{"owner":{"account_id":5648336,"reputation":1414,"user_id":4469745,"accept_rate":43,"display_name":"xiang"},"score":0,"creation_date":1526297980,"post_id":50326943,"comment_id":87674681,"body_markdown":"Thank you very much. Is there any doc about `tasks.withType&lt;Test&gt;`?","body":"Thank you very much. Is there any doc about <code>tasks.withType&lt;Test&gt;</code>?"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1526304178,"post_id":50326943,"comment_id":87678762,"body_markdown":"Documentation for the Kotlin DSL is in progress and will be ready for the 1.0 release. Currently, your best bet is to look for existing projects that use it and check out the sample projects: https://github.com/gradle/kotlin-dsl/tree/master/samples","body":"Documentation for the Kotlin DSL is in progress and will be ready for the 1.0 release. Currently, your best bet is to look for existing projects that use it and check out the sample projects: <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/tree/master/samples</a>"}],"tags":[],"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1578661304,"creation_date":1526289621,"answer_id":50326943,"question_id":50324092,"body_markdown":"There&#39;s [documentation][1] and a [sample project][2] for using Gradle and JUnit 5.\r\n\r\nIf you want to use the Kotlin DSL you&#39;ll have to adapt it in the following way:\r\n\r\n    tasks.withType&lt;Test&gt;().configureEach {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nFor Jigsaw, Gradle provides [experimental support][3] and there&#39;s a [fork of the plugin][4] that provides additional features.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\r\n  [2]: https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-gradle\r\n  [3]: https://guides.gradle.org/building-java-9-modules/\r\n  [4]: https://github.com/zyxist/chainsaw","title":"How to use JUnit 5 with build.gradle.kts and Kotlin?","body":"<p>There's <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\" rel=\"noreferrer\">documentation</a> and a <a href=\"https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-gradle\" rel=\"noreferrer\">sample project</a> for using Gradle and JUnit 5.</p>\n\n<p>If you want to use the Kotlin DSL you'll have to adapt it in the following way:</p>\n\n<pre><code>tasks.withType&lt;Test&gt;().configureEach {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>For Jigsaw, Gradle provides <a href=\"https://guides.gradle.org/building-java-9-modules/\" rel=\"noreferrer\">experimental support</a> and there's a <a href=\"https://github.com/zyxist/chainsaw\" rel=\"noreferrer\">fork of the plugin</a> that provides additional features.</p>\n"},{"tags":[],"owner":{"account_id":3771097,"reputation":2695,"user_id":3133286,"accept_rate":86,"display_name":"ordonezalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548974402,"creation_date":1548974402,"answer_id":54470276,"question_id":50324092,"body_markdown":"Marc Philipp&#39;s answer works. Here is another approach:\r\n\r\n    val test: Test by tasks\r\n    test.useJUnitPlatform()","title":"How to use JUnit 5 with build.gradle.kts and Kotlin?","body":"<p>Marc Philipp's answer works. Here is another approach:</p>\n\n<pre><code>val test: Test by tasks\ntest.useJUnitPlatform()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694780170,"creation_date":1694780170,"answer_id":77112302,"question_id":50324092,"body_markdown":"A little more complete answer:\r\n\r\n```kotlin\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform() // Enables JUnit Platform (JUnit 5 + JUnit 4)\r\n}\r\n\r\ndependencies {\r\n    // Aggregator dependency that also brings JUnit 5 parameterized tests etc.\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.10.0&quot;)\r\n    // Include the Vintage engine to be able to run JUnit 4 tests as well\r\n    // testImplementation(&quot;org.junit.vintage:junit-vintage-engine:5.10.0&quot;)\r\n}\r\n```","title":"How to use JUnit 5 with build.gradle.kts and Kotlin?","body":"<p>A little more complete answer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Test&gt; {\n    useJUnitPlatform() // Enables JUnit Platform (JUnit 5 + JUnit 4)\n}\n\ndependencies {\n    // Aggregator dependency that also brings JUnit 5 parameterized tests etc.\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.10.0&quot;)\n    // Include the Vintage engine to be able to run JUnit 4 tests as well\n    // testImplementation(&quot;org.junit.vintage:junit-vintage-engine:5.10.0&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5648336,"reputation":1414,"user_id":4469745,"accept_rate":43,"display_name":"xiang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4845,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":50326943,"answer_count":3,"score":14,"last_activity_date":1694780223,"creation_date":1526278796,"question_id":50324092,"body_markdown":"* Java version:    `java 10.0.1 2018-04-17`\r\n* Kotlin version:  `1.2.41`\r\n* Gradle version:  `4.7`\r\n\r\nIt will be even better if we could use **jigsaw module system**.\r\n","title":"How to use JUnit 5 with build.gradle.kts and Kotlin?","body":"<ul>\n<li>Java version:    <code>java 10.0.1 2018-04-17</code></li>\n<li>Kotlin version:  <code>1.2.41</code></li>\n<li>Gradle version:  <code>4.7</code></li>\n</ul>\n<p>It will be even better if we could use <strong>jigsaw module system</strong>.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"score":0,"creation_date":1694776546,"post_id":77111796,"comment_id":135938992,"body_markdown":"which spring boot version are you using?","body":"which spring boot version are you using?"},{"owner":{"account_id":25127622,"reputation":1,"user_id":18975254,"display_name":"MintedFairy"},"score":0,"creation_date":1694776963,"post_id":77111796,"comment_id":135939037,"body_markdown":"@VipulKumar I am using version 3.1.3","body":"@VipulKumar I am using version 3.1.3"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694777667,"post_id":77111796,"comment_id":135939165,"body_markdown":"all should work without any problem, can you also show how you are doing request of Authentication ?","body":"all should work without any problem, can you also show how you are doing request of Authentication ?"},{"owner":{"account_id":25127622,"reputation":1,"user_id":18975254,"display_name":"MintedFairy"},"score":0,"creation_date":1694777972,"post_id":77111796,"comment_id":135939231,"body_markdown":"@AndreiLisa sorry what do you mean please? I am just going to localhost:8080 on my browser and logging in when I am redirected to http://localhost:8080/login. Did you mean show some other part of my code?","body":"@AndreiLisa sorry what do you mean please? I am just going to localhost:8080 on my browser and logging in when I am redirected to <a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">localhost:8080/login</a>. Did you mean show some other part of my code?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694778069,"post_id":77111796,"comment_id":135939254,"body_markdown":"because i tried you code and all work well, authentication is passing","body":"because i tried you code and all work well, authentication is passing"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1694778216,"post_id":77111796,"comment_id":135939275,"body_markdown":"if you are seeing an auto generated password in the logs, means that your security configuration is not picked up by Spring Security, which means that spring is using the default security configuration. Your configuration file needs to be placed either in the root package next to file containing the main function, or in a package, beneath the file that contains the main function.","body":"if you are seeing an auto generated password in the logs, means that your security configuration is not picked up by Spring Security, which means that spring is using the default security configuration. Your configuration file needs to be placed either in the root package next to file containing the main function, or in a package, beneath the file that contains the main function."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694778232,"post_id":77111796,"comment_id":135939279,"body_markdown":"by the way into `securityFilterChain` also add `.formLogin(Customizer.withDefaults())`","body":"by the way into <code>securityFilterChain</code> also add <code>.formLogin(Customizer.withDefaults())</code>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694778313,"post_id":77111796,"comment_id":135939300,"body_markdown":"also @Toerktumlare wrote a good point, check your package structure.","body":"also @Toerktumlare wrote a good point, check your package structure."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1694778375,"post_id":77111796,"comment_id":135939310,"body_markdown":"@AndreiLisa it depends on what he is going for, if he wants basic login, he wants basic, if he wants form he wants form. If he is using basic login, he should get a web browser popup that asks him to insert his credentials. What he should remove is what says his application should be STATELESS, because otherwise he will need to login multiple times.","body":"@AndreiLisa it depends on what he is going for, if he wants basic login, he wants basic, if he wants form he wants form. If he is using basic login, he should get a web browser popup that asks him to insert his credentials. What he should remove is what says his application should be STATELESS, because otherwise he will need to login multiple times."},{"owner":{"account_id":25127622,"reputation":1,"user_id":18975254,"display_name":"MintedFairy"},"score":1,"creation_date":1694778771,"post_id":77111796,"comment_id":135939393,"body_markdown":"@Toerktumlare OMG thank you! i moved my config package into the same package containing the main function and it worked! Thank you so much!! (also I&#39;m a she lol :D )","body":"@Toerktumlare OMG thank you! i moved my config package into the same package containing the main function and it worked! Thank you so much!! (also I&#39;m a she lol :D )"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1694779497,"post_id":77111796,"comment_id":135939520,"body_markdown":"i apologize for assuming your gender, that was my bad. Remember to remove the line saying stateless. If you have that, the server will not remember you between requests after you have logged in.","body":"i apologize for assuming your gender, that was my bad. Remember to remove the line saying stateless. If you have that, the server will not remember you between requests after you have logged in."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694780055,"creation_date":1694780055,"answer_id":77112290,"question_id":77111796,"body_markdown":"When creating a custom explicit security configuration, the `@SpringBootApplication` on the main function means that spring will search for spring beans and configuration classes recursively from the location of the file that contains the main function.\r\n\r\nIn the question it was pointed out that she could see a default password generated in the spring security logs.\r\n\r\nThis means that Spring Security is using its [default configuration][1] and any defined custom security has not been found by spring security.\r\n\r\nThis also probably means that the security configuration is not placed in either the same package, or a subpackage beneath the class/file that contains the main function.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/getting-started.html#servlet-hello-starting","title":"Bad Credentials Error when using InMemoryUserDetailsManager","body":"<p>When creating a custom explicit security configuration, the <code>@SpringBootApplication</code> on the main function means that spring will search for spring beans and configuration classes recursively from the location of the file that contains the main function.</p>\n<p>In the question it was pointed out that she could see a default password generated in the spring security logs.</p>\n<p>This means that Spring Security is using its <a href=\"https://docs.spring.io/spring-security/reference/servlet/getting-started.html#servlet-hello-starting\" rel=\"nofollow noreferrer\">default configuration</a> and any defined custom security has not been found by spring security.</p>\n<p>This also probably means that the security configuration is not placed in either the same package, or a subpackage beneath the class/file that contains the main function.</p>\n"}],"owner":{"account_id":25127622,"reputation":1,"user_id":18975254,"display_name":"MintedFairy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694780055,"creation_date":1694775613,"question_id":77111796,"body_markdown":"I am new to Spring and have been following a Spring Security JWT tutorial by Dan Vega. It&#39;s been going ok but I keep having an issue with the following code. Whenever I go to localhost and try to login with the credentials below. I keep getting a bad credentials error, but when I login with &#39;user&#39; and the auto-generated password I am able to login just fine. I don&#39;t know if i&#39;m missing something crucial and just unable to see it. Can anyone help me please. \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeRequests( auth -&gt; auth\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .httpBasic(Customizer.withDefaults())\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager users() {\r\n        return new InMemoryUserDetailsManager(\r\n                User.withUsername(&quot;myname&quot;)\r\n                        .password(&quot;{noop}password&quot;)\r\n                        .authorities(&quot;read&quot;)\r\n                        .build()\r\n        );\r\n    }\r\n\r\n}```\r\n\r\n\r\nI have even tried refactoring it as so but even that hasn&#39;t helped the issue...\r\n```\r\n    @Bean\r\n    public UserDetailsService users() {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;{noop}password&quot;)\r\n                .roles(&quot;ADMIN&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n```\r\n","title":"Bad Credentials Error when using InMemoryUserDetailsManager","body":"<p>I am new to Spring and have been following a Spring Security JWT tutorial by Dan Vega. It's been going ok but I keep having an issue with the following code. Whenever I go to localhost and try to login with the credentials below. I keep getting a bad credentials error, but when I login with 'user' and the auto-generated password I am able to login just fine. I don't know if i'm missing something crucial and just unable to see it. Can anyone help me please.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeRequests( auth -&gt; auth\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(Customizer.withDefaults())\n                .build();\n    }\n\n\n    @Bean\n    public InMemoryUserDetailsManager users() {\n        return new InMemoryUserDetailsManager(\n                User.withUsername(&quot;myname&quot;)\n                        .password(&quot;{noop}password&quot;)\n                        .authorities(&quot;read&quot;)\n                        .build()\n        );\n    }\n\n}```\n\n\nI have even tried refactoring it as so but even that hasn't helped the issue...\n</code></pre>\n<pre><code>@Bean\npublic UserDetailsService users() {\n    UserDetails user = User.builder()\n            .username(&quot;admin&quot;)\n            .password(&quot;{noop}password&quot;)\n            .roles(&quot;ADMIN&quot;)\n            .build();\n    return new InMemoryUserDetailsManager(user);\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":4923916,"reputation":91,"user_id":3965719,"display_name":"Ollie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539885956,"creation_date":1539885956,"answer_id":52880047,"question_id":52863139,"body_markdown":"I found the answer in [another post](https://stackoverflow.com/questions/38081242/how-can-i-force-spring-saml-to-reread-my-idp-metadata)\r\n\r\nAs I am currently using an XML config file, I modified the security context XML to set the Credential Resolver as follows:\r\n\r\n    &lt;!-- Provider of default SAML Context --&gt;\r\n    &lt;bean id=&quot;contextProvider&quot; class=&quot;org.springframework.security.saml.context.SAMLContextProviderImpl&quot;&gt;\r\n      &lt;property name=&quot;metadataResolver&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;com.mydomain.CustomMetadataCredentialResolver&quot;&gt;\r\n    \t\t\t\t&lt;constructor-arg index=&quot;0&quot; ref=&quot;metadata&quot; /&gt;\r\n    \t\t\t\t&lt;constructor-arg index=&quot;1&quot; ref=&quot;keyManager&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;useXmlMetadata&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n      &lt;/property&gt; \r\n    &lt;/bean&gt;\r\n\r\n\r\nI then created a class that extends `org.springframework.security.saml.trust.MetadataCredentialResolver`\r\n\r\nFor now, I simply override the cacheCredentials method:\r\n\r\n    @Component\r\n    public class CustomMetadataCredentialResolver extends MetadataCredentialResolver {\r\n    \r\n      public CustomMetadataCredentialResolver(MetadataManager metadataProvider, KeyManager keyManager) {\r\n        super(metadataProvider, keyManager);\r\n      }\r\n    \r\n      @Override\r\n      protected void cacheCredentials( MetadataCacheKey cacheKey, Collection&lt;Credential&gt; credentials ) {\r\n        //no-op\r\n      }\r\n    }\r\n\r\n\r\nI&#39;ll likely clean this up to clear the cache on command rather than never caching the credentials, but for now it works.","title":"Spring SAML: updating Metadata Provider does not update signing certificates used","body":"<p>I found the answer in <a href=\"https://stackoverflow.com/questions/38081242/how-can-i-force-spring-saml-to-reread-my-idp-metadata\">another post</a></p>\n\n<p>As I am currently using an XML config file, I modified the security context XML to set the Credential Resolver as follows:</p>\n\n<pre><code>&lt;!-- Provider of default SAML Context --&gt;\n&lt;bean id=\"contextProvider\" class=\"org.springframework.security.saml.context.SAMLContextProviderImpl\"&gt;\n  &lt;property name=\"metadataResolver\"&gt;\n            &lt;bean class=\"com.mydomain.CustomMetadataCredentialResolver\"&gt;\n                &lt;constructor-arg index=\"0\" ref=\"metadata\" /&gt;\n                &lt;constructor-arg index=\"1\" ref=\"keyManager\" /&gt;\n                &lt;property name=\"useXmlMetadata\" value=\"true\" /&gt;\n            &lt;/bean&gt;\n  &lt;/property&gt; \n&lt;/bean&gt;\n</code></pre>\n\n<p>I then created a class that extends <code>org.springframework.security.saml.trust.MetadataCredentialResolver</code></p>\n\n<p>For now, I simply override the cacheCredentials method:</p>\n\n<pre><code>@Component\npublic class CustomMetadataCredentialResolver extends MetadataCredentialResolver {\n\n  public CustomMetadataCredentialResolver(MetadataManager metadataProvider, KeyManager keyManager) {\n    super(metadataProvider, keyManager);\n  }\n\n  @Override\n  protected void cacheCredentials( MetadataCacheKey cacheKey, Collection&lt;Credential&gt; credentials ) {\n    //no-op\n  }\n}\n</code></pre>\n\n<p>I'll likely clean this up to clear the cache on command rather than never caching the credentials, but for now it works.</p>\n"}],"owner":{"account_id":4923916,"reputation":91,"user_id":3965719,"display_name":"Ollie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2373,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694779991,"creation_date":1539808263,"question_id":52863139,"body_markdown":"I&#39;ve recently implemented a Spring SAML solution which allows customers to register their IdP Metadata with a service and use their SAML authentication to access my SP.\r\n\r\nThe IdP Metadata is stored as a Database entry as part of a custom AbstractReloadingMetadataProvider implementation, as suggested [here](https://stackoverflow.com/questions/42906985/spring-saml-reading-and-refreshing-idp-metadata-at-runtime)  :\r\n\r\n\r\n----------\r\n\r\n```java\r\npublic class DbIdpMetadataProvider extends AbstractReloadingMetadataProvider {\r\n...\r\n  @Override\r\n  protected byte[] fetchMetadata() throws MetadataProviderException {\r\n  IdpProviderData provider  = null; // DAO of IdP metadata in DB\r\n\r\n  try {\r\n\r\n    log.info(&quot;Attempting to retrieve DB provider data for entity: &quot; + entityId);\r\n\r\n    provider = dbService.getIdpByEntityId(entityId);\r\n\r\n    // verify that we have a provider\r\n    if ( null != provider) {\r\n\r\n      // get last update time recorded in DB\r\n      DateTime lastUpdate = getLastUpdate();\r\n\r\n      log.info(&quot;Performing refresh of Metadata Provider XML by reading from database&quot;);\r\n\r\n\r\n      String metadataBody = provider.getMetadataBody();\r\n      emitChangeEvent();\r\n      return metadataBody.getBytes();\r\n    }\r\n\r\n\r\n    // if no provider, throw an exception as this metadata provider instance is invalid\r\n    else {\r\n      log.error(&quot;IdP Provider could not be found for EntityId: &quot; + entityId );\r\n      throw new MetadataProviderException(&quot;Metadata could not be found for String entity: &quot; + entityId);\r\n    }\r\n\r\n  }\r\n  catch(Exception e) {\r\n    log.error(&quot;Failed to query database for provider entity: &quot; + entityId);\r\n    throw new MetadataProviderException(&quot;Failed to query database for provider entity: &quot; + entityId, e);\r\n  }\r\n\r\n}\r\n```\r\n\r\n----------\r\n\r\nWhen the metadata is updated, I save the metadata XML to the database and remove the previous instance of the Metadata Provider from the CachingMetadataManager. I then import the Certificates from the metadata to a local keystore and add a new metadata provider instance to the CachingMetadataManager:\r\n\r\n```java\r\n@Autowired\r\nprivate MetadataManager       metadataManager;\r\n\r\n...\r\n\r\n/**\r\n * Update our existing IdP metadata provider with new XML and other information\r\n */\r\npublic void updateIdpMetadata(IdPRegistrationData _data) throws RequiredDataException, NotFoundException, SystemException {\r\n  IdpProviderData           provider;\r\n  XMLObject                 xml;\r\n  String                    metadataXml;\r\n  EntityDescriptor          entity;\r\n  String                    entityId;\r\n\r\n  try {\r\n    \r\n    // validation\r\n    validateIdpRegistrationData(_data);\r\n\r\n    //ensure our top level DOM element is the IDPSSO entity descriptor, removing all other metadata\r\n    xml         = parseMetadataXml(_data.getMetadataXml());\r\n    entity      = getIDPSSOParentEntityDescriptor(xml);\r\n    entityId    = entity.getEntityID();\r\n    metadataXml = serialize(entity);\r\n    \r\n    // get our provider Data\r\n    provider    = getIdpByAccountSysid(_data.getAccountSysid());\r\n    \r\n    if ( null == provider) {\r\n      throw new NotFoundException(NotFoundExceptionType.ACCOUNT);\r\n    }\r\n    \r\n    // update our provider\r\n    provider.setEntityId(entityId);\r\n    provider.setMetadataBody(metadataXml);\r\n    \r\n    // save data in database\r\n    metadataStoreDao.saveAndFlush(provider);\r\n    keystoreMgr.importMetadataCertificates(xml, provider.getUrlContext());\r\n    \r\n    // remove existing provider from metadata store\r\n    removeDelegateFromManager(entityId);\r\n    \r\n    // reintroduce delegate to manager\r\n    loadIdpMetadata(provider);\r\n         \r\n  }\r\n  catch(NotFoundException e) {\r\n    log.error(&quot;No previous version of IDP registration metadata found to update.&quot;,e);\r\n    throw (e);\r\n  }\r\n  catch (MetadataProviderException e){\r\n    log.error(&quot;Failed to update Keystore and Signing algorithm of IdP Metadata.&quot;,e);\r\n    throw new SystemException(&quot;Failed to update certificates.&quot;);\r\n  }\r\n  catch(RequiredDataException e) {\r\n    log.error(&quot;Missing required data for update.&quot;,e);\r\n    throw(e);\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Remove the metadata provider from our manager\r\n */\r\nprivate void removeDelegateFromManager( String _entityId ) throws MetadataProviderException {\r\n  ExtendedMetadataDelegate  delegate;\r\n  DbIdpMetadataProvider     provider;\r\n  \r\n  delegate  = findMetadataDelegate(_entityId);\r\n  \r\n  if( null == delegate){\r\n    log.error(&quot;Failed to find Delegate in metadata manager for Entity ID: &quot; + _entityId );\r\n    return;\r\n  }\r\n  \r\n  metadataManager.removeMetadataProvider(delegate);\r\n  provider = (DbIdpMetadataProvider)delegate.getDelegate();\r\n  provider.destroy();\r\n  metadataManager.setRefreshRequired(true);\r\n  metadataManager.refreshMetadata();\r\n\r\n}    \r\n\r\n/**\r\n * load our provider data to a metadata provider object\r\n */\r\nprivate void loadIdpMetadata(IdpProviderData _providerData) throws MetadataProviderException {\r\n  DbIdpMetadataProvider idpProvider;\r\n\r\n  // initialize our IdP provider\r\n  idpProvider     = new DbIdpMetadataProvider(_providerData);\r\n  idpProvider.setParserPool(parser);\r\n  addIdpToMetadataManager(idpProvider);\r\n\r\n}\r\n\r\n/**\r\n * Add the metadata provider to our cache\r\n */\r\nprivate void addIdpToMetadataManager(DbIdpMetadataProvider _provider) throws MetadataProviderException {\r\n  ExtendedMetadataDelegate  delegate;\r\n  ExtendedMetadata          extMeta = new ExtendedMetadata();\r\n  \r\n  // initialize our provider\r\n  _provider.initialize();\r\n  \r\n  extMeta     = createExtendedMetadata(_provider);\r\n\r\n  delegate    = new ExtendedMetadataDelegate(_provider, extMeta);\r\n  delegate.setMetadataTrustCheck(false);\r\n  delegate.initialize();\r\n  \r\n  metadataManager.addMetadataProvider(delegate);\r\n  metadataManager.setRefreshRequired(true);\r\n  metadataManager.refreshMetadata();\r\n}\r\n```    \r\n\r\nThe problem is that when a database entry is refreshed, the new signing certificate defined in the &lt;ds:X509Certificate&gt; element in the IdP metadata is not applied.\r\n\r\nI can see the new certificate when I print out the Metadata XML:\r\n\r\n----------\r\n```xml\r\n&lt;!--  new signing key  --&gt;\r\n&lt;IDPSSODescriptor protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n    &lt;KeyDescriptor use=&quot;encryption&quot;&gt;\r\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;X509Data&gt;\r\n                &lt;X509Certificate&gt;MIIC4jCCAcqgAwIBAgIQafZAY7...&lt;/X509Certificate&gt;\r\n            &lt;/X509Data&gt;\r\n        &lt;/KeyInfo&gt;\r\n    &lt;/KeyDescriptor&gt;\r\n    &lt;KeyDescriptor use=&quot;signing&quot;&gt;\r\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;X509Data&gt;\r\n                &lt;X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQeny6jM...&lt;/X509Certificate&gt;\r\n            &lt;/X509Data&gt;\r\n        &lt;/KeyInfo&gt;\r\n    &lt;/KeyDescriptor&gt;\r\n    &lt;KeyDescriptor use=&quot;signing&quot;&gt;\r\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;X509Data&gt;\r\n                &lt;X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQRtno3W...&lt;/X509Certificate&gt;\r\n            &lt;/X509Data&gt;\r\n        &lt;/KeyInfo&gt;\r\n    &lt;/KeyDescriptor&gt;\r\n```\r\n----------\r\n        \r\nI receive a SUCCESS SAML response from my IdP at time of SP initiated sign on:\r\n\r\n----------\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; Consent=&quot;urn:oasis:names:tc:SAML:2.0:consent:unspecified&quot; Destination=&quot;https://{my-domain}:443/eas-saml/saml/SSO&quot; ID=&quot;_0d023fb8-bf24-4b78-b690-c9b53df4db72&quot; InResponseTo=&quot;a22h6bb0gf2e8f314e00316b198ddg1&quot; IssueInstant=&quot;2018-10-17T18:31:47.332Z&quot; Version=&quot;2.0&quot;&gt;\r\n   &lt;Issuer xmlns=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;http://{my-domain}/adfs/services/trust&lt;/Issuer&gt;\r\n   &lt;samlp:Status&gt;\r\n      &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\r\n   &lt;/samlp:Status&gt;\r\n   &lt;Assertion xmlns=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_317d062d-247e-4405-9dd8-0ef3d032bf3f&quot; IssueInstant=&quot;2018-10-17T18:31:47.332Z&quot; Version=&quot;2.0&quot;&gt;\r\n      &lt;Issuer&gt;http://{my-domain}/adfs/services/trust&lt;/Issuer&gt;\r\n      &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n         &lt;ds:SignedInfo&gt;\r\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\r\n            &lt;ds:Reference URI=&quot;#_8049000b-6e76-416c-84aa-180d61ca359a&quot;&gt;\r\n               &lt;ds:Transforms&gt;\r\n                  &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n                  &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n               &lt;/ds:Transforms&gt;\r\n               &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n               &lt;ds:DigestValue&gt;x/PKyqXDECmE2IBNiZ0pqet3HqQYgDwlbeo1Vb3gXD8=&lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n         &lt;/ds:SignedInfo&gt;\r\n         &lt;ds:SignatureValue&gt;UvhpsDE7XT1uvqGbA+IZ2sC9t8x0i42/P7tdNXO...&lt;/ds:SignatureValue&gt;\r\n         &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n            &lt;ds:X509Data&gt;\r\n               &lt;ds:X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQRtno3W...&lt;/ds:X509Certificate&gt;\r\n            &lt;/ds:X509Data&gt;\r\n         &lt;/KeyInfo&gt;\r\n      &lt;/ds:Signature&gt;\r\n      &lt;Subject&gt;\r\n         &lt;NameID Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;userId&lt;/NameID&gt;\r\n         &lt;SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\r\n            &lt;SubjectConfirmationData InResponseTo=&quot;a22h6bb0gf2e8f314e00316b198ddg1&quot; NotOnOrAfter=&quot;2018-10-17T18:36:47.332Z&quot; Recipient=&quot;https://{my-domain}:443/eas-saml/saml/SSO&quot;/&gt;\r\n         &lt;/SubjectConfirmation&gt;\r\n      &lt;/Subject&gt;\r\n      &lt;Conditions NotBefore=&quot;2018-10-17T18:31:47.327Z&quot; NotOnOrAfter=&quot;2018-10-17T18:33:47.327Z&quot;&gt;\r\n         &lt;AudienceRestriction&gt;\r\n            &lt;Audience&gt;https://{my-domain}/eas-saml&lt;/Audience&gt;\r\n         &lt;/AudienceRestriction&gt;\r\n      &lt;/Conditions&gt;\r\n      &lt;AttributeStatement&gt;\r\n         &lt;Attribute Name=&quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn&quot;&gt;\r\n            &lt;AttributeValue&gt;userId&lt;/AttributeValue&gt;\r\n         &lt;/Attribute&gt;\r\n         &lt;Attribute Name=&quot;http://E-Mail-Addresses&quot;&gt;\r\n            &lt;AttributeValue&gt;user@domain.com&lt;/AttributeValue&gt;\r\n         &lt;/Attribute&gt;\r\n      &lt;/AttributeStatement&gt;\r\n      &lt;AuthnStatement AuthnInstant=&quot;2018-10-17T18:31:47.233Z&quot; SessionIndex=&quot;_317d062d-247e-4405-9dd8-0ef3d032bf3f&quot;&gt;\r\n         &lt;AuthnContext&gt;\r\n            &lt;AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/AuthnContextClassRef&gt;\r\n         &lt;/AuthnContext&gt;\r\n      &lt;/AuthnStatement&gt;\r\n   &lt;/Assertion&gt;\r\n&lt;/samlp:Response&gt;\r\n\r\n----------\r\n\r\nWhere as the log output shows a failure with the following stack trace:\r\n\r\n----------\r\n&lt;pre&gt;\r\n    2018-10-17 18:31:47 INFO  SAMLDefaultLogger:129 - AuthNResponse;FAILURE;172.17.0.1;https://{my-domain}/eas-saml;http://{my-domain}/adfs/services/trust;;;org.opensaml.common.SAMLException: Response doesn&#39;t have any valid assertion which would pass subject validation\r\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:229)\r\n      at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\r\n      at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)\r\n      at org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\r\n      at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    Caused by: org.opensaml.xml.validation.ValidationException: Signature is not trusted or invalid\r\n      at org.springframework.security.saml.websso.AbstractProfileBase.verifySignature(AbstractProfileBase.java:272)\r\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertionSignature(WebSSOProfileConsumerImpl.java:419)\r\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:292)\r\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:214)\r\n      ... 39 more\r\n&lt;/pre&gt;\r\n----------\r\n\r\nIf I restart the service, the signature is recognized and the response is successfully processed.\r\n\r\nCan anyone see what I may be doing wrong? Shouldn&#39;t a refresh of the metadata manager be enough to allow the new certificates be used? Or is there a step I&#39;m missing?\r\n","title":"Spring SAML: updating Metadata Provider does not update signing certificates used","body":"<p>I've recently implemented a Spring SAML solution which allows customers to register their IdP Metadata with a service and use their SAML authentication to access my SP.</p>\n<p>The IdP Metadata is stored as a Database entry as part of a custom AbstractReloadingMetadataProvider implementation, as suggested <a href=\"https://stackoverflow.com/questions/42906985/spring-saml-reading-and-refreshing-idp-metadata-at-runtime\">here</a>  :</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class DbIdpMetadataProvider extends AbstractReloadingMetadataProvider {\n...\n  @Override\n  protected byte[] fetchMetadata() throws MetadataProviderException {\n  IdpProviderData provider  = null; // DAO of IdP metadata in DB\n\n  try {\n\n    log.info(&quot;Attempting to retrieve DB provider data for entity: &quot; + entityId);\n\n    provider = dbService.getIdpByEntityId(entityId);\n\n    // verify that we have a provider\n    if ( null != provider) {\n\n      // get last update time recorded in DB\n      DateTime lastUpdate = getLastUpdate();\n\n      log.info(&quot;Performing refresh of Metadata Provider XML by reading from database&quot;);\n\n\n      String metadataBody = provider.getMetadataBody();\n      emitChangeEvent();\n      return metadataBody.getBytes();\n    }\n\n\n    // if no provider, throw an exception as this metadata provider instance is invalid\n    else {\n      log.error(&quot;IdP Provider could not be found for EntityId: &quot; + entityId );\n      throw new MetadataProviderException(&quot;Metadata could not be found for String entity: &quot; + entityId);\n    }\n\n  }\n  catch(Exception e) {\n    log.error(&quot;Failed to query database for provider entity: &quot; + entityId);\n    throw new MetadataProviderException(&quot;Failed to query database for provider entity: &quot; + entityId, e);\n  }\n\n}\n</code></pre>\n<hr />\n<p>When the metadata is updated, I save the metadata XML to the database and remove the previous instance of the Metadata Provider from the CachingMetadataManager. I then import the Certificates from the metadata to a local keystore and add a new metadata provider instance to the CachingMetadataManager:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate MetadataManager       metadataManager;\n\n...\n\n/**\n * Update our existing IdP metadata provider with new XML and other information\n */\npublic void updateIdpMetadata(IdPRegistrationData _data) throws RequiredDataException, NotFoundException, SystemException {\n  IdpProviderData           provider;\n  XMLObject                 xml;\n  String                    metadataXml;\n  EntityDescriptor          entity;\n  String                    entityId;\n\n  try {\n    \n    // validation\n    validateIdpRegistrationData(_data);\n\n    //ensure our top level DOM element is the IDPSSO entity descriptor, removing all other metadata\n    xml         = parseMetadataXml(_data.getMetadataXml());\n    entity      = getIDPSSOParentEntityDescriptor(xml);\n    entityId    = entity.getEntityID();\n    metadataXml = serialize(entity);\n    \n    // get our provider Data\n    provider    = getIdpByAccountSysid(_data.getAccountSysid());\n    \n    if ( null == provider) {\n      throw new NotFoundException(NotFoundExceptionType.ACCOUNT);\n    }\n    \n    // update our provider\n    provider.setEntityId(entityId);\n    provider.setMetadataBody(metadataXml);\n    \n    // save data in database\n    metadataStoreDao.saveAndFlush(provider);\n    keystoreMgr.importMetadataCertificates(xml, provider.getUrlContext());\n    \n    // remove existing provider from metadata store\n    removeDelegateFromManager(entityId);\n    \n    // reintroduce delegate to manager\n    loadIdpMetadata(provider);\n         \n  }\n  catch(NotFoundException e) {\n    log.error(&quot;No previous version of IDP registration metadata found to update.&quot;,e);\n    throw (e);\n  }\n  catch (MetadataProviderException e){\n    log.error(&quot;Failed to update Keystore and Signing algorithm of IdP Metadata.&quot;,e);\n    throw new SystemException(&quot;Failed to update certificates.&quot;);\n  }\n  catch(RequiredDataException e) {\n    log.error(&quot;Missing required data for update.&quot;,e);\n    throw(e);\n  }\n\n}\n\n/**\n * Remove the metadata provider from our manager\n */\nprivate void removeDelegateFromManager( String _entityId ) throws MetadataProviderException {\n  ExtendedMetadataDelegate  delegate;\n  DbIdpMetadataProvider     provider;\n  \n  delegate  = findMetadataDelegate(_entityId);\n  \n  if( null == delegate){\n    log.error(&quot;Failed to find Delegate in metadata manager for Entity ID: &quot; + _entityId );\n    return;\n  }\n  \n  metadataManager.removeMetadataProvider(delegate);\n  provider = (DbIdpMetadataProvider)delegate.getDelegate();\n  provider.destroy();\n  metadataManager.setRefreshRequired(true);\n  metadataManager.refreshMetadata();\n\n}    \n\n/**\n * load our provider data to a metadata provider object\n */\nprivate void loadIdpMetadata(IdpProviderData _providerData) throws MetadataProviderException {\n  DbIdpMetadataProvider idpProvider;\n\n  // initialize our IdP provider\n  idpProvider     = new DbIdpMetadataProvider(_providerData);\n  idpProvider.setParserPool(parser);\n  addIdpToMetadataManager(idpProvider);\n\n}\n\n/**\n * Add the metadata provider to our cache\n */\nprivate void addIdpToMetadataManager(DbIdpMetadataProvider _provider) throws MetadataProviderException {\n  ExtendedMetadataDelegate  delegate;\n  ExtendedMetadata          extMeta = new ExtendedMetadata();\n  \n  // initialize our provider\n  _provider.initialize();\n  \n  extMeta     = createExtendedMetadata(_provider);\n\n  delegate    = new ExtendedMetadataDelegate(_provider, extMeta);\n  delegate.setMetadataTrustCheck(false);\n  delegate.initialize();\n  \n  metadataManager.addMetadataProvider(delegate);\n  metadataManager.setRefreshRequired(true);\n  metadataManager.refreshMetadata();\n}\n</code></pre>\n<p>The problem is that when a database entry is refreshed, the new signing certificate defined in the &lt;ds:X509Certificate&gt; element in the IdP metadata is not applied.</p>\n<p>I can see the new certificate when I print out the Metadata XML:</p>\n<hr />\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--  new signing key  --&gt;\n&lt;IDPSSODescriptor protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\n    &lt;KeyDescriptor use=&quot;encryption&quot;&gt;\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;X509Data&gt;\n                &lt;X509Certificate&gt;MIIC4jCCAcqgAwIBAgIQafZAY7...&lt;/X509Certificate&gt;\n            &lt;/X509Data&gt;\n        &lt;/KeyInfo&gt;\n    &lt;/KeyDescriptor&gt;\n    &lt;KeyDescriptor use=&quot;signing&quot;&gt;\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;X509Data&gt;\n                &lt;X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQeny6jM...&lt;/X509Certificate&gt;\n            &lt;/X509Data&gt;\n        &lt;/KeyInfo&gt;\n    &lt;/KeyDescriptor&gt;\n    &lt;KeyDescriptor use=&quot;signing&quot;&gt;\n        &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;X509Data&gt;\n                &lt;X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQRtno3W...&lt;/X509Certificate&gt;\n            &lt;/X509Data&gt;\n        &lt;/KeyInfo&gt;\n    &lt;/KeyDescriptor&gt;\n</code></pre>\n<hr />\n<p>I receive a SUCCESS SAML response from my IdP at time of SP initiated sign on:</p>\n<hr />\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;samlp:Response xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; Consent=&quot;urn:oasis:names:tc:SAML:2.0:consent:unspecified&quot; Destination=&quot;https://{my-domain}:443/eas-saml/saml/SSO&quot; ID=&quot;_0d023fb8-bf24-4b78-b690-c9b53df4db72&quot; InResponseTo=&quot;a22h6bb0gf2e8f314e00316b198ddg1&quot; IssueInstant=&quot;2018-10-17T18:31:47.332Z&quot; Version=&quot;2.0&quot;&gt;\n   &lt;Issuer xmlns=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;http://{my-domain}/adfs/services/trust&lt;/Issuer&gt;\n   &lt;samlp:Status&gt;\n      &lt;samlp:StatusCode Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot;/&gt;\n   &lt;/samlp:Status&gt;\n   &lt;Assertion xmlns=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; ID=&quot;_317d062d-247e-4405-9dd8-0ef3d032bf3f&quot; IssueInstant=&quot;2018-10-17T18:31:47.332Z&quot; Version=&quot;2.0&quot;&gt;\n      &lt;Issuer&gt;http://{my-domain}/adfs/services/trust&lt;/Issuer&gt;\n      &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n         &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt;\n            &lt;ds:Reference URI=&quot;#_8049000b-6e76-416c-84aa-180d61ca359a&quot;&gt;\n               &lt;ds:Transforms&gt;\n                  &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\n                  &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\n               &lt;/ds:Transforms&gt;\n               &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n               &lt;ds:DigestValue&gt;x/PKyqXDECmE2IBNiZ0pqet3HqQYgDwlbeo1Vb3gXD8=&lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n         &lt;/ds:SignedInfo&gt;\n         &lt;ds:SignatureValue&gt;UvhpsDE7XT1uvqGbA+IZ2sC9t8x0i42/P7tdNXO...&lt;/ds:SignatureValue&gt;\n         &lt;KeyInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n            &lt;ds:X509Data&gt;\n               &lt;ds:X509Certificate&gt;MIIC3DCCAcSgAwIBAgIQRtno3W...&lt;/ds:X509Certificate&gt;\n            &lt;/ds:X509Data&gt;\n         &lt;/KeyInfo&gt;\n      &lt;/ds:Signature&gt;\n      &lt;Subject&gt;\n         &lt;NameID Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;userId&lt;/NameID&gt;\n         &lt;SubjectConfirmation Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;\n            &lt;SubjectConfirmationData InResponseTo=&quot;a22h6bb0gf2e8f314e00316b198ddg1&quot; NotOnOrAfter=&quot;2018-10-17T18:36:47.332Z&quot; Recipient=&quot;https://{my-domain}:443/eas-saml/saml/SSO&quot;/&gt;\n         &lt;/SubjectConfirmation&gt;\n      &lt;/Subject&gt;\n      &lt;Conditions NotBefore=&quot;2018-10-17T18:31:47.327Z&quot; NotOnOrAfter=&quot;2018-10-17T18:33:47.327Z&quot;&gt;\n         &lt;AudienceRestriction&gt;\n            &lt;Audience&gt;https://{my-domain}/eas-saml&lt;/Audience&gt;\n         &lt;/AudienceRestriction&gt;\n      &lt;/Conditions&gt;\n      &lt;AttributeStatement&gt;\n         &lt;Attribute Name=&quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn&quot;&gt;\n            &lt;AttributeValue&gt;userId&lt;/AttributeValue&gt;\n         &lt;/Attribute&gt;\n         &lt;Attribute Name=&quot;http://E-Mail-Addresses&quot;&gt;\n            &lt;AttributeValue&gt;user@domain.com&lt;/AttributeValue&gt;\n         &lt;/Attribute&gt;\n      &lt;/AttributeStatement&gt;\n      &lt;AuthnStatement AuthnInstant=&quot;2018-10-17T18:31:47.233Z&quot; SessionIndex=&quot;_317d062d-247e-4405-9dd8-0ef3d032bf3f&quot;&gt;\n         &lt;AuthnContext&gt;\n            &lt;AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/AuthnContextClassRef&gt;\n         &lt;/AuthnContext&gt;\n      &lt;/AuthnStatement&gt;\n   &lt;/Assertion&gt;\n&lt;/samlp:Response&gt;\n\n----------\n\nWhere as the log output shows a failure with the following stack trace:\n\n----------\n&lt;pre&gt;\n    2018-10-17 18:31:47 INFO  SAMLDefaultLogger:129 - AuthNResponse;FAILURE;172.17.0.1;https://{my-domain}/eas-saml;http://{my-domain}/adfs/services/trust;;;org.opensaml.common.SAMLException: Response doesn't have any valid assertion which would pass subject validation\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:229)\n      at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\n      at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)\n      at org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\n      at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    Caused by: org.opensaml.xml.validation.ValidationException: Signature is not trusted or invalid\n      at org.springframework.security.saml.websso.AbstractProfileBase.verifySignature(AbstractProfileBase.java:272)\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertionSignature(WebSSOProfileConsumerImpl.java:419)\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:292)\n      at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:214)\n      ... 39 more\n&lt;/pre&gt;\n----------\n\nIf I restart the service, the signature is recognized and the response is successfully processed.\n\nCan anyone see what I may be doing wrong? Shouldn't a refresh of the metadata manager be enough to allow the new certificates be used? Or is there a step I'm missing?\n</code></pre>\n"},{"tags":["java","floating-point","double","precision","ieee-754"],"comments":[{"owner":{"account_id":1637842,"reputation":155176,"user_id":1708801,"accept_rate":30,"display_name":"Shafik Yaghmour"},"score":1,"creation_date":1373128239,"post_id":17504833,"comment_id":25447631,"body_markdown":"Can you provide the specific example(s) that you are seeing this behavior in? It would be better to show a SSCCE: http://sscce.org/","body":"Can you provide the specific example(s) that you are seeing this behavior in? It would be better to show a SSCCE: <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1373128327,"post_id":17504833,"comment_id":25447653,"body_markdown":"One word: **precision**. Technically ... the values aren&#39;t &quot;changing&quot; ;)","body":"One word: <b>precision</b>. Technically ... the values aren&#39;t &quot;changing&quot; ;)"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1373128352,"post_id":17504833,"comment_id":25447657,"body_markdown":"Afaik, that&#39;s impossible. Doubles have both more precision and more range, so you lose neither when casting in that direction. It may print differently, though.","body":"Afaik, that&#39;s impossible. Doubles have both more precision and more range, so you lose neither when casting in that direction. It may print differently, though."}],"answers":[{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1401866289,"post_id":17504873,"comment_id":37045162,"body_markdown":"Please read the original question, to which my original answer is a fully appropriate response, [here](http://stackoverflow.com/revisions/17504833/1). The question has been substantially updated since.","body":"Please read the original question, to which my original answer is a fully appropriate response, <a href=\"http://stackoverflow.com/revisions/17504833/1\">here</a>. The question has been substantially updated since."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1401866535,"creation_date":1373128472,"answer_id":17504873,"question_id":17504833,"body_markdown":"The conversion from `float` to `double` is a *widening conversion*, as [specified by the JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html). A widening conversion is defined as an injective mapping of a smaller set into its superset. Therefore the number being represented *does not change* after a conversion from `float` to `double`.\n\n## More information regarding your updated question\n\nIn your update you added an example which is supposed to demonstrate that the number has changed. However, it only shows that the *string representation* of the number has changed, which indeed it has due to the additional precision acquired through the conversion to `double`. Note that your first output is just a rounding of the second output. As specified by  `Double.toString`, \n\n&gt; There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type `double`.\n\nSince the adjacent values in the type `double` are much closer than in `float`, more digits are needed to comply with that ruling.","title":"Why converting from float to double changes the value?","body":"<p>The conversion from <code>float</code> to <code>double</code> is a <em>widening conversion</em>, as <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">specified by the JLS</a>. A widening conversion is defined as an injective mapping of a smaller set into its superset. Therefore the number being represented <em>does not change</em> after a conversion from <code>float</code> to <code>double</code>.</p>\n<h2>More information regarding your updated question</h2>\n<p>In your update you added an example which is supposed to demonstrate that the number has changed. However, it only shows that the <em>string representation</em> of the number has changed, which indeed it has due to the additional precision acquired through the conversion to <code>double</code>. Note that your first output is just a rounding of the second output. As specified by  <code>Double.toString</code>,</p>\n<blockquote>\n<p>There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type <code>double</code>.</p>\n</blockquote>\n<p>Since the adjacent values in the type <code>double</code> are much closer than in <code>float</code>, more digits are needed to comply with that ruling.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1373128689,"post_id":17504874,"comment_id":25447734,"body_markdown":"&quot;approximate&quot; is quite an awkward way to describe what an IEEE floating point number is, since it *exactly* represents a very precisely defined set of numbers.","body":"&quot;approximate&quot; is quite an awkward way to describe what an IEEE floating point number is, since it <i>exactly</i> represents a very precisely defined set of numbers."},{"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"score":1,"creation_date":1373128782,"post_id":17504874,"comment_id":25447758,"body_markdown":"This doesn&#39;t address the question at all.","body":"This doesn&#39;t address the question at all."},{"owner":{"account_id":1949611,"reputation":5546,"user_id":1754010,"display_name":"Curt"},"score":0,"creation_date":1373129002,"post_id":17504874,"comment_id":25447810,"body_markdown":"&quot;Approximate-number data type&quot; is precisely what Microsoft calls float and real:  http://msdn.microsoft.com/en-us/library/ms173773.aspx","body":"&quot;Approximate-number data type&quot; is precisely what Microsoft calls float and real:  <a href=\"http://msdn.microsoft.com/en-us/library/ms173773.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms173773.aspx</a>"},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1373198789,"post_id":17504874,"comment_id":25460400,"body_markdown":"@Curt If one starts calling a floating-point type “real”, then the first thing one needs to mention is that it is approximate: as a datatype to store real numbers in, it certainly is. I don&#39;t think that documentation from Microsoft about floating-point types in SQL should be considered appropriate reference material for discussion of floating-point either in itself or in Java.","body":"@Curt If one starts calling a floating-point type “real”, then the first thing one needs to mention is that it is approximate: as a datatype to store real numbers in, it certainly is. I don&#39;t think that documentation from Microsoft about floating-point types in SQL should be considered appropriate reference material for discussion of floating-point either in itself or in Java."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1378281280,"post_id":17504874,"comment_id":27389209,"body_markdown":"@MarkoTopolnik: From the standpoint of the code which performs low-level computations, IEEE floats are precisely-defined types.  From the standpoint of *consumer* code, however, if a program reads two `float` values (say x=1.0 and y=10.0) and computes `float z=x/y;`, it is far more likely that the programmer regards `z` as holding an imperfect representation of value of the entered fraction, than a precise representation of the fraction 13421773/134217728.","body":"@MarkoTopolnik: From the standpoint of the code which performs low-level computations, IEEE floats are precisely-defined types.  From the standpoint of <i>consumer</i> code, however, if a program reads two <code>float</code> values (say x=1.0 and y=10.0) and computes <code>float z=x&#47;y;</code>, it is far more likely that the programmer regards <code>z</code> as holding an imperfect representation of value of the entered fraction, than a precise representation of the fraction 13421773/134217728."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1378288201,"post_id":17504874,"comment_id":27392987,"body_markdown":"@supercat Yes, I agree with all that.","body":"@supercat Yes, I agree with all that."}],"tags":[],"owner":{"account_id":1949611,"reputation":5546,"user_id":1754010,"display_name":"Curt"},"comment_count":6,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1373174526,"creation_date":1373128481,"answer_id":17504874,"question_id":17504833,"body_markdown":"Both are what Microsoft refers to as &quot;approximate number data types.&quot; \r\n\r\nThere&#39;s a reason.   A float has a precision of 7 digits, and a double 15.   But I have seen it happen many times that 8.0 - 1.0 - 6.999999999.  This is because  they are not guaranteed to represent a decimal number fraction exactly.\r\n\r\nIf you need absolute, invariable precision, go with a decimal, or integral type.","title":"Why converting from float to double changes the value?","body":"<p>Both are what Microsoft refers to as \"approximate number data types.\" </p>\n\n<p>There's a reason.   A float has a precision of 7 digits, and a double 15.   But I have seen it happen many times that 8.0 - 1.0 - 6.999999999.  This is because  they are not guaranteed to represent a decimal number fraction exactly.</p>\n\n<p>If you need absolute, invariable precision, go with a decimal, or integral type.</p>\n"},{"comments":[{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373131605,"post_id":17505230,"comment_id":25448412,"body_markdown":"these approximations can creep up on you in unexpected ways. For example `0.1*3 == 0.3` evaluates to `false`. If you need extra accuracy, use [arbitrary-precision](http://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic) libraries","body":"these approximations can creep up on you in unexpected ways. For example <code>0.1*3 == 0.3</code> evaluates to <code>false</code>. If you need extra accuracy, use <a href=\"http://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic\" rel=\"nofollow noreferrer\">arbitrary-precision</a> libraries"},{"owner":{"account_id":1949611,"reputation":5546,"user_id":1754010,"display_name":"Curt"},"score":0,"creation_date":1373134380,"post_id":17505230,"comment_id":25449071,"body_markdown":"Really cogent explanation.  Thanks.","body":"Really cogent explanation.  Thanks."},{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373135502,"post_id":17505230,"comment_id":25449355,"body_markdown":"@Curt: you can find a much better explanation here: http://www.mathworks.com/company/newsletters/news_notes/pdf/Fall96Cleve.pdf (by Cleve Moler, inventor of MATLAB). This [page](http://www.mathworks.com/help/matlab/matlab_prog/floating-point-numbers.html#f2-98690) also has some nice examples","body":"@Curt: you can find a much better explanation here: <a href=\"http://www.mathworks.com/company/newsletters/news_notes/pdf/Fall96Cleve.pdf\" rel=\"nofollow noreferrer\">mathworks.com/company/newsletters/news_notes/pdf/&hellip;</a> (by Cleve Moler, inventor of MATLAB). This <a href=\"http://www.mathworks.com/help/matlab/matlab_prog/floating-point-numbers.html#f2-98690\" rel=\"nofollow noreferrer\">page</a> also has some nice examples"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1373163004,"post_id":17505230,"comment_id":25454393,"body_markdown":"This answer does not explain why printing a `float` shows a different numeral than printing a `double` converted from the same value (and which in fact has the same value, because conversion from `float` to `double` does not change the value).","body":"This answer does not explain why printing a <code>float</code> shows a different numeral than printing a <code>double</code> converted from the same value (and which in fact has the same value, because conversion from <code>float</code> to <code>double</code> does not change the value)."},{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373169099,"post_id":17505230,"comment_id":25455225,"body_markdown":"you are correct, I did not address how `println` chooses the number of decimal digits to display. The point I was making is that the mathematical value `123.32` cannot be exactly represented in single nor double precision, and that the approximation stored in `float` when upcasted to `double` type will not be the same as if the literal number was entered as `double` to begin with. So everybody is absolutely right in saying that float-&gt;double conversion does not loose any precision whatsoever, but the approximation we get for non-exactly-representable numbers are worse if you do the upcasting..","body":"you are correct, I did not address how <code>println</code> chooses the number of decimal digits to display. The point I was making is that the mathematical value <code>123.32</code> cannot be exactly represented in single nor double precision, and that the approximation stored in <code>float</code> when upcasted to <code>double</code> type will not be the same as if the literal number was entered as <code>double</code> to begin with. So everybody is absolutely right in saying that float-&gt;double conversion does not loose any precision whatsoever, but the approximation we get for non-exactly-representable numbers are worse if you do the upcasting.."},{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373169384,"post_id":17505230,"comment_id":25455266,"body_markdown":"@EricPostpischil: its like asking what is the best approximation you get for the fraction 1/3; in a 5 decimal digits system we get: 0.33333, in 10 digits we get: 0.3333333333. Now if we upcast the 5 digits representation to 10 digits, we can only add zeros, and thus we get a worse approximation: 0.3333300000 than the previous 10 digit one. That was my point :) The issue of how to display them is specific to the language used, which is why I showed the hexadecimal representation in my example above","body":"@EricPostpischil: its like asking what is the best approximation you get for the fraction 1/3; in a 5 decimal digits system we get: 0.33333, in 10 digits we get: 0.3333333333. Now if we upcast the 5 digits representation to 10 digits, we can only add zeros, and thus we get a worse approximation: 0.3333300000 than the previous 10 digit one. That was my point :) The issue of how to display them is specific to the language used, which is why I showed the hexadecimal representation in my example above"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1373197760,"post_id":17505230,"comment_id":25460219,"body_markdown":"@Amro: The phrasing “the approximation we get for non-exactly-representable numbers are worse if you do the upcasting” suggests that “upcasting” makes the approximation worse. That is false. A correct statement would be that a value converted to `float` and then converted to `double` generally has more error than a value directly converted to `double`. However, that statement, although correct, is misleading because it is not the source of the problem asked about in the question.","body":"@Amro: The phrasing “the approximation we get for non-exactly-representable numbers are worse if you do the upcasting” suggests that “upcasting” makes the approximation worse. That is false. A correct statement would be that a value converted to <code>float</code> and then converted to <code>double</code> generally has more error than a value directly converted to <code>double</code>. However, that statement, although correct, is misleading because it is not the source of the problem asked about in the question."},{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373211495,"post_id":17505230,"comment_id":25463218,"body_markdown":"@EricPostpischil: agreed, that phrasing is misleading. Thanks for the clarification","body":"@EricPostpischil: agreed, that phrasing is misleading. Thanks for the clarification"}],"tags":[],"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"comment_count":8,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373130874,"creation_date":1373130874,"answer_id":17505230,"question_id":17504833,"body_markdown":"The issue of the precision of floating-point numbers is really language-agnostic, so I&#39;ll be using MATLAB in my explanation.\r\n\r\nThe reason you see a difference is that certain numbers are not exactly representable in fixed number of bits. Take `0.1` for example:\r\n\r\n    &gt;&gt; format hex\r\n    \r\n    &gt;&gt; double(0.1)\r\n    ans =\r\n       3fb999999999999a\r\n\r\n    &gt;&gt; double(single(0.1))\r\n    ans =\r\n       3fb99999a0000000\r\n\r\nSo the error in the approximation of `0.1` in single-precision gets bigger when you cast it as double-precision floating-point number. The result is different from its approximation if you started directly in double-precision.\r\n\r\n    &gt;&gt; double(single(0.1)) - double(0.1)\r\n    ans =\r\n         1.490116113833651e-09\r\n\r\n","title":"Why converting from float to double changes the value?","body":"<p>The issue of the precision of floating-point numbers is really language-agnostic, so I'll be using MATLAB in my explanation.</p>\n\n<p>The reason you see a difference is that certain numbers are not exactly representable in fixed number of bits. Take <code>0.1</code> for example:</p>\n\n<pre><code>&gt;&gt; format hex\n\n&gt;&gt; double(0.1)\nans =\n   3fb999999999999a\n\n&gt;&gt; double(single(0.1))\nans =\n   3fb99999a0000000\n</code></pre>\n\n<p>So the error in the approximation of <code>0.1</code> in single-precision gets bigger when you cast it as double-precision floating-point number. The result is different from its approximation if you started directly in double-precision.</p>\n\n<pre><code>&gt;&gt; double(single(0.1)) - double(0.1)\nans =\n     1.490116113833651e-09\n</code></pre>\n"},{"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1373182083,"post_id":17505556,"comment_id":25457094,"body_markdown":"So, I made a mistake? What was it?","body":"So, I made a mistake? What was it?"}],"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1373132985,"creation_date":1373132985,"answer_id":17505556,"question_id":17504833,"body_markdown":"The 32bit IEEE-754 floating point number closest to 125.32 is in fact 125.31999969482421875. Pretty close, but not quite there (that&#39;s because 0.32 is repeating in binary).\r\n\r\nWhen you cast that to a double, it&#39;s the value 125.31999969482421875 that will be made into a double (125.32 is nowhere to be found at this point, the information that it should really end in .32 is completely lost) and of course can be represented exactly by a double. When you print that double, the print routine thinks it has more significant digits than it really has (but of course it can&#39;t know that), so it prints to 125.31999969482422, which is the shortest decimal that rounds to that exact double (and of all decimals of that length, it is the closest).","title":"Why converting from float to double changes the value?","body":"<p>The 32bit IEEE-754 floating point number closest to 125.32 is in fact 125.31999969482421875. Pretty close, but not quite there (that's because 0.32 is repeating in binary).</p>\n\n<p>When you cast that to a double, it's the value 125.31999969482421875 that will be made into a double (125.32 is nowhere to be found at this point, the information that it should really end in .32 is completely lost) and of course can be represented exactly by a double. When you print that double, the print routine thinks it has more significant digits than it really has (but of course it can't know that), so it prints to 125.31999969482422, which is the shortest decimal that rounds to that exact double (and of all decimals of that length, it is the closest).</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378281737,"post_id":17508468,"comment_id":27389456,"body_markdown":"There isn&#39;t really any `double` equivalent to the best `float` representation of 3.5E+38.  Comparing such a value to the best float representation of any other value above 3.5E+38 will indicate the values are indistinguishable--not necessarily very informative, but correct.  Converting that value to `double`, on the other hand, will cause it to erroneously compare *greater* than the best `double` representation of all values below 1.798E+308--an error of hundreds of orders of magnitude.","body":"There isn&#39;t really any <code>double</code> equivalent to the best <code>float</code> representation of 3.5E+38.  Comparing such a value to the best float representation of any other value above 3.5E+38 will indicate the values are indistinguishable--not necessarily very informative, but correct.  Converting that value to <code>double</code>, on the other hand, will cause it to erroneously compare <i>greater</i> than the best <code>double</code> representation of all values below 1.798E+308--an error of hundreds of orders of magnitude."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":1,"creation_date":1378282869,"post_id":17508468,"comment_id":27390019,"body_markdown":"@supercat This answer is about converting a `float` to a `double`. The “best float representation of 3.5E+38” is `+inf` and the float `+inf` converts to the double `+inf` without loss of precision (it&#39;s the same `inf`!). How you interpret that infinity is your problem, not the problem of the conversion. A floating-point value (here, `+inf`) represents one value only (here, infinity). You could have made the same argument with 1-ulp intervals around `1.0f` and the double `1.0`, and the argument would be similarly irrelevant. It is a `float`, i.e. a single value, that is converted to `double`.","body":"@supercat This answer is about converting a <code>float</code> to a <code>double</code>. The “best float representation of 3.5E+38” is <code>+inf</code> and the float <code>+inf</code> converts to the double <code>+inf</code> without loss of precision (it&#39;s the same <code>inf</code>!). How you interpret that infinity is your problem, not the problem of the conversion. A floating-point value (here, <code>+inf</code>) represents one value only (here, infinity). You could have made the same argument with 1-ulp intervals around <code>1.0f</code> and the double <code>1.0</code>, and the argument would be similarly irrelevant. It is a <code>float</code>, i.e. a single value, that is converted to <code>double</code>."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1378283151,"post_id":17508468,"comment_id":27390155,"body_markdown":"@supercat See “Some common misconceptions (2)” in http://lipforge.ens-lyon.fr/www/crlibm/documents/cern.pdf . De Dinerchin is only talking about finite floating-point values there but the same applies to `inf`. The floating-point value `inf` is **not** “a range of values comprising `3.5E+38`”, it is a single value, infinity. The approximation in translating `3.5E38` to `+inf` has already happened before the conversion to `double`, and does not prevent the conversion to `double` from being exact.","body":"@supercat See “Some common misconceptions (2)” in <a href=\"http://lipforge.ens-lyon.fr/www/crlibm/documents/cern.pdf\" rel=\"nofollow noreferrer\">lipforge.ens-lyon.fr/www/crlibm/documents/cern.pdf</a> . De Dinerchin is only talking about finite floating-point values there but the same applies to <code>inf</code>. The floating-point value <code>inf</code> is <b>not</b> “a range of values comprising <code>3.5E+38</code>”, it is a single value, infinity. The approximation in translating <code>3.5E38</code> to <code>+inf</code> has already happened before the conversion to <code>double</code>, and does not prevent the conversion to <code>double</code> from being exact."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378307430,"post_id":17508468,"comment_id":27404865,"body_markdown":"A floating-point value effectively encapsulates two concepts: what can be said about the computations that produced it, and what should be fed into computations going forward.  Given an expression like `float2=float1/0.625f`, if `float1` was 62.5f, then the value of `float2` indicates that the arithmetic result of the last operation was between 13421772.5/134217728 and 13421773.5/134217728, and that future uses of `float2` will use the exact value 13421773/134217728. If `float1` was 3.4E38, the value of `float2` will indicate that...","body":"A floating-point value effectively encapsulates two concepts: what can be said about the computations that produced it, and what should be fed into computations going forward.  Given an expression like <code>float2=float1&#47;0.625f</code>, if <code>float1</code> was 62.5f, then the value of <code>float2</code> indicates that the arithmetic result of the last operation was between 13421772.5/134217728 and 13421773.5/134217728, and that future uses of <code>float2</code> will use the exact value 13421773/134217728. If <code>float1</code> was 3.4E38, the value of <code>float2</code> will indicate that..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378308294,"post_id":17508468,"comment_id":27405389,"body_markdown":"...an arithmetic result exceeded 3.4028E38 by an unknown amount, and that future uses of `float2` will regard it as infinite.  If one wanted to know whether the arithmetic result of a computations that yielded `float2` could be definitively regarded as larger than 0.11 or 1.7E+308, casting the second operand of each comparison to `float` would correctly report that they can&#39;t.  Casting the `float2` to `double` would suggest that they could.","body":"...an arithmetic result exceeded 3.4028E38 by an unknown amount, and that future uses of <code>float2</code> will regard it as infinite.  If one wanted to know whether the arithmetic result of a computations that yielded <code>float2</code> could be definitively regarded as larger than 0.11 or 1.7E+308, casting the second operand of each comparison to <code>float</code> would correctly report that they can&#39;t.  Casting the <code>float2</code> to <code>double</code> would suggest that they could."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378309355,"post_id":17508468,"comment_id":27406094,"body_markdown":"I should also note that in many languages, using default settings, an expression like `float f=16777216f/10f - 1677721f` could legitimately yield either 5/8 or 5033165/8388608, and perhaps other values as well.  Such semantics imply to me that the implementers of the *language* don&#39;t regard `16777216f/10f` as being precisely 1677721.625, but would regard anything that&#39;s closer to 1677721.6 as equally valid.","body":"I should also note that in many languages, using default settings, an expression like <code>float f=16777216f&#47;10f - 1677721f</code> could legitimately yield either 5/8 or 5033165/8388608, and perhaps other values as well.  Such semantics imply to me that the implementers of the <i>language</i> don&#39;t regard <code>16777216f&#47;10f</code> as being precisely 1677721.625, but would regard anything that&#39;s closer to 1677721.6 as equally valid."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1378311554,"post_id":17508468,"comment_id":27407482,"body_markdown":"@supercat In Java (assuming the early version or the `strictfp` keyword) and in a standard-compliant C99 compiler that implements IEEE 754 and defines FLT_EVAL_METHOD as 0, `16777216.f/10.f - 1677721.f` unambiguously evaluates to the mathematical fraction 5/8. There is no doubt that the designers of other languages, and the implementers of otherwise fine C compilers, do not care about the minutia of floating-point, but that is no excuse to ignore it.","body":"@supercat In Java (assuming the early version or the <code>strictfp</code> keyword) and in a standard-compliant C99 compiler that implements IEEE 754 and defines FLT_EVAL_METHOD as 0, <code>16777216.f&#47;10.f - 1677721.f</code> unambiguously evaluates to the mathematical fraction 5/8. There is no doubt that the designers of other languages, and the implementers of otherwise fine C compilers, do not care about the minutia of floating-point, but that is no excuse to ignore it."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1378312963,"post_id":17508468,"comment_id":27408341,"body_markdown":"If one specifies strict semantics, the languages indeed work as you say, but a lot of code is compiled with loose semantics; I see no basis for considering floating-point values as regarding anything other than approximate quantities when loose semantics are enabled (as they often are in practice).  If the extra speed enables approximate semantics *satisfy the programmer&#39;s requirements* better than would precise semantics, I wouldn&#39;t call them &quot;defective&quot;.","body":"If one specifies strict semantics, the languages indeed work as you say, but a lot of code is compiled with loose semantics; I see no basis for considering floating-point values as regarding anything other than approximate quantities when loose semantics are enabled (as they often are in practice).  If the extra speed enables approximate semantics <i>satisfy the programmer&#39;s requirements</i> better than would precise semantics, I wouldn&#39;t call them &quot;defective&quot;."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1389282295,"post_id":17508468,"comment_id":31603577,"body_markdown":"@supercat I think you read too much into it. The fact that according to the C standard, `int x = 38000;` may not set `x` to `38000` does not mean that the C committee believes that `38000` represents several values. Similarly, C does not specify that `f=16777216f/10f - 1677721f` should set `f` to a definite value because of portability considerations, but that does not mean that a floating-point number does not represent a specific value.","body":"@supercat I think you read too much into it. The fact that according to the C standard, <code>int x = 38000;</code> may not set <code>x</code> to <code>38000</code> does not mean that the C committee believes that <code>38000</code> represents several values. Similarly, C does not specify that <code>f=16777216f&#47;10f - 1677721f</code> should set <code>f</code> to a definite value because of portability considerations, but that does not mean that a floating-point number does not represent a specific value."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389285330,"post_id":17508468,"comment_id":31605878,"body_markdown":"Setting an `int` to 38000 will either set it to exactly 38000 or result in Undefined Behavior.  If a compiler is allowed to arbitrarily evaluate the expression `16777216f/10f-1677721f` as being equal to 5/8 or 5033165/8388608, and is not required to be consistent, in what sense can that expression be regarded as having a &quot;specific value&quot;?  Further, I would posit that when a programmer declares `float`, the programmer may be intending one of three things [BTW, I would think languages could be improved considerably if they had different types to express these meanings]:","body":"Setting an <code>int</code> to 38000 will either set it to exactly 38000 or result in Undefined Behavior.  If a compiler is allowed to arbitrarily evaluate the expression <code>16777216f&#47;10f-1677721f</code> as being equal to 5/8 or 5033165/8388608, and is not required to be consistent, in what sense can that expression be regarded as having a &quot;specific value&quot;?  Further, I would posit that when a programmer declares <code>float</code>, the programmer may be intending one of three things [BTW, I would think languages could be improved considerably if they had different types to express these meanings]:"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389285588,"post_id":17508468,"comment_id":31606070,"body_markdown":"1. I would like all computations with this variable to be performed precisely in accordance with IEEE semantics for 32-bit floating-point numbers; 2. Ideally, the computations would be as precise as possible, but I want them fast, and am willing to settle for 32-bit precision; 3. Ideally, the computations would be as precise as possible, but I can only afford 32 bits of storage per number and I&#39;m willing to settle for 32-bit precision.  All three types would be stored identically, but should have different rules regarding implicit casts and promotion.","body":"1. I would like all computations with this variable to be performed precisely in accordance with IEEE semantics for 32-bit floating-point numbers; 2. Ideally, the computations would be as precise as possible, but I want them fast, and am willing to settle for 32-bit precision; 3. Ideally, the computations would be as precise as possible, but I can only afford 32 bits of storage per number and I&#39;m willing to settle for 32-bit precision.  All three types would be stored identically, but should have different rules regarding implicit casts and promotion."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389286101,"post_id":17508468,"comment_id":31606413,"body_markdown":"In case #1, I would agree that there&#39;s no doubt but that a 32-bit variable would represent a precise quantity.  In cases #2 and #3, however, I would posit that that `f` would represent a not-very-precise effort at computing 6/10.  Careful use of IEEE semantics can yield better results than a &quot;hope for the best&quot; #2 or #3, but if one needs a result accurate to 10%, simple code using &quot;sloppy&quot; math which yields a result that&#39;s accurate to 0.3% may be better than carefully-constructed but complex code which uses IEEE semantics to obtain results accurate to 0.002%.","body":"In case #1, I would agree that there&#39;s no doubt but that a 32-bit variable would represent a precise quantity.  In cases #2 and #3, however, I would posit that that <code>f</code> would represent a not-very-precise effort at computing 6/10.  Careful use of IEEE semantics can yield better results than a &quot;hope for the best&quot; #2 or #3, but if one needs a result accurate to 10%, simple code using &quot;sloppy&quot; math which yields a result that&#39;s accurate to 0.3% may be better than carefully-constructed but complex code which uses IEEE semantics to obtain results accurate to 0.002%."},{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":0,"creation_date":1389287550,"post_id":17508468,"comment_id":31607391,"body_markdown":"“Setting an int to 38000 will either set it to exactly 38000 or result in Undefined Behavior” No.","body":"“Setting an int to 38000 will either set it to exactly 38000 or result in Undefined Behavior” No."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389289018,"post_id":17508468,"comment_id":31608330,"body_markdown":"Checking the standard, I guess it&#39;s &quot;implementation-defined&quot;, though the assignment is not required to complete (a signal may be raised), though that would imply that any implementation must either specify a particular value or specify that a signal be raised.  I&#39;m curious as to whether there&#39;s any advantage to having it be implementation defined; on some processors with 32-bit registers but 16-bit memory, where `int` is 16 bits, ensuring that `int i=38000L;` and `int f{return 38000L;}` yield the same value would require additional instructions.","body":"Checking the standard, I guess it&#39;s &quot;implementation-defined&quot;, though the assignment is not required to complete (a signal may be raised), though that would imply that any implementation must either specify a particular value or specify that a signal be raised.  I&#39;m curious as to whether there&#39;s any advantage to having it be implementation defined; on some processors with 32-bit registers but 16-bit memory, where <code>int</code> is 16 bits, ensuring that <code>int i=38000L;</code> and <code>int f{return 38000L;}</code> yield the same value would require additional instructions."}],"tags":[],"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"comment_count":14,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1373163298,"creation_date":1373159998,"answer_id":17508468,"question_id":17504833,"body_markdown":" 1. When you convert a `float` into a `double`, there is no loss of information. Every `float` can be represented exactly as a `double`.\r\n 2. On the other hand, neither decimal representation printed by `System.out.println` is the exact value for the number. An exact decimal representation could require up to about 760 decimal digits. Instead, `System.out.println` prints exactly the number of decimal digits that allow to parse the decimal representation back into the original `float` or `double`. There are more `double`s, so when printing one, `System.out.println` needs to print more digits before the representation becomes unambiguous.","title":"Why converting from float to double changes the value?","body":"<ol>\n<li>When you convert a <code>float</code> into a <code>double</code>, there is no loss of information. Every <code>float</code> can be represented exactly as a <code>double</code>.</li>\n<li>On the other hand, neither decimal representation printed by <code>System.out.println</code> is the exact value for the number. An exact decimal representation could require up to about 760 decimal digits. Instead, <code>System.out.println</code> prints exactly the number of decimal digits that allow to parse the decimal representation back into the original <code>float</code> or <code>double</code>. There are more <code>double</code>s, so when printing one, <code>System.out.println</code> needs to print more digits before the representation becomes unambiguous.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373170665,"post_id":17508660,"comment_id":25455436,"body_markdown":"in single-precision, the sequence of numbers exactly representable around that number are: `0x42faa3d6, 0x42faa3d7, 0x42faa3d8` (in hex notation, with one bit increments). Anything in-between gets rounded to the closest number. Same can be said for double-precision. btw correct me if I&#39;m wrong but single-precision allows about 9 significant decimal digits precision, so all those extra digits you showed are dropped and ignored","body":"in single-precision, the sequence of numbers exactly representable around that number are: <code>0x42faa3d6, 0x42faa3d7, 0x42faa3d8</code> (in hex notation, with one bit increments). Anything in-between gets rounded to the closest number. Same can be said for double-precision. btw correct me if I&#39;m wrong but single-precision allows about 9 significant decimal digits precision, so all those extra digits you showed are dropped and ignored"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":2,"creation_date":1373197876,"post_id":17508660,"comment_id":25460237,"body_markdown":"@Amro: Extra digits are not dropped or ignored. The arithmetic performed on floating-point objects behaves as if they have exactly the full values, include the values I showed. That is because they do have those full values; the IEEE 754 specification states that they have exactly those values and no others. They are **not** used by the computer as decimal approximations with a few digits. The computer calculates with them in binary, and they have exactly the values specified.","body":"@Amro: Extra digits are not dropped or ignored. The arithmetic performed on floating-point objects behaves as if they have exactly the full values, include the values I showed. That is because they do have those full values; the IEEE 754 specification states that they have exactly those values and no others. They are <b>not</b> used by the computer as decimal approximations with a few digits. The computer calculates with them in binary, and they have exactly the values specified."},{"owner":{"account_id":34382,"reputation":123987,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"score":0,"creation_date":1373211778,"post_id":17508660,"comment_id":25463276,"body_markdown":"hmm I guess this detail always confused me, can you comment on this please: http://stackoverflow.com/questions/4227145/in-matlab-are-variables-really-double-precision-by-default ?","body":"hmm I guess this detail always confused me, can you comment on this please: <a href=\"http://stackoverflow.com/questions/4227145/in-matlab-are-variables-really-double-precision-by-default\" title=\"in matlab are variables really double precision by default\">stackoverflow.com/questions/4227145/&hellip;</a> ?"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1373253029,"post_id":17508660,"comment_id":25472753,"body_markdown":"@Amro: The IEEE 754 standard defines what values are represented by floating-point objects. The standard does not define any notion of significant decimal digits for a binary floating-point format. There simply is no basis for stating that an IEEE-754 binary floating-point object has some number of significant decimal digits. The object has exactly one value that is precisely specified, and it carries no information about significance. It is an exact value. The standard does permit implementations to limit the number of digits they produce when converting the value to a decimal numeral…","body":"@Amro: The IEEE 754 standard defines what values are represented by floating-point objects. The standard does not define any notion of significant decimal digits for a binary floating-point format. There simply is no basis for stating that an IEEE-754 binary floating-point object has some number of significant decimal digits. The object has exactly one value that is precisely specified, and it carries no information about significance. It is an exact value. The standard does permit implementations to limit the number of digits they produce when converting the value to a decimal numeral…"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1373253151,"post_id":17508660,"comment_id":25472779,"body_markdown":"… This is a quality-of-implementation issue. In my view, an implementation that “gives up” after displaying some number of digits and produces zeroes instead of continuing the conversion is low quality. The floating-point object represents a specific number, and the conversion of the object to decimal ought to produce the exact value that is represented, if the user requested or permitted enough digits for that. (If the user requested fewer digits, then a correctly rounded result should be provided.)","body":"… This is a quality-of-implementation issue. In my view, an implementation that “gives up” after displaying some number of digits and produces zeroes instead of continuing the conversion is low quality. The floating-point object represents a specific number, and the conversion of the object to decimal ought to produce the exact value that is represented, if the user requested or permitted enough digits for that. (If the user requested fewer digits, then a correctly rounded result should be provided.)"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1373253355,"post_id":17508660,"comment_id":25472824,"body_markdown":"@Amro: An IEEE-754 binary floating-point number represents **exactly** a number (–1)**s •&#160;f • 2**e for some sign bit s (0 for + or 1 for -), some fraction or significand f (which has a specified number of bits), and some exponent e (which is in a certain interval). The number is not defined to correspond to any particular number of decimal digits. It is **exactly** the stated value, not the nearest decimal numeral of some number of digits. When somebody states that the format only represents some number of decimal digits, say 16 or 17, that is an approximation and a crude statement of math.","body":"@Amro: An IEEE-754 binary floating-point number represents <b>exactly</b> a number (–1)**s • f • 2<b>e for some sign bit s (0 for + or 1 for -), some fraction or significand f (which has a specified number of bits), and some exponent e (which is in a certain interval). The number is not defined to correspond to any particular number of decimal digits. It is **exactly</b> the stated value, not the nearest decimal numeral of some number of digits. When somebody states that the format only represents some number of decimal digits, say 16 or 17, that is an approximation and a crude statement of math."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1376686917,"post_id":17508660,"comment_id":26819310,"body_markdown":"@EricPostpischil: The IEEE standard specifies that the sum of two floating-point values should be the value which best represents the numerical sum of their nominal numerical values, and likewise for other operations, but that doesn&#39;t mean floating-point values &quot;represent&quot; exact numbers.  I would posit that 2000000.1f represents not &quot;the exact quantity 2000000.125&quot;, but rather &quot;some numeric quantity which is probably within the range 2000000.0625 to 2000000.1875.  If it really represented the former, then why...","body":"@EricPostpischil: The IEEE standard specifies that the sum of two floating-point values should be the value which best represents the numerical sum of their nominal numerical values, and likewise for other operations, but that doesn&#39;t mean floating-point values &quot;represent&quot; exact numbers.  I would posit that 2000000.1f represents not &quot;the exact quantity 2000000.125&quot;, but rather &quot;some numeric quantity which is probably within the range 2000000.0625 to 2000000.1875.  If it really represented the former, then why..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1376687158,"post_id":17508660,"comment_id":26819402,"body_markdown":"...should compilers even accept the notation `2000000.1f` without producing a diagnostic saying it should be `2000000.125f`?  I would posit that the whole reason people use `float` is because they would rather get something that&#39;s reasonably close to a numerically-correct answer quickly than use some vastly more complicated rational or symbolic-computation type which takes 1000 times as long to compute.","body":"...should compilers even accept the notation <code>2000000.1f</code> without producing a diagnostic saying it should be <code>2000000.125f</code>?  I would posit that the whole reason people use <code>float</code> is because they would rather get something that&#39;s reasonably close to a numerically-correct answer quickly than use some vastly more complicated rational or symbolic-computation type which takes 1000 times as long to compute."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376693397,"post_id":17508660,"comment_id":26821462,"body_markdown":"@supercat: The IEEE 754-2008 standard does say that a floating-point value represents one specific number. It does not say that a floating-point value represents an interval or some sort of approximation. See clause 3.3. Some people **use** the floating-point format as if it did approximate numbers, and this is the source of many common misconceptions on Stack Overflow. (Start with an incorrect assumption, get incorrect conclusions.) To make correct deductions about floating-point, one must recognize that each floating-point value represents a specific number and derive results from that.","body":"@supercat: The IEEE 754-2008 standard does say that a floating-point value represents one specific number. It does not say that a floating-point value represents an interval or some sort of approximation. See clause 3.3. Some people <b>use</b> the floating-point format as if it did approximate numbers, and this is the source of many common misconceptions on Stack Overflow. (Start with an incorrect assumption, get incorrect conclusions.) To make correct deductions about floating-point, one must recognize that each floating-point value represents a specific number and derive results from that."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376693520,"post_id":17508660,"comment_id":26821493,"body_markdown":"@supercat: Certainly it would be useful to some people to have a switch to request that the compiler warn when a numeral in source text translated to a different value. This would cause warnings in a good deal of existing code, so there would likely be resistance to making it the default. But it could be a good educational tool as well as a bug deterrent.","body":"@supercat: Certainly it would be useful to some people to have a switch to request that the compiler warn when a numeral in source text translated to a different value. This would cause warnings in a good deal of existing code, so there would likely be resistance to making it the default. But it could be a good educational tool as well as a bug deterrent."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1376694711,"post_id":17508660,"comment_id":26821798,"body_markdown":"@EricPostpischil: Except on systems where the range of whole numbers representable by a floating-point format exceeds the range representable by the largest integral type (e.g. on my old Turbo-87 Pascal compiler, `Real` could represent all whole numbers up to 2^64, but the largest integer type went up to 32767), floating-point types shouldn&#39;t be used in cases where one wants exact results.  For awhile, the IEEE standard allowed floating-point calculations to be reproducible on different platforms, though compilers have tended back toward using loosy-goosy semantics with intermediate values.","body":"@EricPostpischil: Except on systems where the range of whole numbers representable by a floating-point format exceeds the range representable by the largest integral type (e.g. on my old Turbo-87 Pascal compiler, <code>Real</code> could represent all whole numbers up to 2^64, but the largest integer type went up to 32767), floating-point types shouldn&#39;t be used in cases where one wants exact results.  For awhile, the IEEE standard allowed floating-point calculations to be reproducible on different platforms, though compilers have tended back toward using loosy-goosy semantics with intermediate values."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376694973,"post_id":17508660,"comment_id":26821857,"body_markdown":"@supercat: On representation: Whether floating-point arithmetic should be used when one wants exact results (which often requires considerable care) is a separate question from whether a floating-point value represents an exact number. The latter is true; this is simply the way the standard is written, and it is necessary to describe the arithmetic and rounding. Even though each intermediate result is rounded to a representable value, the final result is a single number. Again, please see IEEE 754-2008 clause 3.3.","body":"@supercat: On representation: Whether floating-point arithmetic should be used when one wants exact results (which often requires considerable care) is a separate question from whether a floating-point value represents an exact number. The latter is true; this is simply the way the standard is written, and it is necessary to describe the arithmetic and rounding. Even though each intermediate result is rounded to a representable value, the final result is a single number. Again, please see IEEE 754-2008 clause 3.3."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376695102,"post_id":17508660,"comment_id":26821885,"body_markdown":"@supercat: On reproducibility: Nothing has changed in this regard; the IEEE 754 standard allows calculations to be reproducible on different platforms. There is even a portion of it that states what is necessary for reproducibility. Compiler support for that is a separate issue. And it is not relevant to this question or this answer.","body":"@supercat: On reproducibility: Nothing has changed in this regard; the IEEE 754 standard allows calculations to be reproducible on different platforms. There is even a portion of it that states what is necessary for reproducibility. Compiler support for that is a separate issue. And it is not relevant to this question or this answer."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1376695111,"post_id":17508660,"comment_id":26821888,"body_markdown":"@EricPostpischil: Given a 32-bit `float` whose nominal value is exactly 2000000.125, it&#39;s possible that it represents the result of a calculation which--if computed precisely--would equal exactly that number, but it&#39;s just about as likely to represent the result of a calculation which would--if done precisely--equal 2000000.115 or 2000000.135.  By contrast, a `double` whose nominal value was 2000000.125 would be much more likely to have resulted from a calculation whose exact value was 2000000.125 than one whose value should was 0.01 larger or smaller.","body":"@EricPostpischil: Given a 32-bit <code>float</code> whose nominal value is exactly 2000000.125, it&#39;s possible that it represents the result of a calculation which--if computed precisely--would equal exactly that number, but it&#39;s just about as likely to represent the result of a calculation which would--if done precisely--equal 2000000.115 or 2000000.135.  By contrast, a <code>double</code> whose nominal value was 2000000.125 would be much more likely to have resulted from a calculation whose exact value was 2000000.125 than one whose value should was 0.01 larger or smaller."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376695293,"post_id":17508660,"comment_id":26821928,"body_markdown":"@supercat: That is an abuse of terminology. As specified in IEEE 754-2008, floating-point values do not represent results of operations. They represent numbers (or NaNs). Twisting the language to use the word “represent” in “represent results of a calculation” is unhelpful. You may obtain approximate results by using floating-point arithmetic, but the values still represent specific numbers. If you do not use this fact, you cannot write correct proofs about floating-point arithmetic. Again, please see IEEE 754-2008 clause 3.3.","body":"@supercat: That is an abuse of terminology. As specified in IEEE 754-2008, floating-point values do not represent results of operations. They represent numbers (or NaNs). Twisting the language to use the word “represent” in “represent results of a calculation” is unhelpful. You may obtain approximate results by using floating-point arithmetic, but the values still represent specific numbers. If you do not use this fact, you cannot write correct proofs about floating-point arithmetic. Again, please see IEEE 754-2008 clause 3.3."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1376695925,"post_id":17508660,"comment_id":26822062,"body_markdown":"@EricPostpischil: Perhaps the confusion has to do with &quot;represent&quot;.  Suppose I say `Resistance = scaleFactor/log(v1/v2);`. It it more helpful to say that value represents the combination of bits that result from performing the indicated operations with all the appropriate indicated rounding, or is it more helpful to say that it represents the measured resistance?  If one is trying to define what operations should be performed on a bunch of bits, the former definition is more useful, but if one is working with numbers, the latter is more helpful.","body":"@EricPostpischil: Perhaps the confusion has to do with &quot;represent&quot;.  Suppose I say <code>Resistance = scaleFactor&#47;log(v1&#47;v2);</code>. It it more helpful to say that value represents the combination of bits that result from performing the indicated operations with all the appropriate indicated rounding, or is it more helpful to say that it represents the measured resistance?  If one is trying to define what operations should be performed on a bunch of bits, the former definition is more useful, but if one is working with numbers, the latter is more helpful."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1376697130,"post_id":17508660,"comment_id":26822338,"body_markdown":"Please see IEEE 754-2008 clause 3.3.","body":"Please see IEEE 754-2008 clause 3.3."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1385497298,"post_id":17508660,"comment_id":30164605,"body_markdown":"@EricPostpischil: I don&#39;t have the standards document available, so I can&#39;t refer to the part you cite. Most programmers who use float types only need to perform a simple calculation and get a result accurate to within a few parts per million. To avoid losing a full bit of precision at each calculation step it may be necessary to analyze floating-point behavior in detail, but in many real-world usage cases the number of bits in precision in the type minus the number of accurate bits required in the result will exceed the number of steps. Given a choice of regarding numbers in precise terms...","body":"@EricPostpischil: I don&#39;t have the standards document available, so I can&#39;t refer to the part you cite. Most programmers who use float types only need to perform a simple calculation and get a result accurate to within a few parts per million. To avoid losing a full bit of precision at each calculation step it may be necessary to analyze floating-point behavior in detail, but in many real-world usage cases the number of bits in precision in the type minus the number of accurate bits required in the result will exceed the number of steps. Given a choice of regarding numbers in precise terms..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1385497601,"post_id":17508660,"comment_id":30164802,"body_markdown":"...and after a few hours&#39; calculation determining the value one is going to display to three significant figures would have a floating-point induced uncertainty of no more than 57.3 parts per billion, or regarding numbers in simplistic terms and determining that the value will be within 100 parts per million, which approach is more useful?  If only three significant figures of the value will be displayed, is the more precise estimate of the possible uncertainty in any way useful?","body":"...and after a few hours&#39; calculation determining the value one is going to display to three significant figures would have a floating-point induced uncertainty of no more than 57.3 parts per billion, or regarding numbers in simplistic terms and determining that the value will be within 100 parts per million, which approach is more useful?  If only three significant figures of the value will be displayed, is the more precise estimate of the possible uncertainty in any way useful?"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1385499328,"post_id":17508660,"comment_id":30165737,"body_markdown":"@supercat: I do not comment here on whether any particular person ought to use floating-point in any particular way. I simply state that the IEEE 754 standard specifies quite clearly that floating-point value, other than a NaN, represents exactly one value, and the standard specifies that value exactly. Whether you think that is good or bad is of no consequence to the fact that the standard says it, and that results of floating-point operations are defined in terms of these values. Since implementations of IEEE 754 follow these rules, analysis of their behaviors must follow these rules.","body":"@supercat: I do not comment here on whether any particular person ought to use floating-point in any particular way. I simply state that the IEEE 754 standard specifies quite clearly that floating-point value, other than a NaN, represents exactly one value, and the standard specifies that value exactly. Whether you think that is good or bad is of no consequence to the fact that the standard says it, and that results of floating-point operations are defined in terms of these values. Since implementations of IEEE 754 follow these rules, analysis of their behaviors must follow these rules."}],"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":20,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1563790959,"creation_date":1373162856,"answer_id":17508660,"question_id":17504833,"body_markdown":"The value of a `float` does not change when converted to a `double`. There is a difference in the displayed numerals because more digits are required to distinguish a `double` value from its neighbors, which is [required by the Java documentation][1]. That is the documentation for `toString`, which is referred (through several links) from the documentation for `println`.\r\n\r\nThe exact value for `125.32f` is 125.3**1999969482421875**. The two neighboring `float` values are 125.3**199920654296875** and 125.3**2000732421875**. Observe that 125.32 is closer to 125.31999969482421875 than to either of the neighbors. Therefore, by displaying “125.32”, Java has displayed enough digits so that conversion back from the decimal numeral to `float` reproduces the value of the `float` passed to `println`.\r\n\r\nThe two neighboring `double` values of 125.3199996948242**1875** are 125.3199996948242**045391452847979962825775146484375** and 125.3199996948242**329608547152020037174224853515625**.  \r\nObserve that 125.32 is closer to the latter neighbor than to the original value (125.31999969482421875). Therefore, printing “125.32” does not contain enough digits to distinguish the original value. Java must print more digits in order to ensure that a conversion from the displayed numeral back to `double` reproduces the value of the `double` passed to `println`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html#toString-float-","title":"Why converting from float to double changes the value?","body":"<p>The value of a <code>float</code> does not change when converted to a <code>double</code>. There is a difference in the displayed numerals because more digits are required to distinguish a <code>double</code> value from its neighbors, which is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html#toString-float-\" rel=\"nofollow noreferrer\">required by the Java documentation</a>. That is the documentation for <code>toString</code>, which is referred (through several links) from the documentation for <code>println</code>.</p>\n\n<p>The exact value for <code>125.32f</code> is 125.3<strong>1999969482421875</strong>. The two neighboring <code>float</code> values are 125.3<strong>199920654296875</strong> and 125.3<strong>2000732421875</strong>. Observe that 125.32 is closer to 125.31999969482421875 than to either of the neighbors. Therefore, by displaying “125.32”, Java has displayed enough digits so that conversion back from the decimal numeral to <code>float</code> reproduces the value of the <code>float</code> passed to <code>println</code>.</p>\n\n<p>The two neighboring <code>double</code> values of 125.3199996948242<strong>1875</strong> are 125.3199996948242<strong>045391452847979962825775146484375</strong> and 125.3199996948242<strong>329608547152020037174224853515625</strong>.<br>\nObserve that 125.32 is closer to the latter neighbor than to the original value (125.31999969482421875). Therefore, printing “125.32” does not contain enough digits to distinguish the original value. Java must print more digits in order to ensure that a conversion from the displayed numeral back to <code>double</code> reproduces the value of the <code>double</code> passed to <code>println</code>.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378581366,"creation_date":1378581366,"answer_id":18676934,"question_id":17504833,"body_markdown":"As already explained, all floats can be exactly represented as a double and the reason for your issue is that `System.out.println` performs some rounding when displaying the value of a `float` or `double` but the rounding methodology is not the same in both cases.\r\n\r\nTo see the exact value of the float, you can use a `BigDecimal`:\r\n\r\n    float f = 125.32f;\r\n    System.out.println(&quot;value of f = &quot; + new BigDecimal(f));\r\n    double d = (double) 125.32f;\r\n    System.out.println(&quot;value of d = &quot; + new BigDecimal(d));\r\n\r\nwhich outputs:\r\n\r\n    value of f = 125.31999969482421875\r\n    value of d = 125.31999969482421875","title":"Why converting from float to double changes the value?","body":"<p>As already explained, all floats can be exactly represented as a double and the reason for your issue is that <code>System.out.println</code> performs some rounding when displaying the value of a <code>float</code> or <code>double</code> but the rounding methodology is not the same in both cases.</p>\n\n<p>To see the exact value of the float, you can use a <code>BigDecimal</code>:</p>\n\n<pre><code>float f = 125.32f;\nSystem.out.println(\"value of f = \" + new BigDecimal(f));\ndouble d = (double) 125.32f;\nSystem.out.println(\"value of d = \" + new BigDecimal(d));\n</code></pre>\n\n<p>which outputs:</p>\n\n<pre><code>value of f = 125.31999969482421875\nvalue of d = 125.31999969482421875\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4153248,"reputation":1,"user_id":3405112,"display_name":"sekhar beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395205521,"creation_date":1395205521,"answer_id":22496700,"question_id":17504833,"body_markdown":"it won`t work in java because in java by default it will take real values as double and if we declare a float value without float representation\r\nlike\r\n123.45f\r\nby default it will take it as double and it will cause an error as loss of precision ","title":"Why converting from float to double changes the value?","body":"<p>it won`t work in java because in java by default it will take real values as double and if we declare a float value without float representation\nlike\n123.45f\nby default it will take it as double and it will cause an error as loss of precision </p>\n"},{"tags":[],"owner":{"account_id":937533,"reputation":4930,"user_id":966185,"accept_rate":81,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530851381,"creation_date":1530851381,"answer_id":51203047,"question_id":17504833,"body_markdown":"The representation of the values changes due to contracts of the methods that convert numerical values to a `String`, correspondingly `java.lang.Float#toString(float)` and `java.lang.Double#toString(double)`, while the actual value remains the same. There is a common part in Javadoc of both aforementioned methods that elaborates requirements to values&#39; `String` representation:\r\n\r\n&gt; There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values\r\n\r\nTo illustrate the similarity of significant parts for values of both types, the following snippet can be run:\r\n\r\n    package com.my.sandbox.numbers;\r\n    \r\n    public class FloatToDoubleConversion {\r\n    \r\n        public static void main(String[] args) {\r\n            float f = 125.32f;\r\n            floatToBits(f);\r\n            double d = (double) f;\r\n            doubleToBits(d);\r\n        }\r\n    \r\n        private static void floatToBits(float floatValue) {\r\n            System.out.println();\r\n            System.out.println(&quot;Float.&quot;);\r\n            System.out.println(&quot;String representation of float: &quot; + floatValue);\r\n            int bits = Float.floatToIntBits(floatValue);\r\n            int sign = bits &gt;&gt;&gt; 31;\r\n            int exponent = (bits &gt;&gt;&gt; 23 &amp; ((1 &lt;&lt; 8) - 1)) - ((1 &lt;&lt; 7) - 1);\r\n            int mantissa = bits &amp; ((1 &lt;&lt; 23) - 1);\r\n            System.out.println(&quot;Bytes: &quot; + Long.toBinaryString(Float.floatToIntBits(floatValue)));\r\n            System.out.println(&quot;Sign: &quot; + Long.toBinaryString(sign));\r\n            System.out.println(&quot;Exponent: &quot; + Long.toBinaryString(exponent));\r\n            System.out.println(&quot;Mantissa: &quot; + Long.toBinaryString(mantissa));\r\n            System.out.println(&quot;Back from parts: &quot; + Float.intBitsToFloat((sign &lt;&lt; 31) | (exponent + ((1 &lt;&lt; 7) - 1)) &lt;&lt; 23 | mantissa));\r\n            System.out.println(10D);\r\n        }\r\n    \r\n        private static void doubleToBits(double doubleValue) {\r\n            System.out.println();\r\n            System.out.println(&quot;Double.&quot;);\r\n            System.out.println(&quot;String representation of double: &quot; + doubleValue);\r\n            long bits = Double.doubleToLongBits(doubleValue);\r\n            long sign = bits &gt;&gt;&gt; 63;\r\n            long exponent = (bits &gt;&gt;&gt; 52 &amp; ((1 &lt;&lt; 11) - 1)) - ((1 &lt;&lt; 10) - 1);\r\n            long mantissa = bits &amp; ((1L &lt;&lt; 52) - 1);\r\n            System.out.println(&quot;Bytes: &quot; + Long.toBinaryString(Double.doubleToLongBits(doubleValue)));\r\n            System.out.println(&quot;Sign: &quot; + Long.toBinaryString(sign));\r\n            System.out.println(&quot;Exponent: &quot; + Long.toBinaryString(exponent));\r\n            System.out.println(&quot;Mantissa: &quot; + Long.toBinaryString(mantissa));\r\n            System.out.println(&quot;Back from parts: &quot; + Double.longBitsToDouble((sign &lt;&lt; 63) | (exponent + ((1 &lt;&lt; 10) - 1)) &lt;&lt; 52 | mantissa));\r\n        }\r\n    }\r\n\r\nIn my environment, the output is:\r\n\r\n    Float.\r\n    String representation of float: 125.32\r\n    Bytes: 1000010111110101010001111010111\r\n    Sign: 0\r\n    Exponent: 110\r\n    Mantissa: 11110101010001111010111\r\n    Back from parts: 125.32\r\n    \r\n    Double.\r\n    String representation of double: 125.31999969482422\r\n    Bytes: 100000001011111010101000111101011100000000000000000000000000000\r\n    Sign: 0\r\n    Exponent: 110\r\n    Mantissa: 1111010101000111101011100000000000000000000000000000\r\n    Back from parts: 125.31999969482422\r\n\r\nThis way, you can see that values&#39; sign, exponent are the same, while its mantissa   was extended retained its significant part (`11110101010001111010111`) exactly the same.\r\n\r\n\r\nThe used extraction logic of floating point number parts: [1][1] and [2][2].\r\n\r\n\r\n  [1]: http://s-j.github.io/java-float/\r\n  [2]: https://www.artima.com/underthehood/floatingP.html","title":"Why converting from float to double changes the value?","body":"<p>The representation of the values changes due to contracts of the methods that convert numerical values to a <code>String</code>, correspondingly <code>java.lang.Float#toString(float)</code> and <code>java.lang.Double#toString(double)</code>, while the actual value remains the same. There is a common part in Javadoc of both aforementioned methods that elaborates requirements to values' <code>String</code> representation:</p>\n\n<blockquote>\n  <p>There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values</p>\n</blockquote>\n\n<p>To illustrate the similarity of significant parts for values of both types, the following snippet can be run:</p>\n\n<pre><code>package com.my.sandbox.numbers;\n\npublic class FloatToDoubleConversion {\n\n    public static void main(String[] args) {\n        float f = 125.32f;\n        floatToBits(f);\n        double d = (double) f;\n        doubleToBits(d);\n    }\n\n    private static void floatToBits(float floatValue) {\n        System.out.println();\n        System.out.println(\"Float.\");\n        System.out.println(\"String representation of float: \" + floatValue);\n        int bits = Float.floatToIntBits(floatValue);\n        int sign = bits &gt;&gt;&gt; 31;\n        int exponent = (bits &gt;&gt;&gt; 23 &amp; ((1 &lt;&lt; 8) - 1)) - ((1 &lt;&lt; 7) - 1);\n        int mantissa = bits &amp; ((1 &lt;&lt; 23) - 1);\n        System.out.println(\"Bytes: \" + Long.toBinaryString(Float.floatToIntBits(floatValue)));\n        System.out.println(\"Sign: \" + Long.toBinaryString(sign));\n        System.out.println(\"Exponent: \" + Long.toBinaryString(exponent));\n        System.out.println(\"Mantissa: \" + Long.toBinaryString(mantissa));\n        System.out.println(\"Back from parts: \" + Float.intBitsToFloat((sign &lt;&lt; 31) | (exponent + ((1 &lt;&lt; 7) - 1)) &lt;&lt; 23 | mantissa));\n        System.out.println(10D);\n    }\n\n    private static void doubleToBits(double doubleValue) {\n        System.out.println();\n        System.out.println(\"Double.\");\n        System.out.println(\"String representation of double: \" + doubleValue);\n        long bits = Double.doubleToLongBits(doubleValue);\n        long sign = bits &gt;&gt;&gt; 63;\n        long exponent = (bits &gt;&gt;&gt; 52 &amp; ((1 &lt;&lt; 11) - 1)) - ((1 &lt;&lt; 10) - 1);\n        long mantissa = bits &amp; ((1L &lt;&lt; 52) - 1);\n        System.out.println(\"Bytes: \" + Long.toBinaryString(Double.doubleToLongBits(doubleValue)));\n        System.out.println(\"Sign: \" + Long.toBinaryString(sign));\n        System.out.println(\"Exponent: \" + Long.toBinaryString(exponent));\n        System.out.println(\"Mantissa: \" + Long.toBinaryString(mantissa));\n        System.out.println(\"Back from parts: \" + Double.longBitsToDouble((sign &lt;&lt; 63) | (exponent + ((1 &lt;&lt; 10) - 1)) &lt;&lt; 52 | mantissa));\n    }\n}\n</code></pre>\n\n<p>In my environment, the output is:</p>\n\n<pre><code>Float.\nString representation of float: 125.32\nBytes: 1000010111110101010001111010111\nSign: 0\nExponent: 110\nMantissa: 11110101010001111010111\nBack from parts: 125.32\n\nDouble.\nString representation of double: 125.31999969482422\nBytes: 100000001011111010101000111101011100000000000000000000000000000\nSign: 0\nExponent: 110\nMantissa: 1111010101000111101011100000000000000000000000000000\nBack from parts: 125.31999969482422\n</code></pre>\n\n<p>This way, you can see that values' sign, exponent are the same, while its mantissa   was extended retained its significant part (<code>11110101010001111010111</code>) exactly the same.</p>\n\n<p>The used extraction logic of floating point number parts: <a href=\"http://s-j.github.io/java-float/\" rel=\"nofollow noreferrer\">1</a> and <a href=\"https://www.artima.com/underthehood/floatingP.html\" rel=\"nofollow noreferrer\">2</a>.</p>\n"},{"tags":[],"owner":{"account_id":20484963,"reputation":35,"user_id":15032355,"display_name":"FredWoozley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694779842,"creation_date":1694779842,"answer_id":77112265,"question_id":17504833,"body_markdown":"The other answers explain the background of why the numbers differ. That is great. However, if you need a pragmatic way to convert from float to double or the other way around without suddenly ending up with a different representation you can use the string representation as a translation stepping stone, i.e. you can do\r\n\r\n```\r\nfloat f = 125.32f;\r\nSystem.out.println(&quot;value of f = &quot; + f);\r\ndouble d = Double.valueOf(String.valueOf(125.32f)); \r\nSystem.out.println(&quot;value of d = &quot; + d);\r\n\r\n```\r\n\r\nThis will print\r\n\r\n```\r\nvalue of f = 125.32\r\nvalue of d = 125.32\r\n```\r\n\r\nNote: Performance-wise and for calculations this is not recommended, but it can be helpful if you need to convert back and forth on a UI level and don&#39;t want to surprise a user with unexpected value changes. E.g. if they type something as float and you want to be sure to have what they typed as a double at another point - then the double value will be based off what he user typed rather off what the float interpretation of their typed value was. In such cases it can make sense you should however make sure to not mix different such interpretations then and assume they are the &quot;same actual value&quot;. ","title":"Why converting from float to double changes the value?","body":"<p>The other answers explain the background of why the numbers differ. That is great. However, if you need a pragmatic way to convert from float to double or the other way around without suddenly ending up with a different representation you can use the string representation as a translation stepping stone, i.e. you can do</p>\n<pre><code>float f = 125.32f;\nSystem.out.println(&quot;value of f = &quot; + f);\ndouble d = Double.valueOf(String.valueOf(125.32f)); \nSystem.out.println(&quot;value of d = &quot; + d);\n\n</code></pre>\n<p>This will print</p>\n<pre><code>value of f = 125.32\nvalue of d = 125.32\n</code></pre>\n<p>Note: Performance-wise and for calculations this is not recommended, but it can be helpful if you need to convert back and forth on a UI level and don't want to surprise a user with unexpected value changes. E.g. if they type something as float and you want to be sure to have what they typed as a double at another point - then the double value will be based off what he user typed rather off what the float interpretation of their typed value was. In such cases it can make sense you should however make sure to not mix different such interpretations then and assume they are the &quot;same actual value&quot;.</p>\n"}],"owner":{"account_id":3013835,"reputation":737,"user_id":2556592,"accept_rate":50,"display_name":"arthursfreire"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34450,"favorite_count":0,"down_vote_count":4,"up_vote_count":28,"answer_count":10,"score":24,"last_activity_date":1694779842,"creation_date":1373128173,"question_id":17504833,"body_markdown":"I&#39;ve been trying to find out the reason, but I couldn&#39;t.\r\nCan anybody help me?\r\n\r\nLook at the following example.\r\n\r\n    float f = 125.32f;\r\n    System.out.println(&quot;value of f = &quot; + f);\r\n    double d = (double) 125.32f; \r\n    System.out.println(&quot;value of d = &quot; + d);\r\n\r\nThis is the output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    value of f = 125.32\r\n    value of d = 125.31999969482422","title":"Why converting from float to double changes the value?","body":"<p>I've been trying to find out the reason, but I couldn't.\nCan anybody help me?</p>\n\n<p>Look at the following example.</p>\n\n<pre><code>float f = 125.32f;\nSystem.out.println(\"value of f = \" + f);\ndouble d = (double) 125.32f; \nSystem.out.println(\"value of d = \" + d);\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>value of f = 125.32\nvalue of d = 125.31999969482422\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1569985627,"post_id":58194552,"comment_id":102768202,"body_markdown":"(1) `applicationContext.xml` is obsolete with Spring Boot. (2) Package names should use all lowercase; compare with your import statements. (3) `@ComponentScan` and similar configuration annotations are only activated when present on `@Configuration` classes (`@SpringBootApplication` includes that). (4) You need `@EnableJpaRepositories` on your configuration (`Application`).","body":"(1) <code>applicationContext.xml</code> is obsolete with Spring Boot. (2) Package names should use all lowercase; compare with your import statements. (3) <code>@ComponentScan</code> and similar configuration annotations are only activated when present on <code>@Configuration</code> classes (<code>@SpringBootApplication</code> includes that). (4) You need <code>@EnableJpaRepositories</code> on your configuration (<code>Application</code>)."},{"owner":{"account_id":4513420,"reputation":421,"user_id":3668936,"accept_rate":45,"display_name":"Tyler B. Joudrey"},"score":0,"creation_date":1569986081,"post_id":58194552,"comment_id":102768254,"body_markdown":"I implemented the changes you suggested and I am still getting the same result","body":"I implemented the changes you suggested and I am still getting the same result"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1569988968,"post_id":58194552,"comment_id":102768740,"body_markdown":"Please update your error message.","body":"Please update your error message."},{"owner":{"account_id":4513420,"reputation":421,"user_id":3668936,"accept_rate":45,"display_name":"Tyler B. Joudrey"},"score":0,"creation_date":1569989637,"post_id":58194552,"comment_id":102768849,"body_markdown":"I updated the error message, I believe it is the same","body":"I updated the error message, I believe it is the same"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1569989792,"post_id":58194552,"comment_id":102768876,"body_markdown":"Okay, please include your `pom.xml` or `build.gradle` file and show your directory structure (ASCII art is the usual way). You also might want to try `@ComponentScan({&quot;controllers&quot;, &quot;repositories&quot;}) @EntityScan(&quot;models&quot;)`; I don&#39;t remember off the top of my head whether `@EnableJpaRepositories` will find a type that&#39;s not already component-scanned (it should, but I&#39;m not certain).","body":"Okay, please include your <code>pom.xml</code> or <code>build.gradle</code> file and show your directory structure (ASCII art is the usual way). You also might want to try <code>@ComponentScan({&quot;controllers&quot;, &quot;repositories&quot;}) @EntityScan(&quot;models&quot;)</code>; I don&#39;t remember off the top of my head whether <code>@EnableJpaRepositories</code> will find a type that&#39;s not already component-scanned (it should, but I&#39;m not certain)."},{"owner":{"account_id":4513420,"reputation":421,"user_id":3668936,"accept_rate":45,"display_name":"Tyler B. Joudrey"},"score":0,"creation_date":1569990256,"post_id":58194552,"comment_id":102768937,"body_markdown":"I added the pom.xml and updated the structure to remove the need for the componentScan decorator","body":"I added the pom.xml and updated the structure to remove the need for the componentScan decorator"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1569998571,"post_id":58194552,"comment_id":102771096,"body_markdown":"Remove `@EnableJpaRepositories`, as that is enabled by Spring Boot already. Remove the hibernate and spring-data-jpa dependencies and instead add the `spring-boot-starter-data-jpa` dependency. Also the junit dependency is already included in the `spring-boot-starter-test` dependency remove that as well (as it is an ancient version).","body":"Remove <code>@EnableJpaRepositories</code>, as that is enabled by Spring Boot already. Remove the hibernate and spring-data-jpa dependencies and instead add the <code>spring-boot-starter-data-jpa</code> dependency. Also the junit dependency is already included in the <code>spring-boot-starter-test</code> dependency remove that as well (as it is an ancient version)."},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1570007091,"post_id":58194552,"comment_id":102774970,"body_markdown":"@TylerB.Joudrey, Do as M. Deinum said, And check my answer also.","body":"@TylerB.Joudrey, Do as M. Deinum said, And check my answer also."},{"owner":{"account_id":4513420,"reputation":421,"user_id":3668936,"accept_rate":45,"display_name":"Tyler B. Joudrey"},"score":0,"creation_date":1570068585,"post_id":58194552,"comment_id":102800176,"body_markdown":"I followed the suggestions made and I now have a new error, the question and files have been updated","body":"I followed the suggestions made and I now have a new error, the question and files have been updated"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1570077844,"post_id":58194552,"comment_id":102801694,"body_markdown":"@TylerB.Joudrey I have modified my answer. Please let me know whether it works or not.","body":"@TylerB.Joudrey I have modified my answer. Please let me know whether it works or not."},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1570175319,"post_id":58194552,"comment_id":102837921,"body_markdown":"@TylerB.Joudrey Have you checked my answer ?","body":"@TylerB.Joudrey Have you checked my answer ?"}],"answers":[{"tags":[],"owner":{"account_id":16807537,"reputation":207,"user_id":12151306,"display_name":"Steven Diamante"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605850679,"creation_date":1569989387,"answer_id":58195093,"question_id":58194552,"body_markdown":"It may be beneficial for you to fix your package structure. If your main application is at a package called my.base and your controller is at my.base.controllers then you won&#39;t have to use the component scans. My suggestion in the current state is to add the repositories package to the component scan so it will find the bean at runtime.\r\n\r\n    @ComponentScan({&quot;controllers&quot;, &quot;reposistories&quot;})","title":"How to fix: Error creating bean with name : Unsatisfied dependency expressed through field","body":"<p>It may be beneficial for you to fix your package structure. If your main application is at a package called my.base and your controller is at my.base.controllers then you won't have to use the component scans. My suggestion in the current state is to add the repositories package to the component scan so it will find the bean at runtime.</p>\n<pre><code>@ComponentScan({&quot;controllers&quot;, &quot;reposistories&quot;})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":1,"creation_date":1588925574,"post_id":58196270,"comment_id":109092944,"body_markdown":"bless you for providing xml vs java-config vs annotation based answers.","body":"bless you for providing xml vs java-config vs annotation based answers."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1588930255,"post_id":58196270,"comment_id":109095066,"body_markdown":"@granadaCoder Thanks. Always there for people :)","body":"@granadaCoder Thanks. Always there for people :)"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1672673197,"post_id":58196270,"comment_id":132324628,"body_markdown":"@AnishB. For me, I have a package `encourage` inside base. Under `base` but outside encouragement is the `Config` class with `@Configuration` which defines the beans. Is that okay?","body":"@AnishB. For me, I have a package <code>encourage</code> inside base. Under <code>base</code> but outside encouragement is the <code>Config</code> class with <code>@Configuration</code> which defines the beans. Is that okay?"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569998864,"creation_date":1569997958,"answer_id":58196270,"question_id":58194552,"body_markdown":"**First, you don&#39;t have an appropriate project packaging structure. Then, you don&#39;t have a base package. Spring always mentions to have a base package for proper component scans. Without base package, it&#39;s a bad practice.**\r\n\r\nThe best practice should be like :\r\n\r\n    src\r\n    -main\r\n    --base package(x.x.x.) (for example : com.project)\r\n    ---controllers\r\n    ---models\r\n    ---repositories\r\n    -resources\r\n\r\n1. Xml - Based config :\r\n\r\n    `&lt;context:component-scan base-package=&quot;com.project&quot; /&gt;`\r\n\r\n2. Annotation or Java- based config :\r\n\r\n    `@ComponentScan(&quot;com.project&quot;)`\r\n\r\nSecondly, if you have these kind of package, on a contrary, you have to mention package names separately.\r\n\r\nYou have to do it like this :\r\n\r\n1. Xml - Based config :\r\n\r\n    `&lt;context:component-scan base-package=&quot;main.controllers, main.repositories&quot; /&gt;`\r\n\r\n2. Annotation or Java- based config :\r\n\r\n    `@ComponentScan({&quot;main.controllers&quot;, &quot;main.repositories&quot;})`\r\n\r\nMoreover, you are having a spring-boot project. So what you do is add @ComponentScan in the `Application` class :\r\n\r\n    @ComponentScan({&quot;main.controllers&quot;, &quot;main.repositories&quot;})\r\n    @EnableJpaRepositories(&quot;main.repositories&quot;)\r\n    @SpringBootApplication\r\n    public class Application {\r\n      public static void main(String[] args) {\r\n         SpringApplication.run(Application.class, args);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to fix: Error creating bean with name : Unsatisfied dependency expressed through field","body":"<p><strong>First, you don't have an appropriate project packaging structure. Then, you don't have a base package. Spring always mentions to have a base package for proper component scans. Without base package, it's a bad practice.</strong></p>\n\n<p>The best practice should be like :</p>\n\n<pre><code>src\n-main\n--base package(x.x.x.) (for example : com.project)\n---controllers\n---models\n---repositories\n-resources\n</code></pre>\n\n<ol>\n<li><p>Xml - Based config :</p>\n\n<p><code>&lt;context:component-scan base-package=\"com.project\" /&gt;</code></p></li>\n<li><p>Annotation or Java- based config :</p>\n\n<p><code>@ComponentScan(\"com.project\")</code></p></li>\n</ol>\n\n<p>Secondly, if you have these kind of package, on a contrary, you have to mention package names separately.</p>\n\n<p>You have to do it like this :</p>\n\n<ol>\n<li><p>Xml - Based config :</p>\n\n<p><code>&lt;context:component-scan base-package=\"main.controllers, main.repositories\" /&gt;</code></p></li>\n<li><p>Annotation or Java- based config :</p>\n\n<p><code>@ComponentScan({\"main.controllers\", \"main.repositories\"})</code></p></li>\n</ol>\n\n<p>Moreover, you are having a spring-boot project. So what you do is add @ComponentScan in the <code>Application</code> class :</p>\n\n<pre><code>@ComponentScan({\"main.controllers\", \"main.repositories\"})\n@EnableJpaRepositories(\"main.repositories\")\n@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n     SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1570077805,"creation_date":1570006951,"answer_id":58198400,"question_id":58194552,"body_markdown":"In your `User` class you declare id with `int` type  \r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    private int id;\r\n\r\nBut in the repository interface, you declared `Long`\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\r\n\r\nSo, in `User` class change type of id like,\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    private Long id;\r\n\r\n\r\nAnd avoid your new error, use `@Service` annotation at `UserService` interface like \r\n\r\n    @Service\r\n    public interface UserService {\r\n        List&lt;User&gt; getUsers();\r\n    }","title":"How to fix: Error creating bean with name : Unsatisfied dependency expressed through field","body":"<p>In your <code>User</code> class you declare id with <code>int</code> type  </p>\n\n<pre><code>@Id\n@Column(name = \"id\", unique = true)\nprivate int id;\n</code></pre>\n\n<p>But in the repository interface, you declared <code>Long</code></p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\n</code></pre>\n\n<p>So, in <code>User</code> class change type of id like,</p>\n\n<pre><code>@Id\n@Column(name = \"id\", unique = true)\nprivate Long id;\n</code></pre>\n\n<p>And avoid your new error, use <code>@Service</code> annotation at <code>UserService</code> interface like </p>\n\n<pre><code>@Service\npublic interface UserService {\n    List&lt;User&gt; getUsers();\n}\n</code></pre>\n"}],"owner":{"account_id":4513420,"reputation":421,"user_id":3668936,"accept_rate":45,"display_name":"Tyler B. Joudrey"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148793,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":58198400,"answer_count":3,"score":11,"last_activity_date":1694779632,"creation_date":1569983985,"question_id":58194552,"body_markdown":"I am trying to set up a spring rest api using hibernate. When trying to use the userRespository I set up I am getting this error\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;userService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.potholeapi.models.User\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat com.potholeapi.Application.main(Application.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:542) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\n\r\nHere are the Model, Controller and Application Files\r\n\r\nModel\r\n```\r\npackage com.potholeapi.models;\r\n\r\nimport org.hibernate.annotations.Entity;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport java.io.Serializable;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;User&quot;)\r\npublic class User implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, unique = true)\r\n    private String name;\r\n\r\n    @Column(name = &quot;created_date&quot;)\r\n    private int created_date;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getCreated_date() {\r\n        return created_date;\r\n    }\r\n\r\n    public void setCreated_date(int created_date) {\r\n        this.created_date = created_date;\r\n    }\r\n}\r\n\r\n```\r\n\r\nController\r\n\r\n```\r\npackage com.potholeapi.controllers;\r\n\r\nimport com.potholeapi.repositories.UserRepository;\r\nimport com.potholeapi.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.potholeapi.models.User;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    /**\r\n     * Get all users list.\r\n     *\r\n     * @return the list\r\n     */\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return  userService.getUsers();\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository\r\n```\r\npackage com.potholeapi.repositories;\r\n\r\nimport com.potholeapi.models.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\r\n\r\n```\r\nService\r\n```\r\npackage com.potholeapi.services;\r\n\r\nimport com.potholeapi.models.User;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic interface UserService {\r\n    List&lt;User&gt; getUsers();\r\n}\r\n\r\n```\r\nServiceImpl\r\n```\r\npackage com.potholeapi.services.impl;\r\n\r\nimport com.potholeapi.models.User;\r\nimport com.potholeapi.repositories.UserRepository;\r\nimport com.potholeapi.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserServiceImpl implements UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public List&lt;User&gt; getUsers(){\r\n        List&lt;User&gt; out = new ArrayList&lt;User&gt;();\r\n        userRepository.findAll().forEach(user -&gt; out.add(user));\r\n        return out;\r\n    }\r\n}\r\n```\r\n\r\n\r\nApplication\r\n```\r\npackage com.potholeapi;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n@Configuration\r\n@EntityScan\r\n@EnableJpaRepositories(basePackages = &quot;com.potholeapi.repositories&quot;)\r\n@EnableTransactionManagement\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;name&gt;potholeAPI&lt;/name&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.15&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/PotholeDB?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\nspring.datasource.username = admin\r\nspring.datasource.password = admin\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MariaDB53Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\n```\r\n\r\ndirectory structure\r\n```\r\nsrc\r\n-main\r\n--java\r\n---com.potholeapi\r\n----controllers\r\n----models\r\n----repositories\r\n----services\r\n-----impl\r\n-resources\r\npom.xml\r\n```\r\nWhat have I missed in setting this up? From all of the tutorials i have looked at online autowired is supposed to work oujt of the box","title":"How to fix: Error creating bean with name : Unsatisfied dependency expressed through field","body":"<p>I am trying to set up a spring rest api using hibernate. When trying to use the userRespository I set up I am getting this error</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.potholeapi.models.User\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.potholeapi.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:542) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p>Here are the Model, Controller and Application Files</p>\n\n<p>Model</p>\n\n<pre><code>package com.potholeapi.models;\n\nimport org.hibernate.annotations.Entity;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.io.Serializable;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = \"User\")\npublic class User implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = \"id\", unique = true)\n    private Long id;\n\n    @Column(name = \"name\", unique = true)\n    private String name;\n\n    @Column(name = \"created_date\")\n    private int created_date;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getCreated_date() {\n        return created_date;\n    }\n\n    public void setCreated_date(int created_date) {\n        this.created_date = created_date;\n    }\n}\n\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>package com.potholeapi.controllers;\n\nimport com.potholeapi.repositories.UserRepository;\nimport com.potholeapi.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.potholeapi.models.User;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@RestController\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    /**\n     * Get all users list.\n     *\n     * @return the list\n     */\n    @GetMapping(\"/users\")\n    public List&lt;User&gt; getAllUsers() {\n        return  userService.getUsers();\n    }\n}\n\n</code></pre>\n\n<p>Repository</p>\n\n<pre><code>package com.potholeapi.repositories;\n\nimport com.potholeapi.models.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\n\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>package com.potholeapi.services;\n\nimport com.potholeapi.models.User;\n\nimport java.util.List;\nimport java.util.Optional;\n\npublic interface UserService {\n    List&lt;User&gt; getUsers();\n}\n\n</code></pre>\n\n<p>ServiceImpl</p>\n\n<pre><code>package com.potholeapi.services.impl;\n\nimport com.potholeapi.models.User;\nimport com.potholeapi.repositories.UserRepository;\nimport com.potholeapi.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public List&lt;User&gt; getUsers(){\n        List&lt;User&gt; out = new ArrayList&lt;User&gt;();\n        userRepository.findAll().forEach(user -&gt; out.add(user));\n        return out;\n    }\n}\n</code></pre>\n\n<p>Application</p>\n\n<pre><code>package com.potholeapi;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EntityScan\n@EnableJpaRepositories(basePackages = \"com.potholeapi.repositories\")\n@EnableTransactionManagement\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;name&gt;potholeAPI&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.15&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/PotholeDB?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username = admin\nspring.datasource.password = admin\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MariaDB53Dialect\n\nspring.jpa.hibernate.ddl-auto = update\n\n</code></pre>\n\n<p>directory structure</p>\n\n<pre><code>src\n-main\n--java\n---com.potholeapi\n----controllers\n----models\n----repositories\n----services\n-----impl\n-resources\npom.xml\n</code></pre>\n\n<p>What have I missed in setting this up? From all of the tutorials i have looked at online autowired is supposed to work oujt of the box</p>\n"},{"tags":["java","network-programming","wifi"],"comments":[{"owner":{"account_id":455911,"reputation":1863,"user_id":854371,"accept_rate":88,"display_name":"AJC"},"score":2,"creation_date":1314125819,"post_id":7166036,"comment_id":8599950,"body_markdown":"Wifi has nothing to do with it, it&#39;s the same as if you connect the two computers directly with a Lan cable, or if you install the server in a public address. All you need is the IP address of the server (local or public) so that the client can connect, and make sure the firewall is not blocking it.","body":"Wifi has nothing to do with it, it&#39;s the same as if you connect the two computers directly with a Lan cable, or if you install the server in a public address. All you need is the IP address of the server (local or public) so that the client can connect, and make sure the firewall is not blocking it."},{"owner":{"account_id":281486,"reputation":8971,"user_id":577812,"accept_rate":86,"display_name":"omnomnom"},"score":2,"creation_date":1314125822,"post_id":7166036,"comment_id":8599951,"body_markdown":"Using or not using wireless connection has no impact on your java program. Java application hosted on JVM does not have to care about used connection type.","body":"Using or not using wireless connection has no impact on your java program. Java application hosted on JVM does not have to care about used connection type."}],"answers":[{"comments":[{"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"score":0,"creation_date":1314260239,"post_id":7166231,"comment_id":8629969,"body_markdown":"just search Google. Here is a one such example - http://www.ashishmyles.com/tutorials/tcpchat/index.html","body":"just search Google. Here is a one such example - <a href=\"http://www.ashishmyles.com/tutorials/tcpchat/index.html\" rel=\"nofollow noreferrer\">ashishmyles.com/tutorials/tcpchat/index.html</a>"}],"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314126485,"creation_date":1314126485,"answer_id":7166231,"question_id":7166036,"body_markdown":"Each computer on your WiFi network will have an IP address. Using one computer as the host, you create your ServerSocket.\r\nYour other computer will be the client, and can connect to the IP address of your host.\r\n\r\nYou then have your client/server over Wifi (and any other network for that matter) ready to go.","title":"server-client chat using WiFi and java socket programming","body":"<p>Each computer on your WiFi network will have an IP address. Using one computer as the host, you create your ServerSocket.\nYour other computer will be the client, and can connect to the IP address of your host.</p>\n\n<p>You then have your client/server over Wifi (and any other network for that matter) ready to go.</p>\n"}],"owner":{"account_id":620194,"reputation":53,"user_id":880036,"accept_rate":20,"display_name":"Matrix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694779580,"creation_date":1314125446,"question_id":7166036,"body_markdown":"I want to make a chat program using WiFi connection between 2 computers (ad-hoc).\r\nI&#39;m familiar with socket programming in java, but I can&#39;t implement this in 2 computers.\r\nCould you help me to add WiFi network to my program?","title":"server-client chat using WiFi and java socket programming","body":"<p>I want to make a chat program using WiFi connection between 2 computers (ad-hoc).\nI'm familiar with socket programming in java, but I can't implement this in 2 computers.\nCould you help me to add WiFi network to my program?</p>\n"},{"tags":["java","android","reactjs","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":205843,"reputation":21,"user_id":454798,"accept_rate":29,"display_name":"Nation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694779212,"creation_date":1694779212,"answer_id":77112189,"question_id":76975015,"body_markdown":"Please follow this [link](https://stackoverflow.com/questions/74648576/spring-class-file-has-wrong-version-61-0-should-be-55-0) to resolve Your issue. I had a same issues with ***RNGestureHandlerPackage*** and other packages. \r\n\r\n\r\nBasically it says, you should update ***JavaVersion*** from 11 to 17 in *app/build.gradle*\r\n","title":"How to solve the issue - &quot;error: cannot find symbol import com.swmansion.gesturehandler.RNGestureHandlerPackage&quot; - React Native?","body":"<p>Please follow this <a href=\"https://stackoverflow.com/questions/74648576/spring-class-file-has-wrong-version-61-0-should-be-55-0\">link</a> to resolve Your issue. I had a same issues with <em><strong>RNGestureHandlerPackage</strong></em> and other packages.</p>\n<p>Basically it says, you should update <em><strong>JavaVersion</strong></em> from 11 to 17 in <em>app/build.gradle</em></p>\n"}],"owner":{"account_id":24356145,"reputation":89,"user_id":18291275,"display_name":"happy smile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694779212,"creation_date":1692947462,"question_id":76975015,"body_markdown":"I am building a mobile app with React Native and I need to use both of modules - &quot;react-native-gesture-handler&quot; and &quot;react-native-screens&quot;.\r\n\r\nI installed those modules with `yarn add react-native-gesture-handler react-native-screens` and followed additional steps for Android.\r\n\r\nBut it fails to build APK.\r\n\r\nBelow is error log.\r\n\r\n\r\n```\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:19: error: cannot find symbol\r\nimport com.swmansion.gesturehandler.RNGestureHandlerPackage;\r\n                                   ^\r\n  symbol:   class RNGestureHandlerPackage\r\n  location: package com.swmansion.gesturehandler\r\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:27: error: cannot find symbol\r\nimport com.swmansion.rnscreens.RNScreensPackage;\r\n                              ^\r\n  symbol:   class RNScreensPackage\r\n  location: package com.swmansion.rnscreens\r\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:77: error: cannot find symbol\r\n      new RNGestureHandlerPackage(),\r\n          ^\r\n  symbol:   class RNGestureHandlerPackage\r\n  location: class PackageList\r\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:81: error: cannot find symbol\r\n      new RNScreensPackage(),\r\n          ^\r\n  symbol:   class RNScreensPackage\r\n  location: class PackageList\r\n4 errors\r\n```\r\n\r\nI searched everywhere regarding to this error but I couldn&#39;t find how to solve.\r\n\r\nIf anyone could help me, it will be much appreciated.\r\n\r\nReact Native version: 0.72.1\r\nreact-native-gesture-handler: 2.12.1\r\nreact-native-screens: 3.24.0\r\n\r\n\r\nI could see that RNGestureHandlerPackage and RNScreensPackage were writte in Kotlin and I thought the issue was happened because Kotlin classes were not built.\r\n\r\nI tried to add `apply plugin: &#39;kotlin-android&#39;` into everywhere in build.gradle files but it still throws same error.","title":"How to solve the issue - &quot;error: cannot find symbol import com.swmansion.gesturehandler.RNGestureHandlerPackage&quot; - React Native?","body":"<p>I am building a mobile app with React Native and I need to use both of modules - &quot;react-native-gesture-handler&quot; and &quot;react-native-screens&quot;.</p>\n<p>I installed those modules with <code>yarn add react-native-gesture-handler react-native-screens</code> and followed additional steps for Android.</p>\n<p>But it fails to build APK.</p>\n<p>Below is error log.</p>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:19: error: cannot find symbol\nimport com.swmansion.gesturehandler.RNGestureHandlerPackage;\n                                   ^\n  symbol:   class RNGestureHandlerPackage\n  location: package com.swmansion.gesturehandler\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:27: error: cannot find symbol\nimport com.swmansion.rnscreens.RNScreensPackage;\n                              ^\n  symbol:   class RNScreensPackage\n  location: package com.swmansion.rnscreens\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:77: error: cannot find symbol\n      new RNGestureHandlerPackage(),\n          ^\n  symbol:   class RNGestureHandlerPackage\n  location: class PackageList\nE:\\projects\\scannget-v2.1\\scannget-mobile-v21\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:81: error: cannot find symbol\n      new RNScreensPackage(),\n          ^\n  symbol:   class RNScreensPackage\n  location: class PackageList\n4 errors\n</code></pre>\n<p>I searched everywhere regarding to this error but I couldn't find how to solve.</p>\n<p>If anyone could help me, it will be much appreciated.</p>\n<p>React Native version: 0.72.1\nreact-native-gesture-handler: 2.12.1\nreact-native-screens: 3.24.0</p>\n<p>I could see that RNGestureHandlerPackage and RNScreensPackage were writte in Kotlin and I thought the issue was happened because Kotlin classes were not built.</p>\n<p>I tried to add <code>apply plugin: 'kotlin-android'</code> into everywhere in build.gradle files but it still throws same error.</p>\n"},{"tags":["java","maven","junit","junit4","junit5"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1550243598,"post_id":47158583,"comment_id":96209868,"body_markdown":"I note that several popular BDD tools do not yet run under JUnit 5.","body":"I note that several popular BDD tools do not yet run under JUnit 5."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1550644627,"post_id":47158583,"comment_id":96339245,"body_markdown":"@Raedwald When I wrote this post, one of my issues was for Cucumber. For BDD tools that are on several languages, I notice that the standard Java is not always very well updated/supported.","body":"@Raedwald When I wrote this post, one of my issues was for Cucumber. For BDD tools that are on several languages, I notice that the standard Java is not always very well updated/supported."}],"answers":[{"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1510303973,"post_id":47158584,"comment_id":81387092,"body_markdown":"Thanks a lot Marc ! I tested with a Spring Boot project that surely added it for me. I updated.","body":"Thanks a lot Marc ! I tested with a Spring Boot project that surely added it for me. I updated."},{"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"score":1,"creation_date":1554567436,"post_id":47158584,"comment_id":97803356,"body_markdown":"Something I noticed is that if you only have JUnit 4 tests, the Surfire plugin will not recognize any of them.  No matter how many JUnit 4 tests are present, your project needs at least one JUnit Jupiter test to run any tests.","body":"Something I noticed is that if you only have JUnit 4 tests, the Surfire plugin will not recognize any of them.  No matter how many JUnit 4 tests are present, your project needs at least one JUnit Jupiter test to run any tests."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":1,"creation_date":1618825729,"post_id":47158584,"comment_id":118710821,"body_markdown":"`junit-vintage-engine` should also be in `test` scope.","body":"<code>junit-vintage-engine</code> should also be in <code>test</code> scope."},{"owner":{"account_id":1263338,"reputation":1300,"user_id":1221159,"accept_rate":67,"display_name":"Barad&#233;"},"score":0,"creation_date":1673345950,"post_id":47158584,"comment_id":132472753,"body_markdown":"Does this also work with the failsafe plugin? mvn -Dit.test=XXXIT verify does not seem to find the integration test which is JUnit 5?","body":"Does this also work with the failsafe plugin? mvn -Dit.test=XXXIT verify does not seem to find the integration test which is JUnit 5?"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":4,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1535479737,"creation_date":1510059406,"answer_id":47158584,"question_id":47158583,"body_markdown":"JUnit 5 provides [a way out of the box][1].&lt;br&gt;\r\n\r\n&gt; JUnit 5 = JUnit Platform + JUnit Jupiter + JUnit Vintage\r\n\r\nEach one is a distinct project and using all of them allows to compile and execute JUnit 4 and JUnit 5 tests in a same project.&lt;br&gt;\r\n\r\n&gt; **JUnit Jupiter** is the combination of the new programming model and extension model for writing tests and extensions in JUnit 5.\r\n&gt; \r\n&gt; **JUnit Vintage** provides a TestEngine for running JUnit 3 and JUnit 4 based tests on the platform.\r\n&gt; \r\n&gt; **The JUnit Platform** serves as a foundation for launching testing frameworks on the JVM\r\n\r\n\r\n----------\r\n\r\n\r\n**Update : from Maven Surefire `2.22.0`**    \r\n\r\nFrom [the JUnit 5 documentation][2] :\r\n\r\n&gt; Starting with version `2.22.0`, Maven Surefire provides native support\r\n&gt; for executing tests on the JUnit Platform.\r\n\r\nSo the configuration is much simpler.    \r\nNote that the `junit-4` api dependency is optional as the `engine` dependencies that are now required already pull a default `api` version (it is the case for both junit 4 and 5).   \r\n\r\nHere is a sample `pom.xml`. \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;david&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jupiter-4-and-5-same-build&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;junit-jupiter.version&gt;5.1.0&lt;/junit-jupiter.version&gt;\r\n    \t\t&lt;!-- optional : if we want to use a junit4 specific version --&gt;\r\n    \t\t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!--JUnit Jupiter Engine to depend on the JUnit5 engine and JUnit 5 API --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--JUnit Jupiter Engine to depend on the JUnit4 engine and JUnit 4 API  --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Optional : override the JUnit 4 API version provided by junit-vintage-engine --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n       \r\n\r\nOn my GitHub space I added a working sample maven project that you can browse/clone.\r\nURL: [https://github.com/ebundy/junit4-and-5-minimal-maven-project][3]\r\n\r\n----------\r\n\r\n**Old way : for Maven Surefire below `2.22.0`**    \r\n\r\nHere is the minimal configuration to use with Maven to configure the project to compile and run both JUnit4 and JUnit5 tests :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;mygroup&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;minimal-conf-junit4-5&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;!-- JUnit 5 depends on JDK 1.8 --&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;!--  JUnit dependency versions --&gt;\r\n    \t\t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t\t&lt;junit-vintage-engine&gt;4.12.1&lt;/junit-vintage-engine&gt;\r\n    \t\t&lt;junit-jupiter.version&gt;5.0.1&lt;/junit-jupiter.version&gt;\r\n    \t\t&lt;junit-platform.version&gt;1.0.1&lt;/junit-platform.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!--JUnit Jupiter API to write and compile tests with JUnit5 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- JUnit 4 to make legacy JUnit 4 tests compile --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.19.1&lt;/version&gt; &lt;!-- matters until now--&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;!-- to let surefire to run JUnit 4 but also JUnit 5 tests --&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;!-- JUnit vintage engine to run JUnit 3 or JUnit 4 tests --&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${junit-vintage-engine}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;!-- JUnit 5 engine to run JUnit 5 tests --&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\t\t\t\t \r\n\r\nNow `mvn test` compiles and runs both JUnit 4 and JUnit 5 tests.\r\n&lt;br&gt;\r\n\t\t\t \r\nNote 1 : the `junit-vintage-engine` (`4.12.1`) and the `junit` (`4.12`) dependencies don&#39;t  specify the same exact version.&lt;br&gt;\r\nThis is not an issue at all as :\r\n\r\n- their release are not related between them \r\n\r\n- `junit-vintage-engine` is designed to run any JUnit **3** or **4** tests.&lt;br&gt;\r\n\r\n\r\nNote 2 : maven-surefire-plugin with the `2.19.1` version matters whatever you want to compile JUnit 5 test classes or both JUnit 4 and JUnit 5 test classes.   \r\nNext version of the plugin causes indeed some exceptions during JUnit 5 tests execution but the `2.22.0` that at last solves the issue (see the first part of the answer : &quot;*Update : from Maven Surefire 2.22.0*&quot;).   \r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#overview\r\n  [2]: https://junit.org/junit5/docs/snapshot/user-guide/#running-tests-build-maven\r\n  [3]: https://github.com/ebundy/junit4-and-5-minimal-maven-project","title":"Executing JUnit 4 and JUnit 5 tests in a same build","body":"<p>JUnit 5 provides <a href=\"http://junit.org/junit5/docs/current/user-guide/#overview\" rel=\"noreferrer\">a way out of the box</a>.<br></p>\n\n<blockquote>\n  <p>JUnit 5 = JUnit Platform + JUnit Jupiter + JUnit Vintage</p>\n</blockquote>\n\n<p>Each one is a distinct project and using all of them allows to compile and execute JUnit 4 and JUnit 5 tests in a same project.<br></p>\n\n<blockquote>\n  <p><strong>JUnit Jupiter</strong> is the combination of the new programming model and extension model for writing tests and extensions in JUnit 5.</p>\n  \n  <p><strong>JUnit Vintage</strong> provides a TestEngine for running JUnit 3 and JUnit 4 based tests on the platform.</p>\n  \n  <p><strong>The JUnit Platform</strong> serves as a foundation for launching testing frameworks on the JVM</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Update : from Maven Surefire <code>2.22.0</code></strong>    </p>\n\n<p>From <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#running-tests-build-maven\" rel=\"noreferrer\">the JUnit 5 documentation</a> :</p>\n\n<blockquote>\n  <p>Starting with version <code>2.22.0</code>, Maven Surefire provides native support\n  for executing tests on the JUnit Platform.</p>\n</blockquote>\n\n<p>So the configuration is much simpler.<br>\nNote that the <code>junit-4</code> api dependency is optional as the <code>engine</code> dependencies that are now required already pull a default <code>api</code> version (it is the case for both junit 4 and 5).   </p>\n\n<p>Here is a sample <code>pom.xml</code>. </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;david&lt;/groupId&gt;\n    &lt;artifactId&gt;jupiter-4-and-5-same-build&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;junit-jupiter.version&gt;5.1.0&lt;/junit-jupiter.version&gt;\n        &lt;!-- optional : if we want to use a junit4 specific version --&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--JUnit Jupiter Engine to depend on the JUnit5 engine and JUnit 5 API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--JUnit Jupiter Engine to depend on the JUnit4 engine and JUnit 4 API  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Optional : override the JUnit 4 API version provided by junit-vintage-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>On my GitHub space I added a working sample maven project that you can browse/clone.\nURL: <a href=\"https://github.com/ebundy/junit4-and-5-minimal-maven-project\" rel=\"noreferrer\">https://github.com/ebundy/junit4-and-5-minimal-maven-project</a></p>\n\n<hr>\n\n<p><strong>Old way : for Maven Surefire below <code>2.22.0</code></strong>    </p>\n\n<p>Here is the minimal configuration to use with Maven to configure the project to compile and run both JUnit4 and JUnit5 tests :</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;mygroup&lt;/groupId&gt;\n    &lt;artifactId&gt;minimal-conf-junit4-5&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;!-- JUnit 5 depends on JDK 1.8 --&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;!--  JUnit dependency versions --&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;junit-vintage-engine&gt;4.12.1&lt;/junit-vintage-engine&gt;\n        &lt;junit-jupiter.version&gt;5.0.1&lt;/junit-jupiter.version&gt;\n        &lt;junit-platform.version&gt;1.0.1&lt;/junit-platform.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--JUnit Jupiter API to write and compile tests with JUnit5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JUnit 4 to make legacy JUnit 4 tests compile --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt; &lt;!-- matters until now--&gt;\n                &lt;dependencies&gt;\n                    &lt;!-- to let surefire to run JUnit 4 but also JUnit 5 tests --&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;!-- JUnit vintage engine to run JUnit 3 or JUnit 4 tests --&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                        &lt;version&gt;${junit-vintage-engine}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;!-- JUnit 5 engine to run JUnit 5 tests --&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Now <code>mvn test</code> compiles and runs both JUnit 4 and JUnit 5 tests.\n<br></p>\n\n<p>Note 1 : the <code>junit-vintage-engine</code> (<code>4.12.1</code>) and the <code>junit</code> (<code>4.12</code>) dependencies don't  specify the same exact version.<br>\nThis is not an issue at all as :</p>\n\n<ul>\n<li><p>their release are not related between them </p></li>\n<li><p><code>junit-vintage-engine</code> is designed to run any JUnit <strong>3</strong> or <strong>4</strong> tests.<br></p></li>\n</ul>\n\n<p>Note 2 : maven-surefire-plugin with the <code>2.19.1</code> version matters whatever you want to compile JUnit 5 test classes or both JUnit 4 and JUnit 5 test classes.<br>\nNext version of the plugin causes indeed some exceptions during JUnit 5 tests execution but the <code>2.22.0</code> that at last solves the issue (see the first part of the answer : \"<em>Update : from Maven Surefire 2.22.0</em>\").   </p>\n"},{"tags":[],"owner":{"account_id":6688303,"reputation":2926,"user_id":5158636,"display_name":"tschumann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617001400,"creation_date":1617001400,"answer_id":66849927,"question_id":47158583,"body_markdown":"JUnit have a number of example projects at https://github.com/junit-team/junit5-samples\r\n\r\nI had a Gradle project and following https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-gradle worked for me.\r\n\r\nhttps://github.com/junit-team/junit5-samples/tree/main/junit5-migration-maven is the Maven equivalent - I have not tried it but I imagine that it works too.","title":"Executing JUnit 4 and JUnit 5 tests in a same build","body":"<p>JUnit have a number of example projects at <a href=\"https://github.com/junit-team/junit5-samples\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples</a></p>\n<p>I had a Gradle project and following <a href=\"https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-gradle\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-gradle</a> worked for me.</p>\n<p><a href=\"https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-maven\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-maven</a> is the Maven equivalent - I have not tried it but I imagine that it works too.</p>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657117196,"creation_date":1657117196,"answer_id":72885200,"question_id":47158583,"body_markdown":"For gradle implementation. Just use junit 4 and junit vintage dependencies.\r\n\r\n    dependencies {\r\n    testImplementation &#39;junit:junit:4.13.1&#39;\r\n    testImplementation &#39;org.junit.vintage:junit-vintage-engine&#39;\r\n    }\r\n\r\nand also add test to use junitPlatform \r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nand then both junit4 and junit5 tests should works fine.","title":"Executing JUnit 4 and JUnit 5 tests in a same build","body":"<p>For gradle implementation. Just use junit 4 and junit vintage dependencies.</p>\n<pre><code>dependencies {\ntestImplementation 'junit:junit:4.13.1'\ntestImplementation 'org.junit.vintage:junit-vintage-engine'\n}\n</code></pre>\n<p>and also add test to use junitPlatform</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and then both junit4 and junit5 tests should works fine.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694778567,"creation_date":1694778567,"answer_id":77112124,"question_id":47158583,"body_markdown":"Because the question title is general, here is the solution for Gradle using Kotlin DSL (build.gradle.**kts**):\r\n\r\n```kotlin\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform() // Enables JUnit Platform (JUnit 5 + JUnit 4)\r\n}\r\n\r\ndependencies {\r\n    // Aggregator dependency that also brings JUnit 5 parameterized tests etc.\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.10.0&quot;)\r\n    // The Vintage engine is needed to be able to run JUnit 4 tests\r\n    testImplementation(&quot;org.junit.vintage:junit-vintage-engine:5.10.0&quot;)\r\n}\r\n```\r\n\r\n```java\r\npublic class MyTestClass {\r\n    @org.junit.jupiter.api.Test // &lt;- JUnit 5 test\r\n    public void jUnit5test() { /* ... */ }\r\n\r\n    @org.junit.Test // &lt;- JUnit 4 test\r\n    public void jUnit4Test() { /* ... */ }\r\n}\r\n```\r\n\r\nExecute the tests by running the Gradle `test` or `check` task.","title":"Executing JUnit 4 and JUnit 5 tests in a same build","body":"<p>Because the question title is general, here is the solution for Gradle using Kotlin DSL (build.gradle.<strong>kts</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Test&gt; {\n    useJUnitPlatform() // Enables JUnit Platform (JUnit 5 + JUnit 4)\n}\n\ndependencies {\n    // Aggregator dependency that also brings JUnit 5 parameterized tests etc.\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.10.0&quot;)\n    // The Vintage engine is needed to be able to run JUnit 4 tests\n    testImplementation(&quot;org.junit.vintage:junit-vintage-engine:5.10.0&quot;)\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTestClass {\n    @org.junit.jupiter.api.Test // &lt;- JUnit 5 test\n    public void jUnit5test() { /* ... */ }\n\n    @org.junit.Test // &lt;- JUnit 4 test\n    public void jUnit4Test() { /* ... */ }\n}\n</code></pre>\n<p>Execute the tests by running the Gradle <code>test</code> or <code>check</code> task.</p>\n"}],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41019,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"answer_count":4,"score":57,"last_activity_date":1694778638,"creation_date":1510059406,"question_id":47158583,"body_markdown":"In Maven projects, I have some existing tests relying on JUnit 4. I cannot migrate these tests to JUnit 5 for multiple reasons.  \r\nEssentially, some tests depend on a library which uses JUnit 4 runner and code migration may take time.\r\n\r\nI would like all the same create new test classes with JUnit 5 that is now released and provides new interesting features.  \r\nHow to do that ?\r\n","title":"Executing JUnit 4 and JUnit 5 tests in a same build","body":"<p>In Maven projects, I have some existing tests relying on JUnit 4. I cannot migrate these tests to JUnit 5 for multiple reasons.<br />\nEssentially, some tests depend on a library which uses JUnit 4 runner and code migration may take time.</p>\n<p>I would like all the same create new test classes with JUnit 5 that is now released and provides new interesting features.<br />\nHow to do that ?</p>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":27326728,"reputation":21,"user_id":20839581,"display_name":"Azimjon Nazarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694778568,"creation_date":1694778568,"answer_id":77112125,"question_id":75934116,"body_markdown":"        GetUserProfilePhotos getUserProfilePhotos = new GetUserProfilePhotos();\r\n        getUserProfilePhotos.setUserId(update.getMessage().getChatId());\r\n\r\n        try {\r\n            UserProfilePhotos result= execute(getUserProfilePhotos);\r\n            \r\n            //show result             \r\n            System.out.println(result.getPhotos());\r\n\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);\r\n        }","title":"How to get user avatar picture on Java telegram bot?","body":"<pre><code>    GetUserProfilePhotos getUserProfilePhotos = new GetUserProfilePhotos();\n    getUserProfilePhotos.setUserId(update.getMessage().getChatId());\n\n    try {\n        UserProfilePhotos result= execute(getUserProfilePhotos);\n        \n        //show result             \n        System.out.println(result.getPhotos());\n\n    } catch (TelegramApiException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"}],"owner":{"account_id":21906837,"reputation":57,"user_id":16453810,"display_name":"Sergei Lobachev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694778568,"creation_date":1680645112,"question_id":75934116,"body_markdown":"I use Java and [telegrambots](https://mvnrepository.com/artifact/org.telegram/telegrambots) library. Please show an example of how to get the user&#39;s avatar.\r\n\r\n```\r\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n\r\n            String massageText = update.getMessage().getText();\r\n            long chatId = update.getMessage().getChatId();\r\n            User user = update.getMessage().getFrom();\r\n            languageCode = user.getLanguageCode();\r\n            if (massageText.equals(&quot;/start&quot;)) {\r\n                System.out.println(&quot;UserAvatarPicture --&gt; &quot; + Avatar????);\r\n\r\n            } else {\r\n                sendMessage(chatId, localization.getLocalizedString(languageCode, &quot;commandWasNotRecognized&quot;));\r\n            }\r\n\r\n        }\r\n```\r\n","title":"How to get user avatar picture on Java telegram bot?","body":"<p>I use Java and <a href=\"https://mvnrepository.com/artifact/org.telegram/telegrambots\" rel=\"nofollow noreferrer\">telegrambots</a> library. Please show an example of how to get the user's avatar.</p>\n<pre><code>        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n\n            String massageText = update.getMessage().getText();\n            long chatId = update.getMessage().getChatId();\n            User user = update.getMessage().getFrom();\n            languageCode = user.getLanguageCode();\n            if (massageText.equals(&quot;/start&quot;)) {\n                System.out.println(&quot;UserAvatarPicture --&gt; &quot; + Avatar????);\n\n            } else {\n                sendMessage(chatId, localization.getLocalizedString(languageCode, &quot;commandWasNotRecognized&quot;));\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","tomcat10"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1684736525,"post_id":76300621,"comment_id":134554642,"body_markdown":"Does the local and remote Tomcat server has the same configuration and version?","body":"Does the local and remote Tomcat server has the same configuration and version?"}],"answers":[{"tags":[],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684757864,"creation_date":1684757864,"answer_id":76306114,"question_id":76300621,"body_markdown":"I solved the above issue by replacing the hibernate-validator 8.0.0.Final and jakarta.validation-api 3.0.2 with below dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Unable to create a Configuration, because no Jakarta Bean Validation provider could be found","body":"<p>I solved the above issue by replacing the hibernate-validator 8.0.0.Final and jakarta.validation-api 3.0.2 with below dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;7.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76306114,"answer_count":1,"score":1,"last_activity_date":1694778437,"creation_date":1684682574,"question_id":76300621,"body_markdown":"I am using spring boot 3.0.0 and tomcat 10.0 and I am deploying my application on external tomcat server but I am getting below exception. However, my application is working fine on my local machine.\r\n\r\n    jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n        at jakarta.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291) ~[jakarta.validation-api-3.0.2.jar:na]\r\n        at jakarta.validation.Validation.buildDefaultValidatorFactory(Validation.java:103) ~[jakarta.validation-api-3.0.2.jar:na]\r\n        at org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:479) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.cfg.beanvalidation.TypeSafeActivator.activate(TypeSafeActivator.java:82) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.hibernate.cfg.beanvalidation.BeanValidationIntegrator.integrate(BeanValidationIntegrator.java:137) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:285) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n        \r\n        \r\n\r\nThese are my dependencies which I am using in my pom file.:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n","title":"Unable to create a Configuration, because no Jakarta Bean Validation provider could be found","body":"<p>I am using spring boot 3.0.0 and tomcat 10.0 and I am deploying my application on external tomcat server but I am getting below exception. However, my application is working fine on my local machine.</p>\n<pre><code>jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at jakarta.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291) ~[jakarta.validation-api-3.0.2.jar:na]\n    at jakarta.validation.Validation.buildDefaultValidatorFactory(Validation.java:103) ~[jakarta.validation-api-3.0.2.jar:na]\n    at org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:479) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.cfg.beanvalidation.TypeSafeActivator.activate(TypeSafeActivator.java:82) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.hibernate.cfg.beanvalidation.BeanValidationIntegrator.integrate(BeanValidationIntegrator.java:137) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:285) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    \n    \n</code></pre>\n<p>These are my dependencies which I am using in my pom file.:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n"},{"tags":["java","android","kotlin","mobile","webview"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1694690104,"post_id":77104174,"comment_id":135925898,"body_markdown":"Please, provide a [MCVE].","body":"Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694778291,"creation_date":1694778291,"answer_id":77112099,"question_id":77104174,"body_markdown":"I presume that right now you have extend `WebViewClient` and you override methods `onPageStarted` and `onPageFinished` to show/hide the progress bar. \r\n\r\nYou also need to extend `WebChromeClient` and override method `onProgressChanged` so that you can hide the progress bar after the first data has started to load in the webview - if that&#39;s what you want to do, it&#39;s not very clear what you want to achieve.\r\n\r\nTo set up your classes in the WebView you use, respectively, the methods `WebView.setWebViewClient` and `WebView.setWebChromeClient`.","title":"How do I hide the progress bar without waiting for the entire page to load in webview?","body":"<p>I presume that right now you have extend <code>WebViewClient</code> and you override methods <code>onPageStarted</code> and <code>onPageFinished</code> to show/hide the progress bar.</p>\n<p>You also need to extend <code>WebChromeClient</code> and override method <code>onProgressChanged</code> so that you can hide the progress bar after the first data has started to load in the webview - if that's what you want to do, it's not very clear what you want to achieve.</p>\n<p>To set up your classes in the WebView you use, respectively, the methods <code>WebView.setWebViewClient</code> and <code>WebView.setWebChromeClient</code>.</p>\n"}],"owner":{"account_id":17873203,"reputation":47,"user_id":12983940,"display_name":"Talha Saglam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77112099,"answer_count":1,"score":0,"last_activity_date":1694778291,"creation_date":1694688527,"question_id":77104174,"body_markdown":"I have a webview page in my app. Also there is a progress bar for control of load page. The progress bar working until to load all of page but I wanna hide it after the first upload. How can I do that in kotlin or java ?","title":"How do I hide the progress bar without waiting for the entire page to load in webview?","body":"<p>I have a webview page in my app. Also there is a progress bar for control of load page. The progress bar working until to load all of page but I wanna hide it after the first upload. How can I do that in kotlin or java ?</p>\n"},{"tags":["java","unit-testing","junit","nested","junit5"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":12,"creation_date":1458912810,"post_id":36220889,"comment_id":60073259,"body_markdown":"To form logical groupings of test cases.","body":"To form logical groupings of test cases."},{"owner":{"account_id":5107530,"reputation":1799,"user_id":4095194,"display_name":"Dennis R"},"score":1,"creation_date":1458913201,"post_id":36220889,"comment_id":60073498,"body_markdown":"To add to that... Small example: EatsTest, BehaviourTest can be nested inside DogTest, etc. See http://junit.org/junit5/#nested-tests","body":"To add to that... Small example: EatsTest, BehaviourTest can be nested inside DogTest, etc. See <a href=\"http://junit.org/junit5/#nested-tests\" rel=\"nofollow noreferrer\">junit.org/junit5/#nested-tests</a>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1461007168,"post_id":36220889,"comment_id":60992809,"body_markdown":"That link should be: http://junit.org/junit5/docs/current/user-guide/#nested-tests","body":"That link should be: <a href=\"http://junit.org/junit5/docs/current/user-guide/#nested-tests\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#nested-tests</a>"},{"owner":{"account_id":302238,"reputation":708,"user_id":610501,"accept_rate":82,"display_name":"SelimOber"},"score":1,"creation_date":1463479079,"post_id":36220889,"comment_id":62071397,"body_markdown":"It also helps promoting Behaviour Driven Development style like rspec&#39;s describe/it:http://rspec.info/documentation/3.4/rspec-core/#Nested_Groups","body":"It also helps promoting Behaviour Driven Development style like rspec&#39;s describe/it:<a href=\"http://rspec.info/documentation/3.4/rspec-core/#Nested_Groups\" rel=\"nofollow noreferrer\">rspec.info/documentation/3.4/rspec-core/#Nested_&zwnj;&#8203;Groups</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1458912973,"creation_date":1458912973,"answer_id":36221004,"question_id":36220889,"body_markdown":"The `@Nested` annotation allows you to have an inner class that&#39;s essentially a test class, allowing you to group several test classes under the same parent (with the same initialization).","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<p>The <code>@Nested</code> annotation allows you to have an inner class that's essentially a test class, allowing you to group several test classes under the same parent (with the same initialization).</p>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1662470814,"creation_date":1468490808,"answer_id":38371307,"question_id":36220889,"body_markdown":"All my tests need a database server running. Most of my tests also need a `Users` table in the database, to be able to log in. In addition to that, some tests need the `Friends` table, to be able to login and query friends.\r\n\r\nEach resource has a setup and teardown. I have to start and stop server, create and delete tables.\r\n\r\nWith the `@Nested` annotation, I can group my tests in a hierarchy of nested classes so that every test gets the setup and teardown of all tests up the hierarchy.\r\n\r\nThis idea of nesting tests was popularized in Ruby. In Java is implemented for Junit 4 by the HierarchicalContextRunner. See the justification on its page https://github.com/bechte/junit-hierarchicalcontextrunner/wiki.","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<p>All my tests need a database server running. Most of my tests also need a <code>Users</code> table in the database, to be able to log in. In addition to that, some tests need the <code>Friends</code> table, to be able to login and query friends.</p>\n<p>Each resource has a setup and teardown. I have to start and stop server, create and delete tables.</p>\n<p>With the <code>@Nested</code> annotation, I can group my tests in a hierarchy of nested classes so that every test gets the setup and teardown of all tests up the hierarchy.</p>\n<p>This idea of nesting tests was popularized in Ruby. In Java is implemented for Junit 4 by the HierarchicalContextRunner. See the justification on its page <a href=\"https://github.com/bechte/junit-hierarchicalcontextrunner/wiki\" rel=\"nofollow noreferrer\">https://github.com/bechte/junit-hierarchicalcontextrunner/wiki</a>.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1568660247,"creation_date":1534084522,"answer_id":51809805,"question_id":36220889,"body_markdown":"&gt; I just don&#39;t understand why we need to have nested test class in our\r\n&gt; test.\r\n\r\n`@Nested` makes really sense to organize big test classes.   \r\n\r\n**Typical use case**  \r\n\r\nVery often, developer teams define a test class by class to test. \r\nThat is a shared good practice but it also may make your test class very big and to count several hundred of lines.  You can indeed have classes to test with multiple methods to test, multiple scenarios for each one and also some initialization steps required in the unit test methods to test the scenarios.   \r\nAll of these will naturally increase the test class size.     \r\nAbove a threshold (maybe 500 lines or about), it becomes legitimate to ask yourself whether a refactoring is needed.    \r\n\r\nA big class (test class or not), even well organized is harder to read, maintain than multiple classes grouping things with high cohesion/relationship between.     \r\nIn the unit tests cases, it can be sometime still worse because you may not find a test scenario and write a new one while it existed but you didn&#39;t manage to find it because the test class is big.     \r\n\r\n**`@Nested` : the solution**  \r\n\r\n[`@Nested`][1] addresses this issue by giving the possibility to group multiple test methods inside multiple nested classes of a main(outer) test class.     \r\nThe test methods of all nested classes defined in the main(outer) test class are handled as any test methods. So `@BeforeEach`, `@AfterEach`, `@ExtendWith`... are applied for all the them.   \r\n[The single exception is  `@BeforeAll` and `@AfterAll`][2] :\r\n\r\n&gt; Only non-static nested classes (i.e. inner classes) can serve as\r\n&gt; `@Nested` test classes. Nesting can be arbitrarily deep, and those inner\r\n&gt; classes are considered to be full members of the test class family\r\n&gt; with one exception: `@BeforeAll` and `@AfterAll` methods do not work by\r\n&gt; default. The reason is that Java does not allow static members in\r\n&gt; inner classes. However, this restriction can be circumvented by\r\n&gt; annotating a `@Nested` test class with\r\n&gt; `@TestInstance(Lifecycle.PER_CLASS`) (see Test Instance Lifecycle).\r\n\r\nUsing `@Nested`  combined with [`@DisplayName`][3] that takes a `String` value becomes still finer as the display name will be used for test reporting in IDEs and build tools and may contain spaces, special characters, and even emoji.     \r\n\r\n\r\n**Example** \r\n\r\nI have a `FooService` with multiple methods and multiple scenarios. \r\nI can groups scenarios of the same concern inside nested classes of the unit test class.    \r\nHere I choose the method to test to group them (so I group by scenario) but the discriminator could be another thing if it makes sense.   \r\n\r\nFor example :   \r\n\r\n    public class FooServiceTest {\r\n    \r\n        Foo foo;\r\n    \r\n        // invoked for ALL test methods\r\n    \t@BeforeEach\r\n    \tpublic void beforeEach() {\r\n    \t\t Foo foo = new Foo(...);\r\n    \t}\r\n    \r\n    \t@Nested\r\n    \t@DisplayName(&quot;findWith methods&quot;)\r\n    \tclass FindMethods {\r\n    \t\t@Test\r\n    \t\tvoid findWith_when_X() throws Exception {\r\n                 //...\r\n                 foo.findWith(...);\r\n                 //...\r\n    \t\t}\r\n    \t\t@Test\r\n    \t\tvoid findWith_when_Y() throws Exception {\r\n                 //...\r\n                 foo.findWith(...);\r\n                 //...\r\n    \r\n    \t\t}\r\n    \t\t@Test\r\n    \t\tvoid findWith_when_Z() throws Exception {\r\n                 //...\r\n                 foo.findWith(...);\r\n                 //...\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \t\r\n    \t@Nested\r\n    \t@DisplayName(&quot;findAll methods&quot;)\r\n    \tclass FindAllMethods {\r\n    \t\t@Test\r\n    \t\tvoid findAll_when_X() throws Exception {\r\n                 //...\r\n                 foo.findAll(...);\r\n                 //...\r\n    \t\t}\r\n    \t\t@Test\r\n    \t\tvoid findAll_when_Y() throws Exception {\r\n                 //...\r\n                 foo.findAll(...);\r\n                 //...\r\n    \r\n    \t\t}\r\n    \t\t@Test\r\n    \t\tvoid findAll_when_Z() throws Exception {\r\n                 //...\r\n                 foo.findAll(...);\r\n                 //...\r\n    \t\t}\t\r\n        }\t\r\n    \r\n    \t@Nested\r\n    \t@DisplayName(&quot;computeBar methods&quot;)\r\n    \tclass ComputeBarMethods {\t\r\n             //...\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Nested\r\n    \t@DisplayName(&quot;saveOrUpdate methods&quot;)\r\n    \tclass SaveOrUpdateMethods {\t\r\n             //...\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**Sample renderings in the IDE**  \r\n\r\nChild methods of Nesteds are folded by default : \r\n\r\n[![Overview in JUnit Eclipse plugin][4]][4]\r\n\r\n\r\nIn case or test failure or on demand you can unfold child methods of Nesteds :   \r\n\r\n[![Unfold with a failure in JUnit Eclipse plugin][5]][5]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Nested.html\r\n  [2]: https://junit.org/junit5/docs/5.0.3/user-guide/#writing-tests-nested\r\n  [3]: https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/DisplayName.html\r\n  [4]: https://i.stack.imgur.com/c9f3G.png\r\n  [5]: https://i.stack.imgur.com/BtQ8M.png","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<blockquote>\n  <p>I just don't understand why we need to have nested test class in our\n  test.</p>\n</blockquote>\n\n<p><code>@Nested</code> makes really sense to organize big test classes.   </p>\n\n<p><strong>Typical use case</strong>  </p>\n\n<p>Very often, developer teams define a test class by class to test. \nThat is a shared good practice but it also may make your test class very big and to count several hundred of lines.  You can indeed have classes to test with multiple methods to test, multiple scenarios for each one and also some initialization steps required in the unit test methods to test the scenarios.<br>\nAll of these will naturally increase the test class size.<br>\nAbove a threshold (maybe 500 lines or about), it becomes legitimate to ask yourself whether a refactoring is needed.    </p>\n\n<p>A big class (test class or not), even well organized is harder to read, maintain than multiple classes grouping things with high cohesion/relationship between.<br>\nIn the unit tests cases, it can be sometime still worse because you may not find a test scenario and write a new one while it existed but you didn't manage to find it because the test class is big.     </p>\n\n<p><strong><code>@Nested</code> : the solution</strong>  </p>\n\n<p><a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Nested.html\" rel=\"noreferrer\"><code>@Nested</code></a> addresses this issue by giving the possibility to group multiple test methods inside multiple nested classes of a main(outer) test class.<br>\nThe test methods of all nested classes defined in the main(outer) test class are handled as any test methods. So <code>@BeforeEach</code>, <code>@AfterEach</code>, <code>@ExtendWith</code>... are applied for all the them.<br>\n<a href=\"https://junit.org/junit5/docs/5.0.3/user-guide/#writing-tests-nested\" rel=\"noreferrer\">The single exception is  <code>@BeforeAll</code> and <code>@AfterAll</code></a> :</p>\n\n<blockquote>\n  <p>Only non-static nested classes (i.e. inner classes) can serve as\n  <code>@Nested</code> test classes. Nesting can be arbitrarily deep, and those inner\n  classes are considered to be full members of the test class family\n  with one exception: <code>@BeforeAll</code> and <code>@AfterAll</code> methods do not work by\n  default. The reason is that Java does not allow static members in\n  inner classes. However, this restriction can be circumvented by\n  annotating a <code>@Nested</code> test class with\n  <code>@TestInstance(Lifecycle.PER_CLASS</code>) (see Test Instance Lifecycle).</p>\n</blockquote>\n\n<p>Using <code>@Nested</code>  combined with <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/DisplayName.html\" rel=\"noreferrer\"><code>@DisplayName</code></a> that takes a <code>String</code> value becomes still finer as the display name will be used for test reporting in IDEs and build tools and may contain spaces, special characters, and even emoji.     </p>\n\n<p><strong>Example</strong> </p>\n\n<p>I have a <code>FooService</code> with multiple methods and multiple scenarios. \nI can groups scenarios of the same concern inside nested classes of the unit test class.<br>\nHere I choose the method to test to group them (so I group by scenario) but the discriminator could be another thing if it makes sense.   </p>\n\n<p>For example :   </p>\n\n<pre><code>public class FooServiceTest {\n\n    Foo foo;\n\n    // invoked for ALL test methods\n    @BeforeEach\n    public void beforeEach() {\n         Foo foo = new Foo(...);\n    }\n\n    @Nested\n    @DisplayName(\"findWith methods\")\n    class FindMethods {\n        @Test\n        void findWith_when_X() throws Exception {\n             //...\n             foo.findWith(...);\n             //...\n        }\n        @Test\n        void findWith_when_Y() throws Exception {\n             //...\n             foo.findWith(...);\n             //...\n\n        }\n        @Test\n        void findWith_when_Z() throws Exception {\n             //...\n             foo.findWith(...);\n             //...\n        }           \n    }\n\n    @Nested\n    @DisplayName(\"findAll methods\")\n    class FindAllMethods {\n        @Test\n        void findAll_when_X() throws Exception {\n             //...\n             foo.findAll(...);\n             //...\n        }\n        @Test\n        void findAll_when_Y() throws Exception {\n             //...\n             foo.findAll(...);\n             //...\n\n        }\n        @Test\n        void findAll_when_Z() throws Exception {\n             //...\n             foo.findAll(...);\n             //...\n        }   \n    }   \n\n    @Nested\n    @DisplayName(\"computeBar methods\")\n    class ComputeBarMethods {   \n         //...\n\n    }\n\n    @Nested\n    @DisplayName(\"saveOrUpdate methods\")\n    class SaveOrUpdateMethods { \n         //...\n\n    }\n}\n</code></pre>\n\n<p><strong>Sample renderings in the IDE</strong>  </p>\n\n<p>Child methods of Nesteds are folded by default : </p>\n\n<p><a href=\"https://i.stack.imgur.com/c9f3G.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c9f3G.png\" alt=\"Overview in JUnit Eclipse plugin\"></a></p>\n\n<p>In case or test failure or on demand you can unfold child methods of Nesteds :   </p>\n\n<p><a href=\"https://i.stack.imgur.com/BtQ8M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BtQ8M.png\" alt=\"Unfold with a failure in JUnit Eclipse plugin\"></a></p>\n"},{"tags":[],"owner":{"account_id":167705,"reputation":59,"user_id":2424855,"display_name":"Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592988416,"creation_date":1592988416,"answer_id":62551129,"question_id":36220889,"body_markdown":"@Nested - Mainly starts from Junit5, provides the continuation logic of a feature we are attempting to do. \r\nSplit the business test scenarios to multiple classes, @nested is in use.","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<p>@Nested - Mainly starts from Junit5, provides the continuation logic of a feature we are attempting to do.\nSplit the business test scenarios to multiple classes, @nested is in use.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694777984,"creation_date":1694777984,"answer_id":77112071,"question_id":36220889,"body_markdown":"It also makes it possible (using a workaround) to extract the classes to separate files but still showing them as sub-hierarchy of the top class in test views and test reports.\r\n\r\nMake sure the extracted classes are marked `abstract` to avoid running them twice. See https://github.com/junit-team/junit5/issues/1750\r\n\r\nHere is an example using Kotlin:\r\n\r\n```kotlin\r\nclass MyContainerTest {\r\n    @Nested inner class MyNestedTestsOne : MyNestedTest1()\r\n    @Nested inner class MyNestedTestsTwo : MyNestedTest2()\r\n\r\n    // Can also have regular unit tests\r\n    @Test\r\n    fun myUnitTestInContainer() { /* ... */ }\r\n}\r\n```\r\nMyNestedTest1.kt:\r\n```kotlin\r\nabstract class MyNestedTest1 {\r\n    @Test\r\n    fun myUnitTestInNestedClass1() { /* ... */ }\r\n}\r\n```\r\nMyNestedTest2.kt:\r\n```kotlin\r\nabstract class MyNestedTest2 {\r\n    @Test\r\n    fun myUnitTestInNestedClass2() { /* ... */ }\r\n}\r\n```\r\n","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<p>It also makes it possible (using a workaround) to extract the classes to separate files but still showing them as sub-hierarchy of the top class in test views and test reports.</p>\n<p>Make sure the extracted classes are marked <code>abstract</code> to avoid running them twice. See <a href=\"https://github.com/junit-team/junit5/issues/1750\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1750</a></p>\n<p>Here is an example using Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyContainerTest {\n    @Nested inner class MyNestedTestsOne : MyNestedTest1()\n    @Nested inner class MyNestedTestsTwo : MyNestedTest2()\n\n    // Can also have regular unit tests\n    @Test\n    fun myUnitTestInContainer() { /* ... */ }\n}\n</code></pre>\n<p>MyNestedTest1.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class MyNestedTest1 {\n    @Test\n    fun myUnitTestInNestedClass1() { /* ... */ }\n}\n</code></pre>\n<p>MyNestedTest2.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class MyNestedTest2 {\n    @Test\n    fun myUnitTestInNestedClass2() { /* ... */ }\n}\n</code></pre>\n"}],"owner":{"account_id":3019275,"reputation":4542,"user_id":2560685,"accept_rate":70,"display_name":"sab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34594,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":36221004,"answer_count":5,"score":56,"last_activity_date":1694778067,"creation_date":1458912567,"question_id":36220889,"body_markdown":"In JUnit 5, there is a new annotation: [`@Nested`](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Nested.html).\r\n\r\nI understand how the annotation works, I understand why we use nested classes,\r\nI just don&#39;t understand why we need to have *nested test* classes.\r\n","title":"What&#39;s the purpose of the JUnit 5 @Nested annotation?","body":"<p>In JUnit 5, there is a new annotation: <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Nested.html\" rel=\"nofollow noreferrer\"><code>@Nested</code></a>.</p>\n<p>I understand how the annotation works, I understand why we use nested classes,\nI just don't understand why we need to have <em>nested test</em> classes.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1694761861,"post_id":77110306,"comment_id":135936350,"body_markdown":"The stacktrace provides no clues as to a problem (other than attempting to write to a closed writer), and given it is a writer (which is for text data), it is unlikely to be related to an Excel sheet, as that is binary data. The stacktrace also doesn&#39;t include any elements of POI or your application code. Please provide a [mre].","body":"The stacktrace provides no clues as to a problem (other than attempting to write to a closed writer), and given it is a writer (which is for text data), it is unlikely to be related to an Excel sheet, as that is binary data. The stacktrace also doesn&#39;t include any elements of POI or your application code. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694761881,"post_id":77110306,"comment_id":135936353,"body_markdown":"And yes, it is possible to write Excel sheets with little memory overhead, if you use the streaming variant (e.g. `SXSSFWorkbook`).","body":"And yes, it is possible to write Excel sheets with little memory overhead, if you use the streaming variant (e.g. <code>SXSSFWorkbook</code>)."},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694762278,"post_id":77110306,"comment_id":135936421,"body_markdown":"@MarkRotteveel I used that but still the same issue is. I received only single value in file","body":"@MarkRotteveel I used that but still the same issue is. I received only single value in file"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":3,"creation_date":1694762540,"post_id":77110306,"comment_id":135936458,"body_markdown":"Can you also show the initialization and concrete type of your OutputStream `os` ? Note: the [`writeAvoidingTempFiles`](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html#writeAvoidingTempFiles-java.io.OutputStream-) method is marked `@Beta`, do you get the same error when using `write` instead.","body":"Can you also show the initialization and concrete type of your OutputStream <code>os</code> ? Note: the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html#writeAvoidingTempFiles-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>writeAvoidingTempFiles</code></a> method is marked <code>@Beta</code>, do you get the same error when using <code>write</code> instead."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1694763024,"post_id":77110306,"comment_id":135936552,"body_markdown":"First and foremost, check your code executed before for any use of `close()` on the output-stream - as hinted by Mark already.","body":"First and foremost, check your code executed before for any use of <code>close()</code> on the output-stream - as hinted by Mark already."},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694766015,"post_id":77110306,"comment_id":135937059,"body_markdown":"The OutputStream type is org.apache.catalina.connector.CoyoteOutputStream. \nI didn&#39;t get the different issue when I used to write instead writeAvoidTempFiles, but my assumption was that maybe some of the internal classes close a stream.","body":"The OutputStream type is org.apache.catalina.connector.CoyoteOutputStream.  I didn&#39;t get the different issue when I used to write instead writeAvoidTempFiles, but my assumption was that maybe some of the internal classes close a stream."},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694768697,"post_id":77110306,"comment_id":135937577,"body_markdown":"Both methods - the same type of outputstream","body":"Both methods - the same type of outputstream"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1694769528,"post_id":77110306,"comment_id":135937728,"body_markdown":"How come you pass `httpServletResponse` to your `export` method when it takes an `OutputStream`? Are you calling a different `export` method than the one you&#39;re showing us?","body":"How come you pass <code>httpServletResponse</code> to your <code>export</code> method when it takes an <code>OutputStream</code>? Are you calling a different <code>export</code> method than the one you&#39;re showing us?"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694771969,"post_id":77110306,"comment_id":135938211,"body_markdown":"Sorry yes I forgot add second version of method","body":"Sorry yes I forgot add second version of method"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1694776900,"post_id":77110306,"comment_id":135939031,"body_markdown":"Can you show the `TestBook.write` method?","body":"Can you show the <code>TestBook.write</code> method?"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694777063,"post_id":77110306,"comment_id":135939048,"body_markdown":"This is standard method because I want to some how hack this method but at end of the end I kept original method.","body":"This is standard method because I want to some how hack this method but at end of the end I kept original method."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1694777165,"post_id":77110306,"comment_id":135939067,"body_markdown":"What do you mean by &quot;standard method&quot; and &quot;original method&quot;? In particular, does it use try-with-resources on the stream that is passed to it?","body":"What do you mean by &quot;standard method&quot; and &quot;original method&quot;? In particular, does it use try-with-resources on the stream that is passed to it?"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694777397,"post_id":77110306,"comment_id":135939112,"body_markdown":"Updated description. You can see that there is not override this method...","body":"Updated description. You can see that there is not override this method..."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694779513,"post_id":77110306,"comment_id":135939526,"body_markdown":"Have you considered an async API? The initial request specifies the inputs and a callback address. The xlsx is produced asynchronously and POSTed to the callback address when ready. There is also this sample - https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java that might provide a synchronous solution.","body":"Have you considered an async API? The initial request specifies the inputs and a callback address. The xlsx is produced asynchronously and POSTed to the callback address when ready. There is also this sample - <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/jav&zwnj;&#8203;a/&hellip;</a> that might provide a synchronous solution."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694779913,"post_id":77110306,"comment_id":135939602,"body_markdown":"You must note that xlsx file format is not designed for smooth streaming - it is basically a zip file with multiple files contained within it, that have linked data. If you want to stream large data, you should consider a more streamable format like CSV.","body":"You must note that xlsx file format is not designed for smooth streaming - it is basically a zip file with multiple files contained within it, that have linked data. If you want to stream large data, you should consider a more streamable format like CSV."},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1695020735,"post_id":77110306,"comment_id":135962970,"body_markdown":"Async API doesn&#39;t help in that case because an issue is that if you have a million of records you have to put all of them into memory. Jackson has a streaming approach for CSV and is possible to flush the buffer after some page and that doesn&#39;t allocate memory so much. Time is not a problem but memory allocation does it.","body":"Async API doesn&#39;t help in that case because an issue is that if you have a million of records you have to put all of them into memory. Jackson has a streaming approach for CSV and is possible to flush the buffer after some page and that doesn&#39;t allocate memory so much. Time is not a problem but memory allocation does it."}],"answers":[{"comments":[{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1694778308,"post_id":77112058,"comment_id":135939297,"body_markdown":"Okay you write, but I want to return the stream of data to my client not wait to load all data from the source put it to Workbook, and return it to the client. \nWhat I want to achieve is to return all data from the source page by page to the workbook and return it to the client.  Because i can have a million of records, with min 150 columns. It needs a lot of memory but I want to this in &quot;streaming&quot; way.","body":"Okay you write, but I want to return the stream of data to my client not wait to load all data from the source put it to Workbook, and return it to the client.  What I want to achieve is to return all data from the source page by page to the workbook and return it to the client.  Because i can have a million of records, with min 150 columns. It needs a lot of memory but I want to this in &quot;streaming&quot; way."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694778446,"post_id":77112058,"comment_id":135939329,"body_markdown":"I see, I don&#39;t know how to accomplish this, unfortunately.","body":"I see, I don&#39;t know how to accomplish this, unfortunately."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694777908,"creation_date":1694777908,"answer_id":77112058,"question_id":77110306,"body_markdown":"Your workbook is a subclass of `SXSSFWorkbook`. With that kind of class, you shouldn&#39;t call `write()` in a loop with the same output stream, because, as you can see from the source code, it passes the stream to `injectData` which wraps the stream into a ZipOutputStream, writes to it and then closes the ZipOutputStream which causes the underlying stream (_your_ stream) to also be closed.\r\n\r\nThe second iteration of your loop then calls `write()` with an already-closed output stream.\r\n\r\nYou should take the `write()` call outside of your for-loop and call it just after the loop.","title":"Apache POI streaming write XLSX directly to IO","body":"<p>Your workbook is a subclass of <code>SXSSFWorkbook</code>. With that kind of class, you shouldn't call <code>write()</code> in a loop with the same output stream, because, as you can see from the source code, it passes the stream to <code>injectData</code> which wraps the stream into a ZipOutputStream, writes to it and then closes the ZipOutputStream which causes the underlying stream (<em>your</em> stream) to also be closed.</p>\n<p>The second iteration of your loop then calls <code>write()</code> with an already-closed output stream.</p>\n<p>You should take the <code>write()</code> call outside of your for-loop and call it just after the loop.</p>\n"}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694777908,"creation_date":1694761640,"question_id":77110306,"body_markdown":"I have a web application where I want to return XLSX with a huge number of records without OOM. I want to write every page to OutputStream and flush in the loop. The problem is that I get an exception. \r\n```\r\njava.io.IOException: Stream closed\r\n\tat java.base/java.io.BufferedWriter.ensureOpen(BufferedWriter.java:132) ~[na:na]\r\n\tat java.base/java.io.BufferedWriter.implWrite(BufferedWriter.java:325) ~[na:na]\r\n\tat java.base/java.io.BufferedWriter.write(BufferedWriter.java:313) ~[na:na]\r\n\tat java.base/java.io.Writer.write(Writer.java:278) ~[na:na]\r\n```\r\n\r\nIs it possible to write data to OS page by page or only possible way is loading everything to memory?\r\n\r\n\r\n\r\nMy code is: \r\n\r\n```\r\n  public void export(final OutputStream os)  {\r\n        \r\n        try (SXSSFWorkbook workbook = new SXSSFWorkbook(-1)) {\r\n\r\n            final SXSSFSheet sheet = workbook.createSheet();\r\n\r\n\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                final SXSSFRow row = sheet.createRow(i);\r\n                final SXSSFCell cell = row.createCell(0, CellType.STRING);\r\n                cell.setCellValue(&quot;Test&quot;);\r\n\r\n                try {\r\n                    workbook.writeAvoidingTempFiles(os);\r\n                    os.flush();\r\n                } catch (IOException e) {\r\n                    log.info(&quot;Error&quot;, e);\r\n                }\r\n\r\n            }\r\n            workbook.dispose();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n}\r\n\r\npublic void export(final HttpServletResponse httpServletResponse) throws IOException {\r\n        \r\n        try (TestBook workbook = new TestBook()) {\r\n\r\n            final SXSSFSheet sheet = workbook.createSheet();\r\n\r\n\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                final SXSSFRow row = sheet.createRow(i);\r\n                final SXSSFCell cell = row.createCell(0, CellType.STRING);\r\n                cell.setCellValue(&quot;Test&quot;);\r\n                workbook.write(httpServletResponse.getOutputStream());\r\n                httpServletResponse.flushBuffer();\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nController code: \r\n\r\n```java\r\n@GetMapping(produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, path = &quot;/1&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; download1() {\r\n return ResponseEntity .ok()\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot; +\r\n                       &quot;test&quot; +\r\n                        &quot;.xlsx\\&quot;&quot;)\r\n                .body(exportService::export);\r\n    }\r\n\r\n    @GetMapping(produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, path = &quot;/2&quot;)\r\n    public void download2(final HttpServletResponse httpServletResponse) throws IOException {\r\n\r\n        httpServletResponse.setHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n        httpServletResponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot; +\r\n                &quot;test2&quot; +\r\n                &quot;.xlsx\\&quot;&quot;);\r\n\r\n        exportService.export(httpServletResponse);\r\n    }\r\n\r\n```\r\n```\r\nstatic class TestBook extends SXSSFWorkbook {\r\n        public TestBook() {\r\n            super(-1);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\noriginam write method looks like: \r\n```\r\n    public void write(OutputStream stream) throws IOException {\r\n        flushSheets();\r\n\r\n        //Save the template\r\n        File tmplFile = TempFile.createTempFile(&quot;poi-sxssf-template&quot;, &quot;.xlsx&quot;);\r\n        boolean deleted;\r\n        try {\r\n            try (FileOutputStream os = new FileOutputStream(tmplFile)) {\r\n                _wb.write(os);\r\n            }\r\n\r\n            //Substitute the template entries with the generated sheet data files\r\n            try (\r\n                    ZipSecureFile zf = new ZipSecureFile(tmplFile);\r\n                    ZipFileZipEntrySource source = new ZipFileZipEntrySource(zf)\r\n            ) {\r\n                injectData(source, stream);\r\n            }\r\n        } finally {\r\n            deleted = tmplFile.delete();\r\n        }\r\n        if (!deleted) {\r\n            throw new IOException(&quot;Could not delete temporary file after processing: &quot; + tmplFile);\r\n        }\r\n    }\r\n```\r\n  ","title":"Apache POI streaming write XLSX directly to IO","body":"<p>I have a web application where I want to return XLSX with a huge number of records without OOM. I want to write every page to OutputStream and flush in the loop. The problem is that I get an exception.</p>\n<pre><code>java.io.IOException: Stream closed\n    at java.base/java.io.BufferedWriter.ensureOpen(BufferedWriter.java:132) ~[na:na]\n    at java.base/java.io.BufferedWriter.implWrite(BufferedWriter.java:325) ~[na:na]\n    at java.base/java.io.BufferedWriter.write(BufferedWriter.java:313) ~[na:na]\n    at java.base/java.io.Writer.write(Writer.java:278) ~[na:na]\n</code></pre>\n<p>Is it possible to write data to OS page by page or only possible way is loading everything to memory?</p>\n<p>My code is:</p>\n<pre><code>  public void export(final OutputStream os)  {\n        \n        try (SXSSFWorkbook workbook = new SXSSFWorkbook(-1)) {\n\n            final SXSSFSheet sheet = workbook.createSheet();\n\n\n            for (int i = 0; i &lt; 100; i++) {\n                final SXSSFRow row = sheet.createRow(i);\n                final SXSSFCell cell = row.createCell(0, CellType.STRING);\n                cell.setCellValue(&quot;Test&quot;);\n\n                try {\n                    workbook.writeAvoidingTempFiles(os);\n                    os.flush();\n                } catch (IOException e) {\n                    log.info(&quot;Error&quot;, e);\n                }\n\n            }\n            workbook.dispose();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n\npublic void export(final HttpServletResponse httpServletResponse) throws IOException {\n        \n        try (TestBook workbook = new TestBook()) {\n\n            final SXSSFSheet sheet = workbook.createSheet();\n\n\n            for (int i = 0; i &lt; 100; i++) {\n                final SXSSFRow row = sheet.createRow(i);\n                final SXSSFCell cell = row.createCell(0, CellType.STRING);\n                cell.setCellValue(&quot;Test&quot;);\n                workbook.write(httpServletResponse.getOutputStream());\n                httpServletResponse.flushBuffer();\n            }\n        }\n    }\n\n</code></pre>\n<p>Controller code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, path = &quot;/1&quot;)\n    public ResponseEntity&lt;StreamingResponseBody&gt; download1() {\n return ResponseEntity .ok()\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot; +\n                       &quot;test&quot; +\n                        &quot;.xlsx\\&quot;&quot;)\n                .body(exportService::export);\n    }\n\n    @GetMapping(produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, path = &quot;/2&quot;)\n    public void download2(final HttpServletResponse httpServletResponse) throws IOException {\n\n        httpServletResponse.setHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_OCTET_STREAM_VALUE);\n        httpServletResponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot; +\n                &quot;test2&quot; +\n                &quot;.xlsx\\&quot;&quot;);\n\n        exportService.export(httpServletResponse);\n    }\n\n</code></pre>\n<pre><code>static class TestBook extends SXSSFWorkbook {\n        public TestBook() {\n            super(-1);\n        }\n    }\n</code></pre>\n<p>originam write method looks like:</p>\n<pre><code>    public void write(OutputStream stream) throws IOException {\n        flushSheets();\n\n        //Save the template\n        File tmplFile = TempFile.createTempFile(&quot;poi-sxssf-template&quot;, &quot;.xlsx&quot;);\n        boolean deleted;\n        try {\n            try (FileOutputStream os = new FileOutputStream(tmplFile)) {\n                _wb.write(os);\n            }\n\n            //Substitute the template entries with the generated sheet data files\n            try (\n                    ZipSecureFile zf = new ZipSecureFile(tmplFile);\n                    ZipFileZipEntrySource source = new ZipFileZipEntrySource(zf)\n            ) {\n                injectData(source, stream);\n            }\n        } finally {\n            deleted = tmplFile.delete();\n        }\n        if (!deleted) {\n            throw new IOException(&quot;Could not delete temporary file after processing: &quot; + tmplFile);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","auth0"],"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1693009404,"post_id":76980925,"comment_id":135707800,"body_markdown":"I&#39;d be happy to help! I work for Auth0 and I&#39;ve done a lot with Spring Security over the years. If you don&#39;t find an answer here, let me know.","body":"I&#39;d be happy to help! I work for Auth0 and I&#39;ve done a lot with Spring Security over the years. If you don&#39;t find an answer here, let me know."}],"answers":[{"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1693029903,"post_id":76981616,"comment_id":135708823,"body_markdown":"This answer has NOTHING to do with the question at all. How could an explicit configured SecurityFilterChain with specifically added AuthenticationFilter without any further explanation help a newbie? This is nothing but confusing.","body":"This answer has NOTHING to do with the question at all. How could an explicit configured SecurityFilterChain with specifically added AuthenticationFilter without any further explanation help a newbie? This is nothing but confusing."}],"tags":[],"owner":{"account_id":19741384,"reputation":77,"user_id":14454716,"display_name":"Kabil"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693025880,"creation_date":1693025880,"answer_id":76981616,"question_id":76980925,"body_markdown":"recently I also found this difficult, but somehow I managed to tackle this by learning the [lambda][1] a little deeper.\r\n\r\n\r\nand this is how I configured the &#39;[securityFilterChain][2]()&#39;\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfiguration {\r\n    \r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n        private final AuthenticationProvider authProvider;\r\n    \r\n    \r\n        @Bean\r\n       public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf(AbstractHttpConfigurer::disable);\r\n            http\r\n                    .authorizeHttpRequests(\r\n                            (request)-&gt;\r\n                                    request\r\n                    .requestMatchers(&quot;api/auth/**&quot;).permitAll().anyRequest().authenticated());\r\n            http\r\n                    .sessionManagement(\r\n                            (session)-&gt;\r\n                                    session\r\n                                            .sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            http\r\n                    .authenticationProvider(authProvider);\r\n            http\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n       }\r\n\r\n\r\n  [1]: https://www.youtube.com/playlist?list=PLqq-6Pq4lTTa9YGfyhyW2CqdtW9RtY-I3\r\n  [2]: https://www.youtube.com/watch?v=KxqlJblhzfI","title":"Spring Security deprecated methods","body":"<p>recently I also found this difficult, but somehow I managed to tackle this by learning the <a href=\"https://www.youtube.com/playlist?list=PLqq-6Pq4lTTa9YGfyhyW2CqdtW9RtY-I3\" rel=\"nofollow noreferrer\">lambda</a> a little deeper.</p>\n<p>and this is how I configured the '<a href=\"https://www.youtube.com/watch?v=KxqlJblhzfI\" rel=\"nofollow noreferrer\">securityFilterChain</a>()'</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authProvider;\n\n\n    @Bean\n   public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable);\n        http\n                .authorizeHttpRequests(\n                        (request)-&gt;\n                                request\n                .requestMatchers(&quot;api/auth/**&quot;).permitAll().anyRequest().authenticated());\n        http\n                .sessionManagement(\n                        (session)-&gt;\n                                session\n                                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http\n                .authenticationProvider(authProvider);\n        http\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4609024,"reputation":85,"user_id":3737666,"display_name":"Artur Uvarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694777551,"creation_date":1694777551,"answer_id":77112007,"question_id":76980925,"body_markdown":"I encountered numerous errors while attempting to validate the token, with CORS-related issues being prominent among them.\r\n\r\nBy adding the following line to my app.properties, I discovered that the request method from my frontend was &quot;OPTIONS&quot; instead of the &quot;GET&quot; I had intended:\r\n\r\n    logging.level.org.springframework.security=TRACE\r\n\r\nTo address this, I included a specific line in my matchers. While this resolved the issue, I&#39;m uncertain about its security implications.\r\n\r\n    .requestMatchers(HttpMethod.OPTIONS, &quot;/places/**&quot;).permitAll()","title":"Spring Security deprecated methods","body":"<p>I encountered numerous errors while attempting to validate the token, with CORS-related issues being prominent among them.</p>\n<p>By adding the following line to my app.properties, I discovered that the request method from my frontend was &quot;OPTIONS&quot; instead of the &quot;GET&quot; I had intended:</p>\n<pre><code>logging.level.org.springframework.security=TRACE\n</code></pre>\n<p>To address this, I included a specific line in my matchers. While this resolved the issue, I'm uncertain about its security implications.</p>\n<pre><code>.requestMatchers(HttpMethod.OPTIONS, &quot;/places/**&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":4609024,"reputation":85,"user_id":3737666,"display_name":"Artur Uvarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77112007,"answer_count":2,"score":0,"last_activity_date":1694777551,"creation_date":1693004165,"question_id":76980925,"body_markdown":"Currently I&#39;m learning Java Spring Boot, and trying to implement auth0 in my backend app. I&#39;m stuck with configuring SecurityFilterChain - in tutorial at spring academy they use deprecated methods to configure filter chain, authorizeRequests not used without parameters, but through lambda function. I found how to implement simple login-password authorization, but I want to use JWT token which I receive after login in my react app\r\n\r\nWhere I can read about latest usage of spring security, because both spring and auth0 resources use deprecated components?\r\n\r\nThank you and sorry if it is a dumb question, I tried google it","title":"Spring Security deprecated methods","body":"<p>Currently I'm learning Java Spring Boot, and trying to implement auth0 in my backend app. I'm stuck with configuring SecurityFilterChain - in tutorial at spring academy they use deprecated methods to configure filter chain, authorizeRequests not used without parameters, but through lambda function. I found how to implement simple login-password authorization, but I want to use JWT token which I receive after login in my react app</p>\n<p>Where I can read about latest usage of spring security, because both spring and auth0 resources use deprecated components?</p>\n<p>Thank you and sorry if it is a dumb question, I tried google it</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":801373,"reputation":179,"user_id":865604,"accept_rate":50,"display_name":"Romain Moreau"},"score":0,"creation_date":1394720524,"post_id":22380119,"comment_id":34023655,"body_markdown":"Are you using Maven or Gradle ?","body":"Are you using Maven or Gradle ?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1394723807,"post_id":22380119,"comment_id":34026479,"body_markdown":"Your `ApplicationContext` is the wrong type (`AnnotationConfigApplicationContext`), so it&#39;s not a webapp. It should default to a value that depends on your classpath, so it looks like that is being set or defaulted the wrong way. Maybe you have an `application.properties` or an ENV var your are not showing?","body":"Your <code>ApplicationContext</code> is the wrong type (<code>AnnotationConfigApplicationContext</code>), so it&#39;s not a webapp. It should default to a value that depends on your classpath, so it looks like that is being set or defaulted the wrong way. Maybe you have an <code>application.properties</code> or an ENV var your are not showing?"},{"owner":{"account_id":936367,"reputation":4282,"user_id":965229,"accept_rate":84,"display_name":"johnsam"},"score":0,"creation_date":1394725098,"post_id":22380119,"comment_id":34027473,"body_markdown":"You are right. My ApplicationContext is incorrect. I don&#39;t have an application.properties file. How do I make it run the right ApplicationContext? Maybe a web ApplicationContext?","body":"You are right. My ApplicationContext is incorrect. I don&#39;t have an application.properties file. How do I make it run the right ApplicationContext? Maybe a web ApplicationContext?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1394726204,"post_id":22380119,"comment_id":34028366,"body_markdown":"Let&#39;s try and simplify the build. Can you remove all dependencies except spring-boot-starter-web, and then run with `--debug` on the command line and post the logs back here, please?","body":"Let&#39;s try and simplify the build. Can you remove all dependencies except spring-boot-starter-web, and then run with <code>--debug</code> on the command line and post the logs back here, please?"},{"owner":{"account_id":936367,"reputation":4282,"user_id":965229,"accept_rate":84,"display_name":"johnsam"},"score":0,"creation_date":1394726757,"post_id":22380119,"comment_id":34028808,"body_markdown":"Dave, I updated my original post since the responses were too long.","body":"Dave, I updated my original post since the responses were too long."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1394727494,"post_id":22380119,"comment_id":34029304,"body_markdown":"It&#39;s not really telling us anything new (except that Jetty isn&#39;t the problem). Can you double check your environment (`env | grep -i spring` for instance)? And the output from `--debug` would really help so if you can paste it somewhere that would be great.","body":"It&#39;s not really telling us anything new (except that Jetty isn&#39;t the problem). Can you double check your environment (<code>env | grep -i spring</code> for instance)? And the output from <code>--debug</code> would really help so if you can paste it somewhere that would be great."},{"owner":{"account_id":936367,"reputation":4282,"user_id":965229,"accept_rate":84,"display_name":"johnsam"},"score":0,"creation_date":1394738897,"post_id":22380119,"comment_id":34037388,"body_markdown":"Dave, env | grep -i spring\nOLDPWD=/u/xxx/dev/gs-spring-boot\nPWD=/u/xxx/dev/gs-spring-boot/initial\njava  -jar --debug build/libs/gs-spring-boot-0.1.0.jar\nUnrecognized option: --debug\nCould not create the Java virtual machine.","body":"Dave, env | grep -i spring OLDPWD=/u/xxx/dev/gs-spring-boot PWD=/u/xxx/dev/gs-spring-boot/initial java  -jar --debug build/libs/gs-spring-boot-0.1.0.jar Unrecognized option: --debug Could not create the Java virtual machine."},{"owner":{"account_id":936367,"reputation":4282,"user_id":965229,"accept_rate":84,"display_name":"johnsam"},"score":0,"creation_date":1394741189,"post_id":22380119,"comment_id":34038678,"body_markdown":"Dave it is working now. There was a bad line in build.gradle. I&#39;ve updated my original post.","body":"Dave it is working now. There was a bad line in build.gradle. I&#39;ve updated my original post."},{"owner":{"account_id":4351632,"reputation":8739,"user_id":3551773,"accept_rate":10,"display_name":"Bravo"},"score":0,"creation_date":1517231177,"post_id":22380119,"comment_id":83997223,"body_markdown":"my spring boot app , has that dependency , but still is restarting , is their any other i need to check , can you please help me","body":"my spring boot app , has that dependency , but still is restarting , is their any other i need to check , can you please help me"}],"answers":[{"comments":[{"owner":{"account_id":4509679,"reputation":277,"user_id":3666156,"accept_rate":64,"display_name":"AMAN KUMAR"},"score":11,"creation_date":1497966003,"post_id":22409655,"comment_id":76294646,"body_markdown":"I have a simple java application then why we need to add this dependency?","body":"I have a simple java application then why we need to add this dependency?"},{"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"score":5,"creation_date":1522322454,"post_id":22409655,"comment_id":86116694,"body_markdown":"Please mention that this dependency needs to be the first one.","body":"Please mention that this dependency needs to be the first one."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1522333230,"post_id":22409655,"comment_id":86124702,"body_markdown":"It doesn’t though. Just on the classpath.","body":"It doesn’t though. Just on the classpath."},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":1,"creation_date":1527492919,"post_id":22409655,"comment_id":88133010,"body_markdown":"For gradle ,i had used that dependencies but it&#39;s not working.","body":"For gradle ,i had used that dependencies but it&#39;s not working."},{"owner":{"account_id":2361190,"reputation":337,"user_id":2067841,"accept_rate":43,"display_name":"Kanav Narula"},"score":0,"creation_date":1537279827,"post_id":22409655,"comment_id":91721712,"body_markdown":"This property is only working in linux not in windows.","body":"This property is only working in linux not in windows."},{"owner":{"account_id":1823821,"reputation":545,"user_id":1657199,"display_name":"emirhosseini"},"score":0,"creation_date":1544214322,"post_id":22409655,"comment_id":94210599,"body_markdown":"I already have that and it&#39;s still shutting down when running in a container on kubernetes.","body":"I already have that and it&#39;s still shutting down when running in a container on kubernetes."},{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":1,"creation_date":1547284665,"post_id":22409655,"comment_id":95146572,"body_markdown":"My application had  the embedded container as stated above AND spring-boot-starter-tomcat  which was all generated by springinitialzr.  All I had to do was remove &lt;scope&gt;provided&lt;/scope&gt; from the &quot;tomcat one&quot;. Why are there two dependences for tomcat in my pom?!","body":"My application had  the embedded container as stated above AND spring-boot-starter-tomcat  which was all generated by springinitialzr.  All I had to do was remove &lt;scope&gt;provided&lt;/scope&gt; from the &quot;tomcat one&quot;. Why are there two dependences for tomcat in my pom?!"},{"owner":{"account_id":1228802,"reputation":279,"user_id":1193815,"accept_rate":50,"display_name":"old_soul_on_the_run"},"score":1,"creation_date":1574226994,"post_id":22409655,"comment_id":104151828,"body_markdown":"This solved my problem as well. But I am a bit confused that why would we always need spring-boot-starter-web in order to successfully start spring boot app.","body":"This solved my problem as well. But I am a bit confused that why would we always need spring-boot-starter-web in order to successfully start spring boot app."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1574267330,"post_id":22409655,"comment_id":104173499,"body_markdown":"You don&#39;t (need the starter). The app started successfully before you did that. It also exited successfully. If you don&#39;t want it to exit you have to keep it busy, and starting a web server is one way to do that.","body":"You don&#39;t (need the starter). The app started successfully before you did that. It also exited successfully. If you don&#39;t want it to exit you have to keep it busy, and starting a web server is one way to do that."},{"owner":{"account_id":6347321,"reputation":89,"user_id":4927433,"display_name":"M R Javeed"},"score":0,"creation_date":1590161407,"post_id":22409655,"comment_id":109584490,"body_markdown":"adding below dependency works for me:\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\nRegards,\nRasool Javeed Mohammad","body":"adding below dependency works for me:  &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;  Regards, Rasool Javeed Mohammad"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":2,"creation_date":1590838779,"post_id":22409655,"comment_id":109835735,"body_markdown":"for me compile didn&#39;t work, but when I changed to implementation it didn&#39;t run in &quot;java -jar xyz.jar&quot; in command line. Any idea?","body":"for me compile didn&#39;t work, but when I changed to implementation it didn&#39;t run in &quot;java -jar xyz.jar&quot; in command line. Any idea?"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1692385430,"post_id":22409655,"comment_id":135620834,"body_markdown":"@DaveSyer - Disagree. My code is full of annotations like `@RestController` and `@PostMapping`. It compiled those fine, so at some level it was understood that this is supposed to be a web app. It should have logged literally anything to convey that a dependency was missing keeping this from being the web app it&#39;s supposed to be.","body":"@DaveSyer - Disagree. My code is full of annotations like <code>@RestController</code> and <code>@PostMapping</code>. It compiled those fine, so at some level it was understood that this is supposed to be a web app. It should have logged literally anything to convey that a dependency was missing keeping this from being the web app it&#39;s supposed to be."}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":12,"down_vote_count":2,"up_vote_count":529,"is_accepted":true,"score":527,"last_activity_date":1469645227,"creation_date":1394811777,"answer_id":22409655,"question_id":22380119,"body_markdown":"Resolution: the app is not a webapp because it doesn&#39;t have an embedded container (e.g. Tomcat) on the classpath. Adding one fixed it. If you are using **Maven**, then add this in `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor **Gradle** (`build.gradle`) it looks like\r\n\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    }","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Resolution: the app is not a webapp because it doesn't have an embedded container (e.g. Tomcat) on the classpath. Adding one fixed it. If you are using <strong>Maven</strong>, then add this in <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For <strong>Gradle</strong> (<code>build.gradle</code>) it looks like</p>\n\n<pre><code>dependencies {\n    compile 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6532405,"reputation":127,"user_id":5053142,"display_name":"Ajay Menon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482685234,"creation_date":1482685234,"answer_id":41322976,"question_id":22380119,"body_markdown":"I think the right answer was at https://stackoverflow.com/questions/24214224/why-does-spring-boot-web-app-close-immediately-after-starting about the starter-tomcat not being set and if set and running through the IDE, the provided scope should be commented off. Scope doesn&#39;t create an issue while running through command. I wonder why.\r\n\r\nAnyways just added my additional thoughts.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I think the right answer was at <a href=\"https://stackoverflow.com/questions/24214224/why-does-spring-boot-web-app-close-immediately-after-starting\">Why does Spring Boot web app close immediately after starting?</a> about the starter-tomcat not being set and if set and running through the IDE, the provided scope should be commented off. Scope doesn't create an issue while running through command. I wonder why.</p>\n\n<p>Anyways just added my additional thoughts.</p>\n"},{"comments":[{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":3,"creation_date":1509306296,"post_id":43118630,"comment_id":80955379,"body_markdown":"@georgiana_e My application started working after I removed tomcat dependency :D What&#39;s going on??","body":"@georgiana_e My application started working after I removed tomcat dependency :D What&#39;s going on??"},{"owner":{"account_id":2471685,"reputation":521,"user_id":2153380,"accept_rate":67,"display_name":"CᴴᴀZ"},"score":0,"creation_date":1523888522,"post_id":43118630,"comment_id":86734134,"body_markdown":"I replaced my [default Embedded Container with Jetty](https://www.mkyong.com/spring-boot/spring-boot-jetty-as-embedded-server/) to fix the error. Seems like my Tomcat JARs were broken, and an .m2 purge was needed.","body":"I replaced my <a href=\"https://www.mkyong.com/spring-boot/spring-boot-jetty-as-embedded-server/\" rel=\"nofollow noreferrer\">default Embedded Container with Jetty</a> to fix the error. Seems like my Tomcat JARs were broken, and an .m2 purge was needed."},{"owner":{"account_id":8962274,"reputation":505,"user_id":6684430,"accept_rate":0,"display_name":"Rafael Andrade"},"score":0,"creation_date":1657596124,"post_id":43118630,"comment_id":128842321,"body_markdown":"it worked for me, but why?","body":"it worked for me, but why?"},{"owner":{"account_id":4563366,"reputation":1760,"user_id":3705055,"accept_rate":77,"display_name":"DragonKnight"},"score":0,"creation_date":1660012827,"post_id":43118630,"comment_id":129426574,"body_markdown":"remove `spring.main.web-application-type=none` from application.properties as well if didn&#39;t work.","body":"remove <code>spring.main.web-application-type=none</code> from application.properties as well if didn&#39;t work."},{"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"score":0,"creation_date":1672898969,"post_id":43118630,"comment_id":132377939,"body_markdown":"It&#39;s possible that you were using the spring-boot-starter-tomcat dependency to include an embedded Tomcat server in your Spring Boot application. When you removed this dependency, you also removed the embedded Tomcat server, which could explain why the server is no longer shutting down properly. I guess you understand now","body":"It&#39;s possible that you were using the spring-boot-starter-tomcat dependency to include an embedded Tomcat server in your Spring Boot application. When you removed this dependency, you also removed the embedded Tomcat server, which could explain why the server is no longer shutting down properly. I guess you understand now"}],"tags":[],"owner":{"account_id":7836979,"reputation":1181,"user_id":7581696,"display_name":"N. berouain"},"comment_count":5,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1684879995,"creation_date":1490878767,"answer_id":43118630,"question_id":22380119,"body_markdown":"I had the same problem but when I removed the below dependency it worked fine\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nit started working again.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I had the same problem but when I removed the below dependency it worked fine</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>it started working again.</p>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683282561,"post_id":44009328,"comment_id":134346384,"body_markdown":"Thanks, this was the solution - sometimes to ignore warnings helps ;-)","body":"Thanks, this was the solution - sometimes to ignore warnings helps ;-)"}],"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495022385,"creation_date":1494960516,"answer_id":44009328,"question_id":22380119,"body_markdown":"In my case the problem was introduced when I fixed a static analysis error that the return value of a method was not used.\r\n\r\nOld working code in my Application.java was:\r\n\r\n        public static void main(String[] args) {        \r\n          SpringApplication.run(Application.class, args);\r\n        }\r\n\r\nNew code that introduced the problem was:\r\n\r\n        public static void main(String[] args) {        \r\n          try (ConfigurableApplicationContext context = \r\n              SpringApplication.run(Application.class, args)) {\r\n            LOG.trace(&quot;context: &quot; + context);\r\n          }\r\n        }\r\n\r\nObviously, the try with resource block will close the context after starting the application which will result in the application exiting with status 0. This was a case where the resource leak error reported by snarqube static analysis should be ignored.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>In my case the problem was introduced when I fixed a static analysis error that the return value of a method was not used.</p>\n\n<p>Old working code in my Application.java was:</p>\n\n<pre><code>    public static void main(String[] args) {        \n      SpringApplication.run(Application.class, args);\n    }\n</code></pre>\n\n<p>New code that introduced the problem was:</p>\n\n<pre><code>    public static void main(String[] args) {        \n      try (ConfigurableApplicationContext context = \n          SpringApplication.run(Application.class, args)) {\n        LOG.trace(\"context: \" + context);\n      }\n    }\n</code></pre>\n\n<p>Obviously, the try with resource block will close the context after starting the application which will result in the application exiting with status 0. This was a case where the resource leak error reported by snarqube static analysis should be ignored.</p>\n"},{"comments":[{"owner":{"account_id":3634103,"reputation":1249,"user_id":3029620,"display_name":"user3029620"},"score":0,"creation_date":1506543333,"post_id":46274214,"comment_id":79868618,"body_markdown":"once required jars are missing, dispatcherServlet does not start. So above solution works for me.","body":"once required jars are missing, dispatcherServlet does not start. So above solution works for me."}],"tags":[],"owner":{"account_id":330394,"reputation":671,"user_id":654487,"display_name":"chatsap"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1505726386,"creation_date":1505721174,"answer_id":46274214,"question_id":22380119,"body_markdown":"Here is how you can fix it:\r\n\r\n1. Check if you don&#39;t have dependency on spring-boot-starter-web in your pom.xml file. To get you pom.xml file right, use this link [start.spring.io][1]\r\n\r\n2. If you have above dependency, but still facing the issue, it is highly possible that your embedded tomcat jars are present. \r\nTo confirm this, run maven build in debug mode - \r\n\r\n&gt; `mvn spring-boot:run --debug`\r\n\r\n and look for messages like - \r\n\r\n&gt; `[WARNING] error reading\r\n&gt; /Users/sparrowmac1/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.20/tomcat-embed-core-8.5.20.jar;\r\n&gt; invalid LOC header (bad signature) [WARNING] error reading\r\n&gt; /Users/sparrowmac1/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.8.10/jackson-core-2.8.10.jar;\r\n&gt; invalid LOC header (bad signature)`\r\n\r\nIf such messages are present, purge your local maven repo and try again - \r\n\r\n&gt; `mvn dependency:purge-local-repository`\r\n\r\n\r\n  [1]: http://start.spring.io","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Here is how you can fix it:</p>\n\n<ol>\n<li><p>Check if you don't have dependency on spring-boot-starter-web in your pom.xml file. To get you pom.xml file right, use this link <a href=\"http://start.spring.io\" rel=\"noreferrer\">start.spring.io</a></p></li>\n<li><p>If you have above dependency, but still facing the issue, it is highly possible that your embedded tomcat jars are present. \nTo confirm this, run maven build in debug mode - </p></li>\n</ol>\n\n<blockquote>\n  <p><code>mvn spring-boot:run --debug</code></p>\n</blockquote>\n\n<p>and look for messages like - </p>\n\n<blockquote>\n  <p><code>[WARNING] error reading\n  /Users/sparrowmac1/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.20/tomcat-embed-core-8.5.20.jar;\n  invalid LOC header (bad signature) [WARNING] error reading\n  /Users/sparrowmac1/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.8.10/jackson-core-2.8.10.jar;\n  invalid LOC header (bad signature)</code></p>\n</blockquote>\n\n<p>If such messages are present, purge your local maven repo and try again - </p>\n\n<blockquote>\n  <p><code>mvn dependency:purge-local-repository</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4688724,"reputation":349,"user_id":3795456,"display_name":"kirenpillay"},"score":0,"creation_date":1697208995,"post_id":47293212,"comment_id":136255161,"body_markdown":"I don&#39;t have the close call but my application still stops?","body":"I don&#39;t have the close call but my application still stops?"}],"tags":[],"owner":{"account_id":7172640,"reputation":1225,"user_id":5479655,"accept_rate":44,"display_name":"Guchelkaben"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1510685476,"creation_date":1510685476,"answer_id":47293212,"question_id":22380119,"body_markdown":"Maybe it does not fit to your code but i found out if you have a code snippet like this:\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootApacheKafkaApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringBootApacheKafkaApplication.class,args).close();\r\n    \t}\r\n    }\r\n\r\nthen just remove the close() method. That&#39;s fixed my problem! Maybe I can help someone with that","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Maybe it does not fit to your code but i found out if you have a code snippet like this:</p>\n\n<pre><code>@SpringBootApplication\npublic class SpringBootApacheKafkaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootApacheKafkaApplication.class,args).close();\n    }\n}\n</code></pre>\n\n<p>then just remove the close() method. That's fixed my problem! Maybe I can help someone with that</p>\n"},{"tags":[],"owner":{"account_id":10593696,"reputation":114,"user_id":7803285,"display_name":"RAUL"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521496336,"creation_date":1521496336,"answer_id":49372950,"question_id":22380119,"body_markdown":"this work with spring boot 2.0.0\r\n\r\nreplace\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nwith\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;9.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n   ","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>this work with spring boot 2.0.0</p>\n\n<p>replace</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n&lt;version&gt;9.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521718939,"creation_date":1521718939,"answer_id":49427779,"question_id":22380119,"body_markdown":"In my case I fixed this issue like below:-\r\n\r\n1. First I removed (apache) `C:\\Users\\myuserId\\.m2\\repository\\org\\apache`\r\n\r\n2. I added below dependencies in my `pom.xml` file\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n3. I have changed the default socket by adding below lines in resource file  `..\\yourprojectfolder\\src\\main\\resourcesand\\application.properties`(I manually created this file)\r\n\r\n         server.port=8099\r\n         spring.profiles.active=@spring.profiles.active@\r\n\r\n for that I have added below block in my `pom.xml` under `&lt;build&gt;` section.\r\n      \r\n\r\n\r\n          &lt;build&gt;\r\n          .\r\n          .\r\n         &lt;resources&gt;\r\n\t        &lt;resource&gt;\r\n\t            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t            &lt;filtering&gt;true&lt;/filtering&gt;\r\n\t        &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\t       .\r\n           .\t\r\n          &lt;/build&gt;\r\n\r\nMy final `pom.xml` file look like\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;com.bhaiti&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-rest&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t\t&lt;name&gt;spring-boot-rest&lt;/name&gt;\r\n\t\t&lt;description&gt;Welcome project for Spring Boot&lt;/description&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;resources&gt;\r\n\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;/resources&gt;\r\n\t\t\t\r\n\t\t&lt;/build&gt;\r\n\r\n\r\n\t&lt;/project&gt;\r\n\r\n\r\n","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>In my case I fixed this issue like below:-</p>\n\n<ol>\n<li><p>First I removed (apache) <code>C:\\Users\\myuserId\\.m2\\repository\\org\\apache</code></p></li>\n<li><p>I added below dependencies in my <code>pom.xml</code> file</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p>I have changed the default socket by adding below lines in resource file  <code>..\\yourprojectfolder\\src\\main\\resourcesand\\application.properties</code>(I manually created this file)</p>\n\n<pre><code> server.port=8099\n spring.profiles.active=@spring.profiles.active@\n</code></pre>\n\n<p>for that I have added below block in my <code>pom.xml</code> under <code>&lt;build&gt;</code> section.</p>\n\n<pre><code>  &lt;build&gt;\n  .\n  .\n &lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n   .\n   .    \n  &lt;/build&gt;\n</code></pre></li>\n</ol>\n\n<p>My final <code>pom.xml</code> file look like</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.bhaiti&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-rest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;spring-boot-rest&lt;/name&gt;\n    &lt;description&gt;Welcome project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537433920,"creation_date":1537433920,"answer_id":52421266,"question_id":22380119,"body_markdown":"Just another possibility, \r\n\r\nI replaced \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwith \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand it started without any issues","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Just another possibility, </p>\n\n<p>I replaced </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>with </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and it started without any issues</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545500660,"creation_date":1545500660,"answer_id":53897990,"question_id":22380119,"body_markdown":"If you don&#39;t want to make your spring a web application then just add `@EnableAsync` or `@EnableScheduling` to your Starter\r\n\r\n\r\n    @EnableAsync\r\n    @SpringBootApplication\r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \t}\r\n\r\n    }\r\n\r\n","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>If you don't want to make your spring a web application then just add <code>@EnableAsync</code> or <code>@EnableScheduling</code> to your Starter</p>\n\n<pre><code>@EnableAsync\n@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904228,"reputation":578,"user_id":939496,"display_name":"Pedro Muniz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1678209502,"creation_date":1563370828,"answer_id":57077292,"question_id":22380119,"body_markdown":"Using gradle, I just replaced this line at build.gradle.kts file in dependencies block\r\n\r\n    providedRuntime(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\r\nto this\r\n\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\r\nand it worked fine.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Using gradle, I just replaced this line at build.gradle.kts file in dependencies block</p>\n<pre><code>providedRuntime(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\n</code></pre>\n<p>to this</p>\n<pre><code>compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n</code></pre>\n<p>and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578399126,"creation_date":1578399126,"answer_id":59628203,"question_id":22380119,"body_markdown":"in my case i already had the maven dependency to &#39;spring-boot-starter-web&#39; and the project would start fine without auto-stopping when i run it as springboot app **from within the IDE**. however, when i deploy it to **K8s**, the app would start and auto-stop immediately. So i modified my main app class to extend SpringBootServletInitializer and this seems to have fixed the auto-stopping.\r\n\r\n    @SpringBootApplication public class MyApp extends SpringBootServletInitializer {  public static void main(String[] args) {\r\n    SpringApplication.run(MyApp.class, args);  }}","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>in my case i already had the maven dependency to 'spring-boot-starter-web' and the project would start fine without auto-stopping when i run it as springboot app <strong>from within the IDE</strong>. however, when i deploy it to <strong>K8s</strong>, the app would start and auto-stop immediately. So i modified my main app class to extend SpringBootServletInitializer and this seems to have fixed the auto-stopping.</p>\n\n<pre><code>@SpringBootApplication public class MyApp extends SpringBootServletInitializer {  public static void main(String[] args) {\nSpringApplication.run(MyApp.class, args);  }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":458224,"reputation":37517,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596406774,"creation_date":1596406774,"answer_id":63221558,"question_id":22380119,"body_markdown":"I went through the answers here and elsewhere and still had issues.  It turned that (like the op), I was running in kubernetes, and the app was fine, but kubernetes had an issue.\r\n\r\nI forgot to have my app start based on my port environment variable.  So, kubernetes/helm was telling it to run on 8443 and to liveness probe that, but it was running on some other port (like 8123) from my application.properties.\r\n\r\nThe kubernetes events (get events) showed the live-ness probe was failing, so kubernetes was killing the pod/app every 30 seconds or so.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I went through the answers here and elsewhere and still had issues.  It turned that (like the op), I was running in kubernetes, and the app was fine, but kubernetes had an issue.</p>\n<p>I forgot to have my app start based on my port environment variable.  So, kubernetes/helm was telling it to run on 8443 and to liveness probe that, but it was running on some other port (like 8123) from my application.properties.</p>\n<p>The kubernetes events (get events) showed the live-ness probe was failing, so kubernetes was killing the pod/app every 30 seconds or so.</p>\n"},{"tags":[],"owner":{"account_id":6942466,"reputation":721,"user_id":5328286,"display_name":"Erangad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601187069,"creation_date":1601187069,"answer_id":64085393,"question_id":22380119,"body_markdown":"I was having a similar problem. I only had the following starter web package.  \r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut it is not enough. You need to add a parent too to get other required dependencies.\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I was having a similar problem. I only had the following starter web package.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But it is not enough. You need to add a parent too to get other required dependencies.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"score":0,"creation_date":1608299695,"post_id":64194593,"comment_id":115548021,"body_markdown":"Basic problem is due to missing dependency as per accepted answer. Still the issue persist means, Michael&#39;s recommendation to be checked. For my case, log4j dependency has cyclic dependency and hence boot is getting stopped immediately without logging any details. After correcting log4j dependency, got the actual reason for failure.Thanks Michael for the hint.","body":"Basic problem is due to missing dependency as per accepted answer. Still the issue persist means, Michael&#39;s recommendation to be checked. For my case, log4j dependency has cyclic dependency and hence boot is getting stopped immediately without logging any details. After correcting log4j dependency, got the actual reason for failure.Thanks Michael for the hint."}],"tags":[],"owner":{"account_id":3058979,"reputation":169,"user_id":2592073,"display_name":"Michael Couck"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601814469,"creation_date":1601814469,"answer_id":64194593,"question_id":22380119,"body_markdown":"If you have a circular spring injected dependency it will fail without warning, depending on the level of logging, and a few other factors.\r\n\r\nClass A injects Class B, and Class B injects Class A. Via constructor, in this particular case.","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>If you have a circular spring injected dependency it will fail without warning, depending on the level of logging, and a few other factors.</p>\n<p>Class A injects Class B, and Class B injects Class A. Via constructor, in this particular case.</p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1675190706,"post_id":65050293,"comment_id":132874233,"body_markdown":"This. This. This. Thank you!!","body":"This. This. This. Thank you!!"}],"tags":[],"owner":{"account_id":9412458,"reputation":697,"user_id":7001067,"display_name":"Hourglasser"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1606571507,"creation_date":1606571507,"answer_id":65050293,"question_id":22380119,"body_markdown":"I initialized a new SPring boot project in IntelliJIdea with Spring Boot dev tools, but in pom.xml I had only dependency\r\n\r\n     ...\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     ...\r\n\r\n  \r\nYou need to have also artifact **spring-boot-starter-web**. Just add this dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I initialized a new SPring boot project in IntelliJIdea with Spring Boot dev tools, but in pom.xml I had only dependency</p>\n<pre><code> ...\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n &lt;/dependency&gt;\n ...\n</code></pre>\n<p>You need to have also artifact <strong>spring-boot-starter-web</strong>. Just add this dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1623947284,"post_id":65702342,"comment_id":120228752,"body_markdown":"Yup, this fixed my problem although I had the spring-boot-starter-web dependency I was wondering why it was being terminated and figured I had the spring.main.web-application-type=none property in application.properties","body":"Yup, this fixed my problem although I had the spring-boot-starter-web dependency I was wondering why it was being terminated and figured I had the spring.main.web-application-type=none property in application.properties"}],"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1610542216,"creation_date":1610542216,"answer_id":65702342,"question_id":22380119,"body_markdown":"My application is Spring boot batch and commenting below line in application.properties resolved the problem\r\n\r\n    spring.main.web-application-type=none","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>My application is Spring boot batch and commenting below line in application.properties resolved the problem</p>\n<pre><code>spring.main.web-application-type=none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13616153,"reputation":362,"user_id":9822004,"display_name":"MJL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613933556,"creation_date":1613933556,"answer_id":66305895,"question_id":22380119,"body_markdown":"I had this problem, and in my case it was caused by a simple clumsy mistake: my class had:\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication implements ApplicationRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n    public void run(ApplicationArguments args) throws Exception {\r\n\r\n    }\r\n}\r\n\r\nI removed the &quot;implements ApplicationRunner&quot; and the run method (which were there due to a copy-paste mistake) and then it worked","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>I had this problem, and in my case it was caused by a simple clumsy mistake: my class had:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication implements ApplicationRunner {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n}\n\npublic void run(ApplicationArguments args) throws Exception {\n\n}\n</code></pre>\n<p>}</p>\n<p>I removed the &quot;implements ApplicationRunner&quot; and the run method (which were there due to a copy-paste mistake) and then it worked</p>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621412526,"creation_date":1621412526,"answer_id":67599468,"question_id":22380119,"body_markdown":"If you are using Java 9 JPMS it is not enough to add spring-boot-starter-web as a dependency, as tomcat-embed lib would not be available at runtime and spring boot will not detect the app as web app.\r\n\r\nTo fix this make tomcat embed available via following directive added to your module-info.java for *main app*\r\n\r\n     requires org.apache.tomcat.embed.core;\r\n     ","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>If you are using Java 9 JPMS it is not enough to add spring-boot-starter-web as a dependency, as tomcat-embed lib would not be available at runtime and spring boot will not detect the app as web app.</p>\n<p>To fix this make tomcat embed available via following directive added to your module-info.java for <em>main app</em></p>\n<pre><code> requires org.apache.tomcat.embed.core;\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9873136,"reputation":41,"user_id":7311954,"display_name":"emsnguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660476365,"creation_date":1660476365,"answer_id":73351234,"question_id":22380119,"body_markdown":"In my case, the problem happened when I tried to insert 5000 records into database (it worked okay with fewer records)&lt;br/&gt;\r\nWhat worked for me: Uncomment devtools dependency in pom.xml file:&lt;br/&gt;\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>In my case, the problem happened when I tried to insert 5000 records into database (it worked okay with fewer records)<br/>\nWhat worked for me: Uncomment devtools dependency in pom.xml file:<br/></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8594459,"reputation":814,"user_id":6437920,"display_name":"Joel Wembo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662983728,"creation_date":1662983728,"answer_id":73688907,"question_id":22380119,"body_markdown":"Here is how you can fix it:\r\n\r\nCheck if you don&#39;t have dependency on spring-boot-starter-web in your pom.xml file. To get you pom.xml file right, use this link start.spring.io\r\n\r\nIf you have above dependency, but still facing the issue, it is highly possible that your embedded tomcat jars are present. To confirm this, run maven build in debug mode -\r\n\r\n    mvn spring-boot:run --debug","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Here is how you can fix it:</p>\n<p>Check if you don't have dependency on spring-boot-starter-web in your pom.xml file. To get you pom.xml file right, use this link start.spring.io</p>\n<p>If you have above dependency, but still facing the issue, it is highly possible that your embedded tomcat jars are present. To confirm this, run maven build in debug mode -</p>\n<pre><code>mvn spring-boot:run --debug\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673497974,"creation_date":1673497974,"answer_id":75091647,"question_id":22380119,"body_markdown":"if you want to see detail logs then you can run it with debug on using below command \r\n\r\n     java  -Ddebug -jar .\\app.jar\r\n\r\nFor me it was due to below exception \r\n\r\n     org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.getCurrentStackTrace()Ljava/ut\r\n","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>if you want to see detail logs then you can run it with debug on using below command</p>\n<pre><code> java  -Ddebug -jar .\\app.jar\n</code></pre>\n<p>For me it was due to below exception</p>\n<pre><code> org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.getCurrentStackTrace()Ljava/ut\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683393367,"creation_date":1683393367,"answer_id":76190162,"question_id":22380119,"body_markdown":"Removing this dependency worked for me\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.73&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; ","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>Removing this dependency worked for me</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;9.0.73&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077320,"reputation":654,"user_id":1850297,"accept_rate":76,"display_name":"metzelder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694777376,"creation_date":1694777376,"answer_id":77111988,"question_id":22380119,"body_markdown":"One more thing to check about this problem:\r\n\r\nIf you have opted-out web-application-type in your properties file, you have to remove it. Otherwise, application server does not start.\r\n\r\n      main:\r\n        web-application-type: none","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>One more thing to check about this problem:</p>\n<p>If you have opted-out web-application-type in your properties file, you have to remove it. Otherwise, application server does not start.</p>\n<pre><code>  main:\n    web-application-type: none\n</code></pre>\n"}],"owner":{"account_id":936367,"reputation":4282,"user_id":965229,"accept_rate":84,"display_name":"johnsam"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297878,"favorite_count":0,"down_vote_count":0,"up_vote_count":263,"accepted_answer_id":22409655,"answer_count":24,"score":263,"last_activity_date":1694777376,"creation_date":1394717238,"question_id":22380119,"body_markdown":"This is my first Spring Boot code. Unfortunately, it always shuts down. I was expecting it to run continuously so that my web client can get some data from the browser.\r\n\r\n    package hello;\r\n    import org.springframework.boot.*;\r\n    import org.springframework.boot.autoconfigure.*;\r\n    import org.springframework.stereotype.*;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @Controller\r\n    @EnableAutoConfiguration\r\n    public class SampleController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        String home() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(SampleController.class, args);\r\n        }\r\n    }\r\n\r\n\r\n    [@localhost initial]$ java -jar build/libs/gs-spring-boot-0.1.0.jar\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::            (v1.0.0.RC4)\r\n    \r\n    2014-03-13 09:20:24.805  INFO 14650 --- [           main] hello.SampleController                   : Starting SampleController on localhost.localdomain with PID 14650 (/home/xxx/dev/gs-spring-boot/initial/build/libs/gs-spring-boot-0.1.0.jar started by xxx)\r\n    2014-03-13 09:20:25.002  INFO 14650 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b9eec: startup date [Thu Mar 13 09:20:24 EDT 2014]; root of context hierarchy\r\n    2014-03-13 09:20:28.833  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Registering beans for JMX exposure on startup\r\n    2014-03-13 09:20:30.148  INFO 14650 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0\r\n    2014-03-13 09:20:30.154  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;requestMappingEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=requestMappingEndpoint]\r\n    2014-03-13 09:20:30.316  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;environmentEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=environmentEndpoint]\r\n    2014-03-13 09:20:30.335  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;healthEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=healthEndpoint]\r\n    2014-03-13 09:20:30.351  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;beansEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=beansEndpoint]\r\n    2014-03-13 09:20:30.376  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;infoEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=infoEndpoint]\r\n    2014-03-13 09:20:30.400  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;metricsEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=metricsEndpoint]\r\n    2014-03-13 09:20:30.413  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;traceEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=traceEndpoint]\r\n    2014-03-13 09:20:30.428  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;dumpEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=dumpEndpoint]\r\n    2014-03-13 09:20:30.450  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;autoConfigurationAuditEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=autoConfigurationAuditEndpoint]\r\n    2014-03-13 09:20:30.465  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;shutdownEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=shutdownEndpoint]\r\n    2014-03-13 09:20:30.548  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean &#39;configurationPropertiesReportEndpoint&#39;: registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=configurationPropertiesReportEndpoint]\r\n    2014-03-13 09:20:30.589  INFO 14650 --- [           main] hello.SampleController                   : Started SampleController in 7.396 seconds (JVM running for 9.569)\r\n    2014-03-13 09:20:30.608  INFO 14650 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@b9eec: startup date [Thu Mar 13 09:20:24 EDT 2014]; root of context hierarchy\r\n    2014-03-13 09:20:30.610  INFO 14650 --- [       Thread-2] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0\r\n    2014-03-13 09:20:30.624  INFO 14650 --- [       Thread-2] o.s.b.a.e.jmx.EndpointMBeanExporter      : Unregistering JMX-exposed beans on shutdown\r\n\r\nPlease advise. \r\n\r\nThanks\r\n\r\nP.S. build.gradle is the fault.\r\n\r\n    dependencies {\r\n        // tag::jetty[]\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n            **exclude module: &quot;spring-boot-starter-tomcat&quot;**\r\n        }\r\n\r\nOnce I took off the above line in bold, everything works. My application context now is correct. Thanks Dave\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::            (v1.0.0.RC4)\r\n    \r\n    2014-03-13 13:58:08.965  INFO 7307 --- [           main] hello.Application                        : Starting\r\n     Application on  with PID 7307 (/ladev/home/xxx/dev/gs-spring-boot/initial/build/libs/gs-spring-boo\r\n    t-0.1.0.jar started by xxx)\r\n    2014-03-13 13:58:09.021  INFO 7307 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshi\r\n    ng org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@45490eb5: startup\r\n     date [Thu Mar 13 13:58:09 MDT 2014]; root of context hierarchy\r\n    2014-03-13 13:58:09.653  INFO 7307 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overridi\r\n    ng bean definition for bean &#39;beanNameViewResolver&#39;: replacing [Root bean: class [null]; scope=; abstract=fal\r\n    se; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanNam\r\n    e=org.springframework.boot.actuate.autoconfigure.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration;\r\n     factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class\r\n     path resource [org/springframework/boot/actuate/autoconfigure/ErrorMvcAutoConfiguration$WhitelabelErrorView\r\n    Configuration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3;\r\n     dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconf\r\n    igure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; in\r\n    itMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/au\r\n    toconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n\r\n","title":"Why does my Spring Boot App always shutdown immediately after starting?","body":"<p>This is my first Spring Boot code. Unfortunately, it always shuts down. I was expecting it to run continuously so that my web client can get some data from the browser.</p>\n\n<pre><code>package hello;\nimport org.springframework.boot.*;\nimport org.springframework.boot.autoconfigure.*;\nimport org.springframework.stereotype.*;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n@EnableAutoConfiguration\npublic class SampleController {\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    String home() {\n        return \"Hello World!\";\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(SampleController.class, args);\n    }\n}\n\n\n[@localhost initial]$ java -jar build/libs/gs-spring-boot-0.1.0.jar\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::            (v1.0.0.RC4)\n\n2014-03-13 09:20:24.805  INFO 14650 --- [           main] hello.SampleController                   : Starting SampleController on localhost.localdomain with PID 14650 (/home/xxx/dev/gs-spring-boot/initial/build/libs/gs-spring-boot-0.1.0.jar started by xxx)\n2014-03-13 09:20:25.002  INFO 14650 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b9eec: startup date [Thu Mar 13 09:20:24 EDT 2014]; root of context hierarchy\n2014-03-13 09:20:28.833  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Registering beans for JMX exposure on startup\n2014-03-13 09:20:30.148  INFO 14650 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0\n2014-03-13 09:20:30.154  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'requestMappingEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=requestMappingEndpoint]\n2014-03-13 09:20:30.316  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'environmentEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=environmentEndpoint]\n2014-03-13 09:20:30.335  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'healthEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=healthEndpoint]\n2014-03-13 09:20:30.351  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'beansEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=beansEndpoint]\n2014-03-13 09:20:30.376  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'infoEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=infoEndpoint]\n2014-03-13 09:20:30.400  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'metricsEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=metricsEndpoint]\n2014-03-13 09:20:30.413  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'traceEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=traceEndpoint]\n2014-03-13 09:20:30.428  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'dumpEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=dumpEndpoint]\n2014-03-13 09:20:30.450  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'autoConfigurationAuditEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=autoConfigurationAuditEndpoint]\n2014-03-13 09:20:30.465  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'shutdownEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=shutdownEndpoint]\n2014-03-13 09:20:30.548  INFO 14650 --- [           main] o.s.b.a.e.jmx.EndpointMBeanExporter      : Located managed bean 'configurationPropertiesReportEndpoint': registering with JMX server as MBean [org.springframework.boot:type=Endpoint,name=configurationPropertiesReportEndpoint]\n2014-03-13 09:20:30.589  INFO 14650 --- [           main] hello.SampleController                   : Started SampleController in 7.396 seconds (JVM running for 9.569)\n2014-03-13 09:20:30.608  INFO 14650 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@b9eec: startup date [Thu Mar 13 09:20:24 EDT 2014]; root of context hierarchy\n2014-03-13 09:20:30.610  INFO 14650 --- [       Thread-2] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0\n2014-03-13 09:20:30.624  INFO 14650 --- [       Thread-2] o.s.b.a.e.jmx.EndpointMBeanExporter      : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n\n<p>Please advise. </p>\n\n<p>Thanks</p>\n\n<p>P.S. build.gradle is the fault.</p>\n\n<pre><code>dependencies {\n    // tag::jetty[]\n    compile(\"org.springframework.boot:spring-boot-starter-web\") {\n        **exclude module: \"spring-boot-starter-tomcat\"**\n    }\n</code></pre>\n\n<p>Once I took off the above line in bold, everything works. My application context now is correct. Thanks Dave</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::            (v1.0.0.RC4)\n\n2014-03-13 13:58:08.965  INFO 7307 --- [           main] hello.Application                        : Starting\n Application on  with PID 7307 (/ladev/home/xxx/dev/gs-spring-boot/initial/build/libs/gs-spring-boo\nt-0.1.0.jar started by xxx)\n2014-03-13 13:58:09.021  INFO 7307 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshi\nng org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@45490eb5: startup\n date [Thu Mar 13 13:58:09 MDT 2014]; root of context hierarchy\n2014-03-13 13:58:09.653  INFO 7307 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overridi\nng bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=fal\nse; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanNam\ne=org.springframework.boot.actuate.autoconfigure.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration;\n factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class\n path resource [org/springframework/boot/actuate/autoconfigure/ErrorMvcAutoConfiguration$WhitelabelErrorView\nConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3;\n dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconf\nigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; in\nitMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/au\ntoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\n</code></pre>\n"},{"tags":["java","spring-boot","javax.validation"],"answers":[{"comments":[{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694770209,"post_id":77111192,"comment_id":135937860,"body_markdown":"The point is that the isBlank() method shouldn&#39;t be triggered at all and ConstraintsViolationException should be thrown since the string method parameter is annotated with @NotNull.","body":"The point is that the isBlank() method shouldn&#39;t be triggered at all and ConstraintsViolationException should be thrown since the string method parameter is annotated with @NotNull."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694773626,"post_id":77111192,"comment_id":135938518,"body_markdown":"i just updated my answer, can you check ?","body":"i just updated my answer, can you check ?"},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694774075,"post_id":77111192,"comment_id":135938600,"body_markdown":"Can you please carefully read my post since you are missing the point. I do not care how  to fix the NPE. My question is: &quot;Is this the wanted bahavior from javax.validation.constraints.NotNull when the method is being called from another method in the same service layer?&quot;","body":"Can you please carefully read my post since you are missing the point. I do not care how  to fix the NPE. My question is: &quot;Is this the wanted bahavior from javax.validation.constraints.NotNull when the method is being called from another method in the same service layer?&quot;"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694774242,"post_id":77111192,"comment_id":135938627,"body_markdown":"i read it carefully and the answer is `yes` it is an wanted behavior, to test it just do what i wrote in the answer )","body":"i read it carefully and the answer is <code>yes</code> it is an wanted behavior, to test it just do what i wrote in the answer )"},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694774798,"post_id":77111192,"comment_id":135938715,"body_markdown":"what you are basically saying is that if  i do this the first test will be green correct? But it is not since \nExpected :javax.validation.ConstraintViolationException\nActual   :java.lang.NullPointerException\n    @Test\n    public void testValidation() {\n        final ConstraintViolationException violationException = assertThrows(ConstraintViolationException.class, () -&gt;  sut.testValidation(null));\n        assertEquals(&quot;testValidation.testValidationNotNull.validated: must not be null&quot;, violationException.getMessage());\n    }","body":"what you are basically saying is that if  i do this the first test will be green correct? But it is not since  Expected :javax.validation.ConstraintViolationException Actual   :java.lang.NullPointerException     @Test     public void testValidation() {         final ConstraintViolationException violationException = assertThrows(ConstraintViolationException.class, () -&gt;  sut.testValidation(null));         assertEquals(&quot;testValidation.testValidationNotNull.validated&zwnj;&#8203;: must not be null&quot;, violationException.getMessage());     }"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694775016,"post_id":77111192,"comment_id":135938746,"body_markdown":"from question and comments i understood that expected behavior is `ConstraintViolationException.class` not NPE, am i right ?","body":"from question and comments i understood that expected behavior is <code>ConstraintViolationException.class</code> not NPE, am i right ?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694775413,"post_id":77111192,"comment_id":135938812,"body_markdown":"From a `ValidateServiceTest` instance itself from one method `testValidation(String)` to another method `this.testValidationNotNull(String)` is called, it does not process any annotation. This is a direct call from one method to the other. There is NO interceptor to process annotations. From one BEAN to another Autowired Bean if you call a method, then some framework comes into the picture and it intercepts that call and processes annotations like @Transactional, @NotNull, etc. But when within a class, from one method to another method, nothing will happen.","body":"From a <code>ValidateServiceTest</code> instance itself from one method <code>testValidation(String)</code> to another method <code>this.testValidationNotNull(String)</code> is called, it does not process any annotation. This is a direct call from one method to the other. There is NO interceptor to process annotations. From one BEAN to another Autowired Bean if you call a method, then some framework comes into the picture and it intercepts that call and processes annotations like @Transactional, @NotNull, etc. But when within a class, from one method to another method, nothing will happen."},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694775628,"post_id":77111192,"comment_id":135938847,"body_markdown":"the method naming may be a little confusing that is why i asked you to read it the question again. We have 2 methods. Method1 doesn&#39;t enforce validation and allows a null string but also passes that null string to Method2 which doesn&#39;t allow null values by the @NotNull annotation. In this case the not null annotation validation is not getting triggered and that is a messed up behavior if it is so wanted. When we separately call lets say from the controller Method2 with a string null arg here the validation is triggered","body":"the method naming may be a little confusing that is why i asked you to read it the question again. We have 2 methods. Method1 doesn&#39;t enforce validation and allows a null string but also passes that null string to Method2 which doesn&#39;t allow null values by the @NotNull annotation. In this case the not null annotation validation is not getting triggered and that is a messed up behavior if it is so wanted. When we separately call lets say from the controller Method2 with a string null arg here the validation is triggered"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694775698,"post_id":77111192,"comment_id":135938857,"body_markdown":"Your 2nd test calls `sut.testValidationNotNull(null)` where `sut` is an autowired bean. So, `@NotNull` is effective.  But not from inside `ValidateService` itself when you call `this.testValidationNotNull` from `testValidation`","body":"Your 2nd test calls <code>sut.testValidationNotNull(null)</code> where <code>sut</code> is an autowired bean. So, <code>@NotNull</code> is effective.  But not from inside <code>ValidateService</code> itself when you call <code>this.testValidationNotNull</code> from <code>testValidation</code>"},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694775786,"post_id":77111192,"comment_id":135938868,"body_markdown":"@Ishan is there any way to enforce the validation in the same service and not having to write if string == null throw new IllegalArgumentException(&quot;not null&quot;)","body":"@Ishan is there any way to enforce the validation in the same service and not having to write if string == null throw new IllegalArgumentException(&quot;not null&quot;)"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694775876,"post_id":77111192,"comment_id":135938881,"body_markdown":"When you want to enforce validation, call the method that has `@NotNull` from outside the Bean through an autowired (managed) instance.  That&#39;s the only possibility.  Remember, whenever from within the bean itself, if you call any other method of the same instance - that will get called directly - without any framework interception coming into picture.","body":"When you want to enforce validation, call the method that has <code>@NotNull</code> from outside the Bean through an autowired (managed) instance.  That&#39;s the only possibility.  Remember, whenever from within the bean itself, if you call any other method of the same instance - that will get called directly - without any framework interception coming into picture."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694776389,"post_id":77111192,"comment_id":135938965,"body_markdown":"I don&#39;t know the exact usecase, but from the looks of it, I believe you should not have method `testValidation` at all. Just have `public void testValidationNotNull(@NotNull String validated)` which always gets called from the outside (on a managed bean) and always `@NotNull` is processed. Framework validates the parameter BEFORE actually reaching your method `testValidationNotNull` and raises constraint violation exception. INSIDE your method `testValidationNotNull`, you are 100% sure that the parameter is NOT NULL.","body":"I don&#39;t know the exact usecase, but from the looks of it, I believe you should not have method <code>testValidation</code> at all. Just have <code>public void testValidationNotNull(@NotNull String validated)</code> which always gets called from the outside (on a managed bean) and always <code>@NotNull</code> is processed. Framework validates the parameter BEFORE actually reaching your method <code>testValidationNotNull</code> and raises constraint violation exception. INSIDE your method <code>testValidationNotNull</code>, you are 100% sure that the parameter is NOT NULL."},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694776695,"post_id":77111192,"comment_id":135939009,"body_markdown":"the use-case is a long method calling small methods calling smaller methods in a cron job and the parameter to be validated is also a set that should not be empty where the set comes from an object where the set itself can also be null","body":"the use-case is a long method calling small methods calling smaller methods in a cron job and the parameter to be validated is also a set that should not be empty where the set comes from an object where the set itself can also be null"},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694776763,"post_id":77111192,"comment_id":135939017,"body_markdown":"and would be a lot of monkey work to go in every each method and make the validation myself","body":"and would be a lot of monkey work to go in every each method and make the validation myself"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694776889,"post_id":77111192,"comment_id":135939030,"body_markdown":"Then have Autowired small bean instance in the larger bean.  In the small bean you can have another Autowired SMALLER bean.  Then framework will come into the picture.  Have chains of autowired instances.  But never call `this.somemethod()` - this will not have any annotations processed.  But have `anotherBean.somemethod()` where `@Autowired anotherBean` exists in this instance.","body":"Then have Autowired small bean instance in the larger bean.  In the small bean you can have another Autowired SMALLER bean.  Then framework will come into the picture.  Have chains of autowired instances.  But never call <code>this.somemethod()</code> - this will not have any annotations processed.  But have <code>anotherBean.somemethod()</code> where <code>@Autowired anotherBean</code> exists in this instance."},{"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"score":0,"creation_date":1694776999,"post_id":77111192,"comment_id":135939041,"body_markdown":"i guess that is the more reasonable fix","body":"i guess that is the more reasonable fix"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694777332,"post_id":77111192,"comment_id":135939098,"body_markdown":"Added that fix also in the answer.","body":"Added that fix also in the answer."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":17,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694773618,"creation_date":1694769948,"answer_id":77111192,"question_id":77111088,"body_markdown":"Here you are passing `null` as a method argument and after it you are trying to invoke `isBlank()` from `String` but if you are going to check the java docs of `String` class, before of all there is writing.\r\n\r\n    ` * Unless otherwise noted, passing a {@code null} argument to a constructor\r\n     * or method in this class will cause a {@link NullPointerException} to be\r\n     * thrown.`\r\nit is the reason.\r\n\r\nBy the way I recommend you to check all answers of this [question][1] to have more details why. There also is present some good references to documentation.\r\n\r\n\r\nThe reason is simple:\r\n\r\n\r\n **Annotation has no effect because there’s no validator to enforce it.** in another way :\r\n\r\n**@NotNull is just an annotation. Annotations do nothing on their own. They need an annotation processor at compile time, or something that processes it at runtime.**\r\n\r\nIt is the reason why you got `NullPointerException` to fix it you also should invoke `ConstraintViolationException` as in second test-case\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23419087/stringutils-isblank-vs-string-isempty","title":"ConstraintsViolationException not getting triggered between 2 methods in the same Service Layer","body":"<p>Here you are passing <code>null</code> as a method argument and after it you are trying to invoke <code>isBlank()</code> from <code>String</code> but if you are going to check the java docs of <code>String</code> class, before of all there is writing.</p>\n<pre><code>` * Unless otherwise noted, passing a {@code null} argument to a constructor\n * or method in this class will cause a {@link NullPointerException} to be\n * thrown.`\n</code></pre>\n<p>it is the reason.</p>\n<p>By the way I recommend you to check all answers of this <a href=\"https://stackoverflow.com/questions/23419087/stringutils-isblank-vs-string-isempty\">question</a> to have more details why. There also is present some good references to documentation.</p>\n<p>The reason is simple:</p>\n<p><strong>Annotation has no effect because there’s no validator to enforce it.</strong> in another way :</p>\n<p><strong>@NotNull is just an annotation. Annotations do nothing on their own. They need an annotation processor at compile time, or something that processes it at runtime.</strong></p>\n<p>It is the reason why you got <code>NullPointerException</code> to fix it you also should invoke <code>ConstraintViolationException</code> as in second test-case</p>\n"},{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694777165,"creation_date":1694776754,"answer_id":77111913,"question_id":77111088,"body_markdown":"From a `ValidateServiceTest` instance itself from one method `testValidation(String)` another method `this.testValidationNotNull(String)` is called, it does not process any annotation. This is a direct call from one method to the other. There is NO interceptor to process annotations. From one BEAN to another Autowired Bean if you call a method, then some framework comes into the picture and it intercepts that call and processes annotations like `@Transactional`, `@NotNull`, etc. But within a class, from one method to another method, nothing will happen.\r\n\r\nYour 2nd test calls `sut.testValidationNotNull(null)` where `sut` is an autowired bean. So, `@NotNull` is effective. But not from inside `ValidateService` instance itself when you call `this.testValidationNotNull` from `testValidation`\r\n\r\nWhen you want to enforce validation, call the method that has `@NotNull` from outside the Bean through an autowired (managed) instance. That&#39;s the only possibility. Remember, whenever from within the bean itself, if you call any other method on the same instance - that will get called directly - without any framework interception coming into the picture.\r\n\r\nI don&#39;t know the exact usecase, but from the looks of it, I believe you should not have method `testValidation` at all. Just have `public void testValidationNotNull(@NotNull String validated)` which always gets called from the outside (on a managed bean instance) and `@NotNull` will always be processed. Framework validates the parameter BEFORE actually reaching your method `testValidationNotNull` and raises constraint violation exception. INSIDE your method `testValidationNotNull`, you are 100% sure that the parameter is NOT NULL.\r\n\r\nYou can have `@Autowired smallBean` in the large bean.  Then call `smallBean.someSmallMethod(String)` - which would process annotations before calling `someSmallMethod`.\r\n\r\nThen have `@Autowired smallerBean` in the `smallBean` class. Call `smallerBean.someSmallerMethod(String)` - which would process annotations before actually reaching `someSmallerMethod`.","title":"ConstraintsViolationException not getting triggered between 2 methods in the same Service Layer","body":"<p>From a <code>ValidateServiceTest</code> instance itself from one method <code>testValidation(String)</code> another method <code>this.testValidationNotNull(String)</code> is called, it does not process any annotation. This is a direct call from one method to the other. There is NO interceptor to process annotations. From one BEAN to another Autowired Bean if you call a method, then some framework comes into the picture and it intercepts that call and processes annotations like <code>@Transactional</code>, <code>@NotNull</code>, etc. But within a class, from one method to another method, nothing will happen.</p>\n<p>Your 2nd test calls <code>sut.testValidationNotNull(null)</code> where <code>sut</code> is an autowired bean. So, <code>@NotNull</code> is effective. But not from inside <code>ValidateService</code> instance itself when you call <code>this.testValidationNotNull</code> from <code>testValidation</code></p>\n<p>When you want to enforce validation, call the method that has <code>@NotNull</code> from outside the Bean through an autowired (managed) instance. That's the only possibility. Remember, whenever from within the bean itself, if you call any other method on the same instance - that will get called directly - without any framework interception coming into the picture.</p>\n<p>I don't know the exact usecase, but from the looks of it, I believe you should not have method <code>testValidation</code> at all. Just have <code>public void testValidationNotNull(@NotNull String validated)</code> which always gets called from the outside (on a managed bean instance) and <code>@NotNull</code> will always be processed. Framework validates the parameter BEFORE actually reaching your method <code>testValidationNotNull</code> and raises constraint violation exception. INSIDE your method <code>testValidationNotNull</code>, you are 100% sure that the parameter is NOT NULL.</p>\n<p>You can have <code>@Autowired smallBean</code> in the large bean.  Then call <code>smallBean.someSmallMethod(String)</code> - which would process annotations before calling <code>someSmallMethod</code>.</p>\n<p>Then have <code>@Autowired smallerBean</code> in the <code>smallBean</code> class. Call <code>smallerBean.someSmallerMethod(String)</code> - which would process annotations before actually reaching <code>someSmallerMethod</code>.</p>\n"}],"owner":{"account_id":22591800,"reputation":1,"user_id":16774785,"display_name":"Ivo Pogace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694777165,"creation_date":1694768989,"question_id":77111088,"body_markdown":"```\r\n@Service\r\n@Validated\r\npublic class ValidateService {\r\n\r\n    public void testValidation(String notValidated) {\r\n        testValidationNotNull(notValidated);\r\n    }\r\n\r\n    public void testValidationNotNull(@NotNull String validated) {\r\n        validated.isBlank();\r\n    }\r\n\r\n}\r\n```\r\nI am expecting to get ConstraintViolationException when testValidation method is executed and notValidated string is null, but instead i get NPE since validated.isBlank() row is getting executed.\r\n\r\nIs this the wanted bahavior from javax.validation.constraints.NotNull when the method is being called from another method in the same service layer?\r\n\r\n\r\nBelow are 2 test methods: 1 triggers NPE, 2 triggers ConstraintViolationException\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class ValidateServiceTest {\r\n\r\n    @Autowired\r\n    private ValidateService sut;\r\n\r\n    // test that triggers NPE instead of ConstraintViolationException\r\n    @Test\r\n    public void testValidation() {\r\n        sut.testValidation(null);\r\n    }\r\n\r\n    // green test which triggers ConstraintViolationException \r\n    @Test\r\n    public void testValidationNotNull_shouldThrowConstraintsViolationException() {\r\n        final ConstraintViolationException violationException = assertThrows(ConstraintViolationException.class, () -&gt;  sut.testValidationNotNull(null));\r\n        assertEquals(&quot;testValidationNotNull.validated: must not be null&quot;, violationException.getMessage());\r\n    }\r\n\r\n}\r\n```","title":"ConstraintsViolationException not getting triggered between 2 methods in the same Service Layer","body":"<pre><code>@Service\n@Validated\npublic class ValidateService {\n\n    public void testValidation(String notValidated) {\n        testValidationNotNull(notValidated);\n    }\n\n    public void testValidationNotNull(@NotNull String validated) {\n        validated.isBlank();\n    }\n\n}\n</code></pre>\n<p>I am expecting to get ConstraintViolationException when testValidation method is executed and notValidated string is null, but instead i get NPE since validated.isBlank() row is getting executed.</p>\n<p>Is this the wanted bahavior from javax.validation.constraints.NotNull when the method is being called from another method in the same service layer?</p>\n<p>Below are 2 test methods: 1 triggers NPE, 2 triggers ConstraintViolationException</p>\n<pre><code>@SpringBootTest\npublic class ValidateServiceTest {\n\n    @Autowired\n    private ValidateService sut;\n\n    // test that triggers NPE instead of ConstraintViolationException\n    @Test\n    public void testValidation() {\n        sut.testValidation(null);\n    }\n\n    // green test which triggers ConstraintViolationException \n    @Test\n    public void testValidationNotNull_shouldThrowConstraintsViolationException() {\n        final ConstraintViolationException violationException = assertThrows(ConstraintViolationException.class, () -&gt;  sut.testValidationNotNull(null));\n        assertEquals(&quot;testValidationNotNull.validated: must not be null&quot;, violationException.getMessage());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":26814819,"reputation":1,"user_id":20404911,"display_name":"MrStranger"},"score":0,"creation_date":1694786097,"post_id":77111873,"comment_id":135940954,"body_markdown":"I tried this method but not worked the Image will come in string not in jpg or Png form.","body":"I tried this method but not worked the Image will come in string not in jpg or Png form."},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1694788580,"post_id":77111873,"comment_id":135941461,"body_markdown":"@MrStranger what is your expected result?","body":"@MrStranger what is your expected result?"},{"owner":{"account_id":26814819,"reputation":1,"user_id":20404911,"display_name":"MrStranger"},"score":0,"creation_date":1694841809,"post_id":77111873,"comment_id":135947369,"body_markdown":"I want Json Object with all keys and values including imags like { &quot;name&quot; : &quot;iPhone&quot;, &quot;price&quot; : 1200 , &quot;description&quot; : &quot;from apple&quot; ,  &quot;image&quot; : [image]}","body":"I want Json Object with all keys and values including imags like { &quot;name&quot; : &quot;iPhone&quot;, &quot;price&quot; : 1200 , &quot;description&quot; : &quot;from apple&quot; ,  &quot;image&quot; : [image]}"}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694776296,"creation_date":1694776296,"answer_id":77111873,"question_id":77111659,"body_markdown":"&gt; I want to get product information with product image by GET Method By Using JAVA spring JPA?\r\n\r\n\r\nYou can create DTO class for your entity class:\r\n```\r\n@Data\r\npublic class ProductDTO {\r\n    private int id;\r\n    private String name;\r\n    private BigDecimal price;\r\n    private String description;\r\n    private byte[] image;\r\n}\r\n```\r\n\r\nAnd then create HTTP GET RestApi method in your RestController:\r\n```\r\n..\r\n...\r\n....\r\n@GetMapping(&quot;/product/{id}&quot;)\r\npublic ResponseEntity&lt;ProductDTO&gt; getProduct(@PathVariable int id) {\r\n    Optional&lt;Products&gt; productOptional = productRepository.findById(id);\r\n    \r\n    if (productOptional.isPresent()) {\r\n        Products product = productOptional.get();\r\n        \r\n        ProductDTO productDTO = new ProductDTO();\r\n        productDTO.setId(product.getId());\r\n        productDTO.setName(product.getName());\r\n        productDTO.setPrice(product.getPrice());\r\n        productDTO.setDescription(product.getDescription());\r\n        productDTO.setImage(product.getImage());\r\n        \r\n        return ResponseEntity\r\n                  .ok(productDTO);\r\n    } else {\r\n        return ResponseEntity\r\n                  .notFound()\r\n                  .build();\r\n    }\r\n}\r\n```","title":"I want to get product information with product image by GET method by using Spring JPA?","body":"<blockquote>\n<p>I want to get product information with product image by GET Method By Using JAVA spring JPA?</p>\n</blockquote>\n<p>You can create DTO class for your entity class:</p>\n<pre><code>@Data\npublic class ProductDTO {\n    private int id;\n    private String name;\n    private BigDecimal price;\n    private String description;\n    private byte[] image;\n}\n</code></pre>\n<p>And then create HTTP GET RestApi method in your RestController:</p>\n<pre><code>..\n...\n....\n@GetMapping(&quot;/product/{id}&quot;)\npublic ResponseEntity&lt;ProductDTO&gt; getProduct(@PathVariable int id) {\n    Optional&lt;Products&gt; productOptional = productRepository.findById(id);\n    \n    if (productOptional.isPresent()) {\n        Products product = productOptional.get();\n        \n        ProductDTO productDTO = new ProductDTO();\n        productDTO.setId(product.getId());\n        productDTO.setName(product.getName());\n        productDTO.setPrice(product.getPrice());\n        productDTO.setDescription(product.getDescription());\n        productDTO.setImage(product.getImage());\n        \n        return ResponseEntity\n                  .ok(productDTO);\n    } else {\n        return ResponseEntity\n                  .notFound()\n                  .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26814819,"reputation":1,"user_id":20404911,"display_name":"MrStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1694777141,"creation_date":1694774169,"question_id":77111659,"body_markdown":"\r\nHere is my entity class\r\n\r\n\r\n    @ToString\r\n    @Data\r\n    @Entity\r\n    public class Products {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate BigDecimal price;\r\n    \tprivate String description;\r\n    \t@Lob\r\n    \t@Column(columnDefinition = &quot;LONGBLOB&quot;)\r\n    \tprivate byte[] image;\r\n    }\r\n\r\n\r\nHere is my Controller class where I post product information to the MySQL database with name , price , description and product image\r\n\r\n\r\n \r\n\r\n    @PostMappig(&quot;/product&quot;)\r\n    public Products uploadProducts(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;price&quot;) BigDecimal price,\r\n\t\t\t@RequestParam(&quot;description&quot;) String description, @RequestParam(&quot;image&quot;) MultipartFile image,\r\n\t\t\t@RequestParam(&quot;categorys&quot;) Categorys thecategory) throws IOException {\r\n\r\n\t\tbyte[] imageData;\r\n\r\n\t\timageData = image.getBytes();\r\n\r\n\t\tProducts products = new Products();\r\n\r\n\t\tproducts.setName(name);\r\n\t\tproducts.setPrice(price);\r\n\t\tproducts.setDescription(description);\r\n\t\tproducts.setCategorys(thecategory);\r\n\t\tproducts.setImage(image);\r\n\r\n\t\treturn productRepository.save(products);\r\n\r\n\t}\r\n\r\n\r\n\r\n","title":"I want to get product information with product image by GET method by using Spring JPA?","body":"<p>Here is my entity class</p>\n<pre><code>@ToString\n@Data\n@Entity\npublic class Products {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private BigDecimal price;\n    private String description;\n    @Lob\n    @Column(columnDefinition = &quot;LONGBLOB&quot;)\n    private byte[] image;\n}\n</code></pre>\n<p>Here is my Controller class where I post product information to the MySQL database with name , price , description and product image</p>\n<pre><code>@PostMappig(&quot;/product&quot;)\npublic Products uploadProducts(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;price&quot;) BigDecimal price,\n        @RequestParam(&quot;description&quot;) String description, @RequestParam(&quot;image&quot;) MultipartFile image,\n        @RequestParam(&quot;categorys&quot;) Categorys thecategory) throws IOException {\n\n    byte[] imageData;\n\n    imageData = image.getBytes();\n\n    Products products = new Products();\n\n    products.setName(name);\n    products.setPrice(price);\n    products.setDescription(description);\n    products.setCategorys(thecategory);\n    products.setImage(image);\n\n    return productRepository.save(products);\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":6617940,"reputation":3932,"user_id":5110595,"display_name":"Hemant Parmar"},"score":0,"creation_date":1519899927,"post_id":49047492,"comment_id":85099399,"body_markdown":"Possible duplicate of [How to generate buildConfigField with String type](https://stackoverflow.com/questions/30796533/how-to-generate-buildconfigfield-with-string-type)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30796533/how-to-generate-buildconfigfield-with-string-type\">How to generate buildConfigField with String type</a>"},{"owner":{"account_id":11443053,"reputation":31,"user_id":8387933,"display_name":"Apoorva Naganalli"},"score":0,"creation_date":1519902437,"post_id":49047492,"comment_id":85100899,"body_markdown":"package com.gpads.gautham.imagetotextanalysis;\n\npublic final class BuildConfig {\n  public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\n  public static final String APPLICATION_ID = &quot;com.gpads.gautham.imagetotextanalysis&quot;;\n  public static final String BUILD_TYPE = &quot;debug&quot;;\n  public static final String FLAVOR = &quot;&quot;;\n  public static final int VERSION_CODE = 2;\n  public static final String VERSION_NAME = &quot;2.0&quot;;\n}\n @HemantParmar this is my BuildConfig.java","body":"package com.gpads.gautham.imagetotextanalysis;  public final class BuildConfig {   public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);   public static final String APPLICATION_ID = &quot;com.gpads.gautham.imagetotextanalysis&quot;;   public static final String BUILD_TYPE = &quot;debug&quot;;   public static final String FLAVOR = &quot;&quot;;   public static final int VERSION_CODE = 2;   public static final String VERSION_NAME = &quot;2.0&quot;; }  @HemantParmar this is my BuildConfig.java"}],"answers":[{"tags":[],"owner":{"account_id":9324231,"reputation":87,"user_id":6922082,"display_name":"Osaf"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1529403950,"creation_date":1529403950,"answer_id":50926118,"question_id":49047492,"body_markdown":"Change this    buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY)\r\nInto this\r\n                    \r\n        buildConfigField &quot;String&quot;, &quot;API_KEY&quot;, &quot;\\&quot; API_KEY\\&quot;&quot; ","title":"ERROR: Gradle sync failed: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated","body":"<p>Change this    buildConfigField(\"String\", \"API_KEY\", API_KEY)\nInto this</p>\n\n<pre><code>    buildConfigField \"String\", \"API_KEY\", \"\\\" API_KEY\\\"\" \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7492394,"reputation":165,"user_id":5693635,"display_name":"Vibin"},"score":0,"creation_date":1642472504,"post_id":52716781,"comment_id":125074063,"body_markdown":"This is the only solution which worked for me thanks","body":"This is the only solution which worked for me thanks"}],"tags":[],"owner":{"account_id":5089468,"reputation":527,"user_id":5032983,"display_name":"Mirieri Mogaka"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539075781,"creation_date":1539074555,"answer_id":52716781,"question_id":49047492,"body_markdown":"To avoid any errors with your code add this snippet, found this as a solution for my movie project: \r\n\r\n    def getProperty(String filename, String propName) {\r\n        def propsFile = rootProject.file(filename)\r\n        if (propsFile.exists()) {\r\n            def props = new Properties()\r\n            props.load(new FileInputStream(propsFile))\r\n            if (props[propName] != null) {\r\n                return props[propName]\r\n            } else {\r\n                print(&quot;No such property &quot; + propName + &quot; in file &quot; + filename);\r\n            }\r\n        } else {\r\n            print(filename + &quot; does not exist!&quot;)\r\n        }\r\n    }\r\n    android {\r\n        compileSdkVersion 27\r\n        buildToolsVersion &#39;27.0.2&#39;\r\n        defaultConfig {\r\n            buildConfigField &quot;String&quot;, &quot;API_KEY&quot;, &quot;\\&quot;${getProperty(&quot;local.properties&quot;, API_KEY)}\\&quot;&quot;\r\n            buildConfigField &quot;String&quot;, &quot;\\&quot;${getProperty(&quot;local.properties&quot;, ER_API_KEY)}\\&quot;&quot;\r\n            applicationId &quot;com.gpads.gautham.imagetotextanalysis&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 27\r\n            versionCode 2\r\n            versionName &quot;2.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    }","title":"ERROR: Gradle sync failed: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated","body":"<p>To avoid any errors with your code add this snippet, found this as a solution for my movie project: </p>\n\n<pre><code>def getProperty(String filename, String propName) {\n    def propsFile = rootProject.file(filename)\n    if (propsFile.exists()) {\n        def props = new Properties()\n        props.load(new FileInputStream(propsFile))\n        if (props[propName] != null) {\n            return props[propName]\n        } else {\n            print(\"No such property \" + propName + \" in file \" + filename);\n        }\n    } else {\n        print(filename + \" does not exist!\")\n    }\n}\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.2'\n    defaultConfig {\n        buildConfigField \"String\", \"API_KEY\", \"\\\"${getProperty(\"local.properties\", API_KEY)}\\\"\"\n        buildConfigField \"String\", \"\\\"${getProperty(\"local.properties\", ER_API_KEY)}\\\"\"\n        applicationId \"com.gpads.gautham.imagetotextanalysis\"\n        minSdkVersion 15\n        targetSdkVersion 27\n        versionCode 2\n        versionName \"2.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594225825,"creation_date":1594225825,"answer_id":62799357,"question_id":49047492,"body_markdown":"The error is that **you are trying to use something you did not define.**\r\n\r\nAs a solution, you have several ways to initialize the configuration field: \r\n\r\n--------\r\n\r\n . In the same scope it could be:\r\n\r\nLook at the following code where `API_KEY_2` is defined.\r\n\r\n\r\n    android {\r\n        //...\r\n        defaultConfig {\r\n            //...\r\n            def API_KEY_2 = &quot;API_KEY_2&quot;\r\n            buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY_2)\r\n        }\r\n    }\r\n\r\n--------\r\n\r\n . Or in a global scope:\r\n\r\n\r\n## build.gradle ##\r\n\r\n    class Globals {\r\n        static String API_KEY_2 = &quot;API_KEY_2&quot;\r\n    }\r\n\r\n    android {\r\n        //...\r\n        defaultConfig {\r\n            //...\r\n            def API_KEY_2 = &quot;API_KEY_2&quot;\r\n            buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY_2)\r\n        }\r\n    }\r\n\r\n*Note:* I don&#39;t recommend using `BuildConfig.SOMETHING` to initialize a buildConfigField\r\n\r\nGL\r\n","title":"ERROR: Gradle sync failed: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated","body":"<p>The error is that <strong>you are trying to use something you did not define.</strong></p>\n<p>As a solution, you have several ways to initialize the configuration field:</p>\n<hr />\n<p>. In the same scope it could be:</p>\n<p>Look at the following code where <code>API_KEY_2</code> is defined.</p>\n<pre><code>android {\n    //...\n    defaultConfig {\n        //...\n        def API_KEY_2 = &quot;API_KEY_2&quot;\n        buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY_2)\n    }\n}\n</code></pre>\n<hr />\n<p>. Or in a global scope:</p>\n<h2>build.gradle</h2>\n<pre><code>class Globals {\n    static String API_KEY_2 = &quot;API_KEY_2&quot;\n}\n\nandroid {\n    //...\n    defaultConfig {\n        //...\n        def API_KEY_2 = &quot;API_KEY_2&quot;\n        buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY_2)\n    }\n}\n</code></pre>\n<p><em>Note:</em> I don't recommend using <code>BuildConfig.SOMETHING</code> to initialize a buildConfigField</p>\n<p>GL</p>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":0,"creation_date":1694763304,"post_id":77110456,"comment_id":135936592,"body_markdown":"Can you clarify in which solution was not working, in which potential particular setup you tested it, and what your alternative is changing? Code only answers are considered low-quality","body":"Can you clarify in which solution was not working, in which potential particular setup you tested it, and what your alternative is changing? Code only answers are considered low-quality"},{"owner":{"account_id":4282799,"reputation":43,"user_id":3501627,"accept_rate":75,"display_name":"harika"},"score":0,"creation_date":1694763459,"post_id":77110456,"comment_id":135936618,"body_markdown":"If I didn&#39;t add like &quot;\\&quot;API_KEY_2 \\&quot;&quot;, getting error as illegal start of expression","body":"If I didn&#39;t add like &quot;\\&quot;API_KEY_2 \\&quot;&quot;, getting error as illegal start of expression"},{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":0,"creation_date":1694763591,"post_id":77110456,"comment_id":135936650,"body_markdown":"can you link which solution you were referring to? there are 3 other answers","body":"can you link which solution you were referring to? there are 3 other answers"},{"owner":{"account_id":4282799,"reputation":43,"user_id":3501627,"accept_rate":75,"display_name":"harika"},"score":0,"creation_date":1694771691,"post_id":77110456,"comment_id":135938152,"body_markdown":"For @Braian Coronel reply","body":"For @Braian Coronel reply"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1694777327,"post_id":77110456,"comment_id":135939097,"body_markdown":"Thanks for the edit. I now consider it a contribution to meaningfully extend a cleanly referenced existing answer.","body":"Thanks for the edit. I now consider it a contribution to meaningfully extend a cleanly referenced existing answer."}],"tags":[],"owner":{"account_id":4282799,"reputation":43,"user_id":3501627,"accept_rate":75,"display_name":"harika"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694776617,"creation_date":1694763066,"answer_id":77110456,"question_id":49047492,"body_markdown":"If you get an `&quot;illegal start of expression&quot;` using [Braian Coronel&#39;s answer](https://stackoverflow.com/a/62799357), you can try to escape the quotes with:\r\n```\r\ndef API_KEY_2 = &quot;your api key&quot;\r\nbuildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, &quot;\\&quot;API_KEY_2 \\&quot;&quot;)\r\n```","title":"ERROR: Gradle sync failed: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated","body":"<p>If you get an <code>&quot;illegal start of expression&quot;</code> using <a href=\"https://stackoverflow.com/a/62799357\">Braian Coronel's answer</a>, you can try to escape the quotes with:</p>\n<pre><code>def API_KEY_2 = &quot;your api key&quot;\nbuildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, &quot;\\&quot;API_KEY_2 \\&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":11443053,"reputation":31,"user_id":8387933,"display_name":"Apoorva Naganalli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9853,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1694776617,"creation_date":1519899711,"question_id":49047492,"body_markdown":"&gt; ERROR: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated{name=main, dimension=null, minSdkVersion=null, targetSdkVersion=null, renderscriptTargetApi=null, renderscriptSupportModeEnabled=null, renderscriptSupportModeBlasEnabled=null, renderscriptNdkModeEnabled=null, versionCode=null, versionName=null, applicationId=null, testApplicationId=null, testInstrumentationRunner=null, testInstrumentationRunnerArguments={}, testHandleProfiling=null, testFunctionalTest=null, signingConfig=null, resConfig=null, mBuildConfigFields={}, mResValues={}, mProguardFiles=[], mConsumerProguardFiles=[], mManifestPlaceholders={}, mWearAppUnbundled=null} of type com.android.build.gradle.internal.dsl.DefaultConfig.\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 27\r\n        buildToolsVersion &#39;27.0.2&#39;\r\n        defaultConfig {\r\n            buildConfigField(&quot;String&quot;, &quot;API_KEY&quot;, API_KEY)        //error here\r\n            buildConfigField(&quot;String&quot;, &quot;ER_API_KEY&quot;, ER_API_KEY)\r\n            applicationId &quot;com.gpads.gautham.imagetotextanalysis&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 27\r\n            versionCode 2\r\n            versionName &quot;2.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        // ... other values\r\n    }\r\n        ","title":"ERROR: Gradle sync failed: Could not get unknown property &#39;API_KEY&#39; for DefaultConfig_Decorated","body":"<blockquote>\n  <p>ERROR: Could not get unknown property 'API_KEY' for DefaultConfig_Decorated{name=main, dimension=null, minSdkVersion=null, targetSdkVersion=null, renderscriptTargetApi=null, renderscriptSupportModeEnabled=null, renderscriptSupportModeBlasEnabled=null, renderscriptNdkModeEnabled=null, versionCode=null, versionName=null, applicationId=null, testApplicationId=null, testInstrumentationRunner=null, testInstrumentationRunnerArguments={}, testHandleProfiling=null, testFunctionalTest=null, signingConfig=null, resConfig=null, mBuildConfigFields={}, mResValues={}, mProguardFiles=[], mConsumerProguardFiles=[], mManifestPlaceholders={}, mWearAppUnbundled=null} of type com.android.build.gradle.internal.dsl.DefaultConfig.\n      apply plugin: 'com.android.application'</p>\n</blockquote>\n\n<pre><code>android {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.2'\n    defaultConfig {\n        buildConfigField(\"String\", \"API_KEY\", API_KEY)        //error here\n        buildConfigField(\"String\", \"ER_API_KEY\", ER_API_KEY)\n        applicationId \"com.gpads.gautham.imagetotextanalysis\"\n        minSdkVersion 15\n        targetSdkVersion 27\n        versionCode 2\n        versionName \"2.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    // ... other values\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-drawable"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694776072,"creation_date":1694776072,"answer_id":77111851,"question_id":77111220,"body_markdown":"I can see that you want to change the progress bar&#39;s color to green when the progress value is bigger than 50. To do that you need to change the inside color of the progress bar, you need to modify the @color/progressCloseLimit in your progress bar drawable like this:\r\n\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;progressOutside&quot;&gt;@color/your_color&lt;/color&gt;\r\n        &lt;color name=&quot;progressInsideGreen&quot;&gt;@color/your_color&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nModify your progress bar drawable (@drawable/circular_progress_bar) to use the progressInsideGreen color when the progress is in the specified range. You can do this by creating different drawables for the inside and outside shapes and using a selector drawable to switch between them based on the progress value.\r\nHere&#39;s an example of how your progress bar drawable (circular_progress_bar.xml) might look like:\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;!-- Outside color --&gt;\r\n        &lt;item&gt;\r\n            &lt;shape\r\n                android:shape=&quot;ring&quot;\r\n                android:useLevel=&quot;false&quot;\r\n                android:thicknessRatio=&quot;16&quot; &gt;\r\n                &lt;solid android:color=&quot;@color/progressOutside&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n        \r\n        &lt;!-- Inside color --&gt;\r\n        &lt;item android:id=&quot;@android:id/progress&quot;&gt;\r\n            &lt;selector&gt;\r\n                &lt;!-- When progress is between 50 and 100, use green color --&gt;\r\n                &lt;item android:state_progress=&quot;true&quot; android:state_after=&quot;50&quot;&gt;\r\n                    &lt;shape\r\n                        android:shape=&quot;ring&quot;\r\n                        android:useLevel=&quot;true&quot;\r\n                        android:thicknessRatio=&quot;16&quot;&gt;\r\n                        &lt;solid android:color=&quot;@color/progressInsideGreen&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n                &lt;!-- Default, when progress is not in the specified range, use orange color --&gt;\r\n                &lt;item&gt;\r\n                    &lt;shape\r\n                        android:shape=&quot;ring&quot;\r\n                        android:useLevel=&quot;true&quot;\r\n                        android:thicknessRatio=&quot;16&quot;&gt;\r\n                        &lt;solid android:color=&quot;@color/progressCloseLimit&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/selector&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\n\r\nWith these changes, you don&#39;t need to programmatically change the progress bar&#39;s color; it will automatically change based on the progress value. Just make sure to define the appropriate colors in your colors.xml file.\r\n\r\n","title":"How to change progress drawable of progress bar during program","body":"<p>I can see that you want to change the progress bar's color to green when the progress value is bigger than 50. To do that you need to change the inside color of the progress bar, you need to modify the @color/progressCloseLimit in your progress bar drawable like this:</p>\n<pre><code>&lt;resources&gt;\n    &lt;color name=&quot;progressOutside&quot;&gt;@color/your_color&lt;/color&gt;\n    &lt;color name=&quot;progressInsideGreen&quot;&gt;@color/your_color&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Modify your progress bar drawable (@drawable/circular_progress_bar) to use the progressInsideGreen color when the progress is in the specified range. You can do this by creating different drawables for the inside and outside shapes and using a selector drawable to switch between them based on the progress value.\nHere's an example of how your progress bar drawable (circular_progress_bar.xml) might look like:</p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;!-- Outside color --&gt;\n    &lt;item&gt;\n        &lt;shape\n            android:shape=&quot;ring&quot;\n            android:useLevel=&quot;false&quot;\n            android:thicknessRatio=&quot;16&quot; &gt;\n            &lt;solid android:color=&quot;@color/progressOutside&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    \n    &lt;!-- Inside color --&gt;\n    &lt;item android:id=&quot;@android:id/progress&quot;&gt;\n        &lt;selector&gt;\n            &lt;!-- When progress is between 50 and 100, use green color --&gt;\n            &lt;item android:state_progress=&quot;true&quot; android:state_after=&quot;50&quot;&gt;\n                &lt;shape\n                    android:shape=&quot;ring&quot;\n                    android:useLevel=&quot;true&quot;\n                    android:thicknessRatio=&quot;16&quot;&gt;\n                    &lt;solid android:color=&quot;@color/progressInsideGreen&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n            &lt;!-- Default, when progress is not in the specified range, use orange color --&gt;\n            &lt;item&gt;\n                &lt;shape\n                    android:shape=&quot;ring&quot;\n                    android:useLevel=&quot;true&quot;\n                    android:thicknessRatio=&quot;16&quot;&gt;\n                    &lt;solid android:color=&quot;@color/progressCloseLimit&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/selector&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>With these changes, you don't need to programmatically change the progress bar's color; it will automatically change based on the progress value. Just make sure to define the appropriate colors in your colors.xml file.</p>\n"}],"owner":{"account_id":28711018,"reputation":1,"user_id":21986511,"display_name":"newbie123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694776072,"creation_date":1694770210,"question_id":77111220,"body_markdown":"I&#39;m trying to change progress bar inside color if value is close to max, basically default progress color is orange and i want to change it to green, how do i make it work?\r\n\r\nFunction:\r\n\r\n```\r\npublic static void changeProgressColor(ProgressBar progressBar){\r\n    int progress = progressBar.getProgress();\r\n    if(progressBar.getProgress() &gt;= 50 &amp;&amp; progressBar.getProgress() &lt;= 100){\r\n        progressBar.setForeground(ContextCompat.getDrawable(progressBar.getContext(), R.drawable.progress_inside_green));\r\n        progressBar.setProgress(progress);\r\n    }\r\n}\r\n```\r\n\r\nXML:\r\n\r\n```\r\n&lt;ProgressBar\r\n    android:id=&quot;@+id/progressBarEnergy&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:indeterminateOnly=&quot;false&quot;\r\n    android:progressDrawable=&quot;@drawable/circular_progress_bar&quot;\r\n    android:progress=&quot;50&quot; /&gt;\r\n```\r\n\r\nDrawable (green one, orange one is the same except inside color):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape\r\n            android:shape=&quot;ring&quot;\r\n            android:useLevel=&quot;false&quot;\r\n            android:thicknessRatio=&quot;16&quot; &gt;\r\n            &lt;solid android:color=&quot;@color/progressOutside&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n        &lt;rotate\r\n            android:fromDegrees=&quot;90&quot;\r\n            android:toDegrees=&quot;90&quot;&gt;\r\n            &lt;shape\r\n                android:shape=&quot;ring&quot;\r\n                android:useLevel=&quot;true&quot;\r\n                android:thicknessRatio=&quot;16&quot;&gt;\r\n                &lt;solid android:color=&quot;@color/progressCloseLimit&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/rotate&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```","title":"How to change progress drawable of progress bar during program","body":"<p>I'm trying to change progress bar inside color if value is close to max, basically default progress color is orange and i want to change it to green, how do i make it work?</p>\n<p>Function:</p>\n<pre><code>public static void changeProgressColor(ProgressBar progressBar){\n    int progress = progressBar.getProgress();\n    if(progressBar.getProgress() &gt;= 50 &amp;&amp; progressBar.getProgress() &lt;= 100){\n        progressBar.setForeground(ContextCompat.getDrawable(progressBar.getContext(), R.drawable.progress_inside_green));\n        progressBar.setProgress(progress);\n    }\n}\n</code></pre>\n<p>XML:</p>\n<pre><code>&lt;ProgressBar\n    android:id=&quot;@+id/progressBarEnergy&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:indeterminateOnly=&quot;false&quot;\n    android:progressDrawable=&quot;@drawable/circular_progress_bar&quot;\n    android:progress=&quot;50&quot; /&gt;\n</code></pre>\n<p>Drawable (green one, orange one is the same except inside color):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape\n            android:shape=&quot;ring&quot;\n            android:useLevel=&quot;false&quot;\n            android:thicknessRatio=&quot;16&quot; &gt;\n            &lt;solid android:color=&quot;@color/progressOutside&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;rotate\n            android:fromDegrees=&quot;90&quot;\n            android:toDegrees=&quot;90&quot;&gt;\n            &lt;shape\n                android:shape=&quot;ring&quot;\n                android:useLevel=&quot;true&quot;\n                android:thicknessRatio=&quot;16&quot;&gt;\n                &lt;solid android:color=&quot;@color/progressCloseLimit&quot; /&gt;\n            &lt;/shape&gt;\n        &lt;/rotate&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":0,"creation_date":1411047360,"post_id":25893567,"comment_id":40562867,"body_markdown":"Well, some clarification here:","body":"Well, some clarification here:"},{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":0,"creation_date":1411047768,"post_id":25893567,"comment_id":40563180,"body_markdown":"I need to save parent without saving childs, that is why no cascade is needed. Transient is not a solution in my case, I still want childs to be eagerly loaded on parent load. So without cascade, Spring JPA (or hibernate persistence provider, not sure which one is responsible) is checking every child&#39;s persistence. What is the point of this check if I will not save them anyway (or will save later)?","body":"I need to save parent without saving childs, that is why no cascade is needed. Transient is not a solution in my case, I still want childs to be eagerly loaded on parent load. So without cascade, Spring JPA (or hibernate persistence provider, not sure which one is responsible) is checking every child&#39;s persistence. What is the point of this check if I will not save them anyway (or will save later)?"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":1,"creation_date":1411048176,"post_id":25893567,"comment_id":40563505,"body_markdown":"Why would you add children to a parent before persisting the parent, but not wanting to persist them too? - How about first persisting the parent and then, working with the persistent parent entity, add children as needed? When you&#39;re done, you `merge()` the new parent&#39;s state, including the children, into the DB.","body":"Why would you add children to a parent before persisting the parent, but not wanting to persist them too? - How about first persisting the parent and then, working with the persistent parent entity, add children as needed? When you&#39;re done, you <code>merge()</code> the new parent&#39;s state, including the children, into the DB."},{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":0,"creation_date":1411116793,"post_id":25893567,"comment_id":40592037,"body_markdown":"That all because I don&#39;t have consistent sync with database, let&#39;s say my entities can change in time, and if I have parent with 1000 children, without cascade I simply check if child was changed (it has an extra boolean attribute for that) and save/merge only it. If I used cascade It would check every 1000 children by requesting database (and I&#39;m not talking about other relations there), and that is a LOT of database requests!","body":"That all because I don&#39;t have consistent sync with database, let&#39;s say my entities can change in time, and if I have parent with 1000 children, without cascade I simply check if child was changed (it has an extra boolean attribute for that) and save/merge only it. If I used cascade It would check every 1000 children by requesting database (and I&#39;m not talking about other relations there), and that is a LOT of database requests!"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":1,"creation_date":1411122504,"post_id":25893567,"comment_id":40595219,"body_markdown":"I think this is only partially true. As long as you are using a single persistence context and don&#39;t detach the persistent entities from it the objects are &quot;attached&quot; to it. This means that the context will be able (through proxy objects or instrumentation) to determine exactly which property of which of the persistent object(s) has changed since the last sync with the DB and persist/merge only those, without an additional round-trip to the DB. This basically means that the persistence provider already manages and uses an internal flag for you to note which objects are &quot;dirty&quot; w.r.t. the DB.","body":"I think this is only partially true. As long as you are using a single persistence context and don&#39;t detach the persistent entities from it the objects are &quot;attached&quot; to it. This means that the context will be able (through proxy objects or instrumentation) to determine exactly which property of which of the persistent object(s) has changed since the last sync with the DB and persist/merge only those, without an additional round-trip to the DB. This basically means that the persistence provider already manages and uses an internal flag for you to note which objects are &quot;dirty&quot; w.r.t. the DB."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1411122948,"post_id":25893567,"comment_id":40595483,"body_markdown":"&quot;Saving a child first doesn&#39;t help either, only exception is different&quot; - Or maybe try to persist child, persist parent, add child to parent, set child&#39;s parent, merge child, merge parent. Somewhat clumsy, even if it works.","body":"&quot;Saving a child first doesn&#39;t help either, only exception is different&quot; - Or maybe try to persist child, persist parent, add child to parent, set child&#39;s parent, merge child, merge parent. Somewhat clumsy, even if it works."}],"answers":[{"comments":[{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":0,"creation_date":1411047310,"post_id":25906425,"comment_id":40562824,"body_markdown":"No, that is a completely correct bidirectional association (am I wrong?).","body":"No, that is a completely correct bidirectional association (am I wrong?)."},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1411050280,"post_id":25906425,"comment_id":40565099,"body_markdown":"lets say its ok , and try to think  simple use cases. 1st case : you want to add a parent with null children list , which will work and 2nd case : you want to add a children with null parent which will work too and , now in your posted case you are initializing a parent object , reference it with 2 children and then you try to save the parent with unsaved children entities so hibernate cannot find them same as the opposite case in which you first try to save the children with an unsaved parent reference","body":"lets say its ok , and try to think  simple use cases. 1st case : you want to add a parent with null children list , which will work and 2nd case : you want to add a children with null parent which will work too and , now in your posted case you are initializing a parent object , reference it with 2 children and then you try to save the parent with unsaved children entities so hibernate cannot find them same as the opposite case in which you first try to save the children with an unsaved parent reference"},{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":0,"creation_date":1411116455,"post_id":25906425,"comment_id":40591850,"body_markdown":"So, what we have is: Bidirectional association will never work without cascading?","body":"So, what we have is: Bidirectional association will never work without cascading?"},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1411120161,"post_id":25906425,"comment_id":40593958,"body_markdown":"you can do it without cascading if you follow Hanno Binder&#39;s solution as he posted it in the comment above","body":"you can do it without cascading if you follow Hanno Binder&#39;s solution as he posted it in the comment above"}],"tags":[],"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411024354,"creation_date":1411024354,"answer_id":25906425,"question_id":25893567,"body_markdown":"well i am sorry for posting a not sure answer but i cannot post a comment cause of reputation.\r\ni think you have a cross reference problem,  because simply by referencing the parent from the child you can get the childs that parent has with a simple query. instead you cross reference the child association resulting to many object problems. if you want i can post you a class diagram for better explanation. hope it helps","title":"How to save bidirectional association without cascading using Spring data JPA?","body":"<p>well i am sorry for posting a not sure answer but i cannot post a comment cause of reputation.\ni think you have a cross reference problem,  because simply by referencing the parent from the child you can get the childs that parent has with a simple query. instead you cross reference the child association resulting to many object problems. if you want i can post you a class diagram for better explanation. hope it helps</p>\n"},{"comments":[{"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"score":1,"creation_date":1411046968,"post_id":25906905,"comment_id":40562545,"body_markdown":"As I said, I want to get it work without any cascade, so, sorry, but it&#39;s not answering my question","body":"As I said, I want to get it work without any cascade, so, sorry, but it&#39;s not answering my question"}],"tags":[],"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1411026023,"creation_date":1411026023,"answer_id":25906905,"question_id":25893567,"body_markdown":"Try\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade={CascadeType.PERSIST})\r\n    private List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\r\n\r\n(see also https://stackoverflow.com/questions/13027214/jpa-manytoone-with-cascadetype-all for example)","title":"How to save bidirectional association without cascading using Spring data JPA?","body":"<p>Try</p>\n\n<pre><code>@OneToMany(mappedBy = \"parent\", cascade={CascadeType.PERSIST})\nprivate List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>(see also <a href=\"https://stackoverflow.com/questions/13027214/jpa-manytoone-with-cascadetype-all\">JPA @ManyToOne with CascadeType.ALL</a> for example)</p>\n"}],"owner":{"account_id":4852020,"reputation":11,"user_id":3914074,"display_name":"user3914074"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694776005,"creation_date":1410964675,"question_id":25893567,"body_markdown":"Lets say I have bidirectional one-to-many association between Parent-Child, mapped as follows:\r\n\r\nParent.java:\r\n\r\n    @Entity\r\n    public class Parent {\r\n\r\n\t    @Id\r\n\t    private Integer id;\r\n\t\r\n\t    @OneToMany(mappedBy = &quot;parent&quot;)\r\n\t    private List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\r\n        ...\r\n\r\nand Child.java:\r\n\r\n    @Entity\r\n    public class Child {\r\n\r\n\t    @Id\r\n\t    private Integer id;\r\n\t\r\n\t    @ManyToOne\r\n\t    @JoinColumn(name = &quot;parent_id&quot;)\r\n\t    private Parent parent;\r\n        \r\n        ...\r\n\r\nWhen I run this code\r\n\r\n        Parent parent = new Parent(1);\r\n        Child child = new Child(1);\r\n        Child child2 = new Child(2);\r\n        child.setParent(parent);\r\n        child2.setParent(parent);\r\n        parent.getChilds().add(child);\r\n        parent.getChilds().add(child2);\r\n\r\n        parentRepository.save(parent);\r\n\r\nI get exception\r\n\r\n        Unable to find Child with id 1\r\n\r\nSaving a child first doesn&#39;t help either, only exception is different","title":"How to save bidirectional association without cascading using Spring data JPA?","body":"<p>Lets say I have bidirectional one-to-many association between Parent-Child, mapped as follows:</p>\n\n<p>Parent.java:</p>\n\n<pre><code>@Entity\npublic class Parent {\n\n    @Id\n    private Integer id;\n\n    @OneToMany(mappedBy = \"parent\")\n    private List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\n    ...\n</code></pre>\n\n<p>and Child.java:</p>\n\n<pre><code>@Entity\npublic class Child {\n\n    @Id\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = \"parent_id\")\n    private Parent parent;\n\n    ...\n</code></pre>\n\n<p>When I run this code</p>\n\n<pre><code>    Parent parent = new Parent(1);\n    Child child = new Child(1);\n    Child child2 = new Child(2);\n    child.setParent(parent);\n    child2.setParent(parent);\n    parent.getChilds().add(child);\n    parent.getChilds().add(child2);\n\n    parentRepository.save(parent);\n</code></pre>\n\n<p>I get exception</p>\n\n<pre><code>    Unable to find Child with id 1\n</code></pre>\n\n<p>Saving a child first doesn't help either, only exception is different</p>\n"},{"tags":["java","algorithm","recursion","binary-tree"],"comments":[{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1597003503,"post_id":63330222,"comment_id":111986259,"body_markdown":"To me the task looks more like a max-sum-subtree, not a path.","body":"To me the task looks more like a max-sum-subtree, not a path."}],"answers":[{"tags":[],"owner":{"account_id":6853920,"reputation":818,"user_id":5270186,"display_name":"Suman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1597022075,"creation_date":1597000333,"answer_id":63330336,"question_id":63330222,"body_markdown":"Try\r\n\r\n```\r\nclass Solution {\r\n    private int sum = Integer.MIN_VALUE;\r\n    public int maxPathSum(TreeNode root) {\r\n        maxPathSumHelper(root);\r\n\r\n        if (root.left != null) {\r\n            maxPathSumHelper(root.left);\r\n\r\n        } else if (root.right != null) {\r\n            maxPathSumHelper(root.right);\r\n\r\n        }\r\n\r\n        return sum;\r\n    }\r\n    public int  maxPathSumHelper(TreeNode root) {\r\n        if (root ==  null) {\r\n            return 0;\r\n        }\r\n\r\n        //check left sum\r\n        int leftValue = root.val + maxPathSumHelper(root.left);\r\n\r\n        if (leftValue &gt; sum) {\r\n            sum = leftValue;\r\n        }\r\n\r\n        //check right sum\r\n        int rightValue = root.val + maxPathSumHelper(root.right);\r\n\r\n        if (rightValue &gt; sum) {\r\n            sum = rightValue;\r\n        }\r\n\r\n        //check if root value is greater\r\n        if (root.val &gt; sum) {\r\n            sum = root.val;\r\n        }\r\n\r\n        //check if right and left value is the greatest\r\n        if ((leftValue + rightValue - (2 * root.val) ) + root.val &gt; sum) {\r\n            sum = (leftValue + rightValue - (2 * root.val)) + root.val;\r\n        }\r\n\r\n        return Math.max(Math.max(leftValue, rightValue), root.val);\r\n    }\r\n}\r\n```","title":"Binary Tree Maximum Path Sum Algorithm","body":"<p>Try</p>\n<pre><code>class Solution {\n    private int sum = Integer.MIN_VALUE;\n    public int maxPathSum(TreeNode root) {\n        maxPathSumHelper(root);\n\n        if (root.left != null) {\n            maxPathSumHelper(root.left);\n\n        } else if (root.right != null) {\n            maxPathSumHelper(root.right);\n\n        }\n\n        return sum;\n    }\n    public int  maxPathSumHelper(TreeNode root) {\n        if (root ==  null) {\n            return 0;\n        }\n\n        //check left sum\n        int leftValue = root.val + maxPathSumHelper(root.left);\n\n        if (leftValue &gt; sum) {\n            sum = leftValue;\n        }\n\n        //check right sum\n        int rightValue = root.val + maxPathSumHelper(root.right);\n\n        if (rightValue &gt; sum) {\n            sum = rightValue;\n        }\n\n        //check if root value is greater\n        if (root.val &gt; sum) {\n            sum = root.val;\n        }\n\n        //check if right and left value is the greatest\n        if ((leftValue + rightValue - (2 * root.val) ) + root.val &gt; sum) {\n            sum = (leftValue + rightValue - (2 * root.val)) + root.val;\n        }\n\n        return Math.max(Math.max(leftValue, rightValue), root.val);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1597003541,"post_id":63330664,"comment_id":111986266,"body_markdown":"This does not seem to take the negative node values into account, does it?","body":"This does not seem to take the negative node values into account, does it?"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":1,"creation_date":1597021433,"post_id":63330664,"comment_id":111989779,"body_markdown":"@Emma thank you for simplifying my complicated statements and taking the time to provide the steps. Although I see a similarity in the  logic of the statements, I am still trying to figure out what comparison I am missing that is throwing the algorithm off. can you perhaps help me with this - please and thank you.","body":"@Emma thank you for simplifying my complicated statements and taking the time to provide the steps. Although I see a similarity in the  logic of the statements, I am still trying to figure out what comparison I am missing that is throwing the algorithm off. can you perhaps help me with this - please and thank you."},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":1,"creation_date":1597021765,"post_id":63330664,"comment_id":111989829,"body_markdown":"@Suman thanks I think I was missing the fact that either the leftsum or rightsum or left + right + root should be returned. I think i get it now. Thank you both Emma and Suman. Both solutions help me understand.","body":"@Suman thanks I think I was missing the fact that either the leftsum or rightsum or left + right + root should be returned. I think i get it now. Thank you both Emma and Suman. Both solutions help me understand."}],"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597002427,"creation_date":1597002427,"answer_id":63330664,"question_id":63330222,"body_markdown":"I guess we can a bit simplify our statements here. \r\n\r\nThis&#39;ll simply get accepted:\r\n\r\n```\r\npublic final class Solution {\r\n    int max;\r\n\r\n    public final int maxPathSum(final TreeNode root) {\r\n        max = Integer.MIN_VALUE;\r\n        traverse(root);\r\n        return max;\r\n    }\r\n\r\n    private final int traverse(final TreeNode node) {\r\n        if (node == null)\r\n            return 0;\r\n        final int l = Math.max(0, traverse(node.left));\r\n        final int r = Math.max(0, traverse(node.right));\r\n        max = Math.max(max, l + r + node.val);\r\n        return Math.max(l, r) + node.val;\r\n    }\r\n}\r\n```\r\n\r\n-------------\r\n\r\n## References\r\n\r\n- For additional details, please see the [Discussion Board](https://leetcode.com/problems/binary-tree-maximum-path-sum/discuss) which you can find plenty of well-explained accepted solutions in there, with a variety of [languages](https://support.leetcode.com/hc/en-us/articles/360011833974-What-are-the-environments-for-the-programming-languages-) including efficient algorithms and asymptotic [time](https://en.wikipedia.org/wiki/Time_complexity)/[space](https://en.wikipedia.org/wiki/Space_complexity) complexity analysis&lt;sup&gt;[1](https://en.wikipedia.org/wiki/Big_O_notation), [2](https://en.wikipedia.org/wiki/Analysis_of_algorithms)&lt;/sup&gt;.","title":"Binary Tree Maximum Path Sum Algorithm","body":"<p>I guess we can a bit simplify our statements here.</p>\n<p>This'll simply get accepted:</p>\n<pre><code>public final class Solution {\n    int max;\n\n    public final int maxPathSum(final TreeNode root) {\n        max = Integer.MIN_VALUE;\n        traverse(root);\n        return max;\n    }\n\n    private final int traverse(final TreeNode node) {\n        if (node == null)\n            return 0;\n        final int l = Math.max(0, traverse(node.left));\n        final int r = Math.max(0, traverse(node.right));\n        max = Math.max(max, l + r + node.val);\n        return Math.max(l, r) + node.val;\n    }\n}\n</code></pre>\n<hr />\n<h2>References</h2>\n<ul>\n<li>For additional details, please see the <a href=\"https://leetcode.com/problems/binary-tree-maximum-path-sum/discuss\" rel=\"nofollow noreferrer\">Discussion Board</a> which you can find plenty of well-explained accepted solutions in there, with a variety of <a href=\"https://support.leetcode.com/hc/en-us/articles/360011833974-What-are-the-environments-for-the-programming-languages-\" rel=\"nofollow noreferrer\">languages</a> including efficient algorithms and asymptotic <a href=\"https://en.wikipedia.org/wiki/Time_complexity\" rel=\"nofollow noreferrer\">time</a>/<a href=\"https://en.wikipedia.org/wiki/Space_complexity\" rel=\"nofollow noreferrer\">space</a> complexity analysis<sup><a href=\"https://en.wikipedia.org/wiki/Big_O_notation\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://en.wikipedia.org/wiki/Analysis_of_algorithms\" rel=\"nofollow noreferrer\">2</a></sup>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694775688,"creation_date":1694775688,"answer_id":77111802,"question_id":63330222,"body_markdown":"    class Solution:\r\n     def numDecodings(self, s: str) -&gt; int:\r\n       if s[0] == &#39;0&#39;:\r\n        return 0\r\n\r\n       dp = [[0, 0] for i in range(len(s) + 1)]\r\n\r\n       dp[0][0] = 1\r\n       dp[1][0] = 1\r\n\r\n       for i in range(1, len(s)):\r\n        # zero must be second\r\n        if s[i] == &#39;0&#39;:\r\n          if s[i-1] not in [&#39;1&#39;, &#39;2&#39;]:\r\n            return 0\r\n          dp[i+1] = [0, dp[i][0]]\r\n  \r\n        elif &#39;00&#39; &lt; s[i-1:i+1] &lt; &#39;27&#39; and s[i-1] != &#39;0&#39;:\r\n          dp[i+1] = [sum(dp[i]), sum(dp[i-1])]\r\n    \r\n        else:\r\n          dp[i+1] = [sum(dp[i]), 0]\r\n    \r\n      return sum(dp[len(s)])\r\nTry this code using Python 3 format at Leetcode you will passed..","title":"Binary Tree Maximum Path Sum Algorithm","body":"<pre><code>class Solution:\n def numDecodings(self, s: str) -&gt; int:\n   if s[0] == '0':\n    return 0\n\n   dp = [[0, 0] for i in range(len(s) + 1)]\n\n   dp[0][0] = 1\n   dp[1][0] = 1\n\n   for i in range(1, len(s)):\n    # zero must be second\n    if s[i] == '0':\n      if s[i-1] not in ['1', '2']:\n        return 0\n      dp[i+1] = [0, dp[i][0]]\n\n    elif '00' &lt; s[i-1:i+1] &lt; '27' and s[i-1] != '0':\n      dp[i+1] = [sum(dp[i]), sum(dp[i-1])]\n\n    else:\n      dp[i+1] = [sum(dp[i]), 0]\n\n  return sum(dp[len(s)])\n</code></pre>\n<p>Try this code using Python 3 format at Leetcode you will passed..</p>\n"}],"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63330336,"answer_count":3,"score":1,"last_activity_date":1694775688,"creation_date":1596999739,"question_id":63330222,"body_markdown":"I am new to recursion and binary trees. I am trying to solve [this problem][1] on leetcode.\r\n\r\nTo find maximum sum path is like finding maximum path between any two nodes, that path may or may not pass through the root; except that with max sum path we want to track sum instead of path length.\r\n\r\nMy algorithm is passing 91/93 test cases and I just can&#39;t figure out what I am missing. Can anyone please provide some direction?\r\n\r\n    class Solution {\r\n        private int sum = Integer.MIN_VALUE;\r\n        public int maxPathSum(TreeNode root) {\r\n            maxPathSumHelper(root);\r\n            if(root.left != null){\r\n                maxPathSumHelper(root.left);\r\n            }\r\n            if(root.right != null){\r\n                maxPathSumHelper(root.right);\r\n            }\r\n            \r\n            return sum;\r\n        }\r\n        public int  maxPathSumHelper(TreeNode root){\r\n            if(root ==  null){\r\n                return 0;\r\n            }\r\n            //check left sum\r\n            int leftValue = root.val + maxPathSumHelper(root.left);\r\n            if(leftValue &gt; sum){\r\n                sum = leftValue;\r\n            }\r\n            //check right sum\r\n            int rightValue = root.val + maxPathSumHelper(root.right);\r\n            if(rightValue &gt; sum){\r\n                sum = rightValue;\r\n            }\r\n            //check if root value is greater \r\n            if(root.val &gt; sum){\r\n                sum = root.val;\r\n            }\r\n            //check if right and left value is the greatest\r\n            if((leftValue + rightValue - (2 * root.val) )+ root.val &gt; sum){\r\n                sum = (leftValue + rightValue - (2 * root.val)) + root.val;\r\n            }\r\n            return Math.max(leftValue, rightValue);\r\n        }\r\n    }\r\n\r\n  [1]: https://leetcode.com/problems/binary-tree-maximum-path-sum/\r\n","title":"Binary Tree Maximum Path Sum Algorithm","body":"<p>I am new to recursion and binary trees. I am trying to solve <a href=\"https://leetcode.com/problems/binary-tree-maximum-path-sum/\" rel=\"nofollow noreferrer\">this problem</a> on leetcode.</p>\n<p>To find maximum sum path is like finding maximum path between any two nodes, that path may or may not pass through the root; except that with max sum path we want to track sum instead of path length.</p>\n<p>My algorithm is passing 91/93 test cases and I just can't figure out what I am missing. Can anyone please provide some direction?</p>\n<pre><code>class Solution {\n    private int sum = Integer.MIN_VALUE;\n    public int maxPathSum(TreeNode root) {\n        maxPathSumHelper(root);\n        if(root.left != null){\n            maxPathSumHelper(root.left);\n        }\n        if(root.right != null){\n            maxPathSumHelper(root.right);\n        }\n        \n        return sum;\n    }\n    public int  maxPathSumHelper(TreeNode root){\n        if(root ==  null){\n            return 0;\n        }\n        //check left sum\n        int leftValue = root.val + maxPathSumHelper(root.left);\n        if(leftValue &gt; sum){\n            sum = leftValue;\n        }\n        //check right sum\n        int rightValue = root.val + maxPathSumHelper(root.right);\n        if(rightValue &gt; sum){\n            sum = rightValue;\n        }\n        //check if root value is greater \n        if(root.val &gt; sum){\n            sum = root.val;\n        }\n        //check if right and left value is the greatest\n        if((leftValue + rightValue - (2 * root.val) )+ root.val &gt; sum){\n            sum = (leftValue + rightValue - (2 * root.val)) + root.val;\n        }\n        return Math.max(leftValue, rightValue);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","build.gradle","java-home"],"answers":[{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1694999700,"post_id":77111788,"comment_id":135961182,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77111788/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4607310,"reputation":3,"user_id":3736412,"display_name":"user3736412"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694775550,"creation_date":1694775550,"answer_id":77111788,"question_id":77097839,"body_markdown":"I had the same problem. It was solved for me simply by closing VS Code and restarting my MacBook, then re-opening VS Code.","title":"Showing compile error in build.gradle &quot;Could not run phased build action using connection to Gradle distribution&quot;. Saying &quot;Java home is different.&quot;","body":"<p>I had the same problem. It was solved for me simply by closing VS Code and restarting my MacBook, then re-opening VS Code.</p>\n"}],"owner":{"account_id":26121530,"reputation":9,"user_id":19813749,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694775550,"creation_date":1694613855,"question_id":77097839,"body_markdown":"I was building a flutter app in vscode which was working fine but suddenly it started showing this error in build.gradle:\r\n\r\n```\r\nCould not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.5-all.zip&#39;.\r\nThe newly created daemon process has a different context than expected.\r\nIt won&#39;t be possible to reconnect to this daemon. Context mismatch: \r\nJava home is different.\r\nWanted: DefaultDaemonContext[uid=null,javaHome=/usr,daemonRegistryDir=/Users/rijuljain/.gradle/daemon,pid=82555,idleTimeout=null,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]\r\nActual: DefaultDaemonContext[uid=ccff97f5-924e-42fe-8259-9cdc23997e5b,javaHome=/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home,daemonRegistryDir=/Users/rijuljain/.gradle/daemon,pid=82896,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]Java(0)\r\n\r\n```\r\n\r\njava version:\r\n```java 17.0.2 2022-01-18 LTS```\r\n\r\n\r\n\r\n\r\nmy build.gradle:\r\n\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.7.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\n\r\n.gradle/gradle-wrapper.properties\r\n\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n\r\n```\r\n\r\n\r\nIt was showing the path was different, but the JAVA_HOME path is already there in my environment \r\n```\r\nexport JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home&quot;\r\n```\r\n\r\nplease help me in solving this problem in vscode","title":"Showing compile error in build.gradle &quot;Could not run phased build action using connection to Gradle distribution&quot;. Saying &quot;Java home is different.&quot;","body":"<p>I was building a flutter app in vscode which was working fine but suddenly it started showing this error in build.gradle:</p>\n<pre><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.5-all.zip'.\nThe newly created daemon process has a different context than expected.\nIt won't be possible to reconnect to this daemon. Context mismatch: \nJava home is different.\nWanted: DefaultDaemonContext[uid=null,javaHome=/usr,daemonRegistryDir=/Users/rijuljain/.gradle/daemon,pid=82555,idleTimeout=null,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]\nActual: DefaultDaemonContext[uid=ccff97f5-924e-42fe-8259-9cdc23997e5b,javaHome=/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home,daemonRegistryDir=/Users/rijuljain/.gradle/daemon,pid=82896,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]Java(0)\n\n</code></pre>\n<p>java version:\n<code>java 17.0.2 2022-01-18 LTS</code></p>\n<p>my build.gradle:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>.gradle/gradle-wrapper.properties</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\n\n</code></pre>\n<p>It was showing the path was different, but the JAVA_HOME path is already there in my environment</p>\n<pre><code>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home&quot;\n</code></pre>\n<p>please help me in solving this problem in vscode</p>\n"},{"tags":["java","unit-testing","junit","environment-variables","junit5"],"comments":[{"owner":{"account_id":11940305,"reputation":598,"user_id":8737329,"display_name":"Matthias Bohlen"},"score":3,"creation_date":1583250179,"post_id":56888279,"comment_id":107048773,"body_markdown":"With Java 8, you could change your method that calls System.getenv() so that it uses a Function&lt;String, String&gt; instead. In your production code, you would use System::getenv, and in your test code, you can use Map::get on an internal map that you filled with test values.","body":"With Java 8, you could change your method that calls System.getenv() so that it uses a Function&lt;String, String&gt; instead. In your production code, you would use System::getenv, and in your test code, you can use Map::get on an internal map that you filled with test values."}],"answers":[{"comments":[{"owner":{"account_id":318399,"reputation":7256,"user_id":635610,"accept_rate":95,"display_name":"MeIr"},"score":1,"creation_date":1643917195,"post_id":56919465,"comment_id":125473467,"body_markdown":"Thanks! ```$env:demoVar = &#39;test&#39;; mvn clean install``` - quick simple and works","body":"Thanks! <code>$env:demoVar = &#39;test&#39;; mvn clean install</code> - quick simple and works"}],"tags":[],"owner":{"account_id":10559241,"reputation":991,"user_id":7779517,"display_name":"Eduard Dubilyer"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1562475486,"creation_date":1562475486,"answer_id":56919465,"question_id":56888279,"body_markdown":"The common practice is to use System properties instead of environment variables.\r\nIn this case you will run your java/maven/gradle command or whatever you use to run your tests with option -D demoVar=&quot;{your_value}&quot;.\r\nfor maven goal: \r\n\r\n     maven clean install -DdemoVar=&quot;test&quot;\r\n\r\nfor java jar:\r\n\r\n     java -jar xxx.jar -DdemoVar=&quot;test&quot;\r\n\r\nYou will be able to get it from code with `System.getProperty(&quot;demoVar&quot;)`.\r\n\r\nIf you really need to use environment variable, use OS functionality. \r\nFor linux:\r\n\r\n    demoVar=&quot;test&quot; mvn clean install\r\n\r\nFor windows PowerShell:\r\n\r\n    $env:demoVar = &#39;test&#39;; mvn clean install","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>The common practice is to use System properties instead of environment variables.\nIn this case you will run your java/maven/gradle command or whatever you use to run your tests with option -D demoVar=\"{your_value}\".\nfor maven goal: </p>\n\n<pre><code> maven clean install -DdemoVar=\"test\"\n</code></pre>\n\n<p>for java jar:</p>\n\n<pre><code> java -jar xxx.jar -DdemoVar=\"test\"\n</code></pre>\n\n<p>You will be able to get it from code with <code>System.getProperty(\"demoVar\")</code>.</p>\n\n<p>If you really need to use environment variable, use OS functionality. \nFor linux:</p>\n\n<pre><code>demoVar=\"test\" mvn clean install\n</code></pre>\n\n<p>For windows PowerShell:</p>\n\n<pre><code>$env:demoVar = 'test'; mvn clean install\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27990,"reputation":1852,"user_id":74334,"accept_rate":100,"display_name":"sigint"},"score":1,"creation_date":1565353342,"post_id":56929829,"comment_id":101337708,"body_markdown":"There is a [hack](https://stackoverflow.com/a/7201825/74334) that lets you set environment variables for the current process from Java code. It&#39;s not pretty and you shouldn&#39;t use it unless you really need it. On the other hand, Java should really have a proper method to do this without resorting to hacks.","body":"There is a <a href=\"https://stackoverflow.com/a/7201825/74334\">hack</a> that lets you set environment variables for the current process from Java code. It&#39;s not pretty and you shouldn&#39;t use it unless you really need it. On the other hand, Java should really have a proper method to do this without resorting to hacks."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1642692354,"post_id":56929829,"comment_id":125143843,"body_markdown":"Note: there are libraries that let you do this easily. However, from Java 16 onwards, the reflection hacks no longer work. https://github.com/webcompere/system-stubs has a mockito-based solution to this which does work.","body":"Note: there are libraries that let you do this easily. However, from Java 16 onwards, the reflection hacks no longer work. <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">github.com/webcompere/system-stubs</a> has a mockito-based solution to this which does work."}],"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1562569386,"creation_date":1562569386,"answer_id":56929829,"question_id":56888279,"body_markdown":"You can&#39;t within the actual java process because these environmental values using getenv are **immutable**. \r\n\r\nOne way would be to start another vm or another process where you could introduce your new environment value. \r\n\r\nAnother way would be to switch to **System.getProperty**, but be sure you understand the differences.\r\n\r\nhttps://www.baeldung.com/java-system-get-property-vs-system-getenv\r\n\r\nHere is a little testcode:\r\n\r\n\r\n    public class EnvironmentVarsTest {\r\n        private static int counter = 0;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            counter = counter + 1;\r\n            System.setProperty(&quot;simple_test_env_property&quot;, String.valueOf(counter));\r\n        }\r\n    \r\n        @Test\r\n        public void testFirst() {\r\n            printOutValues();\r\n        }\r\n    \r\n        @Test\r\n        public void testSecond() {\r\n            printOutValues();\r\n        }\r\n    \r\n        private void printOutValues() {\r\n            System.out.println(&quot;--------------------&quot;);\r\n            System.out.println(&quot;val=&quot; + counter);\r\n            System.out.println(&quot;envval=&quot; + System.getProperty(&quot;simple_test_env_property&quot;));\r\n        }\r\n    \r\n    }","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>You can't within the actual java process because these environmental values using getenv are <strong>immutable</strong>. </p>\n\n<p>One way would be to start another vm or another process where you could introduce your new environment value. </p>\n\n<p>Another way would be to switch to <strong>System.getProperty</strong>, but be sure you understand the differences.</p>\n\n<p><a href=\"https://www.baeldung.com/java-system-get-property-vs-system-getenv\" rel=\"noreferrer\">https://www.baeldung.com/java-system-get-property-vs-system-getenv</a></p>\n\n<p>Here is a little testcode:</p>\n\n<pre><code>public class EnvironmentVarsTest {\n    private static int counter = 0;\n\n    @BeforeEach\n    public void setUp() {\n        counter = counter + 1;\n        System.setProperty(\"simple_test_env_property\", String.valueOf(counter));\n    }\n\n    @Test\n    public void testFirst() {\n        printOutValues();\n    }\n\n    @Test\n    public void testSecond() {\n        printOutValues();\n    }\n\n    private void printOutValues() {\n        System.out.println(\"--------------------\");\n        System.out.println(\"val=\" + counter);\n        System.out.println(\"envval=\" + System.getProperty(\"simple_test_env_property\"));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"score":0,"creation_date":1689831487,"post_id":64892484,"comment_id":135269508,"body_markdown":"does not work with kotlin v1.9 and java 17","body":"does not work with kotlin v1.9 and java 17"},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1691004494,"post_id":64892484,"comment_id":135433464,"body_markdown":"Please raise an issue on the github project. It definitely can work with Java 17, though won&#39;t survive multi-threaded code.","body":"Please raise an issue on the github project. It definitely can work with Java 17, though won&#39;t survive multi-threaded code."}],"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1605700099,"creation_date":1605700099,"answer_id":64892484,"question_id":56888279,"body_markdown":"This can be achieved with https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter\r\n\r\n```java\r\n\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass TestClass {\r\n\r\n    @SystemStub\r\n    private EnvironmentVariables environmentVariables =\r\n        new EnvironmentVariables(&quot;demoVar&quot;, &quot;val&quot;);\r\n\r\n    @Test\r\n    void test() {\r\n        // can use the environment\r\n        assertThat(System.getenv(&quot;demoVar&quot;)).isEqualTo(&quot;val&quot;);\r\n\r\n        // can also change the environment\r\n        environmentVariables.set(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n        // environment variables restored to previous state when\r\n        // test ends\r\n    }\r\n}\r\n```","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>This can be achieved with <a href=\"https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ExtendWith(SystemStubsExtension.class)\nclass TestClass {\n\n    @SystemStub\n    private EnvironmentVariables environmentVariables =\n        new EnvironmentVariables(&quot;demoVar&quot;, &quot;val&quot;);\n\n    @Test\n    void test() {\n        // can use the environment\n        assertThat(System.getenv(&quot;demoVar&quot;)).isEqualTo(&quot;val&quot;);\n\n        // can also change the environment\n        environmentVariables.set(&quot;foo&quot;, &quot;bar&quot;);\n\n        // environment variables restored to previous state when\n        // test ends\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":6,"creation_date":1662468797,"post_id":67243886,"comment_id":130008228,"body_markdown":"This would give a warning from JDK9-16 and throws InaccessibleObjectException in JDK17.","body":"This would give a warning from JDK9-16 and throws InaccessibleObjectException in JDK17."},{"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"score":5,"creation_date":1662722771,"post_id":67243886,"comment_id":130077364,"body_markdown":"There&#39;s an issue in the library&#39;s repository discussing the warnings and errors around using this annotation. It also offers ways to work around it. https://github.com/junit-pioneer/junit-pioneer/issues/509","body":"There&#39;s an issue in the library&#39;s repository discussing the warnings and errors around using this annotation. It also offers ways to work around it. <a href=\"https://github.com/junit-pioneer/junit-pioneer/issues/509\" rel=\"nofollow noreferrer\">github.com/junit-pioneer/junit-pioneer/issues/509</a>"},{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1662990774,"post_id":67243886,"comment_id":130127580,"body_markdown":"Thanks for the info @Miguel Ferreira. (They are still work arounds, we are planning to remove env variable dependency instead of using the work arounds). Thanks again for your time","body":"Thanks for the info @Miguel Ferreira. (They are still work arounds, we are planning to remove env variable dependency instead of using the work arounds). Thanks again for your time"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1668455931,"post_id":67243886,"comment_id":131404631,"body_markdown":"@Bala Pioneer dedicated an entire section to this &quot;issue&quot;: https://junit-pioneer.org/docs/environment-variables/#warnings-for-reflective-access","body":"@Bala Pioneer dedicated an entire section to this &quot;issue&quot;: <a href=\"https://junit-pioneer.org/docs/environment-variables/#warnings-for-reflective-access\" rel=\"nofollow noreferrer\">junit-pioneer.org/docs/environment-variables/&hellip;</a>"}],"tags":[],"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"comment_count":4,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1619274775,"creation_date":1619274775,"answer_id":67243886,"question_id":56888279,"body_markdown":"From this other SO answer https://stackoverflow.com/a/59635733/2185719:\r\n\r\n&gt; There is JUnit Pioneer, a &quot;JUnit 5 extension pack&quot;. \r\n\r\njUnit Pioneer offers an annotation that sets environment variables for a test. For example:\r\n\r\n    @Test\r\n    @SetEnvironmentVariable(key = &quot;PATH&quot;, value = &quot;&quot;)\r\n    void testPath_isEmpty() {\r\n        assertThat(System.getenv(&quot;PATH&quot;)).isEmpty();\r\n    }","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>From this other SO answer <a href=\"https://stackoverflow.com/a/59635733/2185719\">https://stackoverflow.com/a/59635733/2185719</a>:</p>\n<blockquote>\n<p>There is JUnit Pioneer, a &quot;JUnit 5 extension pack&quot;.</p>\n</blockquote>\n<p>jUnit Pioneer offers an annotation that sets environment variables for a test. For example:</p>\n<pre><code>@Test\n@SetEnvironmentVariable(key = &quot;PATH&quot;, value = &quot;&quot;)\nvoid testPath_isEmpty() {\n    assertThat(System.getenv(&quot;PATH&quot;)).isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2860492,"reputation":595,"user_id":2455862,"accept_rate":31,"display_name":"user2455862"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672942299,"creation_date":1672942299,"answer_id":75022677,"question_id":56888279,"body_markdown":"Simple solution if you use Gradle, you can add following to your build.gradle\r\n\r\n    test {\r\n      environment &quot;ENV_VAR_NAME&quot;, &quot;ENV_VAR_VALUE&quot;\r\n    }\r\n\r\nLink to Gradle doc: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html#org.gradle.api.tasks.testing.Test:environment\r\n","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>Simple solution if you use Gradle, you can add following to your build.gradle</p>\n<pre><code>test {\n  environment &quot;ENV_VAR_NAME&quot;, &quot;ENV_VAR_VALUE&quot;\n}\n</code></pre>\n<p>Link to Gradle doc: <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html#org.gradle.api.tasks.testing.Test:environment\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html#org.gradle.api.tasks.testing.Test:environment</a></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694774970,"creation_date":1694774970,"answer_id":77111733,"question_id":56888279,"body_markdown":"Here is a solution using Kotlin DSL (build.gradle.**kts**):\r\n\r\n```kotlin\r\ntasks.withType&lt;Test&gt; {\r\n    environment[&quot;myFirst&quot;] = &quot;bunny&quot;\r\n    // OR\r\n    environment(\r\n        &quot;mySecond&quot; to &quot;7249&quot;,\r\n        &quot;myThird&quot; to &quot;curtain&quot;\r\n    )\r\n}\r\n```\r\n\r\nThe environment variables will be available both in the tests and in the main code:\r\n\r\n```java\r\nval name = System.getenv().get(&quot;myFirst&quot;)\r\n```\r\n\r\n**Sidenote**: You can also disable/enable your tests based on environment variables:\r\n\r\n```java\r\n@Test\r\n@EnabledIfEnvironmentVariable(named = &quot;myFirst&quot;, matches = &quot;bunny&quot;, disabledReason = &quot;Oh no&quot;)\r\npublic void myTest() {\r\n    // ...\r\n}\r\n```","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>Here is a solution using Kotlin DSL (build.gradle.<strong>kts</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Test&gt; {\n    environment[&quot;myFirst&quot;] = &quot;bunny&quot;\n    // OR\n    environment(\n        &quot;mySecond&quot; to &quot;7249&quot;,\n        &quot;myThird&quot; to &quot;curtain&quot;\n    )\n}\n</code></pre>\n<p>The environment variables will be available both in the tests and in the main code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val name = System.getenv().get(&quot;myFirst&quot;)\n</code></pre>\n<p><strong>Sidenote</strong>: You can also disable/enable your tests based on environment variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@EnabledIfEnvironmentVariable(named = &quot;myFirst&quot;, matches = &quot;bunny&quot;, disabledReason = &quot;Oh no&quot;)\npublic void myTest() {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":16257343,"reputation":301,"user_id":11739685,"display_name":"ashish choudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59587,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":6,"score":26,"last_activity_date":1694775103,"creation_date":1562244374,"question_id":56888279,"body_markdown":"I am working with JUnit 5. My Java code uses the  `System.getenv(&quot;demoVar&quot;)` to access environment variables.\r\n\r\nHow do I set up this environment variable in a JUnit 5 test class so that my code can access its value during the test?","title":"How to set environment variables in JUnit 5 for test case?","body":"<p>I am working with JUnit 5. My Java code uses the  <code>System.getenv(&quot;demoVar&quot;)</code> to access environment variables.</p>\n<p>How do I set up this environment variable in a JUnit 5 test class so that my code can access its value during the test?</p>\n"},{"tags":["java","arrays","sorting","insertion"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1694713237,"post_id":77107065,"comment_id":135930984,"body_markdown":"Remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)!","body":"Remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>!"},{"owner":{"account_id":22687921,"reputation":1,"user_id":16857237,"display_name":"Earth"},"score":0,"creation_date":1694763469,"post_id":77107065,"comment_id":135936621,"body_markdown":"Did I just notice that something was edited by @MorganFreeFarm ?","body":"Did I just notice that something was edited by @MorganFreeFarm ?"},{"owner":{"account_id":11048010,"reputation":4027,"user_id":8113391,"accept_rate":61,"display_name":"MorganFreeFarm"},"score":0,"creation_date":1694764471,"post_id":77107065,"comment_id":135936821,"body_markdown":"@Earth Yes, it was.","body":"@Earth Yes, it was."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694767522,"post_id":77107065,"comment_id":135937363,"body_markdown":"@Earth he changed the tags for you like [so](https://stackoverflow.com/posts/77107065/revisions)(basically by removing PHP)","body":"@Earth he changed the tags for you like <a href=\"https://stackoverflow.com/posts/77107065/revisions\">so</a>(basically by removing PHP)"}],"answers":[{"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":2,"creation_date":1694713924,"post_id":77107324,"comment_id":135931134,"body_markdown":"`input.close()` -&gt; Consider reading [this](https://stackoverflow.com/a/60632632/21252090) on closing Scanners that use `System.in`","body":"<code>input.close()</code> -&gt; Consider reading <a href=\"https://stackoverflow.com/a/60632632/21252090\">this</a> on closing Scanners that use <code>System.in</code>"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1694714529,"post_id":77107324,"comment_id":135931238,"body_markdown":"@GrindingForReputation I let it in the code because in my opinion its a good practice in small examples. But anyway thank you for the recommendation, it is really relevant in bigger scopes.","body":"@GrindingForReputation I let it in the code because in my opinion its a good practice in small examples. But anyway thank you for the recommendation, it is really relevant in bigger scopes."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":2,"creation_date":1694715281,"post_id":77107324,"comment_id":135931376,"body_markdown":"Well makes sense and I do understand! The reason I pointed this out is because people (like me when I was a beginner) used to copy code off of Stack Overflow without completely understanding what the code/certain lines in the code do/does. This could later cause problems for whoever use `input.close()` and would be unsure on why/how this occurs as this isn&#39;t an error.","body":"Well makes sense and I do understand! The reason I pointed this out is because people (like me when I was a beginner) used to copy code off of Stack Overflow without completely understanding what the code/certain lines in the code do/does. This could later cause problems for whoever use <code>input.close()</code> and would be unsure on why/how this occurs as this isn&#39;t an error."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1694719778,"post_id":77107324,"comment_id":135932103,"body_markdown":"@Diego No, it&#39;s not &#39;good practice in small examples&#39;. It&#39;s _bad_ practice. __Do not close any resource unless _you_ are the one responsible for it__. You are not responsible for `System.in` therefore you __must not__ close it.","body":"@Diego No, it&#39;s not &#39;good practice in small examples&#39;. It&#39;s <i>bad</i> practice. <b>Do not close any resource unless <i>you</i> are the one responsible for it</b>. You are not responsible for <code>System.in</code> therefore you <b>must not</b> close it."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694720050,"post_id":77107324,"comment_id":135932148,"body_markdown":"@rzwitserloot Thank you for the information! I&#39;ve removed it from my answer.","body":"@rzwitserloot Thank you for the information! I&#39;ve removed it from my answer."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694774905,"creation_date":1694713630,"answer_id":77107324,"question_id":77107065,"body_markdown":"Based on the statement that [you provided][1]:\r\n\r\n&gt; Write a program to input N numbers array, a number X and a number Y\r\n&gt; from user and insert an element Y in it at specified position X. X is\r\n&gt; based on 1-based indexing Note: When an element is inserted at\r\n&gt; position X, all elements that were already present at position &gt;= X,\r\n&gt; gets shifted to one position right, not replaced.\r\n\r\nYou can do this way:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\r\n\t\t// Array size\r\n\t\tint N = input.nextInt();\r\n\r\n\t\t// Create the array\r\n\t\tint[] array = new int[N];\r\n\r\n\t\t// Loop\r\n\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t// Input each array element\r\n\t\t\tarray[i] = input.nextInt();\r\n\t\t}\r\n\r\n\t\t// Position\r\n\t\tint X = input.nextInt();\r\n\r\n\t\t// Number to be inserted\r\n\t\tint Y = input.nextInt();\r\n\r\n\t\t// Check the position\r\n\t\tif (X &gt;= 1 &amp;&amp; X &lt;= N + 1) {\r\n\t\t\t// New array with one extra element\r\n\t\t\tint[] resultArray = new int[N + 1];\r\n\r\n\t\t\t// Copy elements to the new array\r\n\t\t\tfor (int i = 0, j = 0; i &lt; N + 1; i++) {\r\n\t\t\t\tif (i == X - 1) {\r\n\t\t\t\t\t// Insert Y at position X\r\n\t\t\t\t\tresultArray[i] = Y; \r\n\t\t\t\t} else {\r\n\t\t\t\t\tresultArray[i] = array[j];\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Print the array\r\n\t\t\tfor (int num : resultArray) {\r\n\t\t\t\tSystem.out.print(num + &quot; &quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//TODO: Deal with the invalid position\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nBut [you asked][2]:\r\n\r\n&gt; The question says that X is based on 1-based indexing. What does that mean ?\r\n\r\nWell, when you create an array like this:\r\n\r\n```java\r\nint[] array = new int[] {1, 2, 3, 4, 5};\r\n````\r\n\r\nYou can say that the first number is `1`, but his index is actually `0`!\r\n\r\nIt means that:\r\n```java\r\narray[0] = 1\r\narray[1] = 2\r\narray[2] = 3\r\narray[3] = 4\r\narray[4] = 5\r\n```\r\n\r\nThis is the `0-Based Indexing`, the indexing used in programs.\r\n\r\nSo, what is `1-Based Indexing`? It&#39;s the *&quot;&quot;real life&quot;&quot;* indexing. **It means that the item `1` must have the index `1`**. \r\n\r\nYou can see it in the code:\r\n```java\r\nif (i == X - 1) {\r\n    // Insert Y at position X\r\n    resultArray[i] = Y; \r\n}\r\n```\r\n\r\nI verify if `i == X - 1` because if the user input `1` it means that he wants to change the first index, **but in the code the first index is actually `0` and not `1`**.\r\n\r\n  [1]: https://stackoverflow.com/questions/77107065/insertion-in-array#comment135930875_77107133\r\n  [2]: https://stackoverflow.com/questions/77107065/insertion-in-array#comment135930831_77107133","title":"Insertion in Array","body":"<p>Based on the statement that <a href=\"https://stackoverflow.com/questions/77107065/insertion-in-array#comment135930875_77107133\">you provided</a>:</p>\n<blockquote>\n<p>Write a program to input N numbers array, a number X and a number Y\nfrom user and insert an element Y in it at specified position X. X is\nbased on 1-based indexing Note: When an element is inserted at\nposition X, all elements that were already present at position &gt;= X,\ngets shifted to one position right, not replaced.</p>\n</blockquote>\n<p>You can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        // Array size\n        int N = input.nextInt();\n\n        // Create the array\n        int[] array = new int[N];\n\n        // Loop\n        for (int i = 0; i &lt; N; i++) {\n            // Input each array element\n            array[i] = input.nextInt();\n        }\n\n        // Position\n        int X = input.nextInt();\n\n        // Number to be inserted\n        int Y = input.nextInt();\n\n        // Check the position\n        if (X &gt;= 1 &amp;&amp; X &lt;= N + 1) {\n            // New array with one extra element\n            int[] resultArray = new int[N + 1];\n\n            // Copy elements to the new array\n            for (int i = 0, j = 0; i &lt; N + 1; i++) {\n                if (i == X - 1) {\n                    // Insert Y at position X\n                    resultArray[i] = Y; \n                } else {\n                    resultArray[i] = array[j];\n                    j++;\n                }\n            }\n\n            // Print the array\n            for (int num : resultArray) {\n                System.out.print(num + &quot; &quot;);\n            }\n        } else {\n            //TODO: Deal with the invalid position\n        }\n    }\n}\n</code></pre>\n<p>But <a href=\"https://stackoverflow.com/questions/77107065/insertion-in-array#comment135930831_77107133\">you asked</a>:</p>\n<blockquote>\n<p>The question says that X is based on 1-based indexing. What does that mean ?</p>\n</blockquote>\n<p>Well, when you create an array like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = new int[] {1, 2, 3, 4, 5};\n</code></pre>\n<p>You can say that the first number is <code>1</code>, but his index is actually <code>0</code>!</p>\n<p>It means that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>array[0] = 1\narray[1] = 2\narray[2] = 3\narray[3] = 4\narray[4] = 5\n</code></pre>\n<p>This is the <code>0-Based Indexing</code>, the indexing used in programs.</p>\n<p>So, what is <code>1-Based Indexing</code>? It's the <em>&quot;&quot;real life&quot;&quot;</em> indexing. <strong>It means that the item <code>1</code> must have the index <code>1</code></strong>.</p>\n<p>You can see it in the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (i == X - 1) {\n    // Insert Y at position X\n    resultArray[i] = Y; \n}\n</code></pre>\n<p>I verify if <code>i == X - 1</code> because if the user input <code>1</code> it means that he wants to change the first index, <strong>but in the code the first index is actually <code>0</code> and not <code>1</code></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694727833,"creation_date":1694727833,"answer_id":77108542,"question_id":77107065,"body_markdown":"First here are a few places you are going wrong:\r\n\r\n- you need to allocate a new array to hold the original values plus the inserted one.  Otherwise, you will either throw an exception as arrays do not grow dynamically as needed but must be copied.\r\n- The following loop cascades the value at `A[j]` to the end of the array, overwriting previous values.\r\n```\r\n    for(int j = 1; j &lt;= N + 2; j++ ){\r\n              A[j + 1] = A[j];\r\n    }\r\n```\r\nAnd as mentioned in the comments, using meaningful names helps document the code. (e.g. You defined `X` and `Y` but never used `Y` so it wasn&#39;t immediately clear what they were for).\r\n\r\nHere is an alternative approach. I recommend using an initialized array to facilitate testing.  Prompting for array input can be done later when the code is working as expected.\r\n```\r\nint[] items = {1,2,3,4,5,6,7,8,9,10};\r\nint n = items.length;\r\n\r\nint location = sc.nextInt();\r\nint itemToInsert = sc.nextInt();\r\n\r\nif (location &gt;= items.length + 1 || location &lt; 0) {\r\n    System.out.println(&quot;Invalid location.&quot;);\r\n} else {\r\n\r\n    // copy up to the location point\r\n    int[] newItems = new int[items.length + 1];\r\n    for (int i = 0; i &lt; location; i++) {\r\n        newItems[i] = items[i];\r\n    }\r\n    // insert the new value\r\n    newItems[location] = itemToInsert;\r\n\r\n    // append the remaining values.\r\n    for (int i = location; i &lt; items.length; i++) {\r\n        newItems[i + 1] = items[i];\r\n    }\r\n    System.out.println(Arrays.toString(newItems));\r\n   \r\n}\r\n```\r\n- First, there is nothing wrong with your approach once you get the indices et al, corrected.\r\n- The above, imo, has the following advantages.\r\n  - it is simpler and doesn&#39;t iterate more than the alternative.\r\n  - it doesn&#39;t need to test for the insertion point.\r\n  - and it caters to inserting `before` the `first element` and `after` the `last element`.  But that is an implementation decision.","title":"Insertion in Array","body":"<p>First here are a few places you are going wrong:</p>\n<ul>\n<li>you need to allocate a new array to hold the original values plus the inserted one.  Otherwise, you will either throw an exception as arrays do not grow dynamically as needed but must be copied.</li>\n<li>The following loop cascades the value at <code>A[j]</code> to the end of the array, overwriting previous values.</li>\n</ul>\n<pre><code>    for(int j = 1; j &lt;= N + 2; j++ ){\n              A[j + 1] = A[j];\n    }\n</code></pre>\n<p>And as mentioned in the comments, using meaningful names helps document the code. (e.g. You defined <code>X</code> and <code>Y</code> but never used <code>Y</code> so it wasn't immediately clear what they were for).</p>\n<p>Here is an alternative approach. I recommend using an initialized array to facilitate testing.  Prompting for array input can be done later when the code is working as expected.</p>\n<pre><code>int[] items = {1,2,3,4,5,6,7,8,9,10};\nint n = items.length;\n\nint location = sc.nextInt();\nint itemToInsert = sc.nextInt();\n\nif (location &gt;= items.length + 1 || location &lt; 0) {\n    System.out.println(&quot;Invalid location.&quot;);\n} else {\n\n    // copy up to the location point\n    int[] newItems = new int[items.length + 1];\n    for (int i = 0; i &lt; location; i++) {\n        newItems[i] = items[i];\n    }\n    // insert the new value\n    newItems[location] = itemToInsert;\n\n    // append the remaining values.\n    for (int i = location; i &lt; items.length; i++) {\n        newItems[i + 1] = items[i];\n    }\n    System.out.println(Arrays.toString(newItems));\n   \n}\n</code></pre>\n<ul>\n<li>First, there is nothing wrong with your approach once you get the indices et al, corrected.</li>\n<li>The above, imo, has the following advantages.\n<ul>\n<li>it is simpler and doesn't iterate more than the alternative.</li>\n<li>it doesn't need to test for the insertion point.</li>\n<li>and it caters to inserting <code>before</code> the <code>first element</code> and <code>after</code> the <code>last element</code>.  But that is an implementation decision.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":22687921,"reputation":1,"user_id":16857237,"display_name":"Earth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694774905,"creation_date":1694711018,"question_id":77107065,"body_markdown":"I am writing a code to insert an element in an array. The expected output is that the element gets inserted in the input index by shifting the elements on the right side.\r\nI am trying to print the elements after first iteration using the nested j loop and it is giving me a NoSuchException error.\r\nTo understand it better by wanting to see the list where Java errors are explained using code such as &#39;Scanner.java:937&#39;.\r\nWhere can I find the list and where am I doing wrong in my code ?\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\n\r\npublic class main{\r\n    public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n        int N = sc.nextInt();\r\n        int A[] = new int[N + 2];\r\n        for(int i = 1; i &lt;= N + 2; i++){\r\n            A[i] = sc.nextInt();\r\n        }\r\n        int X = sc.nextInt();\r\n        int Y = sc.nextInt();\r\n        for(int i = 1; i &lt;= N + 2; i++){\r\n            if(i == X){\r\n                for(int j = 1; j &lt;= N + 2; j++){\r\n                    A[j + 1] = A[j];\r\n                }\r\n                for(int j = 1; j &lt;= N + 2; j++){\r\n                    System.out.print(A[j]+ &quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am trying to print the elements after first iteration and want to see the list where java error are explained using code number.","title":"Insertion in Array","body":"<p>I am writing a code to insert an element in an array. The expected output is that the element gets inserted in the input index by shifting the elements on the right side.\nI am trying to print the elements after first iteration using the nested j loop and it is giving me a NoSuchException error.\nTo understand it better by wanting to see the list where Java errors are explained using code such as 'Scanner.java:937'.\nWhere can I find the list and where am I doing wrong in my code ?</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class main{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int N = sc.nextInt();\n        int A[] = new int[N + 2];\n        for(int i = 1; i &lt;= N + 2; i++){\n            A[i] = sc.nextInt();\n        }\n        int X = sc.nextInt();\n        int Y = sc.nextInt();\n        for(int i = 1; i &lt;= N + 2; i++){\n            if(i == X){\n                for(int j = 1; j &lt;= N + 2; j++){\n                    A[j + 1] = A[j];\n                }\n                for(int j = 1; j &lt;= N + 2; j++){\n                    System.out.print(A[j]+ &quot; &quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am trying to print the elements after first iteration and want to see the list where java error are explained using code number.</p>\n"},{"tags":["java","linux","jar","linux-mint"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1677916793,"post_id":75632372,"comment_id":133435195,"body_markdown":"Did you install the full (headful) JRE or only the headless one? Check `dpkg-query &#39;openjdk*&#39; |grep ^ii` if not certain.","body":"Did you install the full (headful) JRE or only the headless one? Check <code>dpkg-query &#39;openjdk*&#39; |grep ^ii</code> if not certain."},{"owner":{"account_id":27930779,"reputation":11,"user_id":21328856,"display_name":"manguerotti"},"score":0,"creation_date":1677925123,"post_id":75632372,"comment_id":133436203,"body_markdown":"I checked and I I only have the headless one. Should I install the headful?","body":"I checked and I I only have the headless one. Should I install the headful?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1677956626,"post_id":75632372,"comment_id":133441166,"body_markdown":"Yes, to run GUI programs you must have a headful JRE. But it seems that in changing to 17 you actually got headful 17, which is good enough. (Actually 15 up -- if headful -- would be enough for classfile version 59, but 15 isn&#39;t on long-term support and 17 is, so using 17 is generally a better choice unless you actually need a newer version for some feature.)","body":"Yes, to run GUI programs you must have a headful JRE. But it seems that in changing to 17 you actually got headful 17, which is good enough. (Actually 15 up -- if headful -- would be enough for classfile version 59, but 15 isn&#39;t on long-term support and 17 is, so using 17 is generally a better choice unless you actually need a newer version for some feature.)"}],"answers":[{"tags":[],"owner":{"account_id":27930779,"reputation":11,"user_id":21328856,"display_name":"manguerotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677928550,"creation_date":1677928550,"answer_id":75635301,"question_id":75632372,"body_markdown":"There was a problem with Java JDK 19 version, I installed the 17 one and problem solved, I don&#180;t know exactly why.","title":"Problem when running a .jar on Linux Mint 21.1","body":"<p>There was a problem with Java JDK 19 version, I installed the 17 one and problem solved, I don´t know exactly why.</p>\n"}],"owner":{"account_id":27930779,"reputation":11,"user_id":21328856,"display_name":"manguerotti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75635301,"answer_count":1,"score":1,"last_activity_date":1694774583,"creation_date":1677882511,"question_id":75632372,"body_markdown":"Iḿ trying to run a jar file using `java -jar file.jar` and I get this message `[error] main: \r\n\r\n```none\r\nException in thread &quot;main&quot; \r\n[error] main: java.awt.HeadlessException: \r\n[error] main: No X11 DISPLAY variable was set,\r\n[error] main: or no headful library support was found,\r\n[error] main: but this program performed an operation which requires it\r\n```\r\n\r\n\r\n\r\nI don&#180;t know how to fix it, I tried `export DISPLAY=:0` but it doesn&#180;t work.\r\n\r\nEDIT:\r\nI found out that I had also installed another java JDK version (11) and I tried to run it with that version, and it worked, but now I have another problem. The .jar that Iḿ trying to run (jedit.jar from Jason) says me that a file is 59.0 and JDK 11 only supports maximum 55.0 files. How can I install the JDK 17??\r\n\r\nEDIT:\r\nI installed JDK 17 and it worked.\r\nAnd I have to say that clearly there`s a problem with java JDK 19, that was the version that I have installed apart from 11.\r\n","title":"Problem when running a .jar on Linux Mint 21.1","body":"<p>Iḿ trying to run a jar file using <code>java -jar file.jar</code> and I get this message `[error] main:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; \n[error] main: java.awt.HeadlessException: \n[error] main: No X11 DISPLAY variable was set,\n[error] main: or no headful library support was found,\n[error] main: but this program performed an operation which requires it\n</code></pre>\n<p>I don´t know how to fix it, I tried <code>export DISPLAY=:0</code> but it doesn´t work.</p>\n<p>EDIT:\nI found out that I had also installed another java JDK version (11) and I tried to run it with that version, and it worked, but now I have another problem. The .jar that Iḿ trying to run (jedit.jar from Jason) says me that a file is 59.0 and JDK 11 only supports maximum 55.0 files. How can I install the JDK 17??</p>\n<p>EDIT:\nI installed JDK 17 and it worked.\nAnd I have to say that clearly there`s a problem with java JDK 19, that was the version that I have installed apart from 11.</p>\n"},{"tags":["java","authentication","sftp","jsch","two-factor-authentication"],"comments":[{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":0,"creation_date":1370073076,"post_id":16870073,"comment_id":24335968,"body_markdown":"Just in case you don&#39;t find a solution - our SecureBlackbox ( http://www.eldos.com/sbb/java-sftp.php ) supports multiple concurrent authentication mechanisms.","body":"Just in case you don&#39;t find a solution - our SecureBlackbox ( <a href=\"http://www.eldos.com/sbb/java-sftp.php\" rel=\"nofollow noreferrer\">eldos.com/sbb/java-sftp.php</a> ) supports multiple concurrent authentication mechanisms."}],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370078427,"creation_date":1370078427,"answer_id":16871157,"question_id":16870073,"body_markdown":"There is a bunch of `addIdentity` methods in the [JSch][1] class, which can be used to provide a key pair for public key authentication, and there is a [`setPassword` method in the Session][2] class.\r\n\r\nI would simply use both and try to connect to the server.\r\n\r\nThe SSH protocol is made such that the server presents a set of authentication options in each step, and the client then selects of those one that it supports, and if I remember the code right, JSch simply does this.\r\n\r\nPlease report back if this actually worked, I didn&#39;t try it.\r\n\r\n\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/index.html?com/jcraft/jsch/JSch.html\r\n  [2]: http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Session.html#setPassword%28byte%5B%5D%29","title":"JSCH SFTP login using two factor authentication","body":"<p>There is a bunch of <code>addIdentity</code> methods in the <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/index.html?com/jcraft/jsch/JSch.html\" rel=\"nofollow\">JSch</a> class, which can be used to provide a key pair for public key authentication, and there is a <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Session.html#setPassword%28byte%5B%5D%29\" rel=\"nofollow\"><code>setPassword</code> method in the Session</a> class.</p>\n\n<p>I would simply use both and try to connect to the server.</p>\n\n<p>The SSH protocol is made such that the server presents a set of authentication options in each step, and the client then selects of those one that it supports, and if I remember the code right, JSch simply does this.</p>\n\n<p>Please report back if this actually worked, I didn't try it.</p>\n"},{"tags":[],"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694774353,"creation_date":1694774353,"answer_id":77111680,"question_id":16870073,"body_markdown":"As Paulo stated, you can use `addIdentity` to add your private key and also, in parallel, declare your password.\r\n\r\nHowever this doesnt work with latest version of jsch (0.1.55).\r\n\r\nI found [this][1] fork of jsch which worked.\r\nSame code, no need to change anything and i could finally connect to server using 2-factor authentication, password and publickey.\r\n\r\n\r\n  [1]: https://github.com/mwiede/jsch/","title":"JSCH SFTP login using two factor authentication","body":"<p>As Paulo stated, you can use <code>addIdentity</code> to add your private key and also, in parallel, declare your password.</p>\n<p>However this doesnt work with latest version of jsch (0.1.55).</p>\n<p>I found <a href=\"https://github.com/mwiede/jsch/\" rel=\"nofollow noreferrer\">this</a> fork of jsch which worked.\nSame code, no need to change anything and i could finally connect to server using 2-factor authentication, password and publickey.</p>\n"}],"owner":{"account_id":1863804,"reputation":21,"user_id":1687807,"display_name":"user1687807"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694774353,"creation_date":1370070421,"question_id":16870073,"body_markdown":"I am trying to connect to SFTP server using JSCH, server is configured for two factor authentication. But I am unable to find any option in JSCH to connect to the server using both password and keys at a time.\r\nHelp me if anyone knows how to connect programmatically to SFTP server using two factor authentication using either JSCH or any other Java package.","title":"JSCH SFTP login using two factor authentication","body":"<p>I am trying to connect to SFTP server using JSCH, server is configured for two factor authentication. But I am unable to find any option in JSCH to connect to the server using both password and keys at a time.\nHelp me if anyone knows how to connect programmatically to SFTP server using two factor authentication using either JSCH or any other Java package.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1390194772,"post_id":21226648,"comment_id":31971365,"body_markdown":"How would this be used and why?","body":"How would this be used and why?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1390194783,"post_id":21226648,"comment_id":31971368,"body_markdown":"You will not be able to determine if argument was primitive because it will be autoboxed to Object type. You will have to create separate methods for primitive types.","body":"You will not be able to determine if argument was primitive because it will be autoboxed to Object type. You will have to create separate methods for primitive types."},{"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"score":1,"creation_date":1390194816,"post_id":21226648,"comment_id":31971375,"body_markdown":"http://stackoverflow.com/questions/709961/determining-if-an-object-is-of-primitive-type","body":"<a href=\"http://stackoverflow.com/questions/709961/determining-if-an-object-is-of-primitive-type\" title=\"determining if an object is of primitive type\">stackoverflow.com/questions/709961/&hellip;</a>"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1390194821,"post_id":21226648,"comment_id":31971378,"body_markdown":"The simplest way might be to make a big list of 18 `Class` objects and check if the object&#39;s class is in the list.","body":"The simplest way might be to make a big list of 18 <code>Class</code> objects and check if the object&#39;s class is in the list."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1390194927,"post_id":21226648,"comment_id":31971411,"body_markdown":"Are you actually going to be passing primitives to this function? You can&#39;t actually pass a primitive to this function without already knowing that it&#39;s a primitive. (Strictly speaking, you can&#39;t pass a primitive to this function at all, since it&#39;ll be boxed before it reaches the function.) While it&#39;s possible to determine whether a value is one of the 8 box types, boxes aren&#39;t primitives. Also, `String` isn&#39;t primitive.","body":"Are you actually going to be passing primitives to this function? You can&#39;t actually pass a primitive to this function without already knowing that it&#39;s a primitive. (Strictly speaking, you can&#39;t pass a primitive to this function at all, since it&#39;ll be boxed before it reaches the function.) While it&#39;s possible to determine whether a value is one of the 8 box types, boxes aren&#39;t primitives. Also, <code>String</code> isn&#39;t primitive."},{"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"score":0,"creation_date":1390195300,"post_id":21226648,"comment_id":31971524,"body_markdown":"@PaulBellora I am receiving collections of `Object` and I need to test them.","body":"@PaulBellora I am receiving collections of <code>Object</code> and I need to test them."},{"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"score":0,"creation_date":1390195333,"post_id":21226648,"comment_id":31971536,"body_markdown":"@user2357112 I know about String and I know this will be a separate case.","body":"@user2357112 I know about String and I know this will be a separate case."},{"owner":{"account_id":953250,"reputation":2033,"user_id":979000,"accept_rate":42,"display_name":"Hrishikesh"},"score":0,"creation_date":1390195403,"post_id":21226648,"comment_id":31971557,"body_markdown":"Why not just overload the function with these parameters? and write seperate functions to accept your inputs? Then you can write a common function for your business logic? That is one way of doing it right.","body":"Why not just overload the function with these parameters? and write seperate functions to accept your inputs? Then you can write a common function for your business logic? That is one way of doing it right."},{"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"score":0,"creation_date":1390195542,"post_id":21226648,"comment_id":31971584,"body_markdown":"@Hrishikesh please see my comment to PaulBellora","body":"@Hrishikesh please see my comment to PaulBellora"},{"owner":{"account_id":1903740,"reputation":455,"user_id":1719010,"accept_rate":0,"display_name":"praveen_mohan"},"score":0,"creation_date":1390196315,"post_id":21226648,"comment_id":31971793,"body_markdown":"if the default value of the object is != null then return true? I guess this might work, any comments","body":"if the default value of the object is != null then return true? I guess this might work, any comments"}],"answers":[{"tags":[],"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390195337,"creation_date":1390194973,"answer_id":21226709,"question_id":21226648,"body_markdown":"I think, you should dynamically get and test a class description of your value:\r\n\r\n\tif (obj.getClass().equals(Boolean.class)) {\r\n\t\t//...\r\n\t}\r\n\t//...\r\n\tif (obj.getClass().equals(boolean[].class)) {\r\n\t\t//...\r\n\t}\r\n\t//...\r\n\tif (obj.getClass().equals(String.class)) {\r\n\t\t//...\r\n\t}","title":"How to test if an object is primitive type or an array of primitive type in Java?","body":"<p>I think, you should dynamically get and test a class description of your value:</p>\n\n<pre><code>if (obj.getClass().equals(Boolean.class)) {\n    //...\n}\n//...\nif (obj.getClass().equals(boolean[].class)) {\n    //...\n}\n//...\nif (obj.getClass().equals(String.class)) {\n    //...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"score":0,"creation_date":1390195175,"post_id":21226718,"comment_id":31971482,"body_markdown":"He accepts an Object as an argument, so it can&#39;t be a value of primitive type.","body":"He accepts an Object as an argument, so it can&#39;t be a value of primitive type."},{"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"score":0,"creation_date":1390195384,"post_id":21226718,"comment_id":31971548,"body_markdown":"How would you test if it is an array of int? for example.","body":"How would you test if it is an array of int? for example."},{"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"score":0,"creation_date":1390195450,"post_id":21226718,"comment_id":31971571,"body_markdown":"@ɭɘɖɵʊɒɼɖ江戸, I&#39;ve already wrote in my answer how to test if it&#39;s an array.","body":"@ɭɘɖɵʊɒɼɖ江戸, I&#39;ve already wrote in my answer how to test if it&#39;s an array."}],"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390195021,"creation_date":1390195021,"answer_id":21226718,"question_id":21226648,"body_markdown":"You can try something like this\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isBaseTypeOrArray(new int[5]));\r\n    }\r\n\r\n    public static boolean isBaseTypeOrArray(Object obj){\r\n       return (obj.getClass().getComponentType().equals(int.class)||\r\n               obj.getClass().getComponentType().equals(byte.class));\r\n    }","title":"How to test if an object is primitive type or an array of primitive type in Java?","body":"<p>You can try something like this</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(isBaseTypeOrArray(new int[5]));\n}\n\npublic static boolean isBaseTypeOrArray(Object obj){\n   return (obj.getClass().getComponentType().equals(int.class)||\n           obj.getClass().getComponentType().equals(byte.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1694773909,"creation_date":1390196267,"answer_id":21226915,"question_id":21226648,"body_markdown":"- To test if object is an array just `getClass()` and see if it `isArray()`.  \r\n- To get type of elements array is declared to hold use `getComponentType()` on Class instance.  \r\n- To test if some type is primitive you can use `isPrimitive()`.  \r\n- If you want to check if type represents String just use `equals(String.class)`.\r\n\r\nSo to test if Object represents String, or an array of Strings, or array of primitive type you can use\r\n\r\n\tpublic static boolean isBaseTypeOrArray(Object obj) {\r\n\t\tClass&lt;?&gt; c = obj.getClass();\r\n\t\treturn  c.equals(String.class) \r\n             || c.equals(String[].class)\r\n\t\t\t || c.isArray() &amp;&amp; c.getComponentType().isPrimitive();\r\n\t}\r\n\r\nProblem with above method is that it can&#39;t accept purely primitive type values because its parameter is declared as `Object obj`. This means that even if we pass primitive type value like `isBaseTypeOrArray(1)`, the `int` value 1 will be autoboxed to reference type `Integer` also representing 1. \r\n\r\nTo accept arguments of purely primitive types (like `int` instead of generated `Integer`) we need to overload this `isBaseTypeOrArray(Object obj)` method with versions accepting primitive types - like `isBaseTypeOrArray(int obj)`. Such methods can immediately return `true` as result, because fact that they ware invoked means that primitive type value was passed as argument (remember that `isBaseTypeOrArray(Object)` would handle all non-primitive types). \r\n\r\nSo to handle all primitive types we need to *add* below methods:\r\n\r\n\tpublic static boolean isBaseTypeOrArray(boolean obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(byte    obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(short   obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(char    obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(int     obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(long    obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(float   obj) {return true;}\r\n\tpublic static boolean isBaseTypeOrArray(double  obj) {return true;}\r\n","title":"How to test if an object is primitive type or an array of primitive type in Java?","body":"<ul>\n<li>To test if object is an array just <code>getClass()</code> and see if it <code>isArray()</code>.</li>\n<li>To get type of elements array is declared to hold use <code>getComponentType()</code> on Class instance.</li>\n<li>To test if some type is primitive you can use <code>isPrimitive()</code>.</li>\n<li>If you want to check if type represents String just use <code>equals(String.class)</code>.</li>\n</ul>\n<p>So to test if Object represents String, or an array of Strings, or array of primitive type you can use</p>\n<pre><code>public static boolean isBaseTypeOrArray(Object obj) {\n    Class&lt;?&gt; c = obj.getClass();\n    return  c.equals(String.class) \n         || c.equals(String[].class)\n         || c.isArray() &amp;&amp; c.getComponentType().isPrimitive();\n}\n</code></pre>\n<p>Problem with above method is that it can't accept purely primitive type values because its parameter is declared as <code>Object obj</code>. This means that even if we pass primitive type value like <code>isBaseTypeOrArray(1)</code>, the <code>int</code> value 1 will be autoboxed to reference type <code>Integer</code> also representing 1.</p>\n<p>To accept arguments of purely primitive types (like <code>int</code> instead of generated <code>Integer</code>) we need to overload this <code>isBaseTypeOrArray(Object obj)</code> method with versions accepting primitive types - like <code>isBaseTypeOrArray(int obj)</code>. Such methods can immediately return <code>true</code> as result, because fact that they ware invoked means that primitive type value was passed as argument (remember that <code>isBaseTypeOrArray(Object)</code> would handle all non-primitive types).</p>\n<p>So to handle all primitive types we need to <em>add</em> below methods:</p>\n<pre><code>public static boolean isBaseTypeOrArray(boolean obj) {return true;}\npublic static boolean isBaseTypeOrArray(byte    obj) {return true;}\npublic static boolean isBaseTypeOrArray(short   obj) {return true;}\npublic static boolean isBaseTypeOrArray(char    obj) {return true;}\npublic static boolean isBaseTypeOrArray(int     obj) {return true;}\npublic static boolean isBaseTypeOrArray(long    obj) {return true;}\npublic static boolean isBaseTypeOrArray(float   obj) {return true;}\npublic static boolean isBaseTypeOrArray(double  obj) {return true;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712388,"reputation":41,"user_id":2340523,"display_name":"Woo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545216312,"creation_date":1545216312,"answer_id":53849542,"question_id":21226648,"body_markdown":"Simple solution\r\n  \r\n\r\n    public static boolean isPrimitiveArray(Object obj) {\r\n        return obj != null \r\n            &amp;&amp; obj.getClass().isArray() \r\n            &amp;&amp; obj.getClass().getComponentType() != null \r\n            &amp;&amp; obj.getClass().getComponentType().isPrimitive();\r\n    }\r\n","title":"How to test if an object is primitive type or an array of primitive type in Java?","body":"<p>Simple solution</p>\n\n<pre><code>public static boolean isPrimitiveArray(Object obj) {\n    return obj != null \n        &amp;&amp; obj.getClass().isArray() \n        &amp;&amp; obj.getClass().getComponentType() != null \n        &amp;&amp; obj.getClass().getComponentType().isPrimitive();\n}\n</code></pre>\n"}],"owner":{"account_id":1735089,"reputation":3355,"user_id":1998098,"accept_rate":59,"display_name":"le-doude"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1694773909,"creation_date":1390194612,"question_id":21226648,"body_markdown":"Here the function signature I would like to implement.\r\n\r\n    public boolean isBaseTypeOrArray(Object obj){~}\r\n\r\nI want to return true only if obj is of one of the following types.\r\n\r\n    boolean or boolean[]\r\n    byte or byte[]\r\n    short or short[]\r\n    int or int[]\r\n    long or long[]\r\n    float or float[]\r\n    double or double[]\r\n    char or char[]\r\n    java.lang.String or String[]\r\n\r\nFor a lone value checking if it is instance of one of the wrapper classes (Integer, Float, ...) or String should work because of auto boxing but I do not know how to check for the array case. Any ideas?","title":"How to test if an object is primitive type or an array of primitive type in Java?","body":"<p>Here the function signature I would like to implement.</p>\n\n<pre><code>public boolean isBaseTypeOrArray(Object obj){~}\n</code></pre>\n\n<p>I want to return true only if obj is of one of the following types.</p>\n\n<pre><code>boolean or boolean[]\nbyte or byte[]\nshort or short[]\nint or int[]\nlong or long[]\nfloat or float[]\ndouble or double[]\nchar or char[]\njava.lang.String or String[]\n</code></pre>\n\n<p>For a lone value checking if it is instance of one of the wrapper classes (Integer, Float, ...) or String should work because of auto boxing but I do not know how to check for the array case. Any ideas?</p>\n"},{"tags":["java","spring","maven","spring-boot","h2"],"comments":[{"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"score":0,"creation_date":1510313159,"post_id":47221582,"comment_id":81393003,"body_markdown":"Unless your pom is empty, I think you forgot to attach it ;)","body":"Unless your pom is empty, I think you forgot to attach it ;)"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510313627,"post_id":47221582,"comment_id":81393286,"body_markdown":"@PierreB.:Attached the dependency what I am using.","body":"@PierreB.:Attached the dependency what I am using."}],"answers":[{"comments":[{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510313277,"post_id":47221757,"comment_id":81393066,"body_markdown":"I configured in a configuration file","body":"I configured in a configuration file"},{"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"score":0,"creation_date":1510313341,"post_id":47221757,"comment_id":81393114,"body_markdown":"what configuration file?","body":"what configuration file?"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510313442,"post_id":47221757,"comment_id":81393177,"body_markdown":"Springboot configuration file.","body":"Springboot configuration file."},{"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"score":2,"creation_date":1510313506,"post_id":47221757,"comment_id":81393220,"body_markdown":"did you add this `http.headers().frameOptions().disable()`","body":"did you add this <code>http.headers().frameOptions().disable()</code>"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510313552,"post_id":47221757,"comment_id":81393242,"body_markdown":"No.I didn&#39;t.Attached my config snapshot.","body":"No.I didn&#39;t.Attached my config snapshot."},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510314301,"post_id":47221757,"comment_id":81393723,"body_markdown":": Changing my configuration asks me username and password when I try accessing the  h2 console.","body":": Changing my configuration asks me username and password when I try accessing the  h2 console."},{"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"score":0,"creation_date":1510314404,"post_id":47221757,"comment_id":81393782,"body_markdown":"if you add `antMatchers(&quot;/console/**&quot;).permitAll()` and `/console` is the path you set for you H2 console it should&#39;nt","body":"if you add <code>antMatchers(&quot;&#47;console&#47;**&quot;).permitAll()</code> and <code>&#47;console</code> is the path you set for you H2 console it should&#39;nt"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510314483,"post_id":47221757,"comment_id":81393848,"body_markdown":"Even I am wondering.It worked fine in Mac.But not in Windows .","body":"Even I am wondering.It worked fine in Mac.But not in Windows ."},{"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"score":0,"creation_date":1510314624,"post_id":47221757,"comment_id":81393907,"body_markdown":"are you sure it&#39;s the right build? since it&#39;s run on the browser it should be OS independent","body":"are you sure it&#39;s the right build? since it&#39;s run on the browser it should be OS independent"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510314762,"post_id":47221757,"comment_id":81393998,"body_markdown":"True.But I am not seeing any issue wrt build.","body":"True.But I am not seeing any issue wrt build."},{"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"score":0,"creation_date":1510315036,"post_id":47221757,"comment_id":81394157,"body_markdown":"weird.. try changing `/console/**` to `/console`","body":"weird.. try changing <code>&#47;console&#47;**</code> to <code>&#47;console</code>"},{"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"score":0,"creation_date":1510315449,"post_id":47221757,"comment_id":81394413,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/158687/discussion-between-bindumalini-kk-and-ayo-k).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/158687/discussion-between-bindumalini-kk-and-ayo-k\">continue this discussion in chat</a>."},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1528169583,"post_id":47221757,"comment_id":88392807,"body_markdown":"Thanks Buddy, Voila,Your Suggestions http.headers().frameOptions().disable(); did the trick as I was not able to get console display anything after connect to H2.","body":"Thanks Buddy, Voila,Your Suggestions http.headers().frameOptions().disable(); did the trick as I was not able to get console display anything after connect to H2."},{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1531167101,"post_id":47221757,"comment_id":89485583,"body_markdown":"Works with boot 1.5.10. Thanks.","body":"Works with boot 1.5.10. Thanks."},{"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"score":1,"creation_date":1595505854,"post_id":47221757,"comment_id":111501899,"body_markdown":"am not using spring security - but it is not working for me","body":"am not using spring security - but it is not working for me"}],"tags":[],"owner":{"account_id":6510674,"reputation":1729,"user_id":5038073,"accept_rate":70,"display_name":"Ayo K"},"comment_count":15,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1510313936,"creation_date":1510313204,"answer_id":47221757,"question_id":47221582,"body_markdown":"to use the H2 console you need to configure it in your `.properties` file\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2console/\r\n\r\nwhere `/h2console/` is the path you want to use on the browser so you can change it to anything. Also if you have security enabled you might want to add it to the permitted paths\r\n\r\nalso add this to your `HttpSecurity` configuration `http.headers().frameOptions().disable();` \r\n\r\n**Edit**\r\n\r\nchange your security configuration i&#39;m pretty sure you might have **spring security** in your pom so use this instead, if not it should work\r\n\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\t \r\n\t@Configuration\r\n\tpublic class WebConfiguration extends WebSecurityConfigurerAdapter {\r\n\t \r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t\t\thttpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).permitAll().and()\r\n\t\t\t\t\t.authorizeRequests().antMatchers(&quot;/console/**&quot;).permitAll();\r\n\t \r\n\t\t\thttpSecurity.csrf().disable();\r\n\t\t\thttpSecurity.headers().frameOptions().disable();\r\n\t\t}\r\n\t \r\n\t}","title":"H2-In memory database console not opening","body":"<p>to use the H2 console you need to configure it in your <code>.properties</code> file</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.h2.console.path=/h2console/\n</code></pre>\n\n<p>where <code>/h2console/</code> is the path you want to use on the browser so you can change it to anything. Also if you have security enabled you might want to add it to the permitted paths</p>\n\n<p>also add this to your <code>HttpSecurity</code> configuration <code>http.headers().frameOptions().disable();</code> </p>\n\n<p><strong>Edit</strong></p>\n\n<p>change your security configuration i'm pretty sure you might have <strong>spring security</strong> in your pom so use this instead, if not it should work</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\npublic class WebConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests().antMatchers(\"/\").permitAll().and()\n                .authorizeRequests().antMatchers(\"/console/**\").permitAll();\n\n        httpSecurity.csrf().disable();\n        httpSecurity.headers().frameOptions().disable();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510373541,"creation_date":1510329919,"answer_id":47226827,"question_id":47221582,"body_markdown":"Thank you all for your generous help.The application class (Springboot) was in a separate package and it was not scanning other packages.Also I modified my Pom.xml a bit which finally helped me to access the console.Attached is my new Pom.xml.\r\n\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.spring.app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;SpringBootApp&lt;/name&gt;\r\n    \t&lt;description&gt;Generator of statistics &lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;!--WebJars --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- Spring AOP + AspectJ --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- JavaConfig need this library --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- Jackson JSON Mapper --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;/project&gt;","title":"H2-In memory database console not opening","body":"<p>Thank you all for your generous help.The application class (Springboot) was in a separate package and it was not scanning other packages.Also I modified my Pom.xml a bit which finally helped me to access the console.Attached is my new Pom.xml.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.spring.app&lt;/groupId&gt;\n    &lt;artifactId&gt;Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SpringBootApp&lt;/name&gt;\n    &lt;description&gt;Generator of statistics &lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--WebJars --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Spring AOP + AspectJ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n\n        &lt;!-- JavaConfig need this library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Jackson JSON Mapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3320883,"reputation":827,"user_id":2792098,"display_name":"Dhiraj Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510466001,"creation_date":1510466001,"answer_id":47245928,"question_id":47221582,"body_markdown":"If have included `spring-boot-starter-security` artifact in your pom then by default basic authentication is enabled. Hence, to access your console either you disable the basic authentication by adding `security.basic.enabled=false` in your application.properties or allow the access in your configure method as below:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n    \t\thttpSecurity.csrf().disable().authorizeRequests().antMatchers(&quot;/&quot;).permitAll().and().authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/console/**&quot;).permitAll();\r\n    \t\thttpSecurity.headers().frameOptions().disable();\r\n    \t}\r\n    }","title":"H2-In memory database console not opening","body":"<p>If have included <code>spring-boot-starter-security</code> artifact in your pom then by default basic authentication is enabled. Hence, to access your console either you disable the basic authentication by adding <code>security.basic.enabled=false</code> in your application.properties or allow the access in your configure method as below:</p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().authorizeRequests().antMatchers(\"/\").permitAll().and().authorizeRequests()\n                .antMatchers(\"/console/**\").permitAll();\n        httpSecurity.headers().frameOptions().disable();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8692765,"reputation":327,"user_id":6505212,"display_name":"Rohith"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1571847438,"creation_date":1555731695,"answer_id":55770036,"question_id":47221582,"body_markdown":"As h2 database console is mapped to &quot;h2-console&quot;. \r\n\r\nUse this:\r\n\r\n    http.csrf().disable().authorizeRequests()\r\n            .antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n    // disable frame options\r\n    http.headers().frameOptions().disable();\r\n` \r\nYou don&#39;t need permit root access:\r\n**.antMatchers(&quot;/&quot;)** *** NOT NEEDED *** ","title":"H2-In memory database console not opening","body":"<p>As h2 database console is mapped to \"h2-console\". </p>\n\n<p>Use this:</p>\n\n<pre><code>http.csrf().disable().authorizeRequests()\n        .antMatchers(\"/h2-console/**\").permitAll()\n        .anyRequest().authenticated();\n\n// disable frame options\nhttp.headers().frameOptions().disable();\n</code></pre>\n\n<p>` \nYou don't need permit root access:\n<strong>.antMatchers(\"/\")</strong> <strong>* NOT NEEDED *</strong> </p>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582556216,"creation_date":1582556216,"answer_id":60378515,"question_id":47221582,"body_markdown":"go the POM file and add the dependency :\r\n\r\n\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nrebuild your project ","title":"H2-In memory database console not opening","body":"<p>go the POM file and add the dependency :</p>\n\n<pre><code>       &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>rebuild your project </p>\n"},{"tags":[],"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595573556,"creation_date":1595573556,"answer_id":63068328,"question_id":47221582,"body_markdown":"this might help folks , all the configuration above is correct \r\n\r\nNote - if you are not using any security then adding spring security is not required \r\n\r\nActualy problem is - when you open this url in chrome \r\n\r\nhttp://localhost:8080/h2  chrome makes it --&gt; https://localhost:8080/h2\r\n\r\nTo get rid of this issue - Below reference will help  - \r\n\r\nhttps://stackoverflow.com/questions/25277457/google-chrome-redirecting-localhost-to-https\r\n\r\n\r\n","title":"H2-In memory database console not opening","body":"<p>this might help folks , all the configuration above is correct</p>\n<p>Note - if you are not using any security then adding spring security is not required</p>\n<p>Actualy problem is - when you open this url in chrome</p>\n<p>http://localhost:8080/h2  chrome makes it --&gt; https://localhost:8080/h2</p>\n<p>To get rid of this issue - Below reference will help  -</p>\n<p><a href=\"https://stackoverflow.com/questions/25277457/google-chrome-redirecting-localhost-to-https\">Google Chrome redirecting localhost to https</a></p>\n"},{"tags":[],"owner":{"account_id":15215085,"reputation":722,"user_id":11438881,"display_name":"ARiyou Jahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616025598,"creation_date":1616025598,"answer_id":66682954,"question_id":47221582,"body_markdown":"You might have face 2 situation including following errors:\r\n\r\n1. localhost refused to connect\r\n\r\n[![localhost refused to connect][1]][1]\r\n\r\n  \r\n\r\n - Double check the URL. Chrome automatically try to change http:// to https://  \r\n\r\n\r\n \r\n\r\n - Check **spring.h2.console.path** (Path at witch the console avilible) to get your URL:\r\n\r\n    Default: /h2-console --&gt; URL: http://localhost:8080/h2-console/\r\n\r\n - If you running IDE (e.g. IntelliJ Idea), ***make sure your app is running*** witch means your H2 data base is running!\r\n\r\n \r\n\r\n\r\n----------\r\n\r\n\r\n - You face 404 Error:\r\n[![Whitelabel Error Page][2]][2]\r\nIn this case your H2 Data base is correctly running on Port 8080 and you already have the connection with it.\r\n - Check **spring.h2.console.path** (Path at witch the console avilible) to get your URL:\r\n\r\n    Default: /h2-console --&gt; URL: http://localhost:8080/h2-console/\r\n\r\n - Enable H2 Console\r\n\r\n&gt;     spring.h2.console.enabled=true\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHkUL.png\r\n  [2]: https://i.stack.imgur.com/71xhc.png","title":"H2-In memory database console not opening","body":"<p>You might have face 2 situation including following errors:</p>\n<ol>\n<li>localhost refused to connect</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/vHkUL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHkUL.png\" alt=\"localhost refused to connect\" /></a></p>\n<ul>\n<li><p>Double check the URL. Chrome automatically try to change http:// to https://</p>\n</li>\n<li><p>Check <strong>spring.h2.console.path</strong> (Path at witch the console avilible) to get your URL:</p>\n<p>Default: /h2-console --&gt; URL: http://localhost:8080/h2-console/</p>\n</li>\n<li><p>If you running IDE (e.g. IntelliJ Idea), <em><strong>make sure your app is running</strong></em> witch means your H2 data base is running!</p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p>You face 404 Error:\n<a href=\"https://i.stack.imgur.com/71xhc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71xhc.png\" alt=\"Whitelabel Error Page\" /></a>\nIn this case your H2 Data base is correctly running on Port 8080 and you already have the connection with it.</p>\n</li>\n<li><p>Check <strong>spring.h2.console.path</strong> (Path at witch the console avilible) to get your URL:</p>\n<p>Default: /h2-console --&gt; URL: http://localhost:8080/h2-console/</p>\n</li>\n<li><p>Enable H2 Console</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>spring.h2.console.enabled=true\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3908690,"reputation":461,"user_id":3259971,"accept_rate":0,"display_name":"atkawa7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623262844,"creation_date":1623262844,"answer_id":67909731,"question_id":47221582,"body_markdown":"The issue might be also be caused by adding `server.servlet.context-path` to properties. The new url will be composed of `server.servlet.context-path` plus `spring.h2.console.path` ","title":"H2-In memory database console not opening","body":"<p>The issue might be also be caused by adding <code>server.servlet.context-path</code> to properties. The new url will be composed of <code>server.servlet.context-path</code> plus <code>spring.h2.console.path</code></p>\n"},{"tags":[],"owner":{"account_id":4131350,"reputation":1,"user_id":20249848,"display_name":"cybin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669228796,"creation_date":1669228764,"answer_id":74551610,"question_id":47221582,"body_markdown":"If you have renamed the h2 path in the **application.properties** to &quot;console&quot; you&#39;ve to add it in your antMatcher like .antMatcher(&quot;/console/**&quot;) with two asterisks after the &quot;console&quot; because there are much more appendings.\r\n","title":"H2-In memory database console not opening","body":"<p>If you have renamed the h2 path in the <strong>application.properties</strong> to &quot;console&quot; you've to add it in your antMatcher like .antMatcher(&quot;/console/**&quot;) with two asterisks after the &quot;console&quot; because there are much more appendings.</p>\n"},{"tags":[],"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675413875,"creation_date":1675413875,"answer_id":75333341,"question_id":47221582,"body_markdown":"If none of the above solution works, try below one, this worked for me :\r\n 1. Add below property in your application.propertiesfollowing\r\n    `spring.data.jpa.repositories.bootstrap-mode=default`\r\n2. Open console in browser using this URL : `http://localhost:8080/h2-console`\r\n3. On a login page make sure that you use jdbc:h2:mem:testdb as JDBC URL.\r\n\r\n","title":"H2-In memory database console not opening","body":"<p>If none of the above solution works, try below one, this worked for me :</p>\n<ol>\n<li>Add below property in your application.propertiesfollowing\n<code>spring.data.jpa.repositories.bootstrap-mode=default</code></li>\n<li>Open console in browser using this URL : <code>http://localhost:8080/h2-console</code></li>\n<li>On a login page make sure that you use jdbc:h2:mem:testdb as JDBC URL.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8941701,"reputation":1161,"user_id":6670491,"display_name":"HardcoreGamer"},"score":1,"creation_date":1693282308,"post_id":76987627,"comment_id":135736545,"body_markdown":"Welcome to Stack Overflow! While this configs may solve the question, [including an explanation](https://meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"Welcome to Stack Overflow! While this configs may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":20812031,"reputation":1,"user_id":15285738,"display_name":"Serterano"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693148027,"creation_date":1693148027,"answer_id":76987627,"question_id":47221582,"body_markdown":"maybe you need this in your .properties file:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.h2.console.path=/h2-console","title":"H2-In memory database console not opening","body":"<p>maybe you need this in your .properties file:</p>\n<pre><code>spring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\nspring.h2.console.path=/h2-console\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9646032,"reputation":77,"user_id":7158754,"display_name":"bitwalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694773433,"creation_date":1694773433,"answer_id":77111585,"question_id":47221582,"body_markdown":"Another possible solution, which was the case for me, was that I was using \r\n\r\n&gt; &#39;org.springframework.boot:spring-boot-starter-**webflux**&#39;\r\n\r\n as a dependency. \r\n\r\nSwitching to \r\n\r\n&gt; &#39;org.springframework.boot:spring-boot-starter-**web**&#39;\r\n\r\n resolved the issue.","title":"H2-In memory database console not opening","body":"<p>Another possible solution, which was the case for me, was that I was using</p>\n<blockquote>\n<p>'org.springframework.boot:spring-boot-starter-<strong>webflux</strong>'</p>\n</blockquote>\n<p>as a dependency.</p>\n<p>Switching to</p>\n<blockquote>\n<p>'org.springframework.boot:spring-boot-starter-<strong>web</strong>'</p>\n</blockquote>\n<p>resolved the issue.</p>\n"}],"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49789,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":12,"score":12,"last_activity_date":1694773433,"creation_date":1510312626,"question_id":47221582,"body_markdown":"I am using the H2 database in a Spring boot application. But unable to open it in the browser at http://localhost:8080/console. My pom.xml is as below: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.192&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n\r\nSpring boot Configuration :\r\n\r\nSpringboot configuration file                \r\n\r\n    @Configuration\r\n    public class WebConfiguration {\r\n        @Bean\r\n        ServletRegistrationBean h2servletRegistration(){\r\n            ServletRegistrationBean registrationBean = new ServletRegistrationBean( new WebServlet());\r\n            registrationBean.addUrlMappings(&quot;/console/*&quot;);\r\n            return registrationBean;\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oGUSw.jpg","title":"H2-In memory database console not opening","body":"<p>I am using the H2 database in a Spring boot application. But unable to open it in the browser at <a href=\"http://localhost:8080/console\" rel=\"noreferrer\">http://localhost:8080/console</a>. My pom.xml is as below: </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.192&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Spring boot Configuration :</p>\n\n<p>Springboot configuration file                </p>\n\n<pre><code>@Configuration\npublic class WebConfiguration {\n    @Bean\n    ServletRegistrationBean h2servletRegistration(){\n        ServletRegistrationBean registrationBean = new ServletRegistrationBean( new WebServlet());\n        registrationBean.addUrlMappings(\"/console/*\");\n        return registrationBean;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oGUSw.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oGUSw.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","apache-kafka","cloudevents"],"answers":[{"tags":[],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694773277,"creation_date":1694773277,"answer_id":77111562,"question_id":77099281,"body_markdown":"TLDR: even custom attributes must follow the same naming conventions as &#39;official&#39; ones like ce_type. Custom attribute &#39;whatever&#39; is incorrect, it has to be &#39;ce_whatever&#39; (or cloudevens_whatever, based on where you use it).\r\n\r\nIn our project we have multiple producers and the one producing this specific record was kafka-connect, which was misconfigured. I misread specification, that even custom extensions has to have &quot;ce_&quot; prefix. I thought this rule holds only for cloudevents-specific, known headers. So I fixed kafka-connect configuration and sure enough, everything is fine.","title":"Does CloudEventDeserializer deserialize custom extensions (kafka headers)?","body":"<p>TLDR: even custom attributes must follow the same naming conventions as 'official' ones like ce_type. Custom attribute 'whatever' is incorrect, it has to be 'ce_whatever' (or cloudevens_whatever, based on where you use it).</p>\n<p>In our project we have multiple producers and the one producing this specific record was kafka-connect, which was misconfigured. I misread specification, that even custom extensions has to have &quot;ce_&quot; prefix. I thought this rule holds only for cloudevents-specific, known headers. So I fixed kafka-connect configuration and sure enough, everything is fine.</p>\n"}],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694773277,"creation_date":1694625954,"question_id":77099281,"body_markdown":"I have cloudevent instance build using `io.cloudevents.core.v1.CloudEventBuilder builder` and I gave it custom extension using method `builder.withExtension(&quot;whatever&quot;, &quot;whatever&quot;);`. Cloudevent is built, sent. I can see, that in kafka, there is respective message, and it has header &quot;whatever&quot; having value &quot;whatever&quot;. So far so good.\r\n\r\nBut if I deserialize given message into `io.cloudevents.CloudEvent` instance, the header isn&#39;t &#39;there&#39;. I&#39;d expect it in `io.cloudevents.CloudEventExtensions#getExtensionNames` resp. `io.cloudevents.CloudEventExtensions#getExtension` but it&#39;s not there or anywhere else.\r\n\r\nLooking into `io.cloudevents.kafka.CloudEventDeserializer` we can dig deep and reach `io.cloudevents.core.message.impl.BaseGenericBinaryMessageReaderImpl#read`, which is shown below.\r\n\r\nDebugging this method, we will find here our header, key==value==&quot;whatever&quot;. So value is not null, we continue, it&#39;s not &quot;content-type&quot; header so we proceed to else branch, and it does not have &quot;ce_&quot; prefix (isCloudEventsHeader), and we&#39;re done. Custom extension ignored.\r\n\r\nThis is expected to happen? Am I overlooking smth? I&#39;d expect, that if I am able to create Cloudevent with custom extension, I&#39;d like to read it as well. Is there some special configuration for that or anything I forgot to enable?\r\n\r\n\r\n        @Override\r\n        public &lt;T extends CloudEventWriter&lt;V&gt;, V&gt; V read(CloudEventWriterFactory&lt;T, V&gt; writerFactory, CloudEventDataMapper&lt;? extends CloudEventData&gt; mapper) throws CloudEventRWException, IllegalStateException {\r\n            CloudEventWriter&lt;V&gt; visitor = writerFactory.create(this.version);\r\n    \r\n            // Grab from headers the attributes and extensions\r\n            // This implementation avoids to use visitAttributes and visitExtensions\r\n            // in order to complete the visit in one loop\r\n            this.forEachHeader((key, value) -&gt; {\r\n                if (value == null) {\r\n                    return;\r\n                }\r\n                if (isContentTypeHeader(key)) {\r\n                    visitor.withContextAttribute(CloudEventV1.DATACONTENTTYPE, toCloudEventsValue(value));\r\n                } else if (isCloudEventsHeader(key)) {\r\n                    String name = toCloudEventsKey(key);\r\n                    if (name.equals(CloudEventV1.SPECVERSION)) {\r\n                        return;\r\n                    }\r\n                    visitor.withContextAttribute(name, toCloudEventsValue(value));\r\n                }\r\n            });","title":"Does CloudEventDeserializer deserialize custom extensions (kafka headers)?","body":"<p>I have cloudevent instance build using <code>io.cloudevents.core.v1.CloudEventBuilder builder</code> and I gave it custom extension using method <code>builder.withExtension(&quot;whatever&quot;, &quot;whatever&quot;);</code>. Cloudevent is built, sent. I can see, that in kafka, there is respective message, and it has header &quot;whatever&quot; having value &quot;whatever&quot;. So far so good.</p>\n<p>But if I deserialize given message into <code>io.cloudevents.CloudEvent</code> instance, the header isn't 'there'. I'd expect it in <code>io.cloudevents.CloudEventExtensions#getExtensionNames</code> resp. <code>io.cloudevents.CloudEventExtensions#getExtension</code> but it's not there or anywhere else.</p>\n<p>Looking into <code>io.cloudevents.kafka.CloudEventDeserializer</code> we can dig deep and reach <code>io.cloudevents.core.message.impl.BaseGenericBinaryMessageReaderImpl#read</code>, which is shown below.</p>\n<p>Debugging this method, we will find here our header, key==value==&quot;whatever&quot;. So value is not null, we continue, it's not &quot;content-type&quot; header so we proceed to else branch, and it does not have &quot;ce_&quot; prefix (isCloudEventsHeader), and we're done. Custom extension ignored.</p>\n<p>This is expected to happen? Am I overlooking smth? I'd expect, that if I am able to create Cloudevent with custom extension, I'd like to read it as well. Is there some special configuration for that or anything I forgot to enable?</p>\n<pre><code>    @Override\n    public &lt;T extends CloudEventWriter&lt;V&gt;, V&gt; V read(CloudEventWriterFactory&lt;T, V&gt; writerFactory, CloudEventDataMapper&lt;? extends CloudEventData&gt; mapper) throws CloudEventRWException, IllegalStateException {\n        CloudEventWriter&lt;V&gt; visitor = writerFactory.create(this.version);\n\n        // Grab from headers the attributes and extensions\n        // This implementation avoids to use visitAttributes and visitExtensions\n        // in order to complete the visit in one loop\n        this.forEachHeader((key, value) -&gt; {\n            if (value == null) {\n                return;\n            }\n            if (isContentTypeHeader(key)) {\n                visitor.withContextAttribute(CloudEventV1.DATACONTENTTYPE, toCloudEventsValue(value));\n            } else if (isCloudEventsHeader(key)) {\n                String name = toCloudEventsKey(key);\n                if (name.equals(CloudEventV1.SPECVERSION)) {\n                    return;\n                }\n                visitor.withContextAttribute(name, toCloudEventsValue(value));\n            }\n        });\n</code></pre>\n"},{"tags":["java","openapi","openapi-generator","openapi-generator-maven-plugin","jakarta-migration"],"comments":[{"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"score":0,"creation_date":1691098858,"post_id":76755112,"comment_id":135449927,"body_markdown":"Few clarifications questions. 1. what do you mean by &quot;After migrating jaxb to jakarta package&quot;&quot;? were you using jaxb (pre jakarta)? 2. what is the open api version? 3. Does this generates xml annotations? (based on configuration it should not) 4. Will you be able to provide complete open api spec? (complete but only with necessary parts)","body":"Few clarifications questions. 1. what do you mean by &quot;After migrating jaxb to jakarta package&quot;&quot;? were you using jaxb (pre jakarta)? 2. what is the open api version? 3. Does this generates xml annotations? (based on configuration it should not) 4. Will you be able to provide complete open api spec? (complete but only with necessary parts)"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1691491400,"post_id":76755112,"comment_id":135495805,"body_markdown":"@RuwankaDeSilva Hi, you can see in my bug report in more detail. https://github.com/OpenAPITools/openapi-generator/issues/16245","body":"@RuwankaDeSilva Hi, you can see in my bug report in more detail. <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/16245\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/16245</a>"}],"answers":[{"comments":[{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1690903583,"post_id":76760708,"comment_id":135416427,"body_markdown":"thx but that didnt help","body":"thx but that didnt help"}],"tags":[],"owner":{"account_id":11768891,"reputation":124,"user_id":8612527,"display_name":"DASH"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690272891,"creation_date":1690272891,"answer_id":76760708,"question_id":76755112,"body_markdown":"Maybe the plugin uses the JAXB annotations to generate the constructors, that are not available in Jakarta.Try adding below configuration to plugin and do a `mvn clean install`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;6.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;generateJakartaCompatibleClient&gt;true&lt;/generateJakartaCompatibleClient&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/dependency&gt;","title":"How to stop Openapi-generator-maven-plugin creates putItem method for type: object","body":"<p>Maybe the plugin uses the JAXB annotations to generate the constructors, that are not available in Jakarta.Try adding below configuration to plugin and do a <code>mvn clean install</code>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.6.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;generateJakartaCompatibleClient&gt;true&lt;/generateJakartaCompatibleClient&gt;\n    &lt;/configuration&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692358380,"creation_date":1692358380,"answer_id":76928952,"question_id":76755112,"body_markdown":"As also stated in the GitHub bug report page. Problem was solved by adding a special REFACTOR_ALLOF_WITH_PROPERTIES_ONLY flag using OpenApi normalizer and using latest version:\r\n\r\nExample:\r\n\r\njava -jar modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g java -i modules/openapi-generator/src/test/resources/3_0/allOf_extension_parent.yaml -o /tmp/java-okhttp/ --openapi-normalizer REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true\r\n\r\nOr\r\n\r\n                             &lt;openapiNormalizer&gt;\r\n                                REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true\r\n                             &lt;/openapiNormalizer&gt;\r\n\r\n","title":"How to stop Openapi-generator-maven-plugin creates putItem method for type: object","body":"<p>As also stated in the GitHub bug report page. Problem was solved by adding a special REFACTOR_ALLOF_WITH_PROPERTIES_ONLY flag using OpenApi normalizer and using latest version:</p>\n<p>Example:</p>\n<p>java -jar modules/openapi-generator-cli/target/openapi-generator-cli.jar generate -g java -i modules/openapi-generator/src/test/resources/3_0/allOf_extension_parent.yaml -o /tmp/java-okhttp/ --openapi-normalizer REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true</p>\n<p>Or</p>\n<pre><code>                         &lt;openapiNormalizer&gt;\n                            REFACTOR_ALLOF_WITH_PROPERTIES_ONLY=true\n                         &lt;/openapiNormalizer&gt;\n</code></pre>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694772839,"creation_date":1690206195,"question_id":76755112,"body_markdown":"EDIT: Bug report github.com/OpenAPITools/openapi-generator/issues/16245\r\n\r\n(I am not quite sure if this is related to jakarta usage, or open api version, but problem seems to be starting around version 5.3.0) \r\n\r\nAfter migrating jaxb to jakarta package, I see some of the created java classes (by openapi-generator) has errors, I see methods that should not be there (I compare with jaxb version classes and this &#39;putTypeItem&#39; doesn&#39;t exist in old versions). if they must be there, then they should be created properly\r\n\r\nNote the error in &#39;typeItem&#39; in method parameters below, there is no type! And this method do not exist in jaxb version. I have compilation errors:\r\n\r\n\r\n      public GetResponse putTypeItem(String key,  **typeItem**) {\r\n        if (this.type == null) {\r\n          this.type = new HashMap&lt;&gt;();\r\n        }\r\n        this.type.put(key, typeItem);\r\n        return this;\r\n      }\r\n\r\nThis is my plugin config:\r\n\r\n     &lt;plugin&gt;\r\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;6.6.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;generate&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;inputSpec&gt;${basedir}/../management-swagger.yaml&lt;/inputSpec&gt;\r\n                  &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n                  &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                  &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                  &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                  &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                  &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n                  &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                  &lt;configOptions&gt;\r\n                    &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\r\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                  &lt;/configOptions&gt;\r\n                  &lt;modelPackage&gt;com.client.model&lt;/modelPackage&gt;\r\n                  &lt;typeMappings&gt;\r\n                    &lt;typeMapping&gt;Double=java.math.BigDecimal&lt;/typeMapping&gt;\r\n                  &lt;/typeMappings&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nand this is how my yaml looks like:\r\n\r\n    GetResponse:\r\n      properties:\r\n        id:\r\n          type: string\r\n          example: \r\n          description: \r\n        type:\r\n          type: object\r\n          description: \r\n          properties:\r\n            code:\r\n              type: string\r\n              description: &#39;\r\n            description:\r\n              type: string\r\n              description:\r\n\r\n \r\n\r\nOpenapi-generator-maven-plugin sees the property &#39;type&#39; object and tries create a put method for it, which I dont need, also it cant create propely.\r\n\r\nHow to fix this?","title":"How to stop Openapi-generator-maven-plugin creates putItem method for type: object","body":"<p>EDIT: Bug report github.com/OpenAPITools/openapi-generator/issues/16245</p>\n<p>(I am not quite sure if this is related to jakarta usage, or open api version, but problem seems to be starting around version 5.3.0)</p>\n<p>After migrating jaxb to jakarta package, I see some of the created java classes (by openapi-generator) has errors, I see methods that should not be there (I compare with jaxb version classes and this 'putTypeItem' doesn't exist in old versions). if they must be there, then they should be created properly</p>\n<p>Note the error in 'typeItem' in method parameters below, there is no type! And this method do not exist in jaxb version. I have compilation errors:</p>\n<pre><code>  public GetResponse putTypeItem(String key,  **typeItem**) {\n    if (this.type == null) {\n      this.type = new HashMap&lt;&gt;();\n    }\n    this.type.put(key, typeItem);\n    return this;\n  }\n</code></pre>\n<p>This is my plugin config:</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;6.6.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;generate&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;inputSpec&gt;${basedir}/../management-swagger.yaml&lt;/inputSpec&gt;\n              &lt;generateApis&gt;false&lt;/generateApis&gt;\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n              &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\n              &lt;configOptions&gt;\n                &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n              &lt;/configOptions&gt;\n              &lt;modelPackage&gt;com.client.model&lt;/modelPackage&gt;\n              &lt;typeMappings&gt;\n                &lt;typeMapping&gt;Double=java.math.BigDecimal&lt;/typeMapping&gt;\n              &lt;/typeMappings&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>and this is how my yaml looks like:</p>\n<pre><code>GetResponse:\n  properties:\n    id:\n      type: string\n      example: \n      description: \n    type:\n      type: object\n      description: \n      properties:\n        code:\n          type: string\n          description: '\n        description:\n          type: string\n          description:\n</code></pre>\n<p>Openapi-generator-maven-plugin sees the property 'type' object and tries create a put method for it, which I dont need, also it cant create propely.</p>\n<p>How to fix this?</p>\n"},{"tags":["java","homebrew"],"answers":[{"comments":[{"owner":{"account_id":442211,"reputation":1899,"user_id":832725,"accept_rate":71,"display_name":"paul_h"},"score":0,"creation_date":1601817550,"post_id":63176221,"comment_id":113517400,"body_markdown":"should that have been `brew cask reinstall --no-quarantine adoptopenjdk` ?","body":"should that have been <code>brew cask reinstall --no-quarantine adoptopenjdk</code> ?"},{"owner":{"account_id":9604568,"reputation":1067,"user_id":7130982,"accept_rate":75,"display_name":"Omar Hussein"},"score":0,"creation_date":1601892043,"post_id":63176221,"comment_id":113536841,"body_markdown":"My problem was with Java, if yours is with adoptopenjdk then yes.","body":"My problem was with Java, if yours is with adoptopenjdk then yes."},{"owner":{"account_id":442211,"reputation":1899,"user_id":832725,"accept_rate":71,"display_name":"paul_h"},"score":0,"creation_date":1601982130,"post_id":63176221,"comment_id":113569085,"body_markdown":"My bad. Carry on sir.","body":"My bad. Carry on sir."},{"owner":{"account_id":14424291,"reputation":490,"user_id":10419533,"display_name":"Aur&#233;lien Foucault"},"score":1,"creation_date":1694684855,"post_id":63176221,"comment_id":135924748,"body_markdown":"Now cask isn&#39;t a command so the updated version is :  `brew reinstall --cask --no-quarantine java`","body":"Now cask isn&#39;t a command so the updated version is :  <code>brew reinstall --cask --no-quarantine java</code>"},{"owner":{"account_id":9604568,"reputation":1067,"user_id":7130982,"accept_rate":75,"display_name":"Omar Hussein"},"score":1,"creation_date":1694772672,"post_id":63176221,"comment_id":135938356,"body_markdown":"@Aur&#233;lienFoucault Updated, thanks for the input!","body":"@Aur&#233;lienFoucault Updated, thanks for the input!"}],"tags":[],"owner":{"account_id":9604568,"reputation":1067,"user_id":7130982,"accept_rate":75,"display_name":"Omar Hussein"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694772646,"creation_date":1596122104,"answer_id":63176221,"question_id":63136571,"body_markdown":"The fix is to reinstall with the --no-quarantine flag, in my case as so\r\n\r\n```brew cask reinstall --no-quarantine java```\r\n\r\n## Update Sep 2023\r\nNow cask isn&#39;t a command so the updated version is : `brew reinstall --cask --no-quarantine java` -[@Aur&#233;lien Foucault][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/10419533/aur%C3%A9lien-foucault","title":"Updating cask Generic Artifact Source not found","body":"<p>The fix is to reinstall with the --no-quarantine flag, in my case as so</p>\n<p><code>brew cask reinstall --no-quarantine java</code></p>\n<h2>Update Sep 2023</h2>\n<p>Now cask isn't a command so the updated version is : <code>brew reinstall --cask --no-quarantine java</code> -<a href=\"https://stackoverflow.com/users/10419533/aur%C3%A9lien-foucault\">@Aurélien Foucault</a></p>\n"}],"owner":{"account_id":9604568,"reputation":1067,"user_id":7130982,"accept_rate":75,"display_name":"Omar Hussein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63176221,"answer_count":1,"score":2,"last_activity_date":1694772646,"creation_date":1595946774,"question_id":63136571,"body_markdown":"I&#39;m trying to update my homebrew java installation, i&#39;m getting this error unfortunately\r\n\r\n```\r\n brew upgrade\r\n==&gt; Casks with `auto_updates` or `version :latest` will not be upgraded\r\n==&gt; Upgrading 1 outdated package:\r\njava 13.0.2,8:d4173c853231432d94f001e99d882ca7 -&gt; 14.0.2,12:205943a0976c4ed48cb16f1043c5c647\r\n==&gt; Upgrading java\r\n==&gt; Downloading https://download.java.net/java/GA/jdk14.0.2/205943a0976c4ed48cb16f1043c5c647/12/GPL/openjdk-14.0.2_osx-x64_bin.tar.gz\r\nAlready downloaded: /Users/omar/Library/Caches/Homebrew/downloads/4a16d10e8fdff3dd085a21e2ddd1d0ff91dba234c8c5f6588bff9752c845bebb--openjdk-14.0.2_osx-x64_bin.tar.gz\r\n==&gt; Verifying SHA-256 checksum for Cask &#39;java&#39;.\r\n==&gt; Purging files for version 14.0.2,12:205943a0976c4ed48cb16f1043c5c647 of Cask java\r\nError: It seems the Generic Artifact source &#39;/Library/Java/JavaVirtualMachines/openjdk-13.0.2.jdk&#39; is not there.\r\n```","title":"Updating cask Generic Artifact Source not found","body":"<p>I'm trying to update my homebrew java installation, i'm getting this error unfortunately</p>\n<pre><code> brew upgrade\n==&gt; Casks with `auto_updates` or `version :latest` will not be upgraded\n==&gt; Upgrading 1 outdated package:\njava 13.0.2,8:d4173c853231432d94f001e99d882ca7 -&gt; 14.0.2,12:205943a0976c4ed48cb16f1043c5c647\n==&gt; Upgrading java\n==&gt; Downloading https://download.java.net/java/GA/jdk14.0.2/205943a0976c4ed48cb16f1043c5c647/12/GPL/openjdk-14.0.2_osx-x64_bin.tar.gz\nAlready downloaded: /Users/omar/Library/Caches/Homebrew/downloads/4a16d10e8fdff3dd085a21e2ddd1d0ff91dba234c8c5f6588bff9752c845bebb--openjdk-14.0.2_osx-x64_bin.tar.gz\n==&gt; Verifying SHA-256 checksum for Cask 'java'.\n==&gt; Purging files for version 14.0.2,12:205943a0976c4ed48cb16f1043c5c647 of Cask java\nError: It seems the Generic Artifact source '/Library/Java/JavaVirtualMachines/openjdk-13.0.2.jdk' is not there.\n</code></pre>\n"},{"tags":["java","angular","spring","rest"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":5,"creation_date":1574326605,"post_id":58970698,"comment_id":104195454,"body_markdown":"Please write your question in English.","body":"Please write your question in English."},{"owner":{"account_id":6842645,"reputation":5353,"user_id":5262452,"accept_rate":25,"display_name":"Patricio Vargas"},"score":1,"creation_date":1574326766,"post_id":58970698,"comment_id":104195560,"body_markdown":"Hola Maria! bienvenida a stackoverflow. Si no hablas ingles, puedes poner tu pregunta aqui: https://es.stackoverflow.com/","body":"Hola Maria! bienvenida a stackoverflow. Si no hablas ingles, puedes poner tu pregunta aqui: <a href=\"https://es.stackoverflow.com/\">es.stackoverflow.com</a>"},{"owner":{"account_id":6842645,"reputation":5353,"user_id":5262452,"accept_rate":25,"display_name":"Patricio Vargas"},"score":0,"creation_date":1574326909,"post_id":58970698,"comment_id":104195636,"body_markdown":"@CodIng59 you need to be more kind to people on stackoverflow buddy. Make her feel welcome and point her to the right direction or ask her in a polite way to change her question to english.","body":"@CodIng59 you need to be more kind to people on stackoverflow buddy. Make her feel welcome and point her to the right direction or ask her in a polite way to change her question to english."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650246565,"post_id":58970698,"comment_id":127064592,"body_markdown":"Have you considered looking up HTTP status 403?","body":"Have you considered looking up HTTP status 403?"}],"answers":[{"comments":[{"owner":{"account_id":16041485,"reputation":197,"user_id":11577791,"display_name":"Maria G&#225;lvez"},"score":0,"creation_date":1574331590,"post_id":58970921,"comment_id":104198645,"body_markdown":"Configuring the server for cros is not what I have already set? this: HttpHeaders headers = new HttpHeaders();\n\theaders.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n\theaders.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;);\n\theaders.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;);\n\theaders.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);","body":"Configuring the server for cros is not what I have already set? this: HttpHeaders headers = new HttpHeaders(); \theaders.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); \theaders.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;); \theaders.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;); \theaders.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);"},{"owner":{"account_id":11048434,"reputation":11,"user_id":8113692,"display_name":"Chethan Gowda"},"score":0,"creation_date":1574332364,"post_id":58970921,"comment_id":104199115,"body_markdown":"can you paste the complete request and the header payload?","body":"can you paste the complete request and the header payload?"},{"owner":{"account_id":16041485,"reputation":197,"user_id":11577791,"display_name":"Maria G&#225;lvez"},"score":0,"creation_date":1574332976,"post_id":58970921,"comment_id":104199497,"body_markdown":"I&#39;ve left it that way and it doesn&#39;t work either:                                                                     \n public async login(email: string, password: string) {\n        const data = { username: &#39;pepa&#39;, password: &#39;manoli&#39; };\n        this.http.post(this.url, JSON.stringify(data), httpOptions).toPromise();\n    }","body":"I&#39;ve left it that way and it doesn&#39;t work either:                                                                       public async login(email: string, password: string) {         const data = { username: &#39;pepa&#39;, password: &#39;manoli&#39; };         this.http.post(this.url, JSON.stringify(data), httpOptions).toPromise();     }"},{"owner":{"account_id":16041485,"reputation":197,"user_id":11577791,"display_name":"Maria G&#225;lvez"},"score":0,"creation_date":1574333006,"post_id":58970921,"comment_id":104199521,"body_markdown":"@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.OPTIONS)\n    public ResponseEntity&lt;?&gt; login(@RequestBody String data) {\n\tSystem.out.print(&quot;entra&quot;);\n\tSystem.out.print(data);\n\tHttpHeaders headers = new HttpHeaders();\n\theaders.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n\theaders.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;);\n\theaders.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;);\n\theaders.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n\treturn new ResponseEntity&lt;&gt;(headers, HttpStatus.CREATED);\n    }","body":"@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.OPTIONS)     public ResponseEntity&lt;?&gt; login(@RequestBody String data) { \tSystem.out.print(&quot;entra&quot;); \tSystem.out.print(data); \tHttpHeaders headers = new HttpHeaders(); \theaders.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); \theaders.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;); \theaders.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;); \theaders.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;); \treturn new ResponseEntity&lt;&gt;(headers, HttpStatus.CREATED);     }"},{"owner":{"account_id":11048434,"reputation":11,"user_id":8113692,"display_name":"Chethan Gowda"},"score":0,"creation_date":1574334177,"post_id":58970921,"comment_id":104200239,"body_markdown":"try something like this:\n\n\n\n    this.http.post(ConstantData.loginUrl, {email,password, httpOptions: httpOptions }).toPromise();\n\n\nand try to capture the request payload that you are sending to the server.\nyou can find that payload information upon right-click &gt; Inspect &gt; Network block.\nupon clicking the log in button the packets sent from Client will be seen in this block.","body":"try something like this:        this.http.post(ConstantData.loginUrl, {email,password, httpOptions: httpOptions }).toPromise();   and try to capture the request payload that you are sending to the server. you can find that payload information upon right-click &gt; Inspect &gt; Network block. upon clicking the log in button the packets sent from Client will be seen in this block."}],"tags":[],"owner":{"account_id":11048434,"reputation":11,"user_id":8113692,"display_name":"Chethan Gowda"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574326933,"creation_date":1574326933,"answer_id":58970921,"question_id":58970698,"body_markdown":"Resolving Cors is not a client-side thing since it&#39;s your localhost development, the request origin will be different.\r\nyou need to configure the server such a way that it should allow the request from all origins.\r\n\r\nTake a look at this link https://spring.io/guides/gs/rest-service-cors/ you might find some insights.","title":"ERROR Failed to load resource: the server responded with a status of 403 () en angular","body":"<p>Resolving Cors is not a client-side thing since it's your localhost development, the request origin will be different.\nyou need to configure the server such a way that it should allow the request from all origins.</p>\n\n<p>Take a look at this link <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a> you might find some insights.</p>\n"}],"owner":{"account_id":16041485,"reputation":197,"user_id":11577791,"display_name":"Maria G&#225;lvez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694772310,"creation_date":1574326161,"question_id":58970698,"body_markdown":"![ Errors I get][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lPZbN.png\r\n\r\nERRORS:\r\n\r\n\r\n\r\n    Failed to load resource: the server responded with a status of 403 ()\r\n    login:1 Access to XMLHttpRequest at &#39;http://localhost:8080/login&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n    core.js:7187 ERROR Error: Uncaught (in promise): HttpErrorResponse: {&quot;headers&quot;:{&quot;normalizedNames&quot;:{},&quot;lazyUpdate&quot;:null,&quot;headers&quot;:{}},&quot;status&quot;:0,&quot;statusText&quot;:&quot;Unknown Error&quot;,&quot;url&quot;:&quot;http://localhost:8080/login&quot;,&quot;ok&quot;:false,&quot;name&quot;:&quot;HttpErrorResponse&quot;,&quot;message&quot;:&quot;Http failure response for http://localhost:8080/login: 0 Unknown Error&quot;,&quot;error&quot;:{&quot;isTrusted&quot;:true}}\r\n        at resolvePromise (zone-evergreen.js:797)\r\n        at zone-evergreen.js:707\r\n        at SafeSubscriber._error (Observable.js:91)\r\n        at SafeSubscriber.__tryOrUnsub (Subscriber.js:183)\r\n        at SafeSubscriber.error (Subscriber.js:135)\r\n        at Subscriber._error (Subscriber.js:75)\r\n        at Subscriber.error (Subscriber.js:55)\r\n        at MapSubscriber._error (Subscriber.js:75)\r\n        at MapSubscriber.error (Subscriber.js:55)\r\n        at FilterSubscriber._error (Subscriber.js:75)\r\n    defaultErrorLogger @ core.js:7187\r\n\r\n\r\n\r\nPOST service in JAVA spring boot (URL of the microservice: http:localhost:8080/login):\r\n\r\n\r\n\r\n\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @RestController\r\n    public class dmoController {\r\n\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        @PostMapping(&quot;/login&quot;)\r\n        public ResponseEntity&lt;?&gt; login(@RequestBody String data) {\r\n    \tSystem.out.print(&quot;entra&quot;);\r\n    \tSystem.out.print(data);\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \theaders.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \theaders.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;);\r\n    \theaders.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;);\r\n    \theaders.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    \treturn new ResponseEntity&lt;&gt;(headers, HttpStatus.CREATED);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\nCall to post from Angular (url angular: http:localhost:4200/login):\r\n\r\n\r\n\r\n      public async login(email: string, password: string) {\r\n            const data = { username: &#39;pepa&#39;, password: &#39;manoli&#39; };\r\n\r\n            httpOptions.headers.append(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);\r\n            httpOptions.headers.append(\r\n                &#39;Access-Control-Allow-Methods&#39;,\r\n                &#39;GET, POST, OPTIONS, PUT, PATCH, DELETE&#39;,\r\n            );\r\n            httpOptions.headers.append(\r\n                &#39;Access-Control-Allow-Headers&#39;,\r\n                &#39;X-Requested-With,content-type&#39;,\r\n            );\r\n            httpOptions.headers.append(&#39;Access-Control-Allow-Credentials&#39;, &#39;true&#39;);\r\n\r\n            this.http.post(this.url, JSON.stringify(data), httpOptions).toPromise();\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"ERROR Failed to load resource: the server responded with a status of 403 () en angular","body":"<p><img src=\"https://i.stack.imgur.com/lPZbN.png\" alt=\" Errors I get\" /></p>\n<p>ERRORS:</p>\n<pre><code>Failed to load resource: the server responded with a status of 403 ()\nlogin:1 Access to XMLHttpRequest at 'http://localhost:8080/login' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\ncore.js:7187 ERROR Error: Uncaught (in promise): HttpErrorResponse: {&quot;headers&quot;:{&quot;normalizedNames&quot;:{},&quot;lazyUpdate&quot;:null,&quot;headers&quot;:{}},&quot;status&quot;:0,&quot;statusText&quot;:&quot;Unknown Error&quot;,&quot;url&quot;:&quot;http://localhost:8080/login&quot;,&quot;ok&quot;:false,&quot;name&quot;:&quot;HttpErrorResponse&quot;,&quot;message&quot;:&quot;Http failure response for http://localhost:8080/login: 0 Unknown Error&quot;,&quot;error&quot;:{&quot;isTrusted&quot;:true}}\n    at resolvePromise (zone-evergreen.js:797)\n    at zone-evergreen.js:707\n    at SafeSubscriber._error (Observable.js:91)\n    at SafeSubscriber.__tryOrUnsub (Subscriber.js:183)\n    at SafeSubscriber.error (Subscriber.js:135)\n    at Subscriber._error (Subscriber.js:75)\n    at Subscriber.error (Subscriber.js:55)\n    at MapSubscriber._error (Subscriber.js:75)\n    at MapSubscriber.error (Subscriber.js:55)\n    at FilterSubscriber._error (Subscriber.js:75)\ndefaultErrorLogger @ core.js:7187\n</code></pre>\n<p>POST service in JAVA spring boot (URL of the microservice: http:localhost:8080/login):</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\npublic class dmoController {\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@RequestBody String data) {\n    System.out.print(&quot;entra&quot;);\n    System.out.print(data);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    headers.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT&quot;);\n    headers.add(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,content-type&quot;);\n    headers.add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.CREATED);\n    }\n\n    \n}\n</code></pre>\n<p>Call to post from Angular (url angular: http:localhost:4200/login):</p>\n<pre><code>  public async login(email: string, password: string) {\n        const data = { username: 'pepa', password: 'manoli' };\n\n        httpOptions.headers.append('Access-Control-Allow-Origin', '*');\n        httpOptions.headers.append(\n            'Access-Control-Allow-Methods',\n            'GET, POST, OPTIONS, PUT, PATCH, DELETE',\n        );\n        httpOptions.headers.append(\n            'Access-Control-Allow-Headers',\n            'X-Requested-With,content-type',\n        );\n        httpOptions.headers.append('Access-Control-Allow-Credentials', 'true');\n\n        this.http.post(this.url, JSON.stringify(data), httpOptions).toPromise();\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5035427,"reputation":1635,"user_id":4044380,"accept_rate":100,"display_name":"jagapathi"},"score":0,"creation_date":1498275556,"post_id":44732283,"comment_id":76447367,"body_markdown":"try disabling the anti virus","body":"try disabling the anti virus"},{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":1,"creation_date":1498277361,"post_id":44732283,"comment_id":76447601,"body_markdown":"run android studio as administrator and try..","body":"run android studio as administrator and try.."}],"answers":[{"tags":[],"owner":{"account_id":5035427,"reputation":1635,"user_id":4044380,"accept_rate":100,"display_name":"jagapathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498276447,"creation_date":1498276447,"answer_id":44732569,"question_id":44732283,"body_markdown":"**This is mostly an antivirus issue**\r\n\r\nOne solution that worked for me\r\n\r\n&gt; **Try disabling your antivirus and do it again**.\r\n\r\n\r\n","title":"Generate Signed APK: Errors while building APK. You can find the errors in the &#39;Messages&#39; view","body":"<p><strong>This is mostly an antivirus issue</strong></p>\n\n<p>One solution that worked for me</p>\n\n<blockquote>\n  <p><strong>Try disabling your antivirus and do it again</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14178186,"reputation":1,"user_id":10242729,"display_name":"Chetana Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535522291,"creation_date":1535521308,"answer_id":52070169,"question_id":44732283,"body_markdown":"Simply update your Android Studio and also generate a new Key path.\r\n","title":"Generate Signed APK: Errors while building APK. You can find the errors in the &#39;Messages&#39; view","body":"<p>Simply update your Android Studio and also generate a new Key path.</p>\n"}],"owner":{"account_id":11185145,"reputation":21,"user_id":8207771,"display_name":"oMaR Waleed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694772310,"creation_date":1498272815,"question_id":44732283,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nError:Failed to capture snapshot of output files for task &#39;packageRelease&#39; property &#39;outputDirectory&#39; during up-to-date check.\r\n&gt; Failed to create MD5 hash for file &#39;C:\\Users\\oMaR Waleed\\Desktop\\release\\android\\.gradle\\4.0-rc-1\\fileContent\\fileContent.lock&#39;.\r\n\r\nim trying to build apk\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SoF7W.png","title":"Generate Signed APK: Errors while building APK. You can find the errors in the &#39;Messages&#39; view","body":"<p><a href=\"https://i.stack.imgur.com/SoF7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoF7W.png\" alt=\"enter image description here\"></a></p>\n\n<p>Error:Failed to capture snapshot of output files for task 'packageRelease' property 'outputDirectory' during up-to-date check.</p>\n\n<blockquote>\n  <p>Failed to create MD5 hash for file 'C:\\Users\\oMaR Waleed\\Desktop\\release\\android.gradle\\4.0-rc-1\\fileContent\\fileContent.lock'.</p>\n</blockquote>\n\n<p>im trying to build apk</p>\n"},{"tags":["java","caching","java-8"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1487267253,"post_id":42271143,"comment_id":71718887,"body_markdown":"Mark `sampleSupplier` as volatile and replace it with a new instance.","body":"Mark <code>sampleSupplier</code> as volatile and replace it with a new instance."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487243484,"creation_date":1487243484,"answer_id":42272271,"question_id":42271143,"body_markdown":"I don&#39;t think that this is achievable via memoization, you need a cache instead from guava. It has methods that explicitly invalidate a key. So you would need a database trigger/listener that catches the event of when some entry changes and when that happens call:\r\n\r\n     Cache.invalidate(key)\r\n\r\n\r\nand then \r\n\r\n    cache.put(key, value)","title":"How to reload values in com.google.common.base.Supplier on demand","body":"<p>I don't think that this is achievable via memoization, you need a cache instead from guava. It has methods that explicitly invalidate a key. So you would need a database trigger/listener that catches the event of when some entry changes and when that happens call:</p>\n\n<pre><code> Cache.invalidate(key)\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>cache.put(key, value)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6526266,"reputation":342,"user_id":5048922,"display_name":"kaifong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694771213,"creation_date":1694771213,"answer_id":77111351,"question_id":42271143,"body_markdown":"Perhaps you could de-scope the supplier by re-assinging it?\r\n\r\n    pattern = Suppliers.memoize(() -&gt; { return 1; });\r\n\r\n    pattern.get() == 1\r\n    pattern.get() == 1\r\n    pattern.get() == 1\r\n\r\n    pattern = Suppliers.memoize(() -&gt; { return 2; });\r\n\r\n    pattern.get() == 2\r\n    pattern.get() == 2\r\n\r\n\r\n\r\n","title":"How to reload values in com.google.common.base.Supplier on demand","body":"<p>Perhaps you could de-scope the supplier by re-assinging it?</p>\n<pre><code>pattern = Suppliers.memoize(() -&gt; { return 1; });\n\npattern.get() == 1\npattern.get() == 1\npattern.get() == 1\n\npattern = Suppliers.memoize(() -&gt; { return 2; });\n\npattern.get() == 2\npattern.get() == 2\n</code></pre>\n"}],"owner":{"account_id":4176120,"reputation":3067,"user_id":3422590,"accept_rate":22,"display_name":"vaibhavvc1092"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694771213,"creation_date":1487240642,"question_id":42271143,"body_markdown":"I have a Supplier defined as below in one the Services. This supplier loads some values from database.\r\n\r\n    private final Supplier&lt;Map&lt;CustomClass1, CustomClass2&gt;&gt; sampleSupplier = Suppliers.memoizeWithExpiration(getSampleSupplier(), 1, TimeUnit.DAYS);\r\n\r\nI want to reload values in this supplier on demand so that if database is updated within the Time Duration(1 Day), those values will be reloaded into the Supplier. Is there any way I can achieve this?","title":"How to reload values in com.google.common.base.Supplier on demand","body":"<p>I have a Supplier defined as below in one the Services. This supplier loads some values from database.</p>\n\n<pre><code>private final Supplier&lt;Map&lt;CustomClass1, CustomClass2&gt;&gt; sampleSupplier = Suppliers.memoizeWithExpiration(getSampleSupplier(), 1, TimeUnit.DAYS);\n</code></pre>\n\n<p>I want to reload values in this supplier on demand so that if database is updated within the Time Duration(1 Day), those values will be reloaded into the Supplier. Is there any way I can achieve this?</p>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"score":3,"creation_date":1376051353,"post_id":14165517,"comment_id":26577674,"body_markdown":"If blocking the calling thread was an option, there&#39;d be a very simple solution even in Java 6: `org.apache.commons.io.IOUtils.copy(new ProcessBuilder().command(commandLine) .redirectErrorStream(true).start().getInputStream(), System.out);`","body":"If blocking the calling thread was an option, there&#39;d be a very simple solution even in Java 6: <code>org.apache.commons.io.IOUtils.copy(new ProcessBuilder().command(commandLine) .redirectErrorStream(true).start().getInputStream(), System.out);</code>"}],"answers":[{"comments":[{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":1,"creation_date":1357336914,"post_id":14165567,"comment_id":19626075,"body_markdown":"Will the StreamGobbler catch all of the output? Is there any chance of it missing some of the output? Also will the StreamGobbler thread die on its own once the process is stopper?","body":"Will the StreamGobbler catch all of the output? Is there any chance of it missing some of the output? Also will the StreamGobbler thread die on its own once the process is stopper?"},{"owner":{"account_id":2162386,"reputation":35622,"user_id":1916258,"accept_rate":100,"display_name":"asgoth"},"score":2,"creation_date":1357337033,"post_id":14165567,"comment_id":19626122,"body_markdown":"From the moment, the InputStream has ended, it will end too.","body":"From the moment, the InputStream has ended, it will end too."},{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":7,"creation_date":1357364373,"post_id":14165567,"comment_id":19632068,"body_markdown":"For Java 6 and earlier, it seems this is the only solution. For java 7 and up, see the other answer about ProcessBuilder.inheritIO()","body":"For Java 6 and earlier, it seems this is the only solution. For java 7 and up, see the other answer about ProcessBuilder.inheritIO()"},{"owner":{"account_id":3260113,"reputation":805,"user_id":2745839,"accept_rate":77,"display_name":"DeepSidhu1313"},"score":0,"creation_date":1422383368,"post_id":14165567,"comment_id":44724005,"body_markdown":"@asgoth Is there any way to send input to the process? Here is my question : https://stackoverflow.com/questions/28070841/javafx-redirect-input-output-error-from-processbuilder-to-textarea, I will be grateful if someone will help me to solve the problem.","body":"@asgoth Is there any way to send input to the process? Here is my question : <a href=\"https://stackoverflow.com/questions/28070841/javafx-redirect-input-output-error-from-processbuilder-to-textarea\" title=\"javafx redirect input output error from processbuilder to textarea\">stackoverflow.com/questions/28070841/&hellip;</a>, I will be grateful if someone will help me to solve the problem."}],"tags":[],"owner":{"account_id":2162386,"reputation":35622,"user_id":1916258,"accept_rate":100,"display_name":"asgoth"},"comment_count":4,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1618105181,"creation_date":1357336257,"answer_id":14165567,"question_id":14165517,"body_markdown":"For **Java 7 and later**, see Evgeniy Dorofeev&#39;s [answer][1].\r\n\r\nFor **Java 6 and earlier**, create and use a `StreamGobbler`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    StreamGobbler errorGobbler = \r\n      new StreamGobbler(p.getErrorStream(), &quot;ERROR&quot;);\r\n\r\n\t// any output?\r\n\tStreamGobbler outputGobbler = \r\n      new StreamGobbler(p.getInputStream(), &quot;OUTPUT&quot;);\r\n\r\n\t// start gobblers\r\n\toutputGobbler.start();\r\n\terrorGobbler.start();\r\n\r\n...\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate class StreamGobbler extends Thread {\r\n\t\tInputStream is;\r\n\t\tString type;\r\n\r\n\t\tprivate StreamGobbler(InputStream is, String type) {\r\n\t\t\tthis.is = is;\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tInputStreamReader isr = new InputStreamReader(is);\r\n\t\t\t\tBufferedReader br = new BufferedReader(isr);\r\n\t\t\t\tString line = null;\r\n\t\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\t\tSystem.out.println(type + &quot;&gt; &quot; + line);\r\n\t\t\t}\r\n\t\t\tcatch (IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14168097/59087","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>For <strong>Java 7 and later</strong>, see Evgeniy Dorofeev's <a href=\"https://stackoverflow.com/a/14168097/59087\">answer</a>.</p>\n<p>For <strong>Java 6 and earlier</strong>, create and use a <code>StreamGobbler</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamGobbler errorGobbler = \n  new StreamGobbler(p.getErrorStream(), &quot;ERROR&quot;);\n\n// any output?\nStreamGobbler outputGobbler = \n  new StreamGobbler(p.getInputStream(), &quot;OUTPUT&quot;);\n\n// start gobblers\noutputGobbler.start();\nerrorGobbler.start();\n</code></pre>\n<p>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class StreamGobbler extends Thread {\n    InputStream is;\n    String type;\n\n    private StreamGobbler(InputStream is, String type) {\n        this.is = is;\n        this.type = type;\n    }\n\n    @Override\n    public void run() {\n        try {\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n            String line = null;\n            while ((line = br.readLine()) != null)\n                System.out.println(type + &quot;&gt; &quot; + line);\n        }\n        catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":1,"creation_date":1357364305,"post_id":14168097,"comment_id":19632053,"body_markdown":"I see that Java 7 has added a bunch of interesting methods for handling stdout, stderr and stdin. Pretty nice. I think I&#39;ll use `inheritIO()` or one of those handy `redirect*(ProcessBuilder.Redirect)` methods next time I need to do that on a java 7 project. Unfortunately my project is java 6.","body":"I see that Java 7 has added a bunch of interesting methods for handling stdout, stderr and stdin. Pretty nice. I think I&#39;ll use <code>inheritIO()</code> or one of those handy <code>redirect*(ProcessBuilder.Redirect)</code> methods next time I need to do that on a java 7 project. Unfortunately my project is java 6."},{"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"score":1,"creation_date":1484636588,"post_id":14168097,"comment_id":70578014,"body_markdown":"`sc` needs to be closed?","body":"<code>sc</code> needs to be closed?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1532631003,"post_id":14168097,"comment_id":90059122,"body_markdown":"Note that it sets it to the OS filedescriptor of the parent JVM, not to the System.out streams. This is therefore ok to write to console or shell redirection of the parent but it wont work for logging streams. Those still need a pump thread (however you can at least redirect stderr to stdin, so you only need one thread.","body":"Note that it sets it to the OS filedescriptor of the parent JVM, not to the System.out streams. This is therefore ok to write to console or shell redirection of the parent but it wont work for logging streams. Those still need a pump thread (however you can at least redirect stderr to stdin, so you only need one thread."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":180,"is_accepted":false,"score":180,"last_activity_date":1458127895,"creation_date":1357354463,"answer_id":14168097,"question_id":14165517,"body_markdown":"Use `ProcessBuilder.inheritIO`, it sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\r\n\r\n    Process p = new ProcessBuilder().inheritIO().command(&quot;command1&quot;).start();\r\n\r\nIf Java 7 is not an option\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tProcess p = Runtime.getRuntime().exec(&quot;cmd /c dir&quot;);\r\n\t\tinheritIO(p.getInputStream(), System.out);\r\n\t\tinheritIO(p.getErrorStream(), System.err);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static void inheritIO(final InputStream src, final PrintStream dest) {\r\n\t\tnew Thread(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tScanner sc = new Scanner(src);\r\n\t\t\t\twhile (sc.hasNextLine()) {\r\n\t\t\t\t\tdest.println(sc.nextLine());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).start();\r\n\t}\r\nThreads will die automatically when subprocess finishes, because `src` will EOF.","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>Use <code>ProcessBuilder.inheritIO</code>, it sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.</p>\n\n<pre><code>Process p = new ProcessBuilder().inheritIO().command(\"command1\").start();\n</code></pre>\n\n<p>If Java 7 is not an option</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Process p = Runtime.getRuntime().exec(\"cmd /c dir\");\n    inheritIO(p.getInputStream(), System.out);\n    inheritIO(p.getErrorStream(), System.err);\n\n}\n\nprivate static void inheritIO(final InputStream src, final PrintStream dest) {\n    new Thread(new Runnable() {\n        public void run() {\n            Scanner sc = new Scanner(src);\n            while (sc.hasNextLine()) {\n                dest.println(sc.nextLine());\n            }\n        }\n    }).start();\n}\n</code></pre>\n\n<p>Threads will die automatically when subprocess finishes, because <code>src</code> will EOF.</p>\n"},{"tags":[],"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391801485,"creation_date":1391801485,"answer_id":21636253,"question_id":14165517,"body_markdown":"I too can use only Java 6. I used @EvgeniyDorofeev&#39;s thread scanner implementation. In my code, after a process finishes, I have to immediately execute two other processes that each compare the redirected output (a diff-based unit test to ensure stdout and stderr are the same as the blessed ones).\r\n\r\nThe scanner threads don&#39;t finish soon enough, even if I waitFor() the process to complete. To make the code work correctly, I have to make sure the threads are joined after the process finishes.\r\n\r\n    public static int runRedirect (String[] args, String stdout_redirect_to, String stderr_redirect_to) throws IOException, InterruptedException {\r\n        ProcessBuilder b = new ProcessBuilder().command(args);\r\n        Process p = b.start();\r\n        Thread ot = null;\r\n        PrintStream out = null;\r\n        if (stdout_redirect_to != null) {\r\n            out = new PrintStream(new BufferedOutputStream(new FileOutputStream(stdout_redirect_to)));\r\n            ot = inheritIO(p.getInputStream(), out);\r\n            ot.start();\r\n        }\r\n        Thread et = null;\r\n        PrintStream err = null;\r\n        if (stderr_redirect_to != null) {\r\n            err = new PrintStream(new BufferedOutputStream(new FileOutputStream(stderr_redirect_to)));\r\n            et = inheritIO(p.getErrorStream(), err);\r\n            et.start();\r\n        }\r\n        p.waitFor();    // ensure the process finishes before proceeding\r\n        if (ot != null)\r\n            ot.join();  // ensure the thread finishes before proceeding\r\n        if (et != null)\r\n            et.join();  // ensure the thread finishes before proceeding\r\n        int rc = p.exitValue();\r\n        return rc;\r\n    }\r\n\r\n    private static Thread inheritIO (final InputStream src, final PrintStream dest) {\r\n        return new Thread(new Runnable() {\r\n            public void run() {\r\n                Scanner sc = new Scanner(src);\r\n                while (sc.hasNextLine())\r\n                    dest.println(sc.nextLine());\r\n                dest.flush();\r\n            }\r\n        });\r\n    }","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>I too can use only Java 6. I used @EvgeniyDorofeev's thread scanner implementation. In my code, after a process finishes, I have to immediately execute two other processes that each compare the redirected output (a diff-based unit test to ensure stdout and stderr are the same as the blessed ones).</p>\n\n<p>The scanner threads don't finish soon enough, even if I waitFor() the process to complete. To make the code work correctly, I have to make sure the threads are joined after the process finishes.</p>\n\n<pre><code>public static int runRedirect (String[] args, String stdout_redirect_to, String stderr_redirect_to) throws IOException, InterruptedException {\n    ProcessBuilder b = new ProcessBuilder().command(args);\n    Process p = b.start();\n    Thread ot = null;\n    PrintStream out = null;\n    if (stdout_redirect_to != null) {\n        out = new PrintStream(new BufferedOutputStream(new FileOutputStream(stdout_redirect_to)));\n        ot = inheritIO(p.getInputStream(), out);\n        ot.start();\n    }\n    Thread et = null;\n    PrintStream err = null;\n    if (stderr_redirect_to != null) {\n        err = new PrintStream(new BufferedOutputStream(new FileOutputStream(stderr_redirect_to)));\n        et = inheritIO(p.getErrorStream(), err);\n        et.start();\n    }\n    p.waitFor();    // ensure the process finishes before proceeding\n    if (ot != null)\n        ot.join();  // ensure the thread finishes before proceeding\n    if (et != null)\n        et.join();  // ensure the thread finishes before proceeding\n    int rc = p.exitValue();\n    return rc;\n}\n\nprivate static Thread inheritIO (final InputStream src, final PrintStream dest) {\n    return new Thread(new Runnable() {\n        public void run() {\n            Scanner sc = new Scanner(src);\n            while (sc.hasNextLine())\n                dest.println(sc.nextLine());\n            dest.flush();\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6891506,"reputation":39,"user_id":5294820,"display_name":"sonal kumar sinha"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1443720103,"creation_date":1443720103,"answer_id":32893306,"question_id":14165517,"body_markdown":"By default, the created subprocess does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream(). The parent process uses these streams to feed input to and get output from the subprocess. Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess may cause the subprocess to block, or even deadlock.\r\n\r\nhttps://www.securecoding.cert.org/confluence/display/java/FIO07-J.+Do+not+let+external+processes+block+on+IO+buffers","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>By default, the created subprocess does not have its own terminal or console. All its standard I/O (i.e. stdin, stdout, stderr) operations will be redirected to the parent process, where they can be accessed via the streams obtained using the methods getOutputStream(), getInputStream(), and getErrorStream(). The parent process uses these streams to feed input to and get output from the subprocess. Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess may cause the subprocess to block, or even deadlock.</p>\n\n<p><a href=\"https://www.securecoding.cert.org/confluence/display/java/FIO07-J.+Do+not+let+external+processes+block+on+IO+buffers\" rel=\"nofollow\">https://www.securecoding.cert.org/confluence/display/java/FIO07-J.+Do+not+let+external+processes+block+on+IO+buffers</a></p>\n"},{"comments":[{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1482371641,"post_id":33386692,"comment_id":69750807,"body_markdown":"Could you please expand on how you&#39;d use this?","body":"Could you please expand on how you&#39;d use this?"},{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1560015878,"post_id":33386692,"comment_id":99604651,"body_markdown":"@Robert The threads will stop automatically when the corresponding input/error stream is closed. The `forEach()` in the `run()` method will block until the stream is open, awaiting the next line. It will exit when the stream is closed.","body":"@Robert The threads will stop automatically when the corresponding input/error stream is closed. The <code>forEach()</code> in the <code>run()</code> method will block until the stream is open, awaiting the next line. It will exit when the stream is closed."},{"owner":{"account_id":3297240,"reputation":164,"user_id":6061238,"display_name":"digijap"},"score":0,"creation_date":1638451429,"post_id":33386692,"comment_id":124095019,"body_markdown":"Expanding on this, if you want to return the data from the process you should always join the thread. It could happen that `p.waitFor()` finishes and the buffer is still being read.","body":"Expanding on this, if you want to return the data from the process you should always join the thread. It could happen that <code>p.waitFor()</code> finishes and the buffer is still being read."}],"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1482420395,"creation_date":1446022746,"answer_id":33386692,"question_id":14165517,"body_markdown":"A flexible solution with Java 8 lambda that lets you provide a `Consumer` that will process the output (eg. log it) line by line. `run()` is a one-liner with no checked exceptions thrown. Alternatively to implementing `Runnable`, it can extend `Thread` instead as other answers suggest.\r\n\r\n    class StreamGobbler implements Runnable {\r\n        private InputStream inputStream;\r\n        private Consumer&lt;String&gt; consumeInputLine;\r\n    \r\n        public StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumeInputLine) {\r\n            this.inputStream = inputStream;\r\n            this.consumeInputLine = consumeInputLine;\r\n        }\r\n    \r\n        public void run() {\r\n            new BufferedReader(new InputStreamReader(inputStream)).lines().forEach(consumeInputLine);\r\n        }\r\n    }\r\n\r\nYou can then use it for example like this:\r\n\r\n    public void runProcessWithGobblers() throws IOException, InterruptedException {\r\n        Process p = new ProcessBuilder(&quot;...&quot;).start();\r\n        Logger logger = LoggerFactory.getLogger(getClass());\r\n        \r\n        StreamGobbler outputGobbler = new StreamGobbler(p.getInputStream(), System.out::println);\r\n        StreamGobbler errorGobbler = new StreamGobbler(p.getErrorStream(), logger::error);\r\n\r\n        new Thread(outputGobbler).start();\r\n        new Thread(errorGobbler).start();\r\n        p.waitFor();\r\n    }\r\n\r\nHere the output stream is redirected to `System.out` and the error stream is logged on the error level by the `logger`.","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>A flexible solution with Java 8 lambda that lets you provide a <code>Consumer</code> that will process the output (eg. log it) line by line. <code>run()</code> is a one-liner with no checked exceptions thrown. Alternatively to implementing <code>Runnable</code>, it can extend <code>Thread</code> instead as other answers suggest.</p>\n\n<pre><code>class StreamGobbler implements Runnable {\n    private InputStream inputStream;\n    private Consumer&lt;String&gt; consumeInputLine;\n\n    public StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumeInputLine) {\n        this.inputStream = inputStream;\n        this.consumeInputLine = consumeInputLine;\n    }\n\n    public void run() {\n        new BufferedReader(new InputStreamReader(inputStream)).lines().forEach(consumeInputLine);\n    }\n}\n</code></pre>\n\n<p>You can then use it for example like this:</p>\n\n<pre><code>public void runProcessWithGobblers() throws IOException, InterruptedException {\n    Process p = new ProcessBuilder(\"...\").start();\n    Logger logger = LoggerFactory.getLogger(getClass());\n\n    StreamGobbler outputGobbler = new StreamGobbler(p.getInputStream(), System.out::println);\n    StreamGobbler errorGobbler = new StreamGobbler(p.getErrorStream(), logger::error);\n\n    new Thread(outputGobbler).start();\n    new Thread(errorGobbler).start();\n    p.waitFor();\n}\n</code></pre>\n\n<p>Here the output stream is redirected to <code>System.out</code> and the error stream is logged on the error level by the <code>logger</code>.</p>\n"},{"comments":[{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1498677128,"post_id":40485587,"comment_id":76601953,"body_markdown":"This does not answer the question: *I would like to capture whatever is going through stdout and/or stderr of that process and redirect it to System.out asynchronously. I want the process and its output redirection to run in the background.*","body":"This does not answer the question: <i>I would like to capture whatever is going through stdout and/or stderr of that process and redirect it to System.out asynchronously. I want the process and its output redirection to run in the background.</i>"},{"owner":{"account_id":7028635,"reputation":314,"user_id":5385185,"display_name":"nike.laos"},"score":0,"creation_date":1498727134,"post_id":40485587,"comment_id":76621576,"body_markdown":"@AdamMichalik, you&#39;re right - I didn&#39;t get the gist, at first. Thanks for showing.","body":"@AdamMichalik, you&#39;re right - I didn&#39;t get the gist, at first. Thanks for showing."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1532631126,"post_id":40485587,"comment_id":90059174,"body_markdown":"This has the same problem as inheritIO(), it will write to the poarent JVMs FD1 but not to any replaces System.out OutputStreams (like logger adapter).","body":"This has the same problem as inheritIO(), it will write to the poarent JVMs FD1 but not to any replaces System.out OutputStreams (like logger adapter)."}],"tags":[],"owner":{"account_id":7028635,"reputation":314,"user_id":5385185,"display_name":"nike.laos"},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1498726914,"creation_date":1478604039,"answer_id":40485587,"question_id":14165517,"body_markdown":"It&#39;s as simple as following:\r\n\r\n        File logFile = new File(...);\r\n        ProcessBuilder pb = new ProcessBuilder()\r\n            .command(&quot;somecommand&quot;, &quot;arg1&quot;, &quot;arg2&quot;)\r\n        processBuilder.redirectErrorStream(true);\r\n        processBuilder.redirectOutput(logFile);\r\n\r\nby .redirectErrorStream(true) you tell process to **merge error and output stream** and then by .redirectOutput(file) you redirect merged output to a file. \r\n\r\n**Update:**\r\n\r\nI did manage to do this as follows:\r\n    \r\n    public static void main(String[] args) {\r\n        // Async part\r\n        Runnable r = () -&gt; {\r\n            ProcessBuilder pb = new ProcessBuilder().command(&quot;...&quot;);\r\n            // Merge System.err and System.out\r\n            pb.redirectErrorStream(true);\r\n            // Inherit System.out as redirect output stream\r\n            pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n            try {\r\n                pb.start();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        };\r\n        new Thread(r, &quot;asyncOut&quot;).start();\r\n        // here goes your main part\r\n    }\r\n\r\nNow you&#39;re able to see both outputs from main and asyncOut threads in *System.out*\r\n\r\n\r\n","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>It's as simple as following:</p>\n\n<pre><code>    File logFile = new File(...);\n    ProcessBuilder pb = new ProcessBuilder()\n        .command(\"somecommand\", \"arg1\", \"arg2\")\n    processBuilder.redirectErrorStream(true);\n    processBuilder.redirectOutput(logFile);\n</code></pre>\n\n<p>by .redirectErrorStream(true) you tell process to <strong>merge error and output stream</strong> and then by .redirectOutput(file) you redirect merged output to a file. </p>\n\n<p><strong>Update:</strong></p>\n\n<p>I did manage to do this as follows:</p>\n\n<pre><code>public static void main(String[] args) {\n    // Async part\n    Runnable r = () -&gt; {\n        ProcessBuilder pb = new ProcessBuilder().command(\"...\");\n        // Merge System.err and System.out\n        pb.redirectErrorStream(true);\n        // Inherit System.out as redirect output stream\n        pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n        try {\n            pb.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    };\n    new Thread(r, \"asyncOut\").start();\n    // here goes your main part\n}\n</code></pre>\n\n<p>Now you're able to see both outputs from main and asyncOut threads in <em>System.out</em></p>\n"},{"tags":[],"owner":{"account_id":157219,"reputation":7278,"user_id":375022,"display_name":"Maxim"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522307132,"creation_date":1522307132,"answer_id":49549946,"question_id":14165517,"body_markdown":"    Thread thread = new Thread(() -&gt; {\r\n          new BufferedReader(\r\n              new InputStreamReader(inputStream, \r\n                                    StandardCharsets.UTF_8))\r\n                  .lines().forEach(...);\r\n        });\r\n        thread.start();\r\n\r\nYour custom code goes instead of the `...`","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<pre><code>Thread thread = new Thread(() -&gt; {\n      new BufferedReader(\n          new InputStreamReader(inputStream, \n                                StandardCharsets.UTF_8))\n              .lines().forEach(...);\n    });\n    thread.start();\n</code></pre>\n\n<p>Your custom code goes instead of the <code>...</code></p>\n"},{"comments":[{"owner":{"account_id":2298796,"reputation":613,"user_id":2019601,"display_name":"keocra"},"score":0,"creation_date":1583489516,"post_id":57483714,"comment_id":107142731,"body_markdown":"This solution is very straight forward. It also shows indirectly how to redirect i.e. to a logger. For an example have a look at my answer.","body":"This solution is very straight forward. It also shows indirectly how to redirect i.e. to a logger. For an example have a look at my answer."},{"owner":{"account_id":112618,"reputation":1131,"user_id":296988,"display_name":"Luke 10X"},"score":0,"creation_date":1680889067,"post_id":57483714,"comment_id":133976723,"body_markdown":"This looks clean, CompletableFutures will use additional threads from the default thread executor, which is not as efficient as could be watching file descriptors for stout and stderr for changes and then reacting. Yet as for version 18, this is so far the best option that we can do in Java.","body":"This looks clean, CompletableFutures will use additional threads from the default thread executor, which is not as efficient as could be watching file descriptors for stout and stderr for changes and then reacting. Yet as for version 18, this is so far the best option that we can do in Java."}],"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617037723,"creation_date":1565721954,"answer_id":57483714,"question_id":14165517,"body_markdown":"Simple java8 solution with capturing both outputs and reactive processing using `CompletableFuture`:\r\n\r\n\r\n    static CompletableFuture&lt;String&gt; readOutStream(InputStream is) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try (\r\n                    InputStreamReader isr = new InputStreamReader(is);\r\n                    BufferedReader br = new BufferedReader(isr);\r\n            ) {\r\n                  StringBuilder res = new StringBuilder();\r\n                  String inputLine;\r\n                  while ((inputLine = br.readLine()) != null) {\r\n                      res.append(inputLine).append(System.lineSeparator());\r\n                  }\r\n                  return res.toString();\r\n            } catch (Throwable e) {\r\n                throw new RuntimeException(&quot;problem with executing program&quot;, e);\r\n            }\r\n        });\r\n    }\r\n    \r\nAnd the usage:\r\n\r\n    Process p = Runtime.getRuntime().exec(cmd);\r\n    CompletableFuture&lt;String&gt; soutFut = readOutStream(p.getInputStream());\r\n    CompletableFuture&lt;String&gt; serrFut = readOutStream(p.getErrorStream());\r\n    CompletableFuture&lt;String&gt; resultFut = \r\n        soutFut.thenCombine(serrFut, (stdout, stderr) -&gt; {\r\n             // print to current stderr the stderr of process and return the stdout\r\n             System.err.println(stderr);\r\n            \r\n             return stdout;\r\n        });\r\n    // get stdout once ready, blocking\r\n    String result = resultFut.get();","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>Simple java8 solution with capturing both outputs and reactive processing using <code>CompletableFuture</code>:</p>\n<pre><code>static CompletableFuture&lt;String&gt; readOutStream(InputStream is) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try (\n                InputStreamReader isr = new InputStreamReader(is);\n                BufferedReader br = new BufferedReader(isr);\n        ) {\n              StringBuilder res = new StringBuilder();\n              String inputLine;\n              while ((inputLine = br.readLine()) != null) {\n                  res.append(inputLine).append(System.lineSeparator());\n              }\n              return res.toString();\n        } catch (Throwable e) {\n            throw new RuntimeException(&quot;problem with executing program&quot;, e);\n        }\n    });\n}\n</code></pre>\n<p>And the usage:</p>\n<pre><code>Process p = Runtime.getRuntime().exec(cmd);\nCompletableFuture&lt;String&gt; soutFut = readOutStream(p.getInputStream());\nCompletableFuture&lt;String&gt; serrFut = readOutStream(p.getErrorStream());\nCompletableFuture&lt;String&gt; resultFut = \n    soutFut.thenCombine(serrFut, (stdout, stderr) -&gt; {\n         // print to current stderr the stderr of process and return the stdout\n         System.err.println(stderr);\n        \n         return stdout;\n    });\n// get stdout once ready, blocking\nString result = resultFut.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298796,"reputation":613,"user_id":2019601,"display_name":"keocra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583490110,"creation_date":1583490110,"answer_id":60562033,"question_id":14165517,"body_markdown":"As an addition to msangel [answer][1] I would like to add the following code block: \r\n\r\n    private static CompletableFuture&lt;Boolean&gt; redirectToLogger(final InputStream inputStream, final Consumer&lt;String&gt; logLineConsumer) {\r\n            return CompletableFuture.supplyAsync(() -&gt; {\r\n                try (\r\n                    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n                    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n                ) {\r\n                    String line = null;\r\n                    while((line = bufferedReader.readLine()) != null) {\r\n                        logLineConsumer.accept(line);\r\n                    }\r\n                    return true;\r\n                } catch (IOException e) {\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\nIt allows to redirect the input stream (stdout, stderr) of the process to some other consumer. This might be System.out::println or anything else consuming strings.\r\n\r\nUsage:\r\n\r\n    ...\r\n    Process process = processBuilder.start()\r\n    CompletableFuture&lt;Boolean&gt; stdOutRes = redirectToLogger(process.getInputStream(), System.out::println);\r\n    CompletableFuture&lt;Boolean&gt; stdErrRes = redirectToLogger(process.getErrorStream(), System.out::println);\r\n    System.out.println(stdOutRes.get());\r\n    System.out.println(stdErrRes.get());\r\n    System.out.println(process.waitFor());\r\n\r\n  [1]: https://stackoverflow.com/a/57483714/2019601","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>As an addition to msangel <a href=\"https://stackoverflow.com/a/57483714/2019601\">answer</a> I would like to add the following code block: </p>\n\n<pre><code>private static CompletableFuture&lt;Boolean&gt; redirectToLogger(final InputStream inputStream, final Consumer&lt;String&gt; logLineConsumer) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try (\n                InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n                BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n            ) {\n                String line = null;\n                while((line = bufferedReader.readLine()) != null) {\n                    logLineConsumer.accept(line);\n                }\n                return true;\n            } catch (IOException e) {\n                return false;\n            }\n        });\n    }\n</code></pre>\n\n<p>It allows to redirect the input stream (stdout, stderr) of the process to some other consumer. This might be System.out::println or anything else consuming strings.</p>\n\n<p>Usage:</p>\n\n<pre><code>...\nProcess process = processBuilder.start()\nCompletableFuture&lt;Boolean&gt; stdOutRes = redirectToLogger(process.getInputStream(), System.out::println);\nCompletableFuture&lt;Boolean&gt; stdErrRes = redirectToLogger(process.getErrorStream(), System.out::println);\nSystem.out.println(stdOutRes.get());\nSystem.out.println(stdErrRes.get());\nSystem.out.println(process.waitFor());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1250241,"reputation":328,"user_id":1638549,"display_name":"mryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1694771049,"creation_date":1587373730,"answer_id":61318791,"question_id":14165517,"body_markdown":"There is a library that provides a better ProcessBuilder, zt-exec. This library can do exactly what you are asking for and more.\r\n\r\nHere&#39;s what your code would look like with zt-exec instead of ProcessBuilder:\r\n\r\nadd the dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.zeroturnaround&lt;/groupId&gt;\r\n  &lt;artifactId&gt;zt-exec&lt;/artifactId&gt;\r\n  &lt;version&gt;1.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe code:\r\n\r\n```java\r\nnew ProcessExecutor()\r\n  .command(&quot;somecommand&quot;, &quot;arg1&quot;, &quot;arg2&quot;)\r\n  .redirectOutput(System.out)\r\n  .redirectError(System.err)\r\n  .execute();\r\n```\r\n\r\nDocumentation of the library is here: https://github.com/zeroturnaround/zt-exec/\r\n","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>There is a library that provides a better ProcessBuilder, zt-exec. This library can do exactly what you are asking for and more.</p>\n<p>Here's what your code would look like with zt-exec instead of ProcessBuilder:</p>\n<p>add the dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.zeroturnaround&lt;/groupId&gt;\n  &lt;artifactId&gt;zt-exec&lt;/artifactId&gt;\n  &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ProcessExecutor()\n  .command(&quot;somecommand&quot;, &quot;arg1&quot;, &quot;arg2&quot;)\n  .redirectOutput(System.out)\n  .redirectError(System.err)\n  .execute();\n</code></pre>\n<p>Documentation of the library is here: <a href=\"https://github.com/zeroturnaround/zt-exec/\" rel=\"nofollow noreferrer\">https://github.com/zeroturnaround/zt-exec/</a></p>\n"},{"comments":[{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":0,"creation_date":1603788608,"post_id":64543197,"comment_id":114139947,"body_markdown":"That&#39;s litterally already used in the code that&#39;s in the question...","body":"That&#39;s litterally already used in the code that&#39;s in the question..."}],"tags":[],"owner":{"account_id":4767604,"reputation":251,"user_id":3853332,"display_name":"sklimkovitch"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603737990,"creation_date":1603737990,"answer_id":64543197,"question_id":14165517,"body_markdown":"\timport java.io.BufferedReader;\r\n\timport java.io.InputStreamReader;\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tProcessBuilder pb = new ProcessBuilder(&quot;script.bat&quot;);\r\n\t\t\tpb.redirectErrorStream(true);\r\n\t\t\tProcess p = pb.start();\r\n\t\t\tBufferedReader logReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\t\tString logLine = null;\r\n\t\t\twhile ( (logLine = logReader.readLine()) != null) {\r\n\t\t\t   System.out.println(&quot;Script output: &quot; + logLine);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBy using this line: `pb.redirectErrorStream(true);` we can combine InputStream and ErrorStream","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        ProcessBuilder pb = new ProcessBuilder(&quot;script.bat&quot;);\n        pb.redirectErrorStream(true);\n        Process p = pb.start();\n        BufferedReader logReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String logLine = null;\n        while ( (logLine = logReader.readLine()) != null) {\n           System.out.println(&quot;Script output: &quot; + logLine);\n        }\n    }\n}\n</code></pre>\n<p>By using this line: <code>pb.redirectErrorStream(true);</code> we can combine InputStream and ErrorStream</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610246642,"creation_date":1610246642,"answer_id":65649701,"question_id":14165517,"body_markdown":"It&#39;s really surprising to me that the redirection methods in `ProcessBuilder` don&#39;t accept an `OutputStream`, only `File`. Yet another proof of forced boilerplate code that Java forces you to write.\r\n\r\nThat said, let&#39;s look at a list of comprehensive options:\r\n\r\n 1. If you want the process output to simply be redirected to its parent&#39;s output stream, `inheritIO` will do the job.\r\n 2. If you want the process output to go to a file, use `redirect*(file)`.\r\n 3. If you want the process output to go to a logger, you need to consume the process `InputStream` in a separate thread. See the answers that use a `Runnable` or `CompletableFuture`. You can also adapt the code below to do this.\r\n 4. If you want to the process output to go to a `PrintWriter`, that may or may not be the stdout (very useful for testing), you can do the following:\r\n\r\n```\r\nstatic int execute(List&lt;String&gt; args, PrintWriter out) {\r\n    ProcessBuilder builder = new ProcessBuilder()\r\n            .command(args)\r\n            .redirectErrorStream(true);\r\n    Process process = null;\r\n    boolean complete = false;\r\n    try {\r\n        process = builder.start();\r\n        redirectOut(process.getInputStream(), out)\r\n                .orTimeout(TIMEOUT, TimeUnit.SECONDS);\r\n        complete = process.waitFor(TIMEOUT, TimeUnit.SECONDS);\r\n    } catch (IOException e) {\r\n        throw new UncheckedIOException(e);\r\n    } catch (InterruptedException e) {\r\n        LOG.warn(&quot;Thread was interrupted&quot;, e);\r\n    } finally {\r\n        if (process != null &amp;&amp; !complete) {\r\n            LOG.warn(&quot;Process {} didn&#39;t finish within {} seconds&quot;, args.get(0), TIMEOUT);\r\n            process = process.destroyForcibly();\r\n        }\r\n    }\r\n\r\n    return process != null ? process.exitValue() : 1;\r\n}\r\n\r\nprivate static CompletableFuture&lt;Void&gt; redirectOut(InputStream in, PrintWriter out) {\r\n    return CompletableFuture.runAsync(() -&gt; {\r\n        try (\r\n                InputStreamReader inputStreamReader = new InputStreamReader(in);\r\n                BufferedReader bufferedReader = new BufferedReader(inputStreamReader)\r\n        ) {\r\n            bufferedReader.lines()\r\n                    .forEach(out::println);\r\n        } catch (IOException e) {\r\n            LOG.error(&quot;Failed to redirect process output&quot;, e);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nAdvantages of the code above over the other answers thus far:\r\n\r\n1. `redirectErrorStream(true)` redirects the error stream to the output stream, so that we only have to bother with one.\r\n2. `CompletableFuture.runAsync` runs from the `ForkJoinPool`. Note that this code doesn&#39;t block by calling `get` or `join` on the `CompletableFuture` but sets a timeout instead on its completion (Java 9+). There&#39;s no need for `CompletableFuture.supplyAsync` because there&#39;s nothing really to return from the method `redirectOut`.\r\n3. `BufferedReader.lines` is simpler than using a `while` loop.\r\n ","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>It's really surprising to me that the redirection methods in <code>ProcessBuilder</code> don't accept an <code>OutputStream</code>, only <code>File</code>. Yet another proof of forced boilerplate code that Java forces you to write.</p>\n<p>That said, let's look at a list of comprehensive options:</p>\n<ol>\n<li>If you want the process output to simply be redirected to its parent's output stream, <code>inheritIO</code> will do the job.</li>\n<li>If you want the process output to go to a file, use <code>redirect*(file)</code>.</li>\n<li>If you want the process output to go to a logger, you need to consume the process <code>InputStream</code> in a separate thread. See the answers that use a <code>Runnable</code> or <code>CompletableFuture</code>. You can also adapt the code below to do this.</li>\n<li>If you want to the process output to go to a <code>PrintWriter</code>, that may or may not be the stdout (very useful for testing), you can do the following:</li>\n</ol>\n<pre><code>static int execute(List&lt;String&gt; args, PrintWriter out) {\n    ProcessBuilder builder = new ProcessBuilder()\n            .command(args)\n            .redirectErrorStream(true);\n    Process process = null;\n    boolean complete = false;\n    try {\n        process = builder.start();\n        redirectOut(process.getInputStream(), out)\n                .orTimeout(TIMEOUT, TimeUnit.SECONDS);\n        complete = process.waitFor(TIMEOUT, TimeUnit.SECONDS);\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    } catch (InterruptedException e) {\n        LOG.warn(&quot;Thread was interrupted&quot;, e);\n    } finally {\n        if (process != null &amp;&amp; !complete) {\n            LOG.warn(&quot;Process {} didn't finish within {} seconds&quot;, args.get(0), TIMEOUT);\n            process = process.destroyForcibly();\n        }\n    }\n\n    return process != null ? process.exitValue() : 1;\n}\n\nprivate static CompletableFuture&lt;Void&gt; redirectOut(InputStream in, PrintWriter out) {\n    return CompletableFuture.runAsync(() -&gt; {\n        try (\n                InputStreamReader inputStreamReader = new InputStreamReader(in);\n                BufferedReader bufferedReader = new BufferedReader(inputStreamReader)\n        ) {\n            bufferedReader.lines()\n                    .forEach(out::println);\n        } catch (IOException e) {\n            LOG.error(&quot;Failed to redirect process output&quot;, e);\n        }\n    });\n}\n</code></pre>\n<p>Advantages of the code above over the other answers thus far:</p>\n<ol>\n<li><code>redirectErrorStream(true)</code> redirects the error stream to the output stream, so that we only have to bother with one.</li>\n<li><code>CompletableFuture.runAsync</code> runs from the <code>ForkJoinPool</code>. Note that this code doesn't block by calling <code>get</code> or <code>join</code> on the <code>CompletableFuture</code> but sets a timeout instead on its completion (Java 9+). There's no need for <code>CompletableFuture.supplyAsync</code> because there's nothing really to return from the method <code>redirectOut</code>.</li>\n<li><code>BufferedReader.lines</code> is simpler than using a <code>while</code> loop.</li>\n</ol>\n"}],"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143806,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":14165567,"answer_count":12,"score":113,"last_activity_date":1694771049,"creation_date":1357335968,"question_id":14165517,"body_markdown":"I&#39;m building a process in Java using ProcessBuilder as follows:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder()\r\n            .command(&quot;somecommand&quot;, &quot;arg1&quot;, &quot;arg2&quot;)\r\n            .redirectErrorStream(true);\r\n    Process p = pb.start();\r\n\r\n    InputStream stdOut = p.getInputStream();\r\n    \r\nNow my problem is the following: I would like to capture whatever is going through stdout and/or stderr of that process and redirect it to `System.out` asynchronously. I want the process and its output redirection to run in the background.  So far, the only way I&#39;ve found to do this is to manually spawn a new thread that will continuously read from `stdOut` and then call the appropriate `write()` method of `System.out`. \r\n\r\n    new Thread(new Runnable(){\r\n        public void run(){\r\n            byte[] buffer = new byte[8192];\r\n            int len = -1;\r\n            while((len = stdOut.read(buffer)) &gt; 0){\r\n                System.out.write(buffer, 0, len);\r\n            }\r\n        }\r\n    }).start();\r\n\r\nWhile that approach kind of works, it feels a bit dirty. And on top of that, it gives me one more thread to manage and terminate correctly. Is there any better way to do this?","title":"ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread","body":"<p>I'm building a process in Java using ProcessBuilder as follows:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder()\n        .command(\"somecommand\", \"arg1\", \"arg2\")\n        .redirectErrorStream(true);\nProcess p = pb.start();\n\nInputStream stdOut = p.getInputStream();\n</code></pre>\n\n<p>Now my problem is the following: I would like to capture whatever is going through stdout and/or stderr of that process and redirect it to <code>System.out</code> asynchronously. I want the process and its output redirection to run in the background.  So far, the only way I've found to do this is to manually spawn a new thread that will continuously read from <code>stdOut</code> and then call the appropriate <code>write()</code> method of <code>System.out</code>. </p>\n\n<pre><code>new Thread(new Runnable(){\n    public void run(){\n        byte[] buffer = new byte[8192];\n        int len = -1;\n        while((len = stdOut.read(buffer)) &gt; 0){\n            System.out.write(buffer, 0, len);\n        }\n    }\n}).start();\n</code></pre>\n\n<p>While that approach kind of works, it feels a bit dirty. And on top of that, it gives me one more thread to manage and terminate correctly. Is there any better way to do this?</p>\n"},{"tags":["java","android","sharedpreferences","android-room","android-internal-storage"],"comments":[{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1694785151,"post_id":77089546,"comment_id":135940731,"body_markdown":"You are assuming the id is `1` but it&#39;s maybe not the case. In development, the first value of a list is usually `0`.\nYou can have a look at what is inside your database using the Database inspector\nhttps://developer.android.com/studio/inspect/database\n\nAlternatively you can do `dbForDatabasePiles.getDatabasePilesDAO(). getAllDatabasePiles().get(0)` to get the first entry. (You&#39;ll have to make sure the returning list is not empty otherwise the app will crash)","body":"You are assuming the id is <code>1</code> but it&#39;s maybe not the case. In development, the first value of a list is usually <code>0</code>. You can have a look at what is inside your database using the Database inspector <a href=\"https://developer.android.com/studio/inspect/database\" rel=\"nofollow noreferrer\">developer.android.com/studio/inspect/database</a>  Alternatively you can do <code>dbForDatabasePiles.getDatabasePilesDAO(). getAllDatabasePiles().get(0)</code> to get the first entry. (You&#39;ll have to make sure the returning list is not empty otherwise the app will crash)"},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1694785382,"post_id":77089546,"comment_id":135940794,"body_markdown":"FYI, Shared Preferences has never been a way to store a huge amount of data. It&#39;s more to store &quot;preferences&quot;, so small values like booleans or integers. Primary use is to store the data related to settings for your app. In the case of a game, or huge amount of data (like a user profile) a database is usually the way to go.","body":"FYI, Shared Preferences has never been a way to store a huge amount of data. It&#39;s more to store &quot;preferences&quot;, so small values like booleans or integers. Primary use is to store the data related to settings for your app. In the case of a game, or huge amount of data (like a user profile) a database is usually the way to go."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694770931,"creation_date":1694770931,"answer_id":77111319,"question_id":77089546,"body_markdown":"&gt; However, when I returned after the app was destroyed\r\n\r\nIf by destroyed, you mean that the App was effectively uninstalled then you will lose all data as the database belongs to the App. That is the database will be stored at data/data/whatever_package_is/databases.\r\n\r\nThere will be 1 or 3 files, the file as per the database name passed as the 3rd parameter of the call to `Room.databaseBuilder`\r\n\r\nThere may a file that is the same name suffixed with -wal (the **w**rite-**a**head **l**og).\r\nThere may be a file this is the same name suffixed with -shm (shared memory, a log for the wal file).\r\n\r\ne.g. (as per a working demo of you code (modified/adapted to suit (brevity and convenience))):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAll files in the respective package (in the case of the demo ***a.a.so77089546javaroomnotsavingdata***) belong to the App. If the App is uninstalled/lost/destroyed then the database along with the App go.\r\n\r\nOf course with an/the emulator where you have access you can also delete the file(s) via Device Explorer (as was used to get the screen shot) which will result in the database being lost.\r\n\r\nIf you need to protect against this scenario then matters are more complicated as you would need to either access the database from elsewhere or  have a process that can backup and restore the database from elsewhere (e.g. external storage (which isn&#39;t necessarily external)).\r\n\r\n  [1]: https://i.stack.imgur.com/lMmMT.png","title":"Replacing Shared Preferences with Room Database - but data not persisting","body":"<blockquote>\n<p>However, when I returned after the app was destroyed</p>\n</blockquote>\n<p>If by destroyed, you mean that the App was effectively uninstalled then you will lose all data as the database belongs to the App. That is the database will be stored at data/data/whatever_package_is/databases.</p>\n<p>There will be 1 or 3 files, the file as per the database name passed as the 3rd parameter of the call to <code>Room.databaseBuilder</code></p>\n<p>There may a file that is the same name suffixed with -wal (the <strong>w</strong>rite-<strong>a</strong>head <strong>l</strong>og).\nThere may be a file this is the same name suffixed with -shm (shared memory, a log for the wal file).</p>\n<p>e.g. (as per a working demo of you code (modified/adapted to suit (brevity and convenience))):-</p>\n<p><a href=\"https://i.stack.imgur.com/lMmMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMmMT.png\" alt=\"enter image description here\" /></a></p>\n<p>All files in the respective package (in the case of the demo <em><strong>a.a.so77089546javaroomnotsavingdata</strong></em>) belong to the App. If the App is uninstalled/lost/destroyed then the database along with the App go.</p>\n<p>Of course with an/the emulator where you have access you can also delete the file(s) via Device Explorer (as was used to get the screen shot) which will result in the database being lost.</p>\n<p>If you need to protect against this scenario then matters are more complicated as you would need to either access the database from elsewhere or  have a process that can backup and restore the database from elsewhere (e.g. external storage (which isn't necessarily external)).</p>\n"}],"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694770931,"creation_date":1694525013,"question_id":77089546,"body_markdown":"I&#39;m self taught so forgive me if I&#39;m missing some basic knowledge. Based on some errors I&#39;m receiving via the Google Play Console and subsequent reading, the understanding I have now is that shared preferences is no longer the best solution for saving data. So I&#39;m trying to switch to Room Database as the suggested best alternative. \r\n\r\nI updated my game and it seems to work just fine, the data saved OK when I returned from onStart. The game picked back up where I left off.\r\n\r\nHowever, when I returned after the app was destroyed none of the data from the prior game appeared to have been saved, my game started back at zero. So, it appears I&#39;m missing a step - the step where the data is actually written to the device&#39;s internal storage - and then the subsequent step to it being retrieved. \r\n\r\nI don&#39;t expect for the exact code to be provided here, I just hope to be pointed in the correct direction as to what I need to read/research to achieve this. \r\n\r\nUnfortunately my code is Java, so hopefully this is not a problem. The code is provided below: \r\n\r\n\r\n```\r\n@Entity(tableName = &quot;DatabasePiles&quot;)\r\npublic class DatabasePiles {\r\n\r\n    @PrimaryKey (autoGenerate = true)\r\n    @ColumnInfo(name = &quot;pile_id&quot;)\r\n    public int pile_id;\r\n\r\n    @ColumnInfo(name = &quot;db_pile_number&quot;)\r\n    public Integer db_pile_number;\r\n\r\n    @ColumnInfo(name = &quot;db_card_1&quot;)\r\n    public Integer db_card_1;\r\n\r\n    @ColumnInfo(name = &quot;db_card_2&quot;)\r\n    public Integer db_card_2;\r\n\r\n    /// constructor, getters, setters, etc.\r\n} \r\n\r\n```\r\n\r\nMy DAO:\r\n\r\n```\r\n@Dao\r\npublic interface DatabasePilesDAO {\r\n\r\n     @Insert\r\n    public void addDatabasePile(DatabasePiles databasePiles);\r\n\r\n    @Query(&quot;select * from databasePiles&quot;)\r\n    public List&lt;DatabasePiles&gt; getAllDatabasePiles();\r\n\r\n    @Query(&quot;select * from databasepiles where pile_id ==:pile_id&quot;)\r\n    public DatabasePiles getDataBasePile(int pile_id);\r\n}\r\n```\r\n\r\n\r\nDatabase Java Class:\r\n```\r\n@Database(entities = {DatabasePiles.class}, version = 1)\r\npublic abstract class DatabaseForDatabasePiles extends RoomDatabase {\r\n\r\n    public abstract  DatabasePilesDAO getDatabasePilesDAO();\r\n\r\n}\r\n```\r\n\r\nIn my code I have a method to **SAVE** the &quot;pile&quot; (an int[]) to Room, as such:\r\n\r\n```\r\n RoomDatabase.Callback myCallBack = new RoomDatabase.Callback() {\r\n                    @Override\r\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                        super.onCreate(db);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                        super.onOpen(db);\r\n                    }\r\n                };\r\n\r\n\r\ndbForDatabasePiles = Room.databaseBuilder(getApplicationContext(), DatabaseForDatabasePiles.class,&quot;DBForDatabasePiles&quot;).addCallback(myCallBack).build();\r\n\r\n\r\nint[] example = new int[]{1, 2, 3}\r\nint pile_id = 1\r\n\r\nDatabasePiles examplePile1 = new DatabasePiles(pile_id, example[0], example[1], example[2]}\r\n\r\ndbForDatabasePiles.getDatabasePilesDAO().addDatabasePile(examplePile1);\r\n\r\n```\r\n\r\nThis is how I retrieve the data: \r\n```\r\nDatabasePiles dbPile = dbForDatabasePiles.getDatabasePilesDAO().getDataBasePile(1);\r\n// where (1) is the pile_id\r\n```\r\n","title":"Replacing Shared Preferences with Room Database - but data not persisting","body":"<p>I'm self taught so forgive me if I'm missing some basic knowledge. Based on some errors I'm receiving via the Google Play Console and subsequent reading, the understanding I have now is that shared preferences is no longer the best solution for saving data. So I'm trying to switch to Room Database as the suggested best alternative.</p>\n<p>I updated my game and it seems to work just fine, the data saved OK when I returned from onStart. The game picked back up where I left off.</p>\n<p>However, when I returned after the app was destroyed none of the data from the prior game appeared to have been saved, my game started back at zero. So, it appears I'm missing a step - the step where the data is actually written to the device's internal storage - and then the subsequent step to it being retrieved.</p>\n<p>I don't expect for the exact code to be provided here, I just hope to be pointed in the correct direction as to what I need to read/research to achieve this.</p>\n<p>Unfortunately my code is Java, so hopefully this is not a problem. The code is provided below:</p>\n<pre><code>@Entity(tableName = &quot;DatabasePiles&quot;)\npublic class DatabasePiles {\n\n    @PrimaryKey (autoGenerate = true)\n    @ColumnInfo(name = &quot;pile_id&quot;)\n    public int pile_id;\n\n    @ColumnInfo(name = &quot;db_pile_number&quot;)\n    public Integer db_pile_number;\n\n    @ColumnInfo(name = &quot;db_card_1&quot;)\n    public Integer db_card_1;\n\n    @ColumnInfo(name = &quot;db_card_2&quot;)\n    public Integer db_card_2;\n\n    /// constructor, getters, setters, etc.\n} \n\n</code></pre>\n<p>My DAO:</p>\n<pre><code>@Dao\npublic interface DatabasePilesDAO {\n\n     @Insert\n    public void addDatabasePile(DatabasePiles databasePiles);\n\n    @Query(&quot;select * from databasePiles&quot;)\n    public List&lt;DatabasePiles&gt; getAllDatabasePiles();\n\n    @Query(&quot;select * from databasepiles where pile_id ==:pile_id&quot;)\n    public DatabasePiles getDataBasePile(int pile_id);\n}\n</code></pre>\n<p>Database Java Class:</p>\n<pre><code>@Database(entities = {DatabasePiles.class}, version = 1)\npublic abstract class DatabaseForDatabasePiles extends RoomDatabase {\n\n    public abstract  DatabasePilesDAO getDatabasePilesDAO();\n\n}\n</code></pre>\n<p>In my code I have a method to <strong>SAVE</strong> the &quot;pile&quot; (an int[]) to Room, as such:</p>\n<pre><code> RoomDatabase.Callback myCallBack = new RoomDatabase.Callback() {\n                    @Override\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                        super.onCreate(db);\n                    }\n\n                    @Override\n                    public void onOpen(@NonNull SupportSQLiteDatabase db) {\n                        super.onOpen(db);\n                    }\n                };\n\n\ndbForDatabasePiles = Room.databaseBuilder(getApplicationContext(), DatabaseForDatabasePiles.class,&quot;DBForDatabasePiles&quot;).addCallback(myCallBack).build();\n\n\nint[] example = new int[]{1, 2, 3}\nint pile_id = 1\n\nDatabasePiles examplePile1 = new DatabasePiles(pile_id, example[0], example[1], example[2]}\n\ndbForDatabasePiles.getDatabasePilesDAO().addDatabasePile(examplePile1);\n\n</code></pre>\n<p>This is how I retrieve the data:</p>\n<pre><code>DatabasePiles dbPile = dbForDatabasePiles.getDatabasePilesDAO().getDataBasePile(1);\n// where (1) is the pile_id\n</code></pre>\n"},{"tags":["java","cron"],"answers":[{"comments":[{"owner":{"account_id":129693,"reputation":13315,"user_id":2625248,"display_name":"Daniel Tabuenca"},"score":7,"creation_date":1458007026,"post_id":18962127,"comment_id":59655278,"body_markdown":"nnCron has nothing to do with Java Cron and the meaning of ? there is completely different than the meaning in Java.","body":"nnCron has nothing to do with Java Cron and the meaning of ? there is completely different than the meaning in Java."}],"tags":[],"owner":{"account_id":1883930,"reputation":159,"user_id":1703537,"display_name":"Arthur Jaouen"},"comment_count":1,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1379947065,"creation_date":1379947065,"answer_id":18962127,"question_id":11499740,"body_markdown":"I know it&#39;s an old question but for posterity, it&#39;s explained here : http://www.nncron.ru/help/EN/working/cron-format.htm#STARTTIME\r\n\r\n&gt; Both in classic and extended modes, nnCron users can use a\r\n&gt; &quot;nonstandard&quot; character &quot;?&quot; in the first four fields of cron format.\r\n&gt; It stands for time of nnCron startup, i. e. when a field is processed,\r\n&gt; startup time will be substituted for the question mark: minutes for\r\n&gt; Minute field, hour for Hour field, day of the month for Day of month\r\n&gt; field and month for Month field.\r\n&gt; \r\n&gt; For example, if you write the following:\r\n&gt; \r\n&gt; Time: ? ? * * * * the task will be executed on nnCron startup and then\r\n&gt; will be executed daily at the same time (unless the user doesn&#39;t\r\n&gt; restart nnCron, of course): question marks will be &quot;replaced&quot; by\r\n&gt; nnCron startup time. For example, if nnCron was started at 8:25,\r\n&gt; question marks will be substituted this way:\r\n&gt; \r\n&gt; Time: 25 8 * * * *","title":"Significance of question mark in Java cron","body":"<p>I know it's an old question but for posterity, it's explained here : <a href=\"http://www.nncron.ru/help/EN/working/cron-format.htm#STARTTIME\" rel=\"nofollow\">http://www.nncron.ru/help/EN/working/cron-format.htm#STARTTIME</a></p>\n\n<blockquote>\n  <p>Both in classic and extended modes, nnCron users can use a\n  \"nonstandard\" character \"?\" in the first four fields of cron format.\n  It stands for time of nnCron startup, i. e. when a field is processed,\n  startup time will be substituted for the question mark: minutes for\n  Minute field, hour for Hour field, day of the month for Day of month\n  field and month for Month field.</p>\n  \n  <p>For example, if you write the following:</p>\n  \n  <p>Time: ? ? * * * * the task will be executed on nnCron startup and then\n  will be executed daily at the same time (unless the user doesn't\n  restart nnCron, of course): question marks will be \"replaced\" by\n  nnCron startup time. For example, if nnCron was started at 8:25,\n  question marks will be substituted this way:</p>\n  \n  <p>Time: 25 8 * * * *</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5604242,"reputation":421,"user_id":4439408,"accept_rate":75,"display_name":"free斩"},"score":1,"creation_date":1530621081,"post_id":23431887,"comment_id":89292486,"body_markdown":"In Spring Boot quartz CronExpression.isValidExpression(&quot;0 * * * * *&quot;) return false, CronExpression.isValidExpression(&quot;0 * * * * *&quot;) return true, but In Spring Boot scheduling tasks  both of  @Scheduled(cron = &quot;0 * * * * *&quot;) or @Scheduled(cron = &quot;0 * * * * ?&quot;) work fine","body":"In Spring Boot quartz CronExpression.isValidExpression(&quot;0 * * * * *&quot;) return false, CronExpression.isValidExpression(&quot;0 * * * * *&quot;) return true, but In Spring Boot scheduling tasks  both of  @Scheduled(cron = &quot;0 * * * * *&quot;) or @Scheduled(cron = &quot;0 * * * * ?&quot;) work fine"}],"tags":[],"owner":{"account_id":1612392,"reputation":3450,"user_id":1490986,"accept_rate":75,"display_name":"Dan King"},"comment_count":1,"down_vote_count":0,"up_vote_count":149,"is_accepted":false,"score":149,"last_activity_date":1557824196,"creation_date":1399045074,"answer_id":23431887,"question_id":11499740,"body_markdown":"According to the [Quartz CronTrigger tutorial][1] (Quartz is used by www.cronmaker.com, referenced above), the `?` wildcard is only used in the day of month and day of week fields:\r\n\r\n&gt; ? (&quot;no specific value&quot;) - useful when you need to specify something in one of the two fields in which the character is allowed, but not the other. For example, if I want my trigger to fire on a particular day of the month (say, the 10th), but don&#39;t care what day of the week that happens to be, I would put &quot;10&quot; in the day-of-month field, and &quot;?&quot; in the day-of-week field.\r\n\r\nI guess `*` isn&#39;t appropriate here because `*` means execute on every day of the week, which contradicts the rule saying that it should only run on the 10th of the month.\r\n\r\n[1]: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html","title":"Significance of question mark in Java cron","body":"<p>According to the <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\" rel=\"noreferrer\">Quartz CronTrigger tutorial</a> (Quartz is used by www.cronmaker.com, referenced above), the <code>?</code> wildcard is only used in the day of month and day of week fields:</p>\n\n<blockquote>\n  <p>? (\"no specific value\") - useful when you need to specify something in one of the two fields in which the character is allowed, but not the other. For example, if I want my trigger to fire on a particular day of the month (say, the 10th), but don't care what day of the week that happens to be, I would put \"10\" in the day-of-month field, and \"?\" in the day-of-week field.</p>\n</blockquote>\n\n<p>I guess <code>*</code> isn't appropriate here because <code>*</code> means execute on every day of the week, which contradicts the rule saying that it should only run on the 10th of the month.</p>\n"},{"tags":[],"owner":{"account_id":27823618,"reputation":1,"user_id":21243464,"display_name":"Sandalu Thenuke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694770904,"creation_date":1694770904,"answer_id":77111315,"question_id":11499740,"body_markdown":"`?` mark means there is no specific value set for that field. So `0 0 0 ? * *` means respectively run at,\r\n1. the start of the second (00 seconds)\r\n2. the start of the minute (00 minutes)\r\n3. the start of the hours (00 hours)\r\n4. don&#39;t care about the day of the month\r\n5. every month\r\n6. every day\r\n\r\n`0 0 0 ? * *` - Fire at 12pm every day of every month at midnight (00:00:00)\r\n ","title":"Significance of question mark in Java cron","body":"<p><code>?</code> mark means there is no specific value set for that field. So <code>0 0 0 ? * *</code> means respectively run at,</p>\n<ol>\n<li>the start of the second (00 seconds)</li>\n<li>the start of the minute (00 minutes)</li>\n<li>the start of the hours (00 hours)</li>\n<li>don't care about the day of the month</li>\n<li>every month</li>\n<li>every day</li>\n</ol>\n<p><code>0 0 0 ? * *</code> - Fire at 12pm every day of every month at midnight (00:00:00)</p>\n"}],"owner":{"account_id":919023,"reputation":903,"user_id":951135,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54594,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"answer_count":3,"score":84,"last_activity_date":1694770904,"creation_date":1342423226,"question_id":11499740,"body_markdown":"Source Wikipedia:   \r\n\r\n&gt; **Question mark** (?) is used instead of &#39;*&#39; for leaving either day-of-month or day-of-week blank.\r\n\r\nThe above statement is not making much sense to me.\r\n\r\nSo if I write some cron as **`0 0 0 ? * *`** then does it mean first of every month or it means it will execute daily?\r\n\r\nIt is a bit confusing as Java crons start with seconds while other crons start with minute.","title":"Significance of question mark in Java cron","body":"<p>Source Wikipedia:   </p>\n\n<blockquote>\n  <p><strong>Question mark</strong> (?) is used instead of '*' for leaving either day-of-month or day-of-week blank.</p>\n</blockquote>\n\n<p>The above statement is not making much sense to me.</p>\n\n<p>So if I write some cron as <strong><code>0 0 0 ? * *</code></strong> then does it mean first of every month or it means it will execute daily?</p>\n\n<p>It is a bit confusing as Java crons start with seconds while other crons start with minute.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1695018082,"post_id":77111252,"comment_id":135962546,"body_markdown":"Pls post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Pls post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":29443511,"reputation":13,"user_id":22561279,"display_name":"SugarSecret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694770450,"creation_date":1694770450,"question_id":77111252,"body_markdown":"Make custom view to arrange letters and swiping between letters\r\n\r\nI&#39;m new to android and want to make something like this :\r\n[Example](https://i.stack.imgur.com/yF7im.png)\r\nDraw a circle and arrange letters in it and we can make words by swiping finger between letters.\r\nSo this is my code :\r\n\r\n```\r\npackage com.my.app;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.graphics.Rect;\r\nimport android.util.AttributeSet;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class CircleView extends View {\r\n\tprivate int circleColor;\r\n\tprivate int borderColor;\r\n\tprivate int borderWidth;\r\n\tprivate ArrayList&lt;String&gt; letters;\r\n\tprivate int letterMargin;\r\n\r\n\tprivate Paint circlePaint;\r\n\tprivate Paint borderPaint;\r\n\tprivate Paint textPaint;\r\n\r\n\tprivate float touchX;\r\n\tprivate float touchY;\r\n\tprivate Set&lt;String&gt; selectedLetters;\r\n\tprivate String currentWord;\r\n\tprivate OnWordCompleteListener onWordCompleteListener;\r\n\r\n\tpublic CircleView(Context context) {\r\n\t\tsuper(context);\r\n\t\tinit();\r\n\t}\r\n\r\n\tpublic CircleView(Context context, AttributeSet attrs) {\r\n\t\tsuper(context, attrs);\r\n\t\tinit();\r\n\t}\r\n\r\n\tprivate void init() {\r\n\t\tcircleColor = Color.BLUE;\r\n\t\tborderColor = Color.BLACK;\r\n\t\tborderWidth = 5;\r\n\t\tletters = new ArrayList&lt;&gt;();\r\n\t\tletterMargin = 10;\r\n\r\n\t\tcirclePaint = new Paint();\r\n\t\tcirclePaint.setAntiAlias(true);\r\n\r\n\t\tborderPaint = new Paint();\r\n\t\tborderPaint.setStyle(Paint.Style.STROKE);\r\n\t\tborderPaint.setStrokeWidth(borderWidth);\r\n\r\n\t\ttextPaint = new Paint();\r\n\t\ttextPaint.setColor(Color.WHITE);\r\n\t\ttextPaint.setTextSize(45);\r\n\t\ttextPaint.setTextAlign(Paint.Align.CENTER);\r\n\r\n\t\tselectedLetters = new HashSet&lt;&gt;();\r\n\t\tcurrentWord = &quot;&quot;;\r\n\t\tonWordCompleteListener = null;\r\n\t}\r\n\r\n\tpublic void setCircleColor(int color) {\r\n\t\tcircleColor = color;\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void setBorderColor(int color) {\r\n\t\tborderColor = color;\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void setBorderWidth(int width) {\r\n\t\tborderWidth = width;\r\n\t\tborderPaint.setStrokeWidth(borderWidth);\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void setLetters(ArrayList&lt;String&gt; letters) {\r\n\t\tthis.letters = letters;\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void setLetterMargin(int margin) {\r\n\t\tletterMargin = margin;\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void setOnWordCompleteListener(OnWordCompleteListener listener) {\r\n\t\tonWordCompleteListener = listener;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onDraw(Canvas canvas) {\r\n\t\tint width = getWidth();\r\n\t\tint height = getHeight();\r\n\t\tint radius = Math.min(width, height) / 2;\r\n\r\n\t\tcirclePaint.setColor(circleColor);\r\n\t\tborderPaint.setColor(borderColor);\r\n\r\n\t\tcanvas.drawCircle(width / 2, height / 2, radius, circlePaint);\r\n\t\tcanvas.drawCircle(width / 2, height / 2, radius - borderWidth / 2, borderPaint);\r\n\r\n\t\tif (letters != null &amp;&amp; !letters.isEmpty()) {\r\n\t\t\tint letterCount = letters.size();\r\n\t\t\tfloat angle = 360f / letterCount;\r\n\r\n\t\t\tfor (int i = 0; i &lt; letterCount; i++) {\r\n\t\t\t\tString letter = letters.get(i);\r\n\t\t\t\tfloat textAngle = i * angle - 90;\r\n\t\t\t\tfloat x = (float) (width / 2\r\n\t\t\t\t\t\t+ (radius - borderWidth - letterMargin) * Math.cos(Math.toRadians(textAngle)));\r\n\t\t\t\tfloat y = (float) (height / 2\r\n\t\t\t\t\t\t+ (radius - borderWidth - letterMargin) * Math.sin(Math.toRadians(textAngle)));\r\n\r\n\t\t\t\tif (selectedLetters.contains(letter)) {\r\n\t\t\t\t\ttextPaint.setColor(Color.GRAY);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttextPaint.setColor(Color.WHITE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcanvas.drawText(letter, x, y, textPaint);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onTouchEvent(MotionEvent event) {\r\n\t\tswitch (event.getAction()) {\r\n\t\tcase MotionEvent.ACTION_DOWN:\r\n\t\t\ttouchX = event.getX();\r\n\t\t\ttouchY = event.getY();\r\n\t\t\thandleTouch();\r\n\t\t\treturn true;\r\n\t\tcase MotionEvent.ACTION_MOVE:\r\n\t\t\ttouchX = event.getX();\r\n\t\t\ttouchY = event.getY();\r\n\t\t\thandleTouch();\r\n\t\t\treturn true;\r\n\t\tcase MotionEvent.ACTION_UP:\r\n\t\t\tif (onWordCompleteListener != null) {\r\n\t\t\t\tonWordCompleteListener.onWordComplete(currentWord);\r\n\t\t\t}\r\n\t\t\tclearSelection();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn super.onTouchEvent(event);\r\n\t}\r\n\r\n\tprivate void handleTouch() {\r\n\t\tint width = getWidth();\r\n\t\tint height = getHeight();\r\n\t\tint radius = Math.min(width, height) / 2;\r\n\r\n\t\tfloat centerX = width / 2;\r\n\t\tfloat centerY = height / 2;\r\n\r\n\t\tdouble angle = Math.atan2(touchY - centerY, touchX - centerX);\r\n\t\tangle = Math.toDegrees(angle) + 90;\r\n\t\tif (angle &lt; 0) {\r\n\t\t\tangle += 360;\r\n\t\t}\r\n\r\n\t\tint letterCount = letters.size();\r\n\t\tfloat letterAngle = 360f / letterCount;\r\n\r\n\t\tint selectedIndex = (int) (angle / letterAngle);\r\n\t\tif (selectedIndex &gt;= 0 &amp;&amp; selectedIndex &lt; letterCount) {\r\n\t\t\tString selectedLetter = letters.get(selectedIndex);\r\n\t\t\tif (!selectedLetters.contains(selectedLetter)) {\r\n\t\t\t\tselectedLetters.add(selectedLetter);\r\n\t\t\t\tcurrentWord += selectedLetter;\r\n\t\t\t\tinvalidate();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void clearSelection() {\r\n\t\tselectedLetters.clear();\r\n\t\tcurrentWord = &quot;&quot;;\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic interface OnWordCompleteListener {\r\n\t\tvoid onWordComplete(String word);\r\n\t}\r\n}\r\n```\r\n\r\nbut i don&#39;t know how can i draw a line following our finger and each letter.\r\nThis is output :\r\n[My sample](https://i.stack.imgur.com/4E0pZ.jpg)\r\nCan anyone help me find this?","title":"Swiping pointer - connecting word game","body":"<p>Make custom view to arrange letters and swiping between letters</p>\n<p>I'm new to android and want to make something like this :\n<a href=\"https://i.stack.imgur.com/yF7im.png\" rel=\"nofollow noreferrer\">Example</a>\nDraw a circle and arrange letters in it and we can make words by swiping finger between letters.\nSo this is my code :</p>\n<pre><code>package com.my.app;\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Rect;\nimport android.util.AttributeSet;\nimport android.view.MotionEvent;\nimport android.view.View;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class CircleView extends View {\n    private int circleColor;\n    private int borderColor;\n    private int borderWidth;\n    private ArrayList&lt;String&gt; letters;\n    private int letterMargin;\n\n    private Paint circlePaint;\n    private Paint borderPaint;\n    private Paint textPaint;\n\n    private float touchX;\n    private float touchY;\n    private Set&lt;String&gt; selectedLetters;\n    private String currentWord;\n    private OnWordCompleteListener onWordCompleteListener;\n\n    public CircleView(Context context) {\n        super(context);\n        init();\n    }\n\n    public CircleView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    private void init() {\n        circleColor = Color.BLUE;\n        borderColor = Color.BLACK;\n        borderWidth = 5;\n        letters = new ArrayList&lt;&gt;();\n        letterMargin = 10;\n\n        circlePaint = new Paint();\n        circlePaint.setAntiAlias(true);\n\n        borderPaint = new Paint();\n        borderPaint.setStyle(Paint.Style.STROKE);\n        borderPaint.setStrokeWidth(borderWidth);\n\n        textPaint = new Paint();\n        textPaint.setColor(Color.WHITE);\n        textPaint.setTextSize(45);\n        textPaint.setTextAlign(Paint.Align.CENTER);\n\n        selectedLetters = new HashSet&lt;&gt;();\n        currentWord = &quot;&quot;;\n        onWordCompleteListener = null;\n    }\n\n    public void setCircleColor(int color) {\n        circleColor = color;\n        invalidate();\n    }\n\n    public void setBorderColor(int color) {\n        borderColor = color;\n        invalidate();\n    }\n\n    public void setBorderWidth(int width) {\n        borderWidth = width;\n        borderPaint.setStrokeWidth(borderWidth);\n        invalidate();\n    }\n\n    public void setLetters(ArrayList&lt;String&gt; letters) {\n        this.letters = letters;\n        invalidate();\n    }\n\n    public void setLetterMargin(int margin) {\n        letterMargin = margin;\n        invalidate();\n    }\n\n    public void setOnWordCompleteListener(OnWordCompleteListener listener) {\n        onWordCompleteListener = listener;\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        int width = getWidth();\n        int height = getHeight();\n        int radius = Math.min(width, height) / 2;\n\n        circlePaint.setColor(circleColor);\n        borderPaint.setColor(borderColor);\n\n        canvas.drawCircle(width / 2, height / 2, radius, circlePaint);\n        canvas.drawCircle(width / 2, height / 2, radius - borderWidth / 2, borderPaint);\n\n        if (letters != null &amp;&amp; !letters.isEmpty()) {\n            int letterCount = letters.size();\n            float angle = 360f / letterCount;\n\n            for (int i = 0; i &lt; letterCount; i++) {\n                String letter = letters.get(i);\n                float textAngle = i * angle - 90;\n                float x = (float) (width / 2\n                        + (radius - borderWidth - letterMargin) * Math.cos(Math.toRadians(textAngle)));\n                float y = (float) (height / 2\n                        + (radius - borderWidth - letterMargin) * Math.sin(Math.toRadians(textAngle)));\n\n                if (selectedLetters.contains(letter)) {\n                    textPaint.setColor(Color.GRAY);\n                } else {\n                    textPaint.setColor(Color.WHITE);\n                }\n\n                canvas.drawText(letter, x, y, textPaint);\n            }\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            touchX = event.getX();\n            touchY = event.getY();\n            handleTouch();\n            return true;\n        case MotionEvent.ACTION_MOVE:\n            touchX = event.getX();\n            touchY = event.getY();\n            handleTouch();\n            return true;\n        case MotionEvent.ACTION_UP:\n            if (onWordCompleteListener != null) {\n                onWordCompleteListener.onWordComplete(currentWord);\n            }\n            clearSelection();\n            return true;\n        }\n        return super.onTouchEvent(event);\n    }\n\n    private void handleTouch() {\n        int width = getWidth();\n        int height = getHeight();\n        int radius = Math.min(width, height) / 2;\n\n        float centerX = width / 2;\n        float centerY = height / 2;\n\n        double angle = Math.atan2(touchY - centerY, touchX - centerX);\n        angle = Math.toDegrees(angle) + 90;\n        if (angle &lt; 0) {\n            angle += 360;\n        }\n\n        int letterCount = letters.size();\n        float letterAngle = 360f / letterCount;\n\n        int selectedIndex = (int) (angle / letterAngle);\n        if (selectedIndex &gt;= 0 &amp;&amp; selectedIndex &lt; letterCount) {\n            String selectedLetter = letters.get(selectedIndex);\n            if (!selectedLetters.contains(selectedLetter)) {\n                selectedLetters.add(selectedLetter);\n                currentWord += selectedLetter;\n                invalidate();\n            }\n        }\n    }\n\n    private void clearSelection() {\n        selectedLetters.clear();\n        currentWord = &quot;&quot;;\n        invalidate();\n    }\n\n    public interface OnWordCompleteListener {\n        void onWordComplete(String word);\n    }\n}\n</code></pre>\n<p>but i don't know how can i draw a line following our finger and each letter.\nThis is output :\n<a href=\"https://i.stack.imgur.com/4E0pZ.jpg\" rel=\"nofollow noreferrer\">My sample</a>\nCan anyone help me find this?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"comments":[{"owner":{"account_id":2290244,"reputation":464,"user_id":2013273,"accept_rate":20,"display_name":"Serg Derbst"},"score":0,"creation_date":1591367723,"post_id":56317358,"comment_id":110037851,"body_markdown":"Hi! I have a similar problem, and just asked a question about it today:\n\nhttps://stackoverflow.com/questions/62211613/how-to-enable-jpa-auditing-with-springboottest\n\nDid you by any chance get any new insights ever since? I&#39;m getting the feeling that there is something not quite designed well and certainly not well documented. :(","body":"Hi! I have a similar problem, and just asked a question about it today:  <a href=\"https://stackoverflow.com/questions/62211613/how-to-enable-jpa-auditing-with-springboottest\" title=\"how to enable jpa auditing with springboottest\">stackoverflow.com/questions/62211613/&hellip;</a>  Did you by any chance get any new insights ever since? I&#39;m getting the feeling that there is something not quite designed well and certainly not well documented. :("},{"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"score":0,"creation_date":1591380917,"post_id":56317358,"comment_id":110044986,"body_markdown":"Hi, as far as I rember this worked: https://github.com/bartoszsokolik/spring-data-audit/tree/master/src/test/java/pl/solutions/software/sokolik/bartosz","body":"Hi, as far as I rember this worked: <a href=\"https://github.com/bartoszsokolik/spring-data-audit/tree/master/src/test/java/pl/solutions/software/sokolik/bartosz\" rel=\"nofollow noreferrer\">github.com/bartoszsokolik/spring-data-audit/tree/master/src/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614149588,"creation_date":1614149588,"answer_id":66346002,"question_id":56317358,"body_markdown":"`@DataJpaTest` is just a shortcut for a bunch of annotations. See https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\r\n\r\nIt basically creates an ApplicationContext with only those beans regsitered that are relevant for JPA and Spring Data JPA.\r\n\r\n`@SpringBootTest` creates a complete ApplicationContext with everything that is in your application. A lot of which it finds by scanning the class path for classes annotated with `@Configuration`. \r\n\r\nTherefore it will contain more &quot;stuff&quot; and in your case two `@AuditorAware` beans.\r\nWhich some &quot;magic&quot; inside Spring tries to create a `jpaAuditingHandler` bean from. Since there are two `AuditorAware` beans we end up with two beans of same name which is not acceptable. See https://stackoverflow.com/questions/53139244/spring-boot-2-1-bean-override-vs-primary. You Probably could enable bean overriding but that is not recommended. \r\n\r\nWith `@DataJpaTest` these configurations are not found and you end up with no `AuditorAware` bean at all. By importing the right configuration you get exactly the bean you want for your test and everything is happy.\r\n\r\nWhich one is the better approach depends on how you run your tests and in the end is probably mostly a matter of taste.\r\n\r\nI prefer using `@DataJpaTest` for real systems, because it limits the effect of unrelated configurations on the database test. It might also execute slightly faster although that is probably hardly noticeable for most test suites because in most applications I work with, most of the startup time was eaten by Hibernate which is required for database tests anyway and when you run multiple test having different configurations for different tests negatively affects caching.\r\n\r\nFor small projects I prefer `@SpringBootTest` since it is less to write and makes things simpler at least in the simple cases.\r\n","title":"Test configuration for Jpa auditing","body":"<p><code>@DataJpaTest</code> is just a shortcut for a bunch of annotations. See <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html</a></p>\n<p>It basically creates an ApplicationContext with only those beans regsitered that are relevant for JPA and Spring Data JPA.</p>\n<p><code>@SpringBootTest</code> creates a complete ApplicationContext with everything that is in your application. A lot of which it finds by scanning the class path for classes annotated with <code>@Configuration</code>.</p>\n<p>Therefore it will contain more &quot;stuff&quot; and in your case two <code>@AuditorAware</code> beans.\nWhich some &quot;magic&quot; inside Spring tries to create a <code>jpaAuditingHandler</code> bean from. Since there are two <code>AuditorAware</code> beans we end up with two beans of same name which is not acceptable. See <a href=\"https://stackoverflow.com/questions/53139244/spring-boot-2-1-bean-override-vs-primary\">Spring boot 2.1 bean override vs. Primary</a>. You Probably could enable bean overriding but that is not recommended.</p>\n<p>With <code>@DataJpaTest</code> these configurations are not found and you end up with no <code>AuditorAware</code> bean at all. By importing the right configuration you get exactly the bean you want for your test and everything is happy.</p>\n<p>Which one is the better approach depends on how you run your tests and in the end is probably mostly a matter of taste.</p>\n<p>I prefer using <code>@DataJpaTest</code> for real systems, because it limits the effect of unrelated configurations on the database test. It might also execute slightly faster although that is probably hardly noticeable for most test suites because in most applications I work with, most of the startup time was eaten by Hibernate which is required for database tests anyway and when you run multiple test having different configurations for different tests negatively affects caching.</p>\n<p>For small projects I prefer <code>@SpringBootTest</code> since it is less to write and makes things simpler at least in the simple cases.</p>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630056938,"creation_date":1630056938,"answer_id":68951192,"question_id":56317358,"body_markdown":"move `@EnableJpaAuditing` on **another new** file\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    \r\n    @Configuration\r\n    @EnableJpaAuditing\r\n    public class JpaConfiguration {\r\n    }","title":"Test configuration for Jpa auditing","body":"<p>move <code>@EnableJpaAuditing</code> on <strong>another new</strong> file</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n\n@Configuration\n@EnableJpaAuditing\npublic class JpaConfiguration {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5786066,"reputation":85,"user_id":4565246,"display_name":"ab1207"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694770191,"creation_date":1694770191,"answer_id":77111216,"question_id":56317358,"body_markdown":"Try extending the `AuditorAwareImpl` and create a bean using that class.\r\nThis way you can prevent using multiple `@EnableJpaAuditing` (which won&#39;t work if you don&#39;t allow overriding bean).\r\n\r\nThe way I got it working was with the following setup:\r\n```\r\npublic class TestAuditingConfiguration {\r\n\r\n  @Bean\r\n  @Primary\r\n  AuditorAwareImpl auditorProvider() {\r\n    return new TestAuditorAware();\r\n  }\r\n\r\n  public static class TestAuditorAware extends AuditorAwareImpl {\r\n\r\n    @Override\r\n    public Optional&lt;String&gt; getCurrentAuditor() {\r\n      return Optional.of(&quot;test&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd use it in your Spring test class with: `@Import(TestAuditingConfiguration.class)`\r\n\r\n","title":"Test configuration for Jpa auditing","body":"<p>Try extending the <code>AuditorAwareImpl</code> and create a bean using that class.\nThis way you can prevent using multiple <code>@EnableJpaAuditing</code> (which won't work if you don't allow overriding bean).</p>\n<p>The way I got it working was with the following setup:</p>\n<pre><code>public class TestAuditingConfiguration {\n\n  @Bean\n  @Primary\n  AuditorAwareImpl auditorProvider() {\n    return new TestAuditorAware();\n  }\n\n  public static class TestAuditorAware extends AuditorAwareImpl {\n\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n      return Optional.of(&quot;test&quot;);\n    }\n  }\n}\n</code></pre>\n<p>And use it in your Spring test class with: <code>@Import(TestAuditingConfiguration.class)</code></p>\n"}],"owner":{"account_id":9710158,"reputation":541,"user_id":7202347,"accept_rate":29,"display_name":"ketrab321"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9187,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1694770191,"creation_date":1558904688,"question_id":56317358,"body_markdown":"I am trying to use Spring Data, Hibernate Envers and auditing in Spring Boot application. I have configured AuditorAwareImpl\r\n\r\n    public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\r\n    \r\n        @Override\r\n        public Optional&lt;String&gt; getCurrentAuditor() {\r\n            return Optional.of(&quot;Default auditor&quot;);\r\n        }\r\n    }\r\n\r\nand configuration class for it.\r\n\r\n    @Configuration\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)\r\n    public class AuditingConfiguration {\r\n    \r\n        @Bean\r\n        public AuditorAware&lt;String&gt; auditorProvider() {\r\n            return new AuditorAwareImpl();\r\n        }\r\n    }\r\n\r\nNow I would like to create AuditorAware for my Integration tests. I have created new configuration class with test auditor\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;testAuditorProvider&quot;)\r\n    public class TestAuditingConfiguration {\r\n    \r\n        @Bean\r\n        @Primary\r\n        public AuditorAware&lt;String&gt; testAuditorProvider() {\r\n            return () -&gt; Optional.of(&quot;Test auditor&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nAnd when I try to write my integration test like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class AuditingApplicationTests {\r\n    \r\n        @Autowired\r\n        private AuditorAware&lt;String&gt; auditorAware;\r\n    \r\n        @Autowired\r\n        private MovieRepository movieRepository;\r\n    \r\n    \t@Test\r\n    \tpublic void testCurrentAuditor() {\r\n            String currentAuditor = auditorAware.getCurrentAuditor().get();\r\n            assertEquals(&quot;Test auditor&quot;, currentAuditor);\r\n    \t}\r\n    \r\n        @Test\r\n        public void movieRepositoryTest() {\r\n            Movie movie = new Movie(&quot;Movie&quot;);\r\n            movieRepository.save(movie);\r\n    \r\n            List&lt;Movie&gt; movies = movieRepository.findAll();\r\n            Movie result = movies.get(0);\r\n            assertEquals(&quot;Test auditor&quot;, result.getCreatedBy());\r\n        }\r\n    }\r\nI am getting this error:\r\n\r\n    Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;jpaAuditingHandler&#39; defined in null: Cannot register bean definition [Root bean: class [org.springframework.data.auditing.AuditingHandler]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean &#39;jpaAuditingHandler&#39;: There is already [Root bean: class [org.springframework.data.auditing.AuditingHandler]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.\r\n\r\nWhen I remove `@EnableJpaAuditing` from `TestAuditingConfiguration` it works fine with one exception - autowired `auditorAware` in test is one from `TestAuditingConfiguration` but on the other hand for auditing is used from `AuditingConfiguration` so `result.getCreatedBy()` will return `Default auditor` instead of `Test auditor`. I read that for database integration tests should be used `@DataJpaTest` annotation so I have changed it. Now with enabled `@EnableJpaAuditing` on `TestAuditingConfiguration` I received:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException:  Unsatisfied dependency expressed through field &#39;auditorAware&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.data.domain.AuditorAware&lt;java.lang.String&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate\r\n\r\nBut after adding `@Import(TestAuditingConfiguration.class)` it works as I excpected - `result.getCreatedBy()` returns `Test auditor`. So finally my test class looks like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @Import(TestAuditingConfiguration.class)\r\n    public class AuditingApplicationTests {\r\n    \r\n        @Autowired\r\n        private AuditorAware&lt;String&gt; auditorAware;\r\n    \r\n        @Autowired\r\n        private MovieRepository movieRepository;\r\n    \r\n    \t@Test\r\n    \tpublic void testCurrentAuditor() {\r\n            String currentAuditor = auditorAware.getCurrentAuditor().get();\r\n            assertEquals(&quot;Test auditor&quot;, currentAuditor);\r\n    \t}\r\n    \r\n        @Test\r\n        public void movieRepositoryTest() {\r\n            Movie movie = new Movie(&quot;Movie&quot;);\r\n            movieRepository.save(movie);\r\n    \r\n            List&lt;Movie&gt; movies = movieRepository.findAll();\r\n            Movie result = movies.get(0);\r\n            assertEquals(&quot;Test auditor&quot;, result.getCreatedBy());\r\n        }\r\n    \r\n    }\r\n\r\nNow I am really confused how beans are used in specific profiles and how `@SpringBootTest` and `@DataJpaTest` works. And why `@Import` was important for `@DataJpaTest`? Can anyone explain me that and what is preferred approach for database testing?","title":"Test configuration for Jpa auditing","body":"<p>I am trying to use Spring Data, Hibernate Envers and auditing in Spring Boot application. I have configured AuditorAwareImpl</p>\n\n<pre><code>public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\n\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        return Optional.of(\"Default auditor\");\n    }\n}\n</code></pre>\n\n<p>and configuration class for it.</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing(auditorAwareRef = \"auditorProvider\")\npublic class AuditingConfiguration {\n\n    @Bean\n    public AuditorAware&lt;String&gt; auditorProvider() {\n        return new AuditorAwareImpl();\n    }\n}\n</code></pre>\n\n<p>Now I would like to create AuditorAware for my Integration tests. I have created new configuration class with test auditor</p>\n\n<pre><code>@Configuration\n@Profile(\"test\")\n@EnableJpaAuditing(auditorAwareRef = \"testAuditorProvider\")\npublic class TestAuditingConfiguration {\n\n    @Bean\n    @Primary\n    public AuditorAware&lt;String&gt; testAuditorProvider() {\n        return () -&gt; Optional.of(\"Test auditor\");\n    }\n\n}\n</code></pre>\n\n<p>And when I try to write my integration test like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(\"test\")\npublic class AuditingApplicationTests {\n\n    @Autowired\n    private AuditorAware&lt;String&gt; auditorAware;\n\n    @Autowired\n    private MovieRepository movieRepository;\n\n    @Test\n    public void testCurrentAuditor() {\n        String currentAuditor = auditorAware.getCurrentAuditor().get();\n        assertEquals(\"Test auditor\", currentAuditor);\n    }\n\n    @Test\n    public void movieRepositoryTest() {\n        Movie movie = new Movie(\"Movie\");\n        movieRepository.save(movie);\n\n        List&lt;Movie&gt; movies = movieRepository.findAll();\n        Movie result = movies.get(0);\n        assertEquals(\"Test auditor\", result.getCreatedBy());\n    }\n}\n</code></pre>\n\n<p>I am getting this error:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'jpaAuditingHandler' defined in null: Cannot register bean definition [Root bean: class [org.springframework.data.auditing.AuditingHandler]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean 'jpaAuditingHandler': There is already [Root bean: class [org.springframework.data.auditing.AuditingHandler]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.\n</code></pre>\n\n<p>When I remove <code>@EnableJpaAuditing</code> from <code>TestAuditingConfiguration</code> it works fine with one exception - autowired <code>auditorAware</code> in test is one from <code>TestAuditingConfiguration</code> but on the other hand for auditing is used from <code>AuditingConfiguration</code> so <code>result.getCreatedBy()</code> will return <code>Default auditor</code> instead of <code>Test auditor</code>. I read that for database integration tests should be used <code>@DataJpaTest</code> annotation so I have changed it. Now with enabled <code>@EnableJpaAuditing</code> on <code>TestAuditingConfiguration</code> I received:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException:  Unsatisfied dependency expressed through field 'auditorAware'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.domain.AuditorAware&lt;java.lang.String&gt;' available: expected at least 1 bean which qualifies as autowire candidate\n</code></pre>\n\n<p>But after adding <code>@Import(TestAuditingConfiguration.class)</code> it works as I excpected - <code>result.getCreatedBy()</code> returns <code>Test auditor</code>. So finally my test class looks like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ActiveProfiles(\"test\")\n@Import(TestAuditingConfiguration.class)\npublic class AuditingApplicationTests {\n\n    @Autowired\n    private AuditorAware&lt;String&gt; auditorAware;\n\n    @Autowired\n    private MovieRepository movieRepository;\n\n    @Test\n    public void testCurrentAuditor() {\n        String currentAuditor = auditorAware.getCurrentAuditor().get();\n        assertEquals(\"Test auditor\", currentAuditor);\n    }\n\n    @Test\n    public void movieRepositoryTest() {\n        Movie movie = new Movie(\"Movie\");\n        movieRepository.save(movie);\n\n        List&lt;Movie&gt; movies = movieRepository.findAll();\n        Movie result = movies.get(0);\n        assertEquals(\"Test auditor\", result.getCreatedBy());\n    }\n\n}\n</code></pre>\n\n<p>Now I am really confused how beans are used in specific profiles and how <code>@SpringBootTest</code> and <code>@DataJpaTest</code> works. And why <code>@Import</code> was important for <code>@DataJpaTest</code>? Can anyone explain me that and what is preferred approach for database testing?</p>\n"},{"tags":["java","deployment","jboss","wildfly","wildfly-8"],"answers":[{"tags":[],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434024983,"creation_date":1431859411,"answer_id":30286012,"question_id":29433138,"body_markdown":"**Update**: It seems that modules that are part of a user dependency can not be excluded.\r\n\r\n----------\r\n\r\nIt seems like the mechanism doesn&#39;t work as described in the [Wildfly documentation][1]. I was not able to exclude that module.\r\n\r\n\r\n  [1]: https://docs.jboss.org/author/display/WFLY8/Class+Loading+in+WildFly","title":"Module not excluded on Wildfly","body":"<p><strong>Update</strong>: It seems that modules that are part of a user dependency can not be excluded.</p>\n\n<hr>\n\n<p>It seems like the mechanism doesn't work as described in the <a href=\"https://docs.jboss.org/author/display/WFLY8/Class+Loading+in+WildFly\" rel=\"nofollow\">Wildfly documentation</a>. I was not able to exclude that module.</p>\n"},{"comments":[{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":0,"creation_date":1497128541,"post_id":38085191,"comment_id":75951231,"body_markdown":"you also need to exclude other modules that depend on jackson2 (such as org.jboss.resteasy.resteasy-jackson2-provider) See:[Wildfly 9  How do I exclude Jackson](https://stackoverflow.com/questions/37060294)","body":"you also need to exclude other modules that depend on jackson2 (such as org.jboss.resteasy.resteasy-jackson2-provider) See:<a href=\"https://stackoverflow.com/questions/37060294\">Wildfly 9  How do I exclude Jackson</a>"}],"tags":[],"owner":{"account_id":5245545,"reputation":41,"user_id":4191385,"display_name":"Zorg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467143727,"creation_date":1467143727,"answer_id":38085191,"question_id":29433138,"body_markdown":"Yep. I was trying to upgrade to Spring Framework to v4.3. It has upped some minimum dependency requirements. One such example is Jackson min version required is 2.6+\r\n\r\nWildfly loads jackson that comes packaged (v2.4.1 in Wildfly 8.2.1), and it won&#39;t be excluded using jboss-deployment-structure.xml.\r\nI was trying to see if the upgrade did not involve making changes to the installed server which takes this upgrade out of source control.","title":"Module not excluded on Wildfly","body":"<p>Yep. I was trying to upgrade to Spring Framework to v4.3. It has upped some minimum dependency requirements. One such example is Jackson min version required is 2.6+</p>\n\n<p>Wildfly loads jackson that comes packaged (v2.4.1 in Wildfly 8.2.1), and it won't be excluded using jboss-deployment-structure.xml.\nI was trying to see if the upgrade did not involve making changes to the installed server which takes this upgrade out of source control.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30286012,"answer_count":2,"score":2,"last_activity_date":1694769824,"creation_date":1428067720,"question_id":29433138,"body_markdown":"We want to exclude the `modules\\system\\layers\\base\\javax\\servlet\\jstl\\api\\main\\jboss-jstl-api_1.2_spec-1.1.2.Final.jar` from our web application deployment (WAR file).\r\n\r\nHence we have the following configuration in `src\\main\\webapp\\WEB-INF\\jboss-deployment-structure.xml`:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;javax.servlet.jstl.api&quot;/&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;deployment.my-dependencies.jar&quot;/&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nIn the Wildfly log I see that `my-dependencies.jar` is added as a `ModuleDependency`. But when searching for `javax.servlet.jstl.api` I only see this:\r\n\r\n&gt; 2015-04-03 15:22:11,971 DEBUG [org.jboss.modules] (ServerService\r\n&gt; Thread Pool -- 12) Module javax.servlet.jstl.api:main defined by local\r\n&gt; module loader @1f7c9157 (finder: local module finder @2b29f6e7 (roots:\r\n&gt; C:\\Users\\me\\Documents\\wildfly-8.2.0.Final\\modules,C:\\Users\\me\\Documents\\wildfly-8.2.0.Final\\modules\\system\\layers\\base))\r\n\r\nWhy isn&#39;t the module excluded?","title":"Module not excluded on Wildfly","body":"<p>We want to exclude the <code>modules\\system\\layers\\base\\javax\\servlet\\jstl\\api\\main\\jboss-jstl-api_1.2_spec-1.1.2.Final.jar</code> from our web application deployment (WAR file).</p>\n\n<p>Hence we have the following configuration in <code>src\\main\\webapp\\WEB-INF\\jboss-deployment-structure.xml</code>:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\"&gt;\n    &lt;deployment&gt;\n        &lt;exclusions&gt;\n            &lt;module name=\"javax.servlet.jstl.api\"/&gt;\n        &lt;/exclusions&gt;\n        &lt;dependencies&gt;\n            &lt;module name=\"deployment.my-dependencies.jar\"/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>In the Wildfly log I see that <code>my-dependencies.jar</code> is added as a <code>ModuleDependency</code>. But when searching for <code>javax.servlet.jstl.api</code> I only see this:</p>\n\n<blockquote>\n  <p>2015-04-03 15:22:11,971 DEBUG [org.jboss.modules] (ServerService\n  Thread Pool -- 12) Module javax.servlet.jstl.api:main defined by local\n  module loader @1f7c9157 (finder: local module finder @2b29f6e7 (roots:\n  C:\\Users\\me\\Documents\\wildfly-8.2.0.Final\\modules,C:\\Users\\me\\Documents\\wildfly-8.2.0.Final\\modules\\system\\layers\\base))</p>\n</blockquote>\n\n<p>Why isn't the module excluded?</p>\n"},{"tags":["java","spring-boot","email","jakarta-mail"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693301421,"post_id":76998803,"comment_id":135739352,"body_markdown":"What is the host of the mail server and does it have a proper cert?","body":"What is the host of the mail server and does it have a proper cert?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693302159,"post_id":76998803,"comment_id":135739471,"body_markdown":"It has a Let&#39;s encrypt certificate. The host is a Linux server.","body":"It has a Let&#39;s encrypt certificate. The host is a Linux server."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693302347,"post_id":76998803,"comment_id":135739511,"body_markdown":"So are you running your own mail server and if so, how did you install the certificate on it?","body":"So are you running your own mail server and if so, how did you install the certificate on it?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693383350,"post_id":76998803,"comment_id":135751854,"body_markdown":"The server uses Plesk which has a Let&#39;s encrypt plugin.","body":"The server uses Plesk which has a Let&#39;s encrypt plugin."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693385388,"post_id":76998803,"comment_id":135752296,"body_markdown":"Could be that the setup is interfering with the proper resolution of the host. I&#39;d suggest running with `-Djavax.net.debug=ssl`. That&#39;s from memory so check that if there&#39;s no effect","body":"Could be that the setup is interfering with the proper resolution of the host. I&#39;d suggest running with <code>-Djavax.net.debug=ssl</code>. That&#39;s from memory so check that if there&#39;s no effect"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693393336,"post_id":76998803,"comment_id":135754038,"body_markdown":"@g00se I&#39;ve added the output of debug ssl","body":"@g00se I&#39;ve added the output of debug ssl"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693393639,"post_id":76998803,"comment_id":135754090,"body_markdown":"You&#39;ve added the *partial* output by the looks","body":"You&#39;ve added the <i>partial</i> output by the looks"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693396320,"post_id":76998803,"comment_id":135754638,"body_markdown":"That&#39;s all I see. After this, I see the exception that&#39;s in the question in the beginning","body":"That&#39;s all I see. After this, I see the exception that&#39;s in the question in the beginning"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693396532,"post_id":76998803,"comment_id":135754687,"body_markdown":"There should be a lot more. Run it at the command line, ending with `&gt;ssl.log 2&gt;&amp;1` and post that file formatted as code","body":"There should be a lot more. Run it at the command line, ending with <code>&gt;ssl.log 2&gt;&amp;1</code> and post that file formatted as code"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1693411077,"post_id":76998803,"comment_id":135758182,"body_markdown":"Nope. Only these lines","body":"Nope. Only these lines"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693411359,"post_id":76998803,"comment_id":135758250,"body_markdown":"Can you connect and send mail properly with ssl with a regular mail client connecting to that server?","body":"Can you connect and send mail properly with ssl with a regular mail client connecting to that server?"}],"answers":[{"tags":[],"owner":{"account_id":2382080,"reputation":448,"user_id":2083900,"display_name":"Adrian Lange"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694769627,"creation_date":1694769627,"answer_id":77111157,"question_id":76998803,"body_markdown":"It seems like the default value for `mail.smtp.ssl.checkserveridentity` has changed from `false` to `true` with Spring Boot 3.1. Setting it back fixed the problem for me. But this should not be the long-term solution.\r\n\r\nSo in your case this should do the trick:\r\n```\r\nspring.mail.properties.mail.smtp.ssl.checkserveridentity=false\r\n```\r\n\r\nSee https://stackoverflow.com/a/77022083/2083900.","title":"Jakarta Mail: Can&#39;t verify identity of server","body":"<p>It seems like the default value for <code>mail.smtp.ssl.checkserveridentity</code> has changed from <code>false</code> to <code>true</code> with Spring Boot 3.1. Setting it back fixed the problem for me. But this should not be the long-term solution.</p>\n<p>So in your case this should do the trick:</p>\n<pre><code>spring.mail.properties.mail.smtp.ssl.checkserveridentity=false\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/77022083/2083900\">https://stackoverflow.com/a/77022083/2083900</a>.</p>\n"}],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77111157,"answer_count":1,"score":1,"last_activity_date":1694769627,"creation_date":1693299976,"question_id":76998803,"body_markdown":"I&#39;m trying to send e-mails in a Spring Boot application and get this exception\r\n\r\n    org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: jakarta.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjava.io.IOException: Can&#39;t verify identity of server: example.com; message exceptions (1) are:\r\n    Failed message 1: jakarta.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n    \tjava.io.IOException: Can&#39;t verify identity of server: \r\n\r\nI already tried several answers from SO and my configuration looks like this:\r\n\r\n    spring.mail.host=example.com\r\n    spring.mail.port=587\r\n    spring.mail.username=noreply@example.com\r\n    spring.mail.password=7Wdz@o75\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.ssl.trust=example.com\r\n    spring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2\r\n\r\nAny help is appreciated.\r\n\r\nWhen I run it with `-Djavax.net.debug=ssl` I see:\r\n\r\n    javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.614 CEST|null:-1|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.778 CEST|null:-1|duplex close of SSLSocket\r\n    javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.779 CEST|null:-1|close the underlying socket\r\n    javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.779 CEST|null:-1|close the SSL connection (initiative)\r\n    javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.780 CEST|null:-1|close inbound of SSLSocket\r\n    javax.net.ssl|WARNING|91|http-nio-8081-exec-4|2023-08-30 11:47:15.783 CEST|null:-1|SSLSocket duplex close failed. Debug info only. Exception details: (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Socket is closed\r\n      \tat java.base/java.net.Socket.shutdownInput(Unknown Source)\r\n      \tat java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(Unknown Source)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(Unknown Source)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(Unknown Source)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(Unknown Source)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.close(Unknown Source)\r\n      \tat com.sun.mail.util.SocketFetcher.checkServerIdentity(SocketFetcher.java:698)\r\n      \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:636)\r\n      \tat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:555)\r\n      \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2184)\r\n      \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:766)\r\n      \tat jakarta.mail.Service.connect(Service.java:342)\r\n      \tat org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)","title":"Jakarta Mail: Can&#39;t verify identity of server","body":"<p>I'm trying to send e-mails in a Spring Boot application and get this exception</p>\n<pre><code>org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: jakarta.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    java.io.IOException: Can't verify identity of server: example.com; message exceptions (1) are:\nFailed message 1: jakarta.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n    java.io.IOException: Can't verify identity of server: \n</code></pre>\n<p>I already tried several answers from SO and my configuration looks like this:</p>\n<pre><code>spring.mail.host=example.com\nspring.mail.port=587\nspring.mail.username=noreply@example.com\nspring.mail.password=7Wdz@o75\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.trust=example.com\nspring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2\n</code></pre>\n<p>Any help is appreciated.</p>\n<p>When I run it with <code>-Djavax.net.debug=ssl</code> I see:</p>\n<pre><code>javax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.614 CEST|null:-1|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.778 CEST|null:-1|duplex close of SSLSocket\njavax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.779 CEST|null:-1|close the underlying socket\njavax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.779 CEST|null:-1|close the SSL connection (initiative)\njavax.net.ssl|DEBUG|91|http-nio-8081-exec-4|2023-08-30 11:47:15.780 CEST|null:-1|close inbound of SSLSocket\njavax.net.ssl|WARNING|91|http-nio-8081-exec-4|2023-08-30 11:47:15.783 CEST|null:-1|SSLSocket duplex close failed. Debug info only. Exception details: (\n&quot;throwable&quot; : {\n  java.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.shutdownInput(Unknown Source)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.shutdownInput(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.shutdownInput(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.bruteForceCloseInput(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.duplexCloseOutput(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.close(Unknown Source)\n    at com.sun.mail.util.SocketFetcher.checkServerIdentity(SocketFetcher.java:698)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:636)\n    at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:555)\n    at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2184)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:766)\n    at jakarta.mail.Service.connect(Service.java:342)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\n</code></pre>\n"},{"tags":["java","telegram-bot"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672040444,"post_id":74915221,"comment_id":132210631,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74915221/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27283427,"reputation":1,"user_id":20860101,"display_name":"Xojiakbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671993289,"creation_date":1671993289,"answer_id":74915221,"question_id":73548870,"body_markdown":"===========================\r\n```\r\nif(update.hasMessage() &amp;&amp; update.getMessage().hasContact()){\r\n            SendMessage sendMessage = new SendMessage();\r\n            Long chatId = update.getMessage().getChatId(); // chatId is the unique for everyone\r\n            String firstName = update.getMessage().getContact().getFirstName();\r\n            String lastName = update.getMessage().getContact().getLastName();\r\n            String phoneNumber = update.getMessage().getContact().getPhoneNumber();\r\n\r\n            sendMessage.setText(&quot;Is this your phone number?&quot;+ phoneNumber);// setText() filling is mandatory\r\n            sendMessage.setChatId(chatId);// setChatId() filling is mandatory\r\n            try {\r\n                execute(sendMessage);\r\n            } catch (TelegramApiException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n```","title":"Telegram Bot / Java / Contact","body":"<p>===========================</p>\n<pre><code>if(update.hasMessage() &amp;&amp; update.getMessage().hasContact()){\n            SendMessage sendMessage = new SendMessage();\n            Long chatId = update.getMessage().getChatId(); // chatId is the unique for everyone\n            String firstName = update.getMessage().getContact().getFirstName();\n            String lastName = update.getMessage().getContact().getLastName();\n            String phoneNumber = update.getMessage().getContact().getPhoneNumber();\n\n            sendMessage.setText(&quot;Is this your phone number?&quot;+ phoneNumber);// setText() filling is mandatory\n            sendMessage.setChatId(chatId);// setChatId() filling is mandatory\n            try {\n                execute(sendMessage);\n            } catch (TelegramApiException e) {\n                throw new RuntimeException(e);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27326728,"reputation":21,"user_id":20839581,"display_name":"Azimjon Nazarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694769574,"creation_date":1694769574,"answer_id":77111151,"question_id":73548870,"body_markdown":"**1. Send contact button**\r\n\r\n        KeyboardButton contactButton = new KeyboardButton(&quot;Send contact&quot;);\r\n        contactButton.setRequestContact(true);\r\n\r\n        KeyboardRow row = new KeyboardRow();\r\n        row.add(contactButton);\r\n\r\n        List&lt;KeyboardRow&gt; keyboard = new ArrayList&lt;&gt;();\r\n        keyboard.add(row);\r\n\r\n        ReplyKeyboardMarkup markup = new ReplyKeyboardMarkup();\r\n        markup.setKeyboard(keyboard);\r\n        markup.setResizeKeyboard(true);\r\n\r\n        SendMessage sendMessage = new SendMessage();\r\n        sendMessage.setChatId(chatId);\r\n        sendMessage.setText(&quot;Click &#39;Send contact&#39; button!&quot;);\r\n        sendMessage.setReplyMarkup(markup);\r\n        \r\n        execute(sendMessage);    \r\n\r\n**2. Handle contact**\r\n   \r\n       if(update.getMessage().hasContact){\r\n         //code\r\n       }","title":"Telegram Bot / Java / Contact","body":"<p><strong>1. Send contact button</strong></p>\n<pre><code>    KeyboardButton contactButton = new KeyboardButton(&quot;Send contact&quot;);\n    contactButton.setRequestContact(true);\n\n    KeyboardRow row = new KeyboardRow();\n    row.add(contactButton);\n\n    List&lt;KeyboardRow&gt; keyboard = new ArrayList&lt;&gt;();\n    keyboard.add(row);\n\n    ReplyKeyboardMarkup markup = new ReplyKeyboardMarkup();\n    markup.setKeyboard(keyboard);\n    markup.setResizeKeyboard(true);\n\n    SendMessage sendMessage = new SendMessage();\n    sendMessage.setChatId(chatId);\n    sendMessage.setText(&quot;Click 'Send contact' button!&quot;);\n    sendMessage.setReplyMarkup(markup);\n    \n    execute(sendMessage);    \n</code></pre>\n<p><strong>2. Handle contact</strong></p>\n<pre><code>   if(update.getMessage().hasContact){\n     //code\n   }\n</code></pre>\n"}],"owner":{"account_id":20932974,"reputation":13,"user_id":17605980,"display_name":"Сергій Ялинка"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694769574,"creation_date":1661896907,"question_id":73548870,"body_markdown":"Please, help me :)\r\n\r\nI want, that user send to Telegram bot his Contanct Info, and after that - Bot take it Contact and ask to user: &quot;Is this your phone number?&quot;\r\nI can`t find and create method to decide this issue...\r\n\r\nThank you! Very much!\r\n\r\n    if(update.getMessage().getText().equals(&quot;SendContact&quot;){\r\n    //Here user send contact when pressed button\r\n    }\r\n    // I`ve tried\r\n    if(update.getMessage().hasContact){\r\n    //recend contact to user\r\n    }\r\n    //and without if()\r\n    String phoneNum = update.getMessage().getContact().getPhoneNumber();\r\n    execute(phoneNum);\r\n\r\nAnd how can I get this Contact and recend it to him?","title":"Telegram Bot / Java / Contact","body":"<p>Please, help me :)</p>\n<p>I want, that user send to Telegram bot his Contanct Info, and after that - Bot take it Contact and ask to user: &quot;Is this your phone number?&quot;\nI can`t find and create method to decide this issue...</p>\n<p>Thank you! Very much!</p>\n<pre><code>if(update.getMessage().getText().equals(&quot;SendContact&quot;){\n//Here user send contact when pressed button\n}\n// I`ve tried\nif(update.getMessage().hasContact){\n//recend contact to user\n}\n//and without if()\nString phoneNum = update.getMessage().getContact().getPhoneNumber();\nexecute(phoneNum);\n</code></pre>\n<p>And how can I get this Contact and recend it to him?</p>\n"},{"tags":["java","exception"],"answers":[{"comments":[{"owner":{"account_id":795641,"reputation":331,"user_id":915993,"display_name":"mark"},"score":0,"creation_date":1314522395,"post_id":7219970,"comment_id":8677957,"body_markdown":"Thats what I figured. I thought there might be some trick with a finally block though.","body":"Thats what I figured. I thought there might be some trick with a finally block though."},{"owner":{"account_id":482530,"reputation":797,"user_id":896984,"accept_rate":92,"display_name":"Karel-Jan Misseghers"},"score":0,"creation_date":1314522870,"post_id":7219970,"comment_id":8678016,"body_markdown":"once an Exception is thrown your program stops running so imho it&#39;s impossible to do both. I do wonder if you have a return statement in your &#39;try&#39; block, does the program still passes the &#39;final&#39; block, because if you&#39;d return a value in the try block and put a throws Exception in the Final block you would&#39;ve done both..","body":"once an Exception is thrown your program stops running so imho it&#39;s impossible to do both. I do wonder if you have a return statement in your &#39;try&#39; block, does the program still passes the &#39;final&#39; block, because if you&#39;d return a value in the try block and put a throws Exception in the Final block you would&#39;ve done both.."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":2,"creation_date":1314525493,"post_id":7219970,"comment_id":8678342,"body_markdown":"@Karel-Jan Misseghers: no, in Java your program does **DEFINITELY NOT** stop running once an exception is thrown.  You&#39;re confused as to how Java exceptions do work and obviously haven&#39;t done any multi-threaded Java programming yet.  You can have a lot of threads happily keep working when an unchecked exception happens in another thread.  There are a lot of cases where the dying thread is automagically restarted (the most famous one being Swing&#39;s EDT on some OS / JVMs: if the EDT dies, a new EDT is restarted).","body":"@Karel-Jan Misseghers: no, in Java your program does <b>DEFINITELY NOT</b> stop running once an exception is thrown.  You&#39;re confused as to how Java exceptions do work and obviously haven&#39;t done any multi-threaded Java programming yet.  You can have a lot of threads happily keep working when an unchecked exception happens in another thread.  There are a lot of cases where the dying thread is automagically restarted (the most famous one being Swing&#39;s EDT on some OS / JVMs: if the EDT dies, a new EDT is restarted)."},{"owner":{"account_id":482530,"reputation":797,"user_id":896984,"accept_rate":92,"display_name":"Karel-Jan Misseghers"},"score":2,"creation_date":1314532339,"post_id":7219970,"comment_id":8679236,"body_markdown":"ahaa, multithreaded, I&#39;ll just be quiet now (I have seen the theory of multithreaded programming in Java but haven&#39;t used it Yet)\n\nsorry for the confusing!","body":"ahaa, multithreaded, I&#39;ll just be quiet now (I have seen the theory of multithreaded programming in Java but haven&#39;t used it Yet)  sorry for the confusing!"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1314533228,"post_id":7219970,"comment_id":8679353,"body_markdown":"@Karel-Jan: If you have a return in a try-block, it still will execute the finally block (and then return, if the finally-block does not throw an exception). If you have a return in a finally-block, it will suppress the exception (if any) and instead return. (See [chapter 14 of the JLS](http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.17).)","body":"@Karel-Jan: If you have a return in a try-block, it still will execute the finally block (and then return, if the finally-block does not throw an exception). If you have a return in a finally-block, it will suppress the exception (if any) and instead return. (See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.17\" rel=\"nofollow noreferrer\">chapter 14 of the JLS</a>.)"}],"tags":[],"owner":{"account_id":851,"reputation":1,"user_id":1114,"accept_rate":69,"display_name":"Jeremy"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1314532630,"creation_date":1314522235,"answer_id":7219970,"question_id":7219963,"body_markdown":"It&#39;s not possible to both throw an exception and return a value from a single function call. \r\n\r\nPerhaps it does something like returning `false` if there&#39;s an error, but throwing an exception if the input is invalid.\r\n\r\nedit: [PaulPRO](https://stackoverflow.com/users/772035/paulpro) posted a (now-deleted) answer pointing out that it is *technically* possible to cause an exception to be thrown in a different thread, while returning a value in the current one. I thought this was worth noting, even if it&#39;s not something you should ever see.","title":"Return a value AND throw an exception?","body":"<p>It's not possible to both throw an exception and return a value from a single function call. </p>\n\n<p>Perhaps it does something like returning <code>false</code> if there's an error, but throwing an exception if the input is invalid.</p>\n\n<p>edit: <a href=\"https://stackoverflow.com/users/772035/paulpro\">PaulPRO</a> posted a (now-deleted) answer pointing out that it is <em>technically</em> possible to cause an exception to be thrown in a different thread, while returning a value in the current one. I thought this was worth noting, even if it's not something you should ever see.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1314534290,"creation_date":1314534290,"answer_id":7220952,"question_id":7219963,"body_markdown":"You can throw an exception that *has* a (in this case boolean) value:\r\n\r\n    public class ValueException extends Exception {\r\n        final boolean value;\r\n\r\n        public ValueException(boolean value, String message) {\r\n            super(message);\r\n            this.value = value;\r\n        }\r\n\r\n        public boolean getValue() {\r\n            return value;   \r\n        }\r\n    }\r\n","title":"Return a value AND throw an exception?","body":"<p>You can throw an exception that <em>has</em> a (in this case boolean) value:</p>\n\n<pre><code>public class ValueException extends Exception {\n    final boolean value;\n\n    public ValueException(boolean value, String message) {\n        super(message);\n        this.value = value;\n    }\n\n    public boolean getValue() {\n        return value;   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432255,"reputation":558,"user_id":1354422,"accept_rate":0,"display_name":"HesNotTheStig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404221565,"creation_date":1404221565,"answer_id":24511618,"question_id":7219963,"body_markdown":"While it is possible to write your code in such a way that an exception AND a value can be derived from a function call (see the above posts), it should NEVER be done in proper coding. \r\n\r\nI would love to a see a link to the documentation on this API. API&#39;s should place a priority on clarity. Throwing an exception and returning a value leaves the question of whether the value that was returned is safe to use or if it is invalid.\r\n\r\nRemember, try/catch blocks are the OTHER method of handling exceptions. They don&#39;t pass the exception to the calling method, but handle it internally in a way that the developer deems appropriate.\r\n\r\nIf, for debugging purposes, you need to see the resulting value in the case of an exception, then Bohemian&#39;s idea works well.","title":"Return a value AND throw an exception?","body":"<p>While it is possible to write your code in such a way that an exception AND a value can be derived from a function call (see the above posts), it should NEVER be done in proper coding. </p>\n\n<p>I would love to a see a link to the documentation on this API. API's should place a priority on clarity. Throwing an exception and returning a value leaves the question of whether the value that was returned is safe to use or if it is invalid.</p>\n\n<p>Remember, try/catch blocks are the OTHER method of handling exceptions. They don't pass the exception to the calling method, but handle it internally in a way that the developer deems appropriate.</p>\n\n<p>If, for debugging purposes, you need to see the resulting value in the case of an exception, then Bohemian's idea works well.</p>\n"},{"tags":[],"owner":{"account_id":12602330,"reputation":43,"user_id":15313684,"display_name":"BenGee23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674723167,"creation_date":1674723167,"answer_id":75243923,"question_id":7219963,"body_markdown":"Although this question is old, I found a library that does so. It is to note that this uncommon and might be misleading to add values to the error object. \r\nThis library wraps that behavior under the hood so you don&#39;t need to do it yourself and cause confusion for others working on your code:\r\nhttps://github.com/bacloud23/eager_return_js\r\n\r\nIt is in JavaScript but the same implementation can be done in Java.","title":"Return a value AND throw an exception?","body":"<p>Although this question is old, I found a library that does so. It is to note that this uncommon and might be misleading to add values to the error object.\nThis library wraps that behavior under the hood so you don't need to do it yourself and cause confusion for others working on your code:\n<a href=\"https://github.com/bacloud23/eager_return_js\" rel=\"nofollow noreferrer\">https://github.com/bacloud23/eager_return_js</a></p>\n<p>It is in JavaScript but the same implementation can be done in Java.</p>\n"},{"tags":[],"owner":{"account_id":23890004,"reputation":1,"user_id":17889783,"display_name":"Emmaline261"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694768880,"creation_date":1694768851,"answer_id":77111071,"question_id":7219963,"body_markdown":"Actually, you could throw an exception AND return a value (well, maybe not return but assign a value to a class variable) if you use try/catch/finally block.\r\n\r\npublic class ExceptionThrowingClass {\r\n    public String valueToBeAssigned;\r\n    \r\n    public void throwingExceptionMethod() throws Exception {\r\n        try {\r\n            //blah blah some code\r\n            throw new Exception(&quot;this is the first exception&quot;);\r\n        } catch (Exception ex){\r\n             //rethrow the exception\r\n            throw new Exception(&quot;this is the second exception&quot;, ex.getCause());\r\n        } finally {\r\n            valueToBeAssigned = &quot;lets assign a value to a variable&quot;;\r\n        }\r\n    }\r\n}\r\n\r\nHowever, it is not exactly a clean (or pretty) code so I&#39;d avoid such solutions and just tried working with the exception itself (we have them to use them and not to misuse them).","title":"Return a value AND throw an exception?","body":"<p>Actually, you could throw an exception AND return a value (well, maybe not return but assign a value to a class variable) if you use try/catch/finally block.</p>\n<p>public class ExceptionThrowingClass {\npublic String valueToBeAssigned;</p>\n<pre><code>public void throwingExceptionMethod() throws Exception {\n    try {\n        //blah blah some code\n        throw new Exception(&quot;this is the first exception&quot;);\n    } catch (Exception ex){\n         //rethrow the exception\n        throw new Exception(&quot;this is the second exception&quot;, ex.getCause());\n    } finally {\n        valueToBeAssigned = &quot;lets assign a value to a variable&quot;;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>However, it is not exactly a clean (or pretty) code so I'd avoid such solutions and just tried working with the exception itself (we have them to use them and not to misuse them).</p>\n"}],"owner":{"account_id":795641,"reputation":331,"user_id":915993,"display_name":"mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56108,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":7219970,"answer_count":5,"score":30,"last_activity_date":1694768880,"creation_date":1314522165,"question_id":7219963,"body_markdown":"I&#39;m working with an API that claims to return true if it succeeds, and false if it fails. But, it also claims to throw different exceptions if it fails. How can it return false and throw an exception?","title":"Return a value AND throw an exception?","body":"<p>I'm working with an API that claims to return true if it succeeds, and false if it fails. But, it also claims to throw different exceptions if it fails. How can it return false and throw an exception?</p>\n"},{"tags":["java","loops","while-loop","nested-loops","jcreator"],"answers":[{"tags":[],"owner":{"account_id":1901123,"reputation":864,"user_id":1716980,"accept_rate":71,"display_name":"fsulser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480513798,"creation_date":1480513798,"answer_id":40890105,"question_id":40890013,"body_markdown":"you have to reset j like this:\r\n\r\n   \t\r\n\tpublic class test {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint rows = 5, i = 1, j = 1;\r\n\t\r\n\t\t\twhile (i &lt;= rows) {\r\n\t\t\t\twhile (j &lt;= i) {\r\n\t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t\t\tj++;\r\n\t\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\t\ti++;\r\n\t\t\t\tj = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Using nested while loop to print pyramid of stars","body":"<p>you have to reset j like this:</p>\n\n<pre><code>public class test {\n    public static void main(String[] args) {\n        int rows = 5, i = 1, j = 1;\n\n        while (i &lt;= rows) {\n            while (j &lt;= i) {\n                System.out.print(\"*\");\n                j++;\n\n            }\n            System.out.print(\"\\n\");\n            i++;\n            j = 1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4939368,"reputation":141,"user_id":4620951,"accept_rate":40,"display_name":"Shahnur Isgandarli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480513861,"creation_date":1480513861,"answer_id":40890123,"question_id":40890013,"body_markdown":"You have forgotten to assign 1 to j at the end of the outer while loop.\r\n\r\n\r\n    public class WhileNest {\r\n    \r\n        public static void main(String[] args) {\r\n            int rows = 5, i = 1, j = 1;\r\n    \r\n            while (i &lt;= rows) {\r\n                while (j &lt;= i) {\r\n                    System.out.print(&quot;*&quot;);\r\n                    j++;\r\n                }\r\n                System.out.print(&quot;\\n&quot;);\r\n                i++;\r\n                j = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Using nested while loop to print pyramid of stars","body":"<p>You have forgotten to assign 1 to j at the end of the outer while loop.</p>\n\n<pre><code>public class WhileNest {\n\n    public static void main(String[] args) {\n        int rows = 5, i = 1, j = 1;\n\n        while (i &lt;= rows) {\n            while (j &lt;= i) {\n                System.out.print(\"*\");\n                j++;\n            }\n            System.out.print(\"\\n\");\n            i++;\n            j = 1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5764570,"reputation":31,"user_id":4549901,"display_name":"Suraj Sangani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660693293,"creation_date":1504097290,"answer_id":45960888,"question_id":40890013,"body_markdown":"    public static void main(String[] args) {\r\n\t\t\r\n\t\tfor(int i=0;i&lt;10;i++){\r\n\t\t\tfor(int k=0;k&lt;i;k++){\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n","title":"Using nested while loop to print pyramid of stars","body":"<pre><code>public static void main(String[] args) {\n    \n    for(int i=0;i&lt;10;i++){\n        for(int k=0;k&lt;i;k++){\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10900834,"reputation":56,"user_id":8013131,"display_name":"Neeraj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660693219,"creation_date":1519200818,"answer_id":48900931,"question_id":40890013,"body_markdown":"Pyramid using two for loops:\r\n\r\n    String STAR = &quot;*&quot;;\r\n\t\tString SPACE = &quot; &quot;;\r\n\t\tint SIZE = 10;\r\n\t\tfor(int i=0;i&lt;SIZE;i++) {\r\n\t\t\tint start = SIZE-i;\r\n\t\t\tint end = (SIZE*2) - SIZE + i;\r\n\t\t\tfor(int j = 0; j&lt;SIZE*2; j++) {\r\n\t\t\t\tif(j&gt;=start &amp;&amp; j&lt;=end &amp;&amp; j%2 == i%2) {\r\n\t\t\t\t\tSystem.out.print(STAR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(SPACE);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t    }\r\n\r\noutput:\r\n```\r\n          *         \r\n         * *        \r\n        * * *       \r\n       * * * *      \r\n      * * * * *     \r\n     * * * * * *    \r\n    * * * * * * *   \r\n   * * * * * * * *  \r\n  * * * * * * * * * \r\n * * * * * * * * * *\r\n```","title":"Using nested while loop to print pyramid of stars","body":"<p>Pyramid using two for loops:</p>\n<pre><code>String STAR = &quot;*&quot;;\n    String SPACE = &quot; &quot;;\n    int SIZE = 10;\n    for(int i=0;i&lt;SIZE;i++) {\n        int start = SIZE-i;\n        int end = (SIZE*2) - SIZE + i;\n        for(int j = 0; j&lt;SIZE*2; j++) {\n            if(j&gt;=start &amp;&amp; j&lt;=end &amp;&amp; j%2 == i%2) {\n                System.out.print(STAR);\n            } else {\n                System.out.print(SPACE);\n            }\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>          *         \n         * *        \n        * * *       \n       * * * *      \n      * * * * *     \n     * * * * * *    \n    * * * * * * *   \n   * * * * * * * *  \n  * * * * * * * * * \n * * * * * * * * * *\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7541814,"reputation":1,"user_id":5726145,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660693329,"creation_date":1541269095,"answer_id":53134219,"question_id":40890013,"body_markdown":"*Instead of initializing &quot;j&quot; at the beginning, include it in the first while loop that&#39;ll do the work.( * will be printed at the beginning of each row)\r\n\r\n\r\n\tpublic class WhileNest\r\n\t{\r\n\t    public static void main(String[]args)\r\n\t    {\r\n\t        int rows = 5, i = 1;\r\n\r\n\t        while(i &lt;= rows)\r\n\t        {\r\n\t        \tint j = 1;\r\n\t            while(j &lt;= i)\r\n\t            {\r\n\t                System.out.print(&quot;*&quot;);\r\n\t                j++;\r\n\t            }\r\n\t            System.out.print(&quot;\\n&quot;);\r\n\t            i++;\r\n\r\n\t        }\r\n\t    }\r\n\t}","title":"Using nested while loop to print pyramid of stars","body":"<p>*Instead of initializing &quot;j&quot; at the beginning, include it in the first while loop that'll do the work.( * will be printed at the beginning of each row)</p>\n<pre><code>public class WhileNest\n{\n    public static void main(String[]args)\n    {\n        int rows = 5, i = 1;\n\n        while(i &lt;= rows)\n        {\n            int j = 1;\n            while(j &lt;= i)\n            {\n                System.out.print(&quot;*&quot;);\n                j++;\n            }\n            System.out.print(&quot;\\n&quot;);\n            i++;\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640705224,"creation_date":1640705224,"answer_id":70509118,"question_id":40890013,"body_markdown":"    int rows = 5, i = 1, j = 1;\r\n\r\n        while(i &lt;= rows)\r\n        {\r\n            while(j &lt;= i)\r\n            {\r\n                System.out.print(&quot;*&quot;);\r\n                j++;\r\n            }\r\n            j=1;\r\n            System.out.println();\r\n            i++;\r\n        }\r\n\r\nYou are not reassigning `j` to start from beginning. Your `i` and `j` were always staying same. Re-initialize `j` to 1 after the inner while loop as shown. It will work ","title":"Using nested while loop to print pyramid of stars","body":"<pre><code>int rows = 5, i = 1, j = 1;\n\n    while(i &lt;= rows)\n    {\n        while(j &lt;= i)\n        {\n            System.out.print(&quot;*&quot;);\n            j++;\n        }\n        j=1;\n        System.out.println();\n        i++;\n    }\n</code></pre>\n<p>You are not reassigning <code>j</code> to start from beginning. Your <code>i</code> and <code>j</code> were always staying same. Re-initialize <code>j</code> to 1 after the inner while loop as shown. It will work</p>\n"}],"owner":{"account_id":9474774,"reputation":19,"user_id":7044494,"display_name":"Mario Rudaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1694768770,"creation_date":1480513512,"question_id":40890013,"body_markdown":"I&#39;m trying to print a pyramid of stars using nested while loops. I know I am able to achieve this using for loops but I want to do it with while loop instead. This is my code so far: \r\n\r\n    public class WhileNest\r\n    {\r\n    \tpublic static void main(String[]args)\r\n    \t{\r\n    \t\tint rows = 5, i = 1, j = 1;\r\n    \t    \r\n    \t\twhile(i &lt;= rows)\r\n    \t\t{\r\n    \t\t\twhile(j &lt;= i)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(&quot;*&quot;);\r\n    \t\t\t\tj++;\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.print(&quot;\\n&quot;);\r\n    \t\t\ti++;\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe output has to be like this: \r\n\r\n    *\r\n    **\r\n    ***\r\n    ****\r\n    *****\r\n\r\nBut my output is this:\r\n\r\n    *\r\n    *\r\n    *\r\n    *\r\n    *\r\n\r\nAny help is appreciated, thanks. ","title":"Using nested while loop to print pyramid of stars","body":"<p>I'm trying to print a pyramid of stars using nested while loops. I know I am able to achieve this using for loops but I want to do it with while loop instead. This is my code so far: </p>\n\n<pre><code>public class WhileNest\n{\n    public static void main(String[]args)\n    {\n        int rows = 5, i = 1, j = 1;\n\n        while(i &lt;= rows)\n        {\n            while(j &lt;= i)\n            {\n                System.out.print(\"*\");\n                j++;\n\n            }\n            System.out.print(\"\\n\");\n            i++;\n\n        }\n    }\n}\n</code></pre>\n\n<p>The output has to be like this: </p>\n\n<pre><code>*\n**\n***\n****\n*****\n</code></pre>\n\n<p>But my output is this:</p>\n\n<pre><code>*\n*\n*\n*\n*\n</code></pre>\n\n<p>Any help is appreciated, thanks. </p>\n"},{"tags":["java","clob","timesten"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694768783,"post_id":77111009,"comment_id":135937592,"body_markdown":"[*But while creating CLOB object , I&#39;m getting errors.*](https://technojeeves.com/index.php/aliasjava1/17-errors)\nAlso, not *clob.setAsciiStream* but `clob.setBinaryStream`. Serialization produces binary data. &#39;RecordField&#39; will have to be `Serializable`","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\"><i>But while creating CLOB object , I&#39;m getting errors.</i></a> Also, not <i>clob.setAsciiStream</i> but <code>clob.setBinaryStream</code>. Serialization produces binary data. &#39;RecordField&#39; will have to be <code>Serializable</code>"},{"owner":{"account_id":29449764,"reputation":3,"user_id":22566448,"display_name":"Sunny Jangid"},"score":0,"creation_date":1694772654,"post_id":77111009,"comment_id":135938352,"body_markdown":"Thanks for help. Along with &quot;setBinaryStream&quot; I have added below line which solved my problem.\nBlob blob = DBManager.getConnection().createBlob();","body":"Thanks for help. Along with &quot;setBinaryStream&quot; I have added below line which solved my problem. Blob blob = DBManager.getConnection().createBlob();"}],"owner":{"account_id":29449764,"reputation":3,"user_id":22566448,"display_name":"Sunny Jangid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694768340,"creation_date":1694768340,"question_id":77111009,"body_markdown":"I have string and listArray which I want to store into Oracle Timesten table in columnType Clob.\r\nSo First I&#39;m tring to convert String and list into Clob object.\r\nBut while creating CLOB object , I&#39;m getting errors. \r\n\r\nPlease suggest.\r\n\r\n```\r\n**Create Clob Object**\r\n//Create RecordObject ro and then write into Clob object . Copy method used to get field list.\r\npublic RecordObject convertToRecordObject(EventRecord er) throws SQLException, IOException {\r\n    Clob clob = null;\r\n    RecordObject ro = new RecordObject(er.getOriginalFilename().toString(), new ArrayList&lt;RecordField&gt;());\r\n    copy(er, ro.getFieldsList());\r\n    ObjectOutputStream out = new ObjectOutputStream(clob.setAsciiStream(0));\r\n    out.writeObject(ro);\r\n    logger.info(&quot;Record Object :: &quot; + ro.getFieldsList());\r\n    return ro;\r\n    }\r\n\r\n\r\n**Store Clob Object to DB**\r\n\r\n//Connected to Timesten DB , Prepared Statement and then \r\n\r\npsmt.setString(1, key);\r\npsmt.setClob(1, key);\r\npsmt.executeUpdate();\r\n\r\n\r\n**RecordObject.java**\r\n//Record Object having string and no. of fields in list\r\npublic class RecordObject implements Serializable {\r\n    private String file_name;\r\n    private List&lt;RecordField&gt; fieldsList;\r\n    public RecordObject(String file_name, List&lt;RecordField&gt; fieldsList) {\r\n        this.file_name = file_name;\r\n        this.fieldsList = fieldsList;\r\n    }\r\n    RecordObject() {}\r\n    public List&lt;RecordField&gt; getFieldsList() {\r\n        return fieldsList;\r\n    }\r\n\r\n    public void setFieldsList(List&lt;RecordField&gt; fieldsList) {\r\n        this.fieldsList = fieldsList;\r\n    }\r\n    public String getFile_name() {\r\n        return file_name;\r\n    }\r\n\r\n    public void setFile_name(String file_name) {\r\n        this.file_name = file_name;\r\n    }\r\n}```","title":"Create Clob object from string and list and store into oracle timesten database","body":"<p>I have string and listArray which I want to store into Oracle Timesten table in columnType Clob.\nSo First I'm tring to convert String and list into Clob object.\nBut while creating CLOB object , I'm getting errors.</p>\n<p>Please suggest.</p>\n<pre><code>**Create Clob Object**\n//Create RecordObject ro and then write into Clob object . Copy method used to get field list.\npublic RecordObject convertToRecordObject(EventRecord er) throws SQLException, IOException {\n    Clob clob = null;\n    RecordObject ro = new RecordObject(er.getOriginalFilename().toString(), new ArrayList&lt;RecordField&gt;());\n    copy(er, ro.getFieldsList());\n    ObjectOutputStream out = new ObjectOutputStream(clob.setAsciiStream(0));\n    out.writeObject(ro);\n    logger.info(&quot;Record Object :: &quot; + ro.getFieldsList());\n    return ro;\n    }\n\n\n**Store Clob Object to DB**\n\n//Connected to Timesten DB , Prepared Statement and then \n\npsmt.setString(1, key);\npsmt.setClob(1, key);\npsmt.executeUpdate();\n\n\n**RecordObject.java**\n//Record Object having string and no. of fields in list\npublic class RecordObject implements Serializable {\n    private String file_name;\n    private List&lt;RecordField&gt; fieldsList;\n    public RecordObject(String file_name, List&lt;RecordField&gt; fieldsList) {\n        this.file_name = file_name;\n        this.fieldsList = fieldsList;\n    }\n    RecordObject() {}\n    public List&lt;RecordField&gt; getFieldsList() {\n        return fieldsList;\n    }\n\n    public void setFieldsList(List&lt;RecordField&gt; fieldsList) {\n        this.fieldsList = fieldsList;\n    }\n    public String getFile_name() {\n        return file_name;\n    }\n\n    public void setFile_name(String file_name) {\n        this.file_name = file_name;\n    }\n}```\n</code></pre>\n"},{"tags":["java","integer","reverse","long-integer"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1652507113,"post_id":72237644,"comment_id":127627673,"body_markdown":"Because when `rev` is an `int` it literally cannot be greater than `Integer.MAX_VALUE`. The other condition is also impossible. Because it is an `int`. That&#39;s like asking for one value greater than the greatest possible value. Or one value less than the least possible value. With a `long` it is possible to have a value greater than the greatest possible `int` value. Or less than the least possible `int` value. `long` is 64-bits.","body":"Because when <code>rev</code> is an <code>int</code> it literally cannot be greater than <code>Integer.MAX_VALUE</code>. The other condition is also impossible. Because it is an <code>int</code>. That&#39;s like asking for one value greater than the greatest possible value. Or one value less than the least possible value. With a <code>long</code> it is possible to have a value greater than the greatest possible <code>int</code> value. Or less than the least possible <code>int</code> value. <code>long</code> is 64-bits."}],"answers":[{"tags":[],"owner":{"account_id":21890154,"reputation":1433,"user_id":16177247,"display_name":"TheFungusAmongUs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652509201,"creation_date":1652507816,"answer_id":72237713,"question_id":72237644,"body_markdown":"In the first code block, `rev` is an integer. Thus, it is impossible for it to be *greater* than `Integer.MAX_VALUE` - the maximum value for an integer. \r\n\r\nWith a `long`, it is possible to have a value greater than the greatest possible `int` value. A Java `int` is a signed 32-bit value. A Java `long` is a signed 64-bit value.","title":"LeetCode 7: Reverse Integer | why does it work with a long but not with an int?","body":"<p>In the first code block, <code>rev</code> is an integer. Thus, it is impossible for it to be <em>greater</em> than <code>Integer.MAX_VALUE</code> - the maximum value for an integer.</p>\n<p>With a <code>long</code>, it is possible to have a value greater than the greatest possible <code>int</code> value. A Java <code>int</code> is a signed 32-bit value. A Java <code>long</code> is a signed 64-bit value.</p>\n"},{"tags":[],"owner":{"account_id":3444577,"reputation":1625,"user_id":2885695,"display_name":"Krushna Chulet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659124068,"creation_date":1659124068,"answer_id":73170357,"question_id":72237644,"body_markdown":"For me this works...\r\n\r\n    class Solution {\r\n        public int reverse(int x) {\r\n            int mod = 0, rev = 0;\r\n                while(x!=0){\r\n                    if(rev &lt; Integer.MIN_VALUE/10 || rev &gt; Integer.MAX_VALUE/10){\r\n                    return 0;\r\n                    }\r\n                mod = x%10;\r\n                x = x/10;\r\n                rev = rev*10 + mod;\r\n                }\r\n                return rev;\r\n        }\r\n    }\r\n\r\n","title":"LeetCode 7: Reverse Integer | why does it work with a long but not with an int?","body":"<p>For me this works...</p>\n<pre><code>class Solution {\n    public int reverse(int x) {\n        int mod = 0, rev = 0;\n            while(x!=0){\n                if(rev &lt; Integer.MIN_VALUE/10 || rev &gt; Integer.MAX_VALUE/10){\n                return 0;\n                }\n            mod = x%10;\n            x = x/10;\n            rev = rev*10 + mod;\n            }\n            return rev;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694766628,"creation_date":1694766628,"answer_id":77110812,"question_id":72237644,"body_markdown":"    class Solution:\r\n      def reverse(self, x: int) -&gt; int:\r\n        check_num = str(x)\r\n        flag = 0\r\n        if(check_num[0] == &#39;-&#39;):\r\n            check_num = check_num[1:]\r\n            flag = 1\r\n\r\n        #print(check_num)\r\n\r\n        #reverse\r\n        time = len(check_num)\r\n        storage = [0] * time \r\n        for i in range(len(check_num)):\r\n            num = len(check_num)-i-1\r\n            storage[i] = check_num[num]\r\n            #print(storage[i])\r\n\r\n        if(flag == 1):\r\n            storage.insert(0, &#39;-&#39;)\r\n\r\n        #turn to string\r\n        oneLinerString=&quot;&quot;\r\n        for x in storage:\r\n            oneLinerString += x\r\n\r\n        ans = int(oneLinerString)  # removes leading zeros in the reversed string\r\n\r\n        if not -2**31 &lt;= ans &lt;= 2**31 - 1:\r\n            return 0\r\n\r\n        return ans\r\nTry this code Using Python 3 format at Leetcode you will passed..","title":"LeetCode 7: Reverse Integer | why does it work with a long but not with an int?","body":"<pre><code>class Solution:\n  def reverse(self, x: int) -&gt; int:\n    check_num = str(x)\n    flag = 0\n    if(check_num[0] == '-'):\n        check_num = check_num[1:]\n        flag = 1\n\n    #print(check_num)\n\n    #reverse\n    time = len(check_num)\n    storage = [0] * time \n    for i in range(len(check_num)):\n        num = len(check_num)-i-1\n        storage[i] = check_num[num]\n        #print(storage[i])\n\n    if(flag == 1):\n        storage.insert(0, '-')\n\n    #turn to string\n    oneLinerString=&quot;&quot;\n    for x in storage:\n        oneLinerString += x\n\n    ans = int(oneLinerString)  # removes leading zeros in the reversed string\n\n    if not -2**31 &lt;= ans &lt;= 2**31 - 1:\n        return 0\n\n    return ans\n</code></pre>\n<p>Try this code Using Python 3 format at Leetcode you will passed..</p>\n"},{"tags":[],"owner":{"account_id":11663630,"reputation":11,"user_id":8541039,"display_name":"王大拿"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694767675,"creation_date":1694767675,"answer_id":77110945,"question_id":72237644,"body_markdown":"In Java, the int data type is a 32-bit signed integer, which means it can hold values from -2,147,483,648 to 2,147,483,647. If rev exceeds this range, it will overflow and wrap around to the minimum value, which is -2,147,483,648. Therefore, the condition rev &gt; Integer.MAX_VALUE will never be true.","title":"LeetCode 7: Reverse Integer | why does it work with a long but not with an int?","body":"<p>In Java, the int data type is a 32-bit signed integer, which means it can hold values from -2,147,483,648 to 2,147,483,647. If rev exceeds this range, it will overflow and wrap around to the minimum value, which is -2,147,483,648. Therefore, the condition rev &gt; Integer.MAX_VALUE will never be true.</p>\n"}],"owner":{"account_id":23357217,"reputation":9,"user_id":17430025,"display_name":"reek1729"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1694767675,"creation_date":1652506889,"question_id":72237644,"body_markdown":"I was trying to solve [this][1] problem on LeetCode where you have to reverse an integer using a function. The constraint is that if the reversed number goes outside the signed 32-bit integer range, i.e. (-2^31) to (2^31 - 1) then you return 0. When I use an integer for the reversed variable like this\r\n\r\n```\r\nclass Solution { \r\n        public int reverse(int x) {\r\n            int rev = 0;\r\n            while (x != 0) {\r\n                rev = rev * 10 + x % 10;\r\n                x /= 10;\r\n            }\r\n\r\n            if((rev &gt; Integer.MAX_VALUE) || (rev &lt; Integer.MIN_VALUE))\r\n                return 0;\r\n\r\n            return rev;\r\n        }\r\n}\r\n```\r\nIntelliJ IDEA shows that the\r\n```\r\nCondition &#39;rev &gt; Integer.MAX_VALUE&#39; is always &#39;false&#39;\r\n````\r\nHowever, when I use a long instead of int, the problem is resolved and the program works as you would expect.\r\n\r\n```\r\nclass Solution {\r\n        public int reverse(int x) {\r\n            long rev = 0;\r\n            while (x != 0) {\r\n                rev = rev * 10 + x % 10;\r\n                x /= 10;\r\n            }\r\n\r\n            if((rev &gt; Integer.MAX_VALUE) || (rev &lt; Integer.MIN_VALUE))\r\n                return 0;\r\n\r\n            return (int)rev;\r\n        }\r\n}\r\n```\r\nI was wondering why is that the case?\r\n\r\n  [1]: https://leetcode.com/problems/reverse-integer/","title":"LeetCode 7: Reverse Integer | why does it work with a long but not with an int?","body":"<p>I was trying to solve <a href=\"https://leetcode.com/problems/reverse-integer/\" rel=\"nofollow noreferrer\">this</a> problem on LeetCode where you have to reverse an integer using a function. The constraint is that if the reversed number goes outside the signed 32-bit integer range, i.e. (-2^31) to (2^31 - 1) then you return 0. When I use an integer for the reversed variable like this</p>\n<pre><code>class Solution { \n        public int reverse(int x) {\n            int rev = 0;\n            while (x != 0) {\n                rev = rev * 10 + x % 10;\n                x /= 10;\n            }\n\n            if((rev &gt; Integer.MAX_VALUE) || (rev &lt; Integer.MIN_VALUE))\n                return 0;\n\n            return rev;\n        }\n}\n</code></pre>\n<p>IntelliJ IDEA shows that the</p>\n<pre><code>Condition 'rev &gt; Integer.MAX_VALUE' is always 'false'\n</code></pre>\n<p>However, when I use a long instead of int, the problem is resolved and the program works as you would expect.</p>\n<pre><code>class Solution {\n        public int reverse(int x) {\n            long rev = 0;\n            while (x != 0) {\n                rev = rev * 10 + x % 10;\n                x /= 10;\n            }\n\n            if((rev &gt; Integer.MAX_VALUE) || (rev &lt; Integer.MIN_VALUE))\n                return 0;\n\n            return (int)rev;\n        }\n}\n</code></pre>\n<p>I was wondering why is that the case?</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpasyncclient"],"comments":[{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1694701874,"post_id":77091657,"comment_id":135928666,"body_markdown":"You are mixing up an an async transport with a blocking entity implementation. You need to build an async multipart entity producer or use the classic (blocking) transport.","body":"You are mixing up an an async transport with a blocking entity implementation. You need to build an async multipart entity producer or use the classic (blocking) transport."}],"answers":[{"tags":[],"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694767616,"creation_date":1694767616,"answer_id":77110937,"question_id":77091657,"body_markdown":"After some trial and error i ended up switching to the `CloseableHttpClient` with `RequestBuilder` and `HttpUriRequest` instead of `HttpPost` to execute the request in a blocking way on a thread.&lt;br&gt;\r\n```\r\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\r\nmultipartEntityBuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\nFileBody fileContentBody = new FileBody(file, ContentType.DEFAULT_BINARY, file.getName());\r\nmultipartEntityBuilder.addPart(&quot;file&quot;, fileContentBody);\r\n\r\nmultipartEntityBuilder.addTextBody(&quot;filename&quot;, &quot;File number one&quot;);\r\nHttpEntity multipartEntity = multipartEntityBuilder.build();\r\n\r\n\r\nHttpClientContext context = new HttpClientContext();\r\nRequestBuilder requestBuilder = RequestBuilder.post(&quot;Myurl.com&quot;);\r\nrequestBuilder.setEntity(multiPartEntity);\r\nHttpUriRequest multipartRequest = requestBuilder.build();\r\n\r\nHttpResponse response = httpClient.execute(multipartRequest, context);\r\n```","title":"Java-Apache BufferedHttpEntity loads whole file when sending the request","body":"<p>After some trial and error i ended up switching to the <code>CloseableHttpClient</code> with <code>RequestBuilder</code> and <code>HttpUriRequest</code> instead of <code>HttpPost</code> to execute the request in a blocking way on a thread.<br></p>\n<pre><code>MultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\nmultipartEntityBuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\nFileBody fileContentBody = new FileBody(file, ContentType.DEFAULT_BINARY, file.getName());\nmultipartEntityBuilder.addPart(&quot;file&quot;, fileContentBody);\n\nmultipartEntityBuilder.addTextBody(&quot;filename&quot;, &quot;File number one&quot;);\nHttpEntity multipartEntity = multipartEntityBuilder.build();\n\n\nHttpClientContext context = new HttpClientContext();\nRequestBuilder requestBuilder = RequestBuilder.post(&quot;Myurl.com&quot;);\nrequestBuilder.setEntity(multiPartEntity);\nHttpUriRequest multipartRequest = requestBuilder.build();\n\nHttpResponse response = httpClient.execute(multipartRequest, context);\n</code></pre>\n"}],"owner":{"account_id":8603521,"reputation":117,"user_id":6444293,"display_name":"Alessandro Valentino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77110937,"answer_count":1,"score":1,"last_activity_date":1694767616,"creation_date":1694541970,"question_id":77091657,"body_markdown":"I want to make a Multipart request to my server from java using the apache `CloseableHttpAsyncClient`, this is what i currently have:\r\n```\r\nFile file = new File(&quot;pathname&quot;);\r\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\r\nmultipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\r\nmultipartEntityBuilder.addTextBody(&quot;filename&quot;, &quot;File one&quot;);\r\nHttpEntity multipartEntity = multipartEntityBuilder.build();\r\nBufferedHttpEntity buffEntity = new BufferedHttpEntity(multipartEntity);\r\n```\r\n\r\nBut when uploading a large file it throws a `java.lang.OutOfMemoryError` and i see it occupy all my machine memory ( Process goes from 100Mb memory to 3000+Mb ).&lt;br&gt;\r\nI have also tried to replace \r\n```\r\nmultipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\r\n```\r\nwith\r\n```\r\nmultipartEntityBuilder.addBinaryBody(&quot;file&quot;, file);\r\n```\r\nBut this has limited content length and gives the error &quot;Content length is too long&quot;.&lt;br&gt;\r\nSo how do I upload a large file (50gb+) using apache `CloseableHttpAsyncClient`?\r\n\r\n**EDIT**\r\n\r\nAs suggested, i removed the BufferedHttpEntity but now i get the error &quot;Content Length unknown&quot;. If i add a header with content length it tells me that content length header is already present.\r\n\r\n**EDIT 2**\r\n\r\nIf i change the line\r\n```\r\nmultipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\r\n```\r\nto\r\n```\r\nmultipartEntityBuilder.addPart(&quot;file&quot;, fileContentBody);\r\n```\r\nI get the error that Content length is too long","title":"Java-Apache BufferedHttpEntity loads whole file when sending the request","body":"<p>I want to make a Multipart request to my server from java using the apache <code>CloseableHttpAsyncClient</code>, this is what i currently have:</p>\n<pre><code>File file = new File(&quot;pathname&quot;);\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\nmultipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\nmultipartEntityBuilder.addTextBody(&quot;filename&quot;, &quot;File one&quot;);\nHttpEntity multipartEntity = multipartEntityBuilder.build();\nBufferedHttpEntity buffEntity = new BufferedHttpEntity(multipartEntity);\n</code></pre>\n<p>But when uploading a large file it throws a <code>java.lang.OutOfMemoryError</code> and i see it occupy all my machine memory ( Process goes from 100Mb memory to 3000+Mb ).<br>\nI have also tried to replace</p>\n<pre><code>multipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>multipartEntityBuilder.addBinaryBody(&quot;file&quot;, file);\n</code></pre>\n<p>But this has limited content length and gives the error &quot;Content length is too long&quot;.<br>\nSo how do I upload a large file (50gb+) using apache <code>CloseableHttpAsyncClient</code>?</p>\n<p><strong>EDIT</strong></p>\n<p>As suggested, i removed the BufferedHttpEntity but now i get the error &quot;Content Length unknown&quot;. If i add a header with content length it tells me that content length header is already present.</p>\n<p><strong>EDIT 2</strong></p>\n<p>If i change the line</p>\n<pre><code>multipartEntityBuilder.addBinaryBody(&quot;file&quot;, new FileInputStream(file), ContentType.DEFAULT_BINARY, &quot;file&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>multipartEntityBuilder.addPart(&quot;file&quot;, fileContentBody);\n</code></pre>\n<p>I get the error that Content length is too long</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","shadow-dom","shadow-root"],"owner":{"account_id":29448048,"reputation":1,"user_id":22564930,"display_name":"Nagarathna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694767380,"creation_date":1694754147,"question_id":77109720,"body_markdown":"Unable to select a shadow root element that is present under a dropdown using selenium Java.\r\n\r\n\r\nTried with JS path, but the id keeps changing dynamically, so unable to select it. \r\n```\r\ndocument.querySelector(&quot;#eds-select&quot;).shadowRoot.querySelector(&quot;someID &gt; span&quot;)\r\n```\r\nText is available. \r\n\r\nIf there is a way to select the dropdown through text, please let me know. \r\n\r\nTried with the below solution, but getting class cast exception with WebdriverWrapper and RemoteWebElement.\r\n\r\n```java\r\nMap&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\r\nString shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\r\nString id = (String) shadowRootMap.get(shadowRootKey);\r\nRemoteWebElement remoteWebElement = new RemoteWebElement();\r\nremoteWebElement.setParent((RemoteWebDriver) driver);\r\nremoteWebElement.setId(id);\r\nreturnObj = remoteWebElement;\r\n```\r\n\r\nTried with the below solution, but getting class cast exception with WebdriverWrapper and javascriptExecutor.\r\n\r\n```java\r\nWebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\r\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\r\nSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\nWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));`\r\n```\r\n[This is in latest chrome driver] [Upgrading to selenium 4 is not working]\r\n\r\n\r\nAny help would be much appreciated.\r\nThanks in advance. ","title":"Selecting a shadow root element that is present under a dropdown","body":"<p>Unable to select a shadow root element that is present under a dropdown using selenium Java.</p>\n<p>Tried with JS path, but the id keeps changing dynamically, so unable to select it.</p>\n<pre><code>document.querySelector(&quot;#eds-select&quot;).shadowRoot.querySelector(&quot;someID &gt; span&quot;)\n</code></pre>\n<p>Text is available.</p>\n<p>If there is a way to select the dropdown through text, please let me know.</p>\n<p>Tried with the below solution, but getting class cast exception with WebdriverWrapper and RemoteWebElement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\nString shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\nString id = (String) shadowRootMap.get(shadowRootKey);\nRemoteWebElement remoteWebElement = new RemoteWebElement();\nremoteWebElement.setParent((RemoteWebDriver) driver);\nremoteWebElement.setId(id);\nreturnObj = remoteWebElement;\n</code></pre>\n<p>Tried with the below solution, but getting class cast exception with WebdriverWrapper and javascriptExecutor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\nSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\nWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));`\n</code></pre>\n<p>[This is in latest chrome driver] [Upgrading to selenium 4 is not working]</p>\n<p>Any help would be much appreciated.\nThanks in advance.</p>\n"},{"tags":["java","android","android-volley","android-service","android-broadcast"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694766736,"creation_date":1694766736,"answer_id":77110823,"question_id":76693263,"body_markdown":"Basically you need a way for your `Service` to callback to the client that initiated the HTTP request. There are several possibilities:\r\n\r\n- Client can pass a `PendingIntent` to the `Service`, which the `Service` can then trigger to return data/status to the client. This `PendingIntent` can either start an `Activity`, a `BroadcastReceiver` or another `Service` depending on your needs.\r\n- `Service` can send a broadcast `Intent`, which the client can be listening for. There are various ways to do this depending on your situation. The client could pass in some data which can be used to customize/configure the broadcast `Intent` (ACTION, data, &quot;extras&quot;, whatever).\r\n- Use a bound `Service` and AIDL. This is somewhat more complicated, but you can create a set of interfaces that you can use to communicate between the client and `Service`, either synchronously or asynchronously.\r\n\r\nThere is no correct answer. There are multiple possibilities and you should choose the one that works best for your situation.","title":"What is the best way of passing an handler function to a service in Android?","body":"<p>Basically you need a way for your <code>Service</code> to callback to the client that initiated the HTTP request. There are several possibilities:</p>\n<ul>\n<li>Client can pass a <code>PendingIntent</code> to the <code>Service</code>, which the <code>Service</code> can then trigger to return data/status to the client. This <code>PendingIntent</code> can either start an <code>Activity</code>, a <code>BroadcastReceiver</code> or another <code>Service</code> depending on your needs.</li>\n<li><code>Service</code> can send a broadcast <code>Intent</code>, which the client can be listening for. There are various ways to do this depending on your situation. The client could pass in some data which can be used to customize/configure the broadcast <code>Intent</code> (ACTION, data, &quot;extras&quot;, whatever).</li>\n<li>Use a bound <code>Service</code> and AIDL. This is somewhat more complicated, but you can create a set of interfaces that you can use to communicate between the client and <code>Service</code>, either synchronously or asynchronously.</li>\n</ul>\n<p>There is no correct answer. There are multiple possibilities and you should choose the one that works best for your situation.</p>\n"}],"owner":{"account_id":20129083,"reputation":141,"user_id":14761811,"display_name":"Pietro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694766736,"creation_date":1689416069,"question_id":76693263,"body_markdown":"**The problem**\r\nI&#39;m trying to create a service that makes all the Http Request of my application to my backend. Different endpoints give different outputs, so I basically need an handler function for every endpoint.\r\n\r\n**Some code**\r\nThis is my service (I simplified the code to make it more readable). \r\n\r\n```\r\npublic class HttpRequestService extends Service {\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.d(&quot;PPLSERV&quot;, &quot;onStartCommand&quot;);\r\n\r\n        // HttpRequest is an object that contains HttpMethod, values and the endpoint of the request\r\n        HttpRequest req = intent.getParcelableExtra(&quot;REQ&quot;);\r\n\r\n        makeHttpRequest(req, new Response.Listener {\r\n                   @Override\r\n                    public void onResponse(Response response) {\r\n                        // response handler\r\n                    }\r\n                });\r\n\r\n       }\r\n}\r\n```\r\nI need the code for `// response handler`.\r\n\r\n**My solution**\r\nI was thinking about creating this handler method inside my HttpRequest object, and modify it by Overriding it:\r\n\r\n```\r\nHttpRequest request = new HttpRequest() {\r\n    @Override\r\n    public void responseHandler(Response response) {\r\n        // do stuff\r\n     }\r\n}\r\n```\r\nThis solution doesn&#39;t work, because the object gets parceled (intent.putExtra), then unparceled (intent.getParcelableExtra) and by doing this the Override gets lost.\r\n\r\n**Possible ideas**\r\nSince methods behaviour is not persistent across parceling, I was thinking about:\r\n- binding the service\r\n- using a Broadcast Receiver\r\n\r\nI should mention that making a class that has such method (maybe with an interface) for every endpoint is not an option.\r\n\r\nHow should I handle this? Is there a better way of structuring the code?","title":"What is the best way of passing an handler function to a service in Android?","body":"<p><strong>The problem</strong>\nI'm trying to create a service that makes all the Http Request of my application to my backend. Different endpoints give different outputs, so I basically need an handler function for every endpoint.</p>\n<p><strong>Some code</strong>\nThis is my service (I simplified the code to make it more readable).</p>\n<pre><code>public class HttpRequestService extends Service {\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.d(&quot;PPLSERV&quot;, &quot;onStartCommand&quot;);\n\n        // HttpRequest is an object that contains HttpMethod, values and the endpoint of the request\n        HttpRequest req = intent.getParcelableExtra(&quot;REQ&quot;);\n\n        makeHttpRequest(req, new Response.Listener {\n                   @Override\n                    public void onResponse(Response response) {\n                        // response handler\n                    }\n                });\n\n       }\n}\n</code></pre>\n<p>I need the code for <code>// response handler</code>.</p>\n<p><strong>My solution</strong>\nI was thinking about creating this handler method inside my HttpRequest object, and modify it by Overriding it:</p>\n<pre><code>HttpRequest request = new HttpRequest() {\n    @Override\n    public void responseHandler(Response response) {\n        // do stuff\n     }\n}\n</code></pre>\n<p>This solution doesn't work, because the object gets parceled (intent.putExtra), then unparceled (intent.getParcelableExtra) and by doing this the Override gets lost.</p>\n<p><strong>Possible ideas</strong>\nSince methods behaviour is not persistent across parceling, I was thinking about:</p>\n<ul>\n<li>binding the service</li>\n<li>using a Broadcast Receiver</li>\n</ul>\n<p>I should mention that making a class that has such method (maybe with an interface) for every endpoint is not an option.</p>\n<p>How should I handle this? Is there a better way of structuring the code?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-6.x"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688664029,"post_id":76630788,"comment_id":135107593,"body_markdown":"Are you sure you are using that property the way it was intended? I&#39;m not a hibernate expert, but from forum.hibernate.org/viewtopic.php?t=928842 and access.redhat.com/documentation/en-us/red_hat_jboss_web_server/… , I don&#39;t think you should be expecting a fully complete model being returned or that anything is made lazy. That is what JPA fetch/load graphs are for.  Your bug implies though that this used to work as you wanted, so is a regression in behavior, documented or not.","body":"Are you sure you are using that property the way it was intended? I&#39;m not a hibernate expert, but from forum.hibernate.org/viewtopic.php?t=928842 and access.redhat.com/documentation/en-us/red_hat_jboss_web_serv&zwnj;&#8203;er/… , I don&#39;t think you should be expecting a fully complete model being returned or that anything is made lazy. That is what JPA fetch/load graphs are for.  Your bug implies though that this used to work as you wanted, so is a regression in behavior, documented or not."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688678631,"post_id":76630788,"comment_id":135110115,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1470351,"reputation":21,"user_id":1382077,"display_name":"Philip Lowney"},"score":0,"creation_date":1688727492,"post_id":76630788,"comment_id":135115944,"body_markdown":"Thank you @Chris. We did not expect the max_fetch_depth property to be a cause of this issue either, but it was only after changing it did we see that the behaviour changed. For this reason we based our tests around changing the value of this property to make the issue appear/disappear.","body":"Thank you @Chris. We did not expect the max_fetch_depth property to be a cause of this issue either, but it was only after changing it did we see that the behaviour changed. For this reason we based our tests around changing the value of this property to make the issue appear/disappear."}],"answers":[{"tags":[],"owner":{"account_id":1470351,"reputation":21,"user_id":1382077,"display_name":"Philip Lowney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694766708,"creation_date":1689077869,"answer_id":76661895,"question_id":76630788,"body_markdown":"This turns out to have been a regression issue in Hibernate and is  [tracked on Hibernate&#39;s JIRA][1].\r\n\r\nAs per the ticket, this was fixed in Hibernate [version 6.2.7][2].\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-16871\r\n  [2]: https://hibernate.atlassian.net/projects/HHH/versions/32170/tab/release-report-all-issues","title":"Hibernate returning null values depending on &#39;max_fetch_depth&#39; - issue with entity model?","body":"<p>This turns out to have been a regression issue in Hibernate and is  <a href=\"https://hibernate.atlassian.net/browse/HHH-16871\" rel=\"nofollow noreferrer\">tracked on Hibernate's JIRA</a>.</p>\n<p>As per the ticket, this was fixed in Hibernate <a href=\"https://hibernate.atlassian.net/projects/HHH/versions/32170/tab/release-report-all-issues\" rel=\"nofollow noreferrer\">version 6.2.7</a>.</p>\n"}],"owner":{"account_id":1470351,"reputation":21,"user_id":1382077,"display_name":"Philip Lowney"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694766708,"creation_date":1688660427,"question_id":76630788,"body_markdown":"We have upgraded to Hibernate 6.2.6 Final, and have an entity model that looks as follows:\r\n\r\n```\r\n┌──────────────────┐       ┌───────────┐\r\n│Step Configuration│1─────*│ FormOption│\r\n└──────────────────┘       └───────────┘\r\n                                 1\r\n                                 │\r\n                                 │\r\n                                 1\r\n                           ┌───────────┐       ┌────┐\r\n                           │FormVersion│*─────1│Form│\r\n                           └───────────┘       └────┘\r\n```\r\n\r\nNote that the `FormVersion` has a composite primary key consisting of the Form ID and a version number.\r\n\r\nWhen we persist the entities above (one entity of each kind), and then try to fetch them - e.g. fetching a StepConfiguration entity by its ID - the returned formVersion field on the FormOption entities is  **null**. This is not what we would expect because the data was saved with non-null values, so we expect to at least have a lazy-loaded proxy rather than null.\r\n\r\nAfter some investigation, we found that whether the returned field is null depends on the value of the Hibernate `max_fetch_depth` parameter.\r\n\r\nOur questions are:\r\n- Is there something about the way our entities are modeled that is resulting in this behaviour?\r\n- Is this behaviour to be expected when changing the `max_fetch_depth` parameter?\r\n\r\nIn case this is a bug with Hibernate (as it was not happening in 5.x), we have logged an issue on their JIRA: https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16871.\r\n\r\nWe have created a project with the entities above and failing test cases, showing both for a max fetch depth of 0 and 1 there are values that appear to be erroneously set to null: https://github.com/philiplowney/hibernate-max-fetch-depth-bug\r\n\r\n\r\nThe entities are as follows:\r\n\r\n```java\r\n\r\n@Entity\r\npublic class StepConfiguration {\r\n\r\n    public StepConfiguration() { }\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;configuration&quot;, fetch = FetchType.EAGER)\r\n    private Set&lt;FormOption&gt; formOptions;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Set&lt;FormOption&gt; getFormOptions() {\r\n        return formOptions;\r\n    }\r\n\r\n    public void setFormOptions(Set&lt;FormOption&gt; formOptions) {\r\n        this.formOptions = formOptions;\r\n    }\r\n}\r\n\r\n@Entity\r\npublic class FormOption {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;stepConfiguration_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_FormOption_StepConfiguration&quot;))\r\n    private StepConfiguration configuration;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumns(foreignKey = @ForeignKey(name = &quot;FK_FormOption_FormVersion&quot;), value = {\r\n        @JoinColumn(name = &quot;form_id&quot;, updatable = false),\r\n        @JoinColumn(name = &quot;versionNumber&quot;, updatable = false)\r\n    })\r\n    private FormVersion formVersion;\r\n\r\n    public FormOption() {\r\n    }\r\n\r\n    public FormOption(FormVersion formVersion) {\r\n        this.formVersion = formVersion;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public StepConfiguration getConfiguration() {\r\n        return configuration;\r\n    }\r\n\r\n    public void setConfiguration(StepConfiguration configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    public FormVersion getFormVersion() {\r\n        return formVersion;\r\n    }\r\n\r\n    public void setFormVersion(FormVersion formVersion) {\r\n        this.formVersion = formVersion;\r\n    }\r\n}\r\n\r\n@Entity\r\npublic class Form {\r\n\r\n    @OneToMany(mappedBy = &quot;id.form&quot;)\r\n    private List&lt;FormVersion&gt; versions;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    protected Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public List&lt;FormVersion&gt; getVersions() {\r\n        return versions;\r\n    }\r\n\r\n    public void setVersions(List&lt;FormVersion&gt; versions) {\r\n        this.versions = versions;\r\n    }\r\n}\r\n\r\n\r\n@Entity\r\npublic class FormVersion {\r\n\r\n    @EmbeddedId\r\n    protected FormVersionId id;\r\n\r\n    public FormVersionId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(FormVersionId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public FormVersion() {\r\n        id = new FormVersionId();\r\n    }\r\n\r\n    public FormVersion(Form form, int version) {\r\n        this();\r\n        this.id.setForm(form);\r\n        this.id.setVersionNumber(version);\r\n    }\r\n\r\n\r\n}\r\n\r\n@Embeddable\r\npublic class FormVersionId implements Serializable {\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;form_id&quot;)\r\n    private Form form;\r\n\r\n    private Integer versionNumber;\r\n\r\n    public Form getForm() {\r\n        return form;\r\n    }\r\n\r\n    public void setForm(Form form) {\r\n        this.form = form;\r\n    }\r\n\r\n    public Integer getVersionNumber() {\r\n        return versionNumber;\r\n    }\r\n\r\n    public void setVersionNumber(Integer versionNumber) {\r\n        this.versionNumber = versionNumber;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof FormVersionId)) {\r\n            return false;\r\n        }\r\n        FormVersionId that = (FormVersionId) o;\r\n        return form.getId().equals(that.form.getId()) &amp;&amp; versionNumber.equals(that.versionNumber);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(form, versionNumber);\r\n    }\r\n}\r\n```\r\n\r\nOur test cases look as follows, which we execute for different `max_fetch_depth` values by configuring different persistence units:\r\n\r\n```java\r\npublic abstract class AbstractTestCase {\r\n\r\n    private StepConfiguration stepConfiguration;\r\n\r\n    private FormOption formOption;\r\n\r\n    private EntityManager entityManager;\r\n\r\n    protected abstract String getEntityManagerName();\r\n\r\n    @Before\r\n    public void init() throws IOException {\r\n        Properties properties = new Properties();\r\n        properties.load(AbstractTestCase.class.getClassLoader().getResourceAsStream(&quot;database.properties&quot;));\r\n        entityManager = Persistence.createEntityManagerFactory(getEntityManagerName(), properties).createEntityManager();\r\n\r\n        entityManager.getTransaction().begin();\r\n\r\n        Form form = new Form();\r\n        entityManager.persist(form);\r\n\r\n        FormVersion formVersion = new FormVersion(form, 1);\r\n\r\n        entityManager.persist(formVersion);\r\n\r\n        stepConfiguration = new StepConfiguration();\r\n\r\n        formOption = new FormOption();\r\n        formOption.setConfiguration(stepConfiguration);\r\n        formOption.setFormVersion(formVersion);\r\n        Set&lt;FormOption&gt; formOptions = new HashSet&lt;&gt;();\r\n        formOptions.add(formOption);\r\n        stepConfiguration.setFormOptions(formOptions);\r\n\r\n        entityManager.persist(stepConfiguration);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.clear();\r\n    }\r\n\r\n    @After\r\n    public void after() {\r\n        entityManager.getTransaction().begin();\r\n        entityManager.createQuery(&quot;DELETE from FormOption&quot;).executeUpdate();\r\n        entityManager.createQuery(&quot;DELETE from StepConfiguration&quot;).executeUpdate();\r\n        entityManager.createQuery(&quot;DELETE from FormVersion&quot;).executeUpdate();\r\n        entityManager.createQuery(&quot;DELETE from Form&quot;).executeUpdate();\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n    }\r\n\r\n    @Test\r\n    public void formVersionLoadTest() {\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT s FROM StepConfiguration s WHERE s.id = :id&quot;);\r\n        fetchQuery.setParameter(&quot;id&quot;, stepConfiguration.getId());\r\n        StepConfiguration configuration = (StepConfiguration) fetchQuery.getSingleResult();\r\n\r\n        assertNotNull(configuration.getFormOptions());\r\n        Assert.assertEquals(1, configuration.getFormOptions().size());\r\n        configuration.getFormOptions().forEach(formOption -&gt; {\r\n            FormVersion fv = formOption.getFormVersion();\r\n            assertNotNull(fv);\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void formOptionsLoadTest() {\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo&quot;);\r\n        List&lt;FormOption&gt; fos = (List&lt;FormOption&gt;) fetchQuery.getResultList();\r\n        Assert.assertEquals(1, fos.size());\r\n        fos.forEach(formOption -&gt; {\r\n            FormVersion fv = formOption.getFormVersion();\r\n            assertNotNull(fv);\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void singleFormOptionLoadTest() {\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo WHERE fo.id = :id&quot;);\r\n        fetchQuery.setParameter(&quot;id&quot;, formOption.getId());\r\n        FormOption fo = (FormOption) fetchQuery.getSingleResult();\r\n        FormVersion fv = fo.getFormVersion();\r\n        assertNotNull(fv);\r\n    }\r\n}\r\n```\r\n\r\nThe output of these tests is as follows: [Test case results](https://i.stack.imgur.com/LdkxX.png)\r\n\r\nAs per the output above, the following fails when the `max_fetch_depth`  parameter is zero:\r\n\r\n```java\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT s FROM StepConfiguration s WHERE s.id = :id&quot;);\r\n        fetchQuery.setParameter(&quot;id&quot;, stepConfiguration.getId());\r\n        StepConfiguration configuration = (StepConfiguration) fetchQuery.getSingleResult();\r\n\r\n        assertNotNull(configuration.getFormOptions());\r\n        Assert.assertEquals(1, configuration.getFormOptions().size());\r\n        configuration.getFormOptions().forEach(formOption -&gt; {\r\n            FormVersion fv = formOption.getFormVersion();\r\n            assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 0\r\n        });\r\n```\r\n\r\n... and the following two tests fail for `max_fetch_depth` 1:\r\n\r\n```java\r\n    @Test\r\n    public void formOptionsLoadTest() {\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo&quot;);\r\n        List&lt;FormOption&gt; fos = (List&lt;FormOption&gt;) fetchQuery.getResultList();\r\n        Assert.assertEquals(1, fos.size());\r\n        fos.forEach(formOption -&gt; {\r\n            FormVersion fv = formOption.getFormVersion();\r\n            assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 1\r\n        });\r\n    }\r\n\r\n    @Test\r\n    public void singleFormOptionLoadTest() {\r\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo WHERE fo.id = :id&quot;);\r\n        fetchQuery.setParameter(&quot;id&quot;, formOption.getId());\r\n        FormOption fo = (FormOption) fetchQuery.getSingleResult();\r\n        FormVersion fv = fo.getFormVersion();\r\n        assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 1\r\n    } \r\n```\r\n\r\nOur pom.xml&#39;s dependencies block is as follows:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Hibernate returning null values depending on &#39;max_fetch_depth&#39; - issue with entity model?","body":"<p>We have upgraded to Hibernate 6.2.6 Final, and have an entity model that looks as follows:</p>\n<pre><code>┌──────────────────┐       ┌───────────┐\n│Step Configuration│1─────*│ FormOption│\n└──────────────────┘       └───────────┘\n                                 1\n                                 │\n                                 │\n                                 1\n                           ┌───────────┐       ┌────┐\n                           │FormVersion│*─────1│Form│\n                           └───────────┘       └────┘\n</code></pre>\n<p>Note that the <code>FormVersion</code> has a composite primary key consisting of the Form ID and a version number.</p>\n<p>When we persist the entities above (one entity of each kind), and then try to fetch them - e.g. fetching a StepConfiguration entity by its ID - the returned formVersion field on the FormOption entities is  <strong>null</strong>. This is not what we would expect because the data was saved with non-null values, so we expect to at least have a lazy-loaded proxy rather than null.</p>\n<p>After some investigation, we found that whether the returned field is null depends on the value of the Hibernate <code>max_fetch_depth</code> parameter.</p>\n<p>Our questions are:</p>\n<ul>\n<li>Is there something about the way our entities are modeled that is resulting in this behaviour?</li>\n<li>Is this behaviour to be expected when changing the <code>max_fetch_depth</code> parameter?</li>\n</ul>\n<p>In case this is a bug with Hibernate (as it was not happening in 5.x), we have logged an issue on their JIRA: <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16871\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16871</a>.</p>\n<p>We have created a project with the entities above and failing test cases, showing both for a max fetch depth of 0 and 1 there are values that appear to be erroneously set to null: <a href=\"https://github.com/philiplowney/hibernate-max-fetch-depth-bug\" rel=\"nofollow noreferrer\">https://github.com/philiplowney/hibernate-max-fetch-depth-bug</a></p>\n<p>The entities are as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\npublic class StepConfiguration {\n\n    public StepConfiguration() { }\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;configuration&quot;, fetch = FetchType.EAGER)\n    private Set&lt;FormOption&gt; formOptions;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Set&lt;FormOption&gt; getFormOptions() {\n        return formOptions;\n    }\n\n    public void setFormOptions(Set&lt;FormOption&gt; formOptions) {\n        this.formOptions = formOptions;\n    }\n}\n\n@Entity\npublic class FormOption {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;stepConfiguration_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_FormOption_StepConfiguration&quot;))\n    private StepConfiguration configuration;\n\n    @ManyToOne(optional = false)\n    @JoinColumns(foreignKey = @ForeignKey(name = &quot;FK_FormOption_FormVersion&quot;), value = {\n        @JoinColumn(name = &quot;form_id&quot;, updatable = false),\n        @JoinColumn(name = &quot;versionNumber&quot;, updatable = false)\n    })\n    private FormVersion formVersion;\n\n    public FormOption() {\n    }\n\n    public FormOption(FormVersion formVersion) {\n        this.formVersion = formVersion;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public StepConfiguration getConfiguration() {\n        return configuration;\n    }\n\n    public void setConfiguration(StepConfiguration configuration) {\n        this.configuration = configuration;\n    }\n\n    public FormVersion getFormVersion() {\n        return formVersion;\n    }\n\n    public void setFormVersion(FormVersion formVersion) {\n        this.formVersion = formVersion;\n    }\n}\n\n@Entity\npublic class Form {\n\n    @OneToMany(mappedBy = &quot;id.form&quot;)\n    private List&lt;FormVersion&gt; versions;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public List&lt;FormVersion&gt; getVersions() {\n        return versions;\n    }\n\n    public void setVersions(List&lt;FormVersion&gt; versions) {\n        this.versions = versions;\n    }\n}\n\n\n@Entity\npublic class FormVersion {\n\n    @EmbeddedId\n    protected FormVersionId id;\n\n    public FormVersionId getId() {\n        return id;\n    }\n\n    public void setId(FormVersionId id) {\n        this.id = id;\n    }\n\n    public FormVersion() {\n        id = new FormVersionId();\n    }\n\n    public FormVersion(Form form, int version) {\n        this();\n        this.id.setForm(form);\n        this.id.setVersionNumber(version);\n    }\n\n\n}\n\n@Embeddable\npublic class FormVersionId implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;form_id&quot;)\n    private Form form;\n\n    private Integer versionNumber;\n\n    public Form getForm() {\n        return form;\n    }\n\n    public void setForm(Form form) {\n        this.form = form;\n    }\n\n    public Integer getVersionNumber() {\n        return versionNumber;\n    }\n\n    public void setVersionNumber(Integer versionNumber) {\n        this.versionNumber = versionNumber;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof FormVersionId)) {\n            return false;\n        }\n        FormVersionId that = (FormVersionId) o;\n        return form.getId().equals(that.form.getId()) &amp;&amp; versionNumber.equals(that.versionNumber);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(form, versionNumber);\n    }\n}\n</code></pre>\n<p>Our test cases look as follows, which we execute for different <code>max_fetch_depth</code> values by configuring different persistence units:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractTestCase {\n\n    private StepConfiguration stepConfiguration;\n\n    private FormOption formOption;\n\n    private EntityManager entityManager;\n\n    protected abstract String getEntityManagerName();\n\n    @Before\n    public void init() throws IOException {\n        Properties properties = new Properties();\n        properties.load(AbstractTestCase.class.getClassLoader().getResourceAsStream(&quot;database.properties&quot;));\n        entityManager = Persistence.createEntityManagerFactory(getEntityManagerName(), properties).createEntityManager();\n\n        entityManager.getTransaction().begin();\n\n        Form form = new Form();\n        entityManager.persist(form);\n\n        FormVersion formVersion = new FormVersion(form, 1);\n\n        entityManager.persist(formVersion);\n\n        stepConfiguration = new StepConfiguration();\n\n        formOption = new FormOption();\n        formOption.setConfiguration(stepConfiguration);\n        formOption.setFormVersion(formVersion);\n        Set&lt;FormOption&gt; formOptions = new HashSet&lt;&gt;();\n        formOptions.add(formOption);\n        stepConfiguration.setFormOptions(formOptions);\n\n        entityManager.persist(stepConfiguration);\n        entityManager.getTransaction().commit();\n        entityManager.clear();\n    }\n\n    @After\n    public void after() {\n        entityManager.getTransaction().begin();\n        entityManager.createQuery(&quot;DELETE from FormOption&quot;).executeUpdate();\n        entityManager.createQuery(&quot;DELETE from StepConfiguration&quot;).executeUpdate();\n        entityManager.createQuery(&quot;DELETE from FormVersion&quot;).executeUpdate();\n        entityManager.createQuery(&quot;DELETE from Form&quot;).executeUpdate();\n        entityManager.getTransaction().commit();\n        entityManager.close();\n    }\n\n    @Test\n    public void formVersionLoadTest() {\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT s FROM StepConfiguration s WHERE s.id = :id&quot;);\n        fetchQuery.setParameter(&quot;id&quot;, stepConfiguration.getId());\n        StepConfiguration configuration = (StepConfiguration) fetchQuery.getSingleResult();\n\n        assertNotNull(configuration.getFormOptions());\n        Assert.assertEquals(1, configuration.getFormOptions().size());\n        configuration.getFormOptions().forEach(formOption -&gt; {\n            FormVersion fv = formOption.getFormVersion();\n            assertNotNull(fv);\n        });\n    }\n\n    @Test\n    public void formOptionsLoadTest() {\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo&quot;);\n        List&lt;FormOption&gt; fos = (List&lt;FormOption&gt;) fetchQuery.getResultList();\n        Assert.assertEquals(1, fos.size());\n        fos.forEach(formOption -&gt; {\n            FormVersion fv = formOption.getFormVersion();\n            assertNotNull(fv);\n        });\n    }\n\n    @Test\n    public void singleFormOptionLoadTest() {\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo WHERE fo.id = :id&quot;);\n        fetchQuery.setParameter(&quot;id&quot;, formOption.getId());\n        FormOption fo = (FormOption) fetchQuery.getSingleResult();\n        FormVersion fv = fo.getFormVersion();\n        assertNotNull(fv);\n    }\n}\n</code></pre>\n<p>The output of these tests is as follows: <a href=\"https://i.stack.imgur.com/LdkxX.png\" rel=\"nofollow noreferrer\">Test case results</a></p>\n<p>As per the output above, the following fails when the <code>max_fetch_depth</code>  parameter is zero:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Query fetchQuery = entityManager.createQuery(&quot;SELECT s FROM StepConfiguration s WHERE s.id = :id&quot;);\n        fetchQuery.setParameter(&quot;id&quot;, stepConfiguration.getId());\n        StepConfiguration configuration = (StepConfiguration) fetchQuery.getSingleResult();\n\n        assertNotNull(configuration.getFormOptions());\n        Assert.assertEquals(1, configuration.getFormOptions().size());\n        configuration.getFormOptions().forEach(formOption -&gt; {\n            FormVersion fv = formOption.getFormVersion();\n            assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 0\n        });\n</code></pre>\n<p>... and the following two tests fail for <code>max_fetch_depth</code> 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void formOptionsLoadTest() {\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo&quot;);\n        List&lt;FormOption&gt; fos = (List&lt;FormOption&gt;) fetchQuery.getResultList();\n        Assert.assertEquals(1, fos.size());\n        fos.forEach(formOption -&gt; {\n            FormVersion fv = formOption.getFormVersion();\n            assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 1\n        });\n    }\n\n    @Test\n    public void singleFormOptionLoadTest() {\n        Query fetchQuery = entityManager.createQuery(&quot;SELECT fo FROM FormOption fo WHERE fo.id = :id&quot;);\n        fetchQuery.setParameter(&quot;id&quot;, formOption.getId());\n        FormOption fo = (FormOption) fetchQuery.getSingleResult();\n        FormVersion fv = fo.getFormVersion();\n        assertNotNull(fv); // &lt;-- This assertion fails for max_fetch_depth 1\n    } \n</code></pre>\n<p>Our pom.xml's dependencies block is as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","jenkins","webdriver","guava"],"owner":{"account_id":29448707,"reputation":1,"user_id":22565504,"display_name":"Tim Dang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694766584,"creation_date":1694760014,"question_id":77110145,"body_markdown":"After upgrade to selenium v4.11.0 I cannot init webdriver in jenkins server, it throws out with message `java.lang.NoSuchMethodError` but I&#39;m still able to run on local with the same code, same JDK, any advise for this case?\r\n\r\n```\r\nMessage: &#39;org.openqa.selenium.chromium.ChromiumOptions\r\norg.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])&#39;\r\n    Stacktrace:\r\n\t`at com.paltech.driver.browser.DesktopChromeDriver.&lt;init&gt;(DesktopChromeDriver.java:67)\r\n\tat com.paltech.driver.DriverManager.initSeleniumDriver(DriverManager.java:132)\r\n\tat com.paltech.driver.DriverManager.createWebDriver(DriverManager.java:115)\r\n\tat baseTest.BaseCaseTest.createDriver(BaseCaseTest.java:279)\r\n\tat baseTest.BaseCaseTest.loginAgent(BaseCaseTest.java:136)\r\n\tat baseTest.BaseCaseTest.beforeMethod(BaseCaseTest.java:121)\r\n\tat     java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104`)\r\n\t`at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:782)\r\n\tat org.testng.TestRunner.run(TestRunner.java:632)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.run(TestNG.java:1064)\r\n\tat org.testng.TestNG.privateMain(TestNG.java:1385)\r\n\tat org.testng.TestNG.main(TestNG.java:1354)\r\n```\r\nDependencies:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.11.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nI am running with JDK 20 and chromedriver 115\r\nI have tried to upgrade guava to latest version 32.1.2 but it still not working","title":"Cannot init webdriver in jenkins server after upgrade selenium to v4.11.0","body":"<p>After upgrade to selenium v4.11.0 I cannot init webdriver in jenkins server, it throws out with message <code>java.lang.NoSuchMethodError</code> but I'm still able to run on local with the same code, same JDK, any advise for this case?</p>\n<pre><code>Message: 'org.openqa.selenium.chromium.ChromiumOptions\norg.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])'\n    Stacktrace:\n    `at com.paltech.driver.browser.DesktopChromeDriver.&lt;init&gt;(DesktopChromeDriver.java:67)\n    at com.paltech.driver.DriverManager.initSeleniumDriver(DriverManager.java:132)\n    at com.paltech.driver.DriverManager.createWebDriver(DriverManager.java:115)\n    at baseTest.BaseCaseTest.createDriver(BaseCaseTest.java:279)\n    at baseTest.BaseCaseTest.loginAgent(BaseCaseTest.java:136)\n    at baseTest.BaseCaseTest.beforeMethod(BaseCaseTest.java:121)\n    at     java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104`)\n    `at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:782)\n    at org.testng.TestRunner.run(TestRunner.java:632)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:268)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.run(TestNG.java:1064)\n    at org.testng.TestNG.privateMain(TestNG.java:1385)\n    at org.testng.TestNG.main(TestNG.java:1354)\n</code></pre>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>I am running with JDK 20 and chromedriver 115\nI have tried to upgrade guava to latest version 32.1.2 but it still not working</p>\n"},{"tags":["java","recursion","data-structures","linked-list"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1693938075,"post_id":77046871,"comment_id":135824699,"body_markdown":"I strongly suggest you step through your code in a debugger, looking at the state carefully all the time.","body":"I strongly suggest you step through your code in a debugger, looking at the state carefully all the time."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1693938288,"post_id":77046871,"comment_id":135824739,"body_markdown":"And consider what `tail` points to if you remove the last item in the list.","body":"And consider what <code>tail</code> points to if you remove the last item in the list."},{"owner":{"account_id":27082531,"reputation":1,"user_id":20631511,"display_name":"WannaBe8995"},"score":0,"creation_date":1693938962,"post_id":77046871,"comment_id":135824863,"body_markdown":"u were right! ty","body":"u were right! ty"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693940058,"creation_date":1693940058,"answer_id":77047076,"question_id":77046871,"body_markdown":"Here is a function you could use to easily check the consistency of your list, since it has redundant information (`size`, `tail`) that needs to be kept in sync:\r\n\r\n```\r\n    public void print() {\r\n        Node&lt;T&gt; current = head;\r\n        Node&lt;T&gt; last = null;\r\n        int counter = 0;\r\n        while (current != null) {\r\n            counter++;\r\n            System.out.print(current.data);\r\n            System.out.print(&quot; &quot;);\r\n            last = current;\r\n            current = current.next;\r\n        }\r\n        System.out.println(&quot;null&quot;);\r\n        if (counter != size) System.out.println(&quot;size is inconsistent! &quot; + counter + &quot; != &quot; + size);\r\n        if (last != tail) System.out.println(&quot;tail is inconsistent!&quot;);\r\n    }\r\n```\r\n\r\nNow when you use your implementation, for instance like this:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        LinkedList&lt;Integer&gt; lst = new LinkedList&lt;&gt;();\r\n        lst.add(1);\r\n        lst.print();\r\n        lst.remove(1);\r\n        lst.print();\r\n    }\r\n```\r\n\r\n... You&#39;ll soon see that `size` and `tail` are not always kept in sync. After correcting errors, keep calling `print()` after every manipulation to see where the potentially next inconsistency occurs.\r\n\r\n","title":"LinkedList Java remove method","body":"<p>Here is a function you could use to easily check the consistency of your list, since it has redundant information (<code>size</code>, <code>tail</code>) that needs to be kept in sync:</p>\n<pre><code>    public void print() {\n        Node&lt;T&gt; current = head;\n        Node&lt;T&gt; last = null;\n        int counter = 0;\n        while (current != null) {\n            counter++;\n            System.out.print(current.data);\n            System.out.print(&quot; &quot;);\n            last = current;\n            current = current.next;\n        }\n        System.out.println(&quot;null&quot;);\n        if (counter != size) System.out.println(&quot;size is inconsistent! &quot; + counter + &quot; != &quot; + size);\n        if (last != tail) System.out.println(&quot;tail is inconsistent!&quot;);\n    }\n</code></pre>\n<p>Now when you use your implementation, for instance like this:</p>\n<pre><code>    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; lst = new LinkedList&lt;&gt;();\n        lst.add(1);\n        lst.print();\n        lst.remove(1);\n        lst.print();\n    }\n</code></pre>\n<p>... You'll soon see that <code>size</code> and <code>tail</code> are not always kept in sync. After correcting errors, keep calling <code>print()</code> after every manipulation to see where the potentially next inconsistency occurs.</p>\n"},{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694766455,"creation_date":1694766455,"answer_id":77110791,"question_id":77046871,"body_markdown":"The problem is that if you remove the last item in the list, then you need to move the `tail` pointer (one step towards head).\r\n\r\n                ...\r\n                if (current.next.data.equals(item)) { // your code\r\n                    if (current.next == tail) { // new code\r\n                        tail = current; // new code\r\n                    } // new code\r\n                ...\r\n\r\nAlso, your size variable should probably be removed. It is not used for anything and the way it is calculated makes no sense.\r\n","title":"LinkedList Java remove method","body":"<p>The problem is that if you remove the last item in the list, then you need to move the <code>tail</code> pointer (one step towards head).</p>\n<pre><code>            ...\n            if (current.next.data.equals(item)) { // your code\n                if (current.next == tail) { // new code\n                    tail = current; // new code\n                } // new code\n            ...\n</code></pre>\n<p>Also, your size variable should probably be removed. It is not used for anything and the way it is calculated makes no sense.</p>\n"}],"owner":{"account_id":27082531,"reputation":1,"user_id":20631511,"display_name":"WannaBe8995"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694766455,"creation_date":1693937847,"question_id":77046871,"body_markdown":"After using `remove` method, for some reason it doesn&#39;t add anything back to the linkedlist if you try to do so. Only happens after I call out `remove` method. Any ideas?\r\n\r\n```\r\npublic class LinkedList&lt;T&gt; implements List&lt;T&gt;{\r\n\r\n    private class Node&lt;T&gt; {\r\n        T data;\r\n        Node&lt;T&gt; next;\r\n        Node( T data, Node&lt;T&gt; link) {\r\n            this.data = data;\r\n            this.next = link;\r\n        }\r\n    }\r\n    private Node&lt;T&gt; head;\r\n    private Node&lt;T&gt; tail;\r\n    private int size;\r\n\r\n\r\n    public LinkedList()\r\n    {\r\n        this.head = null;\r\n        this.tail=null;\r\n        size = 0;\r\n    }\r\n\r\n    public void add(T item) {\r\n        var dd = new Node(item, null);\r\n        if (head != null) {\r\n            tail.next = dd;\r\n            tail = dd;\r\n        }\r\n        else {\r\n            head = dd;\r\n            tail = dd;\r\n        }\r\n    @Override\r\n    public boolean remove(T item) {\r\n\r\n        if (head == null){\r\n            return false;\r\n        }\r\n        // if it is in the start\r\n        if (head.data.equals(item))\r\n        {\r\n            head = head.next;\r\n            size--;\r\n            return true;\r\n        }\r\n        Node&lt;T&gt;current = head;\r\n        while(current.next != null)\r\n        {\r\n            if (current.next.data.equals((item))){\r\n                current.next = current.next.next;\r\n                size--;\r\n                return true;\r\n            }\r\n            current=current.next;\r\n        }\r\n        return false;\r\n    }\r\n\r\n```\r\n\r\nTried instead of formatting direct list doing backwards list and it all fixed. But my task is to do that in direct list version.","title":"LinkedList Java remove method","body":"<p>After using <code>remove</code> method, for some reason it doesn't add anything back to the linkedlist if you try to do so. Only happens after I call out <code>remove</code> method. Any ideas?</p>\n<pre><code>public class LinkedList&lt;T&gt; implements List&lt;T&gt;{\n\n    private class Node&lt;T&gt; {\n        T data;\n        Node&lt;T&gt; next;\n        Node( T data, Node&lt;T&gt; link) {\n            this.data = data;\n            this.next = link;\n        }\n    }\n    private Node&lt;T&gt; head;\n    private Node&lt;T&gt; tail;\n    private int size;\n\n\n    public LinkedList()\n    {\n        this.head = null;\n        this.tail=null;\n        size = 0;\n    }\n\n    public void add(T item) {\n        var dd = new Node(item, null);\n        if (head != null) {\n            tail.next = dd;\n            tail = dd;\n        }\n        else {\n            head = dd;\n            tail = dd;\n        }\n    @Override\n    public boolean remove(T item) {\n\n        if (head == null){\n            return false;\n        }\n        // if it is in the start\n        if (head.data.equals(item))\n        {\n            head = head.next;\n            size--;\n            return true;\n        }\n        Node&lt;T&gt;current = head;\n        while(current.next != null)\n        {\n            if (current.next.data.equals((item))){\n                current.next = current.next.next;\n                size--;\n                return true;\n            }\n            current=current.next;\n        }\n        return false;\n    }\n\n</code></pre>\n<p>Tried instead of formatting direct list doing backwards list and it all fixed. But my task is to do that in direct list version.</p>\n"},{"tags":["java","performance","profiling","java-11","flamegraph"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694724120,"post_id":77099936,"comment_id":135932820,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1695211408,"post_id":77099936,"comment_id":135993348,"body_markdown":"What you want to do, measure the time taken by each method, is not correct. Try [*this*](https://stackoverflow.com/a/27867426/23771) instead.","body":"What you want to do, measure the time taken by each method, is not correct. Try <a href=\"https://stackoverflow.com/a/27867426/23771\"><i>this</i></a> instead."},{"owner":{"account_id":17938913,"reputation":19,"user_id":13034667,"display_name":"prajkuma"},"score":0,"creation_date":1697067289,"post_id":77099936,"comment_id":136234218,"body_markdown":"@MikeDunlavey: My application has multiple web services calls made by various methods. So I wanted to calculate time taken by each web services .","body":"@MikeDunlavey: My application has multiple web services calls made by various methods. So I wanted to calculate time taken by each web services ."},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1697153351,"post_id":77099936,"comment_id":136247571,"body_markdown":"@prajkuma: I understand that&#39;s what you want. If on the other hand *you want to make it go faster*, that doesn&#39;t work. Random pausing *does* work, because it pinpoints the *activities* that are costing time. What I mean be an &quot;activity&quot; is not only the routines involved, but the precise lines of code involved, and the reasons for each one. If one of the reasons at one of the levels of a random call stack isn&#39;t strictly necessary and could be replaced with something simpler, *you get a speedup!* And notice - this has nothing to do with function times.","body":"@prajkuma: I understand that&#39;s what you want. If on the other hand <i>you want to make it go faster</i>, that doesn&#39;t work. Random pausing <i>does</i> work, because it pinpoints the <i>activities</i> that are costing time. What I mean be an &quot;activity&quot; is not only the routines involved, but the precise lines of code involved, and the reasons for each one. If one of the reasons at one of the levels of a random call stack isn&#39;t strictly necessary and could be replaced with something simpler, <i>you get a speedup!</i> And notice - this has nothing to do with function times."}],"answers":[{"comments":[{"owner":{"account_id":17938913,"reputation":19,"user_id":13034667,"display_name":"prajkuma"},"score":0,"creation_date":1697067345,"post_id":77110746,"comment_id":136234221,"body_markdown":"Thank you for the suggestion. I will try these methods.","body":"Thank you for the suggestion. I will try these methods."}],"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694766020,"creation_date":1694766020,"answer_id":77110746,"question_id":77099936,"body_markdown":"I would recommend using JProfiler, which has specific support for Spring and Hibernate, see the [screencast for profiling Spring applications][1] and the [screencast for profiling Hibernate][2]. If you like flame graphs, [JProfiler has them as well][3].\r\n\r\nJProfiler 14 can profile all Java versions starting with Java 1.5 up to the current Java version.\r\n\r\nDisclaimer: My company develops JProfiler\r\n\r\n\r\n  [1]: https://www.ej-technologies.com/blog/2023/01/profiling-jee-spring-applications/\r\n  [2]: https://www.ej-technologies.com/blog/2012/01/profiling-jpa-hibernate/\r\n  [3]: https://www.ej-technologies.com/blog/2022/11/using-flame-graphs-when-profiling-java-applications/","title":"Java-11 Profiling","body":"<p>I would recommend using JProfiler, which has specific support for Spring and Hibernate, see the <a href=\"https://www.ej-technologies.com/blog/2023/01/profiling-jee-spring-applications/\" rel=\"nofollow noreferrer\">screencast for profiling Spring applications</a> and the <a href=\"https://www.ej-technologies.com/blog/2012/01/profiling-jpa-hibernate/\" rel=\"nofollow noreferrer\">screencast for profiling Hibernate</a>. If you like flame graphs, <a href=\"https://www.ej-technologies.com/blog/2022/11/using-flame-graphs-when-profiling-java-applications/\" rel=\"nofollow noreferrer\">JProfiler has them as well</a>.</p>\n<p>JProfiler 14 can profile all Java versions starting with Java 1.5 up to the current Java version.</p>\n<p>Disclaimer: My company develops JProfiler</p>\n"}],"owner":{"account_id":17938913,"reputation":19,"user_id":13034667,"display_name":"prajkuma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1694766020,"creation_date":1694632684,"question_id":77099936,"body_markdown":"I want to do profiling for the Java-11 Spring hibernate application especially measure the time taken by each method, hibernate queries.\r\n\r\n\r\n\r\nI did tried profiling using intellj but the flame graph dint have time taken for each method. Visual VM plugin in the intellj couldn&#39;t measure the Java-11 application. So, \r\n\r\n1.Any other methods recommended to follow?.\r\n2.Is there any approach to calculate time taken by each method. \r\n\r\nShare your thoughts.\r\n","title":"Java-11 Profiling","body":"<p>I want to do profiling for the Java-11 Spring hibernate application especially measure the time taken by each method, hibernate queries.</p>\n<p>I did tried profiling using intellj but the flame graph dint have time taken for each method. Visual VM plugin in the intellj couldn't measure the Java-11 application. So,</p>\n<p>1.Any other methods recommended to follow?.\n2.Is there any approach to calculate time taken by each method.</p>\n<p>Share your thoughts.</p>\n"},{"tags":["java","jackson","jsonnode"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694724138,"post_id":77108199,"comment_id":135932823,"body_markdown":"I suggest you compare the API . Not sure if these are what you are looking for: \n https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#fields()  https://fasterxml.github.io/jackson-core/javadoc/1.9/org/codehaus/jackson/JsonNode.html#getFields()","body":"I suggest you compare the API . Not sure if these are what you are looking for:   <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#fields()\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterx&zwnj;&#8203;ml/&hellip;</a>  <a href=\"https://fasterxml.github.io/jackson-core/javadoc/1.9/org/codehaus/jackson/JsonNode.html#getFields()\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-core/javadoc/1.9/org/codehaus/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694724335,"post_id":77108199,"comment_id":135932856,"body_markdown":"Consider adding `jsonnode` and `jackson` tags to your question. It will help more people familiar with those to find your question.","body":"Consider adding <code>jsonnode</code> and <code>jackson</code> tags to your question. It will help more people familiar with those to find your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694726294,"post_id":77108199,"comment_id":135933125,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694724128,"creation_date":1694724128,"answer_id":77108253,"question_id":77108199,"body_markdown":"You should use [`com.fasterxml.jackson.databind.JsonNode.fields()`][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#fields()","title":"The method getFields() is undefined for the type JsonNode","body":"<p>You should use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#fields()\" rel=\"nofollow noreferrer\"><code>com.fasterxml.jackson.databind.JsonNode.fields()</code></a></p>\n"}],"owner":{"account_id":25518790,"reputation":1,"user_id":19309136,"display_name":"Soumya Naidu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1694726514,"answer_count":1,"score":-2,"last_activity_date":1694765804,"creation_date":1694723466,"question_id":77108199,"body_markdown":"I&#39;m new to Java. I had to replace the reference to org.codehaus.jackson.JsonNode library with com.fasterxml.jackson.databind.JsonNode to resolve security vulnerabilities. Now, I&#39;m getting the above error.\r\n\r\n```\r\nprivate static String convertColumnsNamesToFieldNames(SFObjectModel model, JsonNode node,\r\n\t\tHashMap&lt;String, String&gt; aliasMap) {\r\n    Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; iter = node.getFields();\r\n```\r\n \r\nDo you know what the equivalent is in the new library?\r\n\r\nI tried the fields() method and the error went away, but I really don&#39;t know if this is correct. Could someone confirm if this will work.","title":"The method getFields() is undefined for the type JsonNode","body":"<p>I'm new to Java. I had to replace the reference to org.codehaus.jackson.JsonNode library with com.fasterxml.jackson.databind.JsonNode to resolve security vulnerabilities. Now, I'm getting the above error.</p>\n<pre><code>private static String convertColumnsNamesToFieldNames(SFObjectModel model, JsonNode node,\n        HashMap&lt;String, String&gt; aliasMap) {\n    Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; iter = node.getFields();\n</code></pre>\n<p>Do you know what the equivalent is in the new library?</p>\n<p>I tried the fields() method and the error went away, but I really don't know if this is correct. Could someone confirm if this will work.</p>\n"},{"tags":["java","swagger","openapi","springfox"],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694765744,"creation_date":1694762339,"question_id":77110370,"body_markdown":"I use spring fox 3 to generate the swagger document.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nCurrently there are 20 APIs in this swagger document, 18 of them have some common headers as below: \r\n\r\n```\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;uuid&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;channelId&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Registered channel ID&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;businessCode&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Business code&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n```\r\nBut 2 of them don&#39;t need the headers.\r\n\r\nAppreciate a lot if you can advise a solution using spring fox 3 to realize that the 18 APIs have the common headers but the 2 APIs don&#39;t have.","title":"How to add common headers using spring fox 3","body":"<p>I use spring fox 3 to generate the swagger document.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Currently there are 20 APIs in this swagger document, 18 of them have some common headers as below:</p>\n<pre><code>                    {\n                        &quot;name&quot;: &quot;uuid&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;channelId&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Registered channel ID&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;businessCode&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Business code&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n</code></pre>\n<p>But 2 of them don't need the headers.</p>\n<p>Appreciate a lot if you can advise a solution using spring fox 3 to realize that the 18 APIs have the common headers but the 2 APIs don't have.</p>\n"},{"tags":["java","ssl","java-8"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1694511279,"post_id":77087839,"comment_id":135896990,"body_markdown":"Do you use openjdk oder the jdk from Oracle?","body":"Do you use openjdk oder the jdk from Oracle?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694511615,"post_id":77087839,"comment_id":135897078,"body_markdown":"Looks like you use `TLS13` and server `TLS1`. Can it be, that servierside the 1.3 is not supported?","body":"Looks like you use <code>TLS13</code> and server <code>TLS1</code>. Can it be, that servierside the 1.3 is not supported?"},{"owner":{"account_id":19766,"reputation":2101,"user_id":46600,"accept_rate":67,"display_name":"Nils Weinander"},"score":0,"creation_date":1694511817,"post_id":77087839,"comment_id":135897125,"body_markdown":"OpenJDK\nThe server supports TLSv1.3 according to SSL Server Test (I have also tried forcing TLSv1.2 but that makes no difference).","body":"OpenJDK The server supports TLSv1.3 according to SSL Server Test (I have also tried forcing TLSv1.2 but that makes no difference)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694512189,"post_id":77087839,"comment_id":135897207,"body_markdown":"Any information server side?","body":"Any information server side?"},{"owner":{"account_id":19766,"reputation":2101,"user_id":46600,"accept_rate":67,"display_name":"Nils Weinander"},"score":0,"creation_date":1694517845,"post_id":77087839,"comment_id":135898395,"body_markdown":"Well, what SSLlabs tell: https://www.ssllabs.com/ssltest/analyze.html?d=snl.no\nI&#39;m not familiar enough with this to make out the nuances, but nothing looks strange.","body":"Well, what SSLlabs tell: <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=snl.no\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest/analyze.html?d=snl.no</a> I&#39;m not familiar enough with this to make out the nuances, but nothing looks strange."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":4,"creation_date":1694523452,"post_id":77087839,"comment_id":135899707,"body_markdown":"As ssllabs says **&quot;This site works only in browsers with SNI support.&quot;** where &#39;browser&#39; really means &#39;client&#39;, and your code is sending ClientHello without SNI. Some older versions of Java/JSSE had bugs about SNI, but any update that supports TLS1.3 -- i.e. 8u261 up -- should support SNI UNLESS you use an API that doesn&#39;t pass the servername (like creating a TCP `Socket` and overlaying the `SSLSocket` on it) or you set sysprop `jsse.enableSNIextension=false` -- did you do either of those?","body":"As ssllabs says <b>&quot;This site works only in browsers with SNI support.&quot;</b> where &#39;browser&#39; really means &#39;client&#39;, and your code is sending ClientHello without SNI. Some older versions of Java/JSSE had bugs about SNI, but any update that supports TLS1.3 -- i.e. 8u261 up -- should support SNI UNLESS you use an API that doesn&#39;t pass the servername (like creating a TCP <code>Socket</code> and overlaying the <code>SSLSocket</code> on it) or you set sysprop <code>jsse.enableSNIextension=false</code> -- did you do either of those?"},{"owner":{"account_id":19766,"reputation":2101,"user_id":46600,"accept_rate":67,"display_name":"Nils Weinander"},"score":0,"creation_date":1694591067,"post_id":77087839,"comment_id":135909705,"body_markdown":"I definitely don&#39;t set jsse.enableSNIextension=false, cannot say about the server name, as I don&#39;t handle the lower level details myself, using the HTTP client of (an old version of) Play!Framework. But, this is something to dig further into. Thanks!","body":"I definitely don&#39;t set jsse.enableSNIextension=false, cannot say about the server name, as I don&#39;t handle the lower level details myself, using the HTTP client of (an old version of) Play!Framework. But, this is something to dig further into. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":19766,"reputation":2101,"user_id":46600,"accept_rate":67,"display_name":"Nils Weinander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694634498,"creation_date":1694634498,"answer_id":77100098,"question_id":77087839,"body_markdown":"In the end, switching to another HTTP client inplementation (Apache HTTP) works.","title":"Java 8 SSL failure on initial handshake","body":"<p>In the end, switching to another HTTP client inplementation (Apache HTTP) works.</p>\n"}],"owner":{"account_id":19766,"reputation":2101,"user_id":46600,"accept_rate":67,"display_name":"Nils Weinander"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694765411,"creation_date":1694511146,"question_id":77087839,"body_markdown":"A connection which has previously worked fine now causes handshake failure at the initial handshake. I.e. the SSL log shows a ClientHello, and then \r\n\r\n&gt; Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure\r\n\r\nbefore getting a ServerHello. I have checked with https://www.ssllabs.com/ssltest/analyze.html?d=snl.no and there should not be a problem with cipher suites or TLS version.\r\n\r\nRelevant (?) portion of the SSL log:\r\n\r\n```none\r\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.305 CEST|SSLEngineOutputRecord.java:505|WRITE: TLS13 handshake, length = 377\r\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.306 CEST|SSLEngineOutputRecord.java:523|Raw write (\r\n  0000: 16 03 03 01 79 01 00 01   75 03 03 0E 38 E9 53 F4  ....y...u...8.S.\r\n  0010: 6F CA B9 08 6E B6 FD C2   56 8F C3 90 7C 39 B3 62  o...n...V....9.b\r\n  0020: 49 97 06 6D 6C 0B 7A AD   87 63 95 20 0F 60 8F 82  I..ml.z..c. .`..\r\n  0030: E3 4A F3 25 B9 B1 DD A0   27 E6 94 6F 70 3F 41 39  .J.%....&#39;..op?A9\r\n  0040: FA 10 E5 45 F0 15 98 6D   05 2C 79 8B 00 5A 13 02  ...E...m.,y..Z..\r\n  0050: 13 01 C0 2C C0 2B C0 30   C0 2F 00 9F 00 A3 00 9E  ...,.+.0./......\r\n  0060: 00 A2 C0 24 C0 28 C0 23   C0 27 00 6B 00 6A 00 67  ...$.(.#.&#39;.k.j.g\r\n  0070: 00 40 C0 2E C0 32 C0 2D   C0 31 C0 26 C0 2A C0 25  .@...2.-.1.&amp;.*.%\r\n  0080: C0 29 C0 0A C0 14 C0 09   C0 13 00 39 00 38 00 33  .).........9.8.3\r\n  0090: 00 32 C0 05 C0 0F C0 04   C0 0E 00 9D 00 9C 00 3D  .2.............=\r\n  00A0: 00 3C 00 35 00 2F 00 FF   01 00 00 D2 00 0A 00 12  .&lt;.5./..........\r\n  00B0: 00 10 00 17 00 18 00 19   01 00 01 01 01 02 01 03  ................\r\n  00C0: 01 04 00 0B 00 02 01 00   00 0D 00 28 00 26 04 03  ...........(.&amp;..\r\n  00D0: 05 03 06 03 08 04 08 05   08 06 08 09 08 0A 08 0B  ................\r\n  00E0: 04 01 05 01 06 01 04 02   03 03 03 01 03 02 02 03  ................\r\n  00F0: 02 01 02 02 00 32 00 28   00 26 04 03 05 03 06 03  .....2.(.&amp;......\r\n  0100: 08 04 08 05 08 06 08 09   08 0A 08 0B 04 01 05 01  ................\r\n  0110: 06 01 04 02 03 03 03 01   03 02 02 03 02 01 02 02  ................\r\n  0120: 00 17 00 00 00 2B 00 05   04 03 04 03 03 00 2D 00  .....+........-.\r\n  0130: 02 01 01 00 33 00 47 00   45 00 17 00 41 04 F7 1B  ....3.G.E...A...\r\n  0140: 8D 37 18 D5 E9 DD 4F 85   85 BD FF DF ED 3B 94 87  .7....O......;..\r\n  0150: BF 4B 79 D3 49 8A B3 11   BC 98 B9 53 1E 1B B6 28  .Ky.I......S...(\r\n  0160: EF 7E 16 0D 73 CA E9 A4   51 95 CE C7 D0 80 18 8C  ....s...Q.......\r\n  0170: 7B C7 13 74 F1 29 D7 93   E6 1E BE 39 10 6C        ...t.).....9.l\r\n)\r\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.333 CEST|SSLEngineInputRecord.java:177|Raw read (\r\n  0000: 15 03 01 00 02 02 28                               ......(\r\n)\r\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.334 CEST|SSLEngineInputRecord.java:214|READ: TLSv1 alert, length = 2\r\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.334 CEST|Alert.java:238|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;handshake_failure&quot;\r\n}\r\n)\r\n```\r\n\r\nAny ideas what is wrong? Is there a workaround?","title":"Java 8 SSL failure on initial handshake","body":"<p>A connection which has previously worked fine now causes handshake failure at the initial handshake. I.e. the SSL log shows a ClientHello, and then</p>\n<blockquote>\n<p>Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure</p>\n</blockquote>\n<p>before getting a ServerHello. I have checked with <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=snl.no\" rel=\"nofollow noreferrer\">https://www.ssllabs.com/ssltest/analyze.html?d=snl.no</a> and there should not be a problem with cipher suites or TLS version.</p>\n<p>Relevant (?) portion of the SSL log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.305 CEST|SSLEngineOutputRecord.java:505|WRITE: TLS13 handshake, length = 377\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.306 CEST|SSLEngineOutputRecord.java:523|Raw write (\n  0000: 16 03 03 01 79 01 00 01   75 03 03 0E 38 E9 53 F4  ....y...u...8.S.\n  0010: 6F CA B9 08 6E B6 FD C2   56 8F C3 90 7C 39 B3 62  o...n...V....9.b\n  0020: 49 97 06 6D 6C 0B 7A AD   87 63 95 20 0F 60 8F 82  I..ml.z..c. .`..\n  0030: E3 4A F3 25 B9 B1 DD A0   27 E6 94 6F 70 3F 41 39  .J.%....'..op?A9\n  0040: FA 10 E5 45 F0 15 98 6D   05 2C 79 8B 00 5A 13 02  ...E...m.,y..Z..\n  0050: 13 01 C0 2C C0 2B C0 30   C0 2F 00 9F 00 A3 00 9E  ...,.+.0./......\n  0060: 00 A2 C0 24 C0 28 C0 23   C0 27 00 6B 00 6A 00 67  ...$.(.#.'.k.j.g\n  0070: 00 40 C0 2E C0 32 C0 2D   C0 31 C0 26 C0 2A C0 25  .@...2.-.1.&amp;.*.%\n  0080: C0 29 C0 0A C0 14 C0 09   C0 13 00 39 00 38 00 33  .).........9.8.3\n  0090: 00 32 C0 05 C0 0F C0 04   C0 0E 00 9D 00 9C 00 3D  .2.............=\n  00A0: 00 3C 00 35 00 2F 00 FF   01 00 00 D2 00 0A 00 12  .&lt;.5./..........\n  00B0: 00 10 00 17 00 18 00 19   01 00 01 01 01 02 01 03  ................\n  00C0: 01 04 00 0B 00 02 01 00   00 0D 00 28 00 26 04 03  ...........(.&amp;..\n  00D0: 05 03 06 03 08 04 08 05   08 06 08 09 08 0A 08 0B  ................\n  00E0: 04 01 05 01 06 01 04 02   03 03 03 01 03 02 02 03  ................\n  00F0: 02 01 02 02 00 32 00 28   00 26 04 03 05 03 06 03  .....2.(.&amp;......\n  0100: 08 04 08 05 08 06 08 09   08 0A 08 0B 04 01 05 01  ................\n  0110: 06 01 04 02 03 03 03 01   03 02 02 03 02 01 02 02  ................\n  0120: 00 17 00 00 00 2B 00 05   04 03 04 03 03 00 2D 00  .....+........-.\n  0130: 02 01 01 00 33 00 47 00   45 00 17 00 41 04 F7 1B  ....3.G.E...A...\n  0140: 8D 37 18 D5 E9 DD 4F 85   85 BD FF DF ED 3B 94 87  .7....O......;..\n  0150: BF 4B 79 D3 49 8A B3 11   BC 98 B9 53 1E 1B B6 28  .Ky.I......S...(\n  0160: EF 7E 16 0D 73 CA E9 A4   51 95 CE C7 D0 80 18 8C  ....s...Q.......\n  0170: 7B C7 13 74 F1 29 D7 93   E6 1E BE 39 10 6C        ...t.).....9.l\n)\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.333 CEST|SSLEngineInputRecord.java:177|Raw read (\n  0000: 15 03 01 00 02 02 28                               ......(\n)\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.334 CEST|SSLEngineInputRecord.java:214|READ: TLSv1 alert, length = 2\njavax.net.ssl|FINE|16 61|New I/O worker #36|2023-09-11 14:54:50.334 CEST|Alert.java:238|Received alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;handshake_failure&quot;\n}\n)\n</code></pre>\n<p>Any ideas what is wrong? Is there a workaround?</p>\n"},{"tags":["java","android","react-native","module","native"],"owner":{"account_id":27787109,"reputation":1,"user_id":21214329,"display_name":"DisplayName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694765405,"creation_date":1694718430,"question_id":77107755,"body_markdown":"I want to hide app onclick in a react-native application, I am using custom native modules. But the problem is that the app Closes but never hides the icon.\r\nI am using Virtual Device, Pixel 7 Pro, Android 14.\r\nAlso tell me if it requires any custom permissions.\r\n\r\nI tried to do it through an existing method:\r\n \r\n\r\n```\r\npackage com.icicapp;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\nimport com.facebook.react.bridge.Promise;\r\n\r\npublic class HideAppModule extends ReactContextBaseJavaModule {\r\n    private final ReactApplicationContext reactContext;\r\n\r\n    public HideAppModule(ReactApplicationContext context) {\r\n        super(context);\r\n        reactContext = context;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;HideAppModule&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void hideAppIcon() {\r\n        PackageManager pm = reactContext.getPackageManager();\r\n        pm.setComponentEnabledSetting(\r\n                reactContext.getComponentName(),\r\n                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\r\n                PackageManager.DONT_KILL_APP);\r\n        Log.d(&quot;HideAppModule&quot;, &quot;App icon hidden successfully!&quot;); // Add this line\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How can I hide/unhide app icon programmatically in Java ? Is it possible in latest androids?","body":"<p>I want to hide app onclick in a react-native application, I am using custom native modules. But the problem is that the app Closes but never hides the icon.\nI am using Virtual Device, Pixel 7 Pro, Android 14.\nAlso tell me if it requires any custom permissions.</p>\n<p>I tried to do it through an existing method:</p>\n<pre><code>package com.icicapp;\n\nimport android.content.pm.PackageManager;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport com.facebook.react.bridge.Promise;\n\npublic class HideAppModule extends ReactContextBaseJavaModule {\n    private final ReactApplicationContext reactContext;\n\n    public HideAppModule(ReactApplicationContext context) {\n        super(context);\n        reactContext = context;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;HideAppModule&quot;;\n    }\n\n    @ReactMethod\n    public void hideAppIcon() {\n        PackageManager pm = reactContext.getPackageManager();\n        pm.setComponentEnabledSetting(\n                reactContext.getComponentName(),\n                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,\n                PackageManager.DONT_KILL_APP);\n        Log.d(&quot;HideAppModule&quot;, &quot;App icon hidden successfully!&quot;); // Add this line\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":4,"creation_date":1659943510,"post_id":73274148,"comment_id":129405968,"body_markdown":"Why don&#39;t you simply use JdbcTemplate?","body":"Why don&#39;t you simply use JdbcTemplate?"}],"answers":[{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659975648,"creation_date":1659975648,"answer_id":73281097,"question_id":73274148,"body_markdown":"You need to use some entity as JPA is domain driven, refer https://stackoverflow.com/questions/59357157/any-way-to-use-the-procedure-annotation-without-an-entity\r\nand \r\nhttps://stackoverflow.com/questions/48524189/using-spring-procedure-to-call-storedprocedure-without-binding-to-a-table\r\n\r\nIn my opinion, you should use Just use JDBC template.","title":"Call stored procedure in repository without entity","body":"<p>You need to use some entity as JPA is domain driven, refer <a href=\"https://stackoverflow.com/questions/59357157/any-way-to-use-the-procedure-annotation-without-an-entity\">Any way to use the `@Procedure` annotation without an entity?</a>\nand\n<a href=\"https://stackoverflow.com/questions/48524189/using-spring-procedure-to-call-storedprocedure-without-binding-to-a-table\">Using Spring @Procedure to call StoredProcedure without binding to a table</a></p>\n<p>In my opinion, you should use Just use JDBC template.</p>\n"},{"tags":[],"owner":{"account_id":4306454,"reputation":35,"user_id":3518701,"display_name":"Kuldeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694765096,"creation_date":1694765096,"answer_id":77110652,"question_id":73274148,"body_markdown":"CrudRepository or JpaRepository were not designed to work without an &lt;Entity,ID&gt; pair.\r\n\r\nYou are better off creating a custom repo, inject EntityManager and query from there:\r\n\r\n    \r\n    @Repository\r\n    public class MyRepository {\r\n    \r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n    \r\n        public void doSomeQuery(){\r\n            Query query = entityManager.createNativeQuery(&quot;SELECT foo FROM bar&quot;);\r\n            query.getResultsList()\r\n            ...\r\n        }\r\n    \r\n    }","title":"Call stored procedure in repository without entity","body":"<p>CrudRepository or JpaRepository were not designed to work without an &lt;Entity,ID&gt; pair.</p>\n<p>You are better off creating a custom repo, inject EntityManager and query from there:</p>\n<pre><code>@Repository\npublic class MyRepository {\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    public void doSomeQuery(){\n        Query query = entityManager.createNativeQuery(&quot;SELECT foo FROM bar&quot;);\n        query.getResultsList()\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694765096,"creation_date":1659943287,"question_id":73274148,"body_markdown":"I have a service with spring data jpa which uses multiple datasource. One of the datasource is used as the main storage and Entity is used there and repositories are described. Other datasources are used simply to call stored procedures and functions.\r\nCan you please tell me if I can somehow create a spring data jpa repository for datasource without an entity and use the `@Procedure` annotations to force the function to call the stored procedure I need?\r\nI read about https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations and just wrote my repository implementation. Looking for alternative, more convenient use cases for the spring data jpa api.","title":"Call stored procedure in repository without entity","body":"<p>I have a service with spring data jpa which uses multiple datasource. One of the datasource is used as the main storage and Entity is used there and repositories are described. Other datasources are used simply to call stored procedures and functions.\nCan you please tell me if I can somehow create a spring data jpa repository for datasource without an entity and use the <code>@Procedure</code> annotations to force the function to call the stored procedure I need?\nI read about <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations</a> and just wrote my repository implementation. Looking for alternative, more convenient use cases for the spring data jpa api.</p>\n"},{"tags":["java","android","mobile","native"],"comments":[{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1647743603,"post_id":71513303,"comment_id":126447010,"body_markdown":"Hello @jplabs , is it possible to edit your question and append the solution? Thank you!","body":"Hello @jplabs , is it possible to edit your question and append the solution? Thank you!"},{"owner":{"account_id":17551686,"reputation":91,"user_id":12731963,"display_name":"jplabs"},"score":1,"creation_date":1647847785,"post_id":71513303,"comment_id":126464719,"body_markdown":"The solution is appended @Panayotis. I hope this helps","body":"The solution is appended @Panayotis. I hope this helps"}],"answers":[{"comments":[{"owner":{"account_id":17551686,"reputation":91,"user_id":12731963,"display_name":"jplabs"},"score":0,"creation_date":1647525934,"post_id":71513383,"comment_id":126396880,"body_markdown":"Wow this works flawlessly. Thank you so much, I wasted several hours today on this issue. It&#39;s really confusing to work with files on android since they change the security and permission handling so often.","body":"Wow this works flawlessly. Thank you so much, I wasted several hours today on this issue. It&#39;s really confusing to work with files on android since they change the security and permission handling so often."},{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1647742903,"post_id":71513383,"comment_id":126446935,"body_markdown":"I have exactly the same problem, but I use code similar to : ` Uri uri = Uri.fromFile(Uri.parse(c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI))));\n\n                startActivityForResult(new Intent().setAction(android.content.Intent.ACTION_VIEW)\n                        .setDataAndType(uri, mime)\n                        .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION), registerGlobally(listener));`  but it doesn&#39;t work.    Any ideas? Hints?","body":"I have exactly the same problem, but I use code similar to : ` Uri uri = Uri.fromFile(Uri.parse(c.getString(c.getColumnIndex(Download&zwnj;&#8203;Manager.COLUMN_LOCAL&zwnj;&#8203;_URI))));                  startActivityForResult(new Intent().setAction(android.content.Intent.ACTION_VIEW)                         .setDataAndType(uri, mime)                         .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION), registerGlobally(listener));`  but it doesn&#39;t work.    Any ideas? Hints?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1647756530,"post_id":71513383,"comment_id":126448257,"body_markdown":"Do not use Uri.fromFile() if you have already an uri.","body":"Do not use Uri.fromFile() if you have already an uri."},{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1647771769,"post_id":71513383,"comment_id":126450503,"body_markdown":"@jplabs Sorry for the noise! Indeed if I use this methodology instead https://stackoverflow.com/questions/53069828/how-to-get-yhe-uri-of-a-file-that-i-downloaded-with-download-manager it works flawlessly! Thank you -- you&#39;re a lifesaver.","body":"@jplabs Sorry for the noise! Indeed if I use this methodology instead <a href=\"https://stackoverflow.com/questions/53069828/how-to-get-yhe-uri-of-a-file-that-i-downloaded-with-download-manager\" title=\"how to get yhe uri of a file that i downloaded with download manager\">stackoverflow.com/questions/53069828/&hellip;</a> it works flawlessly! Thank you -- you&#39;re a lifesaver."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647524673,"creation_date":1647524673,"answer_id":71513383,"question_id":71513303,"body_markdown":"You should not use FileProvider to obtain an uri for your file.\r\n\r\nYou can get an uri from DownloadManager and use it to serve your file.\r\n\r\nCode would be the same for all Android versions.\r\n\r\nNot a single permission needed.","title":"Open PDF after download with DownloadManager and FileProvider on Android Q (10)","body":"<p>You should not use FileProvider to obtain an uri for your file.</p>\n<p>You can get an uri from DownloadManager and use it to serve your file.</p>\n<p>Code would be the same for all Android versions.</p>\n<p>Not a single permission needed.</p>\n"}],"owner":{"account_id":17551686,"reputation":91,"user_id":12731963,"display_name":"jplabs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71513383,"answer_count":1,"score":2,"last_activity_date":1694765053,"creation_date":1647524374,"question_id":71513303,"body_markdown":"targetSdkVersion: 30\r\n\r\nIn our App we have a feature, where we download files (mostly pdf) to the public download folder and start an intent afterwards to open it. Our code works fine for android apps with api &lt;= 28 and &gt;= 30. Just our app on Android 10 (sdkVersion 29) will try to open the document and instantly closes the activity that tried to display the pdf. The logcat shows following error:\r\n\r\n```\r\n22-03-17 14:23:42.486 12161-15168/? E/DisplayData: openFd: java.io.FileNotFoundException: open failed: EACCES (Permission denied)\r\n22-03-17 14:23:42.486 12161-15168/? E/PdfLoader: Can&#39;t load file (doesn&#39;t open)  Display Data [PDF : download.pdf] +ContentOpenable, uri: content://com.example.fileprovider/Download/download.pdf\r\n``` \r\nIf I grant the files permission in the app settings, it will work flawlessly but if I understood the android documentation correctly this should not be necessary since Android 10. Especially because there are no problems on Android 11 and Android 12 devices that do not have this permission. On all Android versions the file will be downloaded correctly and the user could manually open it from the download section of his device.\r\n\r\nThis is the Android Manifest section for the fileprovider\r\n\r\n```\r\n&lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;        \r\n    android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n       android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n       android:resource=&quot;@xml/filepaths&quot; /&gt;\r\n&lt;/provider&gt;\r\n```\r\n\r\nThe filepaths XML file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-files-path\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;external-path\r\n        name=&quot;Download&quot;\r\n        path=&quot;Download/&quot;/&gt;\r\n    &lt;files-path\r\n        name=&quot;files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;external-cache-path\r\n        name=&quot;external_cache&quot;\r\n        path=&quot;.&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\nThis is the code with the DownloadManager usage to download the files\r\n\r\n```\r\npublic static long downloadFile(Context context, String url, String fileName) {\r\n    DownloadManager downloadManager = (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n\r\n    try {\r\n        DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n        request.setTitle(fileName)\r\n                .setDescription(Localization.getStringClient(&quot;file_download_progress&quot;))\r\n                .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\r\n                .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n\r\n        return downloadManager.enqueue(request);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\r\n    }\r\n    return -1;\r\n}\r\n```\r\n\r\nThe broadcast receiver that listens on the download progress\r\n```\r\npublic class DownloadBroadcastReceiver extends BroadcastReceiver {\r\n\r\n    private long downloadId = -2;\r\n\r\n    public void setDownloadId(long downloadId) {\r\n        this.downloadId = downloadId;\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        long id = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\r\n        if (id == downloadId) {\r\n            DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\r\n            DownloadManager.Query query = new DownloadManager.Query();\r\n            query.setFilterById(id);\r\n            Cursor c = downloadManager.query(query);\r\n            if (c != null) {\r\n                c.moveToFirst();\r\n                int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);\r\n                if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {\r\n                    String uriString = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\r\n                    String mediaType = c.getString(c.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE));\r\n                    Uri fileUri = Uri.parse(uriString);\r\n\r\n                    DownloadUtils.openFile(context, fileUri, mediaType);\r\n                } else if (DownloadManager.STATUS_FAILED == c.getInt(columnIndex)) {\r\n                    Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\r\n                }\r\n                c.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe code to open the file. Only on Android 10 the app closes the activity instantly again.\r\n```\r\npublic static void openFile(Context context, Uri fileUri, String mediaType) {\r\n    File file = new File(fileUri.getPath());\r\n    Uri uri = FileProvider.getUriForFile(\r\n            context,\r\n            context.getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\r\n            file\r\n    );\r\n\r\n    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n    intent.setDataAndType(uri, mediaType);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n    try {\r\n        context.startActivity(intent);\r\n    } catch (ActivityNotFoundException e) {\r\n        e.printStackTrace();\r\n        Toast.makeText(context, Localization.getStringClient(&quot;open_file_no_activity&quot;), Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nAnd a download call in the looks like this\r\n\r\n```\r\n@Override\r\npublic void startPDFDownload(String pdfDownloadUrl, String fileName) {\r\n    long downloadId = DownloadUtils.downloadFile(requireContext(), pdfDownloadUrl, fileName);\r\n\r\n    if (downloadId &gt; -1) {\r\n        DownloadBroadcastReceiver receiver = new DownloadBroadcastReceiver();\r\n        receiver.setDownloadId(downloadId);\r\n        requireContext().registerReceiver(receiver, new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE));\r\n    }\r\n}\r\n```\r\n\r\nI think I have a false understanding of how file handling works in Android 10 but I do not know where I have to adjust the code or configuration. Help is really appreciated. Currently as a workaround we ask for the permission for WRITE_EXTERNAL_STORAGE to open downloaded files on Android 10. But I would prefer to do it the right way.\r\n\r\n**Solution:**\r\n\r\nI adjusted the BroadcastReceiver to the following code. I removed the LOCAL_URI from the cursor and used the URI from the DownloadManager method.\r\n\r\n```\r\npublic class DownloadBroadcastReceiver extends BroadcastReceiver {\r\n\r\n    private long downloadId = -2;\r\n\r\n    public void setDownloadId(long downloadId) {\r\n        this.downloadId = downloadId;\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        long id = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\r\n        if (id == downloadId) {\r\n            DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\r\n            DownloadManager.Query query = new DownloadManager.Query();\r\n            query.setFilterById(id);\r\n            Cursor c = downloadManager.query(query);\r\n            if (c != null) {\r\n                c.moveToFirst();\r\n                int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);\r\n                if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {\r\n                    String mediaType = c.getString(c.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE));\r\n\r\n                    DownloadUtils.openFile(context, downloadManager.getUriForDownloadedFile(id), mediaType);\r\n                } else if (DownloadManager.STATUS_FAILED == c.getInt(columnIndex)) {\r\n                    Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\r\n                }\r\n                c.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I adjusted the method to open the file with the uri to following code. I removed the FileProvider code and used the uri from the DownloadManager.\r\n\r\n```\r\npublic static void openFile(Context context, Uri fileUri, String mediaType) {\r\n    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n    intent.setDataAndType(fileUri, mediaType);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n    try {\r\n        context.startActivity(intent);\r\n    } catch (ActivityNotFoundException e) {\r\n        e.printStackTrace();\r\n        Toast.makeText(context, Localization.getStringClient(&quot;open_file_no_activity&quot;), Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nThe code of the other methods remains the same.","title":"Open PDF after download with DownloadManager and FileProvider on Android Q (10)","body":"<p>targetSdkVersion: 30</p>\n<p>In our App we have a feature, where we download files (mostly pdf) to the public download folder and start an intent afterwards to open it. Our code works fine for android apps with api &lt;= 28 and &gt;= 30. Just our app on Android 10 (sdkVersion 29) will try to open the document and instantly closes the activity that tried to display the pdf. The logcat shows following error:</p>\n<pre><code>22-03-17 14:23:42.486 12161-15168/? E/DisplayData: openFd: java.io.FileNotFoundException: open failed: EACCES (Permission denied)\n22-03-17 14:23:42.486 12161-15168/? E/PdfLoader: Can't load file (doesn't open)  Display Data [PDF : download.pdf] +ContentOpenable, uri: content://com.example.fileprovider/Download/download.pdf\n</code></pre>\n<p>If I grant the files permission in the app settings, it will work flawlessly but if I understood the android documentation correctly this should not be necessary since Android 10. Especially because there are no problems on Android 11 and Android 12 devices that do not have this permission. On all Android versions the file will be downloaded correctly and the user could manually open it from the download section of his device.</p>\n<p>This is the Android Manifest section for the fileprovider</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;        \n    android:authorities=&quot;${applicationId}.fileprovider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n       android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n       android:resource=&quot;@xml/filepaths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>The filepaths XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-path\n        name=&quot;Download&quot;\n        path=&quot;Download/&quot;/&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-cache-path\n        name=&quot;external_cache&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>This is the code with the DownloadManager usage to download the files</p>\n<pre><code>public static long downloadFile(Context context, String url, String fileName) {\n    DownloadManager downloadManager = (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\n\n    try {\n        DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\n        request.setTitle(fileName)\n                .setDescription(Localization.getStringClient(&quot;file_download_progress&quot;))\n                .setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName)\n                .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n\n        return downloadManager.enqueue(request);\n    } catch (Exception e) {\n        e.printStackTrace();\n        Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\n    }\n    return -1;\n}\n</code></pre>\n<p>The broadcast receiver that listens on the download progress</p>\n<pre><code>public class DownloadBroadcastReceiver extends BroadcastReceiver {\n\n    private long downloadId = -2;\n\n    public void setDownloadId(long downloadId) {\n        this.downloadId = downloadId;\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        long id = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\n        if (id == downloadId) {\n            DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\n            DownloadManager.Query query = new DownloadManager.Query();\n            query.setFilterById(id);\n            Cursor c = downloadManager.query(query);\n            if (c != null) {\n                c.moveToFirst();\n                int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);\n                if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {\n                    String uriString = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\n                    String mediaType = c.getString(c.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE));\n                    Uri fileUri = Uri.parse(uriString);\n\n                    DownloadUtils.openFile(context, fileUri, mediaType);\n                } else if (DownloadManager.STATUS_FAILED == c.getInt(columnIndex)) {\n                    Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\n                }\n                c.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>The code to open the file. Only on Android 10 the app closes the activity instantly again.</p>\n<pre><code>public static void openFile(Context context, Uri fileUri, String mediaType) {\n    File file = new File(fileUri.getPath());\n    Uri uri = FileProvider.getUriForFile(\n            context,\n            context.getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\n            file\n    );\n\n    Intent intent = new Intent(Intent.ACTION_VIEW);\n    intent.setDataAndType(uri, mediaType);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    try {\n        context.startActivity(intent);\n    } catch (ActivityNotFoundException e) {\n        e.printStackTrace();\n        Toast.makeText(context, Localization.getStringClient(&quot;open_file_no_activity&quot;), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>And a download call in the looks like this</p>\n<pre><code>@Override\npublic void startPDFDownload(String pdfDownloadUrl, String fileName) {\n    long downloadId = DownloadUtils.downloadFile(requireContext(), pdfDownloadUrl, fileName);\n\n    if (downloadId &gt; -1) {\n        DownloadBroadcastReceiver receiver = new DownloadBroadcastReceiver();\n        receiver.setDownloadId(downloadId);\n        requireContext().registerReceiver(receiver, new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE));\n    }\n}\n</code></pre>\n<p>I think I have a false understanding of how file handling works in Android 10 but I do not know where I have to adjust the code or configuration. Help is really appreciated. Currently as a workaround we ask for the permission for WRITE_EXTERNAL_STORAGE to open downloaded files on Android 10. But I would prefer to do it the right way.</p>\n<p><strong>Solution:</strong></p>\n<p>I adjusted the BroadcastReceiver to the following code. I removed the LOCAL_URI from the cursor and used the URI from the DownloadManager method.</p>\n<pre><code>public class DownloadBroadcastReceiver extends BroadcastReceiver {\n\n    private long downloadId = -2;\n\n    public void setDownloadId(long downloadId) {\n        this.downloadId = downloadId;\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        long id = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);\n        if (id == downloadId) {\n            DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\n            DownloadManager.Query query = new DownloadManager.Query();\n            query.setFilterById(id);\n            Cursor c = downloadManager.query(query);\n            if (c != null) {\n                c.moveToFirst();\n                int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);\n                if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {\n                    String mediaType = c.getString(c.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE));\n\n                    DownloadUtils.openFile(context, downloadManager.getUriForDownloadedFile(id), mediaType);\n                } else if (DownloadManager.STATUS_FAILED == c.getInt(columnIndex)) {\n                    Toast.makeText(context, Localization.getStringClient(&quot;error_downloading_asset&quot;), Toast.LENGTH_SHORT).show();\n                }\n                c.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>And I adjusted the method to open the file with the uri to following code. I removed the FileProvider code and used the uri from the DownloadManager.</p>\n<pre><code>public static void openFile(Context context, Uri fileUri, String mediaType) {\n    Intent intent = new Intent(Intent.ACTION_VIEW);\n    intent.setDataAndType(fileUri, mediaType);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    try {\n        context.startActivity(intent);\n    } catch (ActivityNotFoundException e) {\n        e.printStackTrace();\n        Toast.makeText(context, Localization.getStringClient(&quot;open_file_no_activity&quot;), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>The code of the other methods remains the same.</p>\n"},{"tags":["java","jpa","orm","eclipselink","orphan-removal"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694792070,"post_id":77110587,"comment_id":135942206,"body_markdown":"No, you cannot arbitrarily override the orphan removal setting - that is the point of it being on the mapping instead of per operation. You will need to turn the flag off and then handle removing de-referenced children yourself. Easiest and most portable way is to handle the save/update/merge of the Parent - just read in the existing one, and if you need to handle cleanup, compare the collections and call em.remove on the missing ones. This might not be good though if the app reads in the object in the same context and makes changes directly on it, as there is no way to get the &#39;original&#39;","body":"No, you cannot arbitrarily override the orphan removal setting - that is the point of it being on the mapping instead of per operation. You will need to turn the flag off and then handle removing de-referenced children yourself. Easiest and most portable way is to handle the save/update/merge of the Parent - just read in the existing one, and if you need to handle cleanup, compare the collections and call em.remove on the missing ones. This might not be good though if the app reads in the object in the same context and makes changes directly on it, as there is no way to get the &#39;original&#39;"}],"owner":{"account_id":14207624,"reputation":33,"user_id":10263724,"display_name":"franok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694764750,"creation_date":1694764409,"question_id":77110587,"body_markdown":"I try to unlink a bidirectional relationship with a 1:n mapping, but would like to avoid JPA orphan removal in certain cases.\r\n\r\nI&#39;m using Spring Boot 2.7.15, Eclipselink 2.7.13 and Java 17.\r\n\r\nHere&#39;s the model:\r\n\r\n\r\n```java\r\n@Entity\r\npublic class Parent {\r\n\r\n    @Id\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\n    public int unlinkOddChildren() {\r\n        var oddChildren = getOddChildren();\r\n        oddChildren.forEach(Child::unlink); // unlink all odd children\r\n        return oddChildren.size();\r\n    }\r\n\r\n    public void notifyOnUnlink(Child child) {\r\n        this.getChildren().remove(child); // remove unlinked children from parent list\r\n    }\r\n\r\n    public Collection&lt;Child&gt; getOddChildren() {\r\n        final Collection&lt;Child&gt; oddChildren = new ArrayList&lt;&gt;(this.getChildren());\r\n        oddChildren.removeAll(this.getChildren().stream()\r\n                .filter(child -&gt; child.getId() % 2 == 0)\r\n                .toList());\r\n        return oddChildren;\r\n    }\r\n\r\n    // getters and setters\r\n    // ...\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class Child {\r\n\r\n    @Id\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    private Parent parent;\r\n\r\n    public void unlink() {\r\n        final var formerParent = getParent(); // Keep a backup reference to parent\r\n        setParent(null);\r\n        formerParent.notifyOnUnlink(this);\r\n    }\r\n\r\n    // getters and setters\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n**The goal is that the state in the Java layer is always consistent, without having to first flush/persist and then reload the objects from the database.** (The flush/reload approach would also make unit tests for this case very complex, i.e. they would require a DB connection and Spring context, although one only wants to test if `unlinkOddChildren()` works.)\r\n\r\nGiven following example:\r\n```java\r\nparent.getChildren(); // returns the parent&#39;s children 1-5 (a list of 5 children)\r\nparent.unlinkOddChildren(); // returns the number of unlinked odd children\r\nparent.getChildren(); // returns children 2 and 4\r\n```\r\nThis works because `unlinkOddChildren()` is implemented like this: once a child is unlinked, it notifies the parent and then is removed from the parent&#39;s list of children.\r\n\r\n### The problem I am trying to solve is this:\r\nOnce the changes are saved to the DB, the children 1, 3 and 5 would be deleted due to `orphanRemoval = true` setting in the `@OneToMany` mapping. But I just need to unlink them, so they continue to exist on the DB and are available for re-assignment to a new/other parent at a later point in time:\r\n\r\n```java\r\nvar orphans = findAllChildrenWithoutParent(); // returns all children on DB not related to a parent\r\nvar parent = new Parent();\r\nparent.adopt(orphans);\r\n```\r\n\r\n### Solutions that do not work in this scenario:\r\n1. **setting `orphanRemoval = false`**: in other scenarios, it is expected to auto-delete the orphaned children, e.g. when a parent is deleted.\r\n2. **`child.setParent(null)` without notifying the parent and removing the child from the parent&#39;s children list**: this would violate the previously described expectation, that the state in the Java layer is always consistent. When a child is unlinked from its parent, the parent should be updated with this information, i.e. its list of children needs to be updated within the process of unlinking. **In other words: it may never be that a parent holds a reference to a child that does not hold a reference to its parent.**\r\n\r\n## The question is:\r\n**How can I make JPA ignore the `orphanRemoval = true` setting in this particular case, so the orphans are not deleted?**\r\n\r\nNote: I uploaded a maven project with the code to GitHub, in case someone is interested in playing around with it: https://github.com/fkriegl/bidirectional-unlink-without-orphan-removal\r\n\r\n\r\n---\r\n&lt;sub&gt;Before composing this question on stackoverflow, I tried to&lt;/sub&gt;&lt;br&gt;\r\n&lt;sub&gt; - find a solution by reading the JPA/Eclipselink documentation for orphanRemoval.&lt;/sub&gt;&lt;br&gt;\r\n&lt;sub&gt; - set `orphanRemoval = false`, but this did break existing code/tests that rely on orphan removal. Manually deleting the orphans is not really feasible, it is too error prone.&lt;/sub&gt;\r\n","title":"Unlink a bidirectional 1:n mapping without orphan removal by JPA","body":"<p>I try to unlink a bidirectional relationship with a 1:n mapping, but would like to avoid JPA orphan removal in certain cases.</p>\n<p>I'm using Spring Boot 2.7.15, Eclipselink 2.7.13 and Java 17.</p>\n<p>Here's the model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Parent {\n\n    @Id\n    private Integer id;\n\n    private String name;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n\n    public int unlinkOddChildren() {\n        var oddChildren = getOddChildren();\n        oddChildren.forEach(Child::unlink); // unlink all odd children\n        return oddChildren.size();\n    }\n\n    public void notifyOnUnlink(Child child) {\n        this.getChildren().remove(child); // remove unlinked children from parent list\n    }\n\n    public Collection&lt;Child&gt; getOddChildren() {\n        final Collection&lt;Child&gt; oddChildren = new ArrayList&lt;&gt;(this.getChildren());\n        oddChildren.removeAll(this.getChildren().stream()\n                .filter(child -&gt; child.getId() % 2 == 0)\n                .toList());\n        return oddChildren;\n    }\n\n    // getters and setters\n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Child {\n\n    @Id\n    private Integer id;\n\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Parent parent;\n\n    public void unlink() {\n        final var formerParent = getParent(); // Keep a backup reference to parent\n        setParent(null);\n        formerParent.notifyOnUnlink(this);\n    }\n\n    // getters and setters\n    // ...\n}\n</code></pre>\n<p><strong>The goal is that the state in the Java layer is always consistent, without having to first flush/persist and then reload the objects from the database.</strong> (The flush/reload approach would also make unit tests for this case very complex, i.e. they would require a DB connection and Spring context, although one only wants to test if <code>unlinkOddChildren()</code> works.)</p>\n<p>Given following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>parent.getChildren(); // returns the parent's children 1-5 (a list of 5 children)\nparent.unlinkOddChildren(); // returns the number of unlinked odd children\nparent.getChildren(); // returns children 2 and 4\n</code></pre>\n<p>This works because <code>unlinkOddChildren()</code> is implemented like this: once a child is unlinked, it notifies the parent and then is removed from the parent's list of children.</p>\n<h3>The problem I am trying to solve is this:</h3>\n<p>Once the changes are saved to the DB, the children 1, 3 and 5 would be deleted due to <code>orphanRemoval = true</code> setting in the <code>@OneToMany</code> mapping. But I just need to unlink them, so they continue to exist on the DB and are available for re-assignment to a new/other parent at a later point in time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var orphans = findAllChildrenWithoutParent(); // returns all children on DB not related to a parent\nvar parent = new Parent();\nparent.adopt(orphans);\n</code></pre>\n<h3>Solutions that do not work in this scenario:</h3>\n<ol>\n<li><strong>setting <code>orphanRemoval = false</code></strong>: in other scenarios, it is expected to auto-delete the orphaned children, e.g. when a parent is deleted.</li>\n<li><strong><code>child.setParent(null)</code> without notifying the parent and removing the child from the parent's children list</strong>: this would violate the previously described expectation, that the state in the Java layer is always consistent. When a child is unlinked from its parent, the parent should be updated with this information, i.e. its list of children needs to be updated within the process of unlinking. <strong>In other words: it may never be that a parent holds a reference to a child that does not hold a reference to its parent.</strong></li>\n</ol>\n<h2>The question is:</h2>\n<p><strong>How can I make JPA ignore the <code>orphanRemoval = true</code> setting in this particular case, so the orphans are not deleted?</strong></p>\n<p>Note: I uploaded a maven project with the code to GitHub, in case someone is interested in playing around with it: <a href=\"https://github.com/fkriegl/bidirectional-unlink-without-orphan-removal\" rel=\"nofollow noreferrer\">https://github.com/fkriegl/bidirectional-unlink-without-orphan-removal</a></p>\n<hr />\n<p><sub>Before composing this question on stackoverflow, I tried to</sub><br>\n<sub> - find a solution by reading the JPA/Eclipselink documentation for orphanRemoval.</sub><br>\n<sub> - set <code>orphanRemoval = false</code>, but this did break existing code/tests that rely on orphan removal. Manually deleting the orphans is not really feasible, it is too error prone.</sub></p>\n"},{"tags":["java","eclipse","declaration"],"comments":[{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":0,"creation_date":1357610750,"post_id":14207074,"comment_id":19700816,"body_markdown":"Did you try creating a new project and copying/moving code from the old one?","body":"Did you try creating a new project and copying/moving code from the old one?"},{"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"score":0,"creation_date":1357610763,"post_id":14207074,"comment_id":19700819,"body_markdown":"Did you delete your .metadata folder?","body":"Did you delete your .metadata folder?"},{"owner":{"account_id":2216121,"reputation":641,"user_id":1956658,"display_name":"Taegug"},"score":0,"creation_date":1357610924,"post_id":14207074,"comment_id":19700853,"body_markdown":"yes but both does not solve the problem  :( or have my team somewhere delete any configuration ? under buildpath i can&#39;t do any action and this problem haven&#39;t a main class","body":"yes but both does not solve the problem  :( or have my team somewhere delete any configuration ? under buildpath i can&#39;t do any action and this problem haven&#39;t a main class"},{"owner":{"account_id":3963742,"reputation":726,"user_id":3270270,"accept_rate":64,"display_name":"Hamzahfrq"},"score":0,"creation_date":1393923647,"post_id":14207074,"comment_id":33642379,"body_markdown":"I faced the same problem. Here is the [question](http://stackoverflow.com/questions/22150139/no-index-in-eclipse-cdt-project-checked-out-from-svn/22167087#22167087) with the solution","body":"I faced the same problem. Here is the <a href=\"http://stackoverflow.com/questions/22150139/no-index-in-eclipse-cdt-project-checked-out-from-svn/22167087#22167087\">question</a> with the solution"},{"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"score":0,"creation_date":1432812954,"post_id":14207074,"comment_id":49086277,"body_markdown":"Did you solve this? I just installed Eclipse Luna on Debian 8 and I have the same error trying to open a method declaration.","body":"Did you solve this? I just installed Eclipse Luna on Debian 8 and I have the same error trying to open a method declaration."}],"answers":[{"comments":[{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":1,"creation_date":1406795670,"post_id":14224992,"comment_id":38972558,"body_markdown":"I&#39;m having this problem and would like Eclipse to generate those for me based on my POM","body":"I&#39;m having this problem and would like Eclipse to generate those for me based on my POM"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1406818397,"post_id":14224992,"comment_id":38987327,"body_markdown":"You&#39;re not the OP, but ok. For that one you clone the repository and then use the (I think) Import as Maven project wizard (instead of going through the Git Repositories view as usual).","body":"You&#39;re not the OP, but ok. For that one you clone the repository and then use the (I think) Import as Maven project wizard (instead of going through the Git Repositories view as usual)."}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357683466,"creation_date":1357683466,"answer_id":14224992,"question_id":14207074,"body_markdown":"You needed to to check it out as a Java Project, or preferably, its creator should have committed the .project and .classpath files for it.","title":"Eclipse Open declaration in Java project","body":"<p>You needed to to check it out as a Java Project, or preferably, its creator should have committed the .project and .classpath files for it.</p>\n"},{"tags":[],"owner":{"account_id":1778906,"reputation":107,"user_id":1622114,"accept_rate":33,"display_name":"Scoket Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372758163,"creation_date":1372758163,"answer_id":17422291,"question_id":14207074,"body_markdown":"you can solve the problem by create a new java project.\r\nwhen you check out the project,you should select the default option,\r\n[Check out as a project configured using the new project wizard].\r\n","title":"Eclipse Open declaration in Java project","body":"<p>you can solve the problem by create a new java project.\nwhen you check out the project,you should select the default option,\n[Check out as a project configured using the new project wizard].</p>\n"},{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411427679,"creation_date":1411426790,"answer_id":25984341,"question_id":14207074,"body_markdown":"There is a bug in Eclipse (in Luna at least) for a very specific workflow, which might not be the answer to this specific question, but might be helpful for others.\r\n\r\nIf you perform an import into the src (meaning src folder has focus before performing import) folder from an extracted jar (as source code), and you place breakpoints in the nested *.java files in the nested packages, it won&#39;t hit those breakpoints.  In order to get things to work, you must keep hitting F3 instead of using &quot;Open Declaration&quot; to get to the *.java file you want to set a breakpoint in, then add the breakpoint by double clicking in the far left margin.  Then Run &gt; Debug As &gt; Java Application.","title":"Eclipse Open declaration in Java project","body":"<p>There is a bug in Eclipse (in Luna at least) for a very specific workflow, which might not be the answer to this specific question, but might be helpful for others.</p>\n\n<p>If you perform an import into the src (meaning src folder has focus before performing import) folder from an extracted jar (as source code), and you place breakpoints in the nested *.java files in the nested packages, it won't hit those breakpoints.  In order to get things to work, you must keep hitting F3 instead of using \"Open Declaration\" to get to the *.java file you want to set a breakpoint in, then add the breakpoint by double clicking in the far left margin.  Then Run > Debug As > Java Application.</p>\n"},{"comments":[{"owner":{"account_id":7253656,"reputation":1250,"user_id":5533075,"accept_rate":100,"display_name":"Dwhitz"},"score":3,"creation_date":1488208260,"post_id":26661525,"comment_id":72117767,"body_markdown":"Some project does not have facets already configured, could you suggest something else?","body":"Some project does not have facets already configured, could you suggest something else?"},{"owner":{"account_id":39356,"reputation":701,"user_id":113453,"accept_rate":20,"display_name":"Jay"},"score":1,"creation_date":1488233424,"post_id":26661525,"comment_id":72132629,"body_markdown":"FYI The steps above ^ are to configure project facets.","body":"FYI The steps above ^ are to configure project facets."},{"owner":{"account_id":7253656,"reputation":1250,"user_id":5533075,"accept_rate":100,"display_name":"Dwhitz"},"score":0,"creation_date":1488275812,"post_id":26661525,"comment_id":72148643,"body_markdown":"Yes sorry, i&#39;m just saying i don&#39;t have the configuration link.","body":"Yes sorry, i&#39;m just saying i don&#39;t have the configuration link."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1536206383,"post_id":26661525,"comment_id":91341919,"body_markdown":"Strongly recommended to backup your `.project` file which resides in your project folder before making this change.","body":"Strongly recommended to backup your <code>.project</code> file which resides in your project folder before making this change."},{"owner":{"account_id":3204270,"reputation":361,"user_id":2705611,"display_name":"Josh"},"score":0,"creation_date":1568744562,"post_id":26661525,"comment_id":102369275,"body_markdown":"@user3437460 wish I would have read that comment sooner, I just exploded my project","body":"@user3437460 wish I would have read that comment sooner, I just exploded my project"},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1571754725,"post_id":26661525,"comment_id":103341332,"body_markdown":"This makes the classes lost.., I&#39;ve no ideas how to get them backs","body":"This makes the classes lost.., I&#39;ve no ideas how to get them backs"}],"tags":[],"owner":{"account_id":39356,"reputation":701,"user_id":113453,"accept_rate":20,"display_name":"Jay"},"comment_count":6,"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1414696665,"creation_date":1414696665,"answer_id":26661525,"question_id":14207074,"body_markdown":"Right Click on the project -&gt; Properties -&gt; Project Facets -&gt; Click on the Configuration Link -&gt; Click on Apply Button -&gt; Click on OK button. \r\n\r\nThe above steps should set your project as a Java project.","title":"Eclipse Open declaration in Java project","body":"<p>Right Click on the project -> Properties -> Project Facets -> Click on the Configuration Link -> Click on Apply Button -> Click on OK button. </p>\n\n<p>The above steps should set your project as a Java project.</p>\n"},{"tags":[],"owner":{"account_id":4112743,"reputation":82,"user_id":3375152,"accept_rate":60,"display_name":"gallea01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414772355,"creation_date":1414772355,"answer_id":26679116,"question_id":14207074,"body_markdown":"If the format of the project you checked out is of type Maven, you need to convert it to a Maven project first. It may be because the required classes haven&#39;t been generated yet. To do this, right-click on the project, click Configure, and then click Convert to Maven Project.","title":"Eclipse Open declaration in Java project","body":"<p>If the format of the project you checked out is of type Maven, you need to convert it to a Maven project first. It may be because the required classes haven't been generated yet. To do this, right-click on the project, click Configure, and then click Convert to Maven Project.</p>\n"},{"comments":[{"owner":{"account_id":2609333,"reputation":167,"user_id":2259771,"accept_rate":31,"display_name":"Jrr"},"score":0,"creation_date":1472490594,"post_id":29422392,"comment_id":65761947,"body_markdown":"agree with you, I&#39;ve experienced the same problem and is quite frusttrating to work with parent folders.. have you found any work around?","body":"agree with you, I&#39;ve experienced the same problem and is quite frusttrating to work with parent folders.. have you found any work around?"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1483604212,"post_id":29422392,"comment_id":70165483,"body_markdown":"&quot;_Then ensure that you only open source files via the child project._&quot; Thanks.. Came back from vacation and I had the error described by OP. Turned out I had the incorrect file open in Eclipse.. My brain still need some restarting after the vacation it seems.. ;)","body":"&quot;<i>Then ensure that you only open source files via the child project.</i>&quot; Thanks.. Came back from vacation and I had the error described by OP. Turned out I had the incorrect file open in Eclipse.. My brain still need some restarting after the vacation it seems.. ;)"},{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":0,"creation_date":1514893462,"post_id":29422392,"comment_id":83093091,"body_markdown":"Still happening in 2018 - I&#39;ve moved all &#39;pom-only&#39; module placeholder projects into a separate working-set to try &amp; avoid this","body":"Still happening in 2018 - I&#39;ve moved all &#39;pom-only&#39; module placeholder projects into a separate working-set to try &amp; avoid this"},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1551729210,"post_id":29422392,"comment_id":96738747,"body_markdown":"This problem has been plaguing me for ages. Usually, I&#39;d try one, and if it didn&#39;t work, I&#39;d try the other (after search). But this time, I had to close and re-open eclipse to get the child recognized as a project.","body":"This problem has been plaguing me for ages. Usually, I&#39;d try one, and if it didn&#39;t work, I&#39;d try the other (after search). But this time, I had to close and re-open eclipse to get the child recognized as a project."},{"owner":{"account_id":10782155,"reputation":84,"user_id":7932348,"display_name":"Tim Perry"},"score":0,"creation_date":1617128689,"post_id":29422392,"comment_id":118215399,"body_markdown":"You can turn on the &quot;Hide folders of physically nested modules (experimental)&quot; feature which hides the parent folders. It is currently under Window -&gt; Preferences -&gt; Maven -&gt; &quot;Hide folders of physically nested modules (experimental)&quot;","body":"You can turn on the &quot;Hide folders of physically nested modules (experimental)&quot; feature which hides the parent folders. It is currently under Window -&gt; Preferences -&gt; Maven -&gt; &quot;Hide folders of physically nested modules (experimental)&quot;"}],"tags":[],"owner":{"account_id":385409,"reputation":978,"user_id":742533,"display_name":"mrjmh"},"comment_count":5,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1428008506,"creation_date":1428008506,"answer_id":29422392,"question_id":14207074,"body_markdown":"If the project is a multi-module Maven project, then you need to import the child/module projects in addition to the parent/pom project. Then ensure that you only open source files via the child project. Java files opened this way will have the Refactor right-click menu item, and F3 Open Declaration etc. work properly. However if the Java file is opened from the parent project, these Eclipse functions will be missing. \r\n\r\nIt&#39;s quite frustrating when opening a file via a Search result, as the file will be found and listed in both the parent and child project. You need to ensure you only work with the file accessed via the child project.\r\n\r\nI can&#39;t explain precisely what&#39;s going on with Eclipse, but it appears that Eclipse does not recognize the parent project as being Java projects, although it will correctly syntax-highlight the Java files whether they are accessed via the parent or child project.","title":"Eclipse Open declaration in Java project","body":"<p>If the project is a multi-module Maven project, then you need to import the child/module projects in addition to the parent/pom project. Then ensure that you only open source files via the child project. Java files opened this way will have the Refactor right-click menu item, and F3 Open Declaration etc. work properly. However if the Java file is opened from the parent project, these Eclipse functions will be missing. </p>\n\n<p>It's quite frustrating when opening a file via a Search result, as the file will be found and listed in both the parent and child project. You need to ensure you only work with the file accessed via the child project.</p>\n\n<p>I can't explain precisely what's going on with Eclipse, but it appears that Eclipse does not recognize the parent project as being Java projects, although it will correctly syntax-highlight the Java files whether they are accessed via the parent or child project.</p>\n"},{"tags":[],"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432813754,"creation_date":1432813754,"answer_id":30505771,"question_id":14207074,"body_markdown":"I had the same in Eclipse Luna on Debian 8. \r\nI was missing the `.classpath` file when checking out from SVN.\r\nI manually copied it and changed some path names, refreshed the project and it was working again.","title":"Eclipse Open declaration in Java project","body":"<p>I had the same in Eclipse Luna on Debian 8. \nI was missing the <code>.classpath</code> file when checking out from SVN.\nI manually copied it and changed some path names, refreshed the project and it was working again.</p>\n"},{"tags":[],"owner":{"account_id":3683341,"reputation":17241,"user_id":3067748,"accept_rate":99,"display_name":"SparkAndShine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433320556,"creation_date":1433320556,"answer_id":30614871,"question_id":14207074,"body_markdown":"It might lack a builder. Check your `PROJ_HOME/.project` that should be like:\r\n&lt;!– language: lang-xml –&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;projectDescription&gt;\r\n    \t&lt;name&gt;the-one-user&lt;/name&gt;\r\n    \t&lt;comment&gt;&lt;/comment&gt;\r\n    \t&lt;projects&gt;\r\n    \t&lt;/projects&gt;\r\n    \t&lt;buildSpec&gt;\r\n    \t\t&lt;buildCommand&gt;\r\n    \t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n    \t\t\t&lt;arguments&gt;\r\n    \t\t\t&lt;/arguments&gt;\r\n    \t\t&lt;/buildCommand&gt;\r\n    \t&lt;/buildSpec&gt;\r\n    \t&lt;natures&gt;\r\n    \t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n    \t&lt;/natures&gt;\r\n    &lt;/projectDescription&gt;\r\n\r\nRef:\r\n[FAQ How do I add a builder to a given project?][1]\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/FAQ_How_do_I_add_a_builder_to_a_given_project%3F","title":"Eclipse Open declaration in Java project","body":"<p>It might lack a builder. Check your <code>PROJ_HOME/.project</code> that should be like:\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;the-one-user&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n\n<p>Ref:\n<a href=\"https://wiki.eclipse.org/FAQ_How_do_I_add_a_builder_to_a_given_project%3F\" rel=\"nofollow\">FAQ How do I add a builder to a given project?</a></p>\n"},{"tags":[],"owner":{"account_id":7314949,"reputation":17,"user_id":5572921,"display_name":"Vedant Tailang"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1456326912,"creation_date":1456326912,"answer_id":35605870,"question_id":14207074,"body_markdown":"Go to Project properties,Select Project Facets then convert to project facets then click Ok then you will able to open editor.","title":"Eclipse Open declaration in Java project","body":"<p>Go to Project properties,Select Project Facets then convert to project facets then click Ok then you will able to open editor.</p>\n"},{"tags":[],"owner":{"account_id":6430905,"reputation":400,"user_id":4984125,"display_name":"New Bee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463568281,"creation_date":1463568281,"answer_id":37297259,"question_id":14207074,"body_markdown":"It happens, when libraries are not available on class path of the project where F3 does not work.\r\nSelect any other project and try to use f3 for navigation. It will work.\r\n\r\nThe solution is to add JAR files in your libraries or add libraries in your project.\r\nTry to use MAVEN project so that the problem can never occur.\r\n\r\n","title":"Eclipse Open declaration in Java project","body":"<p>It happens, when libraries are not available on class path of the project where F3 does not work.\nSelect any other project and try to use f3 for navigation. It will work.</p>\n\n<p>The solution is to add JAR files in your libraries or add libraries in your project.\nTry to use MAVEN project so that the problem can never occur.</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488209538,"creation_date":1468342120,"answer_id":38334799,"question_id":14207074,"body_markdown":"I had this problem, too.\r\nIt looks like after a search-in-workspace Eclipse opened a wrong file.\r\n\r\nI pressed &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;H&lt;/kbd&gt; (Open Type in Hierarchy), typed in the class name, and opened it. The file opened in a new tab, and everything was navigable again.\r\n\r\nThe difference in icons is:\r\n\r\n[![the non-navigable J is in a contour font][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/E6hlW.png","title":"Eclipse Open declaration in Java project","body":"<p>I had this problem, too.\nIt looks like after a search-in-workspace Eclipse opened a wrong file.</p>\n\n<p>I pressed <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd> (Open Type in Hierarchy), typed in the class name, and opened it. The file opened in a new tab, and everything was navigable again.</p>\n\n<p>The difference in icons is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/E6hlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E6hlW.png\" alt=\"the non-navigable J is in a contour font\"></a></p>\n"},{"tags":[],"owner":{"account_id":13247112,"reputation":11,"user_id":9565868,"display_name":"Ellen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522262072,"creation_date":1522262072,"answer_id":49541781,"question_id":14207074,"body_markdown":"I am using Eclipse Oxygen.2 (4.7.2). I don&#39;t see Project Facets  after clicking project -&gt; Properties. My solution is right click the project and click Configure, then select configure and detect nested projects, Eclipse will automatically generate the nested projects for you. May get some build errors in the new created projects, that should be easy to fix.","title":"Eclipse Open declaration in Java project","body":"<p>I am using Eclipse Oxygen.2 (4.7.2). I don't see Project Facets  after clicking project -> Properties. My solution is right click the project and click Configure, then select configure and detect nested projects, Eclipse will automatically generate the nested projects for you. May get some build errors in the new created projects, that should be easy to fix.</p>\n"},{"comments":[{"owner":{"account_id":1484420,"reputation":1237,"user_id":3423750,"accept_rate":76,"display_name":"Phalgun"},"score":0,"creation_date":1554122165,"post_id":52252913,"comment_id":97623815,"body_markdown":"This is the answer I was looking for.","body":"This is the answer I was looking for."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1555323384,"post_id":52252913,"comment_id":98057187,"body_markdown":"This answer actually explains the reasons for @mrjmh&#39;s answer. Both answers merged would be perfect.","body":"This answer actually explains the reasons for @mrjmh&#39;s answer. Both answers merged would be perfect."},{"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"score":0,"creation_date":1609818110,"post_id":52252913,"comment_id":115934840,"body_markdown":"&quot;If you open a file in 1, your &quot;Open Declaration F3&quot; will no work&quot;, can convert the &quot;1&quot; to faceted form, like @Jay answer?","body":"&quot;If you open a file in 1, your &quot;Open Declaration F3&quot; will no work&quot;, can convert the &quot;1&quot; to faceted form, like @Jay answer?"}],"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536564135,"creation_date":1536564135,"answer_id":52252913,"question_id":14207074,"body_markdown":"Are you importing a maven project? If you importing a maven project, a file will be viewed in few perspective, especially if you open the file via &quot;Open Resource (Ctrl + Shift + R)&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLet&#39;s look at the example above, &quot;servlet-filter&quot; (mark as 1) imported as maven project, and maven perspective project created in 2. If you open a file in 1, your &quot;Open Declaration F3&quot; will no work, because it is not a valid maven project. It will work if you open the same file in 2.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xsclu.png","title":"Eclipse Open declaration in Java project","body":"<p>Are you importing a maven project? If you importing a maven project, a file will be viewed in few perspective, especially if you open the file via \"Open Resource (Ctrl + Shift + R)\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/xsclu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xsclu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let's look at the example above, \"servlet-filter\" (mark as 1) imported as maven project, and maven perspective project created in 2. If you open a file in 1, your \"Open Declaration F3\" will no work, because it is not a valid maven project. It will work if you open the same file in 2.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5622992,"reputation":99,"user_id":4452196,"accept_rate":80,"display_name":"Kethan Srinivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549262817,"creation_date":1549262817,"answer_id":54511273,"question_id":14207074,"body_markdown":"You need to import it as a Java/Maven project. Once you are done importing the project do the following steps\r\n\r\n&gt; Go to Project -&gt; Select Properties -&gt; Select Project References -&gt; Select/Check all the\r\n&gt; dependent/Child projects which you reference in the code base -&gt; Apply\r\n&gt; and Close\r\n\r\nOnce you are done, try to clean the whole project. This should solve the issue.","title":"Eclipse Open declaration in Java project","body":"<p>You need to import it as a Java/Maven project. Once you are done importing the project do the following steps</p>\n\n<blockquote>\n  <p>Go to Project -> Select Properties -> Select Project References -> Select/Check all the\n  dependent/Child projects which you reference in the code base -> Apply\n  and Close</p>\n</blockquote>\n\n<p>Once you are done, try to clean the whole project. This should solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":4639485,"reputation":59,"user_id":3759762,"display_name":"Priya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694764139,"creation_date":1694764139,"answer_id":77110554,"question_id":14207074,"body_markdown":"Try adding Project Nature as &#39;Java&#39;.\r\nProject -&gt;Properties -&gt;Project Natures[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Evi5M.png","title":"Eclipse Open declaration in Java project","body":"<p>Try adding Project Nature as 'Java'.\nProject -&gt;Properties -&gt;Project Natures<a href=\"https://i.stack.imgur.com/Evi5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Evi5M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2216121,"reputation":641,"user_id":1956658,"display_name":"Taegug"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80735,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":15,"score":64,"last_activity_date":1694764139,"creation_date":1357609543,"question_id":14207074,"body_markdown":"In an Eclipse SVN project I have a problem; when I tried to open a declaration of one class, I got this error: \r\n\r\n    Problems opening an editor Reason : projectname does not exist.\r\n\r\nAlso refactoring does not work.\r\n\r\nI have searched the web and tried all found solutions but nothing helped.\r\nI have downloaded different Eclipse and Java versions and switched to a clean workspace but I still have the problem.\r\n\r\nHow can I solve my problem or which solution can I try?","title":"Eclipse Open declaration in Java project","body":"<p>In an Eclipse SVN project I have a problem; when I tried to open a declaration of one class, I got this error: </p>\n\n<pre><code>Problems opening an editor Reason : projectname does not exist.\n</code></pre>\n\n<p>Also refactoring does not work.</p>\n\n<p>I have searched the web and tried all found solutions but nothing helped.\nI have downloaded different Eclipse and Java versions and switched to a clean workspace but I still have the problem.</p>\n\n<p>How can I solve my problem or which solution can I try?</p>\n"},{"tags":["java","javafx","fxml","fxmlloader"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694763348,"post_id":77110404,"comment_id":135936599,"body_markdown":"Quote complete error exactly.","body":"Quote complete error exactly."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694763370,"creation_date":1694763370,"answer_id":77110483,"question_id":77110404,"body_markdown":"&gt; Is this due to an incorrect resource directory or name?\r\n\r\nYes.\r\n\r\nIf you load your FXML file with `HelloApplication.class.getResource(&quot;main-view.fxml&quot;)`, your FXML file needs to be in the same (relative) path as class `HelloApplication`.\r\n\r\nI.e. your FXML file needs to be in directory `com/example/oneschoolmanager_tst/Testers`.","title":"JavaFX application unable to launch after I&#39;ve modelled the FXML with SceneBuilder","body":"<blockquote>\n<p>Is this due to an incorrect resource directory or name?</p>\n</blockquote>\n<p>Yes.</p>\n<p>If you load your FXML file with <code>HelloApplication.class.getResource(&quot;main-view.fxml&quot;)</code>, your FXML file needs to be in the same (relative) path as class <code>HelloApplication</code>.</p>\n<p>I.e. your FXML file needs to be in directory <code>com/example/oneschoolmanager_tst/Testers</code>.</p>\n"}],"owner":{"account_id":29025436,"reputation":11,"user_id":22233753,"display_name":"sadgeworth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694768774,"answer_count":1,"score":0,"last_activity_date":1694763370,"creation_date":1694762585,"question_id":77110404,"body_markdown":"Just finished creating a basic UI on SceneBuilder and saved the FXML onto Java, but now whenever I launch the application [HelloApplication] it gives an error about fxml location not being set\r\n\r\nIs this due to an incorrect resource directory or name?\r\n\r\nHelloApplication code:\r\n\r\n```\r\npackage com.example.oneschoolmanager_tst.Testers;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;main-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[![the project folder, main-view.fxml is what i&#39;m trying to access](https://i.stack.imgur.com/cMQh5.png)](https://i.stack.imgur.com/cMQh5.png)\r\n\r\n\r\nWhen run it gives an IllegalStateException with message Location is not set at line 14.\r\n","title":"JavaFX application unable to launch after I&#39;ve modelled the FXML with SceneBuilder","body":"<p>Just finished creating a basic UI on SceneBuilder and saved the FXML onto Java, but now whenever I launch the application [HelloApplication] it gives an error about fxml location not being set</p>\n<p>Is this due to an incorrect resource directory or name?</p>\n<p>HelloApplication code:</p>\n<pre><code>package com.example.oneschoolmanager_tst.Testers;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;main-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cMQh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMQh5.png\" alt=\"the project folder, main-view.fxml is what i'm trying to access\" /></a></p>\n<p>When run it gives an IllegalStateException with message Location is not set at line 14.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9951,"page":183,"page_size":100}
