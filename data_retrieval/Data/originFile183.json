{"items":[{"tags":["java","mongodb","spring-boot","maven","jasper-reports"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1694732173,"post_id":77108556,"comment_id":135933808,"body_markdown":"If you use `127.0.0.1` instead of `localhost`, do you see any difference/improvement?","body":"If you use <code>127.0.0.1</code> instead of <code>localhost</code>, do you see any difference/improvement?"},{"owner":{"account_id":29445851,"reputation":1,"user_id":22563164,"display_name":"KvotheTheArcane"},"score":0,"creation_date":1694732967,"post_id":77108556,"comment_id":135933887,"body_markdown":"@rickhg12hs No change. Each connection type produces the same error as described above.","body":"@rickhg12hs No change. Each connection type produces the same error as described above."},{"owner":{"account_id":29445851,"reputation":1,"user_id":22563164,"display_name":"KvotheTheArcane"},"score":1,"creation_date":1694751465,"post_id":77108556,"comment_id":135935152,"body_markdown":"Okay after manually stepping through the code I think I found the issue but I don&#39;t know how to actually properly resolve it.\n\n\nIt seems that when &quot;spring-boot-starter-data-mongodb&quot; is used with &quot;js-mongodb-datasource&quot; in a project the code from the later tries to use versions of classes from the former. Specifically from mongodb-driver-core:jar:4.0.5 (dependency of &quot;spring-boot-starter-data-mongodb&quot;) rather than mongo-java-driver:jar:3.10.2 (dependency of &quot;js-mongodb-datasource&quot;).\n\n\nIf I create a project with everything except &quot;spring-boot-starter-data-mongodb&quot; everything works.","body":"Okay after manually stepping through the code I think I found the issue but I don&#39;t know how to actually properly resolve it.   It seems that when &quot;spring-boot-starter-data-mongodb&quot; is used with &quot;js-mongodb-datasource&quot; in a project the code from the later tries to use versions of classes from the former. Specifically from mongodb-driver-core:jar:4.0.5 (dependency of &quot;spring-boot-starter-data-mongodb&quot;) rather than mongo-java-driver:jar:3.10.2 (dependency of &quot;js-mongodb-datasource&quot;).   If I create a project with everything except &quot;spring-boot-starter-data-mongodb&quot; everything works."}],"owner":{"account_id":29445851,"reputation":1,"user_id":22563164,"display_name":"KvotheTheArcane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694728115,"creation_date":1694728051,"question_id":77108556,"body_markdown":"I am generating reports with Jasper Reports by using a Java Spring Boot application that uses Maven for dependencies. The code I have works for connecting to MariaDB but I am now trying to get it to use MongoDB as the report connection and it is throwing errors that I am struggling to debug. The code will compile and run but throws an error at runtime.\r\n\r\nI should probably also mention that I am successfully connecting to this Mongo database elsewhere in the application but I am using Spring data (spring-boot-starter-data-mongodb or in other words MongoRepository) in those cases.\r\n\r\nI have shortened stack traces to the part that I think is most likely to be relevant because of character limits and the spam filter. Let me know if you want the full stack trace and I will try to post it.\r\n\r\nHere is the error that is getting thrown:\r\n\r\n```\r\ncom.smartapi.utils.Utils$MsgException: jasper.error\r\n&#160; &#160; &#160; &#160; ...[ommitted]...\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.Integer com.mongodb.ConnectionString.getThreadsAllowedToBlockForConnectionMultiplier()&#39;\r\n        ...[omitted]...\r\n```\r\n\r\nHere is the relevant code for the report filling/generating process (when I am trying to connect to mongo)\r\n\r\n```\r\n    public static void processJasperReportFromDbToPdf(ReportRq rq, OutputStream os)\r\n&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rq.params.put(JRParameter.REPORT_CLASS_LOADER, subreportClassloader);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;long start = System.currentTimeMillis();\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try (\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Connection mongoDBConnection = new MongoDbConnection(&quot;mongodb://localhost:27017/my_database?authSource=admin&quot;, null, null);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JasperPrint jasperPrint = JasperFillManager.fillReport(rq.report, rq.params, mongoDBConnection);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JasperExportManager.exportReportToPdfStream(jasperPrint, os);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;catch (Throwable t)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Utils.throwMessage(t, &quot;jasper.error&quot;, rq.reportName);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;long time = System.currentTimeMillis() - start;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;logger.info(&quot;Created: &quot; + rq.reportName + &quot;. Time=&quot; + time + &quot;msec&quot;);\r\n&#160;&#160;&#160;&#160;}\r\n```\r\n\r\nHere is the same code but for connecting to MariaDB. This code works perfectly, I am actively generating reports with this code.\r\n\r\n```\r\n    public static void processJasperReportFromDbToPdf(ReportRq rq, OutputStream os)\r\n&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rq.params.put(JRParameter.REPORT_CLASS_LOADER, subreportClassloader);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;long start = System.currentTimeMillis();\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try (\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Connection mariaDBConnection = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/my_database?user=my_database_user&amp;password=my_password&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JasperPrint jasperPrint = JasperFillManager.fillReport(rq.report, rq.params, mariaDBConnection);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JasperExportManager.exportReportToPdfStream(jasperPrint, os);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;catch (Throwable t)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Utils.throwMessage(t, &quot;jasper.error&quot;, rq.reportName);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;long time = System.currentTimeMillis() - start;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;logger.info(&quot;Created: &quot; + rq.reportName + &quot;. Time=&quot; + time + &quot;msec&quot;);\r\n&#160;&#160;&#160;&#160;}\r\n```\r\n\r\nHere are the parts of my POM file that I think are relevant.\r\n\r\n```\r\n    &lt;repositories&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;repository&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;id&gt;jfrog.io&lt;/id&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;name&gt;jfrog.io&lt;/name&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;url&gt;https://jaspersoft.jfrog.io/artifactory/jrs-ce-addons-releases/&lt;/url&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/repository&gt;\r\n&#160;&#160;&#160;&#160;&lt;/repositories&gt;\r\n\r\n\r\n&#160; &#160;&#160;&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;scope&gt;test&lt;/scope&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;scope&gt;test&lt;/scope&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;dependency&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;version&gt;3.1.3&lt;/version&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/dependency&gt;\r\n\r\n\r\n\r\n&#160; &#160;&#160;&#160; &#160;&#160;&lt;!-- JASPER REPORTS --&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;version&gt;6.17.0&lt;/version&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;version&gt;6.17.0&lt;/version&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;version&gt;6.17.0&lt;/version&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;!-- https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource --&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;com.jaspersoft.connectors.mongodb&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;js-mongodb-datasource&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;version&gt;3.10.2&lt;/version&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n&#160; &#160; &#160; &#160; &lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-jdbc --&gt;\r\n&#160; &#160; &#160; &#160; &lt;dependency&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;artifactId&gt;mongodb-jdbc&lt;/artifactId&gt;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &lt;version&gt;2.0.3&lt;/version&gt;\r\n&#160; &#160; &#160; &#160; &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nHere are some things I have tried already:\r\n------------------------------------------\r\n\r\n- I tried with and without &quot;mongodb-jdbc&quot; included in my dependencies\r\n\r\n- I tried a few older versions of &quot;js-mongodb-datasource&quot; (2.0.8, 2.0.5, 2.0.2) but they produced similar errors (different method not found each time, specifically, ConnectionString.getCredentialList(), then this for both of the next ones com.mongodb.Bytes cannot access its superclass org.bson.BSON)\r\n\r\n- I tried replacing the connection line as follows but got a different error\r\n\r\n```\r\n        // this is called in main before &quot;SpringApplication.run( MyApplication.class, args );&quot; and does not cause an exception\r\n        try{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Class.forName(&quot;com.mongodb.jdbc.MongoDriver&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;catch(ClassNotFoundException e)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;Could not register the com.mongodb.jdbc.MongoDriver&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n\r\n\r\n&#160; &#160;&#160;&#160; &#160;&#160;// this replaces the connection in the try, catch of the code above\r\n        Connection mongoDBConnection = DriverManager.getConnection(&quot;mongodb://localhost:27017/my_database?authSource=admin&quot;);\r\n```\r\n\r\nthis is the new error\r\n\r\n```\r\ncom.smartapi.utils.Utils$MsgException: jasper.error\r\n&#160; &#160; &#160; &#160; ...[omitted]...\r\nCaused by: java.sql.SQLException: No suitable driver found for mongodb://localhost:27017/my_database?authSource=admin\r\n        ...[omitted]...\r\n```\r\n\r\n- I have tried downgrading Jasper to the version upon which &quot;js-mongodb-datasource&quot; is dependant (6.8.1) that generates this different error. Googling this error indicates I need to upgrade my Jasper version.\r\n\r\n```\r\ncom.smartapi.utils.Utils$MsgException: zip.error\r\n&#160; &#160; &#160; &#160; ...[omitted]...\r\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from InputStream.\r\n        ...[omitted]...\r\n```","title":"Can&#39;t connect Java Spring Boot Jasper Reports filling process to MongoDB","body":"<p>I am generating reports with Jasper Reports by using a Java Spring Boot application that uses Maven for dependencies. The code I have works for connecting to MariaDB but I am now trying to get it to use MongoDB as the report connection and it is throwing errors that I am struggling to debug. The code will compile and run but throws an error at runtime.</p>\n<p>I should probably also mention that I am successfully connecting to this Mongo database elsewhere in the application but I am using Spring data (spring-boot-starter-data-mongodb or in other words MongoRepository) in those cases.</p>\n<p>I have shortened stack traces to the part that I think is most likely to be relevant because of character limits and the spam filter. Let me know if you want the full stack trace and I will try to post it.</p>\n<p>Here is the error that is getting thrown:</p>\n<pre><code>com.smartapi.utils.Utils$MsgException: jasper.error\n        ...[ommitted]...\nCaused by: java.lang.NoSuchMethodError: 'java.lang.Integer com.mongodb.ConnectionString.getThreadsAllowedToBlockForConnectionMultiplier()'\n        ...[omitted]...\n</code></pre>\n<p>Here is the relevant code for the report filling/generating process (when I am trying to connect to mongo)</p>\n<pre><code>    public static void processJasperReportFromDbToPdf(ReportRq rq, OutputStream os)\n    {\n        rq.params.put(JRParameter.REPORT_CLASS_LOADER, subreportClassloader);\n        long start = System.currentTimeMillis();\n\n        try (\n            Connection mongoDBConnection = new MongoDbConnection(&quot;mongodb://localhost:27017/my_database?authSource=admin&quot;, null, null);\n        )\n        {\n            JasperPrint jasperPrint = JasperFillManager.fillReport(rq.report, rq.params, mongoDBConnection);\n            JasperExportManager.exportReportToPdfStream(jasperPrint, os);\n        }\n        catch (Throwable t)\n        {\n            Utils.throwMessage(t, &quot;jasper.error&quot;, rq.reportName);\n        }\n        long time = System.currentTimeMillis() - start;\n        logger.info(&quot;Created: &quot; + rq.reportName + &quot;. Time=&quot; + time + &quot;msec&quot;);\n    }\n</code></pre>\n<p>Here is the same code but for connecting to MariaDB. This code works perfectly, I am actively generating reports with this code.</p>\n<pre><code>    public static void processJasperReportFromDbToPdf(ReportRq rq, OutputStream os)\n    {\n        rq.params.put(JRParameter.REPORT_CLASS_LOADER, subreportClassloader);\n        long start = System.currentTimeMillis();\n\n        try (\n            Connection mariaDBConnection = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/my_database?user=my_database_user&amp;password=my_password&quot;);\n        )\n        {\n            JasperPrint jasperPrint = JasperFillManager.fillReport(rq.report, rq.params, mariaDBConnection);\n            JasperExportManager.exportReportToPdfStream(jasperPrint, os);\n        }\n        catch (Throwable t)\n        {\n            Utils.throwMessage(t, &quot;jasper.error&quot;, rq.reportName);\n        }\n        long time = System.currentTimeMillis() - start;\n        logger.info(&quot;Created: &quot; + rq.reportName + &quot;. Time=&quot; + time + &quot;msec&quot;);\n    }\n</code></pre>\n<p>Here are the parts of my POM file that I think are relevant.</p>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jfrog.io&lt;/id&gt;\n            &lt;name&gt;jfrog.io&lt;/name&gt;\n            &lt;url&gt;https://jaspersoft.jfrog.io/artifactory/jrs-ce-addons-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- JASPER REPORTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\n            &lt;version&gt;6.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n            &lt;version&gt;6.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jaspersoft.connectors.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;js-mongodb-datasource&lt;/artifactId&gt;\n            &lt;version&gt;3.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<h2>Here are some things I have tried already:</h2>\n<ul>\n<li><p>I tried with and without &quot;mongodb-jdbc&quot; included in my dependencies</p>\n</li>\n<li><p>I tried a few older versions of &quot;js-mongodb-datasource&quot; (2.0.8, 2.0.5, 2.0.2) but they produced similar errors (different method not found each time, specifically, ConnectionString.getCredentialList(), then this for both of the next ones com.mongodb.Bytes cannot access its superclass org.bson.BSON)</p>\n</li>\n<li><p>I tried replacing the connection line as follows but got a different error</p>\n</li>\n</ul>\n<pre><code>        // this is called in main before &quot;SpringApplication.run( MyApplication.class, args );&quot; and does not cause an exception\n        try{\n            Class.forName(&quot;com.mongodb.jdbc.MongoDriver&quot;);\n        }\n        catch(ClassNotFoundException e)\n        {\n            System.out.println(&quot;Could not register the com.mongodb.jdbc.MongoDriver&quot;);\n        }\n\n\n        // this replaces the connection in the try, catch of the code above\n        Connection mongoDBConnection = DriverManager.getConnection(&quot;mongodb://localhost:27017/my_database?authSource=admin&quot;);\n</code></pre>\n<p>this is the new error</p>\n<pre><code>com.smartapi.utils.Utils$MsgException: jasper.error\n        ...[omitted]...\nCaused by: java.sql.SQLException: No suitable driver found for mongodb://localhost:27017/my_database?authSource=admin\n        ...[omitted]...\n</code></pre>\n<ul>\n<li>I have tried downgrading Jasper to the version upon which &quot;js-mongodb-datasource&quot; is dependant (6.8.1) that generates this different error. Googling this error indicates I need to upgrade my Jasper version.</li>\n</ul>\n<pre><code>com.smartapi.utils.Utils$MsgException: zip.error\n        ...[omitted]...\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from InputStream.\n        ...[omitted]...\n</code></pre>\n"},{"tags":["java","junit5"],"owner":{"account_id":28426253,"reputation":11,"user_id":21747583,"display_name":"English puzzle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694727923,"creation_date":1694727923,"question_id":77108544,"body_markdown":"&#39;m writing unit tests in Java using JUnit and Mockito. In my test case, I am attempting to mock the behavior of the autentication() method of the AutenticacionProxy class to return an AutenticarSesionResponse object with a fake token.\r\n\r\nMy problem is that, despite configuring the mock object to return a specific value for the getToken() method, it&#39;s returning null during the test execution.\r\n\r\nI&#39;ve tried using MockedConstruction to control the creation of new instances of the AutenticacionProxy class, but it still returns null.\r\n\r\n\r\neste es mi test \r\n\r\n// ... (imports)\r\n\r\n```\r\n@DisplayName(&quot;Prueba de Autenticaci&#243;n exitosa&quot;)\r\n@Test\r\npublic void prueba() throws Exception {\r\n    try (\r\n            MockedConstruction&lt;AutenticacionProxy&gt; mock = Mockito.mockConstruction(AutenticacionProxy.class,\r\n                    (mockInstance, context) -&gt; {\r\n                        AutenticarSesionResponse mockResponse = mock(AutenticarSesionResponse.class);\r\n                        when(mockResponse.getToken()).thenReturn(&quot;tokenFalso&quot;);\r\n                        when(mockInstance.autentication(anyString(), isNull(), anyString())).thenReturn(mockResponse);\r\n                    });\r\n            // ... (otros mocks)\r\n    ) {\r\n        // Llamada al m&#233;todo que est&#225;s probando\r\n        DashBoardVD result = dashBoardVDService.autenticacion(dashBoardVD, requestContext);\r\n\r\n        AutenticacionProxy proxy = new AutenticacionProxy();\r\n        AutenticarSesionResponse response = proxy.autentication(&quot;alg&#250;nValorDeCIS&quot;, null, &quot;alg&#250;nToken&quot;);\r\n        assertNotNull(response);\r\n        assertEquals(&quot;tokenFalso&quot;, response.getToken());\r\n    }\r\n}\r\n```\r\n\r\neste es el codigo de java\r\n```\r\nprivate DashBoardVD getPrueba(DashBoardVD dashBoardVD) throws VentaDigitalException {\r\n\r\n\t\t//1. Autenticar contra el banco\r\n\t\tAutenticarSesionResponse autenticarSesionResponse = new AutenticacionProxy().autentication(cis, null, token);\r\n\t\t//Asignar nuevo token\r\n\t\ttoken = autenticarSesionResponse.getToken();\r\n\r\n//codigo\r\n}\r\n```\r\n\r\n\r\nI&#39;m writing unit tests in Java using JUnit and Mockito. In my test case, I&#39;m trying to mock the behavior of the autentication() method from the AutenticacionProxy class to return an AutenticarSesionResponse object with a fake token.\r\n\r\n\r\n```\r\n@DisplayName(&quot;Successful Authentication Test&quot;)\r\n@Test\r\npublic void prueba() throws Exception {\r\n    try (\r\n            MockedConstruction&lt;AutenticacionProxy&gt; mock  = Mockito.mockConstruction(AutenticacionProxy.class,\r\n                    (mock, context) -&gt; {\r\n                        AutenticarSesionResponse mockResponse = mock(AutenticarSesionResponse.class);\r\n                        when(mock.autentication(anyString(), isNull(), anyString())).thenReturn(mockResponse);\r\n                        when(mockResponse.getToken()).thenReturn(&quot;tokenFalso&quot;);\r\n                    });\r\n            // Additional mock setup...\r\n    ) {\r\n        // Test logic...\r\n        assertNotNull(response);  \r\n     \r\n    }\r\n}\r\n```\r\n","title":"JUnit and Mockito: getToken() returns null despite configuring the mock to return a specific value","body":"<p>'m writing unit tests in Java using JUnit and Mockito. In my test case, I am attempting to mock the behavior of the autentication() method of the AutenticacionProxy class to return an AutenticarSesionResponse object with a fake token.</p>\n<p>My problem is that, despite configuring the mock object to return a specific value for the getToken() method, it's returning null during the test execution.</p>\n<p>I've tried using MockedConstruction to control the creation of new instances of the AutenticacionProxy class, but it still returns null.</p>\n<p>este es mi test</p>\n<p>// ... (imports)</p>\n<pre><code>@DisplayName(&quot;Prueba de Autenticación exitosa&quot;)\n@Test\npublic void prueba() throws Exception {\n    try (\n            MockedConstruction&lt;AutenticacionProxy&gt; mock = Mockito.mockConstruction(AutenticacionProxy.class,\n                    (mockInstance, context) -&gt; {\n                        AutenticarSesionResponse mockResponse = mock(AutenticarSesionResponse.class);\n                        when(mockResponse.getToken()).thenReturn(&quot;tokenFalso&quot;);\n                        when(mockInstance.autentication(anyString(), isNull(), anyString())).thenReturn(mockResponse);\n                    });\n            // ... (otros mocks)\n    ) {\n        // Llamada al método que estás probando\n        DashBoardVD result = dashBoardVDService.autenticacion(dashBoardVD, requestContext);\n\n        AutenticacionProxy proxy = new AutenticacionProxy();\n        AutenticarSesionResponse response = proxy.autentication(&quot;algúnValorDeCIS&quot;, null, &quot;algúnToken&quot;);\n        assertNotNull(response);\n        assertEquals(&quot;tokenFalso&quot;, response.getToken());\n    }\n}\n</code></pre>\n<p>este es el codigo de java</p>\n<pre><code>private DashBoardVD getPrueba(DashBoardVD dashBoardVD) throws VentaDigitalException {\n\n        //1. Autenticar contra el banco\n        AutenticarSesionResponse autenticarSesionResponse = new AutenticacionProxy().autentication(cis, null, token);\n        //Asignar nuevo token\n        token = autenticarSesionResponse.getToken();\n\n//codigo\n}\n</code></pre>\n<p>I'm writing unit tests in Java using JUnit and Mockito. In my test case, I'm trying to mock the behavior of the autentication() method from the AutenticacionProxy class to return an AutenticarSesionResponse object with a fake token.</p>\n<pre><code>@DisplayName(&quot;Successful Authentication Test&quot;)\n@Test\npublic void prueba() throws Exception {\n    try (\n            MockedConstruction&lt;AutenticacionProxy&gt; mock  = Mockito.mockConstruction(AutenticacionProxy.class,\n                    (mock, context) -&gt; {\n                        AutenticarSesionResponse mockResponse = mock(AutenticarSesionResponse.class);\n                        when(mock.autentication(anyString(), isNull(), anyString())).thenReturn(mockResponse);\n                        when(mockResponse.getToken()).thenReturn(&quot;tokenFalso&quot;);\n                    });\n            // Additional mock setup...\n    ) {\n        // Test logic...\n        assertNotNull(response);  \n     \n    }\n}\n</code></pre>\n"},{"tags":["java","timing","awtrobot"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694728214,"post_id":77108523,"comment_id":135933374,"body_markdown":"So, you need some kind of solution which would allow for a key press to be maintained for a duration of time, but while still allowing other keys to be pressed - you also need a period of time in which nothing is pressed.  I would suggest that your current approach is to limited.  Instead, what you want is a series of &quot;events&quot; which need to be &quot;triggered&quot; and which can execute independently of others (rests may be the exception).","body":"So, you need some kind of solution which would allow for a key press to be maintained for a duration of time, but while still allowing other keys to be pressed - you also need a period of time in which nothing is pressed.  I would suggest that your current approach is to limited.  Instead, what you want is a series of &quot;events&quot; which need to be &quot;triggered&quot; and which can execute independently of others (rests may be the exception)."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694728264,"post_id":77108523,"comment_id":135933378,"body_markdown":"This would suggest a concept of a &quot;key&quot; and &quot;delay&quot;. In order to &quot;play&quot; the event, you&#39;d probably need some kind of thread that could trigger the release after the delay.  In animation terms, this begins to form a &quot;time lime&quot;, where an event would be trigged at some point in time and, independently of other keys, would play for a period of time","body":"This would suggest a concept of a &quot;key&quot; and &quot;delay&quot;. In order to &quot;play&quot; the event, you&#39;d probably need some kind of thread that could trigger the release after the delay.  In animation terms, this begins to form a &quot;time lime&quot;, where an event would be trigged at some point in time and, independently of other keys, would play for a period of time"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694728296,"post_id":77108523,"comment_id":135933382,"body_markdown":"You may also need a concept of a &quot;chord&quot;, where multiple keys are played simultanously","body":"You may also need a concept of a &quot;chord&quot;, where multiple keys are played simultanously"},{"owner":{"account_id":29442300,"reputation":1,"user_id":22560241,"display_name":"Proper Pickle"},"score":0,"creation_date":1694890912,"post_id":77108523,"comment_id":135952028,"body_markdown":"I like the idea of triggerable events, but I have no idea how I would make multiple lines of code run at once. But thankfully I won&#39;t have to deal with rests messing up the other lines as that&#39;s dealt with in the formatting stage.","body":"I like the idea of triggerable events, but I have no idea how I would make multiple lines of code run at once. But thankfully I won&#39;t have to deal with rests messing up the other lines as that&#39;s dealt with in the formatting stage."}],"owner":{"account_id":29442300,"reputation":1,"user_id":22560241,"display_name":"Proper Pickle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694727536,"creation_date":1694727536,"question_id":77108523,"body_markdown":"I&#39;m trying to setup a program that allows me to feed a musical score and get the Robot to sync up multiple key presses to play the song on a virtual piano. Everything is formatted correctly and the robot presses the right buttons in the right order, but it&#39;s not syncing up at all. Songs will have multiple notes played at the same time, so I&#39;m having it read multiple bars one character at a time, but some will have rests when the others have notes and I think that&#39;s what&#39;s messing up the timing, I not entirely sure though and I also don&#39;t know how I would fix this.\r\n\r\nCode snippet I&#39;m dealing with:\r\n\r\n```\r\n\t\t//making robot press buttons cause I&#39;m too prideful to just use a MIDI player\r\n\t\tfor (int o =0;o&lt;alist.get(0).size();o++) {\r\n\t\t\tfor (int q=0;q&lt;Pianos;q++) {\r\n\t\t\t\tif (alist.get(q).get(o).equals(&quot;R&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;rest here&quot;);\r\n\t\t\t\t}else if (alist.get(q).get(o).equals(&quot;c2&quot;)) {\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_1);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_1);\r\n\t\t\t\t}else if (alist.get(q).get(o).equals(&quot;C2&quot;)) {\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_1);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_1);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\t} (... all the other notes in between C2 and c7...)\r\n\t\t\t\telse if (alist.get(q).get(o).equals(&quot;c7&quot;)) {\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_M);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_M);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tThread.sleep(rest);\r\n\t\t}\r\n```\r\nalist is an arraylists of arraylists&lt;String&gt;, each arraylist is one bar of the song, with each string within being either a note to play or a rest. Pianos is the number of these bars. Rest is an arbitrary amount of ms.\r\n\r\nI tried the code above and I thought the Thread.sleep(rest); at the end would make it so that whatever note the robot played would take the same amount of time, even if it was a rest. Instead, the timing is messed up everytime I use the program.","title":"How would I sync up multiple java.awt.robot keyPresses?","body":"<p>I'm trying to setup a program that allows me to feed a musical score and get the Robot to sync up multiple key presses to play the song on a virtual piano. Everything is formatted correctly and the robot presses the right buttons in the right order, but it's not syncing up at all. Songs will have multiple notes played at the same time, so I'm having it read multiple bars one character at a time, but some will have rests when the others have notes and I think that's what's messing up the timing, I not entirely sure though and I also don't know how I would fix this.</p>\n<p>Code snippet I'm dealing with:</p>\n<pre><code>        //making robot press buttons cause I'm too prideful to just use a MIDI player\n        for (int o =0;o&lt;alist.get(0).size();o++) {\n            for (int q=0;q&lt;Pianos;q++) {\n                if (alist.get(q).get(o).equals(&quot;R&quot;)) {\n                    System.out.println(&quot;rest here&quot;);\n                }else if (alist.get(q).get(o).equals(&quot;c2&quot;)) {\n                    robot.keyPress(KeyEvent.VK_1);\n                    robot.keyRelease(KeyEvent.VK_1);\n                }else if (alist.get(q).get(o).equals(&quot;C2&quot;)) {\n                    robot.keyPress(KeyEvent.VK_SHIFT);\n                    robot.keyPress(KeyEvent.VK_1);\n                    robot.keyRelease(KeyEvent.VK_1);\n                    robot.keyRelease(KeyEvent.VK_SHIFT);\n                } (... all the other notes in between C2 and c7...)\n                else if (alist.get(q).get(o).equals(&quot;c7&quot;)) {\n                    robot.keyPress(KeyEvent.VK_M);\n                    robot.keyRelease(KeyEvent.VK_M);\n                }\n            }\n            Thread.sleep(rest);\n        }\n</code></pre>\n<p>alist is an arraylists of arraylists, each arraylist is one bar of the song, with each string within being either a note to play or a rest. Pianos is the number of these bars. Rest is an arbitrary amount of ms.</p>\n<p>I tried the code above and I thought the Thread.sleep(rest); at the end would make it so that whatever note the robot played would take the same amount of time, even if it was a rest. Instead, the timing is messed up everytime I use the program.</p>\n"},{"tags":["java","spring-boot","maven","openfeign"],"comments":[{"owner":{"account_id":38281,"reputation":2015,"user_id":109795,"accept_rate":88,"display_name":"Tom"},"score":1,"creation_date":1658305818,"post_id":72800515,"comment_id":129016007,"body_markdown":"We currently experience the same thing and are trying to resolve it..","body":"We currently experience the same thing and are trying to resolve it.."}],"answers":[{"tags":[],"owner":{"account_id":4555178,"reputation":41,"user_id":3699110,"display_name":"Rodion Fisenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659424051,"creation_date":1659424051,"answer_id":73203305,"question_id":72800515,"body_markdown":"We had the same issue. After a research we found out that the issue is similar to described [in the feign client bug.](https://github.com/spring-cloud/spring-cloud-openfeign/issues/475)\r\n\r\nThe temporary fix provided by [DenisKorolev](https://github.com/DenisKorolev) resolves the issue by setting correct ClassLoader during context initialisation.\r\n\r\n```lang-java\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\r\n        return new LoadBalancerClientFactory(properties) {\r\n            @Override\r\n            protected AnnotationConfigApplicationContext createContext(String name) {\r\n                // FIXME: temporary switch classloader to use the correct one when creating the context\r\n                ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n                Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n                AnnotationConfigApplicationContext context = super.createContext(name);\r\n                Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n                return context;\r\n            }\r\n        };\r\n    }","title":"Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]","body":"<p>We had the same issue. After a research we found out that the issue is similar to described <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/475\" rel=\"nofollow noreferrer\">in the feign client bug.</a></p>\n<p>The temporary fix provided by <a href=\"https://github.com/DenisKorolev\" rel=\"nofollow noreferrer\">DenisKorolev</a> resolves the issue by setting correct ClassLoader during context initialisation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @ConditionalOnMissingBean\n    public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\n        return new LoadBalancerClientFactory(properties) {\n            @Override\n            protected AnnotationConfigApplicationContext createContext(String name) {\n                // FIXME: temporary switch classloader to use the correct one when creating the context\n                ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\n                Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n                AnnotationConfigApplicationContext context = super.createContext(name);\n                Thread.currentThread().setContextClassLoader(originalClassLoader);\n                return context;\n            }\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29446073,"reputation":1,"user_id":22563349,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694726770,"creation_date":1694726770,"answer_id":77108457,"question_id":72800515,"body_markdown":"It was fixed at new Spring Cloud version (https://github.com/spring-cloud/spring-cloud-commons/pull/1256). So I updated Spring Cloud to 2022.0.4 in my pom.xml. It works for me.\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2022.0.4&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;","title":"Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]","body":"<p>It was fixed at new Spring Cloud version (<a href=\"https://github.com/spring-cloud/spring-cloud-commons/pull/1256\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-commons/pull/1256</a>). So I updated Spring Cloud to 2022.0.4 in my pom.xml. It works for me.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2022.0.4&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":6732013,"reputation":61,"user_id":5187986,"display_name":"Lasitha Nuwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2766,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1694726770,"creation_date":1656501592,"question_id":72800515,"body_markdown":"Im using feign client to make rest calls between microservices, When i execute it using IntelliJ IDEA its working fine. But if i execute it with jar it gives me following error.\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.springframework.cloud.netflix.eureka.loadbalancer.EurekaLoadBalancerClientConfiguration]; nested exception is java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n            at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n            at org.springframework.cloud.context.named.NamedContextFactory.createContext(NamedContextFactory.java:155)\r\n            at org.springframework.cloud.context.named.NamedContextFactory.getContext(NamedContextFactory.java:108)\r\n            at org.springframework.cloud.context.named.NamedContextFactory.getInstances(NamedContextFactory.java:203)\r\n            at org.springframework.cloud.openfeign.loadbalancer.RetryableFeignBlockingLoadBalancerClient.lambda$execute$2(RetryableFeignBlockingLoadBalancerClient.java:118)\r\n            at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\r\n            at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225)\r\n            at org.springframework.cloud.openfeign.loadbalancer.RetryableFeignBlockingLoadBalancerClient.execute(RetryableFeignBlockingLoadBalancerClient.java:113)\r\n            at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\r\n            at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n            at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\r\n            at com.sun.proxy.$Proxy76.fundTransfer(Unknown Source)\r\n            at com.core.banking.user.service.internetbanking.acl.service.FundTransferService.fundTransfer(FundTransferService.java:19)\r\n            at com.core.banking.user.service.internetbanking.acl.event.EventHandler.lambda$onEvent$0(EventHandler.java:38)\r\n            at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\r\n            at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\r\n            at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n            at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n            at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n            at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n            at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n    Caused by: java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]\r\n            at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334)\r\n            at org.springframework.context.annotation.ConditionEvaluator.getCondition(ConditionEvaluator.java:124)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:96)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n            ... 26 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnBeanCondition\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n            at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324)\r\n            ... 31 common frames omitted\r\n     \r\n\r\n POM File \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.core.banking.user.service&lt;/groupId&gt;\r\n    &lt;artifactId&gt;internet-banking-acl-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;internet-banking-acl-service&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]","body":"<p>Im using feign client to make rest calls between microservices, When i execute it using IntelliJ IDEA its working fine. But if i execute it with jar it gives me following error.</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.springframework.cloud.netflix.eureka.loadbalancer.EurekaLoadBalancerClientConfiguration]; nested exception is java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at org.springframework.cloud.context.named.NamedContextFactory.createContext(NamedContextFactory.java:155)\n        at org.springframework.cloud.context.named.NamedContextFactory.getContext(NamedContextFactory.java:108)\n        at org.springframework.cloud.context.named.NamedContextFactory.getInstances(NamedContextFactory.java:203)\n        at org.springframework.cloud.openfeign.loadbalancer.RetryableFeignBlockingLoadBalancerClient.lambda$execute$2(RetryableFeignBlockingLoadBalancerClient.java:118)\n        at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\n        at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225)\n        at org.springframework.cloud.openfeign.loadbalancer.RetryableFeignBlockingLoadBalancerClient.execute(RetryableFeignBlockingLoadBalancerClient.java:113)\n        at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n        at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n        at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\n        at com.sun.proxy.$Proxy76.fundTransfer(Unknown Source)\n        at com.core.banking.user.service.internetbanking.acl.service.FundTransferService.fundTransfer(FundTransferService.java:19)\n        at com.core.banking.user.service.internetbanking.acl.event.EventHandler.lambda$onEvent$0(EventHandler.java:38)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\nCaused by: java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.autoconfigure.condition.OnBeanCondition]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334)\n        at org.springframework.context.annotation.ConditionEvaluator.getCondition(ConditionEvaluator.java:124)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:96)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:226)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n        ... 26 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnBeanCondition\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324)\n        ... 31 common frames omitted\n \n</code></pre>\n<p>POM File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.core.banking.user.service&lt;/groupId&gt;\n    &lt;artifactId&gt;internet-banking-acl-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;internet-banking-acl-service&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611235507,"creation_date":1611235507,"answer_id":65828413,"question_id":65248119,"body_markdown":"I think this error was reported and resolved by spring-framework team. check https://github.com/reactor/reactor-netty/issues/1374\r\n\r\nOr\r\n\r\nYou can add `codec` property in your property file.\r\n\r\n```\r\nspring\r\n  codec:\r\n    max-in-memory-size: 10MB\r\n```","title":"Debugging IllegalReferenceCountException: refCnt: 0, decrement: 1","body":"<p>I think this error was reported and resolved by spring-framework team. check <a href=\"https://github.com/reactor/reactor-netty/issues/1374\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-netty/issues/1374</a></p>\n<p>Or</p>\n<p>You can add <code>codec</code> property in your property file.</p>\n<pre><code>spring\n  codec:\n    max-in-memory-size: 10MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12160312,"reputation":1,"user_id":8878055,"display_name":"mohsen shoraki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694726606,"creation_date":1694726606,"answer_id":77108449,"question_id":65248119,"body_markdown":"this error happens when an object is not serialized. ensure the object and sub-objects that you store in the Redis cache are serialize.","title":"Debugging IllegalReferenceCountException: refCnt: 0, decrement: 1","body":"<p>this error happens when an object is not serialized. ensure the object and sub-objects that you store in the Redis cache are serialize.</p>\n"}],"owner":{"account_id":307332,"reputation":2597,"user_id":618563,"accept_rate":47,"display_name":"samxiao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694726606,"creation_date":1607676064,"question_id":65248119,"body_markdown":"I have a question to ask.  Is there a good tips/simple way to debug exceptions with `IllegalReferenceCountException: refCnt: 0, decrement: 1`. I tried many ways to but fails to find a good solution on debugging this. I would like to know whether there&#39;s some configuration changes (other than enabling `DEBUG` on logging, which doesn&#39;t have much helpful info) or some code changes I can update to enable more debugging information for such Netty exception.\r\n\r\n\r\n\r\nJava code\r\n\r\n```java\r\n    WebClient.Builder webClientBuilder = WebClient.builder();\r\n\r\n    if (ENDPOINTS_REQUIRE_PROXY.contains(endpoint)) {\r\n      ReactorClientHttpConnector proxyConnector =\r\n          new ReactorClientHttpConnector(proxyHTTPClient);\r\n      webClientBuilder.clientConnector(proxyConnector);\r\n    }\r\n\r\n    return requestBodySpec\r\n          .header(&quot;Content-Type&quot;, HEADER_VALUE_CONTENT_TYPE)\r\n          .body(Mono.just(requestBody), requestBodyClass)\r\n          .retrieve()\r\n          .bodyToMono(String.class)\r\n          .timeout(Duration.ofMillis(alloyConfig.getTimeoutInMilliseconds()))\r\n          .block();\r\n```\r\n\r\n\r\n## Environments\r\n\r\n* Reactor version(s) used:\r\n  * `org.projectreactor:reactor-spring:1.0.1.RELEASE`\r\n  * `org.springframework.boot&#39; version &#39;2.3.4.RELEASE`\r\n  * `io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE`\r\n* JVM version (`java -version`):\r\n```\r\nopenjdk version &quot;11.0.2&quot; 2019-01-15\r\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n```\r\n* OS and version (eg. `uname -a`):\r\n`Darwin 19.6.0 Darwin Kernel Version 19.6.0: Thu Oct 29 22:56:45 PDT 2020; root:xnu-6153.141.2.2~1/RELEASE_X86_64 x86_64`\r\n\r\n\r\n\r\n\r\n```\r\n\r\n2020-12-11 00:29:12.498 ERROR 11918 --- [ctor-http-nio-2] r.n.channel.ChannelOperationsHandler     : [id: 0xebbe5eff, L:0.0.0.0/0.0.0.0:55189] Error was received while reading the incoming data. The connection will be closed.\r\n\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\r\n        at io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74)\r\n        at io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138)\r\n        at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100)\r\n        at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\r\n        at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\r\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\r\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\r\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\r\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526)\r\n        at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1287)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1324)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.handler.proxy.ProxyHandler.channelRead(ProxyHandler.java:253)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\r\n        at io.netty.handler.proxy.HttpProxyHandler$HttpClientCodecWrapper.channelRead(HttpProxyHandler.java:272)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2020-12-11 00:29:12.498 [reactor-http-nio-2] ERROR r.n.channel.ChannelOperationsHandler - [id: 0xebbe5eff, L:0.0.0.0/0.0.0.0:55189] Error was received while reading the incoming data. The connection will be closed.\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\r\n        at io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74)\r\n        at io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138)\r\n        at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100)\r\n        at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\r\n        at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\r\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\r\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\r\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\r\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526)\r\n        at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1287)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1324)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.handler.proxy.ProxyHandler.channelRead(ProxyHandler.java:253)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\r\n        at io.netty.handler.proxy.HttpProxyHandler$HttpClientCodecWrapper.channelRead(HttpProxyHandler.java:272)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```","title":"Debugging IllegalReferenceCountException: refCnt: 0, decrement: 1","body":"<p>I have a question to ask.  Is there a good tips/simple way to debug exceptions with <code>IllegalReferenceCountException: refCnt: 0, decrement: 1</code>. I tried many ways to but fails to find a good solution on debugging this. I would like to know whether there's some configuration changes (other than enabling <code>DEBUG</code> on logging, which doesn't have much helpful info) or some code changes I can update to enable more debugging information for such Netty exception.</p>\n<p>Java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    WebClient.Builder webClientBuilder = WebClient.builder();\n\n    if (ENDPOINTS_REQUIRE_PROXY.contains(endpoint)) {\n      ReactorClientHttpConnector proxyConnector =\n          new ReactorClientHttpConnector(proxyHTTPClient);\n      webClientBuilder.clientConnector(proxyConnector);\n    }\n\n    return requestBodySpec\n          .header(&quot;Content-Type&quot;, HEADER_VALUE_CONTENT_TYPE)\n          .body(Mono.just(requestBody), requestBodyClass)\n          .retrieve()\n          .bodyToMono(String.class)\n          .timeout(Duration.ofMillis(alloyConfig.getTimeoutInMilliseconds()))\n          .block();\n</code></pre>\n<h2>Environments</h2>\n<ul>\n<li>Reactor version(s) used:\n<ul>\n<li><code>org.projectreactor:reactor-spring:1.0.1.RELEASE</code></li>\n<li><code>org.springframework.boot' version '2.3.4.RELEASE</code></li>\n<li><code>io.spring.dependency-management' version '1.0.9.RELEASE</code></li>\n</ul>\n</li>\n<li>JVM version (<code>java -version</code>):</li>\n</ul>\n<pre><code>openjdk version &quot;11.0.2&quot; 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n</code></pre>\n<ul>\n<li>OS and version (eg. <code>uname -a</code>):\n<code>Darwin 19.6.0 Darwin Kernel Version 19.6.0: Thu Oct 29 22:56:45 PDT 2020; root:xnu-6153.141.2.2~1/RELEASE_X86_64 x86_64</code></li>\n</ul>\n<pre><code>\n2020-12-11 00:29:12.498 ERROR 11918 --- [ctor-http-nio-2] r.n.channel.ChannelOperationsHandler     : [id: 0xebbe5eff, L:0.0.0.0/0.0.0.0:55189] Error was received while reading the incoming data. The connection will be closed.\n\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\n        at io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74)\n        at io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138)\n        at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100)\n        at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\n        at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526)\n        at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1287)\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1324)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.handler.proxy.ProxyHandler.channelRead(ProxyHandler.java:253)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\n        at io.netty.handler.proxy.HttpProxyHandler$HttpClientCodecWrapper.channelRead(HttpProxyHandler.java:272)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n2020-12-11 00:29:12.498 [reactor-http-nio-2] ERROR r.n.channel.ChannelOperationsHandler - [id: 0xebbe5eff, L:0.0.0.0/0.0.0.0:55189] Error was received while reading the incoming data. The connection will be closed.\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\n        at io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74)\n        at io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138)\n        at io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100)\n        at io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\n        at io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526)\n        at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1287)\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1324)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.handler.proxy.ProxyHandler.channelRead(ProxyHandler.java:253)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\n        at io.netty.handler.proxy.HttpProxyHandler$HttpClientCodecWrapper.channelRead(HttpProxyHandler.java:272)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1537204,"reputation":1126,"user_id":1432882,"accept_rate":65,"display_name":"user1432882"},"score":0,"creation_date":1687565716,"post_id":76509211,"comment_id":134959730,"body_markdown":"Seeing similar issue after updating to hibernate 6.2. Any luck on resolving this?","body":"Seeing similar issue after updating to hibernate 6.2. Any luck on resolving this?"},{"owner":{"account_id":13829132,"reputation":477,"user_id":11041430,"display_name":"D. Sikilai"},"score":0,"creation_date":1688907900,"post_id":76509211,"comment_id":135134562,"body_markdown":"Notice the data types are so specific. meaning it&#39;s either float(53) or datetime(6) due to java.util.Date. my observations are only meant as a hint, i am not sure this is the case, but my experiments suggest so.","body":"Notice the data types are so specific. meaning it&#39;s either float(53) or datetime(6) due to java.util.Date. my observations are only meant as a hint, i am not sure this is the case, but my experiments suggest so."},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1691501922,"post_id":76509211,"comment_id":135498168,"body_markdown":"seems to be related to https://discourse.hibernate.org/t/schemamigrator-wants-to-alter-my-columns/7697","body":"seems to be related to <a href=\"https://discourse.hibernate.org/t/schemamigrator-wants-to-alter-my-columns/7697\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24834381,"reputation":26,"user_id":18713197,"display_name":"서혜영"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1687436090,"creation_date":1687436090,"answer_id":76531784,"question_id":76509211,"body_markdown":"If you don&#39;t want to change the database on startup\r\nYou can set the property in application.yml like this:\r\n\r\n    ddl-auto: none\r\n    \r\nOr when you need to check the mapping with tables and entities\r\n\r\n    ddl-auto: validate\r\n\r\nHowever, these properties mean that you will have to manually create a table when adding a new entity.","title":"Hibernate with ddl-auto: update always alters some fields","body":"<p>If you don't want to change the database on startup\nYou can set the property in application.yml like this:</p>\n<pre><code>ddl-auto: none\n</code></pre>\n<p>Or when you need to check the mapping with tables and entities</p>\n<pre><code>ddl-auto: validate\n</code></pre>\n<p>However, these properties mean that you will have to manually create a table when adding a new entity.</p>\n"},{"tags":[],"owner":{"account_id":29367184,"reputation":1,"user_id":22500579,"display_name":"jhsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693877672,"creation_date":1693877235,"answer_id":77041261,"question_id":76509211,"body_markdown":"I&#39;ve encountered a similar issue as well, but it happened when I upgraded from Spring Data JPA 3.0.x to 3.1.x. It seems to be caused by the upgrade in the Hibernate version in the dependencies. In my case, I update fields of type &#39;date,&#39; &#39;text,&#39; and &#39;json,&#39; and indeed, the application startup is quite slow. It also performs updates every time it starts. I&#39;m not sure yet what changes Hibernate made.\r\nHowever, until we know of a solution, you can temporarily downgrade the Spring Boot version to 3.0.9.\r\n","title":"Hibernate with ddl-auto: update always alters some fields","body":"<p>I've encountered a similar issue as well, but it happened when I upgraded from Spring Data JPA 3.0.x to 3.1.x. It seems to be caused by the upgrade in the Hibernate version in the dependencies. In my case, I update fields of type 'date,' 'text,' and 'json,' and indeed, the application startup is quite slow. It also performs updates every time it starts. I'm not sure yet what changes Hibernate made.\nHowever, until we know of a solution, you can temporarily downgrade the Spring Boot version to 3.0.9.</p>\n"},{"tags":[],"owner":{"account_id":29317993,"reputation":31,"user_id":22462274,"display_name":"unimatrix10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694725645,"creation_date":1694725645,"answer_id":77108378,"question_id":76509211,"body_markdown":"I have the same problem and it seems that we are lucky (the bad kind) because is an weird/rare and ancient issue:\r\n\r\nhttps://discourse.hibernate.org/t/manytoone-alter-table-query-is-generating-every-time-when-inserting-a-value/1162 \r\n\r\nI overcome this problem by simply updating the hibernate version to **6.2.8.Final**, I also tried **6.3.0.Final** and it works fine too.\r\n\r\nThe tested versions that present this issue are from **6.2.0.Final** to **6.2.7.Final**\r\n\r\nThe weird thing is that i have other project that have the exactly the same configuration, versions of everything and running almost the same code, i even run it in the same machine, in the same application server, in the same IDE but the second project does NOT present the issue with **6.2.6.Final** version, nether with previous or later versions.\r\n\r\nBoth project uses **JPA 3.1**\r\n\r\nHappy Coding;\r\n\r\n\r\n","title":"Hibernate with ddl-auto: update always alters some fields","body":"<p>I have the same problem and it seems that we are lucky (the bad kind) because is an weird/rare and ancient issue:</p>\n<p><a href=\"https://discourse.hibernate.org/t/manytoone-alter-table-query-is-generating-every-time-when-inserting-a-value/1162\" rel=\"nofollow noreferrer\">https://discourse.hibernate.org/t/manytoone-alter-table-query-is-generating-every-time-when-inserting-a-value/1162</a></p>\n<p>I overcome this problem by simply updating the hibernate version to <strong>6.2.8.Final</strong>, I also tried <strong>6.3.0.Final</strong> and it works fine too.</p>\n<p>The tested versions that present this issue are from <strong>6.2.0.Final</strong> to <strong>6.2.7.Final</strong></p>\n<p>The weird thing is that i have other project that have the exactly the same configuration, versions of everything and running almost the same code, i even run it in the same machine, in the same application server, in the same IDE but the second project does NOT present the issue with <strong>6.2.6.Final</strong> version, nether with previous or later versions.</p>\n<p>Both project uses <strong>JPA 3.1</strong></p>\n<p>Happy Coding;</p>\n"}],"owner":{"account_id":12829278,"reputation":101,"user_id":9281046,"display_name":"shinybunny123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1694725645,"creation_date":1687199253,"question_id":76509211,"body_markdown":"I have a spring-boot project with spring data.\r\nMy application.yml contains this property:\r\n\r\n```yml\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n```\r\n\r\nEvery time I run the project, Hibernate executes ALTER TABLE statements for **date**, **enum** and **float/double** fields.\r\n\r\nHibernate show_sql logs:\r\n```\r\nHibernate: alter table activity_data modify column points  float(53)\r\nHibernate: alter table activity_event modify column end_time  datetime(6)\r\nHibernate: alter table activity_event modify column start_time  datetime(6)\r\nHibernate: alter table giveaways modify column state  enum (&#39;CREATED&#39;,&#39;ENDED&#39;,&#39;GOING&#39;) not null\r\n\r\n... and some more\r\n```\r\n\r\nIt doesn&#39;t really affect the project or cause any bugs, but it does bother me, and may be causing the application to start slower\r\n\r\nDo you know any configuration that disables it? Maybe it happens because hibernate can&#39;t tell if these column settings are up to date?\r\n\r\nOne of the things I tried for the *double* fields, I tried manually setting a manual value to the column scale:\r\n```java\r\n@Column(name = &quot;POINTS&quot;, scale = -1)\r\nprivate double points;\r\n```\r\nbut it changed nothing","title":"Hibernate with ddl-auto: update always alters some fields","body":"<p>I have a spring-boot project with spring data.\nMy application.yml contains this property:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>Every time I run the project, Hibernate executes ALTER TABLE statements for <strong>date</strong>, <strong>enum</strong> and <strong>float/double</strong> fields.</p>\n<p>Hibernate show_sql logs:</p>\n<pre><code>Hibernate: alter table activity_data modify column points  float(53)\nHibernate: alter table activity_event modify column end_time  datetime(6)\nHibernate: alter table activity_event modify column start_time  datetime(6)\nHibernate: alter table giveaways modify column state  enum ('CREATED','ENDED','GOING') not null\n\n... and some more\n</code></pre>\n<p>It doesn't really affect the project or cause any bugs, but it does bother me, and may be causing the application to start slower</p>\n<p>Do you know any configuration that disables it? Maybe it happens because hibernate can't tell if these column settings are up to date?</p>\n<p>One of the things I tried for the <em>double</em> fields, I tried manually setting a manual value to the column scale:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;POINTS&quot;, scale = -1)\nprivate double points;\n</code></pre>\n<p>but it changed nothing</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":0,"creation_date":1557121010,"post_id":55995876,"comment_id":98645237,"body_markdown":"can you add your appium server error log?","body":"can you add your appium server error log?"},{"owner":{"account_id":15877814,"reputation":71,"user_id":11456491,"display_name":"Qi Horst"},"score":0,"creation_date":1557213611,"post_id":55995876,"comment_id":98678716,"body_markdown":"Sure, but i think i fixed the Error by adding a higher timeout Limit.","body":"Sure, but i think i fixed the Error by adding a higher timeout Limit."},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1571416910,"post_id":55995876,"comment_id":103247292,"body_markdown":"Just putting this here in case someone else finds it valuable. In my case I had `platformname` instead of `platformName` (notice the capital &quot;N&quot;) in the scheme configuration.","body":"Just putting this here in case someone else finds it valuable. In my case I had <code>platformname</code> instead of <code>platformName</code> (notice the capital &quot;N&quot;) in the scheme configuration."},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1587085822,"post_id":55995876,"comment_id":108377549,"body_markdown":"@QiHorst What timeout did you have to adjust to get this fixed?","body":"@QiHorst What timeout did you have to adjust to get this fixed?"}],"answers":[{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1571416943,"creation_date":1571416943,"answer_id":58455025,"question_id":55995876,"body_markdown":"### Check your scheme configuration.\r\n\r\nJust putting this here in case someone else finds it valuable. In my case I had `platformname` instead of `platformName` (notice the capital &quot;N&quot;) in the scheme configuration.","title":"Fix this appium error: &quot;A session is either terminated or not started&quot;","body":"<h3>Check your scheme configuration.</h3>\n\n<p>Just putting this here in case someone else finds it valuable. In my case I had <code>platformname</code> instead of <code>platformName</code> (notice the capital \"N\") in the scheme configuration.</p>\n"},{"tags":[],"owner":{"account_id":27340159,"reputation":50,"user_id":20850949,"display_name":"grandEL-dsouza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691994665,"creation_date":1691994665,"answer_id":76896742,"question_id":55995876,"body_markdown":"This error generally occurs if there are certain commands that try to interact with the driver after the driver instance is closed. \r\n\r\nBasically, all the commands are called after the driver.quit() will yield this error. \r\n","title":"Fix this appium error: &quot;A session is either terminated or not started&quot;","body":"<p>This error generally occurs if there are certain commands that try to interact with the driver after the driver instance is closed.</p>\n<p>Basically, all the commands are called after the driver.quit() will yield this error.</p>\n"}],"owner":{"account_id":15877814,"reputation":71,"user_id":11456491,"display_name":"Qi Horst"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14105,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1694725575,"creation_date":1557086251,"question_id":55995876,"body_markdown":"I get a this error code and can&#39;t find any solution:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\r\n\r\nI tried to find some infos on the Internet, but I don&#39;t find any according to my problem.\r\n\r\nI try to automate a little part of the game Epic Seven, using appium, and some hard coded variables. I don&#39;t know if there is any problem in my Capabilities but I think not, because it works great in the Inspektor Session. So I thinnk there must be a problem in my code, logic, or the installation of my drivers.\r\n\r\nMy code:\r\n```\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.Scanner;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.MobileElement;\r\nimport io.appium.java_client.TouchAction;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.touch.offset.PointOption;\r\n\r\npublic class main {\r\n\tpublic static DesiredCapabilities init() {\r\n//\t\t  &quot;platformName&quot;: &quot;Android&quot;,\r\n//\t\t  &quot;deviceName&quot;: &quot;HUAWEI P10&quot;,\r\n//\t\t  &quot;appPackage&quot;: &quot;com.stove.epic7.google&quot;,\r\n//\t\t  &quot;appActivity&quot;: &quot;kr.supercreative.epic7.AppActivity&quot;,\r\n//\t\t  &quot;noReset&quot;: true,\r\n//\t\t  &quot;skipDeviceInitialization&quot;: true,\r\n//\t\t  &quot;skipServerInstallation&quot;: true\r\n\r\n\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\t\tcaps.setCapability(&quot;deviceName&quot;, &quot;HUAWEI P10&quot;);\r\n\t\tcaps.setCapability(&quot;udid&quot;, &quot;6PQ0217829002238&quot;); //Give Device ID of your mobile phone\r\n\t\tcaps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcaps.setCapability(&quot;platformVersion&quot;, &quot;8.0.0&quot;);\r\n\t\tcaps.setCapability(&quot;appPackage&quot;, &quot;com.stove.epic7.google&quot;);\r\n\t\tcaps.setCapability(&quot;appActivity&quot;, &quot;kr.supercreative.epic7.AppActivity&quot;);\r\n\t\tcaps.setCapability(&quot;noReset&quot;, &quot;true&quot;);\r\n\t\tcaps.setCapability(&quot;skipServerInstallation&quot;, true);\r\n\t\tcaps.setCapability(&quot;clearSystemFiles&quot;, false);\r\n\t\t\r\n\t\treturn caps;\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tAppiumDriver&lt;MobileElement&gt; mygame = new AndroidDriver&lt;MobileElement&gt;(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), init());\r\n\t\t\tint x = 1;\r\n\t\t\t\r\n\t\t\twhile(x != -1) {\r\n\t\t\t\tx = input.nextInt();\r\n\t\t\t\tTouchAction touchAction = new TouchAction(mygame);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tfor(int i = 0; i &lt; x; i++) {\r\n\t\t\t\t\t//select team + supp\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\r\n\t\t\t\t\t//start quest\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\r\n\t\t\t\t\t//buy energy\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1076, 772)).perform();\r\n\t\t\t\t\t//start quest again if energie empty\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\r\n\t\t\t\t\t//wait for finishing mission\r\n\t\t\t\t\tfor(int j = 0; j &lt; 4;j++) {\r\n\t\t\t\t\t\tThread.sleep(1000 * 30 * 2);\r\n\t\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tThread.sleep(1000 * 60 * 2);\r\n\t\t\t\t\t//clear stage tap anywhere\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\r\n\t\t\t\t\t//confirm mvp\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1740, 994)).perform();\r\n\t\t\t\t\t//play again\r\n\t\t\t\t\ttouchAction.tap(new PointOption().withCoordinates(1740, 994)).perform();\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here my error log in Eclipse:\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:48&#39;\r\nSystem info: host: &#39;LAPTOPMARTIN&#39;, ip: &#39;192.168.178.21&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_211&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCapabilities {appActivity: kr.supercreative.epic7.AppA..., appPackage: com.stove.epic7.google, clearSystemFiles: false, databaseEnabled: false, desired: {appActivity: kr.supercreative.epic7.AppA..., appPackage: com.stove.epic7.google, clearSystemFiles: false, deviceName: HUAWEI P10, noReset: true, platformName: android, platformVersion: 8.0.0, skipServerInstallation: true, udid: 6PQ0217829002238}, deviceManufacturer: HUAWEI, deviceModel: VTR-L09, deviceName: 6PQ0217829002238, deviceScreenSize: 1080x1920, deviceUDID: 6PQ0217829002238, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, noReset: true, platform: LINUX, platformName: Android, platformVersion: 8.0.0, skipServerInstallation: true, takesScreenshot: true, udid: 6PQ0217829002238, warnings: {}, webStorageEnabled: false}\r\nSession ID: 1341c917-75bc-4988-a5bf-854c9affb81f\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\r\n\tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n\tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n\tat io.appium.java_client.PerformsTouchActions.performTouchAction(PerformsTouchActions.java:41)\r\n\tat io.appium.java_client.TouchAction.perform(TouchAction.java:187)\r\n\tat test.main.main(main.java:65)\r\n```\r\n\r\n","title":"Fix this appium error: &quot;A session is either terminated or not started&quot;","body":"<p>I get a this error code and can't find any solution:</p>\n\n<pre><code>Exception in thread \"main\" org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\n</code></pre>\n\n<p>I tried to find some infos on the Internet, but I don't find any according to my problem.</p>\n\n<p>I try to automate a little part of the game Epic Seven, using appium, and some hard coded variables. I don't know if there is any problem in my Capabilities but I think not, because it works great in the Inspektor Session. So I thinnk there must be a problem in my code, logic, or the installation of my drivers.</p>\n\n<p>My code:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Scanner;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.TouchAction;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.touch.offset.PointOption;\n\npublic class main {\n    public static DesiredCapabilities init() {\n//        \"platformName\": \"Android\",\n//        \"deviceName\": \"HUAWEI P10\",\n//        \"appPackage\": \"com.stove.epic7.google\",\n//        \"appActivity\": \"kr.supercreative.epic7.AppActivity\",\n//        \"noReset\": true,\n//        \"skipDeviceInitialization\": true,\n//        \"skipServerInstallation\": true\n\n        DesiredCapabilities caps = new DesiredCapabilities();\n        caps.setCapability(\"deviceName\", \"HUAWEI P10\");\n        caps.setCapability(\"udid\", \"6PQ0217829002238\"); //Give Device ID of your mobile phone\n        caps.setCapability(\"platformName\", \"Android\");\n        caps.setCapability(\"platformVersion\", \"8.0.0\");\n        caps.setCapability(\"appPackage\", \"com.stove.epic7.google\");\n        caps.setCapability(\"appActivity\", \"kr.supercreative.epic7.AppActivity\");\n        caps.setCapability(\"noReset\", \"true\");\n        caps.setCapability(\"skipServerInstallation\", true);\n        caps.setCapability(\"clearSystemFiles\", false);\n\n        return caps;\n    }\n\n\n    public static void main(String[] args) throws InterruptedException {\n        Scanner input = new Scanner(System.in);\n\n\n        try {\n            AppiumDriver&lt;MobileElement&gt; mygame = new AndroidDriver&lt;MobileElement&gt;(new URL(\"http://0.0.0.0:4723/wd/hub\"), init());\n            int x = 1;\n\n            while(x != -1) {\n                x = input.nextInt();\n                TouchAction touchAction = new TouchAction(mygame);\n\n                for(int i = 0; i &lt; x; i++) {\n                    //select team + supp\n                    touchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\n                    //start quest\n                    touchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\n                    //buy energy\n                    touchAction.tap(new PointOption().withCoordinates(1076, 772)).perform();\n                    //start quest again if energie empty\n                    touchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\n                    //wait for finishing mission\n                    for(int j = 0; j &lt; 4;j++) {\n                        Thread.sleep(1000 * 30 * 2);\n                        touchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\n                    }\n\n                    Thread.sleep(1000 * 60 * 2);\n                    //clear stage tap anywhere\n                    touchAction.tap(new PointOption().withCoordinates(1400, 950)).perform();\n                    //confirm mvp\n                    touchAction.tap(new PointOption().withCoordinates(1740, 994)).perform();\n                    //play again\n                    touchAction.tap(new PointOption().withCoordinates(1740, 994)).perform();                \n\n                }\n\n\n\n\n\n            }\n\n        } catch (MalformedURLException e) {\n            System.out.println(e.getMessage());\n        }       \n\n    }\n\n}\n\n</code></pre>\n\n<p>And here my error log in Eclipse:</p>\n\n<pre><code>Exception in thread \"main\" org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:48'\nSystem info: host: 'LAPTOPMARTIN', ip: '192.168.178.21', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_211'\nDriver info: io.appium.java_client.android.AndroidDriver\nCapabilities {appActivity: kr.supercreative.epic7.AppA..., appPackage: com.stove.epic7.google, clearSystemFiles: false, databaseEnabled: false, desired: {appActivity: kr.supercreative.epic7.AppA..., appPackage: com.stove.epic7.google, clearSystemFiles: false, deviceName: HUAWEI P10, noReset: true, platformName: android, platformVersion: 8.0.0, skipServerInstallation: true, udid: 6PQ0217829002238}, deviceManufacturer: HUAWEI, deviceModel: VTR-L09, deviceName: 6PQ0217829002238, deviceScreenSize: 1080x1920, deviceUDID: 6PQ0217829002238, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, noReset: true, platform: LINUX, platformName: Android, platformVersion: 8.0.0, skipServerInstallation: true, takesScreenshot: true, udid: 6PQ0217829002238, warnings: {}, webStorageEnabled: false}\nSession ID: 1341c917-75bc-4988-a5bf-854c9affb81f\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at io.appium.java_client.PerformsTouchActions.performTouchAction(PerformsTouchActions.java:41)\n    at io.appium.java_client.TouchAction.perform(TouchAction.java:187)\n    at test.main.main(main.java:65)\n</code></pre>\n"},{"tags":["java","swing","user-interface","jpanel","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694721674,"post_id":77108019,"comment_id":135932448,"body_markdown":"Regarding, &quot;*this is part of a larger project ... a similar glitch has been seen throughout the project when using the CardLayout.*&quot; -- If you don&#39;t get a decent answer soon, consider creating and posting a [mre], code that condenses your code into the smallest program possible, small enough to be allowed to be posted in your question as code-formatted text, that runs for us without modification, that demonstrates your problem for us, and that has no code that is not essential for the above. Please check out the link which explains what this useful tool is and how it can help both you and us.","body":"Regarding, &quot;<i>this is part of a larger project ... a similar glitch has been seen throughout the project when using the CardLayout.</i>&quot; -- If you don&#39;t get a decent answer soon, consider creating and posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, code that condenses your code into the smallest program possible, small enough to be allowed to be posted in your question as code-formatted text, that runs for us without modification, that demonstrates your problem for us, and that has no code that is not essential for the above. Please check out the link which explains what this useful tool is and how it can help both you and us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694721721,"post_id":77108019,"comment_id":135932455,"body_markdown":"If you have questions about how to best create your [mre] after reading the link, please comment back. Again, we should be able to copy and paste the code and then be able to compile and run it.","body":"If you have questions about how to best create your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> after reading the link, please comment back. Again, we should be able to copy and paste the code and then be able to compile and run it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694721747,"post_id":77108019,"comment_id":135932463,"body_markdown":"One key question that I have to ask is that if you override any component&#39;s painting method, and if so, if you call the appropriate super method within your override.","body":"One key question that I have to ask is that if you override any component&#39;s painting method, and if so, if you call the appropriate super method within your override."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694722115,"post_id":77108019,"comment_id":135932525,"body_markdown":"Also, you don&#39;t happen to know what graphics card your computer is using, do you? Is it a NVIDIA GeForce GT 640M?","body":"Also, you don&#39;t happen to know what graphics card your computer is using, do you? Is it a NVIDIA GeForce GT 640M?"},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694722400,"post_id":77108019,"comment_id":135932570,"body_markdown":"The code I have added is a simplified version of my project code--I was just referring to the display as shown in the pictures is from a larger project. If you need me to recreate a basic jframe and main method to run the code above, I can do so, but I didn&#39;t want to distract from the code central to the problem.","body":"The code I have added is a simplified version of my project code--I was just referring to the display as shown in the pictures is from a larger project. If you need me to recreate a basic jframe and main method to run the code above, I can do so, but I didn&#39;t want to distract from the code central to the problem."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1694722474,"post_id":77108019,"comment_id":135932584,"body_markdown":"The code you have posted is not code that we can run, not code that we can easily use to reproduce the problems ourselves, and that is a problem. I personally don&#39;t need anything, but you and your question might benefit from your creating and posting a valid [mre] (again).","body":"The code you have posted is not code that we can run, not code that we can easily use to reproduce the problems ourselves, and that is a problem. I personally don&#39;t need anything, but you and your question might benefit from your creating and posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (again)."},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694722478,"post_id":77108019,"comment_id":135932585,"body_markdown":"The graphics is just the inbuilt Intel Graphics card","body":"The graphics is just the inbuilt Intel Graphics card"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694722534,"post_id":77108019,"comment_id":135932595,"body_markdown":"&quot;*...but I didn&#39;t want to distract from the code central to the problem*&quot; -- which is *exactly* why a decent MRE is essential since it forces you to isolate the exact code that causes the problem in a small runnable program.","body":"&quot;<i>...but I didn&#39;t want to distract from the code central to the problem</i>&quot; -- which is <i>exactly</i> why a decent MRE is essential since it forces you to isolate the exact code that causes the problem in a small runnable program."},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694722548,"post_id":77108019,"comment_id":135932598,"body_markdown":"as for overriding paint methods, no, I am using the defaults for JPanel","body":"as for overriding paint methods, no, I am using the defaults for JPanel"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694722941,"post_id":77108019,"comment_id":135932652,"body_markdown":"Are you using AWT components, such as `java.awt.Button`? Sometimes heavy weight components don&#39;t play nice with usual Swing lightweight components. But again regardless, MRE.","body":"Are you using AWT components, such as <code>java.awt.Button</code>? Sometimes heavy weight components don&#39;t play nice with usual Swing lightweight components. But again regardless, MRE."},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694723855,"post_id":77108019,"comment_id":135932766,"body_markdown":"The code should be runnable now. Let me know if there are any further issues with this.","body":"The code should be runnable now. Let me know if there are any further issues with this."},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694724235,"post_id":77108019,"comment_id":135932841,"body_markdown":"Yes, I am using awt Buttons. using JButtons appears to fix the error. I should note as well, that this would explain why the loading card didn&#39;t work either--I was using Labels instead of JLabels. Thanks for the help!","body":"Yes, I am using awt Buttons. using JButtons appears to fix the error. I should note as well, that this would explain why the loading card didn&#39;t work either--I was using Labels instead of JLabels. Thanks for the help!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694724245,"post_id":77108019,"comment_id":135932842,"body_markdown":"Thank you, it is runnable, but I had to put them into a single file to make it a MRE. Having done that, I cannot reproduce your problem. Does this code cause the glitch for you? Also, don&#39;t mix AWT and Swing components. Change your Buttons to JButtons.","body":"Thank you, it is runnable, but I had to put them into a single file to make it a MRE. Having done that, I cannot reproduce your problem. Does this code cause the glitch for you? Also, don&#39;t mix AWT and Swing components. Change your Buttons to JButtons."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694724276,"post_id":77108019,"comment_id":135932850,"body_markdown":"Yeah, the heavy-weight AWT components can cause problems if mixed with light-weight Swing components. Best to avoid doing this.","body":"Yeah, the heavy-weight AWT components can cause problems if mixed with light-weight Swing components. Best to avoid doing this."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1694724907,"post_id":77108019,"comment_id":135932941,"body_markdown":"Don&#39;t call `updateUI`, it&#39;s not doing what you think it&#39;s doing, in most case `revalidate` and `repaint` are more the enough","body":"Don&#39;t call <code>updateUI</code>, it&#39;s not doing what you think it&#39;s doing, in most case <code>revalidate</code> and <code>repaint</code> are more the enough"},{"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"score":0,"creation_date":1694725106,"post_id":77108019,"comment_id":135932972,"body_markdown":"yeah, I might remove that part since the glitch has been fixed.","body":"yeah, I might remove that part since the glitch has been fixed."}],"answers":[{"tags":[],"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694724746,"creation_date":1694724746,"answer_id":77108303,"question_id":77108019,"body_markdown":"It appears the visual glitch is resolved by switching from awt components (Button and Label) to swing lightweight components (JButton and JLabel). For instance, the menu class is:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class Menu extends Screen {\r\n\r\n    private final MainPanel panel;\r\n\r\n    public Menu(MainPanel panel) {\r\n        this.panel = panel;\r\n\r\n        JButton deleteButton = new JButton(&quot;Delete&quot;);\r\n        deleteButton.addActionListener(this::delete);\r\n        add(deleteButton);\r\n\r\n        JButton loadButton = new JButton(&quot;Load&quot;);\r\n        loadButton.addActionListener(this::load);\r\n        add(loadButton);\r\n\r\n        JButton forumButton = new JButton(&quot;Forum&quot;);\r\n        forumButton.addActionListener(this::toForum);\r\n        add(forumButton);\r\n    }\r\n\r\n    private void toForum(ActionEvent actionEvent) {\r\n        panel.navigate(MainPanel.FORUM);\r\n    }\r\n\r\n    private void load(ActionEvent actionEvent) {\r\n    }\r\n\r\n    private void delete(ActionEvent actionEvent) {\r\n    }\r\n}\r\n```\r\n\r\nCredit and thanks to [hovercraft-full-of-eels][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels","title":"JPanel CardLayout causes visual glitch between swaps","body":"<p>It appears the visual glitch is resolved by switching from awt components (Button and Label) to swing lightweight components (JButton and JLabel). For instance, the menu class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\n\npublic class Menu extends Screen {\n\n    private final MainPanel panel;\n\n    public Menu(MainPanel panel) {\n        this.panel = panel;\n\n        JButton deleteButton = new JButton(&quot;Delete&quot;);\n        deleteButton.addActionListener(this::delete);\n        add(deleteButton);\n\n        JButton loadButton = new JButton(&quot;Load&quot;);\n        loadButton.addActionListener(this::load);\n        add(loadButton);\n\n        JButton forumButton = new JButton(&quot;Forum&quot;);\n        forumButton.addActionListener(this::toForum);\n        add(forumButton);\n    }\n\n    private void toForum(ActionEvent actionEvent) {\n        panel.navigate(MainPanel.FORUM);\n    }\n\n    private void load(ActionEvent actionEvent) {\n    }\n\n    private void delete(ActionEvent actionEvent) {\n    }\n}\n</code></pre>\n<p>Credit and thanks to <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">hovercraft-full-of-eels</a></p>\n"}],"owner":{"account_id":29445028,"reputation":21,"user_id":22562494,"display_name":"FMrts"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694724746,"creation_date":1694721463,"question_id":77108019,"body_markdown":"I am trying to create a JPanel with a CardLayout that switches between a menu and a forum when a button is pressed, but I am encountering a visual error where elements of the menu are still displaying when I switch to the forum.\r\n\r\n(If relevant, my system specifications are:\r\nMacBook Air (13-inch, Early 2015),\r\n2.2 GHz Dual-Core Intel Core i7,\r\n8 GB 1600 MHz DDR3,\r\nIntel HD Graphics 6000 1536 MB,\r\nMacOS Monterey 12.6.7)\r\n\r\nWhat follows is a simplified example of my basic implementation. Obviously certain features are not fully implemented in the example.\r\n\r\nMain Class:\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setContentPane(new MainPanel());\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nMainPanel Class:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MainPanel extends JPanel {\r\n    private final CardLayout layout = new CardLayout();\r\n    private final Menu menuScreen;\r\n    private final Forum forumScreen;\r\n    public static final String MENU = &quot;1&quot;;\r\n    public static final String FORUM = &quot;2&quot;;\r\n\r\n    public MainPanel() {\r\n        setLayout(layout);\r\n        menuScreen = new Menu(this);\r\n        add(menuScreen, MENU);\r\n        forumScreen = new Forum(this);\r\n        add(forumScreen, FORUM);\r\n        layout.show(this, MENU);\r\n    }\r\n\r\n    public void navigate (String destination) {\r\n        layout.show(this, destination);\r\n        switch (destination) {\r\n            case MENU -&gt; menuScreen.updateUI();\r\n            case FORUM -&gt; forumScreen.updateUI();\r\n        }\r\n        this.revalidate();\r\n        this.updateUI();\r\n    }\r\n}\r\n```\r\nMenu Class:\r\n\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class Menu extends Screen {\r\n\r\n    private final MainPanel panel;\r\n\r\n    public Menu(MainPanel panel) {\r\n        this.panel = panel;\r\n\r\n        Button deleteButton = new Button(&quot;Delete&quot;);\r\n        deleteButton.addActionListener(this::delete);\r\n        add(deleteButton);\r\n\r\n        Button loadButton = new Button(&quot;Load&quot;);\r\n        loadButton.addActionListener(this::load);\r\n        add(loadButton);\r\n\r\n        Button forumButton = new Button(&quot;Forum&quot;);\r\n        forumButton.addActionListener(this::toForum);\r\n        add(forumButton);\r\n    }\r\n\r\n    private void toForum(ActionEvent actionEvent) {\r\n        panel.navigate(MainPanel.FORUM);\r\n    }\r\n\r\n    private void load(ActionEvent actionEvent) {\r\n    }\r\n\r\n    private void delete(ActionEvent actionEvent) {\r\n    }\r\n}\r\n\r\n```\r\n\r\nForum Class:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class Forum extends Screen {\r\n\r\n    private final MainPanel panel;\r\n    private final JSpinner heightField = new JSpinner(new SpinnerNumberModel(1,1,Integer.MAX_VALUE,1));\r\n    private final JSpinner widthField = new JSpinner(new SpinnerNumberModel(1, 1, Integer.MAX_VALUE, 1));\r\n\r\n    public Forum(MainPanel panel) {\r\n        this.panel = panel;\r\n\r\n        add(new Label(&quot;Forum&quot;, Label.CENTER));\r\n\r\n        add(new Label(&quot;Height&quot;));\r\n        add(heightField);\r\n\r\n        add(new Label(&quot;Width&quot;));\r\n        add(widthField);\r\n\r\n        Button exitButton = new Button(&quot;Exit&quot;);\r\n        exitButton.addActionListener(this::exit);\r\n        add(exitButton);\r\n    }\r\n\r\n    private void exit(ActionEvent actionEvent) {\r\n        panel.navigate(MainPanel.MENU);\r\n    }\r\n}\r\n```\r\n\r\nScreen Class:\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Screen extends JPanel {\r\n    public Screen() {\r\n        setBorder(BorderFactory.createEmptyBorder(30,30,30,30));\r\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    }\r\n}\r\n```\r\n\r\nFunctionally, the code succeeds at switching between the panels, but I&#39;ve consistently been getting a visual glitch where elements of the last panel display and cover up elements on the new panel. I can still select the elements of the new panel that are covered up, and after I do so, they seem to be switched to the foreground in front of the glitched elements.\r\n\r\n[Menu](https://i.stack.imgur.com/e3MdX.png)\r\n[Forum with Glitched Display](https://i.stack.imgur.com/9C8HG.png)\r\n\r\nNote: this is part of a larger project so the UI seen here may not exactly match the code above. I will note, however, that a similar glitch has been seen throughout the project when using the CardLayout.\r\n\r\nI have tried a variety of fixes. I rolled back my java version to java 11, but I still encountered the same problem. I made a loading card to force the ui to update with two switches, but I found that an empty loading card did not solve the problem and a loading card with elements still caused the visual glitch. As seen in the code, I tried a variety of calls that might update the panels such as revalidate, updateUI, and repaint, but nothing I have tried has worked.\r\n\r\nLet me know if you have any suggestions.","title":"JPanel CardLayout causes visual glitch between swaps","body":"<p>I am trying to create a JPanel with a CardLayout that switches between a menu and a forum when a button is pressed, but I am encountering a visual error where elements of the menu are still displaying when I switch to the forum.</p>\n<p>(If relevant, my system specifications are:\nMacBook Air (13-inch, Early 2015),\n2.2 GHz Dual-Core Intel Core i7,\n8 GB 1600 MHz DDR3,\nIntel HD Graphics 6000 1536 MB,\nMacOS Monterey 12.6.7)</p>\n<p>What follows is a simplified example of my basic implementation. Obviously certain features are not fully implemented in the example.</p>\n<p>Main Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setContentPane(new MainPanel());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>MainPanel Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class MainPanel extends JPanel {\n    private final CardLayout layout = new CardLayout();\n    private final Menu menuScreen;\n    private final Forum forumScreen;\n    public static final String MENU = &quot;1&quot;;\n    public static final String FORUM = &quot;2&quot;;\n\n    public MainPanel() {\n        setLayout(layout);\n        menuScreen = new Menu(this);\n        add(menuScreen, MENU);\n        forumScreen = new Forum(this);\n        add(forumScreen, FORUM);\n        layout.show(this, MENU);\n    }\n\n    public void navigate (String destination) {\n        layout.show(this, destination);\n        switch (destination) {\n            case MENU -&gt; menuScreen.updateUI();\n            case FORUM -&gt; forumScreen.updateUI();\n        }\n        this.revalidate();\n        this.updateUI();\n    }\n}\n</code></pre>\n<p>Menu Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\n\npublic class Menu extends Screen {\n\n    private final MainPanel panel;\n\n    public Menu(MainPanel panel) {\n        this.panel = panel;\n\n        Button deleteButton = new Button(&quot;Delete&quot;);\n        deleteButton.addActionListener(this::delete);\n        add(deleteButton);\n\n        Button loadButton = new Button(&quot;Load&quot;);\n        loadButton.addActionListener(this::load);\n        add(loadButton);\n\n        Button forumButton = new Button(&quot;Forum&quot;);\n        forumButton.addActionListener(this::toForum);\n        add(forumButton);\n    }\n\n    private void toForum(ActionEvent actionEvent) {\n        panel.navigate(MainPanel.FORUM);\n    }\n\n    private void load(ActionEvent actionEvent) {\n    }\n\n    private void delete(ActionEvent actionEvent) {\n    }\n}\n\n</code></pre>\n<p>Forum Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\n\npublic class Forum extends Screen {\n\n    private final MainPanel panel;\n    private final JSpinner heightField = new JSpinner(new SpinnerNumberModel(1,1,Integer.MAX_VALUE,1));\n    private final JSpinner widthField = new JSpinner(new SpinnerNumberModel(1, 1, Integer.MAX_VALUE, 1));\n\n    public Forum(MainPanel panel) {\n        this.panel = panel;\n\n        add(new Label(&quot;Forum&quot;, Label.CENTER));\n\n        add(new Label(&quot;Height&quot;));\n        add(heightField);\n\n        add(new Label(&quot;Width&quot;));\n        add(widthField);\n\n        Button exitButton = new Button(&quot;Exit&quot;);\n        exitButton.addActionListener(this::exit);\n        add(exitButton);\n    }\n\n    private void exit(ActionEvent actionEvent) {\n        panel.navigate(MainPanel.MENU);\n    }\n}\n</code></pre>\n<p>Screen Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Screen extends JPanel {\n    public Screen() {\n        setBorder(BorderFactory.createEmptyBorder(30,30,30,30));\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n    }\n}\n</code></pre>\n<p>Functionally, the code succeeds at switching between the panels, but I've consistently been getting a visual glitch where elements of the last panel display and cover up elements on the new panel. I can still select the elements of the new panel that are covered up, and after I do so, they seem to be switched to the foreground in front of the glitched elements.</p>\n<p><a href=\"https://i.stack.imgur.com/e3MdX.png\" rel=\"nofollow noreferrer\">Menu</a>\n<a href=\"https://i.stack.imgur.com/9C8HG.png\" rel=\"nofollow noreferrer\">Forum with Glitched Display</a></p>\n<p>Note: this is part of a larger project so the UI seen here may not exactly match the code above. I will note, however, that a similar glitch has been seen throughout the project when using the CardLayout.</p>\n<p>I have tried a variety of fixes. I rolled back my java version to java 11, but I still encountered the same problem. I made a loading card to force the ui to update with two switches, but I found that an empty loading card did not solve the problem and a loading card with elements still caused the visual glitch. As seen in the code, I tried a variety of calls that might update the panels such as revalidate, updateUI, and repaint, but nothing I have tried has worked.</p>\n<p>Let me know if you have any suggestions.</p>\n"},{"tags":["java","windows","encryption"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666607348,"post_id":74179202,"comment_id":130969239,"body_markdown":"*win32* You have a 32 library on a 64 bit machine?","body":"<i>win32</i> You have a 32 library on a 64 bit machine?"},{"owner":{"account_id":21573283,"reputation":23,"user_id":15905857,"display_name":"Constant Abrh"},"score":0,"creation_date":1666609583,"post_id":74179202,"comment_id":130970010,"body_markdown":"From what I&#39;ve searched there&#39;s no win64 / Crypt64Util so yes, I don&#39;t really think it&#39;s related to that","body":"From what I&#39;ve searched there&#39;s no win64 / Crypt64Util so yes, I don&#39;t really think it&#39;s related to that"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666609776,"post_id":74179202,"comment_id":130970080,"body_markdown":"Ok You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Ok You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1666691581,"post_id":74179202,"comment_id":130991777,"body_markdown":"I would try to go with last version https://mvnrepository.com/artifact/net.java.dev.jna/jna","body":"I would try to go with last version <a href=\"https://mvnrepository.com/artifact/net.java.dev.jna/jna\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/net.java.dev.jna/jna</a>"},{"owner":{"account_id":21573283,"reputation":23,"user_id":15905857,"display_name":"Constant Abrh"},"score":0,"creation_date":1666700183,"post_id":74179202,"comment_id":130994680,"body_markdown":"Still the same problem with latest version","body":"Still the same problem with latest version"},{"owner":{"account_id":21573283,"reputation":23,"user_id":15905857,"display_name":"Constant Abrh"},"score":0,"creation_date":1666701277,"post_id":74179202,"comment_id":130995078,"body_markdown":"I also added a reproducible example and modified the graddle JNA-PLATFORM implementation","body":"I also added a reproducible example and modified the graddle JNA-PLATFORM implementation"},{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1694723601,"post_id":74179202,"comment_id":135932743,"body_markdown":"I do not think this is related to 32/64 bit architecture. Have you tried with flag `CRYPTPROTECT_UI_FORBIDDEN`","body":"I do not think this is related to 32/64 bit architecture. Have you tried with flag <code>CRYPTPROTECT_UI_FORBIDDEN</code>"}],"owner":{"account_id":21573283,"reputation":23,"user_id":15905857,"display_name":"Constant Abrh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694723490,"creation_date":1666604382,"question_id":74179202,"body_markdown":"For a school project I need to retrieve encrypted data from Windows crypt function.\r\nI&#39;m using Java 17, Gradle with the latest dependency for the Crypt32Util class : \r\n\r\n    &quot;implementation &#39;net.java.dev.jna:jna-platform:5.12.1&#39;&quot;\r\n\r\nI retrieve my data using ResultSet from SQLite database, the data is stored in byte array :\r\n\r\n    byte[] data = rs.getBytes(6);\r\n\r\nThen, using the Crypt32Util built-in method cryptUnprotectData :\r\n\r\n    Crypt32Util.cryptUnprotectData(data);\r\n\r\nThis give me the following error :\r\n\r\n&gt; com.sun.jna.platform.win32.Win32Exception: Param&#232;tre incorrect.\r\n\r\nBasically, it&#39;s written that I put an incorrect parameter, the only thing asked is a byte array, but the method :\r\n\r\n    Crypt32Util.cryptUnprotectData(byte_array);\r\n\r\nis calling / equal to :\r\n\r\n    Crypt32Util.cryptUnprotectData(data, null, 0, null);\r\n\r\nI wonder is there something wrong with the lib, or even with my OS since i&#39;m using Windows 11\r\n\r\n---\r\n\r\n**Reproductible example :**\r\n \r\nByte array :  [118, 49, 48, 97, 69, -91, 123, 16, -86, -29, -49, 63, 83, 84, 80, 69, 64, -53, -83, -120, -97, -91, 111, 82, -114, 104, 119, 41, 89, -55, -64, 48, -56, 65, -33, -2, 40, 76, 104]\r\n\r\nCode using the Crypt32Util method :\r\n\r\n    byte[] dataBytes = rs.getBytes(6);\r\n    byte[] dataBytes2 = {118, 49, 48, 97, 69, -91, 123, 16, -86, -29, -49, 63, 83, 84, 80, 69, 64, -53, -83, -120, -97, -91, 111, 82, -114, 104, 119, 41, 89, -55, -64, 48, -56, 65, -33, -2, 40, 76, 104};\r\n    Crypt32Util.cryptUnprotectData(dataBytes2); // &lt;-- ERROR HERE\r\n\r\n\r\nThis byte array should in fact return &quot;password&quot;","title":"Java -&gt; Crypt32Util -&gt; Incorrect parameter","body":"<p>For a school project I need to retrieve encrypted data from Windows crypt function.\nI'm using Java 17, Gradle with the latest dependency for the Crypt32Util class :</p>\n<pre><code>&quot;implementation 'net.java.dev.jna:jna-platform:5.12.1'&quot;\n</code></pre>\n<p>I retrieve my data using ResultSet from SQLite database, the data is stored in byte array :</p>\n<pre><code>byte[] data = rs.getBytes(6);\n</code></pre>\n<p>Then, using the Crypt32Util built-in method cryptUnprotectData :</p>\n<pre><code>Crypt32Util.cryptUnprotectData(data);\n</code></pre>\n<p>This give me the following error :</p>\n<blockquote>\n<p>com.sun.jna.platform.win32.Win32Exception: Paramètre incorrect.</p>\n</blockquote>\n<p>Basically, it's written that I put an incorrect parameter, the only thing asked is a byte array, but the method :</p>\n<pre><code>Crypt32Util.cryptUnprotectData(byte_array);\n</code></pre>\n<p>is calling / equal to :</p>\n<pre><code>Crypt32Util.cryptUnprotectData(data, null, 0, null);\n</code></pre>\n<p>I wonder is there something wrong with the lib, or even with my OS since i'm using Windows 11</p>\n<hr />\n<p><strong>Reproductible example :</strong></p>\n<p>Byte array :  [118, 49, 48, 97, 69, -91, 123, 16, -86, -29, -49, 63, 83, 84, 80, 69, 64, -53, -83, -120, -97, -91, 111, 82, -114, 104, 119, 41, 89, -55, -64, 48, -56, 65, -33, -2, 40, 76, 104]</p>\n<p>Code using the Crypt32Util method :</p>\n<pre><code>byte[] dataBytes = rs.getBytes(6);\nbyte[] dataBytes2 = {118, 49, 48, 97, 69, -91, 123, 16, -86, -29, -49, 63, 83, 84, 80, 69, 64, -53, -83, -120, -97, -91, 111, 82, -114, 104, 119, 41, 89, -55, -64, 48, -56, 65, -33, -2, 40, 76, 104};\nCrypt32Util.cryptUnprotectData(dataBytes2); // &lt;-- ERROR HERE\n</code></pre>\n<p>This byte array should in fact return &quot;password&quot;</p>\n"},{"tags":["java","spring","docker","docker-compose","liquibase"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694720775,"post_id":77107898,"comment_id":135932275,"body_markdown":"What is 172.22.0.1? Is this IP *visible* to the container you&#39;re running your spring App in? It&#39;s difficult to assist unless you share the `networks` configuration section of your `docker-compose.yml`. Most likely, though, you should be using service names (like `mysql:3306`) as handles to other containers","body":"What is 172.22.0.1? Is this IP <i>visible</i> to the container you&#39;re running your spring App in? It&#39;s difficult to assist unless you share the <code>networks</code> configuration section of your <code>docker-compose.yml</code>. Most likely, though, you should be using service names (like <code>mysql:3306</code>) as handles to other containers"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694721083,"post_id":77107898,"comment_id":135932348,"body_markdown":"Also, how are `myuser` access permissions configured? With MySQL, make sure to use the `GRANT CONNECT ON ... TO &#39;myuser&#39;@&#39;%&#39;` syntax","body":"Also, how are <code>myuser</code> access permissions configured? With MySQL, make sure to use the <code>GRANT CONNECT ON ... TO &#39;myuser&#39;@&#39;%&#39;</code> syntax"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1694723055,"post_id":77107898,"comment_id":135932663,"body_markdown":"I am trying to find out how to &quot;debug&quot; the boot run since it will stop the database after before I can connect to it.","body":"I am trying to find out how to &quot;debug&quot; the boot run since it will stop the database after before I can connect to it."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694723238,"creation_date":1694723238,"answer_id":77108175,"question_id":77107898,"body_markdown":"It seems that because `mysql` had a VOLUME defined (I totally forgot about it).  I had to delete the volume associated with it.\r\n\r\nTo be more precise I had to do the following\r\n\r\n```\r\ndocker compose rm -fsv # delete the container and volume associations\r\ndocker volume prune -f # delete the actual volume\r\n```\r\n\r\nThe second one was the missing step I had forgotten.  What happens is when I restart the compose it reattaches to that volume where I had a different user ID and password initially.\r\n","title":"Why is liquibase unable to connect on a Spring Boot app running in bootRun with Docker Compose?","body":"<p>It seems that because <code>mysql</code> had a VOLUME defined (I totally forgot about it).  I had to delete the volume associated with it.</p>\n<p>To be more precise I had to do the following</p>\n<pre><code>docker compose rm -fsv # delete the container and volume associations\ndocker volume prune -f # delete the actual volume\n</code></pre>\n<p>The second one was the missing step I had forgotten.  What happens is when I restart the compose it reattaches to that volume where I had a different user ID and password initially.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694723238,"creation_date":1694719955,"question_id":77107898,"body_markdown":"I have a non-trivial app that I want to incorporate liquibase, r2dbc and mysql.  But when I tried to add what I think is minimal I get the following problem.\r\n\r\n&gt; Caused by: java.sql.SQLException: Access denied for user &#39;myuser&#39;@&#39;172.22.0.1&#39; (using password: YES)\r\n\r\nI&#39;m using Docker Compose support so `compose.yml` looks like this which is basically the one in the Spring Initializr\r\n\r\n```yaml\r\n\r\nservices:\r\n  mysql:\r\n    image: &#39;mysql:latest&#39;\r\n    environment:\r\n      - &#39;MYSQL_DATABASE=mydatabase&#39;\r\n      - &#39;MYSQL_PASSWORD=secret&#39;\r\n      - &#39;MYSQL_ROOT_PASSWORD=verysecret&#39;\r\n      - &#39;MYSQL_USER=myuser&#39;\r\n    ports:\r\n      - &#39;3306&#39;\r\n```\r\n\r\nI tried to create an MVCE using [Spring Initialzr docker-compose,mysql,data-r2dbc,liquibase,webflux](https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.1.3&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=liquibaseplusr2dbc&amp;name=liquibaseplusr2dbc&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.liquibaseplusr2dbc&amp;dependencies=docker-compose,mysql,data-r2dbc,liquibase,webflux) with `db.changelog-master.yaml` as \r\n\r\n```yaml\r\ndatabaseChangeLog:\r\n  - changeSet:\r\n      id: id\r\n      author: author\r\n      changes:\r\n        - createTable:\r\n            tableName: aTable\r\n            columns:\r\n              - column:\r\n                  name: id\r\n                  type: INT\r\n                  constraints:\r\n                    primaryKey: true\r\n              - column:\r\n                  name: value \r\n                  type: varchar(200)\r\n                  constraints:\r\n                    nullable: false\r\n```\r\n\r\nBut I am unable to recreate the issue and the logs appear to work correctly connecting to the composed mysql\r\n\r\n&gt; Connected to myuser@172.23.0.1@jdbc:mysql://127.0.0.1:54863/mydatabase\r\n","title":"Why is liquibase unable to connect on a Spring Boot app running in bootRun with Docker Compose?","body":"<p>I have a non-trivial app that I want to incorporate liquibase, r2dbc and mysql.  But when I tried to add what I think is minimal I get the following problem.</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Access denied for user 'myuser'@'172.22.0.1' (using password: YES)</p>\n</blockquote>\n<p>I'm using Docker Compose support so <code>compose.yml</code> looks like this which is basically the one in the Spring Initializr</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\nservices:\n  mysql:\n    image: 'mysql:latest'\n    environment:\n      - 'MYSQL_DATABASE=mydatabase'\n      - 'MYSQL_PASSWORD=secret'\n      - 'MYSQL_ROOT_PASSWORD=verysecret'\n      - 'MYSQL_USER=myuser'\n    ports:\n      - '3306'\n</code></pre>\n<p>I tried to create an MVCE using <a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.1.3&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=liquibaseplusr2dbc&amp;name=liquibaseplusr2dbc&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.liquibaseplusr2dbc&amp;dependencies=docker-compose,mysql,data-r2dbc,liquibase,webflux\" rel=\"nofollow noreferrer\">Spring Initialzr docker-compose,mysql,data-r2dbc,liquibase,webflux</a> with <code>db.changelog-master.yaml</code> as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>databaseChangeLog:\n  - changeSet:\n      id: id\n      author: author\n      changes:\n        - createTable:\n            tableName: aTable\n            columns:\n              - column:\n                  name: id\n                  type: INT\n                  constraints:\n                    primaryKey: true\n              - column:\n                  name: value \n                  type: varchar(200)\n                  constraints:\n                    nullable: false\n</code></pre>\n<p>But I am unable to recreate the issue and the logs appear to work correctly connecting to the composed mysql</p>\n<blockquote>\n<p>Connected to myuser@172.23.0.1@jdbc:mysql://127.0.0.1:54863/mydatabase</p>\n</blockquote>\n"},{"tags":["java","maven","gitlab-ci"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694719844,"post_id":77107860,"comment_id":135932120,"body_markdown":"Why separating things of compile and test ? Also why using junit 4 instead of Junit Jupiter to parallelize the tests ? Also it would be intresting to know things like JDK, Maven version, POM file etc.?","body":"Why separating things of compile and test ? Also why using junit 4 instead of Junit Jupiter to parallelize the tests ? Also it would be intresting to know things like JDK, Maven version, POM file etc.?"},{"owner":{"account_id":27966319,"reputation":3,"user_id":22144213,"display_name":"Emanuele Di Molfetta"},"score":0,"creation_date":1694720557,"post_id":77107860,"comment_id":135932234,"body_markdown":"Those were the questions they asked me idk why...\nI was not provided with JDK ver, Maven ver, or POM file.","body":"Those were the questions they asked me idk why... I was not provided with JDK ver, Maven ver, or POM file."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694723056,"creation_date":1694723056,"answer_id":77108158,"question_id":77107860,"body_markdown":"The whole script is completely wrong.\r\n\r\nYou never call `javac` manually, and you never separate unit tests into different jobs.\r\n\r\nWhoever told you to run that `javac` command for compilation has zero knowledge of Maven or Java builds in general. \r\n\r\nWhat you do instead: You define just one job that only runs `mvn clean test`. To run your tests in parallel, look into the documentation of the surefire maven plugin.","title":"Gitlab CI Pipeline - Java and Maven","body":"<p>The whole script is completely wrong.</p>\n<p>You never call <code>javac</code> manually, and you never separate unit tests into different jobs.</p>\n<p>Whoever told you to run that <code>javac</code> command for compilation has zero knowledge of Maven or Java builds in general.</p>\n<p>What you do instead: You define just one job that only runs <code>mvn clean test</code>. To run your tests in parallel, look into the documentation of the surefire maven plugin.</p>\n"}],"owner":{"account_id":27966319,"reputation":3,"user_id":22144213,"display_name":"Emanuele Di Molfetta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77108158,"answer_count":1,"score":0,"last_activity_date":1694723056,"creation_date":1694719580,"question_id":77107860,"body_markdown":"i was asked in a test to create a CI pipeline with Gitlab for a backend project that had to have two stages: compile and test. \r\n\r\n\r\nThey told me that i was provided with a docker image &quot;java-tests-repository:latest&quot;\r\nthat i had to use two stages: compile and test; \r\nthat i had to run 3 tests: registration, payments and orders; \r\nthat i  had to run the compile with the following command &quot;javac -d /src/tests/suites/ -cp /lib/junit-4.12.jar /data/sets/users.java&quot;; \r\nthat i had to run the tests with maven &quot;mvn clean test -Dtest=&quot;&lt;Use specific test job&gt;&quot;-Ddata_sets=users&quot;\r\nthat i had to run the tests in parallel;\r\nand that i had to run mvn install.\r\n\r\nNow, i&#39;m quite new at all of this, but i used Gitalb CI for other more infrastructure related projects. I came out with this:\r\n\r\n\r\n\r\n```\r\nstages:\r\n  - compile\r\n  - test\r\n\r\nimage: docker.io/library/java-tests-repository:latest\r\n\r\nbefore_script:\r\n  - mvn install\r\n\r\nbuild:\r\n  stage: compile\r\n  tags:\r\n    - runner01\r\n  script:\r\n    - javac -d /src/tests/suites/ -cp /lib/junit-4.12.jar /data/sets/users.java\r\n\r\nregistration:\r\n  stage: test\r\n  tags:\r\n    - runner01\r\n  script:\r\n    - mvn clean test -Dtest=registration -Ddata_sets=users\r\n  needs:\r\n    - job: build\r\n\r\npayments:\r\n  stage: test\r\n  tags:\r\n    - runner01\r\n  script:\r\n    - mvn clean test -Dtest=payments -Ddata_sets=users\r\n  needs:\r\n    - job: build    \r\n\r\norders:\r\n  stage: test\r\n  tags:\r\n    - runner01\r\n  script:\r\n    - mvn clean test -Dtest=orders -Ddata_sets=users\r\n  needs:\r\n    - job: build\r\n```\r\n\r\nMy question is does it make sense to run mvn install in the before script ? \r\nBased on my understanding i need to run maven install to get the dependecies that are declared in the pom.xml, so before compiling it could make sense, but does it need to be run before the &quot;mvn clean test&quot; as well ? ","title":"Gitlab CI Pipeline - Java and Maven","body":"<p>i was asked in a test to create a CI pipeline with Gitlab for a backend project that had to have two stages: compile and test.</p>\n<p>They told me that i was provided with a docker image &quot;java-tests-repository:latest&quot;\nthat i had to use two stages: compile and test;\nthat i had to run 3 tests: registration, payments and orders;\nthat i  had to run the compile with the following command &quot;javac -d /src/tests/suites/ -cp /lib/junit-4.12.jar /data/sets/users.java&quot;;\nthat i had to run the tests with maven &quot;mvn clean test -Dtest=&quot;&quot;-Ddata_sets=users&quot;\nthat i had to run the tests in parallel;\nand that i had to run mvn install.</p>\n<p>Now, i'm quite new at all of this, but i used Gitalb CI for other more infrastructure related projects. I came out with this:</p>\n<pre><code>stages:\n  - compile\n  - test\n\nimage: docker.io/library/java-tests-repository:latest\n\nbefore_script:\n  - mvn install\n\nbuild:\n  stage: compile\n  tags:\n    - runner01\n  script:\n    - javac -d /src/tests/suites/ -cp /lib/junit-4.12.jar /data/sets/users.java\n\nregistration:\n  stage: test\n  tags:\n    - runner01\n  script:\n    - mvn clean test -Dtest=registration -Ddata_sets=users\n  needs:\n    - job: build\n\npayments:\n  stage: test\n  tags:\n    - runner01\n  script:\n    - mvn clean test -Dtest=payments -Ddata_sets=users\n  needs:\n    - job: build    \n\norders:\n  stage: test\n  tags:\n    - runner01\n  script:\n    - mvn clean test -Dtest=orders -Ddata_sets=users\n  needs:\n    - job: build\n</code></pre>\n<p>My question is does it make sense to run mvn install in the before script ?\nBased on my understanding i need to run maven install to get the dependecies that are declared in the pom.xml, so before compiling it could make sense, but does it need to be run before the &quot;mvn clean test&quot; as well ?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","action"],"owner":{"account_id":1659460,"reputation":1,"user_id":3282775,"display_name":"armate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694722690,"creation_date":1694722690,"question_id":77108123,"body_markdown":"When i am trying to automate video.js player in my app, i am try to mouse hover but it is not working, can someone please help?\r\n\r\nMy Code:\r\n    \r\n```\r\npublic static void _mouseHover(By by, String eleName) {\r\n        Actions hoverOver = new Actions(DriverManager.getDriver());\r\n        WebElement ele = _performExplicitWait(by, VISIBLE);\r\n        hoverOver.moveToElement(ele).build().perform();\r\n        if (!eleName.isEmpty()) Logger.info(&quot;Mouse Hovered - &quot; + eleName);\r\n    }\r\n\r\n```\r\nWhen my video player is in playing mode, controls will get hidden and there is no other controls on the screen so i am not able to hover using above code.\r\n\r\n\r\n\r\nTried Javascript executor as well, but no luck","title":"Selenium Java -&gt; Video player controls are off -&gt; org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds","body":"<p>When i am trying to automate video.js player in my app, i am try to mouse hover but it is not working, can someone please help?</p>\n<p>My Code:</p>\n<pre><code>public static void _mouseHover(By by, String eleName) {\n        Actions hoverOver = new Actions(DriverManager.getDriver());\n        WebElement ele = _performExplicitWait(by, VISIBLE);\n        hoverOver.moveToElement(ele).build().perform();\n        if (!eleName.isEmpty()) Logger.info(&quot;Mouse Hovered - &quot; + eleName);\n    }\n\n</code></pre>\n<p>When my video player is in playing mode, controls will get hidden and there is no other controls on the screen so i am not able to hover using above code.</p>\n<p>Tried Javascript executor as well, but no luck</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694710614,"creation_date":1694710614,"answer_id":77107026,"question_id":77106976,"body_markdown":"Answered here properly: https://stackoverflow.com/questions/13210638/hibernate-delete-query/13240979#13240979\r\n\r\nYou can go through that to get a proper idea.\r\n\r\nIf you want, you can write native queries to avoid the select query.\r\n\r\n```\r\n@Modifying\r\n@Query(nativeQuery = true, value = &quot;DELETE FROM some_table WHERE id = :id&quot;)\r\nvoid deleteById(@Param(&quot;id&quot;) Integer id);\r\n```","title":"Hibernate is doing additional SELECT when removing entity from collection","body":"<p>Answered here properly: <a href=\"https://stackoverflow.com/questions/13210638/hibernate-delete-query/13240979#13240979\">Hibernate Delete query</a></p>\n<p>You can go through that to get a proper idea.</p>\n<p>If you want, you can write native queries to avoid the select query.</p>\n<pre><code>@Modifying\n@Query(nativeQuery = true, value = &quot;DELETE FROM some_table WHERE id = :id&quot;)\nvoid deleteById(@Param(&quot;id&quot;) Integer id);\n</code></pre>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694715126,"answer_count":1,"score":1,"last_activity_date":1694722609,"creation_date":1694710156,"question_id":77106976,"body_markdown":"I am trying to remove entity from Set, but when I am doing this hibernate generates more selects than I expected (I am using spring data jpa). \r\n\r\nHere is my code - `CompanyBranch` entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Convert(converter = MoneyConverter.class)\r\n        @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\r\n        private Money budget;\r\n    \r\n        @Embedded\r\n        @NotNull\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n        })\r\n        private Address companyBranchAddress;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;)\r\n        private String phoneNumber;\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\r\n    \r\n        public void addDepartment(Department department) {\r\n            this.departments.add(department);\r\n            department.setCompanyBranch(this);\r\n        }\r\n    \r\n        public void removeDepartment(Department department) {\r\n            department.setCompanyBranch(null);\r\n            departments.remove(department);\r\n        }\r\n    }\r\n    \r\nDepartment entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Название отдела не может быть пустым!&quot;)\r\n        @Column(name = &quot;DEPARTMENT_NAME&quot;)\r\n        private String departmentName;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @Column(name = &quot;LAST_MODIFIED&quot;, insertable = false, updatable = false)\r\n        private Date lastModified;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;)\r\n        private String phoneNumber;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;)\r\n        private CompanyBranch companyBranch;\r\n    \r\n        @OneToMany(mappedBy = &quot;department&quot;, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n        private Set&lt;Employee&gt; employees = new HashSet&lt;&gt;();\r\n    \r\n        public void addEmployee(Employee employee) {\r\n            this.employees.add(employee);\r\n            employee.setDepartment(this);\r\n        }\r\n    \r\n        public void removeEmployee(Employee employee) {\r\n            this.employees.remove(employee);\r\n            employee.setDepartment(null);\r\n        }\r\n    \r\n        @PreUpdate\r\n        @PrePersist\r\n        protected void setDefaultLastModified(){\r\n            lastModified = new Date();\r\n        }\r\n    \r\n        @PreRemove\r\n        protected void changeEmploysStatus() {\r\n            this.employees.forEach(employee -&gt; employee.getEmployeeStatus().setEmployeeStatus(EEmployeeStatus.FIRED));\r\n        }\r\n    }\r\n\r\nThat is how i am removing department from Set\r\n\r\n    CompanyBranch companyBranch = companyBranchService.getCompanyBranchById(companyBranchId);\r\n    Department department = departmentService.getDepartmentById(depId);\r\n    companyBranchService.removeDepartment(companyBranch, department);\r\n\r\nMethod for removing:\r\n\r\n    public void removeDepartment(CompanyBranch companyBranch, Department department) {\r\n            companyBranch.removeDepartment(department);\r\n            companyBranchRepository.saveAndFlush(companyBranch);\r\n        }\r\n\r\nAnd here are the queries which hibernate generates:\r\n\r\n    Hibernate: \r\n        select\r\n            c1_0.id,\r\n            c1_0.company_branch_budget,\r\n            c1_0.company_branch_city,\r\n            c1_0.company_branch_country,\r\n            c1_0.company_branch_street,\r\n            c1_0.company_branch_zip_code,\r\n            c1_0.company_branch_phone_number \r\n        from\r\n            company_branch c1_0 \r\n        where\r\n            c1_0.id=?\r\n    Hibernate: \r\n        select\r\n            d1_0.id,\r\n            d1_0.company_branch_id,\r\n            d1_0.department_name,\r\n            d1_0.last_modified,\r\n            d1_0.department_phone_number \r\n        from\r\n            department d1_0 \r\n        where\r\n            d1_0.id=?\r\n    Hibernate: \r\n        select\r\n            d1_0.company_branch_id,\r\n            d1_0.id,\r\n            d1_0.department_name,\r\n            d1_0.last_modified,\r\n            d1_0.department_phone_number \r\n        from\r\n            department d1_0 \r\n        where\r\n            d1_0.company_branch_id=?\r\n\r\nWhy does the hibernate generate the last SELECT query? Is it connected to save method? Or any other reasons? I am thinking it is because of saving operation, but i am not sure abot this.","title":"Hibernate is doing additional SELECT when removing entity from collection","body":"<p>I am trying to remove entity from Set, but when I am doing this hibernate generates more selects than I expected (I am using spring data jpa).</p>\n<p>Here is my code - <code>CompanyBranch</code> entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Convert(converter = MoneyConverter.class)\n    @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\n    private Money budget;\n\n    @Embedded\n    @NotNull\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n            column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n    })\n    private Address companyBranchAddress;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n\n    @OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\n\n    public void addDepartment(Department department) {\n        this.departments.add(department);\n        department.setCompanyBranch(this);\n    }\n\n    public void removeDepartment(Department department) {\n        department.setCompanyBranch(null);\n        departments.remove(department);\n    }\n}\n</code></pre>\n<p>Department entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @NotBlank(message = &quot;Название отдела не может быть пустым!&quot;)\n    @Column(name = &quot;DEPARTMENT_NAME&quot;)\n    private String departmentName;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;LAST_MODIFIED&quot;, insertable = false, updatable = false)\n    private Date lastModified;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;)\n    private CompanyBranch companyBranch;\n\n    @OneToMany(mappedBy = &quot;department&quot;, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Set&lt;Employee&gt; employees = new HashSet&lt;&gt;();\n\n    public void addEmployee(Employee employee) {\n        this.employees.add(employee);\n        employee.setDepartment(this);\n    }\n\n    public void removeEmployee(Employee employee) {\n        this.employees.remove(employee);\n        employee.setDepartment(null);\n    }\n\n    @PreUpdate\n    @PrePersist\n    protected void setDefaultLastModified(){\n        lastModified = new Date();\n    }\n\n    @PreRemove\n    protected void changeEmploysStatus() {\n        this.employees.forEach(employee -&gt; employee.getEmployeeStatus().setEmployeeStatus(EEmployeeStatus.FIRED));\n    }\n}\n</code></pre>\n<p>That is how i am removing department from Set</p>\n<pre><code>CompanyBranch companyBranch = companyBranchService.getCompanyBranchById(companyBranchId);\nDepartment department = departmentService.getDepartmentById(depId);\ncompanyBranchService.removeDepartment(companyBranch, department);\n</code></pre>\n<p>Method for removing:</p>\n<pre><code>public void removeDepartment(CompanyBranch companyBranch, Department department) {\n        companyBranch.removeDepartment(department);\n        companyBranchRepository.saveAndFlush(companyBranch);\n    }\n</code></pre>\n<p>And here are the queries which hibernate generates:</p>\n<pre><code>Hibernate: \n    select\n        c1_0.id,\n        c1_0.company_branch_budget,\n        c1_0.company_branch_city,\n        c1_0.company_branch_country,\n        c1_0.company_branch_street,\n        c1_0.company_branch_zip_code,\n        c1_0.company_branch_phone_number \n    from\n        company_branch c1_0 \n    where\n        c1_0.id=?\nHibernate: \n    select\n        d1_0.id,\n        d1_0.company_branch_id,\n        d1_0.department_name,\n        d1_0.last_modified,\n        d1_0.department_phone_number \n    from\n        department d1_0 \n    where\n        d1_0.id=?\nHibernate: \n    select\n        d1_0.company_branch_id,\n        d1_0.id,\n        d1_0.department_name,\n        d1_0.last_modified,\n        d1_0.department_phone_number \n    from\n        department d1_0 \n    where\n        d1_0.company_branch_id=?\n</code></pre>\n<p>Why does the hibernate generate the last SELECT query? Is it connected to save method? Or any other reasons? I am thinking it is because of saving operation, but i am not sure abot this.</p>\n"},{"tags":["java","maven","dependency-management"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694714602,"post_id":77102408,"comment_id":135931257,"body_markdown":"The update of `dep-b` is &quot;nearer&quot; to your project than `dep-a` is? (In the meaning of distance between your own project and the dependencies like `dep-a`, `dep-b` or are those two deps direct dependencies of your project?","body":"The update of <code>dep-b</code> is &quot;nearer&quot; to your project than <code>dep-a</code> is? (In the meaning of distance between your own project and the dependencies like <code>dep-a</code>, <code>dep-b</code> or are those two deps direct dependencies of your project?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1694778259,"post_id":77102408,"comment_id":135939286,"body_markdown":"@khmarbaise `dep-a` and `dep-b` are both direct dependencies of my project. It&#39;s just that `dep-b` also happens to be a direct depedency of `dep-a`, which makes `dep-b` both a direct and a transitive dependency of my project. For my project it doesn&#39;t really matter if `dep-b` is a few releases old.","body":"@khmarbaise <code>dep-a</code> and <code>dep-b</code> are both direct dependencies of my project. It&#39;s just that <code>dep-b</code> also happens to be a direct depedency of <code>dep-a</code>, which makes <code>dep-b</code> both a direct and a transitive dependency of my project. For my project it doesn&#39;t really matter if <code>dep-b</code> is a few releases old."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694679839,"creation_date":1694679533,"answer_id":77102989,"question_id":77102408,"body_markdown":"&gt; I can simply not declare dep-b in my Maven build at all, and rely on the transitive dependency. I can&#39;t think of a good reason not to do this, but it does feel dirty.\r\n\r\n\r\nI find this as the right thing to do. `dep-a` (with version `x`) is supposed to be tested and proven that it&#39;s compatible with `dep-b` (version `y`). \r\n\r\nIf you exclude `dep-b` in the `&lt;dependency&gt;` block for `dep-a` and then inject it separately with a different (newer) version, then you might experience compatibility issues (especially when `dep-b` is released more frequently).\r\n\r\nAlternatively, you can think of a way, where `dep-a` does not depend on `dep-b` and hence, they can be independently injected. If they are supposed to be released independently, they should also be independently injectable. In this case, I would think about what pieces of code from `dep-b` is used in `dep-a`, can I put it somewhere else (maybe in another library, say `dep-c`), so that `dep-a` no longer depends on `dep-b`? Things like that.\r\n\r\nBut in general, I try to avoid excluding the transitive dependencies and overwriting them with newer version, because this might lead to very complicated incompatibility issues, which are quite tough to be analyzed and resolved.\r\n\r\n\r\n\r\n","title":"Dealing with direct dependency that&#39;s also a transitive dependency","body":"<blockquote>\n<p>I can simply not declare dep-b in my Maven build at all, and rely on the transitive dependency. I can't think of a good reason not to do this, but it does feel dirty.</p>\n</blockquote>\n<p>I find this as the right thing to do. <code>dep-a</code> (with version <code>x</code>) is supposed to be tested and proven that it's compatible with <code>dep-b</code> (version <code>y</code>).</p>\n<p>If you exclude <code>dep-b</code> in the <code>&lt;dependency&gt;</code> block for <code>dep-a</code> and then inject it separately with a different (newer) version, then you might experience compatibility issues (especially when <code>dep-b</code> is released more frequently).</p>\n<p>Alternatively, you can think of a way, where <code>dep-a</code> does not depend on <code>dep-b</code> and hence, they can be independently injected. If they are supposed to be released independently, they should also be independently injectable. In this case, I would think about what pieces of code from <code>dep-b</code> is used in <code>dep-a</code>, can I put it somewhere else (maybe in another library, say <code>dep-c</code>), so that <code>dep-a</code> no longer depends on <code>dep-b</code>? Things like that.</p>\n<p>But in general, I try to avoid excluding the transitive dependencies and overwriting them with newer version, because this might lead to very complicated incompatibility issues, which are quite tough to be analyzed and resolved.</p>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694722183,"creation_date":1694722183,"answer_id":77108078,"question_id":77102408,"body_markdown":"The ultimate solution would be to convert to OSGi, so that your project could depend on `dep-b.1`, while at the same time `dep-a` could depend on `dep-b.2` without interfering with each other. However, that may not be a simple task, depending (pun intended) on the circumstances. OSGi is an all or nothing undertaking.\r\n\r\nThat said, I guess your best choice is to just depend on `dep-a` and let that decide which `dep-b` to use, and have a good night&#39;s sleep. ","title":"Dealing with direct dependency that&#39;s also a transitive dependency","body":"<p>The ultimate solution would be to convert to OSGi, so that your project could depend on <code>dep-b.1</code>, while at the same time <code>dep-a</code> could depend on <code>dep-b.2</code> without interfering with each other. However, that may not be a simple task, depending (pun intended) on the circumstances. OSGi is an all or nothing undertaking.</p>\n<p>That said, I guess your best choice is to just depend on <code>dep-a</code> and let that decide which <code>dep-b</code> to use, and have a good night's sleep.</p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694722183,"creation_date":1694673916,"question_id":77102408,"body_markdown":"I have a Maven project with two direct dependencies, let&#39;s call them `dep-a` and `dep-b`, that are both used heavily in the project. `dep-a` itself has a transitive dependency on `dep-b`. For compatibility reasons, I want to keep the version of `dep-b` in my project the same as the version for `dep-b` that `dep-a` declares.\r\n\r\nBoth `dep-a` and `dep-b` are third-party dependencies on Maven Central that I have no control over. `dep-b` is a project that moves pretty fast; it often releases new versions. `dep-a` is a bit slower to update. I&#39;m looking for a practical way to manage this, while keeping versions as up-to-date as possible.\r\n\r\nHere are some possibilities I&#39;m considering. None of them are really satisfying to me:\r\n\r\n- Currently, I use Dependabot in my project, which periodically checks for new versions and updates them when new ones are available. This has the disadvantage that it might update `dep-b` in my project, even when `dep-a` hasn&#39;t already done the same, which results in a version mismatch for `dep-b`.\r\n\r\n- I could accept this as a fact of life and move on, but this doesn&#39;t actually solve the problem.\r\n\r\n- I can ditch Dependabot and periodically update things myself. However, this is busywork that I&#39;d rather see automated.\r\n\r\n- I can ditch Dependabot and write an elaborate script myself, that leverages Maven&#39;s Versions plugin to check for updates. I&#39;ve done this once before on another project, and it&#39;s a lot more work than I thought it would be. Also, I&#39;d have to add some additional logic to account for the `dep-b` version.\r\n\r\n- I can simply not declare `dep-b` in my Maven build at all, and rely on the transitive dependency. I can&#39;t think of a good reason not to do this, but it does feel dirty.\r\n\r\nIs there a generally accepted way of dealing with this scenario that I&#39;m overlooking?\r\n","title":"Dealing with direct dependency that&#39;s also a transitive dependency","body":"<p>I have a Maven project with two direct dependencies, let's call them <code>dep-a</code> and <code>dep-b</code>, that are both used heavily in the project. <code>dep-a</code> itself has a transitive dependency on <code>dep-b</code>. For compatibility reasons, I want to keep the version of <code>dep-b</code> in my project the same as the version for <code>dep-b</code> that <code>dep-a</code> declares.</p>\n<p>Both <code>dep-a</code> and <code>dep-b</code> are third-party dependencies on Maven Central that I have no control over. <code>dep-b</code> is a project that moves pretty fast; it often releases new versions. <code>dep-a</code> is a bit slower to update. I'm looking for a practical way to manage this, while keeping versions as up-to-date as possible.</p>\n<p>Here are some possibilities I'm considering. None of them are really satisfying to me:</p>\n<ul>\n<li><p>Currently, I use Dependabot in my project, which periodically checks for new versions and updates them when new ones are available. This has the disadvantage that it might update <code>dep-b</code> in my project, even when <code>dep-a</code> hasn't already done the same, which results in a version mismatch for <code>dep-b</code>.</p>\n</li>\n<li><p>I could accept this as a fact of life and move on, but this doesn't actually solve the problem.</p>\n</li>\n<li><p>I can ditch Dependabot and periodically update things myself. However, this is busywork that I'd rather see automated.</p>\n</li>\n<li><p>I can ditch Dependabot and write an elaborate script myself, that leverages Maven's Versions plugin to check for updates. I've done this once before on another project, and it's a lot more work than I thought it would be. Also, I'd have to add some additional logic to account for the <code>dep-b</code> version.</p>\n</li>\n<li><p>I can simply not declare <code>dep-b</code> in my Maven build at all, and rely on the transitive dependency. I can't think of a good reason not to do this, but it does feel dirty.</p>\n</li>\n</ul>\n<p>Is there a generally accepted way of dealing with this scenario that I'm overlooking?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694722119,"creation_date":1694722119,"answer_id":77108067,"question_id":77108005,"body_markdown":"I see the implementation of the interface in projectB, but you are scanning in projectA package. Where is the implementation in projectA?\r\n\r\nTry adding `projectB` to this:\r\n\r\n\r\n`@ComponentScan(&quot;com.example.projectA&quot;)`","title":"Spring boot does not recognise implementation of interface as an @autowire candidate","body":"<p>I see the implementation of the interface in projectB, but you are scanning in projectA package. Where is the implementation in projectA?</p>\n<p>Try adding <code>projectB</code> to this:</p>\n<p><code>@ComponentScan(&quot;com.example.projectA&quot;)</code></p>\n"}],"owner":{"account_id":6157094,"reputation":3,"user_id":4799732,"display_name":"YorkField"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77108067,"answer_count":1,"score":0,"last_activity_date":1694722119,"creation_date":1694721328,"question_id":77108005,"body_markdown":"A class implementing an interface is not recognised by Spring Auto-Wire when required in a different package\r\n\r\nI&#39;m facing a problem with spring boot auto-wiring.\r\n\r\nI have 2 spring boot projects: (A) and (B). Project (A) implements some common REST API route handlers and is added to Project (B) as a jar dependency.\r\n\r\nProject A has the following:\r\n\r\n```\r\npackage com.example.projectA;\r\n\r\npublic interface MyCustomInterface {\r\n    public void doStuff();\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.projectA;\r\n\r\n@RestController\r\npublic class TestEndpoint {\r\n    private final MyCustomInterface provider;\r\n\r\n    @Autowired\r\n    public TestEndpoint(MyCustomInterface provider) {\r\n        this.provider = provider;\r\n    }\r\n\r\n    @GetMapping(&quot;api/test&quot;)\r\n    public ResponseEntity&lt;String&gt; test() {\r\n        System.out.println(&quot;Provider: &quot; + provider);\r\n        provider.doStuff();\r\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\nProject B has the following:\r\n\r\n\r\n```\r\npackage com.example.projectB;\r\n\r\n@RestController\r\npublic class MyCustomInterfaceProvider implements MyCustomInterface {\r\n\r\n    @Override\r\n    public void doStuff() {\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHowever, when I start up project B application like this\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.example.projectA&quot;)\r\npublic class MyProjectBApplication {\r\n//...\r\n}\r\n```\r\n\r\nSpring complains that there are no beans that match MyCustomInterface which is required for a constructor of TestEndpoint.\r\n\r\n`Parameter 0 of constructor in com.example.projectA.TestEndpoint required a bean of type &#39;com.example.projectA.MyCustomInterface&#39; that could not be found.`\r\n\r\nWhat I have tried so far and confirmed:\r\n\r\n1) jar file of project (A) is added to project (B) correctly as it gets picked up by ComponentScan successfully\r\n2) MyCustomInterface that MyCustomInterfaceProvider implements and MyCustomInterface from TestEndpoint constructor are one and the same interface\r\n3) Carrying over code of TestEndpoint into Project (B) works as expected - auto wiring succeeds.\r\n\r\nAppreciate any help and advise!\r\n\r\n","title":"Spring boot does not recognise implementation of interface as an @autowire candidate","body":"<p>A class implementing an interface is not recognised by Spring Auto-Wire when required in a different package</p>\n<p>I'm facing a problem with spring boot auto-wiring.</p>\n<p>I have 2 spring boot projects: (A) and (B). Project (A) implements some common REST API route handlers and is added to Project (B) as a jar dependency.</p>\n<p>Project A has the following:</p>\n<pre><code>package com.example.projectA;\n\npublic interface MyCustomInterface {\n    public void doStuff();\n}\n</code></pre>\n<pre><code>package com.example.projectA;\n\n@RestController\npublic class TestEndpoint {\n    private final MyCustomInterface provider;\n\n    @Autowired\n    public TestEndpoint(MyCustomInterface provider) {\n        this.provider = provider;\n    }\n\n    @GetMapping(&quot;api/test&quot;)\n    public ResponseEntity&lt;String&gt; test() {\n        System.out.println(&quot;Provider: &quot; + provider);\n        provider.doStuff();\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>Project B has the following:</p>\n<pre><code>package com.example.projectB;\n\n@RestController\npublic class MyCustomInterfaceProvider implements MyCustomInterface {\n\n    @Override\n    public void doStuff() {\n    }\n\n}\n\n</code></pre>\n<p>However, when I start up project B application like this</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com.example.projectA&quot;)\npublic class MyProjectBApplication {\n//...\n}\n</code></pre>\n<p>Spring complains that there are no beans that match MyCustomInterface which is required for a constructor of TestEndpoint.</p>\n<p><code>Parameter 0 of constructor in com.example.projectA.TestEndpoint required a bean of type 'com.example.projectA.MyCustomInterface' that could not be found.</code></p>\n<p>What I have tried so far and confirmed:</p>\n<ol>\n<li>jar file of project (A) is added to project (B) correctly as it gets picked up by ComponentScan successfully</li>\n<li>MyCustomInterface that MyCustomInterfaceProvider implements and MyCustomInterface from TestEndpoint constructor are one and the same interface</li>\n<li>Carrying over code of TestEndpoint into Project (B) works as expected - auto wiring succeeds.</li>\n</ol>\n<p>Appreciate any help and advise!</p>\n"},{"tags":["java","web-services","soap","jaxb","websphere"],"comments":[{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":0,"creation_date":1695219595,"post_id":77108030,"comment_id":135995460,"body_markdown":"Looks like the third-party JAX-WS implementation doesn&#39;t like the JAXB implementation provided by WebSphere. Out of curiosity, have you turned of the JAX-WS implementation provided by WebSphere. Should be documented here: https://www.ibm.com/support/pages/apar/PK96989","body":"Looks like the third-party JAX-WS implementation doesn&#39;t like the JAXB implementation provided by WebSphere. Out of curiosity, have you turned of the JAX-WS implementation provided by WebSphere. Should be documented here: <a href=\"https://www.ibm.com/support/pages/apar/PK96989\" rel=\"nofollow noreferrer\">ibm.com/support/pages/apar/PK96989</a>"}],"owner":{"account_id":12888608,"reputation":35,"user_id":9321296,"display_name":"Kunu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694721584,"creation_date":1694721584,"question_id":77108030,"body_markdown":"Throwing error when creating custom Fault error message in SoapHandler.\r\ncom.sun.xml.internal.ws.spi.db.databindingexception:unknown JAXBContext Implementation: class com.ibm.xml.xlxp2.jaxb.JAXBContextImpl\r\n\r\nI am using java8,Jaxws-spring jar and Application deployed in WebSphere\r\n\r\nCode Snippet-\r\n```\r\nprivate void generateSOAPErrMessage(SOAPMessage msg, String reason,HttpServletResponse res) {\r\n\t\ttry {\r\n\t\t\tSOAPBody soapBody = msg.getSOAPPart().getEnvelope().getBody();\r\n\t\t\tSOAPFault soapFault = soapBody.addFault();\r\n\t\t\tsoapFault.setFaultString(reason);\r\n\t\t\tthrow new SOAPFaultException(soapFault);\r\n\t\t}catch (SOAPException e) {\r\n\t\t}\r\n\t}\r\n\r\n```","title":"Error on Creating Fault message- unknown JAXBContext Implementation: class com.ibm.xml.xlxp2.jaxb.JAXBContextImpl","body":"<p>Throwing error when creating custom Fault error message in SoapHandler.\ncom.sun.xml.internal.ws.spi.db.databindingexception:unknown JAXBContext Implementation: class com.ibm.xml.xlxp2.jaxb.JAXBContextImpl</p>\n<p>I am using java8,Jaxws-spring jar and Application deployed in WebSphere</p>\n<p>Code Snippet-</p>\n<pre><code>private void generateSOAPErrMessage(SOAPMessage msg, String reason,HttpServletResponse res) {\n        try {\n            SOAPBody soapBody = msg.getSOAPPart().getEnvelope().getBody();\n            SOAPFault soapFault = soapBody.addFault();\n            soapFault.setFaultString(reason);\n            throw new SOAPFaultException(soapFault);\n        }catch (SOAPException e) {\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","spring","mongodb","multi-tenant"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1694464833,"post_id":77083267,"comment_id":135891863,"body_markdown":"to write to two different targets you need to implement two distinct clients in your code.  SpringDataMongo assumes you will only ever need one client and does not provide this option out of the box.  That is not to say, you couldn&#39;t create multiple clients if you want.  You may be better suited implementing change streams as a means of keeping two targets in sync with each other.  Or perhaps use the MongoDB replication, or use the new MongoDB Cluster2Cluster sync option https://www.mongodb.com/docs/cluster-to-cluster-sync/current/","body":"to write to two different targets you need to implement two distinct clients in your code.  SpringDataMongo assumes you will only ever need one client and does not provide this option out of the box.  That is not to say, you couldn&#39;t create multiple clients if you want.  You may be better suited implementing change streams as a means of keeping two targets in sync with each other.  Or perhaps use the MongoDB replication, or use the new MongoDB Cluster2Cluster sync option <a href=\"https://www.mongodb.com/docs/cluster-to-cluster-sync/current/\" rel=\"nofollow noreferrer\">mongodb.com/docs/cluster-to-cluster-sync/current</a>"},{"owner":{"account_id":25640544,"reputation":24,"user_id":19409530,"display_name":"Ftoy"},"score":0,"creation_date":1694474819,"post_id":77083267,"comment_id":135893000,"body_markdown":"Might have not explained it well but i only have one cluster im speaking about the databases on the mongo server.\n\nEach database will have the same collections but different data.","body":"Might have not explained it well but i only have one cluster im speaking about the databases on the mongo server.  Each database will have the same collections but different data."}],"answers":[{"tags":[],"owner":{"account_id":25640544,"reputation":24,"user_id":19409530,"display_name":"Ftoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694721479,"creation_date":1694486065,"answer_id":77085763,"question_id":77083267,"body_markdown":"Will solve this by ditching MongoRepositorie interfaces all together and use a MongoTemplate bean instead. Configured like so :\r\n\r\nMongo Configuration File\r\n\r\n    @Configuration\r\n    public class MongoConfiguration {\r\n    \r\n        @Bean\r\n        public MongoClient mongoClient() {\r\n            return MongoClients.create();\r\n        }\r\n    \r\n        @Bean\r\n        public MultiTenantMongoDbFactory multiTenantMongoDatabaseFactory(MongoClient mongoClient) {\r\n            return new MultiTenantMongoDbFactory(mongoClient);\r\n        }\r\n    \r\n        @Bean\r\n        public MongoTemplate mongoTemplate(MultiTenantMongoDbFactory multiTenantMongoDatabaseFactory) {\r\n            return new MongoTemplate(multiTenantMongoDatabaseFactory);\r\n        }\r\n    }\r\n\r\n\r\nMultiTenantMongoDbFactory File (This is used a the factory that create the mongo templates seems to be used to determine the database for each save although i have not tested for backround batching)\r\n\r\n    public class MultiTenantMongoDbFactory implements MongoDatabaseFactory {\r\n    \r\n        private final MongoClient mongoClient;\r\n        private final PersistenceExceptionTranslator exceptionTranslator;\r\n    \r\n        public MultiTenantMongoDbFactory(MongoClient mongoClient) {\r\n            this.mongoClient = mongoClient;\r\n            this.exceptionTranslator = new MongoExceptionTranslator();\r\n        }\r\n\r\n        public MultiTenantMongoDbFactory(MongoClient mongoClient, ClientSession session) {\r\n            this.mongoClient = mongoClient;\r\n            this.exceptionTranslator = new MongoExceptionTranslator();\r\n        }\r\n    \r\n        @Override\r\n        public MongoDatabase getMongoDatabase() throws DataAccessException {\r\n            return mongoClient.getDatabase(TenantContext.getCurrentTenant());\r\n        }\r\n    \r\n        @Override\r\n        public MongoDatabase getMongoDatabase(String dbName) throws DataAccessException {\r\n            return mongoClient.getDatabase(dbName);\r\n        }\r\n    \r\n        @Override\r\n        public PersistenceExceptionTranslator getExceptionTranslator() {\r\n            return exceptionTranslator;\r\n        }\r\n    \r\n        @Override\r\n        public ClientSession getSession(ClientSessionOptions options) {\r\n            return mongoClient.startSession(options);\r\n        }\r\n    \r\n        @Override\r\n        public MongoDatabaseFactory withSession(ClientSession session) {\r\n            // Create a new MultiTenantMongoDbFactory instance with the same MongoClient and the provided ClientSession.\r\n            return new MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory(session, this);\r\n        }\r\n    \r\n        static final private class ClientSessionBoundMongoDbFactory implements MongoDatabaseFactory {\r\n    \r\n            private final ClientSession session;\r\n            private final MongoDatabaseFactory delegate;\r\n    \r\n            public ClientSessionBoundMongoDbFactory(ClientSession session, MongoDatabaseFactory delegate) {\r\n                this.session = session;\r\n                this.delegate = delegate;\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#getMongoDatabase()\r\n             */\r\n            @Override\r\n            public MongoDatabase getMongoDatabase() throws DataAccessException {\r\n                return proxyMongoDatabase(delegate.getMongoDatabase());\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#getMongoDatabase(java.lang.String)\r\n             */\r\n            @Override\r\n            public MongoDatabase getMongoDatabase(String dbName) throws DataAccessException {\r\n                return proxyMongoDatabase(delegate.getMongoDatabase(dbName));\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#getExceptionTranslator()\r\n             */\r\n            @Override\r\n            public PersistenceExceptionTranslator getExceptionTranslator() {\r\n                return delegate.getExceptionTranslator();\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#getSession(com.mongodb.ClientSessionOptions)\r\n             */\r\n            @Override\r\n            public ClientSession getSession(ClientSessionOptions options) {\r\n                return delegate.getSession(options);\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#withSession(com.mongodb.session.ClientSession)\r\n             */\r\n            @Override\r\n            public MongoDatabaseFactory withSession(ClientSession session) {\r\n                return delegate.withSession(session);\r\n            }\r\n    \r\n            /*\r\n             * (non-Javadoc)\r\n             * @see org.springframework.data.mongodb.MongoDbFactory#isTransactionActive()\r\n             */\r\n            @Override\r\n            public boolean isTransactionActive() {\r\n                return session != null &amp;&amp; session.hasActiveTransaction();\r\n            }\r\n    \r\n            private MongoDatabase proxyMongoDatabase(MongoDatabase database) {\r\n                return createProxyInstance(session, database, MongoDatabase.class);\r\n            }\r\n    \r\n            private MongoDatabase proxyDatabase(com.mongodb.session.ClientSession session, MongoDatabase database) {\r\n                return createProxyInstance(session, database, MongoDatabase.class);\r\n            }\r\n    \r\n            private MongoCollection&lt;?&gt; proxyCollection(com.mongodb.session.ClientSession session,\r\n                                                       MongoCollection&lt;?&gt; collection) {\r\n                return createProxyInstance(session, collection, MongoCollection.class);\r\n            }\r\n    \r\n            private &lt;T&gt; T createProxyInstance(com.mongodb.session.ClientSession session, T target, Class&lt;T&gt; targetType) {\r\n    \r\n                ProxyFactory factory = new ProxyFactory();\r\n                factory.setTarget(target);\r\n                factory.setInterfaces(targetType);\r\n                factory.setOpaque(true);\r\n    \r\n                factory.addAdvice(new SessionAwareMethodInterceptor&lt;&gt;(session, target, ClientSession.class, MongoDatabase.class,\r\n                        this::proxyDatabase, MongoCollection.class, this::proxyCollection));\r\n    \r\n                return targetType.cast(factory.getProxy(target.getClass().getClassLoader()));\r\n            }\r\n    \r\n            public ClientSession getSession() {\r\n                return this.session;\r\n            }\r\n    \r\n            public MongoDatabaseFactory getDelegate() {\r\n                return this.delegate;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(@Nullable Object o) {\r\n                if (this == o)\r\n                    return true;\r\n                if (o == null || getClass() != o.getClass())\r\n                    return false;\r\n    \r\n                MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory that = (MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory) o;\r\n    \r\n                if (!ObjectUtils.nullSafeEquals(this.session, that.session)) {\r\n                    return false;\r\n                }\r\n                return ObjectUtils.nullSafeEquals(this.delegate, that.delegate);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                int result = ObjectUtils.nullSafeHashCode(this.session);\r\n                result = 31 * result + ObjectUtils.nullSafeHashCode(this.delegate);\r\n                return result;\r\n            }\r\n    \r\n            public String toString() {\r\n                return &quot;MongoDatabaseFactorySupport.ClientSessionBoundMongoDbFactory(session=&quot; + this.getSession() + &quot;, delegate=&quot;\r\n                        + this.getDelegate() + &quot;)&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nTenantContext file what i use to set the tenant context for both jdbc mariadb and mongodb cause i have both\r\n\r\n\r\n    public class TenantContext {\r\n        private static final ThreadLocal&lt;String&gt; currentTenant = new ThreadLocal&lt;&gt;();\r\n    \r\n        public static String getCurrentTenant() {\r\n            if (currentTenant.get() == null){\r\n                currentTenant.set(&quot;DEV_TEST&quot;);\r\n            }\r\n            return currentTenant.get();\r\n        }\r\n    \r\n        public static void setCurrentTenant(String tenant) {\r\n            currentTenant.set(tenant);\r\n        }\r\n    \r\n        public static void clear() {\r\n            currentTenant.remove();\r\n        }\r\n    }\r\n\r\nAdded the full code here if someone wants to copy\r\n\r\nhttps://github.com/mplein2/spring_data_mongodb_mutlitenancy\r\n\r\nEdit : After making the changes the repositories that are generated are multi tenant also . No need to use the mongo template directly","title":"Java Spring Data MongoDB Change Database During Runtime(Multi-tenancy)","body":"<p>Will solve this by ditching MongoRepositorie interfaces all together and use a MongoTemplate bean instead. Configured like so :</p>\n<p>Mongo Configuration File</p>\n<pre><code>@Configuration\npublic class MongoConfiguration {\n\n    @Bean\n    public MongoClient mongoClient() {\n        return MongoClients.create();\n    }\n\n    @Bean\n    public MultiTenantMongoDbFactory multiTenantMongoDatabaseFactory(MongoClient mongoClient) {\n        return new MultiTenantMongoDbFactory(mongoClient);\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate(MultiTenantMongoDbFactory multiTenantMongoDatabaseFactory) {\n        return new MongoTemplate(multiTenantMongoDatabaseFactory);\n    }\n}\n</code></pre>\n<p>MultiTenantMongoDbFactory File (This is used a the factory that create the mongo templates seems to be used to determine the database for each save although i have not tested for backround batching)</p>\n<pre><code>public class MultiTenantMongoDbFactory implements MongoDatabaseFactory {\n\n    private final MongoClient mongoClient;\n    private final PersistenceExceptionTranslator exceptionTranslator;\n\n    public MultiTenantMongoDbFactory(MongoClient mongoClient) {\n        this.mongoClient = mongoClient;\n        this.exceptionTranslator = new MongoExceptionTranslator();\n    }\n\n    public MultiTenantMongoDbFactory(MongoClient mongoClient, ClientSession session) {\n        this.mongoClient = mongoClient;\n        this.exceptionTranslator = new MongoExceptionTranslator();\n    }\n\n    @Override\n    public MongoDatabase getMongoDatabase() throws DataAccessException {\n        return mongoClient.getDatabase(TenantContext.getCurrentTenant());\n    }\n\n    @Override\n    public MongoDatabase getMongoDatabase(String dbName) throws DataAccessException {\n        return mongoClient.getDatabase(dbName);\n    }\n\n    @Override\n    public PersistenceExceptionTranslator getExceptionTranslator() {\n        return exceptionTranslator;\n    }\n\n    @Override\n    public ClientSession getSession(ClientSessionOptions options) {\n        return mongoClient.startSession(options);\n    }\n\n    @Override\n    public MongoDatabaseFactory withSession(ClientSession session) {\n        // Create a new MultiTenantMongoDbFactory instance with the same MongoClient and the provided ClientSession.\n        return new MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory(session, this);\n    }\n\n    static final private class ClientSessionBoundMongoDbFactory implements MongoDatabaseFactory {\n\n        private final ClientSession session;\n        private final MongoDatabaseFactory delegate;\n\n        public ClientSessionBoundMongoDbFactory(ClientSession session, MongoDatabaseFactory delegate) {\n            this.session = session;\n            this.delegate = delegate;\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#getMongoDatabase()\n         */\n        @Override\n        public MongoDatabase getMongoDatabase() throws DataAccessException {\n            return proxyMongoDatabase(delegate.getMongoDatabase());\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#getMongoDatabase(java.lang.String)\n         */\n        @Override\n        public MongoDatabase getMongoDatabase(String dbName) throws DataAccessException {\n            return proxyMongoDatabase(delegate.getMongoDatabase(dbName));\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#getExceptionTranslator()\n         */\n        @Override\n        public PersistenceExceptionTranslator getExceptionTranslator() {\n            return delegate.getExceptionTranslator();\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#getSession(com.mongodb.ClientSessionOptions)\n         */\n        @Override\n        public ClientSession getSession(ClientSessionOptions options) {\n            return delegate.getSession(options);\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#withSession(com.mongodb.session.ClientSession)\n         */\n        @Override\n        public MongoDatabaseFactory withSession(ClientSession session) {\n            return delegate.withSession(session);\n        }\n\n        /*\n         * (non-Javadoc)\n         * @see org.springframework.data.mongodb.MongoDbFactory#isTransactionActive()\n         */\n        @Override\n        public boolean isTransactionActive() {\n            return session != null &amp;&amp; session.hasActiveTransaction();\n        }\n\n        private MongoDatabase proxyMongoDatabase(MongoDatabase database) {\n            return createProxyInstance(session, database, MongoDatabase.class);\n        }\n\n        private MongoDatabase proxyDatabase(com.mongodb.session.ClientSession session, MongoDatabase database) {\n            return createProxyInstance(session, database, MongoDatabase.class);\n        }\n\n        private MongoCollection&lt;?&gt; proxyCollection(com.mongodb.session.ClientSession session,\n                                                   MongoCollection&lt;?&gt; collection) {\n            return createProxyInstance(session, collection, MongoCollection.class);\n        }\n\n        private &lt;T&gt; T createProxyInstance(com.mongodb.session.ClientSession session, T target, Class&lt;T&gt; targetType) {\n\n            ProxyFactory factory = new ProxyFactory();\n            factory.setTarget(target);\n            factory.setInterfaces(targetType);\n            factory.setOpaque(true);\n\n            factory.addAdvice(new SessionAwareMethodInterceptor&lt;&gt;(session, target, ClientSession.class, MongoDatabase.class,\n                    this::proxyDatabase, MongoCollection.class, this::proxyCollection));\n\n            return targetType.cast(factory.getProxy(target.getClass().getClassLoader()));\n        }\n\n        public ClientSession getSession() {\n            return this.session;\n        }\n\n        public MongoDatabaseFactory getDelegate() {\n            return this.delegate;\n        }\n\n        @Override\n        public boolean equals(@Nullable Object o) {\n            if (this == o)\n                return true;\n            if (o == null || getClass() != o.getClass())\n                return false;\n\n            MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory that = (MultiTenantMongoDbFactory.ClientSessionBoundMongoDbFactory) o;\n\n            if (!ObjectUtils.nullSafeEquals(this.session, that.session)) {\n                return false;\n            }\n            return ObjectUtils.nullSafeEquals(this.delegate, that.delegate);\n        }\n\n        @Override\n        public int hashCode() {\n            int result = ObjectUtils.nullSafeHashCode(this.session);\n            result = 31 * result + ObjectUtils.nullSafeHashCode(this.delegate);\n            return result;\n        }\n\n        public String toString() {\n            return &quot;MongoDatabaseFactorySupport.ClientSessionBoundMongoDbFactory(session=&quot; + this.getSession() + &quot;, delegate=&quot;\n                    + this.getDelegate() + &quot;)&quot;;\n        }\n    }\n}\n</code></pre>\n<p>TenantContext file what i use to set the tenant context for both jdbc mariadb and mongodb cause i have both</p>\n<pre><code>public class TenantContext {\n    private static final ThreadLocal&lt;String&gt; currentTenant = new ThreadLocal&lt;&gt;();\n\n    public static String getCurrentTenant() {\n        if (currentTenant.get() == null){\n            currentTenant.set(&quot;DEV_TEST&quot;);\n        }\n        return currentTenant.get();\n    }\n\n    public static void setCurrentTenant(String tenant) {\n        currentTenant.set(tenant);\n    }\n\n    public static void clear() {\n        currentTenant.remove();\n    }\n}\n</code></pre>\n<p>Added the full code here if someone wants to copy</p>\n<p><a href=\"https://github.com/mplein2/spring_data_mongodb_mutlitenancy\" rel=\"nofollow noreferrer\">https://github.com/mplein2/spring_data_mongodb_mutlitenancy</a></p>\n<p>Edit : After making the changes the repositories that are generated are multi tenant also . No need to use the mongo template directly</p>\n"}],"owner":{"account_id":25640544,"reputation":24,"user_id":19409530,"display_name":"Ftoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77085763,"answer_count":1,"score":-1,"last_activity_date":1694721479,"creation_date":1694449219,"question_id":77083267,"body_markdown":"I want to have the same structure of collections in multiple databases as follows\r\n\r\n    Database A:\r\n     CollectionA\r\n     CollectionB\r\n    \r\n    Database B:\r\n     CollectionA\r\n     CollectionB\r\n\r\nLets say i create my documents with the respective repositories\r\nEg. \r\n\r\n    @Document(collection = collectionA)\r\n    @Document(collection = collectionB)\r\n\r\nHow can i make a configuration to force spring to swap databases for the repository beans between opperations ? I have searched and i have found that i need to create a mongoTemplate bean it dosent seem to work , This method is called only once when the repositories are autowired but not where an insert is made.\r\n\r\nEg.\r\n\r\n    # Inside a service\r\n    @Autowired\r\n    DocumentARepository documentARepository;\r\n    \r\n    documentARepository.insert(documentA); # Inserts in Database A Collection A\r\n    TenantContext.setTenant(&quot;Database B&quot;); # Changes MongoDb Repository Tenant (Database) thread safe class i use for jdbc multitenancy\r\n    docucmentARepository.insert(documentB); #Insert in Database B Collection A\r\n\r\n\r\nHave looked at https://stackoverflow.com/questions/20791656/multi-tenant-mongodb-database-based-with-spring-data and its an old version of spring data mongodb im using 3.1.3\r\n\r\nIf anyone can suggest how i can debug what beans are used during the insertion of a document it would be welcome to figure it out on my own.Have no idea how i would go with this to manually figure it out. Thanks in advance","title":"Java Spring Data MongoDB Change Database During Runtime(Multi-tenancy)","body":"<p>I want to have the same structure of collections in multiple databases as follows</p>\n<pre><code>Database A:\n CollectionA\n CollectionB\n\nDatabase B:\n CollectionA\n CollectionB\n</code></pre>\n<p>Lets say i create my documents with the respective repositories\nEg.</p>\n<pre><code>@Document(collection = collectionA)\n@Document(collection = collectionB)\n</code></pre>\n<p>How can i make a configuration to force spring to swap databases for the repository beans between opperations ? I have searched and i have found that i need to create a mongoTemplate bean it dosent seem to work , This method is called only once when the repositories are autowired but not where an insert is made.</p>\n<p>Eg.</p>\n<pre><code># Inside a service\n@Autowired\nDocumentARepository documentARepository;\n\ndocumentARepository.insert(documentA); # Inserts in Database A Collection A\nTenantContext.setTenant(&quot;Database B&quot;); # Changes MongoDb Repository Tenant (Database) thread safe class i use for jdbc multitenancy\ndocucmentARepository.insert(documentB); #Insert in Database B Collection A\n</code></pre>\n<p>Have looked at <a href=\"https://stackoverflow.com/questions/20791656/multi-tenant-mongodb-database-based-with-spring-data\">Multi-tenant mongodb database based with spring data</a> and its an old version of spring data mongodb im using 3.1.3</p>\n<p>If anyone can suggest how i can debug what beans are used during the insertion of a document it would be welcome to figure it out on my own.Have no idea how i would go with this to manually figure it out. Thanks in advance</p>\n"},{"tags":["java","sql","sql-server","database"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1640922475,"post_id":70538801,"comment_id":124691913,"body_markdown":"As a side note, you should use PreparedStatement so you don&#39;t need to do clumsy string concatenation.","body":"As a side note, you should use PreparedStatement so you don&#39;t need to do clumsy string concatenation."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1640922625,"post_id":70538801,"comment_id":124691932,"body_markdown":"You should definitely use PreparedStatements so as to avoid SQL Injection attacks such as [Little Bobby Tables](https://xkcd.com/327/).","body":"You should definitely use PreparedStatements so as to avoid SQL Injection attacks such as <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1640922660,"post_id":70538801,"comment_id":124691938,"body_markdown":"Also (Microsoft) SQL Server is not the same thing as MySQL. Please [Edit](https://stackoverflow.com/posts/70538801/edit) your question to fix the tags.","body":"Also (Microsoft) SQL Server is not the same thing as MySQL. Please <a href=\"https://stackoverflow.com/posts/70538801/edit\">Edit</a> your question to fix the tags."},{"owner":{"account_id":9613487,"reputation":5862,"user_id":7137090,"display_name":"George Joseph"},"score":0,"creation_date":1640922948,"post_id":70538801,"comment_id":124691959,"body_markdown":"debug the code by checking what the value is for string firstname,lastname,user, pass. As mentioned by others, use prepared statement period.","body":"debug the code by checking what the value is for string firstname,lastname,user, pass. As mentioned by others, use prepared statement period."},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":1,"creation_date":1640958321,"post_id":70538801,"comment_id":124698839,"body_markdown":"NO ONE should be storing plain-text passwords in a database.","body":"NO ONE should be storing plain-text passwords in a database."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656988188,"post_id":70538801,"comment_id":128697064,"body_markdown":"The error message tells you exactly what&#39;s going on: there&#39;s a key in the database which is a string with the value `&quot;null&quot;` – it isn&#39;t a null value, it is instead a character sequence of four letters: &quot;null&quot;. 99% certain that at one point `request.getParameter(&quot;email&quot;)` returned an actual null value back. Your insert statement constructs a string using whatever that result is, so it constructed the string `&quot;null&quot;` and inserted that into the database. At some other time later, `request.getParameter(&quot;email&quot;)` was again null, but the insert failed because of your primary key.","body":"The error message tells you exactly what&#39;s going on: there&#39;s a key in the database which is a string with the value <code>&quot;null&quot;</code> – it isn&#39;t a null value, it is instead a character sequence of four letters: &quot;null&quot;. 99% certain that at one point <code>request.getParameter(&quot;email&quot;)</code> returned an actual null value back. Your insert statement constructs a string using whatever that result is, so it constructed the string <code>&quot;null&quot;</code> and inserted that into the database. At some other time later, <code>request.getParameter(&quot;email&quot;)</code> was again null, but the insert failed because of your primary key."},{"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"score":0,"creation_date":1694720489,"post_id":70538801,"comment_id":135932221,"body_markdown":"Maybe this helps someone, I debugged same error today `Duplicate entry &#39;NULL&#39; for key ` it was because I exported from phpmyadmin and imported from command line, it worked OK after I exported + imported from command line","body":"Maybe this helps someone, I debugged same error today <code>Duplicate entry &#39;NULL&#39; for key </code> it was because I exported from phpmyadmin and imported from command line, it worked OK after I exported + imported from command line"}],"answers":[{"tags":[],"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640923862,"creation_date":1640923862,"answer_id":70538910,"question_id":70538801,"body_markdown":"You did not include a value in the insert statement the value for `login.PRIMARY` column  which happens to be a non duplicate column and it is possible that there&#39;s already a record with a null value for `login.PRIMARY` column that&#39;s why this error was encountered. \r\n\r\nI suggest that you define a unique value for `login.PRIMARY` column in your `INSERT` statement or update your table structure for the `login.PRIMARY` to make it auto increment.\r\n\r\nYou can refer to below link on how to implement auto increment in a table. \r\n\r\nhttps://www.w3schools.com/sql/sql_autoincrement.asp\r\n\r\n","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;null&#39; for key &#39;login.PRIMARY&#39;","body":"<p>You did not include a value in the insert statement the value for <code>login.PRIMARY</code> column  which happens to be a non duplicate column and it is possible that there's already a record with a null value for <code>login.PRIMARY</code> column that's why this error was encountered.</p>\n<p>I suggest that you define a unique value for <code>login.PRIMARY</code> column in your <code>INSERT</code> statement or update your table structure for the <code>login.PRIMARY</code> to make it auto increment.</p>\n<p>You can refer to below link on how to implement auto increment in a table.</p>\n<p><a href=\"https://www.w3schools.com/sql/sql_autoincrement.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/sql/sql_autoincrement.asp</a></p>\n"},{"tags":[],"owner":{"account_id":17968777,"reputation":49,"user_id":13058091,"display_name":"Akif"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640928403,"creation_date":1640928403,"answer_id":70539270,"question_id":70538801,"body_markdown":"The problem is that you are trying to insert with duplicate (key already present in the table)primary key.\r\n\r\nYour table might have accepted &quot;null&quot; as PK for one of the row , now again program trying to set null as PK which is already present in table.\r\n\r\nYou can use auto increment of PK if it&#39;s a number else in your case use PK on &quot;email&quot; bcz in real life scenario two email strings cannot be same.","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;null&#39; for key &#39;login.PRIMARY&#39;","body":"<p>The problem is that you are trying to insert with duplicate (key already present in the table)primary key.</p>\n<p>Your table might have accepted &quot;null&quot; as PK for one of the row , now again program trying to set null as PK which is already present in table.</p>\n<p>You can use auto increment of PK if it's a number else in your case use PK on &quot;email&quot; bcz in real life scenario two email strings cannot be same.</p>\n"},{"tags":[],"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694720350,"creation_date":1694720350,"answer_id":77107929,"question_id":70538801,"body_markdown":"This happen to me today while **exporting the .sql from phpMyAdmin and importing from command line**. \r\n\r\n    Duplicate entry &#39;NULL&#39; for key my-table.my-column\r\n\r\nError was **gone after I exported from command line** and imported from command line.","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;null&#39; for key &#39;login.PRIMARY&#39;","body":"<p>This happen to me today while <strong>exporting the .sql from phpMyAdmin and importing from command line</strong>.</p>\n<pre><code>Duplicate entry 'NULL' for key my-table.my-column\n</code></pre>\n<p>Error was <strong>gone after I exported from command line</strong> and imported from command line.</p>\n"}],"owner":{"account_id":23789787,"reputation":11,"user_id":17801347,"display_name":"ADCast"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694720350,"creation_date":1640922172,"question_id":70538801,"body_markdown":"When I try to insert the data in database table it gives me error\r\n```\r\n&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;null&#39; for key &#39;login.PRIMARY&#39;&quot;\r\n```\r\n\r\nIt duplicates the null column underneath the entered data. It gives me the  error on line &quot;stmt.executeUpdate(sql);&quot;\r\n\r\n\r\n```\r\n&lt;%@ page import = &quot;java.sql.*&quot; %&gt;\t\r\n&lt;%@ page import = &quot;javax.sql.*&quot; %&gt;\t\r\n\t\r\n&lt;%\r\n\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\tString url       = &quot;jdbc:mysql://127.0.0.1:3306/?user=root&quot;;\r\n\tString user      = &quot;root&quot;;\r\n\tString pass      = &quot;root&quot;;\r\n\tString firstname = request.getParameter(&quot;firstname&quot;);\r\n\tString lastname  = request.getParameter(&quot;lastname&quot;);\r\n\tString email     = request.getParameter(&quot;email&quot;);\r\n\tString pass1     = request.getParameter(&quot;pass&quot;);\r\n\t\r\n\tConnection con = DriverManager.getConnection(url, user, pass);\r\n\tStatement stmt = con.createStatement();\r\n\t\r\n\tString sql = &quot;INSERT INTO facebook.login (firstname, lastname, email, password) VALUES(&#39;&quot;+firstname+&quot;&#39;,&#39;&quot;+lastname+&quot;&#39;,&#39;&quot; +email+ &quot;&#39;,&#39;&quot; +pass1+ &quot;&#39;);&quot;;\r\n\r\n\tstmt.executeUpdate(sql);\r\n\tstmt.close();\r\n\tcon.close();\r\n%&gt;\r\n```\r\n","title":"java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;null&#39; for key &#39;login.PRIMARY&#39;","body":"<p>When I try to insert the data in database table it gives me error</p>\n<pre><code>&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'null' for key 'login.PRIMARY'&quot;\n</code></pre>\n<p>It duplicates the null column underneath the entered data. It gives me the  error on line &quot;stmt.executeUpdate(sql);&quot;</p>\n<pre><code>&lt;%@ page import = &quot;java.sql.*&quot; %&gt;   \n&lt;%@ page import = &quot;javax.sql.*&quot; %&gt;  \n    \n&lt;%\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    String url       = &quot;jdbc:mysql://127.0.0.1:3306/?user=root&quot;;\n    String user      = &quot;root&quot;;\n    String pass      = &quot;root&quot;;\n    String firstname = request.getParameter(&quot;firstname&quot;);\n    String lastname  = request.getParameter(&quot;lastname&quot;);\n    String email     = request.getParameter(&quot;email&quot;);\n    String pass1     = request.getParameter(&quot;pass&quot;);\n    \n    Connection con = DriverManager.getConnection(url, user, pass);\n    Statement stmt = con.createStatement();\n    \n    String sql = &quot;INSERT INTO facebook.login (firstname, lastname, email, password) VALUES('&quot;+firstname+&quot;','&quot;+lastname+&quot;','&quot; +email+ &quot;','&quot; +pass1+ &quot;');&quot;;\n\n    stmt.executeUpdate(sql);\n    stmt.close();\n    con.close();\n%&gt;\n</code></pre>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":8262826,"reputation":764,"user_id":6213557,"display_name":"Rishabh Dutt Sharma"},"score":0,"creation_date":1692680594,"post_id":76949566,"comment_id":135653128,"body_markdown":"You have inflated the view but you have not set it on the screen. This line: `View inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);`. You need to use the same-view (which is set as content view on the screen) to get the email and name field .","body":"You have inflated the view but you have not set it on the screen. This line: <code>View inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);</code>. You need to use the same-view (which is set as content view on the screen) to get the email and name field ."}],"answers":[{"tags":[],"owner":{"account_id":16299235,"reputation":315,"user_id":11770758,"display_name":"Jaime Miranda Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694719873,"creation_date":1692728571,"answer_id":76955950,"question_id":76949566,"body_markdown":"I was able to solve my problem by doing the following:\r\n1. Instead of handling populating the data in the Login Activity, I handled it in the Home Activity which is the Activity the user gets redirected to after login in.\r\n2. I changed the following code:\r\n```\r\nView inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);\r\nTextView loggedUserName = inflatedView.findViewById(R.id.navigationUserName);\r\nTextView loggedUserEmail = inflatedView.findViewById(R.id.navigationUserEmail);\r\n```\r\nto this:\r\n```\r\nNavigationView navigationView = findViewById(id.navigation_view);\r\nView header = navigationView.getHeaderView(0);\r\nTextView loggedUserName = header.findViewById(R.id.navigationUserName);\r\nTextView loggedUserEmail = header.findViewById(R.id.navigationUserEmail);\r\n```\r\nand it worked! Now the fields are populated by the data of the logged user.","title":"TextView changes in Log.d, but doesn&#39;t change in actual application","body":"<p>I was able to solve my problem by doing the following:</p>\n<ol>\n<li>Instead of handling populating the data in the Login Activity, I handled it in the Home Activity which is the Activity the user gets redirected to after login in.</li>\n<li>I changed the following code:</li>\n</ol>\n<pre><code>View inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);\nTextView loggedUserName = inflatedView.findViewById(R.id.navigationUserName);\nTextView loggedUserEmail = inflatedView.findViewById(R.id.navigationUserEmail);\n</code></pre>\n<p>to this:</p>\n<pre><code>NavigationView navigationView = findViewById(id.navigation_view);\nView header = navigationView.getHeaderView(0);\nTextView loggedUserName = header.findViewById(R.id.navigationUserName);\nTextView loggedUserEmail = header.findViewById(R.id.navigationUserEmail);\n</code></pre>\n<p>and it worked! Now the fields are populated by the data of the logged user.</p>\n"}],"owner":{"account_id":16299235,"reputation":315,"user_id":11770758,"display_name":"Jaime Miranda Ramirez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76955950,"answer_count":1,"score":0,"last_activity_date":1694719873,"creation_date":1692667492,"question_id":76949566,"body_markdown":"I have a ```navigation_header.xml``` where I have two ```TextView```: one if ID ```navigationUserName``` and the other with ID ```navigationUserEmail```. These ```TextView``` have placeholder values: John Doe and JohnDoe@gmail.com respectively. I want to change these values to the actual name and email of the user. I am handling this during the login process. Once the login is successful change the values. This can be seen below:\r\n```\r\n mAuth.signInWithEmailAndPassword(emailText, passwordText)\r\n                            .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        // Sign in success, update UI with the signed-in user&#39;s information\r\n                                        FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                                        // Inflate view to be able to access the fields to update the name and email\r\n                                        View inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);\r\n\r\n                                        // TextView\r\n                                        TextView loggedUserName = inflatedView.findViewById(R.id.navigationUserName);\r\n                                        TextView loggedUserEmail = inflatedView.findViewById(R.id.navigationUserEmail);\r\n\r\n                                        Log.d(&quot;Test&quot;, loggedUserName.getText().toString());\r\n                                        Log.d(&quot;Test&quot;, loggedUserEmail.getText().toString());\r\n\r\n                                        // Setting TextView to logged user&#39;s info\r\n                                        loggedUserName.setText(user.getDisplayName());\r\n                                        loggedUserEmail.setText(user.getEmail());\r\n\r\n                                        Log.d(&quot;Test1&quot;, loggedUserName.getText().toString());\r\n                                        Log.d(&quot;Test1&quot;, loggedUserEmail.getText().toString());\r\n\r\n                                        // Start home activity and close main activity\r\n                                        Intent home = new Intent(MainActivity.this, HomeActivity.class);\r\n                                        startActivity(home);\r\n                                        finish();\r\n```\r\nAuthenticate the user, inflate the view where the ```TextView``` that I want to change are located, change them, and redirect to the home activity. This code is working, but it is not working at the same time. When I check the values on the ```Log.d``` I get the following results:\r\n```\r\n2023-08-21 20:11:17.258 13602-13602 Test      D  John Doe\r\n2023-08-21 20:11:17.259 13602-13602 Test      D  JohnDoe@gmail.com\r\n2023-08-21 20:11:17.259 13602-13602 Test1     D  User One\r\n2023-08-21 20:11:17.259 13602-13602 Test1     D  UserOne@gmail.com\r\n```\r\nSo the values are changing, but they are not changing in the screen of the application. What can cause this sort of behavior?\r\n\r\nUpdate: I&#39;ve kept testing since I posted and it seems that the value is being overwritten. How? I have no clue. But that seems to be the case since I added a ```Log.d``` on the ```Home Activity``` which is where the app redirects to and the values are still coming up as John Doe and JohnDoe@gmail.com.","title":"TextView changes in Log.d, but doesn&#39;t change in actual application","body":"<p>I have a <code>navigation_header.xml</code> where I have two <code>TextView</code>: one if ID <code>navigationUserName</code> and the other with ID <code>navigationUserEmail</code>. These <code>TextView</code> have placeholder values: John Doe and JohnDoe@gmail.com respectively. I want to change these values to the actual name and email of the user. I am handling this during the login process. Once the login is successful change the values. This can be seen below:</p>\n<pre><code> mAuth.signInWithEmailAndPassword(emailText, passwordText)\n                            .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        // Sign in success, update UI with the signed-in user's information\n                                        FirebaseUser user = mAuth.getCurrentUser();\n\n                                        // Inflate view to be able to access the fields to update the name and email\n                                        View inflatedView = getLayoutInflater().inflate(R.layout.navigation_header, null);\n\n                                        // TextView\n                                        TextView loggedUserName = inflatedView.findViewById(R.id.navigationUserName);\n                                        TextView loggedUserEmail = inflatedView.findViewById(R.id.navigationUserEmail);\n\n                                        Log.d(&quot;Test&quot;, loggedUserName.getText().toString());\n                                        Log.d(&quot;Test&quot;, loggedUserEmail.getText().toString());\n\n                                        // Setting TextView to logged user's info\n                                        loggedUserName.setText(user.getDisplayName());\n                                        loggedUserEmail.setText(user.getEmail());\n\n                                        Log.d(&quot;Test1&quot;, loggedUserName.getText().toString());\n                                        Log.d(&quot;Test1&quot;, loggedUserEmail.getText().toString());\n\n                                        // Start home activity and close main activity\n                                        Intent home = new Intent(MainActivity.this, HomeActivity.class);\n                                        startActivity(home);\n                                        finish();\n</code></pre>\n<p>Authenticate the user, inflate the view where the <code>TextView</code> that I want to change are located, change them, and redirect to the home activity. This code is working, but it is not working at the same time. When I check the values on the <code>Log.d</code> I get the following results:</p>\n<pre><code>2023-08-21 20:11:17.258 13602-13602 Test      D  John Doe\n2023-08-21 20:11:17.259 13602-13602 Test      D  JohnDoe@gmail.com\n2023-08-21 20:11:17.259 13602-13602 Test1     D  User One\n2023-08-21 20:11:17.259 13602-13602 Test1     D  UserOne@gmail.com\n</code></pre>\n<p>So the values are changing, but they are not changing in the screen of the application. What can cause this sort of behavior?</p>\n<p>Update: I've kept testing since I posted and it seems that the value is being overwritten. How? I have no clue. But that seems to be the case since I added a <code>Log.d</code> on the <code>Home Activity</code> which is where the app redirects to and the values are still coming up as John Doe and JohnDoe@gmail.com.</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694381651,"post_id":77068983,"comment_id":135880129,"body_markdown":"Kafka includes Jackson, by the way. You don&#39;t need to use Gson","body":"Kafka includes Jackson, by the way. You don&#39;t need to use Gson"},{"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"score":0,"creation_date":1694440507,"post_id":77068983,"comment_id":135887458,"body_markdown":"so I have to use a searlizer to convert my json into java object first and then send it to kafka. however, if I am doing so, jackson parser would validate the schema even before I send message, so what&#39;s the use of having schema registry ?","body":"so I have to use a searlizer to convert my json into java object first and then send it to kafka. however, if I am doing so, jackson parser would validate the schema even before I send message, so what&#39;s the use of having schema registry ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694455529,"post_id":77068983,"comment_id":135890449,"body_markdown":"I never said you needed a POJO. A Map can work, but the values of that map cannot be a String **and number**... All I said was that you don&#39;t need to use a separate JSON library for serialization. There are plenty of blogs how/why Schema Registry is used such as [this one](https://www.confluent.io/blog/schema-registry-kafka-stream-processing-yes-virginia-you-really-need-one/). Plus, `confluent.*.schema.validation` property on Confluent Server will prevent bad data from being sent into the topic, whereas Kafka will blindly accept any serialized payloads, even non-JSON for example.","body":"I never said you needed a POJO. A Map can work, but the values of that map cannot be a String <b>and number</b>... All I said was that you don&#39;t need to use a separate JSON library for serialization. There are plenty of blogs how/why Schema Registry is used such as <a href=\"https://www.confluent.io/blog/schema-registry-kafka-stream-processing-yes-virginia-you-really-need-one/\" rel=\"nofollow noreferrer\">this one</a>. Plus, <code>confluent.*.schema.validation</code> property on Confluent Server will prevent bad data from being sent into the topic, whereas Kafka will blindly accept any serialized payloads, even non-JSON for example."},{"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"score":0,"creation_date":1694469135,"post_id":77068983,"comment_id":135892404,"body_markdown":"So if map values can’t be numbers or strong then what it should be","body":"So if map values can’t be numbers or strong then what it should be"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694526281,"post_id":77068983,"comment_id":135900432,"body_markdown":"Think about Java objects, not JSON. You&#39;ve defined just `Map`, not `Map&lt;String,?&gt;` the value of a map can only be one type, no more... If you want different types, create a JsonNode object rather than a Map, or do create a POJO with typed fields... As mentioned before, there&#39;s a jsonschema2pojo plugin to create such a class for you automatically","body":"Think about Java objects, not JSON. You&#39;ve defined just <code>Map</code>, not <code>Map&lt;String,?&gt;</code> the value of a map can only be one type, no more... If you want different types, create a JsonNode object rather than a Map, or do create a POJO with typed fields... As mentioned before, there&#39;s a jsonschema2pojo plugin to create such a class for you automatically"},{"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"score":0,"creation_date":1694532937,"post_id":77068983,"comment_id":135902097,"body_markdown":"the issue is not creating a pojo object, it&#39;s just if I am creating pojo object, my validation is happening as part of converting json to object. they why would I need schema registry.  The only purpose I wanted to use schema registry is to validate json file aginst schema.","body":"the issue is not creating a pojo object, it&#39;s just if I am creating pojo object, my validation is happening as part of converting json to object. they why would I need schema registry.  The only purpose I wanted to use schema registry is to validate json file aginst schema."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694561973,"post_id":77068983,"comment_id":135906785,"body_markdown":"The validation happens in the Kafka serializer when an HTTP request is made to the registry, not when the Gson library is parsing the file. In fact, your code never references any locally stored schema definition here. Therefore, that&#39;s the &quot;use of having schema registry&quot;","body":"The validation happens in the Kafka serializer when an HTTP request is made to the registry, not when the Gson library is parsing the file. In fact, your code never references any locally stored schema definition here. Therefore, that&#39;s the &quot;use of having schema registry&quot;"},{"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"score":0,"creation_date":1694612120,"post_id":77068983,"comment_id":135914125,"body_markdown":"updated the question, even with `JsonNode` object. it behaves same. it accepts everything, even though message has wrong type for age and additional field.","body":"updated the question, even with <code>JsonNode</code> object. it behaves same. it accepts everything, even though message has wrong type for age and additional field."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694640570,"post_id":77068983,"comment_id":135919611,"body_markdown":"The Confluent Server/Cloud server-side validation logic is closed source, so I cannot help further. I suggest you contact Confluent Support to see if they can diagnose the issue.","body":"The Confluent Server/Cloud server-side validation logic is closed source, so I cannot help further. I suggest you contact Confluent Support to see if they can diagnose the issue."}],"answers":[{"tags":[],"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694718986,"creation_date":1694718986,"answer_id":77107812,"question_id":77068983,"body_markdown":"setting following properties, did the trick. \r\n\r\n```\r\nprops.put(KafkaJsonSchemaSerializerConfig.FAIL_INVALID_SCHEMA, &quot;true&quot;);\r\n```","title":"confluent schema registry doesn&#39;t validate schema for json data","body":"<p>setting following properties, did the trick.</p>\n<pre><code>props.put(KafkaJsonSchemaSerializerConfig.FAIL_INVALID_SCHEMA, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694718986,"creation_date":1694195714,"question_id":77068983,"body_markdown":"I am trying to send json data to topic which is attached to schema registry. However, when I am sending data it&#39;s accepting everything. \r\n\r\n**client.properties**\r\n\r\n```\r\nbootstrap.servers=pkc-xxx.northamerica-northeast1.gcp.confluent.cloud:9092\r\nsecurity.protocol=SASL_SSL\r\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;xxx&#39; password=&#39;Y0LiwuvfvDts/iQEXntX/yyy&#39;;\r\nsasl.mechanism=PLAIN\r\nkey.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n#value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nvalue.serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\r\nconfluent.value.schema.validation=true\r\nlatest.compatibility.strict=false\r\nauto.register.schemas=false\r\nuse.latest.version=true\r\n\r\n\r\n# Required connection configs for Confluent Cloud Schema Registry\r\nschema.registry.url=https://xxx.us-east1.gcp.confluent.cloud\r\nbasic.auth.credentials.source=USER_INFO\r\nbasic.auth.user.info=xxx:YrE7Oztqrx7FvGKF6Ofk+yyy+YySi\r\n\r\n```\r\n\r\n**Topic Schema**\r\n```json\r\n{\r\n  &quot;$id&quot;: &quot;http://example.com/myURI.schema.json&quot;,\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;additionalProperties&quot;: false,\r\n  &quot;description&quot;: &quot;Sample schema to help you get started.&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;age&quot;: {\r\n      &quot;description&quot;: &quot;The string type is used for strings of text.&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    }\r\n  },\r\n  &quot;required&quot;: [\r\n    &quot;age&quot;\r\n  ],\r\n  &quot;title&quot;: &quot;SampleRecord&quot;,\r\n  &quot;type&quot;: &quot;object&quot;\r\n}\r\n```\r\n \r\n\r\n\r\n```java\r\n  @Test\r\n    public void testMapUser() throws IOException {\r\n        String topic = &quot;gcp.test_user_schema&quot;;\r\n        final Properties props = new Properties();\r\n        InputStream inputStream = Files.newInputStream(Paths.get(&quot;src/main/resources/client.properties&quot;));\r\n        props.load(inputStream);\r\n        Producer&lt;String, Map&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n        Gson gson = new Gson();\r\n        File initialFile = new File(&quot;src/test/resources/user.json&quot;);\r\n        InputStream in = Files.newInputStream(initialFile.toPath());\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8));\r\n        HashMap event = gson.fromJson(reader, HashMap.class);\r\n\r\n\r\n        ProducerRecord&lt;String, Map&gt; kafkaRecord = new ProducerRecord&lt;&gt;(topic, event);\r\n\r\n        // Send the record to Kafka topic\r\n        producer.send(kafkaRecord);\r\n        producer.send(kafkaRecord, (metadata, exception) -&gt; {\r\n            if (exception != null) {\r\n                exception.printStackTrace();\r\n            } else {\r\n                System.out.println(&quot;Message sent successfully!&quot;);\r\n                System.out.println(&quot;Partition: &quot; + metadata.partition());\r\n                System.out.println(&quot;Offset: &quot; + metadata.offset());\r\n            }\r\n        });\r\n\r\n        producer.flush();\r\n    }\r\n```\r\n\r\n**user.json**\r\n\r\n```json\r\n{\r\n  &quot;age&quot;: 30,\r\n  &quot;name&quot;: &quot;gaurang&quot;\r\n}\r\n```\r\n\r\n**Topic Details**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ExIXy.png\r\n\r\n\r\n**Update**: Use JsonNode object as suggest in comment but still the same issue. topic accepts all the messages. \r\n\r\n```java\r\n   @Test\r\n    public void TestJsonNodeObject() throws IOException, ExecutionException, InterruptedException {\r\n        String topic = &quot;gcp.test_user_schema&quot;;\r\n        final Properties props = new Properties();\r\n        InputStream inputStream = Files.newInputStream(Paths.get(&quot;src/main/resources/client.properties&quot;));\r\n        props.load(inputStream);\r\n        Producer&lt;String, JsonNode&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n        \r\n        File initialFile = new File(&quot;src/test/resources/user.json&quot;);\r\n        InputStream in = Files.newInputStream(initialFile.toPath());\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8));\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonNode jsonNode = objectMapper.readTree(reader);\r\n        ProducerRecord&lt;String, JsonNode&gt; kafkaRecord = new ProducerRecord&lt;&gt;(topic, jsonNode);\r\n\r\n        // Send the record to Kafka topic\r\n        producer.send(kafkaRecord).get();\r\n        producer.flush();\r\n    }\r\n\r\n```","title":"confluent schema registry doesn&#39;t validate schema for json data","body":"<p>I am trying to send json data to topic which is attached to schema registry. However, when I am sending data it's accepting everything.</p>\n<p><strong>client.properties</strong></p>\n<pre><code>bootstrap.servers=pkc-xxx.northamerica-northeast1.gcp.confluent.cloud:9092\nsecurity.protocol=SASL_SSL\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username='xxx' password='Y0LiwuvfvDts/iQEXntX/yyy';\nsasl.mechanism=PLAIN\nkey.serializer=org.apache.kafka.common.serialization.StringSerializer\n#value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nvalue.serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\nconfluent.value.schema.validation=true\nlatest.compatibility.strict=false\nauto.register.schemas=false\nuse.latest.version=true\n\n\n# Required connection configs for Confluent Cloud Schema Registry\nschema.registry.url=https://xxx.us-east1.gcp.confluent.cloud\nbasic.auth.credentials.source=USER_INFO\nbasic.auth.user.info=xxx:YrE7Oztqrx7FvGKF6Ofk+yyy+YySi\n\n</code></pre>\n<p><strong>Topic Schema</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$id&quot;: &quot;http://example.com/myURI.schema.json&quot;,\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\n  &quot;additionalProperties&quot;: false,\n  &quot;description&quot;: &quot;Sample schema to help you get started.&quot;,\n  &quot;properties&quot;: {\n    &quot;age&quot;: {\n      &quot;description&quot;: &quot;The string type is used for strings of text.&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  },\n  &quot;required&quot;: [\n    &quot;age&quot;\n  ],\n  &quot;title&quot;: &quot;SampleRecord&quot;,\n  &quot;type&quot;: &quot;object&quot;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n    public void testMapUser() throws IOException {\n        String topic = &quot;gcp.test_user_schema&quot;;\n        final Properties props = new Properties();\n        InputStream inputStream = Files.newInputStream(Paths.get(&quot;src/main/resources/client.properties&quot;));\n        props.load(inputStream);\n        Producer&lt;String, Map&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        Gson gson = new Gson();\n        File initialFile = new File(&quot;src/test/resources/user.json&quot;);\n        InputStream in = Files.newInputStream(initialFile.toPath());\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8));\n        HashMap event = gson.fromJson(reader, HashMap.class);\n\n\n        ProducerRecord&lt;String, Map&gt; kafkaRecord = new ProducerRecord&lt;&gt;(topic, event);\n\n        // Send the record to Kafka topic\n        producer.send(kafkaRecord);\n        producer.send(kafkaRecord, (metadata, exception) -&gt; {\n            if (exception != null) {\n                exception.printStackTrace();\n            } else {\n                System.out.println(&quot;Message sent successfully!&quot;);\n                System.out.println(&quot;Partition: &quot; + metadata.partition());\n                System.out.println(&quot;Offset: &quot; + metadata.offset());\n            }\n        });\n\n        producer.flush();\n    }\n</code></pre>\n<p><strong>user.json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;age&quot;: 30,\n  &quot;name&quot;: &quot;gaurang&quot;\n}\n</code></pre>\n<p><strong>Topic Details</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ExIXy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ExIXy.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update</strong>: Use JsonNode object as suggest in comment but still the same issue. topic accepts all the messages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Test\n    public void TestJsonNodeObject() throws IOException, ExecutionException, InterruptedException {\n        String topic = &quot;gcp.test_user_schema&quot;;\n        final Properties props = new Properties();\n        InputStream inputStream = Files.newInputStream(Paths.get(&quot;src/main/resources/client.properties&quot;));\n        props.load(inputStream);\n        Producer&lt;String, JsonNode&gt; producer = new KafkaProducer&lt;&gt;(props);\n        \n        File initialFile = new File(&quot;src/test/resources/user.json&quot;);\n        InputStream in = Files.newInputStream(initialFile.toPath());\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8));\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode jsonNode = objectMapper.readTree(reader);\n        ProducerRecord&lt;String, JsonNode&gt; kafkaRecord = new ProducerRecord&lt;&gt;(topic, jsonNode);\n\n        // Send the record to Kafka topic\n        producer.send(kafkaRecord).get();\n        producer.flush();\n    }\n\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1572239221,"post_id":58585934,"comment_id":103485726,"body_markdown":"Unfortunately, `DateTimeFormatter` doesn&#39;t support that, and because it is `final`, you cannot even extend it with such functionality.","body":"Unfortunately, <code>DateTimeFormatter</code> doesn&#39;t support that, and because it is <code>final</code>, you cannot even extend it with such functionality."},{"owner":{"account_id":330723,"reputation":1222,"user_id":654989,"accept_rate":48,"display_name":"Sufendy"},"score":0,"creation_date":1572240370,"post_id":58585934,"comment_id":103485911,"body_markdown":"@Andreas any other formatter that will do the job?","body":"@Andreas any other formatter that will do the job?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1572240463,"post_id":58585934,"comment_id":103485933,"body_markdown":"Only one you write yourself. I&#39;d suggest writing a formatter that uses `DateTimeFormatter` with 9 fractional digits, then remove then in blocks of 3 when zero, e.g. using regex.","body":"Only one you write yourself. I&#39;d suggest writing a formatter that uses <code>DateTimeFormatter</code> with 9 fractional digits, then remove then in blocks of 3 when zero, e.g. using regex."},{"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"score":0,"creation_date":1572252334,"post_id":58585934,"comment_id":103489134,"body_markdown":"As far I see the double input can represent microseconds precisely, while nanos will be rounded in any case... Then why do you use `BigDecimal` instead of just `(tstamp - tstamp.toLong) * 1000000000` for calculation of nano adjustment?","body":"As far I see the double input can represent microseconds precisely, while nanos will be rounded in any case... Then why do you use <code>BigDecimal</code> instead of just <code>(tstamp - tstamp.toLong) * 1000000000</code> for calculation of nano adjustment?"},{"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"score":0,"creation_date":1572252668,"post_id":58585934,"comment_id":103489259,"body_markdown":"BTW, I&#39;m able to provide the most efficient solution for you, but just curios which system/library/framework provides doubles as timestamps for you?","body":"BTW, I&#39;m able to provide the most efficient solution for you, but just curios which system/library/framework provides doubles as timestamps for you?"},{"owner":{"account_id":330723,"reputation":1222,"user_id":654989,"accept_rate":48,"display_name":"Sufendy"},"score":0,"creation_date":1572307883,"post_id":58585934,"comment_id":103512182,"body_markdown":"@AndriyPlokhotnyuk, it came in as a String from BigQuery. And I use BigDecimal because calculation using Double gives weird inaccurate results.","body":"@AndriyPlokhotnyuk, it came in as a String from BigQuery. And I use BigDecimal because calculation using Double gives weird inaccurate results."},{"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"score":0,"creation_date":1572325333,"post_id":58585934,"comment_id":103515208,"body_markdown":"This is much better! Am I right understand that you can skip using of `tstamp` which is defined as a `double` primitive and just use `BigDecimal` instead?","body":"This is much better! Am I right understand that you can skip using of <code>tstamp</code> which is defined as a <code>double</code> primitive and just use <code>BigDecimal</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694718646,"creation_date":1572241430,"answer_id":58586217,"question_id":58585934,"body_markdown":"As Andreas said in the comment, the class for formatting, `DateTimeFormatter`, does not support this nifty functionality. My best suggestion is to leverage `LocalTime.toString()`, which has it. In Java syntax (sorry, I haven’t got a Scala development environment):\r\n\r\n\tprivate static final DateTimeFormatter dateFormatter\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd &quot;);\r\n\t\r\n\tprivate static String formatEpochSeconds(String epochSeconds) {\r\n\t\tBigDecimal totalSeconds = new BigDecimal(epochSeconds);\r\n\t\tlong seconds = totalSeconds.longValue();\r\n\t\tlong nanos = totalSeconds.subtract(new BigDecimal(seconds))\r\n\t\t\t\t.multiply(new BigDecimal(TimeUnit.SECONDS.toNanos(1)))\r\n\t\t\t\t.longValue();\r\n\t\tOffsetDateTime dateTime = Instant.ofEpochSecond(seconds, nanos)\r\n\t\t\t\t.atOffset(ZoneOffset.UTC);\r\n\t\treturn dateTime.format(dateFormatter)\r\n\t\t\t\t+ dateTime.toLocalTime()\r\n\t\t\t\t+ &quot; UTC&quot;;\r\n\t}\r\n\r\nTry it out:\r\n\r\n\t\tSystem.out.println(formatEpochSeconds(&quot;1546344600.0&quot;));\r\n\t\tSystem.out.println(formatEpochSeconds(&quot;1546344620.0&quot;));\r\n\t\tSystem.out.println(formatEpochSeconds(&quot;1546344620.18&quot;));\r\n\t\tSystem.out.println(formatEpochSeconds(&quot;1546344620.1877&quot;));\r\n\t\tSystem.out.println(formatEpochSeconds(&quot;1546344620.1877382&quot;));\r\n\r\nOutput is:\r\n\r\n&gt;     2019-01-01 12:10 UTC\r\n&gt;     2019-01-01 12:10:20 UTC\r\n&gt;     2019-01-01 12:10:20.180 UTC\r\n&gt;     2019-01-01 12:10:20.187700 UTC\r\n&gt;     2019-01-01 12:10:20.187738200 UTC\r\n\r\nThe seconds are omitted completely if they are 0.0. If you don’t want this, you will need to code a special case.","title":"DateTime formatting to have trailing zeroes and snap to milli, micro or nano format","body":"<p>As Andreas said in the comment, the class for formatting, <code>DateTimeFormatter</code>, does not support this nifty functionality. My best suggestion is to leverage <code>LocalTime.toString()</code>, which has it. In Java syntax (sorry, I haven’t got a Scala development environment):</p>\n<pre><code>private static final DateTimeFormatter dateFormatter\n        = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd &quot;);\n\nprivate static String formatEpochSeconds(String epochSeconds) {\n    BigDecimal totalSeconds = new BigDecimal(epochSeconds);\n    long seconds = totalSeconds.longValue();\n    long nanos = totalSeconds.subtract(new BigDecimal(seconds))\n            .multiply(new BigDecimal(TimeUnit.SECONDS.toNanos(1)))\n            .longValue();\n    OffsetDateTime dateTime = Instant.ofEpochSecond(seconds, nanos)\n            .atOffset(ZoneOffset.UTC);\n    return dateTime.format(dateFormatter)\n            + dateTime.toLocalTime()\n            + &quot; UTC&quot;;\n}\n</code></pre>\n<p>Try it out:</p>\n<pre><code>    System.out.println(formatEpochSeconds(&quot;1546344600.0&quot;));\n    System.out.println(formatEpochSeconds(&quot;1546344620.0&quot;));\n    System.out.println(formatEpochSeconds(&quot;1546344620.18&quot;));\n    System.out.println(formatEpochSeconds(&quot;1546344620.1877&quot;));\n    System.out.println(formatEpochSeconds(&quot;1546344620.1877382&quot;));\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<pre><code>2019-01-01 12:10 UTC\n2019-01-01 12:10:20 UTC\n2019-01-01 12:10:20.180 UTC\n2019-01-01 12:10:20.187700 UTC\n2019-01-01 12:10:20.187738200 UTC\n</code></pre>\n</blockquote>\n<p>The seconds are omitted completely if they are 0.0. If you don’t want this, you will need to code a special case.</p>\n"}],"owner":{"account_id":330723,"reputation":1222,"user_id":654989,"accept_rate":48,"display_name":"Sufendy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694718646,"creation_date":1572238382,"question_id":58585934,"body_markdown":"I have some code like this\r\n\r\n    import java.time.Instant\r\n    \r\n\r\n    val tstamp = 1546344620.1877\r\n    val nanoAdj = ((BigDecimal(tstamp) - tstamp.toLong) * 1000000000).toLong\r\n    Instant.ofEpochSecond(tstamp.toLong, nanoAdj).toString\r\n    // will print : 2019-01-01T12:10:20.187700Z\r\n\r\nThe `toString` from the Instant object created from `ofEpochSecond` is great with trailing zeroes to milli/micro/nano group, but I&#39;m struggling to get the formatted to do the same. I need to change the format a little to something like `2019-01-01 12:10:20.187700 UTC`\r\n\r\nOther examples:\r\n\r\n    2019-01-01 12:10:20 UTC // no fractions\r\n    2019-01-01 12:10:20.180 UTC // milliseconds\r\n    2019-01-01 12:10:20.187700 UTC // microseconds\r\n    2019-01-01 12:10:20.187738200 UTC // nanoseconds\r\n\r\nI&#39;m using DateTimeFormatter like below, but I&#39;m open for other suggestions.\r\n\r\n```\r\ndef formatter: DateTimeFormatter = {\r\n      val tz_format = new DateTimeFormatterBuilder()\r\n        .optionalStart\r\n        .parseCaseSensitive()\r\n        .appendZoneRegionId()\r\n        .toFormatter\r\n\r\n      val datetime_format = new DateTimeFormatterBuilder()\r\n        .appendValue(HOUR_OF_DAY, 2)\r\n        .appendLiteral(&#39;:&#39;)\r\n        .appendValue(MINUTE_OF_HOUR, 2)\r\n        .optionalStart()\r\n        .appendLiteral(&#39;:&#39;)\r\n        .appendValue(SECOND_OF_MINUTE, 2)\r\n        .optionalStart()\r\n        .appendFraction(NANO_OF_SECOND, 0, 9, true)\r\n        .toFormatter\r\n\r\n      new DateTimeFormatterBuilder()\r\n        .parseCaseInsensitive\r\n        .append(ISO_LOCAL_DATE)\r\n        .appendLiteral(&#39; &#39;)\r\n        .append(datetime_format)\r\n        .appendLiteral(&#39; &#39;)\r\n        .append(tz_format)\r\n        .toFormatter\r\n        .withZone(ZoneId.of(&quot;UTC&quot;))\r\n    }\r\n```","title":"DateTime formatting to have trailing zeroes and snap to milli, micro or nano format","body":"<p>I have some code like this</p>\n\n<pre><code>import java.time.Instant\n\n\nval tstamp = 1546344620.1877\nval nanoAdj = ((BigDecimal(tstamp) - tstamp.toLong) * 1000000000).toLong\nInstant.ofEpochSecond(tstamp.toLong, nanoAdj).toString\n// will print : 2019-01-01T12:10:20.187700Z\n</code></pre>\n\n<p>The <code>toString</code> from the Instant object created from <code>ofEpochSecond</code> is great with trailing zeroes to milli/micro/nano group, but I'm struggling to get the formatted to do the same. I need to change the format a little to something like <code>2019-01-01 12:10:20.187700 UTC</code></p>\n\n<p>Other examples:</p>\n\n<pre><code>2019-01-01 12:10:20 UTC // no fractions\n2019-01-01 12:10:20.180 UTC // milliseconds\n2019-01-01 12:10:20.187700 UTC // microseconds\n2019-01-01 12:10:20.187738200 UTC // nanoseconds\n</code></pre>\n\n<p>I'm using DateTimeFormatter like below, but I'm open for other suggestions.</p>\n\n<pre><code>def formatter: DateTimeFormatter = {\n      val tz_format = new DateTimeFormatterBuilder()\n        .optionalStart\n        .parseCaseSensitive()\n        .appendZoneRegionId()\n        .toFormatter\n\n      val datetime_format = new DateTimeFormatterBuilder()\n        .appendValue(HOUR_OF_DAY, 2)\n        .appendLiteral(':')\n        .appendValue(MINUTE_OF_HOUR, 2)\n        .optionalStart()\n        .appendLiteral(':')\n        .appendValue(SECOND_OF_MINUTE, 2)\n        .optionalStart()\n        .appendFraction(NANO_OF_SECOND, 0, 9, true)\n        .toFormatter\n\n      new DateTimeFormatterBuilder()\n        .parseCaseInsensitive\n        .append(ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(datetime_format)\n        .appendLiteral(' ')\n        .append(tz_format)\n        .toFormatter\n        .withZone(ZoneId.of(\"UTC\"))\n    }\n</code></pre>\n"},{"tags":["java","keylistener","keyevent"],"answers":[{"tags":[],"owner":{"account_id":21782052,"reputation":1,"user_id":16083632,"display_name":"林庭孜"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622451265,"creation_date":1622451265,"answer_id":67770643,"question_id":67613071,"body_markdown":"Change your keyboard Hotkey at Preference/Keyboard/HotKey/input method\r\nIf your first key is CapLock, the error will show.\r\nChange the input method HotKey will solve.","title":"How do I solve AdjustCapsLockLEDForKeyTransitionHandling?","body":"<p>Change your keyboard Hotkey at Preference/Keyboard/HotKey/input method\nIf your first key is CapLock, the error will show.\nChange the input method HotKey will solve.</p>\n"}],"owner":{"display_name":"user15976977"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694718440,"creation_date":1621476909,"question_id":67613071,"body_markdown":"I am trying to use `KeyListener` to input information, such as using the arrow keys to move an object in a plane, but as soon as I press my first key, the error below is thrown:\r\n\r\n`2021-05-20 09:55:35.400 java[36269:3330310] TSM AdjustCapsLockLEDForKeyTransitionHandling - _ISSetPhysicalKeyboardCapsLockLED Inhibit`\r\n\r\nMy code is like this:\r\n\r\n    \tKeyListener listener = new KeyAdapter() {\r\n\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\tint key = e.getKeyCode();\r\n\t\t\t\tif (key == KeyEvent.VK_KP_UP) {\r\n\t\t\t\t\tif (x != 5) {\r\n\t\t\t\t\t\tx -= 10;\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (key == KeyEvent.VK_KP_RIGHT){\r\n\t\t\t\t\tif (x != 495) {\r\n\t\t\t\t\t\tx += 10;\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (key == KeyEvent.VK_KP_DOWN) {\r\n\t\t\t\t\tif (y != 375) {\r\n\t\t\t\t\t\ty += 10;\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (key == KeyEvent.VK_KP_UP) {\r\n\t\t\t\t\tif (y != 5) {\r\n\t\t\t\t\t\ty -= 10;\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\nEverything in this code works properly. I am using a 2019 MacBook 16-inch. I am implementing codes on Eclipse. Is there any way that this problem can be solved?\r\n","title":"How do I solve AdjustCapsLockLEDForKeyTransitionHandling?","body":"<p>I am trying to use <code>KeyListener</code> to input information, such as using the arrow keys to move an object in a plane, but as soon as I press my first key, the error below is thrown:</p>\n<p><code>2021-05-20 09:55:35.400 java[36269:3330310] TSM AdjustCapsLockLEDForKeyTransitionHandling - _ISSetPhysicalKeyboardCapsLockLED Inhibit</code></p>\n<p>My code is like this:</p>\n<pre><code>    KeyListener listener = new KeyAdapter() {\n        public void keyTyped(KeyEvent e) {\n            int key = e.getKeyCode();\n            if (key == KeyEvent.VK_KP_UP) {\n                if (x != 5) {\n                    x -= 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_RIGHT){\n                if (x != 495) {\n                    x += 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_DOWN) {\n                if (y != 375) {\n                    y += 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_UP) {\n                if (y != 5) {\n                    y -= 10;\n                    repaint();\n                }\n            }\n        }\n    };\n</code></pre>\n<p>Everything in this code works properly. I am using a 2019 MacBook 16-inch. I am implementing codes on Eclipse. Is there any way that this problem can be solved?</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":4,"creation_date":1562002115,"post_id":56839930,"comment_id":100232197,"body_markdown":"can you share some examples please about what you want?","body":"can you share some examples please about what you want?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1562011254,"post_id":56839930,"comment_id":100235486,"body_markdown":"This Question is not clear. Please put more effort into your writing before posting. Be very *specific* about your given input, your desired processing, and your expected output. And always **search Stack Overflow** before posting. Your issues on this topic are almost certainly covered by existing posts.","body":"This Question is not clear. Please put more effort into your writing before posting. Be very <i>specific</i> about your given input, your desired processing, and your expected output. And always <b>search Stack Overflow</b> before posting. Your issues on this topic are almost certainly covered by existing posts."}],"answers":[{"tags":[],"owner":{"account_id":12537089,"reputation":886,"user_id":9123425,"display_name":"Marc G. Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639382364,"creation_date":1562006119,"answer_id":56840784,"question_id":56839930,"body_markdown":"There are several ways you can tackle this problem. One way is to create yourself a sorted index of the birth month and year so you can quickly find the following birthdays for a given day.\r\n\r\nThe first thing you need to realise is that &quot;next&quot; birthdays shouldn&#39;t take into account the year. If you just sort or compare on the date, the year is going going to give you invalid dates. One way you to get round this to create a key for a birthday that is uniquely identifies the birthday irrespective of the year. More specifically you want a key that can be ordered in &quot;chronological order&quot;. For example:\r\n\r\n```java\r\nLocalDate d1 = LocalDate.parse(&quot;1980-10-31&#39;);\r\nint key1 = d1.getMonthValue() * 100 + d1.getDayOfMonth();\r\n\r\nLocalDate d2 = LocalDate.parse(&quot;2001-10-31&#39;);\r\nint key2 = d2.getMonthValue() * 100 + d2.getDayOfMonth();\r\n\r\nkey1 == key2\r\n```\r\n\r\nSo now that you have a way of generating a key, you will want to generate a map of the keys to the birthdays. You can do this easily enough by using a groupingBy collector.\r\n\r\n```java\r\nFunction&lt;LocalDate, Integer&gt; key = (d) -&gt; d.getMonthValue() * 100 + d.getDayOfMonth();\r\nMap&lt;Integer, List&lt;LocalDate&gt;&gt; lookup = birthdays.stream().collect(Collectors.groupingBy(key));\r\n```  \r\n\r\nNote that we are collecting birthdays on the same days as a list, as it may be the case that there are multiple birthdays on the same day, in the same or different years.\r\n\r\nFinally you will want a way to find the next three birthdays. One way to do this is to sort the keys, search for the position of the next entry and then read off the following two. Because this is an order-able list of keys we can create an index of the keys, sort it and use a binary search to find the next entry. So let&#39;s create the index:\r\n\r\n```java\r\nList&lt;Integer&gt; searchIndex = lookup.keySet().stream().sorted().collect(Collectors.toList());\r\n```\r\n\r\nSo now we can use the `searchIndex` to find the nearest key to the key for the input date. We can then use that key to find the list of birthdays for that key from the `lookup`. \r\n\r\nWe can get the following two dates by just looking at the next two keys in the index. Though note that you will want to wrap to the beginning of the index when you get to the end. For example if you search for next three birthdays on the 31st of December, you will want it to continue checking in January.\r\n\r\n```java\r\nList&lt;LocalDate&gt; birthdays = getAllBirthdays();\r\n\r\nFunction&lt;LocalDate, Integer&gt; key = (d) -&gt; d.getMonthValue() * 100 + d.getDayOfMonth();\r\nMap&lt;Integer, List&lt;LocalDate&gt;&gt; lookup = birthdays.stream().collect(Collectors.groupingBy(key));\r\nList&lt;Integer&gt; searchIndex = lookup.keySet().stream().sorted().collect(Collectors.toList());\r\nint index = Collections.binarySearch(searchIndex, key.apply(LocalDate.now()));\r\n\r\n// Find the positive index if the index doesn&#39;t contain the current MMdd \r\nif (index &lt; 0) {\r\n    index = -index -1;\r\n}\r\n\r\nfor (int i = 0; i &lt; 3; ++i) {\r\n    // Wrap around to the start of the year\r\n    if (index &gt;= searchIndex.size()) {\r\n        index = 0;\r\n    }\r\n    System.out.println(lookup.get(searchIndex.get(index++)));\r\n}\r\n```\r\n\r\nI&#39;ve used `java.util.LocalDate` in the above code, but you could as easily use `joda&#39;s LocalDate`. Both are preferable to using `java.util.Date`","title":"Get next birthday from lists of dates","body":"<p>There are several ways you can tackle this problem. One way is to create yourself a sorted index of the birth month and year so you can quickly find the following birthdays for a given day.</p>\n<p>The first thing you need to realise is that &quot;next&quot; birthdays shouldn't take into account the year. If you just sort or compare on the date, the year is going going to give you invalid dates. One way you to get round this to create a key for a birthday that is uniquely identifies the birthday irrespective of the year. More specifically you want a key that can be ordered in &quot;chronological order&quot;. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate d1 = LocalDate.parse(&quot;1980-10-31');\nint key1 = d1.getMonthValue() * 100 + d1.getDayOfMonth();\n\nLocalDate d2 = LocalDate.parse(&quot;2001-10-31');\nint key2 = d2.getMonthValue() * 100 + d2.getDayOfMonth();\n\nkey1 == key2\n</code></pre>\n<p>So now that you have a way of generating a key, you will want to generate a map of the keys to the birthdays. You can do this easily enough by using a groupingBy collector.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;LocalDate, Integer&gt; key = (d) -&gt; d.getMonthValue() * 100 + d.getDayOfMonth();\nMap&lt;Integer, List&lt;LocalDate&gt;&gt; lookup = birthdays.stream().collect(Collectors.groupingBy(key));\n</code></pre>\n<p>Note that we are collecting birthdays on the same days as a list, as it may be the case that there are multiple birthdays on the same day, in the same or different years.</p>\n<p>Finally you will want a way to find the next three birthdays. One way to do this is to sort the keys, search for the position of the next entry and then read off the following two. Because this is an order-able list of keys we can create an index of the keys, sort it and use a binary search to find the next entry. So let's create the index:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; searchIndex = lookup.keySet().stream().sorted().collect(Collectors.toList());\n</code></pre>\n<p>So now we can use the <code>searchIndex</code> to find the nearest key to the key for the input date. We can then use that key to find the list of birthdays for that key from the <code>lookup</code>.</p>\n<p>We can get the following two dates by just looking at the next two keys in the index. Though note that you will want to wrap to the beginning of the index when you get to the end. For example if you search for next three birthdays on the 31st of December, you will want it to continue checking in January.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;LocalDate&gt; birthdays = getAllBirthdays();\n\nFunction&lt;LocalDate, Integer&gt; key = (d) -&gt; d.getMonthValue() * 100 + d.getDayOfMonth();\nMap&lt;Integer, List&lt;LocalDate&gt;&gt; lookup = birthdays.stream().collect(Collectors.groupingBy(key));\nList&lt;Integer&gt; searchIndex = lookup.keySet().stream().sorted().collect(Collectors.toList());\nint index = Collections.binarySearch(searchIndex, key.apply(LocalDate.now()));\n\n// Find the positive index if the index doesn't contain the current MMdd \nif (index &lt; 0) {\n    index = -index -1;\n}\n\nfor (int i = 0; i &lt; 3; ++i) {\n    // Wrap around to the start of the year\n    if (index &gt;= searchIndex.size()) {\n        index = 0;\n    }\n    System.out.println(lookup.get(searchIndex.get(index++)));\n}\n</code></pre>\n<p>I've used <code>java.util.LocalDate</code> in the above code, but you could as easily use <code>joda's LocalDate</code>. Both are preferable to using <code>java.util.Date</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639382069,"creation_date":1562010995,"answer_id":56841722,"question_id":56839930,"body_markdown":"# *java.time*\r\n\r\nThe Joda-Time project is now in maintenance mode. Its creator and leader, Stephen Colebourne, went on to lead the JSR 310 effort and its *java.time* implementation built into Java 8 and later. \r\n\r\n# `MonthDay`\r\n\r\nSounds like your list of annual birthdays should be holding objects of `MonthDay` class. This class represents a month and a day-of-month without a year and without a time zone. \r\n\r\n    List&lt; MonthDay &gt; birthdays = new ArrayList&lt;&gt;() ;\r\n    birthdays.add( MonthDay.of( Month.MARCH , 27 ) ) ;\r\n    birthdays.add( MonthDay.of( Month.DECEMBER , 13 ) ) ;\r\n\r\nGet the current month. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\r\n    MonthDay mdCurrent = MonthDay.now( z ) ;\r\n\r\nLoop the list. Compare each `MonthDay` to our current month-day `md`. \r\n\r\n    if( md.isAfter( mdCurrent ) ) {\r\n        …\r\n    }\r\n\r\nIf after, apply [the current year][1] number to generate a `LocalDate`.\r\n\r\n\r\n    if( md.isAfter( mdCurrent ) ) {\r\n        int y = Year.now( z ).getValue() ;\r\n        LocalDate ld = md.atYear( y ) ;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#now(java.time.ZoneId)","title":"Get next birthday from lists of dates","body":"<h1><em>java.time</em></h1>\n<p>The Joda-Time project is now in maintenance mode. Its creator and leader, Stephen Colebourne, went on to lead the JSR 310 effort and its <em>java.time</em> implementation built into Java 8 and later.</p>\n<h1><code>MonthDay</code></h1>\n<p>Sounds like your list of annual birthdays should be holding objects of <code>MonthDay</code> class. This class represents a month and a day-of-month without a year and without a time zone.</p>\n<pre><code>List&lt; MonthDay &gt; birthdays = new ArrayList&lt;&gt;() ;\nbirthdays.add( MonthDay.of( Month.MARCH , 27 ) ) ;\nbirthdays.add( MonthDay.of( Month.DECEMBER , 13 ) ) ;\n</code></pre>\n<p>Get the current month.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\nMonthDay mdCurrent = MonthDay.now( z ) ;\n</code></pre>\n<p>Loop the list. Compare each <code>MonthDay</code> to our current month-day <code>md</code>.</p>\n<pre><code>if( md.isAfter( mdCurrent ) ) {\n    …\n}\n</code></pre>\n<p>If after, apply <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html#now(java.time.ZoneId)\" rel=\"nofollow noreferrer\">the current year</a> number to generate a <code>LocalDate</code>.</p>\n<pre><code>if( md.isAfter( mdCurrent ) ) {\n    int y = Year.now( z ).getValue() ;\n    LocalDate ld = md.atYear( y ) ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694718288,"creation_date":1562014241,"answer_id":56842310,"question_id":56839930,"body_markdown":"Define a custom comparator that compares your dates according to how long it is until that birthday, taking into account that it may be this year or next year. Sort using the comparator. Take the first three elements of the sorted list.\r\n\r\nDefine an auxiliary method that gives you the number of days until a given birthday taking into account that it may be this year or next year. Using this method writing the comparator should not be hard. I include a couple of helpful links at the bottom.\r\n\r\nAlso see if instead of `Date` objects you can fill `LocalDate` or `MonthDay` objects into your list. A `Date` despite the class name doesn’t represent a date, and the class is poorly designed and long outdated. `LocalDate` and `MonthDay` are classes from java.time, the modern Java date and time API, which is much nicer to work with than the old classes like `Date`.\r\n\r\n## Question: Can I use java.time on Android?\r\n\r\nYes, java.time works nicely on older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Comparator and Comparable in Java](https://www.baeldung.com/java-comparator-comparable) on Baeldung.\r\n - [`Comparator` documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html)\r\n - [Documentation of the `Comparator` interface](https://docs.oracle.com/javase/9/docs/api/java/util/Comparator.html).\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"Get next birthday from lists of dates","body":"<p>Define a custom comparator that compares your dates according to how long it is until that birthday, taking into account that it may be this year or next year. Sort using the comparator. Take the first three elements of the sorted list.</p>\n<p>Define an auxiliary method that gives you the number of days until a given birthday taking into account that it may be this year or next year. Using this method writing the comparator should not be hard. I include a couple of helpful links at the bottom.</p>\n<p>Also see if instead of <code>Date</code> objects you can fill <code>LocalDate</code> or <code>MonthDay</code> objects into your list. A <code>Date</code> despite the class name doesn’t represent a date, and the class is poorly designed and long outdated. <code>LocalDate</code> and <code>MonthDay</code> are classes from java.time, the modern Java date and time API, which is much nicer to work with than the old classes like <code>Date</code>.</p>\n<h2>Question: Can I use java.time on Android?</h2>\n<p>Yes, java.time works nicely on older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">Comparator and Comparable in Java</a> on Baeldung.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code> documentation</a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Documentation of the <code>Comparator</code> interface</a>.</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}],"owner":{"account_id":16238523,"reputation":13,"user_id":11725469,"display_name":"hauser resauh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1694718288,"creation_date":1562002042,"question_id":56839930,"body_markdown":"i have a problem about a date calculation.\r\nHere my situation; I have a list of birthday-dates, like this:\r\n\r\n    List&lt;Date&gt; birthdays = getAllBirthdays(); //getAllBirthdays() returns full list of dates\r\nand want now to calculate the next three birthdays. I read much about dates and also implemented joda time to my project, so i also tried to calculate with DateTime objects, but cant came across a good solution, that worked. Can anybody help me with a base structure or else?\r\n","title":"Get next birthday from lists of dates","body":"<p>i have a problem about a date calculation.\nHere my situation; I have a list of birthday-dates, like this:</p>\n\n<pre><code>List&lt;Date&gt; birthdays = getAllBirthdays(); //getAllBirthdays() returns full list of dates\n</code></pre>\n\n<p>and want now to calculate the next three birthdays. I read much about dates and also implemented joda time to my project, so i also tried to calculate with DateTime objects, but cant came across a good solution, that worked. Can anybody help me with a base structure or else?</p>\n"},{"tags":["java","c++","functional-programming","computer-science","computer-science-theory"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1694714078,"post_id":77107328,"comment_id":135931163,"body_markdown":"https://en.wikipedia.org/wiki/Model_of_computation","body":"<a href=\"https://en.wikipedia.org/wiki/Model_of_computation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Model_of_computation</a>"},{"owner":{"account_id":6975655,"reputation":23966,"user_id":5825294,"accept_rate":78,"display_name":"Enlico"},"score":0,"creation_date":1694714245,"post_id":77107328,"comment_id":135931189,"body_markdown":"@Jens, I don&#39;t feel that answers my question.","body":"@Jens, I don&#39;t feel that answers my question."},{"owner":{"account_id":31679,"reputation":209508,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":1,"creation_date":1694715898,"post_id":77107328,"comment_id":135931487,"body_markdown":"TLDR: C++, like many other languages, assumes a [Von-Neumann Architecture](https://en.wikipedia.org/wiki/Von_Neumann_architecture). It&#39;s certainly not the only architecture possible, for example FPGA programming in Verilog is *quite* different than anything in C++, as the &quot;model of computation&quot; is not the same. Functional languages have their own take on the assumed hardware capabilities.","body":"TLDR: C++, like many other languages, assumes a <a href=\"https://en.wikipedia.org/wiki/Von_Neumann_architecture\" rel=\"nofollow noreferrer\">Von-Neumann Architecture</a>. It&#39;s certainly not the only architecture possible, for example FPGA programming in Verilog is <i>quite</i> different than anything in C++, as the &quot;model of computation&quot; is not the same. Functional languages have their own take on the assumed hardware capabilities."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1694716201,"post_id":77107328,"comment_id":135931540,"body_markdown":"@Enlico if you don&#39;t think that answers your question, you will need to explain why it doesn&#39;t, or what you don&#39;t understand; otherwise, any answer you get may also not explain it or describe it in a way you also don&#39;t understand.","body":"@Enlico if you don&#39;t think that answers your question, you will need to explain why it doesn&#39;t, or what you don&#39;t understand; otherwise, any answer you get may also not explain it or describe it in a way you also don&#39;t understand."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1694721407,"post_id":77107328,"comment_id":135932406,"body_markdown":"I think the answer below is essentially correct, but in summary &quot;of the computer&quot; means the hardware itself.  The C compiler translates C into lower level machine code, and you get whatever semantics are built into the hardware that executes those machine instructions.","body":"I think the answer below is essentially correct, but in summary &quot;of the computer&quot; means the hardware itself.  The C compiler translates C into lower level machine code, and you get whatever semantics are built into the hardware that executes those machine instructions."},{"owner":{"account_id":175154,"reputation":65054,"user_id":404970,"display_name":"molbdnilo"},"score":0,"creation_date":1694783672,"post_id":77107328,"comment_id":135940397,"body_markdown":"See also [Can programming be liberated from the von Neumann style?](https://dl.acm.org/doi/10.1145/359576.359579) (Backus 1978)","body":"See also <a href=\"https://dl.acm.org/doi/10.1145/359576.359579\" rel=\"nofollow noreferrer\">Can programming be liberated from the von Neumann style?</a> (Backus 1978)"}],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694717371,"creation_date":1694716909,"answer_id":77107620,"question_id":77107328,"body_markdown":"What Stroustrup probably is referring to is the imperative vs. (pure) functional distinction:\r\n\r\nThe imperative school typically starts with a model of computation like [Turing Machines](https://en.wikipedia.org/wiki/Turing_machine): You have states, a tape which holds data, and a head which works on the tape and can overwrite or move left or right and change state based on the state and tape content it&#39;s currently on.\r\n\r\nReal computers can - very roughly - be modeled as [RAM Machines](https://en.wikipedia.org/wiki/Random-access_machine). You have RAM and can write to arbitrary cells in constant time (effects like cache locality may matter in practice, but are ignored for simplicity). The computer executes assembly instructions, which may operate on the RAM (but most often operate on registers for performance, another feature our simplistic model omits). You have arithmetic operations, conditional jumps, unconditional jumps, memory stores and writes, etc.\r\n\r\nC compiles pretty transparently to assembly (at least with optimizations disabled; for example, `++` will probably map to the `INC` instruction on x86 - you can easily see how most operators correspond directly to assembly); C was designed to work well with various assembly languages, and later on, following its popularity, assembly languages were influenced by C (e.g. `LEA` in x86).\r\n\r\nConsider the following simple &quot;sum&quot; example [from Godbolt](https://godbolt.org/z/vznE5xxdh):\r\n\r\n```c\r\nint testFunction(int* input, int length) {\r\n  int i, sum = 0;\r\n  for (i = 0; i &lt; length; ++i)\r\n    sum += input[i];\r\n  return sum;\r\n}\r\n```\r\n\r\nand the corresponding assembly:\r\n\r\n```x86-64\r\ntestFunction:\r\n        push    rbp\r\n        mov     rbp, rsp\r\n        mov     QWORD PTR [rbp-24], rdi\r\n        mov     DWORD PTR [rbp-28], esi\r\n        mov     DWORD PTR [rbp-8], 0\r\n        mov     DWORD PTR [rbp-4], 0\r\n        jmp     .L2\r\n.L3:\r\n        mov     eax, DWORD PTR [rbp-4]\r\n        cdqe\r\n        lea     rdx, [0+rax*4]\r\n        mov     rax, QWORD PTR [rbp-24]\r\n        add     rax, rdx\r\n        mov     eax, DWORD PTR [rax]\r\n        add     DWORD PTR [rbp-8], eax\r\n        add     DWORD PTR [rbp-4], 1\r\n.L2:\r\n        mov     eax, DWORD PTR [rbp-4]\r\n        cmp     eax, DWORD PTR [rbp-28]\r\n        jl      .L3\r\n        mov     eax, DWORD PTR [rbp-8]\r\n        pop     rbp\r\n        ret\r\n```\r\n\r\nas you can see, this is a pretty transparent abstraction over the way computers work under the hood; this is what makes C so efficient.\r\n\r\nFunctional programming attacks everything from a different angle &lt;del&gt;often criticized as not being sufficiently C-like&lt;/del&gt;: As fundamental model of computation, you start with [Lambda Calculus](https://en.wikipedia.org/wiki/Lambda_calculus): You can create and apply anonymous functions; functions themselves are first-class and can be passed around freely as parameters. This is not close to assembly at all (though there were developments such as [Lisp machines](https://en.wikipedia.org/wiki/Lisp_machine) to make machines be closer to functional programming in the past). One main difference lies in *mutability*: Functions are pure; they can not mutate anything. From a programmer&#39;s perspective, this has the advantage of eliminating unwanted side effects.\r\nBut from a hardware perspective, it&#39;s not close at all to how we would want to express computation on a RAM machine: Going back to our simple sum example, we have two variables we&#39;re mutating there - `i` and `sum`. These will go in registers / memory cells which we will mutate. This isn&#39;t possible in functional programming; we&#39;d have to write a (tail-)recursive function instead which manages `i` and `sum` as parameters.\r\nAlso, remember the array? This is close to how memory works: You have one big indexable array of bytes. In functional programming, you typically don&#39;t start out with arrays; instead, you&#39;d use a linked list. The ability to just instantiate functions also implies some kind of object management is required; this typically entails some kind of garbage collection / reference counting. (Note that functional programming languages aren&#39;t all bad. Lack of side effects makes it much easier to reason about programs. For example you get parallelizability of function execution for free.)\r\n\r\nUltimately, Turing Machines, RAM Machines, and Lambda Calculus are all turing-complete - everything that can be computed with any of these models of computation can be computed with any other just as well, but RAM Machines are closest to the actual computers we use.\r\n\r\nC, C++ and Java are all (among other things) imperative languages.\r\nIn contrast to C and C++, Java has typically used a virtual machine (the JVM; there are Java AoT compilers that target machine code as well, though). This allows it much better platform-independence; the VM has to guarantee f.e. that two&#39;s complement is used for integers (whereas in C relying on the underlying representation of ints is undefined behavior - after all some CPUs may be using one&#39;s complement). The Java VM also has the notable difference of being stack- rather than register-based and including a garbage collector. In general, bytecode interpretation is slower than directly executing assembly on the bare metal due to the interpreter overhead.\r\n\r\n(It should also be noted that C++ and Java are rather complex now. Both of them have to a fair degree been influenced by functional programming. For example Java has closures, which mean the subset of Java using just closures is effectively Lambda Calculus; that is, pure functional programming is possible with Java. The same goes for C++. But for the most part code written in these languages is still imperative.)","title":"What is a &quot;model of computation&quot;?","body":"<p>What Stroustrup probably is referring to is the imperative vs. (pure) functional distinction:</p>\n<p>The imperative school typically starts with a model of computation like <a href=\"https://en.wikipedia.org/wiki/Turing_machine\" rel=\"nofollow noreferrer\">Turing Machines</a>: You have states, a tape which holds data, and a head which works on the tape and can overwrite or move left or right and change state based on the state and tape content it's currently on.</p>\n<p>Real computers can - very roughly - be modeled as <a href=\"https://en.wikipedia.org/wiki/Random-access_machine\" rel=\"nofollow noreferrer\">RAM Machines</a>. You have RAM and can write to arbitrary cells in constant time (effects like cache locality may matter in practice, but are ignored for simplicity). The computer executes assembly instructions, which may operate on the RAM (but most often operate on registers for performance, another feature our simplistic model omits). You have arithmetic operations, conditional jumps, unconditional jumps, memory stores and writes, etc.</p>\n<p>C compiles pretty transparently to assembly (at least with optimizations disabled; for example, <code>++</code> will probably map to the <code>INC</code> instruction on x86 - you can easily see how most operators correspond directly to assembly); C was designed to work well with various assembly languages, and later on, following its popularity, assembly languages were influenced by C (e.g. <code>LEA</code> in x86).</p>\n<p>Consider the following simple &quot;sum&quot; example <a href=\"https://godbolt.org/z/vznE5xxdh\" rel=\"nofollow noreferrer\">from Godbolt</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>int testFunction(int* input, int length) {\n  int i, sum = 0;\n  for (i = 0; i &lt; length; ++i)\n    sum += input[i];\n  return sum;\n}\n</code></pre>\n<p>and the corresponding assembly:</p>\n<pre><code>testFunction:\n        push    rbp\n        mov     rbp, rsp\n        mov     QWORD PTR [rbp-24], rdi\n        mov     DWORD PTR [rbp-28], esi\n        mov     DWORD PTR [rbp-8], 0\n        mov     DWORD PTR [rbp-4], 0\n        jmp     .L2\n.L3:\n        mov     eax, DWORD PTR [rbp-4]\n        cdqe\n        lea     rdx, [0+rax*4]\n        mov     rax, QWORD PTR [rbp-24]\n        add     rax, rdx\n        mov     eax, DWORD PTR [rax]\n        add     DWORD PTR [rbp-8], eax\n        add     DWORD PTR [rbp-4], 1\n.L2:\n        mov     eax, DWORD PTR [rbp-4]\n        cmp     eax, DWORD PTR [rbp-28]\n        jl      .L3\n        mov     eax, DWORD PTR [rbp-8]\n        pop     rbp\n        ret\n</code></pre>\n<p>as you can see, this is a pretty transparent abstraction over the way computers work under the hood; this is what makes C so efficient.</p>\n<p>Functional programming attacks everything from a different angle <del>often criticized as not being sufficiently C-like</del>: As fundamental model of computation, you start with <a href=\"https://en.wikipedia.org/wiki/Lambda_calculus\" rel=\"nofollow noreferrer\">Lambda Calculus</a>: You can create and apply anonymous functions; functions themselves are first-class and can be passed around freely as parameters. This is not close to assembly at all (though there were developments such as <a href=\"https://en.wikipedia.org/wiki/Lisp_machine\" rel=\"nofollow noreferrer\">Lisp machines</a> to make machines be closer to functional programming in the past). One main difference lies in <em>mutability</em>: Functions are pure; they can not mutate anything. From a programmer's perspective, this has the advantage of eliminating unwanted side effects.\nBut from a hardware perspective, it's not close at all to how we would want to express computation on a RAM machine: Going back to our simple sum example, we have two variables we're mutating there - <code>i</code> and <code>sum</code>. These will go in registers / memory cells which we will mutate. This isn't possible in functional programming; we'd have to write a (tail-)recursive function instead which manages <code>i</code> and <code>sum</code> as parameters.\nAlso, remember the array? This is close to how memory works: You have one big indexable array of bytes. In functional programming, you typically don't start out with arrays; instead, you'd use a linked list. The ability to just instantiate functions also implies some kind of object management is required; this typically entails some kind of garbage collection / reference counting. (Note that functional programming languages aren't all bad. Lack of side effects makes it much easier to reason about programs. For example you get parallelizability of function execution for free.)</p>\n<p>Ultimately, Turing Machines, RAM Machines, and Lambda Calculus are all turing-complete - everything that can be computed with any of these models of computation can be computed with any other just as well, but RAM Machines are closest to the actual computers we use.</p>\n<p>C, C++ and Java are all (among other things) imperative languages.\nIn contrast to C and C++, Java has typically used a virtual machine (the JVM; there are Java AoT compilers that target machine code as well, though). This allows it much better platform-independence; the VM has to guarantee f.e. that two's complement is used for integers (whereas in C relying on the underlying representation of ints is undefined behavior - after all some CPUs may be using one's complement). The Java VM also has the notable difference of being stack- rather than register-based and including a garbage collector. In general, bytecode interpretation is slower than directly executing assembly on the bare metal due to the interpreter overhead.</p>\n<p>(It should also be noted that C++ and Java are rather complex now. Both of them have to a fair degree been influenced by functional programming. For example Java has closures, which mean the subset of Java using just closures is effectively Lambda Calculus; that is, pure functional programming is possible with Java. The same goes for C++. But for the most part code written in these languages is still imperative.)</p>\n"}],"owner":{"account_id":6975655,"reputation":23966,"user_id":5825294,"accept_rate":78,"display_name":"Enlico"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"closed_date":1694716653,"answer_count":1,"score":-1,"last_activity_date":1694717371,"creation_date":1694713672,"question_id":77107328,"body_markdown":"... What does it mean that in C++ *and* Java the model of computation is &quot;that of the computer&quot;? Why is that not the case for functional languages?\r\n\r\n---\r\n\r\nI&#39;m reading Bjarne Stroustrup&#39;s interview form [Masterminds of Programming](https://www.amazon.co.uk/Masterminds-Programming-Conversations-Creators-Languages/dp/0596515170/ref=sr_1_1?crid=QLATIDSC8NJE&amp;keywords=Masterminds+of+Programming&amp;qid=1694713259&amp;sprefix=masterminds+of+programming%2Caps%2C102&amp;sr=8-1), of which I copy the relevant excerpt below:\r\n\r\n&gt; In the context of C++ and other languages, &quot;close to the hardware&quot; means that the model of computation is that of the computer — sequences of objects in memory and operations as defined on objects of fixed sized — rather than some mathematical abstraction. This is true for both C++ and Java, but not for functional languages. C++ differs from Java in that its underlying machine is the real machine rather than a single abstract machine.\r\n\r\nWhat does that mean, in practical terms?\r\n\r\nFrom the quote above, as far as this &quot;model of computation&quot; thing goes, I&#39;d draw the conclusion that there&#39;s three categories of languages (I guess the boundaries are shaded, though...?)\r\n\r\n  - Like C++ (&quot;model of computation of the actual computer&quot;)\r\n  - Like Java (&quot;model of computation of an abstract computer&quot;)\r\n  - Functional languages  (&quot;model of computation of a non-computer&quot;)\r\n\r\nI kinda of see how the 3 differ, but I can&#39;t really map this to anything that could help me understand what the meaning of &quot;model of computation&quot; is.","title":"What is a &quot;model of computation&quot;?","body":"<p>... What does it mean that in C++ <em>and</em> Java the model of computation is &quot;that of the computer&quot;? Why is that not the case for functional languages?</p>\n<hr />\n<p>I'm reading Bjarne Stroustrup's interview form <a href=\"https://www.amazon.co.uk/Masterminds-Programming-Conversations-Creators-Languages/dp/0596515170/ref=sr_1_1?crid=QLATIDSC8NJE&amp;keywords=Masterminds+of+Programming&amp;qid=1694713259&amp;sprefix=masterminds+of+programming%2Caps%2C102&amp;sr=8-1\" rel=\"nofollow noreferrer\">Masterminds of Programming</a>, of which I copy the relevant excerpt below:</p>\n<blockquote>\n<p>In the context of C++ and other languages, &quot;close to the hardware&quot; means that the model of computation is that of the computer — sequences of objects in memory and operations as defined on objects of fixed sized — rather than some mathematical abstraction. This is true for both C++ and Java, but not for functional languages. C++ differs from Java in that its underlying machine is the real machine rather than a single abstract machine.</p>\n</blockquote>\n<p>What does that mean, in practical terms?</p>\n<p>From the quote above, as far as this &quot;model of computation&quot; thing goes, I'd draw the conclusion that there's three categories of languages (I guess the boundaries are shaded, though...?)</p>\n<ul>\n<li>Like C++ (&quot;model of computation of the actual computer&quot;)</li>\n<li>Like Java (&quot;model of computation of an abstract computer&quot;)</li>\n<li>Functional languages  (&quot;model of computation of a non-computer&quot;)</li>\n</ul>\n<p>I kinda of see how the 3 differ, but I can't really map this to anything that could help me understand what the meaning of &quot;model of computation&quot; is.</p>\n"},{"tags":["python","java","oop","translate","verify"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694704049,"post_id":77106196,"comment_id":135929167,"body_markdown":"Where that annotation comes from? What&#39;s its package?","body":"Where that annotation comes from? What&#39;s its package?"},{"owner":{"account_id":25289443,"reputation":7,"user_id":19115828,"display_name":"Shailaputri"},"score":0,"creation_date":1694704543,"post_id":77106196,"comment_id":135929289,"body_markdown":"I have added the imports and other annotations in this file.","body":"I have added the imports and other annotations in this file."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694707167,"post_id":77106196,"comment_id":135929871,"body_markdown":"I&#39;m guessing it comes from javax.persistence but we should not need to guess.","body":"I&#39;m guessing it comes from javax.persistence but we should not need to guess."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694715749,"post_id":77106196,"comment_id":135931456,"body_markdown":"@aled, it&#39;s part of _Java EE_.  _[ElementCollection (Java(TM) EE 7 Specification APIs)](https://docs.oracle.com/javaee/7/api/javax/persistence/ElementCollection.html)_.","body":"@aled, it&#39;s part of <i>Java EE</i>.  <i><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\">ElementCollection (Java(TM) EE 7 Specification APIs)</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694717187,"creation_date":1694717187,"answer_id":77107647,"question_id":77106196,"body_markdown":"&gt; _&quot;... I am unable to understand what @ElementCollection does in this code. I need to write its Python equivalent. ...&quot;_\r\n\r\nThat is an _Annotation_, here is the _Java_ tutorial.  \r\n_[Lesson: Annotations (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/annotations/)_.\r\n\r\nMore specifically, it appears this code is mapping the fields to a database.\r\n\r\n&gt; _&quot;... I have to write this class. Can someone verify if this is correct? ...&quot;_\r\n\r\nSo far it looks correct.\r\n\r\nPlease post the code for _BaseModel_, _Actor_, _Feature_, and _Genre_, as the _annotations_ in these classes will help determine the correct _Python_ code.","title":"Python equivalent of @ElementCollection @Enumerated(EnumType.ORDINAL)","body":"<blockquote>\n<p><em>&quot;... I am unable to understand what @ElementCollection does in this code. I need to write its Python equivalent. ...&quot;</em></p>\n</blockquote>\n<p>That is an <em>Annotation</em>, here is the <em>Java</em> tutorial.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">Lesson: Annotations (The Java™ Tutorials &gt; Learning the Java Language)</a></em>.</p>\n<p>More specifically, it appears this code is mapping the fields to a database.</p>\n<blockquote>\n<p><em>&quot;... I have to write this class. Can someone verify if this is correct? ...&quot;</em></p>\n</blockquote>\n<p>So far it looks correct.</p>\n<p>Please post the code for <em>BaseModel</em>, <em>Actor</em>, <em>Feature</em>, and <em>Genre</em>, as the <em>annotations</em> in these classes will help determine the correct <em>Python</em> code.</p>\n"}],"owner":{"account_id":25289443,"reputation":7,"user_id":19115828,"display_name":"Shailaputri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1694717187,"creation_date":1694703781,"question_id":77106196,"body_markdown":"I am unable to understand what @ElementCollection does in this code. I need to write its Python equivalent. \r\n```\r\npackage project.models;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n@Getter\r\n@Setter\r\n@Entity\r\n\r\npublic class Movie extends BaseModel {\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    private List&lt;Actor&gt; actors;\r\n\r\n    @ElementCollection\r\n    @Enumerated(EnumType.ORDINAL)\r\n    private List&lt;Feature&gt; movieFeatures;\r\n\r\n    @ElementCollection\r\n    @Enumerated(EnumType.ORDINAL)\r\n    private List&lt;Genre&gt; genre;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI have to write this class. Can someone verify if this is correct?\r\n\r\n```\r\nclass Movie(BaseModel):\r\n   def __init__(self, name, actors, movieFeatures, genre):\r\n       self.name = name\r\n       self.actors = actors\r\n       self.movieFeatures = movieFeatures\r\n       self.genre = genre\r\n\r\n\r\n```\r\n\r\n","title":"Python equivalent of @ElementCollection @Enumerated(EnumType.ORDINAL)","body":"<p>I am unable to understand what @ElementCollection does in this code. I need to write its Python equivalent.</p>\n<pre><code>package project.models;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n@Getter\n@Setter\n@Entity\n\npublic class Movie extends BaseModel {\n    private String name;\n\n    @ManyToMany\n    private List&lt;Actor&gt; actors;\n\n    @ElementCollection\n    @Enumerated(EnumType.ORDINAL)\n    private List&lt;Feature&gt; movieFeatures;\n\n    @ElementCollection\n    @Enumerated(EnumType.ORDINAL)\n    private List&lt;Genre&gt; genre;\n}\n\n\n</code></pre>\n<p>I have to write this class. Can someone verify if this is correct?</p>\n<pre><code>class Movie(BaseModel):\n   def __init__(self, name, actors, movieFeatures, genre):\n       self.name = name\n       self.actors = actors\n       self.movieFeatures = movieFeatures\n       self.genre = genre\n\n\n</code></pre>\n"},{"tags":["java","android","alert","alarm"],"comments":[{"owner":{"account_id":1015668,"reputation":35631,"user_id":1027277,"accept_rate":92,"display_name":"Kuffs"},"score":0,"creation_date":1509636070,"post_id":47078766,"comment_id":81106343,"body_markdown":"https://developer.android.com/reference/android/app/AlarmManager.html","body":"<a href=\"https://developer.android.com/reference/android/app/AlarmManager.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/AlarmManager.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":11849195,"reputation":109,"user_id":8670974,"display_name":"sdfbhg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509636801,"creation_date":1509636801,"answer_id":47079085,"question_id":47078766,"body_markdown":"What you are looking for is called an alarm manager. This is a service outside your app you can use to notify the user. This service is called upon using pending intents.\r\n\r\nhttps://developer.android.com/reference/android/app/AlarmManager.html","title":"how to set an alarm 5 mins before an event?","body":"<p>What you are looking for is called an alarm manager. This is a service outside your app you can use to notify the user. This service is called upon using pending intents.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/AlarmManager.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/AlarmManager.html</a></p>\n"},{"tags":[],"owner":{"account_id":25591185,"reputation":1,"user_id":19367870,"display_name":"Bodhi Mantra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694717139,"creation_date":1694712886,"answer_id":77107243,"question_id":47078766,"body_markdown":"First you need to check if your minute var is &gt; 4. If it is simply check if current local hour matches your hour var and your local minute = varMinute-5. Next, if your varMinute variable is less than 5 you need a series of if statements where you manually change the hour to (hour-1) and the min var to 59 if your minute var is 4, 58 if it is 3 so on and so forth down to 0 and 55.\r\n\r\n\r\nYou also need a send variable that gets checked to see if you have already sent an alert that minute and reset it every time seconds=0\r\n\r\nThis is in mql4 and uses an array (to set as many alarms as you want) but you get the point. alertSend needs to be global\r\n\r\n          void MyAlarm()\r\n          {  \r\n            int localDay = TimeDay(TimeLocal());\r\n            int localHour = TimeHour(TimeLocal());\r\n            int localMinute = TimeMinute(TimeLocal());\r\n            int alertHour=0;\r\n            int alertMinute=0;\r\n            \r\n          for(int i=0; i&lt;ArraySize(array1); i++) \r\n          {         \r\n             if(array4[i]&gt;4)\r\n             {\r\n               alertHour=array3[i];\r\n               alertMinute=array4[i]-5;      \r\n             }\r\n             if(array4[i]==4)\r\n             {\r\n               alertHour=array3[i]-1;\r\n               alertMinute=59;     \r\n             }\r\n             if(array4[i]==3)\r\n             {\r\n               alertHour=array3[i]-1;\r\n               alertMinute=58;     \r\n             }\r\n             if(array4[i]==2)\r\n             {\r\n               alertHour=array3[i]-1;\r\n               alertMinute=57;     \r\n             }\r\n             if(array4[i]==1)\r\n             {\r\n               alertHour=array3[i]-1;\r\n               alertMinute=56;     \r\n             }\r\n             if(array4[i]==0)\r\n             {\r\n               alertHour=array3[i]-1;\r\n               alertMinute=55;     \r\n             } \r\n             if(localDay==array2[i] &amp;&amp; localHour==alertHour &amp;&amp; localMinute==alertMinute &amp;&amp; alertSend)\r\n             {    \r\n                 Alert(&quot;Close trades for &quot;,array1[i]);\r\n                 alertSend=false;\r\n             }                                         \r\n         }\r\n                        \r\n           if(Seconds()==0)\r\n           {\r\n             alertSend=true;\r\n           }\r\n              \r\n      }","title":"how to set an alarm 5 mins before an event?","body":"<p>First you need to check if your minute var is &gt; 4. If it is simply check if current local hour matches your hour var and your local minute = varMinute-5. Next, if your varMinute variable is less than 5 you need a series of if statements where you manually change the hour to (hour-1) and the min var to 59 if your minute var is 4, 58 if it is 3 so on and so forth down to 0 and 55.</p>\n<p>You also need a send variable that gets checked to see if you have already sent an alert that minute and reset it every time seconds=0</p>\n<p>This is in mql4 and uses an array (to set as many alarms as you want) but you get the point. alertSend needs to be global</p>\n<pre><code>      void MyAlarm()\n      {  \n        int localDay = TimeDay(TimeLocal());\n        int localHour = TimeHour(TimeLocal());\n        int localMinute = TimeMinute(TimeLocal());\n        int alertHour=0;\n        int alertMinute=0;\n        \n      for(int i=0; i&lt;ArraySize(array1); i++) \n      {         \n         if(array4[i]&gt;4)\n         {\n           alertHour=array3[i];\n           alertMinute=array4[i]-5;      \n         }\n         if(array4[i]==4)\n         {\n           alertHour=array3[i]-1;\n           alertMinute=59;     \n         }\n         if(array4[i]==3)\n         {\n           alertHour=array3[i]-1;\n           alertMinute=58;     \n         }\n         if(array4[i]==2)\n         {\n           alertHour=array3[i]-1;\n           alertMinute=57;     \n         }\n         if(array4[i]==1)\n         {\n           alertHour=array3[i]-1;\n           alertMinute=56;     \n         }\n         if(array4[i]==0)\n         {\n           alertHour=array3[i]-1;\n           alertMinute=55;     \n         } \n         if(localDay==array2[i] &amp;&amp; localHour==alertHour &amp;&amp; localMinute==alertMinute &amp;&amp; alertSend)\n         {    \n             Alert(&quot;Close trades for &quot;,array1[i]);\n             alertSend=false;\n         }                                         \n     }\n                    \n       if(Seconds()==0)\n       {\n         alertSend=true;\n       }\n          \n  }\n</code></pre>\n"}],"owner":{"account_id":7246248,"reputation":19,"user_id":5528041,"display_name":"Ivano Ivy S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694717139,"creation_date":1509635867,"question_id":47078766,"body_markdown":"I m creating a APP that works like a virtual time card: The user enter what time he enters at work, what time he goes out for lunch and what time he comes back at work again. Then he presses a button and he can see what time he can go out. Of course this is useful for whom, like me, have a flexible working hour.\r\n\r\nThe APP works. Now I&#39;d like to add a new feature. Let&#39;s say I can exit my office at 5 PM, I&#39;d like that my APP at 16:55 sent me a notification, an alarm. Something that reminds me that I can go out. How can do it ?\r\n\r\nIn my mind I have these steps:\r\n\r\n 1. I put in a variable the time I can go out from work\r\n 2. I check the current time and if it&#39;s five mins before the point 1 sends a notification\r\n\r\nBut, the program has to do this check everytime or once each minute at least. And I really don&#39;t know how to do it..\r\n\r\nCan anyone helpe me out with an idea?\r\n\r\nIvano\r\n\r\n\r\n- Edit according to the rules and my new updates  -\r\n\t\r\nsorry my delay but I had to study what you sent me because I am a super rookie in Java... And i am really struggling trying to learn new things... Anyway let&#39;s get to the point. I tried to use the AlarmManager but It&#39;s not doing what I would like.\r\n\r\nI added this code at the top of my MainActivity class:\r\n\r\n    AlarmManager alarmMgr = (AlarmManager)getSystemService(ALARM_SERVICE);\r\n    Intent intent = new Intent(this, OnAlarmReceive.class);\r\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,  intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n    alarmMgr.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),1*60*1000, pendingIntent);\r\n\r\n \r\nWhat I get is that each 60 seconds the APP reloads itself, calls the MainActivity class and reloads the values the user entered previously into the DB. Therefore there is no way to enter a new value without see!!\r\n\r\nWhat Id like is: The app stays in background &quot;forever&quot; and wakes itself up only when realises that in 5 minutes the user can leave the office.\r\n\r\nI already wrote the part of the code where the program checks the current time and ask itself &quot;does it lack 5 mins before the user can leave the office ? &quot; and if the answer is yes, a text message appears and a sound is played. This is the part of the code :\r\n\r\n    NotificationCompat.Builder n  = new NotificationCompat.Builder(this)\r\n                    .setContentTitle(&quot;Arrivato nuovo messaggio!!&quot;)\r\n                    .setContentText(&quot;Autore: Nicola Rossi&quot;)\r\n                    .setSmallIcon(android.R.drawable.ic_dialog_info)\r\n                    .setContentIntent(pendingIntent)\r\n                    .setAutoCancel(true)\r\n                    .setSound(sound);\r\nSo, the program works.. but has a minor glitch, where it only sends the notification out when I open the app 5-minutes before the end of my shift. If I open the app at any other time, it will not send out the notification. I want this notification to be sent out regardless of the time I open the app.\r\n\r\nHow can I fix it?","title":"how to set an alarm 5 mins before an event?","body":"<p>I m creating a APP that works like a virtual time card: The user enter what time he enters at work, what time he goes out for lunch and what time he comes back at work again. Then he presses a button and he can see what time he can go out. Of course this is useful for whom, like me, have a flexible working hour.</p>\n\n<p>The APP works. Now I'd like to add a new feature. Let's say I can exit my office at 5 PM, I'd like that my APP at 16:55 sent me a notification, an alarm. Something that reminds me that I can go out. How can do it ?</p>\n\n<p>In my mind I have these steps:</p>\n\n<ol>\n<li>I put in a variable the time I can go out from work</li>\n<li>I check the current time and if it's five mins before the point 1 sends a notification</li>\n</ol>\n\n<p>But, the program has to do this check everytime or once each minute at least. And I really don't know how to do it..</p>\n\n<p>Can anyone helpe me out with an idea?</p>\n\n<p>Ivano</p>\n\n<ul>\n<li>Edit according to the rules and my new updates  -</li>\n</ul>\n\n<p>sorry my delay but I had to study what you sent me because I am a super rookie in Java... And i am really struggling trying to learn new things... Anyway let's get to the point. I tried to use the AlarmManager but It's not doing what I would like.</p>\n\n<p>I added this code at the top of my MainActivity class:</p>\n\n<pre><code>AlarmManager alarmMgr = (AlarmManager)getSystemService(ALARM_SERVICE);\nIntent intent = new Intent(this, OnAlarmReceive.class);\nPendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,  intent, PendingIntent.FLAG_UPDATE_CURRENT);\nalarmMgr.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),1*60*1000, pendingIntent);\n</code></pre>\n\n<p>What I get is that each 60 seconds the APP reloads itself, calls the MainActivity class and reloads the values the user entered previously into the DB. Therefore there is no way to enter a new value without see!!</p>\n\n<p>What Id like is: The app stays in background \"forever\" and wakes itself up only when realises that in 5 minutes the user can leave the office.</p>\n\n<p>I already wrote the part of the code where the program checks the current time and ask itself \"does it lack 5 mins before the user can leave the office ? \" and if the answer is yes, a text message appears and a sound is played. This is the part of the code :</p>\n\n<pre><code>NotificationCompat.Builder n  = new NotificationCompat.Builder(this)\n                .setContentTitle(\"Arrivato nuovo messaggio!!\")\n                .setContentText(\"Autore: Nicola Rossi\")\n                .setSmallIcon(android.R.drawable.ic_dialog_info)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true)\n                .setSound(sound);\n</code></pre>\n\n<p>So, the program works.. but has a minor glitch, where it only sends the notification out when I open the app 5-minutes before the end of my shift. If I open the app at any other time, it will not send out the notification. I want this notification to be sent out regardless of the time I open the app.</p>\n\n<p>How can I fix it?</p>\n"},{"tags":["java","web-services","ssl"],"owner":{"account_id":5849189,"reputation":33,"user_id":4608369,"display_name":"jma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694716892,"creation_date":1694716892,"question_id":77107617,"body_markdown":"I am running into an error where the connection from my client server is apparently closing early for a reason that I do not know. I am hitting two different servers. On one server the data is coming back and it is working perfectly. On the other server my client gets the error:\r\n\r\nProblem writing SAAJ model to stream: Connection reset\r\n\r\nThe error on the server says:\r\n\r\nConnection closed to child with abortive shutdown.\r\n\r\nI have checked the whitelist/blacklist and there should be no issue there and both servers use the same certificate, so it is not an issue with the trust store not having the cert. I have been told there is no difference between the two servers configuration, so I am unsure of why this is not working. If anybody has any ideas I would appreciate it.","title":"SSL Web Service Exception Connection closed to child with abortive shutdown","body":"<p>I am running into an error where the connection from my client server is apparently closing early for a reason that I do not know. I am hitting two different servers. On one server the data is coming back and it is working perfectly. On the other server my client gets the error:</p>\n<p>Problem writing SAAJ model to stream: Connection reset</p>\n<p>The error on the server says:</p>\n<p>Connection closed to child with abortive shutdown.</p>\n<p>I have checked the whitelist/blacklist and there should be no issue there and both servers use the same certificate, so it is not an issue with the trust store not having the cert. I have been told there is no difference between the two servers configuration, so I am unsure of why this is not working. If anybody has any ideas I would appreciate it.</p>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":2117471,"reputation":65,"user_id":7197632,"display_name":"person27"},"score":0,"creation_date":1694716700,"post_id":77107598,"comment_id":135931612,"body_markdown":"I cannot create question tags. MCreator is software that&#39;s been referenced a few times in other questions and could use its own tag, if anyone thinks it&#39;s worthy enough, so I could edit it out of the title.","body":"I cannot create question tags. MCreator is software that&#39;s been referenced a few times in other questions and could use its own tag, if anyone thinks it&#39;s worthy enough, so I could edit it out of the title."}],"owner":{"account_id":2117471,"reputation":65,"user_id":7197632,"display_name":"person27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694716650,"creation_date":1694716650,"question_id":77107598,"body_markdown":"**Scenario**  \r\nI made an MCreator 2023.2 project using the Fabric plugin targeting Minecraft 1.19.2, and I want my block to react to redstone by changing blockstate. For this I need to import `net.minecraft.world.World` and call `World.setBlockState()`. I&#39;m overriding `neighborChanged()` in my class that extends Block. This is all strictly expected, vetted by my friend&#39;s code, online tutorials and references to these functions in multiple places.\r\n\r\n**Problem**  \r\nIntellisense reports `net.minecraft.world.World` does not exist (it has no entry for `World`). Build fails on this, saying the symbol can&#39;t be found, but this should exist. Adding a procedure on neighbor changed and viewing its code reveals a weird discrepancy. The override for neighborChanged should be:\r\n```\r\npublic void neighborChanged(BlockState state, World worldIn, BlockPos pos, Block blockIn, BlockPos fromPos)\r\n```\r\nbut is:\r\n```\r\npublic void neighborChanged(BlockState state, Level world, BlockPos pos, Block blockIn, BlockPos neighborBlock, boolean moving)\r\n```\r\nas registered by the procedure. The instance world unsurprisingly doesn&#39;t have `setBlockState()`.\r\n\r\nI need `net.minecraft.world.World` to be recognized. I did no manual tweaking outside this one block file. My mod is very small currently. My friend also made a brand new repo with the fabric plugin and encountered this issue, so it&#39;s been repro&#39;d. I&#39;m hoping it&#39;s not broken for all users. I can provide a MRE as needed. Thank you in advance!","title":"MCreator: net.minecraft.world.World missing, but should be detected","body":"<p><strong>Scenario</strong><br />\nI made an MCreator 2023.2 project using the Fabric plugin targeting Minecraft 1.19.2, and I want my block to react to redstone by changing blockstate. For this I need to import <code>net.minecraft.world.World</code> and call <code>World.setBlockState()</code>. I'm overriding <code>neighborChanged()</code> in my class that extends Block. This is all strictly expected, vetted by my friend's code, online tutorials and references to these functions in multiple places.</p>\n<p><strong>Problem</strong><br />\nIntellisense reports <code>net.minecraft.world.World</code> does not exist (it has no entry for <code>World</code>). Build fails on this, saying the symbol can't be found, but this should exist. Adding a procedure on neighbor changed and viewing its code reveals a weird discrepancy. The override for neighborChanged should be:</p>\n<pre><code>public void neighborChanged(BlockState state, World worldIn, BlockPos pos, Block blockIn, BlockPos fromPos)\n</code></pre>\n<p>but is:</p>\n<pre><code>public void neighborChanged(BlockState state, Level world, BlockPos pos, Block blockIn, BlockPos neighborBlock, boolean moving)\n</code></pre>\n<p>as registered by the procedure. The instance world unsurprisingly doesn't have <code>setBlockState()</code>.</p>\n<p>I need <code>net.minecraft.world.World</code> to be recognized. I did no manual tweaking outside this one block file. My mod is very small currently. My friend also made a brand new repo with the fabric plugin and encountered this issue, so it's been repro'd. I'm hoping it's not broken for all users. I can provide a MRE as needed. Thank you in advance!</p>\n"},{"tags":["java","gradle","lombok"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1601059477,"post_id":64069661,"comment_id":113297252,"body_markdown":"Have you added lombok as `annotationProcessor` like shown in docs ? https://projectlombok.org/setup/gradle","body":"Have you added lombok as <code>annotationProcessor</code> like shown in docs ? <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">projectlombok.org/setup/gradle</a>"},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1601059997,"post_id":64069661,"comment_id":113297465,"body_markdown":"Just checked and `testAnnotationProcessor` solved it. THX, if you make it to an answer I&#39;ll gladly accept.","body":"Just checked and <code>testAnnotationProcessor</code> solved it. THX, if you make it to an answer I&#39;ll gladly accept."},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1601060257,"post_id":64069661,"comment_id":113297557,"body_markdown":"I wonder why it worked on old gradle.","body":"I wonder why it worked on old gradle."},{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":1,"creation_date":1601087723,"post_id":64069661,"comment_id":113303543,"body_markdown":"It worked in older versions of Gradle, because Gradle used to scan the other configurations for annotation processors, too. This was changed. Since the processor does not need to be available at runtime, most annotation processors come in two dependencies anyhow (one for the annotations, one for the processor).","body":"It worked in older versions of Gradle, because Gradle used to scan the other configurations for annotation processors, too. This was changed. Since the processor does not need to be available at runtime, most annotation processors come in two dependencies anyhow (one for the annotations, one for the processor)."}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601069703,"creation_date":1601069703,"answer_id":64071580,"question_id":64069661,"body_markdown":"You should also add lombok in `testAnnotationProcessor` :\r\n````\r\ntestAnnotationProcessor &#39;org.projectlombok:lombok:1.18.12&#39;\r\n````\r\nAlso adjust the version as you need.","title":"Lombok stops working after gradle upgrade","body":"<p>You should also add lombok in <code>testAnnotationProcessor</code> :</p>\n<pre><code>testAnnotationProcessor 'org.projectlombok:lombok:1.18.12'\n</code></pre>\n<p>Also adjust the version as you need.</p>\n"},{"tags":[],"owner":{"account_id":14006002,"reputation":11,"user_id":10665032,"display_name":"gghnisan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694716350,"creation_date":1694684474,"answer_id":77103659,"question_id":64069661,"body_markdown":"I&#39;ll add to the answer.\r\nHere is the link to the documentation: https://projectlombok.org/setup/gradle\r\n\r\nDoesn&#39;t work for me without **apt**.\r\n\r\nIt worked for me like this:\r\n\r\n```groovy\r\n    compileOnly(&quot;org.projectlombok:lombok:1.18.28&quot;)\r\n    apt annotationProcessor(&quot;org.projectlombok:lombok:1.18.28&quot;)\r\n    testCompileOnly(&quot;org.projectlombok:lombok:1.18.28&quot;)\r\n    apt testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.28&quot;)\r\n```\r\n\r\n\r\n","title":"Lombok stops working after gradle upgrade","body":"<p>I'll add to the answer.\nHere is the link to the documentation: <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></p>\n<p>Doesn't work for me without <strong>apt</strong>.</p>\n<p>It worked for me like this:</p>\n<pre><code>    compileOnly(&quot;org.projectlombok:lombok:1.18.28&quot;)\n    apt annotationProcessor(&quot;org.projectlombok:lombok:1.18.28&quot;)\n    testCompileOnly(&quot;org.projectlombok:lombok:1.18.28&quot;)\n    apt testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.28&quot;)\n</code></pre>\n"}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64071580,"answer_count":2,"score":1,"last_activity_date":1694716350,"creation_date":1601058926,"question_id":64069661,"body_markdown":"My `build.gradle` contains dependency:\r\n\r\n```\r\n...\r\ntestCompile group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.12&#39;\r\n...\r\n```\r\n\r\nWhen I upgrade my gradle from `4.9` to `6.6.1` I get errors:\r\n```\r\nrequired: no arguments\r\nfound: ...\r\nreason: actual and formal argument list differ in length\r\n```\r\n\r\nAll my classes that use `@AllArgsConstructor` are failing on `compileTestJava` gradle step. Anyone has a clue why?","title":"Lombok stops working after gradle upgrade","body":"<p>My <code>build.gradle</code> contains dependency:</p>\n<pre><code>...\ntestCompile group: 'org.projectlombok', name: 'lombok', version: '1.18.12'\n...\n</code></pre>\n<p>When I upgrade my gradle from <code>4.9</code> to <code>6.6.1</code> I get errors:</p>\n<pre><code>required: no arguments\nfound: ...\nreason: actual and formal argument list differ in length\n</code></pre>\n<p>All my classes that use <code>@AllArgsConstructor</code> are failing on <code>compileTestJava</code> gradle step. Anyone has a clue why?</p>\n"},{"tags":["java","windows","jna","keyboard-hook"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1277040558,"creation_date":1277040558,"answer_id":3079382,"question_id":3078646,"body_markdown":"It appears you need to call `GetMessage` or `PeekMessage`, which is odd - it is not mentioned in the documentation for [Hooks][1] or [LowLevelKeyboardProc][2]. I don&#39;t know enough about this part of the API to guess at the reason.\r\n\r\nI just used the example classes:\r\n\r\n    import com.sun.jna.examples.win32.*;\r\n    \r\n    public class Callback {\r\n      public static User32.HHOOK hHook;\r\n      public static User32.LowLevelKeyboardProc lpfn;\r\n      public static volatile boolean quit = false;\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        W32API.HMODULE hMod = Kernel32.INSTANCE.GetModuleHandle(null);\r\n        lpfn = new User32.LowLevelKeyboardProc() {\r\n          public W32API.LRESULT callback(int nCode, W32API.WPARAM wParam,\r\n              User32.KBDLLHOOKSTRUCT lParam) {\r\n            System.out.println(&quot;here&quot;);\r\n            quit = true;\r\n            return User32.INSTANCE.CallNextHookEx(hHook, nCode, wParam, lParam\r\n                .getPointer());\r\n          }\r\n        };\r\n        hHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, lpfn, hMod,\r\n            0);\r\n        if (hHook == null)\r\n          return;\r\n        User32.MSG msg = new User32.MSG();\r\n        while (!quit) {\r\n          User32.INSTANCE.PeekMessage(msg, null, 0, 0, 0);\r\n          Thread.sleep(100);\r\n        }\r\n        if (User32.INSTANCE.UnhookWindowsHookEx(hHook))\r\n          System.out.println(&quot;Unhooked&quot;);\r\n      }\r\n    }\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms632589%28VS.85%29.aspx\r\n  [2]: http://msdn.microsoft.com/en-us/library/ms644985(v=VS.85).aspx","title":"JNA Keyboard Hook in Windows","body":"<p>It appears you need to call <code>GetMessage</code> or <code>PeekMessage</code>, which is odd - it is not mentioned in the documentation for <a href=\"http://msdn.microsoft.com/en-us/library/ms632589%28VS.85%29.aspx\" rel=\"noreferrer\">Hooks</a> or <a href=\"http://msdn.microsoft.com/en-us/library/ms644985(v=VS.85).aspx\" rel=\"noreferrer\">LowLevelKeyboardProc</a>. I don't know enough about this part of the API to guess at the reason.</p>\n\n<p>I just used the example classes:</p>\n\n<pre><code>import com.sun.jna.examples.win32.*;\n\npublic class Callback {\n  public static User32.HHOOK hHook;\n  public static User32.LowLevelKeyboardProc lpfn;\n  public static volatile boolean quit = false;\n\n  public static void main(String[] args) throws Exception {\n    W32API.HMODULE hMod = Kernel32.INSTANCE.GetModuleHandle(null);\n    lpfn = new User32.LowLevelKeyboardProc() {\n      public W32API.LRESULT callback(int nCode, W32API.WPARAM wParam,\n          User32.KBDLLHOOKSTRUCT lParam) {\n        System.out.println(\"here\");\n        quit = true;\n        return User32.INSTANCE.CallNextHookEx(hHook, nCode, wParam, lParam\n            .getPointer());\n      }\n    };\n    hHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, lpfn, hMod,\n        0);\n    if (hHook == null)\n      return;\n    User32.MSG msg = new User32.MSG();\n    while (!quit) {\n      User32.INSTANCE.PeekMessage(msg, null, 0, 0, 0);\n      Thread.sleep(100);\n    }\n    if (User32.INSTANCE.UnhookWindowsHookEx(hHook))\n      System.out.println(\"Unhooked\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3450276,"reputation":53,"user_id":2890095,"display_name":"Bertrand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498141440,"creation_date":1498141440,"answer_id":44702203,"question_id":3078646,"body_markdown":"A minimalist example:\r\n\r\n    import com.sun.jna.platform.win32.Kernel32;\r\n    import com.sun.jna.platform.win32.User32;\r\n    import com.sun.jna.platform.win32.WinDef.HINSTANCE;\r\n    import com.sun.jna.platform.win32.WinDef.LPARAM;\r\n    import com.sun.jna.platform.win32.WinDef.LRESULT;\r\n    import com.sun.jna.platform.win32.WinDef.WPARAM;\r\n    import com.sun.jna.platform.win32.WinUser.HOOKPROC;\r\n    \r\n    public class MainTestKeyHook {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tHOOKPROC hookProc = new HOOKPROC_bg();\r\n    \t\tHINSTANCE hInst = Kernel32.INSTANCE.GetModuleHandle(null);\r\n    \r\n    \t\tUser32.HHOOK hHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, hookProc, hInst, 0);\r\n    \t\tif (hHook == null)\r\n    \t\t\treturn;\r\n    \t\tUser32.MSG msg = new User32.MSG();\r\n    \t\tSystem.err.println(&quot;Please press any key ....&quot;);\r\n    \t\twhile (true) {\r\n    \t\t\tUser32.INSTANCE.GetMessage(msg, null, 0, 0);\r\n    \t\t}   \r\n    \t}\r\n    }\r\n    \r\n    class HOOKPROC_bg implements HOOKPROC {\r\n    \r\n    \tpublic HOOKPROC_bg() {\r\n    \t}\r\n    \r\n    \tpublic LRESULT callback(int nCode, WPARAM wParam, LPARAM lParam) {\r\n    \t\tSystem.err.println(&quot;callback bbbnhkilhjkibh nCode: &quot; + nCode);\r\n    \t\treturn new LRESULT(0);\r\n    \t}\r\n    }\r\n\r\n","title":"JNA Keyboard Hook in Windows","body":"<p>A minimalist example:</p>\n\n<pre><code>import com.sun.jna.platform.win32.Kernel32;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinDef.HINSTANCE;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\nimport com.sun.jna.platform.win32.WinUser.HOOKPROC;\n\npublic class MainTestKeyHook {\n\n\n    public static void main(String[] args) throws Exception {\n        HOOKPROC hookProc = new HOOKPROC_bg();\n        HINSTANCE hInst = Kernel32.INSTANCE.GetModuleHandle(null);\n\n        User32.HHOOK hHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, hookProc, hInst, 0);\n        if (hHook == null)\n            return;\n        User32.MSG msg = new User32.MSG();\n        System.err.println(\"Please press any key ....\");\n        while (true) {\n            User32.INSTANCE.GetMessage(msg, null, 0, 0);\n        }   \n    }\n}\n\nclass HOOKPROC_bg implements HOOKPROC {\n\n    public HOOKPROC_bg() {\n    }\n\n    public LRESULT callback(int nCode, WPARAM wParam, LPARAM lParam) {\n        System.err.println(\"callback bbbnhkilhjkibh nCode: \" + nCode);\n        return new LRESULT(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":623365,"reputation":485,"user_id":366609,"display_name":"temp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18523,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":3079382,"answer_count":2,"score":16,"last_activity_date":1694715951,"creation_date":1277022836,"question_id":3078646,"body_markdown":"I have put together a JNA code for installing keyboard hook in Windows (using the JNA examples). The code compiles and everything, and I get the hook installed (I get handle to the hook successfully), also I can uninstall the hook successfully. However, the callback never get called when I press any key on the keyboard. Here is my code (most of it are type definitions got from the JNA examples, go to the &quot;main&quot; directly for my part) \r\n\r\n    \r\n\timport com.sun.jna.IntegerType;\r\n\timport com.sun.jna.Pointer;\r\n\timport com.sun.jna.PointerType;\r\n\timport com.sun.jna.Structure;\r\n\timport com.sun.jna.FromNativeContext;\r\n\timport com.sun.jna.ptr.IntByReference;\r\n\timport com.sun.jna.ptr.PointerByReference;\r\n\timport com.sun.jna.win32.StdCallLibrary;\r\n\timport com.sun.jna.win32.StdCallLibrary.StdCallCallback;\r\n\timport com.sun.jna.Native;\r\n\timport com.sun.jna.Platform;\r\n\timport com.sun.jna.Library;\r\n\timport com.sun.jna.win32.W32APITypeMapper;\r\n\timport com.sun.jna.win32.W32APIFunctionMapper;\r\n\r\n\timport java.util.Map;\r\n\timport java.util.HashMap;\r\n\r\n\tpublic class HelloWorld {\r\n\t\tstatic Map UNICODE_OPTIONS = new HashMap() {\r\n\t\t\t{\r\n\t\t\t\tput(&quot;type-mapper&quot;, W32APITypeMapper.UNICODE);\r\n\t\t\t\tput(&quot;function-mapper&quot;, W32APIFunctionMapper.UNICODE);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpublic static class LONG_PTR extends IntegerType {\r\n\t\t\tpublic LONG_PTR() { this(0); }\r\n\t\t\tpublic LONG_PTR(long value) { super(Pointer.SIZE, value); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class UINT_PTR extends IntegerType {\r\n\t\t\tpublic UINT_PTR() { super(Pointer.SIZE); }\r\n\t\t\tpublic UINT_PTR(long value) { super(Pointer.SIZE, value); }\r\n\t\t\tpublic Pointer toPointer() { return Pointer.createConstant(longValue()); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class ULONG_PTR extends IntegerType {\r\n\t\t\tpublic ULONG_PTR() { this(0); }\r\n\t\t\tpublic ULONG_PTR(long value) { super(Pointer.SIZE, value); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class LRESULT extends LONG_PTR {\r\n\t\t\tpublic LRESULT() { this(0); }\r\n\t\t\tpublic LRESULT(long value) { super(value); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class WPARAM extends UINT_PTR {\r\n\t\t\tpublic WPARAM() { this(0); }\r\n\t\t\tpublic WPARAM(long value) { super(value); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class LPARAM extends LONG_PTR {\r\n\t\t\tpublic LPARAM() { this(0); }\r\n\t\t\tpublic LPARAM(long value) { super(value); }\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class KBDLLHOOKSTRUCT extends Structure {\r\n\t\t\tpublic int vkCode;\r\n\t\t\tpublic int scanCode;\r\n\t\t\tpublic int flags;\r\n\t\t\tpublic int time;\r\n\t\t\tpublic ULONG_PTR dwExtraInfo;\r\n\t\t}\r\n\t\t\r\n\t\tstatic HANDLE INVALID_HANDLE_VALUE = new HANDLE() {\r\n\t\t\t{ super.setPointer(Pointer.createConstant(-1)); }\r\n\t\t\tpublic void setPointer(Pointer p) {\r\n\t\t\t\tthrow new UnsupportedOperationException(&quot;Immutable reference&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpublic static class HANDLE extends PointerType {\r\n\t\t\tpublic Object fromNative(Object nativeValue, FromNativeContext context) {\r\n\t\t\t\tObject o = super.fromNative(nativeValue, context);\r\n\t\t\t\tif (INVALID_HANDLE_VALUE.equals(o))\r\n\t\t\t\t\treturn INVALID_HANDLE_VALUE;\r\n\t\t\t\treturn o;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class HHOOK extends HANDLE { }\r\n\t\tpublic static class HINSTANCE extends HANDLE { }\r\n\t\tpublic static class HMODULE extends HINSTANCE { }\r\n\t\t\r\n\t\tpublic interface User32 extends StdCallLibrary  {\r\n\t\t\tUser32 INSTANCE = (User32)Native.loadLibrary(&quot;user32&quot;, User32.class, UNICODE_OPTIONS);\r\n\t\t\t\r\n\t\t\tstatic final int WH_KEYBOARD_LL = 13;\r\n\t\t\t\r\n\t\t\tpublic static interface HOOKPROC extends StdCallCallback  {\r\n\t\t\t\tLRESULT callback(int nCode, WPARAM wParam, KBDLLHOOKSTRUCT lParam);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tHHOOK SetWindowsHookEx(int idHook, HOOKPROC lpfn, HMODULE hMod, int dwThreadId);\r\n\t\t\tLRESULT CallNextHookEx(HHOOK idHook, int nCode, WPARAM wParam, LPARAM lParam);\r\n\t\t\tLRESULT CallNextHookEx(HHOOK idHook, int nCode, WPARAM wParam, Pointer lParam);\r\n\t\t\t\r\n\t\t\tboolean UnhookWindowsHookEx(HHOOK idHook);\r\n\t\t}\r\n\t\t\r\n\t\tpublic interface Kernel32 extends StdCallLibrary {\r\n\t\t\tKernel32 INSTANCE = (Kernel32)Native.loadLibrary(&quot;kernel32&quot;, Kernel32.class, UNICODE_OPTIONS);\r\n\t\t\t\r\n\t\t\tHMODULE GetModuleHandle(String name);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static HHOOK hHook;\r\n\t\tpublic static User32.HOOKPROC lpfn;\r\n\t\tpublic static volatile boolean quit = false;\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tHMODULE hMod = Kernel32.INSTANCE.GetModuleHandle(null);\r\n\t\t\tSystem.out.println(hMod);\r\n\t\t\t\r\n\t\t\tlpfn = new User32.HOOKPROC() {\r\n\t\t\t\tpublic LRESULT callback(int nCode, WPARAM wParam, KBDLLHOOKSTRUCT lParam) {\r\n\t\t\t\t\tSystem.out.println(&quot;here&quot;);\r\n\t\t\t\t\tquit = true;\r\n\t\t\t\t\treturn User32.INSTANCE.CallNextHookEx(hHook, nCode, wParam, lParam.getPointer());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\thHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, lpfn, hMod, 0);\r\n\t\t\tSystem.out.println(hHook);\r\n\t\t\t\r\n\t\t\tif(hHook != null)\r\n\t\t\t\tSystem.out.println(&quot;Keyboard hooked, type anything to quit&quot;);\r\n\t\t\t\r\n\t\t\twhile(!quit) {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(User32.INSTANCE.UnhookWindowsHookEx(hHook))\r\n\t\t\t\tSystem.out.println(&quot;Unhooked&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nI have done keyboard/mouse hooks several times using both C++ and C# in the past. This my first attempt with Java, and I just don&#39;t know whether I imported and mapped the library correctly. Any ideas?\r\n\r\nThank you.\r\n","title":"JNA Keyboard Hook in Windows","body":"<p>I have put together a JNA code for installing keyboard hook in Windows (using the JNA examples). The code compiles and everything, and I get the hook installed (I get handle to the hook successfully), also I can uninstall the hook successfully. However, the callback never get called when I press any key on the keyboard. Here is my code (most of it are type definitions got from the JNA examples, go to the \"main\" directly for my part) </p>\n\n<pre><code>import com.sun.jna.IntegerType;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.PointerType;\nimport com.sun.jna.Structure;\nimport com.sun.jna.FromNativeContext;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.ptr.PointerByReference;\nimport com.sun.jna.win32.StdCallLibrary;\nimport com.sun.jna.win32.StdCallLibrary.StdCallCallback;\nimport com.sun.jna.Native;\nimport com.sun.jna.Platform;\nimport com.sun.jna.Library;\nimport com.sun.jna.win32.W32APITypeMapper;\nimport com.sun.jna.win32.W32APIFunctionMapper;\n\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class HelloWorld {\n    static Map UNICODE_OPTIONS = new HashMap() {\n        {\n            put(\"type-mapper\", W32APITypeMapper.UNICODE);\n            put(\"function-mapper\", W32APIFunctionMapper.UNICODE);\n        }\n    };\n\n    public static class LONG_PTR extends IntegerType {\n        public LONG_PTR() { this(0); }\n        public LONG_PTR(long value) { super(Pointer.SIZE, value); }\n    }\n\n    public static class UINT_PTR extends IntegerType {\n        public UINT_PTR() { super(Pointer.SIZE); }\n        public UINT_PTR(long value) { super(Pointer.SIZE, value); }\n        public Pointer toPointer() { return Pointer.createConstant(longValue()); }\n    }\n\n    public static class ULONG_PTR extends IntegerType {\n        public ULONG_PTR() { this(0); }\n        public ULONG_PTR(long value) { super(Pointer.SIZE, value); }\n    }\n\n    public static class LRESULT extends LONG_PTR {\n        public LRESULT() { this(0); }\n        public LRESULT(long value) { super(value); }\n    }\n\n    public static class WPARAM extends UINT_PTR {\n        public WPARAM() { this(0); }\n        public WPARAM(long value) { super(value); }\n    }\n\n    public static class LPARAM extends LONG_PTR {\n        public LPARAM() { this(0); }\n        public LPARAM(long value) { super(value); }\n    }\n\n    public static class KBDLLHOOKSTRUCT extends Structure {\n        public int vkCode;\n        public int scanCode;\n        public int flags;\n        public int time;\n        public ULONG_PTR dwExtraInfo;\n    }\n\n    static HANDLE INVALID_HANDLE_VALUE = new HANDLE() {\n        { super.setPointer(Pointer.createConstant(-1)); }\n        public void setPointer(Pointer p) {\n            throw new UnsupportedOperationException(\"Immutable reference\");\n        }\n    };\n\n    public static class HANDLE extends PointerType {\n        public Object fromNative(Object nativeValue, FromNativeContext context) {\n            Object o = super.fromNative(nativeValue, context);\n            if (INVALID_HANDLE_VALUE.equals(o))\n                return INVALID_HANDLE_VALUE;\n            return o;\n        }\n    }\n\n    public static class HHOOK extends HANDLE { }\n    public static class HINSTANCE extends HANDLE { }\n    public static class HMODULE extends HINSTANCE { }\n\n    public interface User32 extends StdCallLibrary  {\n        User32 INSTANCE = (User32)Native.loadLibrary(\"user32\", User32.class, UNICODE_OPTIONS);\n\n        static final int WH_KEYBOARD_LL = 13;\n\n        public static interface HOOKPROC extends StdCallCallback  {\n            LRESULT callback(int nCode, WPARAM wParam, KBDLLHOOKSTRUCT lParam);\n        }\n\n        HHOOK SetWindowsHookEx(int idHook, HOOKPROC lpfn, HMODULE hMod, int dwThreadId);\n        LRESULT CallNextHookEx(HHOOK idHook, int nCode, WPARAM wParam, LPARAM lParam);\n        LRESULT CallNextHookEx(HHOOK idHook, int nCode, WPARAM wParam, Pointer lParam);\n\n        boolean UnhookWindowsHookEx(HHOOK idHook);\n    }\n\n    public interface Kernel32 extends StdCallLibrary {\n        Kernel32 INSTANCE = (Kernel32)Native.loadLibrary(\"kernel32\", Kernel32.class, UNICODE_OPTIONS);\n\n        HMODULE GetModuleHandle(String name);\n    }\n\n    public static HHOOK hHook;\n    public static User32.HOOKPROC lpfn;\n    public static volatile boolean quit = false;\n\n    public static void main(String[] args) throws Exception {\n        HMODULE hMod = Kernel32.INSTANCE.GetModuleHandle(null);\n        System.out.println(hMod);\n\n        lpfn = new User32.HOOKPROC() {\n            public LRESULT callback(int nCode, WPARAM wParam, KBDLLHOOKSTRUCT lParam) {\n                System.out.println(\"here\");\n                quit = true;\n                return User32.INSTANCE.CallNextHookEx(hHook, nCode, wParam, lParam.getPointer());\n            }\n        };\n\n        hHook = User32.INSTANCE.SetWindowsHookEx(User32.WH_KEYBOARD_LL, lpfn, hMod, 0);\n        System.out.println(hHook);\n\n        if(hHook != null)\n            System.out.println(\"Keyboard hooked, type anything to quit\");\n\n        while(!quit) {\n            Thread.sleep(100);\n        }\n\n        if(User32.INSTANCE.UnhookWindowsHookEx(hHook))\n            System.out.println(\"Unhooked\");\n\n    }\n}\n</code></pre>\n\n<p>I have done keyboard/mouse hooks several times using both C++ and C# in the past. This my first attempt with Java, and I just don't know whether I imported and mapped the library correctly. Any ideas?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","html","spring-boot","maven","template-engine"],"comments":[{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":1,"creation_date":1694787094,"post_id":77107524,"comment_id":135941160,"body_markdown":"Please show us your pom.xml file. If you are using spring-boot-starter-web and spring-boot-starter-thymeleaf you shouldn&#39;t need to add the thymeleaf dependency nor modify the classpath, nor change any Spring properties.","body":"Please show us your pom.xml file. If you are using spring-boot-starter-web and spring-boot-starter-thymeleaf you shouldn&#39;t need to add the thymeleaf dependency nor modify the classpath, nor change any Spring properties."}],"owner":{"account_id":29443978,"reputation":1,"user_id":22561667,"display_name":"Rahul Ghadage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694715722,"creation_date":1694715722,"question_id":77107524,"body_markdown":"[enter image description here](https://i.stack.imgur.com/jEo5d.png)\r\n\r\nI have created a new Spring Boot app &amp; trying to run on localhost, my project is running successfully but thymleaf template engine fails to load templates.\r\n\r\n \r\nI have attached my project hierarchy screenshot. anyone can help regarding that ?\r\n\r\n1. added thymleaf dependency\r\n2.added templates in templates folder\r\n3. added class Path in application. Properties.\r\n4. project maven updated, build &amp; run successful.","title":"Unable to load thymleaf template in Spring boot App","body":"<p><a href=\"https://i.stack.imgur.com/jEo5d.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have created a new Spring Boot app &amp; trying to run on localhost, my project is running successfully but thymleaf template engine fails to load templates.</p>\n<p>I have attached my project hierarchy screenshot. anyone can help regarding that ?</p>\n<ol>\n<li>added thymleaf dependency\n2.added templates in templates folder</li>\n<li>added class Path in application. Properties.</li>\n<li>project maven updated, build &amp; run successful.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","h2","spring-test"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1534498588,"post_id":51892300,"comment_id":90735799,"body_markdown":"Post your StatusEnum.","body":"Post your StatusEnum."},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1534500785,"post_id":51892300,"comment_id":90736990,"body_markdown":"Posted, but is not the problem, though. If I hardcode the int in the query and keep &quot;Status&quot; as a parameter, the query executes without a problem. So I think the problem is in the int...","body":"Posted, but is not the problem, though. If I hardcode the int in the query and keep &quot;Status&quot; as a parameter, the query executes without a problem. So I think the problem is in the int..."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1534500931,"post_id":51892300,"comment_id":90737064,"body_markdown":"What is the value of `DAYS` and `STATUS` ?","body":"What is the value of <code>DAYS</code> and <code>STATUS</code> ?"},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1534502526,"post_id":51892300,"comment_id":90737885,"body_markdown":"There are two litterals, DAYS = &quot;days&quot; and STATUS = &quot;status&quot;","body":"There are two litterals, DAYS = &quot;days&quot; and STATUS = &quot;status&quot;"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1534507140,"creation_date":1534507140,"answer_id":51894984,"question_id":51892300,"body_markdown":"This exception appears to arise because H2 is trying to type-check the statement at compile time and can&#39;t uniquely determine the type of the parameter: it could be a date or it could be a number, or perhaps something else.\r\n\r\nThe workaround (provided in the &lt;a href=&quot;https://github.com/h2database/h2database/issues/1383&quot;&gt;GitHub issue I raised&lt;/a&gt;) is to replace\r\n\r\n    SYSDATE - ?\r\n\r\nwith\r\n\r\n    SYSDATE - CAST(? AS INTEGER)\r\n\r\nI&#39;ve checked this and it works on both H2 and Oracle.\r\n","title":"Unknown data type when using an integer over NamedParameterJDBCTemplate on H2 [SPRING-BOOT]","body":"<p>This exception appears to arise because H2 is trying to type-check the statement at compile time and can't uniquely determine the type of the parameter: it could be a date or it could be a number, or perhaps something else.</p>\n\n<p>The workaround (provided in the <a href=\"https://github.com/h2database/h2database/issues/1383\" rel=\"noreferrer\">GitHub issue I raised</a>) is to replace</p>\n\n<pre><code>SYSDATE - ?\n</code></pre>\n\n<p>with</p>\n\n<pre><code>SYSDATE - CAST(? AS INTEGER)\n</code></pre>\n\n<p>I've checked this and it works on both H2 and Oracle.</p>\n"},{"tags":[],"owner":{"account_id":1227737,"reputation":853,"user_id":1192987,"display_name":"Nikita Bosik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568833518,"creation_date":1568833518,"answer_id":57999334,"question_id":51892300,"body_markdown":"For integer param (Spring data) there is workaround: embrace parameter and add `0`:\r\n\r\n    @Query(value = &quot;DELETE FROM my_table WHERE update_ts &lt; SYSDATE - (:days + 0)&quot;)\r\n    void cleanup(@Param(&quot;days&quot;) Integer days);","title":"Unknown data type when using an integer over NamedParameterJDBCTemplate on H2 [SPRING-BOOT]","body":"<p>For integer param (Spring data) there is workaround: embrace parameter and add <code>0</code>:</p>\n\n<pre><code>@Query(value = \"DELETE FROM my_table WHERE update_ts &lt; SYSDATE - (:days + 0)\")\nvoid cleanup(@Param(\"days\") Integer days);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1650357,"reputation":133,"user_id":1521087,"accept_rate":0,"display_name":"Fozix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606492538,"creation_date":1606492538,"answer_id":65040216,"question_id":51892300,"body_markdown":"I&#39;m using namedQuery and this Worked for me. if it can help others.\r\n\r\n    CAST(:variable AS double)\r\n\r\nIt must be lowercase to respect hibernate types:\r\n[https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#mapping-types-basictypes][1]\r\n\r\nthe solution of @Luke is working but I had to change to lowercase\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#mapping-types-basictypes","title":"Unknown data type when using an integer over NamedParameterJDBCTemplate on H2 [SPRING-BOOT]","body":"<p>I'm using namedQuery and this Worked for me. if it can help others.</p>\n<pre><code>CAST(:variable AS double)\n</code></pre>\n<p>It must be lowercase to respect hibernate types:\n<a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#mapping-types-basictypes\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#mapping-types-basictypes</a></p>\n<p>the solution of @Luke is working but I had to change to lowercase</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694715454,"creation_date":1694715454,"answer_id":77107498,"question_id":51892300,"body_markdown":"I used this code:\r\n\r\n\r\n\r\nAs an argument, a floating-point number (double type) was passed in sql query.\r\n\r\n```sql\r\n.... SYSDATE - CAST(? AS DOUBLE PRECISION);\r\n```\r\n\r\nThe examples given here did not help solve the problem.  I needed to use h2 in memory, in integration tests. Since I was checking the interaction with the database, and the work when working with the repository, the project used JdbcTemplate and native sql, so I had to find a solution that would work on Oracle and, when using integration tests, interacted with h2.","title":"Unknown data type when using an integer over NamedParameterJDBCTemplate on H2 [SPRING-BOOT]","body":"<p>I used this code:</p>\n<p>As an argument, a floating-point number (double type) was passed in sql query.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>.... SYSDATE - CAST(? AS DOUBLE PRECISION);\n</code></pre>\n<p>The examples given here did not help solve the problem.  I needed to use h2 in memory, in integration tests. Since I was checking the interaction with the database, and the work when working with the repository, the project used JdbcTemplate and native sql, so I had to find a solution that would work on Oracle and, when using integration tests, interacted with h2.</p>\n"}],"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5505,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":51894984,"answer_count":4,"score":11,"last_activity_date":1694715454,"creation_date":1534497972,"question_id":51892300,"body_markdown":"I&#39;m testing a Dao with an In-Memory DB with H2. I&#39;m passing an int to the query with a map to execute it. This query is working OK on Oracle SQL, but is not succeding in H2.\r\n\r\n**DAO**\r\n\r\n    \t@Override\r\n\tpublic int deleteCancelled(int days) {\r\n\t\tfinal Map&lt;String, Object&gt; namedParameters = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\tnamedParameters.put(DAYS, days);\r\n\t\tnamedParameters.put(STATUS, StatusEnum.CANCELLED.toString());\r\n\r\n\t\tint updated = this.namedParameterJdbcTemplate.update(Query.QUERIES.DELETE_CANCELLED, namedParameters);\r\n\r\n\t\treturn updated;\r\n\t}\r\n\r\n**QUERIES**\r\n\r\n          public static final String DELETE_CANCELLED = &quot;DELETE FROM MY_TABLE &quot;\r\n          + &quot;WHERE UPDATE_TS &lt; SYSDATE - :days AND STATUS = :status&quot;;\r\n\r\nWhen I try to execute this query on H2, it returns:\r\n\r\n\r\n**Error**\r\n\r\n    org.springframework.jdbc.UncategorizedSQLException: \r\n    PreparedStatementCallback; uncategorized SQLException for SQL [DELETE FROM \r\n    MY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ?]; SQL state \r\n    [HY004]; error code [50004]; Unknown data type : &quot;?&quot;\r\n    Unknown data type: &quot;?&quot;; SQL statement:\r\n    DELETE FROM MY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ? \r\n    [50004-196]; nested exception is org.h2.jdbc.JdbcSQLException: Unknown data \r\n    type : &quot;?&quot;\r\n    Unknown data type: &quot;?&quot;; SQL statement:\r\n    DELETE FROM MY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ? \r\n    [50004-196]\r\n\r\nI tried to execute the query hardcoding the int in the query (SYSDATE = 4) and it worked, also tried to wrap primitive int into Integer.valueOf(days) and using MapSqlParameterSource to specify which data type is, but none of both worked.\r\n\r\nWhy is it not working? Anyone knows? Thanks in advance.\r\n\r\nEDIT:\r\n\r\n**StatusEnum**\r\n\r\n    public enum StatusEnum {\r\n\t\t\r\n\tCANCELLED(&quot;Cancelled&quot;), \r\n\tCONFIRMED(&quot;Confirmed&quot;), \r\n\tPENDING(&quot;Pending&quot;), \r\n\tSENT(&quot;Sent&quot;), \r\n\t\r\n\t\r\n\tprivate final String text;\r\n\r\n    /**\r\n     * @param text\r\n     */\r\n    private StatusEnum(final String text) {\r\n        this.text = text;\r\n    }\r\n    \r\n    /* (non-Javadoc)\r\n     * @see java.lang.Enum#toString()\r\n     */\r\n    @Override\r\n    public String toString() {\r\n        return text;\r\n    }\r\n\r\n} ","title":"Unknown data type when using an integer over NamedParameterJDBCTemplate on H2 [SPRING-BOOT]","body":"<p>I'm testing a Dao with an In-Memory DB with H2. I'm passing an int to the query with a map to execute it. This query is working OK on Oracle SQL, but is not succeding in H2.</p>\n\n<p><strong>DAO</strong></p>\n\n<pre><code>    @Override\npublic int deleteCancelled(int days) {\n    final Map&lt;String, Object&gt; namedParameters = new HashMap&lt;String, Object&gt;();\n\n    namedParameters.put(DAYS, days);\n    namedParameters.put(STATUS, StatusEnum.CANCELLED.toString());\n\n    int updated = this.namedParameterJdbcTemplate.update(Query.QUERIES.DELETE_CANCELLED, namedParameters);\n\n    return updated;\n}\n</code></pre>\n\n<p><strong>QUERIES</strong></p>\n\n<pre><code>      public static final String DELETE_CANCELLED = \"DELETE FROM MY_TABLE \"\n      + \"WHERE UPDATE_TS &lt; SYSDATE - :days AND STATUS = :status\";\n</code></pre>\n\n<p>When I try to execute this query on H2, it returns:</p>\n\n<p><strong>Error</strong></p>\n\n<pre><code>org.springframework.jdbc.UncategorizedSQLException: \nPreparedStatementCallback; uncategorized SQLException for SQL [DELETE FROM \nMY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ?]; SQL state \n[HY004]; error code [50004]; Unknown data type : \"?\"\nUnknown data type: \"?\"; SQL statement:\nDELETE FROM MY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ? \n[50004-196]; nested exception is org.h2.jdbc.JdbcSQLException: Unknown data \ntype : \"?\"\nUnknown data type: \"?\"; SQL statement:\nDELETE FROM MY_TABLE WHERE UPDATE_TS &lt; SYSDATE - ? AND STATUS = ? \n[50004-196]\n</code></pre>\n\n<p>I tried to execute the query hardcoding the int in the query (SYSDATE = 4) and it worked, also tried to wrap primitive int into Integer.valueOf(days) and using MapSqlParameterSource to specify which data type is, but none of both worked.</p>\n\n<p>Why is it not working? Anyone knows? Thanks in advance.</p>\n\n<p>EDIT:</p>\n\n<p><strong>StatusEnum</strong></p>\n\n<pre><code>public enum StatusEnum {\n\nCANCELLED(\"Cancelled\"), \nCONFIRMED(\"Confirmed\"), \nPENDING(\"Pending\"), \nSENT(\"Sent\"), \n\n\nprivate final String text;\n\n/**\n * @param text\n */\nprivate StatusEnum(final String text) {\n    this.text = text;\n}\n\n/* (non-Javadoc)\n * @see java.lang.Enum#toString()\n */\n@Override\npublic String toString() {\n    return text;\n}\n</code></pre>\n\n<p>} </p>\n"},{"tags":["java","spring-mvc","angular","xmlhttprequest"],"comments":[{"owner":{"account_id":5118070,"reputation":8541,"user_id":4102561,"accept_rate":66,"display_name":"Supamiu"},"score":0,"creation_date":1474529983,"post_id":39632990,"comment_id":66570626,"body_markdown":"The preflight request is an `OPTIONS` one, be sure to allow `OPTIONS` in your requests.","body":"The preflight request is an <code>OPTIONS</code> one, be sure to allow <code>OPTIONS</code> in your requests."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1474532316,"post_id":39632990,"comment_id":66572053,"body_markdown":"Your commented out line in the code is the correct way to set the Access-Control-Allow-Headers, but the error is saying that it expects a Request header to be allowed. Try adding that to the list","body":"Your commented out line in the code is the correct way to set the Access-Control-Allow-Headers, but the error is saying that it expects a Request header to be allowed. Try adding that to the list"}],"answers":[{"tags":[],"owner":{"account_id":4463063,"reputation":16669,"user_id":3631348,"accept_rate":94,"display_name":"slaesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474532145,"creation_date":1474532145,"answer_id":39633720,"question_id":39632990,"body_markdown":"**Angular2 is lower-casing the headers!**\r\n\r\nSo `Content-Type` will be `content-type`, check that your backend will allow it! :)\r\n\r\nSee also this question: https://stackoverflow.com/questions/39630790/cross-orgin-error-in-google-chrome-for-the-api-call\r\n\r\nThere I explain how to test your Angular2-post-method to verify that the angular-part is working fine.","title":"Request header field is not allowed by Access-Control-Allow-Headers in preflight response","body":"<p><strong>Angular2 is lower-casing the headers!</strong></p>\n\n<p>So <code>Content-Type</code> will be <code>content-type</code>, check that your backend will allow it! :)</p>\n\n<p>See also this question: <a href=\"https://stackoverflow.com/questions/39630790/cross-orgin-error-in-google-chrome-for-the-api-call\">Cross orgin error in google chrome for the api call</a></p>\n\n<p>There I explain how to test your Angular2-post-method to verify that the angular-part is working fine.</p>\n"}],"owner":{"account_id":6247155,"reputation":195,"user_id":4858583,"accept_rate":31,"display_name":"Hardik Sachdeva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694714535,"creation_date":1474529777,"question_id":39632990,"body_markdown":"I am using **angularjs2** in frontend &amp; **Java Spring** as backend rest api &amp; getting the error.\r\n\r\n    XMLHttpRequest cannot load &#39;Some url&#39;. Request header field appkey is not allowed by Access-Control-Allow-Headers in preflight response.\r\n\r\nthis is my angular code.\r\n\r\n    private logInUrl = &#39;Some url&#39;; // URL to JSON file\r\n    \r\n    \r\n       authenticateUserCredentials(logIn: LogIn): Observable&lt;ResponseClass&gt; {\r\n    \t\r\n        let body = JSON.stringify(logIn);\r\n        let headers = new Headers();\r\n        headers.append(&#39;Content-type&#39;, &#39;application/json&#39;);\r\n        headers.append(&#39;appKey&#39;, &#39;superadmin&#39;);\r\n    \r\n        let options = new RequestOptions({ headers: headers });\r\n    \r\n        return this.http.post(this.logInUrl, body, options)\r\n                        .map(this.extractData)\r\n                        .catch(this.handleError);\r\n      }\r\n\r\nand server side code in which we have used filter.\r\n\r\n    public final class CorsFilter extends OncePerRequestFilter{\r\n    \t@Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n    \t\t    // CORS &quot;pre-flight&quot; request\r\n                response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n                response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE&quot;);\r\n               // response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-type,X-Requested-With,Origin,accept&quot;);\r\n                response.addHeader(&quot;x-access_token&quot;,&quot;Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;);\r\n                response.addHeader(&quot;Access-Control-Max-Age&quot;, &quot;1800&quot;);//30 min\r\n                \r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nIn **PostMan** app the rest api is working fine with both the headers **appKey &amp; Content-type**\r\n\r\nIs this the correct way to implement appKey header or please suggest any other way to send the custom header or custom data in predefine headers.\r\n\r\n","title":"Request header field is not allowed by Access-Control-Allow-Headers in preflight response","body":"<p>I am using <strong>angularjs2</strong> in frontend &amp; <strong>Java Spring</strong> as backend rest api &amp; getting the error.</p>\n\n<pre><code>XMLHttpRequest cannot load 'Some url'. Request header field appkey is not allowed by Access-Control-Allow-Headers in preflight response.\n</code></pre>\n\n<p>this is my angular code.</p>\n\n<pre><code>private logInUrl = 'Some url'; // URL to JSON file\n\n\n   authenticateUserCredentials(logIn: LogIn): Observable&lt;ResponseClass&gt; {\n\n    let body = JSON.stringify(logIn);\n    let headers = new Headers();\n    headers.append('Content-type', 'application/json');\n    headers.append('appKey', 'superadmin');\n\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.post(this.logInUrl, body, options)\n                    .map(this.extractData)\n                    .catch(this.handleError);\n  }\n</code></pre>\n\n<p>and server side code in which we have used filter.</p>\n\n<pre><code>public final class CorsFilter extends OncePerRequestFilter{\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n            // CORS \"pre-flight\" request\n            response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n            response.addHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n           // response.addHeader(\"Access-Control-Allow-Headers\", \"Content-type,X-Requested-With,Origin,accept\");\n            response.addHeader(\"x-access_token\",\"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\");\n            response.addHeader(\"Access-Control-Max-Age\", \"1800\");//30 min\n\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n\n<p>In <strong>PostMan</strong> app the rest api is working fine with both the headers <strong>appKey &amp; Content-type</strong></p>\n\n<p>Is this the correct way to implement appKey header or please suggest any other way to send the custom header or custom data in predefine headers.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1437945801,"post_id":31641973,"comment_id":51230780,"body_markdown":"Most people just roll their own or use an existing library.  That&#39;s what I&#39;d suggest.  You can find fast box blur implementations online pretty easily. Or, just pre-render your blurred image if you&#39;re not animating the blur.","body":"Most people just roll their own or use an existing library.  That&#39;s what I&#39;d suggest.  You can find fast box blur implementations online pretty easily. Or, just pre-render your blurred image if you&#39;re not animating the blur."},{"owner":{"account_id":5204123,"reputation":2861,"user_id":4162641,"accept_rate":60,"display_name":"StephenG"},"score":0,"creation_date":1437945848,"post_id":31641973,"comment_id":51230797,"body_markdown":"Have you looked at this: http://stackoverflow.com/questions/6795483/create-blurry-transparent-background-effect? Worked like a charm for me","body":"Have you looked at this: <a href=\"http://stackoverflow.com/questions/6795483/create-blurry-transparent-background-effect\" title=\"create blurry transparent background effect\">stackoverflow.com/questions/6795483/&hellip;</a>? Worked like a charm for me"},{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1437994183,"post_id":31641973,"comment_id":51247440,"body_markdown":"There are two way to achieve. 1) You can use FrameLayout to which you can set blur background. 2) You can use latest Blur library which i have !","body":"There are two way to achieve. 1) You can use FrameLayout to which you can set blur background. 2) You can use latest Blur library which i have !"},{"owner":{"account_id":3127704,"reputation":4966,"user_id":2646261,"accept_rate":78,"display_name":"heloisasim"},"score":0,"creation_date":1438003057,"post_id":31641973,"comment_id":51253418,"body_markdown":"Thanks @StephenG that answer actually helped me a lot.","body":"Thanks @StephenG that answer actually helped me a lot."},{"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"score":0,"creation_date":1550492556,"post_id":31641973,"comment_id":96276782,"body_markdown":"Kotlin version for people may need: check this repository on [Github](https://github.com/HJaliliani/BlurActivityBackground)","body":"Kotlin version for people may need: check this repository on <a href=\"https://github.com/HJaliliani/BlurActivityBackground\" rel=\"nofollow noreferrer\">Github</a>"}],"answers":[{"tags":[],"owner":{"account_id":4256407,"reputation":10061,"user_id":3482000,"accept_rate":88,"display_name":"Sandro Machado"},"down_vote_count":6,"up_vote_count":70,"is_accepted":true,"score":64,"last_activity_date":1437946028,"creation_date":1437946028,"answer_id":31642143,"question_id":31641973,"body_markdown":"The easiest way to do that is use a library. Take a look at this one: https://github.com/wasabeef/Blurry\r\n\r\nWith the library you only need to do this:\r\n\r\n    Blurry.with(context)\r\n      .radius(10)\r\n      .sampling(8)\r\n      .color(Color.argb(66, 255, 255, 0))\r\n      .async()\r\n      .onto(rootView);","title":"How to blur background images in Android","body":"<p>The easiest way to do that is use a library. Take a look at this one: <a href=\"https://github.com/wasabeef/Blurry\" rel=\"noreferrer\">https://github.com/wasabeef/Blurry</a></p>\n\n<p>With the library you only need to do this:</p>\n\n<pre><code>Blurry.with(context)\n  .radius(10)\n  .sampling(8)\n  .color(Color.argb(66, 255, 255, 0))\n  .async()\n  .onto(rootView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6690513,"reputation":190,"user_id":5160151,"display_name":"Geetha"},"down_vote_count":9,"up_vote_count":8,"is_accepted":false,"score":-1,"last_activity_date":1694713738,"creation_date":1437994024,"answer_id":31651096,"question_id":31641973,"body_markdown":"You can have a view with Background color as black and set alpha for the view as 0.7 or whatever as per your requirement.\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/onboardingimg1&quot;&gt;\r\n        &lt;View\r\n            android:id=&quot;@+id/opacityFilter&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@android:color/black&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:alpha=&quot;0.7&quot;&gt;\r\n        &lt;/View&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;","title":"How to blur background images in Android","body":"<p>You can have a view with Background color as black and set alpha for the view as 0.7 or whatever as per your requirement.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/onboardingimg1&quot;&gt;\n    &lt;View\n        android:id=&quot;@+id/opacityFilter&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@android:color/black&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:alpha=&quot;0.7&quot;&gt;\n    &lt;/View&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9469381,"reputation":87,"user_id":7040654,"display_name":"Aparna Venkata"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1694713763,"creation_date":1484922829,"answer_id":41766038,"question_id":31641973,"body_markdown":"This might be a very late reply but I hope it helps someone.\r\n\r\n 1. You can use third party libs such as RenderScript/Blurry/etc.\r\n 2. If you do not want to use any third party libs, you can do the below using alpha(setting alpha to 0 means complete blur and 1 means same as existing).\r\n\r\n**Note(If you are using point 2)** : While setting alpha to the background, it will blur the whole layout. To avoid this, **create a new xml containing drawable and set alpha here to 0.5 (or value of your wish) and use this drawable name (name of file) as the background.**\r\n\r\n\r\nFor example, use it as below (say file name is bgndblur.xml):\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n    &lt;bitmap xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:shape=&quot;rectangle&quot;\r\n    android:src=&quot;@drawable/registerscreenbackground&quot; \r\n    android:alpha=&quot;0.5&quot;&gt;\r\n\r\nUse the below in your layout:\r\n\r\n    &lt;....\r\n     android:background=&quot;@drawable/bgndblur&quot;&gt;\r\n\r\nHope this helped.","title":"How to blur background images in Android","body":"<p>This might be a very late reply but I hope it helps someone.</p>\n<ol>\n<li>You can use third party libs such as RenderScript/Blurry/etc.</li>\n<li>If you do not want to use any third party libs, you can do the below using alpha(setting alpha to 0 means complete blur and 1 means same as existing).</li>\n</ol>\n<p><strong>Note(If you are using point 2)</strong> : While setting alpha to the background, it will blur the whole layout. To avoid this, <strong>create a new xml containing drawable and set alpha here to 0.5 (or value of your wish) and use this drawable name (name of file) as the background.</strong></p>\n<p>For example, use it as below (say file name is bgndblur.xml):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bitmap xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:shape=&quot;rectangle&quot;\nandroid:src=&quot;@drawable/registerscreenbackground&quot; \nandroid:alpha=&quot;0.5&quot;&gt;\n</code></pre>\n<p>Use the below in your layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;....\n android:background=&quot;@drawable/bgndblur&quot;&gt;\n</code></pre>\n<p>Hope this helped.</p>\n"},{"tags":[],"owner":{"account_id":8087376,"reputation":1132,"user_id":6094503,"display_name":"navid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488687663,"creation_date":1487969903,"answer_id":42448159,"question_id":31641973,"body_markdown":"this might not be the most efficient solution but I had to use it since the wasabeef/Blurry library didn&#39;t work for me. this could be handy if you intend to have some getting-blurry animation:\r\n\r\n1- you need to have 2 versions of the picture, normal one and the blurry one u make with photoshop or whatever\r\n\r\n2- set the images fit on each other in your xml, then one of them could be seen and that&#39;s the upper one\r\n\r\n3- set fadeout animation on the upper one:\r\n\r\n    final Animation fadeOut = new AlphaAnimation(1, 0);\r\n            fadeOut.setInterpolator(new AccelerateInterpolator());\r\n            fadeOut.setDuration(1000);\r\n    \r\n    \r\n            fadeOut.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {}\r\n    \r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {upperone.setVisibility(View.GONE);}\r\n    \r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {}\r\n            });\r\n    \r\n            upperone.startAnimation(fadeOut);","title":"How to blur background images in Android","body":"<p>this might not be the most efficient solution but I had to use it since the wasabeef/Blurry library didn't work for me. this could be handy if you intend to have some getting-blurry animation:</p>\n\n<p>1- you need to have 2 versions of the picture, normal one and the blurry one u make with photoshop or whatever</p>\n\n<p>2- set the images fit on each other in your xml, then one of them could be seen and that's the upper one</p>\n\n<p>3- set fadeout animation on the upper one:</p>\n\n<pre><code>final Animation fadeOut = new AlphaAnimation(1, 0);\n        fadeOut.setInterpolator(new AccelerateInterpolator());\n        fadeOut.setDuration(1000);\n\n\n        fadeOut.setAnimationListener(new Animation.AnimationListener() {\n            @Override\n            public void onAnimationStart(Animation animation) {}\n\n            @Override\n            public void onAnimationEnd(Animation animation) {upperone.setVisibility(View.GONE);}\n\n            @Override\n            public void onAnimationRepeat(Animation animation) {}\n        });\n\n        upperone.startAnimation(fadeOut);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2391396,"reputation":22048,"user_id":2091181,"display_name":"Jorge Casariego"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1527573765,"creation_date":1497365840,"answer_id":44525044,"question_id":31641973,"body_markdown":"This is an easy way to blur Images Efficiently with Android&#39;s RenderScript that I found on this [article][1]\r\n\r\n1. Create a Class called BlurBuilder\r\n\r\n        public class BlurBuilder {\r\n          private static final float BITMAP_SCALE = 0.4f;\r\n          private static final float BLUR_RADIUS = 7.5f;\r\n    \r\n          public static Bitmap blur(Context context, Bitmap image) {\r\n            int width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n            int height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n    \r\n            Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\r\n            Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n    \r\n            RenderScript rs = RenderScript.create(context);\r\n            ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n            Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n            Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n            theIntrinsic.setRadius(BLUR_RADIUS);\r\n            theIntrinsic.setInput(tmpIn);\r\n            theIntrinsic.forEach(tmpOut);\r\n            tmpOut.copyTo(outputBitmap);\r\n    \r\n            return outputBitmap;\r\n          }\r\n        }\r\n\r\n2. Copy any image to your drawable folder\r\n\r\n3. Use BlurBuilder in your activity like this:\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.activity_login);\r\n    \r\n            mContainerView = (LinearLayout) findViewById(R.id.container);\r\n            Bitmap originalBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.background);\r\n            Bitmap blurredBitmap = BlurBuilder.blur( this, originalBitmap );\r\n            mContainerView.setBackground(new BitmapDrawable(getResources(), blurredBitmap));\r\n\r\n4.  Renderscript is included into support v8 enabling this answer down to api 8. To enable it using gradle include these lines into your gradle file (from this [answer][2])\r\n\r\n        defaultConfig {\r\n            ...\r\n            renderscriptTargetApi *your target api*\r\n            renderscriptSupportModeEnabled true\r\n        }\r\n\r\n4. Result\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://futurestud.io/tutorials/how-to-blur-images-efficiently-with-androids-renderscript\r\n  [2]: https://stackoverflow.com/a/21052060/2091181\r\n  [3]: https://i.stack.imgur.com/QP8OCm.jpg","title":"How to blur background images in Android","body":"<p>This is an easy way to blur Images Efficiently with Android's RenderScript that I found on this <a href=\"https://futurestud.io/tutorials/how-to-blur-images-efficiently-with-androids-renderscript\" rel=\"noreferrer\">article</a></p>\n\n<ol>\n<li><p>Create a Class called BlurBuilder</p>\n\n<pre><code>public class BlurBuilder {\n  private static final float BITMAP_SCALE = 0.4f;\n  private static final float BLUR_RADIUS = 7.5f;\n\n  public static Bitmap blur(Context context, Bitmap image) {\n    int width = Math.round(image.getWidth() * BITMAP_SCALE);\n    int height = Math.round(image.getHeight() * BITMAP_SCALE);\n\n    Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\n    Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n\n    RenderScript rs = RenderScript.create(context);\n    ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n    Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n    Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n    theIntrinsic.setRadius(BLUR_RADIUS);\n    theIntrinsic.setInput(tmpIn);\n    theIntrinsic.forEach(tmpOut);\n    tmpOut.copyTo(outputBitmap);\n\n    return outputBitmap;\n  }\n}\n</code></pre></li>\n<li><p>Copy any image to your drawable folder</p></li>\n<li><p>Use BlurBuilder in your activity like this:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    setContentView(R.layout.activity_login);\n\n    mContainerView = (LinearLayout) findViewById(R.id.container);\n    Bitmap originalBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.background);\n    Bitmap blurredBitmap = BlurBuilder.blur( this, originalBitmap );\n    mContainerView.setBackground(new BitmapDrawable(getResources(), blurredBitmap));\n</code></pre></li>\n<li><p>Renderscript is included into support v8 enabling this answer down to api 8. To enable it using gradle include these lines into your gradle file (from this <a href=\"https://stackoverflow.com/a/21052060/2091181\">answer</a>)</p>\n\n<pre><code>defaultConfig {\n    ...\n    renderscriptTargetApi *your target api*\n    renderscriptSupportModeEnabled true\n}\n</code></pre></li>\n<li><p>Result</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/QP8OCm.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QP8OCm.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510674531,"creation_date":1510569782,"answer_id":47262444,"question_id":31641973,"body_markdown":"The simplest way to achieve this is given below,\r\n\r\nI)\r\n\r\n    Glide.with(context.getApplicationContext())\r\n                            .load(Your Path)   \r\n                            .override(15, 15) // (change according to your wish)\r\n                            .error(R.drawable.placeholder)\r\n                            .into(image.score);\r\n\r\nelse you can follow the code below..\r\n\r\nII)\r\n\r\n1.Create a class.(Code is given below)\r\n\r\n    public class BlurTransformation extends BitmapTransformation {\r\n    \r\n        private RenderScript rs;\r\n    \r\n        public BlurTransformation(Context context) {\r\n            super( context );\r\n    \r\n            rs = RenderScript.create( context );\r\n        }\r\n    \r\n        @Override\r\n        protected Bitmap transform(BitmapPool pool, Bitmap toTransform, int outWidth, int outHeight) {\r\n            Bitmap blurredBitmap = toTransform.copy( Bitmap.Config.ARGB_8888, true );\r\n    \r\n            // Allocate memory for Renderscript to work with\r\n            Allocation input = Allocation.createFromBitmap(\r\n                rs, \r\n                blurredBitmap, \r\n                Allocation.MipmapControl.MIPMAP_FULL, \r\n                Allocation.USAGE_SHARED\r\n            );\r\n            Allocation output = Allocation.createTyped(rs, input.getType());\r\n    \r\n            // Load up an instance of the specific script that we want to use.\r\n            ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n            script.setInput(input);\r\n    \r\n            // Set the blur radius\r\n            script.setRadius(10);\r\n    \r\n            // Start the ScriptIntrinisicBlur\r\n            script.forEach(output);\r\n    \r\n            // Copy the output to the blurred bitmap\r\n            output.copyTo(blurredBitmap);\r\n    \r\n            toTransform.recycle();\r\n    \r\n            return blurredBitmap;\r\n        }\r\n    \r\n        @Override\r\n        public String getId() {\r\n            return &quot;blur&quot;;\r\n        }\r\n    }\r\n\r\n\r\n2.Set image to ImageView using Glide.\r\n\r\neg:\r\n\r\n    Glide.with(this)\r\n         .load(expertViewDetailsModel.expert.image)\r\n         .asBitmap()\r\n         .transform(new BlurTransformation(this))\r\n         .into(ivBackground);","title":"How to blur background images in Android","body":"<p>The simplest way to achieve this is given below,</p>\n\n<p>I)</p>\n\n<pre><code>Glide.with(context.getApplicationContext())\n                        .load(Your Path)   \n                        .override(15, 15) // (change according to your wish)\n                        .error(R.drawable.placeholder)\n                        .into(image.score);\n</code></pre>\n\n<p>else you can follow the code below..</p>\n\n<p>II)</p>\n\n<p>1.Create a class.(Code is given below)</p>\n\n<pre><code>public class BlurTransformation extends BitmapTransformation {\n\n    private RenderScript rs;\n\n    public BlurTransformation(Context context) {\n        super( context );\n\n        rs = RenderScript.create( context );\n    }\n\n    @Override\n    protected Bitmap transform(BitmapPool pool, Bitmap toTransform, int outWidth, int outHeight) {\n        Bitmap blurredBitmap = toTransform.copy( Bitmap.Config.ARGB_8888, true );\n\n        // Allocate memory for Renderscript to work with\n        Allocation input = Allocation.createFromBitmap(\n            rs, \n            blurredBitmap, \n            Allocation.MipmapControl.MIPMAP_FULL, \n            Allocation.USAGE_SHARED\n        );\n        Allocation output = Allocation.createTyped(rs, input.getType());\n\n        // Load up an instance of the specific script that we want to use.\n        ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n        script.setInput(input);\n\n        // Set the blur radius\n        script.setRadius(10);\n\n        // Start the ScriptIntrinisicBlur\n        script.forEach(output);\n\n        // Copy the output to the blurred bitmap\n        output.copyTo(blurredBitmap);\n\n        toTransform.recycle();\n\n        return blurredBitmap;\n    }\n\n    @Override\n    public String getId() {\n        return \"blur\";\n    }\n}\n</code></pre>\n\n<p>2.Set image to ImageView using Glide.</p>\n\n<p>eg:</p>\n\n<pre><code>Glide.with(this)\n     .load(expertViewDetailsModel.expert.image)\n     .asBitmap()\n     .transform(new BlurTransformation(this))\n     .into(ivBackground);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1597955,"reputation":1441,"user_id":1479610,"accept_rate":83,"display_name":"luttu android"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1626946429,"creation_date":1514265597,"answer_id":47974143,"question_id":31641973,"body_markdown":"You can use:\r\n\r\n```java\r\nGlide.with(getContext()).load(R.mipmap.bg)\r\n     .apply(bitmapTransform(new BlurTransformation(22)))\r\n     .into((ImageView) view.findViewById(R.id.imBg));\r\n```\r\n\r\nThis requires the following addition to your `build.gradle` file:\r\n\r\n```groovy\r\nimplementation &#39;jp.wasabeef:glide-transformations:4.0.0&#39;\r\n```","title":"How to blur background images in Android","body":"<p>You can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Glide.with(getContext()).load(R.mipmap.bg)\n     .apply(bitmapTransform(new BlurTransformation(22)))\n     .into((ImageView) view.findViewById(R.id.imBg));\n</code></pre>\n<p>This requires the following addition to your <code>build.gradle</code> file:</p>\n<pre><code>implementation 'jp.wasabeef:glide-transformations:4.0.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9672685,"reputation":1,"user_id":7177113,"display_name":"Anil Makwana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612356489,"creation_date":1515050557,"answer_id":48090515,"question_id":31641973,"body_markdown":"Try below code..\r\nPut This Code in On Create..\r\n\r\n\r\n     if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n                StrictMode.ThreadPolicy policy =\r\n                        new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                StrictMode.setThreadPolicy(policy);\r\n            }\r\n           Url=&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTIur0ueOsmVmFVmAA-SxcCT7bTodZb3eCNbiShIiP9qWCWk3mDfw&quot;;\r\n    //        Picasso.with(getContext()).load(Url).into(img_profile);\r\n    //        Picasso.with(getContext()).load(Url).into(img_c_profile);\r\n\r\n            bitmap=getBitmapFromURL(Url);\r\n            Bitmap blurred = blurRenderScript(bitmap, 12);//second parametre is radius\r\n            img_profile.setImageBitmap(blurred);\r\n\r\nCreate Below Methods.. Just Copy Past..\r\n\r\n     public static Bitmap getBitmapFromURL(String src) {\r\n            try {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                Bitmap myBitmap = BitmapFactory.decodeStream(input);\r\n                return myBitmap;\r\n            } catch (IOException e) {\r\n                // Log exception\r\n                return null;\r\n            }\r\n        }\r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        private Bitmap blurRenderScript(Bitmap smallBitmap, int radius) {\r\n\r\n            try {\r\n                smallBitmap = RGB565toARGB888(smallBitmap);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n            Bitmap bitmap = Bitmap.createBitmap(\r\n                    smallBitmap.getWidth(), smallBitmap.getHeight(),\r\n                    Bitmap.Config.ARGB_8888);\r\n\r\n            RenderScript renderScript = RenderScript.create(getActivity());\r\n\r\n            Allocation blurInput = Allocation.createFromBitmap(renderScript, smallBitmap);\r\n            Allocation blurOutput = Allocation.createFromBitmap(renderScript, bitmap);\r\n\r\n            ScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(renderScript,\r\n                    Element.U8_4(renderScript));\r\n            blur.setInput(blurInput);\r\n            blur.setRadius(radius); // radius must be 0 &lt; r &lt;= 25\r\n            blur.forEach(blurOutput);\r\n\r\n            blurOutput.copyTo(bitmap);\r\n            renderScript.destroy();\r\n\r\n            return bitmap;\r\n\r\n        }\r\n\r\n        private Bitmap RGB565toARGB888(Bitmap img) throws Exception {\r\n            int numPixels = img.getWidth() * img.getHeight();\r\n            int[] pixels = new int[numPixels];\r\n\r\n            //Get JPEG pixels.  Each int is the color values for one pixel.\r\n            img.getPixels(pixels, 0, img.getWidth(), 0, 0, img.getWidth(), img.getHeight());\r\n\r\n            //Create a Bitmap of the appropriate format.\r\n            Bitmap result = Bitmap.createBitmap(img.getWidth(), img.getHeight(), Bitmap.Config.ARGB_8888);\r\n\r\n            //Set RGB pixels.\r\n            result.setPixels(pixels, 0, result.getWidth(), 0, 0, result.getWidth(), result.getHeight());\r\n            return result;\r\n        }","title":"How to blur background images in Android","body":"<p>Try below code..\nPut This Code in On Create..</p>\n<pre><code> if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n            StrictMode.ThreadPolicy policy =\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n        }\n       Url=&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTIur0ueOsmVmFVmAA-SxcCT7bTodZb3eCNbiShIiP9qWCWk3mDfw&quot;;\n//        Picasso.with(getContext()).load(Url).into(img_profile);\n//        Picasso.with(getContext()).load(Url).into(img_c_profile);\n\n        bitmap=getBitmapFromURL(Url);\n        Bitmap blurred = blurRenderScript(bitmap, 12);//second parametre is radius\n        img_profile.setImageBitmap(blurred);\n</code></pre>\n<p>Create Below Methods.. Just Copy Past..</p>\n<pre><code> public static Bitmap getBitmapFromURL(String src) {\n        try {\n            URL url = new URL(src);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoInput(true);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            Bitmap myBitmap = BitmapFactory.decodeStream(input);\n            return myBitmap;\n        } catch (IOException e) {\n            // Log exception\n            return null;\n        }\n    }\n    @SuppressLint(&quot;NewApi&quot;)\n    private Bitmap blurRenderScript(Bitmap smallBitmap, int radius) {\n\n        try {\n            smallBitmap = RGB565toARGB888(smallBitmap);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n        Bitmap bitmap = Bitmap.createBitmap(\n                smallBitmap.getWidth(), smallBitmap.getHeight(),\n                Bitmap.Config.ARGB_8888);\n\n        RenderScript renderScript = RenderScript.create(getActivity());\n\n        Allocation blurInput = Allocation.createFromBitmap(renderScript, smallBitmap);\n        Allocation blurOutput = Allocation.createFromBitmap(renderScript, bitmap);\n\n        ScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(renderScript,\n                Element.U8_4(renderScript));\n        blur.setInput(blurInput);\n        blur.setRadius(radius); // radius must be 0 &lt; r &lt;= 25\n        blur.forEach(blurOutput);\n\n        blurOutput.copyTo(bitmap);\n        renderScript.destroy();\n\n        return bitmap;\n\n    }\n\n    private Bitmap RGB565toARGB888(Bitmap img) throws Exception {\n        int numPixels = img.getWidth() * img.getHeight();\n        int[] pixels = new int[numPixels];\n\n        //Get JPEG pixels.  Each int is the color values for one pixel.\n        img.getPixels(pixels, 0, img.getWidth(), 0, 0, img.getWidth(), img.getHeight());\n\n        //Create a Bitmap of the appropriate format.\n        Bitmap result = Bitmap.createBitmap(img.getWidth(), img.getHeight(), Bitmap.Config.ARGB_8888);\n\n        //Set RGB pixels.\n        result.setPixels(pixels, 0, result.getWidth(), 0, 0, result.getWidth(), result.getHeight());\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13580354,"reputation":3,"user_id":9796547,"display_name":"Nosiku Minyoi"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1536473679,"creation_date":1534832364,"answer_id":51942687,"question_id":31641973,"body_markdown":"You can quickly get to blur effect by doing the following.\r\n\r\n// Add this to build.gradle app //\r\n\r\n    Compile &#39; com.github.jgabrielfreitas:BlurImageView:1.0.1 &#39;\r\n\r\n// Add to XML\r\n\r\n    &lt;com.jgbrielfreitas.core.BlurImageView\r\n        android:id=&quot;@+id/iv_blur_image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n    /&gt;\r\n\r\n//Add this to java\r\n\r\n    Import com.jgabrielfreitas.core.BlueImageView;\r\n\r\n// Under public class *activity name * //\r\n\r\n    BlurImageView myBlurImage;\r\n\r\n// Under Oncreate//\r\n\r\n    myBlurImage = (ImageView) findViewById(R.id.iv_blur_image)\r\n    MyBlurImage.setBlue(5)\r\n\r\n\r\nI hope that helps someone\r\n","title":"How to blur background images in Android","body":"<p>You can quickly get to blur effect by doing the following.</p>\n\n<p>// Add this to build.gradle app //</p>\n\n<pre><code>Compile ' com.github.jgabrielfreitas:BlurImageView:1.0.1 '\n</code></pre>\n\n<p>// Add to XML</p>\n\n<pre><code>&lt;com.jgbrielfreitas.core.BlurImageView\n    android:id=\"@+id/iv_blur_image\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n/&gt;\n</code></pre>\n\n<p>//Add this to java</p>\n\n<pre><code>Import com.jgabrielfreitas.core.BlueImageView;\n</code></pre>\n\n<p>// Under public class *activity name * //</p>\n\n<pre><code>BlurImageView myBlurImage;\n</code></pre>\n\n<p>// Under Oncreate//</p>\n\n<pre><code>myBlurImage = (ImageView) findViewById(R.id.iv_blur_image)\nMyBlurImage.setBlue(5)\n</code></pre>\n\n<p>I hope that helps someone</p>\n"},{"tags":[],"owner":{"account_id":11733704,"reputation":106,"user_id":8588259,"display_name":"Parth Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576664125,"creation_date":1576664125,"answer_id":59389764,"question_id":31641973,"body_markdown":"you can use Glide for load and transform into blur image,\r\n1) for only one view, \r\n\r\n    val requestOptions = RequestOptions()\r\n                    requestOptions.transform(BlurTransformation(50)) // 0-100\r\n    Glide.with(applicationContext).setDefaultRequestOptions(requestOptions)\r\n                            .load(imageUrl).into(view)\r\n\r\n2) if you are using the adapter to load an image in the item, you should write your code in the if-else block, otherwise, it will make all your images blurry.  \r\n\r\n   \r\n\r\n     if(isBlure){\r\n      val requestOptions = RequestOptions()\r\n                    requestOptions.transform(BlurTransformation(50))\r\n                    Glide.with(applicationContext).setDefaultRequestOptions(requestOptions)\r\n                            .load(imageUrl).into(view )\r\n    }else{\r\n     val requestOptions = RequestOptions()\r\n                Glide.with(applicationContext).setDefaultRequestOptions(requestOptions).load(imageUrl).into(view)\r\n    }\r\n\r\n\r\n \r\n\r\n","title":"How to blur background images in Android","body":"<p>you can use Glide for load and transform into blur image,\n1) for only one view, </p>\n\n<pre><code>val requestOptions = RequestOptions()\n                requestOptions.transform(BlurTransformation(50)) // 0-100\nGlide.with(applicationContext).setDefaultRequestOptions(requestOptions)\n                        .load(imageUrl).into(view)\n</code></pre>\n\n<p>2) if you are using the adapter to load an image in the item, you should write your code in the if-else block, otherwise, it will make all your images blurry.  </p>\n\n<pre><code> if(isBlure){\n  val requestOptions = RequestOptions()\n                requestOptions.transform(BlurTransformation(50))\n                Glide.with(applicationContext).setDefaultRequestOptions(requestOptions)\n                        .load(imageUrl).into(view )\n}else{\n val requestOptions = RequestOptions()\n            Glide.with(applicationContext).setDefaultRequestOptions(requestOptions).load(imageUrl).into(view)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1621922340,"creation_date":1621922340,"answer_id":67682480,"question_id":31641973,"body_markdown":"Android 12, Preview 1 comes with built-in blur feature. We need not depend on external library now. Here is the code\r\n\r\n    imageView.setRenderEffect(\r\n            RenderEffect.createBlurEffect(\r\n                20.0f, 20.0f, SHADER_TITLE_MODE\r\n            )\r\n    )","title":"How to blur background images in Android","body":"<p>Android 12, Preview 1 comes with built-in blur feature. We need not depend on external library now. Here is the code</p>\n<pre><code>imageView.setRenderEffect(\n        RenderEffect.createBlurEffect(\n            20.0f, 20.0f, SHADER_TITLE_MODE\n        )\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635623977,"creation_date":1635623096,"answer_id":69781603,"question_id":31641973,"body_markdown":"**Works only on Android 12 as of now so is not a universal solution yet**\r\n\r\nTo blur a image \r\n\r\n1 Set your target SDK and compile SDK to Android S in build.gradle \r\n\r\n2.Use [Render Effect][1]\r\n\r\n3.set blur as follows\r\n\r\n```\r\nyour_view.setRenderEffect(\r\n     RenderEffect.createBlurEffect(\r\n     30f, //radius X\r\n     30f, //Radius Y\r\n     Shader.TileMode.[X]// X=CLAMP,DECAL,MIRROR,REPEAT\r\n)\r\n```\r\n4.The 4 types of blend mode are\r\n\r\nCLAMP- Replicate the edge color if the shader draws outside of its original bounds\r\n\r\nDECAL- Render the shader&#39;s image pixels only within its original bounds\r\n\r\nMIRROR- Repeat the shader&#39;s image horizontally and vertically, alternating mirror images so that adjacent images always seam.  \r\n\r\nREPEAT - Repeat the shader&#39;s image horizontally and vertically. \r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/RenderEffect","title":"How to blur background images in Android","body":"<p><strong>Works only on Android 12 as of now so is not a universal solution yet</strong></p>\n<p>To blur a image</p>\n<p>1 Set your target SDK and compile SDK to Android S in build.gradle</p>\n<p>2.Use <a href=\"https://developer.android.com/reference/android/graphics/RenderEffect\" rel=\"nofollow noreferrer\">Render Effect</a></p>\n<p>3.set blur as follows</p>\n<pre><code>your_view.setRenderEffect(\n     RenderEffect.createBlurEffect(\n     30f, //radius X\n     30f, //Radius Y\n     Shader.TileMode.[X]// X=CLAMP,DECAL,MIRROR,REPEAT\n)\n</code></pre>\n<p>4.The 4 types of blend mode are</p>\n<p>CLAMP- Replicate the edge color if the shader draws outside of its original bounds</p>\n<p>DECAL- Render the shader's image pixels only within its original bounds</p>\n<p>MIRROR- Repeat the shader's image horizontally and vertically, alternating mirror images so that adjacent images always seam.</p>\n<p>REPEAT - Repeat the shader's image horizontally and vertically.</p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694713271,"creation_date":1649149611,"answer_id":71748983,"question_id":31641973,"body_markdown":"Android 12 (Api level 31) has new Theme parameters to apply for windows to blur background:\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;style name=&quot;BlurryTheme&quot; parent=&quot;...&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackgroundBlurRadius&quot;&gt;30dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBlurBehindEnabled&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBlurBehindRadius&quot;&gt;10dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd also new API for `View` to apply blur effect `android.view.View#setRenderEffect`:\r\n\r\n    imageView.setRenderEffect(\r\n        RenderEffect.createBlurEffect(\r\n            20.0f, 20.0f, Shader.TileMode.CLAMP\r\n        )\r\n    )","title":"How to blur background images in Android","body":"<p>Android 12 (Api level 31) has new Theme parameters to apply for windows to blur background:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;BlurryTheme&quot; parent=&quot;...&quot;&gt;\n    &lt;item name=&quot;android:windowBackgroundBlurRadius&quot;&gt;30dp&lt;/item&gt;\n    &lt;item name=&quot;android:windowBlurBehindEnabled&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowBlurBehindRadius&quot;&gt;10dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>And also new API for <code>View</code> to apply blur effect <code>android.view.View#setRenderEffect</code>:</p>\n<pre><code>imageView.setRenderEffect(\n    RenderEffect.createBlurEffect(\n        20.0f, 20.0f, Shader.TileMode.CLAMP\n    )\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9147242,"reputation":41,"user_id":6802949,"display_name":"codehithesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694713300,"creation_date":1649770793,"answer_id":71843775,"question_id":31641973,"body_markdown":"This worked for me. Tested on Android 9 and 12. Use Glide library to shrink the bitmap.\r\n```\r\n// Glide\r\nimplementation &#39;com.github.bumptech.glide:glide:4.13.0&#39;\r\nkapt &#39;com.github.bumptech.glide:compiler:4.13.0&#39;\r\n```\r\n```\r\nGlide.with(context).asBitmap().load(favorite.coverImage).into(object : CustomTarget&lt;Bitmap&gt;(2, 2) {\r\n                    override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\r\n                        ivContentHolder.setImageDrawable(BitmapDrawable(itemBinding.root.context.resources, resource))\r\n                    }\r\n\r\n                    override fun onLoadCleared(placeholder: Drawable?) {\r\n                        ivContentHolder.setImageDrawable(null)\r\n                    }\r\n```\r\nCustomTarget&lt;Bitmap&gt;(2, 2) is the trick. The lower the value the more the blur effect. Basically its used to shrink the image size. Then all you have to do is set the shrunk bitmap to your imageView. And most important is to set ScaleType of the imageView to CenterCrop.\r\n\r\n```xml\r\n&lt;ImageView\r\n                android:id=&quot;@+id/iv_content_holder&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;96dp&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:src=&quot;@color/purple_700&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n```\r\nThe result will look something like this. [Blur Effect Demo][1]\r\n[![iOS like Blur effect][2]][2]\r\n\r\n\r\n  [1]: https://github.com/Singularity-Coder/Ideal-API-Call\r\n  [2]: https://i.stack.imgur.com/EsdnR.png","title":"How to blur background images in Android","body":"<p>This worked for me. Tested on Android 9 and 12. Use Glide library to shrink the bitmap.</p>\n<pre><code>// Glide\nimplementation 'com.github.bumptech.glide:glide:4.13.0'\nkapt 'com.github.bumptech.glide:compiler:4.13.0'\n</code></pre>\n<pre><code>Glide.with(context).asBitmap().load(favorite.coverImage).into(object : CustomTarget&lt;Bitmap&gt;(2, 2) {\n                    override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n                        ivContentHolder.setImageDrawable(BitmapDrawable(itemBinding.root.context.resources, resource))\n                    }\n\n                    override fun onLoadCleared(placeholder: Drawable?) {\n                        ivContentHolder.setImageDrawable(null)\n                    }\n</code></pre>\n<p>CustomTarget(2, 2) is the trick. The lower the value the more the blur effect. Basically its used to shrink the image size. Then all you have to do is set the shrunk bitmap to your imageView. And most important is to set ScaleType of the imageView to CenterCrop.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ImageView\n                android:id=&quot;@+id/iv_content_holder&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;96dp&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:src=&quot;@color/purple_700&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>The result will look something like this. <a href=\"https://github.com/Singularity-Coder/Ideal-API-Call\" rel=\"nofollow noreferrer\">Blur Effect Demo</a>\n<a href=\"https://i.stack.imgur.com/EsdnR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsdnR.png\" alt=\"iOS like Blur effect\" /></a></p>\n"}],"owner":{"account_id":3127704,"reputation":4966,"user_id":2646261,"accept_rate":78,"display_name":"heloisasim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196764,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":31642143,"answer_count":14,"score":79,"last_activity_date":1694713763,"creation_date":1437944906,"question_id":31641973,"body_markdown":"What is the best way to blur background images like the image below? I saw some code and libraries but their are a couple of years old or like BlurBehind library, but it doesn&#39;t give the same effect.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9hKc5.png","title":"How to blur background images in Android","body":"<p>What is the best way to blur background images like the image below? I saw some code and libraries but their are a couple of years old or like BlurBehind library, but it doesn't give the same effect.</p>\n<p><a href=\"https://i.stack.imgur.com/9hKc5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hKc5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":2,"creation_date":1659633734,"post_id":73239953,"comment_id":129346857,"body_markdown":"What have you tried so far? Code also helps in replying.","body":"What have you tried so far? Code also helps in replying."}],"answers":[{"tags":[],"owner":{"account_id":22572634,"reputation":61,"user_id":16758600,"display_name":"Jackson Brienen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659635315,"creation_date":1659635315,"answer_id":73240274,"question_id":73239953,"body_markdown":"With little code I can&#39;t get an exact feel, but finding the lowest cost index would work like so:\r\n```java\r\nList&lt;String&gt; brandNames = /*some initialization*/;\r\nList&lt;Integer&gt; brandCosts = /*some initialization*/;\r\n\r\nint cheapestIndex = 0;\r\n// can start from first index because we are already storing index 0 by default\r\nfor(int i=1; i&lt;brandCosts.size(); i++)\r\n    if(brandCosts.get(i) &lt; brandCosts.get(cheapestIndex))\r\n        cheapestIndex = i;\r\nSystem.out.println(&quot;Cheapest Brand: &quot; + brandNames.get(cheapestIndex));\r\n```","title":"How to print lowest price brand name in search results","body":"<p>With little code I can't get an exact feel, but finding the lowest cost index would work like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; brandNames = /*some initialization*/;\nList&lt;Integer&gt; brandCosts = /*some initialization*/;\n\nint cheapestIndex = 0;\n// can start from first index because we are already storing index 0 by default\nfor(int i=1; i&lt;brandCosts.size(); i++)\n    if(brandCosts.get(i) &lt; brandCosts.get(cheapestIndex))\n        cheapestIndex = i;\nSystem.out.println(&quot;Cheapest Brand: &quot; + brandNames.get(cheapestIndex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25927612,"reputation":41,"user_id":19649258,"display_name":"JAIME RAFAEL DE C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694713652,"creation_date":1659640882,"answer_id":73241270,"question_id":73239953,"body_markdown":"One way would be the following, as long as the values are sorted in both arrays. it is recommended to implement two-dimensional arrays.\r\n\r\n    String[] products = {&quot;lenovo&quot;, &quot;huawei&quot;, &quot;oppo&quot;, &quot;hp&quot;, &quot;mac&quot;, &quot;msi&quot;, &quot;asus&quot;, &quot;dell&quot;};\r\n    int[] price = {4500000, 1700000, 6500000, 1000000, 3000000, 14000000, 183000000, 44000000};\r\n    \r\n    int lowerValue = 0;\r\n    int position = 0;\r\n    \r\n    for (int i = 1; i &lt; price.length; i++) {\r\n        if (price[i] &lt; lowerValue) {\r\n            lowerValue = price[i];\r\n            position = i;\r\n        }\r\n    }\r\n    System.out.println(&quot;the cheapest product is: &quot; + products[position] + &quot; with a price of: &quot;+price[position]);","title":"How to print lowest price brand name in search results","body":"<p>One way would be the following, as long as the values are sorted in both arrays. it is recommended to implement two-dimensional arrays.</p>\n<pre><code>String[] products = {&quot;lenovo&quot;, &quot;huawei&quot;, &quot;oppo&quot;, &quot;hp&quot;, &quot;mac&quot;, &quot;msi&quot;, &quot;asus&quot;, &quot;dell&quot;};\nint[] price = {4500000, 1700000, 6500000, 1000000, 3000000, 14000000, 183000000, 44000000};\n\nint lowerValue = 0;\nint position = 0;\n\nfor (int i = 1; i &lt; price.length; i++) {\n    if (price[i] &lt; lowerValue) {\n        lowerValue = price[i];\n        position = i;\n    }\n}\nSystem.out.println(&quot;the cheapest product is: &quot; + products[position] + &quot; with a price of: &quot;+price[position]);\n</code></pre>\n"}],"owner":{"account_id":25937915,"reputation":1,"user_id":19657854,"display_name":"Krishna Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694713652,"creation_date":1659633429,"question_id":73239953,"body_markdown":"I have all prices in a list and all titles in a list from this two list i want to get lowest price brand name for that which condition i need to use ","title":"How to print lowest price brand name in search results","body":"<p>I have all prices in a list and all titles in a list from this two list i want to get lowest price brand name for that which condition i need to use</p>\n"},{"tags":["java","rest","dropwizard","jdbi"],"comments":[{"owner":{"account_id":1001434,"reputation":311,"user_id":1016197,"display_name":"unSinn"},"score":0,"creation_date":1459523895,"post_id":36359708,"comment_id":60339453,"body_markdown":"I don&#39;t think so, he has list of parameters of type `Long` (which shouldn&#39;t be able to be used for injection wizardry ;) ) and `@BindIn` seems to use PreparedStatements which `@Define` (as far as I understood) does not.","body":"I don&#39;t think so, he has list of parameters of type <code>Long</code> (which shouldn&#39;t be able to be used for injection wizardry ;) ) and <code>@BindIn</code> seems to use PreparedStatements which <code>@Define</code> (as far as I understood) does not."}],"answers":[{"tags":[],"owner":{"account_id":36444,"reputation":12584,"user_id":103959,"accept_rate":100,"display_name":"Jean-Bernard Pellerin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459526455,"creation_date":1459526455,"answer_id":36360821,"question_id":36359708,"body_markdown":"Use a parameterized query. [Here](http://jdbi.org/sql_object_api_argument_binding/) is the jdbi page for them.  \r\nParameterized queries are the way to prevent sql injection in most settings.\r\n\r\nYou can dynamically create the where statement, but leave parameter names instead of values, they will be bound later, in a safe way.\r\n\r\nYou would probably be interested in this bit specifically, since your parameters are dynamic:\r\n\r\n    @BindingAnnotation(BindSomething.SomethingBinderFactory.class)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.PARAMETER})\r\n    public @interface BindSomething \r\n    { \r\n    \r\n      public static class SomethingBinderFactory implements BinderFactory\r\n      {\r\n        public Binder build(Annotation annotation)\r\n        {\r\n          return new Binder&lt;BindSomething, Something&gt;()\r\n          {\r\n            public void bind(SQLStatement q, BindSomething bind, Something arg)\r\n            {\r\n              q.bind(&quot;ident&quot;, arg.getId());\r\n              q.bind(&quot;nom&quot;, arg.getName());\r\n            }\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;ve never used jdbi so I&#39;m not 100% sure what you&#39;d have to do, but it looks like the q.bind(...) method is exactly what you want.","title":"JDBI How can I dynamically create a WHERE clause while preventing SQL Injection?","body":"<p>Use a parameterized query. <a href=\"http://jdbi.org/sql_object_api_argument_binding/\" rel=\"nofollow\">Here</a> is the jdbi page for them.<br>\nParameterized queries are the way to prevent sql injection in most settings.</p>\n\n<p>You can dynamically create the where statement, but leave parameter names instead of values, they will be bound later, in a safe way.</p>\n\n<p>You would probably be interested in this bit specifically, since your parameters are dynamic:</p>\n\n<pre><code>@BindingAnnotation(BindSomething.SomethingBinderFactory.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER})\npublic @interface BindSomething \n{ \n\n  public static class SomethingBinderFactory implements BinderFactory\n  {\n    public Binder build(Annotation annotation)\n    {\n      return new Binder&lt;BindSomething, Something&gt;()\n      {\n        public void bind(SQLStatement q, BindSomething bind, Something arg)\n        {\n          q.bind(\"ident\", arg.getId());\n          q.bind(\"nom\", arg.getName());\n        }\n      };\n    }\n  }\n}\n</code></pre>\n\n<p>I've never used jdbi so I'm not 100% sure what you'd have to do, but it looks like the q.bind(...) method is exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":1001434,"reputation":311,"user_id":1016197,"display_name":"unSinn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1523400760,"creation_date":1459619603,"answer_id":36376835,"question_id":36359708,"body_markdown":"[Inspired by Jean-Bernard][1] I came up with this:\r\n\r\n    public class WhereClause {\r\n        public HashMap&lt;String, String&gt; queryValues; // [&lt;&quot;foo&quot;,&quot;bar&quot;&gt;, &lt;&quot;baz&quot;,&quot;taz&quot;&gt;]\r\n        public String preparedString; // &quot;WHERE foo=:foo AND bar=:baz&quot;\r\n    }\r\n\r\nWhich is bound via a custom Binder `BindWhereClause`:\r\n\r\n    @BindingAnnotation(BindWhereClause.WhereClauseBinderFactory.class)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.PARAMETER})\r\n    public @interface BindWhereClause {\r\n        class WhereClauseBinderFactory implements BinderFactory {\r\n            public Binder build(Annotation annotation) {\r\n                return new Binder&lt;BindWhereClause, WhereClause&gt;() {\r\n                    public void bind(SQLStatement q, BindWhereClause bind, WhereClause clause) {\r\n                        clause.queryValues\r\n                                .keySet()\r\n                                .forEach(s -&gt; q.bind(s, clause.queryValues.get(s)));\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\nAnd a combination of `@Define` and `@Bind`:\r\n\r\n    @UseStringTemplate3StatementLocator\r\n    public interface ThingDAO {\r\n       @SqlQuery(&quot;SELECT * FROM things &lt;where&gt;&quot;)\r\n       List&lt;Thing&gt; findThingsWhere(@Define(&quot;where&quot;) String where, \r\n                                   @BindWhereClause() WhereClause whereClause);\r\n    }\r\n\r\nThis should be injection proof. (is it?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36360821/2308683","title":"JDBI How can I dynamically create a WHERE clause while preventing SQL Injection?","body":"<p><a href=\"https://stackoverflow.com/a/36360821/2308683\">Inspired by Jean-Bernard</a> I came up with this:</p>\n\n<pre><code>public class WhereClause {\n    public HashMap&lt;String, String&gt; queryValues; // [&lt;\"foo\",\"bar\"&gt;, &lt;\"baz\",\"taz\"&gt;]\n    public String preparedString; // \"WHERE foo=:foo AND bar=:baz\"\n}\n</code></pre>\n\n<p>Which is bound via a custom Binder <code>BindWhereClause</code>:</p>\n\n<pre><code>@BindingAnnotation(BindWhereClause.WhereClauseBinderFactory.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER})\npublic @interface BindWhereClause {\n    class WhereClauseBinderFactory implements BinderFactory {\n        public Binder build(Annotation annotation) {\n            return new Binder&lt;BindWhereClause, WhereClause&gt;() {\n                public void bind(SQLStatement q, BindWhereClause bind, WhereClause clause) {\n                    clause.queryValues\n                            .keySet()\n                            .forEach(s -&gt; q.bind(s, clause.queryValues.get(s)));\n                }\n            };\n        }\n    }\n}\n</code></pre>\n\n<p>And a combination of <code>@Define</code> and <code>@Bind</code>:</p>\n\n<pre><code>@UseStringTemplate3StatementLocator\npublic interface ThingDAO {\n   @SqlQuery(\"SELECT * FROM things &lt;where&gt;\")\n   List&lt;Thing&gt; findThingsWhere(@Define(\"where\") String where, \n                               @BindWhereClause() WhereClause whereClause);\n}\n</code></pre>\n\n<p>This should be injection proof. (is it?)</p>\n"},{"tags":[],"owner":{"account_id":3090602,"reputation":4312,"user_id":2616780,"display_name":"Andres Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694713560,"creation_date":1694713560,"answer_id":77107314,"question_id":36359708,"body_markdown":"I know this is old but here is my solutions with JDBI3 version and DAO class.\r\n\r\n    public interface MyEntityDAO extends SqlObject {\r\n\r\n        default List&lt;MyEntity&gt; searchEntitiesWithDynamicWhere(Map&lt;String, Object&gt; queryParams) {\r\n            String whereClause = buildWhereClause(queryParams);\r\n            return searchEntities(queryParams, whereClause);\r\n        }\r\n        \r\n        @SqlQuery(&quot;SELECT * FROM my_table &lt;whereClause&gt;&quot;)\r\n        List&lt;MyEntity&gt; searchEntities(@BindMap Map&lt;String, Object&gt; queryParams, @Define(&quot;whereClause&quot;) String whereClause);\r\n\r\n        default String buildWhereClause(Map&lt;String, Object&gt; queryParams) {\r\n            StringBuilder whereClause = new StringBuilder();\r\n\r\n            if (!queryParams.isEmpty()) {\r\n                whereClause.append(&quot; WHERE &quot;);\r\n\r\n                for (Map.Entry&lt;String, Object&gt; entry : queryParams.entrySet()) {\r\n                    if (whereClause.length() &gt; &quot; WHERE &quot;.length()) {\r\n                        whereClause.append(&quot; AND &quot;);\r\n                    }\r\n\r\n                    whereClause.append(entry.getKey()).append(&quot; = :&quot;).append(entry.getKey());\r\n                }\r\n            }\r\n\r\n            return whereClause.toString();\r\n        }\r\n    }","title":"JDBI How can I dynamically create a WHERE clause while preventing SQL Injection?","body":"<p>I know this is old but here is my solutions with JDBI3 version and DAO class.</p>\n<pre><code>public interface MyEntityDAO extends SqlObject {\n\n    default List&lt;MyEntity&gt; searchEntitiesWithDynamicWhere(Map&lt;String, Object&gt; queryParams) {\n        String whereClause = buildWhereClause(queryParams);\n        return searchEntities(queryParams, whereClause);\n    }\n    \n    @SqlQuery(&quot;SELECT * FROM my_table &lt;whereClause&gt;&quot;)\n    List&lt;MyEntity&gt; searchEntities(@BindMap Map&lt;String, Object&gt; queryParams, @Define(&quot;whereClause&quot;) String whereClause);\n\n    default String buildWhereClause(Map&lt;String, Object&gt; queryParams) {\n        StringBuilder whereClause = new StringBuilder();\n\n        if (!queryParams.isEmpty()) {\n            whereClause.append(&quot; WHERE &quot;);\n\n            for (Map.Entry&lt;String, Object&gt; entry : queryParams.entrySet()) {\n                if (whereClause.length() &gt; &quot; WHERE &quot;.length()) {\n                    whereClause.append(&quot; AND &quot;);\n                }\n\n                whereClause.append(entry.getKey()).append(&quot; = :&quot;).append(entry.getKey());\n            }\n        }\n\n        return whereClause.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1001434,"reputation":311,"user_id":1016197,"display_name":"unSinn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8313,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":36376835,"answer_count":3,"score":9,"last_activity_date":1694713560,"creation_date":1459523052,"question_id":36359708,"body_markdown":"I want to dynamically filter a JDBI query.\r\n\r\nThe a list of parameters is passed from the UI via REST e.g.\r\n \r\n    http://localhost/things?foo=bar&amp;baz=taz\r\n    http://localhost/things?foo=buz\r\n\r\n\r\nWhich is (clumsily) built (Jersey @Context UriInfo::getQueryParameters -&gt; StringBuilder) to something like this:\r\n\r\n    WHERE foo=bar AND baz=taz\r\n\r\nAnd passed to JDBI which looks like this:\r\n\r\n    @UseStringTemplate3StatementLocator\r\n    public interface ThingDAO {\r\n       @SqlQuery(&quot;SELECT * FROM things &lt;where&gt;)\r\n       List&lt;Thing&gt; findThingsWhere(@Define(&quot;where&quot;) String where);\r\n    }\r\n\r\nAs far as I understand the current implementation is vulnerable to SQL injection.\r\nI can obviously sanitize the column names but not the values. [1]\r\n\r\nThere must be a more elegant and SQL Injection proof way of doing this.\r\n\r\n[1]: https://stackoverflow.com/questions/16790529/dynamic-order-in-jdbi-sql-object-queries","title":"JDBI How can I dynamically create a WHERE clause while preventing SQL Injection?","body":"<p>I want to dynamically filter a JDBI query.</p>\n\n<p>The a list of parameters is passed from the UI via REST e.g.</p>\n\n<pre><code>http://localhost/things?foo=bar&amp;baz=taz\nhttp://localhost/things?foo=buz\n</code></pre>\n\n<p>Which is (clumsily) built (Jersey @Context UriInfo::getQueryParameters -> StringBuilder) to something like this:</p>\n\n<pre><code>WHERE foo=bar AND baz=taz\n</code></pre>\n\n<p>And passed to JDBI which looks like this:</p>\n\n<pre><code>@UseStringTemplate3StatementLocator\npublic interface ThingDAO {\n   @SqlQuery(\"SELECT * FROM things &lt;where&gt;)\n   List&lt;Thing&gt; findThingsWhere(@Define(\"where\") String where);\n}\n</code></pre>\n\n<p>As far as I understand the current implementation is vulnerable to SQL injection.\nI can obviously sanitize the column names but not the values. <a href=\"https://stackoverflow.com/questions/16790529/dynamic-order-in-jdbi-sql-object-queries\">1</a></p>\n\n<p>There must be a more elegant and SQL Injection proof way of doing this.</p>\n"},{"tags":["java","algorithm","optimization","big-o","combinations"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670945783,"post_id":74787272,"comment_id":131987703,"body_markdown":"You thought of optimizations for asking &quot;do they add up to 60&quot;. Replacing each entry in the array with its value mod 60 is a single non-nested loop. So if the optimization is sufficiently useful, then doing that preprocessing step would improve the overall runtime. Generally speaking these kinds of optimizations problems are NOT an excercise in &quot;how do I execute the brute force attempt the fastest&quot; but of &quot;how do I avoid doing most of the work&quot;.","body":"You thought of optimizations for asking &quot;do they add up to 60&quot;. Replacing each entry in the array with its value mod 60 is a single non-nested loop. So if the optimization is sufficiently useful, then doing that preprocessing step would improve the overall runtime. Generally speaking these kinds of optimizations problems are NOT an excercise in &quot;how do I execute the brute force attempt the fastest&quot; but of &quot;how do I avoid doing most of the work&quot;."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670945890,"post_id":74787272,"comment_id":131987736,"body_markdown":"Another possible optimization: there are only 60 possible interesting values. In a single loop you can count how many values are 0 mod 60, 1 mod 60, 2 mod 60, ... 59 mod 60. Then in another simple loop you can calculate the result from that fixed-sized array.","body":"Another possible optimization: there are only 60 possible interesting values. In a single loop you can count how many values are 0 mod 60, 1 mod 60, 2 mod 60, ... 59 mod 60. Then in another simple loop you can calculate the result from that fixed-sized array."},{"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"score":0,"creation_date":1670946855,"post_id":74787272,"comment_id":131988085,"body_markdown":"I actually tried the first step also, and it didn&#39;t help me. The second one is very interesting.","body":"I actually tried the first step also, and it didn&#39;t help me. The second one is very interesting."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1671202428,"post_id":74787272,"comment_id":132054842,"body_markdown":"In the first loop, you can test `i&lt;nums.size()-1`.","body":"In the first loop, you can test <code>i&lt;nums.size()-1</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671202413,"creation_date":1671147093,"answer_id":74818688,"question_id":74787272,"body_markdown":"# Mistakes explained\r\n\r\n&gt; This code was correct, however the testing software failed some hidden test cases where the list of nums was 10000 because of &quot;time out&quot;, meaning that it took too long.\r\n\r\nI would not say that the code is correct (since there&#39;s a flaw in it), rather you had no opportunity to see it failing on a small input.\r\n\r\nIn the inner `for`-loop you&#39;re initializing the staring value of the index `j` to `i` - `int j = i`. Which means at the first iteration of the inner loop, you&#39;re adding an element to ***itself***: `nums.get(i) + nums.get(j)` and then checking whether it&#39;s divisible by `60`.\r\n\r\nThat&#39;s might lead to invalid results. Inner loop should start with `j = i + 1`. With this fix, you&#39;ll get a correct brute-force solution.\r\n\r\nThe second issue - **terminology**.\r\n\r\nWhat your code is counting are **not** [*Permutations*][permutations], **but** [*Combinations*][combinations] of pairs of elements (it&#39;s not an academical spreading of hairs, the result would be different).\r\n\r\nAs a simple illustration, suppose the input is `[1,2,3]`, and we need Combinations of pairs of elements that are divisible by `3`. There&#39;s only one Combination: `[1,2]`, but two Permutations: `[1,2]` and `[2,1]`.\r\n\r\nBecause in your brute-force solution `i &lt; j` always holds true, it&#39;s not capable of generating Permutations (since it doesn&#39;t revisit the same indices in the inner loop it can only consider `[i,j]`, but not `[j,i]`), and it produces the number of Combinations.\r\n\r\nNow when the problem statement is clarified: *&quot;Find the number of Combinations pairs that are divisible by the given number&quot;*, let&#39;s get to the actual solution.\r\n\r\n# Solution\r\n\r\nAs *@Joachim Sauer* has pointed out in the comments, the first step in addressing this problem is to create an array of frequencies of array elements `% 60` (like in the first phase of the Counting sort algorithm).\r\n\r\nThen we have two cases:\r\n\r\n* When considering remainder from divisions by `60` in the union ranges `[1,29]∪[31,59]` we need to calculate a [*Cartesian product*][cartesianProduct] of frequencies of the corresponding remainders and add it to the total. I.e. `frequency(1)xfrequency(59)`, `frequency(2)xfrequency(58)`, ... all the way up to `frequency(29)xfrequency(31)`. **Note** that we shouldn&#39;t touch `frequency(0)` and `frequency(30)` (they need to be treated separately), we should not double count the product, i.e. we should not consider reversed combinations like `frequency(59)xfrequency(1)`.\r\n\r\n* Combinations `frequency(0)` and `frequency(30)` are a special case because we can combine them only with themselves. And for both cases, we need to calculate a *Binomial coefficient* according to the following formula:\r\n\r\n[![Binomial coefficient - n! / k! (n - k)! ][binomial]][binomial]\r\n\r\nWhere `n` is the number of frequencies (for `0` or for `30`), and `k` is the number of elements in the combination, which is always equal to `2`.\r\n\r\nThat&#39;s how the implementation might look like (*to simplify testing, divisor `60` is not hard-coded, but provided as a method parameter*):\r\n\r\n    public static long getPairCount(List&lt;Integer&gt; list, int divisor) {\r\n        int[] freq = new int[divisor]; // frequencies of modulus of array elements\r\n        for (int next : list) freq[next % divisor]++;\r\n        \r\n        long count = 0;\r\n        for (int left = 1, right = divisor - 1; left &lt; divisor / 2 + divisor % 2; left++, right--) {\r\n            count += ((long) freq[left]) * freq[right]; // a cartesian product gives a number of ways to form a pair\r\n        }\r\n        // Special cases: remainder 0 and remainder divisor / 2 - now with dialing with pure Combinations\r\n        // and instead Cartesian product a Binomial coefficient needs to be calculated\r\n        if (freq[0] &gt; 1) count += binomialCoefficient(freq[0], 2 );\r\n        if (divisor % 2 == 0 &amp;&amp; freq[divisor / 2] &gt; 1) count += binomialCoefficient(divisor / 2, 2 ); // should be only considered if divisor is\r\n        return count;\r\n    }\r\n    \r\n    public static long binomialCoefficient(int n, int k) {\r\n        \r\n        return factorial(n) / (k * factorial(n - k));\r\n    }\r\n    \r\n    public static long factorial(int num) {\r\n        long result = 1;\r\n        for (int i = 1; i &lt;= num; i++) result *= i;\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getPairCount(List.of(1, 2, 3), 3)); // [1, 2]\r\n        System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5), 7)); // [2, 5] x 2, [3, 4] x 2\r\n        System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5), 5)); // [2, 3] x 4, [1, 4] x 2\r\n        System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5, 5), 5)); // [2, 3] x 4, [1, 4] x 2, [5, 5]\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n1   // [1, 2]\r\n4   // [2, 5] x 2, [3, 4] x 2\r\n6   // [2, 3] x 4, [1, 4] x 2\r\n7   // [2, 3] x 4, [1, 4] x 2, [5, 5]\r\n```\r\n\r\n\r\n\r\n   [permutations]: https://en.wikipedia.org/wiki/Permutation\r\n\r\n   [combinations]: https://en.wikipedia.org/wiki/Combination\r\n\r\n   [cartesianProduct]: https://en.wikipedia.org/wiki/Cartesian_product\r\n\r\n\r\n   [binomial]: https://i.stack.imgur.com/lZ5wJm.png","title":"Calculating the Number of Pairs of elements in a List that produce a Sum divisible by 60 - reduce the Time Complexity","body":"<h1>Mistakes explained</h1>\n<blockquote>\n<p>This code was correct, however the testing software failed some hidden test cases where the list of nums was 10000 because of &quot;time out&quot;, meaning that it took too long.</p>\n</blockquote>\n<p>I would not say that the code is correct (since there's a flaw in it), rather you had no opportunity to see it failing on a small input.</p>\n<p>In the inner <code>for</code>-loop you're initializing the staring value of the index <code>j</code> to <code>i</code> - <code>int j = i</code>. Which means at the first iteration of the inner loop, you're adding an element to <em><strong>itself</strong></em>: <code>nums.get(i) + nums.get(j)</code> and then checking whether it's divisible by <code>60</code>.</p>\n<p>That's might lead to invalid results. Inner loop should start with <code>j = i + 1</code>. With this fix, you'll get a correct brute-force solution.</p>\n<p>The second issue - <strong>terminology</strong>.</p>\n<p>What your code is counting are <strong>not</strong> <a href=\"https://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow noreferrer\"><em>Permutations</em></a>, <strong>but</strong> <a href=\"https://en.wikipedia.org/wiki/Combination\" rel=\"nofollow noreferrer\"><em>Combinations</em></a> of pairs of elements (it's not an academical spreading of hairs, the result would be different).</p>\n<p>As a simple illustration, suppose the input is <code>[1,2,3]</code>, and we need Combinations of pairs of elements that are divisible by <code>3</code>. There's only one Combination: <code>[1,2]</code>, but two Permutations: <code>[1,2]</code> and <code>[2,1]</code>.</p>\n<p>Because in your brute-force solution <code>i &lt; j</code> always holds true, it's not capable of generating Permutations (since it doesn't revisit the same indices in the inner loop it can only consider <code>[i,j]</code>, but not <code>[j,i]</code>), and it produces the number of Combinations.</p>\n<p>Now when the problem statement is clarified: <em>&quot;Find the number of Combinations pairs that are divisible by the given number&quot;</em>, let's get to the actual solution.</p>\n<h1>Solution</h1>\n<p>As <em>@Joachim Sauer</em> has pointed out in the comments, the first step in addressing this problem is to create an array of frequencies of array elements <code>% 60</code> (like in the first phase of the Counting sort algorithm).</p>\n<p>Then we have two cases:</p>\n<ul>\n<li><p>When considering remainder from divisions by <code>60</code> in the union ranges <code>[1,29]∪[31,59]</code> we need to calculate a <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\"><em>Cartesian product</em></a> of frequencies of the corresponding remainders and add it to the total. I.e. <code>frequency(1)xfrequency(59)</code>, <code>frequency(2)xfrequency(58)</code>, ... all the way up to <code>frequency(29)xfrequency(31)</code>. <strong>Note</strong> that we shouldn't touch <code>frequency(0)</code> and <code>frequency(30)</code> (they need to be treated separately), we should not double count the product, i.e. we should not consider reversed combinations like <code>frequency(59)xfrequency(1)</code>.</p>\n</li>\n<li><p>Combinations <code>frequency(0)</code> and <code>frequency(30)</code> are a special case because we can combine them only with themselves. And for both cases, we need to calculate a <em>Binomial coefficient</em> according to the following formula:</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/lZ5wJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZ5wJm.png\" alt=\"Binomial coefficient - n! / k! (n - k)! \" /></a></p>\n<p>Where <code>n</code> is the number of frequencies (for <code>0</code> or for <code>30</code>), and <code>k</code> is the number of elements in the combination, which is always equal to <code>2</code>.</p>\n<p>That's how the implementation might look like (<em>to simplify testing, divisor <code>60</code> is not hard-coded, but provided as a method parameter</em>):</p>\n<pre><code>public static long getPairCount(List&lt;Integer&gt; list, int divisor) {\n    int[] freq = new int[divisor]; // frequencies of modulus of array elements\n    for (int next : list) freq[next % divisor]++;\n    \n    long count = 0;\n    for (int left = 1, right = divisor - 1; left &lt; divisor / 2 + divisor % 2; left++, right--) {\n        count += ((long) freq[left]) * freq[right]; // a cartesian product gives a number of ways to form a pair\n    }\n    // Special cases: remainder 0 and remainder divisor / 2 - now with dialing with pure Combinations\n    // and instead Cartesian product a Binomial coefficient needs to be calculated\n    if (freq[0] &gt; 1) count += binomialCoefficient(freq[0], 2 );\n    if (divisor % 2 == 0 &amp;&amp; freq[divisor / 2] &gt; 1) count += binomialCoefficient(divisor / 2, 2 ); // should be only considered if divisor is\n    return count;\n}\n\npublic static long binomialCoefficient(int n, int k) {\n    \n    return factorial(n) / (k * factorial(n - k));\n}\n\npublic static long factorial(int num) {\n    long result = 1;\n    for (int i = 1; i &lt;= num; i++) result *= i;\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getPairCount(List.of(1, 2, 3), 3)); // [1, 2]\n    System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5), 7)); // [2, 5] x 2, [3, 4] x 2\n    System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5), 5)); // [2, 3] x 4, [1, 4] x 2\n    System.out.println(getPairCount(List.of(1, 2, 3, 1, 2, 3, 4, 5, 5), 5)); // [2, 3] x 4, [1, 4] x 2, [5, 5]\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1   // [1, 2]\n4   // [2, 5] x 2, [3, 4] x 2\n6   // [2, 3] x 4, [1, 4] x 2\n7   // [2, 3] x 4, [1, 4] x 2, [5, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26862468,"reputation":1,"user_id":20445712,"display_name":"Igor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671150352,"creation_date":1671150352,"answer_id":74819004,"question_id":74787272,"body_markdown":"   get this code\r\n\r\n     public static int getPairs(List&lt;Integer&gt; nums, int divisor) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; nums.size(); i++) {\r\n            if (i == divisor) {\r\n              result++;\r\n            } else {\r\n              int j = 60 - i;\r\n              if (nums.contains(j)) {\r\n                result++;\r\n              }\r\n            }\r\n        }\r\n        return result;\r\n      }","title":"Calculating the Number of Pairs of elements in a List that produce a Sum divisible by 60 - reduce the Time Complexity","body":"<p>get this code</p>\n<pre><code> public static int getPairs(List&lt;Integer&gt; nums, int divisor) {\n    int result = 0;\n    for (int i = 0; i &lt; nums.size(); i++) {\n        if (i == divisor) {\n          result++;\n        } else {\n          int j = 60 - i;\n          if (nums.contains(j)) {\n            result++;\n          }\n        }\n    }\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29438999,"reputation":1,"user_id":22557362,"display_name":"codeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694713479,"creation_date":1694678299,"answer_id":77102846,"question_id":74787272,"body_markdown":"The question is asking for reduced time complexity. May be for a solution with O(n) time complexity instead of n squared. I did get this question in a recent interview but failed to complete it on time. Did work on the solution offline, which is given below.\r\n```\r\nimport java.util.*;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; numbers = List.of(10,20,-30,10,40,30,10,0);\r\n        \r\n        System.out.println(checkSum(numbers, 20));\r\n    }\r\n    public static int checkSum(List&lt;Integer&gt; numbers, int targetMultiple) {\r\n\r\n       /*The Map contains the num already seen in the list along \r\n       with how many times it was seen\r\n       if targetMultiple is non 0 then we save the remainder instead of \r\n       num along with count seen.*/\r\n       Map&lt;Integer,Integer&gt; diffMap = new HashMap&lt;&gt;();\r\n\r\n        // sign does not matter as we are checking for multiples\r\n        targetMultiple = Math.abs(targetMultiple);\r\n\r\n        int total = 0;\r\n\r\n        for (int num : numbers) {\r\n         \r\n            int remainder = targetMultiple != 0? num % targetMultiple : num;\r\n            int diff = targetMultiple - remainder;\r\n            int remainderDiff = remainder * -1;\r\n\r\n            // check existence of possible sum satisfying the required condition\r\n\r\n            // sum adding up to 0 is also a multiple \r\n            Integer negRemainderCount = diffMap.get(remainderDiff);\r\n            if (negRemainderCount != null ) {\r\n                total += negRemainderCount;\r\n            } \r\n\r\n            // sum adding to target multiple. Avoid duplicate checks, for example\r\n            //these will be same when targetMultiple is 0.\r\n            if (diff != remainderDiff ) {\r\n                Integer diffCount = diffMap.get(diff);\r\n                if (diffCount != null ) {\r\n                    total += diffCount;\r\n                }\r\n            }\r\n            \r\n            // store current remainder in map\r\n            Integer remainderCount = diffMap.get(remainder);\r\n            if (remainderCount != null) {\r\n                diffMap.put(remainder, remainderCount + 1); \r\n            } else {\r\n                diffMap.put(remainder, 1);  \r\n            }\r\n        }\r\n        return total;\r\n    }\r\n}\r\n\r\n```","title":"Calculating the Number of Pairs of elements in a List that produce a Sum divisible by 60 - reduce the Time Complexity","body":"<p>The question is asking for reduced time complexity. May be for a solution with O(n) time complexity instead of n squared. I did get this question in a recent interview but failed to complete it on time. Did work on the solution offline, which is given below.</p>\n<pre><code>import java.util.*;\nclass HelloWorld {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = List.of(10,20,-30,10,40,30,10,0);\n        \n        System.out.println(checkSum(numbers, 20));\n    }\n    public static int checkSum(List&lt;Integer&gt; numbers, int targetMultiple) {\n\n       /*The Map contains the num already seen in the list along \n       with how many times it was seen\n       if targetMultiple is non 0 then we save the remainder instead of \n       num along with count seen.*/\n       Map&lt;Integer,Integer&gt; diffMap = new HashMap&lt;&gt;();\n\n        // sign does not matter as we are checking for multiples\n        targetMultiple = Math.abs(targetMultiple);\n\n        int total = 0;\n\n        for (int num : numbers) {\n         \n            int remainder = targetMultiple != 0? num % targetMultiple : num;\n            int diff = targetMultiple - remainder;\n            int remainderDiff = remainder * -1;\n\n            // check existence of possible sum satisfying the required condition\n\n            // sum adding up to 0 is also a multiple \n            Integer negRemainderCount = diffMap.get(remainderDiff);\n            if (negRemainderCount != null ) {\n                total += negRemainderCount;\n            } \n\n            // sum adding to target multiple. Avoid duplicate checks, for example\n            //these will be same when targetMultiple is 0.\n            if (diff != remainderDiff ) {\n                Integer diffCount = diffMap.get(diff);\n                if (diffCount != null ) {\n                    total += diffCount;\n                }\n            }\n            \n            // store current remainder in map\n            Integer remainderCount = diffMap.get(remainder);\n            if (remainderCount != null) {\n                diffMap.put(remainder, remainderCount + 1); \n            } else {\n                diffMap.put(remainder, 1);  \n            }\n        }\n        return total;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74818688,"answer_count":3,"score":2,"last_activity_date":1694713479,"creation_date":1670945513,"question_id":74787272,"body_markdown":"There are many permutation optimization questions, but every one is different.\r\n\r\nAt a coding assignment recently, I was asked, given a list of numbers, to find how many pairs add up to a multiple of 60.\r\n\r\nI&#39;ve come up with was the following solution:\r\n\r\n```java\r\npublic int getPairs(List&lt;Integer&gt; nums){\r\n  int result = 0;\r\n  for(int i=0; i&lt;nums.size(); i++){\r\n   for(int j=i+1; j&lt;nums.size(); j++) {\r\n     if((nums.get(i)+nums.get(j))%60 == 0){\r\n       result++\r\n     }\r\n   }\r\n  }\r\n  return result; \r\n}\r\n```\r\n\r\nThis code was correct, however the testing software failed some hidden test cases where the list of nums was 10000 because of &quot;time out&quot;, meaning that it took too long.\r\n\r\nI&#39;ve tried converting the List to an array first, to save on `size()` and `get()` method calls, but it did not help me.\r\n\r\nI am very confused. Is this not the fastest way to go over all possible combinations?\r\n\r\nIf the question asked not for a multiple of 60, but to be 60, then I would sort the array first, and as soon as the sum is greater then 60, skip over the rest of the array, but this is not the case.\r\n\r\nAlso, it&#39;s strange that 10000 size array should time out. 10,000 x 10,000 is 100,000,000. Surely doing an two additions, a division, compare, and and compareToZero 100,000,000 should take less than a second on a modern processor.\r\n\r\nDid I do something wrong, or is the testing software bugged?","title":"Calculating the Number of Pairs of elements in a List that produce a Sum divisible by 60 - reduce the Time Complexity","body":"<p>There are many permutation optimization questions, but every one is different.</p>\n<p>At a coding assignment recently, I was asked, given a list of numbers, to find how many pairs add up to a multiple of 60.</p>\n<p>I've come up with was the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getPairs(List&lt;Integer&gt; nums){\n  int result = 0;\n  for(int i=0; i&lt;nums.size(); i++){\n   for(int j=i+1; j&lt;nums.size(); j++) {\n     if((nums.get(i)+nums.get(j))%60 == 0){\n       result++\n     }\n   }\n  }\n  return result; \n}\n</code></pre>\n<p>This code was correct, however the testing software failed some hidden test cases where the list of nums was 10000 because of &quot;time out&quot;, meaning that it took too long.</p>\n<p>I've tried converting the List to an array first, to save on <code>size()</code> and <code>get()</code> method calls, but it did not help me.</p>\n<p>I am very confused. Is this not the fastest way to go over all possible combinations?</p>\n<p>If the question asked not for a multiple of 60, but to be 60, then I would sort the array first, and as soon as the sum is greater then 60, skip over the rest of the array, but this is not the case.</p>\n<p>Also, it's strange that 10000 size array should time out. 10,000 x 10,000 is 100,000,000. Surely doing an two additions, a division, compare, and and compareToZero 100,000,000 should take less than a second on a modern processor.</p>\n<p>Did I do something wrong, or is the testing software bugged?</p>\n"},{"tags":["java","spring","spring-boot","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694713385,"creation_date":1694713385,"answer_id":77107294,"question_id":77104077,"body_markdown":"Parent projects can only be `pom` projects: this means that they just contain a `pom.xml` file. Therefore you parent project simply can not export a `log4j2.xml` file.\r\n\r\nYou need to create a `jar` submodule (e.g. `example-logging`) and import it into every project.","title":"How to inherit log4j2.xml from parent project to child?","body":"<p>Parent projects can only be <code>pom</code> projects: this means that they just contain a <code>pom.xml</code> file. Therefore you parent project simply can not export a <code>log4j2.xml</code> file.</p>\n<p>You need to create a <code>jar</code> submodule (e.g. <code>example-logging</code>) and import it into every project.</p>\n"}],"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694713385,"creation_date":1694687731,"question_id":77104077,"body_markdown":"This is my first use of log4j and I don&#39;t find any documentation regarding my problem.  \r\n\r\nI have a _SpringBoot_ (2, and _java 8_) parent project with a **log4j2.xml** file inside it.  \r\nThe _file_ is like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot; monitorInterval=&quot;60&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt; \r\n\t\t\t\t&lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t&lt;/Console&gt;\r\n\t\t\r\n\t\t&lt;File name=&quot;FileAppender&quot; fileName=&quot;logs.log&quot;&gt;\r\n            &lt;PatternLayout&gt; \r\n            \t&lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/File&gt;\r\n\t&lt;/Appenders&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FileAppender&quot;/&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nInside this project I have a set of common classes for a bunch of my other projects, such as the exception handling, with a logger inside.\r\n\r\nThe dependency I have insert inside the **parent pom.xml** is:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.7.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNow, I want that this file works inside my child project, but the **logs.log** file is never created and some logs are printed like a normal **System.out.println()**.  \r\n\r\nSo I&#39;m wondering:\r\n1. Do I need to create also a _log4j2.xml_ file inside my child project if I want to print its logs?\r\n2. If yes, why having only the parent xml is not sufficient?\r\n3. If yes, is the parent xml really needed? I mean, shouldn&#39;t the log4j2.xml inside the child project also capture the generated log inside the parent project?\r\n\r\nThanks in advance for the answers.\r\n","title":"How to inherit log4j2.xml from parent project to child?","body":"<p>This is my first use of log4j and I don't find any documentation regarding my problem.</p>\n<p>I have a <em>SpringBoot</em> (2, and <em>java 8</em>) parent project with a <strong>log4j2.xml</strong> file inside it.<br />\nThe <em>file</em> is like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot; monitorInterval=&quot;60&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout&gt; \n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Console&gt;\n        \n        &lt;File name=&quot;FileAppender&quot; fileName=&quot;logs.log&quot;&gt;\n            &lt;PatternLayout&gt; \n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;FileAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>Inside this project I have a set of common classes for a bunch of my other projects, such as the exception handling, with a logger inside.</p>\n<p>The dependency I have insert inside the <strong>parent pom.xml</strong> is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;2.7.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, I want that this file works inside my child project, but the <strong>logs.log</strong> file is never created and some logs are printed like a normal <strong>System.out.println()</strong>.</p>\n<p>So I'm wondering:</p>\n<ol>\n<li>Do I need to create also a <em>log4j2.xml</em> file inside my child project if I want to print its logs?</li>\n<li>If yes, why having only the parent xml is not sufficient?</li>\n<li>If yes, is the parent xml really needed? I mean, shouldn't the log4j2.xml inside the child project also capture the generated log inside the parent project?</li>\n</ol>\n<p>Thanks in advance for the answers.</p>\n"},{"tags":["javascript","java","sha256","hmac"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":4,"creation_date":1694708767,"post_id":77106751,"comment_id":135930208,"body_markdown":"Is the vendor&#39;s code actually Java, looks more like JS to me... aside from the `String.format` call.","body":"Is the vendor&#39;s code actually Java, looks more like JS to me... aside from the <code>String.format</code> call."},{"owner":{"account_id":4214506,"reputation":3,"user_id":3451184,"display_name":"Youj Ying"},"score":0,"creation_date":1694713312,"post_id":77106751,"comment_id":135931002,"body_markdown":"To add clarification, the clientSecret provided to me is a 32 character string. It is in hexadecimal, but reading the vendor&#39;s implementation makes me assume we want the utf8 of the 32 characters anyway(Java.String.getBytes()). I am assuming that there is going to be a slight difference in how java handles the strings.\nThe vendor provided Java code only. I tried to translate it as best as i could\nhttps://pastebin.com/X2zws2JL","body":"To add clarification, the clientSecret provided to me is a 32 character string. It is in hexadecimal, but reading the vendor&#39;s implementation makes me assume we want the utf8 of the 32 characters anyway(Java.String.getBytes()). I am assuming that there is going to be a slight difference in how java handles the strings. The vendor provided Java code only. I tried to translate it as best as i could <a href=\"https://pastebin.com/X2zws2JL\" rel=\"nofollow noreferrer\">pastebin.com/X2zws2JL</a>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1694775509,"post_id":77106751,"comment_id":135938824,"body_markdown":"Why are you posting such messed up Java code in the question instead of the actual one you reference in the comment? Please fix the code in the question. Apart from that, Java code and NodeJS code you posted return the same HMAC for identical input data. So if you get different results, your input data is different. If the verification fails at the server, either the input data is wrong or the logic of the Java code does not match that implemented in the server. In any case, this question lacks the information to answer this.","body":"Why are you posting such messed up Java code in the question instead of the actual one you reference in the comment? Please fix the code in the question. Apart from that, Java code and NodeJS code you posted return the same HMAC for identical input data. So if you get different results, your input data is different. If the verification fails at the server, either the input data is wrong or the logic of the Java code does not match that implemented in the server. In any case, this question lacks the information to answer this."},{"owner":{"account_id":4214506,"reputation":3,"user_id":3451184,"display_name":"Youj Ying"},"score":0,"creation_date":1694798535,"post_id":77106751,"comment_id":135943350,"body_markdown":"I did not want to add unnecessary information to the question. and included everything needed to answer the question I had(was i missing an encoding issue in the translation to node code), as you mentioned the answer was indeed that the data being fed was different. There was an undocumented expectation to strip hostname and params from the requestURL. \nI want to leave the question here as how to directly translate that Java HMAC integration into Node.","body":"I did not want to add unnecessary information to the question. and included everything needed to answer the question I had(was i missing an encoding issue in the translation to node code), as you mentioned the answer was indeed that the data being fed was different. There was an undocumented expectation to strip hostname and params from the requestURL.  I want to leave the question here as how to directly translate that Java HMAC integration into Node."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1694849206,"post_id":77106751,"comment_id":135947804,"body_markdown":"The code following *The vendor&#39;s provided Java code* is not valid Java, as already stated in the first comment. In contrast, the code you linked yourself contains valid Java code. Why don&#39;t you fix the invalid Java code in your question? Posting a link is not enough. Fixing an invalid code is not *unnecessary information*.","body":"The code following <i>The vendor&#39;s provided Java code</i> is not valid Java, as already stated in the first comment. In contrast, the code you linked yourself contains valid Java code. Why don&#39;t you fix the invalid Java code in your question? Posting a link is not enough. Fixing an invalid code is not <i>unnecessary information</i>."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694713210,"creation_date":1694709948,"answer_id":77106945,"question_id":77106751,"body_markdown":"If you inputs are already strings, you can encode them directly.\r\n\r\n```js\r\nimport { Buffer } from &quot;node:buffer&quot;;\r\nimport crypto from &quot;node:crypto&quot;;\r\n\r\nconst encode = (secret, data) =&gt; {\r\n  // Not needed, as string defaults to &#39;utf8&#39;\r\n  const encoding =\r\n    typeof secret === &quot;string&quot;\r\n      ? { encoding: &quot;utf8&quot; }\r\n      : undefined;\r\n  return crypto\r\n    .createHmac(&quot;sha256&quot;, secret, encoding)\r\n    .update(data) // If data is a string, default to &#39;utf8&#39;\r\n    .digest(&quot;hex&quot;);\r\n};\r\n\r\n// String\r\nconst clientSecret = &quot;client-secret&quot;;\r\nconst strToSign = &quot;string-to-sign&quot;;\r\nconsole.log(encode(clientSecret, strToSign));\r\n\r\n// Buffer\r\nconst secretBuffer = Buffer.from(clientSecret, &quot;utf8&quot;);\r\nconst dataBuffer = Buffer.from(strToSign, &quot;utf8&quot;);\r\nconsole.log(encode(secretBuffer, dataBuffer));\r\n```\r\n\r\nBoth calls log `7c13c6e89d4402cf331c7b0cb6a16b98f04144a247f796e6afaaae1cff64af0d`","title":"How to translate Java HMAC to Node/JavaScript?","body":"<p>If you inputs are already strings, you can encode them directly.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Buffer } from &quot;node:buffer&quot;;\nimport crypto from &quot;node:crypto&quot;;\n\nconst encode = (secret, data) =&gt; {\n  // Not needed, as string defaults to 'utf8'\n  const encoding =\n    typeof secret === &quot;string&quot;\n      ? { encoding: &quot;utf8&quot; }\n      : undefined;\n  return crypto\n    .createHmac(&quot;sha256&quot;, secret, encoding)\n    .update(data) // If data is a string, default to 'utf8'\n    .digest(&quot;hex&quot;);\n};\n\n// String\nconst clientSecret = &quot;client-secret&quot;;\nconst strToSign = &quot;string-to-sign&quot;;\nconsole.log(encode(clientSecret, strToSign));\n\n// Buffer\nconst secretBuffer = Buffer.from(clientSecret, &quot;utf8&quot;);\nconst dataBuffer = Buffer.from(strToSign, &quot;utf8&quot;);\nconsole.log(encode(secretBuffer, dataBuffer));\n</code></pre>\n<p>Both calls log <code>7c13c6e89d4402cf331c7b0cb6a16b98f04144a247f796e6afaaae1cff64af0d</code></p>\n"}],"owner":{"account_id":4214506,"reputation":3,"user_id":3451184,"display_name":"Youj Ying"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77106945,"answer_count":1,"score":-1,"last_activity_date":1694713210,"creation_date":1694708282,"question_id":77106751,"body_markdown":"I am trying to implement an HMAC signature in node from the vendor&#39;s provided Java example (their documentation was quite lacking, not detailing encodings, or requirements).\r\n\r\nThe vendor&#39;s provided Java code:\r\n\r\n```java\r\n// encrypt strToSign by SHA algorithm\r\nvar signingKey = new SecretKeySpec(clientSecret.getBytes(), &quot;HmacSHA256&quot;);\r\nvar mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\nmac.init(signingKey);\r\nsignedStr = bytesToHexString(mac.doFinal(strToSign.getBytes()));\r\n\r\nfunction bytesToHexString(bytes) {\r\n  if (bytes == null) {\r\n    return null;\r\n  }\r\n  sb = &quot;&quot;;\r\n  for (var b of bytes) {\r\n    var hv = String.format(&quot;%02x&quot;, b);\r\n    sb += hv;\r\n  }\r\n  return sb.toLowerCase();\r\n}\r\n```\r\n\r\nMy JavaScript code:\r\n\r\n```js\r\nvar signedStr = crypto\r\n  .createHmac(&#39;SHA256&#39;, Buffer.from(clientSecret, &quot;utf8&quot;))\r\n  .update(strToSign, &quot;utf8&quot;)\r\n  .digest(&#39;hex&#39;);\r\n```\r\n\r\nGetting a an error: `msg: &#39;Signature does not match&#39;` result from the server. I have tried almost every combination I can think of changing the encoding of the client secret and `strToSign`.\r\n\r\nI usually can figure out how to get my problems fixed with a quick search. And I feel extremely close. However now I am at a nexus wherein I cannot quite determine what nuances between the provided Java code and my attempt at a Node translation. I feel that it is going to be related to encoding, off by one, or big endian type issue. Unfortunately with hash/signatures I cannot just brute force my way to an answer (I have tried). \r\n\r\n","title":"How to translate Java HMAC to Node/JavaScript?","body":"<p>I am trying to implement an HMAC signature in node from the vendor's provided Java example (their documentation was quite lacking, not detailing encodings, or requirements).</p>\n<p>The vendor's provided Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// encrypt strToSign by SHA algorithm\nvar signingKey = new SecretKeySpec(clientSecret.getBytes(), &quot;HmacSHA256&quot;);\nvar mac = Mac.getInstance(&quot;HmacSHA256&quot;);\nmac.init(signingKey);\nsignedStr = bytesToHexString(mac.doFinal(strToSign.getBytes()));\n\nfunction bytesToHexString(bytes) {\n  if (bytes == null) {\n    return null;\n  }\n  sb = &quot;&quot;;\n  for (var b of bytes) {\n    var hv = String.format(&quot;%02x&quot;, b);\n    sb += hv;\n  }\n  return sb.toLowerCase();\n}\n</code></pre>\n<p>My JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var signedStr = crypto\n  .createHmac('SHA256', Buffer.from(clientSecret, &quot;utf8&quot;))\n  .update(strToSign, &quot;utf8&quot;)\n  .digest('hex');\n</code></pre>\n<p>Getting a an error: <code>msg: 'Signature does not match'</code> result from the server. I have tried almost every combination I can think of changing the encoding of the client secret and <code>strToSign</code>.</p>\n<p>I usually can figure out how to get my problems fixed with a quick search. And I feel extremely close. However now I am at a nexus wherein I cannot quite determine what nuances between the provided Java code and my attempt at a Node translation. I feel that it is going to be related to encoding, off by one, or big endian type issue. Unfortunately with hash/signatures I cannot just brute force my way to an answer (I have tried).</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1694719332,"post_id":77107275,"comment_id":135932024,"body_markdown":"It is contributed to the menu using the `org.eclipse.ui.menus` extension point by the `org.eclipse.ui.ide.application` plug-in.","body":"It is contributed to the menu using the <code>org.eclipse.ui.menus</code> extension point by the <code>org.eclipse.ui.ide.application</code> plug-in."}],"owner":{"account_id":14362455,"reputation":789,"user_id":10374425,"display_name":"Ga&#235;tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694713192,"creation_date":1694713192,"question_id":77107275,"body_markdown":"I have this app built using Eclipse RCP. The File menu in the ToolBar is defined as follows in the class that extends ActionBarAdvisor:\r\n```\r\n    @Override\r\n    protected void makeActions(final IWorkbenchWindow window)\r\n    {\r\n        // Other actions...\r\n\r\n        this.exitAction = ActionFactory.QUIT.create(window);\r\n        register(this.exitAction);\r\n        this.exitAction.setText(&quot;E&amp;xit ...&quot;);\r\n\r\n        // Other actions...\r\n    }\r\n\r\n    @Override\r\n    protected void fillMenuBar(IMenuManager menuBar)\r\n    {\r\n        MenuManager fileMenu = new MenuManager(&quot;&amp;File&quot;, IWorkbenchActionConstants.M_FILE);\r\n        menuBar.add(fileMenu);\r\n\r\n        fileMenu.add(new Separator());\r\n        // Add other actions to the menu...\r\n        fileMenu.add(new Separator());\r\n        fileMenu.add(this.exitAction);\r\n    }\r\n```\r\nIn the resulting File menu, I am expecting a bunch of options, then a last separator and the Exit option, alone. Instead, there is an extra File-&gt;Restart option above the exit one. If I remove the exit action from the code, the restart option disapears with the exit one. When I put it back, they both come back.\r\n\r\nEven weirder: this does not happen in SLES 12 (there is only the Exit option), only in SLES 15. I also have another app with very similar code not showing this behavior.\r\n\r\nAccording to [this][1] old thread, this restart option is an old thing, nothing explains why it appears on its own on SLES 15.\r\n\r\nAmong the things I tried, there was adding this in the plugin.xml file:\r\n```\r\n&lt;!-- disable menu items... --&gt;\r\n   &lt;extension point=&quot;org.eclipse.ui.activities&quot;&gt;\r\n\t\t&lt;activity\r\n\t\t      id=&quot;my.project.hidemenuitemsactivity&quot;\r\n\t\t      name=&quot;Hide Menu Items Activity&quot;&gt;\r\n\t\t&lt;/activity&gt;\r\n\t\t\r\n        &lt;!-- Successfuly hide other menu items --&gt;\r\n\r\n\t\t&lt;!-- &quot;File-&gt;Restart...&quot; --&gt;\r\n\t\t&lt;activityPatternBinding\r\n\t\t      activityId=&quot;my.project.hidemenuitemsactivity&quot;\r\n\t\t      isEqualityPattern=&quot;true&quot;\r\n\t\t      pattern=&quot;org.eclipse.ui.file.restartWorkbench&quot;&gt;\r\n\t\t&lt;/activityPatternBinding&gt;\r\n\t\t\r\n\t&lt;/extension&gt;\r\n```\r\nI also tried to list the items in the menu bar manager object (`menuBarManager.getItems();`) to find the extra one and get rid of it with `item.setVisible(false);`, but as far as I can tell there is not extra item that would correspond to the restart button.\r\n\r\nThese were my best guesses, but I tried other things. This menu option will not go away. \r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=197922","title":"Can&#39;t get rid of the Restart option in my Eclipse RCP app","body":"<p>I have this app built using Eclipse RCP. The File menu in the ToolBar is defined as follows in the class that extends ActionBarAdvisor:</p>\n<pre><code>    @Override\n    protected void makeActions(final IWorkbenchWindow window)\n    {\n        // Other actions...\n\n        this.exitAction = ActionFactory.QUIT.create(window);\n        register(this.exitAction);\n        this.exitAction.setText(&quot;E&amp;xit ...&quot;);\n\n        // Other actions...\n    }\n\n    @Override\n    protected void fillMenuBar(IMenuManager menuBar)\n    {\n        MenuManager fileMenu = new MenuManager(&quot;&amp;File&quot;, IWorkbenchActionConstants.M_FILE);\n        menuBar.add(fileMenu);\n\n        fileMenu.add(new Separator());\n        // Add other actions to the menu...\n        fileMenu.add(new Separator());\n        fileMenu.add(this.exitAction);\n    }\n</code></pre>\n<p>In the resulting File menu, I am expecting a bunch of options, then a last separator and the Exit option, alone. Instead, there is an extra File-&gt;Restart option above the exit one. If I remove the exit action from the code, the restart option disapears with the exit one. When I put it back, they both come back.</p>\n<p>Even weirder: this does not happen in SLES 12 (there is only the Exit option), only in SLES 15. I also have another app with very similar code not showing this behavior.</p>\n<p>According to <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=197922\" rel=\"nofollow noreferrer\">this</a> old thread, this restart option is an old thing, nothing explains why it appears on its own on SLES 15.</p>\n<p>Among the things I tried, there was adding this in the plugin.xml file:</p>\n<pre><code>&lt;!-- disable menu items... --&gt;\n   &lt;extension point=&quot;org.eclipse.ui.activities&quot;&gt;\n        &lt;activity\n              id=&quot;my.project.hidemenuitemsactivity&quot;\n              name=&quot;Hide Menu Items Activity&quot;&gt;\n        &lt;/activity&gt;\n        \n        &lt;!-- Successfuly hide other menu items --&gt;\n\n        &lt;!-- &quot;File-&gt;Restart...&quot; --&gt;\n        &lt;activityPatternBinding\n              activityId=&quot;my.project.hidemenuitemsactivity&quot;\n              isEqualityPattern=&quot;true&quot;\n              pattern=&quot;org.eclipse.ui.file.restartWorkbench&quot;&gt;\n        &lt;/activityPatternBinding&gt;\n        \n    &lt;/extension&gt;\n</code></pre>\n<p>I also tried to list the items in the menu bar manager object (<code>menuBarManager.getItems();</code>) to find the extra one and get rid of it with <code>item.setVisible(false);</code>, but as far as I can tell there is not extra item that would correspond to the restart button.</p>\n<p>These were my best guesses, but I tried other things. This menu option will not go away.</p>\n"},{"tags":["java","junit","mockito","powermockito","powermockrunner"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":1,"creation_date":1648496894,"post_id":71652791,"comment_id":126634113,"body_markdown":"you can make your private method package-private and test both of them separately, or refactor your code by making getMap static method or static function.","body":"you can make your private method package-private and test both of them separately, or refactor your code by making getMap static method or static function."},{"owner":{"account_id":24605800,"reputation":41,"user_id":18508008,"display_name":"Shakakhan"},"score":0,"creation_date":1648497068,"post_id":71652791,"comment_id":126634166,"body_markdown":"The class uses code that I didn’t create and can’t edit.","body":"The class uses code that I didn’t create and can’t edit."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1648499731,"post_id":71652791,"comment_id":126635036,"body_markdown":"If you&#39;re not allowed to change the code that you&#39;re testing, what will you do if your test fails?","body":"If you&#39;re not allowed to change the code that you&#39;re testing, what will you do if your test fails?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1648502179,"post_id":71652791,"comment_id":126635738,"body_markdown":"Also, keep in mind that if you stub a private method, you&#39;re changing the behaviour of the system under test, which means that your tests are invalid.  There&#39;s a reason why Mockito doesn&#39;t let you do this.","body":"Also, keep in mind that if you stub a private method, you&#39;re changing the behaviour of the system under test, which means that your tests are invalid.  There&#39;s a reason why Mockito doesn&#39;t let you do this."},{"owner":{"account_id":17450915,"reputation":452,"user_id":12650909,"display_name":"Sandeep Lakdawala"},"score":0,"creation_date":1648621773,"post_id":71652791,"comment_id":126667773,"body_markdown":"Ideally, you should never try to mock the private methods. You can modify your input parameters to public method and accordingly test out different conditions, considering the fact how the private method would behave for different input parameters passed on from your public method to private method.","body":"Ideally, you should never try to mock the private methods. You can modify your input parameters to public method and accordingly test out different conditions, considering the fact how the private method would behave for different input parameters passed on from your public method to private method."}],"answers":[{"tags":[],"owner":{"account_id":114811,"reputation":1718,"user_id":301757,"accept_rate":83,"display_name":"mh377"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694713137,"creation_date":1648499125,"answer_id":71653380,"question_id":71652791,"body_markdown":"You should be able to mock it using powermock\r\n\r\n\r\n&quot;Mocking of Private Methods Using PowerMock | Baeldung&quot; https://www.baeldung.com/powermock-private-method\r\n\r\n\r\n&gt; **4.1. Method With No Arguments but With Return Value**\r\n&gt;\r\n&gt; As a simple example, let’s mock the behavior of a private method with no arguments and force it to return the desired value:\r\n&gt;\r\n&gt;     LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\r\n&gt;\r\n&gt;     when(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\r\n&gt;\r\n&gt; In this case, we mock the private method getDefaultLuckyNumber and make it return a value of 300.\r\n\r\n","title":"How to mock a return from a call to a private method","body":"<p>You should be able to mock it using powermock</p>\n<p>&quot;Mocking of Private Methods Using PowerMock | Baeldung&quot; <a href=\"https://www.baeldung.com/powermock-private-method\" rel=\"nofollow noreferrer\">https://www.baeldung.com/powermock-private-method</a></p>\n<blockquote>\n<p><strong>4.1. Method With No Arguments but With Return Value</strong></p>\n<p>As a simple example, let’s mock the behavior of a private method with no arguments and force it to return the desired value:</p>\n<pre><code>LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\n\nwhen(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\n</code></pre>\n<p>In this case, we mock the private method getDefaultLuckyNumber and make it return a value of 300.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6219526,"reputation":15,"user_id":4839652,"display_name":"Anil Deshpande"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654688760,"creation_date":1654688760,"answer_id":72545153,"question_id":71652791,"body_markdown":"You will be able to return a call from private method provided its in the same class where the private method is ","title":"How to mock a return from a call to a private method","body":"<p>You will be able to return a call from private method provided its in the same class where the private method is</p>\n"}],"owner":{"account_id":24605800,"reputation":41,"user_id":18508008,"display_name":"Shakakhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14892,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694713137,"creation_date":1648495897,"question_id":71652791,"body_markdown":"I have a class which has a method I want to test, but it calls a private method in the same class to get a Map value. I want to mock what the private method returns to the method I want to test.\r\n\r\n    import java.util.*;\r\n    \r\n    public class ClassOne {\r\n    \r\n        public List&lt;String&gt; getList(String exampleString) {\r\n            List&lt;String&gt; exampleList = null;\r\n            Map&lt;String, String&gt; exampleMap = getMap();\r\n            String exampleValue = exampleMap.get(exampleString);\r\n            // Does some stuff\r\n            \r\n            exampleList = Arrays.asList(exampleValue.split(&quot;,&quot;));\r\n            return exampleList;\r\n        }\r\n        \r\n        private Map&lt;String, String&gt; getMap(){\r\n            Map&lt;String, String&gt; exampleMap = new HashMap&lt;&gt;();\r\n            exampleMap.put(&quot;pre-defined String&quot;, &quot;pre-defined String&quot;);\r\n            return exampleMap;\r\n        }\r\n    \r\n    }\r\n\r\nFrom what I can find- it seems like I want to use PowerMock, but I can&#39;t seem to figure it out.\r\n\r\nA way to mock the return of the private method getMap() when it is called by the method getList.","title":"How to mock a return from a call to a private method","body":"<p>I have a class which has a method I want to test, but it calls a private method in the same class to get a Map value. I want to mock what the private method returns to the method I want to test.</p>\n<pre><code>import java.util.*;\n\npublic class ClassOne {\n\n    public List&lt;String&gt; getList(String exampleString) {\n        List&lt;String&gt; exampleList = null;\n        Map&lt;String, String&gt; exampleMap = getMap();\n        String exampleValue = exampleMap.get(exampleString);\n        // Does some stuff\n        \n        exampleList = Arrays.asList(exampleValue.split(&quot;,&quot;));\n        return exampleList;\n    }\n    \n    private Map&lt;String, String&gt; getMap(){\n        Map&lt;String, String&gt; exampleMap = new HashMap&lt;&gt;();\n        exampleMap.put(&quot;pre-defined String&quot;, &quot;pre-defined String&quot;);\n        return exampleMap;\n    }\n\n}\n</code></pre>\n<p>From what I can find- it seems like I want to use PowerMock, but I can't seem to figure it out.</p>\n<p>A way to mock the return of the private method getMap() when it is called by the method getList.</p>\n"},{"tags":["java","string","compare","equals"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1403856821,"post_id":24446763,"comment_id":37829200,"body_markdown":"I suggest you read the definition for hashCode() again.  There is no such thing as a reference number.","body":"I suggest you read the definition for hashCode() again.  There is no such thing as a reference number."}],"answers":[{"tags":[],"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1403855938,"creation_date":1403855938,"answer_id":24446806,"question_id":24446763,"body_markdown":"**`hashCode()` does not return the object&#39;s reference, but a hash of the object**, computed in some way. `==` does not compare objects using the value of `hashCode()` but, as you correctly say, by the value of the objects&#39; references.","title":"difference between equals() and hashCode()","body":"<p><strong><code>hashCode()</code> does not return the object's reference, but a hash of the object</strong>, computed in some way. <code>==</code> does not compare objects using the value of <code>hashCode()</code> but, as you correctly say, by the value of the objects' references.</p>\n"},{"tags":[],"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403857065,"creation_date":1403856539,"answer_id":24446965,"question_id":24446763,"body_markdown":"You can read the [hashCode documentation][1]. In a few words it says that if `(obj1.equals(obj2)` is **true** then `obj1.hashCode()==obj2.hasCode()` must be **true** to be a *valid implementation*.\r\n\r\nNote that it does not mean that two different objects cannot share the same hash code. Actually, this example is a valid (but awful) implementation of the method:\r\n\r\n    class MyClass {\r\n        public int hashCode() {return 0;}\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()","title":"difference between equals() and hashCode()","body":"<p>You can read the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode%28%29\" rel=\"nofollow\">hashCode documentation</a>. In a few words it says that if <code>(obj1.equals(obj2)</code> is <strong>true</strong> then <code>obj1.hashCode()==obj2.hasCode()</code> must be <strong>true</strong> to be a <em>valid implementation</em>.</p>\n\n<p>Note that it does not mean that two different objects cannot share the same hash code. Actually, this example is a valid (but awful) implementation of the method:</p>\n\n<pre><code>class MyClass {\n    public int hashCode() {return 0;}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":495054,"reputation":656,"user_id":2193236,"accept_rate":83,"display_name":"ctzdev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403856966,"creation_date":1403856966,"answer_id":24447099,"question_id":24446763,"body_markdown":"`.equals()` compares the actual content of the string. \n\nThe &quot;==&quot; operator compares if the two objects are the same reference in memory. If you were to do `str = str1;`, then the double-equals operator would return `true` because they point to the same reference in memory. \n\n`hashCode()` returns a hash of the object in an arbitrary manner. The value returned will always be unique as long as the method is not overridden in some way. If `.equals()` returns true, the hash code should be the same. ","title":"difference between equals() and hashCode()","body":"<p><code>.equals()</code> compares the actual content of the string. </p>\n\n<p>The \"==\" operator compares if the two objects are the same reference in memory. If you were to do <code>str = str1;</code>, then the double-equals operator would return <code>true</code> because they point to the same reference in memory. </p>\n\n<p><code>hashCode()</code> returns a hash of the object in an arbitrary manner. The value returned will always be unique as long as the method is not overridden in some way. If <code>.equals()</code> returns true, the hash code should be the same. </p>\n"},{"tags":[],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403857618,"creation_date":1403857618,"answer_id":24447294,"question_id":24446763,"body_markdown":"1. As other said &#39;==&#39; compares references. But the two methods are just methods doing something which can be overridden.\r\n2. Every method does something. If you want to know what it exactly does and what is its meaning you need to read the documentation.\r\n3. You may override those methods in anyway you want. But please note that you must follow JAVA documentation for these two methods. Because they are used by other classes. For example `equals()` is used while you try find an object in a list and `.hashCode()` is used in some hashtable classes provided by JAVA class library.","title":"difference between equals() and hashCode()","body":"<ol>\n<li>As other said '==' compares references. But the two methods are just methods doing something which can be overridden.</li>\n<li>Every method does something. If you want to know what it exactly does and what is its meaning you need to read the documentation.</li>\n<li>You may override those methods in anyway you want. But please note that you must follow JAVA documentation for these two methods. Because they are used by other classes. For example <code>equals()</code> is used while you try find an object in a list and <code>.hashCode()</code> is used in some hashtable classes provided by JAVA class library.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1685953387,"creation_date":1403859319,"answer_id":24447782,"question_id":24446763,"body_markdown":"The `equals()` and `hashCode()` methods prove to be very important, when objects implementing these two methods are added to collections. If implemented incorrectly it might screw up your life.\r\n\r\n**`equals()`** : This method checks if some other object passed to it as an argument is equal the object in which this method is invoked. It is easy to implement the `equals()` method incorrectly, if you do not understand the contract. Before overriding this method, following “properties” need to keep in mind the following\r\n\r\n - Reflexive:  `o1.equals(o1)` - which means an Object (e.g. `o1`) should be equal to itself\r\n - Symmetric: `o1.equals(o2)` if and only `o2.equals(o1)` \r\n - Transitive: `o1.equals(o2) &amp;&amp; o2.equals(o3)` implies that `o1.equals(o3)` as well\r\n - Consistent: `o1.equals(o2)` returns the same as long as `o1` and `o2` are unmodified \r\n - null comparison : `!o1.equals(null)` - which means that any instantiable object is not equal to `null`. So if you pass a null as an argument to your object `o1`, then it should return false.\r\n - Hash code value:  `o1.equals(o2)` implies `o1.hashCode() == o2.hashCode()`. This is very important. If you define an `equals()` method then you must define a `hashCode()` method as well. Also it means that if you have two objects that are equal then they must have the same hashCode, however the reverse is not true\r\n\r\n**From Java source code**\r\n\r\n```java\r\n/*\r\n * @param   obj   the reference object with which to compare.\r\n * @return  {@code true} if this object is the same as the obj\r\n *          argument; {@code false} otherwise.\r\n * @see     #hashCode()\r\n * @see     java.util.HashMap\r\n */\r\npublic boolean equals(Object obj) {\r\n    return (this == obj);\r\n}\r\n```\r\n \r\n\r\n**`hashCode()`**: This method returns a `hashCode()` value as an Integer and is supported for the benefit of hashing based `java.util.Collection` classes like \r\n[Hashtable](https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html), \r\n[HashMap](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html),\r\n[HashSet](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html),\r\netc. \r\n\r\nIf a class overrides the `equals()` method, it must implement the `hashCode()` method as well. Before overriding this method, you need to keep in mind:\r\n\r\n - Whenever `hashCode()` method is invoked on the same object more than once during an execution of a Java program, this method must consistently return the same result. The integer result need not remain consistent from one execution of the program to the next execution of the same program.\r\n - If two objects are equal as per the `equals()` method, then calling the `hashCode()` method in each of the two objects must return the same integer result. So, If a field is not used in `equals()`, then it must not be used in `hashCode()` method.\r\n\r\n - If two objects are unequal as per the `equals()` method, each of the two objects can return either two different integer results or same integer results (i.e. if two objects have the same `hashCode()` result does not mean that they are equal, but if two objects are equal then they must return the same `hashCode()` result).\r\n\r\n**As per Java source code**\r\nAs much as is reasonably practical, the `hashCode()` method defined by `java.lang.Object` does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer.)","title":"difference between equals() and hashCode()","body":"<p>The <code>equals()</code> and <code>hashCode()</code> methods prove to be very important, when objects implementing these two methods are added to collections. If implemented incorrectly it might screw up your life.</p>\n<p><strong><code>equals()</code></strong> : This method checks if some other object passed to it as an argument is equal the object in which this method is invoked. It is easy to implement the <code>equals()</code> method incorrectly, if you do not understand the contract. Before overriding this method, following “properties” need to keep in mind the following</p>\n<ul>\n<li>Reflexive:  <code>o1.equals(o1)</code> - which means an Object (e.g. <code>o1</code>) should be equal to itself</li>\n<li>Symmetric: <code>o1.equals(o2)</code> if and only <code>o2.equals(o1)</code></li>\n<li>Transitive: <code>o1.equals(o2) &amp;&amp; o2.equals(o3)</code> implies that <code>o1.equals(o3)</code> as well</li>\n<li>Consistent: <code>o1.equals(o2)</code> returns the same as long as <code>o1</code> and <code>o2</code> are unmodified</li>\n<li>null comparison : <code>!o1.equals(null)</code> - which means that any instantiable object is not equal to <code>null</code>. So if you pass a null as an argument to your object <code>o1</code>, then it should return false.</li>\n<li>Hash code value:  <code>o1.equals(o2)</code> implies <code>o1.hashCode() == o2.hashCode()</code>. This is very important. If you define an <code>equals()</code> method then you must define a <code>hashCode()</code> method as well. Also it means that if you have two objects that are equal then they must have the same hashCode, however the reverse is not true</li>\n</ul>\n<p><strong>From Java source code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * @param   obj   the reference object with which to compare.\n * @return  {@code true} if this object is the same as the obj\n *          argument; {@code false} otherwise.\n * @see     #hashCode()\n * @see     java.util.HashMap\n */\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n<p><strong><code>hashCode()</code></strong>: This method returns a <code>hashCode()</code> value as an Integer and is supported for the benefit of hashing based <code>java.util.Collection</code> classes like\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">Hashtable</a>,\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a>,\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet</a>,\netc.</p>\n<p>If a class overrides the <code>equals()</code> method, it must implement the <code>hashCode()</code> method as well. Before overriding this method, you need to keep in mind:</p>\n<ul>\n<li><p>Whenever <code>hashCode()</code> method is invoked on the same object more than once during an execution of a Java program, this method must consistently return the same result. The integer result need not remain consistent from one execution of the program to the next execution of the same program.</p>\n</li>\n<li><p>If two objects are equal as per the <code>equals()</code> method, then calling the <code>hashCode()</code> method in each of the two objects must return the same integer result. So, If a field is not used in <code>equals()</code>, then it must not be used in <code>hashCode()</code> method.</p>\n</li>\n<li><p>If two objects are unequal as per the <code>equals()</code> method, each of the two objects can return either two different integer results or same integer results (i.e. if two objects have the same <code>hashCode()</code> result does not mean that they are equal, but if two objects are equal then they must return the same <code>hashCode()</code> result).</p>\n</li>\n</ul>\n<p><strong>As per Java source code</strong>\nAs much as is reasonably practical, the <code>hashCode()</code> method defined by <code>java.lang.Object</code> does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer.)</p>\n"},{"tags":[],"owner":{"account_id":8911230,"reputation":19,"user_id":6651385,"display_name":"Amit Yadav"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1469734172,"creation_date":1469734172,"answer_id":38645188,"question_id":24446763,"body_markdown":"equals() only compare string it&#39;s does not check reference of string\r\n\r\nbut &#39;==&#39; check reference and data both\r\n\r\nin 1st case  String str = &quot;Name&quot;; only one object is created but in\r\n\r\n2nd case Two object is created\r\n\r\n    String str1 = new String(&quot;Name&quot;);\r\n\r\nthen reference are not same of both string that means it returns false\r\n\r\n","title":"difference between equals() and hashCode()","body":"<p>equals() only compare string it's does not check reference of string</p>\n\n<p>but '==' check reference and data both</p>\n\n<p>in 1st case  String str = \"Name\"; only one object is created but in</p>\n\n<p>2nd case Two object is created</p>\n\n<pre><code>String str1 = new String(\"Name\");\n</code></pre>\n\n<p>then reference are not same of both string that means it returns false</p>\n"},{"tags":[],"owner":{"account_id":7597705,"reputation":71,"user_id":5763398,"display_name":"0coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538869119,"creation_date":1538869119,"answer_id":52684231,"question_id":24446763,"body_markdown":"equals() and hashCode() are different methods and hashCode method should not be used to check if two object references are same.\r\n**Reason:**  hashCode just returns int value for an Object,  even two different objects can have same hashCode integer. The value returned by hashCode() is the object&#39;s hash code, which is the object&#39;s memory address in hexadecimal.\r\n**equals()** checks if the two object references are same. If two objects are equal then their hashCode must be the same, but the reverse is not true.","title":"difference between equals() and hashCode()","body":"<p>equals() and hashCode() are different methods and hashCode method should not be used to check if two object references are same.\n<strong>Reason:</strong>  hashCode just returns int value for an Object,  even two different objects can have same hashCode integer. The value returned by hashCode() is the object's hash code, which is the object's memory address in hexadecimal.\n<strong>equals()</strong> checks if the two object references are same. If two objects are equal then their hashCode must be the same, but the reverse is not true.</p>\n"}],"owner":{"account_id":4030412,"reputation":2101,"user_id":3316746,"accept_rate":10,"display_name":"Dhivakar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66285,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":7,"score":22,"last_activity_date":1694713060,"creation_date":1403855760,"question_id":24446763,"body_markdown":"I want a brief definition about the equals() , &quot;==&quot; and hashCode(). If i run following code means the output will be &quot;true false 2420395 2420395&quot;. But i had understand that equals() method compares the string and &quot;==&quot; compares the reference. But in output the hashCcode() method prints the reference number for both strings as same then why the &quot;==&quot; returns &quot;false&quot;.\r\n\r\n        String str = &quot;Name&quot;;\r\n\t\tString str1 = new String(&quot;Name&quot;);\r\n\t\t\r\n\t\tif (str.equals(str1))\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\r\n\t\tif (str == str1)\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t\r\n\t\tSystem.out.println(str.hashCode());\r\n\t\tSystem.out.println(str1.hashCode());","title":"difference between equals() and hashCode()","body":"<p>I want a brief definition about the equals() , &quot;==&quot; and hashCode(). If i run following code means the output will be &quot;true false 2420395 2420395&quot;. But i had understand that equals() method compares the string and &quot;==&quot; compares the reference. But in output the hashCcode() method prints the reference number for both strings as same then why the &quot;==&quot; returns &quot;false&quot;.</p>\n<pre><code>    String str = &quot;Name&quot;;\n    String str1 = new String(&quot;Name&quot;);\n    \n    if (str.equals(str1))\n        System.out.println(&quot;true&quot;);\n    else\n        System.out.println(&quot;false&quot;);\n\n    if (str == str1)\n        System.out.println(&quot;true&quot;);\n    else\n        System.out.println(&quot;false&quot;);\n    \n    System.out.println(str.hashCode());\n    System.out.println(str1.hashCode());\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1694717039,"post_id":77106773,"comment_id":135931668,"body_markdown":"can you provide the configuration files please.","body":"can you provide the configuration files please."}],"owner":{"account_id":7751532,"reputation":41,"user_id":5867303,"display_name":"Harshal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694712375,"creation_date":1694708470,"question_id":77106773,"body_markdown":"I have application name with profile name property file, same is there on cloud config, my application is able to fetch property from cloud but somehow local property values are getting used in application i.e. local property file is over riding cloud config. \r\n\r\nIs this correct? \r\n\r\nI want to have my application to use cloud config property values than local one","title":"Spring cloud config along with local property file, which will be preferred by an application","body":"<p>I have application name with profile name property file, same is there on cloud config, my application is able to fetch property from cloud but somehow local property values are getting used in application i.e. local property file is over riding cloud config.</p>\n<p>Is this correct?</p>\n<p>I want to have my application to use cloud config property values than local one</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694707594,"creation_date":1694707594,"answer_id":77106675,"question_id":77105660,"body_markdown":"**The AWS SDK for Java v1/v2 *itself* doesn&#39;t support setting the S3 endpoint via system properties.**\r\n\r\nIf you only want to use `application.properties` for reading &amp; setting the LocalStack S3 endpoint, you would typically already need to be using a library like [Spring Cloud AWS][1] that supports setting it via [`cloud.aws.s3.endpoint`][2].\r\n\r\nWithout such a library, there’s no out-of-the-box way to do this.\r\n\r\nYou would need to set it programmatically using `.withEndpointConfiguration()`.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-aws/\r\n  [2]: https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/appendix.html","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p><strong>The AWS SDK for Java v1/v2 <em>itself</em> doesn't support setting the S3 endpoint via system properties.</strong></p>\n<p>If you only want to use <code>application.properties</code> for reading &amp; setting the LocalStack S3 endpoint, you would typically already need to be using a library like <a href=\"https://spring.io/projects/spring-cloud-aws/\" rel=\"nofollow noreferrer\">Spring Cloud AWS</a> that supports setting it via <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/appendix.html\" rel=\"nofollow noreferrer\"><code>cloud.aws.s3.endpoint</code></a>.</p>\n<p>Without such a library, there’s no out-of-the-box way to do this.</p>\n<p>You would need to set it programmatically using <code>.withEndpointConfiguration()</code>.</p>\n"},{"tags":[],"owner":{"account_id":28993030,"reputation":184,"user_id":22208318,"display_name":"Anca G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694711404,"creation_date":1694711404,"answer_id":77107103,"question_id":77105660,"body_markdown":"Here&#39;s an alternative and example that might help you: https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3. The whole point of it is to let you configure your beans based on Spring profiles, and runs on both AWS and LocalStack. The extended description is in the README.md file.\r\n\r\nThe short version: You can use different profiles to configure your beans based on their environments (dev, test, prod, etc). So with `.withEndpointConfiguration()` you can use the `@Value` annotation when you declare your variable, in association with `@Configuration` on the class level (see `AmazonS3Config` class) and an `application-&lt;profile&gt;.yml` file. You then run your app using `mvn spring-boot:run -Dspring-boot.run.profiles=&lt;profile&gt;`.\r\n\r\nIt looks like you&#39;re using the Java AWS SDK v1 and the sample is using v2, but no worries, this is only a matter of library syntax when you configure your beans. ","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p>Here's an alternative and example that might help you: <a href=\"https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3\" rel=\"nofollow noreferrer\">https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3</a>. The whole point of it is to let you configure your beans based on Spring profiles, and runs on both AWS and LocalStack. The extended description is in the README.md file.</p>\n<p>The short version: You can use different profiles to configure your beans based on their environments (dev, test, prod, etc). So with <code>.withEndpointConfiguration()</code> you can use the <code>@Value</code> annotation when you declare your variable, in association with <code>@Configuration</code> on the class level (see <code>AmazonS3Config</code> class) and an <code>application-&lt;profile&gt;.yml</code> file. You then run your app using <code>mvn spring-boot:run -Dspring-boot.run.profiles=&lt;profile&gt;</code>.</p>\n<p>It looks like you're using the Java AWS SDK v1 and the sample is using v2, but no worries, this is only a matter of library syntax when you configure your beans.</p>\n"}],"owner":{"account_id":1817194,"reputation":53,"user_id":1652055,"accept_rate":23,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694711404,"creation_date":1694700057,"question_id":77105660,"body_markdown":"I&#39;m working on a Spring Boot application that interfaces with AWS S3, and I need to use LocalStack.\r\n\r\nI want to configure the endpoint in `application.properties` rather than in the Java code with `.withEndpointConfiguration()`. This is because I can&#39;t modify my Java code.\r\n\r\nHere&#39;s my Java code:\r\n\r\n```java\r\nAmazonS3 client = AmazonS3ClientBuilder.standard()\r\n                    .withPathStyleAccessEnabled(true)\r\n                    .withRegion(&quot;us-east-1&quot;)\r\n                    .withCredentials(awsCredentialsProvider())\r\n                    .build();\r\n```\r\n\r\nIn `application.properties`, I&#39;ve got:\r\n\r\n```\r\naws.endpoint=http://localhost:4566\r\n```\r\n\r\nIn my `pom.xml`, I have included the following dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.68&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.151&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever, I&#39;m encountering an error that seems to indicate it&#39;s connecting to AWS instead of LocalStack. \r\n\r\nThe error message is:\r\n\r\n&gt; com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: xxx; S3 Extended Request ID: xxx; Proxy: null)\r\n\r\nCan I use `application.properties` to define the S3 endpoint for the AWS SDK for Java?","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p>I'm working on a Spring Boot application that interfaces with AWS S3, and I need to use LocalStack.</p>\n<p>I want to configure the endpoint in <code>application.properties</code> rather than in the Java code with <code>.withEndpointConfiguration()</code>. This is because I can't modify my Java code.</p>\n<p>Here's my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AmazonS3 client = AmazonS3ClientBuilder.standard()\n                    .withPathStyleAccessEnabled(true)\n                    .withRegion(&quot;us-east-1&quot;)\n                    .withCredentials(awsCredentialsProvider())\n                    .build();\n</code></pre>\n<p>In <code>application.properties</code>, I've got:</p>\n<pre><code>aws.endpoint=http://localhost:4566\n</code></pre>\n<p>In my <code>pom.xml</code>, I have included the following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.12.68&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;version&gt;1.12.151&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, I'm encountering an error that seems to indicate it's connecting to AWS instead of LocalStack.</p>\n<p>The error message is:</p>\n<blockquote>\n<p>com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: xxx; S3 Extended Request ID: xxx; Proxy: null)</p>\n</blockquote>\n<p>Can I use <code>application.properties</code> to define the S3 endpoint for the AWS SDK for Java?</p>\n"},{"tags":["java","collections","set","linkedhashset"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1403937535,"post_id":24464279,"comment_id":37861299,"body_markdown":"Why did you use a `Set` in the first place if insertion order is important? And what is the meaning of &quot;last element inserted&quot; if the element was already present in the set?","body":"Why did you use a <code>Set</code> in the first place if insertion order is important? And what is the meaning of &quot;last element inserted&quot; if the element was already present in the set?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403937643,"post_id":24464279,"comment_id":37861321,"body_markdown":"Obviously using a `Set` to ensure no duplicates. If I insert 3 elements into a `Set`, all unique, then the 3rd element is the &quot;last element inserted&quot;. Think of it as the &quot;freshest&quot; `Set` member: I want to use the &quot;freshest&quot; value.","body":"Obviously using a <code>Set</code> to ensure no duplicates. If I insert 3 elements into a <code>Set</code>, all unique, then the 3rd element is the &quot;last element inserted&quot;. Think of it as the &quot;freshest&quot; <code>Set</code> member: I want to use the &quot;freshest&quot; value."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403937745,"post_id":24464279,"comment_id":37861338,"body_markdown":"@markvgti there is no such thing as the &quot;freshest&quot; set... A set has no order!","body":"@markvgti there is no such thing as the &quot;freshest&quot; set... A set has no order!"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403937931,"post_id":24464279,"comment_id":37861371,"body_markdown":"@alfasin It doesn&#39;t matter what Math says, what matters is which element I want to access. LinkedHasSet (API docs linked to in the question) preserves insertion order -- I want to access the last-inserted element. The why doesn&#39;t matter.","body":"@alfasin It doesn&#39;t matter what Math says, what matters is which element I want to access. LinkedHasSet (API docs linked to in the question) preserves insertion order -- I want to access the last-inserted element. The why doesn&#39;t matter."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403938213,"post_id":24464279,"comment_id":37861424,"body_markdown":"@alfasin This particular implementation of `Set` does in fact guarantee iteration order. From the javadoc: &quot;Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;","body":"@alfasin This particular implementation of <code>Set</code> does in fact guarantee iteration order. From the javadoc: &quot;Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403938409,"post_id":24464279,"comment_id":37861457,"body_markdown":"@alfasin So I guess you&#39;re saying the implementers of LinkedHashSet who wrote the Javadoc are wrong?","body":"@alfasin So I guess you&#39;re saying the implementers of LinkedHashSet who wrote the Javadoc are wrong?"},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938695,"post_id":24464279,"comment_id":37861518,"body_markdown":"@user3580294 like you wrote: it guarantees *iteration* order, not *INSERTION* order. See HelpVampire666&#39;s answer why it&#39;s not the same thing.","body":"@user3580294 like you wrote: it guarantees <i>iteration</i> order, not <i>INSERTION</i> order. See HelpVampire666&#39;s answer why it&#39;s not the same thing."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403938720,"post_id":24464279,"comment_id":37861524,"body_markdown":"@alfasin &quot;This linked list defines the iteration ordering, **which is the order in which elements were inserted into the set (insertion-order).**&quot; The iteration order **is** insertion order.","body":"@alfasin &quot;This linked list defines the iteration ordering, <b>which is the order in which elements were inserted into the set (insertion-order).</b>&quot; The iteration order <b>is</b> insertion order."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403938845,"post_id":24464279,"comment_id":37861553,"body_markdown":"@alfasin It&#39;s a *Set*. You *can&#39;t* &quot;re-insert&quot; an element into it because it doesn&#39;t contain duplicates. Once an element is there, it&#39;s there. &quot;Re-inserting&quot; an element wouldn&#39;t make sense, and because it wouldn&#39;t change a `Set`, shouldn&#39;t change anything else either. The side effects would be too difficult to deal with.","body":"@alfasin It&#39;s a <i>Set</i>. You <i>can&#39;t</i> &quot;re-insert&quot; an element into it because it doesn&#39;t contain duplicates. Once an element is there, it&#39;s there. &quot;Re-inserting&quot; an element wouldn&#39;t make sense, and because it wouldn&#39;t change a <code>Set</code>, shouldn&#39;t change anything else either. The side effects would be too difficult to deal with."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938916,"post_id":24464279,"comment_id":37861567,"body_markdown":"@user3580294 now why is that ? because: SET has no order!","body":"@user3580294 now why is that ? because: SET has no order!"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":3,"creation_date":1403938957,"post_id":24464279,"comment_id":37861575,"body_markdown":"@alfasin And yet there&#39;s a set implementation *with* an order -- and that implementation is `LinkedHashSet`. `Set` makes no guarantees to order, and *doesn&#39;t prohibit order either*. So it&#39;s perfectly OK for an implementation of a `Set` to have an order.","body":"@alfasin And yet there&#39;s a set implementation <i>with</i> an order -- and that implementation is <code>LinkedHashSet</code>. <code>Set</code> makes no guarantees to order, and <i>doesn&#39;t prohibit order either</i>. So it&#39;s perfectly OK for an implementation of a <code>Set</code> to have an order."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403939293,"post_id":24464279,"comment_id":37861635,"body_markdown":"@alfasin So there&#39;s no way we can resolve this if we see differently. I chose the first approach because I see the insertions as a sequence of insertions *to a set*, and if the insertion to the set failed there&#39;s no reason you should track it. To me, keeping track of the insertions separately from the set itself is illogical because by definition you&#39;re tracking insertions to the set. Can&#39;t say that the equivalent behavior for `LinkedHashMap` makes sense, but it is logical to me for `LinkedHashSet`.","body":"@alfasin So there&#39;s no way we can resolve this if we see differently. I chose the first approach because I see the insertions as a sequence of insertions <i>to a set</i>, and if the insertion to the set failed there&#39;s no reason you should track it. To me, keeping track of the insertions separately from the set itself is illogical because by definition you&#39;re tracking insertions to the set. Can&#39;t say that the equivalent behavior for <code>LinkedHashMap</code> makes sense, but it is logical to me for <code>LinkedHashSet</code>."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403939522,"post_id":24464279,"comment_id":37861679,"body_markdown":"@user3580294 when you try to insert the same element to a set, you don&#39;t get any exception thrown at you, guess why ? (hint: it&#39;s a valid action and there is no &quot;failure&quot; here).","body":"@user3580294 when you try to insert the same element to a set, you don&#39;t get any exception thrown at you, guess why ? (hint: it&#39;s a valid action and there is no &quot;failure&quot; here)."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403939635,"post_id":24464279,"comment_id":37861706,"body_markdown":"@alfasin No, you don&#39;t get an exception -- although if the implementers had decided to do so you certainly could get one (that would be a horrible misuse of exceptions, though). But you get a return value of `false` -- as in the addition failed. Yes, it&#39;s a valid action. No, it shouldn&#39;t change anything about the collection if the action wouldn&#39;t change anything for any other `Set` implementation.","body":"@alfasin No, you don&#39;t get an exception -- although if the implementers had decided to do so you certainly could get one (that would be a horrible misuse of exceptions, though). But you get a return value of <code>false</code> -- as in the addition failed. Yes, it&#39;s a valid action. No, it shouldn&#39;t change anything about the collection if the action wouldn&#39;t change anything for any other <code>Set</code> implementation."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403939946,"post_id":24464279,"comment_id":37861786,"body_markdown":"@user3580294 the return value is a fair claim! (Not that I agree with you because of it :) I guess it&#39;s open to interpretation if the &quot;insert-sequence&quot; should include repeating elements.","body":"@user3580294 the return value is a fair claim! (Not that I agree with you because of it :) I guess it&#39;s open to interpretation if the &quot;insert-sequence&quot; should include repeating elements."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403940084,"post_id":24464279,"comment_id":37861808,"body_markdown":"@alfasin Yeah, don&#39;t think we can really get further unless we can get Josh Bloch here to describe the design decisions. I guess we can at least be happy that `LinkedHashSet` and `LinkedHashMap` are consistent in their behavior.","body":"@alfasin Yeah, don&#39;t think we can really get further unless we can get Josh Bloch here to describe the design decisions. I guess we can at least be happy that <code>LinkedHashSet</code> and <code>LinkedHashMap</code> are consistent in their behavior."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403940168,"post_id":24464279,"comment_id":37861823,"body_markdown":"@user3580294 it was an interesting discussion though :)","body":"@user3580294 it was an interesting discussion though :)"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403940193,"post_id":24464279,"comment_id":37861827,"body_markdown":"@alfasin Your argumentation is pointless as the example test I have posted clearly shows that a) LinkedHashSet&#39;s idea of insertion ordering matches with my own and b) it does what I want it to do. Your idea of insertion order may be different (which doesn&#39;t make it any less valid) but it&#39;s pointless to argue what *should be* vs. *what is*.","body":"@alfasin Your argumentation is pointless as the example test I have posted clearly shows that a) LinkedHashSet&#39;s idea of insertion ordering matches with my own and b) it does what I want it to do. Your idea of insertion order may be different (which doesn&#39;t make it any less valid) but it&#39;s pointless to argue what <i>should be</i> vs. <i>what is</i>."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403940316,"post_id":24464279,"comment_id":37861846,"body_markdown":"@alfasin Agreed. I&#39;d be nice to ask a question clarifying this, although I&#39;m not sure it&#39;d be closed due to no one being able to provide an authoritative answer outside of the Collections authors. But I&#39;m pretty sure I&#39;ve seen some Java language architects around, maybe Bloch is among them... Or maybe someone is enlightened enough to answer. Who knows...","body":"@alfasin Agreed. I&#39;d be nice to ask a question clarifying this, although I&#39;m not sure it&#39;d be closed due to no one being able to provide an authoritative answer outside of the Collections authors. But I&#39;m pretty sure I&#39;ve seen some Java language architects around, maybe Bloch is among them... Or maybe someone is enlightened enough to answer. Who knows..."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403940400,"post_id":24464279,"comment_id":37861867,"body_markdown":"@markvgti you obviously didn&#39;t follow the conversation here. The example you provided doesn&#39;t handle cases of multiple insertion of the same item. From the link that you posted to LinkedHashSet docs: &quot;Note that insertion order is not affected if an element is re-inserted into the set.&quot; That said, if you&#39;re happy with it (and aware of the limitation) - go for it.","body":"@markvgti you obviously didn&#39;t follow the conversation here. The example you provided doesn&#39;t handle cases of multiple insertion of the same item. From the link that you posted to LinkedHashSet docs: &quot;Note that insertion order is not affected if an element is re-inserted into the set.&quot; That said, if you&#39;re happy with it (and aware of the limitation) - go for it."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403940629,"post_id":24464279,"comment_id":37861929,"body_markdown":"@alfasin Are you in the habit of writing before reading fully? http://pastebin.com/KZJ3ETx9 clearly inserts the number 3 multiple times!!! Yet the ordering of elements is utterly predictable.","body":"@alfasin Are you in the habit of writing before reading fully? <a href=\"http://pastebin.com/KZJ3ETx9\" rel=\"nofollow noreferrer\">pastebin.com/KZJ3ETx9</a> clearly inserts the number 3 multiple times!!! Yet the ordering of elements is utterly predictable."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403941009,"post_id":24464279,"comment_id":37862010,"body_markdown":"@markvgti add `System.out.println(list.get(2).intValue());` it&#39;ll print `3` when it&#39;s obviously the LAST item to be inserted (your example doesn&#39;t test *that*).","body":"@markvgti add <code>System.out.println(list.get(2).intValue());</code> it&#39;ll print <code>3</code> when it&#39;s obviously the LAST item to be inserted (your example doesn&#39;t test <i>that</i>)."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403941541,"post_id":24464279,"comment_id":37862123,"body_markdown":"@alfasin It isn&#39;t the last item to be inserted, it&#39;s the 3rd (remember, duplicate insertions don&#39;t count --- that&#39;s the whole point of a Set). 8 is the last item to actually be inserted into the Set. So `list.get(2).intValue()` **should return** 3, which is what it does. I understand we have a difference of opinion as to what constitutes an &quot;insertion&quot; (luckily for me, my understanding is the same as that of the writers of `LinkedHashSet`), but this discussion (and down-voting of the question) is fruitless (and counter-productive) as it doesn&#39;t get us any closer to an answer to my question.","body":"@alfasin It isn&#39;t the last item to be inserted, it&#39;s the 3rd (remember, duplicate insertions don&#39;t count --- that&#39;s the whole point of a Set). 8 is the last item to actually be inserted into the Set. So <code>list.get(2).intValue()</code> <b>should return</b> 3, which is what it does. I understand we have a difference of opinion as to what constitutes an &quot;insertion&quot; (luckily for me, my understanding is the same as that of the writers of <code>LinkedHashSet</code>), but this discussion (and down-voting of the question) is fruitless (and counter-productive) as it doesn&#39;t get us any closer to an answer to my question."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403941937,"post_id":24464279,"comment_id":37862200,"body_markdown":"@user3580294 had to write one more thing... the [*docs*](http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#add(E)) state that the return value only shows &quot;if this set did not already contain the specified element&quot; - it doesn&#39;t mean that the insertion failed. Just sayin :)","body":"@user3580294 had to write one more thing... the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#add(E)\" rel=\"nofollow noreferrer\"><i>docs</i></a> state that the return value only shows &quot;if this set did not already contain the specified element&quot; - it doesn&#39;t mean that the insertion failed. Just sayin :)"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403942419,"post_id":24464279,"comment_id":37862299,"body_markdown":"@alfasin And it also says &quot;If this set already contains the element, the call leaves the set unchanged and returns false&quot;. So I suppose it depends on what you mean by &quot;failed&quot;... On a side note, it also says &quot;sets may refuse to add any particular element, including null, and throw an exception&quot;. So it seems exceptions are actually allowed...","body":"@alfasin And it also says &quot;If this set already contains the element, the call leaves the set unchanged and returns false&quot;. So I suppose it depends on what you mean by &quot;failed&quot;... On a side note, it also says &quot;sets may refuse to add any particular element, including null, and throw an exception&quot;. So it seems exceptions are actually allowed..."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403942572,"post_id":24464279,"comment_id":37862325,"body_markdown":"@user3580294 yeps, 4 types of exceptions are thrown, none of which for duplicates, which just stresses the point that order is meaningless :D","body":"@user3580294 yeps, 4 types of exceptions are thrown, none of which for duplicates, which just stresses the point that order is meaningless :D"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1403948795,"post_id":24464279,"comment_id":37863612,"body_markdown":"Am I the only one who is confused by the mixed use of &quot;nth element&quot; (which, for me at least, suggests an *indexed access* with index `n`), and the use of &quot;last element&quot; (which is trivial to accomplish using the approach of HelpVampire666 or omu_negru)? So if you need indexed access, Set is the wrong data structure, and you should consider a different approach (maybe storing the data in a Set **and** in a list, cleverly connected to avoid duplicates). If you need the last element, use one of the answers of the aforementioned users.","body":"Am I the only one who is confused by the mixed use of &quot;nth element&quot; (which, for me at least, suggests an <i>indexed access</i> with index <code>n</code>), and the use of &quot;last element&quot; (which is trivial to accomplish using the approach of HelpVampire666 or omu_negru)? So if you need indexed access, Set is the wrong data structure, and you should consider a different approach (maybe storing the data in a Set <b>and</b> in a list, cleverly connected to avoid duplicates). If you need the last element, use one of the answers of the aforementioned users."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403956041,"post_id":24464279,"comment_id":37865286,"body_markdown":"@Marco13 That&#39;s why I have modified the question to remove all mention of &quot;last element&quot;. nth element is the general case and that&#39;s what I am more interested in. Obviously the `Set` is an easy way to ensure there are no duplicates. I want to avoid the overhead of ensuring that a `Set` and a `List` stay in sync.","body":"@Marco13 That&#39;s why I have modified the question to remove all mention of &quot;last element&quot;. nth element is the general case and that&#39;s what I am more interested in. Obviously the <code>Set</code> is an easy way to ensure there are no duplicates. I want to avoid the overhead of ensuring that a <code>Set</code> and a <code>List</code> stay in sync."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1403963434,"post_id":24464279,"comment_id":37867263,"body_markdown":"For the general case, there is a tradeoff. You can have O(1), O(logn) or O(n) for the most common operations (insert, access, ...). Depending on *which* operations you have to perform (and which are time-critical), you should use the appropriate data structure. Another tradeoff is the one between memory consumption and certain operations. You could easily accomplish O(1) insertion *and* indexed access when you use a Set+List, storing the data twice. In any case, in order to give an appropriate answer, the requirements must be clearly defined on this technical level.","body":"For the general case, there is a tradeoff. You can have O(1), O(logn) or O(n) for the most common operations (insert, access, ...). Depending on <i>which</i> operations you have to perform (and which are time-critical), you should use the appropriate data structure. Another tradeoff is the one between memory consumption and certain operations. You could easily accomplish O(1) insertion <i>and</i> indexed access when you use a Set+List, storing the data twice. In any case, in order to give an appropriate answer, the requirements must be clearly defined on this technical level."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403980276,"post_id":24464279,"comment_id":37871575,"body_markdown":"@alfasin What do you mean, &quot;order is meaningless&quot;? If order is meaningless, then why bother make a `Set` implementation with order? (Oh shoot.... Is this going back to the beginning of our conversation again?)","body":"@alfasin What do you mean, &quot;order is meaningless&quot;? If order is meaningless, then why bother make a <code>Set</code> implementation with order? (Oh shoot.... Is this going back to the beginning of our conversation again?)"},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403981280,"post_id":24464279,"comment_id":37871802,"body_markdown":"@user3580294 :D I like you dude! :)))","body":"@user3580294 :D I like you dude! :)))"}],"answers":[{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403937423,"creation_date":1403937423,"answer_id":24464308,"question_id":24464279,"body_markdown":"I&#39;d use the iterator of the LinkedHashSet if you want to retrieve the last element:\r\n\r\n\tIterator&lt;T&gt; it = linkedHashSet.iterator();\r\n    T value = null;\r\n\r\n\twhile (it.hasNext()) {\r\n\t\tvalue = it.next();\r\n\t}\r\n\r\nAfter the loop execution value will be referring to the last element.","title":"How to get nth element of a LinkedHashSet","body":"<p>I'd use the iterator of the LinkedHashSet if you want to retrieve the last element:</p>\n\n<pre><code>Iterator&lt;T&gt; it = linkedHashSet.iterator();\nT value = null;\n\nwhile (it.hasNext()) {\n    value = it.next();\n}\n</code></pre>\n\n<p>After the loop execution value will be referring to the last element.</p>\n"},{"tags":[],"owner":{"account_id":2902366,"reputation":124,"user_id":2488705,"accept_rate":20,"display_name":"HelpVampire666"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403937929,"creation_date":1403937929,"answer_id":24464361,"question_id":24464279,"body_markdown":"Set is unordered so the information on the last element inserted is lost. You cannot as such get the last element inserted. So don&#39;t use Set in the first place, or, if you really want to keep track of the last element, create a class containing that  like this\r\n\r\n    class mySetAndLast extends Set{\r\n       T last;\r\n       Set&lt;T&gt; mySet;       \r\n    }\r\n\r\nnow the question is what is the &#39;last element inserted&#39;. Imagine your set was empty \r\n\r\n    -&gt; insert x -&gt; ok, x is the last inserted \r\n    -&gt; insert y (y!=x) -&gt; ok: y is the last inserted \r\n    -&gt; insert x -&gt; ? \r\n\r\nis now x or y the last inserted?\r\nx does not get inserted because y was the last element inserted and x already is an element of the set, on the other hand x from the user&#39;s point of view was the last inserted..","title":"How to get nth element of a LinkedHashSet","body":"<p>Set is unordered so the information on the last element inserted is lost. You cannot as such get the last element inserted. So don't use Set in the first place, or, if you really want to keep track of the last element, create a class containing that  like this</p>\n\n<pre><code>class mySetAndLast extends Set{\n   T last;\n   Set&lt;T&gt; mySet;       \n}\n</code></pre>\n\n<p>now the question is what is the 'last element inserted'. Imagine your set was empty </p>\n\n<pre><code>-&gt; insert x -&gt; ok, x is the last inserted \n-&gt; insert y (y!=x) -&gt; ok: y is the last inserted \n-&gt; insert x -&gt; ? \n</code></pre>\n\n<p>is now x or y the last inserted?\nx does not get inserted because y was the last element inserted and x already is an element of the set, on the other hand x from the user's point of view was the last inserted..</p>\n"},{"tags":[],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504069388,"creation_date":1403956530,"answer_id":24466555,"question_id":24464279,"body_markdown":"So I decided to go with a slight variation of the answer by @Juvanis.\r\n\r\nTo get at the nth element in a LinkedHashSet:\r\n\r\n    Iterator&lt;T&gt; itr = mySet.iterator();\r\n    int nth = y;\r\n    T value = null;\r\n\r\n    for(int i = 0; itr.hasNext(); i++) {\r\n        value = itr.next();\r\n        if (i == nth) {\r\n            break;\r\n        }\r\n    }\r\n\r\nVersion 2 of the code:\r\n\r\n    public class SetUtil {\r\n    \r\n        @Nullable\r\n        public static &lt;T&gt; T nthElement(Set&lt;T&gt; set, int n) {\r\n            if (null != set &amp;&amp; n &gt;= 0 &amp;&amp; n &lt; set.size()) {\r\n                int count = 0;\r\n                for (T element : set) {\r\n                    if (n == count)\r\n                        return element;\r\n                    count++;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n**NB:** with some slight modifications the method above can be used for all `Iterables&lt;T&gt;`.\r\n\r\nThis avoids the overhead of ensuring that a `Set` and a `List` stay in sync, and also avoids having to create a new `List` every time (which will be more time-consuming than any amount of algorithmic complexity).\r\n\r\nObviously I am using a `Set` to ensure uniqueness and I&#39;d rather avoid a lengthy explanation as to why I need indexed access.\r\n","title":"How to get nth element of a LinkedHashSet","body":"<p>So I decided to go with a slight variation of the answer by @Juvanis.</p>\n\n<p>To get at the nth element in a LinkedHashSet:</p>\n\n<pre><code>Iterator&lt;T&gt; itr = mySet.iterator();\nint nth = y;\nT value = null;\n\nfor(int i = 0; itr.hasNext(); i++) {\n    value = itr.next();\n    if (i == nth) {\n        break;\n    }\n}\n</code></pre>\n\n<p>Version 2 of the code:</p>\n\n<pre><code>public class SetUtil {\n\n    @Nullable\n    public static &lt;T&gt; T nthElement(Set&lt;T&gt; set, int n) {\n        if (null != set &amp;&amp; n &gt;= 0 &amp;&amp; n &lt; set.size()) {\n            int count = 0;\n            for (T element : set) {\n                if (n == count)\n                    return element;\n                count++;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>NB:</strong> with some slight modifications the method above can be used for all <code>Iterables&lt;T&gt;</code>.</p>\n\n<p>This avoids the overhead of ensuring that a <code>Set</code> and a <code>List</code> stay in sync, and also avoids having to create a new <code>List</code> every time (which will be more time-consuming than any amount of algorithmic complexity).</p>\n\n<p>Obviously I am using a <code>Set</code> to ensure uniqueness and I'd rather avoid a lengthy explanation as to why I need indexed access.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1403965228,"creation_date":1403965228,"answer_id":24467730,"question_id":24464279,"body_markdown":"This method is based on the updated requirement to return the nth element, rather than just the last element. If the source is e.g. a Set with identifier `mySet`, the last element can be selected by `nthElement(mySet, mySet.size()-1)`.\r\n\r\nIf `n` is small compared to the size of the `Set`, this method may be faster than e.g. converting to an `ArrayList`.\r\n\r\n      /**\r\n       * Return an element selected by position in iteration order.\r\n       * @param data The source from which an element is to be selected\r\n       * @param n The index of the required element. If it is not in the \r\n       * range of elements of the iterable, the method returns null.\r\n       * @return The selected element.\r\n       */\r\n      public static final &lt;T&gt; T nthElement(Iterable&lt;T&gt; data, int n){\r\n        int index = 0;\r\n        for(T element : data){\r\n          if(index == n){\r\n            return element;\r\n          }\r\n          index++;\r\n        }\r\n        return null;\r\n      }","title":"How to get nth element of a LinkedHashSet","body":"<p>This method is based on the updated requirement to return the nth element, rather than just the last element. If the source is e.g. a Set with identifier <code>mySet</code>, the last element can be selected by <code>nthElement(mySet, mySet.size()-1)</code>.</p>\n\n<p>If <code>n</code> is small compared to the size of the <code>Set</code>, this method may be faster than e.g. converting to an <code>ArrayList</code>.</p>\n\n<pre><code>  /**\n   * Return an element selected by position in iteration order.\n   * @param data The source from which an element is to be selected\n   * @param n The index of the required element. If it is not in the \n   * range of elements of the iterable, the method returns null.\n   * @return The selected element.\n   */\n  public static final &lt;T&gt; T nthElement(Iterable&lt;T&gt; data, int n){\n    int index = 0;\n    for(T element : data){\n      if(index == n){\n        return element;\n      }\n      index++;\n    }\n    return null;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424447468,"creation_date":1424447468,"answer_id":28632989,"question_id":24464279,"body_markdown":"For your own, internal purpose, you could &quot;hack&quot; your own `Set` from any `List` implementation:\r\n\r\n    public class ListSet&lt;E&gt; extends ArrayList&lt;E&gt; implements Set&lt;E&gt; {\r\n        @Override\r\n        public boolean add(E item) {\r\n            return contains(item) ? false : super.add(item);\r\n        }\r\n        \r\n        // ... and same for add(int, E), addAll(...), etc.\r\n    }\r\n\r\nThat example is slow (O(n) for an add) but, as you are the one implementing it, you can go back to it with smarter code for `contains()` based on your specifications.","title":"How to get nth element of a LinkedHashSet","body":"<p>For your own, internal purpose, you could \"hack\" your own <code>Set</code> from any <code>List</code> implementation:</p>\n\n<pre><code>public class ListSet&lt;E&gt; extends ArrayList&lt;E&gt; implements Set&lt;E&gt; {\n    @Override\n    public boolean add(E item) {\n        return contains(item) ? false : super.add(item);\n    }\n\n    // ... and same for add(int, E), addAll(...), etc.\n}\n</code></pre>\n\n<p>That example is slow (O(n) for an add) but, as you are the one implementing it, you can go back to it with smarter code for <code>contains()</code> based on your specifications.</p>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503242980,"creation_date":1503242980,"answer_id":45783816,"question_id":24464279,"body_markdown":"You can go with below solution, \r\nhere i have added object of ModelClass in HashSet.\r\n\r\n    ModelClass m1 = null;\r\n    int nth=scanner.nextInt();\r\n    for(int index=0;index&lt;hashset1.size();index++){\r\n        m1 = (ModelClass) itr.next();\r\n        if(nth == index) {\r\n            System.out.println(m1);\r\n            break;\r\n        }\r\n    }","title":"How to get nth element of a LinkedHashSet","body":"<p>You can go with below solution, \nhere i have added object of ModelClass in HashSet.</p>\n\n<pre><code>ModelClass m1 = null;\nint nth=scanner.nextInt();\nfor(int index=0;index&lt;hashset1.size();index++){\n    m1 = (ModelClass) itr.next();\n    if(nth == index) {\n        System.out.println(m1);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686645885,"creation_date":1686631447,"answer_id":76461751,"question_id":24464279,"body_markdown":"A straightforward approach using streams:\r\n\r\n```lang-java\r\nmySet.stream().skip(x).findFirst()\r\n        .orElseThrow(IndexOutOfBoundsException::new);\r\n```","title":"How to get nth element of a LinkedHashSet","body":"<p>A straightforward approach using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mySet.stream().skip(x).findFirst()\n        .orElseThrow(IndexOutOfBoundsException::new);\n</code></pre>\n"}],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":31,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45764,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":24466555,"answer_count":7,"score":15,"last_activity_date":1694710797,"creation_date":1403937106,"question_id":24464279,"body_markdown":"More specifically: how to get the nth element of a [LinkedHashSet](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html) (which has a predictable iteration order)? I want to retrieve the nth element inserted into this `Set` (*which wasn&#39;t already present*).\r\n\r\nIs it better to use a `List`:\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(mySet);\r\n    T value = list.get(x); // x &lt; mySet.size()\r\n\r\nor the `toArray(T [] a)` method:\r\n\r\n    T [] array = mySet.toArray(new T[mySet.size()]);\r\n    T value = array[y]; // y &lt; mySet.size()\r\n\r\nOther than the (likely slight) performance differences, anything to watch out for? Any clear winner?\r\n\r\n\r\n### Edit 1\r\n\r\n**NB:** It doesn&#39;t matter *why* I want the last-inserted element, all that matters is that I want it. LinkedHashSet was specifically chosen because it *&quot;defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot;*\r\n\r\n### Edit 2\r\n\r\nThis question seems to have devolved into a discussion of whether *any* `Set` implementation can *ever* preserve original insertion order. So I put up some simple test code at http://pastebin.com/KZJ3ETx9 to show that yes, LinkedHashSet does indeed preserve insertion order (the same as its iteration order) as its Javadoc claims.\r\n\r\n### Edit 3\r\n\r\nModified the description of the problem so that everybody isn&#39;t too focused on retrieving the last element of the `Set` (I originally thought that the title of the question would be enough of a hint &amp;mdash; obviously I was wrong).","title":"How to get nth element of a LinkedHashSet","body":"<p>More specifically: how to get the nth element of a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"noreferrer\">LinkedHashSet</a> (which has a predictable iteration order)? I want to retrieve the nth element inserted into this <code>Set</code> (<em>which wasn't already present</em>).</p>\n\n<p>Is it better to use a <code>List</code>:</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;(mySet);\nT value = list.get(x); // x &lt; mySet.size()\n</code></pre>\n\n<p>or the <code>toArray(T [] a)</code> method:</p>\n\n<pre><code>T [] array = mySet.toArray(new T[mySet.size()]);\nT value = array[y]; // y &lt; mySet.size()\n</code></pre>\n\n<p>Other than the (likely slight) performance differences, anything to watch out for? Any clear winner?</p>\n\n<h3>Edit 1</h3>\n\n<p><strong>NB:</strong> It doesn't matter <em>why</em> I want the last-inserted element, all that matters is that I want it. LinkedHashSet was specifically chosen because it <em>\"defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.\"</em></p>\n\n<h3>Edit 2</h3>\n\n<p>This question seems to have devolved into a discussion of whether <em>any</em> <code>Set</code> implementation can <em>ever</em> preserve original insertion order. So I put up some simple test code at <a href=\"http://pastebin.com/KZJ3ETx9\" rel=\"noreferrer\">http://pastebin.com/KZJ3ETx9</a> to show that yes, LinkedHashSet does indeed preserve insertion order (the same as its iteration order) as its Javadoc claims.</p>\n\n<h3>Edit 3</h3>\n\n<p>Modified the description of the problem so that everybody isn't too focused on retrieving the last element of the <code>Set</code> (I originally thought that the title of the question would be enough of a hint &mdash; obviously I was wrong).</p>\n"},{"tags":["java","html","css","pdf","itext"],"comments":[{"owner":{"account_id":3672835,"reputation":1758,"user_id":3059575,"accept_rate":98,"display_name":"Ya Wang"},"score":0,"creation_date":1444152231,"post_id":32975880,"comment_id":53776972,"body_markdown":"Generating a PDF? why not pdfbox  https://pdfbox.apache.org/","body":"Generating a PDF? why not pdfbox  <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">pdfbox.apache.org</a>"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444152430,"post_id":32975880,"comment_id":53777100,"body_markdown":"my HTML content has CSS. PDFBox may not be the best solution in that case","body":"my HTML content has CSS. PDFBox may not be the best solution in that case"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444153254,"post_id":32975880,"comment_id":53777585,"body_markdown":"that must be a joke :D. I am generating PDF through iText pdf library which is java API","body":"that must be a joke :D. I am generating PDF through iText pdf library which is java API"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1444467376,"post_id":32975880,"comment_id":53924763,"body_markdown":"*I tried looking up at the examples one of which is ...* - and what was the problem when trying to use that example for your case?","body":"<i>I tried looking up at the examples one of which is ...</i> - and what was the problem when trying to use that example for your case?"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444666899,"post_id":32975880,"comment_id":53987939,"body_markdown":"actually none I should say I became sloppy. I got my solution here on another thread. http://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext. What I was missing was correct I/O handling","body":"actually none I should say I became sloppy. I got my solution here on another thread. <a href=\"http://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext\" title=\"generate pdf from multiple html pages using itext\">stackoverflow.com/questions/33045246/&hellip;</a>. What I was missing was correct I/O handling"}],"answers":[{"tags":[],"owner":{"account_id":3198697,"reputation":1,"user_id":2701259,"display_name":"Franklin Neves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474969224,"creation_date":1444153600,"answer_id":32976307,"question_id":32975880,"body_markdown":"Try this example:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n\r\n    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.pdf.BaseFont;\r\n    import com.itextpdf.text.pdf.PdfContentByte;\r\n    import com.itextpdf.text.pdf.PdfImportedPage;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n\r\n    public class UtilPDF {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tList&lt;InputStream&gt; pdfs = new ArrayList&lt;InputStream&gt;();\r\n\r\n\t\t\tFile pdfDir = new File(&quot;C:\\\\PDF&quot;);\r\n\r\n\t\t\tboolean pdfDirectoryExists = true;\r\n\t\t\tif (!pdfDir.exists()) {\r\n\t\t\t\tpdfDirectoryExists = pdfDir.mkdir();\r\n\t\t\t}\r\n\r\n\t\t\tif (pdfDirectoryExists) {\r\n\t\t\t\tpdfs.add(new FileInputStream(&quot;C:\\\\PDF\\\\Document1.pdf&quot;));\r\n\t\t\t\tpdfs.add(new FileInputStream(&quot;C:\\\\PDF\\\\Document2.pdf&quot;));\r\n\t\t\t\tOutputStream output = new FileOutputStream(&quot;C:\\\\Projects\\\\FinalDocument_1_2.pdf&quot;);\r\n\t\t\t\tUtilPDF.concatPDFs(pdfs, output, true);\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void concatPDFs(List&lt;InputStream&gt; streamOfPDFFiles, OutputStream outputStream, boolean paginate) {\r\n\t\tDocument document = new Document();\r\n\r\n\t\ttry {\r\n\t\t\tList&lt;InputStream&gt; pdfs = streamOfPDFFiles;\r\n\t\t\tList&lt;PdfReader&gt; readers = new ArrayList&lt;PdfReader&gt;();\r\n\t\t\tint totalPages = 0;\r\n\t\t\tIterator&lt;InputStream&gt; iteratorPDFs = pdfs.iterator();\r\n\r\n\t\t\t// Create Readers for the pdfs.\r\n\t\t\twhile (iteratorPDFs.hasNext()) {\r\n\t\t\t\tInputStream pdf = iteratorPDFs.next();\r\n\t\t\t\tPdfReader pdfReader = new PdfReader(pdf);\r\n\t\t\t\treaders.add(pdfReader);\r\n\t\t\t\ttotalPages += pdfReader.getNumberOfPages();\r\n\t\t\t}\r\n\r\n\t\t\t// Create a writer for the outputstream\r\n\t\t\tPdfWriter writer = PdfWriter.getInstance(document, outputStream);\r\n\t\t\tdocument.open();\r\n\t\t\tBaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);\r\n\t\t\tPdfContentByte cb = writer.getDirectContent(); // Holds the PDF\r\n\r\n\t\t\t// data\r\n\t\t\tPdfImportedPage page;\r\n\t\t\tint currentPageNumber = 0;\r\n\t\t\tint pageOfCurrentReaderPDF = 0;\r\n\t\t\tIterator&lt;PdfReader&gt; iteratorPDFReader = readers.iterator();\r\n\r\n\t\t\t// Loop through the PDF files and add to the output.\r\n\t\t\twhile (iteratorPDFReader.hasNext()) {\r\n\t\t\t\tPdfReader pdfReader = iteratorPDFReader.next();\r\n\r\n\t\t\t\t// Create a new page in the target for each source page.\r\n\t\t\t\twhile (pageOfCurrentReaderPDF &lt; pdfReader.getNumberOfPages()) {\r\n\t\t\t\t\tdocument.newPage();\r\n\t\t\t\t\tpageOfCurrentReaderPDF++;\r\n\t\t\t\t\tcurrentPageNumber++;\r\n\t\t\t\t\tpage = writer.getImportedPage(pdfReader, pageOfCurrentReaderPDF);\r\n\t\t\t\t\tcb.addTemplate(page, 0, 0);\r\n\r\n\t\t\t\t\t// Code for pagination.\r\n\t\t\t\t\tif (paginate) {\r\n\t\t\t\t\t\tcb.beginText();\r\n\t\t\t\t\t\tcb.setFontAndSize(bf, 9);\r\n\t\t\t\t\t\tcb.showTextAligned(PdfContentByte.ALIGN_CENTER, &quot;&quot; + currentPageNumber + &quot; of &quot; + totalPages,\r\n\t\t\t\t\t\t\t\t520, 5, 0);\r\n\t\t\t\t\t\tcb.endText();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpageOfCurrentReaderPDF = 0;\r\n\t\t\t}\r\n\r\n\t\t\toutputStream.flush();\r\n\t\t\tdocument.close();\r\n\t\t\toutputStream.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\r\n\t\t\tif (document.isOpen())\r\n\t\t\t\tdocument.close();\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tif (outputStream != null)\r\n\t\t\t\t\toutputStream.close();\r\n\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>Try this example:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.pdf.BaseFont;\nimport com.itextpdf.text.pdf.PdfContentByte;\nimport com.itextpdf.text.pdf.PdfImportedPage;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfWriter;\n\npublic class UtilPDF {\n\n    public static void main(String[] args) {\n    try {\n        List&lt;InputStream&gt; pdfs = new ArrayList&lt;InputStream&gt;();\n\n        File pdfDir = new File(\"C:\\\\PDF\");\n\n        boolean pdfDirectoryExists = true;\n        if (!pdfDir.exists()) {\n            pdfDirectoryExists = pdfDir.mkdir();\n        }\n\n        if (pdfDirectoryExists) {\n            pdfs.add(new FileInputStream(\"C:\\\\PDF\\\\Document1.pdf\"));\n            pdfs.add(new FileInputStream(\"C:\\\\PDF\\\\Document2.pdf\"));\n            OutputStream output = new FileOutputStream(\"C:\\\\Projects\\\\FinalDocument_1_2.pdf\");\n            UtilPDF.concatPDFs(pdfs, output, true);\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic static void concatPDFs(List&lt;InputStream&gt; streamOfPDFFiles, OutputStream outputStream, boolean paginate) {\n    Document document = new Document();\n\n    try {\n        List&lt;InputStream&gt; pdfs = streamOfPDFFiles;\n        List&lt;PdfReader&gt; readers = new ArrayList&lt;PdfReader&gt;();\n        int totalPages = 0;\n        Iterator&lt;InputStream&gt; iteratorPDFs = pdfs.iterator();\n\n        // Create Readers for the pdfs.\n        while (iteratorPDFs.hasNext()) {\n            InputStream pdf = iteratorPDFs.next();\n            PdfReader pdfReader = new PdfReader(pdf);\n            readers.add(pdfReader);\n            totalPages += pdfReader.getNumberOfPages();\n        }\n\n        // Create a writer for the outputstream\n        PdfWriter writer = PdfWriter.getInstance(document, outputStream);\n        document.open();\n        BaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);\n        PdfContentByte cb = writer.getDirectContent(); // Holds the PDF\n\n        // data\n        PdfImportedPage page;\n        int currentPageNumber = 0;\n        int pageOfCurrentReaderPDF = 0;\n        Iterator&lt;PdfReader&gt; iteratorPDFReader = readers.iterator();\n\n        // Loop through the PDF files and add to the output.\n        while (iteratorPDFReader.hasNext()) {\n            PdfReader pdfReader = iteratorPDFReader.next();\n\n            // Create a new page in the target for each source page.\n            while (pageOfCurrentReaderPDF &lt; pdfReader.getNumberOfPages()) {\n                document.newPage();\n                pageOfCurrentReaderPDF++;\n                currentPageNumber++;\n                page = writer.getImportedPage(pdfReader, pageOfCurrentReaderPDF);\n                cb.addTemplate(page, 0, 0);\n\n                // Code for pagination.\n                if (paginate) {\n                    cb.beginText();\n                    cb.setFontAndSize(bf, 9);\n                    cb.showTextAligned(PdfContentByte.ALIGN_CENTER, \"\" + currentPageNumber + \" of \" + totalPages,\n                            520, 5, 0);\n                    cb.endText();\n                }\n            }\n            pageOfCurrentReaderPDF = 0;\n        }\n\n        outputStream.flush();\n        document.close();\n        outputStream.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n\n        if (document.isOpen())\n            document.close();\n\n        try {\n\n            if (outputStream != null)\n                outputStream.close();\n\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444410198,"creation_date":1444410198,"answer_id":33043663,"question_id":32975880,"body_markdown":"This page shows exactly what you request with prepend and append static PDF with composed HTML and CSS content. \r\n\r\nhttp://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF\r\n\r\nUse instructions are here\r\n\r\nhttp://cloudformatter.com/CSS2Pdf.APIDoc.Usage","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>This page shows exactly what you request with prepend and append static PDF with composed HTML and CSS content. </p>\n\n<p><a href=\"http://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF\" rel=\"nofollow\">http://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF</a></p>\n\n<p>Use instructions are here</p>\n\n<p><a href=\"http://cloudformatter.com/CSS2Pdf.APIDoc.Usage\" rel=\"nofollow\">http://cloudformatter.com/CSS2Pdf.APIDoc.Usage</a></p>\n"},{"tags":[],"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694710524,"creation_date":1694710524,"answer_id":77107015,"question_id":32975880,"body_markdown":"Considering I was using iText API to generate PDF I got the correct response on an another thread by the developer of iText. \r\nHis response can be checked here https://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>Considering I was using iText API to generate PDF I got the correct response on an another thread by the developer of iText.\nHis response can be checked here <a href=\"https://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext\">Generate PDF from multiple HTML pages using iText</a></p>\n"}],"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77107015,"answer_count":3,"score":0,"last_activity_date":1694710524,"creation_date":1444152158,"question_id":32975880,"body_markdown":"My use case is that I am generating pdf on the fly. Also I have a pdf with single page. I want to concatenate the newly generated PDF after/before the existing pdf page.\r\n\r\nI was already able to generate PDF from HTML (this may result in 2-3 pages) [Pdf from HTML with CSS][1]\r\n\r\nI tried looking up at the examples one of which is to concatenate existing PDFs pagewise [Working with existing PDFs - Concatenate][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32790711/pdf-not-getting-generated-when-using-itext-api-with-css\r\n  [2]: http://itextpdf.com/examples/iia.php?id=123","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>My use case is that I am generating pdf on the fly. Also I have a pdf with single page. I want to concatenate the newly generated PDF after/before the existing pdf page.</p>\n\n<p>I was already able to generate PDF from HTML (this may result in 2-3 pages) <a href=\"https://stackoverflow.com/questions/32790711/pdf-not-getting-generated-when-using-itext-api-with-css\">Pdf from HTML with CSS</a></p>\n\n<p>I tried looking up at the examples one of which is to concatenate existing PDFs pagewise <a href=\"http://itextpdf.com/examples/iia.php?id=123\" rel=\"nofollow noreferrer\">Working with existing PDFs - Concatenate</a></p>\n"},{"tags":["java","selenium-webdriver","firefox","screenshot","webpage-screenshot"],"comments":[{"owner":{"account_id":2902407,"reputation":78,"user_id":9539543,"display_name":"Shn"},"score":0,"creation_date":1522669183,"post_id":49606051,"comment_id":86227547,"body_markdown":"The function I posted was working correctly, the issue was another function was taking the background screenshot and adding it to the final report.","body":"The function I posted was working correctly, the issue was another function was taking the background screenshot and adding it to the final report."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1522649678,"creation_date":1522649678,"answer_id":49606226,"question_id":49606051,"body_markdown":"Taking a screenshot with headless Firefox should work like for usual driver.\r\n\r\nIn the past I used the following approach:\r\n\r\n    public static String makeScreenshot() {\r\n        String fileName = System.currentTimeMillis() + &quot;Test&quot;;\r\n        File screenshot = Driver.driver.get().getScreenshotAs(OutputType.FILE);\r\n        File outputFile = new File(&quot;LoggerScreenshots/&quot; + fileName + &quot;.png&quot;);\r\n        System.out.println(outputFile.getAbsolutePath());\r\n        try {\r\n            FileUtils.copyFile(screenshot, outputFile);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return outputFile.getName();\r\n    }\r\n\r\nAnd called it when test execution fails:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D7w14.png","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>Taking a screenshot with headless Firefox should work like for usual driver.</p>\n\n<p>In the past I used the following approach:</p>\n\n<pre><code>public static String makeScreenshot() {\n    String fileName = System.currentTimeMillis() + \"Test\";\n    File screenshot = Driver.driver.get().getScreenshotAs(OutputType.FILE);\n    File outputFile = new File(\"LoggerScreenshots/\" + fileName + \".png\");\n    System.out.println(outputFile.getAbsolutePath());\n    try {\n        FileUtils.copyFile(screenshot, outputFile);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return outputFile.getName();\n}\n</code></pre>\n\n<p>And called it when test execution fails:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D7w14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7w14.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12838717,"reputation":887,"user_id":9287404,"accept_rate":40,"display_name":"Bits Please"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522654760,"creation_date":1522654760,"answer_id":49607215,"question_id":49606051,"body_markdown":"Here is the way you can still use\r\n\r\n    from selenium import webdriver\r\n    from selenium.webdriver.firefox.options import Options\r\n    \r\n    options = Options()\r\n    options.add_argument( &quot;--headless&quot; )\r\n    # options.add_argument( &quot;--screenshot test.jpg http://google.com/&quot; )\r\n    driver = webdriver.Firefox( firefox_options=options )\r\n    driver.get(&#39;http://google.com/&#39;)\r\n    driver.save_screenshot(&#39;test.png&#39;)\r\n    print driver.title\r\n    print driver.current_url\r\n    driver.quit()\r\n    sys.exit()","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>Here is the way you can still use</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\n\noptions = Options()\noptions.add_argument( \"--headless\" )\n# options.add_argument( \"--screenshot test.jpg http://google.com/\" )\ndriver = webdriver.Firefox( firefox_options=options )\ndriver.get('http://google.com/')\ndriver.save_screenshot('test.png')\nprint driver.title\nprint driver.current_url\ndriver.quit()\nsys.exit()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25936,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709895,"creation_date":1694709895,"answer_id":77106930,"question_id":49606051,"body_markdown":"In Django(Python), you can take the screenshots of Django Admin on headless Firefox as shown below. *I use [pytest-django][1] and [selenium][2] and [my answer][3] explains it more:\r\n\r\n```python\r\nimport pytest\r\nfrom selenium import webdriver\r\n\r\ndef take_screenshot(driver, name):\r\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\r\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\r\n\r\ndef test_1(live_server):\r\n    options = webdriver.FirefoxOptions()\r\n    options.add_argument(&quot;-headless&quot;)\r\n    driver = webdriver.Firefox(options=options)\r\n    driver.set_window_size(1024, 768)\r\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\r\n    take_screenshot(driver, &quot;admin/firefox.png&quot;)\r\n    assert &quot;Log in | Django site admin&quot; in driver.title\r\n```\r\n\r\n\r\n  [1]: https://github.com/pytest-dev/pytest-django\r\n  [2]: https://github.com/SeleniumHQ/selenium\r\n  [3]: https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>In Django(Python), you can take the screenshots of Django Admin on headless Firefox as shown below. *I use <a href=\"https://github.com/pytest-dev/pytest-django\" rel=\"nofollow noreferrer\">pytest-django</a> and <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">selenium</a> and <a href=\"https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289\">my answer</a> explains it more:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pytest\nfrom selenium import webdriver\n\ndef take_screenshot(driver, name):\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\n\ndef test_1(live_server):\n    options = webdriver.FirefoxOptions()\n    options.add_argument(&quot;-headless&quot;)\n    driver = webdriver.Firefox(options=options)\n    driver.set_window_size(1024, 768)\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\n    take_screenshot(driver, &quot;admin/firefox.png&quot;)\n    assert &quot;Log in | Django site admin&quot; in driver.title\n</code></pre>\n"}],"owner":{"account_id":2902407,"reputation":78,"user_id":9539543,"display_name":"Shn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49606226,"answer_count":3,"score":3,"last_activity_date":1694710088,"creation_date":1522648722,"question_id":49606051,"body_markdown":"I have been able to run a selenium test case with headless Firefox, However when taking a screenshot, the screenshot is not that of the web-page(web-page tested in the testcase) rather, the screenshot is taken of the background (as in. the current window shown (e.g. eclipse IDE running the testcase))\r\n\r\nScreenshot function\r\n \r\n\r\n    File screenShotFolder = new File(&quot;Screenshots&quot;);\r\n            WebDriver driver = getDriver();\r\n            try {\r\n                if (!screenShotFolder.exists() &amp;&amp; !screenShotFolder.mkdir()) {\r\n                    getLog().error(\r\n                            &quot;Cannot create a new file in the intended location. &quot;\r\n                                    + &quot;&quot; + screenShotFolder.getAbsolutePath());\r\n                }\r\n                File scrFile =\r\n                        ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                String filePath =\r\n                        screenShotFolder.getAbsolutePath() + File.separator\r\n                                + imageName + &quot;.png&quot;;\r\n                FileUtils.copyFile(scrFile, new File(filePath));\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nis there any other &quot;options&quot; or &quot;arguments&quot; that need to be set?","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>I have been able to run a selenium test case with headless Firefox, However when taking a screenshot, the screenshot is not that of the web-page(web-page tested in the testcase) rather, the screenshot is taken of the background (as in. the current window shown (e.g. eclipse IDE running the testcase))</p>\n<p>Screenshot function</p>\n<pre><code>File screenShotFolder = new File(&quot;Screenshots&quot;);\n        WebDriver driver = getDriver();\n        try {\n            if (!screenShotFolder.exists() &amp;&amp; !screenShotFolder.mkdir()) {\n                getLog().error(\n                        &quot;Cannot create a new file in the intended location. &quot;\n                                + &quot;&quot; + screenShotFolder.getAbsolutePath());\n            }\n            File scrFile =\n                    ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n            String filePath =\n                    screenShotFolder.getAbsolutePath() + File.separator\n                            + imageName + &quot;.png&quot;;\n            FileUtils.copyFile(scrFile, new File(filePath));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>is there any other &quot;options&quot; or &quot;arguments&quot; that need to be set?</p>\n"},{"tags":["java","jlink"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687993670,"post_id":76576816,"comment_id":135015943,"body_markdown":"This is a PowerShell thing. Surround the entire thing in quotes: `--module-path &quot;&lt;path&gt;;&lt;path&gt;&quot;`.","body":"This is a PowerShell thing. Surround the entire thing in quotes: <code>--module-path &quot;&lt;path&gt;;&lt;path&gt;&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":11475721,"reputation":1,"user_id":8411303,"display_name":"mortimer101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694710011,"creation_date":1694709977,"answer_id":77106949,"question_id":76576816,"body_markdown":"it&#39;s ok\r\n\r\n----\r\n\r\n\r\njlink --module-path &quot;%JAVA_HOME%/jmods;./out&quot; --add-modules jlinkModule --output customjre\r\n\r\n\r\n","title":"Adding multiple --module-path with JLink","body":"<p>it's ok</p>\n<hr />\n<p>jlink --module-path &quot;%JAVA_HOME%/jmods;./out&quot; --add-modules jlinkModule --output customjre</p>\n"}],"owner":{"account_id":28915035,"reputation":1,"user_id":22147205,"display_name":"Abolfazl Asoudeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694710011,"creation_date":1687987665,"question_id":76576816,"body_markdown":"I was following [this](https://www.baeldung.com/jlink) tutorial to create a runtime image using JLink. When I reached this part\r\n```bash\r\njlink --module-path &quot;%JAVA_HOME%\\jmods&quot;;out\r\n  --add-modules jlinkModule\r\n  --output customjre\r\n```\r\n\r\nThe semicolon seperated commands in Windows terminal (PowerShell). So it says:\r\n```bash\r\nError: --output must be specified\r\nUsage: jlink &lt;options&gt; --module-path &lt;modulepath&gt; --add-modules &lt;module&gt;[,&lt;module&gt;...]\r\nUse --help for a list of possible options\r\nout: The term &#39;out&#39; is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n```\r\n\r\nSo I tried using comma, but not working. I tried this:\r\n`jlink --module-path &#39;C:\\Program Files\\Java\\jdk-20\\jmods\\&#39; --module-path out --add-modules jlinkModule --output customjre`\r\n\r\nAnd the file created but I think I did it wrong. What should I two to add multiple --module-path. Also I want to include `com.fasterxml.Jackson` but I don&#39;t know how to add this in JLink.\r\n\r\n\r\nI searched a lot and found some solutions for other external libraries but I couldn&#39;t do this with Jackson. I appreciate any answers.","title":"Adding multiple --module-path with JLink","body":"<p>I was following <a href=\"https://www.baeldung.com/jlink\" rel=\"nofollow noreferrer\">this</a> tutorial to create a runtime image using JLink. When I reached this part</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jlink --module-path &quot;%JAVA_HOME%\\jmods&quot;;out\n  --add-modules jlinkModule\n  --output customjre\n</code></pre>\n<p>The semicolon seperated commands in Windows terminal (PowerShell). So it says:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Error: --output must be specified\nUsage: jlink &lt;options&gt; --module-path &lt;modulepath&gt; --add-modules &lt;module&gt;[,&lt;module&gt;...]\nUse --help for a list of possible options\nout: The term 'out' is not recognized as a name of a cmdlet, function, script file, or executable program.\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\n</code></pre>\n<p>So I tried using comma, but not working. I tried this:\n<code>jlink --module-path 'C:\\Program Files\\Java\\jdk-20\\jmods\\' --module-path out --add-modules jlinkModule --output customjre</code></p>\n<p>And the file created but I think I did it wrong. What should I two to add multiple --module-path. Also I want to include <code>com.fasterxml.Jackson</code> but I don't know how to add this in JLink.</p>\n<p>I searched a lot and found some solutions for other external libraries but I couldn't do this with Jackson. I appreciate any answers.</p>\n"},{"tags":["java","google-chrome","selenium-chromedriver","screenshot","webpage-screenshot"],"comments":[{"owner":{"account_id":4086805,"reputation":431,"user_id":3355907,"display_name":"Thomas"},"score":1,"creation_date":1492070232,"post_id":43386398,"comment_id":73834541,"body_markdown":"What is the exception you are getting?","body":"What is the exception you are getting?"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1492073600,"post_id":43386398,"comment_id":73836585,"body_markdown":"Print your stack trace and make sure yoiur chromedriver is present at the location.","body":"Print your stack trace and make sure yoiur chromedriver is present at the location."}],"answers":[{"tags":[],"owner":{"account_id":10670785,"reputation":320,"user_id":7855921,"accept_rate":100,"display_name":"Jordan Benyon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492079238,"creation_date":1492077115,"answer_id":43388989,"question_id":43386398,"body_markdown":"    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n     \r\n\tpublic static String captureScreenshot (WebDriver driver, String screenshotName){\r\n\t\t\r\n\t\ttry {\r\n\t\t\tTakesScreenshot ts = (TakesScreenshot)driver;\r\n\t\t\tFile source = ts.getScreenshotAs(OutputType.FILE);\r\n\t\t\tString dest = &quot;/Users/CD6255ABQA/Desktop/Debug Images/&quot; + screenshotName + &quot;.png&quot;;\r\n\t\t\tFile destination = new File(dest);\r\n\t\t\tFileUtils.copyFile(source, destination);\r\n\t\t\treturn dest;\r\n\t\t\t} \r\n\t\t\r\n\t\tcatch (IOException e) {return e.getMessage();}\r\n\t\t}\r\n\r\nCall it using\r\n\r\n    String screenpath = captureScreenshot(driver, &quot;ScreenshotName&quot;)\r\n\r\n\r\nRemember to change the file destination in the method. ","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic static String captureScreenshot (WebDriver driver, String screenshotName){\n\n    try {\n        TakesScreenshot ts = (TakesScreenshot)driver;\n        File source = ts.getScreenshotAs(OutputType.FILE);\n        String dest = \"/Users/CD6255ABQA/Desktop/Debug Images/\" + screenshotName + \".png\";\n        File destination = new File(dest);\n        FileUtils.copyFile(source, destination);\n        return dest;\n        } \n\n    catch (IOException e) {return e.getMessage();}\n    }\n</code></pre>\n\n<p>Call it using</p>\n\n<pre><code>String screenpath = captureScreenshot(driver, \"ScreenshotName\")\n</code></pre>\n\n<p>Remember to change the file destination in the method. </p>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25936,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709671,"creation_date":1694709671,"answer_id":77106902,"question_id":43386398,"body_markdown":"In Django(Python), you can take the screenshots of Django Admin on headless Google Chrome as shown below. *I use [pytest-django][1] and [selenium][2] and [my answer][3] explains it more:\r\n\r\n```python\r\nimport pytest\r\nfrom selenium import webdriver\r\n\r\ndef take_screenshot(driver, name):\r\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\r\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\r\n\r\ndef test_1(live_server):\r\n    options = webdriver.ChromeOptions()\r\n    options.add_argument(&quot;--headless=new&quot;)\r\n    driver = webdriver.Chrome(options=options)\r\n    driver.set_window_size(1024, 768)\r\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\r\n    take_screenshot(driver, &quot;admin/chrome.png&quot;)\r\n    assert &quot;Log in | Django site admin&quot; in driver.title\r\n```\r\n\r\n\r\n  [1]: https://github.com/pytest-dev/pytest-django\r\n  [2]: https://github.com/SeleniumHQ/selenium\r\n  [3]: https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<p>In Django(Python), you can take the screenshots of Django Admin on headless Google Chrome as shown below. *I use <a href=\"https://github.com/pytest-dev/pytest-django\" rel=\"nofollow noreferrer\">pytest-django</a> and <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">selenium</a> and <a href=\"https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289\">my answer</a> explains it more:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pytest\nfrom selenium import webdriver\n\ndef take_screenshot(driver, name):\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\n\ndef test_1(live_server):\n    options = webdriver.ChromeOptions()\n    options.add_argument(&quot;--headless=new&quot;)\n    driver = webdriver.Chrome(options=options)\n    driver.set_window_size(1024, 768)\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\n    take_screenshot(driver, &quot;admin/chrome.png&quot;)\n    assert &quot;Log in | Django site admin&quot; in driver.title\n</code></pre>\n"}],"owner":{"account_id":10375506,"reputation":29,"user_id":7651780,"display_name":"ashish singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14156,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1694709752,"creation_date":1492069498,"question_id":43386398,"body_markdown":"I am learning selenium Webdriver. I was trying to take screenshot on chrome browser but I got exception for below code (Note: Same piece of code works on firefox). Kindly help me out to take a screenshot on Chrome and please somebody explain me why below code is not working on Chrome.\r\n\r\n\tpublic class ScreenShot \r\n    {\r\n\t\tpublic static void main(String[] args) throws IOException \r\n        {\r\n\t\t\tString key  = &quot;webdriver.chrome.driver&quot;;\r\n\t\t\tString value = &quot;./driver/chromedriver.exe&quot;;\r\n\t\t\tSystem.setProperty(key, value);\r\n\t\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\tdriver.get(&quot;https://www.google.co.in&quot;);\r\n\t\t\tTakesScreenshot screen = (TakesScreenshot) driver;\r\n\t\t\tFile srcFile = screen.getScreenshotAs(OutputType.FILE);\r\n\t\t\tFile destFile = new File(&quot;d:/google.png&quot;);\r\n\t\t\tFileUtils.copyFile(srcFile, destFile);\r\n\t\t}\r\n\t}       ","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<p>I am learning selenium Webdriver. I was trying to take screenshot on chrome browser but I got exception for below code (Note: Same piece of code works on firefox). Kindly help me out to take a screenshot on Chrome and please somebody explain me why below code is not working on Chrome.</p>\n\n<pre><code>public class ScreenShot \n{\n    public static void main(String[] args) throws IOException \n    {\n        String key  = \"webdriver.chrome.driver\";\n        String value = \"./driver/chromedriver.exe\";\n        System.setProperty(key, value);\n        WebDriver driver = new ChromeDriver();\n        driver.get(\"https://www.google.co.in\");\n        TakesScreenshot screen = (TakesScreenshot) driver;\n        File srcFile = screen.getScreenshotAs(OutputType.FILE);\n        File destFile = new File(\"d:/google.png\");\n        FileUtils.copyFile(srcFile, destFile);\n    }\n}       \n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1694701113,"post_id":77105687,"comment_id":135928463,"body_markdown":"that seems to be the known issue: https://stackoverflow.com/q/76509211/3426309","body":"that seems to be the known issue: <a href=\"https://stackoverflow.com/q/76509211/3426309\">stackoverflow.com/q/76509211/3426309</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709651,"creation_date":1694709651,"answer_id":77106899,"question_id":77105687,"body_markdown":"If a column must be changed is a decision of hibernate himself. \r\n\r\nHibernate read the type from the JDBC-Driver and compare this type with the type in the Entity. If Hibernate recognize a difference, hibernate try to solve the difference using this alter-table DDL update-commands. Hibernate might not update the type successfully (because the type already set).\r\n\r\nThere are 3 reasons why hibernate think a change might help:\r\n\r\n1. The value-range of the reported database-type from the jdbc-driver differs from the value-range of the java-field-type. \r\n2. The jdbc-driver report wrong values (might be a bug in the jdbc-driver).\r\n3. The dialect of the sql-database does not match the jdbc-driver.\r\n\r\nA flip-flop problem might be a bug in hibernate, this happens if the type is changed from one type to a differenct type.\r\n\r\nYou could try to:\r\n\r\n1. Try to use the latest jdbc-driver.\r\n2. Try to correct the hibernate-dialect.\r\n3. Try to use a more matching entity-field-type.\r\n4. Try to use the latest hibernate version (transient dependencies accordingly).\r\n\r\nFrom a architect point-of-view:\r\n\r\nWell, there is a principle called single-version-of-truth (SVOT). It points out that either the DB hold the 100% truth of the datastructure OR the entities. This might give the hint that the DB always right in terms of field-type-savety. This guides you to modify the entities until it matches the DB perfectly.","title":"Hibernate alters tables even though entities are unchanged","body":"<p>If a column must be changed is a decision of hibernate himself.</p>\n<p>Hibernate read the type from the JDBC-Driver and compare this type with the type in the Entity. If Hibernate recognize a difference, hibernate try to solve the difference using this alter-table DDL update-commands. Hibernate might not update the type successfully (because the type already set).</p>\n<p>There are 3 reasons why hibernate think a change might help:</p>\n<ol>\n<li>The value-range of the reported database-type from the jdbc-driver differs from the value-range of the java-field-type.</li>\n<li>The jdbc-driver report wrong values (might be a bug in the jdbc-driver).</li>\n<li>The dialect of the sql-database does not match the jdbc-driver.</li>\n</ol>\n<p>A flip-flop problem might be a bug in hibernate, this happens if the type is changed from one type to a differenct type.</p>\n<p>You could try to:</p>\n<ol>\n<li>Try to use the latest jdbc-driver.</li>\n<li>Try to correct the hibernate-dialect.</li>\n<li>Try to use a more matching entity-field-type.</li>\n<li>Try to use the latest hibernate version (transient dependencies accordingly).</li>\n</ol>\n<p>From a architect point-of-view:</p>\n<p>Well, there is a principle called single-version-of-truth (SVOT). It points out that either the DB hold the 100% truth of the datastructure OR the entities. This might give the hint that the DB always right in terms of field-type-savety. This guides you to modify the entities until it matches the DB perfectly.</p>\n"}],"owner":{"account_id":21721587,"reputation":91,"user_id":16031709,"display_name":"Doğukan &#214;zdemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694709651,"creation_date":1694700307,"question_id":77105687,"body_markdown":"I&#39;m working on a Spring Boot project that uses Hibernate for ORM, and in my `application.properties` I have `spring.jpa.hibernate.ddl-auto` set to `update`. \r\n\r\nThis setting is convenient for updating the database schema when my entity classes change.\r\n\r\nHowever, I&#39;ve noticed that Hibernate generates ALTER statements for all columns, including those that haven&#39;t changed in my entity classes. This causes the app launch slower since it&#39;s altering every table unnecessarily.\r\n\r\nHere is an example output I am receiving:\r\n\r\n```\r\nHibernate: \r\n    alter table document_comments \r\n       modify column created_at  datetime(6)\r\nHibernate: \r\n    alter table documents \r\n       modify column content  json\r\nHibernate: \r\n    alter table documents \r\n       modify column created_at  datetime(6)\r\nHibernate: \r\n    alter table documents \r\n       modify column status  enum (&#39;ACTIVE&#39;,&#39;ARCHIVED&#39;,&#39;DELETED&#39;)\r\nHibernate: \r\n    alter table documents \r\n       modify column updated_at  datetime(6)\r\n```\r\n\r\n\r\nand the list goes on.\r\n\r\nI am using Java 17, Spring 3.1.2 and Hibernate 2.6","title":"Hibernate alters tables even though entities are unchanged","body":"<p>I'm working on a Spring Boot project that uses Hibernate for ORM, and in my <code>application.properties</code> I have <code>spring.jpa.hibernate.ddl-auto</code> set to <code>update</code>.</p>\n<p>This setting is convenient for updating the database schema when my entity classes change.</p>\n<p>However, I've noticed that Hibernate generates ALTER statements for all columns, including those that haven't changed in my entity classes. This causes the app launch slower since it's altering every table unnecessarily.</p>\n<p>Here is an example output I am receiving:</p>\n<pre><code>Hibernate: \n    alter table document_comments \n       modify column created_at  datetime(6)\nHibernate: \n    alter table documents \n       modify column content  json\nHibernate: \n    alter table documents \n       modify column created_at  datetime(6)\nHibernate: \n    alter table documents \n       modify column status  enum ('ACTIVE','ARCHIVED','DELETED')\nHibernate: \n    alter table documents \n       modify column updated_at  datetime(6)\n</code></pre>\n<p>and the list goes on.</p>\n<p>I am using Java 17, Spring 3.1.2 and Hibernate 2.6</p>\n"},{"tags":["java","apache-spark","amazon-s3","spark-cassandra-connector"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1694509740,"post_id":77062547,"comment_id":135896672,"body_markdown":"have you looked at the &quot;troubleshooting s3a&quot; page in the hadoop documentation before posting on  SO? https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/troubleshooting_s3a.html","body":"have you looked at the &quot;troubleshooting s3a&quot; page in the hadoop documentation before posting on  SO? <a href=\"https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/troubleshooting_s3a.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/&hellip;</a>"},{"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"score":0,"creation_date":1694709275,"post_id":77062547,"comment_id":135930283,"body_markdown":"@stevel It is aws profile conflicts. Setup multiple aws profiles resolve this issue.","body":"@stevel It is aws profile conflicts. Setup multiple aws profiles resolve this issue."}],"answers":[{"tags":[],"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694709244,"creation_date":1694709244,"answer_id":77106859,"question_id":77062547,"body_markdown":"It is aws profile conflicts. Setup multiple aws profiles resolve this issue.","title":"badRequest when trying to write cassansdra dataset to S3 bucket using hadoop-aws with Spark Java","body":"<p>It is aws profile conflicts. Setup multiple aws profiles resolve this issue.</p>\n"}],"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106859,"answer_count":1,"score":0,"last_activity_date":1694709244,"creation_date":1694117079,"question_id":77062547,"body_markdown":"I am trying to write spark dataset to S3 using hadoop-aws, but keep getting the `AWSBadRequestException`. Wondering if anyone has idea on what is going wrong.\r\n\r\nversions:\r\n\r\nhadoop-aws: 3.3.1\r\nspark: 3.2.1\r\n\r\nHere are my code:\r\n\r\n```\r\n        SparkConf sparkConf = new SparkConf();\r\n\r\n        sparkConf.setMaster(&quot;local[*]&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;my access key&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;my secret key&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.us-west-2.amazonaws.com&quot;)\r\n                .set(CassandraOptions.SPARK_CONF_HOST, getHost(env))\r\n                .set(CassandraOptions.SPARK_CONF_PORT, getPort(env))\r\n                .set(CassandraOptions.SPARK_CONF_LOCALDC, getDatacenter(env))\r\n                .set(CassandraOptions.TABLE, table)\r\n                .set(CassandraOptions.KEYSPACE, keyspace);\r\n        this.sparkSession = SparkSession.builder().config(sparkConf).getOrCreate();\r\n\r\n       // getting Dataset&lt;Row&gt; dataset using sparkSession\r\n      // Dataset&lt;Row&gt; ds = dfr.load().where(filterCondition);\r\n       // ds.show();\r\n       \r\n       String s3Path = &quot;s3a://&quot; + bucket_name + &quot;/&quot; + path;\r\n       ds.write().parquet(s3Path);\r\n\r\n```\r\n\r\nFollowing are the error stack track:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.hadoop.fs.s3a.AWSBadRequestException: getFileStatus on s3a://my-test-bucket/data/configuration-migration/cassandra/Oregon/shared_services/orgid_appurl/00Dx0000000JBysEAG: com.amazonaws.services.s3.model.AmazonS3Exception: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null), S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=:400 Bad Request: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:243)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:170)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3286)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3185)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3053)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.exists(S3AFileSystem.java:4263)\r\n\tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:117)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\r\n\tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\r\n\tat org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\r\n\tat org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\r\n```","title":"badRequest when trying to write cassansdra dataset to S3 bucket using hadoop-aws with Spark Java","body":"<p>I am trying to write spark dataset to S3 using hadoop-aws, but keep getting the <code>AWSBadRequestException</code>. Wondering if anyone has idea on what is going wrong.</p>\n<p>versions:</p>\n<p>hadoop-aws: 3.3.1\nspark: 3.2.1</p>\n<p>Here are my code:</p>\n<pre><code>        SparkConf sparkConf = new SparkConf();\n\n        sparkConf.setMaster(&quot;local[*]&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;my access key&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;my secret key&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.us-west-2.amazonaws.com&quot;)\n                .set(CassandraOptions.SPARK_CONF_HOST, getHost(env))\n                .set(CassandraOptions.SPARK_CONF_PORT, getPort(env))\n                .set(CassandraOptions.SPARK_CONF_LOCALDC, getDatacenter(env))\n                .set(CassandraOptions.TABLE, table)\n                .set(CassandraOptions.KEYSPACE, keyspace);\n        this.sparkSession = SparkSession.builder().config(sparkConf).getOrCreate();\n\n       // getting Dataset&lt;Row&gt; dataset using sparkSession\n      // Dataset&lt;Row&gt; ds = dfr.load().where(filterCondition);\n       // ds.show();\n       \n       String s3Path = &quot;s3a://&quot; + bucket_name + &quot;/&quot; + path;\n       ds.write().parquet(s3Path);\n\n</code></pre>\n<p>Following are the error stack track:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.hadoop.fs.s3a.AWSBadRequestException: getFileStatus on s3a://my-test-bucket/data/configuration-migration/cassandra/Oregon/shared_services/orgid_appurl/00Dx0000000JBysEAG: com.amazonaws.services.s3.model.AmazonS3Exception: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null), S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=:400 Bad Request: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null)\n    at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:243)\n    at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:170)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3286)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3185)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3053)\n    at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.exists(S3AFileSystem.java:4263)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:117)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\n    at org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\n    at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\n    at org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\n    at org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\n    at org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\n    at org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":29441031,"reputation":1,"user_id":22559139,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694708825,"creation_date":1694708825,"answer_id":77106815,"question_id":77104324,"body_markdown":"Fixed. I was able to solve this error with the process below:\r\n1. run java --version in terminal to know your jdk version\r\n2. cd /Library/Java/JavaVirtualMachines\r\n3. /usr/libexec/java_home -V\r\n4.\r\n- For Bash:\r\n+ + echo &#39;export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version&#39; &gt;&gt; ~/.bash_profile\r\n+ + source ~/.bash_profile\r\n\r\n\r\n- For Zsh:\r\n- - echo &#39;export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version&#39; &gt;&gt; ~/.zshrc\r\n- - source ~/.zshrc\r\n\r\n5. echo $JAVA_HOME\r\n\r\n6. Go to your project directory and run: mvn clean install\r\n7. In VSCode, go to Command Palette &gt; Clean Java Language Server Workspace\r\n","title":"VS Code ERROR: The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object","body":"<p>Fixed. I was able to solve this error with the process below:</p>\n<ol>\n<li>run java --version in terminal to know your jdk version</li>\n<li>cd /Library/Java/JavaVirtualMachines</li>\n<li>/usr/libexec/java_home -V</li>\n<li></li>\n</ol>\n<ul>\n<li>For Bash:</li>\n</ul>\n<ul>\n<li>\n<ul>\n<li>echo 'export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version' &gt;&gt; ~/.bash_profile</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>source ~/.bash_profile</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>For Zsh:</li>\n<li>\n<ul>\n<li>echo 'export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version' &gt;&gt; ~/.zshrc</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>source ~/.zshrc</li>\n</ul>\n</li>\n</ul>\n<ol start=\"5\">\n<li><p>echo $JAVA_HOME</p>\n</li>\n<li><p>Go to your project directory and run: mvn clean install</p>\n</li>\n<li><p>In VSCode, go to Command Palette &gt; Clean Java Language Server Workspace</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29441031,"reputation":1,"user_id":22559139,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106815,"answer_count":1,"score":0,"last_activity_date":1694708825,"creation_date":1694689743,"question_id":77104324,"body_markdown":"I tried running my Spring boot project when I opened VS code then I saw this error. I have been using Java for some months now and this is the first time I am seeing this error. My previous java projects have stopped running due to this error also. Is there a possible fix to this?[screenshot of error message](https://i.stack.imgur.com/wnNyy.jpg)","title":"VS Code ERROR: The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object","body":"<p>I tried running my Spring boot project when I opened VS code then I saw this error. I have been using Java for some months now and this is the first time I am seeing this error. My previous java projects have stopped running due to this error also. Is there a possible fix to this?<a href=\"https://i.stack.imgur.com/wnNyy.jpg\" rel=\"nofollow noreferrer\">screenshot of error message</a></p>\n"},{"tags":["java","https","proxy","header","httpurlconnection"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694774336,"post_id":77106795,"comment_id":135938647,"body_markdown":"What proxy do you use? Note that some cloud services are protected using TLS fingerprinting which can detect the used ssl library and programming language. Which often means Python based proxies are blocked. So a HTTP 403 could be cause by other reasons and not by a missing header.","body":"What proxy do you use? Note that some cloud services are protected using TLS fingerprinting which can detect the used ssl library and programming language. Which often means Python based proxies are blocked. So a HTTP 403 could be cause by other reasons and not by a missing header."},{"owner":{"account_id":16819363,"reputation":1,"user_id":12183133,"display_name":"El Turbo"},"score":0,"creation_date":1695127467,"post_id":77106795,"comment_id":135980076,"body_markdown":"@Robert I dont know what proxy is being used but I can see that the request is going out without the headers.  I can make other external requests over SSL, the issue is when headers are added","body":"@Robert I dont know what proxy is being used but I can see that the request is going out without the headers.  I can make other external requests over SSL, the issue is when headers are added"}],"owner":{"account_id":16819363,"reputation":1,"user_id":12183133,"display_name":"El Turbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694708673,"creation_date":1694708673,"question_id":77106795,"body_markdown":"Trying to acccess an API outside the firewall so we are going through a proxy server but the issue is that this causes HttpURLConnection to drop any set request headers for the URL.\r\n\r\nSetup is simple \r\n\r\n```\r\n    static {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;); //use proxy on windows machine\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;trust file&quot;); // for SSL\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword=&quot;, &quot;password&quot;);// for SSL\r\n    }\r\n\r\n```\r\n\r\nCode is as follows\r\n\r\n```    \r\n    URL obj = new URL(URL);\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();//proxy);\r\n    con.setRequestMethod(&quot;GET&quot;);\r\n    con.setRequestProperty(&quot;token&quot;,&quot;MYTOKEN&quot;);\r\n    int responseCode = con.getResponseCode(); \r\n\r\n```\r\nThe response returns a 403 forbidden error becasue it is n0t getting the set token.  This is not the same as the auth bug which is similar but is due to a specific header i believe.\r\n\r\n\r\nThe issue occurs in HttpURLConnection where the getReponseCode() initiates a connection. It tries to retrieve the inputstream but needs to connect() to do this.\r\n\r\nIn connect() in DelegateHttpsURLConnection it does a plainConnect() to return the proxy selector, however in that method we get to doTunneling() which is necesary for the proxy.\r\n\r\nin that method there are two lines\r\n```\r\n    MessageHeader savedRequests = requests;\r\n    requests = new MessageHeader();\r\n```\r\nthis moves the headers you set into a temporary object since they are not meant for the proxy server. it calls proxiedConnect(url, proxyHost, proxyPort, false); and connects to the proxy.\r\n\r\nit then goes to sendCONNECTRequest() but now the headers are not present and the call fails.\r\n\r\nI have to think that many people are using SSL over proxy for similar services, how is this not a bigger issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTried various permutations of the the calls and also tried -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; but I think this has to do with Basic authentication but is a similar issue.\r\n\r\nEverything ends up in the same state with the server returning a Forbidden error","title":"java Https request via proxy dropping headers in doTunneling causing 403","body":"<p>Trying to acccess an API outside the firewall so we are going through a proxy server but the issue is that this causes HttpURLConnection to drop any set request headers for the URL.</p>\n<p>Setup is simple</p>\n<pre><code>    static {\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;); //use proxy on windows machine\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;trust file&quot;); // for SSL\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword=&quot;, &quot;password&quot;);// for SSL\n    }\n\n</code></pre>\n<p>Code is as follows</p>\n<pre><code>    URL obj = new URL(URL);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();//proxy);\n    con.setRequestMethod(&quot;GET&quot;);\n    con.setRequestProperty(&quot;token&quot;,&quot;MYTOKEN&quot;);\n    int responseCode = con.getResponseCode(); \n\n</code></pre>\n<p>The response returns a 403 forbidden error becasue it is n0t getting the set token.  This is not the same as the auth bug which is similar but is due to a specific header i believe.</p>\n<p>The issue occurs in HttpURLConnection where the getReponseCode() initiates a connection. It tries to retrieve the inputstream but needs to connect() to do this.</p>\n<p>In connect() in DelegateHttpsURLConnection it does a plainConnect() to return the proxy selector, however in that method we get to doTunneling() which is necesary for the proxy.</p>\n<p>in that method there are two lines</p>\n<pre><code>    MessageHeader savedRequests = requests;\n    requests = new MessageHeader();\n</code></pre>\n<p>this moves the headers you set into a temporary object since they are not meant for the proxy server. it calls proxiedConnect(url, proxyHost, proxyPort, false); and connects to the proxy.</p>\n<p>it then goes to sendCONNECTRequest() but now the headers are not present and the call fails.</p>\n<p>I have to think that many people are using SSL over proxy for similar services, how is this not a bigger issue?</p>\n<p>Tried various permutations of the the calls and also tried -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; but I think this has to do with Basic authentication but is a similar issue.</p>\n<p>Everything ends up in the same state with the server returning a Forbidden error</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":29443826,"reputation":1,"user_id":22561550,"display_name":"Geuvch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694708103,"creation_date":1694708103,"question_id":77106734,"body_markdown":"I&#39;m trying to do pagination on keySet and use framework.\r\n\r\nThat framework is called Blaze Persistence, and it supports Keyset Pagination for JPA entity queries. \r\n\r\nPagination should take place without using offset , but I see offset in the request\r\n\r\n\r\n\r\n```\r\nkeysetPage = new DefaultKeysetPage(cursorKey.getFirstResult(), pageSize, keySetLowest, keySetHighest);\r\n```\r\n\r\n```\r\nCriteriaBuilder criteriaBuilder = criteriaBuilder\r\n            .orderBy(\r\n                    &quot;titile&quot;,\r\n                     ASC\r\n            )\r\n            .orderBy(\r\n                    &quot;id&quot;,\r\n                    ASC\r\n            )\r\n            ..page(keysetPage, pageNumber * pageSize, pageSize)\r\n                .getResultList();`\r\n```\r\n\r\nbut in hibernate log I see that the query uses offset\r\n\r\n`Hibernate: select h1_0.id,h1_0.description,h1_0.group_id,h1_0.icon,h1_0.participants_count,h1_0.title from hobby_type_entity h1_0 where (h1_0.title, ?) &lt; (?, h1_0.id) and 0=0 order by h1_0.title desc,h1_0.id offset ? rows fetch first ? rows only`\r\n\r\nhow can I make a pagination without using offset ?","title":"KeySet pagination with Blazebit use offset","body":"<p>I'm trying to do pagination on keySet and use framework.</p>\n<p>That framework is called Blaze Persistence, and it supports Keyset Pagination for JPA entity queries.</p>\n<p>Pagination should take place without using offset , but I see offset in the request</p>\n<pre><code>keysetPage = new DefaultKeysetPage(cursorKey.getFirstResult(), pageSize, keySetLowest, keySetHighest);\n</code></pre>\n<pre><code>CriteriaBuilder criteriaBuilder = criteriaBuilder\n            .orderBy(\n                    &quot;titile&quot;,\n                     ASC\n            )\n            .orderBy(\n                    &quot;id&quot;,\n                    ASC\n            )\n            ..page(keysetPage, pageNumber * pageSize, pageSize)\n                .getResultList();`\n</code></pre>\n<p>but in hibernate log I see that the query uses offset</p>\n<p><code>Hibernate: select h1_0.id,h1_0.description,h1_0.group_id,h1_0.icon,h1_0.participants_count,h1_0.title from hobby_type_entity h1_0 where (h1_0.title, ?) &lt; (?, h1_0.id) and 0=0 order by h1_0.title desc,h1_0.id offset ? rows fetch first ? rows only</code></p>\n<p>how can I make a pagination without using offset ?</p>\n"},{"tags":["java","spring-boot","lombok","builder","mapstruct"],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694707687,"creation_date":1694707687,"question_id":77106685,"body_markdown":"I have these entities\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;author&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@SuppressWarnings(&quot;java:S2160&quot;) // &quot;Subclasses that add fields should override equals&quot; - we only compare on id here.\r\npublic class AutorEntity extends BaseEntity {\r\n\r\n    @Fetch(FetchMode.SELECT)\r\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;game&quot;)\r\n    private List&lt;BookEntity&gt; books = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;books&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\npublic class BookEntity extends BookBaseEntity {\r\n\r\n    @Fetch(FetchMode.SELECT)\r\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;team&quot;)\r\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\r\n                nullable = false, insertable = false, updatable = false)\r\n    private AuthorEntity autor;\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;pages&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\npublic class PagesEntity extends PagesBaseEntity {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;book_id&quot;, updatable = false, insertable = false)\r\n    @JoinColumn(name = &quot;page_id&quot;, referencedColumnName = &quot;page_id&quot;, updatable = false, insertable = false)\r\n    private BookEntity book;\r\n\r\n}\r\n```\r\nSimilarly my domain objects:\r\n```\r\n@Builder\r\npublic record Author(List&lt;Book&gt; books) implements BaseAuthor {}\r\n```\r\n\r\n```\r\n@Builder\r\npublic record Book(List&lt;Page&gt; pages, Author author) implements BaseBook {}\r\n```\r\n\r\n```\r\n@Builder\r\npublic record Page(Book book) implements BasePage {}\r\n```\r\n\r\nand my mapstruct mappers:\r\n```\r\n@Mapper(uses = {\r\n        BookEntityMapper.class\r\n})\r\npublic interface AuthorEntityMapper {\r\n\r\n    AuthorEntity toEntity(Author author);\r\n\r\n    Author toDomain(AuthorEntity authorEntity, @Context SomeContext ctx);\r\n}\r\n```\r\n```\r\n@Mapper(uses = {\r\n        PageEntityMapper.class\r\n})\r\npublic interface BookeEntityMapper{\r\n\r\n    BookEntity toEntity(Book book);\r\n\r\n    @Mapping(target = &quot;author&quot;, ignore = true)\r\n    Book toDomain(BookEntity bookEntity, @Context SomeContext ctx);\r\n}\r\n```\r\nthe `PageEntityMapper` looks similar. \r\nIf I leave it this way and build the project the generated `Impl` classes would now exclude the author back reference in the book. If I remove the `ignore = true` then I get an error: ` Unmapped target properties: &quot;books&quot;. Mapping from property &quot;AuthorEntity author&quot; to &quot;Author author&quot;.`. How can I solve this within my mappers. I tried doing @AfterMapping but I can&#39;t inject the Author bean inside the Book. Any suggestions would be appreciated. Thanks in advance","title":"Back referencing object with mapstruct","body":"<p>I have these entities</p>\n<pre><code>@Entity\n@Table(name = &quot;author&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@SuppressWarnings(&quot;java:S2160&quot;) // &quot;Subclasses that add fields should override equals&quot; - we only compare on id here.\npublic class AutorEntity extends BaseEntity {\n\n    @Fetch(FetchMode.SELECT)\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;game&quot;)\n    private List&lt;BookEntity&gt; books = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\npublic class BookEntity extends BookBaseEntity {\n\n    @Fetch(FetchMode.SELECT)\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;team&quot;)\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\n                nullable = false, insertable = false, updatable = false)\n    private AuthorEntity autor;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;pages&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\npublic class PagesEntity extends PagesBaseEntity {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;book_id&quot;, updatable = false, insertable = false)\n    @JoinColumn(name = &quot;page_id&quot;, referencedColumnName = &quot;page_id&quot;, updatable = false, insertable = false)\n    private BookEntity book;\n\n}\n</code></pre>\n<p>Similarly my domain objects:</p>\n<pre><code>@Builder\npublic record Author(List&lt;Book&gt; books) implements BaseAuthor {}\n</code></pre>\n<pre><code>@Builder\npublic record Book(List&lt;Page&gt; pages, Author author) implements BaseBook {}\n</code></pre>\n<pre><code>@Builder\npublic record Page(Book book) implements BasePage {}\n</code></pre>\n<p>and my mapstruct mappers:</p>\n<pre><code>@Mapper(uses = {\n        BookEntityMapper.class\n})\npublic interface AuthorEntityMapper {\n\n    AuthorEntity toEntity(Author author);\n\n    Author toDomain(AuthorEntity authorEntity, @Context SomeContext ctx);\n}\n</code></pre>\n<pre><code>@Mapper(uses = {\n        PageEntityMapper.class\n})\npublic interface BookeEntityMapper{\n\n    BookEntity toEntity(Book book);\n\n    @Mapping(target = &quot;author&quot;, ignore = true)\n    Book toDomain(BookEntity bookEntity, @Context SomeContext ctx);\n}\n</code></pre>\n<p>the <code>PageEntityMapper</code> looks similar.\nIf I leave it this way and build the project the generated <code>Impl</code> classes would now exclude the author back reference in the book. If I remove the <code>ignore = true</code> then I get an error: <code> Unmapped target properties: &quot;books&quot;. Mapping from property &quot;AuthorEntity author&quot; to &quot;Author author&quot;.</code>. How can I solve this within my mappers. I tried doing @AfterMapping but I can't inject the Author bean inside the Book. Any suggestions would be appreciated. Thanks in advance</p>\n"},{"tags":["java","spring-boot","rest","mocking"],"owner":{"account_id":29355395,"reputation":11,"user_id":22491472,"display_name":"Mr.Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694707286,"creation_date":1694284462,"question_id":77073565,"body_markdown":"Currently, I&#39;m trying to develop a **Mock API platform** in **Spring Boot** that can create a mock RESTful endpoints for developer testing purposes. Specifically, I need to create a system where user can define their custom API endpoints, request and expected responses similar to swagger, mockapi.io, ...\r\n\r\n\r\n\r\nFor starter, I try a naive solution which **compile a controller Java class at runtime** and try to access that API endpoint but **not working**. Seem like, the Spring Bean Container cannot understand a new Controller Bean at runtime. \r\n\r\nApp.java\r\n```\r\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\r\n        var context = SpringApplication.run(ApiSimulationApplication.class, args);\r\n        CreationService service = new CreationService();\r\n        Path mockControllerPath = service.createMockControllerFile();\r\n        service.compileFile(mockControllerPath);\r\n    }\r\n```\r\nMockController.java (created at runtime)\r\n\r\n```\r\n@RestController\r\npublic class MockController {\r\n    public MockController() {}\r\n\r\n    @GetMapping({&quot;/mock&quot;})\r\n    public String sayHello() {return &quot;Hello&quot;;}\r\n}\r\n\r\n```\r\nEven if I try to refresh the `ApplicationContex,` it will throw:\r\n\r\n&gt; GenericApplicationContext does not support multiple refresh attempts\r\n\r\nI could not think of any other solution or may be I have been following the wrong direction, so I am here to seek for advice and recommendations. \r\n**I am looking forward and really appreciate your help.**","title":"Creating a Mock API Platform Using Spring Boot: How to create an API at runtime?","body":"<p>Currently, I'm trying to develop a <strong>Mock API platform</strong> in <strong>Spring Boot</strong> that can create a mock RESTful endpoints for developer testing purposes. Specifically, I need to create a system where user can define their custom API endpoints, request and expected responses similar to swagger, mockapi.io, ...</p>\n<p>For starter, I try a naive solution which <strong>compile a controller Java class at runtime</strong> and try to access that API endpoint but <strong>not working</strong>. Seem like, the Spring Bean Container cannot understand a new Controller Bean at runtime.</p>\n<p>App.java</p>\n<pre><code>    public static void main(String[] args) throws ClassNotFoundException, IOException {\n        var context = SpringApplication.run(ApiSimulationApplication.class, args);\n        CreationService service = new CreationService();\n        Path mockControllerPath = service.createMockControllerFile();\n        service.compileFile(mockControllerPath);\n    }\n</code></pre>\n<p>MockController.java (created at runtime)</p>\n<pre><code>@RestController\npublic class MockController {\n    public MockController() {}\n\n    @GetMapping({&quot;/mock&quot;})\n    public String sayHello() {return &quot;Hello&quot;;}\n}\n\n</code></pre>\n<p>Even if I try to refresh the <code>ApplicationContex,</code> it will throw:</p>\n<blockquote>\n<p>GenericApplicationContext does not support multiple refresh attempts</p>\n</blockquote>\n<p>I could not think of any other solution or may be I have been following the wrong direction, so I am here to seek for advice and recommendations.\n<strong>I am looking forward and really appreciate your help.</strong></p>\n"},{"tags":["java","html","selenium-webdriver","accessibility","selenide"],"comments":[{"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"score":1,"creation_date":1694693920,"post_id":77104442,"comment_id":135926665,"body_markdown":"Nice approach to test from an AT perspective! While there is a `getAriaRole` method on WebElement, the [`By`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html) does not seem to have an ARIA locating mechanism.\nXPath wont help you at all, because the role and the accessible name need to be computed. You’d need to create a selector that takes into account all possible ways to assign role, and accessible name. There might be a library for that, though.","body":"Nice approach to test from an AT perspective! While there is a <code>getAriaRole</code> method on WebElement, the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html\" rel=\"nofollow noreferrer\"><code>By</code></a> does not seem to have an ARIA locating mechanism. XPath wont help you at all, because the role and the accessible name need to be computed. You’d need to create a selector that takes into account all possible ways to assign role, and accessible name. There might be a library for that, though."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694707102,"creation_date":1694707102,"answer_id":77106617,"question_id":77104442,"body_markdown":"Selenide doesn&#39;t have built-in function for getting element by role and title, however, it can be easily done with xPath\r\n\r\nFor example, this locator would point for your section element with `role` where child exists with text that contains Title.\r\n```java\r\n$x(&quot;//*[@role=&#39;region&#39; and .//*[contains(.,&#39;Title&#39;)]]&quot;)\r\n```\r\n\r\nor you can do it by using `filter` from `Stream API`\r\n```java\r\n$$(&quot;[role=region]&quot;).stream().filter(el -&gt; el.innerText().contains(&quot;Title&quot;))\r\n.findFirst().get();\r\n```\r\n","title":"Is it possible to find an element with accessible role and name?","body":"<p>Selenide doesn't have built-in function for getting element by role and title, however, it can be easily done with xPath</p>\n<p>For example, this locator would point for your section element with <code>role</code> where child exists with text that contains Title.</p>\n<pre class=\"lang-java prettyprint-override\"><code>$x(&quot;//*[@role='region' and .//*[contains(.,'Title')]]&quot;)\n</code></pre>\n<p>or you can do it by using <code>filter</code> from <code>Stream API</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>$$(&quot;[role=region]&quot;).stream().filter(el -&gt; el.innerText().contains(&quot;Title&quot;))\n.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694707102,"creation_date":1694690906,"question_id":77104442,"body_markdown":"I have an html structure like:\r\n```html\r\n&lt;section aria-labelledby=&quot;123&quot;&gt;\r\n  &lt;h2 id=&quot;123&quot;&gt;Title&lt;/h2&gt;\r\n&lt;/section&gt;\r\n```\r\nThe html [`section`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/section) element has an implicit [`region`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/region_role) accessibility role\r\n\r\nIs there something like `byRole` selenide selector that would find the element by role and name?\r\n\r\ne.g.:\r\n```java\r\nbyRole(&#39;region&#39;, &#39;Title&#39;)\r\n```\r\nOr can it be grabbed using xpath?","title":"Is it possible to find an element with accessible role and name?","body":"<p>I have an html structure like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;section aria-labelledby=&quot;123&quot;&gt;\n  &lt;h2 id=&quot;123&quot;&gt;Title&lt;/h2&gt;\n&lt;/section&gt;\n</code></pre>\n<p>The html <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/section\" rel=\"nofollow noreferrer\"><code>section</code></a> element has an implicit <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/region_role\" rel=\"nofollow noreferrer\"><code>region</code></a> accessibility role</p>\n<p>Is there something like <code>byRole</code> selenide selector that would find the element by role and name?</p>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byRole('region', 'Title')\n</code></pre>\n<p>Or can it be grabbed using xpath?</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":0,"creation_date":1474573468,"post_id":39616160,"comment_id":66598584,"body_markdown":"I am still looking into it.","body":"I am still looking into it."},{"owner":{"account_id":3057974,"reputation":3672,"user_id":2591231,"accept_rate":67,"display_name":"Doron Gold"},"score":1,"creation_date":1489279171,"post_id":39616160,"comment_id":72602450,"body_markdown":"https://github.com/gigaSproule/swagger-gradle-plugin \n\nDid you try this plugin?\nIt claims to do exactly what you are asking for.","body":"<a href=\"https://github.com/gigaSproule/swagger-gradle-plugin\" rel=\"nofollow noreferrer\">github.com/gigaSproule/swagger-gradle-plugin</a>   Did you try this plugin? It claims to do exactly what you are asking for."},{"owner":{"account_id":3370718,"reputation":1741,"user_id":2829987,"accept_rate":68,"display_name":"lex"},"score":0,"creation_date":1513817380,"post_id":39616160,"comment_id":82800803,"body_markdown":"On using swagger-gradle-plugin, I am running into the following error: com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input\n   at [Source: UNKNOWN; line: 1, column: 0]","body":"On using swagger-gradle-plugin, I am running into the following error: com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input    at [Source: UNKNOWN; line: 1, column: 0]"}],"answers":[{"tags":[],"owner":{"account_id":9325367,"reputation":29,"user_id":6922865,"display_name":"Uladzimir Zhuraulevich"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1532438616,"creation_date":1475656679,"answer_id":39869137,"question_id":39616160,"body_markdown":"The main idea is to  add swagger-maven-plugin and your java classes into classpath for buildScript to be able to use them in the gradle, something like this:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath files(project(&#39;:swagger-maven-example&#39;).configurations[&#39;runtime&#39;].files)\r\n            classpath files(project(&#39;:swagger-maven-example&#39;).sourceSets[&#39;main&#39;].output.classesDir)\r\n        }\r\n    }\r\nwhere the first line in the dependencies gets swagger libs from sub project and the second line gets your classes which should contain swagger annotations.\r\n\r\nAfter this you can invoke maven plugin in the gradle as a simple java class:\r\n\r\n    \r\n\r\n    // a trick to have all needed classes in the classpath\r\n    def customClass = new GroovyClassLoader()\r\n\r\n    buildscript.configurations.classpath.each {\r\n        // println it.toURI().toURL()\r\n        customClass.addURL(it.toURI().toURL())\r\n    }\r\n\r\n    final ApiDocumentMojo mavenTask = Class.forName(&#39;com.github.kongchen.swagger.docgen.mavenplugin.ApiDocumentMojo&#39;,true, customClass).newInstance(\r\n            apiSources: [\r\n                    new ApiSource(\r\n                            springmvc: false,\r\n                            locations: [&#39;com/github/kongchen/swagger/sample/wordnik/resource&#39;],\r\n                            schemes: [&#39;http&#39;, &#39;https&#39;],\r\n                            host: &#39;petstore.swagger.wordnik.com&#39;,\r\n                            basePath: &#39;/api&#39;,\r\n                            info: new Info(\r\n                                    title: &#39;Swagger Maven Plugin Sample&#39;,\r\n                                    version: &#39;v1&#39;,\r\n                                    description: &#39;This is a sample for swagger-maven-plugin&#39;,\r\n                                    termsOfService: &#39;http://www.github.com/kongchen/swagger-maven-plugin&#39;,\r\n                                    contact: new Contact(\r\n                                            email: &#39;kongchen@gmail.com&#39;,\r\n                                            name: &#39;Kong Chen&#39;,\r\n                                            url: &#39;http://kongch.com&#39;\r\n                                    ),\r\n                                    license: new License(\r\n                                            url: &#39;http://www.apache.org/licenses/LICENSE-2.0.html&#39;,\r\n                                            name: &#39;Apache 2.0&#39;\r\n                                    )\r\n                            ),\r\n                            outputPath: file(&quot;${buildDir}/swagger/document.html&quot;).path,\r\n                            swaggerDirectory: file(&quot;${buildDir}/swagger/swagger-ui&quot;).path,\r\n                            templatePath: file(&quot;${project(&#39;:swagger-maven-example&#39;).projectDir}/templates/strapdown.html.hbs&quot;)\r\n                    )\r\n            ]\r\n    )\r\n    \r\n    // maven plugin\r\n    mavenTask.execute()\r\n\r\n[Here][1] you can find this example.\r\n\r\n\r\n  [1]: https://github.com/zhurlik/swagger-gradle-example","title":"How to generate swagger.json using gradle?","body":"<p>The main idea is to  add swagger-maven-plugin and your java classes into classpath for buildScript to be able to use them in the gradle, something like this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath files(project(':swagger-maven-example').configurations['runtime'].files)\n        classpath files(project(':swagger-maven-example').sourceSets['main'].output.classesDir)\n    }\n}\n</code></pre>\n\n<p>where the first line in the dependencies gets swagger libs from sub project and the second line gets your classes which should contain swagger annotations.</p>\n\n<p>After this you can invoke maven plugin in the gradle as a simple java class:</p>\n\n<pre><code>// a trick to have all needed classes in the classpath\ndef customClass = new GroovyClassLoader()\n\nbuildscript.configurations.classpath.each {\n    // println it.toURI().toURL()\n    customClass.addURL(it.toURI().toURL())\n}\n\nfinal ApiDocumentMojo mavenTask = Class.forName('com.github.kongchen.swagger.docgen.mavenplugin.ApiDocumentMojo',true, customClass).newInstance(\n        apiSources: [\n                new ApiSource(\n                        springmvc: false,\n                        locations: ['com/github/kongchen/swagger/sample/wordnik/resource'],\n                        schemes: ['http', 'https'],\n                        host: 'petstore.swagger.wordnik.com',\n                        basePath: '/api',\n                        info: new Info(\n                                title: 'Swagger Maven Plugin Sample',\n                                version: 'v1',\n                                description: 'This is a sample for swagger-maven-plugin',\n                                termsOfService: 'http://www.github.com/kongchen/swagger-maven-plugin',\n                                contact: new Contact(\n                                        email: 'kongchen@gmail.com',\n                                        name: 'Kong Chen',\n                                        url: 'http://kongch.com'\n                                ),\n                                license: new License(\n                                        url: 'http://www.apache.org/licenses/LICENSE-2.0.html',\n                                        name: 'Apache 2.0'\n                                )\n                        ),\n                        outputPath: file(\"${buildDir}/swagger/document.html\").path,\n                        swaggerDirectory: file(\"${buildDir}/swagger/swagger-ui\").path,\n                        templatePath: file(\"${project(':swagger-maven-example').projectDir}/templates/strapdown.html.hbs\")\n                )\n        ]\n)\n\n// maven plugin\nmavenTask.execute()\n</code></pre>\n\n<p><a href=\"https://github.com/zhurlik/swagger-gradle-example\" rel=\"nofollow noreferrer\">Here</a> you can find this example.</p>\n"},{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495521703,"creation_date":1495521221,"answer_id":44127397,"question_id":39616160,"body_markdown":"This is a bit old but I was wondering exactly the same... In short I&#39;ve started the research with:\r\n\r\n* A sample Spring Boot app exposing minimalistic REST API;\r\n* Swagger annotations on the API methods;\r\n* Springfox;\r\n* Gradle as a build tool;\r\n\r\nI managed to generate the JSON spec as a build artifact using two different approaches:\r\n\r\n1. By using a [gradle port][1] of the [swagger-maven-plugin of kongchen][2]. \r\n2. (Not sure if this counts, because it starts a server anyways) By executing an integration test (Spring&#39;s mock MVC) which generates the specification. I borrowed the idea from [here][3].\r\n\r\nI&#39;ve summarized my research in a simple project located [here][4]. See the `Automation` section. Code and examples are included.\r\n\r\n  [1]: https://github.com/gigaSproule/swagger-gradle-plugin\r\n  [2]: https://github.com/kongchen/swagger-maven-plugin\r\n  [3]: https://jhipster.github.io/tips/008_tips_static_swagger_docs.html\r\n  [4]: https://github.com/luchob/swagger-example","title":"How to generate swagger.json using gradle?","body":"<p>This is a bit old but I was wondering exactly the same... In short I've started the research with:</p>\n\n<ul>\n<li>A sample Spring Boot app exposing minimalistic REST API;</li>\n<li>Swagger annotations on the API methods;</li>\n<li>Springfox;</li>\n<li>Gradle as a build tool;</li>\n</ul>\n\n<p>I managed to generate the JSON spec as a build artifact using two different approaches:</p>\n\n<ol>\n<li>By using a <a href=\"https://github.com/gigaSproule/swagger-gradle-plugin\" rel=\"noreferrer\">gradle port</a> of the <a href=\"https://github.com/kongchen/swagger-maven-plugin\" rel=\"noreferrer\">swagger-maven-plugin of kongchen</a>. </li>\n<li>(Not sure if this counts, because it starts a server anyways) By executing an integration test (Spring's mock MVC) which generates the specification. I borrowed the idea from <a href=\"https://jhipster.github.io/tips/008_tips_static_swagger_docs.html\" rel=\"noreferrer\">here</a>.</li>\n</ol>\n\n<p>I've summarized my research in a simple project located <a href=\"https://github.com/luchob/swagger-example\" rel=\"noreferrer\">here</a>. See the <code>Automation</code> section. Code and examples are included.</p>\n"}],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26439,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":2,"score":27,"last_activity_date":1694706996,"creation_date":1474459636,"question_id":39616160,"body_markdown":"I want to use swagger-codegen to generate REST clients and possibly static HTML documentation.\r\n\r\nHowever, swagger-codegen needs swagger.json for input.\r\n\r\nI am aware, that I can get this from a running REST server equipped with Swagger.\r\n\r\nBut is there a way to obtain swagger.json directly from my Java code - i.e. to generate it with gradle from the source code - without the need to run the application in a web container, and pointing `curl`  or a browser to it?","title":"How to generate swagger.json using gradle?","body":"<p>I want to use swagger-codegen to generate REST clients and possibly static HTML documentation.</p>\n\n<p>However, swagger-codegen needs swagger.json for input.</p>\n\n<p>I am aware, that I can get this from a running REST server equipped with Swagger.</p>\n\n<p>But is there a way to obtain swagger.json directly from my Java code - i.e. to generate it with gradle from the source code - without the need to run the application in a web container, and pointing <code>curl</code>  or a browser to it?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2085210,"reputation":2735,"user_id":1856361,"display_name":"Matthew Shearer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694706601,"creation_date":1694706601,"answer_id":77106551,"question_id":77084915,"body_markdown":"I had something similar.  I think I had `adb` installed via brew.\r\n\r\nFor me\r\n```\r\nbrew  uninstall android-platform-tools\r\n```\r\n\r\nfixed the issue","title":"Android Studio launching app gets stuck infinitely","body":"<p>I had something similar.  I think I had <code>adb</code> installed via brew.</p>\n<p>For me</p>\n<pre><code>brew  uninstall android-platform-tools\n</code></pre>\n<p>fixed the issue</p>\n"}],"owner":{"account_id":29417864,"reputation":21,"user_id":22540279,"display_name":"Censor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694706601,"creation_date":1694468364,"question_id":77084915,"body_markdown":"I just recently installed Android Studio and any time I click &#39;Run app&#39; button it will load infinitely before timing out. The emulator is launched and runs fine, but the Background Tasks always shows either &quot;Terminating App&quot; or &quot;Waiting for all target devices to come online&quot;.\r\n\r\nThe Gradle does build successfully, but after that I just get the infinite launching until timeout.\r\nI also get a &quot;App failed to install&quot; message after this timeout.\r\n\r\n[Waiting for target devices: Image](https://i.stack.imgur.com/5s85N.png)\r\n\r\n[Terminating App: Image](https://i.stack.imgur.com/e2JoX.png)\r\n\r\nI&#39;d be happy to give any more necessary information, I really need to get this fixed for my Mobile App Development class.\r\n\r\nAndroid Studio Version: Android Studio Giraffe | 2022.3.1 Patch 1\r\n\r\nI&#39;ve tried everything I can think of, invalidating the cache, restarting my device and Android Studio, reinstalling. I can&#39;t even seem to find any error logs so I haven&#39;t been able to diagnose this issue myself.","title":"Android Studio launching app gets stuck infinitely","body":"<p>I just recently installed Android Studio and any time I click 'Run app' button it will load infinitely before timing out. The emulator is launched and runs fine, but the Background Tasks always shows either &quot;Terminating App&quot; or &quot;Waiting for all target devices to come online&quot;.</p>\n<p>The Gradle does build successfully, but after that I just get the infinite launching until timeout.\nI also get a &quot;App failed to install&quot; message after this timeout.</p>\n<p><a href=\"https://i.stack.imgur.com/5s85N.png\" rel=\"nofollow noreferrer\">Waiting for target devices: Image</a></p>\n<p><a href=\"https://i.stack.imgur.com/e2JoX.png\" rel=\"nofollow noreferrer\">Terminating App: Image</a></p>\n<p>I'd be happy to give any more necessary information, I really need to get this fixed for my Mobile App Development class.</p>\n<p>Android Studio Version: Android Studio Giraffe | 2022.3.1 Patch 1</p>\n<p>I've tried everything I can think of, invalidating the cache, restarting my device and Android Studio, reinstalling. I can't even seem to find any error logs so I haven't been able to diagnose this issue myself.</p>\n"},{"tags":["java","dex"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694767839,"post_id":77105880,"comment_id":135937421,"body_markdown":"Please be ware that with Android 14 there are changes regarding dynamic code loading: https://developer.android.com/about/versions/14/behavior-changes-14#safer-dynamic-code-loading","body":"Please be ware that with Android 14 there are changes regarding dynamic code loading: <a href=\"https://developer.android.com/about/versions/14/behavior-changes-14#safer-dynamic-code-loading\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/14/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20806610,"reputation":1,"user_id":15281387,"display_name":"Yagiz_ebil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694702241,"creation_date":1694702241,"answer_id":77105975,"question_id":77105880,"body_markdown":"I have never heard of &quot;.dm&quot; in the Android development environment. There might be a typo in your code that causing this unusual file extension error. Or I don&#39;t know if it is specific for you project setup.","title":"DexClassLoader unable to open .dm file","body":"<p>I have never heard of &quot;.dm&quot; in the Android development environment. There might be a typo in your code that causing this unusual file extension error. Or I don't know if it is specific for you project setup.</p>\n"}],"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694706521,"creation_date":1694701719,"question_id":77105880,"body_markdown":"I&#39;m trying to implement a string launch in an Android application as java code.\r\nI&#39;m using libgdx, janino compiler and dx.\r\n\r\n    String script = &quot;public class Script{\\n}&quot;; //just for example\r\n    SimpleCompiler compiler = new SimpleCompiler();\r\n\r\n    try {\r\n    \r\n    compiler.cook(script);\r\n    FileHandle newFile = Gdx.files.external(&quot;ScriptClass.class&quot;);\r\n    if (!newFile.exists())\r\n        newFile.write(false);\r\n\r\n\r\n    newFile.writeBytes(compiler.getBytecodes().get(&quot;ScriptClass&quot;), false);\r\n\r\n\t\tString scriptPath = Gdx.files.getExternalStoragePath();\r\n        Main.main(new String[]{\r\n\t\t\t\t\t&quot;--output=&quot; +scriptPath +&quot;/ScriptClass.dex&quot;, scriptPath +&quot;/./ScriptClass.class&quot;\r\n\t    });\r\n\r\n\t\tPathClassLoader classLoader = new PathClassLoader(scriptPath +&quot;/ScriptClass.dex&quot;, ScriptInterface.class.getClassLoader());\r\n    classLoader.loadClass(&quot;ScriptClass&quot;);\r\n            \r\n    } catch (CompileException e) {\r\n        e.printStackTrace();\r\n    } catch (ClassNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IllegalAccessException e) {\r\n        e.printStackTrace();\r\n    } catch (InstantiationException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nI create a .java class from a string, compile it into a .class file, then compile it into a .dex, the .dex file is created, but the class does not start and an error occurs\r\n&quot;ziparchive unable to open &#39;ScriptClass.dm&#39; no such file or directory&quot; (System.err)\r\nWhat is this .dm file, why is it needed and how to create it?","title":"DexClassLoader unable to open .dm file","body":"<p>I'm trying to implement a string launch in an Android application as java code.\nI'm using libgdx, janino compiler and dx.</p>\n<pre><code>String script = &quot;public class Script{\\n}&quot;; //just for example\nSimpleCompiler compiler = new SimpleCompiler();\n\ntry {\n\ncompiler.cook(script);\nFileHandle newFile = Gdx.files.external(&quot;ScriptClass.class&quot;);\nif (!newFile.exists())\n    newFile.write(false);\n\n\nnewFile.writeBytes(compiler.getBytecodes().get(&quot;ScriptClass&quot;), false);\n\n    String scriptPath = Gdx.files.getExternalStoragePath();\n    Main.main(new String[]{\n                &quot;--output=&quot; +scriptPath +&quot;/ScriptClass.dex&quot;, scriptPath +&quot;/./ScriptClass.class&quot;\n    });\n\n    PathClassLoader classLoader = new PathClassLoader(scriptPath +&quot;/ScriptClass.dex&quot;, ScriptInterface.class.getClassLoader());\nclassLoader.loadClass(&quot;ScriptClass&quot;);\n        \n} catch (CompileException e) {\n    e.printStackTrace();\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n} catch (IllegalAccessException e) {\n    e.printStackTrace();\n} catch (InstantiationException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I create a .java class from a string, compile it into a .class file, then compile it into a .dex, the .dex file is created, but the class does not start and an error occurs\n&quot;ziparchive unable to open 'ScriptClass.dm' no such file or directory&quot; (System.err)\nWhat is this .dm file, why is it needed and how to create it?</p>\n"},{"tags":["java","methods","overloading","conditional-operator"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694703396,"post_id":77106091,"comment_id":135929013,"body_markdown":"Does this answer your question? [Unexpected type resulting from the ternary operator](https://stackoverflow.com/questions/25230171/unexpected-type-resulting-from-the-ternary-operator)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25230171/unexpected-type-resulting-from-the-ternary-operator\">Unexpected type resulting from the ternary operator</a>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1694703586,"post_id":77106091,"comment_id":135929062,"body_markdown":"You could if you had a method with `method(Object arg1, byte[] arg2)`. `String` and `byte[]` are completely different types, so what type should the expression `a != null ? a : b` have? Only `Object` is possible here.","body":"You could if you had a method with <code>method(Object arg1, byte[] arg2)</code>. <code>String</code> and <code>byte[]</code> are completely different types, so what type should the expression <code>a != null ? a : b</code> have? Only <code>Object</code> is possible here."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694706149,"post_id":77106091,"comment_id":135929649,"body_markdown":"The short answer is this: a ternary/conditional operator is not a 1-for-1 substitute for an if-else.","body":"The short answer is this: a ternary/conditional operator is not a 1-for-1 substitute for an if-else."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694706051,"creation_date":1694706051,"answer_id":77106486,"question_id":77106091,"body_markdown":"The compiler needs to decide what the type of each expression is. java is a two-step process: First the compiler turns your java source code into bytecode, then the JVM runs that bytecode.\r\n\r\nThe key point is: Figuring out which method __overload__ to call is done __by the compiler__. 2 methods with the same name but different param types? Those are &#39;overloads&#39;. Those 2 methods you have, even though they have the same name, are __utterly unrelated__ - in JVM terms a method&#39;s identity is the combination of its name, _and_ its param types (but not its param names), _and_ its return type.\r\n\r\n`method(byte[], String)` and `method(String, String)` are thus as unrelated as `foo()` and `bar()` are: They are just.. completely different.\r\n\r\nThe __compilation phase__ (`javac`) needs to figure out which of the two methods you intend. A method call as written in java source code translates to 1 `INVOKEVIRTUAL` bytecode instruction.\r\n\r\nHence, `method(x ? a : b, c)` does not work if `a` would lead you to one overload and `b` would lead to another - javac just doesn&#39;t work that way (why not? Well, at some point it&#39;s &quot;Because the spec says so&quot;).\r\n\r\nIn bytecode terms:\r\n\r\n```\r\nmethod(x ? a : b, c)\r\n```\r\n\r\nis a string that `javac` parses and converts into bytecode. That bytecode looks roughly like this:\r\n```\r\nPUSH x        // x is now on the stack\r\nCHECKBOOL +2  // pop the stack. Is it &#39;true&#39;? Advance 10 instructions. Otherwise just continue\r\nPUSH b\r\nADVANCE +1    // skip over next instruction\r\nPUSH a\r\nPUSH c\r\nINVOKEVIRTUAL com.foo.YourClass method([BLjava/lang/String;)V\r\n```\r\n\r\nThe crucial insight is that last one: That weird string is JVM-ese for &#39;a method located in `com.foo.YourClass`, named `method`, with 2 parameters, the first is a byte array (`[B`), the second is a string (`Ljava/lang/String:)`, which returns void `)V`. That WHOLE THING is the identity of the method. And the point is, `javac` must figure out what to put there, and in your ternary operator, there&#39;s nothing that fits - because depending on which way the operator goes, you want a completely different method.\r\n\r\nHence why it doesn&#39;t work. Now, javac _could_ be updated so that it simply turns the java source code `method(x ? a : b, c)` into this bytecode:\r\n\r\n```\r\nPUSH x\r\nCHECKBOOL +4\r\nPUSH b\r\nPUSH c\r\nINVOKEVIRTUAL  com.foo.YourClass method([BLjava/lang/String;)V\r\nADVANCE +3\r\nPUSH a\r\nPUSH c\r\nINVOKEVIRTUAL com.foo.YourClass method(Ljava/lang/String;Ljava/lang/String;)V\r\n```\r\n\r\ni.e. generate both INVOKEVIRTUALS, but the spec says that java-the-language doesn&#39;t work that way.\r\n\r\nThis has some advantages. For example, in IDEs, you can CMD/CTRL+click on `method` in your line `method(x ? a : b, c)` and the IDE will then jump to the place where `method` is defined. If it worked like you thought, then.. which of the two `method` implementations should your editor hop to? It would have to show you a menu of all possible methods it could lead to and ask you to pick which one you wanted. That&#39;d be fine too, but IDEs don&#39;t have to worry about this: Any single method name is necessarily linked to a single method definition.\r\n\r\n## So what the heck is dynamic dispatch about, then?\r\n\r\nThat only applies when you have 2 methods whose identity is _the same_, but the methods are in different classes:\r\n\r\n```\r\nclass Parent {\r\n  byte foo(int[] x, boolean a) {}\r\n}\r\n\r\nclass Child extends Parent {\r\n  byte foo(int[] y, boolean b) {}\r\n}\r\n```\r\n\r\nHere, both `foo` have an identical identity: It&#39;s both `foo([IZ])B` in JVM-speak. The compiler will encode that, but the runtime will figure out which of the various overrides to call. Thus, given:\r\n\r\n```\r\nParent p = new Child();\r\np.foo(arg, arg)\r\n```\r\n\r\nThe actual method invoked at runtime would be the `foo` that Child defines.\r\n\r\n## The take-home\r\n\r\n* Compiler decides which overload\r\n* Runtime decides which override\r\n\r\noverload = same method name, different parameter types/counts\r\noverride = same method name _and_ parameter types/counts, but that method also exists in one of your supertypes.\r\n\r\n## So break down in detail why the compiler fails here\r\n\r\n`x ? a : b` is an expression that needs a type. If `a` is of type `byte[]` and `b` is of type `String`, as in your example, the compiler is forced to figure out __one single type__ that fits in either scenario. In other words, some type that _both_ `byte[]` as well as `String` are compatible with.\r\n\r\nAnd byte[] and String share very little. So, it&#39;s `Object &amp; Serializable`. Basically, just `Object` (let&#39;s not open the can of worms of `Serializable` here) - because that&#39;s the most specific shared parentage of String and byte[]. Thus, javac looks for a method whose signature is `method(Object, byte[])`, doesn&#39;t find one, and errors out.\r\n\r\nIn contrast, with your `if` based code construct, the first arg in each block is of type `byte[]` or `String` - so the compiler looks for `method(byte[], byte[])` and finds that, and in the `else` block, looks for `method(String, byte)`, also an existing thing, and compiles that. No errors.\r\n","title":"JAVA: Compiler error using ternary operator in method overload","body":"<p>The compiler needs to decide what the type of each expression is. java is a two-step process: First the compiler turns your java source code into bytecode, then the JVM runs that bytecode.</p>\n<p>The key point is: Figuring out which method <strong>overload</strong> to call is done <strong>by the compiler</strong>. 2 methods with the same name but different param types? Those are 'overloads'. Those 2 methods you have, even though they have the same name, are <strong>utterly unrelated</strong> - in JVM terms a method's identity is the combination of its name, <em>and</em> its param types (but not its param names), <em>and</em> its return type.</p>\n<p><code>method(byte[], String)</code> and <code>method(String, String)</code> are thus as unrelated as <code>foo()</code> and <code>bar()</code> are: They are just.. completely different.</p>\n<p>The <strong>compilation phase</strong> (<code>javac</code>) needs to figure out which of the two methods you intend. A method call as written in java source code translates to 1 <code>INVOKEVIRTUAL</code> bytecode instruction.</p>\n<p>Hence, <code>method(x ? a : b, c)</code> does not work if <code>a</code> would lead you to one overload and <code>b</code> would lead to another - javac just doesn't work that way (why not? Well, at some point it's &quot;Because the spec says so&quot;).</p>\n<p>In bytecode terms:</p>\n<pre><code>method(x ? a : b, c)\n</code></pre>\n<p>is a string that <code>javac</code> parses and converts into bytecode. That bytecode looks roughly like this:</p>\n<pre><code>PUSH x        // x is now on the stack\nCHECKBOOL +2  // pop the stack. Is it 'true'? Advance 10 instructions. Otherwise just continue\nPUSH b\nADVANCE +1    // skip over next instruction\nPUSH a\nPUSH c\nINVOKEVIRTUAL com.foo.YourClass method([BLjava/lang/String;)V\n</code></pre>\n<p>The crucial insight is that last one: That weird string is JVM-ese for 'a method located in <code>com.foo.YourClass</code>, named <code>method</code>, with 2 parameters, the first is a byte array (<code>[B</code>), the second is a string (<code>Ljava/lang/String:)</code>, which returns void <code>)V</code>. That WHOLE THING is the identity of the method. And the point is, <code>javac</code> must figure out what to put there, and in your ternary operator, there's nothing that fits - because depending on which way the operator goes, you want a completely different method.</p>\n<p>Hence why it doesn't work. Now, javac <em>could</em> be updated so that it simply turns the java source code <code>method(x ? a : b, c)</code> into this bytecode:</p>\n<pre><code>PUSH x\nCHECKBOOL +4\nPUSH b\nPUSH c\nINVOKEVIRTUAL  com.foo.YourClass method([BLjava/lang/String;)V\nADVANCE +3\nPUSH a\nPUSH c\nINVOKEVIRTUAL com.foo.YourClass method(Ljava/lang/String;Ljava/lang/String;)V\n</code></pre>\n<p>i.e. generate both INVOKEVIRTUALS, but the spec says that java-the-language doesn't work that way.</p>\n<p>This has some advantages. For example, in IDEs, you can CMD/CTRL+click on <code>method</code> in your line <code>method(x ? a : b, c)</code> and the IDE will then jump to the place where <code>method</code> is defined. If it worked like you thought, then.. which of the two <code>method</code> implementations should your editor hop to? It would have to show you a menu of all possible methods it could lead to and ask you to pick which one you wanted. That'd be fine too, but IDEs don't have to worry about this: Any single method name is necessarily linked to a single method definition.</p>\n<h2>So what the heck is dynamic dispatch about, then?</h2>\n<p>That only applies when you have 2 methods whose identity is <em>the same</em>, but the methods are in different classes:</p>\n<pre><code>class Parent {\n  byte foo(int[] x, boolean a) {}\n}\n\nclass Child extends Parent {\n  byte foo(int[] y, boolean b) {}\n}\n</code></pre>\n<p>Here, both <code>foo</code> have an identical identity: It's both <code>foo([IZ])B</code> in JVM-speak. The compiler will encode that, but the runtime will figure out which of the various overrides to call. Thus, given:</p>\n<pre><code>Parent p = new Child();\np.foo(arg, arg)\n</code></pre>\n<p>The actual method invoked at runtime would be the <code>foo</code> that Child defines.</p>\n<h2>The take-home</h2>\n<ul>\n<li>Compiler decides which overload</li>\n<li>Runtime decides which override</li>\n</ul>\n<p>overload = same method name, different parameter types/counts\noverride = same method name <em>and</em> parameter types/counts, but that method also exists in one of your supertypes.</p>\n<h2>So break down in detail why the compiler fails here</h2>\n<p><code>x ? a : b</code> is an expression that needs a type. If <code>a</code> is of type <code>byte[]</code> and <code>b</code> is of type <code>String</code>, as in your example, the compiler is forced to figure out <strong>one single type</strong> that fits in either scenario. In other words, some type that <em>both</em> <code>byte[]</code> as well as <code>String</code> are compatible with.</p>\n<p>And byte[] and String share very little. So, it's <code>Object &amp; Serializable</code>. Basically, just <code>Object</code> (let's not open the can of worms of <code>Serializable</code> here) - because that's the most specific shared parentage of String and byte[]. Thus, javac looks for a method whose signature is <code>method(Object, byte[])</code>, doesn't find one, and errors out.</p>\n<p>In contrast, with your <code>if</code> based code construct, the first arg in each block is of type <code>byte[]</code> or <code>String</code> - so the compiler looks for <code>method(byte[], byte[])</code> and finds that, and in the <code>else</code> block, looks for <code>method(String, byte)</code>, also an existing thing, and compiles that. No errors.</p>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694706051,"creation_date":1694703177,"question_id":77106091,"body_markdown":"```\r\nString a = &quot;bla&quot;;\r\nbyte[] b = new byte [10];\r\n\r\nmethod (a != null ? a : b, b);\r\n```\r\nWhy can&#39;t I use the above method call using ternary operator? Using if else statement works fine:\r\n```\r\nif (a != null) {\r\n    method (a, b);\r\n} else {\r\n    method (b, b);\r\n}\r\n```\r\n```\r\n\r\nvoid method(String arg1, byte[] arg2) {\r\n   // do something\r\n\r\nvoid method (byte[] arg1, byte[] arg2) {\r\n  // do something\r\n}\r\n```\r\nI expected I could use the ternary operator in method overload. But a compiler error occours.","title":"JAVA: Compiler error using ternary operator in method overload","body":"<pre><code>String a = &quot;bla&quot;;\nbyte[] b = new byte [10];\n\nmethod (a != null ? a : b, b);\n</code></pre>\n<p>Why can't I use the above method call using ternary operator? Using if else statement works fine:</p>\n<pre><code>if (a != null) {\n    method (a, b);\n} else {\n    method (b, b);\n}\n</code></pre>\n<pre><code>\nvoid method(String arg1, byte[] arg2) {\n   // do something\n\nvoid method (byte[] arg1, byte[] arg2) {\n  // do something\n}\n</code></pre>\n<p>I expected I could use the ternary operator in method overload. But a compiler error occours.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":168443,"reputation":24958,"user_id":393908,"accept_rate":94,"display_name":"Ash Burlaczenko"},"score":2,"creation_date":1291818623,"post_id":4388546,"comment_id":4781684,"body_markdown":"Your question isn&#39;t clear. Do you want to check whether it contains an integer or with it is an integer? abc123 or 123456?","body":"Your question isn&#39;t clear. Do you want to check whether it contains an integer or with it is an integer? abc123 or 123456?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1291820338,"post_id":4388546,"comment_id":4782065,"body_markdown":"@Ash **to find out whether or not it is an integer** - to me, the question is clear (the title is ambigious).","body":"@Ash <b>to find out whether or not it is an integer</b> - to me, the question is clear (the title is ambigious)."},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1291822143,"post_id":4388546,"comment_id":4782499,"body_markdown":"You may also want to look at this http://stackoverflow.com/questions/3517686/cannot-convert-string-to-integer-in-java","body":"You may also want to look at this <a href=\"http://stackoverflow.com/questions/3517686/cannot-convert-string-to-integer-in-java\" title=\"cannot convert string to integer in java\">stackoverflow.com/questions/3517686/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":183444,"reputation":1717,"user_id":418810,"accept_rate":100,"display_name":"Freddie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533926503,"creation_date":1291818463,"answer_id":4388568,"question_id":4388546,"body_markdown":"Use the method Integer.parseInt() at http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html","title":"How to determine whether a string contains an integer?","body":"<p>Use the method Integer.parseInt() at <a href=\"http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html</a></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291819849,"creation_date":1291818565,"answer_id":4388580,"question_id":4388546,"body_markdown":"1. User regular expression: \r\n\r\n    `Pattern.compile(&quot;^\\\\s*\\\\d+\\\\s*$&quot;).matcher(myString).find();`\r\n\r\n2. Just wrap Integer.parse() by try/catch(NumberFormatException)","title":"How to determine whether a string contains an integer?","body":"<ol>\n<li><p>User regular expression: </p>\n\n<p><code>Pattern.compile(\"^\\\\s*\\\\d+\\\\s*$\").matcher(myString).find();</code></p></li>\n<li><p>Just wrap Integer.parse() by try/catch(NumberFormatException)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1291819083,"creation_date":1291818649,"answer_id":4388597,"question_id":4388546,"body_markdown":"You can check whether the following is true:    `&quot;yourStringHere&quot;.matches(&quot;\\\\d+&quot;)`","title":"How to determine whether a string contains an integer?","body":"<p>You can check whether the following is true:    <code>\"yourStringHere\".matches(\"\\\\d+\")</code></p>\n"},{"tags":[],"owner":{"account_id":96239,"reputation":15851,"user_id":261677,"display_name":"Jonathon Bolster"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1291818771,"creation_date":1291818771,"answer_id":4388610,"question_id":4388546,"body_markdown":"If you want to make sure that it is *only* an integer and convert it to one, I would use [parseInt][1] in a `try/catch`. However, if you want to check if the string contains a number then you would be better to use the [String.matches][2] with [Regular Expressions][3]: `stringVariable.matches(&quot;\\\\d&quot;)`\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String)\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)\r\n  [3]: http://www.vogella.de/articles/JavaRegularExpressions/article.html","title":"How to determine whether a string contains an integer?","body":"<p>If you want to make sure that it is <em>only</em> an integer and convert it to one, I would use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"noreferrer\">parseInt</a> in a <code>try/catch</code>. However, if you want to check if the string contains a number then you would be better to use the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)\" rel=\"noreferrer\">String.matches</a> with <a href=\"http://www.vogella.de/articles/JavaRegularExpressions/article.html\" rel=\"noreferrer\">Regular Expressions</a>: <code>stringVariable.matches(\"\\\\d\")</code></p>\n"},{"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1499840755,"creation_date":1291819733,"answer_id":4388781,"question_id":4388546,"body_markdown":"\r\n    String s = &quot;abc123&quot;;\r\n    for(char c : s.toCharArray()) {\r\n        if(Character.isDigit(c)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;","title":"How to determine whether a string contains an integer?","body":"<pre><code>String s = \"abc123\";\nfor(char c : s.toCharArray()) {\n    if(Character.isDigit(c)) {\n        return true;\n    }\n}\nreturn false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291820273,"creation_date":1291820273,"answer_id":4388874,"question_id":4388546,"body_markdown":"If you just want to test, if a String contains an integer value only, write a method like this:\r\n\r\n    public boolean isInteger(String s) {\r\n      boolean result = false;\r\n      try {\r\n        Integer.parseInt(&quot;-1234&quot;);\r\n        result = true;\r\n      } catch (NumberFormatException nfe) {\r\n        // no need to handle the exception\r\n      }\r\n      return result;\r\n    }\r\n\r\n`parseInt` will return the `int` value (-1234 in this example) or throw an exception.","title":"How to determine whether a string contains an integer?","body":"<p>If you just want to test, if a String contains an integer value only, write a method like this:</p>\n\n<pre><code>public boolean isInteger(String s) {\n  boolean result = false;\n  try {\n    Integer.parseInt(\"-1234\");\n    result = true;\n  } catch (NumberFormatException nfe) {\n    // no need to handle the exception\n  }\n  return result;\n}\n</code></pre>\n\n<p><code>parseInt</code> will return the <code>int</code> value (-1234 in this example) or throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1428517263,"creation_date":1291822022,"answer_id":4389163,"question_id":4388546,"body_markdown":"You can use apache [StringUtils.isNumeric][1] .\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)","title":"How to determine whether a string contains an integer?","body":"<p>You can use apache <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)\" rel=\"nofollow\">StringUtils.isNumeric</a> .</p>\n"},{"tags":[],"owner":{"account_id":156097,"reputation":803,"user_id":373177,"display_name":"Pau"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291823656,"creation_date":1291823656,"answer_id":4389443,"question_id":4388546,"body_markdown":"You might also want to have a look at [java.util.Scanner][1]\r\n\r\nExample:\r\n\r\n    new Scanner(&quot;456&quot;).nextInt\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html","title":"How to determine whether a string contains an integer?","body":"<p>You might also want to have a look at <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"nofollow\">java.util.Scanner</a></p>\n\n<p>Example:</p>\n\n<pre><code>new Scanner(\"456\").nextInt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442090,"reputation":1,"user_id":1361915,"display_name":"Jon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1335556370,"creation_date":1335556370,"answer_id":10356996,"question_id":4388546,"body_markdown":"    int number = 0;\r\n    try { \r\n       number = Integer.parseInt(string); \r\n    }\r\n    catch(NumberFormatException e) {}","title":"How to determine whether a string contains an integer?","body":"<pre><code>int number = 0;\ntry { \n   number = Integer.parseInt(string); \n}\ncatch(NumberFormatException e) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374719,"reputation":206,"user_id":1308953,"accept_rate":75,"display_name":"kirchhoff"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1352848779,"creation_date":1352848779,"answer_id":13370587,"question_id":4388546,"body_markdown":"I use the method matches() from the String class:\r\n  \r\n\r\n        Scanner input = new Scanner(System.in)\r\n        String lectura;\r\n        int number;\r\n        lectura = input.next();\r\n        if(lectura.matches(&quot;[0-3]&quot;)){\r\n             number = lectura;\r\n        }\r\n\r\nThis way you can also validate that the range of the numbers is correct.","title":"How to determine whether a string contains an integer?","body":"<p>I use the method matches() from the String class:</p>\n\n<pre><code>    Scanner input = new Scanner(System.in)\n    String lectura;\n    int number;\n    lectura = input.next();\n    if(lectura.matches(\"[0-3]\")){\n         number = lectura;\n    }\n</code></pre>\n\n<p>This way you can also validate that the range of the numbers is correct.</p>\n"},{"tags":[],"owner":{"account_id":1577402,"reputation":13270,"user_id":1463518,"accept_rate":60,"display_name":"Ryan Heitner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384351330,"creation_date":1384351330,"answer_id":19955758,"question_id":4388546,"body_markdown":"You could always use Googles Guava\r\n\r\n    String text = &quot;13567&quot;;\r\n    CharMatcher charMatcher = CharMatcher.DIGIT;\r\n    int output = charMatcher.countIn(text);","title":"How to determine whether a string contains an integer?","body":"<p>You could always use Googles Guava</p>\n\n<pre><code>String text = \"13567\";\nCharMatcher charMatcher = CharMatcher.DIGIT;\nint output = charMatcher.countIn(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9815261,"reputation":568,"user_id":7271964,"display_name":"fty4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489148506,"creation_date":1489147992,"answer_id":42718171,"question_id":4388546,"body_markdown":"That should work:\r\n\r\n    public static boolean isInteger(String p_str)\r\n\t{\r\n\t\tif (p_str == null)\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\treturn p_str.matches(&quot;^\\\\d*$&quot;);\r\n\t}","title":"How to determine whether a string contains an integer?","body":"<p>That should work:</p>\n\n<pre><code>public static boolean isInteger(String p_str)\n{\n    if (p_str == null)\n        return false;\n    else\n        return p_str.matches(\"^\\\\d*$\");\n}\n</code></pre>\n"}],"owner":{"account_id":682623,"reputation":61,"user_id":535095,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63298,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":4388610,"answer_count":12,"score":5,"last_activity_date":1694705855,"creation_date":1291818335,"question_id":4388546,"body_markdown":"Say you have a string that you want to test to make sure that it contains an integer before you proceed with other the rest of the code. What would you use, in java, to find out whether or not it is an integer?","title":"How to determine whether a string contains an integer?","body":"<p>Say you have a string that you want to test to make sure that it contains an integer before you proceed with other the rest of the code. What would you use, in java, to find out whether or not it is an integer?</p>\n"},{"tags":["python","java","gremlin"],"answers":[{"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694705669,"creation_date":1694705669,"answer_id":77106443,"question_id":77106442,"body_markdown":"What you need to do is to use `gremlin_python.statics.long` to let Gremlin properly convert and store your Python based number value. Using your example, the code should be modified as following:\r\n\r\n    from gremlin_python.statics import long\r\n    from gremlin_python.process.traversal import Cardinality\r\n\r\n    g.addV(&quot;xyzzy&quot;).\r\n    property(Cardinality.single, &quot;when&quot;, long(datetime.now().timestamp() * 1000)\r\n    ).\r\n    next()\r\n\r\nAlso, for those using Neo4J or other Gremlin implementations, you usually not need to specify the `Cardinality.single.` That is AWS Neptune specific requirement.","title":"How to Store Java Epoch Long Value with Gremlin Python","body":"<p>What you need to do is to use <code>gremlin_python.statics.long</code> to let Gremlin properly convert and store your Python based number value. Using your example, the code should be modified as following:</p>\n<pre><code>from gremlin_python.statics import long\nfrom gremlin_python.process.traversal import Cardinality\n\ng.addV(&quot;xyzzy&quot;).\nproperty(Cardinality.single, &quot;when&quot;, long(datetime.now().timestamp() * 1000)\n).\nnext()\n</code></pre>\n<p>Also, for those using Neo4J or other Gremlin implementations, you usually not need to specify the <code>Cardinality.single.</code> That is AWS Neptune specific requirement.</p>\n"}],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694705669,"creation_date":1694705669,"question_id":77106442,"body_markdown":"In my Apache Tinkerpop Gremlin based code I am using with AWS Neptune, need to share a timestamp field with Python based and Java based code bases in my project.\r\nWhen I run the equivalent of the following code:\r\n\r\n    from gremlin_python.process.traversal import Cardinality\r\n\r\n    g.addV(&quot;xyzzy&quot;).\r\n    property(Cardinality.single, &quot;when&quot;, datetime.now().timestamp() * 1000)\r\n    ).\r\n    next()\r\n\r\nBut this causes number overflow exception and there seems to be no direct way to case a Phyton number to the Long value Java uses. How can I fix this so that I can store the same `Long` integer value that Java can use?\r\n\r\n","title":"How to Store Java Epoch Long Value with Gremlin Python","body":"<p>In my Apache Tinkerpop Gremlin based code I am using with AWS Neptune, need to share a timestamp field with Python based and Java based code bases in my project.\nWhen I run the equivalent of the following code:</p>\n<pre><code>from gremlin_python.process.traversal import Cardinality\n\ng.addV(&quot;xyzzy&quot;).\nproperty(Cardinality.single, &quot;when&quot;, datetime.now().timestamp() * 1000)\n).\nnext()\n</code></pre>\n<p>But this causes number overflow exception and there seems to be no direct way to case a Phyton number to the Long value Java uses. How can I fix this so that I can store the same <code>Long</code> integer value that Java can use?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1556886147,"post_id":55969661,"comment_id":98590055,"body_markdown":"Are you sure that you want to use a `do-while` loop, instead of a `while` loop?","body":"Are you sure that you want to use a <code>do-while</code> loop, instead of a <code>while</code> loop?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556887485,"post_id":55969661,"comment_id":98590787,"body_markdown":"@P.Soutzikevich if you just substituted a `while` for the `do...while` they would not see the first &quot;Entere a number&quot; instead.","body":"@P.Soutzikevich if you just substituted a <code>while</code> for the <code>do...while</code> they would not see the first &quot;Entere a number&quot; instead."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1556897008,"post_id":55969661,"comment_id":98596367,"body_markdown":"@FedericoklezCulloca oh I thought the OP had that outside of the loop block too. my bad","body":"@FedericoklezCulloca oh I thought the OP had that outside of the loop block too. my bad"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556886026,"creation_date":1556886026,"answer_id":55969711,"question_id":55969661,"body_markdown":"Because `hasNextInt` blocks until there is an `int` on the console, therefore not entering the next iteration of the loop.","title":"Do-While loop and hasNextInt()","body":"<p>Because <code>hasNextInt</code> blocks until there is an <code>int</code> on the console, therefore not entering the next iteration of the loop.</p>\n"},{"tags":[],"owner":{"account_id":11644241,"reputation":129,"user_id":8527663,"display_name":"Prabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556886298,"creation_date":1556886298,"answer_id":55969785,"question_id":55969661,"body_markdown":"Think of exiting the loop when you reached the enough size of the array. something like \r\n\r\n       do {\r\n                System.out.print(&quot;Enter a number:\\t&quot;);\r\n                v[index] = console.nextInt();\r\n                index++;\r\n            } while(index&lt;10); // if you want the user to enter 10 numbers. ","title":"Do-While loop and hasNextInt()","body":"<p>Think of exiting the loop when you reached the enough size of the array. something like </p>\n\n<pre><code>   do {\n            System.out.print(\"Enter a number:\\t\");\n            v[index] = console.nextInt();\n            index++;\n        } while(index&lt;10); // if you want the user to enter 10 numbers. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":364866,"reputation":731,"user_id":3004747,"display_name":"Karthick Meenakshi Sundaram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556892644,"creation_date":1556886319,"answer_id":55969791,"question_id":55969661,"body_markdown":"Welcome. See answer in comments. Hope it is clear :-)\r\n\r\n    do {\r\n            System.out.print(&quot;Enter a number:\\t&quot;);  // Prints &quot;Enter a number: &quot;\r\n            v[index] = console.nextInt(); // accepts input &quot;1&quot;\r\n            index++; // increments\r\n        } while(console.hasNextInt()); // waits for input at which point you enter &quot;2&quot;\r\n\r\nOk Let&#39;s make it clearer.\r\n\r\nThe do while loop, executes the do block before it evaluates the while condition. And then if the while condition evaluates to true, it executes the do block again and repeats until the while condition evaluates to false. . \r\n\r\n Both console.nextInt and console.hasNextInt read input from the console. So as part of the do block, the &quot;Enter a number:\\t&quot; has been printed out,  The first nextInt() call has accepted the input &quot;1&quot;, which is then followed by the increment, followed by evaluation of the while condition - the console.hasNextInt(), which again waits for input and accepts &quot;2&quot;. This explains why the &quot;Enter a number:\\t&quot; was not printed before the User Input of &quot;2&quot;\r\n\r\nOf course because the value 2 has been entered, the while condition evaluates to true and again the do block is executed and goes on. \r\n\r\nPerhaps you need the while loop. This, by contrast, executes the code block only if and as long as the while condition evaluates to true\r\n\r\n    System.out.print(&quot;Enter a number:\\t&quot;);\r\n    while(console.hasNextInt()){\r\n            v[index] = console.nextInt(); \r\n            index++; // increments\r\n            System.out.print(&quot;Enter a number:\\t&quot;);  \r\n        } ","title":"Do-While loop and hasNextInt()","body":"<p>Welcome. See answer in comments. Hope it is clear :-)</p>\n\n<pre><code>do {\n        System.out.print(\"Enter a number:\\t\");  // Prints \"Enter a number: \"\n        v[index] = console.nextInt(); // accepts input \"1\"\n        index++; // increments\n    } while(console.hasNextInt()); // waits for input at which point you enter \"2\"\n</code></pre>\n\n<p>Ok Let's make it clearer.</p>\n\n<p>The do while loop, executes the do block before it evaluates the while condition. And then if the while condition evaluates to true, it executes the do block again and repeats until the while condition evaluates to false. . </p>\n\n<p>Both console.nextInt and console.hasNextInt read input from the console. So as part of the do block, the \"Enter a number:\\t\" has been printed out,  The first nextInt() call has accepted the input \"1\", which is then followed by the increment, followed by evaluation of the while condition - the console.hasNextInt(), which again waits for input and accepts \"2\". This explains why the \"Enter a number:\\t\" was not printed before the User Input of \"2\"</p>\n\n<p>Of course because the value 2 has been entered, the while condition evaluates to true and again the do block is executed and goes on. </p>\n\n<p>Perhaps you need the while loop. This, by contrast, executes the code block only if and as long as the while condition evaluates to true</p>\n\n<pre><code>System.out.print(\"Enter a number:\\t\");\nwhile(console.hasNextInt()){\n        v[index] = console.nextInt(); \n        index++; // increments\n        System.out.print(\"Enter a number:\\t\");  \n    } \n</code></pre>\n"}],"owner":{"account_id":13055152,"reputation":31,"user_id":9434252,"display_name":"Aman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694705515,"creation_date":1556885873,"question_id":55969661,"body_markdown":"I know this might sound like a really stupid question but I cannot understand where is my mistake.\r\n\r\nWhy on the second iteration of the loop, it does not print &#39;Enter a number:&#39;?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main{\r\n        public static void main(String[] args){\r\n            Scanner console = new Scanner(System.in);\r\n            int[] v = new int[10];\r\n            int index = 0;\r\n            do {\r\n                System.out.print(&quot;Enter a number:\\t&quot;);\r\n                v[index] = console.nextInt();\r\n                index++;\r\n            } while(console.hasNextInt());\r\n    \r\n            for (int i = 0; i &lt; index; i++){\r\n                System.out.print(v[i] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println(&quot;\\n&quot; + index);\r\n        }\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n&lt;!-- language: lang-none --&gt;             \r\n                       \r\n    Enter a number:\t1\r\n    2\r\n    Enter a number:\t3\r\n    Enter a number:\t4\r\n    Enter a number:\t5\r\n    Enter a number:\t^D\r\n    1\t    2\t    3\t    4\t    5\r\n    5","title":"Do-While loop and hasNextInt()","body":"<p>I know this might sound like a really stupid question but I cannot understand where is my mistake.</p>\n\n<p>Why on the second iteration of the loop, it does not print 'Enter a number:'?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args){\n        Scanner console = new Scanner(System.in);\n        int[] v = new int[10];\n        int index = 0;\n        do {\n            System.out.print(\"Enter a number:\\t\");\n            v[index] = console.nextInt();\n            index++;\n        } while(console.hasNextInt());\n\n        for (int i = 0; i &lt; index; i++){\n            System.out.print(v[i] + \"\\t\");\n        }\n        System.out.println(\"\\n\" + index);\n    }\n}\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter a number: 1\n2\nEnter a number: 3\nEnter a number: 4\nEnter a number: 5\nEnter a number: ^D\n1       2       3       4       5\n5\n</code></pre>\n"},{"tags":["java","jaxb","authzforce"],"answers":[{"tags":[],"owner":{"account_id":16055655,"reputation":17,"user_id":11588133,"display_name":"Andrey Vladimirovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694705225,"creation_date":1694705225,"answer_id":77106379,"question_id":77086930,"body_markdown":"I tried to explicitly list all the necessary classes when creating a JAXBContext, index, put jaxb-stabs in the same library where they are needed, etc. After that I wrote my own classloader in which I redefined only what the library needs and launch the engine library with that, so jaxb still finds a duplicate that is not XMLType because it loads earlier than my service. \r\n\r\nThe working solutions turned out to be using single stabs for both or renaming one of the packages so that there would be no conflict","title":"Is it possible to explicitly point jaxb to its stubs","body":"<p>I tried to explicitly list all the necessary classes when creating a JAXBContext, index, put jaxb-stabs in the same library where they are needed, etc. After that I wrote my own classloader in which I redefined only what the library needs and launch the engine library with that, so jaxb still finds a duplicate that is not XMLType because it loads earlier than my service.</p>\n<p>The working solutions turned out to be using single stabs for both or renaming one of the packages so that there would be no conflict</p>\n"}],"owner":{"account_id":16055655,"reputation":17,"user_id":11588133,"display_name":"Andrey Vladimirovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106379,"answer_count":1,"score":0,"last_activity_date":1694705225,"creation_date":1694504063,"question_id":77086930,"body_markdown":"I have generated classes for a web service implementing the xacml specification model and having the following package:\r\noasis.names.tc.xacml._3_0.core.schema.wd_17 (not a jaxb). \r\n\r\nI also have an external library inside which jaxb-stabs are located along the same path - oasis.names.tc.xacml._3_0.core.schema.wd_17. The jaxb stubs  are used to work with pdp-engine policies.\r\n\r\nAnd when I call the pdp library i get an error:\r\n\r\n&gt; javax.xml.bind.JAXBException: Provider com.sun.xml.bind.v2.ContextFactory could not be instantiated: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 4 counts of IllegalAnnotationExceptions\r\nTwo classes have the same XML type name &quot;{urn:oasis:names:tc:xacml:3.0:core:schema:wd-17}anonimous&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\r\n\tthis problem is related to the following location:\r\n\t\tat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous\r\n\t\tat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType.getAnonimous()\r\n\t\tat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType\r\n\t\tat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType oasis.names.tc.xacml._3_0.core.schema.wd_17.ObjectFactory.createDefaultsType()\r\n...\r\n\r\nIs there any way to avoid such a problem without renaming of packages path?","title":"Is it possible to explicitly point jaxb to its stubs","body":"<p>I have generated classes for a web service implementing the xacml specification model and having the following package:\noasis.names.tc.xacml._3_0.core.schema.wd_17 (not a jaxb).</p>\n<p>I also have an external library inside which jaxb-stabs are located along the same path - oasis.names.tc.xacml._3_0.core.schema.wd_17. The jaxb stubs  are used to work with pdp-engine policies.</p>\n<p>And when I call the pdp library i get an error:</p>\n<blockquote>\n<p>javax.xml.bind.JAXBException: Provider com.sun.xml.bind.v2.ContextFactory could not be instantiated: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 4 counts of IllegalAnnotationExceptions\nTwo classes have the same XML type name &quot;{urn:oasis:names:tc:xacml:3.0:core:schema:wd-17}anonimous&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\nthis problem is related to the following location:\nat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous\nat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType.getAnonimous()\nat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType\nat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType oasis.names.tc.xacml._3_0.core.schema.wd_17.ObjectFactory.createDefaultsType()\n...</p>\n</blockquote>\n<p>Is there any way to avoid such a problem without renaming of packages path?</p>\n"},{"tags":["java","amazon-web-services","kotlin","cryptography","x509certificate"],"owner":{"account_id":13561883,"reputation":11,"user_id":9783298,"display_name":"arveduil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694705170,"creation_date":1694704356,"question_id":77106277,"body_markdown":"I want to import root certificate - RootCertificatePublicKey in Kotlin using SDK for AWS Payment Cryptography. Despite having certificate in proper format, I receive:\r\n` ValidationException: Provided public key is not a valid X509 certificate `\r\n\r\nI have a certificate in string in format:\r\n\r\n```\r\nval rootCert = &quot;&quot;&quot;-----BEGIN CERTIFICATE-----\r\nMIIFXjCCA0agAwIB ...&lt;base64cert&gt; ... wK0fe4Teg==\r\n-----END CERTIFICATE-----&quot;&quot;&quot;\r\n```\r\ncode in Kotlin:\r\n\r\n```\r\nval importedCert = paymentCryptographyClient.importKey(\r\n        ImportKeyRequest.builder()\r\n                .keyMaterial(\r\n                        ImportKeyMaterial.fromRootCertificatePublicKey(\r\n                                RootCertificatePublicKey.builder()\r\n                                        .keyAttributes(\r\n                                                KeyAttributes.builder()\r\n                                                        .keyAlgorithm(KeyAlgorithm.RSA_4096)\r\n                                                        .keyClass(KeyClass.PUBLIC_KEY)\r\n                                                        .keyModesOfUse(\r\n                                                                KeyModesOfUse.builder()\r\n                                                                        .verify(true)\r\n                                                                        .sign(true)\r\n                                                                        .build()\r\n                                                        )\r\n                                                        .keyUsage(KeyUsage.TR31_S0_ASYMMETRIC_KEY_FOR_DIGITAL_SIGNATURE)\r\n                                                        .build()\r\n                                        )\r\n                                        .publicKeyCertificate(rootCert)\r\n                                        .build()\r\n                        )\r\n                ).build()\r\n)\r\n```\r\n\r\n\r\nI am receiving error:\r\n\r\n```\r\nsoftware.amazon.awssdk.services.paymentcryptography.model.ValidationException: Provided public key is not a valid X509 certificate. (Service: PaymentCryptography, Status Code: 400, Request ID: ef5ca7f5-e980-4fe1-bc5d-867e68f4d63e)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n```\r\nIt is strange, because cert looks to be in proper format. Online parsers reads it properly.\r\n","title":"AWS Payment Cryptography - import RootCertificatePublicKey throws ValidationException: Provided public key is not a valid X509 certificate","body":"<p>I want to import root certificate - RootCertificatePublicKey in Kotlin using SDK for AWS Payment Cryptography. Despite having certificate in proper format, I receive:\n<code>ValidationException: Provided public key is not a valid X509 certificate</code></p>\n<p>I have a certificate in string in format:</p>\n<pre><code>val rootCert = &quot;&quot;&quot;-----BEGIN CERTIFICATE-----\nMIIFXjCCA0agAwIB ...&lt;base64cert&gt; ... wK0fe4Teg==\n-----END CERTIFICATE-----&quot;&quot;&quot;\n</code></pre>\n<p>code in Kotlin:</p>\n<pre><code>val importedCert = paymentCryptographyClient.importKey(\n        ImportKeyRequest.builder()\n                .keyMaterial(\n                        ImportKeyMaterial.fromRootCertificatePublicKey(\n                                RootCertificatePublicKey.builder()\n                                        .keyAttributes(\n                                                KeyAttributes.builder()\n                                                        .keyAlgorithm(KeyAlgorithm.RSA_4096)\n                                                        .keyClass(KeyClass.PUBLIC_KEY)\n                                                        .keyModesOfUse(\n                                                                KeyModesOfUse.builder()\n                                                                        .verify(true)\n                                                                        .sign(true)\n                                                                        .build()\n                                                        )\n                                                        .keyUsage(KeyUsage.TR31_S0_ASYMMETRIC_KEY_FOR_DIGITAL_SIGNATURE)\n                                                        .build()\n                                        )\n                                        .publicKeyCertificate(rootCert)\n                                        .build()\n                        )\n                ).build()\n)\n</code></pre>\n<p>I am receiving error:</p>\n<pre><code>software.amazon.awssdk.services.paymentcryptography.model.ValidationException: Provided public key is not a valid X509 certificate. (Service: PaymentCryptography, Status Code: 400, Request ID: ef5ca7f5-e980-4fe1-bc5d-867e68f4d63e)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\n</code></pre>\n<p>It is strange, because cert looks to be in proper format. Online parsers reads it properly.</p>\n"},{"tags":["java","spring","jackson","jackson-databind"],"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":1,"creation_date":1554444096,"post_id":55529028,"comment_id":97761679,"body_markdown":"Check for constructors, does it have private constructors? if yes, and you want to keep it that way, then you have to override how the conversion of that object happens.","body":"Check for constructors, does it have private constructors? if yes, and you want to keep it that way, then you have to override how the conversion of that object happens."},{"owner":{"account_id":9012540,"reputation":1206,"user_id":6716564,"display_name":"ASK"},"score":1,"creation_date":1554444548,"post_id":55529028,"comment_id":97761855,"body_markdown":"Always make default constructor whenever you make any parameterised constructor.","body":"Always make default constructor whenever you make any parameterised constructor."}],"answers":[{"tags":[],"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554443937,"creation_date":1554443937,"answer_id":55529060,"question_id":55529028,"body_markdown":"You should add a normal constructor without any params like this:\r\n\r\n    public Cart() { }","title":"Jackson deserialization error: MismatchedInputException","body":"<p>You should add a normal constructor without any params like this:</p>\n\n<pre><code>public Cart() { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1554444888,"creation_date":1554444539,"answer_id":55529190,"question_id":55529028,"body_markdown":"You need to define your bean as:\r\n\r\n\tpublic class Cart {\r\n\t\tprivate final String id;\r\n\r\n\t\t@JsonCreator\r\n\t\tpublic Cart(@JsonProperty(&quot;id&quot;) String id) { this.id = id;}\r\n\r\n\t\tpublic String getId() { return id; }\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString jsonString = &quot;{\\&quot;id\\&quot;:\\&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\&quot;}&quot;;\r\n\t\tCart cart = mapper.readValue(jsonString, Cart.class);\r\n        System.out.println(mapper.writeValueAsString(cart));\r\n\t}\r\n\r\n**Output**\r\n\r\n    {&quot;id&quot;:&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;}\r\n\r\nBy default `Jackson` creates instance of any class using default constructor and setter / getter method.  \r\nSince your bean is immutable i.e. no default constructor and setter, you need to explicitly tell `Jackson` how to  create instance of `Cart` class using `@JsonCreator` and how to set properties values using `@JsonProperty`.","title":"Jackson deserialization error: MismatchedInputException","body":"<p>You need to define your bean as:</p>\n\n<pre><code>public class Cart {\n    private final String id;\n\n    @JsonCreator\n    public Cart(@JsonProperty(\"id\") String id) { this.id = id;}\n\n    public String getId() { return id; }\n}\n\npublic static void main(String[] args) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonString = \"{\\\"id\\\":\\\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\\"}\";\n    Cart cart = mapper.readValue(jsonString, Cart.class);\n    System.out.println(mapper.writeValueAsString(cart));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{\"id\":\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\"}\n</code></pre>\n\n<p>By default <code>Jackson</code> creates instance of any class using default constructor and setter / getter method.<br>\nSince your bean is immutable i.e. no default constructor and setter, you need to explicitly tell <code>Jackson</code> how to  create instance of <code>Cart</code> class using <code>@JsonCreator</code> and how to set properties values using <code>@JsonProperty</code>.</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694704915,"creation_date":1694704915,"answer_id":77106337,"question_id":55529028,"body_markdown":"To resolve a similar deserialization error, when using Kotlin data classes, I needed to add a `KotlinModule` instance to the `ObjectMapper` instance, when initializing it.\r\n\r\n```kotlin\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\r\n\r\nfun createObjectMapper(): ObjectMapper {\r\n    val objectMapper = ObjectMapper()\r\n    objectMapper.registerModules(KotlinModule.Builder().build())\r\n\r\n    return objectMapper\r\n}\r\n```","title":"Jackson deserialization error: MismatchedInputException","body":"<p>To resolve a similar deserialization error, when using Kotlin data classes, I needed to add a <code>KotlinModule</code> instance to the <code>ObjectMapper</code> instance, when initializing it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\n\nfun createObjectMapper(): ObjectMapper {\n    val objectMapper = ObjectMapper()\n    objectMapper.registerModules(KotlinModule.Builder().build())\n\n    return objectMapper\n}\n</code></pre>\n"}],"owner":{"account_id":3928232,"reputation":1060,"user_id":3247800,"accept_rate":62,"display_name":"beni0888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55529190,"answer_count":3,"score":2,"last_activity_date":1694704915,"creation_date":1554443798,"question_id":55529028,"body_markdown":"I have the following class\r\n\r\n    public class Cart {\r\n        private final String id;\r\n    \r\n        public Cart(String id) { this.id = id;}\r\n    \r\n        public String getId() { return id; }\r\n    }\r\n\r\nAnd the following test:\r\n\r\n        String jsonString = &quot;{\\&quot;id\\&quot;:\\&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\&quot;}&quot;;\r\n        Cart cart = mapper.readValue(jsonString, Cart.class);\r\n        assertThat(cart.getId()).isEqualTo(&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;);\r\n\r\nAnd I&#39;m getting the following error:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of\r\n&gt; `com.store.domain.model.Cart` (although at least\r\n&gt; one Creator exists): cannot deserialize from Object value (no\r\n&gt; delegate- or property-based Creator)  at [Source:\r\n&gt; (String)&quot;{&quot;id&quot;:&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;}&quot;; line: 1,\r\n&gt; column: 2]\r\n\r\nI can&#39;t figure out what&#39;s wrong here. Any help please?","title":"Jackson deserialization error: MismatchedInputException","body":"<p>I have the following class</p>\n\n<pre><code>public class Cart {\n    private final String id;\n\n    public Cart(String id) { this.id = id;}\n\n    public String getId() { return id; }\n}\n</code></pre>\n\n<p>And the following test:</p>\n\n<pre><code>    String jsonString = \"{\\\"id\\\":\\\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\\"}\";\n    Cart cart = mapper.readValue(jsonString, Cart.class);\n    assertThat(cart.getId()).isEqualTo(\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\");\n</code></pre>\n\n<p>And I'm getting the following error:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\n  construct instance of\n  <code>com.store.domain.model.Cart</code> (although at least\n  one Creator exists): cannot deserialize from Object value (no\n  delegate- or property-based Creator)  at [Source:\n  (String)\"{\"id\":\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\"}\"; line: 1,\n  column: 2]</p>\n</blockquote>\n\n<p>I can't figure out what's wrong here. Any help please?</p>\n"},{"tags":["java","gradle","build","dependencies","multi-project"],"comments":[{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":2,"creation_date":1457457930,"post_id":5644011,"comment_id":59411731,"body_markdown":"possible duplicate: http://stackoverflow.com/questions/5144325/gradle-test-dependency","body":"possible duplicate: <a href=\"http://stackoverflow.com/questions/5144325/gradle-test-dependency\" title=\"gradle test dependency\">stackoverflow.com/questions/5144325/gradle-test-dependency</a>"}],"answers":[{"tags":[],"owner":{"account_id":111990,"reputation":4803,"user_id":295582,"accept_rate":100,"display_name":"Nikita Skvortsov"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1382196684,"creation_date":1302694849,"answer_id":5648565,"question_id":5644011,"body_markdown":"Simple way is to add explicit task dependency in ProjectB:\r\n\r\n    compileTestJava.dependsOn tasks.getByPath(&#39;:ProjectA:testClasses&#39;)\r\n\r\nDifficult (but more clear) way is to create additional artifact configuration for ProjectA:\r\n\r\n    task myTestsJar(type: Jar) { \r\n      // pack whatever you need...\r\n    }\r\n\r\n    configurations {\r\n      testArtifacts\r\n    }\r\n\r\n    artifacts {\r\n       testArtifacts myTestsJar\r\n    }\r\n\r\nand add the `testCompile` dependency for ProjectB\r\n\r\n    apply plugin: &#39;java&#39;\r\n    dependencies {\r\n      compile project(&#39;:ProjectA&#39;)\r\n      testCompile project(path: &#39;:ProjectA&#39;, configuration: &#39;testArtifacts&#39;)\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>Simple way is to add explicit task dependency in ProjectB:</p>\n\n<pre><code>compileTestJava.dependsOn tasks.getByPath(':ProjectA:testClasses')\n</code></pre>\n\n<p>Difficult (but more clear) way is to create additional artifact configuration for ProjectA:</p>\n\n<pre><code>task myTestsJar(type: Jar) { \n  // pack whatever you need...\n}\n\nconfigurations {\n  testArtifacts\n}\n\nartifacts {\n   testArtifacts myTestsJar\n}\n</code></pre>\n\n<p>and add the <code>testCompile</code> dependency for ProjectB</p>\n\n<pre><code>apply plugin: 'java'\ndependencies {\n  compile project(':ProjectA')\n  testCompile project(path: ':ProjectA', configuration: 'testArtifacts')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412865,"reputation":1812,"user_id":786182,"display_name":"Fesler"},"down_vote_count":12,"up_vote_count":167,"is_accepted":true,"score":155,"last_activity_date":1587802097,"creation_date":1320163633,"answer_id":7969292,"question_id":5644011,"body_markdown":"# Deprecated - For Gradle 5.6 and above use [this answer][1].\n\n\n\nIn **Project B**, you just need to add a `testCompile` dependency:\n\n    dependencies {\n      ...\n      testCompile project(&#39;:A&#39;).sourceSets.test.output\n    }\n\nTested with Gradle 1.7.\n\n\n  [1]: https://stackoverflow.com/a/60138176/654070","title":"Multi-project test dependencies with gradle","body":"<h1>Deprecated - For Gradle 5.6 and above use <a href=\"https://stackoverflow.com/a/60138176/654070\">this answer</a>.</h1>\n<p>In <strong>Project B</strong>, you just need to add a <code>testCompile</code> dependency:</p>\n<pre><code>dependencies {\n  ...\n  testCompile project(':A').sourceSets.test.output\n}\n</code></pre>\n<p>Tested with Gradle 1.7.</p>\n"},{"tags":[],"owner":{"account_id":2414807,"reputation":47,"user_id":2109094,"display_name":"John Caron"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1375825415,"creation_date":1375825415,"answer_id":18091055,"question_id":5644011,"body_markdown":"in project B:\r\n\r\n    dependencies {\r\n      testCompile project(&#39;:projectA&#39;).sourceSets.test.output\r\n    }\r\n\r\n\r\nSeems to work in 1.7-rc-2\r\n","title":"Multi-project test dependencies with gradle","body":"<p>in project B:</p>\n\n<pre><code>dependencies {\n  testCompile project(':projectA').sourceSets.test.output\n}\n</code></pre>\n\n<p>Seems to work in 1.7-rc-2</p>\n"},{"tags":[],"owner":{"account_id":353611,"reputation":518,"user_id":691420,"accept_rate":75,"display_name":"Martin Snyder"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1580372792,"creation_date":1391184780,"answer_id":21484721,"question_id":5644011,"body_markdown":"I&#39;ve come across this problem myself recently, and man is this a tough issues to find answers for.\r\n\r\nThe mistake you are making is thinking that a project should export its test elements in the same way that it exports its primary artifacts and dependencies.\r\n\r\nWhat I had a lot more success with personally was making a new project in Gradle.  In your example, I would name it\r\n\r\nProject A_Test\r\n-&gt; src/main/java\r\n\r\nI would put into the src/main/java the files that you currently have in Project A/src/test/java.  Make any testCompile dependencies of your Project A compile dependencies of Project A_Test.\r\n\r\nThen make Project A_Test a testCompile dependency of Project B.\r\n\r\nIt&#39;s not logical when you come at it from the perspective of the author of both projects, but I think it makes a lot of sense when you think about projects like junit and scalatest (and others.  Even though those frameworks are testing-related, they are not considered part of the &quot;test&quot; targets within their own frameworks - they produce primary artifacts that other projects just happen to use within their test configuration.  You just want to follow that same pattern.\r\n\r\nTrying to do the other answers listed here did not work for me personally (using Gradle 1.9), but I&#39;ve found that the pattern I describe here is a cleaner solution anyway.","title":"Multi-project test dependencies with gradle","body":"<p>I've come across this problem myself recently, and man is this a tough issues to find answers for.</p>\n\n<p>The mistake you are making is thinking that a project should export its test elements in the same way that it exports its primary artifacts and dependencies.</p>\n\n<p>What I had a lot more success with personally was making a new project in Gradle.  In your example, I would name it</p>\n\n<p>Project A_Test\n-> src/main/java</p>\n\n<p>I would put into the src/main/java the files that you currently have in Project A/src/test/java.  Make any testCompile dependencies of your Project A compile dependencies of Project A_Test.</p>\n\n<p>Then make Project A_Test a testCompile dependency of Project B.</p>\n\n<p>It's not logical when you come at it from the perspective of the author of both projects, but I think it makes a lot of sense when you think about projects like junit and scalatest (and others.  Even though those frameworks are testing-related, they are not considered part of the \"test\" targets within their own frameworks - they produce primary artifacts that other projects just happen to use within their test configuration.  You just want to follow that same pattern.</p>\n\n<p>Trying to do the other answers listed here did not work for me personally (using Gradle 1.9), but I've found that the pattern I describe here is a cleaner solution anyway.</p>\n"},{"tags":[],"owner":{"account_id":411633,"reputation":1360,"user_id":784218,"display_name":"Dominik Pawlak"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1391611652,"creation_date":1391611652,"answer_id":21580455,"question_id":5644011,"body_markdown":"I know it&#39;s an old question but I just had the same problem and spent some time figuring out what is going on. I&#39;m using Gradle 1.9. All changes should be in ProjectB&#39;s `build.gradle`\r\n\r\nTo use test classes from ProjectA in tests of ProjectB:\r\n\r\n    testCompile files(project(&#39;:ProjectA&#39;).sourceSets.test.output.classesDir)\r\n\r\nTo make sure that `sourceSets` property is available for ProjectA:\r\n\r\n    evaluationDependsOn(&#39;:ProjectA&#39;)\r\n\r\nTo make sure test classes from ProjectA are actually there, when you compile ProjectB:\r\n\r\n    compileTestJava.dependsOn tasks.getByPath(&#39;:ProjectA:testClasses&#39;)","title":"Multi-project test dependencies with gradle","body":"<p>I know it's an old question but I just had the same problem and spent some time figuring out what is going on. I'm using Gradle 1.9. All changes should be in ProjectB's <code>build.gradle</code></p>\n\n<p>To use test classes from ProjectA in tests of ProjectB:</p>\n\n<pre><code>testCompile files(project(':ProjectA').sourceSets.test.output.classesDir)\n</code></pre>\n\n<p>To make sure that <code>sourceSets</code> property is available for ProjectA:</p>\n\n<pre><code>evaluationDependsOn(':ProjectA')\n</code></pre>\n\n<p>To make sure test classes from ProjectA are actually there, when you compile ProjectB:</p>\n\n<pre><code>compileTestJava.dependsOn tasks.getByPath(':ProjectA:testClasses')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":506650,"reputation":544,"user_id":2260568,"accept_rate":73,"display_name":"demon101"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451501649,"creation_date":1451476688,"answer_id":34529143,"question_id":5644011,"body_markdown":"New testJar based (trnsitive dependancies supported) solution available as gradle plugin:\r\n\r\nhttps://github.com/hauner/gradle-plugins/tree/master/jartest\r\n\r\nhttps://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0\r\n\r\nFrom documentation\r\n\r\n&gt; In case you have a multi-project gradle build you may have test\r\n&gt; dependencies between sub-projects (which probably is a hint that your\r\n&gt; projects are not well structured).\r\n&gt; \r\n&gt; For example assume a project where the sub-project Project B depends\r\n&gt; on Project A and B does not only have a compile dependency on A but\r\n&gt; also a test dependency. To compile and run the tests of B we need some\r\n&gt; test helper classes from A.\r\n&gt; \r\n&gt; By default gradle does not create a jar artifact from the test build\r\n&gt; output of a project.\r\n&gt; \r\n&gt; This plugin adds a testArchives configuration (based on testCompile)\r\n&gt; and a jarTest task to create a jar from the test source set (with the\r\n&gt; classifier test added to name of the jar). We can then depend in B on\r\n&gt; the testArchives configuration of A (which will also include the\r\n&gt; transitive dependencies of A).\r\n&gt; \r\n&gt; In A we would add the plugin to build.gradle:\r\n&gt; \r\n&gt; `apply plugin: &#39;com.github.hauner.jarTest&#39;` \r\n&gt; \r\n&gt; In B we reference the\r\n&gt; testArchives configuration like this:\r\n&gt; \r\n&gt; \r\n\r\n    dependencies {\r\n        ...\r\n        testCompile project (path: &#39;:ProjectA&#39;, configuration: &#39;testArchives&#39;) \r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>New testJar based (trnsitive dependancies supported) solution available as gradle plugin:</p>\n\n<p><a href=\"https://github.com/hauner/gradle-plugins/tree/master/jartest\" rel=\"noreferrer\">https://github.com/hauner/gradle-plugins/tree/master/jartest</a></p>\n\n<p><a href=\"https://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0\" rel=\"noreferrer\">https://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0</a></p>\n\n<p>From documentation</p>\n\n<blockquote>\n  <p>In case you have a multi-project gradle build you may have test\n  dependencies between sub-projects (which probably is a hint that your\n  projects are not well structured).</p>\n  \n  <p>For example assume a project where the sub-project Project B depends\n  on Project A and B does not only have a compile dependency on A but\n  also a test dependency. To compile and run the tests of B we need some\n  test helper classes from A.</p>\n  \n  <p>By default gradle does not create a jar artifact from the test build\n  output of a project.</p>\n  \n  <p>This plugin adds a testArchives configuration (based on testCompile)\n  and a jarTest task to create a jar from the test source set (with the\n  classifier test added to name of the jar). We can then depend in B on\n  the testArchives configuration of A (which will also include the\n  transitive dependencies of A).</p>\n  \n  <p>In A we would add the plugin to build.gradle:</p>\n  \n  <p><code>apply plugin: 'com.github.hauner.jarTest'</code> </p>\n  \n  <p>In B we reference the\n  testArchives configuration like this:</p>\n</blockquote>\n\n<pre><code>dependencies {\n    ...\n    testCompile project (path: ':ProjectA', configuration: 'testArchives') \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585651,"reputation":3039,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464270175,"creation_date":1464120876,"answer_id":37423030,"question_id":5644011,"body_markdown":"Some of the other answers caused errors one way or another - Gradle did not detect test classes from other projects or Eclipse project had invalid dependencies when imported. If anyone has the same problem, I suggest going with:\r\n\r\n    testCompile project(&#39;:core&#39;)\r\n    testCompile files(project(&#39;:core&#39;).sourceSets.test.output.classesDir)\r\n\r\nThe first line forces the Eclipse to link the other project as dependency, so all sources are included and up to date. The second allows Gradle to actually see the sources, while not causing any invalid dependency errors like `testCompile project(&#39;:core&#39;).sourceSets.test.output` does.","title":"Multi-project test dependencies with gradle","body":"<p>Some of the other answers caused errors one way or another - Gradle did not detect test classes from other projects or Eclipse project had invalid dependencies when imported. If anyone has the same problem, I suggest going with:</p>\n\n<pre><code>testCompile project(':core')\ntestCompile files(project(':core').sourceSets.test.output.classesDir)\n</code></pre>\n\n<p>The first line forces the Eclipse to link the other project as dependency, so all sources are included and up to date. The second allows Gradle to actually see the sources, while not causing any invalid dependency errors like <code>testCompile project(':core').sourceSets.test.output</code> does.</p>\n"},{"tags":[],"owner":{"account_id":7524109,"reputation":1090,"user_id":5715001,"display_name":"V&#225;clav Kužel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1690531558,"creation_date":1464123029,"answer_id":37423632,"question_id":5644011,"body_markdown":"Please read the update bellow.\r\n\r\nSimilar problems described by JustACluelessNewbie occurs in IntelliJ IDEA. Problem is that dependency `testCompile project(&#39;:core&#39;).sourceSets.test.output` actually means: &quot;depend on classes generated by gradle build task&quot;. So if you open clean project where classes are not generated yet IDEA won&#39;t recognise them and reports error.\r\n\r\nTo fix this problem you have to add a dependency on test source files next to dependency on compiled classes.\r\n\r\n    // First dependency is for IDEA\r\n\ttestCompileOnly files { project(&#39;:core&#39;).sourceSets.test.java.srcDirs }\r\n    // Second is for Gradle\r\n\ttestCompile project(&#39;:core&#39;).sourceSets.test.output\r\n\r\nYou can observe dependencies recognised by IDEA in *Module Settings -&gt; Dependencies (test scope)*.\r\n\r\nBtw. this is not nice solution so refactoring is worth considering. Gradle itself does have special subproject containing test-support classes only. See https://docs.gradle.org/current/userguide/test_kit.html\r\n\r\n**Update 2016-06-05**\r\nMore I am thinking about proposed solution less I like it. There are few problems with it:\r\n\r\n 1. It creates two dependencies in IDEA. One points to test sources another to compiled classes. And it is crucial in which order these dependencies are recognised by IDEA. You can play with it by changing dependency order in Module settings -&gt; Dependencies tab.\r\n 2. By declaring these dependencies you are unnecessarily polluting dependency structure.\r\n\r\nSo what&#39;s the better solution? In my opinion it&#39;s creating new custom source set and putting shared classes into it. Actually authors of Gradle project did it by creating testFixtures source set.\r\n\r\nTo do it you just have to:\r\n\r\n 1. Create source set and add necessary configurations. Check this script plugin used in Gradle project: https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle (or [more recent 8.2.1 version][1])\r\n 2. Declare proper dependency in dependent project:\r\n\r\n        dependencies {\r\n            testCompile project(path: &#39;:module-with-shared-classes&#39;, configuration: &#39;testFixturesUsageCompile&#39;)\r\n        }\r\n 3. Import Gradle project to IDEA and use the &quot;create separate module per source set&quot; option while importing.\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts","title":"Multi-project test dependencies with gradle","body":"<p>Please read the update bellow.</p>\n<p>Similar problems described by JustACluelessNewbie occurs in IntelliJ IDEA. Problem is that dependency <code>testCompile project(':core').sourceSets.test.output</code> actually means: &quot;depend on classes generated by gradle build task&quot;. So if you open clean project where classes are not generated yet IDEA won't recognise them and reports error.</p>\n<p>To fix this problem you have to add a dependency on test source files next to dependency on compiled classes.</p>\n<pre><code>// First dependency is for IDEA\ntestCompileOnly files { project(':core').sourceSets.test.java.srcDirs }\n// Second is for Gradle\ntestCompile project(':core').sourceSets.test.output\n</code></pre>\n<p>You can observe dependencies recognised by IDEA in <em>Module Settings -&gt; Dependencies (test scope)</em>.</p>\n<p>Btw. this is not nice solution so refactoring is worth considering. Gradle itself does have special subproject containing test-support classes only. See <a href=\"https://docs.gradle.org/current/userguide/test_kit.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/test_kit.html</a></p>\n<p><strong>Update 2016-06-05</strong>\nMore I am thinking about proposed solution less I like it. There are few problems with it:</p>\n<ol>\n<li>It creates two dependencies in IDEA. One points to test sources another to compiled classes. And it is crucial in which order these dependencies are recognised by IDEA. You can play with it by changing dependency order in Module settings -&gt; Dependencies tab.</li>\n<li>By declaring these dependencies you are unnecessarily polluting dependency structure.</li>\n</ol>\n<p>So what's the better solution? In my opinion it's creating new custom source set and putting shared classes into it. Actually authors of Gradle project did it by creating testFixtures source set.</p>\n<p>To do it you just have to:</p>\n<ol>\n<li><p>Create source set and add necessary configurations. Check this script plugin used in Gradle project: <a href=\"https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle</a> (or <a href=\"https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts\" rel=\"nofollow noreferrer\">more recent 8.2.1 version</a>)</p>\n</li>\n<li><p>Declare proper dependency in dependent project:</p>\n<pre><code>dependencies {\n    testCompile project(path: ':module-with-shared-classes', configuration: 'testFixturesUsageCompile')\n}\n</code></pre>\n</li>\n<li><p>Import Gradle project to IDEA and use the &quot;create separate module per source set&quot; option while importing.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1513891102,"creation_date":1475655188,"answer_id":39868674,"question_id":5644011,"body_markdown":"The Fesler&#39;s solution haven&#39;t worked for me, when i tried it to build an android project (gradle 2.2.0).\r\nSo i had to reference required classes manually :\r\n    \r\n    android {\r\n        sourceSets {\r\n            androidTest {\r\n                java.srcDir project(&#39;:A&#39;).file(&quot;src/androidTest/java&quot;)\r\n            }\r\n            test {\r\n                java.srcDir project(&#39;:A&#39;).file(&quot;src/test/java&quot;)\r\n            }\r\n        }\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>The Fesler's solution haven't worked for me, when i tried it to build an android project (gradle 2.2.0).\nSo i had to reference required classes manually :</p>\n\n<pre><code>android {\n    sourceSets {\n        androidTest {\n            java.srcDir project(':A').file(\"src/androidTest/java\")\n        }\n        test {\n            java.srcDir project(':A').file(\"src/test/java\")\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4974019,"reputation":467,"user_id":4000934,"display_name":"sylwano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526294794,"creation_date":1526294794,"answer_id":50328448,"question_id":5644011,"body_markdown":"If you have mock dependencies which you need to share between tests, you can create new project `projectA-mock` and then add it as test dependency to `ProjectA` and `ProjectB`:\r\n\r\n    dependencies {\r\n      testCompile project(&#39;:projectA-mock&#39;)\r\n    }\r\n\r\nThis is clear solution to share mock dependencies, but if you need to run tests from `ProjectA` in `ProjectB` use other solution.","title":"Multi-project test dependencies with gradle","body":"<p>If you have mock dependencies which you need to share between tests, you can create new project <code>projectA-mock</code> and then add it as test dependency to <code>ProjectA</code> and <code>ProjectB</code>:</p>\n\n<pre><code>dependencies {\n  testCompile project(':projectA-mock')\n}\n</code></pre>\n\n<p>This is clear solution to share mock dependencies, but if you need to run tests from <code>ProjectA</code> in <code>ProjectB</code> use other solution.</p>\n"},{"tags":[],"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1604022756,"creation_date":1529669484,"answer_id":50987676,"question_id":5644011,"body_markdown":"I&#39;m so late to the party (it is now Gradle v4.4) but for anyone else who finds this:\r\n\r\nAssuming:\r\n\r\n    ~/allProjects\r\n    |\r\n    |-/ProjectA/module-a/src/test/java\r\n    |\r\n    |-/ProjectB/module-b/src/test/java\r\n\r\n Go to the `build.gradle` of project B (the one that needs some test classes from A) and add the following:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    sourceSets {\r\n        String sharedTestDir = &quot;${projectDir}&quot;+&#39;/module-b/src/test/java&#39;\r\n        test {\r\n            java.srcDir sharedTestDir\r\n        }\r\n    }\r\n\r\nor (assuming your project is named `ProjectB`)\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    sourceSets {\r\n        String sharedTestDir = project(&#39;:ProjectB&#39;).file(&quot;module-b/src/test/java&quot;)\r\n        test {\r\n            java.srcDir sharedTestDir\r\n        }\r\n    }\r\n\r\nVoila!","title":"Multi-project test dependencies with gradle","body":"<p>I'm so late to the party (it is now Gradle v4.4) but for anyone else who finds this:</p>\n<p>Assuming:</p>\n<pre><code>~/allProjects\n|\n|-/ProjectA/module-a/src/test/java\n|\n|-/ProjectB/module-b/src/test/java\n</code></pre>\n<p>Go to the <code>build.gradle</code> of project B (the one that needs some test classes from A) and add the following:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>sourceSets {\n    String sharedTestDir = &quot;${projectDir}&quot;+'/module-b/src/test/java'\n    test {\n        java.srcDir sharedTestDir\n    }\n}\n</code></pre>\n<p>or (assuming your project is named <code>ProjectB</code>)</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>sourceSets {\n    String sharedTestDir = project(':ProjectB').file(&quot;module-b/src/test/java&quot;)\n    test {\n        java.srcDir sharedTestDir\n    }\n}\n</code></pre>\n<p>Voila!</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550460926,"creation_date":1549929299,"answer_id":54640880,"question_id":5644011,"body_markdown":"If you want to use _artifact_ dependencies to have:\r\n\r\n - ProjectB&#39;s source classes depend on Project A&#39;s source classes\r\n - ProjectB&#39;s test classes depend on Project A&#39;s test classes\r\n\r\nthen ProjectB&#39;s dependencies section in _build.gradle_ should look something like this:\r\n\r\n    dependencies {\r\n\r\n      compile(&quot;com.example:projecta:1.0.0&quot;)\r\n    \r\n      testCompile(&quot;com.example:projecta:1.0.0:tests&quot;)\r\n\r\n    }\r\n\r\nFor this to work ProjectA needs to build a _-tests_ jar and include it in the artifacts it produces. \r\n\r\nProjectA&#39;s _build.gradle_ should contain configuration like this:\r\n\r\n    task testsJar(type: Jar, dependsOn: testClasses) {\r\n        classifier = &#39;tests&#39;\r\n        from sourceSets.test.output\r\n    }\r\n\r\n    configurations {\r\n        tests\r\n    }\r\n\r\n    artifacts {\r\n        tests testsJar\r\n        archives testsJar\r\n    }\r\n\r\n    jar.finalizedBy(testsJar)\r\n\r\nWhen ProjectA&#39;s artifacts are published to your artifactory they will include a _-tests_ jar.\r\n\r\nThe _testCompile_ in ProjectB&#39;s dependencies section will bring in the classes in the _-tests_ jar.\r\n\r\n---\r\n\r\nIf you want to _includeFlat_ ProjectA&#39;s source and test classes in ProjectB for development purposes then the dependencies section in ProjectB&#39;s _build.gradle_ would look like this:\r\n\r\n    dependencies {\r\n\r\n      compile project(&#39;:projecta&#39;)\r\n \r\n      testCompile project(path: &#39;:projecta&#39;, configuration: &#39;tests&#39;)\r\n\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>If you want to use <em>artifact</em> dependencies to have:</p>\n\n<ul>\n<li>ProjectB's source classes depend on Project A's source classes</li>\n<li>ProjectB's test classes depend on Project A's test classes</li>\n</ul>\n\n<p>then ProjectB's dependencies section in <em>build.gradle</em> should look something like this:</p>\n\n<pre><code>dependencies {\n\n  compile(\"com.example:projecta:1.0.0\")\n\n  testCompile(\"com.example:projecta:1.0.0:tests\")\n\n}\n</code></pre>\n\n<p>For this to work ProjectA needs to build a <em>-tests</em> jar and include it in the artifacts it produces. </p>\n\n<p>ProjectA's <em>build.gradle</em> should contain configuration like this:</p>\n\n<pre><code>task testsJar(type: Jar, dependsOn: testClasses) {\n    classifier = 'tests'\n    from sourceSets.test.output\n}\n\nconfigurations {\n    tests\n}\n\nartifacts {\n    tests testsJar\n    archives testsJar\n}\n\njar.finalizedBy(testsJar)\n</code></pre>\n\n<p>When ProjectA's artifacts are published to your artifactory they will include a <em>-tests</em> jar.</p>\n\n<p>The <em>testCompile</em> in ProjectB's dependencies section will bring in the classes in the <em>-tests</em> jar.</p>\n\n<hr>\n\n<p>If you want to <em>includeFlat</em> ProjectA's source and test classes in ProjectB for development purposes then the dependencies section in ProjectB's <em>build.gradle</em> would look like this:</p>\n\n<pre><code>dependencies {\n\n  compile project(':projecta')\n\n  testCompile project(path: ':projecta', configuration: 'tests')\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1694704579,"creation_date":1581262029,"answer_id":60138176,"question_id":5644011,"body_markdown":"**This is now supported as a first class feature in Gradle.** Modules with `java` or `java-library` plugins can also include a `java-test-fixtures` plugin which exposes helper classes and resources to be consumed with `testFixtures` helper. Benefit of this approach against artifacts and classifiers are:\r\n\r\n * proper dependency management (implementation/api)\r\n * nice separation from test code (separate source set)\r\n * no need to filter out test classes to expose only utilities\r\n * maintained by Gradle\r\n\r\n# Example\r\n## `:modul:one`\r\n### modul/one/build.gradle\r\n```\r\nplugins {\r\n  id &quot;java-library&quot; // or &quot;java&quot;\r\n  id &quot;java-test-fixtures&quot;\r\n}\r\n```\r\n### modul/one/src/testFixtures/java/com/example/Helper.java\r\n```\r\npackage com.example;\r\npublic class Helper {}\r\n```\r\n\r\n## `:modul:other`\r\n### modul/other/build.gradle\r\n```\r\nplugins {\r\n  id &quot;java&quot; // or &quot;java-library&quot;\r\n}\r\ndependencies {\r\n  testImplementation(testFixtures(project(&quot;:modul:one&quot;)))\r\n}\r\n```\r\n### modul/other/src/test/java/com/example/other/SomeTest.java\r\n```\r\npackage com.example.other;\r\nimport com.example.Helper;\r\npublic class SomeTest {\r\n  @Test void f() {\r\n    new Helper(); // used from :modul:one&#39;s testFixtures\r\n  }\r\n}\r\n```\r\n\r\n# Further reading\r\n * For more info, see the **documentation**:  \r\nhttps://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\r\n\r\n * It was added in Gradle 5.6:  \r\nhttps://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects\r\n\r\n * On **Android** Java test-fixtures support was [added in AGP 7.1](https://developer.android.com/build/publish-library/prep-lib-release#enable-test-fixtures)\r\n\r\n * Using **Kotlin** language in test-fixtures source set in JVM projects is possible, not sure when it was added exactly, let&#39;s say 2022: Kotlin 1.7.\r\n\r\n * Using **Kotlin** language in test-fixtures on **Android**:\r\nJetBrains is refusing to implement it [here](https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-6688363.0-0) and Google just keeps [punting it from one release to the next](https://issuetracker.google.com/issues/259523353#comment6) and the community is just yearning (look at the number of votes).","title":"Multi-project test dependencies with gradle","body":"<p><strong>This is now supported as a first class feature in Gradle.</strong> Modules with <code>java</code> or <code>java-library</code> plugins can also include a <code>java-test-fixtures</code> plugin which exposes helper classes and resources to be consumed with <code>testFixtures</code> helper. Benefit of this approach against artifacts and classifiers are:</p>\n<ul>\n<li>proper dependency management (implementation/api)</li>\n<li>nice separation from test code (separate source set)</li>\n<li>no need to filter out test classes to expose only utilities</li>\n<li>maintained by Gradle</li>\n</ul>\n<h1>Example</h1>\n<h2><code>:modul:one</code></h2>\n<h3>modul/one/build.gradle</h3>\n<pre><code>plugins {\n  id &quot;java-library&quot; // or &quot;java&quot;\n  id &quot;java-test-fixtures&quot;\n}\n</code></pre>\n<h3>modul/one/src/testFixtures/java/com/example/Helper.java</h3>\n<pre><code>package com.example;\npublic class Helper {}\n</code></pre>\n<h2><code>:modul:other</code></h2>\n<h3>modul/other/build.gradle</h3>\n<pre><code>plugins {\n  id &quot;java&quot; // or &quot;java-library&quot;\n}\ndependencies {\n  testImplementation(testFixtures(project(&quot;:modul:one&quot;)))\n}\n</code></pre>\n<h3>modul/other/src/test/java/com/example/other/SomeTest.java</h3>\n<pre><code>package com.example.other;\nimport com.example.Helper;\npublic class SomeTest {\n  @Test void f() {\n    new Helper(); // used from :modul:one's testFixtures\n  }\n}\n</code></pre>\n<h1>Further reading</h1>\n<ul>\n<li><p>For more info, see the <strong>documentation</strong>:<br />\n<a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures</a></p>\n</li>\n<li><p>It was added in Gradle 5.6:<br />\n<a href=\"https://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects\" rel=\"nofollow noreferrer\">https://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects</a></p>\n</li>\n<li><p>On <strong>Android</strong> Java test-fixtures support was <a href=\"https://developer.android.com/build/publish-library/prep-lib-release#enable-test-fixtures\" rel=\"nofollow noreferrer\">added in AGP 7.1</a></p>\n</li>\n<li><p>Using <strong>Kotlin</strong> language in test-fixtures source set in JVM projects is possible, not sure when it was added exactly, let's say 2022: Kotlin 1.7.</p>\n</li>\n<li><p>Using <strong>Kotlin</strong> language in test-fixtures on <strong>Android</strong>:\nJetBrains is refusing to implement it <a href=\"https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-6688363.0-0\" rel=\"nofollow noreferrer\">here</a> and Google just keeps <a href=\"https://issuetracker.google.com/issues/259523353#comment6\" rel=\"nofollow noreferrer\">punting it from one release to the next</a> and the community is just yearning (look at the number of votes).</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1588950968,"creation_date":1588950968,"answer_id":61682321,"question_id":5644011,"body_markdown":"Here if you are using **Kotlin DSL**, you should create your task like that according to [Gradle][1] documentation.\r\n\r\nLike some previous answer, you need to create a special configuration inside the project that will share its tests class, so that you don&#39;t mix test and main classes.\r\n\r\n### Simple steps\r\n\r\n1. In **project A** you would need to add in your `build.gradle.kts` :\r\n\r\n```kotlin\r\nconfigurations {\r\n    create(&quot;test&quot;)\r\n}\r\n\r\ntasks.register&lt;Jar&gt;(&quot;testArchive&quot;) {\r\n    archiveBaseName.set(&quot;ProjectA-test&quot;)\r\n    from(project.the&lt;SourceSetContainer&gt;()[&quot;test&quot;].output)\r\n}\r\n\r\nartifacts {\r\n    add(&quot;test&quot;, tasks[&quot;testArchive&quot;])\r\n}\r\n```\r\n\r\n\r\n2. Then in your **project B** in the dependencies, you will need to add in your `build.gradle.kts`:\r\n\r\n```kotlin\r\ndependencies {\r\n    implementation(project(&quot;:ProjectA&quot;))\r\n    testImplementation(project(&quot;:ProjectA&quot;, &quot;test&quot;))\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/multi_project_builds.html","title":"Multi-project test dependencies with gradle","body":"<p>Here if you are using <strong>Kotlin DSL</strong>, you should create your task like that according to <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"noreferrer\">Gradle</a> documentation.</p>\n\n<p>Like some previous answer, you need to create a special configuration inside the project that will share its tests class, so that you don't mix test and main classes.</p>\n\n<h3>Simple steps</h3>\n\n<ol>\n<li>In <strong>project A</strong> you would need to add in your <code>build.gradle.kts</code> :</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations {\n    create(\"test\")\n}\n\ntasks.register&lt;Jar&gt;(\"testArchive\") {\n    archiveBaseName.set(\"ProjectA-test\")\n    from(project.the&lt;SourceSetContainer&gt;()[\"test\"].output)\n}\n\nartifacts {\n    add(\"test\", tasks[\"testArchive\"])\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Then in your <strong>project B</strong> in the dependencies, you will need to add in your <code>build.gradle.kts</code>:</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    implementation(project(\":ProjectA\"))\n    testImplementation(project(\":ProjectA\", \"test\"))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7746443,"reputation":797,"user_id":5864033,"display_name":"Nimdokai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596789958,"creation_date":1596789958,"answer_id":63298374,"question_id":5644011,"body_markdown":"The solution mentioned by [Nikita][1] for **Android + Kotlin** looks like this:\r\n\r\n    task jarTests(type: Jar, dependsOn: &quot;assembleDebugUnitTest&quot;) {\r\n        getArchiveClassifier().set(&#39;tests&#39;)\r\n        from &quot;$buildDir/tmp/kotlin-classes/debugUnitTest&quot;\r\n    }\r\n    \r\n    configurations {\r\n        unitTestArtifact\r\n    }\r\n\r\n    artifacts {\r\n        unitTestArtifact jarTests\r\n    }\r\n\r\n\r\nGradle for project that is going to use dependencies:\r\n\r\n    testImplementation project(path: &#39;:shared&#39;, configuration: &#39;unitTestArtifact&#39;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5648565/5864033","title":"Multi-project test dependencies with gradle","body":"<p>The solution mentioned by <a href=\"https://stackoverflow.com/a/5648565/5864033\">Nikita</a> for <strong>Android + Kotlin</strong> looks like this:</p>\n<pre><code>task jarTests(type: Jar, dependsOn: &quot;assembleDebugUnitTest&quot;) {\n    getArchiveClassifier().set('tests')\n    from &quot;$buildDir/tmp/kotlin-classes/debugUnitTest&quot;\n}\n\nconfigurations {\n    unitTestArtifact\n}\n\nartifacts {\n    unitTestArtifact jarTests\n}\n</code></pre>\n<p>Gradle for project that is going to use dependencies:</p>\n<pre><code>testImplementation project(path: ':shared', configuration: 'unitTestArtifact')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1685801,"reputation":10967,"user_id":1549135,"accept_rate":89,"display_name":"Atais"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1642414760,"creation_date":1599668839,"answer_id":63815784,"question_id":5644011,"body_markdown":"# Creating test-jar For Gradle 6.6.x\r\n\r\nI know that there are many sources telling you, that is not OK, fe:\r\n\r\n - https://github.com/gradle/gradle/issues/11280\r\n - https://gradle.org/whats-new/gradle-6/#better-builds\r\n\r\nBut this is so damn simple and I just don&#39;t like the idea of having common test classes separately in `testFixtures` folder.\r\n\r\nSo in module A:\r\n\r\n    task jarTests(type: Jar, dependsOn: testClasses) {\r\n        classifier = &#39;tests&#39;\r\n        from sourceSets.test.output\r\n    }\r\n    configurations {\r\n        tests {\r\n            extendsFrom testRuntime\r\n        }\r\n    }\r\n    artifacts {\r\n        tests jarTests\r\n    }\r\n\r\nAnd in module B:\r\n\r\n    testImplementation project(&#39;:moduleA&#39;)\r\n    testImplementation project(path: &#39;:moduleA&#39;, configuration: &#39;tests&#39;)\r\n\r\n*And it just works!*","title":"Multi-project test dependencies with gradle","body":"<h1>Creating test-jar For Gradle 6.6.x</h1>\n<p>I know that there are many sources telling you, that is not OK, fe:</p>\n<ul>\n<li><a href=\"https://github.com/gradle/gradle/issues/11280\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/11280</a></li>\n<li><a href=\"https://gradle.org/whats-new/gradle-6/#better-builds\" rel=\"nofollow noreferrer\">https://gradle.org/whats-new/gradle-6/#better-builds</a></li>\n</ul>\n<p>But this is so damn simple and I just don't like the idea of having common test classes separately in <code>testFixtures</code> folder.</p>\n<p>So in module A:</p>\n<pre><code>task jarTests(type: Jar, dependsOn: testClasses) {\n    classifier = 'tests'\n    from sourceSets.test.output\n}\nconfigurations {\n    tests {\n        extendsFrom testRuntime\n    }\n}\nartifacts {\n    tests jarTests\n}\n</code></pre>\n<p>And in module B:</p>\n<pre><code>testImplementation project(':moduleA')\ntestImplementation project(path: ':moduleA', configuration: 'tests')\n</code></pre>\n<p><em>And it just works!</em></p>\n"},{"tags":[],"owner":{"account_id":3507809,"reputation":98,"user_id":2932943,"display_name":"Gianluigi Pierini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644397026,"creation_date":1644397026,"answer_id":71046558,"question_id":5644011,"body_markdown":"If you are struggling to adapt the solution to the Gradle Kotlin DSL this is the equivalent:\r\n\r\n    configurations {\r\n        register(&quot;testClasses&quot;) {\r\n            extendsFrom(testImplementation.get())\r\n        }\r\n    }\r\n    val testJar = tasks.register&lt;Jar&gt;(&quot;testJar&quot;) {\r\n        archiveClassifier.set(&quot;test&quot;)\r\n        from(sourceSets.test)\r\n    }\r\n    artifacts.add(&quot;testClasses&quot;, testJar) ","title":"Multi-project test dependencies with gradle","body":"<p>If you are struggling to adapt the solution to the Gradle Kotlin DSL this is the equivalent:</p>\n<pre><code>configurations {\n    register(&quot;testClasses&quot;) {\n        extendsFrom(testImplementation.get())\n    }\n}\nval testJar = tasks.register&lt;Jar&gt;(&quot;testJar&quot;) {\n    archiveClassifier.set(&quot;test&quot;)\n    from(sourceSets.test)\n}\nartifacts.add(&quot;testClasses&quot;, testJar) \n</code></pre>\n"}],"owner":{"account_id":8938,"reputation":2445,"user_id":16309,"display_name":"mathd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131309,"favorite_count":0,"down_vote_count":1,"up_vote_count":212,"accepted_answer_id":7969292,"answer_count":17,"score":211,"last_activity_date":1694704579,"creation_date":1302664651,"question_id":5644011,"body_markdown":"I have a multi-project configuration and I want to use gradle.\r\n\r\nMy projects are like this:\r\n\r\n- Project A\r\n    - -&gt; `src/main/java`\r\n    - -&gt; `src/test/java`\r\n\r\n \r\n- Project B  \r\n    - -&gt; `src/main/java` (depends on `src/main/java` on **Project A**)  \r\n    - -&gt; `src/test/java` (depends on `src/test/java` on **Project A**)  \r\n\r\nMy **Project B** `build.gradle` file is like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    dependencies {\r\n      compile project(&#39;:ProjectA&#39;)\r\n    }\r\n\r\nThe task `compileJava` work great but the `compileTestJava` does not compile the test file from **Project A**.","title":"Multi-project test dependencies with gradle","body":"<p>I have a multi-project configuration and I want to use gradle.</p>\n\n<p>My projects are like this:</p>\n\n<ul>\n<li><p>Project A</p>\n\n<ul>\n<li>-> <code>src/main/java</code></li>\n<li>-> <code>src/test/java</code></li>\n</ul></li>\n<li><p>Project B  </p>\n\n<ul>\n<li>-> <code>src/main/java</code> (depends on <code>src/main/java</code> on <strong>Project A</strong>)  </li>\n<li>-> <code>src/test/java</code> (depends on <code>src/test/java</code> on <strong>Project A</strong>)  </li>\n</ul></li>\n</ul>\n\n<p>My <strong>Project B</strong> <code>build.gradle</code> file is like this:</p>\n\n<pre><code>apply plugin: 'java'\ndependencies {\n  compile project(':ProjectA')\n}\n</code></pre>\n\n<p>The task <code>compileJava</code> work great but the <code>compileTestJava</code> does not compile the test file from <strong>Project A</strong>.</p>\n"},{"tags":["java","android","openai-api","chatgpt-api"],"answers":[{"tags":[],"owner":{"account_id":14324749,"reputation":16763,"user_id":10347145,"display_name":"Rok Benko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694704334,"creation_date":1677767903,"answer_id":75616964,"question_id":75616048,"body_markdown":"You&#39;re using the `gpt-3.5-turbo` model.\r\n\r\nThere are three main differences between the [Chat Completions API][1] (i.e., the GPT-3.5 API) and the [Completions API][2] (i.e., the GPT-3 API):\r\n\r\n1. API endpoint\r\n   - Completions API: `https://api.openai.com/v1/completions`\r\n   - Chat Completions API: `https://api.openai.com/v1/chat/completions`\r\n2. The `prompt` parameter (Completions API) is replaced by the `messages` parameter (Chat Completions API)\r\n3. Response access\r\n   - Completions API: &lt;BR&gt;`response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)`\r\n   - Chat Completions API: `response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)`\r\n\r\n&lt;br&gt;\r\n\r\n**PROBLEM 1: You&#39;re using the wrong API endpoint**\r\n\r\nChange this...\r\n\r\n    https://api.openai.com/v1/completions\r\n\r\n...to this.\r\n\r\n    https://api.openai.com/v1/chat/completions\r\n\r\n&lt;br&gt;\r\n\r\n**PROBLEM 2: Make sure the JSON for the `messages` parameter is valid**\r\n\r\nLike this:\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n    JSONArray messages = new JSONArray();\r\n    JSONObject message = new JSONObject();\r\n\r\n    message.put(&quot;role&quot;, &quot;user&quot;);\r\n    message.put(&quot;content&quot;, &quot;What are your functionalities?&quot;);\r\n\r\n    messages.put(message);\r\n\r\n    jsonObject.put(&quot;messages&quot;, messages);\r\n\r\nThis code will create the following JSON object:\r\n\r\n    {\r\n      &quot;messages&quot;: [\r\n        {\r\n          &quot;role&quot;: &quot;user&quot;,\r\n          &quot;content&quot;: &quot;What are your functionalities?&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n**PROBLEM 3: You&#39;re accessing the response incorrectly**\r\n\r\nChange this...\r\n\r\n    response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)\r\n\r\n...to this.\r\n    \r\n    response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)\r\n\r\n*Note: If you&#39;re still getting API error `400`, make sure you have set the `Content-Type` header to `application/json`. Be careful, `application/json, UTF-8` won&#39;t work.*\r\n\r\n\r\n  [1]: https://platform.openai.com/docs/guides/gpt/chat-completions-api\r\n  [2]: https://platform.openai.com/docs/guides/gpt/completions-api","title":"OpenAI ChatGPT (GPT-3.5) API error 400: &quot;Unexpected response code 400 for https://api.openai.com/v1/completions&quot; (migrating GPT-3 to GPT-3.5 API)","body":"<p>You're using the <code>gpt-3.5-turbo</code> model.</p>\n<p>There are three main differences between the <a href=\"https://platform.openai.com/docs/guides/gpt/chat-completions-api\" rel=\"nofollow noreferrer\">Chat Completions API</a> (i.e., the GPT-3.5 API) and the <a href=\"https://platform.openai.com/docs/guides/gpt/completions-api\" rel=\"nofollow noreferrer\">Completions API</a> (i.e., the GPT-3 API):</p>\n<ol>\n<li>API endpoint\n<ul>\n<li>Completions API: <code>https://api.openai.com/v1/completions</code></li>\n<li>Chat Completions API: <code>https://api.openai.com/v1/chat/completions</code></li>\n</ul>\n</li>\n<li>The <code>prompt</code> parameter (Completions API) is replaced by the <code>messages</code> parameter (Chat Completions API)</li>\n<li>Response access\n<ul>\n<li>Completions API: <BR><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)</code></li>\n<li>Chat Completions API: <code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)</code></li>\n</ul>\n</li>\n</ol>\n<br>\n<p><strong>PROBLEM 1: You're using the wrong API endpoint</strong></p>\n<p>Change this...</p>\n<pre><code>https://api.openai.com/v1/completions\n</code></pre>\n<p>...to this.</p>\n<pre><code>https://api.openai.com/v1/chat/completions\n</code></pre>\n<br>\n<p><strong>PROBLEM 2: Make sure the JSON for the <code>messages</code> parameter is valid</strong></p>\n<p>Like this:</p>\n<pre><code>JSONObject jsonObject = new JSONObject();\nJSONArray messages = new JSONArray();\nJSONObject message = new JSONObject();\n\nmessage.put(&quot;role&quot;, &quot;user&quot;);\nmessage.put(&quot;content&quot;, &quot;What are your functionalities?&quot;);\n\nmessages.put(message);\n\njsonObject.put(&quot;messages&quot;, messages);\n</code></pre>\n<p>This code will create the following JSON object:</p>\n<pre><code>{\n  &quot;messages&quot;: [\n    {\n      &quot;role&quot;: &quot;user&quot;,\n      &quot;content&quot;: &quot;What are your functionalities?&quot;\n    }\n  ]\n}\n</code></pre>\n<p><strong>PROBLEM 3: You're accessing the response incorrectly</strong></p>\n<p>Change this...</p>\n<pre><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)\n</code></pre>\n<p>...to this.</p>\n<pre><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)\n</code></pre>\n<p><em>Note: If you're still getting API error <code>400</code>, make sure you have set the <code>Content-Type</code> header to <code>application/json</code>. Be careful, <code>application/json, UTF-8</code> won't work.</em></p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694704334,"creation_date":1677763532,"question_id":75616048,"body_markdown":"I have an android application where I&#39;m currently using chat gpt 3.0 for completions and it works fine. Now after they released chat gpt 3.5 turbo, I made few changes based on their request example but throwing 400 errors, I appreciate any help Thank you \r\n\r\n\r\n * My code with gpt 3.0  (it works fine) \r\n\r\n```\r\n  public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\r\n\r\n        mQuestionText.setText(query);\r\n        queryEdt.setText(&quot;&quot;);\r\n        mResponseText.setText(&quot;Please wait..&quot;);\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;model&quot;, &quot;text-davinci-003&quot;);\r\n        jsonObject.put(&quot;prompt&quot;, query);\r\n        jsonObject.put(&quot;temperature&quot;, 0);\r\n        jsonObject.put(&quot;max_tokens&quot;, 100);\r\n        jsonObject.put(&quot;top_p&quot;, 1);\r\n        jsonObject.put(&quot;frequency_penalty&quot;, 0.0);\r\n        jsonObject.put(&quot;presence_penalty&quot;, 0.0);\r\n\r\n\r\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\r\n            try {\r\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\r\n                mResponseText.setText(responseMsg);\r\n\r\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\r\n                if(textToSpeech != null){\r\n                    textToSpeech.stop();\r\n                    textToSpeech.shutdown();\r\n                    textToSpeech  = null;\r\n                }\r\n\r\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\r\n                textToSpeech(context,responseMsg);\r\n            }catch (Exception e){\r\n                // error\r\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\r\n            }\r\n        }, error -&gt; {\r\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\r\n        }){\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() {\r\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n```\r\n\r\n\r\n * Now switching to 3.5 turbo where I&#39;m using gpt-3.5-turbo as model\r\n\r\n```\r\n\r\n public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\r\n\r\n        mQuestionText.setText(query);\r\n        queryEdt.setText(&quot;&quot;);\r\n        mResponseText.setText(&quot;Please wait..&quot;);\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n\r\n        ArrayList&lt;ChatModel&gt; arrayList = new ArrayList&lt;&gt;();\r\n        arrayList.add(new ChatModel(&quot;user&quot;,query));\r\n\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\r\n        jsonObject.put(&quot;messages&quot;,arrayList);\r\n        \r\n\r\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\r\n            try {\r\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\r\n                mResponseText.setText(responseMsg);\r\n\r\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\r\n                if(textToSpeech != null){\r\n                    textToSpeech.stop();\r\n                    textToSpeech.shutdown();\r\n                    textToSpeech  = null;\r\n                }\r\n\r\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\r\n                textToSpeech(context,responseMsg);\r\n            }catch (Exception e){\r\n                // error\r\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\r\n            }\r\n        }, error -&gt; {\r\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\r\n        }){\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() {\r\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\r\n                return params;\r\n            }\r\n        };\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n```\r\n\r\n  * Error when using chat gpt 3.5 turbo model  ( when i use chat gpt 3.0 it works )\r\n\r\n```\r\n\r\n  E/Volley: [1922] NetworkUtility.shouldRetryException: Unexpected response code 400 for \r\n  https://api.openai.com/v1/completions\r\n\r\n```\r\n\r\n\r\n * Based on their documentation \r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OW1n9.png","title":"OpenAI ChatGPT (GPT-3.5) API error 400: &quot;Unexpected response code 400 for https://api.openai.com/v1/completions&quot; (migrating GPT-3 to GPT-3.5 API)","body":"<p>I have an android application where I'm currently using chat gpt 3.0 for completions and it works fine. Now after they released chat gpt 3.5 turbo, I made few changes based on their request example but throwing 400 errors, I appreciate any help Thank you</p>\n<ul>\n<li>My code with gpt 3.0  (it works fine)</li>\n</ul>\n<pre><code>  public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\n\n        mQuestionText.setText(query);\n        queryEdt.setText(&quot;&quot;);\n        mResponseText.setText(&quot;Please wait..&quot;);\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;model&quot;, &quot;text-davinci-003&quot;);\n        jsonObject.put(&quot;prompt&quot;, query);\n        jsonObject.put(&quot;temperature&quot;, 0);\n        jsonObject.put(&quot;max_tokens&quot;, 100);\n        jsonObject.put(&quot;top_p&quot;, 1);\n        jsonObject.put(&quot;frequency_penalty&quot;, 0.0);\n        jsonObject.put(&quot;presence_penalty&quot;, 0.0);\n\n\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\n            try {\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\n                mResponseText.setText(responseMsg);\n\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\n                if(textToSpeech != null){\n                    textToSpeech.stop();\n                    textToSpeech.shutdown();\n                    textToSpeech  = null;\n                }\n\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\n                textToSpeech(context,responseMsg);\n            }catch (Exception e){\n                // error\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\n            }\n        }, error -&gt; {\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\n        }){\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\n                return params;\n            }\n        };\n\n        requestQueue.add(jsonObjectRequest);\n    }\n\n</code></pre>\n<ul>\n<li>Now switching to 3.5 turbo where I'm using gpt-3.5-turbo as model</li>\n</ul>\n<pre><code>\n public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\n\n        mQuestionText.setText(query);\n        queryEdt.setText(&quot;&quot;);\n        mResponseText.setText(&quot;Please wait..&quot;);\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n\n        ArrayList&lt;ChatModel&gt; arrayList = new ArrayList&lt;&gt;();\n        arrayList.add(new ChatModel(&quot;user&quot;,query));\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\n        jsonObject.put(&quot;messages&quot;,arrayList);\n        \n\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\n            try {\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\n                mResponseText.setText(responseMsg);\n\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\n                if(textToSpeech != null){\n                    textToSpeech.stop();\n                    textToSpeech.shutdown();\n                    textToSpeech  = null;\n                }\n\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\n                textToSpeech(context,responseMsg);\n            }catch (Exception e){\n                // error\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\n            }\n        }, error -&gt; {\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\n        }){\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\n                return params;\n            }\n        };\n        requestQueue.add(jsonObjectRequest);\n    }\n\n</code></pre>\n<ul>\n<li>Error when using chat gpt 3.5 turbo model  ( when i use chat gpt 3.0 it works )</li>\n</ul>\n<pre><code>\n  E/Volley: [1922] NetworkUtility.shouldRetryException: Unexpected response code 400 for \n  https://api.openai.com/v1/completions\n\n</code></pre>\n<ul>\n<li>Based on their documentation</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/OW1n9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OW1n9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gitlab-ci","code-navigation"],"owner":{"account_id":20981872,"reputation":11,"user_id":15529582,"display_name":"Wael Amri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694704025,"creation_date":1694703982,"question_id":77106222,"body_markdown":"I am having trouble enabling the code navigation/intelligence feature by gitlab (https://docs.gitlab.com/ee/user/project/code_intelligence.html)\r\nThe project I am working on is in Java and here is the newly added job for my gitlab-ci.yml : \r\n\r\n    code_navigation:\r\n      stage: test\r\n      tags:\r\n        - runner_tag\r\n      image: sourcegraph/lsif-java:latest\r\n      allow_failure: true\r\n      script:\r\n        - lsif-java index -- --batch-mode -DskipTests package\r\n      artifacts:\r\n        reports:\r\n          lsif: dump.lsif\r\n        paths:\r\n          - &quot;dump.lsif&quot;\r\n\r\nHowever, it appears that the provided image has java 8 and my project is on version 17.\r\nThanks.\r\n\r\nI tried using scip-java image instead but I don&#39;t think gitlab has a keyword to collect the index.scip generated and use it to enable the navigation feature.\r\nDoes someone have an idea on how to trigger it ? \r\n","title":"Triggering code navigation on gitlab pipeline for a java project","body":"<p>I am having trouble enabling the code navigation/intelligence feature by gitlab (<a href=\"https://docs.gitlab.com/ee/user/project/code_intelligence.html\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/project/code_intelligence.html</a>)\nThe project I am working on is in Java and here is the newly added job for my gitlab-ci.yml :</p>\n<pre><code>code_navigation:\n  stage: test\n  tags:\n    - runner_tag\n  image: sourcegraph/lsif-java:latest\n  allow_failure: true\n  script:\n    - lsif-java index -- --batch-mode -DskipTests package\n  artifacts:\n    reports:\n      lsif: dump.lsif\n    paths:\n      - &quot;dump.lsif&quot;\n</code></pre>\n<p>However, it appears that the provided image has java 8 and my project is on version 17.\nThanks.</p>\n<p>I tried using scip-java image instead but I don't think gitlab has a keyword to collect the index.scip generated and use it to enable the navigation feature.\nDoes someone have an idea on how to trigger it ?</p>\n"},{"tags":["java","hibernate","jpa","playframework"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694701528,"post_id":77097333,"comment_id":135928572,"body_markdown":"Show more of the exception, it should tell you more on why it might be failing. You might also turn on SQL logging to see the statements being issued- it is especially helpful if you are learning and need to debug what might be happening behind the scenes. @GeneratedValue(strategy = GenerationType.IDENTITY) though requires DB support to generate the ID value and return it to JPA on the insert - verify the database you are using supports it and that your table was setup for it (how are you generating the tables?)","body":"Show more of the exception, it should tell you more on why it might be failing. You might also turn on SQL logging to see the statements being issued- it is especially helpful if you are learning and need to debug what might be happening behind the scenes. @GeneratedValue(strategy = GenerationType.IDENTITY) though requires DB support to generate the ID value and return it to JPA on the insert - verify the database you are using supports it and that your table was setup for it (how are you generating the tables?)"},{"owner":{"account_id":11174137,"reputation":61,"user_id":8200261,"display_name":"Tomas Zeman"},"score":0,"creation_date":1696672569,"post_id":77097333,"comment_id":136185589,"body_markdown":"Please share the full exception. Maybe you just need to add entityManager.flush(); ... See my example for inserting into the DB https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java","body":"Please share the full exception. Maybe you just need to add entityManager.flush(); ... See my example for inserting into the DB <a href=\"https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java\" rel=\"nofollow noreferrer\">github.com/ertra/play-framework-by-example/blob/master/app/d&zwnj;&#8203;ao/&hellip;</a>"}],"owner":{"account_id":25957203,"reputation":21,"user_id":19674392,"display_name":"Siddarth K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694704018,"creation_date":1694610266,"question_id":77097333,"body_markdown":"I am new to this,  \r\nHere I am trying to add a user to the database using JPA but the user is not saving into the database I am getting this error. May I know why and how to resolve this?\r\n\r\n\\-If I remove @GeneratedValue from user model for id &#160;and pass id manually in API request it is working but I saw so many youtube videos how to implement JPA there they are following @GenerateValue\r\n\r\nUser model\r\n\r\n```\r\npackage model;\r\n\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String userName;\r\n    private String password;\r\n}\r\n```\r\n\r\nmethod\r\n\r\n```\r\n public CompletionStage&lt;Result&gt; addUser(Http.Request request) {\r\n        JsonNode json = request.body().asJson();\r\n        User user = Json.fromJson(json, User.class);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; addUser1(user));\r\n    }\r\n\r\n    private static Result addUser1(User user) {\r\n        return jpaApi.withTransaction(entityManager -&gt; {\r\n            try {\r\n                entityManager.persist(user);\r\n                return ok(&quot;User Added Successfully&quot;);\r\n            } catch (Exception e) {\r\n                return internalServerError(&quot;An Error occurred while adding user: &quot; + e.getMessage());\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nAPI request: Body in Json\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Robin&quot;,\r\n    &quot;lastName&quot;: &quot;karachri&quot;,\r\n    &quot;userName&quot;: &quot;Robin&quot;,\r\n    &quot;password&quot;: &quot;4563&quot;\r\n}\r\n```","title":"An Error occurred while adding user: org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>I am new to this,<br />\nHere I am trying to add a user to the database using JPA but the user is not saving into the database I am getting this error. May I know why and how to resolve this?</p>\n<p>-If I remove @GeneratedValue from user model for id  and pass id manually in API request it is working but I saw so many youtube videos how to implement JPA there they are following @GenerateValue</p>\n<p>User model</p>\n<pre><code>package model;\n\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String firstName;\n    private String lastName;\n    private String userName;\n    private String password;\n}\n</code></pre>\n<p>method</p>\n<pre><code> public CompletionStage&lt;Result&gt; addUser(Http.Request request) {\n        JsonNode json = request.body().asJson();\n        User user = Json.fromJson(json, User.class);\n        return CompletableFuture.supplyAsync(\n                () -&gt; addUser1(user));\n    }\n\n    private static Result addUser1(User user) {\n        return jpaApi.withTransaction(entityManager -&gt; {\n            try {\n                entityManager.persist(user);\n                return ok(&quot;User Added Successfully&quot;);\n            } catch (Exception e) {\n                return internalServerError(&quot;An Error occurred while adding user: &quot; + e.getMessage());\n            }\n        });\n\n    }\n</code></pre>\n<p>API request: Body in Json</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Robin&quot;,\n    &quot;lastName&quot;: &quot;karachri&quot;,\n    &quot;userName&quot;: &quot;Robin&quot;,\n    &quot;password&quot;: &quot;4563&quot;\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1411395109,"creation_date":1411395109,"answer_id":25976208,"question_id":25976120,"body_markdown":"You&#39;ll notice [`Logger`][1] no longer declares such a method.\r\n\r\nlog4j version 2 has made some drastic changes. [Here&#39;s][2] the change log. [`getLogger` seems to have been moved to a `LogManager` class.][3]\r\n\r\n[Here&#39;s][4] how they suggest making the migration. \r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\r\n  [2]: http://logging.apache.org/log4j/2.x/changelog.html\r\n  [3]: https://issues.apache.org/jira/browse/LOG4J2-70\r\n  [4]: http://logging.apache.org/log4j/2.x/manual/migration.html","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>You'll notice <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\"><code>Logger</code></a> no longer declares such a method.</p>\n\n<p>log4j version 2 has made some drastic changes. <a href=\"http://logging.apache.org/log4j/2.x/changelog.html\">Here's</a> the change log. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-70\"><code>getLogger</code> seems to have been moved to a <code>LogManager</code> class.</a></p>\n\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/migration.html\">Here's</a> how they suggest making the migration. </p>\n"},{"tags":[],"owner":{"account_id":4342608,"reputation":240,"user_id":3545493,"display_name":"pd30"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411395635,"creation_date":1411395635,"answer_id":25976379,"question_id":25976120,"body_markdown":"Yes your observation is correct.It does not support getLogger() method.\r\n\r\nCheck this Documentation link out: http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html\r\n\r\n\r\nSample tutorial:http://www.javabeat.net/log4j-2-example/","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>Yes your observation is correct.It does not support getLogger() method.</p>\n\n<p>Check this Documentation link out: <a href=\"http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html\" rel=\"nofollow\">http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html</a></p>\n\n<p>Sample tutorial:<a href=\"http://www.javabeat.net/log4j-2-example/\" rel=\"nofollow\">http://www.javabeat.net/log4j-2-example/</a></p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411399771,"creation_date":1411399771,"answer_id":25977825,"question_id":25976120,"body_markdown":"As noted in other answers, `Logger` is now an interface and you can get Logger instances from the `LogManager`.\r\n\r\nAPI is now separate from the implementation, to give the team the freedom to change the implementation without breaking user code. The API will rarely change, and if it does change it will be in a 2.x version, not a 2.0.x version. That said, it is probably a good idea to always use matching log4j-api and log4j-core versions.","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>As noted in other answers, <code>Logger</code> is now an interface and you can get Logger instances from the <code>LogManager</code>.</p>\n\n<p>API is now separate from the implementation, to give the team the freedom to change the implementation without breaking user code. The API will rarely change, and if it does change it will be in a 2.x version, not a 2.0.x version. That said, it is probably a good idea to always use matching log4j-api and log4j-core versions.</p>\n"},{"tags":[],"owner":{"account_id":4724155,"reputation":444,"user_id":3821301,"accept_rate":100,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464962912,"creation_date":1464962912,"answer_id":37616587,"question_id":25976120,"body_markdown":"I&#39;m giving an example for better understanding.   \r\n   \r\n\r\n    private static Logger logger;\r\n            static {\r\n                try {   \r\n                       // you need to do something like below instaed of Logger.getLogger(....);\r\n                        logger = LogManager.getLogger(ResourceService.class); \r\n                  } catch (Throwable th) {\r\n                        throw new HRException(&quot;Cannot load the log property file&quot;, th);\r\n                }\r\n            }\r\n\r\n","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>I'm giving an example for better understanding.   </p>\n\n<pre><code>private static Logger logger;\n        static {\n            try {   \n                   // you need to do something like below instaed of Logger.getLogger(....);\n                    logger = LogManager.getLogger(ResourceService.class); \n              } catch (Throwable th) {\n                    throw new HRException(\"Cannot load the log property file\", th);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137710,"reputation":1037,"user_id":6128863,"display_name":"Ishimwe Aubain Consolateur"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493333785,"creation_date":1493333785,"answer_id":43669191,"question_id":25976120,"body_markdown":"with new Log4J 2, you have to add at least (in my case) log4j-core-2.8.2, log4j-api-2.8.2 and in some other case you may need to add also log4j-web-2.8.2.\r\nSo when you want to get a logging  you import\r\n`import org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;`\r\n\r\n\r\nand finally the usage will be\r\n`static final Logger LOGGER = LogManager.getLogger(WebService.class.getName());`\r\n\r\nNote: don&#39;t forget to put config file into the root directory of the project, other wise you won&#39;t be able to get your logs.\r\n\r\nHope this will help someone\r\nKind regards","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>with new Log4J 2, you have to add at least (in my case) log4j-core-2.8.2, log4j-api-2.8.2 and in some other case you may need to add also log4j-web-2.8.2.\nSo when you want to get a logging  you import\n<code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;</code></p>\n\n<p>and finally the usage will be\n<code>static final Logger LOGGER = LogManager.getLogger(WebService.class.getName());</code></p>\n\n<p>Note: don't forget to put config file into the root directory of the project, other wise you won't be able to get your logs.</p>\n\n<p>Hope this will help someone\nKind regards</p>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620663617,"creation_date":1521612341,"answer_id":49399303,"question_id":25976120,"body_markdown":"If you are using log4j version 2.\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(TheClass.class);\r\n","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>If you are using log4j version 2.</p>\n<pre><code>private static final Logger LOGGER = LogManager.getLogger(TheClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524473420,"creation_date":1524472163,"answer_id":49976575,"question_id":25976120,"body_markdown":"To use the getLogger() method on your class, import the **Logger** class \r\n\r\n`import java.util.logging.Logger;`\r\n\r\nand use it as follows \r\n\r\n    public class SpringBoot {\r\n      private static final Logger LOGGER = Logger.getClass(&quot;SpringBoot&quot;);\r\n    }\r\nAnd remember, this method takes a string argument.\r\n\r\n\r\nOr Use **Logger from org.apache.log4j** package as seen below \r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class MessageProcessor {\r\n\t\r\n\tprivate static final Logger LOGGER = Logger.getLogger(MessageProcessor.class);\r\n\t\r\n\tpublic void processMessage(Message&lt;String&gt; msg) {\r\n\t\tLOGGER.info(&quot;Message is about to be processed&quot;);\r\n\t}\r\n\r\n   ","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>To use the getLogger() method on your class, import the <strong>Logger</strong> class </p>\n\n<p><code>import java.util.logging.Logger;</code></p>\n\n<p>and use it as follows </p>\n\n<pre><code>public class SpringBoot {\n  private static final Logger LOGGER = Logger.getClass(\"SpringBoot\");\n}\n</code></pre>\n\n<p>And remember, this method takes a string argument.</p>\n\n<p>Or Use <strong>Logger from org.apache.log4j</strong> package as seen below </p>\n\n<pre><code>import org.apache.log4j.Logger;\n\npublic class MessageProcessor {\n\nprivate static final Logger LOGGER = Logger.getLogger(MessageProcessor.class);\n\npublic void processMessage(Message&lt;String&gt; msg) {\n    LOGGER.info(\"Message is about to be processed\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21030229,"reputation":1,"user_id":22554889,"display_name":"Francine Massaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694703778,"creation_date":1694647603,"answer_id":77101007,"question_id":25976120,"body_markdown":"This worked for me:\r\n\r\n```java\r\nimport org.apache.logging.log4j.Logger;\r\nprivate static final Logger log = LogManager.getLogger(YourClass.class);\r\n```","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>This worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.logging.log4j.Logger;\nprivate static final Logger log = LogManager.getLogger(YourClass.class);\n</code></pre>\n"}],"owner":{"account_id":38739,"reputation":6849,"user_id":111398,"accept_rate":70,"display_name":"huahsin68"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67485,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":25976208,"answer_count":8,"score":35,"last_activity_date":1694703778,"creation_date":1411394831,"question_id":25976120,"body_markdown":"I have the `log4j-api-2.0.0.jar` and `log4j-core-2.0.2.jar` import into my build path. But somehow the following code were fail:\r\n\r\n    import org.apache.logging.log4j.core.Logger;\r\n    \r\n    public class TheClass {\r\n    \r\n        private static Logger log = Logger.getLogger(TheClass.class);\r\n    \r\n    ...\r\n\r\nAnd the error message shows that:\r\n\r\n`The method getLogger(Class&lt;TheClass&gt;) is undefined for the type Logger`\r\n\r\nI am just so curious is `getLogger()` no longer a valid method in Logger?","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>I have the <code>log4j-api-2.0.0.jar</code> and <code>log4j-core-2.0.2.jar</code> import into my build path. But somehow the following code were fail:</p>\n\n<pre><code>import org.apache.logging.log4j.core.Logger;\n\npublic class TheClass {\n\n    private static Logger log = Logger.getLogger(TheClass.class);\n\n...\n</code></pre>\n\n<p>And the error message shows that:</p>\n\n<p><code>The method getLogger(Class&lt;TheClass&gt;) is undefined for the type Logger</code></p>\n\n<p>I am just so curious is <code>getLogger()</code> no longer a valid method in Logger?</p>\n"},{"tags":["java","android","android-studio","iframe","youtube"],"owner":{"account_id":29443270,"reputation":1,"user_id":22561072,"display_name":"PARAG TYAGI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703565,"creation_date":1694703565,"question_id":77106158,"body_markdown":"I am trying to play the next youtube video in android when one video ended. But webview is not playing another video.\r\n```youtubePlayerView = (YoutubePlayerView) findViewById(R.id.youtubePlayerView);\r\n\r\n        // make auto height of youtube. if you want to use &#39;wrap_content&#39;\r\n        youtubePlayerView.setAutoPlayerHeight(this);\r\n\r\n        \r\n        YTParams params = new YTParams();\r\n       \r\n        params.setVolume(100);\r\n        params.setPlaybackQuality(PlaybackQuality.small);\r\n\r\n        currentSec.setText(String.valueOf(0));\r\n YoutubePlayerView.YouTubeListener())\r\n\r\n        \r\n        \r\n\r\n        youtubePlayerView.initializeWithCustomURL(&quot;p1Zt47V3pPw&quot;, params, new YoutubePlayerView.YouTubeListener() {\r\n\r\n            @Override\r\n            public void onReady() {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onStateChange(YoutubePlayerView.STATE state) {\r\n                if(state.equals(YoutubePlayerView.STATE.ENDED){\r\n                   youtubePlayerView.cueVideo(&quot;bnEZb0rB8lw&quot;);\r\n                 }\r\n                \r\n\r\n               \r\n            }\r\n\r\n```\r\n\r\n\r\nI want to play next video when one video ended but webview is not refreshing","title":"Webview not playing video when the one video ended","body":"<p>I am trying to play the next youtube video in android when one video ended. But webview is not playing another video.</p>\n<pre><code>\n        // make auto height of youtube. if you want to use 'wrap_content'\n        youtubePlayerView.setAutoPlayerHeight(this);\n\n        \n        YTParams params = new YTParams();\n       \n        params.setVolume(100);\n        params.setPlaybackQuality(PlaybackQuality.small);\n\n        currentSec.setText(String.valueOf(0));\n YoutubePlayerView.YouTubeListener())\n\n        \n        \n\n        youtubePlayerView.initializeWithCustomURL(&quot;p1Zt47V3pPw&quot;, params, new YoutubePlayerView.YouTubeListener() {\n\n            @Override\n            public void onReady() {\n                \n            }\n\n            @Override\n            public void onStateChange(YoutubePlayerView.STATE state) {\n                if(state.equals(YoutubePlayerView.STATE.ENDED){\n                   youtubePlayerView.cueVideo(&quot;bnEZb0rB8lw&quot;);\n                 }\n                \n\n               \n            }\n\n</code></pre>\n<p>I want to play next video when one video ended but webview is not refreshing</p>\n"},{"tags":["java","maven","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640938277,"post_id":70539990,"comment_id":124694291,"body_markdown":"_&quot;But it doesn&#39;t work&quot;_: what are the symptoms? Are you aware that Log4j 1.x and Log4j 2.x properties configuration files have a different format? To parse (a basic version) of the 1.x format use the [`PropertiesConfigurationFactory`](https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/PropertiesConfigurationFactory.html) from `log4j-1.2-api` (beware the package name, the 2.x format factory has the same class name).","body":"<i>&quot;But it doesn&#39;t work&quot;</i>: what are the symptoms? Are you aware that Log4j 1.x and Log4j 2.x properties configuration files have a different format? To parse (a basic version) of the 1.x format use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/PropertiesConfigurationFactory.html\" rel=\"nofollow noreferrer\"><code>PropertiesConfigurationFactory</code></a> from <code>log4j-1.2-api</code> (beware the package name, the 2.x format factory has the same class name)."},{"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"score":0,"creation_date":1641213012,"post_id":70539990,"comment_id":124741003,"body_markdown":"Yes @Piotr. I receive the error as provided in the UPDATE. Throwing cannot cast exception.","body":"Yes @Piotr. I receive the error as provided in the UPDATE. Throwing cannot cast exception."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641213328,"post_id":70539990,"comment_id":124741098,"body_markdown":"It seems you have [`log4j-to-slf4j`](https://logging.apache.org/log4j/log4j-2.2/log4j-to-slf4j/index.html) on your classpath, which sends all messages submitted using the Log4j 2.x API to SLF4J. Remove it.","body":"It seems you have <a href=\"https://logging.apache.org/log4j/log4j-2.2/log4j-to-slf4j/index.html\" rel=\"nofollow noreferrer\"><code>log4j-to-slf4j</code></a> on your classpath, which sends all messages submitted using the Log4j 2.x API to SLF4J. Remove it."},{"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"score":0,"creation_date":1641214534,"post_id":70539990,"comment_id":124741452,"body_markdown":"It is not in my classpath. And so, I have added exclusions in my pom.xml as &quot;&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n\t\t\t&lt;exclusions&gt;\n\t\t\t\t&lt;exclusion&gt;\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n\t\t\t\t&lt;/exclusion&gt;\n\t\t\t&lt;/exclusions&gt;\n\t\t&lt;/dependency&gt;&quot;. But still the jar is getting downloaded in the maven dependencies.","body":"It is not in my classpath. And so, I have added exclusions in my pom.xml as &quot;&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt; \t\t\t&lt;exclusions&gt; \t\t\t\t&lt;exclusion&gt; \t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt; \t\t\t\t&lt;/exclusion&gt; \t\t\t&lt;/exclusions&gt; \t\t&lt;/dependency&gt;&quot;. But still the jar is getting downloaded in the maven dependencies."}],"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703550,"creation_date":1640935771,"question_id":70539990,"body_markdown":"I have been using the old version of log4j imports which we used to customize the log4j getLogger as:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PropertyConfigurator;\r\n        ...\r\n    public static Logger getLogger(Class&lt;?&gt; className) {\r\n    \tProperties log4jProperties = new Properties();\r\n    \ttry {\r\n    \t\tlog4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\r\n    \t\tPropertyConfigurator.configure(log4jProperties);\r\n    \t} catch (FileNotFoundException fileNotFoundException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tfileNotFoundException.printStackTrace();\r\n    \t} catch (IOException ioException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;IOException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tioException.printStackTrace();\r\n    \t}\r\n    \treturn Logger.getLogger(className);\r\n    }\r\n\r\nBut now for the new version of log4j 2.17.1, looks like PropertyConfigurator and getLogger are completely changed. Not finding an resolution to fix it. Have tried the below. But it doesn&#39;t work.\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.core.LoggerContext;\r\n    import org.apache.logging.log4j.core.config.Configuration;\r\n    import org.apache.logging.log4j.core.config.ConfigurationSource;\r\n    import org.apache.logging.log4j.core.config.Configurator;\r\n    import org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder;\r\n    ...\r\n    public static Logger getLogger(Class&lt;?&gt; className) {\r\n    \tProperties log4jProperties = new Properties();\r\n    \ttry {\r\n    \t\tlog4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\r\n    \t\t//PropertyConfigurator.configure(log4jProperties);\r\n    \t\tLoggerContext context = (LoggerContext)LogManager.getContext(false);\r\n    \t\tConfiguration config = new PropertiesConfigurationBuilder()\r\n    \t\t.setConfigurationSource(ConfigurationSource.NULL_SOURCE)\r\n    \t\t.setRootProperties(log4jProperties)\r\n    \t\t.setLoggerContext(context)\r\n    \t\t.build();\r\n    \t\tcontext.setConfiguration(config);\r\n    \t\tConfigurator.initialize(config);\r\n    \t} catch (FileNotFoundException fileNotFoundException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tfileNotFoundException.printStackTrace();\r\n    \t} catch (IOException ioException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;IOException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tioException.printStackTrace();\r\n    \t}\r\n    \treturn Logger.getLogger(className);\r\n    }\r\n\r\nCan someone shed some light on how to resolve this?\r\n\r\n**UPDATE**:\r\nThis is the error which I receive when trying my fix:\r\n\r\n    Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\r\n    \tat com.ds.mdm.details.batch.util.BatchLogger.getLogger(BatchLogger.java:74) ~[classes/:na]\r\n    \tat com.ds.mdm.details.batch.DetailsJobLauncher.&lt;clinit&gt;(DetailsJobLauncher.java:28) ~[classes/:na]\r\n    \t... 24 common frames omitted","title":"Resolve missing methods for the new log4j dependency","body":"<p>I have been using the old version of log4j imports which we used to customize the log4j getLogger as:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\n    ...\npublic static Logger getLogger(Class&lt;?&gt; className) {\n    Properties log4jProperties = new Properties();\n    try {\n        log4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\n        PropertyConfigurator.configure(log4jProperties);\n    } catch (FileNotFoundException fileNotFoundException) {\n        System.out\n                .println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        fileNotFoundException.printStackTrace();\n    } catch (IOException ioException) {\n        System.out\n                .println(&quot;IOException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        ioException.printStackTrace();\n    }\n    return Logger.getLogger(className);\n}\n</code></pre>\n<p>But now for the new version of log4j 2.17.1, looks like PropertyConfigurator and getLogger are completely changed. Not finding an resolution to fix it. Have tried the below. But it doesn't work.</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.ConfigurationSource;\nimport org.apache.logging.log4j.core.config.Configurator;\nimport org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder;\n...\npublic static Logger getLogger(Class&lt;?&gt; className) {\n    Properties log4jProperties = new Properties();\n    try {\n        log4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\n        //PropertyConfigurator.configure(log4jProperties);\n        LoggerContext context = (LoggerContext)LogManager.getContext(false);\n        Configuration config = new PropertiesConfigurationBuilder()\n        .setConfigurationSource(ConfigurationSource.NULL_SOURCE)\n        .setRootProperties(log4jProperties)\n        .setLoggerContext(context)\n        .build();\n        context.setConfiguration(config);\n        Configurator.initialize(config);\n    } catch (FileNotFoundException fileNotFoundException) {\n        System.out\n                .println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        fileNotFoundException.printStackTrace();\n    } catch (IOException ioException) {\n        System.out\n                .println(&quot;IOException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        ioException.printStackTrace();\n    }\n    return Logger.getLogger(className);\n}\n</code></pre>\n<p>Can someone shed some light on how to resolve this?</p>\n<p><strong>UPDATE</strong>:\nThis is the error which I receive when trying my fix:</p>\n<pre><code>Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\n    at com.ds.mdm.details.batch.util.BatchLogger.getLogger(BatchLogger.java:74) ~[classes/:na]\n    at com.ds.mdm.details.batch.DetailsJobLauncher.&lt;clinit&gt;(DetailsJobLauncher.java:28) ~[classes/:na]\n    ... 24 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","kotlin","spring-data","spring-data-r2dbc"],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703325,"creation_date":1694703325,"question_id":77106117,"body_markdown":"I need to create my R2DBC configuration manually because the application has 2 database connections. When using auto configuration and connecting to just one database, the repositories work correctly. When using a manual config, the app throws while creating the repo implementations with:\r\n\r\n`Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00`\r\n\r\nThe entity has an attribute of type `URL`\r\n\r\nHere&#39;s the configuration:\r\n```kotlin\r\n@Configuration\r\n@EnableR2dbcRepositories(\r\n    entityOperationsRef = &quot;postgresR2dbcEntityOperations&quot;,\r\n    basePackages = [&quot;com.acme.somepackage&quot;],\r\n)\r\n@EnableR2dbcAuditing\r\nclass R2DBCConfiguration {\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.r2dbc.postgres&quot;)\r\n    fun postgresR2dbcProperties() = R2dbcProperties()\r\n\r\n    @Bean\r\n    fun postgresConnectionFactory(\r\n        @Qualifier(&quot;postgresR2dbcProperties&quot;) props: R2dbcProperties\r\n    ): ConnectionFactory {\r\n        val host = ConnectionFactoryOptions\r\n            .parse(props.url)\r\n            .getRequiredValue(Option.valueOf&lt;String&gt;(&quot;host&quot;)) as String\r\n\r\n        return PostgresqlConnectionConfiguration\r\n            .builder()\r\n            .host(host)\r\n            .username(props.username)\r\n            .password(props.password)\r\n            .schema(&quot;myschema&quot;)\r\n            .build()\r\n            .let { PostgresqlConnectionFactory(it) }\r\n    }\r\n\r\n    @Bean\r\n    fun postgresR2dbcEntityOperations(\r\n        @Qualifier(&quot;postgresConnectionFactory&quot;) connectionFactory: ConnectionFactory,\r\n    ): R2dbcEntityOperations {\r\n        val mappingContext = R2dbcMappingContext()\r\n        val dialect = DialectResolver.getDialect(connectionFactory)\r\n        val converters = dialect.converters.toMutableList()\r\n        converters.addAll(R2dbcCustomConversions.STORE_CONVERTERS)\r\n\r\n        val storeConversions = StoreConversions.of(dialect.getSimpleTypeHolder(), converters)\r\n        val customConverters = listOf(\r\n            // customer converters\r\n        )\r\n        val customConversions = R2dbcCustomConversions(storeConversions, customConverters)\r\n        val mappingConverter = MappingR2dbcConverter(mappingContext, customConversions)\r\n        val strategy = DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE, mappingConverter)\r\n        val client = DatabaseClient.builder()\r\n            .connectionFactory(connectionFactory)\r\n            .bindMarkers(PostgresDialect.INSTANCE.bindMarkersFactory)\r\n            .build()\r\n\r\n        return R2dbcEntityTemplate(client, strategy)\r\n    }\r\n}\r\n```\r\n\r\nIs there something that the auto-config is doing that I&#39;m missing that will fix this?\r\n\r\nThanks.\r\n\r\nFull stack:\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:779)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$6(RepositoryFactoryBeanSupport.java:282)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:282)\r\n\tat org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:159)\r\n```\r\n","title":"Manual configuration of Spring Data R2DBC throws Unable to make field accessible","body":"<p>I need to create my R2DBC configuration manually because the application has 2 database connections. When using auto configuration and connecting to just one database, the repositories work correctly. When using a manual config, the app throws while creating the repo implementations with:</p>\n<p><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00</code></p>\n<p>The entity has an attribute of type <code>URL</code></p>\n<p>Here's the configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableR2dbcRepositories(\n    entityOperationsRef = &quot;postgresR2dbcEntityOperations&quot;,\n    basePackages = [&quot;com.acme.somepackage&quot;],\n)\n@EnableR2dbcAuditing\nclass R2DBCConfiguration {\n    @Bean\n    @ConfigurationProperties(&quot;spring.r2dbc.postgres&quot;)\n    fun postgresR2dbcProperties() = R2dbcProperties()\n\n    @Bean\n    fun postgresConnectionFactory(\n        @Qualifier(&quot;postgresR2dbcProperties&quot;) props: R2dbcProperties\n    ): ConnectionFactory {\n        val host = ConnectionFactoryOptions\n            .parse(props.url)\n            .getRequiredValue(Option.valueOf&lt;String&gt;(&quot;host&quot;)) as String\n\n        return PostgresqlConnectionConfiguration\n            .builder()\n            .host(host)\n            .username(props.username)\n            .password(props.password)\n            .schema(&quot;myschema&quot;)\n            .build()\n            .let { PostgresqlConnectionFactory(it) }\n    }\n\n    @Bean\n    fun postgresR2dbcEntityOperations(\n        @Qualifier(&quot;postgresConnectionFactory&quot;) connectionFactory: ConnectionFactory,\n    ): R2dbcEntityOperations {\n        val mappingContext = R2dbcMappingContext()\n        val dialect = DialectResolver.getDialect(connectionFactory)\n        val converters = dialect.converters.toMutableList()\n        converters.addAll(R2dbcCustomConversions.STORE_CONVERTERS)\n\n        val storeConversions = StoreConversions.of(dialect.getSimpleTypeHolder(), converters)\n        val customConverters = listOf(\n            // customer converters\n        )\n        val customConversions = R2dbcCustomConversions(storeConversions, customConverters)\n        val mappingConverter = MappingR2dbcConverter(mappingContext, customConversions)\n        val strategy = DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE, mappingConverter)\n        val client = DatabaseClient.builder()\n            .connectionFactory(connectionFactory)\n            .bindMarkers(PostgresDialect.INSTANCE.bindMarkersFactory)\n            .build()\n\n        return R2dbcEntityTemplate(client, strategy)\n    }\n}\n</code></pre>\n<p>Is there something that the auto-config is doing that I'm missing that will fix this?</p>\n<p>Thanks.</p>\n<p>Full stack:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:779)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$6(RepositoryFactoryBeanSupport.java:282)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:282)\n    at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:159)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":20012753,"reputation":61,"user_id":14669455,"display_name":"Its-Saab"},"score":0,"creation_date":1694680205,"post_id":77100634,"comment_id":135923760,"body_markdown":"I have a similar case, I used a custom deserializer that would look inside the body and decides how to map the response. in case of an error, throw an exception and deal with it as per your needs.","body":"I have a similar case, I used a custom deserializer that would look inside the body and decides how to map the response. in case of an error, throw an exception and deal with it as per your needs."}],"answers":[{"tags":[],"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694642153,"creation_date":1694642153,"answer_id":77100719,"question_id":77100634,"body_markdown":"Instead of using retrieve(), you could use .exchangeToMono() instead while making sure to subscribe to your mono. This will give you the entire response and you can choose how to handle it. \r\nFor reference: \r\n\r\nhttps://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html\r\n\r\nYou could try and use a jackson ObjectMapper and readValue method to convert the response to the class you&#39;d like. If that conversion fails, you can then handle that error. \r\n\r\nYou could try just subscribing to the mono and then handling the response there.\r\n\r\n    googleReCaptchaWebClient\r\n                .post()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                .path(&quot;siteverify&quot;)\r\n                .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\r\n                .queryParam(&quot;response&quot;, reCaptcha).build())\r\n                .exchangeToMono(response -&gt; {\r\n                    try {\r\n                        ReCaptchaResponse response = objectMapper.readValue(response.body(), ReCaptchaResponse.class);\r\n                        // do more stuff\r\n                    } catch (Exception e) {\r\n                        // you know now that it&#39;s probably an error response\r\n                        ErrorResponse response = objectMapper.readValue(response.body(), ErrorResponse.class);\r\n                        // handle errors\r\n                    }\r\n\r\n                });","title":"Webclient handle errors when errors attribute is on body response","body":"<p>Instead of using retrieve(), you could use .exchangeToMono() instead while making sure to subscribe to your mono. This will give you the entire response and you can choose how to handle it.\nFor reference:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html</a></p>\n<p>You could try and use a jackson ObjectMapper and readValue method to convert the response to the class you'd like. If that conversion fails, you can then handle that error.</p>\n<p>You could try just subscribing to the mono and then handling the response there.</p>\n<pre><code>googleReCaptchaWebClient\n            .post()\n            .uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;siteverify&quot;)\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\n            .queryParam(&quot;response&quot;, reCaptcha).build())\n            .exchangeToMono(response -&gt; {\n                try {\n                    ReCaptchaResponse response = objectMapper.readValue(response.body(), ReCaptchaResponse.class);\n                    // do more stuff\n                } catch (Exception e) {\n                    // you know now that it's probably an error response\n                    ErrorResponse response = objectMapper.readValue(response.body(), ErrorResponse.class);\n                    // handle errors\n                }\n\n            });\n</code></pre>\n"}],"owner":{"account_id":27562228,"reputation":13,"user_id":21035083,"display_name":"Tyali Nexi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694703259,"creation_date":1694640899,"question_id":77100634,"body_markdown":"The next code is used to call Google Recaptcha API.\r\n\r\nGoogle Recaptcha APIs always return a 200 Ok code for every request, even when the secret is wrong.\r\n\r\n```json\r\n{\r\n    &quot;success&quot;: false,\r\n    &quot;error-codes&quot;: [\r\n        &quot;invalid-input-secret&quot;\r\n    ]\r\n}\r\n```\r\n\r\nor\r\n\r\n```json\r\n{\r\n   &quot;success&quot;: true,\r\n   &quot;challenge_ts&quot;: &quot;2023-09-13T19:04:58Z&quot;,\r\n   &quot;hostname&quot;: &quot;qua.url.fr&quot;,\r\n   &quot;score&quot;: 0.9,\r\n   &quot;action&quot;: &quot;getAccountWithCharacterCode&quot;\r\n}\r\n```\r\n\r\nHow can I update the WebClient code so I can throw an exception without doing a .block() at the end of the call ?\r\n\r\n```java\r\ngoogleReCaptchaWebClient.post()\r\n        .uri(uriBuilder -&gt; uriBuilder\r\n            .path(&quot;siteverify&quot;)\r\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\r\n            .queryParam(&quot;response&quot;, reCaptcha).build())\r\n            .retrieve()\r\n            .bodyToMono(ReCaptchaResponse.class);\r\n```\r\n\r\nI tried to use `.exchangeToMono(clientResponse -&gt; {});` but I did not find a way to avoid the block() method.\r\n","title":"Webclient handle errors when errors attribute is on body response","body":"<p>The next code is used to call Google Recaptcha API.</p>\n<p>Google Recaptcha APIs always return a 200 Ok code for every request, even when the secret is wrong.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;success&quot;: false,\n    &quot;error-codes&quot;: [\n        &quot;invalid-input-secret&quot;\n    ]\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;success&quot;: true,\n   &quot;challenge_ts&quot;: &quot;2023-09-13T19:04:58Z&quot;,\n   &quot;hostname&quot;: &quot;qua.url.fr&quot;,\n   &quot;score&quot;: 0.9,\n   &quot;action&quot;: &quot;getAccountWithCharacterCode&quot;\n}\n</code></pre>\n<p>How can I update the WebClient code so I can throw an exception without doing a .block() at the end of the call ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>googleReCaptchaWebClient.post()\n        .uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;siteverify&quot;)\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\n            .queryParam(&quot;response&quot;, reCaptcha).build())\n            .retrieve()\n            .bodyToMono(ReCaptchaResponse.class);\n</code></pre>\n<p>I tried to use <code>.exchangeToMono(clientResponse -&gt; {});</code> but I did not find a way to avoid the block() method.</p>\n"},{"tags":["java","sip","jmf","jitsi","dtmf"],"owner":{"account_id":29442839,"reputation":21,"user_id":22560709,"display_name":"Barguzin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694703236,"creation_date":1694702973,"question_id":77106067,"body_markdown":"Im trying to make a simple SIP client who need to understand a voice RTP stream (like g711u, payload type 0) and RTP events with payload type 101. Its events is a DTMF by RFC2833. At this point i have to problems.\r\n\r\nIm listen incoming RTP audio stream by RTPManager and Player (from JMF), audio from RTP stream play correct but when i get RTP event with the audio my player breaks and dont play anything more. When i get RTP event ReceiveStreamListener get a RemotePayloadChangeEvent. In JMF API guide i see the wah to handle payload change ivent but it doesnt work. When i get RemotePayloadChangeEvent from 101 payload i trying to restart player according to api guide but player cant start with error &quot;Unable to handle format: 101&quot;. After that i get another one RemotePayloadChangeEvent from audio g711u traffic, trying to restart player again, but it doesnt play audio from rtp stream again.\r\n\r\n```\r\npublic class RTPTransmitter implements ReceiveStreamListener {//ReceiveStreamListener,RemoteListener\r\n\r\n    private final static Logger log = Logger.getLogger(RTPTransmitter.class);\r\n\r\n    private String pathToFile;\r\n    private SendStream stream;\r\n    private Processor processor;\r\n    private Player player;\r\n    private DataSource rtpDataSource;\r\n    private RtpEventListener rtpEventListener = new RtpEventListener();\r\n\r\n    private String codecName;\r\n    private int codecCode;\r\n    private AudioFormat audioFormat;\r\n    private MediaFormat rtpEventFormat;\r\n\r\n    private String remoteAddressString;\r\n    private int remotePort;\r\n    private String sourceAddressString;\r\n    private int sourcePort;\r\n\r\n    private final static int DEFAULT_TTL_VALUE = 64;\r\n    private final static Format RTP_EVENT_FORMAT = new Format(&quot;101&quot;);\r\n    private final static int RTP_EVENT_PAYLOAD_TYPE = 101;\r\n\r\n\r\n\r\n    public RTPTransmitter(String pathToFile) {\r\n        MediaFormatFactoryImpl mediaFormatFactory = new MediaFormatFactoryImpl();\r\n        long start = System.currentTimeMillis();\r\n        this.pathToFile = pathToFile;\r\n        initializeProcessor();\r\n        System.err.println(&quot;Create RTPTransmitter: &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n\r\n\r\n    public void startTransmission() {\r\n        try {\r\n            long start = System.currentTimeMillis();\r\n            log.info(&quot;Prepare to start&quot;);\r\n            processor.start();\r\n            stream.start();\r\n            log.info(&quot;Transmission started&quot;);\r\n            System.err.println(&quot;Session start: &quot; + (System.currentTimeMillis() - start));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void stopTransmission() {\r\n        try {\r\n            log.info(&quot;Prepare to stop&quot;);\r\n            stream.stop();\r\n            stream.close();\r\n            processor.stop();\r\n            processor.close();\r\n            log.info(&quot;Transmission stopped&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, String codecCode) {\r\n        this.codecName = codecName;\r\n        this.codecCode = Integer.parseInt(codecCode);\r\n        this.audioFormat = new AudioFormat(codecName);\r\n        this.remoteAddressString = remoteAddressString;\r\n        this.remotePort = remotePort;\r\n        this.sourceAddressString = sourceAddressString;\r\n        this.sourcePort = sourcePort;\r\n        try {\r\n            RTPManager rtpManager = createRTPManager();\r\n            stream = createDataStream(rtpManager);\r\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, int codecCode) {\r\n        this.codecName = codecName;\r\n        this.codecCode = codecCode;\r\n        this.audioFormat = new AudioFormat(codecName);\r\n        this.remoteAddressString = remoteAddressString;\r\n        this.remotePort = remotePort;\r\n        this.sourceAddressString = sourceAddressString;\r\n        this.sourcePort = sourcePort;\r\n        try {\r\n            RTPManager rtpManager = createRTPManager();\r\n            stream = createDataStream(rtpManager);\r\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void initializeProcessor() {\r\n        try {\r\n            processor = createProcessor();\r\n            processor.configure();\r\n            while (processor.getState() != Processor.Configured) {\r\n                log.info(&quot;Configuring...&quot;);\r\n            }\r\n            trackControlSettings();\r\n            processor.setContentDescriptor(new ContentDescriptor(ContentDescriptor.RAW_RTP));\r\n            processor.realize();\r\n            while (processor.getState() != Processor.Realized) {\r\n                log.info(&quot;Realizing...&quot;);\r\n            }\r\n\r\n        } catch (NoProcessorException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private Processor createProcessor() throws IOException, NoProcessorException {\r\n        File mediaFile = new File(pathToFile);\r\n        URL mediaURL = mediaFile.toURI().toURL();\r\n        MediaLocator mediaLocator = new MediaLocator(mediaURL);\r\n        return Manager.createProcessor(mediaLocator);\r\n    }\r\n\r\n    private RTPManager createRTPManager() throws IOException, InvalidSessionAddressException {\r\n        //This solution for fixing 4 second time to creation rtpManager.addTarget(remoteAddress);\r\n        InetAddress temporaryRemoteAddress = InetAddress.getByName(remoteAddressString);\r\n        byte[] bytesOfRemoteAddress = temporaryRemoteAddress.getAddress();\r\n        InetAddress remoteIpAddress = InetAddress.getByAddress(InetAddress.getLocalHost().getHostName(), bytesOfRemoteAddress);\r\n        SessionAddress remoteAddress = new SessionAddress(remoteIpAddress, remotePort, DEFAULT_TTL_VALUE);\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        InetAddress sourceIpAddress = InetAddress.getByName(sourceAddressString);\r\n        SessionAddress sourceAddress = new SessionAddress(sourceIpAddress, sourcePort, DEFAULT_TTL_VALUE);\r\n        RTPManager rtpManager = RTPManager.newInstance();\r\n        rtpManager.addFormat(audioFormat, codecCode);\r\n        /////////////////////////////////\r\n        rtpManager.addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\r\n        rtpManager.addReceiveStreamListener(this);\r\n        //rtpManager.addRemoteListener(this);\r\n        ////////////////////////////////\r\n        rtpManager.initialize(sourceAddress);\r\n        long start = System.currentTimeMillis();\r\n        rtpManager.addTarget(remoteAddress);\r\n        System.err.println(&quot;Creating RTPManager: &quot; + (System.currentTimeMillis() - start));\r\n        return rtpManager;\r\n    }\r\n\r\n    private SendStream createDataStream(RTPManager rtpManager) throws UnsupportedFormatException, IOException {\r\n        long start = System.currentTimeMillis();\r\n        DataSource output = processor.getDataOutput();\r\n        SendStream sendStream = rtpManager.createSendStream(output, 0);\r\n        System.err.println(&quot;Creating SendStream: &quot; + (System.currentTimeMillis() - start));\r\n        return sendStream;\r\n    }\r\n\r\n    private void trackControlSettings() {\r\n        TrackControl[] tracks = processor.getTrackControls();\r\n\r\n        if (tracks == null || tracks.length &lt; 1) {\r\n            System.out.println(&quot;Couldn&#39;t find tracks in processor&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        for (TrackControl track : tracks) {\r\n            log.info(&quot;Format: &quot; + track.getFormat());\r\n        }\r\n\r\n        Format supported[];\r\n        Format chosen;\r\n        boolean atLeastOneTrack = false;\r\n\r\n        // Program the tracks.\r\n        for (int i = 0; i &lt; tracks.length; i++) {\r\n            Format format = tracks[i].getFormat();\r\n\r\n            System.out.println(&quot;Trenutni format je &quot; +format.getEncoding());\r\n\r\n            if (tracks[i].isEnabled()) {\r\n                supported = tracks[i].getSupportedFormats();\r\n                for (int n = 0; n &lt; supported.length; n++)\r\n                    System.out.println(&quot;Supported format: &quot; + supported[n]);\r\n\r\n                if (supported.length &gt; 0) {\r\n                    chosen = supported[0]; // this is where I tried changing formats\r\n                    tracks[i].setFormat(chosen);\r\n                    System.err.println(&quot;Track &quot; + i + &quot; is set to transmit as: &quot; + chosen);\r\n                    atLeastOneTrack = true;\r\n                } else\r\n                    tracks[i].setEnabled(false);\r\n            } else\r\n                tracks[i].setEnabled(false);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public synchronized void update(ReceiveStreamEvent receiveStreamEvent) {\r\n        RTPControl[] controls = (RTPControl[]) receiveStreamEvent.getReceiveStream().getDataSource().getControls();\r\n        Arrays.stream(controls).forEach(control -&gt; System.err.println(control.getFormat()));\r\n        if (receiveStreamEvent instanceof NewReceiveStreamEvent) {\r\n            System.err.println(&quot;This is a NewReceiveStreamEvent: &quot; + receiveStreamEvent.getClass());\r\n            playReceivedRtpStream((NewReceiveStreamEvent) receiveStreamEvent);\r\n        } else if (receiveStreamEvent instanceof StreamMappedEvent){\r\n            System.err.println(&quot;This is a StreamMappedEvent: &quot; + receiveStreamEvent.getClass());\r\n        } else if (receiveStreamEvent instanceof RemotePayloadChangeEvent) {\r\n            System.err.println(&quot;This is a RemotePayloadChangeEvent(&quot; + ((RemotePayloadChangeEvent) receiveStreamEvent).getNewPayload() + &quot;): &quot; + receiveStreamEvent.getClass());\r\n            changePayload((RemotePayloadChangeEvent) receiveStreamEvent);\r\n        }\r\n    }\r\n\r\n    private void playReceivedRtpStream(NewReceiveStreamEvent event) {\r\n        try {\r\n            var receivedStream = event.getReceiveStream();\r\n            rtpDataSource = receivedStream.getDataSource();\r\n            ((RTPControl) rtpDataSource.getControls()[0]).addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\r\n            player = Manager.createRealizedPlayer(rtpDataSource);\r\n            player.addControllerListener(rtpEventListener);\r\n            player.start();\r\n        } catch (IOException | NoPlayerException | CannotRealizeException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void changePayload(RemotePayloadChangeEvent event) {\r\n        player.stop();\r\n\r\n        while (player.getState() == Player.Started) {\r\n            log.info(player.getState());\r\n        }\r\n\r\n        //player.removeControllerListener(rtpEventListener);\r\n        player.close();\r\n\r\n        while (player.getState() == Controller.Started) {\r\n            log.info(player.getState());\r\n        }\r\n\r\n        try {\r\n            rtpDataSource.connect();\r\n            Player newPlayer = Manager.createPlayer(rtpDataSource);\r\n            //newPlayer.addControllerListener(rtpEventListener);\r\n            newPlayer.realize();\r\n            player = newPlayer;\r\n        } catch (IOException | NoPlayerException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n   It possible to add to JMF realization of custom RTP payload types, but i couldnt find any guide or example. There is a g711u implementation in JMF but its a audio codeс which is a continuous stream, but i need to handle a single events.\r\n   I read about FMJ, but there is the same as JMF. RTP payload 101 in not implemented by default.\r\n   Also i read about Jitsi, but i couldnt find any guid of in except javadoc\r\n\r\n\r\n   So, maybe somebode see the guide about extending JMF with DTMF RTP events or exists any implementations of it? Or i should use other RTP framework who contains DTMF RTP handle by default?","title":"How to handle DTMF by Java Media Framework?","body":"<p>Im trying to make a simple SIP client who need to understand a voice RTP stream (like g711u, payload type 0) and RTP events with payload type 101. Its events is a DTMF by RFC2833. At this point i have to problems.</p>\n<p>Im listen incoming RTP audio stream by RTPManager and Player (from JMF), audio from RTP stream play correct but when i get RTP event with the audio my player breaks and dont play anything more. When i get RTP event ReceiveStreamListener get a RemotePayloadChangeEvent. In JMF API guide i see the wah to handle payload change ivent but it doesnt work. When i get RemotePayloadChangeEvent from 101 payload i trying to restart player according to api guide but player cant start with error &quot;Unable to handle format: 101&quot;. After that i get another one RemotePayloadChangeEvent from audio g711u traffic, trying to restart player again, but it doesnt play audio from rtp stream again.</p>\n<pre><code>public class RTPTransmitter implements ReceiveStreamListener {//ReceiveStreamListener,RemoteListener\n\n    private final static Logger log = Logger.getLogger(RTPTransmitter.class);\n\n    private String pathToFile;\n    private SendStream stream;\n    private Processor processor;\n    private Player player;\n    private DataSource rtpDataSource;\n    private RtpEventListener rtpEventListener = new RtpEventListener();\n\n    private String codecName;\n    private int codecCode;\n    private AudioFormat audioFormat;\n    private MediaFormat rtpEventFormat;\n\n    private String remoteAddressString;\n    private int remotePort;\n    private String sourceAddressString;\n    private int sourcePort;\n\n    private final static int DEFAULT_TTL_VALUE = 64;\n    private final static Format RTP_EVENT_FORMAT = new Format(&quot;101&quot;);\n    private final static int RTP_EVENT_PAYLOAD_TYPE = 101;\n\n\n\n    public RTPTransmitter(String pathToFile) {\n        MediaFormatFactoryImpl mediaFormatFactory = new MediaFormatFactoryImpl();\n        long start = System.currentTimeMillis();\n        this.pathToFile = pathToFile;\n        initializeProcessor();\n        System.err.println(&quot;Create RTPTransmitter: &quot; + (System.currentTimeMillis() - start));\n    }\n\n\n    public void startTransmission() {\n        try {\n            long start = System.currentTimeMillis();\n            log.info(&quot;Prepare to start&quot;);\n            processor.start();\n            stream.start();\n            log.info(&quot;Transmission started&quot;);\n            System.err.println(&quot;Session start: &quot; + (System.currentTimeMillis() - start));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void stopTransmission() {\n        try {\n            log.info(&quot;Prepare to stop&quot;);\n            stream.stop();\n            stream.close();\n            processor.stop();\n            processor.close();\n            log.info(&quot;Transmission stopped&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, String codecCode) {\n        this.codecName = codecName;\n        this.codecCode = Integer.parseInt(codecCode);\n        this.audioFormat = new AudioFormat(codecName);\n        this.remoteAddressString = remoteAddressString;\n        this.remotePort = remotePort;\n        this.sourceAddressString = sourceAddressString;\n        this.sourcePort = sourcePort;\n        try {\n            RTPManager rtpManager = createRTPManager();\n            stream = createDataStream(rtpManager);\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, int codecCode) {\n        this.codecName = codecName;\n        this.codecCode = codecCode;\n        this.audioFormat = new AudioFormat(codecName);\n        this.remoteAddressString = remoteAddressString;\n        this.remotePort = remotePort;\n        this.sourceAddressString = sourceAddressString;\n        this.sourcePort = sourcePort;\n        try {\n            RTPManager rtpManager = createRTPManager();\n            stream = createDataStream(rtpManager);\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void initializeProcessor() {\n        try {\n            processor = createProcessor();\n            processor.configure();\n            while (processor.getState() != Processor.Configured) {\n                log.info(&quot;Configuring...&quot;);\n            }\n            trackControlSettings();\n            processor.setContentDescriptor(new ContentDescriptor(ContentDescriptor.RAW_RTP));\n            processor.realize();\n            while (processor.getState() != Processor.Realized) {\n                log.info(&quot;Realizing...&quot;);\n            }\n\n        } catch (NoProcessorException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private Processor createProcessor() throws IOException, NoProcessorException {\n        File mediaFile = new File(pathToFile);\n        URL mediaURL = mediaFile.toURI().toURL();\n        MediaLocator mediaLocator = new MediaLocator(mediaURL);\n        return Manager.createProcessor(mediaLocator);\n    }\n\n    private RTPManager createRTPManager() throws IOException, InvalidSessionAddressException {\n        //This solution for fixing 4 second time to creation rtpManager.addTarget(remoteAddress);\n        InetAddress temporaryRemoteAddress = InetAddress.getByName(remoteAddressString);\n        byte[] bytesOfRemoteAddress = temporaryRemoteAddress.getAddress();\n        InetAddress remoteIpAddress = InetAddress.getByAddress(InetAddress.getLocalHost().getHostName(), bytesOfRemoteAddress);\n        SessionAddress remoteAddress = new SessionAddress(remoteIpAddress, remotePort, DEFAULT_TTL_VALUE);\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        InetAddress sourceIpAddress = InetAddress.getByName(sourceAddressString);\n        SessionAddress sourceAddress = new SessionAddress(sourceIpAddress, sourcePort, DEFAULT_TTL_VALUE);\n        RTPManager rtpManager = RTPManager.newInstance();\n        rtpManager.addFormat(audioFormat, codecCode);\n        /////////////////////////////////\n        rtpManager.addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\n        rtpManager.addReceiveStreamListener(this);\n        //rtpManager.addRemoteListener(this);\n        ////////////////////////////////\n        rtpManager.initialize(sourceAddress);\n        long start = System.currentTimeMillis();\n        rtpManager.addTarget(remoteAddress);\n        System.err.println(&quot;Creating RTPManager: &quot; + (System.currentTimeMillis() - start));\n        return rtpManager;\n    }\n\n    private SendStream createDataStream(RTPManager rtpManager) throws UnsupportedFormatException, IOException {\n        long start = System.currentTimeMillis();\n        DataSource output = processor.getDataOutput();\n        SendStream sendStream = rtpManager.createSendStream(output, 0);\n        System.err.println(&quot;Creating SendStream: &quot; + (System.currentTimeMillis() - start));\n        return sendStream;\n    }\n\n    private void trackControlSettings() {\n        TrackControl[] tracks = processor.getTrackControls();\n\n        if (tracks == null || tracks.length &lt; 1) {\n            System.out.println(&quot;Couldn't find tracks in processor&quot;);\n            System.exit(1);\n        }\n\n        for (TrackControl track : tracks) {\n            log.info(&quot;Format: &quot; + track.getFormat());\n        }\n\n        Format supported[];\n        Format chosen;\n        boolean atLeastOneTrack = false;\n\n        // Program the tracks.\n        for (int i = 0; i &lt; tracks.length; i++) {\n            Format format = tracks[i].getFormat();\n\n            System.out.println(&quot;Trenutni format je &quot; +format.getEncoding());\n\n            if (tracks[i].isEnabled()) {\n                supported = tracks[i].getSupportedFormats();\n                for (int n = 0; n &lt; supported.length; n++)\n                    System.out.println(&quot;Supported format: &quot; + supported[n]);\n\n                if (supported.length &gt; 0) {\n                    chosen = supported[0]; // this is where I tried changing formats\n                    tracks[i].setFormat(chosen);\n                    System.err.println(&quot;Track &quot; + i + &quot; is set to transmit as: &quot; + chosen);\n                    atLeastOneTrack = true;\n                } else\n                    tracks[i].setEnabled(false);\n            } else\n                tracks[i].setEnabled(false);\n        }\n    }\n\n    @Override\n    public synchronized void update(ReceiveStreamEvent receiveStreamEvent) {\n        RTPControl[] controls = (RTPControl[]) receiveStreamEvent.getReceiveStream().getDataSource().getControls();\n        Arrays.stream(controls).forEach(control -&gt; System.err.println(control.getFormat()));\n        if (receiveStreamEvent instanceof NewReceiveStreamEvent) {\n            System.err.println(&quot;This is a NewReceiveStreamEvent: &quot; + receiveStreamEvent.getClass());\n            playReceivedRtpStream((NewReceiveStreamEvent) receiveStreamEvent);\n        } else if (receiveStreamEvent instanceof StreamMappedEvent){\n            System.err.println(&quot;This is a StreamMappedEvent: &quot; + receiveStreamEvent.getClass());\n        } else if (receiveStreamEvent instanceof RemotePayloadChangeEvent) {\n            System.err.println(&quot;This is a RemotePayloadChangeEvent(&quot; + ((RemotePayloadChangeEvent) receiveStreamEvent).getNewPayload() + &quot;): &quot; + receiveStreamEvent.getClass());\n            changePayload((RemotePayloadChangeEvent) receiveStreamEvent);\n        }\n    }\n\n    private void playReceivedRtpStream(NewReceiveStreamEvent event) {\n        try {\n            var receivedStream = event.getReceiveStream();\n            rtpDataSource = receivedStream.getDataSource();\n            ((RTPControl) rtpDataSource.getControls()[0]).addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\n            player = Manager.createRealizedPlayer(rtpDataSource);\n            player.addControllerListener(rtpEventListener);\n            player.start();\n        } catch (IOException | NoPlayerException | CannotRealizeException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n\n\n    private void changePayload(RemotePayloadChangeEvent event) {\n        player.stop();\n\n        while (player.getState() == Player.Started) {\n            log.info(player.getState());\n        }\n\n        //player.removeControllerListener(rtpEventListener);\n        player.close();\n\n        while (player.getState() == Controller.Started) {\n            log.info(player.getState());\n        }\n\n        try {\n            rtpDataSource.connect();\n            Player newPlayer = Manager.createPlayer(rtpDataSource);\n            //newPlayer.addControllerListener(rtpEventListener);\n            newPlayer.realize();\n            player = newPlayer;\n        } catch (IOException | NoPlayerException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>It possible to add to JMF realization of custom RTP payload types, but i couldnt find any guide or example. There is a g711u implementation in JMF but its a audio codeс which is a continuous stream, but i need to handle a single events.\nI read about FMJ, but there is the same as JMF. RTP payload 101 in not implemented by default.\nAlso i read about Jitsi, but i couldnt find any guid of in except javadoc</p>\n<p>So, maybe somebode see the guide about extending JMF with DTMF RTP events or exists any implementations of it? Or i should use other RTP framework who contains DTMF RTP handle by default?</p>\n"},{"tags":["java","nginx","ssl","google-cloud-platform","nginx-ingress"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1647880083,"post_id":71174668,"comment_id":126476951,"body_markdown":"Did you give &quot;latest&quot; Oracle JDK 17 (or OpenJDK built by Oracle) a try? Seems to be a solution for this TLS/timeout-related issue here: https://github.com/junit-team/junit5/issues/2859","body":"Did you give &quot;latest&quot; Oracle JDK 17 (or OpenJDK built by Oracle) a try? Seems to be a solution for this TLS/timeout-related issue here: <a href=\"https://github.com/junit-team/junit5/issues/2859\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/2859</a>"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1647941988,"post_id":71174668,"comment_id":126492011,"body_markdown":"I had the same issues with OpenJDK.","body":"I had the same issues with OpenJDK."},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1659526188,"post_id":71174668,"comment_id":129314696,"body_markdown":"@ST-DDT Did you find  a solution for this with java 17 or later version ?","body":"@ST-DDT Did you find  a solution for this with java 17 or later version ?"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1659616266,"post_id":71174668,"comment_id":129340026,"body_markdown":"@SanyamGoel Unfortunately not. I kind of feel alone and lost with this issue. I haven&#39;t tried again with the latest versions, though.","body":"@SanyamGoel Unfortunately not. I kind of feel alone and lost with this issue. I haven&#39;t tried again with the latest versions, though."},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1659683976,"post_id":71174668,"comment_id":129357086,"body_markdown":"@ST-DDT I faced the same issue few days back and it took some time to understand this behavior and finally came across your post which is exactly what is happening in my case too.  Your suggestion to use Java 11 is what I am doing too at the moment.  When backend applications communicate directly without kubernetes (both client and Server on Java 17) there is no issue, but when the same communication happens via ingress, I see bad certificate error  in the ingress controller log which emerges and vanishes","body":"@ST-DDT I faced the same issue few days back and it took some time to understand this behavior and finally came across your post which is exactly what is happening in my case too.  Your suggestion to use Java 11 is what I am doing too at the moment.  When backend applications communicate directly without kubernetes (both client and Server on Java 17) there is no issue, but when the same communication happens via ingress, I see bad certificate error  in the ingress controller log which emerges and vanishes"}],"answers":[{"tags":[],"owner":{"account_id":4779503,"reputation":78,"user_id":3861707,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694703097,"creation_date":1694703097,"answer_id":77106082,"question_id":71174668,"body_markdown":"We had the exact same issue, and we believe the cause to be\r\n\r\nhttps://github.com/kubernetes/ingress-nginx/issues/9540\r\n\r\nIf you cannot upgrade, as stated in the issue \r\n\r\n&gt; In the meantime, it seems that setting the Java system property jdk.tls.server.enableSessionTicketExtension to false on the server side will disable the TLS feature which is causing this problem.\r\n\r\nseemed to solve the problem in our case.\r\n","title":"Nginx sometimes fails TLS passthrough to Java 17 application","body":"<p>We had the exact same issue, and we believe the cause to be</p>\n<p><a href=\"https://github.com/kubernetes/ingress-nginx/issues/9540\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/ingress-nginx/issues/9540</a></p>\n<p>If you cannot upgrade, as stated in the issue</p>\n<blockquote>\n<p>In the meantime, it seems that setting the Java system property jdk.tls.server.enableSessionTicketExtension to false on the server side will disable the TLS feature which is causing this problem.</p>\n</blockquote>\n<p>seemed to solve the problem in our case.</p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77106082,"answer_count":1,"score":2,"last_activity_date":1694703097,"creation_date":1645192668,"question_id":71174668,"body_markdown":"We have a spring-boot application that runs perfectly fine by itself on both Java 11 and Java 17.\r\nThe spring-boot application is packaged as a docker container and runs inside gcp/gke kubernetes.\r\nWe use the nginx ingress to forward the traffic with tls-passthrough.\r\nWe use a Let&#39;s Encrypt certificate for our application.\r\nThe nginx does not have access to it (AFAICT), but considers it valid.\r\n\r\nWhen using Java 11 everything works fine.\r\nHowever, when using Java 17 the first (few) requests pass fine, but then I get a certificate error. The nginx generates/has a default ingress certificate, that it uses for the later requests. But I don&#39;t understand why it does serve that (sometimes) in the first place.\r\nThe error is reproducible with browsers and Java applications.\r\nI did not manage to preproduce it with curl/openssl though.\r\nAfter a short time/few minutes the error vanishes for the next (few) requests before it emerges again.\r\nWhen adding the ingress certificate to the trusted certs in browsers I can see that the ingress requests are upgraded to HTTP2, the first few HTTP1 requests all use the correct certificate.\r\n\r\nWe tried with different java 17 base images (openjdk/eclipse-temurin + alpine/ununtu).\r\nWe tried to explicitly disable http2 in Java and the browser.\r\nNothing seems to work except for adding the self-signed certificate to the trust-store (which is obviously a no go for production).\r\nWe weren&#39;t able to reproduce this locally, but might be due to our local dev setup being only a simplified version of the cloud environments.\r\nIf I use kubectl port-forward into the java app container, I cannot reproduce the issue.\r\n\r\nWe use the following versions:\r\n- nginx-ingress-1.41.3\r\n- gke v1.21.6-gke.1500\r\n- eclipse-temurin 17\r\n- spring-boot 2.6.3 with the default tomcat\r\n\r\nTLDR: The nginx-ingress sometimes does not tls-passthrough to our Java 17 app correctly and thus serves an invalid certificate for those requests. (All responses contain the expected/same/valid content except for the certificate).\r\nHas anyone an idea what is happening and how to fix/avoid that?","title":"Nginx sometimes fails TLS passthrough to Java 17 application","body":"<p>We have a spring-boot application that runs perfectly fine by itself on both Java 11 and Java 17.\nThe spring-boot application is packaged as a docker container and runs inside gcp/gke kubernetes.\nWe use the nginx ingress to forward the traffic with tls-passthrough.\nWe use a Let's Encrypt certificate for our application.\nThe nginx does not have access to it (AFAICT), but considers it valid.</p>\n<p>When using Java 11 everything works fine.\nHowever, when using Java 17 the first (few) requests pass fine, but then I get a certificate error. The nginx generates/has a default ingress certificate, that it uses for the later requests. But I don't understand why it does serve that (sometimes) in the first place.\nThe error is reproducible with browsers and Java applications.\nI did not manage to preproduce it with curl/openssl though.\nAfter a short time/few minutes the error vanishes for the next (few) requests before it emerges again.\nWhen adding the ingress certificate to the trusted certs in browsers I can see that the ingress requests are upgraded to HTTP2, the first few HTTP1 requests all use the correct certificate.</p>\n<p>We tried with different java 17 base images (openjdk/eclipse-temurin + alpine/ununtu).\nWe tried to explicitly disable http2 in Java and the browser.\nNothing seems to work except for adding the self-signed certificate to the trust-store (which is obviously a no go for production).\nWe weren't able to reproduce this locally, but might be due to our local dev setup being only a simplified version of the cloud environments.\nIf I use kubectl port-forward into the java app container, I cannot reproduce the issue.</p>\n<p>We use the following versions:</p>\n<ul>\n<li>nginx-ingress-1.41.3</li>\n<li>gke v1.21.6-gke.1500</li>\n<li>eclipse-temurin 17</li>\n<li>spring-boot 2.6.3 with the default tomcat</li>\n</ul>\n<p>TLDR: The nginx-ingress sometimes does not tls-passthrough to our Java 17 app correctly and thus serves an invalid certificate for those requests. (All responses contain the expected/same/valid content except for the certificate).\nHas anyone an idea what is happening and how to fix/avoid that?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":16262559,"reputation":147,"user_id":11743504,"display_name":"marcpetitvecino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694646003,"creation_date":1694646003,"answer_id":77100943,"question_id":77100785,"body_markdown":"You should do:\r\n\r\n    val dialog = alert.show()\r\n\r\nThen, inside your listener:\r\n\r\n    dialog.dismiss()","title":"How can i close the alert dialog in kotlin Programmatically?","body":"<p>You should do:</p>\n<pre><code>val dialog = alert.show()\n</code></pre>\n<p>Then, inside your listener:</p>\n<pre><code>dialog.dismiss()\n</code></pre>\n"}],"owner":{"account_id":9429750,"reputation":27,"user_id":7013675,"display_name":"Hamza abu-othman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77100943,"answer_count":1,"score":0,"last_activity_date":1694702559,"creation_date":1694643227,"question_id":77100785,"body_markdown":"I have alert dialog and I want to close the box programmatically in some action `alert.dismiss();` not working --&gt; unresolved reference\r\n\r\n    val alert: AlertDialog.Builder = AlertDialog.Builder(view.context)\r\n    alert.setTitle(this.notes[position])\r\n    alert.setMessage(&quot;choose what you want to do&quot;)\r\n    \r\n    var viewOption = inflater!!.inflate(R.layout.item_option, container, false)\r\n    \r\n    alert.setView(viewOption)\r\n    \r\n    val btn = viewOption.findViewById&lt;Button&gt;(R.id.btnId)\r\n    btn.setOnClickListener {\r\n        // i want to close the box her after some action\r\n    }\r\n            \r\n","title":"How can i close the alert dialog in kotlin Programmatically?","body":"<p>I have alert dialog and I want to close the box programmatically in some action <code>alert.dismiss();</code> not working --&gt; unresolved reference</p>\n<pre><code>val alert: AlertDialog.Builder = AlertDialog.Builder(view.context)\nalert.setTitle(this.notes[position])\nalert.setMessage(&quot;choose what you want to do&quot;)\n\nvar viewOption = inflater!!.inflate(R.layout.item_option, container, false)\n\nalert.setView(viewOption)\n\nval btn = viewOption.findViewById&lt;Button&gt;(R.id.btnId)\nbtn.setOnClickListener {\n    // i want to close the box her after some action\n}\n        \n</code></pre>\n"},{"tags":["java","authentication","google-analytics-api","runtimeexception"],"comments":[{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1691764306,"post_id":76882694,"comment_id":135540130,"body_markdown":"Have now tried over and over and over and over and over to create, recreate, modify several service accounts in the GCP IAM facility, but nowhere is Google Analytics listed as a role that can be assigned to said service accounts? There are over 8 000 roles and permission sets... which apply to Google Analytics?","body":"Have now tried over and over and over and over and over to create, recreate, modify several service accounts in the GCP IAM facility, but nowhere is Google Analytics listed as a role that can be assigned to said service accounts? There are over 8 000 roles and permission sets... which apply to Google Analytics?"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694700289,"creation_date":1694530605,"answer_id":77090350,"question_id":76882694,"body_markdown":"Please check another option as well: Go to your analytics.google account and click on Management of access to the property or Property Access Management (Sorry my page is in Italian language and I am using Translate to English option of my browser to be comprehensible) \r\n [![enter image description here][1]][1] \r\n\r\nthen you should see the email available in client_secrets.json file here having the `Administrator` role.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Java Part:**\r\n\r\nSupposing **credentialsJsonPath** variable is a `String` and the path to your secret json file, and **propertyId** is the variable containing your client propertyId.\t\r\n...\r\n        Files.createDirectories(Paths.get(credentialsJsonPath).getParent());\r\n        \r\n        \t\t\tGoogleCredentials credentials =\r\n        \t\t\t\t\tGoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\r\n        \r\n        \t\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n        \t\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n        \t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n        \t\t\t\t\t.build();    \r\n        \r\n        \t\t\ttry (BetaAnalyticsDataClient analyticsData =\r\n        \t\t\t\t\tBetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\r\n        \t\t\t\t \r\n        \t\t\t\tint offset=0;\r\n        \t\t\t\tint limit=100000;\r\n    RunReportRequest request =\r\n    \t\t\t\tRunReportRequest.newBuilder()\r\n    \t\t\t\t.setProperty(&quot;properties/&quot; + propertyId)\r\n    .addDateRanges(DateRange.newBuilder().setStartDate(&quot;your start date&quot;).setEndDate(&quot;your end date&quot;))\r\n    \r\n    \r\n    \t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \r\n    \t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\r\n    \r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\r\n    .setOffset(offset)\r\n    \t\t\t\t.setLimit(limit)\r\n    \t\t\t\t.build();\r\n    \r\n    \tRunReportResponse response = analyticsData.runReport(request);\r\n    \t\t\t\tSystem.out.println(response);\r\n     }catch(Exception e){\r\n    e.printStackTrace();\r\n    }\r\n\r\nofcourse, you can read any other compatible dimensions/metrics, I just used some examples.\r\n\r\n  [1]: https://i.stack.imgur.com/PxrqA.png\r\n  [2]: https://i.stack.imgur.com/dEKw5.png","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>Please check another option as well: Go to your analytics.google account and click on Management of access to the property or Property Access Management (Sorry my page is in Italian language and I am using Translate to English option of my browser to be comprehensible)\n<a href=\"https://i.stack.imgur.com/PxrqA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxrqA.png\" alt=\"enter image description here\" /></a></p>\n<p>then you should see the email available in client_secrets.json file here having the <code>Administrator</code> role.</p>\n<p><a href=\"https://i.stack.imgur.com/dEKw5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEKw5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java Part:</strong></p>\n<p>Supposing <strong>credentialsJsonPath</strong> variable is a <code>String</code> and the path to your secret json file, and <strong>propertyId</strong> is the variable containing your client propertyId.<br />\n...\nFiles.createDirectories(Paths.get(credentialsJsonPath).getParent());</p>\n<pre><code>                GoogleCredentials credentials =\n                        GoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\n    \n                BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n                        BetaAnalyticsDataSettings.newBuilder()\n                        .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                        .build();    \n    \n                try (BetaAnalyticsDataClient analyticsData =\n                        BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\n                     \n                    int offset=0;\n                    int limit=100000;\nRunReportRequest request =\n                RunReportRequest.newBuilder()\n                .setProperty(&quot;properties/&quot; + propertyId)\n.addDateRanges(DateRange.newBuilder().setStartDate(&quot;your start date&quot;).setEndDate(&quot;your end date&quot;))\n\n\n                .addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \n                .addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\n\n                .addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\n                .addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\n                .addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\n.setOffset(offset)\n                .setLimit(limit)\n                .build();\n\n    RunReportResponse response = analyticsData.runReport(request);\n                System.out.println(response);\n }catch(Exception e){\ne.printStackTrace();\n}\n</code></pre>\n<p>ofcourse, you can read any other compatible dimensions/metrics, I just used some examples.</p>\n"},{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694702506,"creation_date":1694702506,"answer_id":77106015,"question_id":76882694,"body_markdown":"This is now solved thanks to Shila Mosammami.\r\n\r\nTurns out, if I use this way to get a credential to access my GA4 analytics property via the service account JSON generated file per the official procedure outlined in Google&#39;s documentation for the GA4 Java API:\r\n\r\n```\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)).createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL))\r\n```\r\n\r\nI -always- get\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\nHOWEVER\r\n\r\nAs kindly suggested by Shila Mossasami, if I use this to get the required GA4 credentials off the service account JSON file per the official procedure outlined in Google&#39;s documentation for the GA4 Java API:\r\n\r\n```\r\nGoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\r\n```\r\n\r\nit all just works and the above error\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\nis no longer present.\r\n\r\nAnd I can now pull statistics via the GA4 API - at last!\r\n\r\nHere&#39;s the complete working code integrating Shila&#39;s suggestion:\r\n\r\n```\r\n String propertyId = &quot;123456789&quot;;            \r\n            \r\n            GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\r\n            \r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);                                  \r\n\r\n            RunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\r\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\r\n                    addDateRanges(DateRange.newBuilder().\r\n                            setStartDate(&quot;2023-09-11&quot;).setEndDate(&quot;today&quot;)).build();\r\n\r\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\n\r\n&quot;response&quot; then contains my response data as required.\r\n\r\nNote that I use NetBeans 11 for this, so &quot;client_secrets.json&quot; is located in\r\n\r\n```\r\nProjects-&gt;GA4 Project-&gt;Other Sources-&gt;src/main/resources-&gt;&lt;default package&gt;/client_secrets.json\r\n```\r\n\r\nin the NetBeans 11 Project Tree Gui at the left of the NetBeans 11 interface.\r\n\r\nIf &quot;client_secrets.json&quot; is placed there in NetBeans 11, the file can be refereced via\r\n\r\n```\r\nthis.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)\r\n```\r\n\r\nin the Java code (this took me several hours to figure out, hopefully this saves someone some effort.)\r\n\r\nThanks again Shila! You&#39;re the hero of the day.","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>This is now solved thanks to Shila Mosammami.</p>\n<p>Turns out, if I use this way to get a credential to access my GA4 analytics property via the service account JSON generated file per the official procedure outlined in Google's documentation for the GA4 Java API:</p>\n<pre><code>GoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)).createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL))\n</code></pre>\n<p>I -always- get</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p>HOWEVER</p>\n<p>As kindly suggested by Shila Mossasami, if I use this to get the required GA4 credentials off the service account JSON file per the official procedure outlined in Google's documentation for the GA4 Java API:</p>\n<pre><code>GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\n</code></pre>\n<p>it all just works and the above error</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p>is no longer present.</p>\n<p>And I can now pull statistics via the GA4 API - at last!</p>\n<p>Here's the complete working code integrating Shila's suggestion:</p>\n<pre><code> String propertyId = &quot;123456789&quot;;            \n            \n            GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\n            \n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);                                  \n\n            RunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\n                    addDateRanges(DateRange.newBuilder().\n                            setStartDate(&quot;2023-09-11&quot;).setEndDate(&quot;today&quot;)).build();\n\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>&quot;response&quot; then contains my response data as required.</p>\n<p>Note that I use NetBeans 11 for this, so &quot;client_secrets.json&quot; is located in</p>\n<pre><code>Projects-&gt;GA4 Project-&gt;Other Sources-&gt;src/main/resources-&gt;&lt;default package&gt;/client_secrets.json\n</code></pre>\n<p>in the NetBeans 11 Project Tree Gui at the left of the NetBeans 11 interface.</p>\n<p>If &quot;client_secrets.json&quot; is placed there in NetBeans 11, the file can be refereced via</p>\n<pre><code>this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)\n</code></pre>\n<p>in the Java code (this took me several hours to figure out, hopefully this saves someone some effort.)</p>\n<p>Thanks again Shila! You're the hero of the day.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106015,"answer_count":2,"score":0,"last_activity_date":1694702506,"creation_date":1691749524,"question_id":76882694,"body_markdown":"I have the following Java code to try and get a single metric from GA4 using the GA4 Java bindings / classes:\r\n\r\n```\r\nString propertyId = &quot;123123123&quot;;\r\n\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\r\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\r\n\r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n\r\nRunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\r\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\r\n                    addDateRanges(DateRange.newBuilder().\r\n                            setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;)).build();\r\n\r\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\n\r\nThis results in an exception in the RunReportResponse generation, e. g.\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\n**How can I get sufficient authentication scope?**\r\n\r\nI have so far\r\n\r\n - Confirmed, reconfirmed and confirmed again my PropertID passed in code is for the correct GA4 property.\r\n - Confirmed, reconfirmed and confirmed again that the GA4 account in which this PropertyID resides is in fact the account implied by my client_secrets.json downloaded from the GA4 web interface, via the Serivce Account implied in the client_secrets.json file, via the client_email field.\r\n - Confirmed, reconfirmed and confirmed again that the GA4 Service Account implied by my client_secrets.json file is, in fact, the GA4 service account associated with this Account and Property I am referencing, in the GA4 web interface.\r\n - Confirmed, reconfirmed and confirmed again that the Account referenced and Property referenced\r\nin code above have full administrator privileges active in the GA4 web interface.\r\n\r\nAny ideas or pointers?\r\n\r\nI&#39;ve worked through every GUI option I can find, I have full admin permissions set for the GA4 Account and Property, and using the GA4 GUI I can SEE the properties are there, data is accumulating, etc. - everything is working EXCEPT the API.\r\n\r\nThe issue is incredibly common and I&#39;ve worked through several posts about this, but there is  simply no resolution.\r\n\r\nI&#39;ve also tried downgrading each permission for both the Account and Property, and upgrading them in all possible combinations, keep getting\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scope\r\n```\r\n\r\nWhat am I doing wrong? Is there something wrong with the code above?\r\n\r\nThanks","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>I have the following Java code to try and get a single metric from GA4 using the GA4 Java bindings / classes:</p>\n<pre><code>String propertyId = &quot;123123123&quot;;\n\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\n\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n\nRunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\n                    addDateRanges(DateRange.newBuilder().\n                            setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;)).build();\n\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>This results in an exception in the RunReportResponse generation, e. g.</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p><strong>How can I get sufficient authentication scope?</strong></p>\n<p>I have so far</p>\n<ul>\n<li>Confirmed, reconfirmed and confirmed again my PropertID passed in code is for the correct GA4 property.</li>\n<li>Confirmed, reconfirmed and confirmed again that the GA4 account in which this PropertyID resides is in fact the account implied by my client_secrets.json downloaded from the GA4 web interface, via the Serivce Account implied in the client_secrets.json file, via the client_email field.</li>\n<li>Confirmed, reconfirmed and confirmed again that the GA4 Service Account implied by my client_secrets.json file is, in fact, the GA4 service account associated with this Account and Property I am referencing, in the GA4 web interface.</li>\n<li>Confirmed, reconfirmed and confirmed again that the Account referenced and Property referenced\nin code above have full administrator privileges active in the GA4 web interface.</li>\n</ul>\n<p>Any ideas or pointers?</p>\n<p>I've worked through every GUI option I can find, I have full admin permissions set for the GA4 Account and Property, and using the GA4 GUI I can SEE the properties are there, data is accumulating, etc. - everything is working EXCEPT the API.</p>\n<p>The issue is incredibly common and I've worked through several posts about this, but there is  simply no resolution.</p>\n<p>I've also tried downgrading each permission for both the Account and Property, and upgrading them in all possible combinations, keep getting</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scope\n</code></pre>\n<p>What am I doing wrong? Is there something wrong with the code above?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1694702338,"post_id":77105835,"comment_id":135928771,"body_markdown":"“…it doesn&#39;t work as expected.”  How can you tell?  What were you expecting to see?  What did you see instead?  Did you encounter an exception?","body":"“…it doesn&#39;t work as expected.”  How can you tell?  What were you expecting to see?  What did you see instead?  Did you encounter an exception?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1694704638,"post_id":77105835,"comment_id":135929312,"body_markdown":"Instead of `System.out.println(&quot;The Switch is Unsuccessful &quot; + e);`, try `e.printStackTrace();` - it may give you more information. You can always `System.out.println` (or `System.err.println`) your own message before the stack trace. Even better than both (but requires a bit more effort), use logging.","body":"Instead of <code>System.out.println(&quot;The Switch is Unsuccessful &quot; + e);</code>, try <code>e.printStackTrace();</code> - it may give you more information. You can always <code>System.out.println</code> (or <code>System.err.println</code>) your own message before the stack trace. Even better than both (but requires a bit more effort), use logging."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1694710387,"post_id":77105835,"comment_id":135930472,"body_markdown":"Get the complete stack trace (as suggested in an earlier comment), and post it, formatted as code, in the question.","body":"Get the complete stack trace (as suggested in an earlier comment), and post it, formatted as code, in the question."},{"owner":{"account_id":7122142,"reputation":544,"user_id":5446381,"display_name":"Florian Kirmaier"},"score":0,"creation_date":1694788474,"post_id":77105835,"comment_id":135941447,"body_markdown":"This is not related to the Switching of the scene. The problem is the loading of FXML.","body":"This is not related to the Switching of the scene. The problem is the loading of FXML."}],"owner":{"account_id":29442952,"reputation":1,"user_id":22560804,"display_name":"Philip Housden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694702278,"creation_date":1694701385,"question_id":77105835,"body_markdown":"I&#39;m working on a JavaFX application, and I&#39;m encountering an issue where I&#39;m unable to switch scenes from main-view.fxml to imported-page.fxml. I&#39;ve tried several approaches, but none of them seem to work.\r\n\r\nHere&#39;s a simplified version of my code:\r\n\r\n    // Setting OnDragDropped\r\n        importPane.setOnDragDropped(event -&gt; {\r\n            Dragboard db = event.getDragboard();\r\n            boolean success = false;\r\n            if (db.hasFiles()) {\r\n                success = true;\r\n                // Handle the dropped files here\r\n                for (File file : db.getFiles()) {\r\n                    // You can process the file here\r\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\r\n                    imagesFile.add(file.getAbsolutePath());\r\n                }\r\n                // After processing the files, switch to the imported-page.fxml scene\r\n                try {\r\n                    Parent root = FXMLLoader.load(getClass().getResource(&quot;/com/advanceprogramproject/imported-page.fxml&quot;));\r\n                    Scene scene = new Scene(root);\r\n                    Stage stage = (Stage) importPane.getScene().getWindow(); // Get the current stage\r\n                    stage.setScene(scene);\r\n                    stage.show();\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;The Switch is Unsuccessful &quot; + e);\r\n                }\r\n            }\r\n            event.setDropCompleted(success);\r\n            event.consume();\r\n        });\r\n\r\nI&#39;ve tried to switch scenes from MainViewController when a file is dropped onto the application window, but it doesn&#39;t work as expected. I&#39;ve also verified that the path to imported-page.fxml is correct.\r\n\r\nCan someone please help me identify the issue and provide guidance on how to switch scenes correctly in my JavaFX application?\r\n\r\n\r\nI&#39;ve already try to check the path and fx:id in fxml, which are correct. But the there&#39;s still error occur &quot; javafx.fxml.LoadException: &quot;. I wish that i could drop the file in the importPane and then its will goes to the next scene which is importPage and still have the file path store.","title":"Unable to switch scenes in JavaFX application","body":"<p>I'm working on a JavaFX application, and I'm encountering an issue where I'm unable to switch scenes from main-view.fxml to imported-page.fxml. I've tried several approaches, but none of them seem to work.</p>\n<p>Here's a simplified version of my code:</p>\n<pre><code>// Setting OnDragDropped\n    importPane.setOnDragDropped(event -&gt; {\n        Dragboard db = event.getDragboard();\n        boolean success = false;\n        if (db.hasFiles()) {\n            success = true;\n            // Handle the dropped files here\n            for (File file : db.getFiles()) {\n                // You can process the file here\n                System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                imagesFile.add(file.getAbsolutePath());\n            }\n            // After processing the files, switch to the imported-page.fxml scene\n            try {\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;/com/advanceprogramproject/imported-page.fxml&quot;));\n                Scene scene = new Scene(root);\n                Stage stage = (Stage) importPane.getScene().getWindow(); // Get the current stage\n                stage.setScene(scene);\n                stage.show();\n            } catch (IOException e) {\n                System.out.println(&quot;The Switch is Unsuccessful &quot; + e);\n            }\n        }\n        event.setDropCompleted(success);\n        event.consume();\n    });\n</code></pre>\n<p>I've tried to switch scenes from MainViewController when a file is dropped onto the application window, but it doesn't work as expected. I've also verified that the path to imported-page.fxml is correct.</p>\n<p>Can someone please help me identify the issue and provide guidance on how to switch scenes correctly in my JavaFX application?</p>\n<p>I've already try to check the path and fx:id in fxml, which are correct. But the there's still error occur &quot; javafx.fxml.LoadException: &quot;. I wish that i could drop the file in the importPane and then its will goes to the next scene which is importPage and still have the file path store.</p>\n"},{"tags":["java","rest"],"owner":{"account_id":29385617,"reputation":1,"user_id":22515110,"display_name":"Sajith Potnuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694702196,"creation_date":1694075718,"question_id":77057915,"body_markdown":"How can I register and get the authentication token for Swiggy via API?\r\n\r\nI tried using api-urls available online to register as a user and get an authentication token, however, I was unable to achieve it.\r\n\r\nI am expecting to share the process to register and get an Authentication token and know if we can explore the services that can be accessed with API calls.","title":"Access common services on Swiggy with APIs","body":"<p>How can I register and get the authentication token for Swiggy via API?</p>\n<p>I tried using api-urls available online to register as a user and get an authentication token, however, I was unable to achieve it.</p>\n<p>I am expecting to share the process to register and get an Authentication token and know if we can explore the services that can be accessed with API calls.</p>\n"},{"tags":["java","inheritance","actionlistener"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694540856,"post_id":77091470,"comment_id":135903693,"body_markdown":"Can you consider posting a [MRE](https://stackoverflow.com/help/minimal-reproducible-example) so this code could be run more easily?","body":"Can you consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> so this code could be run more easily?"},{"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"score":0,"creation_date":1694540864,"post_id":77091470,"comment_id":135903694,"body_markdown":"Forgot to add this: buttonFinish = new JButton(&quot;Finish&quot;);\n\t                       buttonCancel = new JButton(&quot;Cancel&quot;);","body":"Forgot to add this: buttonFinish = new JButton(&quot;Finish&quot;); \t                       buttonCancel = new JButton(&quot;Cancel&quot;);"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694540950,"post_id":77091470,"comment_id":135903715,"body_markdown":"Just edit the question and include this","body":"Just edit the question and include this"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694541222,"post_id":77091470,"comment_id":135903777,"body_markdown":"**Where** and **when** are you executing your `ClassCreator` constructor? if you provide this I could help.","body":"<b>Where</b> and <b>when</b> are you executing your <code>ClassCreator</code> constructor? if you provide this I could help."},{"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"score":0,"creation_date":1694542642,"post_id":77091470,"comment_id":135904038,"body_markdown":"@GrindingForReputation I have edited my question with a working code. Please help.","body":"@GrindingForReputation I have edited my question with a working code. Please help."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1694543385,"post_id":77091470,"comment_id":135904180,"body_markdown":"There are very few reasons to construct JDialogs manually when you can use JOptionPane&#39;s static functions","body":"There are very few reasons to construct JDialogs manually when you can use JOptionPane&#39;s static functions"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694548196,"creation_date":1694548196,"answer_id":77092272,"question_id":77091470,"body_markdown":"Not really sure what you are attempting to do. The ActionListener should be added to the button when you create the button. \r\n\r\nFor a general listener you can write the code like:\r\n\r\n    buttonCancel.addActionListener((e) -&gt;\r\n    {\r\n        JButton button = (JButton)e.getSource();\r\n        Window window = SwingUtilities.windowForComponent( button );\r\n        window.dispose();\r\n    });","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>Not really sure what you are attempting to do. The ActionListener should be added to the button when you create the button.</p>\n<p>For a general listener you can write the code like:</p>\n<pre><code>buttonCancel.addActionListener((e) -&gt;\n{\n    JButton button = (JButton)e.getSource();\n    Window window = SwingUtilities.windowForComponent( button );\n    window.dispose();\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694701984,"creation_date":1694606344,"answer_id":77096879,"question_id":77091470,"body_markdown":"The mistake your making in your code is using `super()`. Remember that a JDialog waits until it gets a response before continuing. So your listener is added *after* you close the JDialog. So try using this instead:-\r\n```\r\n...\r\npublic ClassCreator(){\r\n\tsuper();\r\n\tbuttonCancel.addActionListener((e)-&gt; jDialog.dispose());\r\n\tjDialog.setVisible(true);\r\n}\r\n...\r\n```\r\nMake sure you remove `jDialog.setVisible` from `DialogCreator` constructor.","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>The mistake your making in your code is using <code>super()</code>. Remember that a JDialog waits until it gets a response before continuing. So your listener is added <em>after</em> you close the JDialog. So try using this instead:-</p>\n<pre><code>...\npublic ClassCreator(){\n    super();\n    buttonCancel.addActionListener((e)-&gt; jDialog.dispose());\n    jDialog.setVisible(true);\n}\n...\n</code></pre>\n<p>Make sure you remove <code>jDialog.setVisible</code> from <code>DialogCreator</code> constructor.</p>\n"}],"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096879,"answer_count":2,"score":0,"last_activity_date":1694701984,"creation_date":1694540104,"question_id":77091470,"body_markdown":"I am programming a code editor in java and ran into a problem while trying to add an ActionListener to a button implemented in the parent class. The ActionListener implementation should be within the child class.    \r\n\r\nI have written the parent class DialogCreator and the child class ClassCreator this way.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    class DialogCreator extends JFrame implements ActionListener {\r\n    \r\n    \tprotected JButton buttonCancel;\r\n    \tprotected JDialog jDialog;\r\n    \r\n    \tpublic DialogCreator() {\r\n    \r\n    \t\t jDialog = new JDialog(this ,&quot;title&quot;, true);  \r\n    \t\t jDialog.setLayout(null);  \r\n    \t\t jDialog.setSize(400,400);  \r\n    \t\t \r\n    \t\t buttonCancel = new JButton(&quot;Cancel&quot;);\r\n    \t\t buttonCancel.setBounds(20,20,100,30);\r\n    \t\t\r\n    \t\t jDialog.add(buttonCancel);   \r\n    \t\t jDialog.setVisible(true);\r\n       \r\n    \t}\r\n    \t\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n        \r\n    \t}\r\n    }\r\n    class ClassCreator extends DialogCreator{\r\n    \t\r\n    \tpublic ClassCreator(){\r\n    \t\t\r\n    \t\tsuper();\r\n    \t    buttonCancel.addActionListener((e)-&gt;jDialog.dispose());\r\n    \t\t \r\n    \t}\r\n    }\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tnew ClassCreator();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nProgram compiled successfully and I expected to close the jDialog when I click on Cancel button. But nothing happened. So can you tell me where I did wrong. The ClassCreator is parent to multiple child class in my code.\r\n\r\n","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>I am programming a code editor in java and ran into a problem while trying to add an ActionListener to a button implemented in the parent class. The ActionListener implementation should be within the child class.</p>\n<p>I have written the parent class DialogCreator and the child class ClassCreator this way.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nclass DialogCreator extends JFrame implements ActionListener {\n\n    protected JButton buttonCancel;\n    protected JDialog jDialog;\n\n    public DialogCreator() {\n\n         jDialog = new JDialog(this ,&quot;title&quot;, true);  \n         jDialog.setLayout(null);  \n         jDialog.setSize(400,400);  \n         \n         buttonCancel = new JButton(&quot;Cancel&quot;);\n         buttonCancel.setBounds(20,20,100,30);\n        \n         jDialog.add(buttonCancel);   \n         jDialog.setVisible(true);\n   \n    }\n    \n    public void actionPerformed(ActionEvent e) {\n    \n    }\n}\nclass ClassCreator extends DialogCreator{\n    \n    public ClassCreator(){\n        \n        super();\n        buttonCancel.addActionListener((e)-&gt;jDialog.dispose());\n         \n    }\n}\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        new ClassCreator();\n\n    }\n\n}\n</code></pre>\n<p>Program compiled successfully and I expected to close the jDialog when I click on Cancel button. But nothing happened. So can you tell me where I did wrong. The ClassCreator is parent to multiple child class in my code.</p>\n"},{"tags":["java","shell","intellij-idea","command-line","intellij-plugin"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1694701953,"post_id":77105912,"comment_id":135928689,"body_markdown":"What do you mean by &quot;IntelliJ command prompt&quot;?","body":"What do you mean by &quot;IntelliJ command prompt&quot;?"},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694702788,"post_id":77105912,"comment_id":135928872,"body_markdown":"I mean in the intelliJ Terminal","body":"I mean in the intelliJ Terminal"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1694702993,"post_id":77105912,"comment_id":135928924,"body_markdown":"IntelliJ IDEA terminal should work the same as your &quot;normal command prompt&quot;.","body":"IntelliJ IDEA terminal should work the same as your &quot;normal command prompt&quot;."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694704213,"post_id":77105912,"comment_id":135929213,"body_markdown":"What happens when you enter `ls -a` into the IntelliJ terminal?","body":"What happens when you enter <code>ls -a</code> into the IntelliJ terminal?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694719675,"post_id":77105912,"comment_id":135932087,"body_markdown":"@KiranKutte, the _Terminal_ window is _alt + f12_.","body":"@KiranKutte, the <i>Terminal</i> window is <i>alt + f12</i>."},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694761932,"post_id":77105912,"comment_id":135936363,"body_markdown":"ls -a\nGet-ChildItem : Parameter cannot be processed because the parameter name &#39;a&#39; is ambiguous. Possible matches include: -Attributes -Directory -File -Hidden -ReadOnly -System.\nAt line:1 char:4\n+ ls -a\n+    ~~\n    + CategoryInfo          : InvalidArgument: (:) [Get-ChildItem], ParameterBindingException\n    + FullyQualifiedErrorId : AmbiguousParameter,Microsoft.PowerShell.Commands.GetChildItemCommand","body":"ls -a Get-ChildItem : Parameter cannot be processed because the parameter name &#39;a&#39; is ambiguous. Possible matches include: -Attributes -Directory -File -Hidden -ReadOnly -System. At line:1 char:4 + ls -a +    ~~     + CategoryInfo          : InvalidArgument: (:) [Get-ChildItem], ParameterBindingException     + FullyQualifiedErrorId : AmbiguousParameter,Microsoft.PowerShell.Commands.GetChildIte&zwnj;&#8203;mCommand"},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694761951,"post_id":77105912,"comment_id":135936365,"body_markdown":"this error i am gettting when i run ls-a","body":"this error i am gettting when i run ls-a"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694766860,"post_id":77105912,"comment_id":135937236,"body_markdown":"You are running a PowerShell prompt inside the Terminal window. PowerShell does not recognise `ls -a` because that&#39;s a Unix command. How are you managing to get `ls -a` to work from the command prompt? You must be running some other shell from the command prompt, such as Mingw/Git Bash. Run that shell from the IntelliJ terminal window too.","body":"You are running a PowerShell prompt inside the Terminal window. PowerShell does not recognise <code>ls -a</code> because that&#39;s a Unix command. How are you managing to get <code>ls -a</code> to work from the command prompt? You must be running some other shell from the command prompt, such as Mingw/Git Bash. Run that shell from the IntelliJ terminal window too."}],"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694701858,"creation_date":1694701858,"question_id":77105912,"body_markdown":"In Normal Command prompt, for &quot;ls -a&quot;, we will get all the files and Hidden files as well. But in IntelliJ Command prompt, how to do this? ","title":"How to check hidden files in IntelliJ","body":"<p>In Normal Command prompt, for &quot;ls -a&quot;, we will get all the files and Hidden files as well. But in IntelliJ Command prompt, how to do this?</p>\n"},{"tags":["java","dependencies","dependency-management"],"comments":[{"owner":{"account_id":4912160,"reputation":3605,"user_id":4210615,"display_name":"Artur Biesiadowski"},"score":0,"creation_date":1467192316,"post_id":38095187,"comment_id":63625694,"body_markdown":"Can you give us more specifics about what was your particular issue? Solving dependencies in most generic case is hard problem (and in my experience, things like OSGI just make it 10x more complicated), but there are some tricks to stay sane with medium sizes projects. Knowing particular situation can help to guide you (you have different situation when dealing with dependencies in open platform like eclipse+plugins compared to system fully developed in-house, which just has conflicting recursive dependencies)","body":"Can you give us more specifics about what was your particular issue? Solving dependencies in most generic case is hard problem (and in my experience, things like OSGI just make it 10x more complicated), but there are some tricks to stay sane with medium sizes projects. Knowing particular situation can help to guide you (you have different situation when dealing with dependencies in open platform like eclipse+plugins compared to system fully developed in-house, which just has conflicting recursive dependencies)"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1467192367,"post_id":38095187,"comment_id":63625730,"body_markdown":"the link that you provided shows 8 ways to solve this hell, doesn&#39;t it?","body":"the link that you provided shows 8 ways to solve this hell, doesn&#39;t it?"},{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1467192527,"post_id":38095187,"comment_id":63625840,"body_markdown":"Actually I am asking how to avoid, not to solve after it happens (which is harder).","body":"Actually I am asking how to avoid, not to solve after it happens (which is harder)."},{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1467192595,"post_id":38095187,"comment_id":63625893,"body_markdown":"@AndrewTobilko Yes it has some info. But I wonder if some one could give more expressive answer.","body":"@AndrewTobilko Yes it has some info. But I wonder if some one could give more expressive answer."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1467192398,"creation_date":1467192398,"answer_id":38095522,"question_id":38095187,"body_markdown":"First, use dependency manager like maven or gradle. No `lib` folder that contains third party jars, obviously no copying classes or *.java files from other project to yours. Sorry if this is obvious but I saw a lot of projects built using such technique. \r\n\r\n\r\nThe next phase however is optimization of dependencies. You can use library A and B that both use library C. It is fine if both use library C of the same version. The hell starts if they depend on different versions of library C. In most cases this does not cause any problem and you can be even not aware on this fact. However sometimes it may cause problems. To avoid this I&#39;d recommend you from time to time check the dependency tree of your project, find duplicates and if they exist use exclude instruction of your dependency manager to exclude older version. \r\n\r\nThis however can fail because, of incompatibility of these versions of the library. In this case there is no general way to solve the problem. Sometimes you have to downgrade one (or several) of your dependencies in order to make them to work together and wait for the newer version that uses newer version of library C (in our example). \r\n\r\nThe luck of java programmers in 2016 is that most of tools are typically open source and a lot of them are available for contributions (e.g. via github), so sometimes you can contribute your fix and help yourself and to  other developers to get newer version faster. ","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>First, use dependency manager like maven or gradle. No <code>lib</code> folder that contains third party jars, obviously no copying classes or *.java files from other project to yours. Sorry if this is obvious but I saw a lot of projects built using such technique. </p>\n\n<p>The next phase however is optimization of dependencies. You can use library A and B that both use library C. It is fine if both use library C of the same version. The hell starts if they depend on different versions of library C. In most cases this does not cause any problem and you can be even not aware on this fact. However sometimes it may cause problems. To avoid this I'd recommend you from time to time check the dependency tree of your project, find duplicates and if they exist use exclude instruction of your dependency manager to exclude older version. </p>\n\n<p>This however can fail because, of incompatibility of these versions of the library. In this case there is no general way to solve the problem. Sometimes you have to downgrade one (or several) of your dependencies in order to make them to work together and wait for the newer version that uses newer version of library C (in our example). </p>\n\n<p>The luck of java programmers in 2016 is that most of tools are typically open source and a lot of them are available for contributions (e.g. via github), so sometimes you can contribute your fix and help yourself and to  other developers to get newer version faster. </p>\n"},{"tags":[],"owner":{"account_id":10427995,"reputation":41,"user_id":7688649,"display_name":"Igor Ramazanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694701401,"creation_date":1694701401,"answer_id":77105838,"question_id":38095187,"body_markdown":"To avoid a dependency hell in the JVM world:\r\n1. Do not include unnecessary dependencies. Find out if there is anything for your build tool to show unused dependencies and remove them.\r\n2. Explicitly declare all transitive dependencies necessary for compilation in your build and lock their versions to avoid surprises in the future.\r\n3. Have a discipline marking dependencies&#39; scope in the build: `compile | runtime | provided | test`.\r\n\r\nIn the end you will end up with a list of *all* dependencies for your project and their versions. No surprises, you get what you see and will have a control over environment.\r\n\r\nIt will be much-much easier if you would find plugins/tools for your build tool of choice.\r\n\r\nTo enforce the discipline, add the next rules to the CI:\r\n1. Fail a CI pipeline if there are unused dependencies.\r\n2. Fail a CI pipeline if there are undeclared transitive dependencies. \r\n\r\nFor example, a quick searching gave me:\r\n\r\nSBT: https://github.com/cb372/sbt-explicit-dependencies\r\n\r\nGradle: https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>To avoid a dependency hell in the JVM world:</p>\n<ol>\n<li>Do not include unnecessary dependencies. Find out if there is anything for your build tool to show unused dependencies and remove them.</li>\n<li>Explicitly declare all transitive dependencies necessary for compilation in your build and lock their versions to avoid surprises in the future.</li>\n<li>Have a discipline marking dependencies' scope in the build: <code>compile | runtime | provided | test</code>.</li>\n</ol>\n<p>In the end you will end up with a list of <em>all</em> dependencies for your project and their versions. No surprises, you get what you see and will have a control over environment.</p>\n<p>It will be much-much easier if you would find plugins/tools for your build tool of choice.</p>\n<p>To enforce the discipline, add the next rules to the CI:</p>\n<ol>\n<li>Fail a CI pipeline if there are unused dependencies.</li>\n<li>Fail a CI pipeline if there are undeclared transitive dependencies.</li>\n</ol>\n<p>For example, a quick searching gave me:</p>\n<p>SBT: <a href=\"https://github.com/cb372/sbt-explicit-dependencies\" rel=\"nofollow noreferrer\">https://github.com/cb372/sbt-explicit-dependencies</a></p>\n<p>Gradle: <a href=\"https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin</a></p>\n"}],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38095522,"answer_count":2,"score":5,"last_activity_date":1694701401,"creation_date":1467191675,"question_id":38095187,"body_markdown":"Recently I was in a pretty much trouble with a [dependency hell][1] problem in Java.\r\nAre there any proper set of procedures to avoid it in future?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_hell","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>Recently I was in a pretty much trouble with a <a href=\"https://en.wikipedia.org/wiki/Dependency_hell\" rel=\"noreferrer\">dependency hell</a> problem in Java.\nAre there any proper set of procedures to avoid it in future?</p>\n"},{"tags":["java","intellij-idea","code-coverage","record","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1694697031,"post_id":77105210,"comment_id":135927434,"body_markdown":"*&quot;It is a culture question, not an issue.&quot;* - Therefore ... opinion-based.  *&quot;My question is, what do Intellij coverage expect me to cover here?&quot;* - Try it and see.","body":"<i>&quot;It is a culture question, not an issue.&quot;</i> - Therefore ... opinion-based.  <i>&quot;My question is, what do Intellij coverage expect me to cover here?&quot;</i> - Try it and see."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1694697326,"post_id":77105210,"comment_id":135927512,"body_markdown":"No ... Intellij is a software tool.  It doesn&#39;t have &quot;culture&quot;.   Perhaps the problem is that you don&#39;t know what the word means.   But anyway, the answer to the (real) question you are asking is to try it yourself.  Write a `record`, and some code that uses it in a test and see what coverage is reported by Intellij.  Then &gt;you&lt; decide whether &gt;you&lt; think the coverage reporting behavior is what &gt;you&lt; need.","body":"No ... Intellij is a software tool.  It doesn&#39;t have &quot;culture&quot;.   Perhaps the problem is that you don&#39;t know what the word means.   But anyway, the answer to the (real) question you are asking is to try it yourself.  Write a <code>record</code>, and some code that uses it in a test and see what coverage is reported by Intellij.  Then &gt;you&lt; decide whether &gt;you&lt; think the coverage reporting behavior is what &gt;you&lt; need."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1694698157,"post_id":77105210,"comment_id":135927726,"body_markdown":"Asking us whether we think Intellij&#39;s behavior is useful IS an opinion question ... and won&#39;t achieve anything.  Asking us what Intellij &quot;expects&quot; ... you can answer for yourself, by trying it out for yourself.  It will &gt;tell&lt; you what it expects.   And anyway, coverage stats should not determine how you write your tests.  The tests should be designed to identify potential bugs.  Coverage stats are a means to an end, not an end in themselves.","body":"Asking us whether we think Intellij&#39;s behavior is useful IS an opinion question ... and won&#39;t achieve anything.  Asking us what Intellij &quot;expects&quot; ... you can answer for yourself, by trying it out for yourself.  It will &gt;tell&lt; you what it expects.   And anyway, coverage stats should not determine how you write your tests.  The tests should be designed to identify potential bugs.  Coverage stats are a means to an end, not an end in themselves."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694699118,"post_id":77105210,"comment_id":135927949,"body_markdown":"The question is not about whether it is good or bad to test or to coverage. The question is about why Intellij determines some classes needs to be  covered and some not. I do not want to test that or coverage that, I just want to know why is there &quot;0% classes, 0% lines covered&quot; (implying there are things to cover) on some classes and nothing on others (implying there is nothing to cover here) I will add pictures but I&#39;m sure mighty moderators will tell me its forbidden. And yes &quot;culture&quot; may not have the same signification as in French &quot;culture&quot; word, sorry for that.","body":"The question is not about whether it is good or bad to test or to coverage. The question is about why Intellij determines some classes needs to be  covered and some not. I do not want to test that or coverage that, I just want to know why is there &quot;0% classes, 0% lines covered&quot; (implying there are things to cover) on some classes and nothing on others (implying there is nothing to cover here) I will add pictures but I&#39;m sure mighty moderators will tell me its forbidden. And yes &quot;culture&quot; may not have the same signification as in French &quot;culture&quot; word, sorry for that."},{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":3,"creation_date":1694700233,"post_id":77105210,"comment_id":135928242,"body_markdown":"@StephenC How IntelliJ determines percent of code coverage and why it&#39;s showing 0% coverage is a valid, answerable question about how to use a programming tool IMO. I&#39;d be interested to see the answer to this too, actually - I&#39;ve truthfully never thought about the specifics of this kind of question.","body":"@StephenC How IntelliJ determines percent of code coverage and why it&#39;s showing 0% coverage is a valid, answerable question about how to use a programming tool IMO. I&#39;d be interested to see the answer to this too, actually - I&#39;ve truthfully never thought about the specifics of this kind of question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694703867,"post_id":77105210,"comment_id":135929124,"body_markdown":"A general rule about unit tests is that the accessor methods of data objects don’t need to be unit tested.  (I could swear a list of recommended practices used to be on junit.org, but the closest thing I can find is [this](https://javarevisited.blogspot.com/2012/08/best-practices-to-write-junit-test.html#axzz8DIWalSLD).)  Records are data objects by definition, so I would say that IntelliJ should not be considering any default methods of records as needing code coverage.","body":"A general rule about unit tests is that the accessor methods of data objects don’t need to be unit tested.  (I could swear a list of recommended practices used to be on junit.org, but the closest thing I can find is <a href=\"https://javarevisited.blogspot.com/2012/08/best-practices-to-write-junit-test.html#axzz8DIWalSLD\" rel=\"nofollow noreferrer\">this</a>.)  Records are data objects by definition, so I would say that IntelliJ should not be considering any default methods of records as needing code coverage."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694704594,"post_id":77105210,"comment_id":135929302,"body_markdown":"Hello @VGR, thank you , that is what I thought. Empty record only defining fields should not be marked as &quot;potential to cover&quot; because there is nothing to cover. This is not an opinion, if there is nothing to test or cover, then Intellij should not mark the class . I will open an issue on jetbrains","body":"Hello @VGR, thank you , that is what I thought. Empty record only defining fields should not be marked as &quot;potential to cover&quot; because there is nothing to cover. This is not an opinion, if there is nothing to test or cover, then Intellij should not mark the class . I will open an issue on jetbrains"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694746822,"post_id":77105210,"comment_id":135934856,"body_markdown":"It is an opinion.  SOME people think that accessor methods DO need to be tested and will expend developer effort make it happen.  (I disagree with them ... but they ARE entitled to that opinion.)","body":"It is an opinion.  SOME people think that accessor methods DO need to be tested and will expend developer effort make it happen.  (I disagree with them ... but they ARE entitled to that opinion.)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694776486,"post_id":77105210,"comment_id":135938984,"body_markdown":"Most coverage tools work by mapping bytecode instructions back to line numbers. A quick test revealed that common compilers do indeed provide `LineNumberTable` attributes, mapping `record` constructor and all methods to the same line number, the one containing the record declaration. Since that makes only one line to cover, I suppose, just calling the constructor would be enough to consider 100% covered—at least JaCoCo behaves that way. Just check whether IntelliJ does the same. The coverage calculation algorithms are not very sophisticated. Neither do these tools understand test worthiness.","body":"Most coverage tools work by mapping bytecode instructions back to line numbers. A quick test revealed that common compilers do indeed provide <code>LineNumberTable</code> attributes, mapping <code>record</code> constructor and all methods to the same line number, the one containing the record declaration. Since that makes only one line to cover, I suppose, just calling the constructor would be enough to consider 100% covered—at least JaCoCo behaves that way. Just check whether IntelliJ does the same. The coverage calculation algorithms are not very sophisticated. Neither do these tools understand test worthiness."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694783210,"post_id":77105210,"comment_id":135940303,"body_markdown":"What is strange in this calculation of LineNumberTable is that record with one line is marked as potential for cover, but a class with dozens of getters/setters, constructors added wit Lombok (implying dozens of real code lines), there is no potential for cover for the tool, and the class is not marked. As if it was aware of lombok context, and decided all this lines were not worthy of covering. I can&#39;t say if bug or due to no recent update to correctly manage record in such tool.","body":"What is strange in this calculation of LineNumberTable is that record with one line is marked as potential for cover, but a class with dozens of getters/setters, constructors added wit Lombok (implying dozens of real code lines), there is no potential for cover for the tool, and the class is not marked. As if it was aware of lombok context, and decided all this lines were not worthy of covering. I can&#39;t say if bug or due to no recent update to correctly manage record in such tool."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694783396,"post_id":77105210,"comment_id":135940342,"body_markdown":"But &quot;strange&quot; is an opinion, I think the subject can now be closed, without further explanation added by the jetbrains team","body":"But &quot;strange&quot; is an opinion, I think the subject can now be closed, without further explanation added by the jetbrains team"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694789177,"post_id":77105210,"comment_id":135941586,"body_markdown":"Looking at the image: Both DTO classes likely don&#39;t have any logic: they might be records without logic or Lombok-generated classes (impossible to say without seeing the code). The last class sounds like a class with real logic, `XmlParser`: I&#39;m sure there&#39;s plenty of logic to meaningfully test (again, impossible to say without seeing the code). I&#39;ll leave this as a comment and not an answer, because this is all just guessing. This question is basically unanswerable","body":"Looking at the image: Both DTO classes likely don&#39;t have any logic: they might be records without logic or Lombok-generated classes (impossible to say without seeing the code). The last class sounds like a class with real logic, <code>XmlParser</code>: I&#39;m sure there&#39;s plenty of logic to meaningfully test (again, impossible to say without seeing the code). I&#39;ll leave this as a comment and not an answer, because this is all just guessing. This question is basically unanswerable"},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1695043009,"post_id":77105210,"comment_id":135967294,"body_markdown":"you can try switch to a jacoco runner as I think they were filtering out accessors, see https://github.com/jacoco/jacoco/issues/1215 and https://www.jetbrains.com/help/idea/running-test-with-coverage.html#5aaefe9","body":"you can try switch to a jacoco runner as I think they were filtering out accessors, see <a href=\"https://github.com/jacoco/jacoco/issues/1215\" rel=\"nofollow noreferrer\">github.com/jacoco/jacoco/issues/1215</a> and <a href=\"https://www.jetbrains.com/help/idea/running-test-with-coverage.html#5aaefe9\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/running-test-with-coverage.html#5aae&zwnj;&#8203;fe9</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695313406,"post_id":77105210,"comment_id":136010896,"body_markdown":"As said, the `LineNumberTable` attributes matters. If Lombok doesn’t generate line numbers for the generated members, the code coverage tool will treat them as “not worth covering” because it can’t measure how much they’re covered. It may also consider “synthetic” methods as “not worth covering”, though as far as I know, this heuristic has been dropped with Java&#160;8, because lambda expression bodies are compiled into synthetic methods but have associated source code lines. You may use `javap -v -c …` to check how the compiled code looks like.","body":"As said, the <code>LineNumberTable</code> attributes matters. If Lombok doesn’t generate line numbers for the generated members, the code coverage tool will treat them as “not worth covering” because it can’t measure how much they’re covered. It may also consider “synthetic” methods as “not worth covering”, though as far as I know, this heuristic has been dropped with Java 8, because lambda expression bodies are compiled into synthetic methods but have associated source code lines. You may use <code>javap -v -c …</code> to check how the compiled code looks like."}],"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1694701218,"creation_date":1694696935,"question_id":77105210,"body_markdown":"I was doing some junit testing in my codebase and found that Intellij is marking all my simple Record classes as 0% covered\r\n\r\nI have a simple record that looks like this :\r\n\r\n```\r\npublic record ProcessRequestDTO(String path) {\r\n    // NOTHING HERE\r\n}\r\n```\r\n\r\nMy question is, what do Intellij coverage expect me to cover here ? Constructor ? Getters/Setters ? if the latters are true, why is non-record classes annotated with @Getter, @Setter, @AllArgsConstrusctor are not even detected as to be covered ? (see next code)\r\n\r\nI can&#39;t use jacoco right now so I&#39;m expecting an answer for the default Intellij coverage tool.\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Other{\r\n    private File file;\r\n}\r\n// This class is not even added to the coverage pool\r\n```\r\n\r\nEdit, as this subject is not clear, I add this images which represents classes marked as &#39;nothing to cover&#39; and classes marked as &quot;potential for coverage here&quot;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2Wst.png","title":"What needs to be covered in a java record","body":"<p>I was doing some junit testing in my codebase and found that Intellij is marking all my simple Record classes as 0% covered</p>\n<p>I have a simple record that looks like this :</p>\n<pre><code>public record ProcessRequestDTO(String path) {\n    // NOTHING HERE\n}\n</code></pre>\n<p>My question is, what do Intellij coverage expect me to cover here ? Constructor ? Getters/Setters ? if the latters are true, why is non-record classes annotated with @Getter, @Setter, @AllArgsConstrusctor are not even detected as to be covered ? (see next code)</p>\n<p>I can't use jacoco right now so I'm expecting an answer for the default Intellij coverage tool.</p>\n<pre><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Other{\n    private File file;\n}\n// This class is not even added to the coverage pool\n</code></pre>\n<p>Edit, as this subject is not clear, I add this images which represents classes marked as 'nothing to cover' and classes marked as &quot;potential for coverage here&quot;\n<a href=\"https://i.stack.imgur.com/h2Wst.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2Wst.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694677241,"post_id":77102674,"comment_id":135923238,"body_markdown":"don&#39;t generate those values in that method. Even better, don&#39;t dynamically generate values at all. Depending on what is generated, you might get an other result, making your test fail","body":"don&#39;t generate those values in that method. Even better, don&#39;t dynamically generate values at all. Depending on what is generated, you might get an other result, making your test fail"},{"owner":{"account_id":29439003,"reputation":1,"user_id":22557366,"display_name":"Jabs"},"score":0,"creation_date":1694679913,"post_id":77102674,"comment_id":135923705,"body_markdown":"Hi @Stultuske, thanks for your suggestion. That&#39;s a great point and that&#39;ll make it more easier! However, the reason why I generated random values is because I wanted to test if the system is correctly capturing the values entered by the different users. But if it&#39;s too complex to be coded, I&#39;ll make the values static then. Thanks, again:)","body":"Hi @Stultuske, thanks for your suggestion. That&#39;s a great point and that&#39;ll make it more easier! However, the reason why I generated random values is because I wanted to test if the system is correctly capturing the values entered by the different users. But if it&#39;s too complex to be coded, I&#39;ll make the values static then. Thanks, again:)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694680110,"post_id":77102674,"comment_id":135923744,"body_markdown":"it&#39;s not really about &quot;difficulty&quot;, it&#39;s about creating a possibility where you don&#39;t notice you don&#39;t test all the scenario&#39;s, and where you test certain scenario&#39;s you shouldn&#39;t be (re-)testing","body":"it&#39;s not really about &quot;difficulty&quot;, it&#39;s about creating a possibility where you don&#39;t notice you don&#39;t test all the scenario&#39;s, and where you test certain scenario&#39;s you shouldn&#39;t be (re-)testing"}],"answers":[{"tags":[],"owner":{"account_id":15522859,"reputation":1,"user_id":11198572,"display_name":"Abhishek Tak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694700707,"creation_date":1694700680,"answer_id":77105738,"question_id":77102674,"body_markdown":"You can store all the details in an `ArrayList&lt;String&gt; arraylist` in enterRequiredAndOptionalDetails() method and pass this to the `verifyNewLeadDetailsInEmail(ArrayList&lt;String&gt; enteredDetails)` and then perform validation.\r\n","title":"How to get the values of the textfields from one method to another method in the same class?","body":"<p>You can store all the details in an <code>ArrayList&lt;String&gt; arraylist</code> in enterRequiredAndOptionalDetails() method and pass this to the <code>verifyNewLeadDetailsInEmail(ArrayList&lt;String&gt; enteredDetails)</code> and then perform validation.</p>\n"}],"owner":{"account_id":29439003,"reputation":1,"user_id":22557366,"display_name":"Jabs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694700707,"creation_date":1694676871,"question_id":77102674,"body_markdown":"This is for Selenium Webdriver.\r\n\r\nI have several methods inside the same class but I have these two methods that I need to connect(?)\r\n1. The first one is to enter values in a form\r\n2. The second one is to verify if the entered values are correctly displayed in the email template sent after submitting the form.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic void enterRequiredAndOptionalDetails(){\r\n\r\n        String randomFName = &quot;Tester&quot;+generateRandomAlpha(2);\r\n        String randomLName = &quot;Last&quot;+generateRandomAlpha(2);\r\n        String generatedEmail = randomFName+randomLName+&quot;@test.com&quot;;\r\n        String randomPhoneNum = &quot;045&quot;+generateRandomNumber(7);\r\n        String randomTimeToCall = generateRandomNumber(1)+&quot;am to &quot; + generateRandomNumber(1) + &quot;pm&quot;;\r\n        String randomComment = &quot;Hi, this is a sample comment&quot;+generateRandomAlpha(5);\r\n\r\n        sendKeys(Properties_Details_NewLeadModal_FirstName,randomFName);\r\n        sendKeys(Properties_Details_NewLeadModal_LastName,randomLName);\r\n        sendKeys(Properties_Details_NewLeadModal_Email,generatedEmail);\r\n        sendKeys(Properties_Details_NewLeadModal_Telephone,randomPhoneNum);\r\n        sendKeys(Properties_Details_NewLeadModal_PreferredTimeToCall,randomTimeToCall);\r\n        sendKeys(Properties_Details_NewLeadModal_Comment,randomComment);\r\n```\r\n\r\n\r\n```\r\npublic void verifyNewLeadDetailsInEmail(){\r\n        // I don&#39;t know how to use the entered values from the enterRequiredAndOptionalDetails().\r\n        // this is where I verify if the entered values from the enterRequiredAndOptionalDetails() matches the values sent in the email template.\r\n    }\r\n```\r\n\r\n\r\n\r\nI have tried creating a separate method to just store the values entered in the form, but still, I don&#39;t know how to use it in verifyNewLeadDetailsInEmail() method.","title":"How to get the values of the textfields from one method to another method in the same class?","body":"<p>This is for Selenium Webdriver.</p>\n<p>I have several methods inside the same class but I have these two methods that I need to connect(?)</p>\n<ol>\n<li>The first one is to enter values in a form</li>\n<li>The second one is to verify if the entered values are correctly displayed in the email template sent after submitting the form.</li>\n</ol>\n<p>Here's my code:</p>\n<pre><code>public void enterRequiredAndOptionalDetails(){\n\n        String randomFName = &quot;Tester&quot;+generateRandomAlpha(2);\n        String randomLName = &quot;Last&quot;+generateRandomAlpha(2);\n        String generatedEmail = randomFName+randomLName+&quot;@test.com&quot;;\n        String randomPhoneNum = &quot;045&quot;+generateRandomNumber(7);\n        String randomTimeToCall = generateRandomNumber(1)+&quot;am to &quot; + generateRandomNumber(1) + &quot;pm&quot;;\n        String randomComment = &quot;Hi, this is a sample comment&quot;+generateRandomAlpha(5);\n\n        sendKeys(Properties_Details_NewLeadModal_FirstName,randomFName);\n        sendKeys(Properties_Details_NewLeadModal_LastName,randomLName);\n        sendKeys(Properties_Details_NewLeadModal_Email,generatedEmail);\n        sendKeys(Properties_Details_NewLeadModal_Telephone,randomPhoneNum);\n        sendKeys(Properties_Details_NewLeadModal_PreferredTimeToCall,randomTimeToCall);\n        sendKeys(Properties_Details_NewLeadModal_Comment,randomComment);\n</code></pre>\n<pre><code>public void verifyNewLeadDetailsInEmail(){\n        // I don't know how to use the entered values from the enterRequiredAndOptionalDetails().\n        // this is where I verify if the entered values from the enterRequiredAndOptionalDetails() matches the values sent in the email template.\n    }\n</code></pre>\n<p>I have tried creating a separate method to just store the values entered in the form, but still, I don't know how to use it in verifyNewLeadDetailsInEmail() method.</p>\n"},{"tags":["java","android","webrtc","video-streaming","agora"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694733360,"post_id":77105728,"comment_id":135933914,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":14314651,"reputation":1,"user_id":10339786,"display_name":"fahim fahad fahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700619,"creation_date":1694700619,"question_id":77105728,"body_markdown":"I am broadcasting my live and join others channel fine. However I am looking forward to implement PK battle in my app. How do I broadcast live and join someone&#39;s channel at the same time? \r\n\r\nI tried to create 2 RtcEngine, But it seems to be static so I can create only one instance.\r\n\r\nWhat I am trying to do is Broadcast my live and Broadcast my friends live we both join each others channel and show both streams to other people at the same time? This sounds crazy but this is the only idea I have right now. Is there any other way? If not how do I implement this? ","title":"How to implement PK battle (like the one in likee app) using Agora?","body":"<p>I am broadcasting my live and join others channel fine. However I am looking forward to implement PK battle in my app. How do I broadcast live and join someone's channel at the same time?</p>\n<p>I tried to create 2 RtcEngine, But it seems to be static so I can create only one instance.</p>\n<p>What I am trying to do is Broadcast my live and Broadcast my friends live we both join each others channel and show both streams to other people at the same time? This sounds crazy but this is the only idea I have right now. Is there any other way? If not how do I implement this?</p>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1694615805,"post_id":77094915,"comment_id":135915110,"body_markdown":"Are you not able to achieve that using onRedelivery?","body":"Are you not able to achieve that using onRedelivery?"},{"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"score":0,"creation_date":1694686256,"post_id":77094915,"comment_id":135925077,"body_markdown":"No, It fires onRedelivery at the first retry(attempt 1), after 5 sec from the attempt 0. I want to do something immediately after attempt 0.","body":"No, It fires onRedelivery at the first retry(attempt 1), after 5 sec from the attempt 0. I want to do something immediately after attempt 0."}],"answers":[{"tags":[],"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694700536,"creation_date":1694697300,"answer_id":77105262,"question_id":77094915,"body_markdown":"Based on the requirement in the [comment][1] to perform action immediately after exception. you can use .onExceptionOccurred() processor, which executes immediately after exception, whereas onRedelivery() executes before retry. You can refer [docs][2] for more info.\r\n\r\n    ...\r\n    .onException(SomeException.class)\r\n    .onExceptionOccurred(e -&gt; {log()})\r\n    .maximumRedeliveries(3)\r\n    .redeliveryDelay(5000)\r\n    .onRedelivery(e -&gt; {log()})\r\n    .retryAttemptedLogLevel(WARN)\r\n    .process(e -&gt; {log()})\r\n    .handled(true);\r\n    ...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77094915/how-to-execute-an-action-in-onexception-block-before-onredelivery-in-camel?noredirect=1#comment135925077_77094915:~:text=No%2C%20It%20fires%20onRedelivery%20at%20the%20first%20retry(attempt%201)%2C%20after%205%20sec%20from%20the%20attempt%200.%20I%20want%20to%20do%20something%20immediately%20after%20attempt%200\r\n  [2]: https://camel.apache.org/manual/exception-clause.html#_using_onexceptionoccurred_processor","title":"How to execute an action in onException block before onRedelivery in camel?","body":"<p>Based on the requirement in the <a href=\"https://stackoverflow.com/questions/77094915/how-to-execute-an-action-in-onexception-block-before-onredelivery-in-camel?noredirect=1#comment135925077_77094915:%7E:text=No%2C%20It%20fires%20onRedelivery%20at%20the%20first%20retry(attempt%201)%2C%20after%205%20sec%20from%20the%20attempt%200.%20I%20want%20to%20do%20something%20immediately%20after%20attempt%200\">comment</a> to perform action immediately after exception. you can use .onExceptionOccurred() processor, which executes immediately after exception, whereas onRedelivery() executes before retry. You can refer <a href=\"https://camel.apache.org/manual/exception-clause.html#_using_onexceptionoccurred_processor\" rel=\"nofollow noreferrer\">docs</a> for more info.</p>\n<pre><code>...\n.onException(SomeException.class)\n.onExceptionOccurred(e -&gt; {log()})\n.maximumRedeliveries(3)\n.redeliveryDelay(5000)\n.onRedelivery(e -&gt; {log()})\n.retryAttemptedLogLevel(WARN)\n.process(e -&gt; {log()})\n.handled(true);\n...\n</code></pre>\n"}],"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105262,"answer_count":1,"score":0,"last_activity_date":1694700536,"creation_date":1694590097,"question_id":77094915,"body_markdown":"I have an onException block in a camel route. It looks like this:\r\n\r\n    ...\r\n    .onException(SomeException.class)\r\n    .maximumRedeliveries(3)\r\n    .redeliveryDelay(5000)\r\n    .onRedelivery(e -&gt; {log()})\r\n    .retryAttemptedLogLevel(WARN)\r\n    .process(e -&gt; {log()})\r\n    .handled(true)\r\n    ...\r\n\r\nThe problem is that the redeliveries are executed before the process.\r\nI would like to do something before retry. Is that possible? ","title":"How to execute an action in onException block before onRedelivery in camel?","body":"<p>I have an onException block in a camel route. It looks like this:</p>\n<pre><code>...\n.onException(SomeException.class)\n.maximumRedeliveries(3)\n.redeliveryDelay(5000)\n.onRedelivery(e -&gt; {log()})\n.retryAttemptedLogLevel(WARN)\n.process(e -&gt; {log()})\n.handled(true)\n...\n</code></pre>\n<p>The problem is that the redeliveries are executed before the process.\nI would like to do something before retry. Is that possible?</p>\n"},{"tags":["java","android","whatsapp","whatsapi"],"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700492,"creation_date":1694700492,"question_id":77105706,"body_markdown":"I am creating an android app with which you can send message to unsaved contacts in WhatsApp, WhatsApp Business and Telegram. This I do with the [wa.me](https://wa.me) link and the [t.me](https://t.me). link.\r\n\r\nI have got the solution for WhatsApp and Telegram but the problem is that I don&#39;t know how to get the [wa.me](https://wa.me) link for WhatsApp Business. This link works on both WhatsApp and The WhatsApp Business app. Whenever I click on this link, it redirects me to WhatsApp but not the Business app.\r\n\r\nI tried several different types of links. Two of them were:\r\n\r\n- https://wa.me/business/$PHONE_NUMBER$\r\n- https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b\r\n\r\nHere $PHONE_NUMBER$ is the valid WhatsApp phone number of the person whom we want to contact.\r\n\r\nAnother approach I can think of is that I used the same [wa.me](https://wa.me) link for both Business and Normal but I will disguise one of the link by a URL Shortener. Then I will set it as the ***Open By Default*** link in one of the apps. But I don&#39;t know how can I do this through my app. It would great if you help me in this or suggest any other solution.\r\n\r\nThank You!","title":"wa.me link for WhatsApp Business?","body":"<p>I am creating an android app with which you can send message to unsaved contacts in WhatsApp, WhatsApp Business and Telegram. This I do with the <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link and the <a href=\"https://t.me\" rel=\"nofollow noreferrer\">t.me</a>. link.</p>\n<p>I have got the solution for WhatsApp and Telegram but the problem is that I don't know how to get the <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link for WhatsApp Business. This link works on both WhatsApp and The WhatsApp Business app. Whenever I click on this link, it redirects me to WhatsApp but not the Business app.</p>\n<p>I tried several different types of links. Two of them were:</p>\n<ul>\n<li><a href=\"https://wa.me/business/$PHONE_NUMBER$\" rel=\"nofollow noreferrer\">https://wa.me/business/$PHONE_NUMBER$</a></li>\n<li><a href=\"https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b\" rel=\"nofollow noreferrer\">https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b</a></li>\n</ul>\n<p>Here $PHONE_NUMBER$ is the valid WhatsApp phone number of the person whom we want to contact.</p>\n<p>Another approach I can think of is that I used the same <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link for both Business and Normal but I will disguise one of the link by a URL Shortener. Then I will set it as the <em><strong>Open By Default</strong></em> link in one of the apps. But I don't know how can I do this through my app. It would great if you help me in this or suggest any other solution.</p>\n<p>Thank You!</p>\n"},{"tags":["java","spring-boot","rest","error-handling"],"comments":[{"owner":{"account_id":23779254,"reputation":1,"user_id":17792180,"display_name":"bartheme"},"score":0,"creation_date":1694702497,"post_id":77105699,"comment_id":135928801,"body_markdown":"I got error: Cannot invoke &quot;java.lang.Throwable.getMessage()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null","body":"I got error: Cannot invoke &quot;java.lang.Throwable.getMessage()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String&zwnj;&#8203;)&quot; is null"}],"owner":{"account_id":23779254,"reputation":1,"user_id":17792180,"display_name":"bartheme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700409,"creation_date":1694700409,"question_id":77105699,"body_markdown":"While playing with code, I created a custom exception ```LackOfBasicRecordsInDatabase``` and a constructor to pass a basic info-message. The issue is when I throw this exception and original string is null at the end of response.\r\nHere is the code:\r\n```java\r\n@ResponseStatus(value = HttpStatus.INSUFFICIENT_STORAGE)\r\npublic class LackOfBasicRecordsInDatabase extends RuntimeException{\r\n    public LackOfBasicRecordsInDatabase(String message){\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nPlace where I throw error\r\n```\r\n@GetMapping\r\npublic ResponseEntity someMethod() {\r\n    if(...) throw new ResponseStatusException(HttpStatus.INSUFFICIENT_STORAGE, &quot;message&quot;);\r\n    if(...) throw new LackOfBasicRecordsInDatabase(&quot;pls pass this message&quot;);\r\n    ...\r\n    }\r\n```\r\n\r\nErrorController:\r\n```\r\n@RestController\r\npublic class MyErrorController implements ErrorController {\r\n\r\n    @RequestMapping(&quot;error&quot;)\r\n    public String handleError(Exception ex, HttpServletRequest request) {\r\n        String errorMessagePrefix = &quot;Congrats, You encountered &quot;;\r\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n        String appendix = &quot;some error&quot;;\r\n        if (status != null) {\r\n            appendix = status.toString();\r\n        }\r\n        return errorMessagePrefix + appendix + &quot; &quot; + request.getAttribute(RequestDispatcher.ERROR_MESSAGE).toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThere is also ```server.error.include-message=always``` in ```application.properties```.\r\n\r\n\r\n\r\nThe response of ```ResponseStatusException``` with ```ErrorController```:\r\n```\r\nCongrats, You encountered 507 message\r\n```\r\n\r\nThe response of ```LackOfBasicRecordsInDatabase``` with ```ErrorController```:\r\n```\r\nCongrats, You encountered 507\r\n```\r\n\r\nThe response of ```LackOfBasicRecordsInDatabase``` without ```ErrorController```:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;...&quot;,\r\n    &quot;status&quot;: 507,\r\n    &quot;error&quot;: &quot;Insufficient Storage&quot;,\r\n    &quot;message&quot;: &quot;pls pass this message&quot;,\r\n    &quot;path&quot;: &quot;/somepath&quot;\r\n}\r\n```\r\n\r\nSo we see that ```ResponseStatusException``` message is passed correctly to ```ErrorController```,\r\nand ```LackOfBasicRecordsInDatabase``` message is not.\r\nWhat to do if I want to use ```LackOfBasicRecordsInDatabase``` class and pass it&#39;s message?\r\nWhen it is better to use  ```ResponseStatusException``` and when the custom one?","title":"@ResponseStatus annotated class that extends RuntimeException, overrides exception message","body":"<p>While playing with code, I created a custom exception <code>LackOfBasicRecordsInDatabase</code> and a constructor to pass a basic info-message. The issue is when I throw this exception and original string is null at the end of response.\nHere is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(value = HttpStatus.INSUFFICIENT_STORAGE)\npublic class LackOfBasicRecordsInDatabase extends RuntimeException{\n    public LackOfBasicRecordsInDatabase(String message){\n        super(message);\n    }\n}\n</code></pre>\n<p>Place where I throw error</p>\n<pre><code>@GetMapping\npublic ResponseEntity someMethod() {\n    if(...) throw new ResponseStatusException(HttpStatus.INSUFFICIENT_STORAGE, &quot;message&quot;);\n    if(...) throw new LackOfBasicRecordsInDatabase(&quot;pls pass this message&quot;);\n    ...\n    }\n</code></pre>\n<p>ErrorController:</p>\n<pre><code>@RestController\npublic class MyErrorController implements ErrorController {\n\n    @RequestMapping(&quot;error&quot;)\n    public String handleError(Exception ex, HttpServletRequest request) {\n        String errorMessagePrefix = &quot;Congrats, You encountered &quot;;\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n        String appendix = &quot;some error&quot;;\n        if (status != null) {\n            appendix = status.toString();\n        }\n        return errorMessagePrefix + appendix + &quot; &quot; + request.getAttribute(RequestDispatcher.ERROR_MESSAGE).toString();\n    }\n}\n</code></pre>\n<p>There is also <code>server.error.include-message=always</code> in <code>application.properties</code>.</p>\n<p>The response of <code>ResponseStatusException</code> with <code>ErrorController</code>:</p>\n<pre><code>Congrats, You encountered 507 message\n</code></pre>\n<p>The response of <code>LackOfBasicRecordsInDatabase</code> with <code>ErrorController</code>:</p>\n<pre><code>Congrats, You encountered 507\n</code></pre>\n<p>The response of <code>LackOfBasicRecordsInDatabase</code> without <code>ErrorController</code>:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;...&quot;,\n    &quot;status&quot;: 507,\n    &quot;error&quot;: &quot;Insufficient Storage&quot;,\n    &quot;message&quot;: &quot;pls pass this message&quot;,\n    &quot;path&quot;: &quot;/somepath&quot;\n}\n</code></pre>\n<p>So we see that <code>ResponseStatusException</code> message is passed correctly to <code>ErrorController</code>,\nand <code>LackOfBasicRecordsInDatabase</code> message is not.\nWhat to do if I want to use <code>LackOfBasicRecordsInDatabase</code> class and pass it's message?\nWhen it is better to use  <code>ResponseStatusException</code> and when the custom one?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1694700374,"post_id":77105560,"comment_id":135928285,"body_markdown":"Huh, that&#39;s brilliant. This removes `Object` itself from autocomplete as well but I&#39;m not going to forget that exists and it&#39;s not hard to type. It works for me right now, I&#39;m on 4.27 though.","body":"Huh, that&#39;s brilliant. This removes <code>Object</code> itself from autocomplete as well but I&#39;m not going to forget that exists and it&#39;s not hard to type. It works for me right now, I&#39;m on 4.27 though."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1694700840,"post_id":77105560,"comment_id":135928390,"body_markdown":"Might be a regression that warrants opening an Issue.","body":"Might be a regression that warrants opening an Issue."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694702148,"post_id":77105560,"comment_id":135928732,"body_markdown":"Check the log. Was that a clean installation or an upgrade on existing one? Try starting with `-clean` switch or with a new workspace.","body":"Check the log. Was that a clean installation or an upgrade on existing one? Try starting with <code>-clean</code> switch or with a new workspace."},{"owner":{"account_id":1601230,"reputation":163,"user_id":1482213,"accept_rate":40,"display_name":"Giannis Krimitzas"},"score":0,"creation_date":1694702991,"post_id":77105560,"comment_id":135928921,"body_markdown":"I tested it in both. I upgraded my previous installation and, at the time I realized the issue, I made a clean new one redownloading the IDE. Neither of them worked as expected","body":"I tested it in both. I upgraded my previous installation and, at the time I realized the issue, I made a clean new one redownloading the IDE. Neither of them worked as expected"}],"owner":{"account_id":1601230,"reputation":163,"user_id":1482213,"accept_rate":40,"display_name":"Giannis Krimitzas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694700134,"creation_date":1694699349,"question_id":77105560,"body_markdown":"I have just uploaded Eclipse to 23-09 (4.29.0) version and it seems that I can&#39;t hide anymore the Object and Enum default methods from code completion.\r\n\r\nUp to now, I got it working by using the Type Filters preferences, adding the java.lang.Object and java.lang.Enum* filter names. It was working brilliantly, only showing the new methods I was adding in each class and enum.\r\n\r\nBut with the last update this doesn&#39;t seem to work. I have included a couple of photos to have a visualization aspect as well.\r\n\r\nCan you enlighten me?\r\n\r\n[![Code Completion][1]][1]\r\n\r\n[![Type Filters settings][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/smZLZ.png\r\n  [2]: https://i.stack.imgur.com/ofPm0.png","title":"How can I hide the Object and Enum methods from code completion?","body":"<p>I have just uploaded Eclipse to 23-09 (4.29.0) version and it seems that I can't hide anymore the Object and Enum default methods from code completion.</p>\n<p>Up to now, I got it working by using the Type Filters preferences, adding the java.lang.Object and java.lang.Enum* filter names. It was working brilliantly, only showing the new methods I was adding in each class and enum.</p>\n<p>But with the last update this doesn't seem to work. I have included a couple of photos to have a visualization aspect as well.</p>\n<p>Can you enlighten me?</p>\n<p><a href=\"https://i.stack.imgur.com/smZLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smZLZ.png\" alt=\"Code Completion\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ofPm0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofPm0.png\" alt=\"Type Filters settings\" /></a></p>\n"},{"tags":["java","json","spring","spring-mvc"],"comments":[{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1414693038,"post_id":26660030,"comment_id":41922871,"body_markdown":"Can you post the server side code(only api) because as per log it throws 500,so may be it&#39;s rest api issue?","body":"Can you post the server side code(only api) because as per log it throws 500,so may be it&#39;s rest api issue?"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693195,"post_id":26660030,"comment_id":41922977,"body_markdown":"Post the `@Controller` and `@RequestMapping` code.","body":"Post the <code>@Controller</code> and <code>@RequestMapping</code> code."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693278,"post_id":26660030,"comment_id":41923025,"body_markdown":"Is a **bad** practice have the instance variable how `public`, they must be `private`, that&#39;s why you are working with getter/setters.","body":"Is a <b>bad</b> practice have the instance variable how <code>public</code>, they must be <code>private</code>, that&#39;s why you are working with getter/setters."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693308,"post_id":26660030,"comment_id":41923048,"body_markdown":"instance variable names should start with lowercase, not with uppercase.","body":"instance variable names should start with lowercase, not with uppercase."},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":0,"creation_date":1414695079,"post_id":26660030,"comment_id":41924185,"body_markdown":"Since you are getting HTTP Status Code 500 then it means it is a server error, not client one.","body":"Since you are getting HTTP Status Code 500 then it means it is a server error, not client one."},{"owner":{"account_id":5256915,"reputation":23,"user_id":4199543,"display_name":"Hrishikesh"},"score":0,"creation_date":1414777954,"post_id":26660030,"comment_id":41960073,"body_markdown":"I got it.I was getting this 500 error because variables are declared public in info class. it must be private and it works..@ManuelJordan You&#39;r right.variable must be private.thnxs","body":"I got it.I was getting this 500 error because variables are declared public in info class. it must be private and it works..@ManuelJordan You&#39;r right.variable must be private.thnxs"},{"owner":{"account_id":5027683,"reputation":2632,"user_id":4038986,"display_name":"Qy Zuo"},"score":0,"creation_date":1474880129,"post_id":26660030,"comment_id":66695365,"body_markdown":"Possible duplicate of [Rest Template custom exception handling](http://stackoverflow.com/questions/21429899/rest-template-custom-exception-handling)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21429899/rest-template-custom-exception-handling\">Rest Template custom exception handling</a>"}],"answers":[{"tags":[],"owner":{"account_id":10379114,"reputation":11,"user_id":7654489,"display_name":"Naag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542966052,"creation_date":1542964854,"answer_id":53443752,"question_id":26660030,"body_markdown":"You can try the below code:\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Info {\r\n    \r\n    @JsonProperty(&quot;Id&quot;)\r\n        public String Id;\r\n    \r\n     @JsonProperty(&quot;Id&quot;)\r\n        public String Name;\r\n\r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\r\n    public String getId() {\r\n        return Id;\r\n    }\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>You can try the below code:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Info {\n\n@JsonProperty(\"Id\")\n    public String Id;\n\n @JsonProperty(\"Id\")\n    public String Name;\n\npublic String getName() {\n    return Name;\n}\n\npublic String getId() {\n    return Id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618686915,"creation_date":1618686915,"answer_id":67142067,"question_id":26660030,"body_markdown":"Seems like you are not setting header properly Content-Type&#39; with &#39;application/json&#39;\r\n\r\n\r\n          HttpHeaders headers = new HttpHeaders();\r\n          headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n          HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(postBodyJson ,headers);\r\n          restTemplate.put(uRL, entity);\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>Seems like you are not setting header properly Content-Type' with 'application/json'</p>\n<pre><code>      HttpHeaders headers = new HttpHeaders();\n      headers.setContentType(MediaType.APPLICATION_JSON);\n\n      HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(postBodyJson ,headers);\n      restTemplate.put(uRL, entity);\n</code></pre>\n"}],"owner":{"account_id":5256915,"reputation":23,"user_id":4199543,"display_name":"Hrishikesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694700110,"creation_date":1414691636,"question_id":26660030,"body_markdown":"Hi I&#39;m new to Spring framework.I have written app which post object to RESTAPI using Resttemplate but i am getting this error\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    23:07:05.856 [main] DEBUG o.s.web.client.RestTemplate - Created POST request for\r\n      &quot;http://dummyurl.net/Index&quot;    \r\n    23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Setting request Accept\r\n      header to [application/json, application/*+json]\r\n    23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Writing\r\n      [org.hrishi.ConsumeReStApi.Info@727803de] as &quot;application/json&quot; using\r\n      [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@704921a5]\r\n    23:07:05.981 [main] WARN  o.s.web.client.RestTemplate - POST request for &quot;dummyurl.net&quot;\r\n     resulted in 500 (Internal Server Error); invoking error handler\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:94)\r\n    \tat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:598)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:556)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:512)\r\n    \tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:363)\r\n    \tat org.hrishi.ConsumeReStApi.App.main(App.java:35)\r\n\r\n**and this my code**\r\n\r\n   \r\n\r\n            String url=    &quot;http://dummyurl.net/Index&quot;;    \r\n        \tRestTemplate restTemplate = new RestTemplate();\r\n        \tMultiValueMap&lt;String, String&gt; headers =\tnew LinkedMultiValueMap&lt;String, String&gt;();\r\n        \theaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        \tInfo info1=new Info();\r\n        \tinfo1.Id=&quot;1711&quot;;\r\n        \tinfo1.Name=&quot;Hrishi&quot;;\r\n        \tHttpEntity&lt;Info&gt; HReq=new HttpEntity&lt;Info&gt;(info1,headers);\r\n        \tResponseEntity&lt;Info&gt; info = restTemplate.postForEntity(url, HReq, Info.class);\r\n        \tSystem.out.print(&quot;id : &quot;+info.getBody());\r\n\r\n\r\n**and this is request object**\r\n\r\n    public class Info {\r\n    \r\n        public String Id;\r\n        public String Name;\r\n        \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public String getId() {\r\n            return Id;\r\n        }\r\n    \r\n    }\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>Hi I'm new to Spring framework.I have written app which post object to RESTAPI using Resttemplate but i am getting this error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>23:07:05.856 [main] DEBUG o.s.web.client.RestTemplate - Created POST request for\n  \"http://dummyurl.net/Index\"    \n23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Setting request Accept\n  header to [application/json, application/*+json]\n23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Writing\n  [org.hrishi.ConsumeReStApi.Info@727803de] as \"application/json\" using\n  [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@704921a5]\n23:07:05.981 [main] WARN  o.s.web.client.RestTemplate - POST request for \"dummyurl.net\"\n resulted in 500 (Internal Server Error); invoking error handler\nException in thread \"main\" org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:94)\n    at org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:598)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:556)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:512)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:363)\n    at org.hrishi.ConsumeReStApi.App.main(App.java:35)\n</code></pre>\n\n<p><strong>and this my code</strong></p>\n\n<pre><code>        String url=    \"http://dummyurl.net/Index\";    \n        RestTemplate restTemplate = new RestTemplate();\n        MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;String, String&gt;();\n        headers.add(\"Content-Type\", \"application/json\");\n        Info info1=new Info();\n        info1.Id=\"1711\";\n        info1.Name=\"Hrishi\";\n        HttpEntity&lt;Info&gt; HReq=new HttpEntity&lt;Info&gt;(info1,headers);\n        ResponseEntity&lt;Info&gt; info = restTemplate.postForEntity(url, HReq, Info.class);\n        System.out.print(\"id : \"+info.getBody());\n</code></pre>\n\n<p><strong>and this is request object</strong></p>\n\n<pre><code>public class Info {\n\n    public String Id;\n    public String Name;\n\n    public String getName() {\n        return Name;\n    }\n\n    public String getId() {\n        return Id;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","performance","variables","final"],"comments":[{"owner":{"account_id":182557,"reputation":608,"user_id":417345,"accept_rate":100,"display_name":"nolegs"},"score":1,"creation_date":1347463769,"post_id":12391455,"comment_id":16648917,"body_markdown":"See here: http://stackoverflow.com/questions/4279420/does-use-of-final-keyword-in-java-improve-the-performance","body":"See here: <a href=\"http://stackoverflow.com/questions/4279420/does-use-of-final-keyword-in-java-improve-the-performance\" title=\"does use of final keyword in java improve the performance\">stackoverflow.com/questions/4279420/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694699976,"creation_date":1347463627,"answer_id":12391587,"question_id":12391455,"body_markdown":"Java does have constant expressions. See [here][1] (link outdated, archived at [archive.org][2]) in the java language specification.\r\n\r\n    \r\n\r\n&gt; A compile-time constant expression is an expression denoting a value of primitive type or a `String` that does not complete abruptly and is composed using only the following:\r\n&gt; * Literals of primitive type and literals of type `String` (&#167;3.10.5)\r\n&gt; * Casts to primitive types and casts to type String\r\n&gt; * The unary operators `+`, `-`, `~`, and `!` (but not `++` or `--`)\r\n&gt; * The multiplicative operators `*`, `/`, and `%`\r\n&gt; * The additive operators `+` and `-`\r\n&gt; * The shift operators `&lt;&lt;`, `&gt;&gt;`, and `&gt;&gt;&gt;`\r\n&gt; * The relational operators `&lt;`, `&lt;=`, `&gt;`, and `&gt;=` (but not `instanceof`)\r\n&gt; * The equality operators `==` and `!=`\r\n&gt; * The bitwise and logical operators `&amp;`, `^`, and `|`\r\n&gt; * The conditional-and operator `&amp;&amp;` and the conditional-or operator `||`\r\n&gt; * The ternary conditional operator `? :`\r\n&gt; * Parenthesized expressions whose contained expression is a constant expression.\r\n&gt; * Simple names that refer to constant variables (&#167;4.12.4).\r\n&gt; * Qualified names of the form `TypeName` `.` `Identifier` that refer to constant variables (&#167;4.12.4).\r\n\r\nBut in Java, unlike C/C++, you also have a JIT compiler, so additional inlining is possible. So the bottom line is, don&#39;t worry about until you see a real performance problem.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\r\n  [2]: https://web.archive.org/web/20140305143835/http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Java does have constant expressions. See <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\" rel=\"nofollow noreferrer\">here</a> (link outdated, archived at <a href=\"https://web.archive.org/web/20140305143835/http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\" rel=\"nofollow noreferrer\">archive.org</a>) in the java language specification.</p>\n<blockquote>\n<p>A compile-time constant expression is an expression denoting a value of primitive type or a <code>String</code> that does not complete abruptly and is composed using only the following:</p>\n<ul>\n<li>Literals of primitive type and literals of type <code>String</code> (§3.10.5)</li>\n<li>Casts to primitive types and casts to type String</li>\n<li>The unary operators <code>+</code>, <code>-</code>, <code>~</code>, and <code>!</code> (but not <code>++</code> or <code>--</code>)</li>\n<li>The multiplicative operators <code>*</code>, <code>/</code>, and <code>%</code></li>\n<li>The additive operators <code>+</code> and <code>-</code></li>\n<li>The shift operators <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, and <code>&gt;&gt;&gt;</code></li>\n<li>The relational operators <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, and <code>&gt;=</code> (but not <code>instanceof</code>)</li>\n<li>The equality operators <code>==</code> and <code>!=</code></li>\n<li>The bitwise and logical operators <code>&amp;</code>, <code>^</code>, and <code>|</code></li>\n<li>The conditional-and operator <code>&amp;&amp;</code> and the conditional-or operator <code>||</code></li>\n<li>The ternary conditional operator <code>? :</code></li>\n<li>Parenthesized expressions whose contained expression is a constant expression.</li>\n<li>Simple names that refer to constant variables (§4.12.4).</li>\n<li>Qualified names of the form <code>TypeName</code> <code>.</code> <code>Identifier</code> that refer to constant variables (§4.12.4).</li>\n</ul>\n</blockquote>\n<p>But in Java, unlike C/C++, you also have a JIT compiler, so additional inlining is possible. So the bottom line is, don't worry about until you see a real performance problem.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347464243,"creation_date":1347464243,"answer_id":12391784,"question_id":12391455,"body_markdown":"Java does have constants that the Java compiler will replace with their values at compile-time. For example, member variables that are `final` and that are of type `String` are effectively constants which are replaced in this way. (This is allowed because class `String` is immutable). One of the consequences of this is that if you change the string in your source code, but you don&#39;t recompile the classes where this string is used, those classes will not see the new value of the string.\r\n\r\nThe JLS explains this in the following paragraphs:\r\n\r\n[4.12.4 `final` variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4)\r\n\r\n[13.4.9 `final` Fields and Constants](http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.9)\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Java does have constants that the Java compiler will replace with their values at compile-time. For example, member variables that are <code>final</code> and that are of type <code>String</code> are effectively constants which are replaced in this way. (This is allowed because class <code>String</code> is immutable). One of the consequences of this is that if you change the string in your source code, but you don't recompile the classes where this string is used, those classes will not see the new value of the string.</p>\n\n<p>The JLS explains this in the following paragraphs:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4 <code>final</code> variables</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.9\" rel=\"nofollow noreferrer\">13.4.9 <code>final</code> Fields and Constants</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347464337,"creation_date":1347464337,"answer_id":12391807,"question_id":12391455,"body_markdown":"Final fields are aimed to make *immutable* objects.\r\n\r\nStatic final fields are your kind of *constants*.\r\n\r\nCompiler optimisation, data flow analysis, happens to some degree. Try javap to see the jvm byte codes - if your are interested that far.\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Final fields are aimed to make <em>immutable</em> objects.</p>\n\n<p>Static final fields are your kind of <em>constants</em>.</p>\n\n<p>Compiler optimisation, data flow analysis, happens to some degree. Try javap to see the jvm byte codes - if your are interested that far.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347464398,"creation_date":1347464398,"answer_id":12391819,"question_id":12391455,"body_markdown":"&gt; does the final declaration provide any benefit to efficiency? \r\n\r\nNot really. This is because the JIT can often determine that the value is not changed at runtime and can treat it as final. (Which is a problem if the value is not volatile and is changed in another thread)\r\n\r\nIn Java 8, you can use local variables in closures if they could be made final, rather than having to declare them as final.\r\n\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<blockquote>\n  <p>does the final declaration provide any benefit to efficiency? </p>\n</blockquote>\n\n<p>Not really. This is because the JIT can often determine that the value is not changed at runtime and can treat it as final. (Which is a problem if the value is not volatile and is changed in another thread)</p>\n\n<p>In Java 8, you can use local variables in closures if they could be made final, rather than having to declare them as final.</p>\n"}],"owner":{"display_name":"user1086498"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12391587,"answer_count":4,"score":4,"last_activity_date":1694699976,"creation_date":1347463167,"question_id":12391455,"body_markdown":"This is more of a theory question than a solution question, so hear me out.\r\n\r\nIn C/C++ as well as PHP, you can declare constants. There are usually a couple of ways to do this (`#DEFINE` for example, or &#39;`const type`&#39;...) and the ultimate effect of this is that during compilation a replace is done so that all of those named constants become literals. This helps because instead of having to access a memory location to find the data, the data is hardcoded in, but without the downside of hardcoding - recalling the value if it needs to be reused, and changing all of the instances of that value when it needs to be changed.\r\n\r\nBut Java&#39;s `final` declaration is slightly inscrutable; because I can create a class with unset final vars and initialize them on construction, it means that they are not precompiled as literals as far as I can tell. Other than guaranteeing that they cannot logically change afte construction, does the `final` declaration provide any benefit to efficiency? \r\n\r\nReferences to articles are fine, as long as you make note of the part which explains what `final` really does and what are if any its benefits other than stopping value changes after construction.\r\n\r\nAs a corollary, is it possible to actually declare compilation-level constants in Java in any other way than simply using literals (a bad idea anyway?)","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>This is more of a theory question than a solution question, so hear me out.</p>\n\n<p>In C/C++ as well as PHP, you can declare constants. There are usually a couple of ways to do this (<code>#DEFINE</code> for example, or '<code>const type</code>'...) and the ultimate effect of this is that during compilation a replace is done so that all of those named constants become literals. This helps because instead of having to access a memory location to find the data, the data is hardcoded in, but without the downside of hardcoding - recalling the value if it needs to be reused, and changing all of the instances of that value when it needs to be changed.</p>\n\n<p>But Java's <code>final</code> declaration is slightly inscrutable; because I can create a class with unset final vars and initialize them on construction, it means that they are not precompiled as literals as far as I can tell. Other than guaranteeing that they cannot logically change afte construction, does the <code>final</code> declaration provide any benefit to efficiency? </p>\n\n<p>References to articles are fine, as long as you make note of the part which explains what <code>final</code> really does and what are if any its benefits other than stopping value changes after construction.</p>\n\n<p>As a corollary, is it possible to actually declare compilation-level constants in Java in any other way than simply using literals (a bad idea anyway?)</p>\n"},{"tags":["java","maven","maven-reactor"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694691751,"post_id":77104479,"comment_id":135926194,"body_markdown":"What is meant by: `without the module itself`? What is `aggregator.xml` ? Can you show that? The usual way in Maven 3 is to do a full `mvn install` and afterwards you can use `mvn -pl XX package` ... \nThe question is why running first `clean install` and afterwars `clean deploy`? It might be a good idea to test Maven 4.0.0-alpha-7 it has a number of improvements in particular related to reactor handling...","body":"What is meant by: <code>without the module itself</code>? What is <code>aggregator.xml</code> ? Can you show that? The usual way in Maven 3 is to do a full <code>mvn install</code> and afterwards you can use <code>mvn -pl XX package</code> ...  The question is why running first <code>clean install</code> and afterwars <code>clean deploy</code>? It might be a good idea to test Maven 4.0.0-alpha-7 it has a number of improvements in particular related to reactor handling..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694691994,"post_id":77104479,"comment_id":135926236,"body_markdown":"BTW: Why other things bound to deploy phase??","body":"BTW: Why other things bound to deploy phase??"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694692272,"post_id":77104479,"comment_id":135926292,"body_markdown":"@khmarbaise I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive).","body":"@khmarbaise I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive)."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694692346,"post_id":77104479,"comment_id":135926306,"body_markdown":"@khmarbaise Why other things bound to deploy phase? E.g. Maven assemply plugin copying artifacts somewhere, custom plugins uploading to custom update servers etc.","body":"@khmarbaise Why other things bound to deploy phase? E.g. Maven assemply plugin copying artifacts somewhere, custom plugins uploading to custom update servers etc."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694713865,"post_id":77104479,"comment_id":135931120,"body_markdown":"If you have maven-assembly-plugin bound to deploy phase sounds wrong... better put it either to prepare-package or package phase but not to deploy... Uploading to &quot;custom servers&quot; sounds like the wrong way because Maven is not a deploy tool... it&#39;s a build tool...","body":"If you have maven-assembly-plugin bound to deploy phase sounds wrong... better put it either to prepare-package or package phase but not to deploy... Uploading to &quot;custom servers&quot; sounds like the wrong way because Maven is not a deploy tool... it&#39;s a build tool..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694714142,"post_id":77104479,"comment_id":135931173,"body_markdown":"This part: `I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive).` I don&#39;t understand? Why running first `install` and then `deploy`? Why not simply run `deploy`... etc. A full working example of your setup would be helpful otherwise it&#39;s not clear what you exactly doing and what the real problems are...","body":"This part: <code>I added an example aggregator pom. Full install followed by -pl X package&#47;deploy builds X twice (which I need to avoid, too expensive).</code> I don&#39;t understand? Why running first <code>install</code> and then <code>deploy</code>? Why not simply run <code>deploy</code>... etc. A full working example of your setup would be helpful otherwise it&#39;s not clear what you exactly doing and what the real problems are..."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694757988,"post_id":77104479,"comment_id":135935777,"body_markdown":"Sorry, maven-ant-run to copy stuff somewhere (not maven-assembly-plugin).","body":"Sorry, maven-ant-run to copy stuff somewhere (not maven-assembly-plugin)."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694758353,"post_id":77104479,"comment_id":135935822,"body_markdown":"I want to build the dependencies only locally on the build machine (up to install phase), and deploy only the final module. The final module has a custom deploy plugin. If the package phase of the final module wasn&#39;t so expensive, I would just first do `mvn install -pl my-module-id -am` followed by `mvn deploy -pl my-module-id` (thereby effectively packaging and installing the final module 2x)","body":"I want to build the dependencies only locally on the build machine (up to install phase), and deploy only the final module. The final module has a custom deploy plugin. If the package phase of the final module wasn&#39;t so expensive, I would just first do <code>mvn install -pl my-module-id -am</code> followed by <code>mvn deploy -pl my-module-id</code> (thereby effectively packaging and installing the final module 2x)"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694699463,"creation_date":1694699463,"answer_id":77105581,"question_id":77104479,"body_markdown":"In case you never want to actually `deploy` those other modules (just `install` them to use them in the build), it would make more sense to set \r\n\r\n`&lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;`\r\n\r\nin the modules that should not be deployed. Then you can safely call \r\n\r\n`mvn deploy --also-make --projects :my-module-id`\r\n\r\nwithout deploying stuff you do not need later.","title":"Maven reactor: Is it possible to build only the dependencies of a specific module, but not the module itself?","body":"<p>In case you never want to actually <code>deploy</code> those other modules (just <code>install</code> them to use them in the build), it would make more sense to set</p>\n<p><code>&lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;</code></p>\n<p>in the modules that should not be deployed. Then you can safely call</p>\n<p><code>mvn deploy --also-make --projects :my-module-id</code></p>\n<p>without deploying stuff you do not need later.</p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694699463,"creation_date":1694691165,"question_id":77104479,"body_markdown":"I would like to `install` all the dependencies of a given module (without the module itself), followed by a `deploy` of just the module.\r\n\r\n    mvn --file aggregator.xml clean install --also-make --projects :my-module-id\r\n    mvn --file aggregator.xml clean deploy --projects :my-module-id\r\n\r\nNote 1: I cannot call just the `deploy:deploy`-goal on the module, because sometimes other goals are bound to the `deploy`-phase.\r\n\r\nNote 2: I also need to avoid packaging `:my-module-id` twice, because it takes a long time.\r\n\r\n[Maven command line options help][1]\r\n\r\nExample aggregator.xml (reactor pom):\r\n\r\n    &lt;project&gt;\r\n      &lt;name&gt;aggregator&lt;/name&gt;\r\n      \r\n      &lt;modules&gt;\r\n        &lt;module&gt;common-module-id&lt;/module&gt;\r\n        &lt;module&gt;my-module-id&lt;/module&gt;\r\n      &lt;/module&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://maven.apache.org/ref/3.6.1/maven-embedder/cli.html","title":"Maven reactor: Is it possible to build only the dependencies of a specific module, but not the module itself?","body":"<p>I would like to <code>install</code> all the dependencies of a given module (without the module itself), followed by a <code>deploy</code> of just the module.</p>\n<pre><code>mvn --file aggregator.xml clean install --also-make --projects :my-module-id\nmvn --file aggregator.xml clean deploy --projects :my-module-id\n</code></pre>\n<p>Note 1: I cannot call just the <code>deploy:deploy</code>-goal on the module, because sometimes other goals are bound to the <code>deploy</code>-phase.</p>\n<p>Note 2: I also need to avoid packaging <code>:my-module-id</code> twice, because it takes a long time.</p>\n<p><a href=\"https://maven.apache.org/ref/3.6.1/maven-embedder/cli.html\" rel=\"nofollow noreferrer\">Maven command line options help</a></p>\n<p>Example aggregator.xml (reactor pom):</p>\n<pre><code>&lt;project&gt;\n  &lt;name&gt;aggregator&lt;/name&gt;\n  \n  &lt;modules&gt;\n    &lt;module&gt;common-module-id&lt;/module&gt;\n    &lt;module&gt;my-module-id&lt;/module&gt;\n  &lt;/module&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["python","java","iis"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694697915,"post_id":77105201,"comment_id":135927675,"body_markdown":"Please, provide a [MCVE].","body":"Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":16493202,"reputation":13,"user_id":11916417,"display_name":"harsha10"},"score":0,"creation_date":1694698840,"post_id":77105201,"comment_id":135927884,"body_markdown":"Yes, let me provide more details","body":"Yes, let me provide more details"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1694703098,"post_id":77105201,"comment_id":135928945,"body_markdown":"This is the typical (bad) pattern that makes your web app slow to respond, and 502 errors are the expected result. However, the solution differs and must be found after thorough review of your web app (Java and Python) by a professional. You should hire an experienced consultant.","body":"This is the typical (bad) pattern that makes your web app slow to respond, and 502 errors are the expected result. However, the solution differs and must be found after thorough review of your web app (Java and Python) by a professional. You should hire an experienced consultant."},{"owner":{"account_id":25983126,"reputation":1843,"user_id":19696445,"display_name":"YurongDai"},"score":0,"creation_date":1694744635,"post_id":77105201,"comment_id":135934730,"body_markdown":"If your Python script takes too long to execute and the connection between Tomcat/IIS and the Python process times out, you may get a 502 error. You can try increasing the timeout settings in Tomcat or IIS and see if that resolves the issue.","body":"If your Python script takes too long to execute and the connection between Tomcat/IIS and the Python process times out, you may get a 502 error. You can try increasing the timeout settings in Tomcat or IIS and see if that resolves the issue."},{"owner":{"account_id":25983126,"reputation":1843,"user_id":19696445,"display_name":"YurongDai"},"score":0,"creation_date":1696842590,"post_id":77105201,"comment_id":136199950,"body_markdown":"You may want to check the IIS logs for any error messages or other useful information that may help understand what is causing the 502 error.","body":"You may want to check the IIS logs for any error messages or other useful information that may help understand what is causing the 502 error."}],"owner":{"account_id":16493202,"reputation":13,"user_id":11916417,"display_name":"harsha10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694699275,"creation_date":1694696914,"question_id":77105201,"body_markdown":"When trying to execute a python script from java side servlet, I am facing 502 error in some cases.\r\nThe script stops in the middle of execution and 502 error is returned\r\nOur application is running in tomcat and IIS. Is there any config in IIS that can fix this issue\r\n\r\nBelow is the code used to run the python script.\r\n\r\n    String[] commandToRunPythonScript = { &quot;py&quot;,&quot;-3&quot;,pyhtonScriptFilePathString,orgName};\r\n    Process process = Runtime.getRuntime().exec(commandToRunPythonScript);\r\n    process.waitFor();\r\n    BufferedReader inputStream = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n\r\nNote: The script works fine when it is executed from command prompt. Also it works fine in few cases when running from java side","title":"502 Error when executing python script from java servlet","body":"<p>When trying to execute a python script from java side servlet, I am facing 502 error in some cases.\nThe script stops in the middle of execution and 502 error is returned\nOur application is running in tomcat and IIS. Is there any config in IIS that can fix this issue</p>\n<p>Below is the code used to run the python script.</p>\n<pre><code>String[] commandToRunPythonScript = { &quot;py&quot;,&quot;-3&quot;,pyhtonScriptFilePathString,orgName};\nProcess process = Runtime.getRuntime().exec(commandToRunPythonScript);\nprocess.waitFor();\nBufferedReader inputStream = new BufferedReader(new InputStreamReader(process.getInputStream()));\n</code></pre>\n<p>Note: The script works fine when it is executed from command prompt. Also it works fine in few cases when running from java side</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1597873077,"post_id":63495186,"comment_id":112278599,"body_markdown":"what group did you set for jaxb-runtime? can you share your pom?","body":"what group did you set for jaxb-runtime? can you share your pom?"},{"owner":{"account_id":1099742,"reputation":157,"user_id":1092440,"display_name":"Obi-Wan-Clemobi"},"score":0,"creation_date":1597886615,"post_id":63495186,"comment_id":112281514,"body_markdown":"I&#39;m using the one from org.glassfish.jaxb. Unfortunately I am not able share my pom file. I&#39;m just not sure why it would look for its dependencies within the org.glassfish.jaxb group vs referencing the proper namespace. Thanks.","body":"I&#39;m using the one from org.glassfish.jaxb. Unfortunately I am not able share my pom file. I&#39;m just not sure why it would look for its dependencies within the org.glassfish.jaxb group vs referencing the proper namespace. Thanks."},{"owner":{"account_id":11763037,"reputation":183,"user_id":8608529,"display_name":"Matthieu.V"},"score":0,"creation_date":1694698434,"post_id":63495186,"comment_id":135927793,"body_markdown":"I am experiencing the same problem right now, had you finally found a solution?","body":"I am experiencing the same problem right now, had you finally found a solution?"}],"answers":[{"tags":[],"owner":{"account_id":11763037,"reputation":183,"user_id":8608529,"display_name":"Matthieu.V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694699273,"creation_date":1694699273,"answer_id":77105549,"question_id":63495186,"body_markdown":"I just ran into the exact same issue.\r\n\r\nTo solve it, the only solution I found was to explicitly add the dependency to glassfish.jaxb.runtime in my project.\r\n\r\n*In IntelliJ:*\r\n\r\n*Right click on project-&gt;Open Module Settings*\r\n\r\n*Libraries*\r\n\r\n*&#39;+&#39;-&gt;From Maven*\r\n\r\n*Type jaxb-runtime then choose the version for which the dependency is being required (here 2.3.1).*\r\n\r\n*Apply and you should be good.*","title":"Maven is looking for dependencies in all the wrong place (for certain things)","body":"<p>I just ran into the exact same issue.</p>\n<p>To solve it, the only solution I found was to explicitly add the dependency to glassfish.jaxb.runtime in my project.</p>\n<p><em>In IntelliJ:</em></p>\n<p><em>Right click on project-&gt;Open Module Settings</em></p>\n<p><em>Libraries</em></p>\n<p><em>'+'-&gt;From Maven</em></p>\n<p><em>Type jaxb-runtime then choose the version for which the dependency is being required (here 2.3.1).</em></p>\n<p><em>Apply and you should be good.</em></p>\n"}],"owner":{"account_id":1099742,"reputation":157,"user_id":1092440,"display_name":"Obi-Wan-Clemobi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77105549,"answer_count":1,"score":3,"last_activity_date":1694699273,"creation_date":1597872154,"question_id":63495186,"body_markdown":"I am in the process of converting an existing ANT project to Maven.\r\nI managed to resolve most of the jars, but I am having some difficulties with the following.\r\n\r\nI am trying to understand why Maven would look for transitive dependencies for these libraries in the same namespace as the artifact that depends on it.\r\n\r\nHere&#39;s a sample of the error when I run the application inside of IntelliJ.\r\n    \r\n\r\n&gt; [19 Aug 2020 16:08:12,619] [main] [StandardJarScanner] WARN Failed to\r\n&gt; scan [file:\r\n&gt; .m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar]\r\n&gt; from classloader hierarchy -\r\n&gt; org.eclipse.jetty.apache.jsp.JuliLog.warn(JuliLog.java:146)\r\n&gt; java.io.FileNotFoundException:\r\n&gt; .m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar\r\n&gt; (No such file or directory)\r\n\r\nIn fact, [jaxb-runtime 2.3.1][1] does depend on the libraries reported below; but I&#39;m not sure why it would look for FastInfoset inside of `org/glassfish/jaxb/jaxb-runtime/2.3.1`. I&#39;m having the same issue with `mail-1.4.jar`. No other dependencies are giving me this issue. Any help would be greatly appreciated. Thanks!\r\n\r\n- javax.mail.mail.1.4\r\n\t- activation.jar\r\n- org.glassfish.jaxb.jaxb-runtime.2.3.1\r\n\t- jaxb-api-2.3.1.jar\r\n\t- txw2-2.3.1.jar\r\n\t- istack-commons-runtime-3.0.7.jar\r\n\t- stax-ex-1.8.jar\r\n\t- FastInfoset-1.2.15.jar\r\n\t- javax-activation-api-1.2.0.jar\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.1","title":"Maven is looking for dependencies in all the wrong place (for certain things)","body":"<p>I am in the process of converting an existing ANT project to Maven.\nI managed to resolve most of the jars, but I am having some difficulties with the following.</p>\n<p>I am trying to understand why Maven would look for transitive dependencies for these libraries in the same namespace as the artifact that depends on it.</p>\n<p>Here's a sample of the error when I run the application inside of IntelliJ.</p>\n<blockquote>\n<p>[19 Aug 2020 16:08:12,619] [main] [StandardJarScanner] WARN Failed to\nscan [file:\n.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar]\nfrom classloader hierarchy -\norg.eclipse.jetty.apache.jsp.JuliLog.warn(JuliLog.java:146)\njava.io.FileNotFoundException:\n.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar\n(No such file or directory)</p>\n</blockquote>\n<p>In fact, <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.1\" rel=\"nofollow noreferrer\">jaxb-runtime 2.3.1</a> does depend on the libraries reported below; but I'm not sure why it would look for FastInfoset inside of <code>org/glassfish/jaxb/jaxb-runtime/2.3.1</code>. I'm having the same issue with <code>mail-1.4.jar</code>. No other dependencies are giving me this issue. Any help would be greatly appreciated. Thanks!</p>\n<ul>\n<li>javax.mail.mail.1.4\n<ul>\n<li>activation.jar</li>\n</ul>\n</li>\n<li>org.glassfish.jaxb.jaxb-runtime.2.3.1\n<ul>\n<li>jaxb-api-2.3.1.jar</li>\n<li>txw2-2.3.1.jar</li>\n<li>istack-commons-runtime-3.0.7.jar</li>\n<li>stax-ex-1.8.jar</li>\n<li>FastInfoset-1.2.15.jar</li>\n<li>javax-activation-api-1.2.0.jar</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6100306,"reputation":111,"user_id":4759550,"display_name":"Dawid D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472120214,"creation_date":1472120214,"answer_id":39142565,"question_id":39142490,"body_markdown":"Directory under which resides your java files is not source code directory. \r\n\r\nYou can mark directory in Intellij.\r\n\r\nIt is described here https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\r\n\r\nYou can also right click on directory and use mark directory as. \r\n\r\nIf You using maven project, You should follow maven pattern of directories \r\n\r\nhttps://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Why IntelliJ marked my class as J?","body":"<p>Directory under which resides your java files is not source code directory. </p>\n\n<p>You can mark directory in Intellij.</p>\n\n<p>It is described here <a href=\"https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\" rel=\"nofollow\">https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html</a></p>\n\n<p>You can also right click on directory and use mark directory as. </p>\n\n<p>If You using maven project, You should follow maven pattern of directories </p>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472121503,"creation_date":1472120510,"answer_id":39142677,"question_id":39142490,"body_markdown":"Files marked with [![enter image description here][1]][1] are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.\r\n\r\nFiles marked with [![enter image description here][2]][2] are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.\r\n\r\nGenerally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.\r\n\r\nFor a complete description of each icon you can see the following links:\r\n\r\n - [Symbols][3] - Here you can find the [![enter image description here][1]][1] icon\r\n - [File Types][4] - Here you can find the [![enter image description here][2]][2] icon\r\n\r\n\r\nIf a file is not under a directory tree marked as source root it is only a file. \r\n\r\nInstead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command `Find Usages ALT+F7`, because is part of the source.\r\n\r\n----\r\n\r\nAdditional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is [![enter image description here][2]][2] also if present in a tree marked as source tree, because IntelliJ can&#39;t understand if it is a class, an enum, an interface or something different.\r\n\r\nSo check the content of the files marked as [![enter image description here][2]][2]. It is possible that for example the declaration of the class is wrong written.\r\n\r\nFor example a file MyClass.java with this content\r\n\r\n    public clas MyClass {\r\n    }\r\n\r\nhas the icon [![enter image description here][2]][2] because the declaration of the class is wrong.\r\n\r\nCorrecting to the following change also the icon to [![enter image description here][1]][1]\r\n\r\n    // Added an s to class\r\n    public class MyClass {\r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PJnyj.png\r\n  [2]: http://i.stack.imgur.com/8rQRG.png\r\n  [3]: https://www.jetbrains.com/help/idea/2016.2/symbols.html\r\n  [4]: https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html","title":"Why IntelliJ marked my class as J?","body":"<p>Files marked with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.</p>\n\n<p>Files marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.</p>\n\n<p>Generally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.</p>\n\n<p>For a complete description of each icon you can see the following links:</p>\n\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/symbols.html\" rel=\"nofollow noreferrer\">Symbols</a> - Here you can find the <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> icon</li>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html\" rel=\"nofollow noreferrer\">File Types</a> - Here you can find the <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> icon</li>\n</ul>\n\n<p>If a file is not under a directory tree marked as source root it is only a file. </p>\n\n<p>Instead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command <code>Find Usages ALT+F7</code>, because is part of the source.</p>\n\n<hr>\n\n<p>Additional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> also if present in a tree marked as source tree, because IntelliJ can't understand if it is a class, an enum, an interface or something different.</p>\n\n<p>So check the content of the files marked as <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a>. It is possible that for example the declaration of the class is wrong written.</p>\n\n<p>For example a file MyClass.java with this content</p>\n\n<pre><code>public clas MyClass {\n}\n</code></pre>\n\n<p>has the icon <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> because the declaration of the class is wrong.</p>\n\n<p>Correcting to the following change also the icon to <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>// Added an s to class\npublic class MyClass {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698870,"creation_date":1694698870,"answer_id":77105487,"question_id":39142490,"body_markdown":"Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.","title":"Why IntelliJ marked my class as J?","body":"<p>Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.</p>\n"}],"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694698870,"creation_date":1472120019,"question_id":39142490,"body_markdown":"Can someone explain to me why IntelliJ decided to mark some of my classes with  [![enter image description here][1]][1] symbol?\r\n\r\nI have multiple classes in the same package and some are marked with [![enter image description here][1]][1] whereas others with [![enter image description here][2]][2].\r\n\r\nI wouldn&#39;t not mind if [![enter image description here][1]][1] didn&#39;t cause the class to lose colouring and more importantly shortcuts stopped working(!), for example `Find usages ALT+F7`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n*.iml configuration file:\r\n\r\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java&quot; isTestSource=&quot;false&quot; /&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/test/java&quot; isTestSource=&quot;true&quot; /&gt;\r\n      &lt;excludeFolder url=&quot;file://$MODULE_DIR$/target&quot; /&gt;\r\n    &lt;/content&gt;\r\nNote this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.\r\n\r\n  [1]: http://i.stack.imgur.com/8rQRG.png\r\n  [2]: http://i.stack.imgur.com/PJnyj.png\r\n  [3]: http://i.stack.imgur.com/PDpGG.png","title":"Why IntelliJ marked my class as J?","body":"<p>Can someone explain to me why IntelliJ decided to mark some of my classes with  <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> symbol?</p>\n\n<p>I have multiple classes in the same package and some are marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> whereas others with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a>.</p>\n\n<p>I wouldn't not mind if <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> didn't cause the class to lose colouring and more importantly shortcuts stopped working(!), for example <code>Find usages ALT+F7</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PDpGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PDpGG.png\" alt=\"enter image description here\"></a></p>\n\n<p>*.iml configuration file:</p>\n\n<pre><code>&lt;content url=\"file://$MODULE_DIR$\"&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/main/java\" isTestSource=\"false\" /&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/test/java\" isTestSource=\"true\" /&gt;\n  &lt;excludeFolder url=\"file://$MODULE_DIR$/target\" /&gt;\n&lt;/content&gt;\n</code></pre>\n\n<p>Note this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.</p>\n"},{"tags":["java","java-14","java-record"],"answers":[{"tags":[],"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616091949,"creation_date":1597129328,"answer_id":63353084,"question_id":63352151,"body_markdown":"Note: I might not be so correct as this is about future motivations in Java or the intent of the community about **value types**. The answer is based on my personal knowledge and the information available openly on the internet.\r\n\r\n\r\nWe all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember [this article][1] on the OpenJDK website which briefly describes the idea of `value types` in Java. One thing to notice here is that it is written/updated in April 2014 while the `record` first came out in Java 14 in March 2020.\r\n\r\nBut in the above article itself, they did give the example of `record` while explaining the value types. Most of its description does match to the current `record` as well. \r\n\r\n&gt; The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)\r\n\r\nAnd with no surprise, Brian Goetz was also a co-author of this article.\r\n\r\nBut there are other places in the universe where the `record` is also represented as `data classes`. See [this article][2], it&#39;s also written/updated by Brain. The interesting part [is here][3].\r\n\r\n\r\n&gt; Values Victor will say &quot;a data class is really just a more transparent value type.&quot;\r\n\r\nNow, considering all these steps together, it does look like `record` is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.\r\n\r\nAs Brain mentioned in the comments:- \r\n\r\n&gt; A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.\r\n\r\n\r\nComing to your concern about performance increase, here is [an article][4] that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link. \r\n\r\n\r\nAs far as I know, the stack is significantly faster than that of the heap. So due to the fact that `record` is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the `int`, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I&#39;ll be more than happy to see if anyone corrects me or supports me on this.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~jrose/values/values-0.html\r\n  [2]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html\r\n  [3]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html#meet-the-elephant\r\n  [4]: https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/","title":"Are Java records intended to eventually become value types?","body":"<p>Note: I might not be so correct as this is about future motivations in Java or the intent of the community about <strong>value types</strong>. The answer is based on my personal knowledge and the information available openly on the internet.</p>\n<p>We all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember <a href=\"http://cr.openjdk.java.net/%7Ejrose/values/values-0.html\" rel=\"nofollow noreferrer\">this article</a> on the OpenJDK website which briefly describes the idea of <code>value types</code> in Java. One thing to notice here is that it is written/updated in April 2014 while the <code>record</code> first came out in Java 14 in March 2020.</p>\n<p>But in the above article itself, they did give the example of <code>record</code> while explaining the value types. Most of its description does match to the current <code>record</code> as well.</p>\n<blockquote>\n<p>The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)</p>\n</blockquote>\n<p>And with no surprise, Brian Goetz was also a co-author of this article.</p>\n<p>But there are other places in the universe where the <code>record</code> is also represented as <code>data classes</code>. See <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html\" rel=\"nofollow noreferrer\">this article</a>, it's also written/updated by Brain. The interesting part <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#meet-the-elephant\" rel=\"nofollow noreferrer\">is here</a>.</p>\n<blockquote>\n<p>Values Victor will say &quot;a data class is really just a more transparent value type.&quot;</p>\n</blockquote>\n<p>Now, considering all these steps together, it does look like <code>record</code> is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.</p>\n<p>As Brain mentioned in the comments:-</p>\n<blockquote>\n<p>A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.</p>\n</blockquote>\n<p>Coming to your concern about performance increase, here is <a href=\"https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/\" rel=\"nofollow noreferrer\">an article</a> that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link.</p>\n<p>As far as I know, the stack is significantly faster than that of the heap. So due to the fact that <code>record</code> is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the <code>int</code>, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I'll be more than happy to see if anyone corrects me or supports me on this.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1694698808,"creation_date":1597174521,"answer_id":63365195,"question_id":63352151,"body_markdown":"Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.  \r\n\r\nBoth of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like `enum`, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in `switch`, etc.)\r\n\r\nA `record` requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, `equals`, `hashCode`, and more.  \r\n\r\nA `value class` requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based `equals` and `hashCode`.  \r\n\r\nIf you are willing to make both compromises, you can get _both_ sets of benefits -- this would be a `value record`.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.\r\n\r\nBut, we don&#39;t want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.  ","title":"Are Java records intended to eventually become value types?","body":"<p>Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.</p>\n<p>Both of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like <code>enum</code>, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in <code>switch</code>, etc.)</p>\n<p>A <code>record</code> requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, <code>equals</code>, <code>hashCode</code>, and more.</p>\n<p>A <code>value class</code> requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based <code>equals</code> and <code>hashCode</code>.</p>\n<p>If you are willing to make both compromises, you can get <em>both</em> sets of benefits -- this would be a <code>value record</code>.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.</p>\n<p>But, we don't want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663975285,"creation_date":1616029099,"answer_id":66683361,"question_id":63352151,"body_markdown":"**Disclaimer:** This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.\r\n\r\nThere are two interesting documents about data classes aka records vs value types:\r\nThe older version from February 2018   \r\nhttp://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types   \r\nand the newer version from February 2019   \r\nhttps://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types\r\n\r\nEach document includes a paragraph about differences between records and value types.\r\nThe older version says \r\n\r\n&gt; The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.\r\n\r\nMoreover, \r\n\r\n&gt; Unlike value types, data classes are well suited to representing tree and graph nodes.\r\n\r\nHowever,\r\n\r\n&gt; But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types\r\n\r\n**Let&#39;s clarify that:**\r\n\r\nYou won&#39;t be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures. \r\nMoreover, value types support some forms of encapsulation in opposite to records which don&#39;t at all. This means you can have additional fields in value types which you haven&#39;t defined in the class header and which are hidden to the user of the value type. Records can&#39;t do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).\r\n\r\n**Let&#39;s have some examples to illustrate all that.**\r\n\r\nE.g. you will be able to create composited logical expressions with records but not with value types:\r\n\r\n    sealed interface LogExpr { boolean eval(); } \r\n    \r\n    record Val(boolean value) implements LogExpr {}\r\n    record Not(LogExpr logExpr) implements LogExpr {}\r\n    record And(LogExpr left, LogExpr right) implements LogExpr {}\r\n    record Or(LogExpr left, LogExpr right) implements LogExpr {}\r\n\r\nThis will not work with value types because this demands the ability of self-references of the same value type.\r\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.\r\n\r\nE.g. you can also use records to define the class *Fraction*:\r\n\r\n    record Fraction(int numerator, int denominator) { \r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n        }\r\n        public double asFloatingPoint() { return ((double) numerator) / denominator; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nWhat about calculating the floating point value of that fraction?\r\nYou can add a method *asFloatingPoint()* to the record *Fraction*.\r\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\r\n(Records and value types are immutable by default).\r\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\r\nAnd you won&#39;t like to explicitly declare the floating point value as a third parameter in the class header. \r\nLuckily, value types can do that:\r\n\r\n    inline class Fraction(int numerator, int denominator) { \r\n        private final double floatingPoint;\r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n            floatingPoint = ((double) numerator) / denominator;\r\n        }\r\n        public double asFloatingPoint() { return floatingPoint; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nOf course, hidden fields can be one reason why you want to use value types.\r\nThey are only one aspect and probably a minor one though.\r\nIf you create many instances of *Fraction* and maybe store them in collections, \r\nyou will benefit a lot from the flattened memory layout.\r\nThat&#39;s definitely a more important reason to prefer value types to records.\r\n\r\nThere are some situations where you want to benefit from both records and value types.   \r\nE.g. you might want to develop a game in which you move your piece through a map.\r\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.    \r\nIf your class *Move* is a value type, then the list can use the flattened memory layout.    \r\nAnd if your class *Move* also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.   \r\nYour code can look like that:\r\n\r\n    enum Direction { LEFT, RIGHT, UP, DOWN }&#180;\r\n    record Position(int x, int y) {  } \r\n    inline record Move(int steps, Direction dir) {  }\r\n    \r\n    public Position move(Position position, List&lt;Move&gt; moves) {\r\n    \tint x = position.x();\r\n    \tint y = position.y();\r\n    \r\n    \tfor(Move move : moves) {\r\n    \t\tx = x + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; -s;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; +s;\r\n    \t\t\tcase Move(var s, UP) -&gt; 0;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; 0;\r\n    \t\t}\r\n    \t\ty = y + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; 0;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; 0;\r\n    \t\t\tcase Move(var s, UP) -&gt; -s;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; +s;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn new Position(x, y);\r\n    }\r\n\r\nOf course, there are many other ways to implement the same behavior. \r\nHowever, records and value types give you some more options for implementations which can be very useful.","title":"Are Java records intended to eventually become value types?","body":"<p><strong>Disclaimer:</strong> This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.</p>\n<p>There are two interesting documents about data classes aka records vs value types:\nThe older version from February 2018<br />\n<a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types\" rel=\"nofollow noreferrer\">http://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types</a><br />\nand the newer version from February 2019<br />\n<a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#are-records-the-same-as-value-types\" rel=\"nofollow noreferrer\">https://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types</a></p>\n<p>Each document includes a paragraph about differences between records and value types.\nThe older version says</p>\n<blockquote>\n<p>The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.</p>\n</blockquote>\n<p>Moreover,</p>\n<blockquote>\n<p>Unlike value types, data classes are well suited to representing tree and graph nodes.</p>\n</blockquote>\n<p>However,</p>\n<blockquote>\n<p>But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types</p>\n</blockquote>\n<p><strong>Let's clarify that:</strong></p>\n<p>You won't be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures.\nMoreover, value types support some forms of encapsulation in opposite to records which don't at all. This means you can have additional fields in value types which you haven't defined in the class header and which are hidden to the user of the value type. Records can't do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).</p>\n<p><strong>Let's have some examples to illustrate all that.</strong></p>\n<p>E.g. you will be able to create composited logical expressions with records but not with value types:</p>\n<pre><code>sealed interface LogExpr { boolean eval(); } \n\nrecord Val(boolean value) implements LogExpr {}\nrecord Not(LogExpr logExpr) implements LogExpr {}\nrecord And(LogExpr left, LogExpr right) implements LogExpr {}\nrecord Or(LogExpr left, LogExpr right) implements LogExpr {}\n</code></pre>\n<p>This will not work with value types because this demands the ability of self-references of the same value type.\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.</p>\n<p>E.g. you can also use records to define the class <em>Fraction</em>:</p>\n<pre><code>record Fraction(int numerator, int denominator) { \n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n    }\n    public double asFloatingPoint() { return ((double) numerator) / denominator; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>What about calculating the floating point value of that fraction?\nYou can add a method <em>asFloatingPoint()</em> to the record <em>Fraction</em>.\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\n(Records and value types are immutable by default).\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\nAnd you won't like to explicitly declare the floating point value as a third parameter in the class header.\nLuckily, value types can do that:</p>\n<pre><code>inline class Fraction(int numerator, int denominator) { \n    private final double floatingPoint;\n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n        floatingPoint = ((double) numerator) / denominator;\n    }\n    public double asFloatingPoint() { return floatingPoint; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>Of course, hidden fields can be one reason why you want to use value types.\nThey are only one aspect and probably a minor one though.\nIf you create many instances of <em>Fraction</em> and maybe store them in collections,\nyou will benefit a lot from the flattened memory layout.\nThat's definitely a more important reason to prefer value types to records.</p>\n<p>There are some situations where you want to benefit from both records and value types.<br />\nE.g. you might want to develop a game in which you move your piece through a map.\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.<br />\nIf your class <em>Move</em> is a value type, then the list can use the flattened memory layout.<br />\nAnd if your class <em>Move</em> also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.<br />\nYour code can look like that:</p>\n<pre><code>enum Direction { LEFT, RIGHT, UP, DOWN }´\nrecord Position(int x, int y) {  } \ninline record Move(int steps, Direction dir) {  }\n\npublic Position move(Position position, List&lt;Move&gt; moves) {\n    int x = position.x();\n    int y = position.y();\n\n    for(Move move : moves) {\n        x = x + switch(move) {\n            case Move(var s, LEFT) -&gt; -s;\n            case Move(var s, RIGHT) -&gt; +s;\n            case Move(var s, UP) -&gt; 0;\n            case Move(var s, DOWN) -&gt; 0;\n        }\n        y = y + switch(move) {\n            case Move(var s, LEFT) -&gt; 0;\n            case Move(var s, RIGHT) -&gt; 0;\n            case Move(var s, UP) -&gt; -s;\n            case Move(var s, DOWN) -&gt; +s;\n        }\n    }\n\n    return new Position(x, y);\n}\n</code></pre>\n<p>Of course, there are many other ways to implement the same behavior.\nHowever, records and value types give you some more options for implementations which can be very useful.</p>\n"}],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9916,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":63365195,"answer_count":3,"score":72,"last_activity_date":1694698808,"creation_date":1597124646,"question_id":63352151,"body_markdown":"The `record` preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.\r\n\r\nThe description of the JEP, written by Brian Goetz (https://openjdk.java.net/jeps/384) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose *value* is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as `myPosition != yourPosition` instead of `!myPosition.equals(yourPosition)`.\r\n\r\nIt seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.\r\n\r\nSo my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?\r\n\r\nMy motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.\r\n\r\n","title":"Are Java records intended to eventually become value types?","body":"<p>The <code>record</code> preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.</p>\n<p>The description of the JEP, written by Brian Goetz (<a href=\"https://openjdk.java.net/jeps/384\" rel=\"noreferrer\">https://openjdk.java.net/jeps/384</a>) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose <em>value</em> is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as <code>myPosition != yourPosition</code> instead of <code>!myPosition.equals(yourPosition)</code>.</p>\n<p>It seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.</p>\n<p>So my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?</p>\n<p>My motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.</p>\n"},{"tags":["java","spring","csv","apache-camel","syslog"],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694698784,"creation_date":1694698784,"answer_id":77105477,"question_id":77072274,"body_markdown":"java code for converting CSV to Syslog\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.CSVParser;\r\n    import org.apache.commons.csv.CSVRecord;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(csvFile));\r\n                CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\r\n    \r\n                for (CSVRecord csvRecord : csvParser) {\r\n                    String type = csvRecord.get(&quot;Type&quot;);\r\n                    String rowID = csvRecord.get(&quot;RowID&quot;);\r\n                    String name = csvRecord.get(&quot;Name&quot;);\r\n                    \r\n                    String timestamp = LocalDateTime.now().toString();\r\n                    String hostname = &quot;DESKTOP-TVVB676&quot;;\r\n                    \r\n                    String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\r\n                            &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\r\n                            timestamp, hostname, timestamp, type, rowID, name);\r\n                    \r\n                    System.out.println(syslogEntry);\r\n                }\r\n    \r\n                csvParser.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    &lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\n","title":"How to convert csv file to syslog in Java","body":"<p>java code for converting CSV to Syslog</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.time.LocalDateTime;\n\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVParser;\nimport org.apache.commons.csv.CSVRecord;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(csvFile));\n            CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\n\n            for (CSVRecord csvRecord : csvParser) {\n                String type = csvRecord.get(&quot;Type&quot;);\n                String rowID = csvRecord.get(&quot;RowID&quot;);\n                String name = csvRecord.get(&quot;Name&quot;);\n                \n                String timestamp = LocalDateTime.now().toString();\n                String hostname = &quot;DESKTOP-TVVB676&quot;;\n                \n                String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\n                        &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\n                        timestamp, hostname, timestamp, type, rowID, name);\n                \n                System.out.println(syslogEntry);\n            }\n\n            csvParser.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n"}],"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105477,"answer_count":1,"score":0,"last_activity_date":1694698784,"creation_date":1694263151,"question_id":77072274,"body_markdown":"I need to convert csv file to syslog.\r\n\r\nCSV:(From)\r\n\r\n    &quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\r\n\r\n\r\nSyslog: To\r\n\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\nHow to do it in Java? Is there any java library available?","title":"How to convert csv file to syslog in Java","body":"<p>I need to convert csv file to syslog.</p>\n<p>CSV:(From)</p>\n<pre><code>&quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\n</code></pre>\n<p>Syslog: To</p>\n<pre><code>&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n<p>How to do it in Java? Is there any java library available?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9809,"page":183,"page_size":100}
