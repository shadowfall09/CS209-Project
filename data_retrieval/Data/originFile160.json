{"items":[{"tags":["java","jaxb","xjc","jakarta-migration"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1695225587,"post_id":77144131,"comment_id":135996977,"body_markdown":"&quot;we have a gradle script that uses xjc and is failing&quot; is not detailed enough so that anyonw knows whats going on.","body":"&quot;we have a gradle script that uses xjc and is failing&quot; is not detailed enough so that anyonw knows whats going on."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1695227745,"post_id":77144131,"comment_id":135997418,"body_markdown":"i added the code. Please re open.","body":"i added the code. Please re open."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1695231494,"post_id":77144131,"comment_id":135998136,"body_markdown":"@BalusC Can you please re open the question ?","body":"@BalusC Can you please re open the question ?"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695375118,"post_id":77144131,"comment_id":136018971,"body_markdown":"Please provide a [mre], which includes the relevant Gradle plugins and dependencies.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which includes the relevant Gradle plugins and dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695225814,"creation_date":1695225814,"answer_id":77144195,"question_id":77144131,"body_markdown":"You&#39;ll need to add the following dependencies which used to be included in the standard JRE but are now third party jars\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"XJC throws java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException after migrating JAXB from javax to jakarta","body":"<p>You'll need to add the following dependencies which used to be included in the standard JRE but are now third party jars</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695750949,"creation_date":1695225154,"question_id":77144131,"body_markdown":"What I&#39;m trying to achieve\r\n\r\n - Move Spring application (not Spring boot) from Java 8 to 17 and Tomcat 8 to 10.\r\n\r\nIssues\r\n\r\n - After following this [question][1] I have replaced javax libraries(mostly for xml binding) with jakarta but we have a gradle script that uses **xjc** and is failing with the following exception and couldn&#39;t find how to fix it.\r\n \r\n\r\n \r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\r\n```\r\nxjc(removeOldOutput:&quot;yes&quot;, target: sourcesDir, binding: ${&quot;schema&quot;}/processPaymentBindings.jaxb{ \r\n     schema(dir: schema, includes:&quot;provider/gpos/processPayment/*.xsd)\r\n    arg(value: &quot;-Xdefault-value&quot;\r\n    arg(value: &quot;-extension&quot;)\r\n    produces(dir: sourcesDir, includes: &quot;**/*.java Do&quot;)\r\n}\r\n```\r\n\r\nWe use the following JAXB dependencies for tasks on Gradle for your reference: \r\n\r\n - jaxb: jakarta activation\r\n - jaxb: xmlbind\r\n - jaxb: impl\r\n - jaxb1: impl\r\n - jaxb: xjc\r\n - jaxb2: common\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\r\n","title":"XJC throws java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException after migrating JAXB from javax to jakarta","body":"<p>What I'm trying to achieve</p>\n<ul>\n<li>Move Spring application (not Spring boot) from Java 8 to 17 and Tomcat 8 to 10.</li>\n</ul>\n<p>Issues</p>\n<ul>\n<li><p>After following this <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">question</a> I have replaced javax libraries(mostly for xml binding) with jakarta but we have a gradle script that uses <strong>xjc</strong> and is failing with the following exception and couldn't find how to fix it.</p>\n<p>java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</p>\n</li>\n</ul>\n<pre><code>xjc(removeOldOutput:&quot;yes&quot;, target: sourcesDir, binding: ${&quot;schema&quot;}/processPaymentBindings.jaxb{ \n     schema(dir: schema, includes:&quot;provider/gpos/processPayment/*.xsd)\n    arg(value: &quot;-Xdefault-value&quot;\n    arg(value: &quot;-extension&quot;)\n    produces(dir: sourcesDir, includes: &quot;**/*.java Do&quot;)\n}\n</code></pre>\n<p>We use the following JAXB dependencies for tasks on Gradle for your reference:</p>\n<ul>\n<li>jaxb: jakarta activation</li>\n<li>jaxb: xmlbind</li>\n<li>jaxb: impl</li>\n<li>jaxb1: impl</li>\n<li>jaxb: xjc</li>\n<li>jaxb2: common</li>\n</ul>\n"},{"tags":["java","windows-10","jpackage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695685627,"post_id":77176003,"comment_id":136054650,"body_markdown":"How are you replacing the classpath?  Have you tried launching the program on the command line?  Side note:  Linux files should be in $HOME/.local/share/app.  (Or more formally, $XDG_DATA_HOME/app, and if XDG_DATA_HOME is undefined or its value is not an absolute path, fall back to using $HOME/.local/share/app.)","body":"How are you replacing the classpath?  Have you tried launching the program on the command line?  Side note:  Linux files should be in $HOME/.local/share/app.  (Or more formally, $XDG_DATA_HOME/app, and if XDG_DATA_HOME is undefined or its value is not an absolute path, fall back to using $HOME/.local/share/app.)"},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1695686253,"post_id":77176003,"comment_id":136054707,"body_markdown":"@VGR package-installed applications have an Application.cfg file that&#39;s in the installation directory.  That file has a listing of all the jar files that constitute the application - e.g.: under the [Application] section, you&#39;d see lines like:\n&quot;app.classpath=$APPDIR/app.jar&quot; and the jpackage provided launcher substitutes the variable $APPDIR with the actual installation directory.  When I make a local copy of the cfg file, I modify this line to point to the updated app.jar that the application downloaded.","body":"@VGR package-installed applications have an Application.cfg file that&#39;s in the installation directory.  That file has a listing of all the jar files that constitute the application - e.g.: under the [Application] section, you&#39;d see lines like: &quot;app.classpath=$APPDIR/app.jar&quot; and the jpackage provided launcher substitutes the variable $APPDIR with the actual installation directory.  When I make a local copy of the cfg file, I modify this line to point to the updated app.jar that the application downloaded."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695686629,"post_id":77176003,"comment_id":136054739,"body_markdown":"So you’re overwriting a file in the installation tree?  I suspect the application may not have permission to do that.","body":"So you’re overwriting a file in the installation tree?  I suspect the application may not have permission to do that."},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1695687561,"post_id":77176003,"comment_id":136054809,"body_markdown":"@VGR - no, I&#39;m not overwriting a file in the installation tree.  Starting with JDK 19, you&#39;re allowed to have a local copy of the file and the jpackage launcher will look there to see if there&#39;s one to override the default installation-tree based cfg file.\n\nBut I think you may have solved the problem for me anyway - why didn&#39;t I think of trying it on the command-line as you suggest???  I get a NullPointerException in my app code when I do it from the command-line!  Still not sure why I get a &quot;Failed to launch JVM&quot;.  I will check if fixing the app bug solves the above. THANKS either way!","body":"@VGR - no, I&#39;m not overwriting a file in the installation tree.  Starting with JDK 19, you&#39;re allowed to have a local copy of the file and the jpackage launcher will look there to see if there&#39;s one to override the default installation-tree based cfg file.  But I think you may have solved the problem for me anyway - why didn&#39;t I think of trying it on the command-line as you suggest???  I get a NullPointerException in my app code when I do it from the command-line!  Still not sure why I get a &quot;Failed to launch JVM&quot;.  I will check if fixing the app bug solves the above. THANKS either way!"}],"answers":[{"tags":[],"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695750916,"creation_date":1695750916,"answer_id":77182393,"question_id":77176003,"body_markdown":"The answer to the question is &quot;no&quot;.  It turns out (thanks to @VGR for suggesting I run the app from the command-line), that my application, in its main() function caught a NullPointerException and in its catch block wrote a log message and then did a System.exit(-1) to indicate the application ended abnormally.\r\n\r\nThe message the application wrapper put up &quot;Failed to launch JVM&quot; is simply wrong and misleading.: it DID NOT fail to launch the JVM - the JVM got launched and my application ran, and simply exited with a -1 exit code.  I will try to create a simple use case and file a bug report with OpenJDK.\r\n\r\nSorry for kind of wasting people&#39;s time.","title":"Do jpackage created apps have more security constraints on Windows?","body":"<p>The answer to the question is &quot;no&quot;.  It turns out (thanks to @VGR for suggesting I run the app from the command-line), that my application, in its main() function caught a NullPointerException and in its catch block wrote a log message and then did a System.exit(-1) to indicate the application ended abnormally.</p>\n<p>The message the application wrapper put up &quot;Failed to launch JVM&quot; is simply wrong and misleading.: it DID NOT fail to launch the JVM - the JVM got launched and my application ran, and simply exited with a -1 exit code.  I will try to create a simple use case and file a bug report with OpenJDK.</p>\n<p>Sorry for kind of wasting people's time.</p>\n"}],"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695750916,"creation_date":1695680494,"question_id":77176003,"body_markdown":"I have a jpackage-created application (OpenJDK 20.0.2) I deliver to macOS, Linux, and Windows.  It works on all 3.  I added an &#39;update&#39; feature, whereby the application checks a server for an updated main jar (e.g. app.jar) and, if one exists, downloads it into a user directory (e.g. $HOME/app/updates/app.jar) and makes a copy of the app&#39;s installer App.cfg file, replacing the classpath for the app.jar with where the new one is located, and puts the updated cfg file into the appropriate place for the platform.  E.g. on Linux it puts the cfg file into $HOME/.app/, on macOS, it puts it in $HOME/Library/Application Support/app/, and on Windows 10, it puts it into $HOME/AppData/roaming/app/.\r\n\r\nOn macOS and on Linux, everything works as expected - ie the application downloads a new jar and, the next time the application is started, it uses that new jar.  But on Windows, all I get is a small dialog that says &quot;Failed to launch JVM&quot;.  If I copy the original app.jar (the one put in C:\\Program Files\\App\\app\\ to the directory where the updated app.jar was downloaded, the application starts again.  If I do the reverse (putting my update app.jar into the installation directory), I see the &quot;Failed to launch JVM&quot; dialog.  The only guess I have is that in Windows, there is some sort of fingerprinting of the jars that prevents changed ones from executing?\r\n\r\nIs that, indeed, the case?  If not, is there a way to debug this situation?  I.e. is there some additional config info or environment variable I can provide to see more detailed information on why the application failed to launch the JVM?\r\n\r\nAny help appreciated.\r\n\r\nP.S.  Note: the ability to create a local CFG file wasn&#39;t added until JDK 19.  See [this issue][1] for details.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8250950","title":"Do jpackage created apps have more security constraints on Windows?","body":"<p>I have a jpackage-created application (OpenJDK 20.0.2) I deliver to macOS, Linux, and Windows.  It works on all 3.  I added an 'update' feature, whereby the application checks a server for an updated main jar (e.g. app.jar) and, if one exists, downloads it into a user directory (e.g. $HOME/app/updates/app.jar) and makes a copy of the app's installer App.cfg file, replacing the classpath for the app.jar with where the new one is located, and puts the updated cfg file into the appropriate place for the platform.  E.g. on Linux it puts the cfg file into $HOME/.app/, on macOS, it puts it in $HOME/Library/Application Support/app/, and on Windows 10, it puts it into $HOME/AppData/roaming/app/.</p>\n<p>On macOS and on Linux, everything works as expected - ie the application downloads a new jar and, the next time the application is started, it uses that new jar.  But on Windows, all I get is a small dialog that says &quot;Failed to launch JVM&quot;.  If I copy the original app.jar (the one put in C:\\Program Files\\App\\app\\ to the directory where the updated app.jar was downloaded, the application starts again.  If I do the reverse (putting my update app.jar into the installation directory), I see the &quot;Failed to launch JVM&quot; dialog.  The only guess I have is that in Windows, there is some sort of fingerprinting of the jars that prevents changed ones from executing?</p>\n<p>Is that, indeed, the case?  If not, is there a way to debug this situation?  I.e. is there some additional config info or environment variable I can provide to see more detailed information on why the application failed to launch the JVM?</p>\n<p>Any help appreciated.</p>\n<p>P.S.  Note: the ability to create a local CFG file wasn't added until JDK 19.  See <a href=\"https://bugs.openjdk.org/browse/JDK-8250950\" rel=\"nofollow noreferrer\">this issue</a> for details.</p>\n"},{"tags":["java","eclipse","wildfly"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1695750646,"post_id":77182339,"comment_id":136065323,"body_markdown":"Narrow it down and focus on the details. What exactly doesn&#39;t work that should? Pick one scenario and start from there. The only response to what you&#39;ve supplied so far is likely to be to recreate the web app from scratch so that the libraries *aren&#39;t* mistakenly configured.","body":"Narrow it down and focus on the details. What exactly doesn&#39;t work that should? Pick one scenario and start from there. The only response to what you&#39;ve supplied so far is likely to be to recreate the web app from scratch so that the libraries <i>aren&#39;t</i> mistakenly configured."},{"owner":{"account_id":29430081,"reputation":1,"user_id":22549959,"display_name":"Christian"},"score":0,"creation_date":1695821523,"post_id":77182339,"comment_id":136075321,"body_markdown":"I have already recreated the application, but it still doesn&#39;t start. I don&#39;t understand the error messages that Wildfly is returning to me: org.jboss.as.protocol] (management I/O-1) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 1,5,management-handler-thread]","body":"I have already recreated the application, but it still doesn&#39;t start. I don&#39;t understand the error messages that Wildfly is returning to me: org.jboss.as.protocol] (management I/O-1) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 1,5,management-handler-thread]"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1695823151,"post_id":77182339,"comment_id":136075703,"body_markdown":"You have, again, not added included details about the 404 error. What the URL was. Why it *should* have worked. Log lines with actual ERROR severity.","body":"You have, again, not added included details about the 404 error. What the URL was. Why it <i>should</i> have worked. Log lines with actual ERROR severity."}],"owner":{"account_id":29430081,"reputation":1,"user_id":22549959,"display_name":"Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695750865,"creation_date":1695750401,"question_id":77182339,"body_markdown":"I am creating a web app for a course, I have inserted the data from Eclipse into MySQL, but when I try to insert them via URL through a servlet, it returns error 404. I&#39;m using Eclipse. I might have made a mistake in configuring the various libraries. Help meeee! I&#39;ve tried everything, but the server doesn&#39;t work in any way. The server not work.  This is my code:\r\n\r\n```\r\npackage ctr;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport jakarta.servlet.RequestDispatcher;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport model.Impiegato;\r\nimport dao.ImpiegatoDaoImpl;\r\n\r\n/**\r\n * Servlet implementation class ImpiegatoSrv\r\n */\r\n//@WebServlet(&quot;/ImpiegatoSrv&quot;)\r\npublic class ImpiegatoSrv extends jakarta.servlet.http.HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public ImpiegatoSrv() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) \r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\tSystem.out.println(&quot;Sono dentro&quot;);\r\n\t\t\r\n\t\tString operazione = request.getParameter(&quot;operazione&quot;);\t\t\r\n\t\tImpiegatoDaoImpl id = new ImpiegatoDaoImpl();\r\n\r\n        \t\r\n\t\tif (operazione.equals(&quot;inserimento&quot;)) {\r\n\r\n\r\n\t\t\tString nome = request.getParameter(&quot;nome&quot;);\r\n\t\t\tString cognome = request.getParameter(&quot;cognome&quot;);\r\n\t\t\tString codiceFiscale = request.getParameter(&quot;codiceFiscale&quot;);\r\n\t\t\tint matricola = Integer.parseInt(&quot;matricola&quot;);\r\n\t\t\t//int quantita = Integer.parseInt(quant);\r\n\r\n\t\t\tImpiegato i = new Impiegato();\r\n\t\t\ti.setNome(nome);\r\n\t\t\ti.setCognome(cognome);\r\n\t\t\ti.setCodiceFiscale(codiceFiscale);\r\n\t\t\ti.setMatricola(matricola);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tid.inserisci(nome, cognome, codiceFiscale, matricola);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\r\n\t\tif (operazione.equals(&quot;elimina&quot;)) {\r\n\r\n\r\n\t\t\tString nome = request.getParameter(&quot;nome&quot;);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tid.delete(nome);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\t\t\t\r\n\t\t\t\t}\r\n\t\t\r\n\t\tif (operazione.equals(&quot;aggiorna&quot;)) {\r\n\r\n\r\n\t\t\tString nome = request.getParameter(&quot;nome&quot;);\r\n\t\t\tString cognome = request.getParameter(&quot;cognome&quot;);\r\n\t\t\tString codiceFiscale = request.getParameter(&quot;codiceFiscale&quot;);\r\n\t\t\tint matricola = Integer.parseInt(&quot;matricola&quot;);\r\n\t\t\t//int quantita = Integer.parseInt(quant);\r\n\r\n\t\t\tImpiegato i = new Impiegato();\r\n\t\t\ti.setNome(nome);\r\n\t\t\ti.setCognome(cognome);\r\n\t\t\ti.setCodiceFiscale(codiceFiscale);\r\n\t\t\ti.setMatricola(matricola);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tid.update(nome, cognome, codiceFiscale, matricola);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\t\r\n\t/*\tif (operazione.equals(&quot;findAll&quot;)) {\r\n\r\n\t\t\tList&lt;Impiegato&gt; listaImpiegati = iDao.getAll();\r\n\r\n\t\t\trequest.getSession().setAttribute(&quot;elencoImpiegati&quot;, listaImpiegati)\r\n\t\t\tString nome = request.getParameter(&quot;nome&quot;);\r\n\r\n\t\t\tid.getByCode(nome);\r\n\r\n\t\t\t}else\r\n\t\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\r\n\t}*/\r\n\t\t\r\n\t\t\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) \r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\n```\r\n\r\nthis is answer of wildfly:\r\n```\r\n18:54:48,034 INFO  [org.jboss.modules] (main) JBoss Modules version 2.1.0.Final\r\n18:54:48,852 INFO  [org.jboss.msc] (main) JBoss MSC version 1.5.0.Final\r\n18:54:48,861 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\r\n18:54:49,079 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 28.0.0.Final (WildFly Core 20.0.1.Final) starting\r\n18:54:50,746 INFO  [org.wildfly.security] (ServerService Thread Pool -- 28) ELY00001: WildFly Elytron version 2.1.0.Final\r\n18:54:51,664 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 3) WFLYCTL0028: Attribute &#39;cluster&#39; in the resource at address &#39;/subsystem=ejb3/service=remote&#39; is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\r\n18:54:51,747 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found Gestionale1.war in deployment directory. To trigger deployment create a file called Gestionale1.war.dodeploy\r\n18:54:51,929 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\r\n18:54:51,954 INFO  [org.xnio] (MSC service thread 1-5) XNIO version 3.8.9.Final\r\n18:54:51,965 INFO  [org.xnio.nio] (MSC service thread 1-5) XNIO NIO Implementation Version 3.8.9.Final\r\n18:54:52,046 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 57) WFLYRS0016: RESTEasy version 6.2.3.Final\r\n18:54:52,057 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 54) WFLYHEALTH0001: Activating Base Health Subsystem\r\n18:54:52,058 INFO  [org.wildfly.extension.elytron.oidc._private] (ServerService Thread Pool -- 53) WFLYOIDC0001: Activating WildFly Elytron OIDC Subsystem\r\n18:54:52,061 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 55) WFLYCLINF0001: Activating Infinispan subsystem.\r\n18:54:52,081 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 44) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 2.1)\r\n18:54:52,102 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 74) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\r\n18:54:52,131 INFO  [org.wildfly.extension.microprofile.jwt.smallrye] (ServerService Thread Pool -- 66) WFLYJWT0001: Activating MicroProfile JWT Subsystem\r\n18:54:52,142 INFO  [org.wildfly.extension.microprofile.config.smallrye] (ServerService Thread Pool -- 65) WFLYCONF0001: Activating MicroProfile Config Subsystem\r\n18:54:52,159 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 62) WFLYJSF0007: Activated the following Jakarta Server Faces Implementations: [main]\r\n18:54:52,179 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 64) WFLYMETRICS0001: Activating Base Metrics Subsystem\r\n18:54:52,193 INFO  [org.jboss.as.connector] (MSC service thread 1-7) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 3.0.2.Final)\r\n18:54:52,201 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 67) WFLYNAM0001: Activating Naming Subsystem\r\n18:54:52,221 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 76) WFLYWS0002: Activating WebServices Extension\r\n18:54:52,249 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of &quot;Gestionale1.war&quot; (runtime-name: &quot;Gestionale1.war&quot;)\r\n18:54:52,300 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0003: Undertow 2.3.5.Final starting\r\n18:54:52,303 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-3) WFLYJCA0018: Started Driver service with driver-name = h2\r\n18:54:52,368 INFO  [org.jboss.as.naming] (MSC service thread 1-7) WFLYNAM0003: Starting Naming Service\r\n18:54:52,412 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-4) WFLYELY00023: KeyStore file &#39;C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\configuration\\application.keystore&#39; does not exist. Used blank.\r\n18:54:52,478 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-6) WFLYELY01084: KeyStore C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\configuration\\application.keystore not found, it will be auto-generated on first use with a self-signed certificate for host localhost\r\n18:54:52,553 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 75) WFLYUT0014: Creating file handler for path &#39;C:\\Users\\Utente\\wildfly-28.0.0.Final/welcome-content&#39; with options [directory-listing: &#39;false&#39;, follow-symlink: &#39;false&#39;, case-sensitive: &#39;true&#39;, safe-symlink-paths: &#39;[]&#39;]\r\n18:54:53,300 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\r\n18:54:53,348 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 56) WFLYIO001: Worker &#39;default&#39; has auto-configured to 8 IO threads with 64 max task threads based on your 4 available processors\r\n18:54:53,363 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.\r\n18:54:53,363 INFO  [org.jboss.as.ejb3] (MSC service thread 1-7) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.\r\n18:54:53,415 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: WildFly Full cumulative patch ID is: base, one-off patches include: none\r\n18:54:53,435 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-6) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\deployments\r\n18:54:53,455 INFO  [org.jboss.remoting] (MSC service thread 1-4) JBoss Remoting version 5.0.27.Final\r\n18:54:53,510 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0012: Started server default-server.\r\n18:54:53,514 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) Queuing requests.\r\n18:54:53,520 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0018: Host default-host starting\r\n18:54:53,582 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080\r\n18:54:53,584 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443\r\n18:54:53,650 INFO  [org.jboss.as.ejb3] (MSC service thread 1-4) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\r\n18:54:53,777 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 6.2.0.Final (Apache CXF 4.0.0) \r\n18:54:53,793 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n18:54:54,576 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 79) WFLYUT0021: Registered web context: &#39;/Gestionale1&#39; for server &#39;default-server&#39;\r\n18:54:54,673 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;Gestionale1.war&quot; (runtime-name : &quot;Gestionale1.war&quot;)\r\n18:54:54,743 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n18:54:54,753 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n18:54:54,755 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n18:54:54,760 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 28.0.0.Final (WildFly Core 20.0.1.Final) started in 7452ms - Started 365 of 587 services (321 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\r\n18:54:55,177 INFO  [org.jboss.as.protocol] (management I/O-1) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 1,5,management-handler-thread]\r\n18:54:55,189 INFO  [org.jboss.as.protocol] (management I/O-2) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 2,5,management-handler-thread]\r\n18:54:55,246 INFO  [org.jboss.as.protocol] (management I/O-2) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 2,5,management-handler-thread]\r\n ```","title":"Problem with Wildfly and Eclipse and library?","body":"<p>I am creating a web app for a course, I have inserted the data from Eclipse into MySQL, but when I try to insert them via URL through a servlet, it returns error 404. I'm using Eclipse. I might have made a mistake in configuring the various libraries. Help meeee! I've tried everything, but the server doesn't work in any way. The server not work.  This is my code:</p>\n<pre><code>package ctr;\n\nimport java.io.IOException;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport model.Impiegato;\nimport dao.ImpiegatoDaoImpl;\n\n/**\n * Servlet implementation class ImpiegatoSrv\n */\n//@WebServlet(&quot;/ImpiegatoSrv&quot;)\npublic class ImpiegatoSrv extends jakarta.servlet.http.HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public ImpiegatoSrv() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) \n            throws ServletException, IOException {\n        // TODO Auto-generated method stub\n                \n        System.out.println(&quot;Sono dentro&quot;);\n        \n        String operazione = request.getParameter(&quot;operazione&quot;);     \n        ImpiegatoDaoImpl id = new ImpiegatoDaoImpl();\n\n            \n        if (operazione.equals(&quot;inserimento&quot;)) {\n\n\n            String nome = request.getParameter(&quot;nome&quot;);\n            String cognome = request.getParameter(&quot;cognome&quot;);\n            String codiceFiscale = request.getParameter(&quot;codiceFiscale&quot;);\n            int matricola = Integer.parseInt(&quot;matricola&quot;);\n            //int quantita = Integer.parseInt(quant);\n\n            Impiegato i = new Impiegato();\n            i.setNome(nome);\n            i.setCognome(cognome);\n            i.setCodiceFiscale(codiceFiscale);\n            i.setMatricola(matricola);\n\n            try {\n                id.inserisci(nome, cognome, codiceFiscale, matricola);\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n    \n        if (operazione.equals(&quot;elimina&quot;)) {\n\n\n            String nome = request.getParameter(&quot;nome&quot;);\n\n            try {\n                id.delete(nome);\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }           \n                }\n        \n        if (operazione.equals(&quot;aggiorna&quot;)) {\n\n\n            String nome = request.getParameter(&quot;nome&quot;);\n            String cognome = request.getParameter(&quot;cognome&quot;);\n            String codiceFiscale = request.getParameter(&quot;codiceFiscale&quot;);\n            int matricola = Integer.parseInt(&quot;matricola&quot;);\n            //int quantita = Integer.parseInt(quant);\n\n            Impiegato i = new Impiegato();\n            i.setNome(nome);\n            i.setCognome(cognome);\n            i.setCodiceFiscale(codiceFiscale);\n            i.setMatricola(matricola);\n\n            try {\n                id.update(nome, cognome, codiceFiscale, matricola);\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n                \n    /*  if (operazione.equals(&quot;findAll&quot;)) {\n\n            List&lt;Impiegato&gt; listaImpiegati = iDao.getAll();\n\n            request.getSession().setAttribute(&quot;elencoImpiegati&quot;, listaImpiegati)\n            String nome = request.getParameter(&quot;nome&quot;);\n\n            id.getByCode(nome);\n\n            }else\n            response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n\n    }*/\n        \n        \n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) \n            throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n</code></pre>\n<p>this is answer of wildfly:</p>\n<pre><code>18:54:48,034 INFO  [org.jboss.modules] (main) JBoss Modules version 2.1.0.Final\n18:54:48,852 INFO  [org.jboss.msc] (main) JBoss MSC version 1.5.0.Final\n18:54:48,861 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\n18:54:49,079 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 28.0.0.Final (WildFly Core 20.0.1.Final) starting\n18:54:50,746 INFO  [org.wildfly.security] (ServerService Thread Pool -- 28) ELY00001: WildFly Elytron version 2.1.0.Final\n18:54:51,664 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 3) WFLYCTL0028: Attribute 'cluster' in the resource at address '/subsystem=ejb3/service=remote' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\n18:54:51,747 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found Gestionale1.war in deployment directory. To trigger deployment create a file called Gestionale1.war.dodeploy\n18:54:51,929 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\n18:54:51,954 INFO  [org.xnio] (MSC service thread 1-5) XNIO version 3.8.9.Final\n18:54:51,965 INFO  [org.xnio.nio] (MSC service thread 1-5) XNIO NIO Implementation Version 3.8.9.Final\n18:54:52,046 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 57) WFLYRS0016: RESTEasy version 6.2.3.Final\n18:54:52,057 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 54) WFLYHEALTH0001: Activating Base Health Subsystem\n18:54:52,058 INFO  [org.wildfly.extension.elytron.oidc._private] (ServerService Thread Pool -- 53) WFLYOIDC0001: Activating WildFly Elytron OIDC Subsystem\n18:54:52,061 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 55) WFLYCLINF0001: Activating Infinispan subsystem.\n18:54:52,081 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 44) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 2.1)\n18:54:52,102 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 74) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\n18:54:52,131 INFO  [org.wildfly.extension.microprofile.jwt.smallrye] (ServerService Thread Pool -- 66) WFLYJWT0001: Activating MicroProfile JWT Subsystem\n18:54:52,142 INFO  [org.wildfly.extension.microprofile.config.smallrye] (ServerService Thread Pool -- 65) WFLYCONF0001: Activating MicroProfile Config Subsystem\n18:54:52,159 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 62) WFLYJSF0007: Activated the following Jakarta Server Faces Implementations: [main]\n18:54:52,179 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 64) WFLYMETRICS0001: Activating Base Metrics Subsystem\n18:54:52,193 INFO  [org.jboss.as.connector] (MSC service thread 1-7) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 3.0.2.Final)\n18:54:52,201 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 67) WFLYNAM0001: Activating Naming Subsystem\n18:54:52,221 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 76) WFLYWS0002: Activating WebServices Extension\n18:54:52,249 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of &quot;Gestionale1.war&quot; (runtime-name: &quot;Gestionale1.war&quot;)\n18:54:52,300 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0003: Undertow 2.3.5.Final starting\n18:54:52,303 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-3) WFLYJCA0018: Started Driver service with driver-name = h2\n18:54:52,368 INFO  [org.jboss.as.naming] (MSC service thread 1-7) WFLYNAM0003: Starting Naming Service\n18:54:52,412 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-4) WFLYELY00023: KeyStore file 'C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\configuration\\application.keystore' does not exist. Used blank.\n18:54:52,478 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-6) WFLYELY01084: KeyStore C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\configuration\\application.keystore not found, it will be auto-generated on first use with a self-signed certificate for host localhost\n18:54:52,553 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 75) WFLYUT0014: Creating file handler for path 'C:\\Users\\Utente\\wildfly-28.0.0.Final/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']\n18:54:53,300 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\n18:54:53,348 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 56) WFLYIO001: Worker 'default' has auto-configured to 8 IO threads with 64 max task threads based on your 4 available processors\n18:54:53,363 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.\n18:54:53,363 INFO  [org.jboss.as.ejb3] (MSC service thread 1-7) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.\n18:54:53,415 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: WildFly Full cumulative patch ID is: base, one-off patches include: none\n18:54:53,435 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-6) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\Users\\Utente\\wildfly-28.0.0.Final\\standalone\\deployments\n18:54:53,455 INFO  [org.jboss.remoting] (MSC service thread 1-4) JBoss Remoting version 5.0.27.Final\n18:54:53,510 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0012: Started server default-server.\n18:54:53,514 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) Queuing requests.\n18:54:53,520 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0018: Host default-host starting\n18:54:53,582 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080\n18:54:53,584 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443\n18:54:53,650 INFO  [org.jboss.as.ejb3] (MSC service thread 1-4) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\n18:54:53,777 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 6.2.0.Final (Apache CXF 4.0.0) \n18:54:53,793 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n18:54:54,576 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 79) WFLYUT0021: Registered web context: '/Gestionale1' for server 'default-server'\n18:54:54,673 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;Gestionale1.war&quot; (runtime-name : &quot;Gestionale1.war&quot;)\n18:54:54,743 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n18:54:54,753 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n18:54:54,755 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n18:54:54,760 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 28.0.0.Final (WildFly Core 20.0.1.Final) started in 7452ms - Started 365 of 587 services (321 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\n18:54:55,177 INFO  [org.jboss.as.protocol] (management I/O-1) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 1,5,management-handler-thread]\n18:54:55,189 INFO  [org.jboss.as.protocol] (management I/O-2) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 2,5,management-handler-thread]\n18:54:55,246 INFO  [org.jboss.as.protocol] (management I/O-2) WFLYPRT0057:  cancelled task by interrupting thread Thread[management-handler-thread - 2,5,management-handler-thread]\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1692557650,"post_id":76940881,"comment_id":135636469,"body_markdown":"Are you using a `~/.aws/config` file to supply AWS credentials? Is it valid (at line 12)?","body":"Are you using a <code>~&#47;.aws&#47;config</code> file to supply AWS credentials? Is it valid (at line 12)?"},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1692560612,"post_id":76940881,"comment_id":135636712,"body_markdown":"Hello @jarmod, I’m using credentials provided by my cloud provider accessKey, secretKey, line 12 is in some Java file ( it part of my project)","body":"Hello @jarmod, I’m using credentials provided by my cloud provider accessKey, secretKey, line 12 is in some Java file ( it part of my project)"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1692571606,"post_id":76940881,"comment_id":135637732,"body_markdown":"Maybe I&#39;m misreading this, but the stack trace appears to show the error happens during the AWS SDK&#39;s reading of a configuration profile.","body":"Maybe I&#39;m misreading this, but the stack trace appears to show the error happens during the AWS SDK&#39;s reading of a configuration profile."},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1695145077,"post_id":76940881,"comment_id":135983833,"body_markdown":"I&#39;m using         var credentials = AwsBasicCredentials.create(&quot;xxx&quot;, &quot;xxx&quot;); to privide credentials @jarmod, using  software.amazon.awssdk, I may not need .aws/config no?","body":"I&#39;m using         var credentials = AwsBasicCredentials.create(&quot;xxx&quot;, &quot;xxx&quot;); to privide credentials @jarmod, using  software.amazon.awssdk, I may not need .aws/config no?"},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1695146704,"post_id":76940881,"comment_id":135984081,"body_markdown":"And no, i&#39;m not using any ~/.aws/config so I don&#39;t know where this line 12 is referenced","body":"And no, i&#39;m not using any ~/.aws/config so I don&#39;t know where this line 12 is referenced"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1695148040,"post_id":76940881,"comment_id":135984273,"body_markdown":"The underlying code seems to be attempting to read an AWS config or credentials file. You can see that in the stack trace - the reference to [ProfileFileReader](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/profiles/internal/ProfileFileReader.html). That&#39;s typically `~/.aws/config` or whatever the environment variable `AWS_CONFIG_FILE` points to. Do you use that env var, or do you actually have a `~/.aws/` folder with files in it?","body":"The underlying code seems to be attempting to read an AWS config or credentials file. You can see that in the stack trace - the reference to <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/profiles/internal/ProfileFileReader.html\" rel=\"nofollow noreferrer\">ProfileFileReader</a>. That&#39;s typically <code>~&#47;.aws&#47;config</code> or whatever the environment variable <code>AWS_CONFIG_FILE</code> points to. Do you use that env var, or do you actually have a <code>~&#47;.aws&#47;</code> folder with files in it?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695177684,"post_id":76940881,"comment_id":135987974,"body_markdown":"Can you pinpoint the code at line number `com.social420cloud.app.service.ScalewayStorageService.&lt;init&gt;(ScalewayStorageService.java:32)` and `com.social420cloud.app.web.rest.ObjectStorageResource.getDocument(ObjectStorageResource.java:35)`","body":"Can you pinpoint the code at line number <code>com.social420cloud.app.service.ScalewayStorageService.&lt;init&gt;&zwnj;&#8203;(ScalewayStorageServ&zwnj;&#8203;ice.java:32)</code> and <code>com.social420cloud.app.web.rest.ObjectStorageResource.getDoc&zwnj;&#8203;ument(ObjectStorageR&zwnj;&#8203;esource.java:35)</code>"},{"owner":{"account_id":6508597,"reputation":686,"user_id":5036698,"accept_rate":25,"display_name":"Asfar Irshad"},"score":0,"creation_date":1695200694,"post_id":76940881,"comment_id":135991088,"body_markdown":"Can you specify where this code is hosted? If aws then which service you are using ECS, EC2 etc?","body":"Can you specify where this code is hosted? If aws then which service you are using ECS, EC2 etc?"},{"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"score":0,"creation_date":1695314105,"post_id":76940881,"comment_id":136011054,"body_markdown":"Try deleting &quot;~/.aws&quot; folder and rerun the code. I tried running your code using my access and secret key and found it to be working.","body":"Try deleting &quot;~/.aws&quot; folder and rerun the code. I tried running your code using my access and secret key and found it to be working."},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1695728221,"post_id":76940881,"comment_id":136060476,"body_markdown":"If you are trying to access S3 from EC2/ECS, please don&#39;t use StaticCredentialsProvider for resource authentication, please follow the answer to use the proper AWS authentication https://stackoverflow.com/a/59781080/3303074","body":"If you are trying to access S3 from EC2/ECS, please don&#39;t use StaticCredentialsProvider for resource authentication, please follow the answer to use the proper AWS authentication <a href=\"https://stackoverflow.com/a/59781080/3303074\">stackoverflow.com/a/59781080/3303074</a>"}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695253730,"creation_date":1695253730,"answer_id":77146464,"question_id":76940881,"body_markdown":"The problem (as some Commentators have said) is that the fault occurs when the AWS client is being built and it parses a file that is somehow corrupt.\r\n\r\nThe normal behaviour, _even if you provide static credentials_, is for the Default Client to *merge* in settings that you may have set in the global files.  The are two files AWS expects - a configuration file (this is used, for example, to provide a default Region) and a credentials file.\r\n\r\nThe global files are located in well-known locations (see https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html) which are very likely to be in the home directory of the user process called `.aws/credentials` and `.aws/config`.  \r\n\r\nThe stack trace shows that the problem is the `.aws/config` file... and you must have some invalid syntax in the file.\r\n\r\nI was able to reproduce the problem exactly you had shown simply by editing this file to have a file like this:\r\n\r\n```\r\n[default]\r\nX\r\n```\r\nThe problem is line 2 which is expected to be of the form `X=Y`\r\n\r\n(Although in your case the fault is on line 12.)\r\n\r\nSo to fix the problem you have two options.  \r\n\r\n1) Track down that file and alter line 12 to make it parseable by the AWS client.  (Or delete the file)\r\n\r\n2) Provide a code workaround\r\n\r\nIf you cannot locate the file, don&#39;t have access to it, or the file is somehow injected, etc, then the following code will alter the Default Client&#39;s behaviour to look elsewhere for another file.  The only caveat is that this must be a readable file, but it can be entirely empty.  So I created an empty file at this location `/tmp/empty`, obviously you could make a file where ever possible, and then add the following lines to your code:\r\n\r\n```\r\npublic Main(final String accessKey, final String secretKey) {\r\n    this.client = S3Client.builder().region(Region.of(SCALEWAY_REGION))\r\n            \r\n            // workaround to misdirect AWS to avoid looking in the normal place for its configuration file\r\n            // ------------\r\n            .overrideConfiguration(\r\n                    ClientOverrideConfiguration.builder()\r\n                            .defaultProfileFile(ProfileFile.builder()\r\n                                    .content(FileSystems.getDefault().getPath(&quot;/tmp&quot;, &quot;empty&quot;))\r\n                                    .type(ProfileFile.Type.CONFIGURATION)\r\n                                    .build())\r\n                            .build()\r\n            )\r\n            // ------------\r\n            .endpointOverride(URI.create(SCALEWAY_ENDPOINT_URL))\r\n            .credentialsProvider(\r\n                    StaticCredentialsProvider.create(\r\n                            AwsBasicCredentials.create(accessKey, secretKey)))\r\n            .build();\r\n}\r\n```\r\n\r\n\r\n","title":"Error during AWS connection using S3Client Java spring &#39;Expected an &#39;=&#39; sign defining a property","body":"<p>The problem (as some Commentators have said) is that the fault occurs when the AWS client is being built and it parses a file that is somehow corrupt.</p>\n<p>The normal behaviour, <em>even if you provide static credentials</em>, is for the Default Client to <em>merge</em> in settings that you may have set in the global files.  The are two files AWS expects - a configuration file (this is used, for example, to provide a default Region) and a credentials file.</p>\n<p>The global files are located in well-known locations (see <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html</a>) which are very likely to be in the home directory of the user process called <code>.aws/credentials</code> and <code>.aws/config</code>.</p>\n<p>The stack trace shows that the problem is the <code>.aws/config</code> file... and you must have some invalid syntax in the file.</p>\n<p>I was able to reproduce the problem exactly you had shown simply by editing this file to have a file like this:</p>\n<pre><code>[default]\nX\n</code></pre>\n<p>The problem is line 2 which is expected to be of the form <code>X=Y</code></p>\n<p>(Although in your case the fault is on line 12.)</p>\n<p>So to fix the problem you have two options.</p>\n<ol>\n<li><p>Track down that file and alter line 12 to make it parseable by the AWS client.  (Or delete the file)</p>\n</li>\n<li><p>Provide a code workaround</p>\n</li>\n</ol>\n<p>If you cannot locate the file, don't have access to it, or the file is somehow injected, etc, then the following code will alter the Default Client's behaviour to look elsewhere for another file.  The only caveat is that this must be a readable file, but it can be entirely empty.  So I created an empty file at this location <code>/tmp/empty</code>, obviously you could make a file where ever possible, and then add the following lines to your code:</p>\n<pre><code>public Main(final String accessKey, final String secretKey) {\n    this.client = S3Client.builder().region(Region.of(SCALEWAY_REGION))\n            \n            // workaround to misdirect AWS to avoid looking in the normal place for its configuration file\n            // ------------\n            .overrideConfiguration(\n                    ClientOverrideConfiguration.builder()\n                            .defaultProfileFile(ProfileFile.builder()\n                                    .content(FileSystems.getDefault().getPath(&quot;/tmp&quot;, &quot;empty&quot;))\n                                    .type(ProfileFile.Type.CONFIGURATION)\n                                    .build())\n                            .build()\n            )\n            // ------------\n            .endpointOverride(URI.create(SCALEWAY_ENDPOINT_URL))\n            .credentialsProvider(\n                    StaticCredentialsProvider.create(\n                            AwsBasicCredentials.create(accessKey, secretKey)))\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695737802,"creation_date":1695709502,"answer_id":77177458,"question_id":76940881,"body_markdown":"Your error is `Expected an &#39;=&#39; sign defining a property on line, software.amazon.awssdk.profiles.internal.ProfileFileReader..`\r\n\r\n&gt; Profile module allows loading information from AWS configuration and\r\n&gt; credentials files.\r\n\r\n\r\nCheck `credentials` or `configurations`.\r\n\r\n&gt; Java SDK is pretty strict. It does not like the space before [default] in your config file.\r\n\r\n\r\n***~/.aws/credentials***\r\n    \r\n    [default]\r\n    aws_access_key_id =\r\n    aws_secret_access_key =\r\n\r\n***~/.aws/config***\r\n    \r\n    [default]\r\n    region =\r\n    output = \r\n\r\n***Test***\r\n   \r\n\r\n    private static AmazonS3 s3Client;\r\n\r\n    @BeforeAll\r\n    static void before() {\r\n        String accessKey = &quot;&quot;;\r\n        String secretKey = &quot;&quot;;\r\n    \r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\n    \r\n        s3Client = AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                    .withRegion(Regions.AP_EAST_1)\r\n                    .build();\r\n    }\r\n\r\n    // download test...","title":"Error during AWS connection using S3Client Java spring &#39;Expected an &#39;=&#39; sign defining a property","body":"<p>Your error is <code>Expected an '=' sign defining a property on line, software.amazon.awssdk.profiles.internal.ProfileFileReader..</code></p>\n<blockquote>\n<p>Profile module allows loading information from AWS configuration and\ncredentials files.</p>\n</blockquote>\n<p>Check <code>credentials</code> or <code>configurations</code>.</p>\n<blockquote>\n<p>Java SDK is pretty strict. It does not like the space before [default] in your config file.</p>\n</blockquote>\n<p><em><strong>~/.aws/credentials</strong></em></p>\n<pre><code>[default]\naws_access_key_id =\naws_secret_access_key =\n</code></pre>\n<p><em><strong>~/.aws/config</strong></em></p>\n<pre><code>[default]\nregion =\noutput = \n</code></pre>\n<p><em><strong>Test</strong></em></p>\n<pre><code>private static AmazonS3 s3Client;\n\n@BeforeAll\nstatic void before() {\n    String accessKey = &quot;&quot;;\n    String secretKey = &quot;&quot;;\n\n    AWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\n\n    s3Client = AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(Regions.AP_EAST_1)\n                .build();\n}\n\n// download test...\n</code></pre>\n"}],"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695750736,"creation_date":1692557201,"question_id":76940881,"body_markdown":"I&#39;m trying to use S3Client to initiate a connection to a S3 bucket hosted on a cloud provider to get and upload documents.\r\n\r\nI have a java spring boot application and I&#39;m using the following versions:\r\n\r\n - Java: 17 \r\n - Spring: 3.0.7 \r\n - software.amazon.awssdk: 2.20.127\r\n\r\nI implemented the following service: \r\n\r\n\r\n    imports...\r\n    \r\n    public class ScalewayStorageService {\r\n    \r\n        private final String SCALEWAY_ENDPOINT_URL = &quot;xx&quot;;\r\n    \r\n        private final String SCALEWAY_REGION = &quot;fr-par&quot;;\r\n    \r\n        private final String SCALEWAY_BUCKET_NAME = &quot;xx&quot;;\r\n    \r\n    \r\n        private final S3Client client;\r\n    \r\n    \r\n        public ScalewayStorageService(final String accessKey, final String secretKey) {\r\n            this.client = S3Client.builder().region(Region.of(SCALEWAY_REGION))\r\n                    .endpointOverride(URI.create(SCALEWAY_ENDPOINT_URL))\r\n                    .credentialsProvider(\r\n                            StaticCredentialsProvider.create(\r\n                                    AwsBasicCredentials.create(accessKey, secretKey)))\r\n                    .build();\r\n        }\r\n    \r\n        public ResponseInputStream&lt;GetObjectResponse&gt; download(final String path) {\r\n            final GetObjectRequest objectRequest =\r\n                    GetObjectRequest\r\n                            .builder()\r\n                            .key(path)\r\n                            .bucket(SCALEWAY_BUCKET_NAME)\r\n                            .build();\r\n    \r\n            return client.getObject(objectRequest);\r\n        }\r\n    \r\n        protected void shutdown() {\r\n            this.client.close();\r\n        }\r\n    \r\n    }\r\n\r\nThen I have this GetMapping in a ressource:\r\n\r\n \r\n\r\n       @GetMapping(&quot;/object-storage&quot;)\r\n        public ResponseEntity&lt;String&gt; getDocument() {\r\n            log.debug(&quot;REST request to get Document from object storage&quot;);\r\n            ScalewayStorageService scalewayStorageService = new ScalewayStorageService(accessKey, secretKey);\r\n            ResponseInputStream&lt;GetObjectResponse&gt; responseResponseInputStream = scalewayStorageService.download(imagepath);\r\n            log.debug(&quot;responseResponseInputStream : {}&quot;, responseResponseInputStream);\r\n            return ResponseEntity.of(Optional.of(&quot;Test&quot;));\r\n        }\r\n\r\n\r\nAnd I get the following error:\r\n\r\n    2023-08-20T20:34:46.690+02:00 ERROR 7721 --- [  XNIO-1 task-2] c.s.app.web.rest.ObjectStorageResource   : Exception in getDocument() with cause = &#39;NULL&#39; and exception = &#39;Expected an &#39;=&#39; sign defining a property on line 12&#39; \r\n    \r\n    java.lang.IllegalArgumentException: Expected an &#39;=&#39; sign defining a property on line 12\r\n    \tat software.amazon.awssdk.utils.Validate.isTrue(Validate.java:76)\r\n    \tat software.amazon.awssdk.profiles.internal.ProfileFileReader.parsePropertyDefinition(ProfileFileReader.java:243)\r\n    \tat software.amazon.awssdk.profiles.internal.ProfileFileReader.readPropertyContinuationLine(ProfileFileReader.java:173)\r\n    \tat software.amazon.awssdk.profiles.internal.ProfileFileReader.parseLine(ProfileFileReader.java:81)\r\n    \tat software.amazon.awssdk.profiles.internal.ProfileFileReader.lambda$parseFile$0(ProfileFileReader.java:59)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat software.amazon.awssdk.profiles.internal.ProfileFileReader.parseFile(ProfileFileReader.java:59)\r\n    \tat software.amazon.awssdk.profiles.ProfileFile$BuilderImpl.build(ProfileFile.java:309)\r\n    \tat software.amazon.awssdk.profiles.ProfileFile.lambda$addConfigFile$1(ProfileFile.java:160)\r\n    \tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n    \tat software.amazon.awssdk.profiles.ProfileFile.addConfigFile(ProfileFile.java:157)\r\n    \tat software.amazon.awssdk.utils.builder.SdkBuilder.applyMutation(SdkBuilder.java:61)\r\n    \tat software.amazon.awssdk.profiles.ProfileFile.defaultProfileFile(ProfileFile.java:99)\r\n    \tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.lambda$mergeGlobalDefaults$2(SdkDefaultClientBuilder.java:267)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.mergeGlobalDefaults(SdkDefaultClientBuilder.java:267)\r\n    \tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:177)\r\n    \tat software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:40)\r\n    \tat software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:29)\r\n    \tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:147)\r\n    \tat com.social420cloud.app.service.ScalewayStorageService.&lt;init&gt;(ScalewayStorageService.java:32)\r\n    \tat com.social420cloud.app.web.rest.ObjectStorageResource.getDocument(ObjectStorageResource.java:35)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n    \tat com.social420cloud.app.aop.logging.LoggingAspect.logAround(LoggingAspect.java:105)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    \tat com.social420cloud.app.web.rest.ObjectStorageResource$$SpringCGLIB$$0.getDocument(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:399)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:297)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:79)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:125)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat com.social420cloud.app.web.filter.SpaWebFilter.doFilterInternal(SpaWebFilter.java:30)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:280)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\r\n    \tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\r\n    \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    \tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    2023-08-20T20:34:46.695+02:00 ERROR 7721 --- [  XNIO-1 task-2] c.s.app.web.rest.ObjectStorageResource   : Illegal argument: [] in getDocument() \r\n\r\n\r\nAny ideas how can I solve this issue ? ","title":"Error during AWS connection using S3Client Java spring &#39;Expected an &#39;=&#39; sign defining a property","body":"<p>I'm trying to use S3Client to initiate a connection to a S3 bucket hosted on a cloud provider to get and upload documents.</p>\n<p>I have a java spring boot application and I'm using the following versions:</p>\n<ul>\n<li>Java: 17</li>\n<li>Spring: 3.0.7</li>\n<li>software.amazon.awssdk: 2.20.127</li>\n</ul>\n<p>I implemented the following service:</p>\n<pre><code>imports...\n\npublic class ScalewayStorageService {\n\n    private final String SCALEWAY_ENDPOINT_URL = &quot;xx&quot;;\n\n    private final String SCALEWAY_REGION = &quot;fr-par&quot;;\n\n    private final String SCALEWAY_BUCKET_NAME = &quot;xx&quot;;\n\n\n    private final S3Client client;\n\n\n    public ScalewayStorageService(final String accessKey, final String secretKey) {\n        this.client = S3Client.builder().region(Region.of(SCALEWAY_REGION))\n                .endpointOverride(URI.create(SCALEWAY_ENDPOINT_URL))\n                .credentialsProvider(\n                        StaticCredentialsProvider.create(\n                                AwsBasicCredentials.create(accessKey, secretKey)))\n                .build();\n    }\n\n    public ResponseInputStream&lt;GetObjectResponse&gt; download(final String path) {\n        final GetObjectRequest objectRequest =\n                GetObjectRequest\n                        .builder()\n                        .key(path)\n                        .bucket(SCALEWAY_BUCKET_NAME)\n                        .build();\n\n        return client.getObject(objectRequest);\n    }\n\n    protected void shutdown() {\n        this.client.close();\n    }\n\n}\n</code></pre>\n<p>Then I have this GetMapping in a ressource:</p>\n<pre><code>   @GetMapping(&quot;/object-storage&quot;)\n    public ResponseEntity&lt;String&gt; getDocument() {\n        log.debug(&quot;REST request to get Document from object storage&quot;);\n        ScalewayStorageService scalewayStorageService = new ScalewayStorageService(accessKey, secretKey);\n        ResponseInputStream&lt;GetObjectResponse&gt; responseResponseInputStream = scalewayStorageService.download(imagepath);\n        log.debug(&quot;responseResponseInputStream : {}&quot;, responseResponseInputStream);\n        return ResponseEntity.of(Optional.of(&quot;Test&quot;));\n    }\n</code></pre>\n<p>And I get the following error:</p>\n<pre><code>2023-08-20T20:34:46.690+02:00 ERROR 7721 --- [  XNIO-1 task-2] c.s.app.web.rest.ObjectStorageResource   : Exception in getDocument() with cause = 'NULL' and exception = 'Expected an '=' sign defining a property on line 12' \n\njava.lang.IllegalArgumentException: Expected an '=' sign defining a property on line 12\n    at software.amazon.awssdk.utils.Validate.isTrue(Validate.java:76)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.parsePropertyDefinition(ProfileFileReader.java:243)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.readPropertyContinuationLine(ProfileFileReader.java:173)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.parseLine(ProfileFileReader.java:81)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.lambda$parseFile$0(ProfileFileReader.java:59)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.parseFile(ProfileFileReader.java:59)\n    at software.amazon.awssdk.profiles.ProfileFile$BuilderImpl.build(ProfileFile.java:309)\n    at software.amazon.awssdk.profiles.ProfileFile.lambda$addConfigFile$1(ProfileFile.java:160)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at software.amazon.awssdk.profiles.ProfileFile.addConfigFile(ProfileFile.java:157)\n    at software.amazon.awssdk.utils.builder.SdkBuilder.applyMutation(SdkBuilder.java:61)\n    at software.amazon.awssdk.profiles.ProfileFile.defaultProfileFile(ProfileFile.java:99)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.lambda$mergeGlobalDefaults$2(SdkDefaultClientBuilder.java:267)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.mergeGlobalDefaults(SdkDefaultClientBuilder.java:267)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:177)\n    at software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:40)\n    at software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:29)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:147)\n    at com.social420cloud.app.service.ScalewayStorageService.&lt;init&gt;(ScalewayStorageService.java:32)\n    at com.social420cloud.app.web.rest.ObjectStorageResource.getDocument(ObjectStorageResource.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at com.social420cloud.app.aop.logging.LoggingAspect.logAround(LoggingAspect.java:105)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n    at com.social420cloud.app.web.rest.ObjectStorageResource$$SpringCGLIB$$0.getDocument(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:399)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:297)\n    at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:79)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:125)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at com.social420cloud.app.web.filter.SpaWebFilter.doFilterInternal(SpaWebFilter.java:30)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:186)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:280)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n2023-08-20T20:34:46.695+02:00 ERROR 7721 --- [  XNIO-1 task-2] c.s.app.web.rest.ObjectStorageResource   : Illegal argument: [] in getDocument() \n</code></pre>\n<p>Any ideas how can I solve this issue ?</p>\n"},{"tags":["java","unit-testing","junit","junit5","jmockit"],"owner":{"account_id":21181428,"reputation":177,"user_id":15575750,"display_name":"Ruslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695750330,"creation_date":1634028004,"question_id":69537453,"body_markdown":"I&#39;m trying to mock OutputStream to throw an Exception while writing, but mocked object is not initialized, and that&#39;s why I got NPE.\r\nThe piece of code: \r\n\r\n    \r\n\r\n    @Mocked\r\n    OutputStreamWriter writer;\r\n\r\n    @Test\r\n    void testWriteFailureWithoutRetries() throws IOException {\r\n        new Expectations() {{\r\n           writer.write(anyString);\r\n           result = new IOException();\r\n        }};\r\n        ...\r\n    }\r\n\r\nIn Expectations block, the writer object is null. I use jMockit 1.44, jUnit 5.4.2\r\n\r\n\r\nUPD: problem was solved by rolling jUnit version back to 5.3.2, but probably there is a better solution?","title":"JMockit @Mocked object throws NPE","body":"<p>I'm trying to mock OutputStream to throw an Exception while writing, but mocked object is not initialized, and that's why I got NPE.\nThe piece of code:</p>\n<pre><code>@Mocked\nOutputStreamWriter writer;\n\n@Test\nvoid testWriteFailureWithoutRetries() throws IOException {\n    new Expectations() {{\n       writer.write(anyString);\n       result = new IOException();\n    }};\n    ...\n}\n</code></pre>\n<p>In Expectations block, the writer object is null. I use jMockit 1.44, jUnit 5.4.2</p>\n<p>UPD: problem was solved by rolling jUnit version back to 5.3.2, but probably there is a better solution?</p>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736875,"creation_date":1695736875,"answer_id":77180748,"question_id":77180477,"body_markdown":"Don&#39;t know if this is the best way, but seems to work:\r\n\r\n            PdfArray byteRange = signature.getByteRange();\r\n            File signed = File.createTempFile(&quot;signed_&quot;, &quot;.bin&quot;);\r\n\r\n            RandomAccessFileOrArray rf = reader.getSafeFile();\r\n            try (InputStream rg = new RASInputStream(new RandomAccessSourceFactory().createRanged(rf.createSourceView(), byteRange.toLongArray()));\r\n                 OutputStream result = new FileOutputStream(signed)) {\r\n                byte[] buf = new byte[8192];\r\n                int rd;\r\n                while ((rd = rg.read(buf, 0, buf.length)) &gt; 0) {\r\n                    result.write(buf, 0, rd);\r\n                }\r\n            }\r\n","title":"itext7 - how to get document signed content?","body":"<p>Don't know if this is the best way, but seems to work:</p>\n<pre><code>        PdfArray byteRange = signature.getByteRange();\n        File signed = File.createTempFile(&quot;signed_&quot;, &quot;.bin&quot;);\n\n        RandomAccessFileOrArray rf = reader.getSafeFile();\n        try (InputStream rg = new RASInputStream(new RandomAccessSourceFactory().createRanged(rf.createSourceView(), byteRange.toLongArray()));\n             OutputStream result = new FileOutputStream(signed)) {\n            byte[] buf = new byte[8192];\n            int rd;\n            while ((rd = rg.read(buf, 0, buf.length)) &gt; 0) {\n                result.write(buf, 0, rd);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695749966,"creation_date":1695734891,"question_id":77180477,"body_markdown":"I&#39;m looking for something like `getSignedContent` on [PDFBox][1] to get the Signed content of the file (not the signature).\r\n\r\n&gt; Return the signed content of the document. This is not a PDF file, nor\r\n&gt; is it the PDF file before signing, it is the byte sequence made of the\r\n&gt; input minus the area where the signature bytes will be\r\n\r\nHow to do it with itext?\r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/digitalsignature/PDSignature.java","title":"itext7 - how to get document signed content?","body":"<p>I'm looking for something like <code>getSignedContent</code> on <a href=\"http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/digitalsignature/PDSignature.java\" rel=\"nofollow noreferrer\">PDFBox</a> to get the Signed content of the file (not the signature).</p>\n<blockquote>\n<p>Return the signed content of the document. This is not a PDF file, nor\nis it the PDF file before signing, it is the byte sequence made of the\ninput minus the area where the signature bytes will be</p>\n</blockquote>\n<p>How to do it with itext?</p>\n"},{"tags":["java","amazon-elastic-beanstalk","profiling","visualvm","jprofiler"],"comments":[{"owner":{"account_id":1678069,"reputation":534,"user_id":1543107,"display_name":"thunk"},"score":0,"creation_date":1699470077,"post_id":77182271,"comment_id":136536978,"body_markdown":"did you ever get an answer to this @deathByChocolate?  I&#39;m in the same boat and getting out of memory heap space errors :-(","body":"did you ever get an answer to this @deathByChocolate?  I&#39;m in the same boat and getting out of memory heap space errors :-("},{"owner":{"account_id":25815055,"reputation":25,"user_id":19555159,"display_name":"deathByChocolate"},"score":0,"creation_date":1699982669,"post_id":77182271,"comment_id":136597984,"body_markdown":"Yes I was able to profile my remote server. However I did not run into memory heap space errors. Can you please paste the error here?","body":"Yes I was able to profile my remote server. However I did not run into memory heap space errors. Can you please paste the error here?"},{"owner":{"account_id":1678069,"reputation":534,"user_id":1543107,"display_name":"thunk"},"score":0,"creation_date":1700076645,"post_id":77182271,"comment_id":136611657,"body_markdown":"How did you end up profiling?","body":"How did you end up profiling?"},{"owner":{"account_id":25815055,"reputation":25,"user_id":19555159,"display_name":"deathByChocolate"},"score":0,"creation_date":1700078235,"post_id":77182271,"comment_id":136611905,"body_markdown":"I have shared the steps which I followed in this [doc](https://exclusive-cold-166.notion.site/profiling-in-remote-ec2-instance-using-VisualVM-1470cf3dbeca45f99beb5fda818db20f?pvs=4).","body":"I have shared the steps which I followed in this <a href=\"https://exclusive-cold-166.notion.site/profiling-in-remote-ec2-instance-using-VisualVM-1470cf3dbeca45f99beb5fda818db20f?pvs=4\" rel=\"nofollow noreferrer\">doc</a>."}],"owner":{"account_id":25815055,"reputation":25,"user_id":19555159,"display_name":"deathByChocolate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695749808,"creation_date":1695749808,"question_id":77182271,"body_markdown":"I am trying to figure out some performance issues in my spring boot application. A code block is running within a for loop and taking a lot of time(there are no network calls). I want to identify the expensive lines of code within the block.\r\n\r\n\r\n\r\nThe war file is deployed on elastic beanstalk and is running in a tomcat web container. I am fairly new to profiling and unable to figure out where to start from. I have read about VisualVM and Jprofiler but not sure how to use them. It would be helpful if anyone can point me in the right direction.","title":"How to monitor elastic beanstalk tomcat instance using a profiler","body":"<p>I am trying to figure out some performance issues in my spring boot application. A code block is running within a for loop and taking a lot of time(there are no network calls). I want to identify the expensive lines of code within the block.</p>\n<p>The war file is deployed on elastic beanstalk and is running in a tomcat web container. I am fairly new to profiling and unable to figure out where to start from. I have read about VisualVM and Jprofiler but not sure how to use them. It would be helpful if anyone can point me in the right direction.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1695748981,"post_id":77181663,"comment_id":136065013,"body_markdown":"I&#39;m presuming that import is supposed to be `java.util.Scanner`, not `until`. `String` should be capitalized in the main method. I copied your code into an IDE and do not reproduce the error mentioned -- is your code _exactly_ as indicated here?","body":"I&#39;m presuming that import is supposed to be <code>java.util.Scanner</code>, not <code>until</code>. <code>String</code> should be capitalized in the main method. I copied your code into an IDE and do not reproduce the error mentioned -- is your code <i>exactly</i> as indicated here?"}],"answers":[{"tags":[],"owner":{"account_id":11430291,"reputation":302,"user_id":8379190,"display_name":"amr ras"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1695746741,"creation_date":1695744961,"answer_id":77181765,"question_id":77181663,"body_markdown":"You should use scnr.nextLine() after scnr.nextint(). When you enter a value and then press enter, a newline character is added after your value.\r\n\r\nWhen you use nextInt(), it reads only the integer input and leaves behind the &quot;newline&quot; (\\n) character in the input buffer. So, if you use nextLine() immediately after nextInt(), it will consume the leftover newline character, essentially reading an empty line.\r\n\r\nYou already had nextLine() after you inputted the name. Now you need it after each nextInt(). \r\n\r\n    System.out.println(&quot;Enter the item quantity: &quot;);\r\n    productQuantity = scnr.nextInt();\r\n    item1.setQuantity(productQuantity);\r\n    scnr.nextLine();  // Consuming leftover newline character","title":"online shopping cart parsing error in java","body":"<p>You should use scnr.nextLine() after scnr.nextint(). When you enter a value and then press enter, a newline character is added after your value.</p>\n<p>When you use nextInt(), it reads only the integer input and leaves behind the &quot;newline&quot; (\\n) character in the input buffer. So, if you use nextLine() immediately after nextInt(), it will consume the leftover newline character, essentially reading an empty line.</p>\n<p>You already had nextLine() after you inputted the name. Now you need it after each nextInt().</p>\n<pre><code>System.out.println(&quot;Enter the item quantity: &quot;);\nproductQuantity = scnr.nextInt();\nitem1.setQuantity(productQuantity);\nscnr.nextLine();  // Consuming leftover newline character\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1695748912,"creation_date":1695747288,"answer_id":77182025,"question_id":77181663,"body_markdown":"Problem 1: You problem is that the next int doesn&#39;t consider the new line character which goes in the input for your next read. Hence name is returned as blank.\r\n\r\n\r\n\r\nProblem 2: You are assigning String to a int. refer: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\r\n\r\n\r\nThe following code works fine for me:\r\nShoppingCartPrinter.java\r\n\r\n      import java.util.Scanner;\r\n      \r\n      public class ShoppingCartPrinter{\r\n         //main method\r\n         public static void main(String[] args){\r\n            //create object of scanner\r\n            Scanner scnr = new Scanner(System.in);\r\n            //variable declaration\r\n            int i = 0;\r\n            String productName;\r\n            int productPrice = 0;\r\n            int productQuantity = 0;\r\n            int cartTotal = 0;\r\n            \r\n            ItemToPurchase item1 = new ItemToPurchase();\r\n            ItemToPurchase item2 = new ItemToPurchase();\r\n            \r\n            //get item 1 details\r\n            System.out.println(&quot;Item 1&quot;);\r\n            \r\n            System.out.println(&quot;Enter the item name: &quot;);\r\n            productName = scnr.nextLine();\r\n            item1.setName(productName);\r\n            \r\n            System.out.println(&quot;Enter the item price: &quot;);\r\n            productPrice = scnr.nextInt();\r\n            item1.setPrice(productPrice);\r\n            \r\n            System.out.println(&quot;Enter the item quantity: &quot;);\r\n            productQuantity = scnr.nextInt();\r\n            item1.setQuantity(productQuantity);\r\n            \r\n            scnr.nextLine();\r\n            System.out.println(&quot;&quot;);\r\n            \r\n            //get item 2 details\r\n            System.out.println(&quot;Item 2&quot;);\r\n            \r\n            System.out.println(&quot;Enter the item name: &quot;);\r\n            productName = scnr.nextLine();\r\n            item2.setName(productName);\r\n            \r\n            System.out.println(&quot;Enter the item price: &quot;);\r\n            productPrice = scnr.nextInt();\r\n            item2.setPrice(productPrice);\r\n            \r\n            System.out.println(&quot;Enter the item quantity: &quot;);\r\n            productQuantity = scnr.nextInt();\r\n            item2.setQuantity(productQuantity);\r\n            \r\n            System.out.println(&quot;&quot;);\r\n            \r\n            //add cost of item 1 and 2 and print total\r\n            cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\r\n            System.out.println(&quot;TOTAL COST&quot;);\r\n            //cart total is item 1 price * quantity + item 2 price * quantity\r\n            //item 1 info\r\n            int item1Total = item1.getPrice() * item1.getQuantity();\r\n            System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\r\n            \r\n            //item 2 info\r\n            int item2Total = item2.getPrice() * item2.getQuantity();\r\n            System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\r\n         \r\n            //output total\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;Total: $&quot; + cartTotal);\r\n            \r\n         }\r\n      }\r\n\r\nItemsToPruchase.java\r\n\r\n        public class ItemToPurchase {\r\n            //Private fields - itemName, itemPrice, and itemQuanity\r\n            private String itemName;\r\n            private int itemPrice;\r\n            private int itemQuantity;\r\n        \r\n            //Default Constructor\r\n            public ItemToPurchase() {\r\n                itemName = &quot;none&quot;;\r\n                itemPrice = 0;\r\n                itemQuantity = 0;\r\n            }\r\n        \r\n            //public member methods\r\n            public void setName(String itemName) {\r\n                this.itemName = itemName;\r\n            }\r\n        \r\n            public String getName() {\r\n                return itemName;\r\n            }\r\n        \r\n            public void setPrice(int itemPrice) {\r\n                this.itemPrice = itemPrice;\r\n            }\r\n        \r\n            public int getPrice() {\r\n                return itemPrice;\r\n            }\r\n        \r\n            public void setQuantity(int itemQuantity) {\r\n                this.itemQuantity = itemQuantity;\r\n            }\r\n        \r\n            public int getQuantity() {\r\n                return itemQuantity;\r\n            }\r\n        \r\n            public void printItemPurchase() {\r\n                System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\r\n                        &quot; = $&quot; + (itemPrice * itemQuantity));\r\n            }\r\n        }\r\n\r\nOutput : \r\n\r\n    Item 1\r\n    Enter the item name: \r\n    item 1\r\n    Enter the item price: \r\n    20\r\n    Enter the item quantity: \r\n    5\r\n    \r\n    Item 2\r\n    Enter the item name: \r\n    item 2\r\n    Enter the item price: \r\n    2\r\n    Enter the item quantity: \r\n    10\r\n    \r\n    TOTAL COST\r\n    item 1 5 @ $20 = $100\r\n    item 2 10 @ $2 = $20\r\n    \r\n    Total: $120\r\n\r\nYou had misplaced brackets. Once i fixed it this works. Please make sure you use an IDE and not zybooks \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ShoppingCartPrinter {\r\n       //main method\r\n       public static void main(String[] args) {\r\n          //create object of scanner\r\n          Scanner scnr = new Scanner(System.in);\r\n          //variable declaration\r\n          int i = 0;\r\n          String productName;\r\n          int productPrice = 0;\r\n          int productQuantity = 0;\r\n          int cartTotal = 0;\r\n    \r\n          ItemToPurchase item1 = new ItemToPurchase();\r\n          ItemToPurchase item2 = new ItemToPurchase();\r\n    \r\n          //get item 1 details\r\n          System.out.println(&quot;Item 1&quot;);\r\n    \r\n          System.out.println(&quot;Enter the item name: &quot;);\r\n          productName = scnr.nextLine();\r\n          item1.setName(productName);\r\n    \r\n          System.out.println(&quot;Enter the item price: &quot;);\r\n          productPrice = scnr.nextInt();\r\n          item1.setPrice(productPrice);\r\n    \r\n          System.out.println(&quot;Enter the item quantity: &quot;);\r\n          productQuantity = scnr.nextInt();\r\n          item1.setQuantity(productQuantity);\r\n    \r\n          scnr.nextLine();\r\n          System.out.println(&quot;&quot;);\r\n    \r\n          //get item 2 details\r\n          System.out.println(&quot;Item 2&quot;);\r\n    \r\n          System.out.println(&quot;Enter the item name: &quot;);\r\n          productName = scnr.nextLine();\r\n          item2.setName(productName);\r\n    \r\n          System.out.println(&quot;Enter the item price: &quot;);\r\n          productPrice = scnr.nextInt();\r\n          item2.setPrice(productPrice);\r\n    \r\n          System.out.println(&quot;Enter the item quantity: &quot;);\r\n          productQuantity = scnr.nextInt();\r\n          item2.setQuantity(productQuantity);\r\n    \r\n          System.out.println(&quot;&quot;);\r\n    \r\n          //add cost of item 1 and 2 and print total\r\n          cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\r\n          System.out.println(&quot;TOTAL COST&quot;);\r\n          //cart total is item 1 price * quantity + item 2 price * quantity\r\n          //item 1 info\r\n          int item1Total = item1.getPrice() * item1.getQuantity();\r\n          System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\r\n    \r\n          //item 2 info\r\n          int item2Total = item2.getPrice() * item2.getQuantity();\r\n          System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\r\n    \r\n          //output total\r\n          System.out.println(&quot;&quot;);\r\n          System.out.print(&quot;Total: $&quot; + cartTotal);\r\n    \r\n       }\r\n    \r\n       public static class ItemToPurchase {\r\n          //Private fields - itemName, itemPrice, and itemQuanity\r\n          private String itemName;\r\n          private int itemPrice;\r\n          private int itemQuantity;\r\n    \r\n          //Default Constructor\r\n          public ItemToPurchase() {\r\n             itemName = &quot;none&quot;;\r\n             itemPrice = 0;\r\n             itemQuantity = 0;\r\n          }\r\n    \r\n          //public member methods\r\n          public void setName(String itemName) {\r\n             this.itemName = itemName;\r\n          }\r\n    \r\n          public String getName() {\r\n             return itemName;\r\n          }\r\n    \r\n          public void setPrice(int itemPrice) {\r\n             this.itemPrice = itemPrice;\r\n          }\r\n    \r\n          public int getPrice() {\r\n             return itemPrice;\r\n          }\r\n    \r\n          public void setQuantity(int itemQuantity) {\r\n             this.itemQuantity = itemQuantity;\r\n          }\r\n    \r\n          public int getQuantity() {\r\n             return itemQuantity;\r\n          }\r\n    \r\n          public void printItemPurchase() {\r\n             System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\r\n                     &quot; = $&quot; + (itemPrice * itemQuantity));\r\n          }\r\n       }\r\n    }","title":"online shopping cart parsing error in java","body":"<p>Problem 1: You problem is that the next int doesn't consider the new line character which goes in the input for your next read. Hence name is returned as blank.</p>\n<p>Problem 2: You are assigning String to a int. refer: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-</a></p>\n<p>The following code works fine for me:\nShoppingCartPrinter.java</p>\n<pre><code>  import java.util.Scanner;\n  \n  public class ShoppingCartPrinter{\n     //main method\n     public static void main(String[] args){\n        //create object of scanner\n        Scanner scnr = new Scanner(System.in);\n        //variable declaration\n        int i = 0;\n        String productName;\n        int productPrice = 0;\n        int productQuantity = 0;\n        int cartTotal = 0;\n        \n        ItemToPurchase item1 = new ItemToPurchase();\n        ItemToPurchase item2 = new ItemToPurchase();\n        \n        //get item 1 details\n        System.out.println(&quot;Item 1&quot;);\n        \n        System.out.println(&quot;Enter the item name: &quot;);\n        productName = scnr.nextLine();\n        item1.setName(productName);\n        \n        System.out.println(&quot;Enter the item price: &quot;);\n        productPrice = scnr.nextInt();\n        item1.setPrice(productPrice);\n        \n        System.out.println(&quot;Enter the item quantity: &quot;);\n        productQuantity = scnr.nextInt();\n        item1.setQuantity(productQuantity);\n        \n        scnr.nextLine();\n        System.out.println(&quot;&quot;);\n        \n        //get item 2 details\n        System.out.println(&quot;Item 2&quot;);\n        \n        System.out.println(&quot;Enter the item name: &quot;);\n        productName = scnr.nextLine();\n        item2.setName(productName);\n        \n        System.out.println(&quot;Enter the item price: &quot;);\n        productPrice = scnr.nextInt();\n        item2.setPrice(productPrice);\n        \n        System.out.println(&quot;Enter the item quantity: &quot;);\n        productQuantity = scnr.nextInt();\n        item2.setQuantity(productQuantity);\n        \n        System.out.println(&quot;&quot;);\n        \n        //add cost of item 1 and 2 and print total\n        cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\n        System.out.println(&quot;TOTAL COST&quot;);\n        //cart total is item 1 price * quantity + item 2 price * quantity\n        //item 1 info\n        int item1Total = item1.getPrice() * item1.getQuantity();\n        System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\n        \n        //item 2 info\n        int item2Total = item2.getPrice() * item2.getQuantity();\n        System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\n     \n        //output total\n        System.out.println(&quot;&quot;);\n        System.out.print(&quot;Total: $&quot; + cartTotal);\n        \n     }\n  }\n</code></pre>\n<p>ItemsToPruchase.java</p>\n<pre><code>    public class ItemToPurchase {\n        //Private fields - itemName, itemPrice, and itemQuanity\n        private String itemName;\n        private int itemPrice;\n        private int itemQuantity;\n    \n        //Default Constructor\n        public ItemToPurchase() {\n            itemName = &quot;none&quot;;\n            itemPrice = 0;\n            itemQuantity = 0;\n        }\n    \n        //public member methods\n        public void setName(String itemName) {\n            this.itemName = itemName;\n        }\n    \n        public String getName() {\n            return itemName;\n        }\n    \n        public void setPrice(int itemPrice) {\n            this.itemPrice = itemPrice;\n        }\n    \n        public int getPrice() {\n            return itemPrice;\n        }\n    \n        public void setQuantity(int itemQuantity) {\n            this.itemQuantity = itemQuantity;\n        }\n    \n        public int getQuantity() {\n            return itemQuantity;\n        }\n    \n        public void printItemPurchase() {\n            System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\n                    &quot; = $&quot; + (itemPrice * itemQuantity));\n        }\n    }\n</code></pre>\n<p>Output :</p>\n<pre><code>Item 1\nEnter the item name: \nitem 1\nEnter the item price: \n20\nEnter the item quantity: \n5\n\nItem 2\nEnter the item name: \nitem 2\nEnter the item price: \n2\nEnter the item quantity: \n10\n\nTOTAL COST\nitem 1 5 @ $20 = $100\nitem 2 10 @ $2 = $20\n\nTotal: $120\n</code></pre>\n<p>You had misplaced brackets. Once i fixed it this works. Please make sure you use an IDE and not zybooks</p>\n<pre><code>import java.util.Scanner;\n\npublic class ShoppingCartPrinter {\n   //main method\n   public static void main(String[] args) {\n      //create object of scanner\n      Scanner scnr = new Scanner(System.in);\n      //variable declaration\n      int i = 0;\n      String productName;\n      int productPrice = 0;\n      int productQuantity = 0;\n      int cartTotal = 0;\n\n      ItemToPurchase item1 = new ItemToPurchase();\n      ItemToPurchase item2 = new ItemToPurchase();\n\n      //get item 1 details\n      System.out.println(&quot;Item 1&quot;);\n\n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.nextLine();\n      item1.setName(productName);\n\n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item1.setPrice(productPrice);\n\n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item1.setQuantity(productQuantity);\n\n      scnr.nextLine();\n      System.out.println(&quot;&quot;);\n\n      //get item 2 details\n      System.out.println(&quot;Item 2&quot;);\n\n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.nextLine();\n      item2.setName(productName);\n\n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item2.setPrice(productPrice);\n\n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item2.setQuantity(productQuantity);\n\n      System.out.println(&quot;&quot;);\n\n      //add cost of item 1 and 2 and print total\n      cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\n      System.out.println(&quot;TOTAL COST&quot;);\n      //cart total is item 1 price * quantity + item 2 price * quantity\n      //item 1 info\n      int item1Total = item1.getPrice() * item1.getQuantity();\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\n\n      //item 2 info\n      int item2Total = item2.getPrice() * item2.getQuantity();\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\n\n      //output total\n      System.out.println(&quot;&quot;);\n      System.out.print(&quot;Total: $&quot; + cartTotal);\n\n   }\n\n   public static class ItemToPurchase {\n      //Private fields - itemName, itemPrice, and itemQuanity\n      private String itemName;\n      private int itemPrice;\n      private int itemQuantity;\n\n      //Default Constructor\n      public ItemToPurchase() {\n         itemName = &quot;none&quot;;\n         itemPrice = 0;\n         itemQuantity = 0;\n      }\n\n      //public member methods\n      public void setName(String itemName) {\n         this.itemName = itemName;\n      }\n\n      public String getName() {\n         return itemName;\n      }\n\n      public void setPrice(int itemPrice) {\n         this.itemPrice = itemPrice;\n      }\n\n      public int getPrice() {\n         return itemPrice;\n      }\n\n      public void setQuantity(int itemQuantity) {\n         this.itemQuantity = itemQuantity;\n      }\n\n      public int getQuantity() {\n         return itemQuantity;\n      }\n\n      public void printItemPurchase() {\n         System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\n                 &quot; = $&quot; + (itemPrice * itemQuantity));\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":29042067,"reputation":31,"user_id":22246732,"display_name":"Joshua Pelkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77182025,"answer_count":2,"score":2,"last_activity_date":1695749499,"creation_date":1695744169,"question_id":77181663,"body_markdown":"I&#39;m struggling with a lab in my school work. I keep getting an error: \r\nShoppingCartPrinter.java:29: error: reached end of file while parsing\r\n   }\r\n    ^\r\n1 error\r\n\r\nI have looked over my code and I don&#39;t see where I missed any curly brackets. \r\n\r\nHere is the lab details.\r\n\r\nCreate a program using classes that does the following in the zyLabs developer below. For this lab, you will be working with two different class files. To switch files, look for where it says &quot;Current File&quot; at the top of the developer window. Click the current file name, then select the file you need.\r\n\r\n(1) Create two files to submit:\r\n\r\nItemToPurchase.java - Class definition\r\nShoppingCartPrinter.java - Contains main() method\r\nBuild the ItemToPurchase class with the following specifications:\r\n\r\nPrivate fields\r\n- String itemName - Initialized in default constructor to &quot;none&quot;\r\n- int itemPrice - Initialized in default constructor to 0\r\n- int itemQuantity - Initialized in default constructor to 0\r\n\r\nDefault constructor\r\n\r\nPublic member methods (mutators &amp; accessors)\r\n- setName() &amp; getName() (2 pts)\r\n- setPrice() &amp; getPrice() (2 pts)\r\n- setQuantity() &amp; getQuantity() (2 pts)\r\n\r\n(2) In main(), prompt the user for two items and create two objects of the ItemToPurchase class. Before prompting for the second item, call scnr.nextLine(); to allow the user to input a new string. (2 pts)\r\n\r\nEx:\r\nItem 1\r\nEnter the item name: Chocolate Chips\r\nEnter the item price: 3\r\nEnter the item quantity: 1\r\n\r\nItem 2\r\nEnter the item name: Bottled Water\r\nEnter the item price: 1\r\nEnter the item quantity: 10\r\n(3) Add the costs of the two items together and output the total cost. (2 pts)\r\n\r\nEx:\r\n\r\nTOTAL COST\r\nChocolate Chips 1 @ $3 = $3\r\nBottled Water 10 @ $1 = $10\r\n\r\nTotal: $13\r\n\r\nHere is my code:\r\n\r\nShoppingCartPrinter\r\n```\r\nimport java.until.Scanner; \r\n\r\npublic class ShoppingCartPrinter{\r\n   //main method\r\n   public static void main(String[] args){\r\n      //create object of scanner\r\n      Scanner scnr = new Scanner(System.in);\r\n      //variable declaration\r\n      int i = 0;\r\n      String productName;\r\n      int productPrice = 0;\r\n      int productQuantity = 0;\r\n      int cartTotal = 0;\r\n      \r\n      ItemToPurchase item1 = new ItemToPurchase();\r\n      ItemToPurchase item2 = new ItemToPurchase();\r\n      \r\n      //get item 1 details\r\n      System.out.println(&quot;Item 1&quot;);\r\n      \r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      productName = scnr.nextLine();\r\n      item1.setName(productName);\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();\r\n      item1.setPrice(productPrice);\r\n      scnr.nextLine();\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();\r\n      item1.setQuantity(productQuantity);\r\n      scnr.nextLine();\r\n      \r\n      scnr.nextLine();\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      //get item 2 details\r\n      System.out.println(&quot;Item 2&quot;);\r\n      \r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      productName = scnr.nextLine();\r\n      item2.setName(productName);\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();\r\n      item2.setPrice(productPrice);\r\n      scnr.nextLine();\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();\r\n      item2.setQuantity(productQuantity);\r\n      scnr.nextLine();\r\n      \r\n      System.out.println(&quot;&quot;);\r\n      \r\n      //add cost of item 1 and 2 and print total\r\n      cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\r\n      System.out.println(&quot;TOTAL COST&quot;);\r\n      //cart total is item 1 price * quantity + item 2 price * quantity\r\n      //item 1 info\r\n      int item1Total = item1.getPrice() * item1.getQuantity();\r\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\r\n      \r\n      //item 2 info\r\n      int item2Total = item2.getPrice() * item2.getQuantity();\r\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\r\n   \r\n      //output total\r\n      System.out.println(&quot;&quot;);\r\n      System.out.print(&quot;Total: $&quot; + cartTotal);\r\n      \r\n   }\r\n}\r\n```\r\nItemsToPurchase\r\n```\r\npublic class ItemToPurchase {\r\n   //Private fields - itemName, itemPrice, and itemQuanity\r\n   private String itemName;\r\n   private int itemPrice;\r\n   private int itemQuantity;\r\n   //Default Constructor\r\n   public ItemToPurchase(){\r\n      itemName = &quot;none&quot;;\r\n      itemPrice = 0;\r\n      itemQuantity = 0;\r\n   }       \r\n   //public member methods\r\n   public void setName(String itemName){\r\n      this.itemName = itemName;\r\n   }\r\n   public String getName(){\r\n      return itemName;\r\n   }\r\n   public void setPrice(int itemPrice){\r\n      this.itemPrice = itemPrice;\r\n   }\r\n   public int getPrice(){\r\n      return itemPrice;\r\n   }\r\n   public void setQuantity(int itemQuantity){\r\n      this.itemQuantity = itemQuantity;\r\n   }\r\n   public int getQuantity(){\r\n      return itemQuantity;\r\n   }\r\n   \r\n   public void printItemPurchase() {\r\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  \r\n                         &quot; = $&quot; + (itemPrice * itemQuantity));\r\n   }\r\n}\r\n```","title":"online shopping cart parsing error in java","body":"<p>I'm struggling with a lab in my school work. I keep getting an error:\nShoppingCartPrinter.java:29: error: reached end of file while parsing\n}\n^\n1 error</p>\n<p>I have looked over my code and I don't see where I missed any curly brackets.</p>\n<p>Here is the lab details.</p>\n<p>Create a program using classes that does the following in the zyLabs developer below. For this lab, you will be working with two different class files. To switch files, look for where it says &quot;Current File&quot; at the top of the developer window. Click the current file name, then select the file you need.</p>\n<p>(1) Create two files to submit:</p>\n<p>ItemToPurchase.java - Class definition\nShoppingCartPrinter.java - Contains main() method\nBuild the ItemToPurchase class with the following specifications:</p>\n<p>Private fields</p>\n<ul>\n<li>String itemName - Initialized in default constructor to &quot;none&quot;</li>\n<li>int itemPrice - Initialized in default constructor to 0</li>\n<li>int itemQuantity - Initialized in default constructor to 0</li>\n</ul>\n<p>Default constructor</p>\n<p>Public member methods (mutators &amp; accessors)</p>\n<ul>\n<li>setName() &amp; getName() (2 pts)</li>\n<li>setPrice() &amp; getPrice() (2 pts)</li>\n<li>setQuantity() &amp; getQuantity() (2 pts)</li>\n</ul>\n<p>(2) In main(), prompt the user for two items and create two objects of the ItemToPurchase class. Before prompting for the second item, call scnr.nextLine(); to allow the user to input a new string. (2 pts)</p>\n<p>Ex:\nItem 1\nEnter the item name: Chocolate Chips\nEnter the item price: 3\nEnter the item quantity: 1</p>\n<p>Item 2\nEnter the item name: Bottled Water\nEnter the item price: 1\nEnter the item quantity: 10\n(3) Add the costs of the two items together and output the total cost. (2 pts)</p>\n<p>Ex:</p>\n<p>TOTAL COST\nChocolate Chips 1 @ $3 = $3\nBottled Water 10 @ $1 = $10</p>\n<p>Total: $13</p>\n<p>Here is my code:</p>\n<p>ShoppingCartPrinter</p>\n<pre><code>import java.until.Scanner; \n\npublic class ShoppingCartPrinter{\n   //main method\n   public static void main(String[] args){\n      //create object of scanner\n      Scanner scnr = new Scanner(System.in);\n      //variable declaration\n      int i = 0;\n      String productName;\n      int productPrice = 0;\n      int productQuantity = 0;\n      int cartTotal = 0;\n      \n      ItemToPurchase item1 = new ItemToPurchase();\n      ItemToPurchase item2 = new ItemToPurchase();\n      \n      //get item 1 details\n      System.out.println(&quot;Item 1&quot;);\n      \n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.nextLine();\n      item1.setName(productName);\n      \n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item1.setPrice(productPrice);\n      scnr.nextLine();\n      \n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item1.setQuantity(productQuantity);\n      scnr.nextLine();\n      \n      scnr.nextLine();\n      System.out.println(&quot;&quot;);\n      \n      //get item 2 details\n      System.out.println(&quot;Item 2&quot;);\n      \n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.nextLine();\n      item2.setName(productName);\n      \n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item2.setPrice(productPrice);\n      scnr.nextLine();\n      \n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item2.setQuantity(productQuantity);\n      scnr.nextLine();\n      \n      System.out.println(&quot;&quot;);\n      \n      //add cost of item 1 and 2 and print total\n      cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\n      System.out.println(&quot;TOTAL COST&quot;);\n      //cart total is item 1 price * quantity + item 2 price * quantity\n      //item 1 info\n      int item1Total = item1.getPrice() * item1.getQuantity();\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\n      \n      //item 2 info\n      int item2Total = item2.getPrice() * item2.getQuantity();\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\n   \n      //output total\n      System.out.println(&quot;&quot;);\n      System.out.print(&quot;Total: $&quot; + cartTotal);\n      \n   }\n}\n</code></pre>\n<p>ItemsToPurchase</p>\n<pre><code>public class ItemToPurchase {\n   //Private fields - itemName, itemPrice, and itemQuanity\n   private String itemName;\n   private int itemPrice;\n   private int itemQuantity;\n   //Default Constructor\n   public ItemToPurchase(){\n      itemName = &quot;none&quot;;\n      itemPrice = 0;\n      itemQuantity = 0;\n   }       \n   //public member methods\n   public void setName(String itemName){\n      this.itemName = itemName;\n   }\n   public String getName(){\n      return itemName;\n   }\n   public void setPrice(int itemPrice){\n      this.itemPrice = itemPrice;\n   }\n   public int getPrice(){\n      return itemPrice;\n   }\n   public void setQuantity(int itemQuantity){\n      this.itemQuantity = itemQuantity;\n   }\n   public int getQuantity(){\n      return itemQuantity;\n   }\n   \n   public void printItemPurchase() {\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  \n                         &quot; = $&quot; + (itemPrice * itemQuantity));\n   }\n}\n</code></pre>\n"},{"tags":["java","qr-code","thermal-printer","escpos"],"owner":{"account_id":29539121,"reputation":1,"user_id":22638170,"display_name":"Douglas Caruso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695749332,"creation_date":1695747363,"question_id":77182034,"body_markdown":"I need to print a QR code on a Bematech MP-4200 ADV printer using ESC/POS commands. When I print it from my system, the printing works correctly. However, when the client tries to use it, the QR code printing is flawed, even though they are using the same printer model and drivers.\r\n\r\nThe URL to be printed is something like this (I replaced some numbers with X for company data security), but it only encodes in the QR code up to the 60th character. After that, it appears as text:\r\n\r\n`http://nfce.set.rn.gov.br/consultarNFCe.aspx?p=242309XXXXX9040001XXXXXXXXXXXXXXXXXXXXXXXXXX|2|1|2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`\r\n\r\nIncomplete QR code printed with the rest of the text at the top:\r\n[![Incomplete QR code printed with the rest of the text at the top][1]][1]\r\n\r\nHowever, if I print the URL:\r\n\r\n`http://nfce.set.rn.gov.br/consultarNFCe.aspx?p=242309XXXXX9040001XXXXXXXXXXXXXXXXXXXXXXXXXX|2|1|14|3.60|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX|2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`\r\n\r\nwhich is longer, it prints correctly.\r\n\r\nMy code to generate the QR Code:\r\n\r\n```\r\nint qrLen = url.length() + 3;\r\n\r\nchar ph = (char) (qrLen / 256);\r\nchar pl = (char) (qrLen % 256);\r\n\r\nString qrCode = &quot;&quot; + (char) 29 + (char) 40 + (char) 107 + (char) 4 + (char) 0 + (char) 49 + (char) 65 + (char) 50 + (char) 0 +\r\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 67 + (char) size +\r\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 69 + (char) 49 +\r\n        (char) 29 + (char) 40 + (char) 107 + (char) pl + ph + (char) 49 + (char) 80 + (char) 48 + url +\r\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 81 + (char) 48;\r\nreturn qrCode;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6a0Mw.png","title":"Printing a QRCode using ESC/POS - Bematech MP-4200","body":"<p>I need to print a QR code on a Bematech MP-4200 ADV printer using ESC/POS commands. When I print it from my system, the printing works correctly. However, when the client tries to use it, the QR code printing is flawed, even though they are using the same printer model and drivers.</p>\n<p>The URL to be printed is something like this (I replaced some numbers with X for company data security), but it only encodes in the QR code up to the 60th character. After that, it appears as text:</p>\n<p><code>http://nfce.set.rn.gov.br/consultarNFCe.aspx?p=242309XXXXX9040001XXXXXXXXXXXXXXXXXXXXXXXXXX|2|1|2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</code></p>\n<p>Incomplete QR code printed with the rest of the text at the top:\n<a href=\"https://i.stack.imgur.com/6a0Mw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6a0Mw.png\" alt=\"Incomplete QR code printed with the rest of the text at the top\" /></a></p>\n<p>However, if I print the URL:</p>\n<p><code>http://nfce.set.rn.gov.br/consultarNFCe.aspx?p=242309XXXXX9040001XXXXXXXXXXXXXXXXXXXXXXXXXX|2|1|14|3.60|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX|2|XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</code></p>\n<p>which is longer, it prints correctly.</p>\n<p>My code to generate the QR Code:</p>\n<pre><code>int qrLen = url.length() + 3;\n\nchar ph = (char) (qrLen / 256);\nchar pl = (char) (qrLen % 256);\n\nString qrCode = &quot;&quot; + (char) 29 + (char) 40 + (char) 107 + (char) 4 + (char) 0 + (char) 49 + (char) 65 + (char) 50 + (char) 0 +\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 67 + (char) size +\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 69 + (char) 49 +\n        (char) 29 + (char) 40 + (char) 107 + (char) pl + ph + (char) 49 + (char) 80 + (char) 48 + url +\n        (char) 29 + (char) 40 + (char) 107 + (char) 3 + (char) 0 + (char) 49 + (char) 81 + (char) 48;\nreturn qrCode;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695749475,"post_id":77182155,"comment_id":136065122,"body_markdown":"Stop using outdated classes like `SimpleDateFormat` or `java.util.Date`. move ower to the newer `java.time.*` API","body":"Stop using outdated classes like <code>SimpleDateFormat</code> or <code>java.util.Date</code>. move ower to the newer <code>java.time.*</code> API"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695749600,"post_id":77182155,"comment_id":136065154,"body_markdown":"Have you tried to print out the `currentTimeStamp to see what is wrong?","body":"Have you tried to print out the `currentTimeStamp to see what is wrong?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695750012,"post_id":77182155,"comment_id":136065222,"body_markdown":"BTW: As I know the fixed clock only works with the `java.time` API","body":"BTW: As I know the fixed clock only works with the <code>java.time</code> API"},{"owner":{"account_id":7903652,"reputation":17,"user_id":5969902,"display_name":"Ahmed Tharwat"},"score":0,"creation_date":1695789920,"post_id":77182155,"comment_id":136069669,"body_markdown":"Hello @Jens, yes I did try to print the ```currentTimeStamp``` and it always returns the time that the test runs at. I&#39;ll try to apply your changes and see if it works. Thanks a lot!","body":"Hello @Jens, yes I did try to print the <code>currentTimeStamp</code> and it always returns the time that the test runs at. I&#39;ll try to apply your changes and see if it works. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695749316,"creation_date":1695749316,"answer_id":77182225,"question_id":77182155,"body_markdown":"While it&#39;s technically possible to change all ways the JVM retrieves time, I&#39;d advise against it. Altering such fundamental behavior can lead to unpredictable results, make your code harder to understand for others, and introduce potential bugs or issues in areas you might not expect. It&#39;s generally a good practice to avoid modifying global or static states, especially for something as universal as time retrieval.\r\n\r\nThat said, if you&#39;re curious about the concept, you might want to look into &quot;static method mocking&quot; for some examples. But remember, just because you can, doesn&#39;t always mean you should.\r\n\r\nRegarding your line `Instant.now(Clock.fixed(Instant.parse(expectedNow), ZoneOffset.UTC))`, it&#39;s essentially creating a new instance with the specified clock, but it doesn&#39;t alter the JVM&#39;s default behavior. A better approach might be to pass the clock to your `LogUtils.formatTimestamp()` method. If you&#39;re using Spring, you could create your own clock provider as a component. Alternatively, you could design a static class with a setter specifically for your tests.\r\n\r\nHope this helps and happy coding! &#128522;","title":"How to mock the system clock for tests in spring boot applications?","body":"<p>While it's technically possible to change all ways the JVM retrieves time, I'd advise against it. Altering such fundamental behavior can lead to unpredictable results, make your code harder to understand for others, and introduce potential bugs or issues in areas you might not expect. It's generally a good practice to avoid modifying global or static states, especially for something as universal as time retrieval.</p>\n<p>That said, if you're curious about the concept, you might want to look into &quot;static method mocking&quot; for some examples. But remember, just because you can, doesn't always mean you should.</p>\n<p>Regarding your line <code>Instant.now(Clock.fixed(Instant.parse(expectedNow), ZoneOffset.UTC))</code>, it's essentially creating a new instance with the specified clock, but it doesn't alter the JVM's default behavior. A better approach might be to pass the clock to your <code>LogUtils.formatTimestamp()</code> method. If you're using Spring, you could create your own clock provider as a component. Alternatively, you could design a static class with a setter specifically for your tests.</p>\n<p>Hope this helps and happy coding! 😊</p>\n"}],"owner":{"account_id":7903652,"reputation":17,"user_id":5969902,"display_name":"Ahmed Tharwat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695749316,"creation_date":1695748532,"question_id":77182155,"body_markdown":"I have the following static function:\r\n```\r\npublic static String formatTimestamp() {\r\n    TimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;&quot;);\r\n    dateFormat.setTimeZone(timeZone);\r\n    return dateFormat.format(new Date());\r\n  }\r\n```\r\nI want to create a test that makes sure it works properly, and in order to do that, I believe I need to override the system&#39;s current time so that I can assert proper values.\r\n\r\nI created the following test class:\r\n```\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.slf4j.MDC;\r\n\r\n\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\nimport java.time.ZoneOffset;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass LogUtilsTest {\r\n\r\n  @Test\r\n  void test_Format_Timestamp_Success() {\r\n    String expectedNow = &quot;2023-09-26T12:00:00.000Z&quot;;\r\n    Instant.now(Clock.fixed(Instant.parse(expectedNow), ZoneOffset.UTC));\r\n\r\n    String currentTimeStamp = LogUtils.formatTimestamp();\r\n\r\n    assertEquals(expectedNow, currentTimeStamp);\r\n  }\r\n}\r\n```\r\nWhenever I run the test, it returns that the expected is not equal to the actual value, as the actual value equals the time when the test runs.\r\n\r\nI followed the following answers:\r\n\r\n - https://www.baeldung.com/java-override-system-time\r\n - https://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis-for-testing-time-sensitive-code\r\n\r\nBut nothing works. Any idea what am I doing wrong?","title":"How to mock the system clock for tests in spring boot applications?","body":"<p>I have the following static function:</p>\n<pre><code>public static String formatTimestamp() {\n    TimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.sss'Z'&quot;);\n    dateFormat.setTimeZone(timeZone);\n    return dateFormat.format(new Date());\n  }\n</code></pre>\n<p>I want to create a test that makes sure it works properly, and in order to do that, I believe I need to override the system's current time so that I can assert proper values.</p>\n<p>I created the following test class:</p>\n<pre><code>\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.slf4j.MDC;\n\n\nimport java.time.Clock;\nimport java.time.Instant;\nimport java.time.ZoneOffset;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.when;\n\n@ExtendWith(MockitoExtension.class)\nclass LogUtilsTest {\n\n  @Test\n  void test_Format_Timestamp_Success() {\n    String expectedNow = &quot;2023-09-26T12:00:00.000Z&quot;;\n    Instant.now(Clock.fixed(Instant.parse(expectedNow), ZoneOffset.UTC));\n\n    String currentTimeStamp = LogUtils.formatTimestamp();\n\n    assertEquals(expectedNow, currentTimeStamp);\n  }\n}\n</code></pre>\n<p>Whenever I run the test, it returns that the expected is not equal to the actual value, as the actual value equals the time when the test runs.</p>\n<p>I followed the following answers:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-override-system-time\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-override-system-time</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2001671/override-java-system-currenttimemillis-for-testing-time-sensitive-code\">Override Java System.currentTimeMillis for testing time sensitive code</a></li>\n</ul>\n<p>But nothing works. Any idea what am I doing wrong?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":3,"creation_date":1695632004,"post_id":77171148,"comment_id":136045247,"body_markdown":"Typo: `if(status=false)` -&gt; `if(status == false)`","body":"Typo: <code>if(status=false)</code> -&gt; <code>if(status == false)</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1695632334,"post_id":77171148,"comment_id":136045332,"body_markdown":"What kiner_shah said above is the cause of your problem. However, you also need to read about the dangers of [SQL Injection](https://owasp.org/www-community/attacks/SQL_Injection).","body":"What kiner_shah said above is the cause of your problem. However, you also need to read about the dangers of <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">SQL Injection</a>."},{"owner":{"account_id":29527850,"reputation":1,"user_id":22629083,"display_name":"Ninad Danane"},"score":0,"creation_date":1695633103,"post_id":77171148,"comment_id":136045489,"body_markdown":"Tried that still the same...","body":"Tried that still the same..."},{"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"score":0,"creation_date":1695634743,"post_id":77171148,"comment_id":136045791,"body_markdown":"this code is missing the handling of the open connection --&gt; you should use the try-with-resource java feature (https://stackoverflow.com/questions/8066501/how-should-i-use-try-with-resources-with-jdbc)\n\nThen also no transaction is in use which can also lead to the mentioned issue.\nIf it is not using auto-commit you are never persisting anything to the database.","body":"this code is missing the handling of the open connection --&gt; you should use the try-with-resource java feature (<a href=\"https://stackoverflow.com/questions/8066501/how-should-i-use-try-with-resources-with-jdbc\" title=\"how should i use try with resources with jdbc\">stackoverflow.com/questions/8066501/&hellip;</a>)  Then also no transaction is in use which can also lead to the mentioned issue. If it is not using auto-commit you are never persisting anything to the database."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695638519,"post_id":77171148,"comment_id":136046551,"body_markdown":"@n-n-nebbl auto-commit mode is the default of new connections created through `DriverManager` (technically, it is supposed to be the default of any connection, but some `DataSource` implementations allow you to configure a different default).","body":"@n-n-nebbl auto-commit mode is the default of new connections created through <code>DriverManager</code> (technically, it is supposed to be the default of any connection, but some <code>DataSource</code> implementations allow you to configure a different default)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1695652120,"post_id":77171148,"comment_id":136049470,"body_markdown":"This code doesn&#39;t handle when your login_details table is empty. tbh, it doesn&#39;t make sense even with that fixed, so you might wanna go back to the drawing board and think about what you want to do. You should probably check if the entered values exist and if not exist then create new rows, but i have no idea","body":"This code doesn&#39;t handle when your login_details table is empty. tbh, it doesn&#39;t make sense even with that fixed, so you might wanna go back to the drawing board and think about what you want to do. You should probably check if the entered values exist and if not exist then create new rows, but i have no idea"}],"answers":[{"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695634133,"creation_date":1695634133,"answer_id":77171443,"question_id":77171148,"body_markdown":"There are logic and safety problems in the code.\r\n\r\nYou give value to the variable in the condition, instead of checking it. You should use:\r\n\r\n    if (!status){...}\r\n\r\nThe other thing that you should use PreparedStatement instead of Statement if datas come from the user. It is against of the sql injection attack. ","title":"There is no error but the data is not getting inserted into the database","body":"<p>There are logic and safety problems in the code.</p>\n<p>You give value to the variable in the condition, instead of checking it. You should use:</p>\n<pre><code>if (!status){...}\n</code></pre>\n<p>The other thing that you should use PreparedStatement instead of Statement if datas come from the user. It is against of the sql injection attack.</p>\n"},{"tags":[],"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695749055,"creation_date":1695749055,"answer_id":77182203,"question_id":77171148,"body_markdown":"When I look at this code, it will insert more doubled entries, the more entries are in the table.\r\n\r\nI do not know, what you want to achieve while looping the content of the table and inserting the values one typed in.\r\n\r\nWhen I assume, you want to check if a user already exists, it is worth to check if the user is there, before inserting it.\r\n\r\nAnd I agree with all to use prepared statements. Try something like this:\r\n\r\n    Connection conn=null;\r\n    PreparedStatement reader=null;\r\n\tPreparedStatement writer=null\r\n\tResultSet rs=null;\r\n\t\r\n\tboolean userExists = false;\r\n    Scanner sc=new Scanner (System.in);\r\n    System.out.println(&quot;Enter Username&quot;);\r\n    String username=sc.next();\r\n    System.out.println(&quot;Enter Email&quot;);\r\n    String email=sc.next();\r\n    System.out.println(&quot;Enter Phone Number&quot;);\r\n    int phno=sc.nextInt();\r\n    System.out.println(&quot;Create a Password&quot;);\r\n    String password=sc.next();\r\n    \r\n    \r\n    try {\r\n        conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;abc&quot;);\r\n        reader=conn.prepareStatement(&quot;select count(*) NumberOfUsers from login_details where user_name = ?&quot; );\t\t\r\n\t\treader.setString(1,username);\r\n\t\trs = reder.executeQuery();\r\n\t\tif ( rs.next() ) {\r\n\t\t   if ( rs.getInt(1) &gt; 0 ) {\r\n\t\t     userExists = true;\r\n\t\t\t System.out.println(&quot;Username already exists&quot;);\r\n\t\t   }\t \r\n\t\t}\r\n\t\t\r\n\t\tif ( ! userExists ) {\r\n            writer = conn.prepareStatement(&quot;insert into login_details(user_name,user_email,user_phone,user_password)values(?,?,?,?)&quot;);\r\n\t\t\twriter.setString(1,username);\r\n\t\t\twriter.setString(2,email);\r\n\t\t\twriter.setInt(3,phno);  // is it really integer?\r\n\t\t\twriter.setString(4,password);\r\n\t\t\t\r\n\t\t\twriter.executeUpdate();\r\n\t\t        \r\n        }\r\n        \r\n    } catch (SQLException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } finally {\r\n\t    if ( reader ! = null ) {\r\n\t\t   try {\r\n\t\t      reader.close();\r\n\t\t   } catch ( SQLException s ) {\r\n\t\t      System.out.println(&quot;Error while closing reader &quot; + s.getMessage());\r\n\t\t   }\r\n\t\t}  \r\n\t\tif ( writer ! = null ) {\r\n\t\t   try {\r\n\t\t      writer.close();\r\n\t\t   } catch ( SQLException s ) {\r\n\t\t      System.out.println(&quot;Error while closing writer &quot; + s.getMessage());\r\n\t\t   }\r\n\t\t} \r\n        if ( rs ! = null ) {\r\n\t\t   try {\r\n\t\t      rs.close();\r\n\t\t   } catch ( SQLException s ) {\r\n\t\t      System.out.println(&quot;Error while closing ResultSet &quot; + s.getMessage());\r\n\t\t   }\r\n\t\t}\t\t\r\n\t\tif ( conn ! = null ) {\r\n\t\t   try {\r\n\t\t      conn.close();\r\n\t\t   } catch ( SQLException s ) {\r\n\t\t      System.out.println(&quot;Error while closing Connection &quot; + s.getMessage());\r\n\t\t   }\r\n\t\t}\r\n\t\t\r\n\t\r\n\t}\r\n\r\n","title":"There is no error but the data is not getting inserted into the database","body":"<p>When I look at this code, it will insert more doubled entries, the more entries are in the table.</p>\n<p>I do not know, what you want to achieve while looping the content of the table and inserting the values one typed in.</p>\n<p>When I assume, you want to check if a user already exists, it is worth to check if the user is there, before inserting it.</p>\n<p>And I agree with all to use prepared statements. Try something like this:</p>\n<pre><code>Connection conn=null;\nPreparedStatement reader=null;\nPreparedStatement writer=null\nResultSet rs=null;\n\nboolean userExists = false;\nScanner sc=new Scanner (System.in);\nSystem.out.println(&quot;Enter Username&quot;);\nString username=sc.next();\nSystem.out.println(&quot;Enter Email&quot;);\nString email=sc.next();\nSystem.out.println(&quot;Enter Phone Number&quot;);\nint phno=sc.nextInt();\nSystem.out.println(&quot;Create a Password&quot;);\nString password=sc.next();\n\n\ntry {\n    conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;abc&quot;);\n    reader=conn.prepareStatement(&quot;select count(*) NumberOfUsers from login_details where user_name = ?&quot; );      \n    reader.setString(1,username);\n    rs = reder.executeQuery();\n    if ( rs.next() ) {\n       if ( rs.getInt(1) &gt; 0 ) {\n         userExists = true;\n         System.out.println(&quot;Username already exists&quot;);\n       }     \n    }\n    \n    if ( ! userExists ) {\n        writer = conn.prepareStatement(&quot;insert into login_details(user_name,user_email,user_phone,user_password)values(?,?,?,?)&quot;);\n        writer.setString(1,username);\n        writer.setString(2,email);\n        writer.setInt(3,phno);  // is it really integer?\n        writer.setString(4,password);\n        \n        writer.executeUpdate();\n            \n    }\n    \n} catch (SQLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} finally {\n    if ( reader ! = null ) {\n       try {\n          reader.close();\n       } catch ( SQLException s ) {\n          System.out.println(&quot;Error while closing reader &quot; + s.getMessage());\n       }\n    }  \n    if ( writer ! = null ) {\n       try {\n          writer.close();\n       } catch ( SQLException s ) {\n          System.out.println(&quot;Error while closing writer &quot; + s.getMessage());\n       }\n    } \n    if ( rs ! = null ) {\n       try {\n          rs.close();\n       } catch ( SQLException s ) {\n          System.out.println(&quot;Error while closing ResultSet &quot; + s.getMessage());\n       }\n    }       \n    if ( conn ! = null ) {\n       try {\n          conn.close();\n       } catch ( SQLException s ) {\n          System.out.println(&quot;Error while closing Connection &quot; + s.getMessage());\n       }\n    }\n    \n\n}\n</code></pre>\n"}],"owner":{"account_id":29527850,"reputation":1,"user_id":22629083,"display_name":"Ninad Danane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695749055,"creation_date":1695631607,"question_id":77171148,"body_markdown":"I have a sql database into which i want to insert data. Below is my code .After executing the java program data dosen&#39;t get inserted into the database and neither an error occurs.\r\n\r\n\tConnection conn=null;\r\n\t\tStatement stmt=null;\r\n\t\tScanner sc=new Scanner (System.in);\r\n\t\tSystem.out.println(&quot;Enter Username&quot;);\r\n\t\tString username=sc.next();\r\n\t\tSystem.out.println(&quot;Enter Email&quot;);\r\n\t\tString email=sc.next();\r\n\t\tSystem.out.println(&quot;Enter Phone Number&quot;);\r\n\t\tint phno=sc.nextInt();\r\n\t\tSystem.out.println(&quot;Create a Password&quot;);\r\n\t\tString password=sc.next();\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;abc&quot;);\r\n\t\t\tstmt=conn.createStatement();\r\n\t\t\tString query1=&quot;select * from login_details&quot;;\r\n\t\t\tString query2=&quot;insert into login_details(user_name,user_email,user_phone,user_password)values(&#39;&quot;+username+&quot;&#39;,&#39;&quot;+email+&quot;&#39;,&#39;&quot;+phno+&quot;&#39;,&#39;&quot;+password+&quot;&#39;)&quot;;\r\n\t\t\tResultSet rs=stmt.executeQuery(query1);\r\n\t\t\tboolean status=false;\r\n\t\t\t\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tif(status=false) {\r\n\t\t\t\t\tstmt.executeUpdate(query2);\r\n\t\t\t\t\tSystem.out.println(&quot;Details Entered Successfully&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"There is no error but the data is not getting inserted into the database","body":"<p>I have a sql database into which i want to insert data. Below is my code .After executing the java program data dosen't get inserted into the database and neither an error occurs.</p>\n<pre><code>Connection conn=null;\n    Statement stmt=null;\n    Scanner sc=new Scanner (System.in);\n    System.out.println(&quot;Enter Username&quot;);\n    String username=sc.next();\n    System.out.println(&quot;Enter Email&quot;);\n    String email=sc.next();\n    System.out.println(&quot;Enter Phone Number&quot;);\n    int phno=sc.nextInt();\n    System.out.println(&quot;Create a Password&quot;);\n    String password=sc.next();\n    \n    \n    try {\n        conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sample&quot;,&quot;root&quot;,&quot;abc&quot;);\n        stmt=conn.createStatement();\n        String query1=&quot;select * from login_details&quot;;\n        String query2=&quot;insert into login_details(user_name,user_email,user_phone,user_password)values('&quot;+username+&quot;','&quot;+email+&quot;','&quot;+phno+&quot;','&quot;+password+&quot;')&quot;;\n        ResultSet rs=stmt.executeQuery(query1);\n        boolean status=false;\n        \n        while(rs.next()) {\n            if(status=false) {\n                stmt.executeUpdate(query2);\n                System.out.println(&quot;Details Entered Successfully&quot;);\n            }\n        }\n        \n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695748868,"creation_date":1695748868,"answer_id":77182190,"question_id":77181300,"body_markdown":"You have pretty much answered your own question by quoting the RFC:  the first path segment may not contain a colon.  Therefore, `&quot;test:this.pdf&quot;` cannot possibly be a valid path.\r\n\r\nThus, the URI class assumes you wanted a non-hierarchical URI, also known as an opaque URI.  You can see this if you add this line:\r\n\r\n    System.out.println(&quot;Opaque: &quot; + uri.isOpaque());\r\n\r\nI feel this is, in fact, a bug in java.net.URI.  The seven-argument constructor is documented as generating a hierarchical URI.  I would prefer that the constructor either percent-escapes the colon or throws a URISyntaxException.  However, some methods in that class have language that implies re-parsing happens internally and can change whether a resulting URI is opaque or not.\r\n\r\n`&quot;test /:this.pdf&quot;` does not have a colon in the first path segment, which is why it works.\r\n\r\nThis example is easier to explain:\r\n\r\n    URI uri = new URI(\r\n        &quot;example&quot;,\r\n        null,\r\n        null,\r\n        -1,\r\n        &quot;test :this.pdf&quot;,\r\n        null,\r\n        null\r\n    );\r\n\r\nThe [documentation for that constructor](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.lang.String,java.lang.String)) states:\r\n\r\n&gt;If a scheme is given then the path, if also given, must either be empty or begin with a slash character (`&#39;/&#39;`).\r\n\r\nAs for doing your own percent-escaping: do *not* do `replaceAll(&quot;:&quot;, &quot;%3A&quot;)`.  **The URI class already performs percent-escaping.**  If you try to do it yourself, you’ll only create double-escaping.  However… the [single-argument constructor](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String)) is different and actually requires URI-unsafe characters to be percent-escaped beforehand.  All of this is documented in the [class documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#escaped-octets-quotation-encoding-and-decoding-heading):\r\n\r\n&gt;• The single-argument constructor requires any illegal characters in its argument to be quoted and preserves any escaped octets and *other* characters that are present.  \r\n&gt;• The multi-argument constructors quote illegal characters as required by the components in which they appear. The percent character (`&#39;%&#39;`) is always quoted by these constructors. Any *other* characters are preserved. \r\n\r\nAs for this:\r\n\r\n    new URI(&quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;).replaceAll(&quot; &quot;, &quot;%20&quot;))\r\n\r\nWell, okay, you can do that.  (Note:  regular expressions are expensive operations.  Use `replace(&quot;:&quot;, &quot;%3A&quot;)`, not replaceAll.)  Replacing all unsafe characters is a bit more involved;  see [RFC 3986](https://www.rfc-editor.org/rfc/rfc3986) for all the details.  It would be something like:\r\n\r\n    Formatter uriStr = new Formatter();\r\n    for (byte b : &quot;test :this.pdf&quot;.getBytes(StandardCharsets.UTF_8)) {\r\n        boolean unsafe = (b &lt;= 32 || b &gt;= 127 ||\r\n            &quot;\\&quot;#%/:&lt;&gt;[]\\\\`^{}|&quot;.indexOf(b) &gt;= 0);\r\n        uriStr.format(unsafe ? &quot;%%%02x&quot; : &quot;%c&quot;, b);\r\n    }\r\n    URI uri = new URI(uriStr.toString());\r\n\r\n(If the URI has a query, it gets a little more complicated, since `&amp;` and `=` also need to be escaped, but only in names and values, not in the entire URI.)\r\n\r\nRegarding the RFC, you mentioned:\r\n\r\n&gt;It does not specify further if an encoded variant is allowed, but clearly when getting the path from an URI in java, the encoded variant is allowed at that point.\r\n\r\nBy definition, a percent-escape is not a colon, it’s an escape sequence, so it’s allowed.\r\n\r\nIn fact, [the specification does define this](https://www.rfc-editor.org/rfc/rfc3986#section-3.3):\r\n\r\n&lt;pre&gt;\r\npath          = path-abempty    ; begins with &quot;/&quot; or is empty\r\n              / path-absolute   ; begins with &quot;/&quot; but not &quot;//&quot;\r\n              / &lt;strong&gt;path-noscheme&lt;/strong&gt;   ; begins with a non-colon segment\r\n              / path-rootless   ; begins with a segment\r\n              / path-empty      ; zero characters\r\n\r\npath-abempty  = *( &quot;/&quot; segment )\r\npath-absolute = &quot;/&quot; [ segment-nz *( &quot;/&quot; segment ) ]\r\n&lt;strong&gt;path-noscheme = segment-nz-nc&lt;/strong&gt; *( &quot;/&quot; segment )\r\npath-rootless = segment-nz *( &quot;/&quot; segment )\r\n\r\nsegment       = *pchar\r\nsegment-nz    = 1*pchar\r\n&lt;strong&gt;segment-nz-nc&lt;/strong&gt; = 1*( unreserved / pct-encoded / sub-delims / &quot;@&quot; )\r\n              ; non-zero-length segment without any colon &quot;:&quot;\r\n\r\npchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;\r\n&lt;/pre&gt;\r\n\r\n(Bold added by me.)\r\n\r\nsegment-nz-nc can contain any percent-escapes, but cannot contain a literal colon character.\r\n","title":"URI constructor bug?","body":"<p>You have pretty much answered your own question by quoting the RFC:  the first path segment may not contain a colon.  Therefore, <code>&quot;test:this.pdf&quot;</code> cannot possibly be a valid path.</p>\n<p>Thus, the URI class assumes you wanted a non-hierarchical URI, also known as an opaque URI.  You can see this if you add this line:</p>\n<pre><code>System.out.println(&quot;Opaque: &quot; + uri.isOpaque());\n</code></pre>\n<p>I feel this is, in fact, a bug in java.net.URI.  The seven-argument constructor is documented as generating a hierarchical URI.  I would prefer that the constructor either percent-escapes the colon or throws a URISyntaxException.  However, some methods in that class have language that implies re-parsing happens internally and can change whether a resulting URI is opaque or not.</p>\n<p><code>&quot;test /:this.pdf&quot;</code> does not have a colon in the first path segment, which is why it works.</p>\n<p>This example is easier to explain:</p>\n<pre><code>URI uri = new URI(\n    &quot;example&quot;,\n    null,\n    null,\n    -1,\n    &quot;test :this.pdf&quot;,\n    null,\n    null\n);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">documentation for that constructor</a> states:</p>\n<blockquote>\n<p>If a scheme is given then the path, if also given, must either be empty or begin with a slash character (<code>'/'</code>).</p>\n</blockquote>\n<p>As for doing your own percent-escaping: do <em>not</em> do <code>replaceAll(&quot;:&quot;, &quot;%3A&quot;)</code>.  <strong>The URI class already performs percent-escaping.</strong>  If you try to do it yourself, you’ll only create double-escaping.  However… the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">single-argument constructor</a> is different and actually requires URI-unsafe characters to be percent-escaped beforehand.  All of this is documented in the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html#escaped-octets-quotation-encoding-and-decoding-heading\" rel=\"nofollow noreferrer\">class documentation</a>:</p>\n<blockquote>\n<p>• The single-argument constructor requires any illegal characters in its argument to be quoted and preserves any escaped octets and <em>other</em> characters that are present.<br />\n• The multi-argument constructors quote illegal characters as required by the components in which they appear. The percent character (<code>'%'</code>) is always quoted by these constructors. Any <em>other</em> characters are preserved.</p>\n</blockquote>\n<p>As for this:</p>\n<pre><code>new URI(&quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;).replaceAll(&quot; &quot;, &quot;%20&quot;))\n</code></pre>\n<p>Well, okay, you can do that.  (Note:  regular expressions are expensive operations.  Use <code>replace(&quot;:&quot;, &quot;%3A&quot;)</code>, not replaceAll.)  Replacing all unsafe characters is a bit more involved;  see <a href=\"https://www.rfc-editor.org/rfc/rfc3986\" rel=\"nofollow noreferrer\">RFC 3986</a> for all the details.  It would be something like:</p>\n<pre><code>Formatter uriStr = new Formatter();\nfor (byte b : &quot;test :this.pdf&quot;.getBytes(StandardCharsets.UTF_8)) {\n    boolean unsafe = (b &lt;= 32 || b &gt;= 127 ||\n        &quot;\\&quot;#%/:&lt;&gt;[]\\\\`^{}|&quot;.indexOf(b) &gt;= 0);\n    uriStr.format(unsafe ? &quot;%%%02x&quot; : &quot;%c&quot;, b);\n}\nURI uri = new URI(uriStr.toString());\n</code></pre>\n<p>(If the URI has a query, it gets a little more complicated, since <code>&amp;</code> and <code>=</code> also need to be escaped, but only in names and values, not in the entire URI.)</p>\n<p>Regarding the RFC, you mentioned:</p>\n<blockquote>\n<p>It does not specify further if an encoded variant is allowed, but clearly when getting the path from an URI in java, the encoded variant is allowed at that point.</p>\n</blockquote>\n<p>By definition, a percent-escape is not a colon, it’s an escape sequence, so it’s allowed.</p>\n<p>In fact, <a href=\"https://www.rfc-editor.org/rfc/rfc3986#section-3.3\" rel=\"nofollow noreferrer\">the specification does define this</a>:</p>\n<pre>\npath          = path-abempty    ; begins with \"/\" or is empty\n              / path-absolute   ; begins with \"/\" but not \"//\"\n              / <strong>path-noscheme</strong>   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( \"/\" segment )\npath-absolute = \"/\" [ segment-nz *( \"/\" segment ) ]\n<strong>path-noscheme = segment-nz-nc</strong> *( \"/\" segment )\npath-rootless = segment-nz *( \"/\" segment )\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n<strong>segment-nz-nc</strong> = 1*( unreserved / pct-encoded / sub-delims / \"@\" )\n              ; non-zero-length segment without any colon \":\"\n\npchar         = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n</pre>\n<p>(Bold added by me.)</p>\n<p>segment-nz-nc can contain any percent-escapes, but cannot contain a literal colon character.</p>\n"}],"owner":{"account_id":1121241,"reputation":4697,"user_id":1109519,"accept_rate":66,"display_name":"nablex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77182190,"answer_count":1,"score":2,"last_activity_date":1695748868,"creation_date":1695741189,"question_id":77181300,"body_markdown":"I&#39;m wondering whether I&#39;m overlooking something or whether this is a bug in the java.net.URI class. Consider the following code:\r\n\r\n```java\r\n\t\tURI uri = new URI(\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t-1,\r\n\t\t\t&quot;test:this.pdf&quot;,\r\n\t\t\tnull,\r\n\t\t\tnull\r\n\t\t);\r\n\t\tSystem.out.println(&quot;Scheme: &quot; + uri.getScheme());\r\n\t\tSystem.out.println(&quot;Path: &quot; + uri.getPath());\r\n\t\tSystem.out.println(&quot;URI: &quot; + uri);\r\n```\r\n\r\nI&#39;m explicitly only passing in a path. When inspecting the URI we get no path:\r\n\r\n```\r\nScheme: test\r\nPath: null\r\nURI: test:this.pdf\r\n```\r\n\r\nIf we add a space, we get an exception:\r\n\r\n```java\r\nURI uri = new URI(\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t-1,\r\n\t\t\t&quot;test :this.pdf&quot;,\r\n\t\t\tnull,\r\n\t\t\tnull\r\n\t\t);\r\n```\r\n\r\nSaying: ``Illegal character in scheme name at index 4: test%20:this.pdf``\r\n\r\nIf however you add a strategically placed slash, it works again:\r\n\r\n```java\r\nURI uri = new URI(\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t-1,\r\n\t\t\t&quot;test /:this.pdf&quot;,\r\n\t\t\tnull,\r\n\t\t\tnull\r\n\t\t);\r\n```\r\n\r\nIf you try to explicitly set a scheme, it fails for another reason:\r\n\r\n```java\r\nURI uri = new URI(\r\n\t\t\t&quot;example&quot;,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t-1,\r\n\t\t\t&quot;test :this.pdf&quot;,\r\n\t\t\tnull,\r\n\t\t\tnull\r\n\t\t);\r\n```\r\n\r\nSaying: ``Relative path in absolute URI: example:test%20:this.pdf``\r\n\r\nIt can not be fixed by explicitly encoding the character:\r\n\r\n```java\r\nURI uri = new URI(\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t-1,\r\n\t\t\t&quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;),\r\n\t\t\tnull,\r\n\t\t\tnull\r\n\t\t);\r\n```\r\n\r\nBecause the encoding is then part of the path:\r\n\r\n```\r\nScheme: null\r\nPath: test %3Athis.pdf\r\nURI: test%20%253Athis.pdf\r\n```\r\n\r\nCurrently my only option seems to be to switch to the main constructor new URI(string) and explicitly determine the edge case myself and encode it:\r\n\r\n```\r\nuri = new URI(&quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;).replaceAll(&quot; &quot;, &quot;%20&quot;));\r\n```\r\n\r\nThis outputs what I need:\r\n\r\n```\r\nScheme: null\r\nPath: test :this.pdf\r\nURI: test%20%3Athis.pdf\r\n```\r\n\r\nThe specification states:\r\n\r\n```\r\nIn addition, a URI reference\r\n   (Section 4.1) may be a relative-path reference, in which case the\r\n   first path segment cannot contain a colon (&quot;:&quot;) character.\r\n```\r\n\r\nIt does not specify further if an encoded variant is allowed, but clearly when getting the path from an URI in java, the encoded variant is allowed at that point.\r\n\r\nIn that light it seems the original constructor is flawed by not encoding the &quot;:&quot;.","title":"URI constructor bug?","body":"<p>I'm wondering whether I'm overlooking something or whether this is a bug in the java.net.URI class. Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        URI uri = new URI(\n            null,\n            null,\n            null,\n            -1,\n            &quot;test:this.pdf&quot;,\n            null,\n            null\n        );\n        System.out.println(&quot;Scheme: &quot; + uri.getScheme());\n        System.out.println(&quot;Path: &quot; + uri.getPath());\n        System.out.println(&quot;URI: &quot; + uri);\n</code></pre>\n<p>I'm explicitly only passing in a path. When inspecting the URI we get no path:</p>\n<pre><code>Scheme: test\nPath: null\nURI: test:this.pdf\n</code></pre>\n<p>If we add a space, we get an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(\n            null,\n            null,\n            null,\n            -1,\n            &quot;test :this.pdf&quot;,\n            null,\n            null\n        );\n</code></pre>\n<p>Saying: <code>Illegal character in scheme name at index 4: test%20:this.pdf</code></p>\n<p>If however you add a strategically placed slash, it works again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(\n            null,\n            null,\n            null,\n            -1,\n            &quot;test /:this.pdf&quot;,\n            null,\n            null\n        );\n</code></pre>\n<p>If you try to explicitly set a scheme, it fails for another reason:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(\n            &quot;example&quot;,\n            null,\n            null,\n            -1,\n            &quot;test :this.pdf&quot;,\n            null,\n            null\n        );\n</code></pre>\n<p>Saying: <code>Relative path in absolute URI: example:test%20:this.pdf</code></p>\n<p>It can not be fixed by explicitly encoding the character:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(\n            null,\n            null,\n            null,\n            -1,\n            &quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;),\n            null,\n            null\n        );\n</code></pre>\n<p>Because the encoding is then part of the path:</p>\n<pre><code>Scheme: null\nPath: test %3Athis.pdf\nURI: test%20%253Athis.pdf\n</code></pre>\n<p>Currently my only option seems to be to switch to the main constructor new URI(string) and explicitly determine the edge case myself and encode it:</p>\n<pre><code>uri = new URI(&quot;test :this.pdf&quot;.replaceAll(&quot;:&quot;, &quot;%3A&quot;).replaceAll(&quot; &quot;, &quot;%20&quot;));\n</code></pre>\n<p>This outputs what I need:</p>\n<pre><code>Scheme: null\nPath: test :this.pdf\nURI: test%20%3Athis.pdf\n</code></pre>\n<p>The specification states:</p>\n<pre><code>In addition, a URI reference\n   (Section 4.1) may be a relative-path reference, in which case the\n   first path segment cannot contain a colon (&quot;:&quot;) character.\n</code></pre>\n<p>It does not specify further if an encoded variant is allowed, but clearly when getting the path from an URI in java, the encoded variant is allowed at that point.</p>\n<p>In that light it seems the original constructor is flawed by not encoding the &quot;:&quot;.</p>\n"},{"tags":["java","php","android"],"answers":[{"tags":[],"owner":{"account_id":7306791,"reputation":162,"user_id":5820400,"accept_rate":9,"display_name":"UM1979"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695748790,"creation_date":1695748790,"answer_id":77182180,"question_id":77181609,"body_markdown":"In getParams() method, can you remove the underscore (_) before the product_name and product_description and try? \r\n\r\nReplace the below one \r\n\r\n    @Override\r\n    protected Map&lt;String, String&gt; getParams() {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;_product_name&quot;, productName);\r\n        params.put(&quot;_product_description&quot;, productDescription);\r\n        // Add more parameters if needed\r\n        return params;\r\n    }\r\n\r\nto: \r\n \r\n    @Override\r\n    protected Map&lt;String, String&gt; getParams() {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;product_name&quot;, productName);\r\n        params.put(&quot;product_description&quot;, productDescription);\r\n        // Add more parameters if needed\r\n        return params;\r\n    }","title":"how to upload data to my website database from an android app","body":"<p>In getParams() method, can you remove the underscore (_) before the product_name and product_description and try?</p>\n<p>Replace the below one</p>\n<pre><code>@Override\nprotected Map&lt;String, String&gt; getParams() {\n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;_product_name&quot;, productName);\n    params.put(&quot;_product_description&quot;, productDescription);\n    // Add more parameters if needed\n    return params;\n}\n</code></pre>\n<p>to:</p>\n<pre><code>@Override\nprotected Map&lt;String, String&gt; getParams() {\n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;product_name&quot;, productName);\n    params.put(&quot;product_description&quot;, productDescription);\n    // Add more parameters if needed\n    return params;\n}\n</code></pre>\n"}],"owner":{"account_id":23434564,"reputation":21,"user_id":17492865,"display_name":"ALI EL BOUHALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695748790,"creation_date":1695743797,"question_id":77181609,"body_markdown":"I want to create an android app to upload products details to my website database, but the app don&#39;t send any data, please help me to fix the errors, those are all the codes i use :\r\n\r\nI use this void code in my android app , i use the Volley HTTP library : \r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n}\r\n```\r\n\r\n```\r\npublic void _uploadProduct(final String _product_name, final String _product_description) {\r\n    url = &quot;https://www.mywebsite.com/add_product.php&quot;;\r\n\r\n    final String productName = _product_name;\r\n    final String productDescription = _product_description;\r\n\r\n    // Log the product name and description\r\n    Log.d(&quot;MyApp&quot;, &quot;Product Name: &quot; + productName);\r\n    Log.d(&quot;MyApp&quot;, &quot;Product Description: &quot; + productDescription);\r\n\r\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n        new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                // Handle the response from the server\r\n                try {\r\n                    JSONObject jsonResponse = new JSONObject(response);\r\n                    String message = jsonResponse.getString(&quot;message&quot;);\r\n\r\n                    // Display a success message to the user\r\n                    Toast.makeText(UploadActivity.this, message, Toast.LENGTH_SHORT).show();\r\n\r\n                    // Clear input fields\r\n                    edittext1.setText(&quot;&quot;);\r\n                    edittext2.setText(&quot;&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        },\r\n        new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                // Handle error responses from the server\r\n                Toast.makeText(UploadActivity.this, &quot;Error uploading product&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.e(&quot;Upload Error&quot;, error.toString());\r\n            }\r\n        }) {\r\n        // Define the parameters to be sent to the server\r\n        @Override\r\n        protected Map&lt;String, String&gt; getParams() {\r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;_product_name&quot;, productName);\r\n            params.put(&quot;_product_description&quot;, productDescription);\r\n            // Add more parameters if needed\r\n            return params;\r\n        }\r\n    };\r\n\r\n    // Add the request to the request queue\r\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n    requestQueue.add(stringRequest);\r\n}\r\n```\r\n\r\nand in the upload button i use this code :\r\n\r\n```\r\nproductName = edittext1.getText().toString();\r\nproductDescription = edittext2.getText().toString();\r\nif (!TextUtils.isEmpty(productName) &amp;&amp; !TextUtils.isEmpty(productDescription)) {\r\n\t    // Make the network request\r\n\t    \r\n\t_uploadProduct(productName, productDescription);\r\n\t\r\n} else {\r\n\t    // Handle the case where the values are empty\r\n\t    Toast.makeText(UploadActivity.this, &quot;Product name and description cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\n\r\nand i use this php code on my website code source :\r\n\r\n```\r\n&lt;?php\r\ninclude &quot;connect.php&quot;;\r\n\r\nif ($_SERVER[&#39;REQUEST_METHOD&#39;] === &#39;POST&#39;) {\r\n    // Check if the required POST fields exist\r\n    if (isset($_POST[&#39;product_name&#39;]) &amp;&amp; isset($_POST[&#39;product_description&#39;])) {\r\n        // Get the product data from the POST request\r\n        $productName = $_POST[&#39;product_name&#39;];\r\n        $productDescription = $_POST[&#39;product_description&#39;];\r\n\r\n        // Prepare and execute the database query to insert the product data\r\n        $stmt = $pdo-&gt;prepare(&quot;INSERT INTO products (product_name, description) VALUES (?, ?)&quot;);\r\n        if ($stmt-&gt;execute([$productName, $productDescription])) {\r\n            $response = [&quot;message&quot; =&gt; &quot;Product uploaded successfully&quot;];\r\n            echo json_encode($response);\r\n        } else {\r\n            $response = [&quot;message&quot; =&gt; &quot;Error uploading product&quot;];\r\n            echo json_encode($response);\r\n        }\r\n    } else {\r\n        $response = [&quot;message&quot; =&gt; &quot;Missing product_name or product_description&quot;];\r\n        echo json_encode($response);\r\n    }\r\n} else {\r\n    $response = [&quot;message&quot; =&gt; &quot;Invalid request method&quot;];\r\n    echo json_encode($response);\r\n}\r\n?&gt;\r\n```\r\n\r\nthe data is not uploaded, and the app show this error : &quot; missing product_name or product_description &quot;","title":"how to upload data to my website database from an android app","body":"<p>I want to create an android app to upload products details to my website database, but the app don't send any data, please help me to fix the errors, those are all the codes i use :</p>\n<p>I use this void code in my android app , i use the Volley HTTP library :</p>\n<pre><code>dependencies {\n    implementation 'com.android.volley:volley:1.2.1'\n}\n</code></pre>\n<pre><code>public void _uploadProduct(final String _product_name, final String _product_description) {\n    url = &quot;https://www.mywebsite.com/add_product.php&quot;;\n\n    final String productName = _product_name;\n    final String productDescription = _product_description;\n\n    // Log the product name and description\n    Log.d(&quot;MyApp&quot;, &quot;Product Name: &quot; + productName);\n    Log.d(&quot;MyApp&quot;, &quot;Product Description: &quot; + productDescription);\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n        new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                // Handle the response from the server\n                try {\n                    JSONObject jsonResponse = new JSONObject(response);\n                    String message = jsonResponse.getString(&quot;message&quot;);\n\n                    // Display a success message to the user\n                    Toast.makeText(UploadActivity.this, message, Toast.LENGTH_SHORT).show();\n\n                    // Clear input fields\n                    edittext1.setText(&quot;&quot;);\n                    edittext2.setText(&quot;&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        },\n        new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                // Handle error responses from the server\n                Toast.makeText(UploadActivity.this, &quot;Error uploading product&quot;, Toast.LENGTH_SHORT).show();\n                Log.e(&quot;Upload Error&quot;, error.toString());\n            }\n        }) {\n        // Define the parameters to be sent to the server\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;_product_name&quot;, productName);\n            params.put(&quot;_product_description&quot;, productDescription);\n            // Add more parameters if needed\n            return params;\n        }\n    };\n\n    // Add the request to the request queue\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n<p>and in the upload button i use this code :</p>\n<pre><code>productName = edittext1.getText().toString();\nproductDescription = edittext2.getText().toString();\nif (!TextUtils.isEmpty(productName) &amp;&amp; !TextUtils.isEmpty(productDescription)) {\n        // Make the network request\n        \n    _uploadProduct(productName, productDescription);\n    \n} else {\n        // Handle the case where the values are empty\n        Toast.makeText(UploadActivity.this, &quot;Product name and description cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>and i use this php code on my website code source :</p>\n<pre><code>&lt;?php\ninclude &quot;connect.php&quot;;\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // Check if the required POST fields exist\n    if (isset($_POST['product_name']) &amp;&amp; isset($_POST['product_description'])) {\n        // Get the product data from the POST request\n        $productName = $_POST['product_name'];\n        $productDescription = $_POST['product_description'];\n\n        // Prepare and execute the database query to insert the product data\n        $stmt = $pdo-&gt;prepare(&quot;INSERT INTO products (product_name, description) VALUES (?, ?)&quot;);\n        if ($stmt-&gt;execute([$productName, $productDescription])) {\n            $response = [&quot;message&quot; =&gt; &quot;Product uploaded successfully&quot;];\n            echo json_encode($response);\n        } else {\n            $response = [&quot;message&quot; =&gt; &quot;Error uploading product&quot;];\n            echo json_encode($response);\n        }\n    } else {\n        $response = [&quot;message&quot; =&gt; &quot;Missing product_name or product_description&quot;];\n        echo json_encode($response);\n    }\n} else {\n    $response = [&quot;message&quot; =&gt; &quot;Invalid request method&quot;];\n    echo json_encode($response);\n}\n?&gt;\n</code></pre>\n<p>the data is not uploaded, and the app show this error : &quot; missing product_name or product_description &quot;</p>\n"},{"tags":["java","interface"],"answers":[{"tags":[],"owner":{"account_id":12910,"reputation":2774,"user_id":25664,"accept_rate":100,"display_name":"Kyle Walsh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252708055,"creation_date":1252708055,"answer_id":1413549,"question_id":1413543,"body_markdown":"An interface is like a contract between you and the person who made the interface that your code will carry out what they request. Furthermore, you want to code things in such a way that your solution can solve the problem many times over. Think code re-use. When you are coding to an implementation, you are thinking purely of the instance of a problem that you are trying to solve. So when under this influence, your solutions will be less generic and more focused. That will make writing a general solution that abides by an interface much more challenging.","title":"What does it mean to program to an interface?","body":"<p>An interface is like a contract between you and the person who made the interface that your code will carry out what they request. Furthermore, you want to code things in such a way that your solution can solve the problem many times over. Think code re-use. When you are coding to an implementation, you are thinking purely of the instance of a problem that you are trying to solve. So when under this influence, your solutions will be less generic and more focused. That will make writing a general solution that abides by an interface much more challenging.</p>\n"},{"tags":[],"owner":{"account_id":55645,"reputation":73532,"user_id":166686,"display_name":"mjv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1252708910,"creation_date":1252708158,"answer_id":1413553,"question_id":1413543,"body_markdown":"It&#39;s a way to separate responsibilities / dependancies between modules.\r\nBy defining a particular Interface (an API), you ensure that the modules on either side of the interface won&#39;t &quot;bother&quot; one another.\r\n\r\nFor example, say module 1 will take care of displaying bank account info for a particular user, and module2 will fetch bank account info from &quot;whatever&quot; back-end is used.\r\n\r\nBy defining a few types and functions, along with the associated parameters, for example a structure defining a bank transaction, and a few methods (functions) like GetLastTransactions(AccountNumber, NbTransactionsWanted, ArrayToReturnTheseRec)  and GetBalance(AccountNumer),   the Module1 will be able to get the needed info, and not worry about how this info is stored or calculated or whatever.  Conversely, the Module2 will just respond to the methods call by providing the info as per the defined interface, but won&#39;t worry about where this info is to be displayed, printed or whatever...\r\n\r\nWhen a module is changed, the implementation of the interface may vary, but as long as the interface remains the same, the modules using the API may at worst need to be recompiled/rebuilt, but they do not need to have their logic modified in anyway.\r\n\r\nThat&#39;s the idea of an API.","title":"What does it mean to program to an interface?","body":"<p>It's a way to separate responsibilities / dependancies between modules.\nBy defining a particular Interface (an API), you ensure that the modules on either side of the interface won't \"bother\" one another.</p>\n\n<p>For example, say module 1 will take care of displaying bank account info for a particular user, and module2 will fetch bank account info from \"whatever\" back-end is used.</p>\n\n<p>By defining a few types and functions, along with the associated parameters, for example a structure defining a bank transaction, and a few methods (functions) like GetLastTransactions(AccountNumber, NbTransactionsWanted, ArrayToReturnTheseRec)  and GetBalance(AccountNumer),   the Module1 will be able to get the needed info, and not worry about how this info is stored or calculated or whatever.  Conversely, the Module2 will just respond to the methods call by providing the info as per the defined interface, but won't worry about where this info is to be displayed, printed or whatever...</p>\n\n<p>When a module is changed, the implementation of the interface may vary, but as long as the interface remains the same, the modules using the API may at worst need to be recompiled/rebuilt, but they do not need to have their logic modified in anyway.</p>\n\n<p>That's the idea of an API.</p>\n"},{"tags":[],"owner":{"account_id":49939,"reputation":511957,"user_id":148870,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252708298,"creation_date":1252708298,"answer_id":1413560,"question_id":1413543,"body_markdown":"Essentially, interfaces are the slightly more concrete representation of general concepts of interoperation - they provide the specification for what all the various options you might care to &quot;plug in&quot; for a particular function should do similarly so that code which uses them won&#39;t be dependent on one particular option.\r\n\r\nFor instance, many DB libraries act as interfaces in that they can operate with many different actual DBs (MSSQL, MySQL, PostgreSQL, SQLite, etc.) without the code that uses the DB library having to change at all.\r\n\r\nOverall, it allows you to create code that&#39;s more flexible - giving your clients more options on how they use it, and also potentially allowing you to more easily reuse code in multiple places instead of having to write new specialized code.","title":"What does it mean to program to an interface?","body":"<p>Essentially, interfaces are the slightly more concrete representation of general concepts of interoperation - they provide the specification for what all the various options you might care to \"plug in\" for a particular function should do similarly so that code which uses them won't be dependent on one particular option.</p>\n\n<p>For instance, many DB libraries act as interfaces in that they can operate with many different actual DBs (MSSQL, MySQL, PostgreSQL, SQLite, etc.) without the code that uses the DB library having to change at all.</p>\n\n<p>Overall, it allows you to create code that's more flexible - giving your clients more options on how they use it, and also potentially allowing you to more easily reuse code in multiple places instead of having to write new specialized code.</p>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237913,"user_id":45914,"accept_rate":68,"display_name":"jason"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1252708346,"creation_date":1252708346,"answer_id":1413562,"question_id":1413543,"body_markdown":"At its core, this statement is really about dependencies. If I code my class `Foo` to an implementation (`Bar` instead of `IBar`) then `Foo` is now dependent on `Bar`. But if I code my class `Foo` to an interface (`IBar` instead of `Bar`) then the implementation can vary and `Foo` is no longer dependent on a specific implementation. This approach gives a flexible, loosely-coupled code base that is more easily reused, refactored and unit tested.","title":"What does it mean to program to an interface?","body":"<p>At its core, this statement is really about dependencies. If I code my class <code>Foo</code> to an implementation (<code>Bar</code> instead of <code>IBar</code>) then <code>Foo</code> is now dependent on <code>Bar</code>. But if I code my class <code>Foo</code> to an interface (<code>IBar</code> instead of <code>Bar</code>) then the implementation can vary and <code>Foo</code> is no longer dependent on a specific implementation. This approach gives a flexible, loosely-coupled code base that is more easily reused, refactored and unit tested.</p>\n"},{"tags":[],"owner":{"account_id":22560,"reputation":56311,"user_id":55774,"accept_rate":62,"display_name":"Frederik Gheysels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252708419,"creation_date":1252708419,"answer_id":1413565,"question_id":1413543,"body_markdown":"By programming to an interface, you are more likely to apply the low coupling / high cohesion principle.\r\nBy programming to an interface, you can easily switch the implementation of that interface (the specific class).\r\n\r\n\r\n","title":"What does it mean to program to an interface?","body":"<p>By programming to an interface, you are more likely to apply the low coupling / high cohesion principle.\nBy programming to an interface, you can easily switch the implementation of that interface (the specific class).</p>\n"},{"tags":[],"owner":{"account_id":53868,"reputation":1956,"user_id":161081,"accept_rate":25,"display_name":"weiji"},"down_vote_count":2,"up_vote_count":40,"is_accepted":true,"score":38,"last_activity_date":1252708922,"creation_date":1252708922,"answer_id":1413601,"question_id":1413543,"body_markdown":"You are probably looking for something like this:\r\n\r\n    public static void main(String... args) {\r\n      // do this - declare the variable to be of type Set, which is an interface\r\n      Set buddies = new HashSet();\r\n\r\n      // don&#39;t do this - you declare the variable to have a fixed type\r\n      HashSet buddies2 = new HashSet();\r\n    }\r\n\r\nWhy is it considered good to do it the first way?  Let&#39;s say later on you decide you need to use a different data structure, say a LinkedHashSet, in order to take advantage of the LinkedHashSet&#39;s functionality.  The code has to be changed like so:\r\n\r\n    public static void main(String... args) {\r\n      // do this - declare the variable to be of type Set, which is an interface\r\n      Set buddies = new LinkedHashSet();  // &lt;- change the constructor call\r\n\r\n      // don&#39;t do this - you declare the variable to have a fixed type\r\n      // this you have to change both the variable type and the constructor call\r\n      // HashSet buddies2 = new HashSet();  // old version\r\n      LinkedHashSet buddies2 = new LinkedHashSet();\r\n     }\r\n\r\nThis doesn&#39;t seem so bad, right?  But what if you wrote getters the same way?\r\n\r\n    public HashSet getBuddies() {\r\n      return buddies;\r\n    }\r\n\r\nThis would have to be changed, too!\r\n\r\n    public LinkedHashSet getBuddies() {\r\n      return buddies;\r\n    }\r\n\r\nHopefully you see, even with a small program like this you have far-reaching implications on what you declare the type of the variable to be.  With objects going back and forth so much it definitely helps make the program easier to code and maintain if you just rely on a variable being declared as an interface, not as a specific implementation of that interface (in this case, declare it to be a Set, not a LinkedHashSet or whatever).  It can be just this:\r\n\r\n    public Set getBuddies() {\r\n      return buddies;\r\n    }\r\n\r\nThere&#39;s another benefit too, in that (well at least for me) the difference helps me design a program better.  But hopefully my examples give you some idea... hope it helps.","title":"What does it mean to program to an interface?","body":"<p>You are probably looking for something like this:</p>\n\n<pre><code>public static void main(String... args) {\n  // do this - declare the variable to be of type Set, which is an interface\n  Set buddies = new HashSet();\n\n  // don't do this - you declare the variable to have a fixed type\n  HashSet buddies2 = new HashSet();\n}\n</code></pre>\n\n<p>Why is it considered good to do it the first way?  Let's say later on you decide you need to use a different data structure, say a LinkedHashSet, in order to take advantage of the LinkedHashSet's functionality.  The code has to be changed like so:</p>\n\n<pre><code>public static void main(String... args) {\n  // do this - declare the variable to be of type Set, which is an interface\n  Set buddies = new LinkedHashSet();  // &lt;- change the constructor call\n\n  // don't do this - you declare the variable to have a fixed type\n  // this you have to change both the variable type and the constructor call\n  // HashSet buddies2 = new HashSet();  // old version\n  LinkedHashSet buddies2 = new LinkedHashSet();\n }\n</code></pre>\n\n<p>This doesn't seem so bad, right?  But what if you wrote getters the same way?</p>\n\n<pre><code>public HashSet getBuddies() {\n  return buddies;\n}\n</code></pre>\n\n<p>This would have to be changed, too!</p>\n\n<pre><code>public LinkedHashSet getBuddies() {\n  return buddies;\n}\n</code></pre>\n\n<p>Hopefully you see, even with a small program like this you have far-reaching implications on what you declare the type of the variable to be.  With objects going back and forth so much it definitely helps make the program easier to code and maintain if you just rely on a variable being declared as an interface, not as a specific implementation of that interface (in this case, declare it to be a Set, not a LinkedHashSet or whatever).  It can be just this:</p>\n\n<pre><code>public Set getBuddies() {\n  return buddies;\n}\n</code></pre>\n\n<p>There's another benefit too, in that (well at least for me) the difference helps me design a program better.  But hopefully my examples give you some idea... hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1252709081,"creation_date":1252709081,"answer_id":1413613,"question_id":1413543,"body_markdown":"Take a red 2x4 Lego block and attach it to a blue 2x4 Lego block so one sits atop the other. Now remove the blue block and replace it with a yellow 2x4 Lego block. Notice that the red block did not have to change even though the &quot;implementation&quot; of the attached block varied.\r\n\r\nNow go get some other kind of block that does not share the Lego &quot;interface&quot;. Try to attach it to the red 2x4 Lego. To make this happen, you will need to change either the Lego or the other block, perhaps by cutting away some plastic or adding new plastic or glue. Notice that by varying the &quot;implementation&quot; you are forced to change it or the client.\r\n\r\nBeing able to let implementations vary without changing the client or the server - that is what it means to program to interfaces.","title":"What does it mean to program to an interface?","body":"<p>Take a red 2x4 Lego block and attach it to a blue 2x4 Lego block so one sits atop the other. Now remove the blue block and replace it with a yellow 2x4 Lego block. Notice that the red block did not have to change even though the \"implementation\" of the attached block varied.</p>\n\n<p>Now go get some other kind of block that does not share the Lego \"interface\". Try to attach it to the red 2x4 Lego. To make this happen, you will need to change either the Lego or the other block, perhaps by cutting away some plastic or adding new plastic or glue. Notice that by varying the \"implementation\" you are forced to change it or the client.</p>\n\n<p>Being able to let implementations vary without changing the client or the server - that is what it means to program to interfaces.</p>\n"},{"tags":[],"owner":{"account_id":19245,"reputation":28749,"user_id":44952,"accept_rate":84,"display_name":"codymanix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252709086,"creation_date":1252709086,"answer_id":1413614,"question_id":1413543,"body_markdown":"It means that your variables, properties, parameters and return types should have an interface type instead of a concrete implementation.\r\n\r\nWhich means you use `IEnumerable&lt;T&gt; Foo(IList mylist)` instead of `ArrayList Foo(ArrayList myList)` for example.\r\n\r\nUse the implementation only when constructing the object:\r\n\r\n    IList list = new ArrayList();\r\n\r\nIf you have done this you can later change the object type maybe you want to use LinkedList instead of ArrayList later on, this is no problem since everywhere else you refer to it as just &quot;IList&quot;\r\n","title":"What does it mean to program to an interface?","body":"<p>It means that your variables, properties, parameters and return types should have an interface type instead of a concrete implementation.</p>\n\n<p>Which means you use <code>IEnumerable&lt;T&gt; Foo(IList mylist)</code> instead of <code>ArrayList Foo(ArrayList myList)</code> for example.</p>\n\n<p>Use the implementation only when constructing the object:</p>\n\n<pre><code>IList list = new ArrayList();\n</code></pre>\n\n<p>If you have done this you can later change the object type maybe you want to use LinkedList instead of ArrayList later on, this is no problem since everywhere else you refer to it as just \"IList\"</p>\n"},{"tags":[],"owner":{"account_id":6454,"reputation":25554,"user_id":10861,"accept_rate":76,"display_name":"rmeador"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1252709984,"creation_date":1252709984,"answer_id":1413648,"question_id":1413543,"body_markdown":"My initial read of that statement is very different than any answer I&#39;ve read yet.  I agree with all the people that say using interface types for your method params, etc are very important, but that&#39;s not what this statement means to me.\r\n\r\nMy take is that it&#39;s telling you to write code that only depends on what the interface (in this case, I&#39;m using &quot;interface&quot; to mean exposed methods of either a class or interface type) you&#39;re using says it does in the documentation.  This is the opposite of writing code that depends on the implementation details of the functions you&#39;re calling.  You should treat all function calls as black boxes (you can make exceptions to this if both functions are methods of the same class, but ideally it is maintained at all times).\r\n\r\nExample: suppose there is a `Screen` class that has `Draw(image)` and `Clear()` methods on it.  The documentation says something like &quot;the draw method draws the specified image on the screen&quot; and &quot;the clear method clears the screen&quot;.  If you wanted to display images sequentially, the correct way to do so would be to repeatedly call `Clear()` followed by `Draw()`.  That would be coding to the interface.  If you&#39;re coding to the implementation, you might do something like only calling the `Draw()` method because you know from looking at the implementation of `Draw()` that it internally calls `Clear()` before doing any drawing.  This is bad because you&#39;re now dependent on implementation details that you can&#39;t know from looking at the exposed interface.\r\n\r\nI look forward to seeing if anyone else shares this interpretation of the phrase in the OP&#39;s question, or if I&#39;m entirely off base...","title":"What does it mean to program to an interface?","body":"<p>My initial read of that statement is very different than any answer I've read yet.  I agree with all the people that say using interface types for your method params, etc are very important, but that's not what this statement means to me.</p>\n\n<p>My take is that it's telling you to write code that only depends on what the interface (in this case, I'm using \"interface\" to mean exposed methods of either a class or interface type) you're using says it does in the documentation.  This is the opposite of writing code that depends on the implementation details of the functions you're calling.  You should treat all function calls as black boxes (you can make exceptions to this if both functions are methods of the same class, but ideally it is maintained at all times).</p>\n\n<p>Example: suppose there is a <code>Screen</code> class that has <code>Draw(image)</code> and <code>Clear()</code> methods on it.  The documentation says something like \"the draw method draws the specified image on the screen\" and \"the clear method clears the screen\".  If you wanted to display images sequentially, the correct way to do so would be to repeatedly call <code>Clear()</code> followed by <code>Draw()</code>.  That would be coding to the interface.  If you're coding to the implementation, you might do something like only calling the <code>Draw()</code> method because you know from looking at the implementation of <code>Draw()</code> that it internally calls <code>Clear()</code> before doing any drawing.  This is bad because you're now dependent on implementation details that you can't know from looking at the exposed interface.</p>\n\n<p>I look forward to seeing if anyone else shares this interpretation of the phrase in the OP's question, or if I'm entirely off base...</p>\n"},{"tags":[],"owner":{"account_id":29108,"reputation":139847,"user_id":78374,"accept_rate":67,"display_name":"Stefano Borini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252834491,"creation_date":1252710030,"answer_id":1413650,"question_id":1413543,"body_markdown":"In addition to the other answers, I add more:\r\n\r\nYou program to an interface because it&#39;s easier to handle. The interface encapsulates the behavior of the underlying class. This way, the class is a blackbox. Your whole real life is programming to an interface. When you use a tv, a car, a stereo, you are acting on its interface, not on its implementation details, and you assume that if implementation changes (e.g. diesel engine or gas) the interface remains the same. Programming to an interface allows you to preserve your behavior when non-disruptive details are changed, optimized, or fixed. This simplifies also the task of documenting, learning, and using.\r\n\r\nAlso, programming to an interface allows you to delineate what is the behavior of your code before even writing it. You expect a class to do something. You can test this something even before you write the actual code that does it. When your interface is clean and done, and you like interacting with it, you can write the actual code that does things.\r\n\r\n","title":"What does it mean to program to an interface?","body":"<p>In addition to the other answers, I add more:</p>\n\n<p>You program to an interface because it's easier to handle. The interface encapsulates the behavior of the underlying class. This way, the class is a blackbox. Your whole real life is programming to an interface. When you use a tv, a car, a stereo, you are acting on its interface, not on its implementation details, and you assume that if implementation changes (e.g. diesel engine or gas) the interface remains the same. Programming to an interface allows you to preserve your behavior when non-disruptive details are changed, optimized, or fixed. This simplifies also the task of documenting, learning, and using.</p>\n\n<p>Also, programming to an interface allows you to delineate what is the behavior of your code before even writing it. You expect a class to do something. You can test this something even before you write the actual code that does it. When your interface is clean and done, and you like interacting with it, you can write the actual code that does things.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1695748444,"creation_date":1252710474,"answer_id":1413670,"question_id":1413543,"body_markdown":"An interface defines the **methods** an object is commited to respond. \r\n\r\n\r\nWhen you code to the **interface**, you can change the underlying object and your code will **still work** ( because your code is agnostic of WHO do perform the job or HOW the job is performed )  You gain flexibility this way. \r\n\r\n\r\nWhen you code to a particular **implementation**, if you need to change the underlying object your code will **most likely break**, because the new object may not respond to the same methods. \r\n\r\n\r\nSo to put a clear example:\r\n\r\n\r\n   If you need to hold a number of objects you might have decided to use a [Vector][1]. \r\n\r\nIf you need to access the first object of the Vector you could write:\r\n\r\n     Vector items = new Vector(); \r\n     // fill it \r\n     Object first = items.firstElement();\r\n\r\nSo far so good.\r\n\r\n\r\nLater you decided that because for &quot;some&quot; reason you need to change the implementation ( let&#39;s say the Vector creates a bottleneck due to excessive synchronization) \r\n\r\nYou realize you need to use an [ArrayList][2] instad.\r\n\r\n\r\nWell, you code will break ... \r\n\r\n    ArrayList items = new ArrayList();\r\n    // fill it  \r\n    Object first = items.firstElement(); // compile time error. \r\n\r\n\r\nYou can&#39;t. This line and all those line who use the *firstElement()* method would break. \r\n\r\n\r\nIf you need specific behavior and you definitely need this method, it might be ok ( although you won&#39;t be able to change the implementation )  **But** if what you need is to simply retrieve the first element ( that is , there is nothing special with the Vector other that it has the firstElement() method )  then using the interface rather than the implementation would give you the flexibility to change.\r\n\r\n\r\n     List items = new Vector();\r\n     // fill it \r\n     Object first = items.get( 0 ); //\r\n\r\nIn this form you are not coding to the [get method of Vector][3], but to the [get method of List][4]. \r\n\r\n It does not matter how do the underlying object performs the method, as long as it respond to the contract of &quot;get the 0th element of the collection&quot; \r\n\r\n  This way you may later change it to any other implementation:\r\n\r\n     List items = new ArrayList(); // Or LinkedList or any other who implements List\r\n     // fill it \r\n     Object first = items.get( 0 ); // Doesn&#39;t break\r\n\r\nThis sample might look naive, but is the base on which OO technology is based ( even on those language which are not statically typed like Python, Ruby, Smalltalk, Objective-C etc ) \r\n\r\n\r\n  A more complex example is the way [JDBC][5] works.  You can change the driver, but most of your call will work the same way. For instance you could use the standard driver for oracle databases or you could use one more sophisticated like the ones Weblogic or Webpshere provide . Of course it isn&#39;t magical you still have to test your product before, but at least you don&#39;t have stuff like:\r\n\r\n\r\n\r\n     statement.executeOracle9iSomething();\r\n\r\nvs \r\n\r\n    statement.executeOracle11gSomething();\r\n\r\nSomething similar happens with Java Swing. \r\n\r\n \r\nAdditional reading:\r\n\r\n[Design Principles from Design Patterns][6]\r\n\r\n[Effective Java Item: Refer to objects by their interfaces][7]\r\n\r\n( Buying this book the one of the best things you could do in life - and read if of course - ) \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Vector.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Vector.html#get%28int%29\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/List.html#get%28int%29\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/sql/package-summary.html\r\n  [6]: http://www.artima.com/lejava/articles/designprinciplesP.html\r\n  [7]: https://books.google.de/books?id=ZZOiqZQIbRMC&amp;pg=PA156&amp;dq=Refer+to+objects+by+their+interfaces&amp;ei=39eqSpTuHZP4Nay7sLsN&amp;client=firefox-a&amp;redir_esc=y&amp;hl=de","title":"What does it mean to program to an interface?","body":"<p>An interface defines the <strong>methods</strong> an object is commited to respond.</p>\n<p>When you code to the <strong>interface</strong>, you can change the underlying object and your code will <strong>still work</strong> ( because your code is agnostic of WHO do perform the job or HOW the job is performed )  You gain flexibility this way.</p>\n<p>When you code to a particular <strong>implementation</strong>, if you need to change the underlying object your code will <strong>most likely break</strong>, because the new object may not respond to the same methods.</p>\n<p>So to put a clear example:</p>\n<p>If you need to hold a number of objects you might have decided to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">Vector</a>.</p>\n<p>If you need to access the first object of the Vector you could write:</p>\n<pre><code> Vector items = new Vector(); \n // fill it \n Object first = items.firstElement();\n</code></pre>\n<p>So far so good.</p>\n<p>Later you decided that because for &quot;some&quot; reason you need to change the implementation ( let's say the Vector creates a bottleneck due to excessive synchronization)</p>\n<p>You realize you need to use an <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> instad.</p>\n<p>Well, you code will break ...</p>\n<pre><code>ArrayList items = new ArrayList();\n// fill it  \nObject first = items.firstElement(); // compile time error. \n</code></pre>\n<p>You can't. This line and all those line who use the <em>firstElement()</em> method would break.</p>\n<p>If you need specific behavior and you definitely need this method, it might be ok ( although you won't be able to change the implementation )  <strong>But</strong> if what you need is to simply retrieve the first element ( that is , there is nothing special with the Vector other that it has the firstElement() method )  then using the interface rather than the implementation would give you the flexibility to change.</p>\n<pre><code> List items = new Vector();\n // fill it \n Object first = items.get( 0 ); //\n</code></pre>\n<p>In this form you are not coding to the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Vector.html#get%28int%29\" rel=\"nofollow noreferrer\">get method of Vector</a>, but to the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#get%28int%29\" rel=\"nofollow noreferrer\">get method of List</a>.</p>\n<p>It does not matter how do the underlying object performs the method, as long as it respond to the contract of &quot;get the 0th element of the collection&quot;</p>\n<p>This way you may later change it to any other implementation:</p>\n<pre><code> List items = new ArrayList(); // Or LinkedList or any other who implements List\n // fill it \n Object first = items.get( 0 ); // Doesn't break\n</code></pre>\n<p>This sample might look naive, but is the base on which OO technology is based ( even on those language which are not statically typed like Python, Ruby, Smalltalk, Objective-C etc )</p>\n<p>A more complex example is the way <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/package-summary.html\" rel=\"nofollow noreferrer\">JDBC</a> works.  You can change the driver, but most of your call will work the same way. For instance you could use the standard driver for oracle databases or you could use one more sophisticated like the ones Weblogic or Webpshere provide . Of course it isn't magical you still have to test your product before, but at least you don't have stuff like:</p>\n<pre><code> statement.executeOracle9iSomething();\n</code></pre>\n<p>vs</p>\n<pre><code>statement.executeOracle11gSomething();\n</code></pre>\n<p>Something similar happens with Java Swing.</p>\n<p>Additional reading:</p>\n<p><a href=\"http://www.artima.com/lejava/articles/designprinciplesP.html\" rel=\"nofollow noreferrer\">Design Principles from Design Patterns</a></p>\n<p><a href=\"https://books.google.de/books?id=ZZOiqZQIbRMC&amp;pg=PA156&amp;dq=Refer+to+objects+by+their+interfaces&amp;ei=39eqSpTuHZP4Nay7sLsN&amp;client=firefox-a&amp;redir_esc=y&amp;hl=de\" rel=\"nofollow noreferrer\">Effective Java Item: Refer to objects by their interfaces</a></p>\n<p>( Buying this book the one of the best things you could do in life - and read if of course - )</p>\n"},{"tags":[],"owner":{"account_id":21605,"reputation":66264,"user_id":52626,"accept_rate":78,"display_name":"Wim Coenen"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1252796718,"creation_date":1252713092,"answer_id":1413766,"question_id":1413543,"body_markdown":"One day, a junior programmer was instructed by his boss to write an application to analyze business data and condense it all in pretty reports with metrics, graphs and all that stuff. The boss gave him an XML file with the remark &quot;here&#39;s some example business data&quot;.\r\n\r\nThe programmer started coding. A few weeks later he felt that the metrics and graphs and stuff were pretty enough to satisfy the boss, and he presented his work. &quot;That&#39;s great&quot; said the boss, &quot;but can it also show business data from this SQL database we have?&quot;.\r\n\r\nThe programmer went back to coding. There was code for reading business data from XML sprinkled throughout his application. He rewrote all those snippets, wrapping them with an &quot;if&quot; condition:\r\n\r\n    if (dataType == &quot;XML&quot;)\r\n    {\r\n       ... read a piece of XML data ...\r\n    }\r\n    else\r\n    {\r\n       .. query something from the SQL database ...\r\n    }\r\n\r\nWhen presented with the new iteration of the software, the boss replied: &quot;That&#39;s great, but can it also report on business data from this web service?&quot; Remembering all those tedious if statements he would have to rewrite AGAIN, the programmer became enraged. &quot;First xml, then SQL, now web services! What is the REAL source of business data?&quot;\r\n\r\nThe boss replied: &quot;Anything that can provide it&quot;\r\n\r\nAt that moment, the programmer was [enlightened][1].\r\n\r\n\r\n  [1]: http://martinfowler.com/eaaCatalog/dataMapper.html","title":"What does it mean to program to an interface?","body":"<p>One day, a junior programmer was instructed by his boss to write an application to analyze business data and condense it all in pretty reports with metrics, graphs and all that stuff. The boss gave him an XML file with the remark \"here's some example business data\".</p>\n\n<p>The programmer started coding. A few weeks later he felt that the metrics and graphs and stuff were pretty enough to satisfy the boss, and he presented his work. \"That's great\" said the boss, \"but can it also show business data from this SQL database we have?\".</p>\n\n<p>The programmer went back to coding. There was code for reading business data from XML sprinkled throughout his application. He rewrote all those snippets, wrapping them with an \"if\" condition:</p>\n\n<pre><code>if (dataType == \"XML\")\n{\n   ... read a piece of XML data ...\n}\nelse\n{\n   .. query something from the SQL database ...\n}\n</code></pre>\n\n<p>When presented with the new iteration of the software, the boss replied: \"That's great, but can it also report on business data from this web service?\" Remembering all those tedious if statements he would have to rewrite AGAIN, the programmer became enraged. \"First xml, then SQL, now web services! What is the REAL source of business data?\"</p>\n\n<p>The boss replied: \"Anything that can provide it\"</p>\n\n<p>At that moment, the programmer was <a href=\"http://martinfowler.com/eaaCatalog/dataMapper.html\" rel=\"noreferrer\">enlightened</a>.</p>\n"},{"tags":[],"owner":{"account_id":22940,"reputation":1845,"user_id":57085,"accept_rate":70,"display_name":"CS."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252726151,"creation_date":1252725267,"answer_id":1414156,"question_id":1413543,"body_markdown":"**Look, I didn&#39;t realize this was for Java, and my code is based on C#, but I believe it provides the point.**\r\n\r\nEvery car have doors.\r\n\r\nBut not every door act the same, like in UK the taxi doors are backwards. One universal fact is that they &quot;Open&quot; and &quot;Close&quot;.\r\n\r\n\r\n\tinterface IDoor\r\n\t{\r\n\t\tvoid Open();\r\n\t\tvoid Close();\r\n\t}\r\n\r\n\tclass BackwardDoor : IDoor\r\n\t{\r\n\t\tpublic void Open()\r\n\t\t{\r\n\t\t   // code to make the door open the &quot;wrong way&quot;.\r\n\t\t}\r\n\r\n\t\tpublic void Close()\r\n\t\t{\r\n\t\t   // code to make the door close properly.\r\n\t\t}\r\n\t}\r\n\r\n\tclass RegularDoor : IDoor\r\n\t{\r\n\t\tpublic void Open()\r\n\t\t{\r\n\t\t\t// code to make the door open the &quot;proper way&quot;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void Close()\r\n\t\t{\r\n\t\t\t// code to make the door close properly.\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass RedUkTaxiDoor : BackwardDoor\r\n\t{\r\n\t\tpublic Color Color\r\n\t\t{\r\n\t\t\tget\r\n\t\t\t{\r\n\t\t\t\treturn Color.Red;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIf you are a car door repairer, you dont care how the door looks, or if it opens one way or the other way. Your only requirement is that the door acts like a door, such as IDoor.\r\n\r\n\tclass DoorRepairer\r\n\t{\r\n\t\tpublic void Repair(IDoor door)\r\n\t\t{\r\n\t\t\tdoor.Open();\r\n\t\t\t// Do stuff inside the car.\r\n\t\t\tdoor.Close();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe Repairer can handle RedUkTaxiDoor, RegularDoor and BackwardDoor. And any other type of doors, such as truck doors, limousine doors.\r\n\r\n\tDoorRepairer repairer = new DoorRepairer();\r\n\r\n\trepairer.Repair( new RegularDoor() );\r\n\trepairer.Repair( new BackwardDoor() );\r\n\trepairer.Repair( new RedUkTaxiDoor() );\r\n\r\nApply this for lists, you have LinkedList, Stack, Queue, the normal List, and if you want your own, MyList. They all implement the IList interface, which requires them to implement Add and Remove. So if your class add or remove items in any given list...\r\n\r\n\tclass ListAdder\r\n\t{\r\n\t\tpublic void PopulateWithSomething(IList list)\r\n\t\t{\r\n\t\t\t list.Add(&quot;one&quot;);\r\n\t\t\t list.Add(&quot;two&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tStack stack = new Stack();\r\n\tQueue queue = new Queue();\r\n\r\n\tListAdder la = new ListAdder()\r\n\tla.PopulateWithSomething(stack);\r\n\tla.PopulateWithSomething(queue);\r\n","title":"What does it mean to program to an interface?","body":"<p><strong>Look, I didn't realize this was for Java, and my code is based on C#, but I believe it provides the point.</strong></p>\n\n<p>Every car have doors.</p>\n\n<p>But not every door act the same, like in UK the taxi doors are backwards. One universal fact is that they \"Open\" and \"Close\".</p>\n\n<pre><code>interface IDoor\n{\n    void Open();\n    void Close();\n}\n\nclass BackwardDoor : IDoor\n{\n    public void Open()\n    {\n       // code to make the door open the \"wrong way\".\n    }\n\n    public void Close()\n    {\n       // code to make the door close properly.\n    }\n}\n\nclass RegularDoor : IDoor\n{\n    public void Open()\n    {\n        // code to make the door open the \"proper way\"\n    }\n\n    public void Close()\n    {\n        // code to make the door close properly.\n    }\n}\n\nclass RedUkTaxiDoor : BackwardDoor\n{\n    public Color Color\n    {\n        get\n        {\n            return Color.Red;\n        }\n    }\n}\n</code></pre>\n\n<p>If you are a car door repairer, you dont care how the door looks, or if it opens one way or the other way. Your only requirement is that the door acts like a door, such as IDoor.</p>\n\n<pre><code>class DoorRepairer\n{\n    public void Repair(IDoor door)\n    {\n        door.Open();\n        // Do stuff inside the car.\n        door.Close();\n    }\n}\n</code></pre>\n\n<p>The Repairer can handle RedUkTaxiDoor, RegularDoor and BackwardDoor. And any other type of doors, such as truck doors, limousine doors.</p>\n\n<pre><code>DoorRepairer repairer = new DoorRepairer();\n\nrepairer.Repair( new RegularDoor() );\nrepairer.Repair( new BackwardDoor() );\nrepairer.Repair( new RedUkTaxiDoor() );\n</code></pre>\n\n<p>Apply this for lists, you have LinkedList, Stack, Queue, the normal List, and if you want your own, MyList. They all implement the IList interface, which requires them to implement Add and Remove. So if your class add or remove items in any given list...</p>\n\n<pre><code>class ListAdder\n{\n    public void PopulateWithSomething(IList list)\n    {\n         list.Add(\"one\");\n         list.Add(\"two\");\n    }\n}\n\nStack stack = new Stack();\nQueue queue = new Queue();\n\nListAdder la = new ListAdder()\nla.PopulateWithSomething(stack);\nla.PopulateWithSomething(queue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252728793,"creation_date":1252728793,"answer_id":1414255,"question_id":1413543,"body_markdown":"Allen Holub wrote a great article for JavaWorld in 2003 on this topic called [Why extends is evil][1].  His take on the &quot;program to the interface&quot; statement, as you can gather from his title, is that you should happily implement interfaces, but very rarely use the `extends` keyword to subclass.  He points to, among other things, what is known as the [fragile base-class][2] problem.  From Wikipedia:\r\n\r\n&gt;a fundamental architectural problem of object-oriented programming systems where base classes (superclasses) are considered &quot;fragile&quot; because seemingly safe modifications to a base class, when inherited by the derived classes, may cause the derived classes to malfunction. The programmer cannot determine whether a base class change is safe simply by examining in isolation the methods of the base class. \r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\r\n  [2]: http://en.wikipedia.org/wiki/Fragile_base_class","title":"What does it mean to program to an interface?","body":"<p>Allen Holub wrote a great article for JavaWorld in 2003 on this topic called <a href=\"http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\" rel=\"nofollow noreferrer\">Why extends is evil</a>.  His take on the \"program to the interface\" statement, as you can gather from his title, is that you should happily implement interfaces, but very rarely use the <code>extends</code> keyword to subclass.  He points to, among other things, what is known as the <a href=\"http://en.wikipedia.org/wiki/Fragile_base_class\" rel=\"nofollow noreferrer\">fragile base-class</a> problem.  From Wikipedia:</p>\n\n<blockquote>\n  <p>a fundamental architectural problem of object-oriented programming systems where base classes (superclasses) are considered \"fragile\" because seemingly safe modifications to a base class, when inherited by the derived classes, may cause the derived classes to malfunction. The programmer cannot determine whether a base class change is safe simply by examining in isolation the methods of the base class. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1304828,"reputation":3423,"user_id":1254006,"accept_rate":40,"display_name":"rockXrock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354118674,"creation_date":1354095497,"answer_id":13601985,"question_id":1413543,"body_markdown":"&quot;Program to an interface&quot; can be more flexible. \r\n\r\nFor example, we are writing a class Printer which provides print service. currently there are 2 class (`Cat` and `Dog`) need to be printed. So we write code like below\r\n\r\n    class Printer\r\n    {\r\n        public void PrintCat(Cat cat)\r\n        {\r\n            ...\r\n        }\r\n\r\n        public void PrintDog(Dog dog)\r\n        {\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nHow about if there is a new class `Bird` also needs this print service? We have to change `Printer` class to add a new method PrintBird(). In real case, when we develop Printer class, we  may have no idea about who will use it. So how to write `Printer`? Program to an interface can help, see below code\r\n\r\n\r\n    class Printer\r\n    {\r\n        public void Print(Printable p)\r\n        {\r\n            Bitmap bitmap = p.GetBitmap();\r\n            \r\n            // print bitmap ...\r\n        }\r\n    }\r\n\r\nWith this new Printer, everything can be printed as long as it implements Interface `Printable`. Here method GetBitmap() is just a example. The key thing is to expose an Interface not a implementation.\r\n\r\nHope it&#39;s helpful.\r\n\r\n","title":"What does it mean to program to an interface?","body":"<p>\"Program to an interface\" can be more flexible. </p>\n\n<p>For example, we are writing a class Printer which provides print service. currently there are 2 class (<code>Cat</code> and <code>Dog</code>) need to be printed. So we write code like below</p>\n\n<pre><code>class Printer\n{\n    public void PrintCat(Cat cat)\n    {\n        ...\n    }\n\n    public void PrintDog(Dog dog)\n    {\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>How about if there is a new class <code>Bird</code> also needs this print service? We have to change <code>Printer</code> class to add a new method PrintBird(). In real case, when we develop Printer class, we  may have no idea about who will use it. So how to write <code>Printer</code>? Program to an interface can help, see below code</p>\n\n<pre><code>class Printer\n{\n    public void Print(Printable p)\n    {\n        Bitmap bitmap = p.GetBitmap();\n\n        // print bitmap ...\n    }\n}\n</code></pre>\n\n<p>With this new Printer, everything can be printed as long as it implements Interface <code>Printable</code>. Here method GetBitmap() is just a example. The key thing is to expose an Interface not a implementation.</p>\n\n<p>Hope it's helpful.</p>\n"},{"tags":[],"owner":{"account_id":2009968,"reputation":10226,"user_id":1798677,"accept_rate":77,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423714322,"creation_date":1423713951,"answer_id":28469106,"question_id":1413543,"body_markdown":"It&#39;s basically where you make a method/interface like this: `create( &#39;apple&#39; )` where the method `create(param)` comes from an abstract class/interface `fruit` that is later implemented by concrete classes. This is different than subclassing. You are creating a contract that classes must fulfill. This also reduces coupling and making things more flexible where each concrete class implements it differently.\r\n\r\n The client code remains unaware of the specific types of objects used and remains unaware of the classes that implement these objects. Client code only knows about the interface `create(param)` and it uses it to make fruit objects. It&#39;s like saying, &quot;I don&#39;t care how you get it or make it I, just want you to give it to me.&quot;\r\n\r\n\r\nAn analogy to this is a set of on and off buttons. That is an interface `on()` and `off()`. You can use these buttons on several devices, a TV, radio, light. They all handle them differently but we don&#39;t care about that, all we care about is to turn it on or turn it off.","title":"What does it mean to program to an interface?","body":"<p>It's basically where you make a method/interface like this: <code>create( 'apple' )</code> where the method <code>create(param)</code> comes from an abstract class/interface <code>fruit</code> that is later implemented by concrete classes. This is different than subclassing. You are creating a contract that classes must fulfill. This also reduces coupling and making things more flexible where each concrete class implements it differently.</p>\n\n<p>The client code remains unaware of the specific types of objects used and remains unaware of the classes that implement these objects. Client code only knows about the interface <code>create(param)</code> and it uses it to make fruit objects. It's like saying, \"I don't care how you get it or make it I, just want you to give it to me.\"</p>\n\n<p>An analogy to this is a set of on and off buttons. That is an interface <code>on()</code> and <code>off()</code>. You can use these buttons on several devices, a TV, radio, light. They all handle them differently but we don't care about that, all we care about is to turn it on or turn it off.</p>\n"},{"tags":[],"owner":{"account_id":321889,"reputation":1214,"user_id":640989,"accept_rate":90,"display_name":"Israel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653492196,"creation_date":1653492196,"answer_id":72380367,"question_id":1413543,"body_markdown":"**Coding to an interface** is a philosophy, rather than specific language constructs or design patterns - it instructs you what is the correct order of steps to follow in order to create **better software systems** (e.g. more resilient, more testable, more scalable, more extendible, and other nice traits). \r\n\r\n**What it actually means is:**   \r\n\r\n===  \r\n\r\n**Before jumping to implementations and coding (the HOW) - think of the WHAT:**  \r\n- What black boxes should make up your system, \r\n- What is each box&#39; responsibility, \r\n- What are the ways each &quot;client&quot; (that is, one of those other boxes, 3rd party &quot;boxes&quot;, or even humans) should communicate with it (the API of each box).   \r\n\r\n**After** you figure the above, go ahead and implement those boxes (the HOW).  \r\n   \r\nThinking first of what a box&#39; is and what its API, leads the developer to distil the box&#39; responsibility, and to mark for himself and future developers the difference between what is its exposed details (&quot;API&quot;) and it&#39;s hidden details (&quot;implementation details&quot;), which is a very important differentiation to have. \r\n\r\nOne immediate and easily noticeable gain is the team can then change and improve implementations without affecting the general architecture. It also makes the system MUCH more testable (it goes well with the TDD approach).\r\n\r\n===  \r\nBeyond the traits I&#39;ve mentioned above, you also save A LOT OF TIME going this direction. \r\n\r\nMicro Services and DDD, when done right, are great examples of &quot;Coding to an interface&quot;, however the concept wins in every pattern from monoliths to &quot;serverless&quot;, from BE to FE, from OOP to functional, etc.... \r\n\r\nI strongly recommend this approach for Software Engineering (and I basically believe it makes total sense in other fields as well).\r\n","title":"What does it mean to program to an interface?","body":"<p><strong>Coding to an interface</strong> is a philosophy, rather than specific language constructs or design patterns - it instructs you what is the correct order of steps to follow in order to create <strong>better software systems</strong> (e.g. more resilient, more testable, more scalable, more extendible, and other nice traits).</p>\n<p><strong>What it actually means is:</strong></p>\n<p>===</p>\n<p><strong>Before jumping to implementations and coding (the HOW) - think of the WHAT:</strong></p>\n<ul>\n<li>What black boxes should make up your system,</li>\n<li>What is each box' responsibility,</li>\n<li>What are the ways each &quot;client&quot; (that is, one of those other boxes, 3rd party &quot;boxes&quot;, or even humans) should communicate with it (the API of each box).</li>\n</ul>\n<p><strong>After</strong> you figure the above, go ahead and implement those boxes (the HOW).</p>\n<p>Thinking first of what a box' is and what its API, leads the developer to distil the box' responsibility, and to mark for himself and future developers the difference between what is its exposed details (&quot;API&quot;) and it's hidden details (&quot;implementation details&quot;), which is a very important differentiation to have.</p>\n<p>One immediate and easily noticeable gain is the team can then change and improve implementations without affecting the general architecture. It also makes the system MUCH more testable (it goes well with the TDD approach).</p>\n<p>===<br />\nBeyond the traits I've mentioned above, you also save A LOT OF TIME going this direction.</p>\n<p>Micro Services and DDD, when done right, are great examples of &quot;Coding to an interface&quot;, however the concept wins in every pattern from monoliths to &quot;serverless&quot;, from BE to FE, from OOP to functional, etc....</p>\n<p>I strongly recommend this approach for Software Engineering (and I basically believe it makes total sense in other fields as well).</p>\n"}],"owner":{"account_id":47968,"reputation":12181,"user_id":142299,"accept_rate":85,"display_name":"Kevin Boyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7240,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":1413601,"answer_count":17,"score":22,"last_activity_date":1695748444,"creation_date":1252707928,"question_id":1413543,"body_markdown":"I keep hearing the statement on most programming related sites:  \r\n\r\n&gt; Program to an interface and not to an Implementation  \r\n\r\nHowever I don&#39;t understand the implications?  \r\nExamples would help.\r\n\r\nEDIT: I have received a lot of good answers even so could you&#39;ll supplement it with some snippets of code for a better understanding of the subject. Thanks!\r\n\r\n","title":"What does it mean to program to an interface?","body":"<p>I keep hearing the statement on most programming related sites:</p>\n<blockquote>\n<p>Program to an interface and not to an Implementation</p>\n</blockquote>\n<p>However I don't understand the implications?<br />\nExamples would help.</p>\n<p>EDIT: I have received a lot of good answers even so could you'll supplement it with some snippets of code for a better understanding of the subject. Thanks!</p>\n"},{"tags":["java","android","libgdx","sqliteopenhelper"],"answers":[{"tags":[],"owner":{"account_id":275938,"reputation":6148,"user_id":569085,"accept_rate":70,"display_name":"Rafay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1695748277,"creation_date":1378136343,"answer_id":18576766,"question_id":15874824,"body_markdown":"There is an extension (called gdx-sqlite) that I wrote which will do most of the work you require. Latest build of this extension can be downloaded from [here][1]. The source code and read me are located at: https://github.com/mrafayaleem/gdx-sqlite\r\n\r\nThis extension currently supports Android and Desktop platforms. Also, there is no support to open databases located in the assets folder of the Android app. However, this is a pending feature and will be added soon.\r\n\r\nFollow the instructions in read me to setup your projects for database handling. Following is an example code:\r\n\r\n    package com.mrafayaleem.gdxsqlitetest;\r\n    \r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.sql.Database;\r\n    import com.badlogic.gdx.sql.DatabaseCursor;\r\n    import com.badlogic.gdx.sql.DatabaseFactory;\r\n    import com.badlogic.gdx.sql.SQLiteGdxException;\r\n    \r\n    public class DatabaseTest {\r\n    \r\n        Database dbHandler;\r\n    \r\n        public static final String TABLE_COMMENTS = &quot;comments&quot;;\r\n        public static final String COLUMN_ID = &quot;_id&quot;;\r\n        public static final String COLUMN_COMMENT = &quot;comment&quot;;\r\n    \r\n        private static final String DATABASE_NAME = &quot;comments.db&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n    \r\n        // Database creation sql statement\r\n        private static final String DATABASE_CREATE = &quot;create table if not exists &quot;\r\n                + TABLE_COMMENTS + &quot;(&quot; + COLUMN_ID\r\n                + &quot; integer primary key autoincrement, &quot; + COLUMN_COMMENT\r\n                + &quot; text not null);&quot;;\r\n    \r\n        public DatabaseTest() {\r\n            Gdx.app.log(&quot;DatabaseTest&quot;, &quot;creation started&quot;);\r\n            dbHandler = DatabaseFactory.getNewDatabase(DATABASE_NAME,\r\n                    DATABASE_VERSION, DATABASE_CREATE, null);\r\n    \r\n            dbHandler.setupDatabase();\r\n            try {\r\n                dbHandler.openOrCreateDatabase();\r\n                dbHandler.execSQL(DATABASE_CREATE);\r\n            } catch (SQLiteGdxException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Gdx.app.log(&quot;DatabaseTest&quot;, &quot;created successfully&quot;);\r\n    \r\n            try {\r\n                dbHandler\r\n                        .execSQL(&quot;INSERT INTO comments (&#39;comment&#39;) VALUES (&#39;This is a test comment&#39;)&quot;);\r\n            } catch (SQLiteGdxException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            DatabaseCursor cursor = null;\r\n    \r\n            try {\r\n                cursor = dbHandler.rawQuery(&quot;SELECT * FROM comments&quot;);\r\n            } catch (SQLiteGdxException e) {\r\n                e.printStackTrace();\r\n            }\r\n            while (cursor.next()) {\r\n                Gdx.app.log(&quot;FromDb&quot;, String.valueOf(cursor.getString(1)));\r\n            }\r\n    \r\n            try {\r\n                dbHandler.closeDatabase();\r\n            } catch (SQLiteGdxException e) {\r\n                e.printStackTrace();\r\n            }\r\n            dbHandler = null;\r\n            Gdx.app.log(&quot;DatabaseTest&quot;, &quot;dispose&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://support.google.com/drive/answer/6283888?visit_id=638313450462863169-4085271891&amp;p=unsupported_browser&amp;rd=1","title":"Using a SQLite database in Libgdx","body":"<p>There is an extension (called gdx-sqlite) that I wrote which will do most of the work you require. Latest build of this extension can be downloaded from <a href=\"https://support.google.com/drive/answer/6283888?visit_id=638313450462863169-4085271891&amp;p=unsupported_browser&amp;rd=1\" rel=\"nofollow noreferrer\">here</a>. The source code and read me are located at: <a href=\"https://github.com/mrafayaleem/gdx-sqlite\" rel=\"nofollow noreferrer\">https://github.com/mrafayaleem/gdx-sqlite</a></p>\n<p>This extension currently supports Android and Desktop platforms. Also, there is no support to open databases located in the assets folder of the Android app. However, this is a pending feature and will be added soon.</p>\n<p>Follow the instructions in read me to setup your projects for database handling. Following is an example code:</p>\n<pre><code>package com.mrafayaleem.gdxsqlitetest;\n\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.sql.Database;\nimport com.badlogic.gdx.sql.DatabaseCursor;\nimport com.badlogic.gdx.sql.DatabaseFactory;\nimport com.badlogic.gdx.sql.SQLiteGdxException;\n\npublic class DatabaseTest {\n\n    Database dbHandler;\n\n    public static final String TABLE_COMMENTS = &quot;comments&quot;;\n    public static final String COLUMN_ID = &quot;_id&quot;;\n    public static final String COLUMN_COMMENT = &quot;comment&quot;;\n\n    private static final String DATABASE_NAME = &quot;comments.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n\n    // Database creation sql statement\n    private static final String DATABASE_CREATE = &quot;create table if not exists &quot;\n            + TABLE_COMMENTS + &quot;(&quot; + COLUMN_ID\n            + &quot; integer primary key autoincrement, &quot; + COLUMN_COMMENT\n            + &quot; text not null);&quot;;\n\n    public DatabaseTest() {\n        Gdx.app.log(&quot;DatabaseTest&quot;, &quot;creation started&quot;);\n        dbHandler = DatabaseFactory.getNewDatabase(DATABASE_NAME,\n                DATABASE_VERSION, DATABASE_CREATE, null);\n\n        dbHandler.setupDatabase();\n        try {\n            dbHandler.openOrCreateDatabase();\n            dbHandler.execSQL(DATABASE_CREATE);\n        } catch (SQLiteGdxException e) {\n            e.printStackTrace();\n        }\n\n        Gdx.app.log(&quot;DatabaseTest&quot;, &quot;created successfully&quot;);\n\n        try {\n            dbHandler\n                    .execSQL(&quot;INSERT INTO comments ('comment') VALUES ('This is a test comment')&quot;);\n        } catch (SQLiteGdxException e) {\n            e.printStackTrace();\n        }\n\n        DatabaseCursor cursor = null;\n\n        try {\n            cursor = dbHandler.rawQuery(&quot;SELECT * FROM comments&quot;);\n        } catch (SQLiteGdxException e) {\n            e.printStackTrace();\n        }\n        while (cursor.next()) {\n            Gdx.app.log(&quot;FromDb&quot;, String.valueOf(cursor.getString(1)));\n        }\n\n        try {\n            dbHandler.closeDatabase();\n        } catch (SQLiteGdxException e) {\n            e.printStackTrace();\n        }\n        dbHandler = null;\n        Gdx.app.log(&quot;DatabaseTest&quot;, &quot;dispose&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":746896,"reputation":2167,"user_id":736007,"accept_rate":96,"display_name":"Cristiano Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14668,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1695748277,"creation_date":1365410694,"question_id":15874824,"body_markdown":"I&#39;m new in Libgdx and I&#39;m getting trouble on using a database on my game.\r\n\r\nI searched for a tutorial on how to make SQLite work on both Android and Desktop applications using Libgdx but I didn&#39;t found a easy one.\r\n\r\nThe last time I used a database in Android, I created a class that extends from `SQLiteOpenHelper`.\r\n\r\nIs there a simple way to do the same using Libgdx? Or at least, can anyone point me to a step-by-step tutorial or something similar?\r\n\r\n**EDIT**\r\n\r\nI forgot to say that I&#39;m looking for something that let me manage versions like `SQLiteOpenHelper`. In other words, I want to recreate my database in Android on apk installation, when I change the version of my DB on code.\r\n\r\n**SOLUTION**\r\n\r\nFollowing `@42n4` answer, I managed how to connect to SQLite Database using `SQLiteOpenHelper` on Android Application and `JDBC` on Desktop Application.\r\n\r\nFirst, I created a &quot;common class&quot; for both Desktop and Android Applications:\r\n\r\n\t//General class that needs to be implemented on Android and Desktop Applications\r\n\tpublic abstract class DataBase {\r\n\r\n\t\tprotected static String database_name=&quot;recycling_separation&quot;;\r\n\t\tprotected static DataBase instance = null;\r\n\t\tprotected static int version=1;\r\n\t\t\r\n\t\t//Runs a sql query like &quot;create&quot;.\r\n\t\tpublic abstract void execute(String sql);\r\n\t\t\r\n\t\t//Identical to execute but returns the number of rows affected (useful for updates)\r\n\t\tpublic abstract int executeUpdate(String sql);\r\n\t\t\r\n\t\t//Runs a query and returns an Object with all the results of the query. [Result Interface is defined below]\r\n\t\tpublic abstract Result query(String sql);\r\n\t\t\r\n\t\tpublic void onCreate(){\r\n\t\t\t//Example of Highscore table code (You should change this for your own DB code creation)\r\n\t\t\texecute(&quot;CREATE TABLE &#39;highscores&#39; (&#39;_id&#39; INTEGER PRIMARY KEY  NOT NULL , &#39;name&#39; VARCHAR NOT NULL , &#39;score&#39; INTEGER NOT NULL );&quot;);\r\n\t\t\texecute(&quot;INSERT INTO &#39;highscores&#39;(name,score) values (&#39;Cris&#39;,1234)&quot;);\r\n\t\t\t//Example of query to get DB data of Highscore table\r\n\t\t\tResult q=query(&quot;SELECT * FROM &#39;highscores&#39;&quot;);\r\n\t\t\tif (!q.isEmpty()){\r\n\t\t\t\tq.moveToNext();\r\n\t\t\t\tSystem.out.println(&quot;Highscore of &quot;+q.getString(q.getColumnIndex(&quot;name&quot;))+&quot;: &quot;+q.getString(q.getColumnIndex(&quot;score&quot;)));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tpublic void onUpgrade(){\r\n\t\t\t//Example code (You should change this for your own DB code)\r\n\t\t\texecute(&quot;DROP TABLE IF EXISTS &#39;highscores&#39;;&quot;);\r\n\t\t\tonCreate();\r\n\t\t\tSystem.out.println(&quot;DB Upgrade maded because I changed DataBase.version on code&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t//Interface to be implemented on both Android and Desktop Applications\r\n\t\tpublic interface Result{\r\n\t\t\tpublic boolean isEmpty();\r\n\t\t\tpublic boolean moveToNext();\r\n\t\t\tpublic int getColumnIndex(String name);\r\n\t\t\tpublic float getFloat(int columnIndex);\r\n\t\t\t[...]\r\n\t\t}\r\n\t}\r\n\r\nThen, I created a `DatabaseDesktop` Class for Desktop Application:\r\n\r\n\t\tpublic class DatabaseDesktop extends DataBase{\r\n\t\tprotected Connection db_connection;\r\n\t\tprotected Statement stmt;\r\n\t\tprotected boolean nodatabase=false;\r\n\r\n\t\tpublic DatabaseDesktop() {\r\n\t\t\tloadDatabase();\r\n\t\t\tif (isNewDatabase()){\r\n\t\t\t\tonCreate();\r\n\t\t\t\tupgradeVersion();\r\n\t\t\t} else if (isVersionDifferent()){\r\n\t\t\t\tonUpgrade();\r\n\t\t\t\tupgradeVersion();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic void execute(String sql){\r\n\t\t\ttry {\r\n\t\t\t\tstmt.execute(sql);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic int executeUpdate(String sql){\r\n\t\t\ttry {\r\n\t\t\t\treturn stmt.executeUpdate(sql);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Result query(String sql) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new ResultDesktop(stmt.executeQuery(sql));\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void loadDatabase(){\r\n\t\t\tFile file = new File (database_name+&quot;.db&quot;);\r\n\t\t\tif(!file.exists())\r\n\t\t\t\tnodatabase=true;\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t\t\tdb_connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+database_name+&quot;.db&quot;);\r\n\t\t\t\tstmt = db_connection.createStatement();\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void upgradeVersion() {\r\n\t\t\texecute(&quot;PRAGMA user_version=&quot;+version);\r\n\t\t}\r\n\r\n\t\tprivate boolean isNewDatabase() {\r\n\t\t\treturn nodatabase;\r\n\t\t}\r\n\t\t\r\n\t\tprivate boolean isVersionDifferent(){\r\n\t\t\tResult q=query(&quot;PRAGMA user_version&quot;);\r\n\t\t\tif (!q.isEmpty())\r\n\t\t\t\treturn (q.getInt(1)!=version);\r\n\t\t\telse \r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tpublic class ResultDesktop implements Result{\r\n\t\t\t\r\n\t\t\tResultSet res;\r\n\t\t\tboolean called_is_empty=false;\r\n\r\n\t\t\tpublic ResultDesktop(ResultSet res) {\r\n\t\t\t\tthis.res = res;\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean isEmpty() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (res.getRow()==0){\r\n\t\t\t\t\t\tcalled_is_empty=true;\r\n\t\t\t\t\t\treturn !res.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn res.getRow()==0;\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean moveToNext() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (called_is_empty){\r\n\t\t\t\t\t\tcalled_is_empty=false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn res.next();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic int getColumnIndex(String name) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn res.findColumn(name);\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tpublic float getFloat(int columnIndex) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn res.getFloat(columnIndex);\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t[...]\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnd a `DatabaseAndroid` for Android Application\r\n\r\n\tpublic class DatabaseAndroid extends DataBase{\r\n\t\tprotected SQLiteOpenHelper db_connection;\r\n\t\tprotected SQLiteDatabase stmt;\r\n\r\n\t\tpublic DatabaseAndroid(Context context) {\r\n\t\t\tdb_connection = new AndroidDB(context, database_name, null, version);\r\n\t\t\tstmt=db_connection.getWritableDatabase();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void execute(String sql){\r\n\t\t\tstmt.execSQL(sql);\r\n\t\t}\r\n\t\t\r\n\t\tpublic int executeUpdate(String sql){\r\n\t\t\tstmt.execSQL(sql);\r\n\t\t\tSQLiteStatement tmp = stmt.compileStatement(&quot;SELECT CHANGES()&quot;);\r\n\t\t\treturn (int) tmp.simpleQueryForLong();\r\n\t\t}\r\n\t\t\r\n\t\tpublic Result query(String sql) {\r\n\t\t\tResultAndroid result=new ResultAndroid(stmt.rawQuery(sql,null));\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tclass AndroidDB extends SQLiteOpenHelper {\r\n\r\n\t\t\tpublic AndroidDB(Context context, String name, CursorFactory factory,\r\n\t\t\t\t\tint version) {\r\n\t\t\t\tsuper(context, name, factory, version);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void onCreate(SQLiteDatabase db) {\r\n\t\t\t\tstmt=db;\r\n\t\t\t\tDatabaseAndroid.this.onCreate();\r\n\t\t\t}\r\n\r\n\t\t\tpublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n\t\t\t\tstmt=db;\r\n\t\t\t\tDatabaseAndroid.this.onUpgrade();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic class ResultAndroid implements Result{\r\n\t\t\tCursor cursor;\r\n\t\t\t\r\n\t\t\tpublic ResultAndroid(Cursor cursor) {\r\n\t\t\t\tthis.cursor=cursor;\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean isEmpty() {\r\n\t\t\t\treturn cursor.getCount()==0;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getColumnIndex(String name) {\r\n\t\t\t\treturn cursor.getColumnIndex(name);\r\n\t\t\t}\r\n\r\n\t\t\tpublic String[] getColumnNames() {\r\n\t\t\t\treturn cursor.getColumnNames();\r\n\t\t\t}\r\n\r\n\t\t\tpublic float getFloat(int columnIndex) {\r\n\t\t\t\treturn cursor.getFloat(columnIndex);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t[...]\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\nFinally, I changed the Main Classes of both Android and Desktop Applications:\r\n\r\n\tpublic class Main extends AndroidApplication {\r\n\r\n\t\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tinitialize(new MyGame(new DatabaseAndroid(this.getBaseContext())), false);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew LwjglApplication(new MyGame(new DatabaseDesktop()), &quot;Example&quot;, MyGame.SCREEN_WIDTH, MyGame.SCREEN_HEIGHT,false);\r\n\t\t}\r\n\r\n\t}\r\n\r\nNote that:\r\n\r\nI made a version management like the one that happens in `SQLiteOpenHelper` using the `PRAGMA user_version`. This way, I just change the version of the `DataBase` class when I need to upgrade it.\r\n\r\nI didn&#39;t put all the methods that I made on `Result` but, I put the ones that I think that are more important.that are more important.","title":"Using a SQLite database in Libgdx","body":"<p>I'm new in Libgdx and I'm getting trouble on using a database on my game.</p>\n\n<p>I searched for a tutorial on how to make SQLite work on both Android and Desktop applications using Libgdx but I didn't found a easy one.</p>\n\n<p>The last time I used a database in Android, I created a class that extends from <code>SQLiteOpenHelper</code>.</p>\n\n<p>Is there a simple way to do the same using Libgdx? Or at least, can anyone point me to a step-by-step tutorial or something similar?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I forgot to say that I'm looking for something that let me manage versions like <code>SQLiteOpenHelper</code>. In other words, I want to recreate my database in Android on apk installation, when I change the version of my DB on code.</p>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>Following <code>@42n4</code> answer, I managed how to connect to SQLite Database using <code>SQLiteOpenHelper</code> on Android Application and <code>JDBC</code> on Desktop Application.</p>\n\n<p>First, I created a \"common class\" for both Desktop and Android Applications:</p>\n\n<pre><code>//General class that needs to be implemented on Android and Desktop Applications\npublic abstract class DataBase {\n\n    protected static String database_name=\"recycling_separation\";\n    protected static DataBase instance = null;\n    protected static int version=1;\n\n    //Runs a sql query like \"create\".\n    public abstract void execute(String sql);\n\n    //Identical to execute but returns the number of rows affected (useful for updates)\n    public abstract int executeUpdate(String sql);\n\n    //Runs a query and returns an Object with all the results of the query. [Result Interface is defined below]\n    public abstract Result query(String sql);\n\n    public void onCreate(){\n        //Example of Highscore table code (You should change this for your own DB code creation)\n        execute(\"CREATE TABLE 'highscores' ('_id' INTEGER PRIMARY KEY  NOT NULL , 'name' VARCHAR NOT NULL , 'score' INTEGER NOT NULL );\");\n        execute(\"INSERT INTO 'highscores'(name,score) values ('Cris',1234)\");\n        //Example of query to get DB data of Highscore table\n        Result q=query(\"SELECT * FROM 'highscores'\");\n        if (!q.isEmpty()){\n            q.moveToNext();\n            System.out.println(\"Highscore of \"+q.getString(q.getColumnIndex(\"name\"))+\": \"+q.getString(q.getColumnIndex(\"score\")));\n        }\n    }\n\n    public void onUpgrade(){\n        //Example code (You should change this for your own DB code)\n        execute(\"DROP TABLE IF EXISTS 'highscores';\");\n        onCreate();\n        System.out.println(\"DB Upgrade maded because I changed DataBase.version on code\");\n    }\n\n    //Interface to be implemented on both Android and Desktop Applications\n    public interface Result{\n        public boolean isEmpty();\n        public boolean moveToNext();\n        public int getColumnIndex(String name);\n        public float getFloat(int columnIndex);\n        [...]\n    }\n}\n</code></pre>\n\n<p>Then, I created a <code>DatabaseDesktop</code> Class for Desktop Application:</p>\n\n<pre><code>    public class DatabaseDesktop extends DataBase{\n    protected Connection db_connection;\n    protected Statement stmt;\n    protected boolean nodatabase=false;\n\n    public DatabaseDesktop() {\n        loadDatabase();\n        if (isNewDatabase()){\n            onCreate();\n            upgradeVersion();\n        } else if (isVersionDifferent()){\n            onUpgrade();\n            upgradeVersion();\n        }\n\n    }\n\n    public void execute(String sql){\n        try {\n            stmt.execute(sql);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public int executeUpdate(String sql){\n        try {\n            return stmt.executeUpdate(sql);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }\n\n    public Result query(String sql) {\n        try {\n            return new ResultDesktop(stmt.executeQuery(sql));\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private void loadDatabase(){\n        File file = new File (database_name+\".db\");\n        if(!file.exists())\n            nodatabase=true;\n        try {\n            Class.forName(\"org.sqlite.JDBC\");\n            db_connection = DriverManager.getConnection(\"jdbc:sqlite:\"+database_name+\".db\");\n            stmt = db_connection.createStatement();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void upgradeVersion() {\n        execute(\"PRAGMA user_version=\"+version);\n    }\n\n    private boolean isNewDatabase() {\n        return nodatabase;\n    }\n\n    private boolean isVersionDifferent(){\n        Result q=query(\"PRAGMA user_version\");\n        if (!q.isEmpty())\n            return (q.getInt(1)!=version);\n        else \n            return true;\n    }\n\n    public class ResultDesktop implements Result{\n\n        ResultSet res;\n        boolean called_is_empty=false;\n\n        public ResultDesktop(ResultSet res) {\n            this.res = res;\n        }\n\n        public boolean isEmpty() {\n            try {\n                if (res.getRow()==0){\n                    called_is_empty=true;\n                    return !res.next();\n                }\n                return res.getRow()==0;\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }\n\n        public boolean moveToNext() {\n            try {\n                if (called_is_empty){\n                    called_is_empty=false;\n                    return true;\n                } else\n                    return res.next();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return false;\n        }\n\n        public int getColumnIndex(String name) {\n            try {\n                return res.findColumn(name);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return 0;\n        }\n\n        public float getFloat(int columnIndex) {\n            try {\n                return res.getFloat(columnIndex);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return 0;\n        }\n\n        [...]\n\n    }\n\n}\n</code></pre>\n\n<p>And a <code>DatabaseAndroid</code> for Android Application</p>\n\n<pre><code>public class DatabaseAndroid extends DataBase{\n    protected SQLiteOpenHelper db_connection;\n    protected SQLiteDatabase stmt;\n\n    public DatabaseAndroid(Context context) {\n        db_connection = new AndroidDB(context, database_name, null, version);\n        stmt=db_connection.getWritableDatabase();\n    }\n\n    public void execute(String sql){\n        stmt.execSQL(sql);\n    }\n\n    public int executeUpdate(String sql){\n        stmt.execSQL(sql);\n        SQLiteStatement tmp = stmt.compileStatement(\"SELECT CHANGES()\");\n        return (int) tmp.simpleQueryForLong();\n    }\n\n    public Result query(String sql) {\n        ResultAndroid result=new ResultAndroid(stmt.rawQuery(sql,null));\n        return result;\n    }\n\n    class AndroidDB extends SQLiteOpenHelper {\n\n        public AndroidDB(Context context, String name, CursorFactory factory,\n                int version) {\n            super(context, name, factory, version);\n        }\n\n        public void onCreate(SQLiteDatabase db) {\n            stmt=db;\n            DatabaseAndroid.this.onCreate();\n        }\n\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            stmt=db;\n            DatabaseAndroid.this.onUpgrade();\n        }\n\n    }\n\n    public class ResultAndroid implements Result{\n        Cursor cursor;\n\n        public ResultAndroid(Cursor cursor) {\n            this.cursor=cursor;\n        }\n\n        public boolean isEmpty() {\n            return cursor.getCount()==0;\n        }\n\n        public int getColumnIndex(String name) {\n            return cursor.getColumnIndex(name);\n        }\n\n        public String[] getColumnNames() {\n            return cursor.getColumnNames();\n        }\n\n        public float getFloat(int columnIndex) {\n            return cursor.getFloat(columnIndex);\n        }\n\n        [...]\n\n    }\n\n}\n</code></pre>\n\n<p>Finally, I changed the Main Classes of both Android and Desktop Applications:</p>\n\n<pre><code>public class Main extends AndroidApplication {\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        initialize(new MyGame(new DatabaseAndroid(this.getBaseContext())), false);\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new LwjglApplication(new MyGame(new DatabaseDesktop()), \"Example\", MyGame.SCREEN_WIDTH, MyGame.SCREEN_HEIGHT,false);\n    }\n\n}\n</code></pre>\n\n<p>Note that:</p>\n\n<p>I made a version management like the one that happens in <code>SQLiteOpenHelper</code> using the <code>PRAGMA user_version</code>. This way, I just change the version of the <code>DataBase</code> class when I need to upgrade it.</p>\n\n<p>I didn't put all the methods that I made on <code>Result</code> but, I put the ones that I think that are more important.that are more important.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695752385,"post_id":77182109,"comment_id":136065595,"body_markdown":"You shouldn&#39;t use this to pass information to an aspect. Especially if that gets invoked afterwards, as things get cleaned up. If you want more knowledge about those classes read the Servlet Specification that explains exactly what those are.","body":"You shouldn&#39;t use this to pass information to an aspect. Especially if that gets invoked afterwards, as things get cleaned up. If you want more knowledge about those classes read the Servlet Specification that explains exactly what those are."},{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1695784848,"post_id":77182109,"comment_id":136069290,"body_markdown":"It will be helpful if you provide more information. Can we use threads to store the data and get it in aspect classes?","body":"It will be helpful if you provide more information. Can we use threads to store the data and get it in aspect classes?"},{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1695791338,"post_id":77182109,"comment_id":136069807,"body_markdown":"Can I autowire HttpServletRequest in aspect class. Is this a good idea?","body":"Can I autowire HttpServletRequest in aspect class. Is this a good idea?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695798000,"post_id":77182109,"comment_id":136070626,"body_markdown":"No it isn&#39;t (IMHO) as that ties your aspect to the web. Store the state in a thread local (like the SecurityContextHolder from Spring Security) and use that.","body":"No it isn&#39;t (IMHO) as that ties your aspect to the web. Store the state in a thread local (like the SecurityContextHolder from Spring Security) and use that."}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695748128,"creation_date":1695748128,"question_id":77182109,"body_markdown":"Here, in this code, when I get the request, it will get the intakeNumber from the header and set it into the servletcontext. I am trying to get this attribute from the aspect class. This aspect will be executed after returning the response from the controller.\r\n    \r\nWhen I am getting the attribute from the servlet context, sometimes value is there and sometimes value is not there in the servletcontext. so setting attribute in servletcontext works inconsistently.\r\n    \r\nI have replaced it with servletRequest, and then I can get the intakeNumber all the time.\r\n    \r\nThough I used the servletRequest, I am not sure about how internally it is working.\r\n    \r\n1. Kindly provide knowledge about servletContext and servletRequest.\r\n2. Please tell me when it should be used.\r\n3. Please tell me why this issue is occurring.    \r\n\r\nThank you!\r\n\r\n    @Component\r\n    public class APIAttributeInitializeFilter implements Filter{\r\n    \r\n    @Autowired\r\n    ServletContext servletContext;\r\n    \r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest,ServletResponse ServletResponse, FilterChain filterChain){\r\n    \r\n    \r\n    HttpServletRequest httpReq=(HttpServletRequest)servletRequest;\r\n    servletContext.setAttribute(&quot;intakeNumber&quot;,httpReq.getHeader(&quot;intakeNumber&quot;);\r\n    }\r\n    }","title":"Servletcontext attribute works inconsistently","body":"<p>Here, in this code, when I get the request, it will get the intakeNumber from the header and set it into the servletcontext. I am trying to get this attribute from the aspect class. This aspect will be executed after returning the response from the controller.</p>\n<p>When I am getting the attribute from the servlet context, sometimes value is there and sometimes value is not there in the servletcontext. so setting attribute in servletcontext works inconsistently.</p>\n<p>I have replaced it with servletRequest, and then I can get the intakeNumber all the time.</p>\n<p>Though I used the servletRequest, I am not sure about how internally it is working.</p>\n<ol>\n<li>Kindly provide knowledge about servletContext and servletRequest.</li>\n<li>Please tell me when it should be used.</li>\n<li>Please tell me why this issue is occurring.</li>\n</ol>\n<p>Thank you!</p>\n<pre><code>@Component\npublic class APIAttributeInitializeFilter implements Filter{\n\n@Autowired\nServletContext servletContext;\n\n@Override\npublic void doFilter(ServletRequest servletRequest,ServletResponse ServletResponse, FilterChain filterChain){\n\n\nHttpServletRequest httpReq=(HttpServletRequest)servletRequest;\nservletContext.setAttribute(&quot;intakeNumber&quot;,httpReq.getHeader(&quot;intakeNumber&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","database-schema"],"comments":[{"owner":{"account_id":22759914,"reputation":1,"user_id":16918907,"display_name":"Marcus Peterson "},"score":0,"creation_date":1695746911,"post_id":77181965,"comment_id":136064653,"body_markdown":"Just to be clear, I don&#39;t want to add this behavior in a SQL query, this should already be built into the java code. \n\nThe purpose of this database isn&#39;t so that I would need to do modifications inside of workbench or something similiar\n\nI know I can add ``` ALTER TABLE temp_table MODIFY id INT AUTO_INCREMENT PRIMARY KEY;\n````\n\nInto workbench, but then that would just make the Hibernate database useless","body":"Just to be clear, I don&#39;t want to add this behavior in a SQL query, this should already be built into the java code.   The purpose of this database isn&#39;t so that I would need to do modifications inside of workbench or something similiar  I know I can add ``` ALTER TABLE temp_table MODIFY id INT AUTO_INCREMENT PRIMARY KEY; ````  Into workbench, but then that would just make the Hibernate database useless"}],"answers":[{"tags":[],"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695747214,"creation_date":1695747214,"answer_id":77182017,"question_id":77181965,"body_markdown":"Just a heads up: when you use `GenerationType.AUTO` with Hibernate, it typically opts for a `SEQUENCE` in the database rather than the `AUTO_INCREMENT` feature. This means the default value for this column would be `null` in the database.\r\n\r\nIf you&#39;re looking to change this, consider using `GenerationType.IDENTITY` or `GenerationType.TABLE`. For instance, `GenerationType.TABLE` will leverage the `AUTO_INCREMENT` feature in databases like MariaDB.\r\n\r\nHope this helps!","title":"I am getting Field &#39;id&#39; doesn&#39;t have a default value in my Java Hibernate database","body":"<p>Just a heads up: when you use <code>GenerationType.AUTO</code> with Hibernate, it typically opts for a <code>SEQUENCE</code> in the database rather than the <code>AUTO_INCREMENT</code> feature. This means the default value for this column would be <code>null</code> in the database.</p>\n<p>If you're looking to change this, consider using <code>GenerationType.IDENTITY</code> or <code>GenerationType.TABLE</code>. For instance, <code>GenerationType.TABLE</code> will leverage the <code>AUTO_INCREMENT</code> feature in databases like MariaDB.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":22759914,"reputation":1,"user_id":16918907,"display_name":"Marcus Peterson "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695747214,"creation_date":1695746633,"question_id":77181965,"body_markdown":"this is a database that is going to store Temperatures built using Hibernate:\r\n\r\n```package com.example.javabackend_dbms.models;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedBy;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Data\r\npublic class TempTable { //Den viktigaste tabellen i DBMS, h&#228;r lagras data r&#229;tt\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.AUTO)\r\n    private Long Id;\r\n\r\n    private Float temperatures;\r\n\r\n    @CreatedDate\r\n    @LastModifiedBy\r\n    private LocalDateTime timestamp; // &#39; 2023-09-24T12:34:56.789 &#39;\r\n\r\n    @Transient\r\n    public String getFormattedTimestamp(){ //Denna metod p&#229;verkar inte data som finns i tabellerna, den &#228;r framtagen f&#246;r enkelt kunna formatera data\r\n        if (timestamp != null) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd &#39;hour&#39; HH : &#39;minute&#39; mm : &#39;seconds&#39; : ss.SSS&quot;);\r\n            return timestamp.format(formatter);\r\n        }\r\n        System.out.println(&quot;Could not format datetime&quot;);\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @OneToMany(mappedBy = &quot;tempTable&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;WarningTable&gt; warningTables = new ArrayList&lt;&gt;();\r\n\r\n    public TempTable(Long Id, Float temperatures){\r\n        this.Id = Id;\r\n        this.temperatures = temperatures;\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to run this SQL query in workbench: ```INSERT INTO temp_table (temperatures) VALUES (22.5);```\r\n\r\nI get this error\r\n```0\t16\t18:30:49\tINSERT INTO temp_table (temperatures) VALUES (22.5)\tError Code: 1364. Field &#39;id&#39; doesn&#39;t have a default value\t0.000 sec```\r\n\r\nThis is very strange? The id is supposed to auto-increment, I have put the correct annotations. So can anyone please point out any issues?\r\n\r\nOr is the problem due to the fact that my database is empty?\r\n\r\nThis is how the table looks at the moment:\r\n\r\n```Field,          Type,           Null,       Key,     Default,   Extra\r\n   id,             bigint,         NO,         PRI,     NULL,\r\n   temperatures,   float,          YES,,                NULL,\r\n   timestamp,      datetime(6),    YES,,                NULL,```\r\n\r\nI converted the table into a csv file so that I could gather information about the table\r\n","title":"I am getting Field &#39;id&#39; doesn&#39;t have a default value in my Java Hibernate database","body":"<p>this is a database that is going to store Temperatures built using Hibernate:</p>\n<pre><code>\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedBy;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@NoArgsConstructor\n@EntityListeners(AuditingEntityListener.class)\n@Data\npublic class TempTable { //Den viktigaste tabellen i DBMS, här lagras data rått\n    @Id\n    @GeneratedValue (strategy = GenerationType.AUTO)\n    private Long Id;\n\n    private Float temperatures;\n\n    @CreatedDate\n    @LastModifiedBy\n    private LocalDateTime timestamp; // ' 2023-09-24T12:34:56.789 '\n\n    @Transient\n    public String getFormattedTimestamp(){ //Denna metod påverkar inte data som finns i tabellerna, den är framtagen för enkelt kunna formatera data\n        if (timestamp != null) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd 'hour' HH : 'minute' mm : 'seconds' : ss.SSS&quot;);\n            return timestamp.format(formatter);\n        }\n        System.out.println(&quot;Could not format datetime&quot;);\n        return &quot;&quot;;\n    }\n\n    @OneToMany(mappedBy = &quot;tempTable&quot;, cascade = CascadeType.ALL)\n    private List&lt;WarningTable&gt; warningTables = new ArrayList&lt;&gt;();\n\n    public TempTable(Long Id, Float temperatures){\n        this.Id = Id;\n        this.temperatures = temperatures;\n    }\n}\n</code></pre>\n<p>When I try to run this SQL query in workbench: <code>INSERT INTO temp_table (temperatures) VALUES (22.5);</code></p>\n<p>I get this error\n<code>0    16  18:30:49    INSERT INTO temp_table (temperatures) VALUES (22.5) Error Code: 1364. Field 'id' doesn't have a default value   0.000 sec</code></p>\n<p>This is very strange? The id is supposed to auto-increment, I have put the correct annotations. So can anyone please point out any issues?</p>\n<p>Or is the problem due to the fact that my database is empty?</p>\n<p>This is how the table looks at the moment:</p>\n<pre><code>   id,             bigint,         NO,         PRI,     NULL,\n   temperatures,   float,          YES,,                NULL,\n   timestamp,      datetime(6),    YES,,                NULL,```\n\nI converted the table into a csv file so that I could gather information about the table\n</code></pre>\n"},{"tags":["java","docker","maven","tomcat","java-16"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1627744818,"post_id":68603262,"comment_id":121240784,"body_markdown":"Can you provide the **fully stacktrace**?","body":"Can you provide the <b>fully stacktrace</b>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1627746531,"post_id":68603262,"comment_id":121241195,"body_markdown":"*but when I run docker and I go on my project url I got an &quot;unsupported class file major version 60&quot;.* It will be running with a lower version than 1.16. Check what `java -version` gives you and then change your PATH so that &gt;= 1.16 is in it","body":"<i>but when I run docker and I go on my project url I got an &quot;unsupported class file major version 60&quot;.</i> It will be running with a lower version than 1.16. Check what <code>java -version</code> gives you and then change your PATH so that &gt;= 1.16 is in it"},{"owner":{"account_id":7199892,"reputation":43,"user_id":5497413,"display_name":"Vincent Moittie"},"score":0,"creation_date":1627804409,"post_id":68603262,"comment_id":121249849,"body_markdown":"Full stacktrace is provide @JoachimSauer.\nAnd I add the log when I run the `java -version` in docker container @g00se :)","body":"Full stacktrace is provide @JoachimSauer. And I add the log when I run the <code>java -version</code> in docker container @g00se :)"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1627805970,"post_id":68603262,"comment_id":121250144,"body_markdown":"@VincentMoittie: which version of Jersey are you using?","body":"@VincentMoittie: which version of Jersey are you using?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1627810239,"post_id":68603262,"comment_id":121250932,"body_markdown":"The issue seems to be The Jersey library (or specifically: the ASM version that it includes): Both Maven and Tomcat are fine with Java 16, but that library doesn&#39;t support Java 16. Normally Java libraries tend to be upwards compatible (i.e. don&#39;t need extra support), but since ASM tries to read and interpret class files directly it needs to be fully updated to be able to work with classes compiled on later JDKs.. Try the latest release of your Jersey major version first and if that doesn&#39;t work you might need to file a bug and/or build it yourself with a newer ASM version.","body":"The issue seems to be The Jersey library (or specifically: the ASM version that it includes): Both Maven and Tomcat are fine with Java 16, but that library doesn&#39;t support Java 16. Normally Java libraries tend to be upwards compatible (i.e. don&#39;t need extra support), but since ASM tries to read and interpret class files directly it needs to be fully updated to be able to work with classes compiled on later JDKs.. Try the latest release of your Jersey major version first and if that doesn&#39;t work you might need to file a bug and/or build it yourself with a newer ASM version."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1627810343,"post_id":68603262,"comment_id":121250952,"body_markdown":"[This PR](https://github.com/eclipse-ee4j/jersey/pull/4754) should fix the issue, but I don&#39;t know if it&#39;s been released and if so in which versions.","body":"<a href=\"https://github.com/eclipse-ee4j/jersey/pull/4754\" rel=\"nofollow noreferrer\">This PR</a> should fix the issue, but I don&#39;t know if it&#39;s been released and if so in which versions."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1627810745,"post_id":68603262,"comment_id":121251045,"body_markdown":"@JoachimSauer: version 2.33 already supports Java 16 (cf. [source code](https://github.com/eclipse-ee4j/jersey/blob/c34ed1d947875dea0eb4f532181c53800bea3569/core-server/src/main/java/jersey/repackaged/org/objectweb/asm/ClassReader.java#L187)).","body":"@JoachimSauer: version 2.33 already supports Java 16 (cf. <a href=\"https://github.com/eclipse-ee4j/jersey/blob/c34ed1d947875dea0eb4f532181c53800bea3569/core-server/src/main/java/jersey/repackaged/org/objectweb/asm/ClassReader.java#L187\" rel=\"nofollow noreferrer\">source code</a>)."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1695747033,"creation_date":1627811326,"answer_id":68609231,"question_id":68603262,"body_markdown":"As already remarked in the comments by [Joachim](https://stackoverflow.com/questions/68603262/how-to-fix-unsupported-class-file-major-version-60-in-tomcat9#comment121250932_68603262), your problem is due to the ASM version packaged by Jersey. It is similar to [this question](https://stackoverflow.com/q/66700334/11748454) regarding Spring.\r\n\r\nThe easiest way to find the highest version of Java supported by ASM is to look at the source code:\r\n\r\n * Jersey 2.40 supports up to Java 21,\r\n * Jersey 2.38 and 2.39.x support up to Java 20,\r\n * Jersey 2.36 and 2.37 support up to Java 19,\r\n * Jersey 2.35 supports up to Java 18,\r\n * Jersey 2.34 supports up to Java 17 (cf. [source code](https://github.com/eclipse-ee4j/jersey/blob/52c8aa4d57f35ae2f93b81225cf271864e7a91cd/core-server/src/main/java/jersey/repackaged/org/objectweb/asm/ClassReader.java#L194)),\r\n * Jersey 2.33 supports up to Java 16,\r\n * Jersey 2.30 supports up to Java 15 (with a warning for Java 15),\r\n * Jersey 2.29 supports up to Java 14 (with a warning for Java 14),\r\n * Jersey 2.28 (first EE4j version) supports up to Java 12.\r\n\r\nAs for the 3.x branch, all versions support Java 16, while the latest (3.0.2) supports also the upcoming Java 17.","title":"How to fix “unsupported class file major version 60” in tomcat9?","body":"<p>As already remarked in the comments by <a href=\"https://stackoverflow.com/questions/68603262/how-to-fix-unsupported-class-file-major-version-60-in-tomcat9#comment121250932_68603262\">Joachim</a>, your problem is due to the ASM version packaged by Jersey. It is similar to <a href=\"https://stackoverflow.com/q/66700334/11748454\">this question</a> regarding Spring.</p>\n<p>The easiest way to find the highest version of Java supported by ASM is to look at the source code:</p>\n<ul>\n<li>Jersey 2.40 supports up to Java 21,</li>\n<li>Jersey 2.38 and 2.39.x support up to Java 20,</li>\n<li>Jersey 2.36 and 2.37 support up to Java 19,</li>\n<li>Jersey 2.35 supports up to Java 18,</li>\n<li>Jersey 2.34 supports up to Java 17 (cf. <a href=\"https://github.com/eclipse-ee4j/jersey/blob/52c8aa4d57f35ae2f93b81225cf271864e7a91cd/core-server/src/main/java/jersey/repackaged/org/objectweb/asm/ClassReader.java#L194\" rel=\"nofollow noreferrer\">source code</a>),</li>\n<li>Jersey 2.33 supports up to Java 16,</li>\n<li>Jersey 2.30 supports up to Java 15 (with a warning for Java 15),</li>\n<li>Jersey 2.29 supports up to Java 14 (with a warning for Java 14),</li>\n<li>Jersey 2.28 (first EE4j version) supports up to Java 12.</li>\n</ul>\n<p>As for the 3.x branch, all versions support Java 16, while the latest (3.0.2) supports also the upcoming Java 17.</p>\n"}],"owner":{"account_id":7199892,"reputation":43,"user_id":5497413,"display_name":"Vincent Moittie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2504,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":68609231,"answer_count":1,"score":3,"last_activity_date":1695747033,"creation_date":1627743867,"question_id":68603262,"body_markdown":"I have a maven project. It&#39;s written in Java 16. I have the Java 16 JDK installed. \r\n\r\nWhen I build it with dockerfile, everything works, but when I run docker and I go on my project url I got an &quot;unsupported class file major version 60&quot;.\r\n\r\nIs that possible to run java 16 project on tomcat or on something else ?\r\n\r\n\r\nThere is my some of my files:\r\n\r\nDockerFile:\r\n```\r\nFROM maven:3.8.1-openjdk-17 as builder\r\nRUN mkdir -p /root/.m2 &amp;&amp; mkdir /root/.m2/repository\r\nCOPY . /app/\r\nRUN cd /app &amp;&amp; mvn clean package -Dmaven.test.skip=true\r\n\r\nFROM tomcat:9.0-jdk16-openjdk\r\nCOPY --from=builder /app/target/demo.war /usr/local/tomcat/webapps\r\nENV CATALINA_OPTS=&quot;&quot;\r\nEXPOSE 8080\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\n\r\nAnd my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;!-- Dependencies properties --&gt;\r\n            &lt;!-- ... --&gt;\r\n\t\t&lt;!-- Project build properties --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven-dependency-plugin.version&gt;3.1.1&lt;/maven-dependency-plugin.version&gt;\r\n\t\t&lt;maven.resources.plugin&gt;3.0.1&lt;/maven.resources.plugin&gt;\r\n\t\t&lt;maven-war-plugin.version&gt;3.2.2&lt;/maven-war-plugin.version&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n        &lt;!-- ... --&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;demo&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;${java.version}&lt;/release&gt;\r\n\t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;!-- ... --&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n \r\nTomcat log:\r\n\r\n```\r\nType Rapport d&#39;exception\r\n\r\nmessage Servlet.init() for servlet [demo-serlvet] threw exception\r\n\r\ndescription Le serveur a rencontr&#233; une erreur interne qui l&#39;a emp&#234;ch&#233; de satisfaire la requ&#234;te.\r\n\r\nexception\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [demo-serlvet] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:831)\r\ncause m&#232;re\r\n\r\njava.lang.IllegalArgumentException: Unsupported class file major version 60\r\n\tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:201)\r\n\tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:179)\r\n\tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:165)\r\n\tjersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:289)\r\n\torg.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.process(AnnotationAcceptingListener.java:148)\r\n\torg.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:888)\r\n\torg.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:842)\r\n\torg.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:751)\r\n\torg.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1178)\r\n\torg.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1151)\r\n\torg.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1147)\r\n\torg.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:182)\r\n\torg.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:290)\r\n\tjava.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4203)\r\n\torg.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:290)\r\n\torg.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\r\n\torg.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n\torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n\torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:346)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:831)\r\nnote La trace compl&#232;te de la cause m&#232;re de cette erreur est disponible dans les fichiers journaux de ce serveur.\r\n```\r\n\r\nLog from api container after a docker exec:\r\n```\r\nroot@df012b95a989:/usr/local/tomcat# java -version\r\nopenjdk version &quot;16.0.2&quot; 2021-07-20\r\nOpenJDK Runtime Environment (build 16.0.2+7-67)\r\nOpenJDK 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\r\n```","title":"How to fix “unsupported class file major version 60” in tomcat9?","body":"<p>I have a maven project. It's written in Java 16. I have the Java 16 JDK installed.</p>\n<p>When I build it with dockerfile, everything works, but when I run docker and I go on my project url I got an &quot;unsupported class file major version 60&quot;.</p>\n<p>Is that possible to run java 16 project on tomcat or on something else ?</p>\n<p>There is my some of my files:</p>\n<p>DockerFile:</p>\n<pre><code>FROM maven:3.8.1-openjdk-17 as builder\nRUN mkdir -p /root/.m2 &amp;&amp; mkdir /root/.m2/repository\nCOPY . /app/\nRUN cd /app &amp;&amp; mvn clean package -Dmaven.test.skip=true\n\nFROM tomcat:9.0-jdk16-openjdk\nCOPY --from=builder /app/target/demo.war /usr/local/tomcat/webapps\nENV CATALINA_OPTS=&quot;&quot;\nEXPOSE 8080\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>And my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Dependencies properties --&gt;\n            &lt;!-- ... --&gt;\n        &lt;!-- Project build properties --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;maven-dependency-plugin.version&gt;3.1.1&lt;/maven-dependency-plugin.version&gt;\n        &lt;maven.resources.plugin&gt;3.0.1&lt;/maven.resources.plugin&gt;\n        &lt;maven-war-plugin.version&gt;3.2.2&lt;/maven-war-plugin.version&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- ... --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;demo&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${java.version}&lt;/release&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- ... --&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Tomcat log:</p>\n<pre><code>Type Rapport d'exception\n\nmessage Servlet.init() for servlet [demo-serlvet] threw exception\n\ndescription Le serveur a rencontré une erreur interne qui l'a empêché de satisfaire la requête.\n\nexception\n\njavax.servlet.ServletException: Servlet.init() for servlet [demo-serlvet] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\ncause mère\n\njava.lang.IllegalArgumentException: Unsupported class file major version 60\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:201)\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:179)\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:165)\n    jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:289)\n    org.glassfish.jersey.server.internal.scanning.AnnotationAcceptingListener.process(AnnotationAcceptingListener.java:148)\n    org.glassfish.jersey.server.ResourceConfig.scanClasses(ResourceConfig.java:888)\n    org.glassfish.jersey.server.ResourceConfig._getClasses(ResourceConfig.java:842)\n    org.glassfish.jersey.server.ResourceConfig.getClasses(ResourceConfig.java:751)\n    org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1178)\n    org.glassfish.jersey.server.ResourceConfig$RuntimeConfig.&lt;init&gt;(ResourceConfig.java:1151)\n    org.glassfish.jersey.server.ResourceConfig.createRuntimeConfig(ResourceConfig.java:1147)\n    org.glassfish.jersey.server.ApplicationHandler$RuntimeConfigConfigurator.init(ApplicationHandler.java:182)\n    org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$0(ApplicationHandler.java:290)\n    java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4203)\n    org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:290)\n    org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\n    org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:346)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\nnote La trace complète de la cause mère de cette erreur est disponible dans les fichiers journaux de ce serveur.\n</code></pre>\n<p>Log from api container after a docker exec:</p>\n<pre><code>root@df012b95a989:/usr/local/tomcat# java -version\nopenjdk version &quot;16.0.2&quot; 2021-07-20\nOpenJDK Runtime Environment (build 16.0.2+7-67)\nOpenJDK 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","json","jackson-databind"],"comments":[{"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"score":1,"creation_date":1695747903,"post_id":77181984,"comment_id":136064829,"body_markdown":"Use ObjectMapper to deserialise it and add it to a Queue. What help you needed here ?","body":"Use ObjectMapper to deserialise it and add it to a Queue. What help you needed here ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695749763,"post_id":77181984,"comment_id":136065188,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29540341,"reputation":1,"user_id":22639158,"display_name":"Michell179"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695746866,"creation_date":1695746866,"question_id":77181984,"body_markdown":"from a JSON file such as adding the attributes of the Actions class to a queue in order, to consume them in order. \r\n\r\nJSON PARSER: jackson-databind\r\n\r\n\r\nJSON FILE:\r\n\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;sampleName&quot;,\r\n  &quot;url&quot;: &quot;www.google.com&quot;,\r\n  &quot;dir&quot;: &quot;C:\\\\Users\\\\user\\\\Java\\\\project\\\\file.json&quot;,\r\n  &quot;actions&quot;: {\r\n    &quot;wait&quot;: 3,\r\n    &quot;click&quot;: &quot;route&quot;,\r\n    &quot;write&quot;: {\r\n      &quot;route&quot;: &quot;I&#39;m a Path HTML Example&quot;,\r\n      &quot;text&quot;: &quot;i&#39;m a example text&quot;\r\n    },\r\n    &quot;enter&quot;: &quot;enter&quot;,\r\n    &quot;tab&quot;: &quot;tab&quot;\r\n  }\r\n}\r\n```\r\n\r\nThis is my class, i need save in queue the actions for consume in order\r\n\r\nAction.Class\r\n\r\n```\r\npublic class Actions {\r\n\r\n    private int wait;\r\n    private String click;\r\n    private Map&lt;String, Object&gt; write;\r\n    private String enter;\r\n    private String tab;\r\n\r\n    @JsonProperty(&quot;wait&quot;)\r\n    public int getWait(){\r\n        return wait;\r\n    }\r\n\r\n    public void setWait(int wait) {\r\n        this.wait = wait;\r\n    }\r\n\r\n    @JsonProperty(&quot;click&quot;)\r\n    public String getClick() {\r\n        return click;\r\n    }\r\n\r\n    public void setClick(String click) {\r\n        this.click = click;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getWrite() {\r\n        return write;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setWrite(Map&lt;String, Object&gt; write) {\r\n        this.write = write;\r\n    }\r\n\r\n    @JsonProperty(&quot;enter&quot;)\r\n    public String getEnter() {\r\n        return enter;\r\n    }\r\n\r\n\r\n    public void setEnter(String enter) {\r\n        this.enter = enter;\r\n    }\r\n\r\n    @JsonProperty(&quot;tab&quot;)\r\n    public String getTab() {\r\n        return tab;\r\n    }\r\n\r\n    public void setTab(String tab) {\r\n        this.tab = tab;\r\n    }\r\n\r\n}\r\n```\r\n\r\n.............................................................\r\n\r\n \r\n\r\n...........................","title":"from a JSON file such as adding the attributes of the Actions class to a queue in order in JAVA using Jackson","body":"<p>from a JSON file such as adding the attributes of the Actions class to a queue in order, to consume them in order.</p>\n<p>JSON PARSER: jackson-databind</p>\n<p>JSON FILE:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;sampleName&quot;,\n  &quot;url&quot;: &quot;www.google.com&quot;,\n  &quot;dir&quot;: &quot;C:\\\\Users\\\\user\\\\Java\\\\project\\\\file.json&quot;,\n  &quot;actions&quot;: {\n    &quot;wait&quot;: 3,\n    &quot;click&quot;: &quot;route&quot;,\n    &quot;write&quot;: {\n      &quot;route&quot;: &quot;I'm a Path HTML Example&quot;,\n      &quot;text&quot;: &quot;i'm a example text&quot;\n    },\n    &quot;enter&quot;: &quot;enter&quot;,\n    &quot;tab&quot;: &quot;tab&quot;\n  }\n}\n</code></pre>\n<p>This is my class, i need save in queue the actions for consume in order</p>\n<p>Action.Class</p>\n<pre><code>public class Actions {\n\n    private int wait;\n    private String click;\n    private Map&lt;String, Object&gt; write;\n    private String enter;\n    private String tab;\n\n    @JsonProperty(&quot;wait&quot;)\n    public int getWait(){\n        return wait;\n    }\n\n    public void setWait(int wait) {\n        this.wait = wait;\n    }\n\n    @JsonProperty(&quot;click&quot;)\n    public String getClick() {\n        return click;\n    }\n\n    public void setClick(String click) {\n        this.click = click;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getWrite() {\n        return write;\n    }\n\n    @JsonAnySetter\n    public void setWrite(Map&lt;String, Object&gt; write) {\n        this.write = write;\n    }\n\n    @JsonProperty(&quot;enter&quot;)\n    public String getEnter() {\n        return enter;\n    }\n\n\n    public void setEnter(String enter) {\n        this.enter = enter;\n    }\n\n    @JsonProperty(&quot;tab&quot;)\n    public String getTab() {\n        return tab;\n    }\n\n    public void setTab(String tab) {\n        this.tab = tab;\n    }\n\n}\n</code></pre>\n<p>.............................................................</p>\n<p>...........................</p>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":7,"creation_date":1655760205,"post_id":72692978,"comment_id":128403832,"body_markdown":"Selecting the warning in the _Problems_ view and hitting Ctrl+1 provides you a Quick Fix. Or change the project manually in _Project &gt; Properties: Resource_. For details see https://www.eclipse.org/eclipse/news/4.24/platform.php#no-explicit-encoding-project-warning and/or watch my video https://youtu.be/zDJtVYAJwyY?t=663","body":"Selecting the warning in the <i>Problems</i> view and hitting Ctrl+1 provides you a Quick Fix. Or change the project manually in <i>Project &gt; Properties: Resource</i>. For details see <a href=\"https://www.eclipse.org/eclipse/news/4.24/platform.php#no-explicit-encoding-project-warning\" rel=\"nofollow noreferrer\">eclipse.org/eclipse/news/4.24/&hellip;</a> and/or watch my video <a href=\"https://youtu.be/zDJtVYAJwyY?t=663\" rel=\"nofollow noreferrer\">youtu.be/zDJtVYAJwyY?t=663</a>"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":1,"creation_date":1657557784,"post_id":72692978,"comment_id":128833882,"body_markdown":"The above from @howlger is an &quot;Answer&quot; not a question aimed at further clarification.","body":"The above from @howlger is an &quot;Answer&quot; not a question aimed at further clarification."},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":0,"creation_date":1690392465,"post_id":72692978,"comment_id":135348529,"body_markdown":"Funny why you downgraded from W11 to W10. In my case I upgraded from Winblows to Linux =)","body":"Funny why you downgraded from W11 to W10. In my case I upgraded from Winblows to Linux =)"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1688458913,"creation_date":1657605499,"answer_id":72947638,"question_id":72692978,"body_markdown":"Yes, the [**warning for projects with no explicit default encoding** is a **new** thing in **Eclipse 2022-06** (4.24)][1].\r\n\r\nTo set an explicit default encoding do one of the following:\r\n\r\n - In the ***Problems* view, select the warning**, hit **&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;1&lt;/kbd&gt;** and apply the provided Quick Fix (sets the project encoding explicitly to the workspace encoding)\r\n - Change the project manually in ***Project &gt; Properties: Resource***\r\n\r\nSee also [my video showing and explaining this][2].\r\n\r\nWhen using a build system like Maven or Gradle, set the encoding as follows instead:\r\n\r\n**Maven**\r\n1. In `pom.xml` set the property `project.build.sourceEncoding` to `UTF-8`:&lt;pre&gt;&amp;lt;properties&gt;&lt;br&gt;    &amp;lt;project.build.sourceEncoding&gt;UTF-8&amp;lt;/project.build.sourceEncoding&gt;&lt;br&gt;&amp;lt;/properties&gt;&lt;/pre&gt;\r\n2. Right-click the project folder and choose ***Maven &gt; Update Project...***\r\n\r\n**Gradle**\r\n1. In `build.gradle` set `compileJava.options.encoding` to `UTF-8`:&lt;pre&gt;compileJava.options.encoding = &#39;UTF-8&#39;&lt;/pre&gt;\r\n2. Right-click the project folder and choose ***Gradle &gt; Refresh Gradel Project***\r\n3. As long as [Eclipse Buildship issue #344][3] is not fixed, change the encoding manually as described above\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.24/platform.php#no-explicit-encoding-project-warning\r\n  [2]: https://youtu.be/zDJtVYAJwyY?t=663\r\n  [3]: https://github.com/eclipse/buildship/issues/344","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>Yes, the <a href=\"https://www.eclipse.org/eclipse/news/4.24/platform.php#no-explicit-encoding-project-warning\" rel=\"noreferrer\"><strong>warning for projects with no explicit default encoding</strong> is a <strong>new</strong> thing in <strong>Eclipse 2022-06</strong> (4.24)</a>.</p>\n<p>To set an explicit default encoding do one of the following:</p>\n<ul>\n<li>In the <strong><em>Problems</em> view, select the warning</strong>, hit <strong><kbd>Ctrl</kbd>+<kbd>1</kbd></strong> and apply the provided Quick Fix (sets the project encoding explicitly to the workspace encoding)</li>\n<li>Change the project manually in <em><strong>Project &gt; Properties: Resource</strong></em></li>\n</ul>\n<p>See also <a href=\"https://youtu.be/zDJtVYAJwyY?t=663\" rel=\"noreferrer\">my video showing and explaining this</a>.</p>\n<p>When using a build system like Maven or Gradle, set the encoding as follows instead:</p>\n<p><strong>Maven</strong></p>\n<ol>\n<li>In <code>pom.xml</code> set the property <code>project.build.sourceEncoding</code> to <code>UTF-8</code>:<pre>&lt;properties&gt;<br>    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;<br>&lt;/properties&gt;</pre></li>\n<li>Right-click the project folder and choose <em><strong>Maven &gt; Update Project...</strong></em></li>\n</ol>\n<p><strong>Gradle</strong></p>\n<ol>\n<li>In <code>build.gradle</code> set <code>compileJava.options.encoding</code> to <code>UTF-8</code>:<pre>compileJava.options.encoding = 'UTF-8'</pre></li>\n<li>Right-click the project folder and choose <em><strong>Gradle &gt; Refresh Gradel Project</strong></em></li>\n<li>As long as <a href=\"https://github.com/eclipse/buildship/issues/344\" rel=\"noreferrer\">Eclipse Buildship issue #344</a> is not fixed, change the encoding manually as described above</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1664811439,"creation_date":1664811439,"answer_id":73937700,"question_id":72692978,"body_markdown":"If you prefer to ignore this warning for all projects you can change the preferences:\r\n\r\n\r\n\r\n&gt; General -&gt; Workspace -&gt; Report missing project encoding as: **Ignore**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dQlBy.png","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>If you prefer to ignore this warning for all projects you can change the preferences:</p>\n<blockquote>\n<p>General -&gt; Workspace -&gt; Report missing project encoding as: <strong>Ignore</strong></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/dQlBy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dQlBy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684437142,"creation_date":1684437142,"answer_id":76283796,"question_id":72692978,"body_markdown":"If you are using Maven, add something similar to the following to your `pom.xml`:\r\n\r\n````\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${maven.resources.plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n````","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>If you are using Maven, add something similar to the following to your <code>pom.xml</code>:</p>\n<pre><code>    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven.resources.plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1192795,"reputation":1367,"user_id":1165207,"display_name":"Jos&#233; Ernesto Lara Rodr&#237;guez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688452747,"creation_date":1688452747,"answer_id":76609932,"question_id":72692978,"body_markdown":"If you&#39;re using Maven, every time you run &quot;Update project&quot; the warning comes back, as the project configuration is re-created from the POM file. To get rid of this warning permanently, add this in your POM file:\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\nThen, run &quot;Update project&quot; and the warning is gone.\r\nYou can find more info here: https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>If you're using Maven, every time you run &quot;Update project&quot; the warning comes back, as the project configuration is re-created from the POM file. To get rid of this warning permanently, add this in your POM file:</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Then, run &quot;Update project&quot; and the warning is gone.\nYou can find more info here: <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/encoding.html</a></p>\n"},{"tags":[],"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695744830,"creation_date":1695744830,"answer_id":77181758,"question_id":72692978,"body_markdown":"If you want to make this part of Eclipse settings (through eclipse task in Gradle, for example), create a file named &quot;org.eclipse.core.resources.prefs&quot; in .settings folder with these contents - \r\n\r\n    eclipse.preferences.version=1\r\n    encoding/&lt;project&gt;=UTF-8\r\n\r\n\r\nThis would be the command in gradle&#39;s eclipse task - \r\n\r\n    new File(&quot;.settings&quot;, &quot;org.eclipse.core.resources.prefs&quot;).text = &quot;&quot;&quot;eclipse.preferences.version=1\r\n    encoding/&lt;project&gt;=UTF-8\r\n    &quot;&quot;&quot;\r\n\r\n","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>If you want to make this part of Eclipse settings (through eclipse task in Gradle, for example), create a file named &quot;org.eclipse.core.resources.prefs&quot; in .settings folder with these contents -</p>\n<pre><code>eclipse.preferences.version=1\nencoding/&lt;project&gt;=UTF-8\n</code></pre>\n<p>This would be the command in gradle's eclipse task -</p>\n<pre><code>new File(&quot;.settings&quot;, &quot;org.eclipse.core.resources.prefs&quot;).text = &quot;&quot;&quot;eclipse.preferences.version=1\nencoding/&lt;project&gt;=UTF-8\n&quot;&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56979,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":72947638,"answer_count":5,"score":33,"last_activity_date":1695744830,"creation_date":1655759121,"question_id":72692978,"body_markdown":"I downgraded from Windows 11 to Windows 10 today and had to reinstall the Eclipse-IDE.&lt;br/&gt;\r\nAfter successfully importing my workspaces and fixing the projects, a warning appeared for every project saying &quot;Project XXX has no explicit encoding set&quot;. I&#39;ve already searched for a solution and only got some fixes for VSCode.\r\n\r\nI had **Eclipse 2021-6** and installed **Eclipse 2022-6**","title":"Eclipse: Project &#39;PROJECT_NAME&#39; has no explicit encoding set","body":"<p>I downgraded from Windows 11 to Windows 10 today and had to reinstall the Eclipse-IDE.<br/>\nAfter successfully importing my workspaces and fixing the projects, a warning appeared for every project saying &quot;Project XXX has no explicit encoding set&quot;. I've already searched for a solution and only got some fixes for VSCode.</p>\n<p>I had <strong>Eclipse 2021-6</strong> and installed <strong>Eclipse 2022-6</strong></p>\n"},{"tags":["java","duosecurity"],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695744464,"creation_date":1695744464,"question_id":77181712,"body_markdown":"I am trying to create using  /admin/v1/users it shows\r\n\r\n    {\r\n     &quot;code&quot;:40103,\r\n     &quot;message&quot;:&quot;Invalid signature in request credentials&quot;,\r\n     &quot;stat&quot;:&quot;FAIL&quot;\r\n      }\r\n\r\nHere is my Java Code:\r\n\r\n       public class DuoCreateUsers {\r\n    \r\n        private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String ikey = &quot;x&quot;;\r\n            String skey = &quot;x&quot;;\r\n            String host = &quot;api-d221a358.duosecurity.com&quot;;\r\n            String httpMethod = &quot;POST&quot;;\r\n            String requestPath = &quot;/admin/v1/users&quot;;\r\n            String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n    \r\n            String username = &quot;newuser&quot;;\r\n            String email = &quot;abc@example.com&quot;;\r\n    \r\n            params.put(&quot;username&quot;,username);\r\n            params.put(&quot;email&quot;,email);\r\n    \r\n            String queryString = canonQueryString();\r\n    \r\n            String canonicalRequest = timestamp + &quot;\\n&quot; + httpMethod + &quot;\\n&quot; + requestPath +  &quot;\\n&quot; + queryString;\r\n            System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\r\n    \r\n            String signature = sign1(canonicalRequest, skey);\r\n          //  System.out.println(&quot;signature = &quot; + signature);\r\n    \r\n            String url = &quot;https://&quot; + host + requestPath+&quot;?&quot;+queryString;\r\n            System.out.println(&quot;url = &quot; + url);\r\n    \r\n            HttpClient httpClient = HttpClients.createDefault();\r\n            HttpPost httpPost = new HttpPost(url);\r\n            httpPost.setHeader(&quot;Date&quot;, timestamp);\r\n            httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes()));\r\n            httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n    \r\n            httpPost.setEntity(new StringEntity(params.toString()));\r\n            // Make the request\r\n            HttpResponse response = httpClient.execute(httpPost);\r\n            HttpEntity entity = response.getEntity();\r\n            String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\r\n    \r\n            String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\r\n            System.out.println(&quot;rs = &quot; + rs);\r\n    \r\n        }\r\n    \r\n    \r\n        public static String canonQueryString()\r\n                throws UnsupportedEncodingException {\r\n            ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\r\n    \r\n            for (String key : params.keySet()) {\r\n                String name = URLEncoder\r\n                        .encode(key, &quot;UTF-8&quot;)\r\n                        .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                        .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                        .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                String value = URLEncoder\r\n                        .encode(params.get(key).toString(), &quot;UTF-8&quot;)\r\n                        .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                        .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                        .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                args.add(name + &quot;=&quot; + value);\r\n            }\r\n    \r\n            return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\r\n        }\r\n    \r\n        private static String sign1(String data, String secretKey) {\r\n            try {\r\n    \r\n                // Create an HMAC-SHA1 key from the secret key\r\n                SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA1&quot;);\r\n    \r\n                // Initialize the HMAC-SHA1 algorithm\r\n                Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n                mac.init(secretKeySpec);\r\n    \r\n                // Calculate the HMAC-SHA1 hash\r\n                byte[] hmacSha1Bytes = mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n    \r\n                // Convert the result to a hexadecimal string\r\n                String hmacSha1Hex = bytesToHex(hmacSha1Bytes);\r\n    \r\n                // Print the HMAC-SHA1 hash\r\n                System.out.println(&quot;HMAC-SHA1: &quot; + hmacSha1Hex);\r\n    \r\n                return hmacSha1Hex;\r\n            } catch (NoSuchAlgorithmException | InvalidKeyException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        // Helper method to convert bytes to a hexadecimal string\r\n        private static String bytesToHex(byte[] bytes) {\r\n            StringBuilder hexStringBuilder = new StringBuilder();\r\n            for (byte b : bytes) {\r\n                hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n            }\r\n            return hexStringBuilder.toString();\r\n        }\r\n    }\r\nWhat is the wrong of my code?\r\n\r\nPlease help me...","title":"/admin/v1/users giving a 40103 in DUO Security Admin API","body":"<p>I am trying to create using  /admin/v1/users it shows</p>\n<pre><code>{\n &quot;code&quot;:40103,\n &quot;message&quot;:&quot;Invalid signature in request credentials&quot;,\n &quot;stat&quot;:&quot;FAIL&quot;\n  }\n</code></pre>\n<p>Here is my Java Code:</p>\n<pre><code>   public class DuoCreateUsers {\n\n    private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\n\n    public static void main(String[] args) throws IOException {\n        String ikey = &quot;x&quot;;\n        String skey = &quot;x&quot;;\n        String host = &quot;api-d221a358.duosecurity.com&quot;;\n        String httpMethod = &quot;POST&quot;;\n        String requestPath = &quot;/admin/v1/users&quot;;\n        String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n\n        String username = &quot;newuser&quot;;\n        String email = &quot;abc@example.com&quot;;\n\n        params.put(&quot;username&quot;,username);\n        params.put(&quot;email&quot;,email);\n\n        String queryString = canonQueryString();\n\n        String canonicalRequest = timestamp + &quot;\\n&quot; + httpMethod + &quot;\\n&quot; + requestPath +  &quot;\\n&quot; + queryString;\n        System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\n\n        String signature = sign1(canonicalRequest, skey);\n      //  System.out.println(&quot;signature = &quot; + signature);\n\n        String url = &quot;https://&quot; + host + requestPath+&quot;?&quot;+queryString;\n        System.out.println(&quot;url = &quot; + url);\n\n        HttpClient httpClient = HttpClients.createDefault();\n        HttpPost httpPost = new HttpPost(url);\n        httpPost.setHeader(&quot;Date&quot;, timestamp);\n        httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes()));\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n\n        httpPost.setEntity(new StringEntity(params.toString()));\n        // Make the request\n        HttpResponse response = httpClient.execute(httpPost);\n        HttpEntity entity = response.getEntity();\n        String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\n\n        String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\n        System.out.println(&quot;rs = &quot; + rs);\n\n    }\n\n\n    public static String canonQueryString()\n            throws UnsupportedEncodingException {\n        ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\n\n        for (String key : params.keySet()) {\n            String name = URLEncoder\n                    .encode(key, &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            String value = URLEncoder\n                    .encode(params.get(key).toString(), &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            args.add(name + &quot;=&quot; + value);\n        }\n\n        return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\n    }\n\n    private static String sign1(String data, String secretKey) {\n        try {\n\n            // Create an HMAC-SHA1 key from the secret key\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA1&quot;);\n\n            // Initialize the HMAC-SHA1 algorithm\n            Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\n            mac.init(secretKeySpec);\n\n            // Calculate the HMAC-SHA1 hash\n            byte[] hmacSha1Bytes = mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\n\n            // Convert the result to a hexadecimal string\n            String hmacSha1Hex = bytesToHex(hmacSha1Bytes);\n\n            // Print the HMAC-SHA1 hash\n            System.out.println(&quot;HMAC-SHA1: &quot; + hmacSha1Hex);\n\n            return hmacSha1Hex;\n        } catch (NoSuchAlgorithmException | InvalidKeyException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    // Helper method to convert bytes to a hexadecimal string\n    private static String bytesToHex(byte[] bytes) {\n        StringBuilder hexStringBuilder = new StringBuilder();\n        for (byte b : bytes) {\n            hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\n        }\n        return hexStringBuilder.toString();\n    }\n}\n</code></pre>\n<p>What is the wrong of my code?</p>\n<p>Please help me...</p>\n"},{"tags":["java","android","kotlin","menu","bottomnavigationview"],"comments":[{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":1,"creation_date":1663524595,"post_id":73764708,"comment_id":130255417,"body_markdown":"[Accepted answer here](https://stackoverflow.com/questions/57861254/how-to-change-a-specific-icon-image-from-bottom-navigation-view) is what you are looking for.","body":"<a href=\"https://stackoverflow.com/questions/57861254/how-to-change-a-specific-icon-image-from-bottom-navigation-view\">Accepted answer here</a> is what you are looking for."},{"owner":{"account_id":5902254,"reputation":123,"user_id":4645357,"accept_rate":62,"display_name":"Zain"},"score":0,"creation_date":1682860905,"post_id":73764708,"comment_id":134278359,"body_markdown":"Did you find how to load it from a url dear?","body":"Did you find how to load it from a url dear?"}],"answers":[{"tags":[],"owner":{"account_id":59422,"reputation":3286,"user_id":177790,"accept_rate":80,"display_name":"slott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695744389,"creation_date":1695744389,"answer_id":77181699,"question_id":73764708,"body_markdown":"I had a look at the proposed solutions and none of them worked that great. So here is how I solved the issue - by going straight for the icon view.\r\nSimply access the icon view - which is an image view - and let your favorit image SDK do the rest. This also bypasses the tint and renders the bitmap in full color.\r\n\r\n    \t\tfinal BottomNavigationMenuView mbottomNavigationMenuView =\r\n    \t\t\t\t(BottomNavigationMenuView) binding.navView.getChildAt(0);\r\n    \t\tfinal BottomNavigationItemView itemView = (BottomNavigationItemView)mbottomNavigationMenuView.getChildAt(3);\r\n    \t\tfinal ImageView profileItemIcon = (ImageView) ((ViewGroup)itemView.getChildAt(0)).getChildAt(1);\r\n    \t\tPicasso.get().load(sharedPreferences.getString(RestManager.LOGO, null)).transform(PicassoHelper.profileImageTransformation).fit()\r\n    \t\t\t\t.centerCrop().transform(PicassoHelper.borderedProfileImageTransformation)\r\n    \t\t\t\t.into(profileItemIcon);\r\n\r\n\r\n","title":"How to load image via URL into BottomNavigationView menu item icon","body":"<p>I had a look at the proposed solutions and none of them worked that great. So here is how I solved the issue - by going straight for the icon view.\nSimply access the icon view - which is an image view - and let your favorit image SDK do the rest. This also bypasses the tint and renders the bitmap in full color.</p>\n<pre><code>        final BottomNavigationMenuView mbottomNavigationMenuView =\n                (BottomNavigationMenuView) binding.navView.getChildAt(0);\n        final BottomNavigationItemView itemView = (BottomNavigationItemView)mbottomNavigationMenuView.getChildAt(3);\n        final ImageView profileItemIcon = (ImageView) ((ViewGroup)itemView.getChildAt(0)).getChildAt(1);\n        Picasso.get().load(sharedPreferences.getString(RestManager.LOGO, null)).transform(PicassoHelper.profileImageTransformation).fit()\n                .centerCrop().transform(PicassoHelper.borderedProfileImageTransformation)\n                .into(profileItemIcon);\n</code></pre>\n"}],"owner":{"account_id":14863530,"reputation":31,"user_id":10733439,"display_name":"Osama Sayed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695744389,"creation_date":1663520035,"question_id":73764708,"body_markdown":"I followed [this][1] answer, But it showed up like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand this is my code \r\n\r\n \r\n\r\n    String imageUrl = &quot;https://m.media-amazon.com/images/M/MV5BYjRjMTA5YjAtMTNjYy00M2E0LTk0YWEtMjE4ZDI3MTdlZmZjXkEyXkFqcGdeQTNwaW5nZXN0._V1_.jpg&quot;;\r\n            Glide.with(getApplicationContext())\r\n                    .asBitmap()\r\n                    .placeholder(R.drawable.ic_profile)\r\n                    .error(R.drawable.ic_profile)\r\n                    .load(imageUrl)\r\n                    .apply(\r\n                            RequestOptions.circleCropTransform().placeholder(R.drawable.profile)\r\n                    )\r\n                    .into(new CustomTarget&lt;Bitmap&gt;() {\r\n                        @Override\r\n                        public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\r\n                            Drawable bitmapDrawable = new BitmapDrawable(getResources(), resource);\r\n                            mBinding.bottomNavigation.getMenu().findItem(R.id.nav_my_profile).setIcon(bitmapDrawable);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onLoadCleared(@Nullable Drawable placeholder) {\r\n                        }\r\n                    });\r\n\r\n&gt; note: my emulator is Android 7 and I tried it on a phone that contains Android 11, but it doesn&#39;t work\r\n\r\nHow can I create this feature?\r\n\r\n[![enter image description here][3]][3]\r\n\r\n&gt; note: I preferred `Java`, if it `kotlin` no problem \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67667798/10733439\r\n  [2]: https://i.stack.imgur.com/talqa.png\r\n  [3]: https://i.stack.imgur.com/Xyz22.png","title":"How to load image via URL into BottomNavigationView menu item icon","body":"<p>I followed <a href=\"https://stackoverflow.com/a/67667798/10733439\">this</a> answer, But it showed up like this</p>\n<p><a href=\"https://i.stack.imgur.com/talqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/talqa.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is my code</p>\n<pre><code>String imageUrl = &quot;https://m.media-amazon.com/images/M/MV5BYjRjMTA5YjAtMTNjYy00M2E0LTk0YWEtMjE4ZDI3MTdlZmZjXkEyXkFqcGdeQTNwaW5nZXN0._V1_.jpg&quot;;\n        Glide.with(getApplicationContext())\n                .asBitmap()\n                .placeholder(R.drawable.ic_profile)\n                .error(R.drawable.ic_profile)\n                .load(imageUrl)\n                .apply(\n                        RequestOptions.circleCropTransform().placeholder(R.drawable.profile)\n                )\n                .into(new CustomTarget&lt;Bitmap&gt;() {\n                    @Override\n                    public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\n                        Drawable bitmapDrawable = new BitmapDrawable(getResources(), resource);\n                        mBinding.bottomNavigation.getMenu().findItem(R.id.nav_my_profile).setIcon(bitmapDrawable);\n                    }\n\n                    @Override\n                    public void onLoadCleared(@Nullable Drawable placeholder) {\n                    }\n                });\n</code></pre>\n<blockquote>\n<p>note: my emulator is Android 7 and I tried it on a phone that contains Android 11, but it doesn't work</p>\n</blockquote>\n<p>How can I create this feature?</p>\n<p><a href=\"https://i.stack.imgur.com/Xyz22.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xyz22.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>note: I preferred <code>Java</code>, if it <code>kotlin</code> no problem</p>\n</blockquote>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695741481,"post_id":77181309,"comment_id":136063546,"body_markdown":"Did you attempt making `this.myList` a &quot;synchronized list&quot;?","body":"Did you attempt making <code>this.myList</code> a &quot;synchronized list&quot;?"},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1695741622,"post_id":77181309,"comment_id":136063577,"body_markdown":"This is what I am doing with Collections.synchronizedList(this.myList), no? The problem is I don&#39;t know if after I need the sort inside synchronized (myListToOrder) {} or not. And could not find my answer by reading the JavaDoc :)","body":"This is what I am doing with Collections.synchronizedList(this.myList), no? The problem is I don&#39;t know if after I need the sort inside synchronized (myListToOrder) {} or not. And could not find my answer by reading the JavaDoc :)"},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1695741700,"post_id":77181309,"comment_id":136063600,"body_markdown":"this.myList is an ArrayList(). I will adit on the post","body":"this.myList is an ArrayList(). I will adit on the post"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1695742072,"post_id":77181309,"comment_id":136063687,"body_markdown":"Wrapping it with `Collections.synchronizedList` like that will do absolutely nothing since anything else accessing it in parallel will be accessing the underlying list, not the wrapped list. Read the javadoc of [`Collections.synchronizedList`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)).","body":"Wrapping it with <code>Collections.synchronizedList</code> like that will do absolutely nothing since anything else accessing it in parallel will be accessing the underlying list, not the wrapped list. Read the javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a>."},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1695809188,"post_id":77181309,"comment_id":136072801,"body_markdown":"Why the question was closed? Don&#39;t understand","body":"Why the question was closed? Don&#39;t understand"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1699050651,"post_id":77181309,"comment_id":136487291,"body_markdown":"@CatarinaNogueira: the close reason is given in the blue box above. For me it says &quot;Closed. This question is opinion-based&quot;. Can you see that? If so, can you explain what you don&#39;t understand about that statement?","body":"@CatarinaNogueira: the close reason is given in the blue box above. For me it says &quot;Closed. This question is opinion-based&quot;. Can you see that? If so, can you explain what you don&#39;t understand about that statement?"},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1701165625,"post_id":77181309,"comment_id":136738677,"body_markdown":"Sure, my question was &quot;I am not sure the Collections.sort(myListToOrder); needs to be inside a synchronized block.&quot;. So this is a question with a defined answer, not an &quot;opinion&quot;. I guess the phrase I put in the end &quot;Any opinion on that?&quot; was misleading, but this is not an opinion-based question","body":"Sure, my question was &quot;I am not sure the Collections.sort(myListToOrder); needs to be inside a synchronized block.&quot;. So this is a question with a defined answer, not an &quot;opinion&quot;. I guess the phrase I put in the end &quot;Any opinion on that?&quot; was misleading, but this is not an opinion-based question"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695744065,"creation_date":1695741815,"answer_id":77181386,"question_id":77181309,"body_markdown":"You need to make sure that there is no access to the list while it is sorted (all accesses need to either &quot;happen before&quot; or &quot;happen after&quot; sorting).\r\n\r\nIn your case, you have a `List`, creating a `synchronized` _view_ on the `List` and `synchronize` on that view. However, other code can still access the original list in the meantime.\r\n\r\nYou can fix this issue by using the same `synchronizedList` for all operations:\r\n```java\r\n\r\nprivate final List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\nprivate List&lt;String&gt; sortSynchronized(){\r\n    synchronized (myList) {//no other access to myList is possible during this block\r\n        Collections.sort(myListToOrder);\r\n    }\r\n    return myListToOrder;\r\n}\r\n``` \r\nAlternatively, you can introduce your own synchronization strategy for that list and secure all access to the `List` that way, e.g. using `ReadWriteLock`.\r\n\r\nHowever, it should be noted that other accesses to the `List` can mess up sorting right after `sortSyncronized` finishes. Instead of returning the same `List`, you might want to (sort and) return a copy:\r\n```\r\nprivate final List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\nprivate List&lt;String&gt; sortedCopy(){\r\n    List&lt;String&gt; copy;\r\n    synchronized(myList){//or however you want to secure access - elements being added to the list during copying might cause issues\r\n        copy = new ArrayList&lt;&gt;(myList);\r\n    }\r\n    Collections.sort(copy);\r\n    return copy;\r\n    //or if you want to have a synchronizedList\r\n    //return Collections.synchronizedList(copy); \r\n}\r\n```","title":"Collections.sort() Synchronized","body":"<p>You need to make sure that there is no access to the list while it is sorted (all accesses need to either &quot;happen before&quot; or &quot;happen after&quot; sorting).</p>\n<p>In your case, you have a <code>List</code>, creating a <code>synchronized</code> <em>view</em> on the <code>List</code> and <code>synchronize</code> on that view. However, other code can still access the original list in the meantime.</p>\n<p>You can fix this issue by using the same <code>synchronizedList</code> for all operations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\nprivate List&lt;String&gt; sortSynchronized(){\n    synchronized (myList) {//no other access to myList is possible during this block\n        Collections.sort(myListToOrder);\n    }\n    return myListToOrder;\n}\n</code></pre>\n<p>Alternatively, you can introduce your own synchronization strategy for that list and secure all access to the <code>List</code> that way, e.g. using <code>ReadWriteLock</code>.</p>\n<p>However, it should be noted that other accesses to the <code>List</code> can mess up sorting right after <code>sortSyncronized</code> finishes. Instead of returning the same <code>List</code>, you might want to (sort and) return a copy:</p>\n<pre><code>private final List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\nprivate List&lt;String&gt; sortedCopy(){\n    List&lt;String&gt; copy;\n    synchronized(myList){//or however you want to secure access - elements being added to the list during copying might cause issues\n        copy = new ArrayList&lt;&gt;(myList);\n    }\n    Collections.sort(copy);\n    return copy;\n    //or if you want to have a synchronizedList\n    //return Collections.synchronizedList(copy); \n}\n</code></pre>\n"}],"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695752079,"answer_count":1,"score":-2,"last_activity_date":1695744065,"creation_date":1695741258,"question_id":77181309,"body_markdown":"I have a list and I need to sort it, in a thread-safe way, in Java. I need the return to be a list. \r\n\r\n\r\nI wrote the code below but since `myListToOrder` is already a `synchronizedList` I am not sure the `Collections.sort(myListToOrder);` needs to be inside a `synchronized` block. \r\n\r\n    private  List&lt;String&gt; sortSynchronized(){\r\n        List&lt;String&gt; myListToOrder = Collections.synchronizedList(this.myList);\r\n                synchronized (myListToOrder) {\r\n                    Collections.sort(myListToOrder);\r\n                }\r\n    return myListToOrder;\r\n    }\r\n\r\nNote: `myList` is created as: `protected final List&lt;String&gt; myList = Lists.newArrayList();` \r\n\r\nAny opinion on that? ","title":"Collections.sort() Synchronized","body":"<p>I have a list and I need to sort it, in a thread-safe way, in Java. I need the return to be a list.</p>\n<p>I wrote the code below but since <code>myListToOrder</code> is already a <code>synchronizedList</code> I am not sure the <code>Collections.sort(myListToOrder);</code> needs to be inside a <code>synchronized</code> block.</p>\n<pre><code>private  List&lt;String&gt; sortSynchronized(){\n    List&lt;String&gt; myListToOrder = Collections.synchronizedList(this.myList);\n            synchronized (myListToOrder) {\n                Collections.sort(myListToOrder);\n            }\nreturn myListToOrder;\n}\n</code></pre>\n<p>Note: <code>myList</code> is created as: <code>protected final List&lt;String&gt; myList = Lists.newArrayList();</code></p>\n<p>Any opinion on that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695743079,"creation_date":1552906124,"answer_id":55219584,"question_id":55219429,"body_markdown":"I have worked with two Libraries which gives SDK for OPC UA  Client and OPC  UA Server. \r\n\r\nThe first one is [Prosys][1] and it is not open source.\r\n\r\nAnd Second one is [DigitalPetri][2] which is now moved to under umbrella iot project and it is open source.\r\n\r\nI found digital petri is much better. i recommend you to use this.\r\nIt has all SDKs for \r\n\r\n**OPC UA Client SDK**\r\n\r\n**OPC UA Server SDK** and\r\n\r\n**OPC UA Stack**\r\n\r\nsee [Bench Marks][3] for OPC UA Sdks.\r\n\r\n\r\n  [1]: https://www.prosysopc.com/products/opc-ua-java-sdk/\r\n  [2]: https://github.com/eclipse/milo\r\n  [3]: https://github.com/kevinherron/stack-bench","title":"Create OPC UA client for JAVA","body":"<p>I have worked with two Libraries which gives SDK for OPC UA  Client and OPC  UA Server.</p>\n<p>The first one is <a href=\"https://www.prosysopc.com/products/opc-ua-java-sdk/\" rel=\"nofollow noreferrer\">Prosys</a> and it is not open source.</p>\n<p>And Second one is <a href=\"https://github.com/eclipse/milo\" rel=\"nofollow noreferrer\">DigitalPetri</a> which is now moved to under umbrella iot project and it is open source.</p>\n<p>I found digital petri is much better. i recommend you to use this.\nIt has all SDKs for</p>\n<p><strong>OPC UA Client SDK</strong></p>\n<p><strong>OPC UA Server SDK</strong> and</p>\n<p><strong>OPC UA Stack</strong></p>\n<p>see <a href=\"https://github.com/kevinherron/stack-bench\" rel=\"nofollow noreferrer\">Bench Marks</a> for OPC UA Sdks.</p>\n"}],"owner":{"account_id":9323261,"reputation":21,"user_id":6921396,"display_name":"R.Priego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4335,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1695743079,"creation_date":1552905633,"question_id":55219429,"body_markdown":"I need to create an OPC UA client to connect to a PLC (server). I would need you to recommend me which library is better or use you and some example of Client to be able to connect and read and write variables.\r\n\r\nThanks","title":"Create OPC UA client for JAVA","body":"<p>I need to create an OPC UA client to connect to a PLC (server). I would need you to recommend me which library is better or use you and some example of Client to be able to connect and read and write variables.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1695737979,"post_id":77180781,"comment_id":136062681,"body_markdown":"Your example code is slightly broken, because you should only register list change listeners on the FX Application Thread. This doesn&#39;t change the behavior, however. I believe what is happening here (though I&#39;m not quite sure) is that the extractor works by registering a `WeakChangeListener` with the specified property, and that listener is getting garbage collected.","body":"Your example code is slightly broken, because you should only register list change listeners on the FX Application Thread. This doesn&#39;t change the behavior, however. I believe what is happening here (though I&#39;m not quite sure) is that the extractor works by registering a <code>WeakChangeListener</code> with the specified property, and that listener is getting garbage collected."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695740179,"post_id":77180781,"comment_id":136063199,"body_markdown":"@James_D As far as I know, anything from the `javafx.base` module can be used on any thread, and is intentionally designed to allow use outside the context of a JavaFX application. Though nothing there is safe to be used by unsynchronized concurrent threads. Of course, once an observable is connected to the UI, then it should only be interacted with on the FX thread specifically.","body":"@James_D As far as I know, anything from the <code>javafx.base</code> module can be used on any thread, and is intentionally designed to allow use outside the context of a JavaFX application. Though nothing there is safe to be used by unsynchronized concurrent threads. Of course, once an observable is connected to the UI, then it should only be interacted with on the FX thread specifically."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1695740441,"post_id":77180781,"comment_id":136063270,"body_markdown":"@Slaw *&quot;anything from the `javafx.base` module can be used on any thread&quot;*. This is certainly true. But I *think* (I may be wrong) that a listener needs to be registered on the same thread as the one on which changes are made.","body":"@Slaw <i>&quot;anything from the <code>javafx.base</code> module can be used on any thread&quot;</i>. This is certainly true. But I <i>think</i> (I may be wrong) that a listener needs to be registered on the same thread as the one on which changes are made."},{"owner":{"account_id":4882335,"reputation":659,"user_id":10489834,"display_name":"Stefan Pfeifer"},"score":0,"creation_date":1695741781,"post_id":77180781,"comment_id":136063617,"body_markdown":"Thanks for the comments! I have changed the example so that the listeners are registered on the FX application thread too. The behaviour of the code is the same as before though.","body":"Thanks for the comments! I have changed the example so that the listeners are registered on the FX application thread too. The behaviour of the code is the same as before though."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695742083,"post_id":77180781,"comment_id":136063691,"body_markdown":"@James_D I think the more important thing is that a _happens-before_ relationship is established.","body":"@James_D I think the more important thing is that a <i>happens-before</i> relationship is established."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1695743195,"post_id":77180781,"comment_id":136063962,"body_markdown":"I am not sure what&#39;s going on but it appears that adding `c.getList().get(0).nameProperty().toString());` causes things to act as expected.  `System.out.println(&quot;List element was updated&quot; + c.getList().get(0).nameProperty().toString());`","body":"I am not sure what&#39;s going on but it appears that adding <code>c.getList().get(0).nameProperty().toString());</code> causes things to act as expected.  <code>System.out.println(&quot;List element was updated&quot; + c.getList().get(0).nameProperty().toString());</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1695743278,"post_id":77180781,"comment_id":136063982,"body_markdown":"`observableList.addListener((ListChangeListener&lt;TestClass&gt;) c -&gt; {\n                while(c.next()) {\n                    if(c.wasUpdated()) {\n                        System.out.println(&quot;List element was updated&quot; + c.getList().get(0).nameProperty());\n                    }\n                }\n            });`","body":"<code>observableList.addListener((ListChangeListener&lt;TestClass&gt;) c -&gt; {                 while(c.next()) {                     if(c.wasUpdated()) {                         System.out.println(&quot;List element was updated&quot; + c.getList().get(0).nameProperty());                     }                 }             });</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1695743396,"post_id":77180781,"comment_id":136064001,"body_markdown":"@SedJ601 Calling `toString()` has the side-effect of validating the property (because the implementation calls `get()`).","body":"@SedJ601 Calling <code>toString()</code> has the side-effect of validating the property (because the implementation calls <code>get()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1695742792,"creation_date":1695741644,"answer_id":77181359,"question_id":77180781,"body_markdown":"Note the extractor returns an array of `Observable`, and if we look at the [documentation][1]:\r\n\r\n&gt; Implementations of this class should strive to generate as few events as possible to avoid wasting too much time in event handlers. Implementations in this library mark themselves as invalid when the first invalidation event occurs. They do not generate anymore invalidation events until their value is recomputed and valid again.\r\n\r\nThe `name` property starts off in a valid state. You set the property, it&#39;s invalidated, fires an invalidation event, and ultimately the list change listener is notified of an update. But then you never query the `name` property, meaning it is never validated. Thus, it remains in an invalid state and does not fire any more invalidation events despite it being set (to different values) over and over. You need to validate the observable(s) if you want to keep being notified of invalidation events.\r\n\r\nHere&#39;s an example showing the difference between validating the observable and not:\r\n\r\n```java\r\nimport javafx.beans.Observable;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        doTestWithoutValidation();\r\n        doTestWithValidation();\r\n    }\r\n\r\n    static void doTestWithoutValidation() {\r\n        StringProperty element = new SimpleStringProperty();\r\n\r\n        ObservableList&lt;Observable&gt; list = FXCollections.observableArrayList(e -&gt; new Observable[]{e});\r\n        list.add(element);\r\n\r\n        list.addListener((ListChangeListener.Change&lt;? extends Observable&gt; change) -&gt; {\r\n            while (change.next()) {\r\n                if (change.wasUpdated()) {\r\n                    System.out.println(&quot;List element updated&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        System.out.println(&quot;Doing test WITHOUT validations...&quot;);\r\n\r\n        element.set(&quot;Foo&quot;);\r\n        element.set(&quot;Bar&quot;);\r\n        element.set(&quot;Baz&quot;);\r\n\r\n        System.out.println(&quot;DONE!&quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    static void doTestWithValidation() {\r\n        StringProperty element = new SimpleStringProperty();\r\n\r\n        ObservableList&lt;Observable&gt; list = FXCollections.observableArrayList(e -&gt; new Observable[]{e});\r\n        list.add(element);\r\n\r\n        list.addListener((ListChangeListener.Change&lt;? extends Observable&gt; change) -&gt; {\r\n            while (change.next()) {\r\n                if (change.wasUpdated()) {\r\n                    System.out.println(&quot;List element updated&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        System.out.println(&quot;Doing test WITH validations...&quot;);\r\n\r\n        element.set(&quot;Foo&quot;);\r\n        element.get(); // validate\r\n        element.set(&quot;Bar&quot;);\r\n        element.get(); // validate\r\n        element.set(&quot;Baz&quot;);\r\n\r\n        System.out.println(&quot;DONE!&quot;);\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nDoing test WITHOUT validations...\r\nList element updated\r\nDONE!\r\n\r\nDoing test WITH validations...  \r\nList element updated\r\nList element updated\r\nList element updated\r\nDONE!\r\n\r\n```\r\n\r\nYou also have to be careful of garbage collection. In your code, after updating it to solve the concurrency problems that were present, I believe it&#39;s possible the `ObservableList` itself becomes eligible for garbage collection after the `Runnable` (passed to `startup`) returns.\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.base/javafx/beans/Observable.html","title":"JavaFX ObservableList with extractor changes behaviour depending on the existence of a listener","body":"<p>Note the extractor returns an array of <code>Observable</code>, and if we look at the <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/beans/Observable.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Implementations of this class should strive to generate as few events as possible to avoid wasting too much time in event handlers. Implementations in this library mark themselves as invalid when the first invalidation event occurs. They do not generate anymore invalidation events until their value is recomputed and valid again.</p>\n</blockquote>\n<p>The <code>name</code> property starts off in a valid state. You set the property, it's invalidated, fires an invalidation event, and ultimately the list change listener is notified of an update. But then you never query the <code>name</code> property, meaning it is never validated. Thus, it remains in an invalid state and does not fire any more invalidation events despite it being set (to different values) over and over. You need to validate the observable(s) if you want to keep being notified of invalidation events.</p>\n<p>Here's an example showing the difference between validating the observable and not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.beans.Observable;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        doTestWithoutValidation();\n        doTestWithValidation();\n    }\n\n    static void doTestWithoutValidation() {\n        StringProperty element = new SimpleStringProperty();\n\n        ObservableList&lt;Observable&gt; list = FXCollections.observableArrayList(e -&gt; new Observable[]{e});\n        list.add(element);\n\n        list.addListener((ListChangeListener.Change&lt;? extends Observable&gt; change) -&gt; {\n            while (change.next()) {\n                if (change.wasUpdated()) {\n                    System.out.println(&quot;List element updated&quot;);\n                }\n            }\n        });\n\n        System.out.println(&quot;Doing test WITHOUT validations...&quot;);\n\n        element.set(&quot;Foo&quot;);\n        element.set(&quot;Bar&quot;);\n        element.set(&quot;Baz&quot;);\n\n        System.out.println(&quot;DONE!&quot;);\n        System.out.println();\n    }\n\n    static void doTestWithValidation() {\n        StringProperty element = new SimpleStringProperty();\n\n        ObservableList&lt;Observable&gt; list = FXCollections.observableArrayList(e -&gt; new Observable[]{e});\n        list.add(element);\n\n        list.addListener((ListChangeListener.Change&lt;? extends Observable&gt; change) -&gt; {\n            while (change.next()) {\n                if (change.wasUpdated()) {\n                    System.out.println(&quot;List element updated&quot;);\n                }\n            }\n        });\n\n        System.out.println(&quot;Doing test WITH validations...&quot;);\n\n        element.set(&quot;Foo&quot;);\n        element.get(); // validate\n        element.set(&quot;Bar&quot;);\n        element.get(); // validate\n        element.set(&quot;Baz&quot;);\n\n        System.out.println(&quot;DONE!&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Doing test WITHOUT validations...\nList element updated\nDONE!\n\nDoing test WITH validations...  \nList element updated\nList element updated\nList element updated\nDONE!\n\n</code></pre>\n<p>You also have to be careful of garbage collection. In your code, after updating it to solve the concurrency problems that were present, I believe it's possible the <code>ObservableList</code> itself becomes eligible for garbage collection after the <code>Runnable</code> (passed to <code>startup</code>) returns.</p>\n"}],"owner":{"account_id":4882335,"reputation":659,"user_id":10489834,"display_name":"Stefan Pfeifer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77181359,"answer_count":1,"score":2,"last_activity_date":1695742792,"creation_date":1695737144,"question_id":77180781,"body_markdown":"The following problem has been the source of a bug in my JavaFX application. The weird thing is that the behaviour depends on whether a specific JavaFX property has a listener attached to it or not. Everything works when the property is observed by a `ChangeListener`, otherwise not. It&#39;s starting to drive me crazy...\r\n\r\nI managed to break it down to a minimal code example. First we need a class that exposes a property that changes every now and then. Here it&#39;s called `nameProperty()`. In this example I chose to spawn a separate thread that continuously modifies the property, but in the real application it happens by user interaction.\r\n\r\n```\r\nclass TestClass {\r\n    private final SimpleObjectProperty&lt;String&gt; name = new SimpleObjectProperty&lt;&gt;();\r\n\r\n    public TestClass() {\r\n        new Thread(() -&gt; {\r\n            while(true) {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    Platform.runLater(() -&gt; name.set(&quot;A&quot;));\r\n                    Thread.sleep(1000);\r\n                    Platform.runLater(() -&gt; name.set(&quot;B&quot;));\r\n                }\r\n                catch(InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public ReadOnlyObjectProperty&lt;String&gt; nameProperty() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nIn the main method, on the FX application thread, an `ObservableList&lt;TestClass&gt;` is created with an extractor so that changes to the `nameProperty()` of list elements are reported by the `ListChangeListener`. We then create an instance of the test class, add it to the list and add a `ListChangeListener` to observe updates to the list.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    Platform.startup(() -&gt; {\r\n        Callback&lt;TestClass, Observable[]&gt; extractor = obj -&gt; new Observable[]{ obj.nameProperty() };\r\n        ObservableList&lt;TestClass&gt; list = FXCollections.observableArrayList(extractor);\r\n\r\n        TestClass test = new TestClass();\r\n        list.add(test);\r\n\r\n        list.addListener((ListChangeListener&lt;TestClass&gt;) c -&gt; {\r\n            while(c.next()) {\r\n                if(c.wasUpdated()) {\r\n                    System.out.println(&quot;List element was updated&quot;);\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    Thread.sleep(60*60*1000);\r\n}\r\n```\r\n\r\nMy expectation for the output was that it would look like this, due to the list extractor and the property being continuously modified:\r\n\r\n```\r\nList element was updated\r\nList element was updated\r\nList element was updated\r\nList element was updated\r\nList element was updated\r\n...\r\n```\r\n\r\nBut instead it looks like this:\r\n\r\n```\r\nList element was updated\r\n*silence*\r\n```\r\n\r\nNow the weird part is that as soon as a `ChangeListener` is added to the `nameProperty()` anywhere in the code, for example\r\n\r\n```\r\ntest.nameProperty().addListener(((observable, oldValue, newValue) -&gt; {}));\r\n```\r\n\r\nit seems to work just as expected and the list produces change notifications continuously.\r\n\r\nJust observing a property should not change the behaviour of other things bound to that property, right? But if this were a bug in JavaFX, it would be a really obvious and fundamental one in my opinition. So maybe I did mess something up, even though the program seems very simple. I&#39;m using OpenJFX version 21 on Windows 10, by the way.","title":"JavaFX ObservableList with extractor changes behaviour depending on the existence of a listener","body":"<p>The following problem has been the source of a bug in my JavaFX application. The weird thing is that the behaviour depends on whether a specific JavaFX property has a listener attached to it or not. Everything works when the property is observed by a <code>ChangeListener</code>, otherwise not. It's starting to drive me crazy...</p>\n<p>I managed to break it down to a minimal code example. First we need a class that exposes a property that changes every now and then. Here it's called <code>nameProperty()</code>. In this example I chose to spawn a separate thread that continuously modifies the property, but in the real application it happens by user interaction.</p>\n<pre><code>class TestClass {\n    private final SimpleObjectProperty&lt;String&gt; name = new SimpleObjectProperty&lt;&gt;();\n\n    public TestClass() {\n        new Thread(() -&gt; {\n            while(true) {\n                try {\n                    Thread.sleep(1000);\n                    Platform.runLater(() -&gt; name.set(&quot;A&quot;));\n                    Thread.sleep(1000);\n                    Platform.runLater(() -&gt; name.set(&quot;B&quot;));\n                }\n                catch(InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n    }\n\n    public ReadOnlyObjectProperty&lt;String&gt; nameProperty() {\n        return name;\n    }\n}\n</code></pre>\n<p>In the main method, on the FX application thread, an <code>ObservableList&lt;TestClass&gt;</code> is created with an extractor so that changes to the <code>nameProperty()</code> of list elements are reported by the <code>ListChangeListener</code>. We then create an instance of the test class, add it to the list and add a <code>ListChangeListener</code> to observe updates to the list.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    Platform.startup(() -&gt; {\n        Callback&lt;TestClass, Observable[]&gt; extractor = obj -&gt; new Observable[]{ obj.nameProperty() };\n        ObservableList&lt;TestClass&gt; list = FXCollections.observableArrayList(extractor);\n\n        TestClass test = new TestClass();\n        list.add(test);\n\n        list.addListener((ListChangeListener&lt;TestClass&gt;) c -&gt; {\n            while(c.next()) {\n                if(c.wasUpdated()) {\n                    System.out.println(&quot;List element was updated&quot;);\n                }\n            }\n        });\n    });\n\n    Thread.sleep(60*60*1000);\n}\n</code></pre>\n<p>My expectation for the output was that it would look like this, due to the list extractor and the property being continuously modified:</p>\n<pre><code>List element was updated\nList element was updated\nList element was updated\nList element was updated\nList element was updated\n...\n</code></pre>\n<p>But instead it looks like this:</p>\n<pre><code>List element was updated\n*silence*\n</code></pre>\n<p>Now the weird part is that as soon as a <code>ChangeListener</code> is added to the <code>nameProperty()</code> anywhere in the code, for example</p>\n<pre><code>test.nameProperty().addListener(((observable, oldValue, newValue) -&gt; {}));\n</code></pre>\n<p>it seems to work just as expected and the list produces change notifications continuously.</p>\n<p>Just observing a property should not change the behaviour of other things bound to that property, right? But if this were a bug in JavaFX, it would be a really obvious and fundamental one in my opinition. So maybe I did mess something up, even though the program seems very simple. I'm using OpenJFX version 21 on Windows 10, by the way.</p>\n"},{"tags":["java","android","sensors","android-sensors","sensormanager"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695754475,"post_id":77181466,"comment_id":136065974,"body_markdown":"Are you sure that your physical phone really has this type of sensor? I am not sure if many phones have a second sensor except the batter ytemperature sensor accessible from within apps.","body":"Are you sure that your physical phone really has this type of sensor? I am not sure if many phones have a second sensor except the batter ytemperature sensor accessible from within apps."},{"owner":{"account_id":28728192,"reputation":1,"user_id":22000661,"display_name":"electric_eel23"},"score":0,"creation_date":1695815167,"post_id":77181466,"comment_id":136073943,"body_markdown":"My phone has the Android Version `11` and in the  [android documentation](https://apilevels.com/) I have read that my API Level is `30`. In the  [Sensor documentation](https://developer.android.com/guide/topics/sensors/sensors_overview#sensor-availability) it says that `TYPE_TEMPERATURE` is deprecated on API Level `14` and you should use the `TYPE_AMBIENT_TEMPERATURE` Sensor.","body":"My phone has the Android Version <code>11</code> and in the  <a href=\"https://apilevels.com/\" rel=\"nofollow noreferrer\">android documentation</a> I have read that my API Level is <code>30</code>. In the  <a href=\"https://developer.android.com/guide/topics/sensors/sensors_overview#sensor-availability\" rel=\"nofollow noreferrer\">Sensor documentation</a> it says that <code>TYPE_TEMPERATURE</code> is deprecated on API Level <code>14</code> and you should use the <code>TYPE_AMBIENT_TEMPERATURE</code> Sensor."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695815579,"post_id":77181466,"comment_id":136074027,"body_markdown":"That is just the API which allows you to query a sensor. It will only work if the hardware contains it and exposes it to the Android API. So the actual question is if your phone has such a sensor and makes it accessible via Android API or not. So I would start by checking the result of `getDynamicSensorList(..)` what [temperature] sensors your device supports at all.","body":"That is just the API which allows you to query a sensor. It will only work if the hardware contains it and exposes it to the Android API. So the actual question is if your phone has such a sensor and makes it accessible via Android API or not. So I would start by checking the result of <code>getDynamicSensorList(..)</code> what [temperature] sensors your device supports at all."},{"owner":{"account_id":28728192,"reputation":1,"user_id":22000661,"display_name":"electric_eel23"},"score":0,"creation_date":1696349414,"post_id":77181466,"comment_id":136140125,"body_markdown":"@Robert, I have checked it and it returns on `TYPE_AMBIENT_TEMPERATURE`, `TYPE_TEMPERATURE` and `TYPE_ALL` only an empty list.","body":"@Robert, I have checked it and it returns on <code>TYPE_AMBIENT_TEMPERATURE</code>, <code>TYPE_TEMPERATURE</code> and <code>TYPE_ALL</code> only an empty list."}],"owner":{"account_id":28728192,"reputation":1,"user_id":22000661,"display_name":"electric_eel23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695742572,"creation_date":1695742572,"question_id":77181466,"body_markdown":"I am building an app which shoud display all the values from all the sensors including the `TYPE_AMBIENT_TEMPERATURE` sensor. I am using the `SensorManager` class.\r\n\r\n\r\nI have written the code and tested it on the Emulator and it worked. But if I run the app on my phone (Galaxy A20e) it did not worked. It seems to not enter the `onSensorChanged` method. I have placed logs in the code and so I know, that the sensor is initialised an is activated. I have also installed the *Thermometer*-App and the App is working fine. So the physical Sensor is working. Does anyone know what is wrong with the code? My Code is the folowing:\r\n\r\n# MainActivity\r\n\r\n```\r\npackage com.blueapps.sensorstation;\r\n\r\nimport android.content.Context;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.blueapps.sensorstation.databinding.ActivityMainBinding;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    private setOnClickListener Listener;\r\n\r\n    private StartSensors startSensors;\r\n\r\n    private SensorManager sensorManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        // init View\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n\r\n        // adapt the Layout to the Screen\r\n        adaptLayout layoutAdapter = new adaptLayout(this.getWindowManager(), getResources(), binding);\r\n        layoutAdapter.adaptView();\r\n\r\n        // set OnCLickListener for components\r\n        Listener = new setOnClickListener(getApplicationContext(), view, binding);\r\n        Listener.setListener();\r\n\r\n\r\n        // Get the Sensor Manager\r\n        sensorManager = ( SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n\r\n        // init the start Sensors Class\r\n        startSensors = new StartSensors(getResources(), sensorManager, binding);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        // Deactivate Sensors\r\n        startSensors.deactivate();\r\n\r\n        // Give the On Click Listener the information about the onPause Call\r\n        Listener.Pause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        // Activate Sensors\r\n        startSensors.activate();\r\n\r\n        // Give the On Click Listener the information about the onResume Call\r\n        Listener.Resume();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        // Give the On Click Listener the information about the onPause Call\r\n        Listener.Pause();\r\n    }\r\n\r\n    @Override\r\n    protected void onRestart() {\r\n        super.onRestart();\r\n        // Give the On Click Listener the information about the onResume Call\r\n        Listener.Resume();\r\n    }\r\n}\r\n```\r\n\r\n# StartSensors\r\n```\r\npackage com.blueapps.sensorstation;\r\n\r\nimport android.content.res.Resources;\r\nimport android.hardware.SensorManager;\r\nimport android.widget.TextView;\r\n\r\nimport com.blueapps.sensorstation.databinding.ActivityMainBinding;\r\nimport com.blueapps.sensorstation.sensors.Temperature;\r\n\r\npublic class StartSensors {\r\n\r\n    private SensorManager sensorManager;\r\n\r\n    private Resources resources;\r\n\r\n    // Sensor Classes\r\n    Temperature temperature;\r\n\r\n\r\n    // TextViews\r\n    private TextView textTemp;\r\n\r\n\r\n    public StartSensors(Resources resources, SensorManager sensorManager, ActivityMainBinding binding){\r\n\r\n        this.sensorManager = sensorManager;\r\n        this.resources = resources;\r\n\r\n        // Bind the TextViews\r\n        textTemp = binding.temperatureText;\r\n\r\n        // Instance Sensor Classes\r\n        temperature = new Temperature(resources, sensorManager, textTemp);\r\n\r\n    }\r\n\r\n    public void activate(){\r\n\r\n        // Temperature\r\n        temperature.activate();\r\n\r\n    }\r\n\r\n    public void deactivate(){\r\n\r\n        // Temperature\r\n        temperature.deactivate();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n# Temperature\r\n\r\n```\r\npackage com.blueapps.sensorstation.sensors;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.res.Resources;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.util.Log;\r\nimport android.widget.TextView;\r\n\r\nimport com.blueapps.sensorstation.R;\r\n\r\npublic class Temperature implements SensorEventListener {\r\n\r\n    private SensorManager sensorManager;\r\n\r\n    private TextView text;\r\n\r\n    private Resources resources;\r\n\r\n    private Sensor temperature;\r\n\r\n    public Temperature(Resources resources, SensorManager sensorManager, TextView text){\r\n\r\n        this.sensorManager = sensorManager;\r\n        this.text = text;\r\n        this.resources = resources;\r\n\r\n    }\r\n\r\n    public void activate(){\r\n\r\n        temperature = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\r\n        sensorManager.registerListener(this, temperature, SensorManager.SENSOR_DELAY_UI);\r\n        Log.d(&quot;startSensors&quot;, &quot;Sensor Temperature is activated&quot;);\r\n\r\n    }\r\n\r\n    public void deactivate(){\r\n\r\n        sensorManager.unregisterListener(this, temperature);\r\n        Log.d(&quot;startSensors&quot;, &quot;Sensor Temperature is deactivated&quot;);\r\n\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n\r\n        double degree = sensorEvent.values[0];\r\n        text.setText(String.format(&quot;%.1f&quot;, degree) + resources.getString(R.string.unit_temp));\r\n        Log.d(&quot;startSensors&quot;, &quot;Temperature is: &quot; + String.format(&quot;%.1f&quot;, degree) + &quot;&#176;C&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int i) {}\r\n}\r\n```\r\n\r\n*The other Classes that are mentioned (setOnClickListener, adaptLayout) are not relevant for the Sensors.*","title":"I can&#39;t get the ambient temperature on my phone","body":"<p>I am building an app which shoud display all the values from all the sensors including the <code>TYPE_AMBIENT_TEMPERATURE</code> sensor. I am using the <code>SensorManager</code> class.</p>\n<p>I have written the code and tested it on the Emulator and it worked. But if I run the app on my phone (Galaxy A20e) it did not worked. It seems to not enter the <code>onSensorChanged</code> method. I have placed logs in the code and so I know, that the sensor is initialised an is activated. I have also installed the <em>Thermometer</em>-App and the App is working fine. So the physical Sensor is working. Does anyone know what is wrong with the code? My Code is the folowing:</p>\n<h1>MainActivity</h1>\n<pre><code>package com.blueapps.sensorstation;\n\nimport android.content.Context;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.blueapps.sensorstation.databinding.ActivityMainBinding;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    private setOnClickListener Listener;\n\n    private StartSensors startSensors;\n\n    private SensorManager sensorManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        // init View\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n\n        // adapt the Layout to the Screen\n        adaptLayout layoutAdapter = new adaptLayout(this.getWindowManager(), getResources(), binding);\n        layoutAdapter.adaptView();\n\n        // set OnCLickListener for components\n        Listener = new setOnClickListener(getApplicationContext(), view, binding);\n        Listener.setListener();\n\n\n        // Get the Sensor Manager\n        sensorManager = ( SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\n        // init the start Sensors Class\n        startSensors = new StartSensors(getResources(), sensorManager, binding);\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        // Deactivate Sensors\n        startSensors.deactivate();\n\n        // Give the On Click Listener the information about the onPause Call\n        Listener.Pause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        // Activate Sensors\n        startSensors.activate();\n\n        // Give the On Click Listener the information about the onResume Call\n        Listener.Resume();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        // Give the On Click Listener the information about the onPause Call\n        Listener.Pause();\n    }\n\n    @Override\n    protected void onRestart() {\n        super.onRestart();\n        // Give the On Click Listener the information about the onResume Call\n        Listener.Resume();\n    }\n}\n</code></pre>\n<h1>StartSensors</h1>\n<pre><code>package com.blueapps.sensorstation;\n\nimport android.content.res.Resources;\nimport android.hardware.SensorManager;\nimport android.widget.TextView;\n\nimport com.blueapps.sensorstation.databinding.ActivityMainBinding;\nimport com.blueapps.sensorstation.sensors.Temperature;\n\npublic class StartSensors {\n\n    private SensorManager sensorManager;\n\n    private Resources resources;\n\n    // Sensor Classes\n    Temperature temperature;\n\n\n    // TextViews\n    private TextView textTemp;\n\n\n    public StartSensors(Resources resources, SensorManager sensorManager, ActivityMainBinding binding){\n\n        this.sensorManager = sensorManager;\n        this.resources = resources;\n\n        // Bind the TextViews\n        textTemp = binding.temperatureText;\n\n        // Instance Sensor Classes\n        temperature = new Temperature(resources, sensorManager, textTemp);\n\n    }\n\n    public void activate(){\n\n        // Temperature\n        temperature.activate();\n\n    }\n\n    public void deactivate(){\n\n        // Temperature\n        temperature.deactivate();\n\n    }\n\n}\n</code></pre>\n<h1>Temperature</h1>\n<pre><code>package com.blueapps.sensorstation.sensors;\n\nimport android.annotation.SuppressLint;\nimport android.content.res.Resources;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.util.Log;\nimport android.widget.TextView;\n\nimport com.blueapps.sensorstation.R;\n\npublic class Temperature implements SensorEventListener {\n\n    private SensorManager sensorManager;\n\n    private TextView text;\n\n    private Resources resources;\n\n    private Sensor temperature;\n\n    public Temperature(Resources resources, SensorManager sensorManager, TextView text){\n\n        this.sensorManager = sensorManager;\n        this.text = text;\n        this.resources = resources;\n\n    }\n\n    public void activate(){\n\n        temperature = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\n        sensorManager.registerListener(this, temperature, SensorManager.SENSOR_DELAY_UI);\n        Log.d(&quot;startSensors&quot;, &quot;Sensor Temperature is activated&quot;);\n\n    }\n\n    public void deactivate(){\n\n        sensorManager.unregisterListener(this, temperature);\n        Log.d(&quot;startSensors&quot;, &quot;Sensor Temperature is deactivated&quot;);\n\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n\n        double degree = sensorEvent.values[0];\n        text.setText(String.format(&quot;%.1f&quot;, degree) + resources.getString(R.string.unit_temp));\n        Log.d(&quot;startSensors&quot;, &quot;Temperature is: &quot; + String.format(&quot;%.1f&quot;, degree) + &quot;°C&quot;);\n\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int i) {}\n}\n</code></pre>\n<p><em>The other Classes that are mentioned (setOnClickListener, adaptLayout) are not relevant for the Sensors.</em></p>\n"},{"tags":["java","scheduling","quartz-scheduler","crontrigger"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272345011,"creation_date":1272255677,"answer_id":2711139,"question_id":2710883,"body_markdown":"First, I am not aware of an existing library that supports this.  Quartz might, but the standard Java class libraries certainly don&#39;t.\r\n\r\nSecond, strictly speaking what you &lt;strike&gt;are asking for&lt;/strike&gt; originally asked for is impossible.  The best that a library can tell you is that the cron expression *would have* or *should have* fired.  The only thing that could (theoretically) tell you the last time that a cron expression actually fired is the scheduler instance itself.","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>First, I am not aware of an existing library that supports this.  Quartz might, but the standard Java class libraries certainly don't.</p>\n\n<p>Second, strictly speaking what you <strike>are asking for</strike> originally asked for is impossible.  The best that a library can tell you is that the cron expression <em>would have</em> or <em>should have</em> fired.  The only thing that could (theoretically) tell you the last time that a cron expression actually fired is the scheduler instance itself.</p>\n"},{"tags":[],"owner":{"account_id":32595,"reputation":18597,"user_id":90566,"accept_rate":84,"display_name":"waxwing"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1584540566,"creation_date":1272346455,"answer_id":2718949,"question_id":2710883,"body_markdown":"Quartz seems to have some library support for cron expressions.\r\n\r\nSee [the Javadoc for the CronExpression class][1], which has a method called [`getTimeBefore`][2]. I.e.,\r\n\r\n    CronExpression cron = new CronExpression(&quot;0 15 10 ? * *&quot;);\r\n    Date today = new Date();\r\n    Date previousExecution = cron.getTimeBefore(today);\r\n\r\nIt might depend on the Quartz version whether this works. \r\n\r\nLooking at the latest source (version 2.3.0 at time of writing) this method has not been implemented and always returns null.\r\n\r\n  [1]: http://www.quartz-scheduler.org/api/2.3.0/index.html\r\n  [2]: http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html#getTimeBefore-java.util.Date-","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>Quartz seems to have some library support for cron expressions.</p>\n\n<p>See <a href=\"http://www.quartz-scheduler.org/api/2.3.0/index.html\" rel=\"nofollow noreferrer\">the Javadoc for the CronExpression class</a>, which has a method called <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronExpression.html#getTimeBefore-java.util.Date-\" rel=\"nofollow noreferrer\"><code>getTimeBefore</code></a>. I.e.,</p>\n\n<pre><code>CronExpression cron = new CronExpression(\"0 15 10 ? * *\");\nDate today = new Date();\nDate previousExecution = cron.getTimeBefore(today);\n</code></pre>\n\n<p>It might depend on the Quartz version whether this works. </p>\n\n<p>Looking at the latest source (version 2.3.0 at time of writing) this method has not been implemented and always returns null.</p>\n"},{"tags":[],"owner":{"account_id":329717,"reputation":1741,"user_id":653394,"accept_rate":100,"display_name":"darrenmc"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1327943341,"creation_date":1326990258,"answer_id":8929557,"question_id":2710883,"body_markdown":"A solution I have found with Quartz is to go back one time interval for the trigger and calculate what would have been the next firing time.  By iterating through all the triggers the most recent time that a trigger should have fired in the past can be determined.\r\n\r\n\r\n----------\r\n\r\n\r\nCalculate the interval between each firing:\r\n\r\n    Date nextFireTime = trigger.getNextFireTime();\r\n    Date subsequentFireTime = trigger.getFireTimeAfter(nextFireTime);\r\n    long interval = subsequentFireTime.getTime() - nextFireTime.getTime();\r\n\r\nFind the next firing time for one time until interval in the past:\r\n\r\n    Date previousPeriodTime = new Date(System.currentTimeMillis() - interval);\r\n    Date previousFireTime = trigger.getFireTimeAfter(previousPeriodTime);\r\n\r\nI have found that if you are using a `CronTrigger` this prevents you asking for a fire time in the past.  To work around this I modify the start time, so the above snippet becomes:\r\n\r\n    Date originalStartTime = trigger.getStartTime(); // save the start time\r\n    Date previousPeriodTime = new Date(originalStartTime.getTime() - interval);\r\n    trigger.setStartTime(previousPeriodTime);\r\n    Date previousFireTime = trigger.getFireTimeAfter(previousPeriodTime);\r\n    trigger.setStartTime(originalStartTime); // reset the start time to be nice\r\n\r\n\r\nIterate through all of the triggers and find the one that is most recently in the past:\r\n\r\n    for (String groupName : scheduler.getTriggerGroupNames()) {\r\n        for (String triggerName : scheduler.getTriggerNames(groupName)) {\r\n            Trigger trigger = scheduler.getTrigger(triggerName, groupName);\r\n            // code as detailed above...\r\n            interval = ...\r\n            previousFireTime = ...\r\n        }\r\n    }\r\n\r\nI&#39;ll leave it as an exercise to the reader to refactor this into helper methods or classes.  I actually use the above algorithm in a subclassed delegating trigger that I then place in a set sorted by previous firing times.\r\n","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>A solution I have found with Quartz is to go back one time interval for the trigger and calculate what would have been the next firing time.  By iterating through all the triggers the most recent time that a trigger should have fired in the past can be determined.</p>\n\n<hr>\n\n<p>Calculate the interval between each firing:</p>\n\n<pre><code>Date nextFireTime = trigger.getNextFireTime();\nDate subsequentFireTime = trigger.getFireTimeAfter(nextFireTime);\nlong interval = subsequentFireTime.getTime() - nextFireTime.getTime();\n</code></pre>\n\n<p>Find the next firing time for one time until interval in the past:</p>\n\n<pre><code>Date previousPeriodTime = new Date(System.currentTimeMillis() - interval);\nDate previousFireTime = trigger.getFireTimeAfter(previousPeriodTime);\n</code></pre>\n\n<p>I have found that if you are using a <code>CronTrigger</code> this prevents you asking for a fire time in the past.  To work around this I modify the start time, so the above snippet becomes:</p>\n\n<pre><code>Date originalStartTime = trigger.getStartTime(); // save the start time\nDate previousPeriodTime = new Date(originalStartTime.getTime() - interval);\ntrigger.setStartTime(previousPeriodTime);\nDate previousFireTime = trigger.getFireTimeAfter(previousPeriodTime);\ntrigger.setStartTime(originalStartTime); // reset the start time to be nice\n</code></pre>\n\n<p>Iterate through all of the triggers and find the one that is most recently in the past:</p>\n\n<pre><code>for (String groupName : scheduler.getTriggerGroupNames()) {\n    for (String triggerName : scheduler.getTriggerNames(groupName)) {\n        Trigger trigger = scheduler.getTrigger(triggerName, groupName);\n        // code as detailed above...\n        interval = ...\n        previousFireTime = ...\n    }\n}\n</code></pre>\n\n<p>I'll leave it as an exercise to the reader to refactor this into helper methods or classes.  I actually use the above algorithm in a subclassed delegating trigger that I then place in a set sorted by previous firing times.</p>\n"},{"tags":[],"owner":{"account_id":3251293,"reputation":2956,"user_id":2741462,"accept_rate":75,"display_name":"Bhuwan Prasad Upadhyay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436162237,"creation_date":1436161581,"answer_id":31238479,"question_id":2710883,"body_markdown":"    public class CronMircoUtils {\r\n    \r\n        /**\r\n         * Use this method to calculate previous valid date for cron\r\n         * @param ce CronExpression object with cron expression\r\n         * @param date Date for find previous valid date\r\n         * @return\r\n         */\r\n        public static Date getPreviousValidDate(CronExpression ce, Date date) {\r\n            try {\r\n                Date nextValidTime = ce.getNextValidTimeAfter(date);\r\n                Date subsequentNextValidTime = ce.getNextValidTimeAfter(nextValidTime);\r\n                long interval = subsequentNextValidTime.getTime() - nextValidTime.getTime();\r\n                return new Date(nextValidTime.getTime() - interval);\r\n            } catch (Exception e) {\r\n                throw new IllegalArgumentException(&quot;Unsupported cron or date&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nSource Code in &lt;a href=&quot;https://github.com/devbhuwan/cron-micro-utils&quot;&gt;https://github.com/devbhuwan/cron-micro-utils&lt;/a&gt;","title":"Finding Last Fired time using a Cron Expression in Java","body":"<pre><code>public class CronMircoUtils {\n\n    /**\n     * Use this method to calculate previous valid date for cron\n     * @param ce CronExpression object with cron expression\n     * @param date Date for find previous valid date\n     * @return\n     */\n    public static Date getPreviousValidDate(CronExpression ce, Date date) {\n        try {\n            Date nextValidTime = ce.getNextValidTimeAfter(date);\n            Date subsequentNextValidTime = ce.getNextValidTimeAfter(nextValidTime);\n            long interval = subsequentNextValidTime.getTime() - nextValidTime.getTime();\n            return new Date(nextValidTime.getTime() - interval);\n        } catch (Exception e) {\n            throw new IllegalArgumentException(\"Unsupported cron or date\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>Source Code in <a href=\"https://github.com/devbhuwan/cron-micro-utils\" rel=\"nofollow\"><a href=\"https://github.com/devbhuwan/cron-micro-utils\" rel=\"nofollow\">https://github.com/devbhuwan/cron-micro-utils</a></a></p>\n"},{"tags":[],"owner":{"account_id":6933297,"reputation":982,"user_id":5322143,"display_name":"Jo&#227;o Neves"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1452518968,"creation_date":1452518968,"answer_id":34722770,"question_id":2710883,"body_markdown":"[cron-utils][1] is an opensource Java library to parse, validate, migrate crons that supports the operation you need.\r\nTo get the previous date from a cron before a given time simply:\r\n\r\n    //Get date for last execution\r\n    DateTime now = DateTime.now();\r\n    ExecutionTime executionTime = ExecutionTime.forCron(parser.parse(&quot;* * * * * * *&quot;));\r\n    DateTime lastExecution = executionTime.lastExecution(now));\r\n\r\nBear in mind that in its current state it is a bit buggy and may not compute correctly for more complex cron expressions.\r\n\r\n  [1]: https://github.com/jmrozanec/cron-utils","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p><a href=\"https://github.com/jmrozanec/cron-utils\" rel=\"noreferrer\">cron-utils</a> is an opensource Java library to parse, validate, migrate crons that supports the operation you need.\nTo get the previous date from a cron before a given time simply:</p>\n\n<pre><code>//Get date for last execution\nDateTime now = DateTime.now();\nExecutionTime executionTime = ExecutionTime.forCron(parser.parse(\"* * * * * * *\"));\nDateTime lastExecution = executionTime.lastExecution(now));\n</code></pre>\n\n<p>Bear in mind that in its current state it is a bit buggy and may not compute correctly for more complex cron expressions.</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480066446,"creation_date":1480064140,"answer_id":40800995,"question_id":2710883,"body_markdown":"In case you are using org.quartz, is possible to use `context.getPreviousFireTime();`\r\n\r\nExample:\r\n\r\n    public class TestJob implements Job {\r\n        \r\n        @Override\r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n           \r\n            context.getPreviousFireTime(); \r\n        }\r\n    }\r\n\r\nIf you are using `context.getTrigger().getPreviousFireTime()`, you will have the triggered time of the Job that is running at the moment.","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>In case you are using org.quartz, is possible to use <code>context.getPreviousFireTime();</code></p>\n\n<p>Example:</p>\n\n<pre><code>public class TestJob implements Job {\n\n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n\n        context.getPreviousFireTime(); \n    }\n}\n</code></pre>\n\n<p>If you are using <code>context.getTrigger().getPreviousFireTime()</code>, you will have the triggered time of the Job that is running at the moment.</p>\n"},{"tags":[],"owner":{"account_id":7010028,"reputation":99,"user_id":5373257,"display_name":"ChandraPrakash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534490264,"creation_date":1531393314,"answer_id":51303967,"question_id":2710883,"body_markdown":"Its working solution \r\n\r\n       pom :\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n       javaCode:\r\n            //Provide your format of date  want\r\n            String format=&quot;dd-MMM-YYYY hh:mm:ss&quot;;\r\n            //Provide your cron expression you want\r\n            String cronExpression=&quot;* * 12 ? * FRI *&quot;;\r\n            SimpleDateFormat sdf=new SimpleDateFormat(format);\r\n            CronExpression expression = new CronExpression(cronExpression);\r\n            Date  currentDate=new Date();\r\n            Date nextDate=expression.getNextValidTimeAfter(currentDate);\r\n            long interval = nextDate.getTime()-currentDate.getTime();\r\n            Date previousDate= new Date(currentDate.getTime() - interval);\r\n            System.out.Println(sdf.format(previousDate));\r\nHere im getting the difference between the current time and next fire time \r\nand exluding this difference time from current time so that we will get last fired time","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>Its working solution </p>\n\n<pre><code>   pom :\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n   javaCode:\n        //Provide your format of date  want\n        String format=\"dd-MMM-YYYY hh:mm:ss\";\n        //Provide your cron expression you want\n        String cronExpression=\"* * 12 ? * FRI *\";\n        SimpleDateFormat sdf=new SimpleDateFormat(format);\n        CronExpression expression = new CronExpression(cronExpression);\n        Date  currentDate=new Date();\n        Date nextDate=expression.getNextValidTimeAfter(currentDate);\n        long interval = nextDate.getTime()-currentDate.getTime();\n        Date previousDate= new Date(currentDate.getTime() - interval);\n        System.out.Println(sdf.format(previousDate));\n</code></pre>\n\n<p>Here im getting the difference between the current time and next fire time \nand exluding this difference time from current time so that we will get last fired time</p>\n"},{"tags":[],"owner":{"account_id":7652518,"reputation":21,"user_id":5800686,"display_name":"iPhrends"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568971685,"creation_date":1568971685,"answer_id":58025578,"question_id":2710883,"body_markdown":"    import org.springframework.scheduling.support.CronSequenceGenerator;\r\n    \r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class DateCalendarUtil {\r\n    \r\n        public static Date lastRunOn(String cronExpression) {\r\n            final Date nextExecution = fromLocalDateTime(toLocalDate(nextCronDate(cronExpression)).atTime(23, 59, 59));\r\n            return subtract(nextExecution, numberOfDays(nextExecution, nextCronDate(cronExpression, nextExecution)).intValue());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link Date} to {@link LocalDate} with default system {@link ZoneId}\r\n         *\r\n         * @param date to be converted to {@link LocalDate}\r\n         * @return converted {@link Date}\r\n         */\r\n        public static LocalDate toLocalDate(Date date) {\r\n            return toLocalDate(date, ZoneId.systemDefault());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link Date} to {@link LocalDate} with provided {@link ZoneId}\r\n         * @param date to be converted to {@link LocalDate}\r\n         * @param zoneId with which {@link Date} will be converted\r\n         * @return converted {@link Date}\r\n         */\r\n        public static LocalDate toLocalDate(Date date, ZoneId zoneId) {\r\n            return date.toInstant().atZone(zoneId).toLocalDate();\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link Date} to {@link LocalDateTime} with provided {@link ZoneId}\r\n         * @param date to be converted to {@link LocalDateTime} with provided {@link ZoneId}\r\n         * @param zoneId with which {@link Date} will be converted\r\n         * @return converted {@link Date}\r\n         */\r\n        public static LocalDateTime toLocalDateTime(Date date, ZoneId zoneId) {\r\n            return date.toInstant().atZone(zoneId).toLocalDateTime();\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link Date} to {@link LocalDateTime} with system default {@link ZoneId}\r\n         *\r\n         * @param date to be converted to {@link LocalDateTime}\r\n         * @return converted {@link Date}\r\n         */\r\n        public static LocalDateTime toLocalDateTime(Date date) {\r\n            return toLocalDateTime(date, ZoneId.systemDefault());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link LocalDate} to {@link Date} with default system {@link ZoneId}\r\n         * @param localDate to be converted to {@link Date}\r\n         * @return converted {@link LocalDate}\r\n         */\r\n        public static Date fromLocalDate(LocalDate localDate) {\r\n            return fromLocalDate(localDate, ZoneId.systemDefault());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link LocalDate} to {@link Date} with provided {@link ZoneId}\r\n         * @param localDate to be converted to {@link Date}\r\n         * @param zoneId with which {@link LocalDate} converted\r\n         * @return converted {@link LocalDate}\r\n         */\r\n        public static Date fromLocalDate(LocalDate localDate, ZoneId zoneId) {\r\n            return Date.from(localDate.atStartOfDay(zoneId).toInstant());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link LocalDateTime} to {@link Date} with default system {@link ZoneId}\r\n         *\r\n         * @param localDateTime to be converted to {@link Date}\r\n         * @return converted {@link LocalDateTime}\r\n         */\r\n        public static Date fromLocalDateTime(LocalDateTime localDateTime) {\r\n            return fromLocalDateTime(localDateTime, ZoneId.systemDefault());\r\n        }\r\n    \r\n        /**\r\n         * Converts {@link LocalDateTime} to {@link Date} with provided {@link ZoneId}\r\n         *\r\n         * @param localDateTime to be converted to {@link Date}\r\n         * @param zoneId        with which localDateTime converted to {@link Date}\r\n         * @return converted {@link Date}\r\n         */\r\n        private static Date fromLocalDateTime(LocalDateTime localDateTime, ZoneId zoneId) {\r\n            return Date.from(localDateTime.atZone(zoneId).toInstant());\r\n        }\r\n    \r\n        public static Date yesterday() {\r\n            return yesterday(TimeZone.getDefault());\r\n        }\r\n    \r\n        public static Date yesterday(TimeZone timezone) {\r\n            return subtract(new Date(), 1, timezone);\r\n        }\r\n    \r\n        /**\r\n         * Generates start time of give date with system default {@link TimeZone}\r\n         * @param date Date of which start time to be generated\r\n         * @return Date with start time as 00:00:00\r\n         */\r\n        public static Date startTime(Date date) {\r\n            return startTime(date, TimeZone.getDefault());\r\n        }\r\n    \r\n        /**\r\n         * Generates start time of give date with provided {@link TimeZone}\r\n         * @param date Date of which start time to be generated\r\n         * @param timeZone with which {@link Calendar} created\r\n         * @return Date with start time as 00:00:00\r\n         */\r\n        public static Date startTime(Date date, TimeZone timeZone) {\r\n            Calendar calendar = Calendar.getInstance(timeZone);\r\n            calendar.setTime(date);\r\n            calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n            calendar.set(Calendar.MINUTE, 0);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            return calendar.getTime();\r\n        }\r\n    \r\n        /**\r\n         * Generates end time of give date with system default {@link TimeZone}\r\n         * @param date Date of which end time to be generated\r\n         * @return Date with end time as 23:59:59\r\n         */\r\n        public static Date endTime(Date date) {\r\n            return endTime(date, TimeZone.getDefault());\r\n        }\r\n    \r\n        /**\r\n         * Generates end time of give date with provided {@link TimeZone}\r\n         * @param date Date of which end time to be generated\r\n         * @param timeZone with which {@link Calendar} created\r\n         * @return Date with end time as 23:59:59\r\n         */\r\n        public static Date endTime(Date date, TimeZone timeZone) {\r\n            Calendar calendar = Calendar.getInstance(timeZone);\r\n            calendar.setTime(date);\r\n            calendar.set(Calendar.HOUR_OF_DAY, 23);\r\n            calendar.set(Calendar.MINUTE, 59);\r\n            calendar.set(Calendar.SECOND, 59);\r\n            return calendar.getTime();\r\n        }\r\n    \r\n        /**\r\n         * Calculates number of days between from and to\r\n         * @param from start Date\r\n         * @param to end date\r\n         * @return number of days including last date\r\n         */\r\n        public static Long numberOfDays(Date from, Date to) {\r\n            return TimeUnit.DAYS.convert(to.getTime() - from.getTime(), TimeUnit.MILLISECONDS) + 1;\r\n        }\r\n    \r\n        /**\r\n         * Gives next {@link Date} from given cron expression\r\n         * @param cronExpression cron expression\r\n         * @return next {@link Date}\r\n         */\r\n        public static Date nextCronDate(String cronExpression) {\r\n            return nextCronDate(cronExpression, new Date());\r\n        }\r\n    \r\n        public static Date nextCronDate(String cronExpression, Date date) {\r\n            CronSequenceGenerator generator = new CronSequenceGenerator(cronExpression, TimeZone.getTimeZone(&quot;IST&quot;));\r\n            return DateCalendarUtil.fromLocalDate(DateCalendarUtil.toLocalDate(generator.next(date)));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Finding Last Fired time using a Cron Expression in Java","body":"<pre><code>import org.springframework.scheduling.support.CronSequenceGenerator;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\nimport java.util.concurrent.TimeUnit;\n\npublic class DateCalendarUtil {\n\n    public static Date lastRunOn(String cronExpression) {\n        final Date nextExecution = fromLocalDateTime(toLocalDate(nextCronDate(cronExpression)).atTime(23, 59, 59));\n        return subtract(nextExecution, numberOfDays(nextExecution, nextCronDate(cronExpression, nextExecution)).intValue());\n    }\n\n    /**\n     * Converts {@link Date} to {@link LocalDate} with default system {@link ZoneId}\n     *\n     * @param date to be converted to {@link LocalDate}\n     * @return converted {@link Date}\n     */\n    public static LocalDate toLocalDate(Date date) {\n        return toLocalDate(date, ZoneId.systemDefault());\n    }\n\n    /**\n     * Converts {@link Date} to {@link LocalDate} with provided {@link ZoneId}\n     * @param date to be converted to {@link LocalDate}\n     * @param zoneId with which {@link Date} will be converted\n     * @return converted {@link Date}\n     */\n    public static LocalDate toLocalDate(Date date, ZoneId zoneId) {\n        return date.toInstant().atZone(zoneId).toLocalDate();\n    }\n\n    /**\n     * Converts {@link Date} to {@link LocalDateTime} with provided {@link ZoneId}\n     * @param date to be converted to {@link LocalDateTime} with provided {@link ZoneId}\n     * @param zoneId with which {@link Date} will be converted\n     * @return converted {@link Date}\n     */\n    public static LocalDateTime toLocalDateTime(Date date, ZoneId zoneId) {\n        return date.toInstant().atZone(zoneId).toLocalDateTime();\n    }\n\n    /**\n     * Converts {@link Date} to {@link LocalDateTime} with system default {@link ZoneId}\n     *\n     * @param date to be converted to {@link LocalDateTime}\n     * @return converted {@link Date}\n     */\n    public static LocalDateTime toLocalDateTime(Date date) {\n        return toLocalDateTime(date, ZoneId.systemDefault());\n    }\n\n    /**\n     * Converts {@link LocalDate} to {@link Date} with default system {@link ZoneId}\n     * @param localDate to be converted to {@link Date}\n     * @return converted {@link LocalDate}\n     */\n    public static Date fromLocalDate(LocalDate localDate) {\n        return fromLocalDate(localDate, ZoneId.systemDefault());\n    }\n\n    /**\n     * Converts {@link LocalDate} to {@link Date} with provided {@link ZoneId}\n     * @param localDate to be converted to {@link Date}\n     * @param zoneId with which {@link LocalDate} converted\n     * @return converted {@link LocalDate}\n     */\n    public static Date fromLocalDate(LocalDate localDate, ZoneId zoneId) {\n        return Date.from(localDate.atStartOfDay(zoneId).toInstant());\n    }\n\n    /**\n     * Converts {@link LocalDateTime} to {@link Date} with default system {@link ZoneId}\n     *\n     * @param localDateTime to be converted to {@link Date}\n     * @return converted {@link LocalDateTime}\n     */\n    public static Date fromLocalDateTime(LocalDateTime localDateTime) {\n        return fromLocalDateTime(localDateTime, ZoneId.systemDefault());\n    }\n\n    /**\n     * Converts {@link LocalDateTime} to {@link Date} with provided {@link ZoneId}\n     *\n     * @param localDateTime to be converted to {@link Date}\n     * @param zoneId        with which localDateTime converted to {@link Date}\n     * @return converted {@link Date}\n     */\n    private static Date fromLocalDateTime(LocalDateTime localDateTime, ZoneId zoneId) {\n        return Date.from(localDateTime.atZone(zoneId).toInstant());\n    }\n\n    public static Date yesterday() {\n        return yesterday(TimeZone.getDefault());\n    }\n\n    public static Date yesterday(TimeZone timezone) {\n        return subtract(new Date(), 1, timezone);\n    }\n\n    /**\n     * Generates start time of give date with system default {@link TimeZone}\n     * @param date Date of which start time to be generated\n     * @return Date with start time as 00:00:00\n     */\n    public static Date startTime(Date date) {\n        return startTime(date, TimeZone.getDefault());\n    }\n\n    /**\n     * Generates start time of give date with provided {@link TimeZone}\n     * @param date Date of which start time to be generated\n     * @param timeZone with which {@link Calendar} created\n     * @return Date with start time as 00:00:00\n     */\n    public static Date startTime(Date date, TimeZone timeZone) {\n        Calendar calendar = Calendar.getInstance(timeZone);\n        calendar.setTime(date);\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n        return calendar.getTime();\n    }\n\n    /**\n     * Generates end time of give date with system default {@link TimeZone}\n     * @param date Date of which end time to be generated\n     * @return Date with end time as 23:59:59\n     */\n    public static Date endTime(Date date) {\n        return endTime(date, TimeZone.getDefault());\n    }\n\n    /**\n     * Generates end time of give date with provided {@link TimeZone}\n     * @param date Date of which end time to be generated\n     * @param timeZone with which {@link Calendar} created\n     * @return Date with end time as 23:59:59\n     */\n    public static Date endTime(Date date, TimeZone timeZone) {\n        Calendar calendar = Calendar.getInstance(timeZone);\n        calendar.setTime(date);\n        calendar.set(Calendar.HOUR_OF_DAY, 23);\n        calendar.set(Calendar.MINUTE, 59);\n        calendar.set(Calendar.SECOND, 59);\n        return calendar.getTime();\n    }\n\n    /**\n     * Calculates number of days between from and to\n     * @param from start Date\n     * @param to end date\n     * @return number of days including last date\n     */\n    public static Long numberOfDays(Date from, Date to) {\n        return TimeUnit.DAYS.convert(to.getTime() - from.getTime(), TimeUnit.MILLISECONDS) + 1;\n    }\n\n    /**\n     * Gives next {@link Date} from given cron expression\n     * @param cronExpression cron expression\n     * @return next {@link Date}\n     */\n    public static Date nextCronDate(String cronExpression) {\n        return nextCronDate(cronExpression, new Date());\n    }\n\n    public static Date nextCronDate(String cronExpression, Date date) {\n        CronSequenceGenerator generator = new CronSequenceGenerator(cronExpression, TimeZone.getTimeZone(\"IST\"));\n        return DateCalendarUtil.fromLocalDate(DateCalendarUtil.toLocalDate(generator.next(date)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13520631,"reputation":6475,"user_id":9753985,"display_name":"Emeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573658756,"creation_date":1570094883,"answer_id":58216163,"question_id":2710883,"body_markdown":"It&#39;s amazing that there is still no quartz method for getting the previous fired time based on a CronExpression...\r\n\r\n**How to get last fired time ?**\r\n\r\nIf you are manipulating basic CRON like `0 0 0 * * ?` (At 00:00:00am every day) you can use Jo&#227;o Neves&#39; solution (using com.cronutils.model.time.ExecutionTime).\r\n\r\nOtherwise if you are manipulating complex CRON like `0 30 11 ? * MON,THU *` it will not works. You&#39;ll get random results (I had a Wednesday for this one...).\r\n\r\n**Edit**: I did other tests and it looks working better with the latest version (previous tests were made with version &lt; 3.1.6). Note: You need Java 8 if you want to use version &gt; 3.1.6.\r\n\r\nThe solution you can use is to **store** it when your job is triggered.\r\n\r\n___\r\n**How to verify that the job has been triggered ?**\r\n\r\nThe solution I found is to use `getNextValidTimeAfter` from Quartz (CronExpression). This one works fine.\r\nYou&#39;ll ask me what I&#39;m talking about as we are looking for the previous valid time ! You are right, give me one second !\r\n\r\nLet&#39;s imagine we have a once a month CRON (0 0 16 1 * ? = At 16:00:00pm, on the 1st day, every month) and we want to check everyday that the previous execution worked.\r\nYou&#39;ll have to store the getNextValidTime at each execution and compare this date with today&#39;s date. eg (format DD/MM/YYYY):\r\n\r\n• 01/01/2019 → job triggered, we store next fire time (let&#39;s call it `nextFireTime`):\r\n\r\n    CronExpression trigger = new CronExpression(&quot;0 0 16 1 * ?&quot;);\r\n    Date nextFireTime = trigger.getNextValidTimeAfter(new Date());\r\n    // = 01/02/2019\r\n\r\n• 02/01/2019 → verification of the day: 02/01/2019 &lt; 01/02/2019 OK\r\n\r\n...\r\n\r\n• 01/02/2019 → let&#39;s imagine server is down, the job is not triggered.\r\n\r\n• 02/02/2019 → server on, verification of the day: 02/02/2019 &gt; 01/02/2019 KO !\r\n\r\n→ We know the previous fire time hasn&#39;t worked. You can know do what you want (trigger the job and store the new nextFireTime).\r\n\r\n___\r\nAnother option that may interest you, see **MISFIRE_INSTRUCTION_FIRE_NOW**.\r\n\r\n&gt; The job is executed immediately after the scheduler discovers misfire\r\n&gt; situation. This is the smart policy. Example scenario: you have\r\n&gt; scheduled some system clean up at 2 AM. Unfortunately the application\r\n&gt; was down due to maintenance by that time and brought back on 3 AM. So\r\n&gt; the trigger misfired and the scheduler tries to save the situation by\r\n&gt; running it as soon as it can - at 3 AM.\r\n\r\nFrom (https://dzone.com/articles/quartz-scheduler-misfire)\r\n\r\ne.g.:\r\n\r\n    Trigger trigger = newTrigger().\r\n     withSchedule(\r\n      cronSchedule(&quot;0 0 9-17 ? * MON-FRI&quot;).\r\n       withMisfireHandlingInstructionFireAndProceed()\r\n     ).\r\n     build();\r\n\r\nOfficial doc: https://www.quartz-scheduler.org/api/2.1.7/org/quartz/CronTrigger.html\r\n","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>It's amazing that there is still no quartz method for getting the previous fired time based on a CronExpression...</p>\n\n<p><strong>How to get last fired time ?</strong></p>\n\n<p>If you are manipulating basic CRON like <code>0 0 0 * * ?</code> (At 00:00:00am every day) you can use João Neves' solution (using com.cronutils.model.time.ExecutionTime).</p>\n\n<p>Otherwise if you are manipulating complex CRON like <code>0 30 11 ? * MON,THU *</code> it will not works. You'll get random results (I had a Wednesday for this one...).</p>\n\n<p><strong>Edit</strong>: I did other tests and it looks working better with the latest version (previous tests were made with version &lt; 3.1.6). Note: You need Java 8 if you want to use version > 3.1.6.</p>\n\n<p>The solution you can use is to <strong>store</strong> it when your job is triggered.</p>\n\n<hr>\n\n<p><strong>How to verify that the job has been triggered ?</strong></p>\n\n<p>The solution I found is to use <code>getNextValidTimeAfter</code> from Quartz (CronExpression). This one works fine.\nYou'll ask me what I'm talking about as we are looking for the previous valid time ! You are right, give me one second !</p>\n\n<p>Let's imagine we have a once a month CRON (0 0 16 1 * ? = At 16:00:00pm, on the 1st day, every month) and we want to check everyday that the previous execution worked.\nYou'll have to store the getNextValidTime at each execution and compare this date with today's date. eg (format DD/MM/YYYY):</p>\n\n<p>• 01/01/2019 → job triggered, we store next fire time (let's call it <code>nextFireTime</code>):</p>\n\n<pre><code>CronExpression trigger = new CronExpression(\"0 0 16 1 * ?\");\nDate nextFireTime = trigger.getNextValidTimeAfter(new Date());\n// = 01/02/2019\n</code></pre>\n\n<p>• 02/01/2019 → verification of the day: 02/01/2019 &lt; 01/02/2019 OK</p>\n\n<p>...</p>\n\n<p>• 01/02/2019 → let's imagine server is down, the job is not triggered.</p>\n\n<p>• 02/02/2019 → server on, verification of the day: 02/02/2019 > 01/02/2019 KO !</p>\n\n<p>→ We know the previous fire time hasn't worked. You can know do what you want (trigger the job and store the new nextFireTime).</p>\n\n<hr>\n\n<p>Another option that may interest you, see <strong>MISFIRE_INSTRUCTION_FIRE_NOW</strong>.</p>\n\n<blockquote>\n  <p>The job is executed immediately after the scheduler discovers misfire\n  situation. This is the smart policy. Example scenario: you have\n  scheduled some system clean up at 2 AM. Unfortunately the application\n  was down due to maintenance by that time and brought back on 3 AM. So\n  the trigger misfired and the scheduler tries to save the situation by\n  running it as soon as it can - at 3 AM.</p>\n</blockquote>\n\n<p>From (<a href=\"https://dzone.com/articles/quartz-scheduler-misfire\" rel=\"nofollow noreferrer\">https://dzone.com/articles/quartz-scheduler-misfire</a>)</p>\n\n<p>e.g.:</p>\n\n<pre><code>Trigger trigger = newTrigger().\n withSchedule(\n  cronSchedule(\"0 0 9-17 ? * MON-FRI\").\n   withMisfireHandlingInstructionFireAndProceed()\n ).\n build();\n</code></pre>\n\n<p>Official doc: <a href=\"https://www.quartz-scheduler.org/api/2.1.7/org/quartz/CronTrigger.html\" rel=\"nofollow noreferrer\">https://www.quartz-scheduler.org/api/2.1.7/org/quartz/CronTrigger.html</a></p>\n"},{"tags":[],"owner":{"account_id":5172408,"reputation":184,"user_id":4140512,"display_name":"Domenico Campagnolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650504430,"creation_date":1650503405,"answer_id":71947841,"question_id":2710883,"body_markdown":"I am using [cron-utils][1] 9.1.6 to get the last execution time based on &#39;now&#39; and the &#39;cron expression&#39;, and the expected end time adding the expected duration in seconds.\r\n\r\nThe code&#39;s language is Scala.\r\n\r\n\r\n    import java.time.ZonedDateTime\r\n    import com.cronutils.model.definition.CronDefinitionBuilder\r\n    import com.cronutils.model.time.ExecutionTime\r\n    import com.cronutils.parser.CronParser\r\n    import com.cronutils.model.CronType.QUARTZ\r\n    import java.time.ZoneOffset.UTC\r\n\r\n    val parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(QUARTZ))\r\n    val cronExpression = &quot;0 0 23 ? * *&quot;\r\n    val now = ZonedDateTime.now(UTC)\r\n    val expectedDurationSec = 1500\r\n    \r\n    println(s&quot;now: $now&quot;)\r\n    val executionTime = ExecutionTime.forCron(parser.parse(cronExpression))\r\n    val lastExecution = executionTime.lastExecution(now)\r\n    println(s&quot;lastExecution: ${lastExecution.get()}&quot;)\r\n    val expectedEnd = lastExecution.get().plusSeconds(expectedDurationSec)\r\n    println(s&quot;expectedEnd: $expectedEnd&quot;)\r\n\r\nthe output is:\r\n\r\n    now: 2022-04-21T01:08:27.499Z\r\n    lastExecution: 2022-04-20T23:00Z\r\n    expectedEnd: 2022-04-20T23:25Z\r\n\r\n\r\n\r\n  [1]: https://github.com/jmrozanec/cron-utils","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>I am using <a href=\"https://github.com/jmrozanec/cron-utils\" rel=\"nofollow noreferrer\">cron-utils</a> 9.1.6 to get the last execution time based on 'now' and the 'cron expression', and the expected end time adding the expected duration in seconds.</p>\n<p>The code's language is Scala.</p>\n<pre><code>import java.time.ZonedDateTime\nimport com.cronutils.model.definition.CronDefinitionBuilder\nimport com.cronutils.model.time.ExecutionTime\nimport com.cronutils.parser.CronParser\nimport com.cronutils.model.CronType.QUARTZ\nimport java.time.ZoneOffset.UTC\n\nval parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(QUARTZ))\nval cronExpression = &quot;0 0 23 ? * *&quot;\nval now = ZonedDateTime.now(UTC)\nval expectedDurationSec = 1500\n\nprintln(s&quot;now: $now&quot;)\nval executionTime = ExecutionTime.forCron(parser.parse(cronExpression))\nval lastExecution = executionTime.lastExecution(now)\nprintln(s&quot;lastExecution: ${lastExecution.get()}&quot;)\nval expectedEnd = lastExecution.get().plusSeconds(expectedDurationSec)\nprintln(s&quot;expectedEnd: $expectedEnd&quot;)\n</code></pre>\n<p>the output is:</p>\n<pre><code>now: 2022-04-21T01:08:27.499Z\nlastExecution: 2022-04-20T23:00Z\nexpectedEnd: 2022-04-20T23:25Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695741811,"creation_date":1695724358,"answer_id":77179174,"question_id":2710883,"body_markdown":"There is Spring&#39;s [`org.springframework.scheduling.support.CronSequenceGenerator`][1] which computes `next()` time of cron execution relative to arbitrary time. Assuming that &quot;last fired time&quot; means the earliest time _t_ for which holds _next(t) &amp;ge; now_, it can be found by simple iteration algorithm:\r\n\r\n 1. Starting from given time, walk back to find some moment _t_ where _next(t) &lt; now_ (meaning that _t_ belongs to some previous interval). This can be done by e.g. step doubling, taking some arbitrary initial step size. Assuming that many real-life cron expressions produce roughly equal intervals, reasonable guess for initial step size is _next(now) &amp;ndash; now + &amp;epsilon;_, or _next(next(now)) &amp;ndash; next(now) + &amp;epsilon;_ when _now_ is expected between executions, which is by contract _&gt; 0_;\r\n2. Starting from  _t_, walk forward iterating _t := next(t)_ until _next(t) &amp;ge; now_.\r\n---\r\n\r\n    static long previous(String cron, TimeZone timezone, long ms) {\r\n        var generator = new CronSequenceGenerator(cron, timezone);\r\n\r\n        // 1. Walk back to find some moment where t.next() &lt; ms\r\n        long t1 = generator.next(new Date(ms)).getTime() - ms;  // initial step\r\n        long t;\r\n        do {\r\n            if (t1 &lt;= 0) {      // overflow or negative initial step\r\n                throw new IllegalArgumentException(&quot;Failed to find previous time&quot;);\r\n            }\r\n            t = ms - t1 - 1;    // next try for t\r\n            t1 *= 2;            // double step size\r\n        } while (generator.next(new Date(t)).getTime() &gt;= ms);\r\n\r\n        // 2. Walk forward through next().next()... chain to find\r\n        // the earliest moment where t1.next() &gt;= ms\r\n        while (t &lt; ms) {\r\n            t1 = t;\r\n            t = generator.next(new Date(t)).getTime();\r\n        }\r\n        return t1;\r\n    }\r\n\r\nThe `CronSequenceGenerator` can be replaced by `CronExpression` or whatever having similar to `next()` function&amp;mdash;the code just demonstrates approach to find &quot;previous&quot; using only &quot;next&quot;.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>There is Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\"><code>org.springframework.scheduling.support.CronSequenceGenerator</code></a> which computes <code>next()</code> time of cron execution relative to arbitrary time. Assuming that &quot;last fired time&quot; means the earliest time <em>t</em> for which holds <em>next(t) ≥ now</em>, it can be found by simple iteration algorithm:</p>\n<ol>\n<li>Starting from given time, walk back to find some moment <em>t</em> where <em>next(t) &lt; now</em> (meaning that <em>t</em> belongs to some previous interval). This can be done by e.g. step doubling, taking some arbitrary initial step size. Assuming that many real-life cron expressions produce roughly equal intervals, reasonable guess for initial step size is <em>next(now) – now + ε</em>, or <em>next(next(now)) – next(now) + ε</em> when <em>now</em> is expected between executions, which is by contract <em>&gt; 0</em>;</li>\n<li>Starting from  <em>t</em>, walk forward iterating <em>t := next(t)</em> until <em>next(t) ≥ now</em>.</li>\n</ol>\n<hr />\n<pre><code>static long previous(String cron, TimeZone timezone, long ms) {\n    var generator = new CronSequenceGenerator(cron, timezone);\n\n    // 1. Walk back to find some moment where t.next() &lt; ms\n    long t1 = generator.next(new Date(ms)).getTime() - ms;  // initial step\n    long t;\n    do {\n        if (t1 &lt;= 0) {      // overflow or negative initial step\n            throw new IllegalArgumentException(&quot;Failed to find previous time&quot;);\n        }\n        t = ms - t1 - 1;    // next try for t\n        t1 *= 2;            // double step size\n    } while (generator.next(new Date(t)).getTime() &gt;= ms);\n\n    // 2. Walk forward through next().next()... chain to find\n    // the earliest moment where t1.next() &gt;= ms\n    while (t &lt; ms) {\n        t1 = t;\n        t = generator.next(new Date(t)).getTime();\n    }\n    return t1;\n}\n</code></pre>\n<p>The <code>CronSequenceGenerator</code> can be replaced by <code>CronExpression</code> or whatever having similar to <code>next()</code> function—the code just demonstrates approach to find &quot;previous&quot; using only &quot;next&quot;.</p>\n"}],"owner":{"account_id":128044,"reputation":1320,"user_id":325613,"accept_rate":44,"display_name":"a-sak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25674,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":11,"score":14,"last_activity_date":1695741811,"creation_date":1272250268,"question_id":2710883,"body_markdown":"Is there a way in Java to find the &quot;Last Fired Time&quot; from a Cron Expression?\r\n\r\nE.g. If `now = 25-Apr-2010 10PM`, and the cron expression is `0 15 10 ? * *` (quartz), it should return `25-Apr-2010 10:15AM`.\r\n\r\nNote:\r\n\r\n 1. I do not care if we use standard cron expressions (like Unix and Quartz) or less popular ones if they can fetch me the correct &quot;Last Fired Time&quot;\r\n 2. Also it is not literally &quot;Last Fire time&quot; as the trigger may not have fired, but logically there should be a way of telling when it (would have) fired last.","title":"Finding Last Fired time using a Cron Expression in Java","body":"<p>Is there a way in Java to find the &quot;Last Fired Time&quot; from a Cron Expression?</p>\n<p>E.g. If <code>now = 25-Apr-2010 10PM</code>, and the cron expression is <code>0 15 10 ? * *</code> (quartz), it should return <code>25-Apr-2010 10:15AM</code>.</p>\n<p>Note:</p>\n<ol>\n<li>I do not care if we use standard cron expressions (like Unix and Quartz) or less popular ones if they can fetch me the correct &quot;Last Fired Time&quot;</li>\n<li>Also it is not literally &quot;Last Fire time&quot; as the trigger may not have fired, but logically there should be a way of telling when it (would have) fired last.</li>\n</ol>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"score":1,"creation_date":1695742591,"post_id":77181275,"comment_id":136063805,"body_markdown":"Why don&#39;t you use S3 Lifecycle Policies to delete the files older than X days?","body":"Why don&#39;t you use S3 Lifecycle Policies to delete the files older than X days?"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1695761760,"post_id":77181275,"comment_id":136067183,"body_markdown":"The [underlying API](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html) does not support any sort order other than by key name.  The only option is to list all objects and sort/filter on the client side, or as mentioned, use a [S3 Lifecycle Policy](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html) to automate this on the backend.","body":"The <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\" rel=\"nofollow noreferrer\">underlying API</a> does not support any sort order other than by key name.  The only option is to list all objects and sort/filter on the client side, or as mentioned, use a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html\" rel=\"nofollow noreferrer\">S3 Lifecycle Policy</a> to automate this on the backend."},{"owner":{"account_id":13612699,"reputation":50,"user_id":9819641,"display_name":"Srinivas Renduchinthala"},"score":0,"creation_date":1695806409,"post_id":77181275,"comment_id":136072208,"body_markdown":"Thank you, issue got resolved with life cycle policy.","body":"Thank you, issue got resolved with life cycle policy."}],"owner":{"account_id":13612699,"reputation":50,"user_id":9819641,"display_name":"Srinivas Renduchinthala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695741777,"creation_date":1695741041,"question_id":77181275,"body_markdown":"I want to delete the files in the s3 where file last modified date is greater than our retention policy. When am trying to list the Object Summaries it is giving in lexicographic order because of this my top 1000 files last modified date is less than our retention policy and not able to delete till it exceeds that date. So is there any method or process for Object Listing with ascending order of last modified date in Java?","title":"How to fetch list of files from S3 without lexicographic order","body":"<p>I want to delete the files in the s3 where file last modified date is greater than our retention policy. When am trying to list the Object Summaries it is giving in lexicographic order because of this my top 1000 files last modified date is less than our retention policy and not able to delete till it exceeds that date. So is there any method or process for Object Listing with ascending order of last modified date in Java?</p>\n"},{"tags":["java","gradle","groovy","build","lombok"],"answers":[{"tags":[],"owner":{"account_id":4842240,"reputation":805,"user_id":3906969,"accept_rate":20,"display_name":"ap6491"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555882237,"creation_date":1552933360,"answer_id":55227788,"question_id":55227728,"body_markdown":"I found the following work around for this issue using a plugin for processing Lombok annotation in compile time. \r\n\r\nI had to perform the following steps in build.gradle:\r\n\r\n1) Add `id &quot;net.ltgt.apt&quot; version &quot;0.15&quot;` to plugins section.\r\n\r\n2) Add `maven { url &#39;https://projectlombok.org/edge-releases&#39; }` to repositories section.\r\n\r\n3) Add the following to dependencies section:\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:edge-SNAPSHOT&#39;\r\n    apt &#39;org.projectlombok:lombok:edge-SNAPSHOT&#39;\r\n        \r\n    compileOnly &#39;org.projectlombok:lombok:1.18:6&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18:6&#39;\r\n\r\n4) Add a task:\r\n\r\n    tasks.withType(JavaCompile) {\r\n      options.annotationProcessorPath = configurations.apt\r\n    }\r\n\r\n \r\n\r\nThis lets your build complete successfully.\r\n\r\nUpdate 03/29/2019: This workaround also works with Gradle 5.3, Java JDK 10\r\n\r\nThanks.","title":"Cannot find symbol error: Lombok 1.18.6 does not work with Gradle 5.2.1, JDK 10","body":"<p>I found the following work around for this issue using a plugin for processing Lombok annotation in compile time. </p>\n\n<p>I had to perform the following steps in build.gradle:</p>\n\n<p>1) Add <code>id \"net.ltgt.apt\" version \"0.15\"</code> to plugins section.</p>\n\n<p>2) Add <code>maven { url 'https://projectlombok.org/edge-releases' }</code> to repositories section.</p>\n\n<p>3) Add the following to dependencies section:</p>\n\n<pre><code>compileOnly 'org.projectlombok:lombok:edge-SNAPSHOT'\napt 'org.projectlombok:lombok:edge-SNAPSHOT'\n\ncompileOnly 'org.projectlombok:lombok:1.18:6'\nannotationProcessor 'org.projectlombok:lombok:1.18:6'\n</code></pre>\n\n<p>4) Add a task:</p>\n\n<pre><code>tasks.withType(JavaCompile) {\n  options.annotationProcessorPath = configurations.apt\n}\n</code></pre>\n\n<p>This lets your build complete successfully.</p>\n\n<p>Update 03/29/2019: This workaround also works with Gradle 5.3, Java JDK 10</p>\n\n<p>Thanks.</p>\n"}],"owner":{"account_id":4842240,"reputation":805,"user_id":3906969,"accept_rate":20,"display_name":"ap6491"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4889,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695741775,"creation_date":1552933109,"question_id":55227728,"body_markdown":"Builds with Gradle 5.2.1 and Lombok 1.18.6 dependency are failing with JDK 10. It seems Lombok annotation are not being processed appropriately. I keep getting &quot;cannot find symbol&quot; error across various Java files in my source. Any thoughts on why this might be happening? I found that a defect has already been created: https://github.com/rzwitserloot/lombok/issues/1572\r\n\r\nI am using:\r\n\r\nJava JDK 10\r\n\r\nGradle 5.2.1\r\n\r\nLombok 1.18.6\r\n\r\nThanks.","title":"Cannot find symbol error: Lombok 1.18.6 does not work with Gradle 5.2.1, JDK 10","body":"<p>Builds with Gradle 5.2.1 and Lombok 1.18.6 dependency are failing with JDK 10. It seems Lombok annotation are not being processed appropriately. I keep getting \"cannot find symbol\" error across various Java files in my source. Any thoughts on why this might be happening? I found that a defect has already been created: <a href=\"https://github.com/rzwitserloot/lombok/issues/1572\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/1572</a></p>\n\n<p>I am using:</p>\n\n<p>Java JDK 10</p>\n\n<p>Gradle 5.2.1</p>\n\n<p>Lombok 1.18.6</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","web-services","xss","antivirus-integration"],"comments":[{"owner":{"account_id":107389,"reputation":157558,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1694665349,"post_id":77098713,"comment_id":135921766,"body_markdown":"This question is too broad to be answerable as is, and seeking a service recommendation is also a distinct off topic. It seems some antivirus is closer to your demands but you must remember that a magic wand doesn&#39;t exist","body":"This question is too broad to be answerable as is, and seeking a service recommendation is also a distinct off topic. It seems some antivirus is closer to your demands but you must remember that a magic wand doesn&#39;t exist"},{"owner":{"account_id":107389,"reputation":157558,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1694665429,"post_id":77098713,"comment_id":135921772,"body_markdown":"Also, sql injection seems unrelated here","body":"Also, sql injection seems unrelated here"},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1694692813,"post_id":77098713,"comment_id":135926406,"body_markdown":"I&#39;m not looking for a magic wand; I just want to know if there&#39;s any antivirus system, for instance, that offers runtime scanning of files uploaded through a web service. I consider this to be related to XSS and SQL injections because depending on where the user input is interpreted, one or the other could occur.","body":"I&#39;m not looking for a magic wand; I just want to know if there&#39;s any antivirus system, for instance, that offers runtime scanning of files uploaded through a web service. I consider this to be related to XSS and SQL injections because depending on where the user input is interpreted, one or the other could occur."},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1694693451,"post_id":77098713,"comment_id":135926552,"body_markdown":"For example, if we have a field where the user insert =CMD|&#39;/C NOTEPAD&#39;!&#39;A1&#39;, and then this object is exported to excel, it could be possible to open a notepad when excel is opened. This should be the first step at privilege escalation on the client pc.","body":"For example, if we have a field where the user insert =CMD|&#39;/C NOTEPAD&#39;!&#39;A1&#39;, and then this object is exported to excel, it could be possible to open a notepad when excel is opened. This should be the first step at privilege escalation on the client pc."},{"owner":{"account_id":107389,"reputation":157558,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1694693732,"post_id":77098713,"comment_id":135926622,"body_markdown":"in your place, I would rather validate your data. For example, if you prohibit = character, or format a cell as a text, that CMD will be harmless","body":"in your place, I would rather validate your data. For example, if you prohibit = character, or format a cell as a text, that CMD will be harmless"},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1694694077,"post_id":77098713,"comment_id":135926708,"body_markdown":"Those could be an option, however we are able to define macros without using = character. Besides, there are multiple ways to open  a prompt, not just cmd.","body":"Those could be an option, however we are able to define macros without using = character. Besides, there are multiple ways to open  a prompt, not just cmd."},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1694694488,"post_id":77098713,"comment_id":135926818,"body_markdown":"I am thinking that I could prevent pipes (|). But in my humble opinion this is not a strong solution.","body":"I am thinking that I could prevent pipes (|). But in my humble opinion this is not a strong solution."},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1694708907,"post_id":77098713,"comment_id":135930224,"body_markdown":"I used this to try to identify a possible privilege scaling script. I know it&#39;s not perfect, but I still looking for a better solution: \nregex = &quot;=.*\\\\|&#39;.*|\\\\s+/[A-Za-z0-9._-]+(\\\\s+\\\\w+)*\\\\s+&quot;","body":"I used this to try to identify a possible privilege scaling script. I know it&#39;s not perfect, but I still looking for a better solution:  regex = &quot;=.*\\\\|&#39;.*|\\\\s+/[A-Za-z0-9._-]+(\\\\s+\\\\w+)*\\\\s+&quot;"}],"answers":[{"tags":[],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695741562,"creation_date":1695741562,"answer_id":77181349,"question_id":77098713,"body_markdown":"what I did was: \r\n```\r\n//PDFValidator.java\r\npublic class PdfValidator implements FileValidator {\r\n\r\n\t@Override\r\n\tpublic void validate(File file)\r\n\t\t\tthrows EncryptedDocumentException, InvalidFormatException, IOException, PossibleXSSException {\r\n\t\ttry (FileInputStream fis = new FileInputStream(file)) {\r\n\t\t\tbyte[] contents = new byte[(int) file.length()];\r\n\t\t\tfis.read(contents);\r\n\t\t\tpdfJavascriptCodeCheck(contents);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void pdfJavascriptCodeCheck(final byte[] contents) throws PossibleXSSException {\r\n\t\ttry (PDDocument document = PDDocument.load(new ByteArrayInputStream(contents))) {\r\n\t\t\tif (document.getDocumentCatalog().getOpenAction() instanceof PDActionJavaScript) {\r\n\t\t\t\tPDActionJavaScript docLevelJS = (PDActionJavaScript) document.getDocumentCatalog().getOpenAction();\r\n\t\t\t\tif (null != docLevelJS)\r\n\t\t\t\t\tthrow new PossibleXSSException(&quot;error message&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n//ExcelValidator.java\r\npublic class ExcelValidator implements FileValidator {\r\n\r\n\t@Override\r\n\tpublic void validate(File file) throws EncryptedDocumentException, InvalidFormatException, IOException, PossiblePrivilegeScalingException{\r\n\t\tcheckPrivilegeScalingAttempting(file);\r\n\t}\r\n\r\n\tprivate void checkPrivilegeScalingAttempting(File file) throws EncryptedDocumentException, InvalidFormatException, IOException, PossiblePrivilegeScalingException {\r\n\t\ttry (FileInputStream fis = new FileInputStream(file); Workbook workbook = WorkbookFactory.create(fis)) {\r\n\t\t\tfor (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\r\n\t\t\t\tSheet sheet = workbook.getSheetAt(i);\r\n\t\t\t\tcheckJavaScriptCodeOnSheet(sheet);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void checkJavaScriptCodeOnSheet(Sheet sheet) throws PossiblePrivilegeScalingException {\r\n\t\tfor (Row row : sheet)\r\n\t\t\tcheckJavaScriptCodeOnRow(row);\r\n\t}\r\n\r\n\tprivate void checkJavaScriptCodeOnRow(Row row) throws PossiblePrivilegeScalingException {\r\n\t\tfor (Cell cell : row)\r\n\t\t\tif (PrivilegeScalingRegexValidator.isPrivilegeScaling(cell.getStringCellValue()))\r\n\t\t\t\tthrow new PossiblePrivilegeScalingException(&quot;error message2&quot;);\r\n\t}\r\n\t\r\n}\r\n\r\npublic class PrivilegeScalingRegexValidator {\r\n\tfinal static String regex = &quot;=.*\\\\|&#39;.*|\\\\s+/[A-Za-z0-9._-]+(\\\\s+\\\\w+)*\\\\s+&quot;;\r\n\t\r\n\tpublic static boolean isPrivilegeScaling(final String input) {\r\n\t\tPattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(input);\r\n        return matcher.matches();\t\t\r\n\t}\r\n}\r\n```\r\nI am currently integrating it with an antivirus to be able scan file in execution time.","title":"Validate file content before upload","body":"<p>what I did was:</p>\n<pre><code>//PDFValidator.java\npublic class PdfValidator implements FileValidator {\n\n    @Override\n    public void validate(File file)\n            throws EncryptedDocumentException, InvalidFormatException, IOException, PossibleXSSException {\n        try (FileInputStream fis = new FileInputStream(file)) {\n            byte[] contents = new byte[(int) file.length()];\n            fis.read(contents);\n            pdfJavascriptCodeCheck(contents);\n        }\n    }\n\n    public static void pdfJavascriptCodeCheck(final byte[] contents) throws PossibleXSSException {\n        try (PDDocument document = PDDocument.load(new ByteArrayInputStream(contents))) {\n            if (document.getDocumentCatalog().getOpenAction() instanceof PDActionJavaScript) {\n                PDActionJavaScript docLevelJS = (PDActionJavaScript) document.getDocumentCatalog().getOpenAction();\n                if (null != docLevelJS)\n                    throw new PossibleXSSException(&quot;error message&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n\n//ExcelValidator.java\npublic class ExcelValidator implements FileValidator {\n\n    @Override\n    public void validate(File file) throws EncryptedDocumentException, InvalidFormatException, IOException, PossiblePrivilegeScalingException{\n        checkPrivilegeScalingAttempting(file);\n    }\n\n    private void checkPrivilegeScalingAttempting(File file) throws EncryptedDocumentException, InvalidFormatException, IOException, PossiblePrivilegeScalingException {\n        try (FileInputStream fis = new FileInputStream(file); Workbook workbook = WorkbookFactory.create(fis)) {\n            for (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\n                Sheet sheet = workbook.getSheetAt(i);\n                checkJavaScriptCodeOnSheet(sheet);\n            }\n        }\n    }\n    \n    private void checkJavaScriptCodeOnSheet(Sheet sheet) throws PossiblePrivilegeScalingException {\n        for (Row row : sheet)\n            checkJavaScriptCodeOnRow(row);\n    }\n\n    private void checkJavaScriptCodeOnRow(Row row) throws PossiblePrivilegeScalingException {\n        for (Cell cell : row)\n            if (PrivilegeScalingRegexValidator.isPrivilegeScaling(cell.getStringCellValue()))\n                throw new PossiblePrivilegeScalingException(&quot;error message2&quot;);\n    }\n    \n}\n\npublic class PrivilegeScalingRegexValidator {\n    final static String regex = &quot;=.*\\\\|'.*|\\\\s+/[A-Za-z0-9._-]+(\\\\s+\\\\w+)*\\\\s+&quot;;\n    \n    public static boolean isPrivilegeScaling(final String input) {\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(input);\n        return matcher.matches();       \n    }\n}\n</code></pre>\n<p>I am currently integrating it with an antivirus to be able scan file in execution time.</p>\n"}],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77181349,"answer_count":1,"score":0,"last_activity_date":1695741562,"creation_date":1694620764,"question_id":77098713,"body_markdown":"I&#39;m developing a web application in Java, and I want to scan files uploaded to it at runtime for any type of injection, whether it&#39;s XSS, SQL, or malware. Besides, I have text fields in which users can directly input data, and from there, I generate Excel files. I want to identify if I&#39;m able to execute code on the frontend by defining XSS injections in these fields. Additionally, through injections in Excel files, I can perform actions like opening the command prompt (cmd) on the client&#39;s PC that runs the Excel file. Is there any service I can consume to perform this task at runtime?","title":"Validate file content before upload","body":"<p>I'm developing a web application in Java, and I want to scan files uploaded to it at runtime for any type of injection, whether it's XSS, SQL, or malware. Besides, I have text fields in which users can directly input data, and from there, I generate Excel files. I want to identify if I'm able to execute code on the frontend by defining XSS injections in these fields. Additionally, through injections in Excel files, I can perform actions like opening the command prompt (cmd) on the client's PC that runs the Excel file. Is there any service I can consume to perform this task at runtime?</p>\n"},{"tags":["java","amazon-web-services","curl","https","amazon-cloudfront"],"owner":{"account_id":25826069,"reputation":21,"user_id":19564201,"display_name":"TcsssT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695741555,"creation_date":1695741555,"question_id":77181347,"body_markdown":"I&#39;m trying to integrate an external API that seems to be hosted in AWS, and so far I&#39;ve experienced different overall responses depending from where I make the request. Locally it works fine, but when I try it in production I always get the same response: `{ &quot;message&quot;: &quot;Forbidden&quot; }`.\r\n\r\nI&#39;ve tried hitting the API usign CURLs from different places and the results are arbitrary:\r\n\r\n- Making the request from 2 different servers that run the same OS, one works and the other one doesn&#39;t.\r\n- Making the request from Google Cloud doesn&#39;t work, from GitHub actions doesn&#39;t work, from AWS it does work.\r\n\r\nThis is my first time experiencing something like this so I&#39;m open to giving any useful information to find the solution.\r\n\r\nIt&#39;s worth noting that I don&#39;t have any administrative permissions on the API, I&#39;m just a consumer.\r\n\r\nHere&#39;s some CURLs responses I got:\r\n\r\n**Valid**\r\n\r\n```\r\ncurl --verbose --location &#39;https://external-api.com/endpointpath&#39; --header &#39;User-Agent: PostmanRuntime/7.32.2&#39; --header &#39;x-api-key: apikey&#39; --header &#39;Content-Type: application/json&#39; --data &#39;{}&#39;\r\n*   Trying xx.xx.xx.xx:xxx...\r\n* TCP_NODELAY set\r\n* Connected to external-api.com (xx.xx.xx.xx) port xxx (#0)\r\n* ALPN, offering h2\r\n* ALPN, offering http/1.1\r\n* successfully set certificate verify locations:\r\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\r\n  CApath: /etc/ssl/certs\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\r\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\r\n* TLSv1.3 (IN), TLS handshake, CERT verify (15):\r\n* TLSv1.3 (IN), TLS handshake, Finished (20):\r\n* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):\r\n* TLSv1.3 (OUT), TLS handshake, Finished (20):\r\n* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256\r\n* ALPN, server accepted to use h2\r\n* Server certificate:\r\n*  subject: CN=external-api.com\r\n*  start date: May  7 00:00:00 2023 GMT\r\n*  expire date: Jun  4 23:59:59 2024 GMT\r\n*  subjectAltName: host &quot;external-api.com&quot; matched cert&#39;s &quot;external-api.com&quot;\r\n*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02\r\n*  SSL certificate verify ok.\r\n* Using HTTP2, server supports multi-use\r\n* Connection state changed (HTTP/2 confirmed)\r\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\r\n* Using Stream ID: 1 (easy handle 0xxxxxxxxxxxxx)\r\n&gt; POST /endpointpath HTTP/2\r\n&gt; Host: external-api.com\r\n&gt; accept: */*\r\n&gt; user-agent: PostmanRuntime/7.32.2\r\n&gt; x-api-key: apikey\r\n&gt; content-type: application/json\r\n&gt; content-length: 2\r\n&gt;\r\n* We are completely uploaded and fine\r\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\r\n* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!\r\n&lt; HTTP/2 200\r\n&lt; content-type: application/json\r\n&lt; content-length: 345\r\n&lt; date: Tue, 26 Sep 2023 14:20:19 GMT\r\n&lt; x-amzn-requestid: requestid\r\n&lt; x-amz-apigw-id: apigw-id\r\n&lt; x-amzn-trace-id: traceid\r\n&lt; x-cache: Miss from cloudfront\r\n&lt; via: 1.1 3.cloudfront.net (CloudFront)\r\n&lt; x-amz-cf-pop: cfpop\r\n&lt; x-amz-cf-id: amzcfid\r\n&lt;\r\n* Connection #0 to host external-api.com left intact\r\n```\r\n\r\n**Invalid**\r\n\r\n```\r\ncurl --verbose --location &#39;https://external-api.com/endpointpath&#39; --header &#39;User-Agent: PostmanRuntime/7.32.2&#39; --header &#39;x-api-key: apikey&#39; --header &#39;Content-Type: application/json&#39; --header &#39;Accept: */*&#39; --header &#39;Accept-Encoding: gzip, deflate, br&#39; --header &#39;Connection: keep-alive&#39; --header &#39;Cache-Control: no-cache&#39; --data &#39;{}&#39;\r\n*   Trying xxx.xx.xx.xx...\r\n* TCP_NODELAY set\r\n* Connected to external-api.com (xxx.xx.xx.xx) port xxx (#0)\r\n* ALPN, offering h2\r\n* ALPN, offering http/1.1\r\n* successfully set certificate verify locations:\r\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\r\n  CApath: /etc/ssl/certs\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (IN), TLS handshake, Unknown (8):\r\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\r\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (IN), TLS handshake, CERT verify (15):\r\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (IN), TLS handshake, Finished (20):\r\n* TLSv1.3 (OUT), TLS change cipher, Client hello (1):\r\n* TLSv1.3 (OUT), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (OUT), TLS handshake, Finished (20):\r\n* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256\r\n* ALPN, server accepted to use h2\r\n* Server certificate:\r\n*  subject: CN=external-api.com\r\n*  start date: May  7 00:00:00 2023 GMT\r\n*  expire date: Jun  4 23:59:59 2024 GMT\r\n*  subjectAltName: host &quot;external-api.com&quot; matched cert&#39;s &quot;external-api.com&quot;\r\n*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02\r\n*  SSL certificate verify ok.\r\n* Using HTTP2, server supports multi-use\r\n* Connection state changed (HTTP/2 confirmed)\r\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n* Using Stream ID: 1 (easy handle 0xxxxxxxxxxxxx)\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n&gt; POST /endpointpath HTTP/2\r\n&gt; Host: external-api.com\r\n&gt; User-Agent: PostmanRuntime/7.32.2\r\n&gt; x-api-key: apikey\r\n&gt; Content-Type: application/json\r\n&gt; Accept: */*\r\n&gt; Accept-Encoding: gzip, deflate, br\r\n&gt; Connection: keep-alive\r\n&gt; Cache-Control: no-cache\r\n&gt; Content-Length: 2\r\n&gt;\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n* We are completely uploaded and fine\r\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\r\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\r\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\r\n* Connection state changed (MAX_CONCURRENT_STREAMS updated)!\r\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\r\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\r\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\r\n&lt; HTTP/2 403\r\n&lt; content-type: application/json\r\n&lt; content-length: 23\r\n&lt; date: Mon, 25 Sep 2023 18:42:03 GMT\r\n&lt; x-amzn-requestid: requestid\r\n&lt; x-amzn-errortype: ForbiddenException\r\n&lt; x-amz-apigw-id: apigw-id\r\n&lt; x-cache: Error from cloudfront\r\n&lt; via: 1.1 a.cloudfront.net (CloudFront)\r\n&lt; x-amz-cf-pop: cfpop\r\n&lt; x-amz-cf-id: amzcfid\r\n&lt;\r\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\r\n* Connection #0 to host external-api.com left intact\r\n```\r\n\r\nI&#39;ve checked that timdatectl are the same between servers that work and others that doesn&#39;t work.\r\nThose two examples have different ip/port, but I have confirmed that depending on the location hitting the exact same ip/port from different locations has the exact same behaviour, sometimes it just works or I get Forbidden.","title":"Why does external API using CloudFront returns status code 403 on different locations","body":"<p>I'm trying to integrate an external API that seems to be hosted in AWS, and so far I've experienced different overall responses depending from where I make the request. Locally it works fine, but when I try it in production I always get the same response: <code>{ &quot;message&quot;: &quot;Forbidden&quot; }</code>.</p>\n<p>I've tried hitting the API usign CURLs from different places and the results are arbitrary:</p>\n<ul>\n<li>Making the request from 2 different servers that run the same OS, one works and the other one doesn't.</li>\n<li>Making the request from Google Cloud doesn't work, from GitHub actions doesn't work, from AWS it does work.</li>\n</ul>\n<p>This is my first time experiencing something like this so I'm open to giving any useful information to find the solution.</p>\n<p>It's worth noting that I don't have any administrative permissions on the API, I'm just a consumer.</p>\n<p>Here's some CURLs responses I got:</p>\n<p><strong>Valid</strong></p>\n<pre><code>curl --verbose --location 'https://external-api.com/endpointpath' --header 'User-Agent: PostmanRuntime/7.32.2' --header 'x-api-key: apikey' --header 'Content-Type: application/json' --data '{}'\n*   Trying xx.xx.xx.xx:xxx...\n* TCP_NODELAY set\n* Connected to external-api.com (xx.xx.xx.xx) port xxx (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\n  CApath: /etc/ssl/certs\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\n* TLSv1.3 (IN), TLS handshake, CERT verify (15):\n* TLSv1.3 (IN), TLS handshake, Finished (20):\n* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):\n* TLSv1.3 (OUT), TLS handshake, Finished (20):\n* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: CN=external-api.com\n*  start date: May  7 00:00:00 2023 GMT\n*  expire date: Jun  4 23:59:59 2024 GMT\n*  subjectAltName: host &quot;external-api.com&quot; matched cert's &quot;external-api.com&quot;\n*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02\n*  SSL certificate verify ok.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0xxxxxxxxxxxxx)\n&gt; POST /endpointpath HTTP/2\n&gt; Host: external-api.com\n&gt; accept: */*\n&gt; user-agent: PostmanRuntime/7.32.2\n&gt; x-api-key: apikey\n&gt; content-type: application/json\n&gt; content-length: 2\n&gt;\n* We are completely uploaded and fine\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!\n&lt; HTTP/2 200\n&lt; content-type: application/json\n&lt; content-length: 345\n&lt; date: Tue, 26 Sep 2023 14:20:19 GMT\n&lt; x-amzn-requestid: requestid\n&lt; x-amz-apigw-id: apigw-id\n&lt; x-amzn-trace-id: traceid\n&lt; x-cache: Miss from cloudfront\n&lt; via: 1.1 3.cloudfront.net (CloudFront)\n&lt; x-amz-cf-pop: cfpop\n&lt; x-amz-cf-id: amzcfid\n&lt;\n* Connection #0 to host external-api.com left intact\n</code></pre>\n<p><strong>Invalid</strong></p>\n<pre><code>curl --verbose --location 'https://external-api.com/endpointpath' --header 'User-Agent: PostmanRuntime/7.32.2' --header 'x-api-key: apikey' --header 'Content-Type: application/json' --header 'Accept: */*' --header 'Accept-Encoding: gzip, deflate, br' --header 'Connection: keep-alive' --header 'Cache-Control: no-cache' --data '{}'\n*   Trying xxx.xx.xx.xx...\n* TCP_NODELAY set\n* Connected to external-api.com (xxx.xx.xx.xx) port xxx (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\n  CApath: /etc/ssl/certs\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Unknown (8):\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, CERT verify (15):\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Finished (20):\n* TLSv1.3 (OUT), TLS change cipher, Client hello (1):\n* TLSv1.3 (OUT), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (OUT), TLS handshake, Finished (20):\n* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: CN=external-api.com\n*  start date: May  7 00:00:00 2023 GMT\n*  expire date: Jun  4 23:59:59 2024 GMT\n*  subjectAltName: host &quot;external-api.com&quot; matched cert's &quot;external-api.com&quot;\n*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02\n*  SSL certificate verify ok.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n* Using Stream ID: 1 (easy handle 0xxxxxxxxxxxxx)\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n&gt; POST /endpointpath HTTP/2\n&gt; Host: external-api.com\n&gt; User-Agent: PostmanRuntime/7.32.2\n&gt; x-api-key: apikey\n&gt; Content-Type: application/json\n&gt; Accept: */*\n&gt; Accept-Encoding: gzip, deflate, br\n&gt; Connection: keep-alive\n&gt; Cache-Control: no-cache\n&gt; Content-Length: 2\n&gt;\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n* We are completely uploaded and fine\n* TLSv1.3 (IN), TLS Unknown, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\n* Connection state changed (MAX_CONCURRENT_STREAMS updated)!\n* TLSv1.3 (OUT), TLS Unknown, Unknown (23):\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\n&lt; HTTP/2 403\n&lt; content-type: application/json\n&lt; content-length: 23\n&lt; date: Mon, 25 Sep 2023 18:42:03 GMT\n&lt; x-amzn-requestid: requestid\n&lt; x-amzn-errortype: ForbiddenException\n&lt; x-amz-apigw-id: apigw-id\n&lt; x-cache: Error from cloudfront\n&lt; via: 1.1 a.cloudfront.net (CloudFront)\n&lt; x-amz-cf-pop: cfpop\n&lt; x-amz-cf-id: amzcfid\n&lt;\n* TLSv1.3 (IN), TLS Unknown, Unknown (23):\n* Connection #0 to host external-api.com left intact\n</code></pre>\n<p>I've checked that timdatectl are the same between servers that work and others that doesn't work.\nThose two examples have different ip/port, but I have confirmed that depending on the location hitting the exact same ip/port from different locations has the exact same behaviour, sometimes it just works or I get Forbidden.</p>\n"},{"tags":["java","filter","java-8","predicate","steam"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1695320305,"post_id":77152607,"comment_id":136012254,"body_markdown":"What do you mean by &quot;find number matching with 1 each number.&quot;?","body":"What do you mean by &quot;find number matching with 1 each number.&quot;?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695331032,"post_id":77152607,"comment_id":136013963,"body_markdown":"`001` means octal number, not decimal.","body":"<code>001</code> means octal number, not decimal."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1695350494,"post_id":77152607,"comment_id":136015810,"body_markdown":"did you mean, that string representation contains `1`?","body":"did you mean, that string representation contains <code>1</code>?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695668476,"creation_date":1695320447,"answer_id":77152721,"question_id":77152607,"body_markdown":"# tl;dr\r\n\r\nConvert each number to text. Examine the code point of each character in that text. Look for any match to 49, the code point of the character of the digit “1”. \r\n\r\n```java\r\nList.of ( 10 , 15 , 8 , 49 , 25 , 98 , 98 , 32 , 15 , 212 , 401 , 8 , 1 )\r\n        .stream ( )\r\n        .filter (\r\n                ( Integer integer ) -&gt; integer.toString ( ).codePoints ( ).anyMatch ( ( int codePoint ) -&gt; codePoint == 49 )  // 49 is the code point for the character of the digit one, “1”. \r\n        )\r\n        .toList ( )\r\n        .toString ( )\r\n```\r\n\r\nSee this [run at Ideone.com][1].\r\n\r\n&gt;[10, 15, 15, 212, 401, 1]\r\n\r\n# Filtering for digit `1` \r\n\r\nApparently you want to filter for numbers which contain `1` as a digit in any position.\r\n\r\nConvert each number to text. Examine each character by inspecting its Unicode [code point][2] number. If that code point is the code point for the digit 1’s character, we have a hit.\r\n\r\nThe character for digit `1` is [code point 49][3] decimal, U+0031 [hex][4], named DIGIT ONE. See [official Unicode chart](https://www.unicode.org/Public/UCD/latest/charts/CodeCharts.pdf). \r\n\r\n    &quot;1&quot;.codePointAt ( 0 ) ⇒ 49\r\n\r\nYour last value `001` must be a typo. Leading zero means an octal number rather than decimal number in Java syntax.\r\n\r\n```java\r\nList &lt; Integer &gt; inputs = List.of ( 10 , 15 , 8 , 49 , 25 , 98 , 98 , 32 , 15 , 212 , 401 , 8 , 1 );\r\n\r\nList &lt; Integer &gt; containsDigitOne =\r\n        inputs\r\n                .stream ( )\r\n                .filter (\r\n                        ( Integer integer ) -&gt;\r\n                                integer\r\n                                        .toString ( )\r\n                                        .codePoints ( )\r\n                                        .anyMatch ( ( int codePoint ) -&gt; codePoint == 49 )  // 49 is the code point for the character of the digit one, “1”. \r\n                )\r\n                .toList ( );\r\n```\r\n\r\n&gt;containsDigitOne.toString() = [10, 15, 15, 212, 401, 1]\r\n\r\n\r\n  [1]: https://ideone.com/j8j1QA\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://en.wikipedia.org/wiki/List_of_Unicode_characters#Basic_Latin\r\n  [4]: https://en.wikipedia.org/wiki/Hexadecimal","title":"Java8 - List of Integer values print Matching with 1 result showing 1 matching values","body":"<h1>tl;dr</h1>\n<p>Convert each number to text. Examine the code point of each character in that text. Look for any match to 49, the code point of the character of the digit “1”.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List.of ( 10 , 15 , 8 , 49 , 25 , 98 , 98 , 32 , 15 , 212 , 401 , 8 , 1 )\n        .stream ( )\n        .filter (\n                ( Integer integer ) -&gt; integer.toString ( ).codePoints ( ).anyMatch ( ( int codePoint ) -&gt; codePoint == 49 )  // 49 is the code point for the character of the digit one, “1”. \n        )\n        .toList ( )\n        .toString ( )\n</code></pre>\n<p>See this <a href=\"https://ideone.com/j8j1QA\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>[10, 15, 15, 212, 401, 1]</p>\n</blockquote>\n<h1>Filtering for digit <code>1</code></h1>\n<p>Apparently you want to filter for numbers which contain <code>1</code> as a digit in any position.</p>\n<p>Convert each number to text. Examine each character by inspecting its Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> number. If that code point is the code point for the digit 1’s character, we have a hit.</p>\n<p>The character for digit <code>1</code> is <a href=\"https://en.wikipedia.org/wiki/List_of_Unicode_characters#Basic_Latin\" rel=\"nofollow noreferrer\">code point 49</a> decimal, U+0031 <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hex</a>, named DIGIT ONE. See <a href=\"https://www.unicode.org/Public/UCD/latest/charts/CodeCharts.pdf\" rel=\"nofollow noreferrer\">official Unicode chart</a>.</p>\n<pre><code>&quot;1&quot;.codePointAt ( 0 ) ⇒ 49\n</code></pre>\n<p>Your last value <code>001</code> must be a typo. Leading zero means an octal number rather than decimal number in Java syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Integer &gt; inputs = List.of ( 10 , 15 , 8 , 49 , 25 , 98 , 98 , 32 , 15 , 212 , 401 , 8 , 1 );\n\nList &lt; Integer &gt; containsDigitOne =\n        inputs\n                .stream ( )\n                .filter (\n                        ( Integer integer ) -&gt;\n                                integer\n                                        .toString ( )\n                                        .codePoints ( )\n                                        .anyMatch ( ( int codePoint ) -&gt; codePoint == 49 )  // 49 is the code point for the character of the digit one, “1”. \n                )\n                .toList ( );\n</code></pre>\n<blockquote>\n<p>containsDigitOne.toString() = [10, 15, 15, 212, 401, 1]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29539780,"reputation":1,"user_id":22638714,"display_name":"Siddharth Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695741453,"creation_date":1695741453,"answer_id":77181337,"question_id":77152607,"body_markdown":"1. Create a `Predicate&lt;Integer&gt;`\r\n\r\n`Predicate&lt;Integer&gt; containsOne = (integer) -&gt; integer.toString().contains(&quot;1&quot;);`\r\n\r\n2. Filter the stream based on the predicate, and use print as a terminal operation to kick off the stream.\r\n`myList.stream.filter(containsOne).forEach(System.out::println);`","title":"Java8 - List of Integer values print Matching with 1 result showing 1 matching values","body":"<ol>\n<li>Create a <code>Predicate&lt;Integer&gt;</code></li>\n</ol>\n<p><code>Predicate&lt;Integer&gt; containsOne = (integer) -&gt; integer.toString().contains(&quot;1&quot;);</code></p>\n<ol start=\"2\">\n<li>Filter the stream based on the predicate, and use print as a terminal operation to kick off the stream.\n<code>myList.stream.filter(containsOne).forEach(System.out::println);</code></li>\n</ol>\n"}],"owner":{"account_id":29503083,"reputation":1,"user_id":22609658,"display_name":"ganeshan P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695741453,"creation_date":1695319218,"question_id":77152607,"body_markdown":"    List&lt;Integer&gt; myList = Arrays.asList(10,15,8,49,25,98,98,32,15,212,401,8,001);\r\n\r\nOutput:-\r\n10,15,15,212,401,001\r\n\r\nUsing java 8 stream api find number matching with 1 each number.\r\n\r\nAny one answering the question.\r\n\r\n    List&lt;Integer&gt; result =\tmyList.stream().filter(e -&gt; e == 1).collect(Collectors.toList());\r\n    \r\n    System.out.println(result);","title":"Java8 - List of Integer values print Matching with 1 result showing 1 matching values","body":"<pre><code>List&lt;Integer&gt; myList = Arrays.asList(10,15,8,49,25,98,98,32,15,212,401,8,001);\n</code></pre>\n<p>Output:-\n10,15,15,212,401,001</p>\n<p>Using java 8 stream api find number matching with 1 each number.</p>\n<p>Any one answering the question.</p>\n<pre><code>List&lt;Integer&gt; result =  myList.stream().filter(e -&gt; e == 1).collect(Collectors.toList());\n\nSystem.out.println(result);\n</code></pre>\n"},{"tags":["java","maven","build","launch4j"],"answers":[{"tags":[],"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695740276,"creation_date":1695740216,"answer_id":77181168,"question_id":77180897,"body_markdown":"Update launch4j-maven-plugin to the lastest version 2.4.1 and maven-shade-plugin to 3.5.1 this are so old versions from 2012 and might be not compatible with java 17 ","title":"&quot;Cannot access defaults field of Properties&quot; when using maven with launch4j build window exe from jar","body":"<p>Update launch4j-maven-plugin to the lastest version 2.4.1 and maven-shade-plugin to 3.5.1 this are so old versions from 2012 and might be not compatible with java 17</p>\n"}],"owner":{"account_id":22496248,"reputation":65,"user_id":16693183,"display_name":"GarySailor34"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77181168,"answer_count":1,"score":0,"last_activity_date":1695740276,"creation_date":1695738032,"question_id":77180897,"body_markdown":"I have wrote a cmd program of editing excel file by java 17. Then, I want to build it to a windows executable exe file. By reading a post of below, trying to build with maven plug-in shade and launch4j but keep showing &quot;Cannot access defaults field of Properties&quot; error in launch4j. Wonder why?\r\n\r\n[This is the post I reference](https://www.hascode.com/2012/08/creating-a-windows-executable-from-a-jar-using-maven/)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;combine_excel&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;combine_excel&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                        &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;l4j-clui&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;launch4j&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;headerType&gt;console&lt;/headerType&gt;\r\n                            &lt;jar&gt;target/${artifactId}-${version}-shaded.jar&lt;/jar&gt;\r\n                            &lt;outfile&gt;target/combine_excel.exe&lt;/outfile&gt;\r\n&lt;!--                            &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;--&gt;\r\n                            &lt;classPath&gt;\r\n                                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                                &lt;preCp&gt;anything&lt;/preCp&gt;\r\n                            &lt;/classPath&gt;\r\n&lt;!--                            &lt;icon&gt;application.ico&lt;/icon&gt;--&gt;\r\n                            &lt;jre&gt;\r\n                                &lt;minVersion&gt;1.6.0&lt;/minVersion&gt;\r\n                                &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n                            &lt;/jre&gt;\r\n                            &lt;versionInfo&gt;\r\n                                &lt;fileVersion&gt;1.0.0.0&lt;/fileVersion&gt;\r\n                                &lt;txtFileVersion&gt;${project.version}&lt;/txtFileVersion&gt;\r\n                                &lt;fileDescription&gt;${project.name}&lt;/fileDescription&gt;\r\n                                &lt;copyright&gt;2012 combine_excel.com&lt;/copyright&gt;\r\n                                &lt;productVersion&gt;1.0.0.0&lt;/productVersion&gt;\r\n                                &lt;txtProductVersion&gt;1.0.0.0&lt;/txtProductVersion&gt;\r\n                                &lt;productName&gt;${project.name}&lt;/productName&gt;\r\n                                &lt;companyName&gt;combine_excel.com&lt;/companyName&gt;\r\n                                &lt;internalName&gt;combine_excel&lt;/internalName&gt;\r\n                                &lt;originalFilename&gt;combine_excel.exe&lt;/originalFilename&gt;\r\n                            &lt;/versionInfo&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\r\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\r\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\r\n            &lt;version&gt;21.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is the error log.\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.091 s\r\n[INFO] Finished at: 2023-09-26T22:21:33+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j (l4j-clui) on project combine_excel: Execution l4j-clui of goal com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j failed: An API incompatibility was encountered while executing com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n[ERROR] urls[0] = file:/C:/Users/gary6/.m2/repository/com/akathist/maven/plugins/launch4j/launch4j-maven-plugin/1.5.1/launch4j-maven-plugin-1.5.1.jar\r\n[ERROR] urls[1] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.4/plexus-component-annotations-1.5.4.jar\r\n[ERROR] urls[2] = file:/C:/Users/gary6/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\r\n[ERROR] urls[3] = file:/C:/Users/gary6/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\r\n[ERROR] urls[4] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar\r\n[ERROR] urls[5] = file:/C:/Users/gary6/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar\r\n[ERROR] urls[6] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar\r\n[ERROR] urls[7] = file:/C:/Users/gary6/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n[ERROR] urls[8] = file:/C:/Users/gary6/.m2/repository/commons-beanutils/commons-beanutils/1.8.3/commons-beanutils-1.8.3.jar\r\n[ERROR] urls[9] = file:/C:/Users/gary6/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar\r\n[ERROR] urls[10] = file:/C:/Users/gary6/.m2/repository/org/apache/ant/ant/1.7.0/ant-1.7.0.jar\r\n[ERROR] urls[11] = file:/C:/Users/gary6/.m2/repository/org/apache/ant/ant-launcher/1.7.0/ant-launcher-1.7.0.jar\r\n[ERROR] urls[12] = file:/C:/Users/gary6/.m2/repository/foxtrot/foxtrot/2.0/foxtrot-2.0.jar\r\n[ERROR] urls[13] = file:/C:/Users/gary6/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\r\n[ERROR] urls[14] = file:/C:/Users/gary6/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\n[ERROR] Number of foreign imports: 1\r\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n[ERROR]\r\n[ERROR] -----------------------------------------------------\r\n[ERROR]\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n\r\n```\r\n\r\nI think is the launch4j config value was wrong at first. I add all missing parameter that refer inside the \\&lt;project\\&gt; tag and comment the icon photo but it didnt work any way. Moreover, I have tried build with war but failed.","title":"&quot;Cannot access defaults field of Properties&quot; when using maven with launch4j build window exe from jar","body":"<p>I have wrote a cmd program of editing excel file by java 17. Then, I want to build it to a windows executable exe file. By reading a post of below, trying to build with maven plug-in shade and launch4j but keep showing &quot;Cannot access defaults field of Properties&quot; error in launch4j. Wonder why?</p>\n<p><a href=\"https://www.hascode.com/2012/08/creating-a-windows-executable-from-a-jar-using-maven/\" rel=\"nofollow noreferrer\">This is the post I reference</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;combine_excel&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;combine_excel&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n                &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;l4j-clui&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;launch4j&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;headerType&gt;console&lt;/headerType&gt;\n                            &lt;jar&gt;target/${artifactId}-${version}-shaded.jar&lt;/jar&gt;\n                            &lt;outfile&gt;target/combine_excel.exe&lt;/outfile&gt;\n&lt;!--                            &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;--&gt;\n                            &lt;classPath&gt;\n                                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                                &lt;preCp&gt;anything&lt;/preCp&gt;\n                            &lt;/classPath&gt;\n&lt;!--                            &lt;icon&gt;application.ico&lt;/icon&gt;--&gt;\n                            &lt;jre&gt;\n                                &lt;minVersion&gt;1.6.0&lt;/minVersion&gt;\n                                &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n                            &lt;/jre&gt;\n                            &lt;versionInfo&gt;\n                                &lt;fileVersion&gt;1.0.0.0&lt;/fileVersion&gt;\n                                &lt;txtFileVersion&gt;${project.version}&lt;/txtFileVersion&gt;\n                                &lt;fileDescription&gt;${project.name}&lt;/fileDescription&gt;\n                                &lt;copyright&gt;2012 combine_excel.com&lt;/copyright&gt;\n                                &lt;productVersion&gt;1.0.0.0&lt;/productVersion&gt;\n                                &lt;txtProductVersion&gt;1.0.0.0&lt;/txtProductVersion&gt;\n                                &lt;productName&gt;${project.name}&lt;/productName&gt;\n                                &lt;companyName&gt;combine_excel.com&lt;/companyName&gt;\n                                &lt;internalName&gt;combine_excel&lt;/internalName&gt;\n                                &lt;originalFilename&gt;combine_excel.exe&lt;/originalFilename&gt;\n                            &lt;/versionInfo&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\n            &lt;version&gt;21.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the error log.</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.091 s\n[INFO] Finished at: 2023-09-26T22:21:33+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j (l4j-clui) on project combine_excel: Execution l4j-clui of goal com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j failed: An API incompatibility was encountered while executing com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1:launch4j: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;com.akathist.maven.plugins.launch4j:launch4j-maven-plugin:1.5.1\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/gary6/.m2/repository/com/akathist/maven/plugins/launch4j/launch4j-maven-plugin/1.5.1/launch4j-maven-plugin-1.5.1.jar\n[ERROR] urls[1] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.4/plexus-component-annotations-1.5.4.jar\n[ERROR] urls[2] = file:/C:/Users/gary6/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\n[ERROR] urls[3] = file:/C:/Users/gary6/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\n[ERROR] urls[4] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar\n[ERROR] urls[5] = file:/C:/Users/gary6/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar\n[ERROR] urls[6] = file:/C:/Users/gary6/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar\n[ERROR] urls[7] = file:/C:/Users/gary6/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[8] = file:/C:/Users/gary6/.m2/repository/commons-beanutils/commons-beanutils/1.8.3/commons-beanutils-1.8.3.jar\n[ERROR] urls[9] = file:/C:/Users/gary6/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar\n[ERROR] urls[10] = file:/C:/Users/gary6/.m2/repository/org/apache/ant/ant/1.7.0/ant-1.7.0.jar\n[ERROR] urls[11] = file:/C:/Users/gary6/.m2/repository/org/apache/ant/ant-launcher/1.7.0/ant-launcher-1.7.0.jar\n[ERROR] urls[12] = file:/C:/Users/gary6/.m2/repository/foxtrot/foxtrot/2.0/foxtrot-2.0.jar\n[ERROR] urls[13] = file:/C:/Users/gary6/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\n[ERROR] urls[14] = file:/C:/Users/gary6/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR]\n[ERROR] -----------------------------------------------------\n[ERROR]\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n\n</code></pre>\n<p>I think is the launch4j config value was wrong at first. I add all missing parameter that refer inside the &lt;project&gt; tag and comment the icon photo but it didnt work any way. Moreover, I have tried build with war but failed.</p>\n"},{"tags":["java","sockets","networking","protocols"],"answers":[{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281010370,"creation_date":1281010370,"answer_id":3414525,"question_id":3414407,"body_markdown":"You could use http or https. The java media framework contains an implementation of rtp.","title":"Tips about design/implementation of own protocol","body":"<p>You could use http or https. The java media framework contains an implementation of rtp.</p>\n"},{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281010997,"creation_date":1281010997,"answer_id":3414613,"question_id":3414407,"body_markdown":"Take a look a [Google Protocol Buffers][1], which will generate a compact wire protocol as well as autogenerating Java message classes.  I wish I&#39;d heard of it before rolling my own message codec using Java NIO `ByteBuffer`s.\r\n\r\n\r\n  [1]: http://code.google.com/p/protobuf/","title":"Tips about design/implementation of own protocol","body":"<p>Take a look a <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow noreferrer\">Google Protocol Buffers</a>, which will generate a compact wire protocol as well as autogenerating Java message classes.  I wish I'd heard of it before rolling my own message codec using Java NIO <code>ByteBuffer</code>s.</p>\n"},{"tags":[],"owner":{"account_id":15141,"reputation":33502,"user_id":31667,"accept_rate":75,"display_name":"viraptor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1281012106,"creation_date":1281011495,"answer_id":3414670,"question_id":3414407,"body_markdown":"I&#39;ve got a feeling you&#39;re trying to reinvent either SIP (if your packet processing is mostly stateless and XML is small enough to go into &lt;3k packets), or XMPP.\r\n\r\nIf you need a connection oriented login/logout, and stateful commands/instructions, then XMPP is probably closer to the requirements. Also, [Jingle extension](http://en.wikipedia.org/wiki/Jingle_%28protocol%29) to XMPP already deals with RTP setup and teardown. XML messages are trivial to embed into custom XMPP packets (which themselves are XML) and there are known XMPP solutions for proxying a file transfer.\r\n\r\nI&#39;m pretty sure it meets your requirements quite well (at least the way they&#39;re presented here). If you don&#39;t have to design a completely new protocol, it&#39;s probably easier if you don&#39;t. Also reusing an existing XMPP server will allow you to solve the pain of creating your own message broker. There&#39;s OpenFire server, which is written in Java.","title":"Tips about design/implementation of own protocol","body":"<p>I've got a feeling you're trying to reinvent either SIP (if your packet processing is mostly stateless and XML is small enough to go into &lt;3k packets), or XMPP.</p>\n\n<p>If you need a connection oriented login/logout, and stateful commands/instructions, then XMPP is probably closer to the requirements. Also, <a href=\"http://en.wikipedia.org/wiki/Jingle_%28protocol%29\" rel=\"nofollow noreferrer\">Jingle extension</a> to XMPP already deals with RTP setup and teardown. XML messages are trivial to embed into custom XMPP packets (which themselves are XML) and there are known XMPP solutions for proxying a file transfer.</p>\n\n<p>I'm pretty sure it meets your requirements quite well (at least the way they're presented here). If you don't have to design a completely new protocol, it's probably easier if you don't. Also reusing an existing XMPP server will allow you to solve the pain of creating your own message broker. There's OpenFire server, which is written in Java.</p>\n"},{"tags":[],"owner":{"account_id":72122,"reputation":2758,"user_id":208344,"display_name":"Jes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281039066,"creation_date":1281039066,"answer_id":3418777,"question_id":3414407,"body_markdown":"Writing the protocol from scratch may require a lot of work. Take a look at XMPP.\r\n\r\nIf you want to write your own protocol, start with learning a form of RPC like JSON or similar, which will make your life a lot easier.","title":"Tips about design/implementation of own protocol","body":"<p>Writing the protocol from scratch may require a lot of work. Take a look at XMPP.</p>\n\n<p>If you want to write your own protocol, start with learning a form of RPC like JSON or similar, which will make your life a lot easier.</p>\n"},{"tags":[],"owner":{"account_id":3318843,"reputation":1818,"user_id":2790482,"display_name":"Reasurria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380194580,"creation_date":1380194232,"answer_id":19026753,"question_id":3414407,"body_markdown":"I dont know if this is bad advice or not, but what I usually do for my networking applications is to make a Message object that holds a TAG string and CONTENT string. The CONTENT part is usually a JSON string and the message itself is also sent to/from the server as a json string.\r\n\r\nWhen the server or client receives a message, it parses the json into a Message object. You can then check the TAG part of the message to see what type of content is held in the CONTENT part of the message and decide what to do with it.\r\n\r\nFor example, if TAG==&quot;LOGIN&quot; then the CONTENT may be login details or similar. And when the TAG==&quot;MESSAGE&quot; then the CONTENT will perhaps be a json string representing your parameters, for example, who is the recipient/s and what is the content of the message, etc.\r\n\r\nYou can then do you encryption and decryption on the strings. If this is a stupid way of doing it, please tell me so in a comment so i can learn :)\r\n\r\nI also usually implement a state design pattern on both sides, but at least on the server side. For example, the server starts out in a WaitingForLogin state. When the client logs in it switches to a different state that only listens for files and chat messages as an example. In this way I found it is a bit easier to manage. \r\n","title":"Tips about design/implementation of own protocol","body":"<p>I dont know if this is bad advice or not, but what I usually do for my networking applications is to make a Message object that holds a TAG string and CONTENT string. The CONTENT part is usually a JSON string and the message itself is also sent to/from the server as a json string.</p>\n\n<p>When the server or client receives a message, it parses the json into a Message object. You can then check the TAG part of the message to see what type of content is held in the CONTENT part of the message and decide what to do with it.</p>\n\n<p>For example, if TAG==\"LOGIN\" then the CONTENT may be login details or similar. And when the TAG==\"MESSAGE\" then the CONTENT will perhaps be a json string representing your parameters, for example, who is the recipient/s and what is the content of the message, etc.</p>\n\n<p>You can then do you encryption and decryption on the strings. If this is a stupid way of doing it, please tell me so in a comment so i can learn :)</p>\n\n<p>I also usually implement a state design pattern on both sides, but at least on the server side. For example, the server starts out in a WaitingForLogin state. When the client logs in it switches to a different state that only listens for files and chat messages as an example. In this way I found it is a bit easier to manage. </p>\n"}],"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4354,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":3414670,"answer_count":5,"score":5,"last_activity_date":1695740215,"creation_date":1281009402,"question_id":3414407,"body_markdown":"Where I work we are in need of a protocol capable of:\r\n\r\n - User login/logout\r\n - Send/Receive instructions\r\n - Send/Receive files\r\n - Send/Receive audio stream(could use RTP)\r\n - Send/Receive small XML files Use\r\n - cryptography for all those.\r\n\r\nIt will be implemented in java. So I have some questions, since I&#39;ve never implemented a network protocol yet.\r\n\r\n 1. Is it possible to use existing protocols to build this one?\r\n 2. What tool can I use to help me design the protocol? For &quot;Modeling&quot;\r\n 3. Is it possible to accomplish all this, doing it alone? I have as much time as I need for this.\r\n\r\nI have a pretty good background in Java and C++, but not yet with sockets/networking programming.\r\n\r\n\r\nThanks!","title":"Tips about design/implementation of own protocol","body":"<p>Where I work we are in need of a protocol capable of:</p>\n<ul>\n<li>User login/logout</li>\n<li>Send/Receive instructions</li>\n<li>Send/Receive files</li>\n<li>Send/Receive audio stream(could use RTP)</li>\n<li>Send/Receive small XML files Use</li>\n<li>cryptography for all those.</li>\n</ul>\n<p>It will be implemented in java. So I have some questions, since I've never implemented a network protocol yet.</p>\n<ol>\n<li>Is it possible to use existing protocols to build this one?</li>\n<li>What tool can I use to help me design the protocol? For &quot;Modeling&quot;</li>\n<li>Is it possible to accomplish all this, doing it alone? I have as much time as I need for this.</li>\n</ol>\n<p>I have a pretty good background in Java and C++, but not yet with sockets/networking programming.</p>\n<p>Thanks!</p>\n"},{"tags":["java","exception","compiler-errors","jvm","runtime"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1695738366,"post_id":77180923,"comment_id":136062761,"body_markdown":"It&#39;s part of the spec and as such hardcoded into all compilers. Note that there is nothing special to do at runtime. Checked exceptions are a compiler-level feature only.","body":"It&#39;s part of the spec and as such hardcoded into all compilers. Note that there is nothing special to do at runtime. Checked exceptions are a compiler-level feature only."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1695739699,"post_id":77180923,"comment_id":136063070,"body_markdown":"The JVM doesn&#39;t. (Un)checked is purely a Java language concept enforced by the compiler.","body":"The JVM doesn&#39;t. (Un)checked is purely a Java language concept enforced by the compiler."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695739884,"creation_date":1695739884,"answer_id":77181117,"question_id":77180923,"body_markdown":"The word, &quot;checked&quot; in the term &quot;checked exception&quot; refers to the exceptions that are checked during compilation time. JVM does not know anything about a checked exception. It&#39;s analogous to generics which is there to assist you in catching potential problems during compilation itself; the Type Erasure replaces all type parameters in generic types with their bounds or `Object` if the type parameters are unbounded. The produced bytecode, therefore, contains only ordinary classes, interfaces, and methods. So, JVM does not know anything about generics.\r\n\r\nBy the way, the checked exception classes are all subclasses of `Throwable` other than `RuntimeException` and its subclasses and `Error` and its subclasses.","title":"How do the compiler and JVM establish and recognize a RuntimeException as a starting point as unchecked type?","body":"<p>The word, &quot;checked&quot; in the term &quot;checked exception&quot; refers to the exceptions that are checked during compilation time. JVM does not know anything about a checked exception. It's analogous to generics which is there to assist you in catching potential problems during compilation itself; the Type Erasure replaces all type parameters in generic types with their bounds or <code>Object</code> if the type parameters are unbounded. The produced bytecode, therefore, contains only ordinary classes, interfaces, and methods. So, JVM does not know anything about generics.</p>\n<p>By the way, the checked exception classes are all subclasses of <code>Throwable</code> other than <code>RuntimeException</code> and its subclasses and <code>Error</code> and its subclasses.</p>\n"}],"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695739884,"creation_date":1695738209,"question_id":77180923,"body_markdown":"In Java, according with the following class hierarchy\r\n\r\n    Object\r\n     Throwable\r\n      Error\r\n       Abort\r\n       ...\r\n      Exception\r\n       AbortException\r\n       ...\r\n       RuntimeException\r\n        ...\r\n\r\nI know the concept and difference between a _checked_ and _unchecked_ terms, where the former is all the subclasses from `Exception` and the latter for all the subclasses from `RuntimeException`. Of course, and the constraints about `try/catch` and `throws` syntaxes.\r\n\r\nNow because `RuntimeException` is a _subclass_ of `Exception` **too**. \r\n\r\n**Question**\r\n\r\n* How do the compiler and JVM establish and recognize a `RuntimeException` as a starting point as unchecked type?\r\n\r\nOr in other words: \r\n\r\n* How both establish/recognize that the `RuntimeException` hierarchy must be _not_ treat it as checked?  \r\n\r\nHow **Java** itself implement this _specification_ through its own code?\r\n","title":"How do the compiler and JVM establish and recognize a RuntimeException as a starting point as unchecked type?","body":"<p>In Java, according with the following class hierarchy</p>\n<pre><code>Object\n Throwable\n  Error\n   Abort\n   ...\n  Exception\n   AbortException\n   ...\n   RuntimeException\n    ...\n</code></pre>\n<p>I know the concept and difference between a <em>checked</em> and <em>unchecked</em> terms, where the former is all the subclasses from <code>Exception</code> and the latter for all the subclasses from <code>RuntimeException</code>. Of course, and the constraints about <code>try/catch</code> and <code>throws</code> syntaxes.</p>\n<p>Now because <code>RuntimeException</code> is a <em>subclass</em> of <code>Exception</code> <strong>too</strong>.</p>\n<p><strong>Question</strong></p>\n<ul>\n<li>How do the compiler and JVM establish and recognize a <code>RuntimeException</code> as a starting point as unchecked type?</li>\n</ul>\n<p>Or in other words:</p>\n<ul>\n<li>How both establish/recognize that the <code>RuntimeException</code> hierarchy must be <em>not</em> treat it as checked?</li>\n</ul>\n<p>How <strong>Java</strong> itself implement this <em>specification</em> through its own code?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":6810032,"reputation":595,"user_id":6837405,"accept_rate":73,"display_name":"Busman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695739262,"creation_date":1628617993,"answer_id":68731486,"question_id":68729380,"body_markdown":"Well, I actually figured it out. The count query generated by returning Page from the repository method can be avoided by supplying your own via the following conversion:\r\n\r\nConvert this:\r\n\r\n    @Entity\r\n    @Table(name=`order`)\r\n    @SqlResultSetMapping(\r\n\t\tname=&quot;myDtoMapping&quot;,\r\n\t\tclasses={\r\n\t\t\t\t@ConstructorResult(\r\n\t\t\t\t\t\ttargetClass=MyDto.class,\r\n\t\t\t\t\t\tcolumns={\r\n\t\t\t\t\t\t\t\t@ColumnResult(name=&quot;id&quot;, type=Long.class),\r\n\t\t\t\t\t\t\t\t//Other columns...\r\n\t\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t}\r\n    )\r\n    @NamedNativeQuery(name=&quot;Order.findResults&quot;, query=myVariablePointingToQuery, resultSetMapping=&quot;myDtoMapping&quot;)\r\n    public class Order{\r\n    ...\r\n\r\nTo this:\r\n\r\n    @Entity\r\n    @Table(name=`order`)\r\n    @SqlResultSetMappings({\r\n        @SqlResultSetMapping(\r\n                name=&quot;myDtoMapping&quot;,\r\n                classes={\r\n                        @ConstructorResult(\r\n                                targetClass=MyDto.class,\r\n                                columns={\r\n                                        @ColumnResult(name=&quot;id&quot;, type=Long.class),\r\n                                        //Other columns...\r\n                                }\r\n                        )\r\n                }\r\n        ),\r\n        @SqlResultSetMapping(name=&quot;myDtoMapping.count&quot;, columns=@ColumnResult(name=&quot;cnt&quot;))}\r\n    )\r\n    @NamedNativeQueries({\r\n        @NamedNativeQuery(name=&quot;Order.findResults&quot;, query=myVariablePointingToQuery, resultSetMapping=&quot;myDtoMapping&quot;),\r\n        @NamedNativeQuery(name = &quot;Order.findResults.count&quot;, query=myVariablePointingToCOUNTINGQuery, resultSetMapping = &quot;myDtoMapping.count&quot;)\r\n    })\r\n\r\nNote that there is a `SqlResultSetMapping` and `@NamedNativeQuery` for count now, as well as a custom count query, which **by the way is defined as**\r\n\r\n    &quot;select count(*) as cnt \\n&quot; //newline is important!\r\n**because even with a trailing space, the query comes out to &quot;select count(*) as cntfrom&quot;. A bug.**\r\n\r\nBut now everything works!","title":"Count query generated by returning Page&lt;&gt; from Repository method crashes on org.hibernate.QueryException: unexpected char: &#39;`&#39;","body":"<p>Well, I actually figured it out. The count query generated by returning Page from the repository method can be avoided by supplying your own via the following conversion:</p>\n<p>Convert this:</p>\n<pre><code>@Entity\n@Table(name=`order`)\n@SqlResultSetMapping(\n    name=&quot;myDtoMapping&quot;,\n    classes={\n            @ConstructorResult(\n                    targetClass=MyDto.class,\n                    columns={\n                            @ColumnResult(name=&quot;id&quot;, type=Long.class),\n                            //Other columns...\n                    }\n            )\n    }\n)\n@NamedNativeQuery(name=&quot;Order.findResults&quot;, query=myVariablePointingToQuery, resultSetMapping=&quot;myDtoMapping&quot;)\npublic class Order{\n...\n</code></pre>\n<p>To this:</p>\n<pre><code>@Entity\n@Table(name=`order`)\n@SqlResultSetMappings({\n    @SqlResultSetMapping(\n            name=&quot;myDtoMapping&quot;,\n            classes={\n                    @ConstructorResult(\n                            targetClass=MyDto.class,\n                            columns={\n                                    @ColumnResult(name=&quot;id&quot;, type=Long.class),\n                                    //Other columns...\n                            }\n                    )\n            }\n    ),\n    @SqlResultSetMapping(name=&quot;myDtoMapping.count&quot;, columns=@ColumnResult(name=&quot;cnt&quot;))}\n)\n@NamedNativeQueries({\n    @NamedNativeQuery(name=&quot;Order.findResults&quot;, query=myVariablePointingToQuery, resultSetMapping=&quot;myDtoMapping&quot;),\n    @NamedNativeQuery(name = &quot;Order.findResults.count&quot;, query=myVariablePointingToCOUNTINGQuery, resultSetMapping = &quot;myDtoMapping.count&quot;)\n})\n</code></pre>\n<p>Note that there is a <code>SqlResultSetMapping</code> and <code>@NamedNativeQuery</code> for count now, as well as a custom count query, which <strong>by the way is defined as</strong></p>\n<pre><code>&quot;select count(*) as cnt \\n&quot; //newline is important!\n</code></pre>\n<p><strong>because even with a trailing space, the query comes out to &quot;select count(*) as cntfrom&quot;. A bug.</strong></p>\n<p>But now everything works!</p>\n"}],"owner":{"account_id":6810032,"reputation":595,"user_id":6837405,"accept_rate":73,"display_name":"Busman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68731486,"answer_count":1,"score":1,"last_activity_date":1695739262,"creation_date":1628608479,"question_id":68729380,"body_markdown":"At great peril, I am trying to combine the use of a native query, @SqlResultSetMapper + non-entity POJO (MyDto), and a repository method that takes a Pageable as a param and returns Page&lt;MyDto&gt;. After overcoming a number of hurdles, it&#39;s almost working:\r\n\r\n - My entity class is called `Order`, as is the database table \r\n - My DTO class, to which I am mapping the results of the query, is `MyDto`\r\n - My repository is defined as `public interface MyRepository extends JpaRepository&lt;Order, Long&gt;`\r\n \r\nIn my repository, if I use:\r\n`List&lt;MyDto&gt; findResults(Pageable page)` I get a list of 1 page of results; everything works fine.\r\n\r\nHowever, if I use:\r\n`Page&lt;MyDto&gt; findResults(Pageable page)`, this happens:\r\n\r\n     Error occurred while processing the request: org.springframework.dao.InvalidDataAccessApiUsageException: \r\n    org.hibernate.QueryException: unexpected char: &#39;`&#39; [select count(o) from `order` o ...\r\n\r\n(the query continues after &quot;...&quot; and there are no backticks anywhere else in it)\r\n\r\n**Returning `Page` causes Hibernate to generate a query it can&#39;t parse\r\n   (but should be able to)**\r\n\r\nI don&#39;t think it&#39;s worth it to supply the @NamedNativeQuery stuff because it works and doesn&#39;t impact how returning Page causes this count query to generate. I&#39;m inclined to think this a Hibernate bug, but am hoping there is a work-around.\r\n\r\nHow can I fix this? The backticks are *necessary*, as `order` is a MySQL keyword, and even if they weren&#39;t, I fail to see why it can&#39;t parse it (especially **because it generated it**).","title":"Count query generated by returning Page&lt;&gt; from Repository method crashes on org.hibernate.QueryException: unexpected char: &#39;`&#39;","body":"<p>At great peril, I am trying to combine the use of a native query, @SqlResultSetMapper + non-entity POJO (MyDto), and a repository method that takes a Pageable as a param and returns Page. After overcoming a number of hurdles, it's almost working:</p>\n<ul>\n<li>My entity class is called <code>Order</code>, as is the database table</li>\n<li>My DTO class, to which I am mapping the results of the query, is <code>MyDto</code></li>\n<li>My repository is defined as <code>public interface MyRepository extends JpaRepository&lt;Order, Long&gt;</code></li>\n</ul>\n<p>In my repository, if I use:\n<code>List&lt;MyDto&gt; findResults(Pageable page)</code> I get a list of 1 page of results; everything works fine.</p>\n<p>However, if I use:\n<code>Page&lt;MyDto&gt; findResults(Pageable page)</code>, this happens:</p>\n<pre><code> Error occurred while processing the request: org.springframework.dao.InvalidDataAccessApiUsageException: \norg.hibernate.QueryException: unexpected char: '`' [select count(o) from `order` o ...\n</code></pre>\n<p>(the query continues after &quot;...&quot; and there are no backticks anywhere else in it)</p>\n<p><strong>Returning <code>Page</code> causes Hibernate to generate a query it can't parse\n(but should be able to)</strong></p>\n<p>I don't think it's worth it to supply the @NamedNativeQuery stuff because it works and doesn't impact how returning Page causes this count query to generate. I'm inclined to think this a Hibernate bug, but am hoping there is a work-around.</p>\n<p>How can I fix this? The backticks are <em>necessary</em>, as <code>order</code> is a MySQL keyword, and even if they weren't, I fail to see why it can't parse it (especially <strong>because it generated it</strong>).</p>\n"},{"tags":["java","intellij-idea","intellij-13","lombok"],"comments":[{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1429256715,"post_id":29692777,"comment_id":47522849,"body_markdown":"Have you installed the lombok plugin for IDEA? https://plugins.jetbrains.com/plugin/6317","body":"Have you installed the lombok plugin for IDEA? <a href=\"https://plugins.jetbrains.com/plugin/6317\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/6317</a>"},{"owner":{"account_id":1484020,"reputation":1311,"user_id":1392655,"accept_rate":69,"display_name":"Khiem-Kim Ho Xuan"},"score":1,"creation_date":1429258311,"post_id":29692777,"comment_id":47523830,"body_markdown":"jupp. the latest one","body":"jupp. the latest one"},{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1429258634,"post_id":29692777,"comment_id":47524031,"body_markdown":"Are you using Maven? Have you made sure that the jar is on the classpath?","body":"Are you using Maven? Have you made sure that the jar is on the classpath?"},{"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"score":1,"creation_date":1439582094,"post_id":29692777,"comment_id":51937910,"body_markdown":"Have you solved it already? It&#39;s happening to me too.","body":"Have you solved it already? It&#39;s happening to me too."}],"answers":[{"tags":[],"owner":{"account_id":373461,"reputation":129,"user_id":3485639,"display_name":"dugsmith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451428828,"creation_date":1451428828,"answer_id":34520234,"question_id":29692777,"body_markdown":"I was having a similar issue, but resolved it by upgrading to IDEA 15.0.2 and Lombok plugin 0.9.6.14. I had to restart IDEA several times before all of the getters/setters generated by Lombok were resolved. \r\n\r\nI also found [this related answer](https://stackoverflow.com/a/27430992/3485639), but it didn&#39;t seem to help my problem. It may help you if upgrading does not.","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>I was having a similar issue, but resolved it by upgrading to IDEA 15.0.2 and Lombok plugin 0.9.6.14. I had to restart IDEA several times before all of the getters/setters generated by Lombok were resolved. </p>\n\n<p>I also found <a href=\"https://stackoverflow.com/a/27430992/3485639\">this related answer</a>, but it didn't seem to help my problem. It may help you if upgrading does not.</p>\n"},{"tags":[],"owner":{"account_id":2567388,"reputation":1842,"user_id":2227064,"accept_rate":50,"display_name":"Vegard"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1458764692,"creation_date":1458764692,"answer_id":36188028,"question_id":29692777,"body_markdown":"Kind of old question here, but I came across the same problem today. I had to do two things to make it work:\r\n\r\n 1. Set annotation processing on: `Settings -&gt; Compiler -&gt; Annotation\r\n    Processors`  \r\n 2. Change from ajc to javac for the project: `Compiler -&gt; Java Compiler`\r\n\r\nyou of course also need the Lombok plugin.","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>Kind of old question here, but I came across the same problem today. I had to do two things to make it work:</p>\n\n<ol>\n<li>Set annotation processing on: <code>Settings -&gt; Compiler -&gt; Annotation\nProcessors</code>  </li>\n<li>Change from ajc to javac for the project: <code>Compiler -&gt; Java Compiler</code></li>\n</ol>\n\n<p>you of course also need the Lombok plugin.</p>\n"},{"tags":[],"owner":{"account_id":14814685,"reputation":406,"user_id":10699128,"display_name":"komidawi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608218093,"creation_date":1608218093,"answer_id":65343407,"question_id":29692777,"body_markdown":"In my case apart from enabling Annotation Processing and installing Lombok Plugin I had to rebuild project by **Build -&gt; Rebuild Project**","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>In my case apart from enabling Annotation Processing and installing Lombok Plugin I had to rebuild project by <strong>Build -&gt; Rebuild Project</strong></p>\n"},{"tags":[],"owner":{"account_id":14493854,"reputation":859,"user_id":10529573,"display_name":"Mike Menko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643482798,"creation_date":1643482798,"answer_id":70908761,"question_id":29692777,"body_markdown":"In my case non of methods works. But I found solution for my case.\r\nI needed to add to my Gradle dependencies list of\r\n\r\n    dependencies {\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    }\r\none more line \r\n\r\n    dependencies {\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    }\r\n\r\nWith such combination you even don&#39;t need enabling *Annotation Processors* from @Vegard answer.","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>In my case non of methods works. But I found solution for my case.\nI needed to add to my Gradle dependencies list of</p>\n<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n}\n</code></pre>\n<p>one more line</p>\n<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n}\n</code></pre>\n<p>With such combination you even don't need enabling <em>Annotation Processors</em> from @Vegard answer.</p>\n"},{"tags":[],"owner":{"account_id":7673063,"reputation":1,"user_id":5814679,"display_name":"Lotes Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658425584,"creation_date":1658425584,"answer_id":73070641,"question_id":29692777,"body_markdown":"If you use intellij Idea go to setting and add Lombok plugin to your intellij idea\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0QdZn.png","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>If you use intellij Idea go to setting and add Lombok plugin to your intellij idea</p>\n<p><a href=\"https://i.stack.imgur.com/0QdZn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":19097304,"reputation":11,"user_id":13946305,"display_name":"Jack.Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659235505,"creation_date":1659235505,"answer_id":73180344,"question_id":29692777,"body_markdown":"Tried with the @Mike&#39;s solution above, and it works.\r\nFor your information, even though I enabled the **Annotation Processors** , but it seems like not working.\r\nAfter I added the **annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;**\r\nit was built successfully.","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>Tried with the @Mike's solution above, and it works.\nFor your information, even though I enabled the <strong>Annotation Processors</strong> , but it seems like not working.\nAfter I added the <strong>annotationProcessor 'org.projectlombok:lombok:1.18.22'</strong>\nit was built successfully.</p>\n"},{"tags":[],"owner":{"account_id":26149544,"reputation":31,"user_id":19837698,"display_name":"howgenius"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661344713,"creation_date":1661344681,"answer_id":73473329,"question_id":29692777,"body_markdown":"I have the same problem. Using **maven**, after I add at to my pom.xml  **annotationProcessor** nothing changed. Also I&#39;m installed Lombok plugin at Intelij IDEA. \r\n\r\n    &lt;annotationProcessorPaths&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>I have the same problem. Using <strong>maven</strong>, after I add at to my pom.xml  <strong>annotationProcessor</strong> nothing changed. Also I'm installed Lombok plugin at Intelij IDEA.</p>\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/path&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8497210,"reputation":173,"user_id":6371453,"display_name":"Caranown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665257480,"creation_date":1665257480,"answer_id":73999985,"question_id":29692777,"body_markdown":"I solved this in my Gradle project by including the Lombok plugin. \r\nNo dependencies or annotationProcessor needed (nor did those work for me).\r\n\r\nFor example in your `build.gradle.kts`:\r\n```kotlin\r\nplugins {\r\n    id(&quot;io.freefair.lombok&quot;) version &quot;6.5.1&quot;\r\n}\r\n```\r\n\r\nhttps://plugins.gradle.org/plugin/io.freefair.lombok","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>I solved this in my Gradle project by including the Lombok plugin.\nNo dependencies or annotationProcessor needed (nor did those work for me).</p>\n<p>For example in your <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;io.freefair.lombok&quot;) version &quot;6.5.1&quot;\n}\n</code></pre>\n<p><a href=\"https://plugins.gradle.org/plugin/io.freefair.lombok\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.freefair.lombok</a></p>\n"},{"tags":[],"owner":{"account_id":7929817,"reputation":46,"user_id":17205238,"display_name":"manrodriguezf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695739091,"creation_date":1695739091,"answer_id":77181026,"question_id":29692777,"body_markdown":"The aforementioned solutions work perfectly, although there&#39;s another instance where Lombok annotation processing can fail:\r\n\r\nIn Gradle or Maven you can pass an argument/flag to prevent annotation processing:\r\n```\r\n-proc:none\r\n```\r\nHope this helps someone.\r\n\r\nReference: https://github.com/projectlombok/lombok/issues/1449","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>The aforementioned solutions work perfectly, although there's another instance where Lombok annotation processing can fail:</p>\n<p>In Gradle or Maven you can pass an argument/flag to prevent annotation processing:</p>\n<pre><code>-proc:none\n</code></pre>\n<p>Hope this helps someone.</p>\n<p>Reference: <a href=\"https://github.com/projectlombok/lombok/issues/1449\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/1449</a></p>\n"}],"owner":{"account_id":1484020,"reputation":1311,"user_id":1392655,"accept_rate":69,"display_name":"Khiem-Kim Ho Xuan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35987,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":36188028,"answer_count":9,"score":18,"last_activity_date":1695739091,"creation_date":1429255307,"question_id":29692777,"body_markdown":"I have tried using Lombok on Intellij IDEA 13 Ultimate.\r\nHowever. I get the famous error &quot;cannot find symbol&quot; for all the methods that should have been available when I am using specific annotations for example the once I use as annotations are `@Builder`, `@AllArgsConstructor` and `@Data`.\r\n\r\n\r\nI have already set my compiler to enable annotation processing and I have looked deeply into it, but with no solution of how to solve it.\r\n\r\nAny advice or tips would be nice.","title":"Lombok with IDEA 13: Cannot find symbol","body":"<p>I have tried using Lombok on Intellij IDEA 13 Ultimate.\nHowever. I get the famous error \"cannot find symbol\" for all the methods that should have been available when I am using specific annotations for example the once I use as annotations are <code>@Builder</code>, <code>@AllArgsConstructor</code> and <code>@Data</code>.</p>\n\n<p>I have already set my compiler to enable annotation processing and I have looked deeply into it, but with no solution of how to solve it.</p>\n\n<p>Any advice or tips would be nice.</p>\n"},{"tags":["java","random","arraylist"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1695737894,"post_id":77180857,"comment_id":136062661,"body_markdown":"Please, [post your code as well formatted text, not as an image](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">post your code as well formatted text, not as an image</a>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695752401,"post_id":77180857,"comment_id":136065601,"body_markdown":"just do `Collections.shuffle(list)` once.  Then iterate thru the list.  No need to keep shuffling.  Note that doing it this way will not repeat previous shown elements.","body":"just do <code>Collections.shuffle(list)</code> once.  Then iterate thru the list.  No need to keep shuffling.  Note that doing it this way will not repeat previous shown elements."}],"answers":[{"tags":[],"owner":{"account_id":23220522,"reputation":28,"user_id":17312822,"display_name":"Romario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695738510,"creation_date":1695738022,"answer_id":77180894,"question_id":77180857,"body_markdown":"You need to obtain random integer number and then use it as an index to get from list.\r\n\r\nTry this sample:\r\n\r\n    int randomIndex = rand.nextInt(0, list.size());\r\n    System.out.println(list.get(randomIndex));\r\n\r\ninstead of your &quot;for&quot; cycle\r\n\r\nSome explanation for newcomer:\r\n***nextInt*** method will return some random integer number from 0 (index cannot be less then 0) to ***list.size()*** number exclusively (counting starts with 0, so if you have 3 elements, the third element will be at index 2) to prevent IndexOutOfBoundException.\r\n","title":"how do i change this to be able to generate a random item from my list?","body":"<p>You need to obtain random integer number and then use it as an index to get from list.</p>\n<p>Try this sample:</p>\n<pre><code>int randomIndex = rand.nextInt(0, list.size());\nSystem.out.println(list.get(randomIndex));\n</code></pre>\n<p>instead of your &quot;for&quot; cycle</p>\n<p>Some explanation for newcomer:\n<em><strong>nextInt</strong></em> method will return some random integer number from 0 (index cannot be less then 0) to <em><strong>list.size()</strong></em> number exclusively (counting starts with 0, so if you have 3 elements, the third element will be at index 2) to prevent IndexOutOfBoundException.</p>\n"}],"owner":{"account_id":29539294,"reputation":3,"user_id":22638313,"display_name":"jensennaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1695738077,"accepted_answer_id":77180894,"answer_count":1,"score":-4,"last_activity_date":1695738510,"creation_date":1695737746,"question_id":77180857,"body_markdown":"[my list containing fruits](https://i.stack.imgur.com/7D4AR.png)\r\n\r\n\r\ni&#39;d like for the code to pick (At random) a fruit from my list and then display it.\r\n\r\n\r\nthe code works currently but doesn&#39;t have the random function i&#39;d like for it to have. \r\nThis is a school project so any help is appreciated","title":"how do i change this to be able to generate a random item from my list?","body":"<p><a href=\"https://i.stack.imgur.com/7D4AR.png\" rel=\"nofollow noreferrer\">my list containing fruits</a></p>\n<p>i'd like for the code to pick (At random) a fruit from my list and then display it.</p>\n<p>the code works currently but doesn't have the random function i'd like for it to have.\nThis is a school project so any help is appreciated</p>\n"},{"tags":["java","callback"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1695678107,"post_id":77175832,"comment_id":136053936,"body_markdown":"It does&#39;t matter, so long as it&#39;s documented - the recipient then becomes responsible for managing it based on their needs and context","body":"It does&#39;t matter, so long as it&#39;s documented - the recipient then becomes responsible for managing it based on their needs and context"},{"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"score":0,"creation_date":1695758742,"post_id":77175832,"comment_id":136066683,"body_markdown":"That makes sense. I&#39;ve decided for now to have a separate ExcutorService for handling the callbacks.","body":"That makes sense. I&#39;ve decided for now to have a separate ExcutorService for handling the callbacks."}],"answers":[{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695738348,"creation_date":1695731980,"answer_id":77180114,"question_id":77175832,"body_markdown":"In my opinion, the best approach would be to provide the client with both options: with an Executor specified for the callback and without it, similar to how it&#39;s done in [CompletableStage][1]:\r\n\r\n    public CompletionStage&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action); // executes action on internal default executor\r\n\r\n    public CompletionStage&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action, Executor executor); // executes action on provided executor\r\n\r\nThis way, the client can choose which approach is more convenient for their use case.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html","title":"What thread should callbacks occur on in Java?","body":"<p>In my opinion, the best approach would be to provide the client with both options: with an Executor specified for the callback and without it, similar to how it's done in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\" rel=\"nofollow noreferrer\">CompletableStage</a>:</p>\n<pre><code>public CompletionStage&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action); // executes action on internal default executor\n\npublic CompletionStage&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action, Executor executor); // executes action on provided executor\n</code></pre>\n<p>This way, the client can choose which approach is more convenient for their use case.</p>\n"}],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695738348,"creation_date":1695677747,"question_id":77175832,"body_markdown":"I&#39;m developing a Java library that runs a scheduled task in a ScheduledExecutorService. If the user specifies callback(s), then after that task, those callback(s) will be invoked. \r\n\r\nRight now I just have the scheduler thread invoking the callbacks. Should those callbacks execute in their own ExecutorService in their own thread pool? ","title":"What thread should callbacks occur on in Java?","body":"<p>I'm developing a Java library that runs a scheduled task in a ScheduledExecutorService. If the user specifies callback(s), then after that task, those callback(s) will be invoked.</p>\n<p>Right now I just have the scheduler thread invoking the callbacks. Should those callbacks execute in their own ExecutorService in their own thread pool?</p>\n"},{"tags":["java","spring-boot","jackson","gson"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695654438,"post_id":77173564,"comment_id":136050031,"body_markdown":"No annotation needed, this generally works out of the box. When you say &quot;but as regards the contained fields, for obvious reasons, I do not obtain the respective subclasses&quot;, what *exactly* happens? Error message? No value? Something else?","body":"No annotation needed, this generally works out of the box. When you say &quot;but as regards the contained fields, for obvious reasons, I do not obtain the respective subclasses&quot;, what <i>exactly</i> happens? Error message? No value? Something else?"},{"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"score":0,"creation_date":1695654869,"post_id":77173564,"comment_id":136050124,"body_markdown":"i get a LinkedHashMap instead my CustomClass, and then i get error 500 when i try to invoke his methods.","body":"i get a LinkedHashMap instead my CustomClass, and then i get error 500 when i try to invoke his methods."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695655019,"post_id":77173564,"comment_id":136050163,"body_markdown":"What are you talking about? I don&#39;t see a `CustomClass` in your example. And you *can&#39;t* get a `Map`, because that doesn&#39;t fit in the `CustomForm` class. Please add the code that does the deserialization and add details about what actually happens when you run it.","body":"What are you talking about? I don&#39;t see a <code>CustomClass</code> in your example. And you <i>can&#39;t</i> get a <code>Map</code>, because that doesn&#39;t fit in the <code>CustomForm</code> class. Please add the code that does the deserialization and add details about what actually happens when you run it."},{"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"score":0,"creation_date":1695655737,"post_id":77173564,"comment_id":136050327,"body_markdown":"Sorry, I didn&#39;t explain well. When I invoke the getter method of the `CustomInfo info` property, I get `null`, but in the request that property is set.","body":"Sorry, I didn&#39;t explain well. When I invoke the getter method of the <code>CustomInfo info</code> property, I get <code>null</code>, but in the request that property is set."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":1,"creation_date":1695684667,"post_id":77173564,"comment_id":136054562,"body_markdown":"What serialization library are you using? You have tagged your question with both Jackson and Gson.  If you are using Jackson then take a look at @JsonTypeInfo e.g. here https://www.baeldung.com/java-jackson-polymorphic-deserialization","body":"What serialization library are you using? You have tagged your question with both Jackson and Gson.  If you are using Jackson then take a look at @JsonTypeInfo e.g. here <a href=\"https://www.baeldung.com/java-jackson-polymorphic-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/java-jackson-polymorphic-deserialization</a>"}],"answers":[{"tags":[],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695738282,"creation_date":1695738282,"answer_id":77180933,"question_id":77173564,"body_markdown":"Solved.\r\n\r\nThis constructor do the trick.\r\n\r\n    @JsonCreator\r\n    public CustomForm(\r\n            @JsonProperty(&quot;formid&quot;) String formId,\r\n            @JsonProperty(&quot;info&quot;) CustomInfo info,\r\n            @JsonProperty(&quot;items&quot;) List&lt;CustomItem&gt; items,\r\n            @JsonProperty(&quot;linkedSheetId&quot;) String linkedSheetId,\r\n            @JsonProperty(&quot;responderUri&quot;) String responderUri,\r\n            @JsonProperty(&quot;revisionId&quot;) String revisionId,\r\n            @JsonProperty(&quot;settings&quot;) FormSettings settings\r\n    ){\r\n        this.formId = formId;\r\n        this.info = info;\r\n        this.items = items;\r\n        this.linkedSheetId = linkedSheetId;\r\n        this.responderUri = responderUri;\r\n        this.revisionId = revisionId;\r\n        this.settings = settings;\r\n    }","title":"Deserialize nested classes of a request in Spring Boot","body":"<p>Solved.</p>\n<p>This constructor do the trick.</p>\n<pre><code>@JsonCreator\npublic CustomForm(\n        @JsonProperty(&quot;formid&quot;) String formId,\n        @JsonProperty(&quot;info&quot;) CustomInfo info,\n        @JsonProperty(&quot;items&quot;) List&lt;CustomItem&gt; items,\n        @JsonProperty(&quot;linkedSheetId&quot;) String linkedSheetId,\n        @JsonProperty(&quot;responderUri&quot;) String responderUri,\n        @JsonProperty(&quot;revisionId&quot;) String revisionId,\n        @JsonProperty(&quot;settings&quot;) FormSettings settings\n){\n    this.formId = formId;\n    this.info = info;\n    this.items = items;\n    this.linkedSheetId = linkedSheetId;\n    this.responderUri = responderUri;\n    this.revisionId = revisionId;\n    this.settings = settings;\n}\n</code></pre>\n"}],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77180933,"answer_count":1,"score":-1,"last_activity_date":1695738282,"creation_date":1695652375,"question_id":77173564,"body_markdown":"I have a problem with the deserialization of a request, which should translate into a java class with properties inside which are themselves other classes. The first level of deserialization works, but as regards the contained fields, for obvious reasons, I do not obtain the respective subclasses.\r\n\r\nThis is my code:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    \r\n    public class CustomForm extends GenericJson {\r\n    \r\n        private String formId;\r\n    \r\n        private CustomInfo info;\r\n    \r\n    \r\n        private List&lt;CustomItem&gt; items = new ArrayList&lt;&gt;();\r\n        \r\n        \r\n        private String linkedSheetId;\r\n        \r\n        \r\n        private String responderUri;\r\n        \r\n        \r\n        private String revisionId;\r\n        \r\n        \r\n        private FormSettings settings;\r\n    \r\n        public CustomForm(Form form){\r\n            BeanUtils.copyProperties(form, this);\r\n            if(form.getInfo() != null){\r\n                this.info = new CustomInfo(form.getInfo());\r\n            }\r\n            if(form.getItems() != null){\r\n                for(Item item:form.getItems()){\r\n                    this.items.add(new CustomItem(item));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Form getForm(){\r\n            Form form = new Form();\r\n            BeanUtils.copyProperties(this, form);\r\n            List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n            for(CustomItem item:this.items){\r\n                items.add(item.getItem());\r\n            }\r\n            form.setItems(items);\r\n            if(!this.info.isEmpty()) {\r\n                form.setInfo(this.info.getInfo());\r\n            }\r\n            return form;\r\n        }\r\n    }\r\n\r\nand this is my request:\r\n\r\n    {\r\n        &quot;formId&quot;: &quot;1234&quot;,\r\n        &quot;info&quot;: {\r\n            &quot;documentTitle&quot;: &quot;Untitled form&quot;,\r\n            &quot;title&quot;: &quot;prova&quot;\r\n        },\r\n        &quot;items&quot;: [\r\n            {\r\n                &quot;itemId&quot;: &quot;123&quot;,\r\n                &quot;questionItem&quot;: {\r\n                    &quot;question&quot;: {\r\n                        &quot;choiceQuestion&quot;: {\r\n                            &quot;options&quot;: [\r\n                                {\r\n                                    &quot;value&quot;: &quot;Newsletter&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Magazine&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Social Network&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Siti&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Associazioni di categoria&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Aziende partner&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;Comunicazione interna all\\u0027azienda&quot;\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: &quot;DROP_DOWN&quot;\r\n                        },\r\n                        &quot;questionId&quot;: &quot;123&quot;\r\n                    }\r\n                },\r\n                &quot;title&quot;: &quot;Come sei venuto a conoscenza di questo Corso?&quot;\r\n            },\r\n            {\r\n                &quot;itemId&quot;: &quot;123&quot;,\r\n                &quot;questionGroupItem&quot;: {\r\n                    &quot;grid&quot;: {\r\n                        &quot;columns&quot;: {\r\n                            &quot;options&quot;: [\r\n                                {\r\n                                    &quot;value&quot;: &quot;PESSIMO&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;MEDIOCRE&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;SUFFICIENTE&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;BUONO&quot;\r\n                                },\r\n                                {\r\n                                    &quot;value&quot;: &quot;OTTIMO&quot;\r\n                                }\r\n                            ],\r\n                            &quot;type&quot;: &quot;RADIO&quot;\r\n                        }\r\n                    },\r\n                    &quot;questions&quot;: [\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Pulizia delle aule&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Materiale fornito&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Competenza docente&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Completezza contenuti&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Applicabilit&#224; delle nozioni&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Rispondenza ad aspettative&quot;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;questionId&quot;: &quot;123&quot;,\r\n                            &quot;rowQuestion&quot;: {\r\n                                &quot;title&quot;: &quot;Gentilezza del personale&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ],\r\n        &quot;responderUri&quot;: &quot;https://example.om&quot;,\r\n        &quot;revisionId&quot;: &quot;00000005&quot;\r\n    }\r\n\r\nThe question is: is there any annotation that allows me to associate the request fields with their respective nested classes?","title":"Deserialize nested classes of a request in Spring Boot","body":"<p>I have a problem with the deserialization of a request, which should translate into a java class with properties inside which are themselves other classes. The first level of deserialization works, but as regards the contained fields, for obvious reasons, I do not obtain the respective subclasses.</p>\n<p>This is my code:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class CustomForm extends GenericJson {\n\n    private String formId;\n\n    private CustomInfo info;\n\n\n    private List&lt;CustomItem&gt; items = new ArrayList&lt;&gt;();\n    \n    \n    private String linkedSheetId;\n    \n    \n    private String responderUri;\n    \n    \n    private String revisionId;\n    \n    \n    private FormSettings settings;\n\n    public CustomForm(Form form){\n        BeanUtils.copyProperties(form, this);\n        if(form.getInfo() != null){\n            this.info = new CustomInfo(form.getInfo());\n        }\n        if(form.getItems() != null){\n            for(Item item:form.getItems()){\n                this.items.add(new CustomItem(item));\n            }\n        }\n    }\n\n    public Form getForm(){\n        Form form = new Form();\n        BeanUtils.copyProperties(this, form);\n        List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n        for(CustomItem item:this.items){\n            items.add(item.getItem());\n        }\n        form.setItems(items);\n        if(!this.info.isEmpty()) {\n            form.setInfo(this.info.getInfo());\n        }\n        return form;\n    }\n}\n</code></pre>\n<p>and this is my request:</p>\n<pre><code>{\n    &quot;formId&quot;: &quot;1234&quot;,\n    &quot;info&quot;: {\n        &quot;documentTitle&quot;: &quot;Untitled form&quot;,\n        &quot;title&quot;: &quot;prova&quot;\n    },\n    &quot;items&quot;: [\n        {\n            &quot;itemId&quot;: &quot;123&quot;,\n            &quot;questionItem&quot;: {\n                &quot;question&quot;: {\n                    &quot;choiceQuestion&quot;: {\n                        &quot;options&quot;: [\n                            {\n                                &quot;value&quot;: &quot;Newsletter&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Magazine&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Social Network&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Siti&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Associazioni di categoria&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Aziende partner&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;Comunicazione interna all\\u0027azienda&quot;\n                            }\n                        ],\n                        &quot;type&quot;: &quot;DROP_DOWN&quot;\n                    },\n                    &quot;questionId&quot;: &quot;123&quot;\n                }\n            },\n            &quot;title&quot;: &quot;Come sei venuto a conoscenza di questo Corso?&quot;\n        },\n        {\n            &quot;itemId&quot;: &quot;123&quot;,\n            &quot;questionGroupItem&quot;: {\n                &quot;grid&quot;: {\n                    &quot;columns&quot;: {\n                        &quot;options&quot;: [\n                            {\n                                &quot;value&quot;: &quot;PESSIMO&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;MEDIOCRE&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;SUFFICIENTE&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;BUONO&quot;\n                            },\n                            {\n                                &quot;value&quot;: &quot;OTTIMO&quot;\n                            }\n                        ],\n                        &quot;type&quot;: &quot;RADIO&quot;\n                    }\n                },\n                &quot;questions&quot;: [\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Pulizia delle aule&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Materiale fornito&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Competenza docente&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Completezza contenuti&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Applicabilità delle nozioni&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Rispondenza ad aspettative&quot;\n                        }\n                    },\n                    {\n                        &quot;questionId&quot;: &quot;123&quot;,\n                        &quot;rowQuestion&quot;: {\n                            &quot;title&quot;: &quot;Gentilezza del personale&quot;\n                        }\n                    }\n                ]\n            }\n        }\n    ],\n    &quot;responderUri&quot;: &quot;https://example.om&quot;,\n    &quot;revisionId&quot;: &quot;00000005&quot;\n}\n</code></pre>\n<p>The question is: is there any annotation that allows me to associate the request fields with their respective nested classes?</p>\n"},{"tags":["java","html","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695703740,"post_id":77177078,"comment_id":136056073,"body_markdown":"Swing&#39;s html rendering support is stuck a html 3.2(?) or there abouts, so it may simply not support the styles you&#39;re trying to apply","body":"Swing&#39;s html rendering support is stuck a html 3.2(?) or there abouts, so it may simply not support the styles you&#39;re trying to apply"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695703940,"post_id":77177078,"comment_id":136056089,"body_markdown":"You might like to also explain why the default behaviour doesn&#39;t work for you, as it seems to produce `...` just fine for me without an additional configuration","body":"You might like to also explain why the default behaviour doesn&#39;t work for you, as it seems to produce <code>...</code> just fine for me without an additional configuration"},{"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"score":0,"creation_date":1695704511,"post_id":77177078,"comment_id":136056156,"body_markdown":"Hi @MadProgrammer, my code works for you? You&#39;re able to have the header with icon, 2 rows, and ellipsis? When i reduce my column width, instead of ellipsis appearing, it simply clips my text. I&#39;m not sure why either.","body":"Hi @MadProgrammer, my code works for you? You&#39;re able to have the header with icon, 2 rows, and ellipsis? When i reduce my column width, instead of ellipsis appearing, it simply clips my text. I&#39;m not sure why either."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1695706073,"post_id":77177078,"comment_id":136056299,"body_markdown":"No, doing nothing works for me - if just use `new JTable(new DefaultTableModel(...))` with no custom renders, when I reduce the column size, the text gets appended with `...` until there&#39;s nothing left but `...`","body":"No, doing nothing works for me - if just use <code>new JTable(new DefaultTableModel(...))</code> with no custom renders, when I reduce the column size, the text gets appended with <code>...</code> until there&#39;s nothing left but <code>...</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1695738110,"post_id":77177078,"comment_id":136062712,"body_markdown":"1) Post an [mre] demonstrating the problem. 2) Maybe use a JPanel as the renderer. You could then created multiple labels to display the text so you don&#39;t need to use HTML.","body":"1) Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. 2) Maybe use a JPanel as the renderer. You could then created multiple labels to display the text so you don&#39;t need to use HTML."}],"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695738124,"creation_date":1695703531,"question_id":77177078,"body_markdown":"I have the following TableCellRenderer, it is able to display the icon and table header in 2 rows, but the problem is when i resize the column smaller, instead of displaying &quot;...&quot; ellipsis, the words simply gets clipped. Is there any way i can have the multi-line and ellipsis at the same time? I set nowrap because if the column becomes too small, the header gets wrapped into 4 or 5 rows which my header is only rendering 2 rows of text.\r\n\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int col) {\r\n    \tif (value instanceof JLabel){\r\n    \t\tJLabel l = (JLabel) value;\r\n    \t\tl.setIcon(icon);\r\n    \t\tl.setText(&quot;&lt;html&gt;&lt;div style=&#39;white-space: nowrap; text-overflow: ellipsis; overflow: hidden;&#39;&gt;My header text &lt;br&gt;is quite long&lt;/div&gt;&lt;html&gt;&quot;);\r\n    \r\n    \t\treturn l;\r\n    \t}\r\n    \treturn value;\r\n    }","title":"JTable header using &lt;html&gt; and &lt;br&gt; tag to show ellipsis when column too small","body":"<p>I have the following TableCellRenderer, it is able to display the icon and table header in 2 rows, but the problem is when i resize the column smaller, instead of displaying &quot;...&quot; ellipsis, the words simply gets clipped. Is there any way i can have the multi-line and ellipsis at the same time? I set nowrap because if the column becomes too small, the header gets wrapped into 4 or 5 rows which my header is only rendering 2 rows of text.</p>\n<pre><code>@Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int col) {\n    if (value instanceof JLabel){\n        JLabel l = (JLabel) value;\n        l.setIcon(icon);\n        l.setText(&quot;&lt;html&gt;&lt;div style='white-space: nowrap; text-overflow: ellipsis; overflow: hidden;'&gt;My header text &lt;br&gt;is quite long&lt;/div&gt;&lt;html&gt;&quot;);\n\n        return l;\n    }\n    return value;\n}\n</code></pre>\n"},{"tags":["java","anonymous-class"],"comments":[{"owner":{"account_id":1274,"reputation":134932,"user_id":1695,"accept_rate":53,"display_name":"Gishu"},"score":0,"creation_date":1227675159,"post_id":319765,"comment_id":160682,"body_markdown":"may i ask Why would you want to do that? Some context.. Not sure if its a good idea even if its possible.","body":"may i ask Why would you want to do that? Some context.. Not sure if its a good idea even if its possible."},{"owner":{"account_id":13745,"reputation":4707,"user_id":27784,"accept_rate":50,"display_name":"Saravanan M"},"score":0,"creation_date":1227704789,"post_id":319765,"comment_id":161287,"body_markdown":"I dont have any specific usecase. Just wanted to know if there is any mechanism other than reflection to query/access object members","body":"I dont have any specific usecase. Just wanted to know if there is any mechanism other than reflection to query/access object members"}],"answers":[{"tags":[],"owner":{"account_id":12659,"reputation":109857,"user_id":25050,"accept_rate":78,"display_name":"Mr Fooz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227679732,"creation_date":1227679732,"answer_id":319884,"question_id":319765,"body_markdown":"If it implements an interface or extends an existing class, you can access the members defined in the interface or base class.","title":"Accessing inner anonymous class members","body":"<p>If it implements an interface or extends an existing class, you can access the members defined in the interface or base class.</p>\n"},{"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1227679967,"creation_date":1227679967,"answer_id":319887,"question_id":319765,"body_markdown":"Mr Fooz is right, except that interfaces can only define constant members.  the best way would be to add getter/setter methods to your interface and then use those to get your value.  but then for each anonymous class you would have to define those methods (kind of a pain). ","title":"Accessing inner anonymous class members","body":"<p>Mr Fooz is right, except that interfaces can only define constant members.  the best way would be to add getter/setter methods to your interface and then use those to get your value.  but then for each anonymous class you would have to define those methods (kind of a pain). </p>\n"},{"tags":[],"owner":{"account_id":14947,"reputation":4778,"user_id":31118,"accept_rate":63,"display_name":"Ivan Dubrov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1227757517,"creation_date":1227683303,"answer_id":319953,"question_id":319765,"body_markdown":"You can use local classes instead anonymous class. Look:\r\n\r\n    public class Test {\r\n        public static void main(String... args) {\r\n            class MyInner {\r\n                private int value = 10;\r\n            }\r\n    \r\n            MyInner inner = new MyInner();\r\n            System.out.println(inner.value);\r\n        }\r\n    }\r\n\r\nYou can have reference of `MyInner` type only in the method body though. So outside of the method you will not be able to use its fields/methods that are not declared in its super class (`java.lang.Object` in this case) or interface.","title":"Accessing inner anonymous class members","body":"<p>You can use local classes instead anonymous class. Look:</p>\n\n<pre><code>public class Test {\n    public static void main(String... args) {\n        class MyInner {\n            private int value = 10;\n        }\n\n        MyInner inner = new MyInner();\n        System.out.println(inner.value);\n    }\n}\n</code></pre>\n\n<p>You can have reference of <code>MyInner</code> type only in the method body though. So outside of the method you will not be able to use its fields/methods that are not declared in its super class (<code>java.lang.Object</code> in this case) or interface.</p>\n"},{"tags":[],"owner":{"display_name":"geeeeeeeeeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227690254,"creation_date":1227690254,"answer_id":320106,"question_id":319765,"body_markdown":"&lt;pre&gt;&lt;code&gt;\r\npublic class AccessAnonymous {\r\n\tprivate Runnable runnable; // to have instance of the class\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tAccessAnonymous a = new AccessAnonymous();\r\n\t\ta.a(); // init field\r\n\r\n\t\tClass&lt;?&gt; clazz = a.runnable.getClass();\r\n\t\tField field = clazz.getDeclaredField(&quot;i&quot;);\r\n\t\tfield.setAccessible(true);\r\n\r\n\t\tint int1 = field.getInt(a.runnable);\r\n\t\tSystem.out.println(&quot;int1=&quot; + int1);\r\n\t}\r\n\r\n\tpublic void a() {\r\n\t\trunnable = new Runnable() {\r\n\t\t\tprivate int i = 1;\r\n\r\n\t\t\tpublic void run() {\r\n\t\t\t\ti = 90;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\trunnable.run();// change value\r\n\t}\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Accessing inner anonymous class members","body":"<pre><code>\npublic class AccessAnonymous {\n    private Runnable runnable; // to have instance of the class\n\n    public static void main(String[] args) throws Exception {\n        AccessAnonymous a = new AccessAnonymous();\n        a.a(); // init field\n\n        Class clazz = a.runnable.getClass();\n        Field field = clazz.getDeclaredField(\"i\");\n        field.setAccessible(true);\n\n        int int1 = field.getInt(a.runnable);\n        System.out.println(\"int1=\" + int1);\n    }\n\n    public void a() {\n        runnable = new Runnable() {\n            private int i = 1;\n\n            public void run() {\n                i = 90;\n            }\n\n        };\n        runnable.run();// change value\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1227699868,"creation_date":1227699868,"answer_id":320426,"question_id":319765,"body_markdown":"Anonymous inner classes have a type but no name.\r\n\r\nYou can access fields not defined by the named supertype. However once assigned to a named type variable, the interface is lost.\r\n\r\nObviously, you can access the fields from within the inner class itself. One way of adding code is through an instance initialiser:\r\n\r\n    final AtomicInteger y = new AtomicInteger();\r\n    new Runnable() {\r\n        int x;\r\n        {\r\n            x = 5;\r\n            doRun(this);\r\n            y.set(x);\r\n        }\r\n        public void run() {\r\n            ... blah ...\r\n        }\r\n    };\r\n\r\nThe value returned by the anonymous inner class expression has the anonymous type, so you have one chance to use it outside of the class itself:\r\n\r\n    final int y = new Runnable() {\r\n        int x;\r\n        {\r\n            x = 5;\r\n            doRun(this);\r\n        }\r\n        public void run() {\r\n            ... blah ...\r\n        }\r\n    }.x;\r\n\r\nYou can also pass it through a method declared similar to:\r\n\r\n    &lt;T extends Runnable&gt; T doRun(T runnable);","title":"Accessing inner anonymous class members","body":"<p>Anonymous inner classes have a type but no name.</p>\n\n<p>You can access fields not defined by the named supertype. However once assigned to a named type variable, the interface is lost.</p>\n\n<p>Obviously, you can access the fields from within the inner class itself. One way of adding code is through an instance initialiser:</p>\n\n<pre><code>final AtomicInteger y = new AtomicInteger();\nnew Runnable() {\n    int x;\n    {\n        x = 5;\n        doRun(this);\n        y.set(x);\n    }\n    public void run() {\n        ... blah ...\n    }\n};\n</code></pre>\n\n<p>The value returned by the anonymous inner class expression has the anonymous type, so you have one chance to use it outside of the class itself:</p>\n\n<pre><code>final int y = new Runnable() {\n    int x;\n    {\n        x = 5;\n        doRun(this);\n    }\n    public void run() {\n        ... blah ...\n    }\n}.x;\n</code></pre>\n\n<p>You can also pass it through a method declared similar to:</p>\n\n<pre><code>&lt;T extends Runnable&gt; T doRun(T runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18116,"reputation":39298,"user_id":41200,"accept_rate":73,"display_name":"sdellysse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227747641,"creation_date":1227747641,"answer_id":322669,"question_id":319765,"body_markdown":"If you want readable, maintainable code, don&#39;t use anonymous classes. If you use anonymous classes and want readable, maintainable code, don&#39;t use anonymous classes when you need to access the element in that inner class. There are ways of doing so, but I beg of you to not use any of those hacks. Readability trumps all other virtues.","title":"Accessing inner anonymous class members","body":"<p>If you want readable, maintainable code, don't use anonymous classes. If you use anonymous classes and want readable, maintainable code, don't use anonymous classes when you need to access the element in that inner class. There are ways of doing so, but I beg of you to not use any of those hacks. Readability trumps all other virtues.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227757917,"creation_date":1227757917,"answer_id":322896,"question_id":319765,"body_markdown":"In the case of anonymous classes, there is also a tradeoff between the clutter caused by the class and the convenience of having it anonymous. Complicated classes rarely belong as anonymous but rather as named private inner. \r\n\r\nIn most anonymous classes, we only need to &quot;feed&quot; knowledge and can do it at construction.\r\nIn a few anonymous classes (e.g., return value vehicles) we also care about one return value.\r\n\r\nAs we know, data members should not directly be accessed but rather with a getter setter. This, if you find yourself in a situation that you have added lots of getters and setters, you are probably doing something wrong anyway and shouldn&#39;t be using an anonymous class.\r\n","title":"Accessing inner anonymous class members","body":"<p>In the case of anonymous classes, there is also a tradeoff between the clutter caused by the class and the convenience of having it anonymous. Complicated classes rarely belong as anonymous but rather as named private inner. </p>\n\n<p>In most anonymous classes, we only need to \"feed\" knowledge and can do it at construction.\nIn a few anonymous classes (e.g., return value vehicles) we also care about one return value.</p>\n\n<p>As we know, data members should not directly be accessed but rather with a getter setter. This, if you find yourself in a situation that you have added lots of getters and setters, you are probably doing something wrong anyway and shouldn't be using an anonymous class.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736348,"creation_date":1695728838,"answer_id":77179732,"question_id":319765,"body_markdown":"This question is 15 years old, but I think there is another way to do this!\r\n\r\nThe example concerns writing a unit test for MyService:\r\n\r\n    public class MyService {\r\n\r\n        public Result doSomething() {\r\n            Result result = new Result();\r\n            result.setToday(today();\r\n            return result;\r\n        }\r\n\r\n        // not private but package-private so it can be overridden\r\n        Date today() {\r\n            return new Date();\r\n        }\r\n    }\r\n\r\nHere is the unit test: \r\n\r\n    public class MyServiceTest {\r\n\r\n        private Date capturedToday;\r\n\r\n        // anonymous inner class\r\n        private final MyService testSubject = new MyService() {\r\n\r\n            @Override\r\n            Date today() {\r\n                // capture the Date instance created by MyService\r\n                Date today = super.today();\r\n                MyServiceTest.this.capturedToday = today;\r\n                return today;\r\n            }\r\n        };\r\n\r\n        @Test\r\n        void myTest() {\r\n\r\n            MyResult result = testSubject.doSomething();            \r\n            assertSame(capturedToday, result.getToday());\r\n\r\nIn this example MyService creates a Date internally and sets it on its result. To check this logic I created an anonymous inner class which captures the instance when it is created and stores it in the capturedToday field:\r\n\r\n    MyServiceTest.this.capturedToday = today;\r\n\r\nThis syntax allows an inner class to access fields of its outer class and thus to expose its values.\r\n\r\n","title":"Accessing inner anonymous class members","body":"<p>This question is 15 years old, but I think there is another way to do this!</p>\n<p>The example concerns writing a unit test for MyService:</p>\n<pre><code>public class MyService {\n\n    public Result doSomething() {\n        Result result = new Result();\n        result.setToday(today();\n        return result;\n    }\n\n    // not private but package-private so it can be overridden\n    Date today() {\n        return new Date();\n    }\n}\n</code></pre>\n<p>Here is the unit test:</p>\n<pre><code>public class MyServiceTest {\n\n    private Date capturedToday;\n\n    // anonymous inner class\n    private final MyService testSubject = new MyService() {\n\n        @Override\n        Date today() {\n            // capture the Date instance created by MyService\n            Date today = super.today();\n            MyServiceTest.this.capturedToday = today;\n            return today;\n        }\n    };\n\n    @Test\n    void myTest() {\n\n        MyResult result = testSubject.doSomething();            \n        assertSame(capturedToday, result.getToday());\n</code></pre>\n<p>In this example MyService creates a Date internally and sets it on its result. To check this logic I created an anonymous inner class which captures the instance when it is created and stores it in the capturedToday field:</p>\n<pre><code>MyServiceTest.this.capturedToday = today;\n</code></pre>\n<p>This syntax allows an inner class to access fields of its outer class and thus to expose its values.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695738038,"creation_date":1695738038,"answer_id":77180898,"question_id":319765,"body_markdown":"You can access the members of an anonymous class from inside the block (or sub-block) it was *declared* in, if using `var`. Example:\r\n\r\n````java\r\npublic static void main(String[] args) {\r\n    var annon = new Object() {\r\n        int field;\r\n        void method() {\r\n            System.out.println(&quot;method called with field=&quot; + field);\r\n        }\r\n    };\r\n\r\n    annon.field = 123;\r\n    annon.method();  // prints &quot;method called with field=123&quot;\r\n}\r\n````\r\n\r\nThis even works if the members were declared `static`.\r\n\r\nIf we had declared `Object annon = new Object() { ...` we would get compilation errors since `Object` does not have any `field` or `method()` members.","title":"Accessing inner anonymous class members","body":"<p>You can access the members of an anonymous class from inside the block (or sub-block) it was <em>declared</em> in, if using <code>var</code>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var annon = new Object() {\n        int field;\n        void method() {\n            System.out.println(&quot;method called with field=&quot; + field);\n        }\n    };\n\n    annon.field = 123;\n    annon.method();  // prints &quot;method called with field=123&quot;\n}\n</code></pre>\n<p>This even works if the members were declared <code>static</code>.</p>\n<p>If we had declared <code>Object annon = new Object() { ...</code> we would get compilation errors since <code>Object</code> does not have any <code>field</code> or <code>method()</code> members.</p>\n"}],"owner":{"account_id":13745,"reputation":4707,"user_id":27784,"accept_rate":50,"display_name":"Saravanan M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9594,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":320426,"answer_count":9,"score":7,"last_activity_date":1695738038,"creation_date":1227674843,"question_id":319765,"body_markdown":"Is there any way other than using reflection to access the members of a anonymous inner class?","title":"Accessing inner anonymous class members","body":"<p>Is there any way other than using reflection to access the members of a anonymous inner class?</p>\n"},{"tags":["java","spring-integration","slf4j","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1695967959,"post_id":77180896,"comment_id":136096376,"body_markdown":"Welcome to Stack Overflow. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Feel free to link to a minimal Maven oder Gradle project on GitHub. Nobody wants to recreate your situation locally, making educated guesses about what your incomplete and missing classes realy look like. Thank you.","body":"Welcome to Stack Overflow. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Feel free to link to a minimal Maven oder Gradle project on GitHub. Nobody wants to recreate your situation locally, making educated guesses about what your incomplete and missing classes realy look like. Thank you."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1696257066,"post_id":77180896,"comment_id":136126393,"body_markdown":"You create `TestLogger` against `DefaultErrorChannelServiceActivator.class` category, but your `DefaultErrorChannelServiceActivator` might be in different package, so its `log.error()` just is not visible for that custom logger.","body":"You create <code>TestLogger</code> against <code>DefaultErrorChannelServiceActivator.class</code> category, but your <code>DefaultErrorChannelServiceActivator</code> might be in different package, so its <code>log.error()</code> just is not visible for that custom logger."},{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1696267754,"post_id":77180896,"comment_id":136128347,"body_markdown":"@ArtemBilan - My DefaultErrorChannelServiceActivator is in my base package, along with the test itself. `com.my.package.structure.engage` and my test in is the same directory.","body":"@ArtemBilan - My DefaultErrorChannelServiceActivator is in my base package, along with the test itself. <code>com.my.package.structure.engage</code> and my test in is the same directory."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1696271225,"post_id":77180896,"comment_id":136129006,"body_markdown":"OK. I&#39;m not familiar with that `TestLogger`, but let&#39;s see if that has a variant like this `TestLoggerFactory.getTestLogger(&#39;com.my.package.structure.engage&#39;)`! Otherwise I&#39;d suggest to debug it to investigate what is going on. Doesn&#39;t looks like anything Spring related...","body":"OK. I&#39;m not familiar with that <code>TestLogger</code>, but let&#39;s see if that has a variant like this <code>TestLoggerFactory.getTestLogger(&#39;com.my.package.structure.en&zwnj;&#8203;gage&#39;)</code>! Otherwise I&#39;d suggest to debug it to investigate what is going on. Doesn&#39;t looks like anything Spring related..."}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695738030,"creation_date":1695738030,"question_id":77180896,"body_markdown":"I created a custom error logger based on the type of MessagingException is thrown during process based on what the `InstanceOf` is in the payload.\r\n\r\n```\r\n    @ServiceActivator\r\n    public void handleThrowable(Message&lt;Throwable&gt; errorMessage) {\r\n\r\n        var throwable = errorMessage.getPayload();\r\n        log.error(&quot;Error in Processing. Message: {}&quot;, throwable.getMessage(), throwable);\r\n\r\n        if (throwable instanceof MessagingException) {\r\n            var messagingException = (MessagingException) throwable;\r\n            var failedMessage = messagingException.getFailedMessage();\r\n            log.error(&quot;Failed Message: {}&quot;, failedMessage);\r\n\r\n            if (!Objects.isNull(failedMessage)) {\r\n                var msg = failedMessage.getPayload();\r\n                var headers = failedMessage.getHeaders();\r\n\r\n                if (msg instanceof File) {\r\n                    log.error(&quot;Failed consuming File: {}&quot;, ((File) msg).getAbsolutePath());\r\n                }\r\n\r\n                if (msg instanceof String) {\r\n                    log.error(&quot;Failed to create a CsvEmailInteraction from line {}. Line was: {}&quot;, headers.get(IntegrationMessageHeaderAccessor.SEQUENCE_NUMBER), msg);\r\n                }\r\n\r\n                if (msg instanceof CsvEmailInteraction) {\r\n                    var csvObject = (CsvEmailInteraction) msg;\r\n                    log.error(&quot;Failed to publish CsvEmailInteraction to Kafka. messageId was: {}&quot;, csvObject.getMessageId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nHere is a current working test. I&#39;ve tried to bring in a `SLF4J Test &#187; 1.2.0`, however the commented out part in the then statement, the logging list never gets populated.\r\n\r\n```\r\nclass DefaultErrorChannelServiceActivatorSpec extends Specification {\r\n\r\n    def serviceActivator = new DefaultErrorChannelServiceActivator()\r\n    TestLogger testLogger = TestLoggerFactory.getTestLogger(DefaultErrorChannelServiceActivator.class)\r\n\r\n    def &quot;test handleThrowable with MessagingException instance of String&quot;() {\r\n        given:\r\n\r\n        // Create a MessagingException with a failed message\r\n        def failedMessage = new GenericMessage&lt;&gt;(&quot;This is a failed string message&quot;)\r\n        def messagingException = Mock(MessagingException)\r\n        testLogger.clear()\r\n\r\n        Message&lt;Throwable&gt; throwableMessage = MessageBuilder.withPayload(messagingException).build()\r\n\r\n        when:\r\n        serviceActivator.handleThrowable(throwableMessage)\r\n\r\n        then:\r\n        1 * messagingException.getFailedMessage() &gt;&gt; failedMessage\r\n//        def logs = testLogger.getAllLoggingEvents()\r\n//        logs.contains(&quot;Failed Message&quot;)\r\n\r\n    }\r\n```\r\nI only posted the String portion of the test, as they will be fairly the same with the logging messages being slightly different. Any help is much appreciated.","title":"Test Logging Statements in an error handler","body":"<p>I created a custom error logger based on the type of MessagingException is thrown during process based on what the <code>InstanceOf</code> is in the payload.</p>\n<pre><code>    @ServiceActivator\n    public void handleThrowable(Message&lt;Throwable&gt; errorMessage) {\n\n        var throwable = errorMessage.getPayload();\n        log.error(&quot;Error in Processing. Message: {}&quot;, throwable.getMessage(), throwable);\n\n        if (throwable instanceof MessagingException) {\n            var messagingException = (MessagingException) throwable;\n            var failedMessage = messagingException.getFailedMessage();\n            log.error(&quot;Failed Message: {}&quot;, failedMessage);\n\n            if (!Objects.isNull(failedMessage)) {\n                var msg = failedMessage.getPayload();\n                var headers = failedMessage.getHeaders();\n\n                if (msg instanceof File) {\n                    log.error(&quot;Failed consuming File: {}&quot;, ((File) msg).getAbsolutePath());\n                }\n\n                if (msg instanceof String) {\n                    log.error(&quot;Failed to create a CsvEmailInteraction from line {}. Line was: {}&quot;, headers.get(IntegrationMessageHeaderAccessor.SEQUENCE_NUMBER), msg);\n                }\n\n                if (msg instanceof CsvEmailInteraction) {\n                    var csvObject = (CsvEmailInteraction) msg;\n                    log.error(&quot;Failed to publish CsvEmailInteraction to Kafka. messageId was: {}&quot;, csvObject.getMessageId());\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Here is a current working test. I've tried to bring in a <code>SLF4J Test » 1.2.0</code>, however the commented out part in the then statement, the logging list never gets populated.</p>\n<pre><code>class DefaultErrorChannelServiceActivatorSpec extends Specification {\n\n    def serviceActivator = new DefaultErrorChannelServiceActivator()\n    TestLogger testLogger = TestLoggerFactory.getTestLogger(DefaultErrorChannelServiceActivator.class)\n\n    def &quot;test handleThrowable with MessagingException instance of String&quot;() {\n        given:\n\n        // Create a MessagingException with a failed message\n        def failedMessage = new GenericMessage&lt;&gt;(&quot;This is a failed string message&quot;)\n        def messagingException = Mock(MessagingException)\n        testLogger.clear()\n\n        Message&lt;Throwable&gt; throwableMessage = MessageBuilder.withPayload(messagingException).build()\n\n        when:\n        serviceActivator.handleThrowable(throwableMessage)\n\n        then:\n        1 * messagingException.getFailedMessage() &gt;&gt; failedMessage\n//        def logs = testLogger.getAllLoggingEvents()\n//        logs.contains(&quot;Failed Message&quot;)\n\n    }\n</code></pre>\n<p>I only posted the String portion of the test, as they will be fairly the same with the logging messages being slightly different. Any help is much appreciated.</p>\n"},{"tags":["java","kotlin","geolocation","geohashing"],"owner":{"account_id":7174689,"reputation":822,"user_id":5481069,"display_name":"Psijic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695737937,"creation_date":1695737937,"question_id":77180885,"body_markdown":"I have issues with finding N closest points using geohash. Currently I have done it with the location, need to change it with geohash usage (suppose, it should be faster if I already have 10-length geohashes in my POI).\r\n\r\n    fun closestItems(items: List&lt;Item&gt;, centralPoint: LatLng, maxCount: Int): List&lt;Item&gt; {\r\n        // Calculate the squared distance for each item to the central point\r\n        val itemsWithDistance = items.map { item -&gt;\r\n            val latDiff = item.latLng.latitude - centralPoint.latitude\r\n            val lngDiff = item.latLng.longitude - centralPoint.longitude\r\n            val distanceSquared = latDiff.pow(2) + lngDiff.pow(2)\r\n            Pair(item, distanceSquared)\r\n        }\r\n    \r\n        // Sort the items by distance\r\n        val sortedItems = itemsWithDistance.sortedBy { it.second }\r\n    \r\n        // Take the closest 5000 items or less if there are fewer items\r\n        val closestItems = sortedItems.take(maxCount.coerceAtMost(items.size))\r\n    \r\n        return closestItems.map { it.first }\r\n    }\r\n\r\nAny common programming language is fine.","title":"Find N closest points with geohash","body":"<p>I have issues with finding N closest points using geohash. Currently I have done it with the location, need to change it with geohash usage (suppose, it should be faster if I already have 10-length geohashes in my POI).</p>\n<pre><code>fun closestItems(items: List&lt;Item&gt;, centralPoint: LatLng, maxCount: Int): List&lt;Item&gt; {\n    // Calculate the squared distance for each item to the central point\n    val itemsWithDistance = items.map { item -&gt;\n        val latDiff = item.latLng.latitude - centralPoint.latitude\n        val lngDiff = item.latLng.longitude - centralPoint.longitude\n        val distanceSquared = latDiff.pow(2) + lngDiff.pow(2)\n        Pair(item, distanceSquared)\n    }\n\n    // Sort the items by distance\n    val sortedItems = itemsWithDistance.sortedBy { it.second }\n\n    // Take the closest 5000 items or less if there are fewer items\n    val closestItems = sortedItems.take(maxCount.coerceAtMost(items.size))\n\n    return closestItems.map { it.first }\n}\n</code></pre>\n<p>Any common programming language is fine.</p>\n"},{"tags":["java","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":427477,"reputation":148,"user_id":809265,"display_name":"jarbot"},"score":1,"creation_date":1649611392,"post_id":51300061,"comment_id":126914165,"body_markdown":"Did you ever determine what the issue was with having multiple datasources and how it affects performance? We&#39;re facing the same issue.","body":"Did you ever determine what the issue was with having multiple datasources and how it affects performance? We&#39;re facing the same issue."},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1695809189,"post_id":51300061,"comment_id":136072802,"body_markdown":"Maybe you can use JVisualVM to find what is going wrong.","body":"Maybe you can use JVisualVM to find what is going wrong."}],"answers":[{"tags":[],"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695737836,"creation_date":1695737836,"answer_id":77180864,"question_id":51300061,"body_markdown":"While switching from one to two DataSources I experineced the same behavior. The performance dramatically went down.\r\n\r\nIt turned out that I also changed the datasource type to the vendors driver from `spring.datasource.db1.type: org.apache.tomcat.jdbc.pool.DataSource` to `spring.datasource.db1.type: oracle.jdbc.pool.OracleDataSource`.\r\n\r\nThat was a bad idea.. \r\n\r\nSwitching back to typ *org.apache.tomcat.jdbc.pool.DataSource* it was fast as before.","title":"Slow down performance when using multiple dataSources in Spring Boot, JPA","body":"<p>While switching from one to two DataSources I experineced the same behavior. The performance dramatically went down.</p>\n<p>It turned out that I also changed the datasource type to the vendors driver from <code>spring.datasource.db1.type: org.apache.tomcat.jdbc.pool.DataSource</code> to <code>spring.datasource.db1.type: oracle.jdbc.pool.OracleDataSource</code>.</p>\n<p>That was a bad idea..</p>\n<p>Switching back to typ <em>org.apache.tomcat.jdbc.pool.DataSource</em> it was fast as before.</p>\n"}],"owner":{"account_id":13713009,"reputation":76,"user_id":9894801,"display_name":"Phan Huu Tho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695737836,"creation_date":1531381742,"question_id":51300061,"body_markdown":"I need to persist a lot of entities into database.\r\nWhen I have only one data source.\r\nI used  `JpaRepository.saveAndFlush(entity)` to persist data. I also used\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n    ....\r\n    JpaRepository.saveAndFlush(entity)\r\n    ....\r\n    entityManager.clear();\r\nThis technique helps me speed up performances.\r\n\r\nBut when I change into using multiple data source. I also use the same technique, it doesnt work anymore. It took several hours for creating data instead of 15 mins.\r\n\r\n    @PersistenceContext\r\n    EntityManager db1EntityManager;\r\n    ....\r\n    JpaRepository.saveAndFlush(entity)\r\n    ....\r\n    db1EntityManager.clear();\r\n\r\nHere is my configure file\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;db1EntityManagerFactory&quot;,\r\n            basePackages = { &quot;com.repository&quot; }\r\n    )\r\n    public class db1Config {\r\n       @Autowired\r\n       private Environment env;\r\n       @Primary\r\n       @Bean(name = &quot;dataSource&quot;)\r\n       @ConfigurationProperties(prefix = &quot;db1.datasource&quot;)\r\n       public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(env.getProperty(&quot;db1.datasource.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;db1.datasource.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;db1.datasource.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;db1.datasource.password&quot;));\r\n\r\n        return dataSource;\r\n       }\r\n\r\n       @Primary\r\n       @Bean(name = &quot;db1EntityManagerFactory&quot;)\r\n       public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource)\r\n       {\r\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n                env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(&quot;hibernate.dialect&quot;));\r\n\r\n        return builder\r\n                .dataSource(dataSource)\r\n                .packages(&quot;com.db1.model&quot;)\r\n                .properties(properties)\r\n                .build();\r\n      }\r\n\r\n       @Primary\r\n       @Bean(name = &quot;transactionManager&quot;)\r\n       public PlatformTransactionManager transactionManager(\r\n            @Qualifier(&quot;db1EntityManagerFactory&quot;) EntityManagerFactory db1EntityManagerFactory)\r\n      {\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(db1EntityManagerFactory);\r\n        return transactionManager;\r\n       }\r\n    }\r\n\r\n\r\nPerformance result:\r\n\r\nWith 1,2k records:\r\n\r\n  1. Single data source for the first time create and reload data: 15 seconds\r\n\r\n  2. Multiple datasource: first time: 8,5 mins, reload data: 15 seconds.\r\n\r\n\r\nWith 65k records:\r\n\r\n  1. Single data source for the first time create and reload data: 15 minutes\r\n\r\n  2. Multiple datasource: first time: several hours\r\n\r\n\r\n\r\nDetailed code for creating and reloading data.\r\nFor the single data source: \r\n\r\n\r\n    public class ProcessDataController {\r\n    public static final String CSV_URL = &quot;C:\\\\abc.csv&quot;;\r\n    List&lt;CSVSales&gt; data = new ArrayList&lt;&gt;();\r\n    @Autowired\r\n    private ARepository aRepository;\r\n    \r\n    @Autowired\r\n    private BRepository bRepository;\r\n    \r\n    @Autowired\r\n    private CRepository cRepository;\r\n    \r\n    @Autowired\r\n    private DRepository dRepository;\r\n    \r\n    @Autowired\r\n    private ERepository eRepository;\r\n    \r\n    @Autowired\r\n    private FRepository fRepository;\r\n    \r\n    @Autowired\r\n    private GRepository gRepository;\r\n    \r\n    @Autowired\r\n    private HRepository hRepository;\r\n    \r\n    @Autowired\r\n    private IRepository iRepository;\r\n    \r\n    @Autowired\r\n    private KRepository kRepository;\r\n    \r\n    @Autowired\r\n    private LRepository lRepository;\r\n    \r\n    @Autowired\r\n    EntityManger entityManager;\r\n    public void createData() throws IOException, ParseException {\r\n        // BEGIN - For TESTING\r\n        long step[] = new long[20];\r\n        double timer[] = new double[20];\r\n        ArrayList&lt;String&gt; table = new ArrayList&lt;&gt;();\r\n        table.add(&quot;A&quot;);\r\n        table.add(&quot;B&quot;);\r\n        table.add(&quot;C&quot;);\r\n        table.add(&quot;D&quot;);\r\n        table.add(&quot;E&quot;);\r\n        table.add(&quot;F&quot;);\r\n        table.add(&quot;G&quot;);\r\n        table.add(&quot;H&quot;);\r\n        table.add(&quot;I&quot;);\r\n        table.add(&quot;K&quot;);\r\n        table.add(&quot;L&quot;);\r\n        // END - For TESTING\r\n    \r\n        CSVReadAndParse readAndParse = new CSVReadAndParse();\r\n        readAndParse.setUrl(CSV_URL);\r\n    \r\n        step[0] = System.nanoTime();\r\n        data = readAndParse.getResult();\r\n        step[1] = System.nanoTime();\r\n        timer[0] = step[1] - step[0];\r\n    \r\n        for (int num = 0; num &lt; data.size(); num++) {\r\n            step[0] = System.nanoTime();\r\n            A a = new A(data.get(num).getACode(), data.get(num).getAName());\r\n            aRepository.saveAndFlush(a);\r\n            step[1] = System.nanoTime();\r\n            timer[1] += step[1] - step[0];\r\n    \r\n    \r\n            B b = new B(data.get(num).getBCode(), data.get(num).getBName());\r\n            bRepository.saveAndFlush(b);\r\n            step[2] = System.nanoTime();\r\n            timer[2] += step[2] - step[1];\r\n    \r\n            C c = new C(data.get(num).getC());\r\n            cRepository.saveAndFlush(c);\r\n            step[3] = System.nanoTime();\r\n            timer[3] += step[3] - step[2];\r\n    \r\n            D d = new D(data.get(num).getDCode(), data.get(num).getDName());\r\n            dRepository.saveAndFlush(d);\r\n            step[4] = System.nanoTime();\r\n            timer[4] += step[4] - step[3];\r\n    \r\n            E e = new E(data.get(num).getECode(), data.get(num).getEName());\r\n            eRepository.saveAndFlush(e);\r\n            step[5] = System.nanoTime();\r\n            timer[5] += step[5] - step[4];\r\n    \r\n            F f = new F(data.get(num).getF());\r\n            fRepository.saveAndFlush(month);\r\n            step[6] = System.nanoTime();\r\n            timer[6] += step[6] - step[5];\r\n    \r\n            G g = new G(data.get(num).getGCode(), data.get(num).getGName());\r\n            gRepository.saveAndFlush(g);\r\n            step[7] = System.nanoTime();\r\n            timer[7] += step[7] - step[6];\r\n    \r\n            H h = new H(data.get(num).getHCode(), data.get(num).getHName());\r\n            pRepository.saveAndFlush(h);\r\n            step[8] = System.nanoTime();\r\n            timer[8] += step[8] - step[7];\r\n    \r\n            I i = new I(data.get(num).getICode(), data.get(num).getIName());\r\n            iRepository.saveAndFlush(i);\r\n            step[9] = System.nanoTime();\r\n            timer[9] += step[9] - step[8];\r\n    \r\n            K k = new K(data.get(num).getK());\r\n            kRepository.saveAndFlush(k);\r\n            step[10] = System.nanoTime();\r\n            timer[10] += step[10] - step[9];\r\n    \r\n    \r\n            L l = new L();\r\n            L.setA(data.get(num).getNumberOfSale());\r\n            L.setB(data.get(num).getSalesAmount());\r\n            l.setC(a);\r\n            l.setC(b);\r\n            l.setD(c);\r\n            l.setE(d);\r\n            l.setF(e);\r\n            l.setG(f);\r\n            l.setH(g);\r\n            l.setI(h);\r\n            l.setK(i);\r\n            fRepository.saveAndFlush(l);\r\n            step[11] = System.nanoTime();\r\n            timer[11] += step[11] - step[10];\r\n            entityManager.clear();\r\n        }\r\n        double sum = 0;\r\n        for (int i = 1; i &lt;= 11; i++) {\r\n            System.out.println(table.get(i - 1) + &quot; time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(timer[i] / 1000000000) + &quot; seconds&quot;);\r\n            sum += timer[i];\r\n        }\r\n        System.out.println(&quot;Reading data time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(timer[0] / 1000000000) + &quot; seconds&quot;);\r\n        System.out.println(&quot;Total creating table time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(sum / 1000000000) + &quot; seconds&quot;);\r\n    }\r\n    public void deleteAllData() {\r\n        lRepository.deleteAll();\r\n        aRepository.deleteAll();\r\n        bRepository.deleteAll();\r\n        cRepository.deleteAll();\r\n        eRepository.deleteAll();\r\n        fRepository.deleteAll();\r\n        gRepository.deleteAll();\r\n        hRepository.deleteAll();\r\n        iRepository.deleteAll();\r\n        kRepository.deleteAll();\r\n    }\r\n    @RequestMapping(value = &quot;/api/reloadData&quot;, method = RequestMethod.GET)\r\n    public  String reloadData() throws IOException, ParseException {\r\n        System.out.println(&quot;------------------------&quot; + acessDB);\r\n        if (acessDB) {\r\n            acessDB = false;\r\n            long step1 = System.nanoTime();\r\n            deleteAllData();\r\n            long step2 = System.nanoTime();\r\n            createData();\r\n            long step3 = System.nanoTime();\r\n            double time1 = ((double) (step2 - step1) / 1000000000);\r\n            double time2 = ((double) (step3 - step2) / 1000000000);\r\n            double time3 = ((double) (step3 - step1) / 1000000000);\r\n            System.out.println(&quot;Delete time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time1) + &quot; Seconds&quot;);\r\n            System.out.println(&quot;Create time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time2) + &quot; Seconds&quot;);\r\n            System.out.println(&quot;Total time: &quot; + new DecimalFormat(&quot;#.##########&quot;).format(time3) + &quot; Seconds&quot;);\r\n            acessDB = true;\r\n            return &quot;Done&quot;;\r\n        } else {\r\n            return &quot;Busy&quot;;\r\n        }\r\n    }\r\n\r\nFor multiple data source, I just change the @Autowired of EntityManager into @PersistenceContext like I said before.\r\n\r\nand the main file.\r\n\r\n    public class EtlApplication implements CommandLineRunner {\r\n    public static boolean acessDB = true;\r\n    \r\n    @Autowired\r\n    ProcessDataController processDataController;\r\n    \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EtlApplication.class, args);\r\n    }\r\n    \r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        acessDB = false;\r\n        processDataController.createData();\r\n        acessDB = true;\r\n    }\r\n    }\r\n\r\nThank you for all your support.","title":"Slow down performance when using multiple dataSources in Spring Boot, JPA","body":"<p>I need to persist a lot of entities into database.\nWhen I have only one data source.\nI used  <code>JpaRepository.saveAndFlush(entity)</code> to persist data. I also used</p>\n\n<pre><code>@Autowired\nEntityManager entityManager;\n....\nJpaRepository.saveAndFlush(entity)\n....\nentityManager.clear();\n</code></pre>\n\n<p>This technique helps me speed up performances.</p>\n\n<p>But when I change into using multiple data source. I also use the same technique, it doesnt work anymore. It took several hours for creating data instead of 15 mins.</p>\n\n<pre><code>@PersistenceContext\nEntityManager db1EntityManager;\n....\nJpaRepository.saveAndFlush(entity)\n....\ndb1EntityManager.clear();\n</code></pre>\n\n<p>Here is my configure file</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = \"db1EntityManagerFactory\",\n        basePackages = { \"com.repository\" }\n)\npublic class db1Config {\n   @Autowired\n   private Environment env;\n   @Primary\n   @Bean(name = \"dataSource\")\n   @ConfigurationProperties(prefix = \"db1.datasource\")\n   public DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(env.getProperty(\"db1.datasource.driver-class-name\"));\n    dataSource.setUrl(env.getProperty(\"db1.datasource.url\"));\n    dataSource.setUsername(env.getProperty(\"db1.datasource.username\"));\n    dataSource.setPassword(env.getProperty(\"db1.datasource.password\"));\n\n    return dataSource;\n   }\n\n   @Primary\n   @Bean(name = \"db1EntityManagerFactory\")\n   public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\n        EntityManagerFactoryBuilder builder,\n        @Qualifier(\"dataSource\") DataSource dataSource)\n   {\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\"hibernate.hbm2ddl.auto\",\n            env.getProperty(\"hibernate.hbm2ddl.auto\"));\n    properties.put(\"hibernate.dialect\",\n            env.getProperty(\"hibernate.dialect\"));\n\n    return builder\n            .dataSource(dataSource)\n            .packages(\"com.db1.model\")\n            .properties(properties)\n            .build();\n  }\n\n   @Primary\n   @Bean(name = \"transactionManager\")\n   public PlatformTransactionManager transactionManager(\n        @Qualifier(\"db1EntityManagerFactory\") EntityManagerFactory db1EntityManagerFactory)\n  {\n    JpaTransactionManager transactionManager\n            = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(db1EntityManagerFactory);\n    return transactionManager;\n   }\n}\n</code></pre>\n\n<p>Performance result:</p>\n\n<p>With 1,2k records:</p>\n\n<ol>\n<li><p>Single data source for the first time create and reload data: 15 seconds</p></li>\n<li><p>Multiple datasource: first time: 8,5 mins, reload data: 15 seconds.</p></li>\n</ol>\n\n<p>With 65k records:</p>\n\n<ol>\n<li><p>Single data source for the first time create and reload data: 15 minutes</p></li>\n<li><p>Multiple datasource: first time: several hours</p></li>\n</ol>\n\n<p>Detailed code for creating and reloading data.\nFor the single data source: </p>\n\n<pre><code>public class ProcessDataController {\npublic static final String CSV_URL = \"C:\\\\abc.csv\";\nList&lt;CSVSales&gt; data = new ArrayList&lt;&gt;();\n@Autowired\nprivate ARepository aRepository;\n\n@Autowired\nprivate BRepository bRepository;\n\n@Autowired\nprivate CRepository cRepository;\n\n@Autowired\nprivate DRepository dRepository;\n\n@Autowired\nprivate ERepository eRepository;\n\n@Autowired\nprivate FRepository fRepository;\n\n@Autowired\nprivate GRepository gRepository;\n\n@Autowired\nprivate HRepository hRepository;\n\n@Autowired\nprivate IRepository iRepository;\n\n@Autowired\nprivate KRepository kRepository;\n\n@Autowired\nprivate LRepository lRepository;\n\n@Autowired\nEntityManger entityManager;\npublic void createData() throws IOException, ParseException {\n    // BEGIN - For TESTING\n    long step[] = new long[20];\n    double timer[] = new double[20];\n    ArrayList&lt;String&gt; table = new ArrayList&lt;&gt;();\n    table.add(\"A\");\n    table.add(\"B\");\n    table.add(\"C\");\n    table.add(\"D\");\n    table.add(\"E\");\n    table.add(\"F\");\n    table.add(\"G\");\n    table.add(\"H\");\n    table.add(\"I\");\n    table.add(\"K\");\n    table.add(\"L\");\n    // END - For TESTING\n\n    CSVReadAndParse readAndParse = new CSVReadAndParse();\n    readAndParse.setUrl(CSV_URL);\n\n    step[0] = System.nanoTime();\n    data = readAndParse.getResult();\n    step[1] = System.nanoTime();\n    timer[0] = step[1] - step[0];\n\n    for (int num = 0; num &lt; data.size(); num++) {\n        step[0] = System.nanoTime();\n        A a = new A(data.get(num).getACode(), data.get(num).getAName());\n        aRepository.saveAndFlush(a);\n        step[1] = System.nanoTime();\n        timer[1] += step[1] - step[0];\n\n\n        B b = new B(data.get(num).getBCode(), data.get(num).getBName());\n        bRepository.saveAndFlush(b);\n        step[2] = System.nanoTime();\n        timer[2] += step[2] - step[1];\n\n        C c = new C(data.get(num).getC());\n        cRepository.saveAndFlush(c);\n        step[3] = System.nanoTime();\n        timer[3] += step[3] - step[2];\n\n        D d = new D(data.get(num).getDCode(), data.get(num).getDName());\n        dRepository.saveAndFlush(d);\n        step[4] = System.nanoTime();\n        timer[4] += step[4] - step[3];\n\n        E e = new E(data.get(num).getECode(), data.get(num).getEName());\n        eRepository.saveAndFlush(e);\n        step[5] = System.nanoTime();\n        timer[5] += step[5] - step[4];\n\n        F f = new F(data.get(num).getF());\n        fRepository.saveAndFlush(month);\n        step[6] = System.nanoTime();\n        timer[6] += step[6] - step[5];\n\n        G g = new G(data.get(num).getGCode(), data.get(num).getGName());\n        gRepository.saveAndFlush(g);\n        step[7] = System.nanoTime();\n        timer[7] += step[7] - step[6];\n\n        H h = new H(data.get(num).getHCode(), data.get(num).getHName());\n        pRepository.saveAndFlush(h);\n        step[8] = System.nanoTime();\n        timer[8] += step[8] - step[7];\n\n        I i = new I(data.get(num).getICode(), data.get(num).getIName());\n        iRepository.saveAndFlush(i);\n        step[9] = System.nanoTime();\n        timer[9] += step[9] - step[8];\n\n        K k = new K(data.get(num).getK());\n        kRepository.saveAndFlush(k);\n        step[10] = System.nanoTime();\n        timer[10] += step[10] - step[9];\n\n\n        L l = new L();\n        L.setA(data.get(num).getNumberOfSale());\n        L.setB(data.get(num).getSalesAmount());\n        l.setC(a);\n        l.setC(b);\n        l.setD(c);\n        l.setE(d);\n        l.setF(e);\n        l.setG(f);\n        l.setH(g);\n        l.setI(h);\n        l.setK(i);\n        fRepository.saveAndFlush(l);\n        step[11] = System.nanoTime();\n        timer[11] += step[11] - step[10];\n        entityManager.clear();\n    }\n    double sum = 0;\n    for (int i = 1; i &lt;= 11; i++) {\n        System.out.println(table.get(i - 1) + \" time: \" + new DecimalFormat(\"#.##########\").format(timer[i] / 1000000000) + \" seconds\");\n        sum += timer[i];\n    }\n    System.out.println(\"Reading data time: \" + new DecimalFormat(\"#.##########\").format(timer[0] / 1000000000) + \" seconds\");\n    System.out.println(\"Total creating table time: \" + new DecimalFormat(\"#.##########\").format(sum / 1000000000) + \" seconds\");\n}\npublic void deleteAllData() {\n    lRepository.deleteAll();\n    aRepository.deleteAll();\n    bRepository.deleteAll();\n    cRepository.deleteAll();\n    eRepository.deleteAll();\n    fRepository.deleteAll();\n    gRepository.deleteAll();\n    hRepository.deleteAll();\n    iRepository.deleteAll();\n    kRepository.deleteAll();\n}\n@RequestMapping(value = \"/api/reloadData\", method = RequestMethod.GET)\npublic  String reloadData() throws IOException, ParseException {\n    System.out.println(\"------------------------\" + acessDB);\n    if (acessDB) {\n        acessDB = false;\n        long step1 = System.nanoTime();\n        deleteAllData();\n        long step2 = System.nanoTime();\n        createData();\n        long step3 = System.nanoTime();\n        double time1 = ((double) (step2 - step1) / 1000000000);\n        double time2 = ((double) (step3 - step2) / 1000000000);\n        double time3 = ((double) (step3 - step1) / 1000000000);\n        System.out.println(\"Delete time: \" + new DecimalFormat(\"#.##########\").format(time1) + \" Seconds\");\n        System.out.println(\"Create time: \" + new DecimalFormat(\"#.##########\").format(time2) + \" Seconds\");\n        System.out.println(\"Total time: \" + new DecimalFormat(\"#.##########\").format(time3) + \" Seconds\");\n        acessDB = true;\n        return \"Done\";\n    } else {\n        return \"Busy\";\n    }\n}\n</code></pre>\n\n<p>For multiple data source, I just change the @Autowired of EntityManager into @PersistenceContext like I said before.</p>\n\n<p>and the main file.</p>\n\n<pre><code>public class EtlApplication implements CommandLineRunner {\npublic static boolean acessDB = true;\n\n@Autowired\nProcessDataController processDataController;\n\npublic static void main(String[] args) {\n    SpringApplication.run(EtlApplication.class, args);\n}\n\n@Override\npublic void run(String... args) throws Exception {\n    acessDB = false;\n    processDataController.createData();\n    acessDB = true;\n}\n}\n</code></pre>\n\n<p>Thank you for all your support.</p>\n"},{"tags":["java","android","android-studio","android-emulator","amd-processor"],"answers":[{"tags":[],"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575806419,"creation_date":1575806419,"answer_id":59235169,"question_id":59229732,"body_markdown":"Maybe your pc doesn&#39;t meet these requirements:\r\n\r\n&gt; Windows\r\n&gt;\r\n&gt; Microsoft&#174; Windows&#174; 7/8/10 (32- or 64-bit) The Android\r\n&gt; Emulator only supports 64-bit Windows (learn more).\r\n&gt; \r\n&gt; 4 GB RAM minimum, 8 GB RAM recommended\r\n&gt;\r\n&gt; 2 GB of available disk space minimum, 4 GB Recommended (500 MB for IDE + 1.5 GB for Android SDK and\r\n&gt; emulator system image)\r\n&gt;\r\n&gt;1280 x 800 minimum screen resolution\r\n\r\nSource: https://developer.android.com/studio (bottom of the page)","title":"Android Studio: System UI Not Responding","body":"<p>Maybe your pc doesn't meet these requirements:</p>\n\n<blockquote>\n  <p>Windows</p>\n  \n  <p>Microsoft® Windows® 7/8/10 (32- or 64-bit) The Android\n  Emulator only supports 64-bit Windows (learn more).</p>\n  \n  <p>4 GB RAM minimum, 8 GB RAM recommended</p>\n  \n  <p>2 GB of available disk space minimum, 4 GB Recommended (500 MB for IDE + 1.5 GB for Android SDK and\n  emulator system image)</p>\n  \n  <p>1280 x 800 minimum screen resolution</p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">https://developer.android.com/studio</a> (bottom of the page)</p>\n"}],"owner":{"account_id":12673622,"reputation":183,"user_id":9210282,"display_name":"Mary X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695737733,"creation_date":1575749216,"question_id":59229732,"body_markdown":"I recently migrated one of my Android studio projects from my last Dell laptop. I&#39;m currently using an HP laptop with an AMD processor and whenever I try to start my emulator (Pixel 2 API 29) for my project, I get a different wacky virtualization-related error EVERY TIME. \r\n\r\nSome examples of my previous errors are\r\n\r\n&gt; Your CPU does not support the required feature (VT-x or SVM),\r\n\r\n&gt; ADB.exe is obsolete and has serious performance problems,\r\n\r\n&gt; Intel HAXM is required to run this AVD. \r\n\r\nError shown in emulator today:\r\n\r\n&gt; System UI not responding\r\n\r\nI have already enabled Virtualization in my BIOS setting, but it didn&#39;t change anything.","title":"Android Studio: System UI Not Responding","body":"<p>I recently migrated one of my Android studio projects from my last Dell laptop. I'm currently using an HP laptop with an AMD processor and whenever I try to start my emulator (Pixel 2 API 29) for my project, I get a different wacky virtualization-related error EVERY TIME.</p>\n<p>Some examples of my previous errors are</p>\n<blockquote>\n<p>Your CPU does not support the required feature (VT-x or SVM),</p>\n</blockquote>\n<blockquote>\n<p>ADB.exe is obsolete and has serious performance problems,</p>\n</blockquote>\n<blockquote>\n<p>Intel HAXM is required to run this AVD.</p>\n</blockquote>\n<p>Error shown in emulator today:</p>\n<blockquote>\n<p>System UI not responding</p>\n</blockquote>\n<p>I have already enabled Virtualization in my BIOS setting, but it didn't change anything.</p>\n"},{"tags":["java","spring-boot","maven","pom.xml","camunda"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692349867,"post_id":76927941,"comment_id":135613849,"body_markdown":"This is the actual problem: &quot;Error: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:public static void main(String[] args)&quot;","body":"This is the actual problem: &quot;Error: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:public static void main(String[] args)&quot;"},{"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"score":0,"creation_date":1692350081,"post_id":76927941,"comment_id":135613895,"body_markdown":"The camunda documentation says that you don&#39;t need to explicitly specify main in the code, and yes I tested with explicitly specifying it, but it didn&#39;t solve my problem, I think I have a bug somewhere in the code or pom, but I can&#39;t for the second week guess where...","body":"The camunda documentation says that you don&#39;t need to explicitly specify main in the code, and yes I tested with explicitly specifying it, but it didn&#39;t solve my problem, I think I have a bug somewhere in the code or pom, but I can&#39;t for the second week guess where..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692355484,"post_id":76927941,"comment_id":135614915,"body_markdown":"Why is spring-boot-maven-plugin running in test phase?","body":"Why is spring-boot-maven-plugin running in test phase?"},{"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"score":0,"creation_date":1692364539,"post_id":76927941,"comment_id":135616789,"body_markdown":"I tried to run the process through the console to see if the class is scanned and the bin is created. maybe that&#39;s why?  This is my first time doing something like this and could be wrong, happy to hear suggestions","body":"I tried to run the process through the console to see if the class is scanned and the bin is created. maybe that&#39;s why?  This is my first time doing something like this and could be wrong, happy to hear suggestions"}],"answers":[{"tags":[],"owner":{"account_id":24247260,"reputation":21,"user_id":18198798,"display_name":"Jan Rohwer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695737655,"creation_date":1695737655,"answer_id":77180847,"question_id":76927941,"body_markdown":"In your pom.xml in the configuration of the spring-boot-maven-plugin you specifiy you mainClass to be com.myapp.sqlDataRetrievalDelegate (by the way in Java the common practice is to start the class name with upper case so com.myapp.SqlDataRetrievalDelegate).\r\n\r\nFor a spring boot application you need an application class (see https://spring.io/guides/gs/spring-boot/).\r\n\r\nSo e.g. define the mainClass to be com.myapp.Application and that class should look like this:\r\n\r\n    package com.myapp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\nThis will also enable the component scan and pick up your delegate bean.","title":"rg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal","body":"<p>In your pom.xml in the configuration of the spring-boot-maven-plugin you specifiy you mainClass to be com.myapp.sqlDataRetrievalDelegate (by the way in Java the common practice is to start the class name with upper case so com.myapp.SqlDataRetrievalDelegate).</p>\n<p>For a spring boot application you need an application class (see <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a>).</p>\n<p>So e.g. define the mainClass to be com.myapp.Application and that class should look like this:</p>\n<pre><code>package com.myapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>This will also enable the component scan and pick up your delegate bean.</p>\n"}],"owner":{"account_id":29250109,"reputation":1,"user_id":22409651,"display_name":"Andrey Filippov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695737655,"creation_date":1692349776,"question_id":76927941,"body_markdown":"I am new to Java and Maven/Spring. I am building a project to run a BPMN process in Camunda using a delegate. I have written the code, built the dependencies and am trying to build the project. When I put my JAR file into a Camunda container (I have Camunda deployed on a Linux server) I keep getting an error: **Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier &#39;sqlDataRetrievalDelegate&#39;**.\r\n\r\nIt seems to me that my Spring is not scanning and creating the Bin, what am I doing wrong? Help please.\r\n\r\n\r\nHere&#39;s my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.camunda.bpm.getstarted&lt;/groupId&gt;\r\n    &lt;artifactId&gt;loan-approval-spring-boot&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;camunda.spring-boot.version&gt;7.19.0&lt;/camunda.spring-boot.version&gt;\r\n        &lt;spring-boot.version&gt;2.7.10&lt;/spring-boot.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;mssql.jdbc.version&gt;9.2.1.jre11&lt;/mssql.jdbc.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\r\n            &lt;version&gt;${camunda.spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${mssql.jdbc.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.myapp.sqlDataRetrievalDelegate&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s my JAVA code:\r\n```\r\npackage com.myapp;\r\n\r\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\r\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n@Component(&quot;sqlDataRetrievalDelegate&quot;)\r\npublic class sqlDataRetrievalDelegate implements JavaDelegate {\r\n    private static final Logger logger = LoggerFactory.getLogger(sqlDataRetrievalDelegate.class);\r\n\r\n    @Override\r\n    public void execute(DelegateExecution execution) {\r\n        logger.info(&quot;Executing SQL data retrieval delegate...&quot;);\r\n\r\n        String jdbcUrl = &quot;jdbc:sqlserver://10.100.11.11:1433;databaseName=DBtestData&quot;;\r\n        String username = &quot;camunda_sql1111&quot;;\r\n        String password = &quot;12345678&quot;;\r\n\r\n        List&lt;String&gt; tags = Arrays.asList(&quot;MATR_TAG00001.SIM&quot;, &quot;MATR_TAG00002.SIM&quot;, &quot;MATR_TAG00003.SIM&quot;, &quot;MATR_TAG00004.SIM&quot;);\r\n\r\n        try (Connection conn = DriverManager.getConnection(jdbcUrl, username, password)) {\r\n            String query = buildQuery(tags);\r\n\r\n            try (PreparedStatement stmt = conn.prepareStatement(query)) {\r\n                try (ResultSet rs = stmt.executeQuery()) {\r\n                    while (rs.next()) {\r\n                        String tagName = rs.getString(&quot;TagName&quot;);\r\n                        String timeStamp = rs.getString(&quot;TimeStamp&quot;);\r\n                        double value = rs.getDouble(&quot;Value&quot;);\r\n\r\n                        execution.setVariable(&quot;tagNameVariable&quot;, tagName);\r\n                        execution.setVariable(&quot;timeStampVariable&quot;, timeStamp);\r\n                        execution.setVariable(&quot;valueVariable&quot;, value);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Failed to execute SQL delegate&quot;, e);\r\n            throw new RuntimeException(&quot;Failed to execute SQL delegate&quot;, e);\r\n        }\r\n    }\r\n\r\n    private String buildQuery(List&lt;String&gt; tags) {\r\n        StringBuilder queryBuilder = new StringBuilder(&quot;SELECT TagName, TimeStamp, Value FROM OPENQUERY (PHD_OLEDB, &#39;SELECT * FROM phd.phd_data WHERE tagname IN (&quot;);\r\n        for (int i = 0; i &lt; tags.size(); i++) {\r\n            queryBuilder.append(&quot;&#39;&#39;&quot;).append(tags.get(i)).append(&quot;&#39;&#39;&quot;);\r\n            if (i &lt; tags.size() - 1) {\r\n                queryBuilder.append(&quot;,&quot;);\r\n            }\r\n        }\r\n        queryBuilder.append(&quot;) AND raw_data = true&#39;)&quot;);\r\n\r\n        return queryBuilder.toString();\r\n    }\r\n}\r\n```\r\nThese are the logs I see in IDEA: \r\n```\r\nPS C:\\Users\\FilippovAn\\untitled1&gt; mvn -e spring-boot:run\r\n[INFO] Error stacktraces are turned on.\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------&lt; org.camunda.bpm.getstarted:loan-approval-spring-boot &gt;--------\r\n[INFO] Building loan-approval-spring-boot 0.0.1-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; spring-boot:2.7.10:run (default-cli) &gt; test-compile @ loan-approval-spring-boot &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- resources:3.3.1:resources (default-resources) @ loan-approval-spring-boot ---\r\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] Copying 2 resources from src\\main\\resources to target\\classes\r\n[INFO]\r\n[INFO] --- compiler:3.11.0:compile (default-compile) @ loan-approval-spring-boot ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ loan-approval-spring-boot ---\r\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] skip non existing resourceDirectory C:\\Users\\FilippovAn\\untitled1\\src\\test\\resources\r\n[INFO]\r\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ loan-approval-spring-boot ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] &lt;&lt;&lt; spring-boot:2.7.10:run (default-cli) &lt; test-compile @ loan-approval-spring-boot &lt;&lt;&lt;\r\n[INFO]\r\n[INFO]\r\n[INFO] --- spring-boot:2.7.10:run (default-cli) @ loan-approval-spring-boot ---\r\n[INFO] Attaching agents: []\r\nError: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.102 s\r\n[INFO] Finished at: 2023-08-18T11:30:12+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-spring-boot: Application finished with exit code:\r\n 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-s\r\npring-boot: Application finished with exit code: 1\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\r\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm (RunMojo.java:103)\r\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm (AbstractRunMojo.java:291)\r\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:255)\r\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:225)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n[ERROR]\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\nThese are the logs I see in Camunda:\r\n```\r\n2023-08-15 12:15:02.465  WARN 10 --- [aTaskExecutor-3] org.camunda.bpm.engine.jobexecutor       : ENGINE14006 Exception while executing job acf3efa9-3b64-11ee-8bf4-0242ac120002:\r\norg.camunda.bpm.engine.ProcessEngineException: Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier &#39;sqlDataRetrievalDelegate&#39;\r\n        ","title":"rg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal","body":"<p>I am new to Java and Maven/Spring. I am building a project to run a BPMN process in Camunda using a delegate. I have written the code, built the dependencies and am trying to build the project. When I put my JAR file into a Camunda container (I have Camunda deployed on a Linux server) I keep getting an error: <strong>Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier 'sqlDataRetrievalDelegate'</strong>.</p>\n<p>It seems to me that my Spring is not scanning and creating the Bin, what am I doing wrong? Help please.</p>\n<p>Here's my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.camunda.bpm.getstarted&lt;/groupId&gt;\n    &lt;artifactId&gt;loan-approval-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;camunda.spring-boot.version&gt;7.19.0&lt;/camunda.spring-boot.version&gt;\n        &lt;spring-boot.version&gt;2.7.10&lt;/spring-boot.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;mssql.jdbc.version&gt;9.2.1.jre11&lt;/mssql.jdbc.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\n            &lt;version&gt;${camunda.spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${mssql.jdbc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.myapp.sqlDataRetrievalDelegate&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's my JAVA code:</p>\n<pre><code>package com.myapp;\n\nimport org.camunda.bpm.engine.delegate.DelegateExecution;\nimport org.camunda.bpm.engine.delegate.JavaDelegate;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.util.Arrays;\nimport java.util.List;\n\n@Component(&quot;sqlDataRetrievalDelegate&quot;)\npublic class sqlDataRetrievalDelegate implements JavaDelegate {\n    private static final Logger logger = LoggerFactory.getLogger(sqlDataRetrievalDelegate.class);\n\n    @Override\n    public void execute(DelegateExecution execution) {\n        logger.info(&quot;Executing SQL data retrieval delegate...&quot;);\n\n        String jdbcUrl = &quot;jdbc:sqlserver://10.100.11.11:1433;databaseName=DBtestData&quot;;\n        String username = &quot;camunda_sql1111&quot;;\n        String password = &quot;12345678&quot;;\n\n        List&lt;String&gt; tags = Arrays.asList(&quot;MATR_TAG00001.SIM&quot;, &quot;MATR_TAG00002.SIM&quot;, &quot;MATR_TAG00003.SIM&quot;, &quot;MATR_TAG00004.SIM&quot;);\n\n        try (Connection conn = DriverManager.getConnection(jdbcUrl, username, password)) {\n            String query = buildQuery(tags);\n\n            try (PreparedStatement stmt = conn.prepareStatement(query)) {\n                try (ResultSet rs = stmt.executeQuery()) {\n                    while (rs.next()) {\n                        String tagName = rs.getString(&quot;TagName&quot;);\n                        String timeStamp = rs.getString(&quot;TimeStamp&quot;);\n                        double value = rs.getDouble(&quot;Value&quot;);\n\n                        execution.setVariable(&quot;tagNameVariable&quot;, tagName);\n                        execution.setVariable(&quot;timeStampVariable&quot;, timeStamp);\n                        execution.setVariable(&quot;valueVariable&quot;, value);\n                    }\n                }\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Failed to execute SQL delegate&quot;, e);\n            throw new RuntimeException(&quot;Failed to execute SQL delegate&quot;, e);\n        }\n    }\n\n    private String buildQuery(List&lt;String&gt; tags) {\n        StringBuilder queryBuilder = new StringBuilder(&quot;SELECT TagName, TimeStamp, Value FROM OPENQUERY (PHD_OLEDB, 'SELECT * FROM phd.phd_data WHERE tagname IN (&quot;);\n        for (int i = 0; i &lt; tags.size(); i++) {\n            queryBuilder.append(&quot;''&quot;).append(tags.get(i)).append(&quot;''&quot;);\n            if (i &lt; tags.size() - 1) {\n                queryBuilder.append(&quot;,&quot;);\n            }\n        }\n        queryBuilder.append(&quot;) AND raw_data = true')&quot;);\n\n        return queryBuilder.toString();\n    }\n}\n</code></pre>\n<p>These are the logs I see in IDEA:</p>\n<pre><code>PS C:\\Users\\FilippovAn\\untitled1&gt; mvn -e spring-boot:run\n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------&lt; org.camunda.bpm.getstarted:loan-approval-spring-boot &gt;--------\n[INFO] Building loan-approval-spring-boot 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; spring-boot:2.7.10:run (default-cli) &gt; test-compile @ loan-approval-spring-boot &gt;&gt;&gt;\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ loan-approval-spring-boot ---\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.11.0:compile (default-compile) @ loan-approval-spring-boot ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ loan-approval-spring-boot ---\n[WARNING] Using platform encoding (Cp1251 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\Users\\FilippovAn\\untitled1\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ loan-approval-spring-boot ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot:2.7.10:run (default-cli) &lt; test-compile @ loan-approval-spring-boot &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot:2.7.10:run (default-cli) @ loan-approval-spring-boot ---\n[INFO] Attaching agents: []\nError: Main method not found in class com.myapp.sqlDataRetrievalDelegate, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.102 s\n[INFO] Finished at: 2023-08-18T11:30:12+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-spring-boot: Application finished with exit code:\n 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.10:run (default-cli) on project loan-approval-s\npring-boot: Application finished with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm (RunMojo.java:103)\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm (AbstractRunMojo.java:291)\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:255)\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:225)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>These are the logs I see in Camunda:</p>\n<pre><code>2023-08-15 12:15:02.465  WARN 10 --- [aTaskExecutor-3] org.camunda.bpm.engine.jobexecutor       : ENGINE14006 Exception while executing job acf3efa9-3b64-11ee-8bf4-0242ac120002:\norg.camunda.bpm.engine.ProcessEngineException: Unknown property used in expression: ${sqlDataRetrievalDelegate}. Cause: Cannot resolve identifier 'sqlDataRetrievalDelegate'\n        \n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1695733948,"post_id":77180161,"comment_id":136061733,"body_markdown":"Does this answer your question? [Distinct results from Spring Data JPA Specification that uses join](https://stackoverflow.com/questions/33025213/distinct-results-from-spring-data-jpa-specification-that-uses-join)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33025213/distinct-results-from-spring-data-jpa-specification-that-uses-join\">Distinct results from Spring Data JPA Specification that uses join</a>"},{"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"score":0,"creation_date":1695735686,"post_id":77180161,"comment_id":136062134,"body_markdown":"I already tried it, but it didn&#39;t help.","body":"I already tried it, but it didn&#39;t help."},{"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"score":0,"creation_date":1695736030,"post_id":77180161,"comment_id":136062213,"body_markdown":"Moreover the column the entities must be distinct by is not even specified. And I don&#39;t understand where it should be specified","body":"Moreover the column the entities must be distinct by is not even specified. And I don&#39;t understand where it should be specified"}],"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695737505,"creation_date":1695732394,"question_id":77180161,"body_markdown":"I need to find the only FlightSeat entities that don&#39;t share the common flight(flight.id).\r\nThat is one FlightSeat per Flight.\r\nIf I get list of FlightSeats using current implementation there are FlightSeats tied to the same Flight.\r\n\r\nI tried adding this but it didn&#39;t help\r\n\r\n```java\r\npublic class FlightSearchSpecification {\r\n    // getSeatSpecification()\r\n\r\n    public static Specification&lt;Object&gt; distinct() {\r\n        return (root, query, cb) -&gt; {\r\n            query.distinct(true);\r\n            return null;\r\n        };\r\n    }\r\n}\r\n\r\n\r\nflightSeatRepository.findAll(Specification\r\n    .where(FlightSearchSpecification.distinct().and(FlightSearchSpecification.getSeatSpecification(model))) , pageable);\r\n```\r\n\r\nMaybe it can be achieved by groupBy() but I can&#39;t understand how to do that.\r\n\r\n**Classes**\r\n\r\nSpeicification\r\n\r\n```lang-java\r\npublic class FlightSearchSpecification {\r\n  \r\n    public static Specification&lt;FlightSeat&gt; getSeatSpecification(TicketFilterModel model) {\r\n        return (root, query, cb) -&gt; {\r\n\r\n            Join&lt;FlightSeat, Flight&gt; join = root.join(&quot;flight&quot;);\r\n            Join&lt;Flight, AviaCompany&gt; join2 = join.join(&quot;company&quot;);\r\n\r\n            Predicate whereSeatClass = cb.equal(root.get(&quot;seatClass&quot;), model.getSeatClass());\r\n            Predicate whereSource = cb.equal(join.get(&quot;source&quot;), model.getSource());\r\n            Predicate whereDestination = cb.equal(join.get(&quot;destination&quot;), model.getDestination());\r\n            Predicate whereCompanyName = join2.get(&quot;name&quot;).in(model.getCompanies());\r\n            Predicate WhereCustomerNull = cb.isNull(root.get(&quot;customer&quot;));\r\n\r\n            return cb.and(\r\n                    whereSeatClass, whereSource,\r\n                    whereDestination, whereCompanyName, WhereCustomerNull);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n JPA Repository\r\n\r\n``` lang-java\r\npublic interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\r\n\r\n    List&lt;FlightSeat&gt; findByFlightId(Long flightId);\r\n\r\n    @EntityGraph(attributePaths = {&quot;flight&quot;, &quot;flight.company&quot;})\r\n    Page&lt;FlightSeat&gt; findAll( Specification&lt;FlightSeat&gt; spec,  Pageable pageable);\r\n\r\n}\r\n```\r\n\r\n Usage of the specification in .findAll()\r\n\r\n```lang-java\r\nflightSeatRepository.findAll(FlightSearchSpecification.getSeatSpecification(model), pageable);\r\n``` \r\n\r\n\r\n FlightSeat Entity\r\n\r\n``` lang-java\r\n@Entity\r\n@Table(name = &quot;flight_seats&quot;)\r\npublic class FlightSeat {\r\n\r\n    @Column(name = &quot;flight_seat_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(nullable = false)\r\n    private int position;\r\n\r\n    @Column(nullable = false)\r\n    private int price;\r\n\r\n    @Column(name = &quot;class&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    @JsonProperty(&quot;seat_class&quot;)\r\n    private FlightSeatClass seatClass;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Flight flight;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    @JsonIgnore\r\n    private Customer customer;\r\n\r\n    // constructor, getters, setters\r\n}\r\n```\r\n\r\n Flight Entity\r\n\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;flights&quot;)\r\n@Immutable\r\npublic class Flight {\r\n\r\n    @Column(name = &quot;flight_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(name = &quot;airplane_model&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;airplane_model&quot;)\r\n    private String airplaneModel;\r\n\r\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\r\n    private ZonedDateTime takeoffTimestamp;\r\n\r\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\r\n    private ZonedDateTime landingTimestamp;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City source;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City destination;\r\n\r\n    @Column(name = &quot;seat_count&quot;)\r\n    @JsonProperty(value = &quot;seat_count&quot;)\r\n    private int seatCount;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private AviaCompany company;\r\n\r\n    @OneToMany(mappedBy = &quot;flight&quot;)\r\n    @JsonIgnore\r\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\r\n\r\n    // constructor, getters, setters\r\n}\r\n```","title":"how to retrieve only distinct entities by a specific column using Spring Data Specification","body":"<p>I need to find the only FlightSeat entities that don't share the common flight(flight.id).\nThat is one FlightSeat per Flight.\nIf I get list of FlightSeats using current implementation there are FlightSeats tied to the same Flight.</p>\n<p>I tried adding this but it didn't help</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlightSearchSpecification {\n    // getSeatSpecification()\n\n    public static Specification&lt;Object&gt; distinct() {\n        return (root, query, cb) -&gt; {\n            query.distinct(true);\n            return null;\n        };\n    }\n}\n\n\nflightSeatRepository.findAll(Specification\n    .where(FlightSearchSpecification.distinct().and(FlightSearchSpecification.getSeatSpecification(model))) , pageable);\n</code></pre>\n<p>Maybe it can be achieved by groupBy() but I can't understand how to do that.</p>\n<p><strong>Classes</strong></p>\n<p>Speicification</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlightSearchSpecification {\n  \n    public static Specification&lt;FlightSeat&gt; getSeatSpecification(TicketFilterModel model) {\n        return (root, query, cb) -&gt; {\n\n            Join&lt;FlightSeat, Flight&gt; join = root.join(&quot;flight&quot;);\n            Join&lt;Flight, AviaCompany&gt; join2 = join.join(&quot;company&quot;);\n\n            Predicate whereSeatClass = cb.equal(root.get(&quot;seatClass&quot;), model.getSeatClass());\n            Predicate whereSource = cb.equal(join.get(&quot;source&quot;), model.getSource());\n            Predicate whereDestination = cb.equal(join.get(&quot;destination&quot;), model.getDestination());\n            Predicate whereCompanyName = join2.get(&quot;name&quot;).in(model.getCompanies());\n            Predicate WhereCustomerNull = cb.isNull(root.get(&quot;customer&quot;));\n\n            return cb.and(\n                    whereSeatClass, whereSource,\n                    whereDestination, whereCompanyName, WhereCustomerNull);\n        };\n    }\n}\n</code></pre>\n<p>JPA Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\n\n    List&lt;FlightSeat&gt; findByFlightId(Long flightId);\n\n    @EntityGraph(attributePaths = {&quot;flight&quot;, &quot;flight.company&quot;})\n    Page&lt;FlightSeat&gt; findAll( Specification&lt;FlightSeat&gt; spec,  Pageable pageable);\n\n}\n</code></pre>\n<p>Usage of the specification in .findAll()</p>\n<pre class=\"lang-java prettyprint-override\"><code>flightSeatRepository.findAll(FlightSearchSpecification.getSeatSpecification(model), pageable);\n</code></pre>\n<p>FlightSeat Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flight_seats&quot;)\npublic class FlightSeat {\n\n    @Column(name = &quot;flight_seat_id&quot;)\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(nullable = false)\n    private int position;\n\n    @Column(nullable = false)\n    private int price;\n\n    @Column(name = &quot;class&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    @JsonProperty(&quot;seat_class&quot;)\n    private FlightSeatClass seatClass;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Flight flight;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    @JsonIgnore\n    private Customer customer;\n\n    // constructor, getters, setters\n}\n</code></pre>\n<p>Flight Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flights&quot;)\n@Immutable\npublic class Flight {\n\n    @Column(name = &quot;flight_id&quot;)\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(name = &quot;airplane_model&quot;, nullable = false)\n    @JsonProperty(value = &quot;airplane_model&quot;)\n    private String airplaneModel;\n\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\n    private ZonedDateTime takeoffTimestamp;\n\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\n    private ZonedDateTime landingTimestamp;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City source;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City destination;\n\n    @Column(name = &quot;seat_count&quot;)\n    @JsonProperty(value = &quot;seat_count&quot;)\n    private int seatCount;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private AviaCompany company;\n\n    @OneToMany(mappedBy = &quot;flight&quot;)\n    @JsonIgnore\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\n\n    // constructor, getters, setters\n}\n</code></pre>\n"},{"tags":["java","xml","dom","jaxb","variant"],"answers":[{"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335547655,"creation_date":1335547655,"answer_id":10355199,"question_id":6775345,"body_markdown":"Running example:\r\n\r\n(Hint: JAXBHelper are from utils-apl-derived, but are just short forms of you unmarshalling and marshalling routines)\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlElements;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    import org.junit.Test;\r\n    import org.omnaest.utils.xml.JAXBXMLHelper;\r\n    \r\n    public class JAXBAnyElementTest\r\n    {\r\n      @XmlType\r\n      @XmlAccessorType(XmlAccessType.FIELD)\r\n      protected static class TestSubEntity\r\n      {\r\n        /* ********************************************** Variables ********************************************** */\r\n        @XmlElement\r\n        private String fieldString  = null;\r\n        @XmlElement\r\n        private int    fieldInteger = -1;\r\n        \r\n        /* ********************************************** Methods ********************************************** */\r\n        \r\n        /**\r\n         * @see TestSubEntity\r\n         */\r\n        public TestSubEntity()\r\n        {\r\n          super();\r\n        }\r\n        \r\n        /**\r\n         * @see TestSubEntity\r\n         * @param fieldString\r\n         * @param fieldInteger\r\n         */\r\n        public TestSubEntity( String fieldString, int fieldInteger )\r\n        {\r\n          super();\r\n          this.fieldString = fieldString;\r\n          this.fieldInteger = fieldInteger;\r\n        }\r\n        \r\n        /**\r\n         * @return the fieldString\r\n         */\r\n        public String getFieldString()\r\n        {\r\n          return this.fieldString;\r\n        }\r\n        \r\n        /**\r\n         * @param fieldString\r\n         *          the fieldString to set\r\n         */\r\n        public void setFieldString( String fieldString )\r\n        {\r\n          this.fieldString = fieldString;\r\n        }\r\n        \r\n        /**\r\n         * @return the fieldInteger\r\n         */\r\n        public int getFieldInteger()\r\n        {\r\n          return this.fieldInteger;\r\n        }\r\n        \r\n        /**\r\n         * @param fieldInteger\r\n         *          the fieldInteger to set\r\n         */\r\n        public void setFieldInteger( int fieldInteger )\r\n        {\r\n          this.fieldInteger = fieldInteger;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode()\r\n        {\r\n          final int prime = 31;\r\n          int result = 1;\r\n          result = prime * result + this.fieldInteger;\r\n          result = prime * result + ( ( this.fieldString == null ) ? 0 : this.fieldString.hashCode() );\r\n          return result;\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals( Object obj )\r\n        {\r\n          if ( this == obj )\r\n          {\r\n            return true;\r\n          }\r\n          if ( obj == null )\r\n          {\r\n            return false;\r\n          }\r\n          if ( !( obj instanceof TestSubEntity ) )\r\n          {\r\n            return false;\r\n          }\r\n          TestSubEntity other = (TestSubEntity) obj;\r\n          if ( this.fieldInteger != other.fieldInteger )\r\n          {\r\n            return false;\r\n          }\r\n          if ( this.fieldString == null )\r\n          {\r\n            if ( other.fieldString != null )\r\n            {\r\n              return false;\r\n            }\r\n          }\r\n          else if ( !this.fieldString.equals( other.fieldString ) )\r\n          {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n        \r\n      }\r\n      \r\n      @XmlRootElement\r\n      @XmlAccessorType(XmlAccessType.FIELD)\r\n      protected static class TestEntity\r\n      {\r\n        @XmlElements({ @XmlElement(name = &quot;int&quot;, type = Integer.class), @XmlElement(name = &quot;string&quot;, type = String.class),\r\n            @XmlElement(name = &quot;testsubentity&quot;, type = TestSubEntity.class), @XmlElement(name = &quot;other&quot;) })\r\n        private List&lt;Object&gt; anyElementList = null;\r\n        \r\n        /**\r\n         * @return the anyElementList\r\n         */\r\n        public List&lt;Object&gt; getAnyElementList()\r\n        {\r\n          return this.anyElementList;\r\n        }\r\n        \r\n        /**\r\n         * @param anyElementList\r\n         *          the anyElementList to set\r\n         */\r\n        public void setAnyElementList( List&lt;Object&gt; anyElementList )\r\n        {\r\n          this.anyElementList = anyElementList;\r\n        }\r\n        \r\n        /* (non-Javadoc)\r\n         * @see java.lang.Object#hashCode()\r\n         */\r\n        @Override\r\n        public int hashCode()\r\n        {\r\n          final int prime = 31;\r\n          int result = 1;\r\n          result = prime * result + ( ( this.anyElementList == null ) ? 0 : this.anyElementList.hashCode() );\r\n          return result;\r\n        }\r\n        \r\n        /* (non-Javadoc)\r\n         * @see java.lang.Object#equals(java.lang.Object)\r\n         */\r\n        @Override\r\n        public boolean equals( Object obj )\r\n        {\r\n          if ( this == obj )\r\n          {\r\n            return true;\r\n          }\r\n          if ( obj == null )\r\n          {\r\n            return false;\r\n          }\r\n          if ( !( obj instanceof TestEntity ) )\r\n          {\r\n            return false;\r\n          }\r\n          TestEntity other = (TestEntity) obj;\r\n          if ( this.anyElementList == null )\r\n          {\r\n            if ( other.anyElementList != null )\r\n            {\r\n              return false;\r\n            }\r\n          }\r\n          else if ( !this.anyElementList.equals( other.anyElementList ) )\r\n          {\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n        \r\n      }\r\n      \r\n      @SuppressWarnings(&quot;cast&quot;)\r\n      @Test\r\n      public void test()\r\n      {\r\n        //\r\n        final TestEntity testEntity = new TestEntity();\r\n        \r\n        //\r\n        final List&lt;Object&gt; anyElementList = Arrays.asList( (Object) &quot;a&quot;, Integer.valueOf( 1 ), Boolean.valueOf( true ),\r\n                                                           new TestSubEntity( &quot;field1&quot;, 1 ) );\r\n        testEntity.setAnyElementList( anyElementList );\r\n        \r\n        //\r\n        final String objectAsXML = JAXBXMLHelper.storeObjectAsXML( testEntity );\r\n        System.out.println( objectAsXML );\r\n        \r\n        //\r\n        final TestEntity objectFromXML = JAXBXMLHelper.loadObjectFromXML( objectAsXML, TestEntity.class );\r\n        assertEquals( testEntity, objectFromXML );\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;testEntity&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;int&gt;1&lt;/int&gt;\r\n        &lt;other xsi:type=&quot;xs:boolean&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;true&lt;/other&gt;\r\n        &lt;testsubentity&gt;\r\n            &lt;fieldString&gt;field1&lt;/fieldString&gt;\r\n            &lt;fieldInteger&gt;1&lt;/fieldInteger&gt;\r\n        &lt;/testsubentity&gt;\r\n    &lt;/testEntity&gt;\r\n\r\n\r\n\r\n","title":"JAXB: Can&#39;t unmarshal JAXBElement&lt;?&gt;, getting ElementNSImpl instead","body":"<p>Running example:</p>\n\n<p>(Hint: JAXBHelper are from utils-apl-derived, but are just short forms of you unmarshalling and marshalling routines)</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElements;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\nimport org.junit.Test;\nimport org.omnaest.utils.xml.JAXBXMLHelper;\n\npublic class JAXBAnyElementTest\n{\n  @XmlType\n  @XmlAccessorType(XmlAccessType.FIELD)\n  protected static class TestSubEntity\n  {\n    /* ********************************************** Variables ********************************************** */\n    @XmlElement\n    private String fieldString  = null;\n    @XmlElement\n    private int    fieldInteger = -1;\n\n    /* ********************************************** Methods ********************************************** */\n\n    /**\n     * @see TestSubEntity\n     */\n    public TestSubEntity()\n    {\n      super();\n    }\n\n    /**\n     * @see TestSubEntity\n     * @param fieldString\n     * @param fieldInteger\n     */\n    public TestSubEntity( String fieldString, int fieldInteger )\n    {\n      super();\n      this.fieldString = fieldString;\n      this.fieldInteger = fieldInteger;\n    }\n\n    /**\n     * @return the fieldString\n     */\n    public String getFieldString()\n    {\n      return this.fieldString;\n    }\n\n    /**\n     * @param fieldString\n     *          the fieldString to set\n     */\n    public void setFieldString( String fieldString )\n    {\n      this.fieldString = fieldString;\n    }\n\n    /**\n     * @return the fieldInteger\n     */\n    public int getFieldInteger()\n    {\n      return this.fieldInteger;\n    }\n\n    /**\n     * @param fieldInteger\n     *          the fieldInteger to set\n     */\n    public void setFieldInteger( int fieldInteger )\n    {\n      this.fieldInteger = fieldInteger;\n    }\n\n    @Override\n    public int hashCode()\n    {\n      final int prime = 31;\n      int result = 1;\n      result = prime * result + this.fieldInteger;\n      result = prime * result + ( ( this.fieldString == null ) ? 0 : this.fieldString.hashCode() );\n      return result;\n    }\n\n    @Override\n    public boolean equals( Object obj )\n    {\n      if ( this == obj )\n      {\n        return true;\n      }\n      if ( obj == null )\n      {\n        return false;\n      }\n      if ( !( obj instanceof TestSubEntity ) )\n      {\n        return false;\n      }\n      TestSubEntity other = (TestSubEntity) obj;\n      if ( this.fieldInteger != other.fieldInteger )\n      {\n        return false;\n      }\n      if ( this.fieldString == null )\n      {\n        if ( other.fieldString != null )\n        {\n          return false;\n        }\n      }\n      else if ( !this.fieldString.equals( other.fieldString ) )\n      {\n        return false;\n      }\n      return true;\n    }\n\n  }\n\n  @XmlRootElement\n  @XmlAccessorType(XmlAccessType.FIELD)\n  protected static class TestEntity\n  {\n    @XmlElements({ @XmlElement(name = \"int\", type = Integer.class), @XmlElement(name = \"string\", type = String.class),\n        @XmlElement(name = \"testsubentity\", type = TestSubEntity.class), @XmlElement(name = \"other\") })\n    private List&lt;Object&gt; anyElementList = null;\n\n    /**\n     * @return the anyElementList\n     */\n    public List&lt;Object&gt; getAnyElementList()\n    {\n      return this.anyElementList;\n    }\n\n    /**\n     * @param anyElementList\n     *          the anyElementList to set\n     */\n    public void setAnyElementList( List&lt;Object&gt; anyElementList )\n    {\n      this.anyElementList = anyElementList;\n    }\n\n    /* (non-Javadoc)\n     * @see java.lang.Object#hashCode()\n     */\n    @Override\n    public int hashCode()\n    {\n      final int prime = 31;\n      int result = 1;\n      result = prime * result + ( ( this.anyElementList == null ) ? 0 : this.anyElementList.hashCode() );\n      return result;\n    }\n\n    /* (non-Javadoc)\n     * @see java.lang.Object#equals(java.lang.Object)\n     */\n    @Override\n    public boolean equals( Object obj )\n    {\n      if ( this == obj )\n      {\n        return true;\n      }\n      if ( obj == null )\n      {\n        return false;\n      }\n      if ( !( obj instanceof TestEntity ) )\n      {\n        return false;\n      }\n      TestEntity other = (TestEntity) obj;\n      if ( this.anyElementList == null )\n      {\n        if ( other.anyElementList != null )\n        {\n          return false;\n        }\n      }\n      else if ( !this.anyElementList.equals( other.anyElementList ) )\n      {\n        return false;\n      }\n      return true;\n    }\n\n  }\n\n  @SuppressWarnings(\"cast\")\n  @Test\n  public void test()\n  {\n    //\n    final TestEntity testEntity = new TestEntity();\n\n    //\n    final List&lt;Object&gt; anyElementList = Arrays.asList( (Object) \"a\", Integer.valueOf( 1 ), Boolean.valueOf( true ),\n                                                       new TestSubEntity( \"field1\", 1 ) );\n    testEntity.setAnyElementList( anyElementList );\n\n    //\n    final String objectAsXML = JAXBXMLHelper.storeObjectAsXML( testEntity );\n    System.out.println( objectAsXML );\n\n    //\n    final TestEntity objectFromXML = JAXBXMLHelper.loadObjectFromXML( objectAsXML, TestEntity.class );\n    assertEquals( testEntity, objectFromXML );\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?&gt;\n&lt;testEntity&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;int&gt;1&lt;/int&gt;\n    &lt;other xsi:type=\"xs:boolean\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;true&lt;/other&gt;\n    &lt;testsubentity&gt;\n        &lt;fieldString&gt;field1&lt;/fieldString&gt;\n        &lt;fieldInteger&gt;1&lt;/fieldInteger&gt;\n    &lt;/testsubentity&gt;\n&lt;/testEntity&gt;\n</code></pre>\n"}],"owner":{"account_id":455529,"reputation":1406,"user_id":853728,"accept_rate":60,"display_name":"java.is.for.desktop.indeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695737275,"creation_date":1311247977,"question_id":6775345,"body_markdown":"Related to https://stackoverflow.com/questions/6762115/jaxb-how-to-implement-a-jaxb-compatible-variant-wrapper-class/6765996#6765996, I tried to use `JAXBElement` to represent &quot;variant&quot; or &quot;any-type&quot;.\r\n\r\nMarshalling went fine, but during Unmarshalling, `JAXB` tries to assign `ElementNSImpl` to a `JAXBElement` field.\r\n\r\n##Test Code##\r\n**(copy+paste+run)**\r\n\r\n    import static java.lang.System.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    import javax.xml.bind.*;\r\n    import javax.xml.bind.annotation.*;\r\n    import javax.xml.namespace.*;\r\n    \r\n    import org.junit.*;\r\n    \r\n    public class _JaxbElementProblem {\r\n    \r\n        @XmlRootElement\r\n        @XmlType\r\n        @XmlAccessorType(XmlAccessType.NONE)\r\n        static class MyObject {\r\n    \r\n            public static final QName VARIANT_NAME = new QName(&quot;QQQ&quot;);\r\n    \r\n            @XmlAnyElement(lax = true)\r\n            private JAXBElement&lt;Object&gt; single = null;\r\n            @XmlElementWrapper(name = &quot;elements&quot;)\r\n            @XmlAnyElement(lax = true)\r\n            final List&lt;JAXBElement&lt;Object&gt;&gt; elements =\r\n                    new LinkedList&lt;JAXBElement&lt;Object&gt;&gt;();\r\n    \r\n            @SuppressWarnings(&quot;unused&quot;)\r\n            private MyObject() {\r\n            }\r\n    \r\n            public MyObject(Object o) {\r\n                single = new JAXBElement&lt;Object&gt;(VARIANT_NAME, Object.class, o);\r\n            }\r\n    \r\n            public Object getSingle() {\r\n                return single.getValue();\r\n            }\r\n    \r\n            public List&lt;Object&gt; getElements() {\r\n                List&lt;Object&gt; ret = new LinkedList&lt;Object&gt;();\r\n    \r\n                for (JAXBElement&lt;?&gt; e : elements) {\r\n                    ret.add(e.getValue());\r\n                }\r\n    \r\n                return ret;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;MyObject (single=&quot; + single.getValue() + &quot;; elements: &quot;\r\n                        + getElements() + &quot;)&quot;;\r\n            }\r\n    \r\n        }\r\n    \r\n        private static final JAXBContext C;\r\n        private static final Marshaller M;\r\n        private static final Unmarshaller U;\r\n    \r\n        static {\r\n            try {\r\n                C = JAXBContext.newInstance(MyObject.class);\r\n    \r\n                M = C.createMarshaller();\r\n                U = C.createUnmarshaller();\r\n    \r\n                M.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            } catch (JAXBException ex) {\r\n                throw new Error(ex);\r\n            }\r\n        }\r\n    \r\n        private void testMarshalUnmarshal(Object root) throws Exception {\r\n            out.println(&quot;\\nMARSHALLED - - - - - - - - - - - - - - - - - - - -&quot;);\r\n            StringWriter sw = new StringWriter();\r\n            M.marshal(root, sw);\r\n            out.println(sw.toString() + &quot;\\n&quot;);\r\n    \r\n            out.println(&quot;\\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -&quot;);\r\n            Object reunmarshalled = U.unmarshal(new StringReader(sw.toString()));\r\n            out.println(reunmarshalled + &quot;\\n&quot;);\r\n        }\r\n    \r\n        @Before\r\n        public void before() {\r\n            out.println(&quot;\\n= = = = = = = = = = = = = = = = = = = =&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() throws Exception {\r\n            MyObject root = new MyObject(Integer.valueOf(12345));\r\n            testMarshalUnmarshal(root);\r\n        }\r\n    \r\n        @Test\r\n        public void test2() throws Exception {\r\n            MyObject sub = new MyObject(Integer.valueOf(12345));\r\n            MyObject root = new MyObject(sub);\r\n            testMarshalUnmarshal(root);\r\n        }\r\n    \r\n        @Test\r\n        public void test3() throws Exception {\r\n            MyObject oSub = new MyObject(Integer.valueOf(12345));\r\n            List&lt;MyObject&gt; oSubs =\r\n                    Arrays.asList(new MyObject(&quot;sub-1&quot;), new MyObject(&quot;sub-2&quot;),\r\n                            new MyObject(&quot;sub-3&quot;));\r\n    \r\n            MyObject root = new MyObject(oSub);\r\n            for (MyObject o : oSubs) {\r\n                root.elements.add(new JAXBElement&lt;Object&gt;(MyObject.VARIANT_NAME,\r\n                        Object.class, o));\r\n            }\r\n    \r\n            testMarshalUnmarshal(root);\r\n        }\r\n    }\r\n\r\n##Test Output##\r\n**(as you can see, unmarshalling doesn&#39;t take place)**\r\n\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;12345&lt;/QQQ&gt;\r\n\t    &lt;elements/&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t        &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;12345&lt;/QQQ&gt;\r\n\t        &lt;elements/&gt;\r\n\t    &lt;/QQQ&gt;\r\n\t    &lt;elements/&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t\r\n\t= = = = = = = = = = = = = = = = = = = =\r\n\t\r\n\tMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;myObject&gt;\r\n\t    &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t        &lt;QQQ xsi:type=&quot;xs:int&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;12345&lt;/QQQ&gt;\r\n\t        &lt;elements/&gt;\r\n\t    &lt;/QQQ&gt;\r\n\t    &lt;elements&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-1&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-2&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t        &lt;QQQ xsi:type=&quot;myObject&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t            &lt;QQQ xsi:type=&quot;xs:string&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;sub-3&lt;/QQQ&gt;\r\n\t            &lt;elements/&gt;\r\n\t        &lt;/QQQ&gt;\r\n\t    &lt;/elements&gt;\r\n\t&lt;/myObject&gt;\r\n\t\r\n\t\r\n\t\r\n\tUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\r\n\r\n##Unmarshalling Exceptions##\r\n\r\n    java.lang.IllegalArgumentException: Can not set javax.xml.bind.JAXBElement field my._JaxbElementProblem$MyObject.single to com.sun.org.apache.xerces.internal.dom.ElementNSImpl\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:146)\r\n\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:150)\r\n\tat sun.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:63)\r\n\tat java.lang.reflect.Field.set(Field.java:657)\r\n\tat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$FieldReflection.set(Accessor.java:234)\r\n\tat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor.receive(Accessor.java:160)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.endElement(UnmarshallingContext.java:507)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.endElement(SAXConnector.java:145)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2938)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:200)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:173)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)\r\n\tat my._JaxbElementProblem.testMarshalUnmarshal(_JaxbElementProblem.java:84)\r\n\tat my._JaxbElementProblem.test3(_JaxbElementProblem.java:119)\r\n\r\n\r\n","title":"JAXB: Can&#39;t unmarshal JAXBElement&lt;?&gt;, getting ElementNSImpl instead","body":"<p>Related to <a href=\"https://stackoverflow.com/questions/6762115/jaxb-how-to-implement-a-jaxb-compatible-variant-wrapper-class/6765996#6765996\">JAXB: How to implement a JAXB-compatible variant wrapper class?</a>, I tried to use <code>JAXBElement</code> to represent \"variant\" or \"any-type\".</p>\n\n<p>Marshalling went fine, but during Unmarshalling, <code>JAXB</code> tries to assign <code>ElementNSImpl</code> to a <code>JAXBElement</code> field.</p>\n\n<h2>Test Code</h2>\n\n<p><strong>(copy+paste+run)</strong></p>\n\n<pre><code>import static java.lang.System.*;\nimport java.io.*;\nimport java.util.*;\n\nimport javax.xml.bind.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.namespace.*;\n\nimport org.junit.*;\n\npublic class _JaxbElementProblem {\n\n    @XmlRootElement\n    @XmlType\n    @XmlAccessorType(XmlAccessType.NONE)\n    static class MyObject {\n\n        public static final QName VARIANT_NAME = new QName(\"QQQ\");\n\n        @XmlAnyElement(lax = true)\n        private JAXBElement&lt;Object&gt; single = null;\n        @XmlElementWrapper(name = \"elements\")\n        @XmlAnyElement(lax = true)\n        final List&lt;JAXBElement&lt;Object&gt;&gt; elements =\n                new LinkedList&lt;JAXBElement&lt;Object&gt;&gt;();\n\n        @SuppressWarnings(\"unused\")\n        private MyObject() {\n        }\n\n        public MyObject(Object o) {\n            single = new JAXBElement&lt;Object&gt;(VARIANT_NAME, Object.class, o);\n        }\n\n        public Object getSingle() {\n            return single.getValue();\n        }\n\n        public List&lt;Object&gt; getElements() {\n            List&lt;Object&gt; ret = new LinkedList&lt;Object&gt;();\n\n            for (JAXBElement&lt;?&gt; e : elements) {\n                ret.add(e.getValue());\n            }\n\n            return ret;\n        }\n\n        @Override\n        public String toString() {\n            return \"MyObject (single=\" + single.getValue() + \"; elements: \"\n                    + getElements() + \")\";\n        }\n\n    }\n\n    private static final JAXBContext C;\n    private static final Marshaller M;\n    private static final Unmarshaller U;\n\n    static {\n        try {\n            C = JAXBContext.newInstance(MyObject.class);\n\n            M = C.createMarshaller();\n            U = C.createUnmarshaller();\n\n            M.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        } catch (JAXBException ex) {\n            throw new Error(ex);\n        }\n    }\n\n    private void testMarshalUnmarshal(Object root) throws Exception {\n        out.println(\"\\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\");\n        StringWriter sw = new StringWriter();\n        M.marshal(root, sw);\n        out.println(sw.toString() + \"\\n\");\n\n        out.println(\"\\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\");\n        Object reunmarshalled = U.unmarshal(new StringReader(sw.toString()));\n        out.println(reunmarshalled + \"\\n\");\n    }\n\n    @Before\n    public void before() {\n        out.println(\"\\n= = = = = = = = = = = = = = = = = = = =\");\n    }\n\n    @Test\n    public void test1() throws Exception {\n        MyObject root = new MyObject(Integer.valueOf(12345));\n        testMarshalUnmarshal(root);\n    }\n\n    @Test\n    public void test2() throws Exception {\n        MyObject sub = new MyObject(Integer.valueOf(12345));\n        MyObject root = new MyObject(sub);\n        testMarshalUnmarshal(root);\n    }\n\n    @Test\n    public void test3() throws Exception {\n        MyObject oSub = new MyObject(Integer.valueOf(12345));\n        List&lt;MyObject&gt; oSubs =\n                Arrays.asList(new MyObject(\"sub-1\"), new MyObject(\"sub-2\"),\n                        new MyObject(\"sub-3\"));\n\n        MyObject root = new MyObject(oSub);\n        for (MyObject o : oSubs) {\n            root.elements.add(new JAXBElement&lt;Object&gt;(MyObject.VARIANT_NAME,\n                    Object.class, o));\n        }\n\n        testMarshalUnmarshal(root);\n    }\n}\n</code></pre>\n\n<h2>Test Output</h2>\n\n<p><strong>(as you can see, unmarshalling doesn't take place)</strong></p>\n\n<pre><code>= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;12345&lt;/QQQ&gt;\n    &lt;elements/&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n\n= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;12345&lt;/QQQ&gt;\n        &lt;elements/&gt;\n    &lt;/QQQ&gt;\n    &lt;elements/&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n\n= = = = = = = = = = = = = = = = = = = =\n\nMARSHALLED - - - - - - - - - - - - - - - - - - - -\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;myObject&gt;\n    &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;QQQ xsi:type=\"xs:int\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;12345&lt;/QQQ&gt;\n        &lt;elements/&gt;\n    &lt;/QQQ&gt;\n    &lt;elements&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-1&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-2&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n        &lt;QQQ xsi:type=\"myObject\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;QQQ xsi:type=\"xs:string\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;sub-3&lt;/QQQ&gt;\n            &lt;elements/&gt;\n        &lt;/QQQ&gt;\n    &lt;/elements&gt;\n&lt;/myObject&gt;\n\n\n\nUNMARSHALLED - - - - - - - - - - - - - - - - - - - -\n</code></pre>\n\n<h2>Unmarshalling Exceptions</h2>\n\n<pre><code>java.lang.IllegalArgumentException: Can not set javax.xml.bind.JAXBElement field my._JaxbElementProblem$MyObject.single to com.sun.org.apache.xerces.internal.dom.ElementNSImpl\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:146)\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:150)\nat sun.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:63)\nat java.lang.reflect.Field.set(Field.java:657)\nat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor$FieldReflection.set(Accessor.java:234)\nat com.sun.xml.internal.bind.v2.runtime.reflect.Accessor.receive(Accessor.java:160)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.endElement(UnmarshallingContext.java:507)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.endElement(SAXConnector.java:145)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2938)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:200)\nat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:173)\nat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:137)\nat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:194)\nat my._JaxbElementProblem.testMarshalUnmarshal(_JaxbElementProblem.java:84)\nat my._JaxbElementProblem.test3(_JaxbElementProblem.java:119)\n</code></pre>\n"},{"tags":["java","spring","generics","jackson","resttemplate"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1393349246,"post_id":21987295,"comment_id":33381870,"body_markdown":"You should always be able to comment on answers to your questions. The proposed solution works like this. You create a `Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;`. You add pre-constructed `ParameterizedTypeReference` instances for actual types you expect to the `Map` for the corresponding `Class`.","body":"You should always be able to comment on answers to your questions. The proposed solution works like this. You create a <code>Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;</code>. You add pre-constructed <code>ParameterizedTypeReference</code> instances for actual types you expect to the <code>Map</code> for the corresponding <code>Class</code>."},{"owner":{"account_id":1877920,"reputation":451,"user_id":1698727,"display_name":"wesm"},"score":0,"creation_date":1438211289,"post_id":21987295,"comment_id":51363172,"body_markdown":"@SotiriosDelimanolis - Can you rephrase for someone that&#39;s new to Java? I&#39;m coming from a C# background, so this has been quite the interesting experience for me.","body":"@SotiriosDelimanolis - Can you rephrase for someone that&#39;s new to Java? I&#39;m coming from a C# background, so this has been quite the interesting experience for me."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1498834037,"creation_date":1393247462,"answer_id":21988799,"question_id":21987295,"body_markdown":"No, it is not a bug. It is a result of how the `ParameterizedTypeReference` hack works. \r\n\r\nIf you look at its implementation, it uses [`Class#getGenericSuperclass()`][1] which states\r\n\r\n&gt; Returns the Type representing the direct superclass of the entity\r\n&gt; (class, interface, primitive type or void) represented by this Class.\r\n&gt; \r\n&gt; If the superclass is a parameterized type, **the `Type` object returned\r\n&gt; must accurately reflect the actual type parameters used in the source\r\n&gt; code.**\r\n\r\nSo, if you use \r\n\r\n    new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {}\r\n\r\nit will accurately return a `Type` for `ResponseWrapper&lt;MyClass&gt;`. \r\n\r\nIf you use \r\n\r\n    new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n\r\nit will accurately return a `Type` for `ResponseWrapper&lt;T&gt;` because that is how it appears in the source code.\r\n\r\nWhen Spring sees `T`, which is actually a `TypeVariable` object, it doesn&#39;t know the type to use, so it uses its default.\r\n\r\nYou cannot use `ParameterizedTypeReference` the way you are proposing, making it generic in the sense of accepting any type. Consider writing a `Map` with key `Class` mapped to a predefined `ParameterizedTypeReference` for that class.\r\n\r\nYou can subclass `ParameterizedTypeReference` and override its `getType` method to return an appropriately created `ParameterizedType`, [as suggested by IonSpin][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\r\n  [2]: https://stackoverflow.com/a/29547365/438154","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>No, it is not a bug. It is a result of how the <code>ParameterizedTypeReference</code> hack works. </p>\n\n<p>If you look at its implementation, it uses <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getGenericSuperclass%28%29\" rel=\"noreferrer\"><code>Class#getGenericSuperclass()</code></a> which states</p>\n\n<blockquote>\n  <p>Returns the Type representing the direct superclass of the entity\n  (class, interface, primitive type or void) represented by this Class.</p>\n  \n  <p>If the superclass is a parameterized type, <strong>the <code>Type</code> object returned\n  must accurately reflect the actual type parameters used in the source\n  code.</strong></p>\n</blockquote>\n\n<p>So, if you use </p>\n\n<pre><code>new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {}\n</code></pre>\n\n<p>it will accurately return a <code>Type</code> for <code>ResponseWrapper&lt;MyClass&gt;</code>. </p>\n\n<p>If you use </p>\n\n<pre><code>new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n</code></pre>\n\n<p>it will accurately return a <code>Type</code> for <code>ResponseWrapper&lt;T&gt;</code> because that is how it appears in the source code.</p>\n\n<p>When Spring sees <code>T</code>, which is actually a <code>TypeVariable</code> object, it doesn't know the type to use, so it uses its default.</p>\n\n<p>You cannot use <code>ParameterizedTypeReference</code> the way you are proposing, making it generic in the sense of accepting any type. Consider writing a <code>Map</code> with key <code>Class</code> mapped to a predefined <code>ParameterizedTypeReference</code> for that class.</p>\n\n<p>You can subclass <code>ParameterizedTypeReference</code> and override its <code>getType</code> method to return an appropriately created <code>ParameterizedType</code>, <a href=\"https://stackoverflow.com/a/29547365/438154\">as suggested by IonSpin</a>.</p>\n"},{"tags":[],"owner":{"account_id":66988,"reputation":1254,"user_id":196263,"display_name":"IonSpin"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1428608045,"creation_date":1428608045,"answer_id":29547365,"question_id":21987295,"body_markdown":"As Sotirios explains, you can not use the `ParameterizedTypeReference`, but ParameterizedTypeReference is used only to provide `Type` to the object mapper, and as you have the class that is removed when type erasure happens, you can create your own [`ParameterizedType`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html) and pass that to `RestTemplate`, so that the object mapper can reconstruct the object you need.\r\n\r\nFirst you need to have the ParameterizedType interface implemented, you can find an implementation in Google Gson project [here](http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597). \r\nOnce you add the implementation to your project, you can extend the abstract `ParameterizedTypeReference` like this:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class FakeParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\r\n        \r\n    @Override\r\n    public Type getType() {\r\n        Type [] responseWrapperActualTypes = {MyClass.class};\r\n        ParameterizedType responseWrapperType = new ParameterizedTypeImpl(\r\n            ResponseWrapper.class,\r\n            responseWrapperActualTypes,\r\n            null\r\n            );\r\n        return responseWrapperType;\r\n        }\r\n    }\r\nAnd then you can pass that to your exchange function:\r\n\r\n    template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        new FakeParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;());\r\nWith all the type information present object mapper will properly construct your `ResponseWrapper&lt;MyClass&gt;` object","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>As Sotirios explains, you can not use the <code>ParameterizedTypeReference</code>, but ParameterizedTypeReference is used only to provide <code>Type</code> to the object mapper, and as you have the class that is removed when type erasure happens, you can create your own <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/ParameterizedType.html\" rel=\"noreferrer\"><code>ParameterizedType</code></a> and pass that to <code>RestTemplate</code>, so that the object mapper can reconstruct the object you need.</p>\n\n<p>First you need to have the ParameterizedType interface implemented, you can find an implementation in Google Gson project <a href=\"http://code.google.com/p/google-gson/source/browse/trunk/gson/src/main/java/com/google/gson/ParameterizedTypeImpl.java?r=597\" rel=\"noreferrer\">here</a>. \nOnce you add the implementation to your project, you can extend the abstract <code>ParameterizedTypeReference</code> like this:\n</p>\n\n<pre><code>class FakeParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\n\n@Override\npublic Type getType() {\n    Type [] responseWrapperActualTypes = {MyClass.class};\n    ParameterizedType responseWrapperType = new ParameterizedTypeImpl(\n        ResponseWrapper.class,\n        responseWrapperActualTypes,\n        null\n        );\n    return responseWrapperType;\n    }\n}\n</code></pre>\n\n<p>And then you can pass that to your exchange function:</p>\n\n<pre><code>template.exchange(\n    uri,\n    HttpMethod.POST,\n    null,\n    new FakeParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;());\n</code></pre>\n\n<p>With all the type information present object mapper will properly construct your <code>ResponseWrapper&lt;MyClass&gt;</code> object</p>\n"},{"tags":[],"owner":{"account_id":8393238,"reputation":31,"user_id":6301307,"display_name":"Dilettante44"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462553189,"creation_date":1462553189,"answer_id":37077555,"question_id":21987295,"body_markdown":"I have another way to do this... suppose you swap out your message converter to String for your RestTemplate, then you can receive raw JSON.  Using the raw JSON, you can then map it into your Generic Collection using a Jackson Object Mapper.  Here&#39;s how:\r\n\r\nSwap out the message converter:\r\n\r\n\t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; oldConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n\t\toldConverters.addAll(template.getMessageConverters());\r\n\t\t\r\n\t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; stringConverter = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n\t\tstringConverter.add(new StringHttpMessageConverter());\r\n\t\t\r\n\t\ttemplate.setMessageConverters(stringConverter);\r\n\r\nThen get your JSON response like this:\r\n\r\n        ResponseEntity&lt;String&gt; response = template.exchange(uri, HttpMethod.GET, null, String.class);\r\n\r\nProcess the response like this:\r\n\r\n         String body = null;\r\n         List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n         ObjectMapper mapper = new ObjectMapper();\r\n\r\n         if (response.hasBody()) {\r\n            body = items.getBody();\r\n            try {\r\n                result = mapper.readValue(body, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                template.setMessageConverters(oldConverters);\r\n            }\r\n            ...\r\n            ","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I have another way to do this... suppose you swap out your message converter to String for your RestTemplate, then you can receive raw JSON.  Using the raw JSON, you can then map it into your Generic Collection using a Jackson Object Mapper.  Here's how:</p>\n\n<p>Swap out the message converter:</p>\n\n<pre><code>    List&lt;HttpMessageConverter&lt;?&gt;&gt; oldConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    oldConverters.addAll(template.getMessageConverters());\n\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; stringConverter = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    stringConverter.add(new StringHttpMessageConverter());\n\n    template.setMessageConverters(stringConverter);\n</code></pre>\n\n<p>Then get your JSON response like this:</p>\n\n<pre><code>    ResponseEntity&lt;String&gt; response = template.exchange(uri, HttpMethod.GET, null, String.class);\n</code></pre>\n\n<p>Process the response like this:</p>\n\n<pre><code>     String body = null;\n     List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n     ObjectMapper mapper = new ObjectMapper();\n\n     if (response.hasBody()) {\n        body = items.getBody();\n        try {\n            result = mapper.readValue(body, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            template.setMessageConverters(oldConverters);\n        }\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861088,"reputation":177,"user_id":1685666,"display_name":"Ginkobonsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479837335,"creation_date":1479837335,"answer_id":40748550,"question_id":21987295,"body_markdown":"*Note: This answer refers/adds to Sotirios Delimanolis&#39;s answer and comment.*\r\n\r\nI tried to get it to work with `Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;`, as indicated in Sotirios&#39;s comment, but couldn&#39;t without an example.\r\n\r\nIn the end, I dropped the wildcard and parametrisation from ParameterizedTypeReference and used raw types instead, like so\r\n\r\n\r\n    Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&gt; typeReferences = new HashMap&lt;&gt;();\r\n    typeReferences.put(MyClass1.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass1&gt;&gt;() { });\r\n    typeReferences.put(MyClass2.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass2&gt;&gt;() { });\r\n\r\n    ...\r\n\r\n    ParameterizedTypeReference typeRef = typeReferences.get(clazz);\r\n\r\n    ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = restTemplate.exchange(\r\n            uri, \r\n            HttpMethod.GET, \r\n            null, \r\n            typeRef);\r\n\r\nand this finally worked.\r\n\r\nIf anyone has an example with parametrisation, I&#39;d be very grateful to see it.","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p><em>Note: This answer refers/adds to Sotirios Delimanolis's answer and comment.</em></p>\n\n<p>I tried to get it to work with <code>Map&lt;Class, ParameterizedTypeReference&lt;ResponseWrapper&lt;?&gt;&gt;&gt;</code>, as indicated in Sotirios's comment, but couldn't without an example.</p>\n\n<p>In the end, I dropped the wildcard and parametrisation from ParameterizedTypeReference and used raw types instead, like so</p>\n\n<pre><code>Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&gt; typeReferences = new HashMap&lt;&gt;();\ntypeReferences.put(MyClass1.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass1&gt;&gt;() { });\ntypeReferences.put(MyClass2.class, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass2&gt;&gt;() { });\n\n...\n\nParameterizedTypeReference typeRef = typeReferences.get(clazz);\n\nResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = restTemplate.exchange(\n        uri, \n        HttpMethod.GET, \n        null, \n        typeRef);\n</code></pre>\n\n<p>and this finally worked.</p>\n\n<p>If anyone has an example with parametrisation, I'd be very grateful to see it.</p>\n"},{"tags":[],"owner":{"account_id":10025239,"reputation":229,"user_id":7413583,"display_name":"김원겸"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1484300443,"creation_date":1484292854,"answer_id":41629503,"question_id":21987295,"body_markdown":"   As the code below shows it, it works.\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, final Class&lt;T&gt; clazz) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {\r\n                public Type getType() {\r\n\t\t\t\t    return new MyParameterizedTypeImpl((ParameterizedType) super.getType(), new Type[] {clazz});\r\n\t\t\t}\r\n        });\r\n        return response;\r\n    }\r\n\r\n    public class MyParameterizedTypeImpl implements ParameterizedType {\r\n\t\tprivate ParameterizedType delegate;\r\n\t\tprivate Type[] actualTypeArguments;\r\n\t\t\r\n\t\tMyParameterizedTypeImpl(ParameterizedType delegate, Type[] actualTypeArguments) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t\tthis.actualTypeArguments = actualTypeArguments;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Type[] getActualTypeArguments() {\r\n\t\t\treturn actualTypeArguments;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Type getRawType() {\r\n\t\t\treturn delegate.getRawType();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Type getOwnerType() {\r\n\t\t\treturn delegate.getOwnerType();\r\n\t\t}\r\n\t\t\r\n\t}","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>As the code below shows it, it works.</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, final Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {\n            public Type getType() {\n                return new MyParameterizedTypeImpl((ParameterizedType) super.getType(), new Type[] {clazz});\n        }\n    });\n    return response;\n}\n\npublic class MyParameterizedTypeImpl implements ParameterizedType {\n    private ParameterizedType delegate;\n    private Type[] actualTypeArguments;\n\n    MyParameterizedTypeImpl(ParameterizedType delegate, Type[] actualTypeArguments) {\n        this.delegate = delegate;\n        this.actualTypeArguments = actualTypeArguments;\n    }\n\n    @Override\n    public Type[] getActualTypeArguments() {\n        return actualTypeArguments;\n    }\n\n    @Override\n    public Type getRawType() {\n        return delegate.getRawType();\n    }\n\n    @Override\n    public Type getOwnerType() {\n        return delegate.getOwnerType();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508655174,"creation_date":1508655174,"answer_id":46871312,"question_id":21987295,"body_markdown":"Actually, you can do this, but with additional code.\r\n\r\nThere is [Guava](https://github.com/google/guava) equivalent of [ParameterizedTypeReference](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html) and it&#39;s called [TypeToken](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/reflect/TypeToken.html).\r\n\r\nGuava&#39;s class is much more powerful then Spring&#39;s equivalent.\r\nYou can compose the TypeTokens as you wish.\r\nFor example:\r\n\r\n    static &lt;K, V&gt; TypeToken&lt;Map&lt;K, V&gt;&gt; mapToken(TypeToken&lt;K&gt; keyToken, TypeToken&lt;V&gt; valueToken) {\r\n      return new TypeToken&lt;Map&lt;K, V&gt;&gt;() {}\r\n        .where(new TypeParameter&lt;K&gt;() {}, keyToken)\r\n        .where(new TypeParameter&lt;V&gt;() {}, valueToken);\r\n    }\r\n\r\nIf you call `mapToken(TypeToken.of(String.class), TypeToken.of(BigInteger.class));` you will create `TypeToken&lt;Map&lt;String, BigInteger&gt;&gt;`!\r\n\r\nThe only disadvantage here is that many Spring APIs require `ParameterizedTypeReference` and not `TypeToken`. But we can create `ParameterizedTypeReference` implementation which is adapter to `TypeToken` itself.\r\n\r\n    import com.google.common.reflect.TypeToken;\r\n    import org.springframework.core.ParameterizedTypeReference;\r\n    \r\n    import java.lang.reflect.Type;\r\n    \r\n    public class ParameterizedTypeReferenceBuilder {\r\n    \r\n    \tpublic static &lt;T&gt; ParameterizedTypeReference&lt;T&gt; fromTypeToken(TypeToken&lt;T&gt; typeToken) {\r\n    \t\treturn new TypeTokenParameterizedTypeReference&lt;&gt;(typeToken);\r\n    \t}\r\n    \r\n    \tprivate static class TypeTokenParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\r\n    \r\n    \t\tprivate final Type type;\r\n    \r\n    \t\tprivate TypeTokenParameterizedTypeReference(TypeToken&lt;T&gt; typeToken) {\r\n    \t\t\tthis.type = typeToken.getType();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Type getType() {\r\n    \t\t\treturn type;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\treturn (this == obj || (obj instanceof ParameterizedTypeReference &amp;&amp;\r\n    \t\t\t\t\tthis.type.equals(((ParameterizedTypeReference&lt;?&gt;) obj).getType())));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\treturn this.type.hashCode();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;ParameterizedTypeReference&lt;&quot; + this.type + &quot;&gt;&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThen you can use it like this:\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n       ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\r\n               ParameterizedTypeReferenceBuilder.fromTypeToken(\r\n                   new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n                       .where(new TypeParameter&lt;T&gt;() {}, clazz));\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseTypeRef);\r\n        return response;\r\n    }\r\n\r\nAnd call it like:\r\n\r\n    ResponseWrapper&lt;MyClass&gt; result = makeRequest(uri, MyClass.class);\r\n\r\nAnd the response body will be correctly deserialized as `ResponseWrapper&lt;MyClass&gt;`!\r\n\r\nYou can even use more complex types if you rewrite your generic request method (or overload it) like this:\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, TypeToken&lt;T&gt; resultTypeToken) {\r\n       ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\r\n               ParameterizedTypeReferenceBuilder.fromTypeToken(\r\n                   new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\r\n                       .where(new TypeParameter&lt;T&gt;() {}, resultTypeToken));\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseTypeRef);\r\n        return response;\r\n    }\r\n\r\nThis way `T` can be complex type, like `List&lt;MyClass&gt;`.\r\n\r\nAnd call it like:\r\n\r\n    ResponseWrapper&lt;List&lt;MyClass&gt;&gt; result = makeRequest(uri, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {});\r\n","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>Actually, you can do this, but with additional code.</p>\n\n<p>There is <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> equivalent of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"noreferrer\">ParameterizedTypeReference</a> and it's called <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"noreferrer\">TypeToken</a>.</p>\n\n<p>Guava's class is much more powerful then Spring's equivalent.\nYou can compose the TypeTokens as you wish.\nFor example:</p>\n\n<pre><code>static &lt;K, V&gt; TypeToken&lt;Map&lt;K, V&gt;&gt; mapToken(TypeToken&lt;K&gt; keyToken, TypeToken&lt;V&gt; valueToken) {\n  return new TypeToken&lt;Map&lt;K, V&gt;&gt;() {}\n    .where(new TypeParameter&lt;K&gt;() {}, keyToken)\n    .where(new TypeParameter&lt;V&gt;() {}, valueToken);\n}\n</code></pre>\n\n<p>If you call <code>mapToken(TypeToken.of(String.class), TypeToken.of(BigInteger.class));</code> you will create <code>TypeToken&lt;Map&lt;String, BigInteger&gt;&gt;</code>!</p>\n\n<p>The only disadvantage here is that many Spring APIs require <code>ParameterizedTypeReference</code> and not <code>TypeToken</code>. But we can create <code>ParameterizedTypeReference</code> implementation which is adapter to <code>TypeToken</code> itself.</p>\n\n<pre><code>import com.google.common.reflect.TypeToken;\nimport org.springframework.core.ParameterizedTypeReference;\n\nimport java.lang.reflect.Type;\n\npublic class ParameterizedTypeReferenceBuilder {\n\n    public static &lt;T&gt; ParameterizedTypeReference&lt;T&gt; fromTypeToken(TypeToken&lt;T&gt; typeToken) {\n        return new TypeTokenParameterizedTypeReference&lt;&gt;(typeToken);\n    }\n\n    private static class TypeTokenParameterizedTypeReference&lt;T&gt; extends ParameterizedTypeReference&lt;T&gt; {\n\n        private final Type type;\n\n        private TypeTokenParameterizedTypeReference(TypeToken&lt;T&gt; typeToken) {\n            this.type = typeToken.getType();\n        }\n\n        @Override\n        public Type getType() {\n            return type;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            return (this == obj || (obj instanceof ParameterizedTypeReference &amp;&amp;\n                    this.type.equals(((ParameterizedTypeReference&lt;?&gt;) obj).getType())));\n        }\n\n        @Override\n        public int hashCode() {\n            return this.type.hashCode();\n        }\n\n        @Override\n        public String toString() {\n            return \"ParameterizedTypeReference&lt;\" + this.type + \"&gt;\";\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\n           ParameterizedTypeReferenceBuilder.fromTypeToken(\n               new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n                   .where(new TypeParameter&lt;T&gt;() {}, clazz));\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseTypeRef);\n    return response;\n}\n</code></pre>\n\n<p>And call it like:</p>\n\n<pre><code>ResponseWrapper&lt;MyClass&gt; result = makeRequest(uri, MyClass.class);\n</code></pre>\n\n<p>And the response body will be correctly deserialized as <code>ResponseWrapper&lt;MyClass&gt;</code>!</p>\n\n<p>You can even use more complex types if you rewrite your generic request method (or overload it) like this:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, TypeToken&lt;T&gt; resultTypeToken) {\n   ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; responseTypeRef =\n           ParameterizedTypeReferenceBuilder.fromTypeToken(\n               new TypeToken&lt;ResponseWrapper&lt;T&gt;&gt;() {}\n                   .where(new TypeParameter&lt;T&gt;() {}, resultTypeToken));\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseTypeRef);\n    return response;\n}\n</code></pre>\n\n<p>This way <code>T</code> can be complex type, like <code>List&lt;MyClass&gt;</code>.</p>\n\n<p>And call it like:</p>\n\n<pre><code>ResponseWrapper&lt;List&lt;MyClass&gt;&gt; result = makeRequest(uri, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323403,"reputation":496,"user_id":643394,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1550745001,"creation_date":1550745001,"answer_id":54804877,"question_id":21987295,"body_markdown":"I am using [org.springframework.core.ResolvableType][1] for a ListResultEntity&lt;T&gt; :\r\n```\r\n    ResolvableType resolvableType = ResolvableType.forClassWithGenerics(ListResultEntity.class, itemClass);\r\n    ParameterizedTypeReference&lt;ListResultEntity&lt;T&gt;&gt; typeRef = ParameterizedTypeReference.forType(resolvableType.getType());\r\n```\r\n\r\nSo in your case:\r\n```\r\npublic &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        ParameterizedTypeReference.forType(ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz)));\r\n    return response;\r\n}\r\n```\r\n\r\nThis only makes use of spring and of course requires some knowledge about the returned types (but should even work for things like Wrapper&lt;T&lt;U&lt;V&gt;&gt;&gt; as long as you provide the classes as varargs )\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I am using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"noreferrer\">org.springframework.core.ResolvableType</a> for a ListResultEntity :</p>\n\n<pre><code>    ResolvableType resolvableType = ResolvableType.forClassWithGenerics(ListResultEntity.class, itemClass);\n    ParameterizedTypeReference&lt;ListResultEntity&lt;T&gt;&gt; typeRef = ParameterizedTypeReference.forType(resolvableType.getType());\n</code></pre>\n\n<p>So in your case:</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        ParameterizedTypeReference.forType(ResolvableType.forClassWithGenerics(ResponseWrapper.class, clazz)));\n    return response;\n}\n</code></pre>\n\n<p>This only makes use of spring and of course requires some knowledge about the returned types (but should even work for things like Wrapper>> as long as you provide the classes as varargs )</p>\n"},{"tags":[],"owner":{"account_id":2690186,"reputation":743,"user_id":2323686,"display_name":"AlexV"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564644335,"creation_date":1564644335,"answer_id":57303799,"question_id":21987295,"body_markdown":"My own implementation of generic restTemplate call:\r\n\r\n    private &lt;REQ, RES&gt; RES queryRemoteService(String url, HttpMethod method, REQ req, Class reqClass) {\r\n        RES result = null;\r\n        try {\r\n            long startMillis = System.currentTimeMillis();\r\n            \r\n            // Set the Content-Type header\r\n            HttpHeaders requestHeaders = new HttpHeaders();\r\n            requestHeaders.setContentType(new MediaType(&quot;application&quot;,&quot;json&quot;));            \r\n            \r\n            // Set the request entity\r\n            HttpEntity&lt;REQ&gt; requestEntity = new HttpEntity&lt;&gt;(req, requestHeaders);\r\n\r\n            // Create a new RestTemplate instance\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            // Add the Jackson and String message converters\r\n            restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n            restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\r\n\r\n            // Make the HTTP POST request, marshaling the request to JSON, and the response to a String\r\n            ResponseEntity&lt;RES&gt; responseEntity = restTemplate.exchange(url, method, requestEntity, reqClass);\r\n            result = responseEntity.getBody();\r\n            long stopMillis = System.currentTimeMillis() - startMillis;\r\n\r\n            Log.d(TAG, method + &quot;:&quot; + url + &quot; took &quot; + stopMillis + &quot; ms&quot;);\r\n        } catch (Exception e) {\r\n             Log.e(TAG, e.getMessage());\r\n        }\r\n        return result;\r\n    }\r\n\r\nTo add some context, I&#39;m consuming RESTful service with this, hence all requests and responses are wrapped into small POJO like this:\r\n\r\n    public class ValidateRequest {\r\n      User user;\r\n      User checkedUser;\r\n      Vehicle vehicle;\r\n    }\r\n\r\nand\r\n\r\n    public class UserResponse {\r\n      User user;\r\n      RequestResult requestResult;\r\n    }\r\n\r\nMethod which calls this is the following:\r\n\r\n    public User checkUser(User user, String checkedUserName) {\r\n        String url = urlBuilder()\r\n                .add(USER)\r\n                .add(USER_CHECK)\r\n                .build();\r\n\r\n        ValidateRequest request = new ValidateRequest();\r\n        request.setUser(user);\r\n        request.setCheckedUser(new User(checkedUserName));\r\n\r\n        UserResponse response = queryRemoteService(url, HttpMethod.POST, request, UserResponse.class);\r\n        return response.getUser();\r\n    }\r\n\r\nAnd yes, there&#39;s a List&lt;SomeClass&gt; dto-s as well.","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>My own implementation of generic restTemplate call:</p>\n\n<pre><code>private &lt;REQ, RES&gt; RES queryRemoteService(String url, HttpMethod method, REQ req, Class reqClass) {\n    RES result = null;\n    try {\n        long startMillis = System.currentTimeMillis();\n\n        // Set the Content-Type header\n        HttpHeaders requestHeaders = new HttpHeaders();\n        requestHeaders.setContentType(new MediaType(\"application\",\"json\"));            \n\n        // Set the request entity\n        HttpEntity&lt;REQ&gt; requestEntity = new HttpEntity&lt;&gt;(req, requestHeaders);\n\n        // Create a new RestTemplate instance\n        RestTemplate restTemplate = new RestTemplate();\n\n        // Add the Jackson and String message converters\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n        restTemplate.getMessageConverters().add(new StringHttpMessageConverter());\n\n        // Make the HTTP POST request, marshaling the request to JSON, and the response to a String\n        ResponseEntity&lt;RES&gt; responseEntity = restTemplate.exchange(url, method, requestEntity, reqClass);\n        result = responseEntity.getBody();\n        long stopMillis = System.currentTimeMillis() - startMillis;\n\n        Log.d(TAG, method + \":\" + url + \" took \" + stopMillis + \" ms\");\n    } catch (Exception e) {\n         Log.e(TAG, e.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p>To add some context, I'm consuming RESTful service with this, hence all requests and responses are wrapped into small POJO like this:</p>\n\n<pre><code>public class ValidateRequest {\n  User user;\n  User checkedUser;\n  Vehicle vehicle;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class UserResponse {\n  User user;\n  RequestResult requestResult;\n}\n</code></pre>\n\n<p>Method which calls this is the following:</p>\n\n<pre><code>public User checkUser(User user, String checkedUserName) {\n    String url = urlBuilder()\n            .add(USER)\n            .add(USER_CHECK)\n            .build();\n\n    ValidateRequest request = new ValidateRequest();\n    request.setUser(user);\n    request.setCheckedUser(new User(checkedUserName));\n\n    UserResponse response = queryRemoteService(url, HttpMethod.POST, request, UserResponse.class);\n    return response.getUser();\n}\n</code></pre>\n\n<p>And yes, there's a List dto-s as well.</p>\n"},{"tags":[],"owner":{"account_id":3536927,"reputation":653,"user_id":2954973,"accept_rate":71,"display_name":"byronaltice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590193652,"creation_date":1590193652,"answer_id":61965875,"question_id":21987295,"body_markdown":"I feel like there&#39;s a much easier way to do this... Just define a class with the type parameters that you want. e.g.:\r\n\r\n```java\r\n\r\nfinal class MyClassWrappedByResponse extends ResponseWrapper&lt;MyClass&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n}\r\n```\r\n\r\nNow change your code above to this and it should work:\r\n\r\n```java\r\npublic ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\r\n    ResponseEntity&lt;MyClassWrappedByResponse&gt; response = template.exchange(\r\n        uri,\r\n        HttpMethod.POST,\r\n        null,\r\n        MyClassWrappedByResponse.class\r\n    return response;\r\n}\r\n```","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I feel like there's a much easier way to do this... Just define a class with the type parameters that you want. e.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal class MyClassWrappedByResponse extends ResponseWrapper&lt;MyClass&gt; {\n    private static final long serialVersionUID = 1L;\n}\n</code></pre>\n\n<p>Now change your code above to this and it should work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\n    ResponseEntity&lt;MyClassWrappedByResponse&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        MyClassWrappedByResponse.class\n    return response;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16311046,"reputation":63,"user_id":11779675,"display_name":"Raccoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618303586,"creation_date":1618303586,"answer_id":67071553,"question_id":21987295,"body_markdown":"I find this to be a more elegant solution:\r\n\r\n\r\n    private static &lt;T&gt; ParameterizedTypeReference&lt;BaseResponse&lt;T&gt;&gt; typeReferenceOf ( Class&lt;T&gt; tClass ) {\r\n        return ParameterizedTypeReference.forType( sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make( BaseResponse.class, new Type[]{ tClass }, null ) );\r\n    }\r\n\r\nFor example, given the following `BaseResponse` and `ResponseData` classes:\r\n    \r\n    @Getter\r\n    @Setter\r\n    public static class BaseResponse&lt;T&gt; {\r\n        \r\n        private ResponseData&lt;T&gt; response;\r\n        \r\n        public BaseResponse () { }\r\n        \r\n        public boolean hasData () {\r\n            return response != null;\r\n        }\r\n    \r\n        public T data () {\r\n            return response.data;\r\n        }\r\n        \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    public static final class ResponseData&lt;T&gt; {\r\n        \r\n        private T data;\r\n        \r\n        public ResponseData () { }\r\n        \r\n    }\r\n\r\nAnd given a sample `get` method, using `WebClient`:\r\n\r\n    public &lt;T&gt; Mono &lt;T&gt; get ( URI uri, Class&lt;T&gt; tClass ) {\r\n        \r\n        return webClient\r\n            .get            ()\r\n            .uri            ( uriBuilder        -&gt; uriBuilder.pathSegment( uri.getPath() ).build() )\r\n            .exchangeToMono ( clientResponse    -&gt; clientResponse.bodyToMono( typeReferenceOf( tClass ) ) )\r\n            .flatMap        ( baseResponse      -&gt; baseResponse.hasData() ? Mono.just( baseResponse.data() ) : Mono.empty()  );\r\n        \r\n    }\r\n","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>I find this to be a more elegant solution:</p>\n<pre><code>private static &lt;T&gt; ParameterizedTypeReference&lt;BaseResponse&lt;T&gt;&gt; typeReferenceOf ( Class&lt;T&gt; tClass ) {\n    return ParameterizedTypeReference.forType( sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make( BaseResponse.class, new Type[]{ tClass }, null ) );\n}\n</code></pre>\n<p>For example, given the following <code>BaseResponse</code> and <code>ResponseData</code> classes:</p>\n<pre><code>@Getter\n@Setter\npublic static class BaseResponse&lt;T&gt; {\n    \n    private ResponseData&lt;T&gt; response;\n    \n    public BaseResponse () { }\n    \n    public boolean hasData () {\n        return response != null;\n    }\n\n    public T data () {\n        return response.data;\n    }\n    \n}\n\n@Getter\n@Setter\npublic static final class ResponseData&lt;T&gt; {\n    \n    private T data;\n    \n    public ResponseData () { }\n    \n}\n</code></pre>\n<p>And given a sample <code>get</code> method, using <code>WebClient</code>:</p>\n<pre><code>public &lt;T&gt; Mono &lt;T&gt; get ( URI uri, Class&lt;T&gt; tClass ) {\n    \n    return webClient\n        .get            ()\n        .uri            ( uriBuilder        -&gt; uriBuilder.pathSegment( uri.getPath() ).build() )\n        .exchangeToMono ( clientResponse    -&gt; clientResponse.bodyToMono( typeReferenceOf( tClass ) ) )\n        .flatMap        ( baseResponse      -&gt; baseResponse.hasData() ? Mono.just( baseResponse.data() ) : Mono.empty()  );\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2746704,"reputation":411,"user_id":2366973,"display_name":"Stan Towianski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634861482,"creation_date":1634861482,"answer_id":69670068,"question_id":21987295,"body_markdown":"    Abc is come object.\r\n    \r\n    HttpEntity&lt;Abc&gt; httpEntity= new HttpEntity&lt;&gt;( headers );\r\n    ResponseEntity&lt;Abc&gt; resp = null;\r\n    \r\n    resp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;Abc&gt;() {} );\r\n    //----------------------------------------------\r\n    \r\n    public &lt;T&gt; ResponseEntity restCall( String doUrl, HttpMethod httpMethod, HttpEntity&lt;?&gt; httpEntity, ParameterizedTypeReference respRef )\r\n        {\r\n        try {\r\n            return restTemplate.exchange( doUrl, httpMethod, httpEntity, respRef );\r\n            }\r\n        catch( HttpClientErroException exc )\r\n            {\r\n            do whatever\r\n            }\r\n        }\r\n    \r\n    //--------------------------  can also use a generic inside\r\n    public class ComResp&lt;T&gt; {\r\n        private T data;\r\n        public ComResp( T data )\r\n        { this.data = data }\r\n    }\r\n    \r\n    ResponseEntity&lt;ComResp&lt;Abc&gt;&gt; resp = null;\r\n    \r\n    resp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;ComResp&lt;Abc&gt;&gt;() {} );\r\n    \r\n    // spring boot 2.5.3","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<pre><code>Abc is come object.\n\nHttpEntity&lt;Abc&gt; httpEntity= new HttpEntity&lt;&gt;( headers );\nResponseEntity&lt;Abc&gt; resp = null;\n\nresp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;Abc&gt;() {} );\n//----------------------------------------------\n\npublic &lt;T&gt; ResponseEntity restCall( String doUrl, HttpMethod httpMethod, HttpEntity&lt;?&gt; httpEntity, ParameterizedTypeReference respRef )\n    {\n    try {\n        return restTemplate.exchange( doUrl, httpMethod, httpEntity, respRef );\n        }\n    catch( HttpClientErroException exc )\n        {\n        do whatever\n        }\n    }\n\n//--------------------------  can also use a generic inside\npublic class ComResp&lt;T&gt; {\n    private T data;\n    public ComResp( T data )\n    { this.data = data }\n}\n\nResponseEntity&lt;ComResp&lt;Abc&gt;&gt; resp = null;\n\nresp = restCall( doUrl, HttpMethod.GET, httpEntity, new ParameterizedTypeReference&lt;ComResp&lt;Abc&gt;&gt;() {} );\n\n// spring boot 2.5.3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8028904,"reputation":176,"user_id":6054737,"display_name":"Rahul verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670676085,"creation_date":1670676085,"answer_id":74752995,"question_id":21987295,"body_markdown":"\r\n\r\ninstead of `Class&lt;T&gt;` you can create a function that takes `ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;` as paramemter : \r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; response) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            responseExchange);\r\n        return response;\r\n    }\r\n\r\nwhen calling this function provide an instance of ParameterizedTypeReference with the response class in Generic:\r\n\r\n    makeRequest(url, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {})","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>instead of <code>Class&lt;T&gt;</code> you can create a function that takes <code>ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;</code> as paramemter :</p>\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt; response) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        responseExchange);\n    return response;\n}\n</code></pre>\n<p>when calling this function provide an instance of ParameterizedTypeReference with the response class in Generic:</p>\n<pre><code>makeRequest(url, new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {})\n</code></pre>\n"}],"owner":{"account_id":1704112,"reputation":1432,"user_id":1563543,"display_name":"Artyom Kozhemiakin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159518,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":21988799,"answer_count":12,"score":84,"last_activity_date":1695737213,"creation_date":1393243534,"question_id":21987295,"body_markdown":"To use generic types with Spring RestTemplate we need to use `ParameterizedTypeReference` (https://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass/13820584#13820584)\r\n\r\nSuppose I have some class\r\n\r\n    public class MyClass {\r\n        int users[];\r\n        \r\n        public int[] getUsers() { return users; }\r\n        public void setUsers(int[] users) {this.users = users;}\r\n    }\r\n\r\nAnd some wrapper class\r\n\r\n    public class ResponseWrapper &lt;T&gt; {\r\n        T response;\r\n\r\n        public T getResponse () { return response; }\r\n        public void setResponse(T response) {this.response = response;}\r\n    }\r\n\r\nSo if I&#39;m trying to do something like this, all is OK.\r\n    \r\n    public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\r\n        ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {});\r\n        return response;\r\n    }\r\n\r\nBut when I&#39;m trying to create generic variant of the above method ...\r\n\r\n    public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\r\n       ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\r\n            uri,\r\n            HttpMethod.POST,\r\n            null,\r\n            new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {});\r\n        return response;\r\n    }\r\n\r\n... and calling this method like so ...\r\n\r\n    makeRequest(uri, MyClass.class)\r\n\r\n... instead of getting `ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt;` object I&#39;m getting `ResponseEntity&lt;ResponseWrapper&lt;LinkedHashSet&gt;&gt;` object. \r\n\r\nHow can I solve this problem? Is it a RestTemplate bug?\r\n\r\n**UPDATE 1**\r\nThanks to @Sotirios I understand the concept. Unfortunately I&#39;m newly registered here so I cant comment on his answer, so writing it here. Im not sure that I clearly understand how to implement the proposed approach to solve my problem with `Map` with `Class` key (Proposed by @Sotirios in the end of his answer). Would someone mind to give an example?","title":"Using Spring RestTemplate in generic method with generic parameter","body":"<p>To use generic types with Spring RestTemplate we need to use <code>ParameterizedTypeReference</code> (<a href=\"https://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass/13820584#13820584\">Unable to get a generic ResponseEntity&lt;T&gt; where T is a generic class &quot;SomeClass&lt;SomeGenericType&gt;&quot;</a>)</p>\n\n<p>Suppose I have some class</p>\n\n<pre><code>public class MyClass {\n    int users[];\n\n    public int[] getUsers() { return users; }\n    public void setUsers(int[] users) {this.users = users;}\n}\n</code></pre>\n\n<p>And some wrapper class</p>\n\n<pre><code>public class ResponseWrapper &lt;T&gt; {\n    T response;\n\n    public T getResponse () { return response; }\n    public void setResponse(T response) {this.response = response;}\n}\n</code></pre>\n\n<p>So if I'm trying to do something like this, all is OK.</p>\n\n<pre><code>public ResponseWrapper&lt;MyClass&gt; makeRequest(URI uri) {\n    ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;MyClass&gt;&gt;() {});\n    return response;\n}\n</code></pre>\n\n<p>But when I'm trying to create generic variant of the above method ...</p>\n\n<pre><code>public &lt;T&gt; ResponseWrapper&lt;T&gt; makeRequest(URI uri, Class&lt;T&gt; clazz) {\n   ResponseEntity&lt;ResponseWrapper&lt;T&gt;&gt; response = template.exchange(\n        uri,\n        HttpMethod.POST,\n        null,\n        new ParameterizedTypeReference&lt;ResponseWrapper&lt;T&gt;&gt;() {});\n    return response;\n}\n</code></pre>\n\n<p>... and calling this method like so ...</p>\n\n<pre><code>makeRequest(uri, MyClass.class)\n</code></pre>\n\n<p>... instead of getting <code>ResponseEntity&lt;ResponseWrapper&lt;MyClass&gt;&gt;</code> object I'm getting <code>ResponseEntity&lt;ResponseWrapper&lt;LinkedHashSet&gt;&gt;</code> object. </p>\n\n<p>How can I solve this problem? Is it a RestTemplate bug?</p>\n\n<p><strong>UPDATE 1</strong>\nThanks to @Sotirios I understand the concept. Unfortunately I'm newly registered here so I cant comment on his answer, so writing it here. Im not sure that I clearly understand how to implement the proposed approach to solve my problem with <code>Map</code> with <code>Class</code> key (Proposed by @Sotirios in the end of his answer). Would someone mind to give an example?</p>\n"},{"tags":["java","spring","generics","jackson","resttemplate"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1321186218,"post_id":8108887,"comment_id":9947564,"body_markdown":"Plz put the exception trace as well.","body":"Plz put the exception trace as well."},{"owner":{"account_id":50410,"reputation":3979,"user_id":150371,"accept_rate":54,"display_name":"raksja"},"score":0,"creation_date":1371169214,"post_id":8108887,"comment_id":24736399,"body_markdown":"I suppose solution for this is added in 3.2 [SPR-7023](https://jira.springsource.org/browse/SPR-7023)","body":"I suppose solution for this is added in 3.2 <a href=\"https://jira.springsource.org/browse/SPR-7023\" rel=\"nofollow noreferrer\">SPR-7023</a>"},{"owner":{"account_id":33925,"reputation":1400,"user_id":95363,"accept_rate":64,"display_name":"danieljimenez"},"score":0,"creation_date":1399152885,"post_id":8108887,"comment_id":35945755,"body_markdown":"Did you ever find a solution for this? I&#39;m using ParameterizedTypeReference and while it works when I pass in Map&lt;String, String&gt; it doesn&#39;t work when I pass in my concrete class that represents `data` in your model.","body":"Did you ever find a solution for this? I&#39;m using ParameterizedTypeReference and while it works when I pass in Map&lt;String, String&gt; it doesn&#39;t work when I pass in my concrete class that represents <code>data</code> in your model."},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1454996481,"post_id":8108887,"comment_id":58280182,"body_markdown":"Did you a find a solution??","body":"Did you a find a solution??"}],"answers":[{"tags":[],"owner":{"account_id":262703,"reputation":1774,"user_id":547750,"accept_rate":72,"display_name":"Dima"},"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1342703873,"creation_date":1342703873,"answer_id":11561723,"question_id":8108887,"body_markdown":"Do not use generics with RestTemplate. Wrap request and response object with wrapper object that will hide the generics.","title":"Generics with Spring RESTTemplate","body":"<p>Do not use generics with RestTemplate. Wrap request and response object with wrapper object that will hide the generics.</p>\n"},{"tags":[],"owner":{"account_id":53502,"reputation":2186,"user_id":159964,"display_name":"Manimaran Selvan"},"down_vote_count":0,"up_vote_count":172,"is_accepted":true,"score":172,"last_activity_date":1389865499,"creation_date":1389865499,"answer_id":21158245,"question_id":8108887,"body_markdown":"ParameterizedTypeReference has been introduced in 3.2 M2 to workaround this issue.\r\n\r\n    Wrapper&lt;Model&gt; response = restClient.exchange(loginUrl, \r\n                              HttpMethod.GET, \r\n                              null, \r\n                              new ParameterizedTypeReference&lt;Wrapper&lt;Model&gt;&gt;() {}).getBody();\r\n\r\n However, the postForObject/getForObject variant was not introduced.","title":"Generics with Spring RESTTemplate","body":"<p>ParameterizedTypeReference has been introduced in 3.2 M2 to workaround this issue.</p>\n\n<pre><code>Wrapper&lt;Model&gt; response = restClient.exchange(loginUrl, \n                          HttpMethod.GET, \n                          null, \n                          new ParameterizedTypeReference&lt;Wrapper&lt;Model&gt;&gt;() {}).getBody();\n</code></pre>\n\n<p>However, the postForObject/getForObject variant was not introduced.</p>\n"},{"tags":[],"owner":{"account_id":2033607,"reputation":3317,"user_id":1816560,"accept_rate":50,"display_name":"Juan Luis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1390409580,"creation_date":1390409580,"answer_id":21289055,"question_id":8108887,"body_markdown":"The only thing I think you could do is creating a new class that extends Wrapper and uses model as a generic.\r\n\r\n    class WrapperWithModel extends Wrapper&lt;Model&gt;{};\r\n\r\n    WrapperWithModel response = restTemplate.getForObject(URL, WrapperWithModel.class);\r\n\r\nIt&#39;s not the best solution, but at least you won&#39;t have to unmarshall manually the response.","title":"Generics with Spring RESTTemplate","body":"<p>The only thing I think you could do is creating a new class that extends Wrapper and uses model as a generic.</p>\n\n<pre><code>class WrapperWithModel extends Wrapper&lt;Model&gt;{};\n\nWrapperWithModel response = restTemplate.getForObject(URL, WrapperWithModel.class);\n</code></pre>\n\n<p>It's not the best solution, but at least you won't have to unmarshall manually the response.</p>\n"}],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79992,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":21158245,"answer_count":3,"score":92,"last_activity_date":1695737159,"creation_date":1321147637,"question_id":8108887,"body_markdown":"I have a class like that:\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n    \r\n     private String message;\r\n     private T data;\r\n    \r\n     public String getMessage() {\r\n        return message;\r\n     }\r\n\r\n     public void setMessage(String message) {\r\n        this.message = message;\r\n     }\r\n     \r\n     public T getData() {\r\n        return data;\r\n     }\r\n\r\n     public void setData(T data) {\r\n        this.data = data;\r\n     }\r\n\r\n    }\r\n\r\nand I use resttemplate as follows:    \r\n    \r\n    ...\r\n    Wrapper&lt;Model&gt; response = restTemplate.getForObject(URL, Wrapper.class, myMap);\r\n    Model model = response.getData();\r\n    ...\r\n\r\nHowever it throws a: \r\n\r\n    ClassCastException\r\n\r\nI read that: https://stackoverflow.com/questions/4392326/problem-when-trying-to-use-jackson-in-java but didn&#39;t help. There are some topics related to my problem etc.: https://jira.springsource.org/browse/SPR-7002 and https://jira.springsource.org/browse/SPR-7023\r\n\r\nAny ideas?\r\n\r\n**PS:** My error is that:\r\n\r\n    java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to a.b.c.d.Model\r\n\r\nI think resttemplate can not understand my generic variable and maybe it accepts it as an Object instead of generic T. So it becomes a LinkedHashMap. You can read from it [here][1] It says that when explaining from what it marshalls to:\r\n\r\n&gt; JSON Type | Java Type\r\n&gt;\r\n&gt; object    | LinkedHashMap&lt;String,Object&gt;\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes","title":"Generics with Spring RESTTemplate","body":"<p>I have a class like that:</p>\n\n<pre><code>public class Wrapper&lt;T&gt; {\n\n private String message;\n private T data;\n\n public String getMessage() {\n    return message;\n }\n\n public void setMessage(String message) {\n    this.message = message;\n }\n\n public T getData() {\n    return data;\n }\n\n public void setData(T data) {\n    this.data = data;\n }\n\n}\n</code></pre>\n\n<p>and I use resttemplate as follows:    </p>\n\n<pre><code>...\nWrapper&lt;Model&gt; response = restTemplate.getForObject(URL, Wrapper.class, myMap);\nModel model = response.getData();\n...\n</code></pre>\n\n<p>However it throws a: </p>\n\n<pre><code>ClassCastException\n</code></pre>\n\n<p>I read that: <a href=\"https://stackoverflow.com/questions/4392326/problem-when-trying-to-use-jackson-in-java\">Issue when trying to use Jackson in java</a> but didn't help. There are some topics related to my problem etc.: <a href=\"https://jira.springsource.org/browse/SPR-7002\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-7002</a> and <a href=\"https://jira.springsource.org/browse/SPR-7023\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-7023</a></p>\n\n<p>Any ideas?</p>\n\n<p><strong>PS:</strong> My error is that:</p>\n\n<pre><code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to a.b.c.d.Model\n</code></pre>\n\n<p>I think resttemplate can not understand my generic variable and maybe it accepts it as an Object instead of generic T. So it becomes a LinkedHashMap. You can read from it <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"noreferrer\">here</a> It says that when explaining from what it marshalls to:</p>\n\n<blockquote>\n  <p>JSON Type | Java Type</p>\n  \n  <p>object    | LinkedHashMap</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":29534919,"reputation":1,"user_id":22634694,"display_name":"OutOfMemory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695728887,"creation_date":1695728887,"answer_id":77179741,"question_id":77179246,"body_markdown":"How can you be sure that each kafka event is duplicated? \r\nIf you find out this situation by reading logs(\r\n\r\n&gt; log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value())\r\n\r\n). Here is a pertential reason for explaining duplicated event.\r\n\r\nIn my project, I use logback as log framework. \r\nAnd I defined two logback Appender in the project. \r\n1. One appender logs all level project info. \r\n2. Another Appender simply logs error-level project info.\r\nIn this case, error-level logs will be printted twice. \r\n \r\n\r\nSO, Maybe you are just reading duplicate logs, not duplicated events in Kafka. If you want to verify, simply compare the timestamps of the two logs. The same timestamps indicate the same log.","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>How can you be sure that each kafka event is duplicated?\nIf you find out this situation by reading logs(</p>\n<blockquote>\n<p>log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value())</p>\n</blockquote>\n<p>). Here is a pertential reason for explaining duplicated event.</p>\n<p>In my project, I use logback as log framework.\nAnd I defined two logback Appender in the project.</p>\n<ol>\n<li>One appender logs all level project info.</li>\n<li>Another Appender simply logs error-level project info.\nIn this case, error-level logs will be printted twice.</li>\n</ol>\n<p>SO, Maybe you are just reading duplicate logs, not duplicated events in Kafka. If you want to verify, simply compare the timestamps of the two logs. The same timestamps indicate the same log.</p>\n"},{"tags":[],"owner":{"account_id":8091891,"reputation":545,"user_id":6097560,"display_name":"kopaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736440,"creation_date":1695736440,"answer_id":77180683,"question_id":77179246,"body_markdown":"I don&#39;t have a code example at hand, but I&#39;ve done what you&#39;re trying to do with Flink, which is kind of similar to KafkaStreams.\r\n\r\nYou&#39;d have to do following:\r\n\r\n 1. Create a custom `FixedKeyProcessor`/`FixedKeyProcessorSupplier` and introduce a key value state store (with your key type and a boolean &quot;seen&quot;). \r\n2. In the `process()` function you check the state store if your key exists - if not you create an entry in the state with your key and `true` and forward the record. If it exists and your boolean is true, you don&#39;t forward the record (in that sense swallow it, as it is a duplicate). \r\n3. This processor needs to be included in your topology by appending `.processValues(new MySuperCoolFixedKeyProcessorSupplier())`.\r\n\r\nThis will effectively be a filter function, which only lets messages through that have not been seen before, the list of seen messages being your state store, which will be constantly growing with every processed key. Of course you need to think about retaining your state in case of errors, which has some complexities in itself.\r\n\r\nThe boolean variable is actually redundant, but it seems there is no single value store interface - you will never have the situation where you have a key in your state store which has &quot;seen&quot; set to `false`. In case I&#39;m mistaken (as mentioned, I initially performed this with Flink, not KafkaStreams) and there is a fitting StateStore interface, feel free to edit this and correct.","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>I don't have a code example at hand, but I've done what you're trying to do with Flink, which is kind of similar to KafkaStreams.</p>\n<p>You'd have to do following:</p>\n<ol>\n<li>Create a custom <code>FixedKeyProcessor</code>/<code>FixedKeyProcessorSupplier</code> and introduce a key value state store (with your key type and a boolean &quot;seen&quot;).</li>\n<li>In the <code>process()</code> function you check the state store if your key exists - if not you create an entry in the state with your key and <code>true</code> and forward the record. If it exists and your boolean is true, you don't forward the record (in that sense swallow it, as it is a duplicate).</li>\n<li>This processor needs to be included in your topology by appending <code>.processValues(new MySuperCoolFixedKeyProcessorSupplier())</code>.</li>\n</ol>\n<p>This will effectively be a filter function, which only lets messages through that have not been seen before, the list of seen messages being your state store, which will be constantly growing with every processed key. Of course you need to think about retaining your state in case of errors, which has some complexities in itself.</p>\n<p>The boolean variable is actually redundant, but it seems there is no single value store interface - you will never have the situation where you have a key in your state store which has &quot;seen&quot; set to <code>false</code>. In case I'm mistaken (as mentioned, I initially performed this with Flink, not KafkaStreams) and there is a fitting StateStore interface, feel free to edit this and correct.</p>\n"}],"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695736440,"creation_date":1695724961,"question_id":77179246,"body_markdown":"I have application which consuming events from kafka topic and on this topic each one event is duplicated (I cannot change it cause it is an external app behind that). \r\nI would like to provide deduplication there (based on key).\r\nI&#39;m using spring boot and I think that kafka stream could be used there nicely. \r\nI implemented this behaviour but it is wrong cause my consumer still getting the same event twice.\r\n\r\n```    \r\n\r\n@Configuration\r\n@EnableKafkaStreams\r\npublic class KafkaStreamsConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Value(&quot;${spring.application.name}&quot;)\r\n    private String applicationId;\r\n\r\n\r\n    @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\r\n    public KafkaStreamsConfiguration kStreamsConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;deduplication-id&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE_V2);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        return new KafkaStreamsConfiguration(props);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public KStream&lt;String, String&gt; kStream(StreamsBuilder streamsBuilder) {\r\n        KStream&lt;String, String&gt; stream = streamsBuilder.stream(&quot;inputTopic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeAndGrace(Duration.ofSeconds(30), Duration.ofMillis(3000)))\r\n                .reduce((oldValue, newValue) -&gt; newValue)\r\n                .toStream()\r\n                .map(((stringWindowed, value) -&gt; new KeyValue&lt;&gt;(stringWindowed.key(), value)))\r\n                .to(&quot;outputTopic&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n        return stream;\r\n    }\r\n}\r\n```\r\n\r\nMy consumer look like that:\r\n\r\n```\r\n    @KafkaListener(topics = {&quot;output-topic&quot;}, groupId = &quot;spring.kafka.consumer.group-id&quot;)\r\n    public void consumeEventRelease(ConsumerRecord&lt;String, String&gt; consumerRecord)  {\r\n        log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value());\r\n        //some further implementation\r\n    }\r\n```\r\n\r\nAs you can see I also used &#39;exactly_once&#39; property.\r\nI&#39;m not sure what am I missing here, I would appreciate some help. Maybe I should use spring-cloud-streams for it?","title":"Deduplicate kafka events with kafka streams before reaching consumer","body":"<p>I have application which consuming events from kafka topic and on this topic each one event is duplicated (I cannot change it cause it is an external app behind that).\nI would like to provide deduplication there (based on key).\nI'm using spring boot and I think that kafka stream could be used there nicely.\nI implemented this behaviour but it is wrong cause my consumer still getting the same event twice.</p>\n<pre><code>\n@Configuration\n@EnableKafkaStreams\npublic class KafkaStreamsConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Value(&quot;${spring.application.name}&quot;)\n    private String applicationId;\n\n\n    @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\n    public KafkaStreamsConfiguration kStreamsConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;deduplication-id&quot;);\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG, StreamsConfig.EXACTLY_ONCE_V2);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        return new KafkaStreamsConfiguration(props);\n    }\n\n\n    @Bean\n    public KStream&lt;String, String&gt; kStream(StreamsBuilder streamsBuilder) {\n        KStream&lt;String, String&gt; stream = streamsBuilder.stream(&quot;inputTopic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\n                .groupByKey()\n                .windowedBy(TimeWindows.ofSizeAndGrace(Duration.ofSeconds(30), Duration.ofMillis(3000)))\n                .reduce((oldValue, newValue) -&gt; newValue)\n                .toStream()\n                .map(((stringWindowed, value) -&gt; new KeyValue&lt;&gt;(stringWindowed.key(), value)))\n                .to(&quot;outputTopic&quot;, Produced.with(Serdes.String(), Serdes.String()));\n        return stream;\n    }\n}\n</code></pre>\n<p>My consumer look like that:</p>\n<pre><code>    @KafkaListener(topics = {&quot;output-topic&quot;}, groupId = &quot;spring.kafka.consumer.group-id&quot;)\n    public void consumeEventRelease(ConsumerRecord&lt;String, String&gt; consumerRecord)  {\n        log.info(&quot;Kafka consumer received message {}&quot;, consumerRecord.value());\n        //some further implementation\n    }\n</code></pre>\n<p>As you can see I also used 'exactly_once' property.\nI'm not sure what am I missing here, I would appreciate some help. Maybe I should use spring-cloud-streams for it?</p>\n"},{"tags":["java","graph","gremlin"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1695735543,"post_id":77175082,"comment_id":136062104,"body_markdown":"the `mergeE` step is intended to be used when looking for exact matches. Passing in a Predicate like `lte` is not going to do what it appears it may. In this particular case using the older `fold` ... `coalesce` pattern is likely going to be easier. As time allows I will try to write up an answer with an example.","body":"the <code>mergeE</code> step is intended to be used when looking for exact matches. Passing in a Predicate like <code>lte</code> is not going to do what it appears it may. In this particular case using the older <code>fold</code> ... <code>coalesce</code> pattern is likely going to be easier. As time allows I will try to write up an answer with an example."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695736398,"creation_date":1695736398,"answer_id":77180674,"question_id":77175082,"body_markdown":"The `mergeE` step is intended to be used when looking for exact matches. Passing in a Predicate like `lte` is not going to do what it appears it may. In this particular case using the older `fold` ... `coalesce` pattern is likely going to be easier.  \r\n\r\nUsing the air routes data set, we can use a query like the following to see if an edge exists where the `elev` property is greater than 9,500 and the incoming vertex has an ID of 56 and the outgoing vertex has an ID of 35.\r\n\r\n```java\r\ng.E().hasLabel(&#39;route&#39;).\r\n      has(&#39;dist&#39;,gte(9500)).\r\n      where(inV().hasId(56).and().outV().hasId(35))   \r\n```\r\n\r\nWhen run in the Gremlin console we can see that it finds a matching edge.\r\n\r\n```java\r\ngremlin&gt; g.E().hasLabel(&#39;route&#39;).\r\n......1&gt;       has(&#39;dist&#39;,gte(9500)).\r\n......2&gt;       where(inV().hasId(56).and().outV().hasId(35)) \r\n  \r\n==&gt;e[8239][35-route-&gt;56] \r\n```\r\n\r\nFor the case where the edge does not exist, the `fold`...`coalesce` pattern can be used.\r\n\r\n```java\r\ng.E().hasLabel(&#39;route&#39;).\r\n      has(&#39;dist&#39;,gte(9500)).\r\n      where(inV().hasId(56).and().outV().hasId(35)).\r\n      fold().\r\n      coalesce(unfold(),addE(&#39;route&#39;).from(V(35)).to(V(56)).property(&#39;dist&#39;,9523))\r\n```\r\n\r\nAny properties that need adding to both an existing edge and a new one, can be added after the `coalesce` step.","title":"Merge edge based on conditional property check","body":"<p>The <code>mergeE</code> step is intended to be used when looking for exact matches. Passing in a Predicate like <code>lte</code> is not going to do what it appears it may. In this particular case using the older <code>fold</code> ... <code>coalesce</code> pattern is likely going to be easier.</p>\n<p>Using the air routes data set, we can use a query like the following to see if an edge exists where the <code>elev</code> property is greater than 9,500 and the incoming vertex has an ID of 56 and the outgoing vertex has an ID of 35.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.E().hasLabel('route').\n      has('dist',gte(9500)).\n      where(inV().hasId(56).and().outV().hasId(35))   \n</code></pre>\n<p>When run in the Gremlin console we can see that it finds a matching edge.</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.E().hasLabel('route').\n......1&gt;       has('dist',gte(9500)).\n......2&gt;       where(inV().hasId(56).and().outV().hasId(35)) \n  \n==&gt;e[8239][35-route-&gt;56] \n</code></pre>\n<p>For the case where the edge does not exist, the <code>fold</code>...<code>coalesce</code> pattern can be used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.E().hasLabel('route').\n      has('dist',gte(9500)).\n      where(inV().hasId(56).and().outV().hasId(35)).\n      fold().\n      coalesce(unfold(),addE('route').from(V(35)).to(V(56)).property('dist',9523))\n</code></pre>\n<p>Any properties that need adding to both an existing edge and a new one, can be added after the <code>coalesce</code> step.</p>\n"}],"owner":{"account_id":5599849,"reputation":3,"user_id":4436430,"display_name":"Ravi Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77180674,"answer_count":1,"score":0,"last_activity_date":1695736398,"creation_date":1695667739,"question_id":77175082,"body_markdown":"My edge contains properties `active` and `inactive`. I am trying to perform `add if not exists` for the edge where the condition is to check if the input date falls between `active` and `inactive` dates or not.\r\n\r\nI am getting the below error\r\n\r\n`Caused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Graph traversal error, message=option(onCreate) cannot override values from merge() argument: (active, 1695658399064), code=ILLEGAL_INPUT`\r\n\r\n```\r\ng.mergeE(asMap(\r\n\t\tT.label, &quot;ben&quot;,\r\n\t\t&quot;active&quot;, lte(&quot;1695658399064&quot;),\r\n\t\t&quot;inactive&quot;, gt(&quot;1695658399064&quot;),\r\n\t\tDirection.IN, Merge.inV,\r\n\t\tDirection.OUT, Merge.outV\r\n\t))\r\n\t.option(Merge.onCreate, asMap(\r\n\t\t\tT.label, &quot;ben&quot;,\r\n\t\t\t&quot;active&quot;, 1695658399064,\r\n\t\t\t&quot;inactive&quot;, 1995658399064,\r\n\t\t\tDirection.IN, Merge.inV,\r\n\t\t\tDirection.OUT, Merge.outV\r\n\t))\r\n        .option(Merge.inV, select(&quot;v1&quot;))\r\n        .option(Merge.outV, select(&quot;v2&quot;))\r\n```","title":"Merge edge based on conditional property check","body":"<p>My edge contains properties <code>active</code> and <code>inactive</code>. I am trying to perform <code>add if not exists</code> for the edge where the condition is to check if the input date falls between <code>active</code> and <code>inactive</code> dates or not.</p>\n<p>I am getting the below error</p>\n<p><code>Caused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Graph traversal error, message=option(onCreate) cannot override values from merge() argument: (active, 1695658399064), code=ILLEGAL_INPUT</code></p>\n<pre><code>g.mergeE(asMap(\n        T.label, &quot;ben&quot;,\n        &quot;active&quot;, lte(&quot;1695658399064&quot;),\n        &quot;inactive&quot;, gt(&quot;1695658399064&quot;),\n        Direction.IN, Merge.inV,\n        Direction.OUT, Merge.outV\n    ))\n    .option(Merge.onCreate, asMap(\n            T.label, &quot;ben&quot;,\n            &quot;active&quot;, 1695658399064,\n            &quot;inactive&quot;, 1995658399064,\n            Direction.IN, Merge.inV,\n            Direction.OUT, Merge.outV\n    ))\n        .option(Merge.inV, select(&quot;v1&quot;))\n        .option(Merge.outV, select(&quot;v2&quot;))\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1695736100,"post_id":77180519,"comment_id":136062229,"body_markdown":"Have the circle at same level inside a new layout . right now circle contains the icon thats the problem . Use a new layout as wrapper.. `FrameLayout(outer)-&gt; FrameLayout(circle) + ImageView`","body":"Have the circle at same level inside a new layout . right now circle contains the icon thats the problem . Use a new layout as wrapper.. <code>FrameLayout(outer)-&gt; FrameLayout(circle) + ImageView</code>"}],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695736383,"creation_date":1695736383,"answer_id":77180672,"question_id":77180519,"body_markdown":"The ImageView rotates with the FrameLayout I dont see how u can prevent it. however u can rotate the ImageView by the same amount but in the opposite direction.\r\n\r\n    private void rotateCircle() {\r\n        // this rotates circle each 1 second by -45 degrees\r\n        ViewPropertyAnimator circleAnimator = circle.animate().rotationBy(-45);\r\n        circleAnimator.start();\r\n    \r\n        // counteract the rotation on the icon\r\n        ViewPropertyAnimator iconAnimator = icon.animate().rotationBy(45);\r\n        iconAnimator.start();\r\n    }\r\n\r\n","title":"Animation and Rotation on circluar view in android","body":"<p>The ImageView rotates with the FrameLayout I dont see how u can prevent it. however u can rotate the ImageView by the same amount but in the opposite direction.</p>\n<pre><code>private void rotateCircle() {\n    // this rotates circle each 1 second by -45 degrees\n    ViewPropertyAnimator circleAnimator = circle.animate().rotationBy(-45);\n    circleAnimator.start();\n\n    // counteract the rotation on the icon\n    ViewPropertyAnimator iconAnimator = icon.animate().rotationBy(45);\n    iconAnimator.start();\n}\n</code></pre>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695736383,"creation_date":1695735223,"question_id":77180519,"body_markdown":"I have created a circular frameLayout, inside this frameLayout i have another view which an icon of charactor , in my code i&#39;m rotating that circular layout each 1 second by -45 degress continousely , the issue that i have run into is that while the circle is rotating , it rotates the icon inside as well , is there anyway to prevent it from rotating , Thank you in advance for any help .\r\n\r\n\r\n * This is the layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/circle&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;180dp&quot;\r\n        android:background=&quot;@drawable/circle_shape&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:src=&quot;@drawable/download&quot;\r\n            android:scaleType=&quot;centerInside&quot;\r\n            android:translationY=&quot;40dp&quot;\r\n            /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/animate&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_marginBottom=&quot;124dp&quot;\r\n        android:text=&quot;animate&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.536&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n * This is the code used to rotate circle\r\n\r\n```\r\n animate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                pulsateIcon();\r\n\r\n                Handler handler = new Handler(Looper.getMainLooper());\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        rotateCircle();\r\n                        handler.postDelayed(this,1000);\r\n                    }\r\n                },1000);\r\n\r\n            }\r\n        });\r\n\r\n private void rotateCircle() {\r\n\r\n        // this rotates circle each 1 second by -45 degress\r\n        ViewPropertyAnimator viewPropertyAnimator =  circle.animate().rotationBy(-45);\r\n        viewPropertyAnimator.start();\r\n        \r\n        // i want to stop this view from rotating as it rotates with circle\r\n        icon.animate().rotationBy(0f);\r\n\r\n    }\r\n\r\n    private void pulsateIcon(){\r\n         if(!isPulsating){\r\n             isPulsating = true;\r\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.4f),\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.4f));\r\n             objectAnimator.setInterpolator(new BounceInterpolator());\r\n             objectAnimator.setDuration(2500);\r\n             objectAnimator.start();\r\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\r\n                 @Override\r\n                 public void onAnimationEnd(Animator animation) {\r\n                     super.onAnimationEnd(animation);\r\n                     pulsateIcon();\r\n                 }\r\n             });\r\n         } else {\r\n             isPulsating = false;\r\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.0f),\r\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.0f));\r\n             objectAnimator.setInterpolator(new BounceInterpolator());\r\n             objectAnimator.setDuration(2500);\r\n             objectAnimator.start();\r\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\r\n                 @Override\r\n                 public void onAnimationEnd(Animator animation) {\r\n                     super.onAnimationEnd(animation);\r\n                     pulsateIcon();\r\n                 }\r\n             });\r\n         }\r\n     }\r\n```","title":"Animation and Rotation on circluar view in android","body":"<p>I have created a circular frameLayout, inside this frameLayout i have another view which an icon of charactor , in my code i'm rotating that circular layout each 1 second by -45 degress continousely , the issue that i have run into is that while the circle is rotating , it rotates the icon inside as well , is there anyway to prevent it from rotating , Thank you in advance for any help .</p>\n<ul>\n<li>This is the layout</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/circle&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;180dp&quot;\n        android:background=&quot;@drawable/circle_shape&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; &gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;20dp&quot;\n            android:src=&quot;@drawable/download&quot;\n            android:scaleType=&quot;centerInside&quot;\n            android:translationY=&quot;40dp&quot;\n            /&gt;\n\n    &lt;/FrameLayout&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/animate&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_marginBottom=&quot;124dp&quot;\n        android:text=&quot;animate&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.536&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is the code used to rotate circle</li>\n</ul>\n<pre><code> animate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                pulsateIcon();\n\n                Handler handler = new Handler(Looper.getMainLooper());\n                handler.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        rotateCircle();\n                        handler.postDelayed(this,1000);\n                    }\n                },1000);\n\n            }\n        });\n\n private void rotateCircle() {\n\n        // this rotates circle each 1 second by -45 degress\n        ViewPropertyAnimator viewPropertyAnimator =  circle.animate().rotationBy(-45);\n        viewPropertyAnimator.start();\n        \n        // i want to stop this view from rotating as it rotates with circle\n        icon.animate().rotationBy(0f);\n\n    }\n\n    private void pulsateIcon(){\n         if(!isPulsating){\n             isPulsating = true;\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.4f),\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.4f));\n             objectAnimator.setInterpolator(new BounceInterpolator());\n             objectAnimator.setDuration(2500);\n             objectAnimator.start();\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\n                 @Override\n                 public void onAnimationEnd(Animator animation) {\n                     super.onAnimationEnd(animation);\n                     pulsateIcon();\n                 }\n             });\n         } else {\n             isPulsating = false;\n             ObjectAnimator objectAnimator = ObjectAnimator.ofPropertyValuesHolder(icon,\n                     PropertyValuesHolder.ofFloat(&quot;scaleX&quot;,1.0f),\n                     PropertyValuesHolder.ofFloat(&quot;scaleY&quot;,1.0f));\n             objectAnimator.setInterpolator(new BounceInterpolator());\n             objectAnimator.setDuration(2500);\n             objectAnimator.start();\n             objectAnimator.addListener(new AnimatorListenerAdapter() {\n                 @Override\n                 public void onAnimationEnd(Animator animation) {\n                     super.onAnimationEnd(animation);\n                     pulsateIcon();\n                 }\n             });\n         }\n     }\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695736433,"post_id":77180599,"comment_id":136062313,"body_markdown":"What does `LinkedListBase` look like? Does it also have a field `head`? Did you declare the field `head` in both classes? Note that fields aren&#39;t overridden in java inheritence. So if you did you&#39;ll just end up with your subclass `DoublyLinkedList` having 2 `head` fields. (With one shadowing the other )","body":"What does <code>LinkedListBase</code> look like? Does it also have a field <code>head</code>? Did you declare the field <code>head</code> in both classes? Note that fields aren&#39;t overridden in java inheritence. So if you did you&#39;ll just end up with your subclass <code>DoublyLinkedList</code> having 2 <code>head</code> fields. (With one shadowing the other )"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695739985,"post_id":77180599,"comment_id":136063148,"body_markdown":"There is no reason to write `super();` in the constructor. It will call the base class&#39;s constructor by default. At what line are you getting the exception?","body":"There is no reason to write <code>super();</code> in the constructor. It will call the base class&#39;s constructor by default. At what line are you getting the exception?"},{"owner":{"account_id":8073162,"reputation":7019,"user_id":6085193,"accept_rate":79,"display_name":"Transformer"},"score":0,"creation_date":1695743682,"post_id":77180599,"comment_id":136064040,"body_markdown":"*First issue*, while you are utilizing a `LinkedListBase&lt;Integer&gt;` of generic type, however, the `LinkedListBase` class in the provided code is not generic. \n\nI modified it to `LinkedListBase&lt;E&gt;` in order to mathcup with the generic type of DoublyLinkedList seems to work for me\n\n___________\n\n*Second Issue*: also within your ListTest class, tyour seem to be printing `list1.head` after invokeing `testLinkedInsert`. \n\nProblem issue here is that the head property in your `DoublyLinkedList` class cannot be accessed as it is declared as `private`. ***change it to public***","body":"<i>First issue</i>, while you are utilizing a <code>LinkedListBase&lt;Integer&gt;</code> of generic type, however, the <code>LinkedListBase</code> class in the provided code is not generic.   I modified it to <code>LinkedListBase&lt;E&gt;</code> in order to mathcup with the generic type of DoublyLinkedList seems to work for me  ___________  <i>Second Issue</i>: also within your ListTest class, tyour seem to be printing <code>list1.head</code> after invokeing <code>testLinkedInsert</code>.   Problem issue here is that the head property in your <code>DoublyLinkedList</code> class cannot be accessed as it is declared as <code>private</code>. <b><i>change it to public</i></b>"}],"owner":{"account_id":29090457,"reputation":11,"user_id":22284459,"display_name":"Emmanuel Pierre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695741587,"answer_count":0,"score":1,"last_activity_date":1695735830,"creation_date":1695735830,"question_id":77180599,"body_markdown":"Here&#39;s my node class:\r\n\r\n```\r\npackage esp.types;\r\n\r\npublic class Node&lt;E&gt; {\r\n    public E value;\r\n    public Node&lt;E&gt; next;\r\n\r\n    public Node(E value) {\r\n        this.value = value;\r\n        this.next = null;\r\n    }\r\n\r\n    public Node(E value, Node&lt;E&gt; next) {\r\n        this.value = value;\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s my DoublyLinkedList class:\r\n```\r\npackage esp.impls;\r\n\r\nimport esp.impls.LinkedListBase;\r\nimport esp.types.Node;\r\n\r\npublic class DoublyLinkedList&lt;E&gt; extends LinkedListBase&lt;E&gt; {\r\n    public Node&lt;E&gt; head;\r\n    private Node&lt;E&gt; currPos;\r\n\r\n    public DoublyLinkedList() {\r\n        super();\r\n    }\r\n    public Node&lt;E&gt; getHead() {\r\n        return this.head;\r\n    }\r\n    public void insert(E item) {\r\n        if (this.head == null) {\r\n            this.head = new Node&lt;E&gt;(item);\r\n            return;\r\n        }\r\n        Node&lt;E&gt; temp = head;\r\n        while (temp.next != null) {\r\n            temp = temp.next;\r\n        }\r\n        temp.next = new Node&lt;E&gt;(item);\r\n    }\r\n\r\n    public void delete(E item) {\r\n        System.out.println(&quot;built&quot;);\r\n    }\r\n\r\n    public int getLength() {\r\n        Node&lt;E&gt; temp = head;\r\n        int count = 0;\r\n        while (temp != null) {\r\n            count++;\r\n            temp = temp.next;\r\n        }\r\n        return count;\r\n    }\r\n\r\n    public int searchItem(E item) {\r\n        return 0;\r\n\r\n    }\r\n\r\n    public E getNextItem() {\r\n        E please = head.value;\r\n        return please;\r\n    }\r\n\r\n    public void resetList() {\r\n        System.out.print(&quot;built&quot;);\r\n    }\r\n\r\n}\r\n```\r\nAnd here&#39;s where I test:\r\n```\r\npackage esp.tests;\r\n\r\nimport esp.impls.DoublyLinkedList;\r\nimport esp.impls.LinkedListBase;\r\nimport esp.types.Node;\r\n\r\npublic class ListTest {\r\n    public static void main(String[] args) {\r\n        LinkedListBase&lt;Integer&gt; list1 = new DoublyLinkedList&lt;Integer&gt;();\r\n        list1 = testLinkedInsert(list1);\r\n        System.out.println(list1.head);\r\n    }\r\n    public static void testLinked(LinkedListBase&lt;Integer&gt; list) {\r\n        testLinkedInsert(list);\r\n        testLinkedDelete(list);\r\n        testLinkedLength(list);\r\n    }\r\n\r\n    public static LinkedListBase&lt;Integer&gt; testLinkedInsert(LinkedListBase&lt;Integer&gt; listl) {\r\n        System.out.println(&quot;Testing Insert&quot;);\r\n        listl.insert(10);\r\n        printList(listl);\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n        return listl;\r\n    }\r\n\r\n    public static void testLinkedDelete(LinkedListBase&lt;Integer&gt; list) {\r\n        System.out.println(&quot;Testing Delete&quot;);\r\n        list.delete(10);\r\n        list.delete(20);\r\n        list.delete(0);\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n    }\r\n\r\n    public static void testLinkedLength(LinkedListBase&lt;Integer&gt; list) {\r\n        System.out.println(&quot;Testing Length&quot;);\r\n        list.getLength();\r\n        System.out.println(&quot;Done!\\n&quot;);\r\n    }\r\n\r\n    public static void printList(LinkedListBase&lt;Integer&gt; list) {\r\n        Node&lt;Integer&gt; temp = list.head;\r\n        for (int i = 0; i &lt; list.getLength(); i++) {\r\n            if (i == 0) {\r\n                System.out.print(&quot;[&quot;);\r\n            }\r\n            //System.out.print(temp.value);\r\n            if (i == list.getLength() - 1) {\r\n                System.out.println(&quot;]&quot;);\r\n            } else {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            //temp = temp.next;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nWhen I first tried to do test inserting I go null pointer exceptions and then I tried to see why so I found out that when I&#39;m in my testing class, the head is coming up null.\r\n\r\n\r\nI tried checking to see if this happens in the insert method, but it is correctly updating the head while in that method. But when I go to the ListTest class the head is null. I can&#39;t find the issue at all.","title":"Why is my head coming up null when I try to insert into LinkedList (ignore the name DoublyLinkedList it&#39;s not one yet)?","body":"<p>Here's my node class:</p>\n<pre><code>package esp.types;\n\npublic class Node&lt;E&gt; {\n    public E value;\n    public Node&lt;E&gt; next;\n\n    public Node(E value) {\n        this.value = value;\n        this.next = null;\n    }\n\n    public Node(E value, Node&lt;E&gt; next) {\n        this.value = value;\n        this.next = next;\n    }\n}\n</code></pre>\n<p>And here's my DoublyLinkedList class:</p>\n<pre><code>package esp.impls;\n\nimport esp.impls.LinkedListBase;\nimport esp.types.Node;\n\npublic class DoublyLinkedList&lt;E&gt; extends LinkedListBase&lt;E&gt; {\n    public Node&lt;E&gt; head;\n    private Node&lt;E&gt; currPos;\n\n    public DoublyLinkedList() {\n        super();\n    }\n    public Node&lt;E&gt; getHead() {\n        return this.head;\n    }\n    public void insert(E item) {\n        if (this.head == null) {\n            this.head = new Node&lt;E&gt;(item);\n            return;\n        }\n        Node&lt;E&gt; temp = head;\n        while (temp.next != null) {\n            temp = temp.next;\n        }\n        temp.next = new Node&lt;E&gt;(item);\n    }\n\n    public void delete(E item) {\n        System.out.println(&quot;built&quot;);\n    }\n\n    public int getLength() {\n        Node&lt;E&gt; temp = head;\n        int count = 0;\n        while (temp != null) {\n            count++;\n            temp = temp.next;\n        }\n        return count;\n    }\n\n    public int searchItem(E item) {\n        return 0;\n\n    }\n\n    public E getNextItem() {\n        E please = head.value;\n        return please;\n    }\n\n    public void resetList() {\n        System.out.print(&quot;built&quot;);\n    }\n\n}\n</code></pre>\n<p>And here's where I test:</p>\n<pre><code>package esp.tests;\n\nimport esp.impls.DoublyLinkedList;\nimport esp.impls.LinkedListBase;\nimport esp.types.Node;\n\npublic class ListTest {\n    public static void main(String[] args) {\n        LinkedListBase&lt;Integer&gt; list1 = new DoublyLinkedList&lt;Integer&gt;();\n        list1 = testLinkedInsert(list1);\n        System.out.println(list1.head);\n    }\n    public static void testLinked(LinkedListBase&lt;Integer&gt; list) {\n        testLinkedInsert(list);\n        testLinkedDelete(list);\n        testLinkedLength(list);\n    }\n\n    public static LinkedListBase&lt;Integer&gt; testLinkedInsert(LinkedListBase&lt;Integer&gt; listl) {\n        System.out.println(&quot;Testing Insert&quot;);\n        listl.insert(10);\n        printList(listl);\n        System.out.println(&quot;Done!\\n&quot;);\n        return listl;\n    }\n\n    public static void testLinkedDelete(LinkedListBase&lt;Integer&gt; list) {\n        System.out.println(&quot;Testing Delete&quot;);\n        list.delete(10);\n        list.delete(20);\n        list.delete(0);\n        System.out.println(&quot;Done!\\n&quot;);\n    }\n\n    public static void testLinkedLength(LinkedListBase&lt;Integer&gt; list) {\n        System.out.println(&quot;Testing Length&quot;);\n        list.getLength();\n        System.out.println(&quot;Done!\\n&quot;);\n    }\n\n    public static void printList(LinkedListBase&lt;Integer&gt; list) {\n        Node&lt;Integer&gt; temp = list.head;\n        for (int i = 0; i &lt; list.getLength(); i++) {\n            if (i == 0) {\n                System.out.print(&quot;[&quot;);\n            }\n            //System.out.print(temp.value);\n            if (i == list.getLength() - 1) {\n                System.out.println(&quot;]&quot;);\n            } else {\n                System.out.print(&quot;, &quot;);\n            }\n            //temp = temp.next;\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>When I first tried to do test inserting I go null pointer exceptions and then I tried to see why so I found out that when I'm in my testing class, the head is coming up null.</p>\n<p>I tried checking to see if this happens in the insert method, but it is correctly updating the head while in that method. But when I go to the ListTest class the head is null. I can't find the issue at all.</p>\n"},{"tags":["java","json","spring","spring-boot","fasterxml"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695736909,"post_id":77175765,"comment_id":136062444,"body_markdown":"If you are using the `@JsonSerialize` annotation you don&#39;t have to add the serializer within `simpleModule.addSerializer()`. Could you try removing/commenting the annotation and checking result?","body":"If you are using the <code>@JsonSerialize</code> annotation you don&#39;t have to add the serializer within <code>simpleModule.addSerializer()</code>. Could you try removing/commenting the annotation and checking result?"},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695755490,"post_id":77175765,"comment_id":136066146,"body_markdown":"modal classes are from external library , I will not be able to modify the classes to add @JsonSerialize annotation, Is there any alternative way we can implement the solution.","body":"modal classes are from external library , I will not be able to modify the classes to add @JsonSerialize annotation, Is there any alternative way we can implement the solution."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695761378,"post_id":77175765,"comment_id":136067124,"body_markdown":"Sorry, I missed some of your thoughts in the question. So you can&#39;t change both the controller that returns the data and the object?","body":"Sorry, I missed some of your thoughts in the question. So you can&#39;t change both the controller that returns the data and the object?"},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695761687,"post_id":77175765,"comment_id":136067175,"body_markdown":"I can change the controller but response pojo class that I can not change due to external dependencies.","body":"I can change the controller but response pojo class that I can not change due to external dependencies."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695761982,"post_id":77175765,"comment_id":136067229,"body_markdown":"But you can create another class as `Group` without `List&lt;User&gt;` and use it instead of the original one in the controller. It seems to be easy if the `Group` class contains only that list.","body":"But you can create another class as <code>Group</code> without <code>List&lt;User&gt;</code> and use it instead of the original one in the controller. It seems to be easy if the <code>Group</code> class contains only that list."},{"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"score":0,"creation_date":1695762327,"post_id":77175765,"comment_id":136067281,"body_markdown":"I just gave example , but response pojo class is very huge and it contains number complex attributes.","body":"I just gave example , but response pojo class is very huge and it contains number complex attributes."}],"owner":{"account_id":5454354,"reputation":13,"user_id":4338265,"display_name":"Suresh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695735705,"creation_date":1695676680,"question_id":77175765,"body_markdown":"I&#39;ve below Group and User Model objects\r\n\r\n   \r\n\r\n     public class Group {\r\n                List&lt;User&gt; user;\r\n            }\r\n        \r\n            public class User {\r\n                String title;\r\n            }\r\n\r\nI&#39;m using Jackson to serialize this Group Object. I want to return  single User object in the response instead of returning `List&lt;User&gt;` array. Basically I want to convert `List&lt;User&gt;` to User to send User as an object in the json response instead of list.   I can not use @Jsonserelize annotation serialize the List data to object due to modal objects are generated from external schema.\r\n\r\nI know that I can use below annotation to apply converter but unfortunately in my case, modal classes are generated from external schema and I do not have option to add below annotation. \r\n\r\n    @JsonSerialize(converter = ListUserConverter.class)\r\n    List&lt;User&gt; user;\r\n\r\nI thought I could add something like below however getting compile time and looks like not supported for List of specific type.\r\n\r\n\r\n   \r\n\r\n     simpleModule.addSerializer(List&lt;User&gt;.class, new StdDelegatingSerializer(new ListUserConverter()));\r\n\r\n    public class ListUserConverter extends StdConverter&lt;List&lt;User&gt;, User&gt; {\r\n        @Override\r\n        public User convert(List&lt;User&gt; users) {\r\n            return users.get(0);\r\n        }\r\n    }\r\n\r\nIs there any another way to apply custom converter specific List&lt;User&gt; to convert list to object?\r\n\r\nHow do I serialize only  List&lt;User&gt; to User (get first object from list) with out annotation usage?\r\n\r\n","title":"ObjectMapper Custom serializer for serializing a List&lt;User&gt; to User object","body":"<p>I've below Group and User Model objects</p>\n<pre><code> public class Group {\n            List&lt;User&gt; user;\n        }\n    \n        public class User {\n            String title;\n        }\n</code></pre>\n<p>I'm using Jackson to serialize this Group Object. I want to return  single User object in the response instead of returning <code>List&lt;User&gt;</code> array. Basically I want to convert <code>List&lt;User&gt;</code> to User to send User as an object in the json response instead of list.   I can not use @Jsonserelize annotation serialize the List data to object due to modal objects are generated from external schema.</p>\n<p>I know that I can use below annotation to apply converter but unfortunately in my case, modal classes are generated from external schema and I do not have option to add below annotation.</p>\n<pre><code>@JsonSerialize(converter = ListUserConverter.class)\nList&lt;User&gt; user;\n</code></pre>\n<p>I thought I could add something like below however getting compile time and looks like not supported for List of specific type.</p>\n<pre><code> simpleModule.addSerializer(List&lt;User&gt;.class, new StdDelegatingSerializer(new ListUserConverter()));\n\npublic class ListUserConverter extends StdConverter&lt;List&lt;User&gt;, User&gt; {\n    @Override\n    public User convert(List&lt;User&gt; users) {\n        return users.get(0);\n    }\n}\n</code></pre>\n<p>Is there any another way to apply custom converter specific List to convert list to object?</p>\n<p>How do I serialize only  List to User (get first object from list) with out annotation usage?</p>\n"},{"tags":["java","ssl","spring-webclient","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":2,"creation_date":1682587013,"post_id":76118252,"comment_id":134240551,"body_markdown":"Take a tcp dump, if the other peer closes the connection then you need to find why that peer decided to close it. Check logs etc. ...","body":"Take a tcp dump, if the other peer closes the connection then you need to find why that peer decided to close it. Check logs etc. ..."},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1683382551,"post_id":76118252,"comment_id":134359979,"body_markdown":"What does the `getSslContext()` method look like? Can you add that to the question?","body":"What does the <code>getSslContext()</code> method look like? Can you add that to the question?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683502823,"post_id":76118252,"comment_id":134372466,"body_markdown":"Does the server trust your client certificiate?","body":"Does the server trust your client certificiate?"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1683507580,"post_id":76118252,"comment_id":134372861,"body_markdown":"Yes it does, verified on the server the handshake is successful","body":"Yes it does, verified on the server the handshake is successful"},{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1683642775,"post_id":76118252,"comment_id":134395923,"body_markdown":"does the server have some firewall configuration?","body":"does the server have some firewall configuration?"},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1683672939,"post_id":76118252,"comment_id":134402071,"body_markdown":"@PatPanda besides the message, are the requests successful? In the spring cloud repo the issue was mentioned as logged but not blocking/breaking the flow https://github.com/spring-cloud/spring-cloud-gateway/issues/2493","body":"@PatPanda besides the message, are the requests successful? In the spring cloud repo the issue was mentioned as logged but not blocking/breaking the flow <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/2493\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/issues/2493</a>"}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683723153,"creation_date":1683723153,"answer_id":76218653,"question_id":76118252,"body_markdown":"You can enable debug for the javax.net package while launching your application, using `-Djavax.net.debug=SSL` or better full logging coverage `-Djavax.net.debug=ALL` java options.\r\n\r\nThere are many timeouts you should configure, and set only one can work out of the box, but sometimes not. Check your configuration.\r\n\r\n    HttpClient.create()\r\n      .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient())\r\n        .defaultConfiguration(SslProvider.DefaultConfigurationType.TCP)\r\n        .handshakeTimeout(Duration.ofSeconds(60))\r\n        .closeNotifyFlushTimeout(Duration.ofSeconds(20))\r\n        .closeNotifyReadTimeout(Duration.ofSeconds(20)));\r\n\r\nDo you have configured a proxy ? Here an example with HTTP, not HTTPS.\r\n\r\n    HttpClient.create()\r\n      .proxy(spec -&gt; spec.type(ProxyProvider.Proxy.HTTP)\r\n        .host(&quot;proxy&quot;)\r\n        .port(8080)\r\n        .connectTimeoutMillis(60000));\r\n\r\nReactive webclient HTTP response timeout :\r\n\r\n    webClient.get()\r\n      .uri(&quot;https://stackoverflow.com&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(JsonNode.class)\r\n      .timeout(Duration.ofSeconds(20));\r\n\r\nReactive webclient HTTP response timeout with exception handling :\r\n\r\n    webClient.get()\r\n      .uri(&quot;https://stackoverflow.com&quot;)\r\n      .retrieve()\r\n      .bodyToFlux(JsonNode.class)\r\n      .timeout(Duration.ofSeconds(5))\r\n      .onErrorMap(ReadTimeoutException.class, ex -&gt; new HttpTimeoutException(&quot;ReadTimeout&quot;))\r\n      .onErrorReturn(SslHandshakeTimeoutException.class, new TextNode(&quot;SslHandshakeTimeout&quot;))\r\n      .doOnError(WriteTimeoutException.class, ex -&gt; log.error(&quot;WriteTimeout&quot;))\r\n\r\nFor the general handshake errors, considering the server part only :\r\n\r\n - The protocol used by client is not supported by server.\r\n - Cipher suite used by client is not supported by server.\r\n - Incorrect certificate : \r\n   - URL host name doesn&#39;t match host name on server certificate.      \r\n   - Incomplete/invalid certificate chain presented to client.      \r\n   - Revoked/expired SSL/TLS certificate sent to the client or server.   \r\n   - Replacement of self-signed certificates in internal networks has    \r\n   caused a path-building error.\r\n   - Client can&#39;t communicate with SNI-enabled server.\r\n\r\nOther causes of handskake failures can be : \r\n - Incorrect System Time\r\n - Man in the middle attack","title":"Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress","body":"<p>You can enable debug for the javax.net package while launching your application, using <code>-Djavax.net.debug=SSL</code> or better full logging coverage <code>-Djavax.net.debug=ALL</code> java options.</p>\n<p>There are many timeouts you should configure, and set only one can work out of the box, but sometimes not. Check your configuration.</p>\n<pre><code>HttpClient.create()\n  .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient())\n    .defaultConfiguration(SslProvider.DefaultConfigurationType.TCP)\n    .handshakeTimeout(Duration.ofSeconds(60))\n    .closeNotifyFlushTimeout(Duration.ofSeconds(20))\n    .closeNotifyReadTimeout(Duration.ofSeconds(20)));\n</code></pre>\n<p>Do you have configured a proxy ? Here an example with HTTP, not HTTPS.</p>\n<pre><code>HttpClient.create()\n  .proxy(spec -&gt; spec.type(ProxyProvider.Proxy.HTTP)\n    .host(&quot;proxy&quot;)\n    .port(8080)\n    .connectTimeoutMillis(60000));\n</code></pre>\n<p>Reactive webclient HTTP response timeout :</p>\n<pre><code>webClient.get()\n  .uri(&quot;https://stackoverflow.com&quot;)\n  .retrieve()\n  .bodyToFlux(JsonNode.class)\n  .timeout(Duration.ofSeconds(20));\n</code></pre>\n<p>Reactive webclient HTTP response timeout with exception handling :</p>\n<pre><code>webClient.get()\n  .uri(&quot;https://stackoverflow.com&quot;)\n  .retrieve()\n  .bodyToFlux(JsonNode.class)\n  .timeout(Duration.ofSeconds(5))\n  .onErrorMap(ReadTimeoutException.class, ex -&gt; new HttpTimeoutException(&quot;ReadTimeout&quot;))\n  .onErrorReturn(SslHandshakeTimeoutException.class, new TextNode(&quot;SslHandshakeTimeout&quot;))\n  .doOnError(WriteTimeoutException.class, ex -&gt; log.error(&quot;WriteTimeout&quot;))\n</code></pre>\n<p>For the general handshake errors, considering the server part only :</p>\n<ul>\n<li>The protocol used by client is not supported by server.</li>\n<li>Cipher suite used by client is not supported by server.</li>\n<li>Incorrect certificate :\n<ul>\n<li>URL host name doesn't match host name on server certificate.</li>\n<li>Incomplete/invalid certificate chain presented to client.</li>\n<li>Revoked/expired SSL/TLS certificate sent to the client or server.</li>\n<li>Replacement of self-signed certificates in internal networks has<br />\ncaused a path-building error.</li>\n<li>Client can't communicate with SNI-enabled server.</li>\n</ul>\n</li>\n</ul>\n<p>Other causes of handskake failures can be :</p>\n<ul>\n<li>Incorrect System Time</li>\n<li>Man in the middle attack</li>\n</ul>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2448,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695735312,"creation_date":1682583671,"question_id":76118252,"body_markdown":"What I want to achieve\r\n\r\n- send http requests to a third party service that has TLS enabled using Reactor Netty http client and Spring Webflux WebClient at a very high traffic (1000+ requests per second)\r\n\r\nWhat I tried\r\n\r\n- using this code:\r\n\r\n```\r\n    @Bean\r\n    public ClientHttpConnector getClientHttpConnector() {\r\n        return new ReactorClientHttpConnector(HttpClient.create().wiretap(true).metrics(true, Function.identity()).protocol(HttpProtocol.HTTP11).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext()).handshakeTimeout(Duration.ofSeconds(59))));\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public WebClient getWebClient(final ClientHttpConnector clientHttpConnector) {\r\n        return WebClient.builder().baseUrl(hostAndPort).defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(clientHttpConnector).build();\r\n    }\r\n\r\npublic SslContext getSslContext() {\r\n        try {\r\n            final var keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            try (InputStream file = new FileInputStream(&quot;/path/to/keystore&quot;)) {\r\n                final var keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                keyStore.load(file, &quot;password&quot;.toCharArray());\r\n                keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\r\n            }\r\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(InsecureTrustManagerFactory.INSTANCE).build();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nplease note ```.handshakeTimeout(Duration.ofSeconds(59))));```\r\n\r\nIssue:\r\n\r\n- Reproducible 100% of the time, I am getting this exception:\r\n\r\n```\r\n10.1xx.2xx.1xx:8888]\r\n\r\n        The connection observed an error\r\n        java.nio.channels.ClosedChannelException: null\r\n        at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1067)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n        at reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:403)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n        Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\r\n        at io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source)\r\n```\r\n\r\nQuestion:\r\n\r\nAs I mentioned, I have ```.handshakeTimeout(Duration.ofSeconds(59))));``` configured. \r\nI even tried changing this magic number to some crazy values such as Integer.MAX_VALUE\r\nHowever, it seems not to be the correct configuration, as I am getting this 100% of the time.\r\n\r\nOn the third party server side, there is no downtime, and they are able to serve traffic to clients other than me at the same timestamp.\r\n\r\nWhat is the appropriate configuration in order to resolve this issue?","title":"Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress","body":"<p>What I want to achieve</p>\n<ul>\n<li>send http requests to a third party service that has TLS enabled using Reactor Netty http client and Spring Webflux WebClient at a very high traffic (1000+ requests per second)</li>\n</ul>\n<p>What I tried</p>\n<ul>\n<li>using this code:</li>\n</ul>\n<pre><code>    @Bean\n    public ClientHttpConnector getClientHttpConnector() {\n        return new ReactorClientHttpConnector(HttpClient.create().wiretap(true).metrics(true, Function.identity()).protocol(HttpProtocol.HTTP11).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContext()).handshakeTimeout(Duration.ofSeconds(59))));\n    }\n\n    @Bean\n    @Primary\n    public WebClient getWebClient(final ClientHttpConnector clientHttpConnector) {\n        return WebClient.builder().baseUrl(hostAndPort).defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE).clientConnector(clientHttpConnector).build();\n    }\n\npublic SslContext getSslContext() {\n        try {\n            final var keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            try (InputStream file = new FileInputStream(&quot;/path/to/keystore&quot;)) {\n                final var keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n                keyStore.load(file, &quot;password&quot;.toCharArray());\n                keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\n            }\n            return SslContextBuilder.forClient().keyManager(keyManagerFactory).trustManager(InsecureTrustManagerFactory.INSTANCE).build();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>please note <code>.handshakeTimeout(Duration.ofSeconds(59))));</code></p>\n<p>Issue:</p>\n<ul>\n<li>Reproducible 100% of the time, I am getting this exception:</li>\n</ul>\n<pre><code>10.1xx.2xx.1xx:8888]\n\n        The connection observed an error\n        java.nio.channels.ClosedChannelException: null\n        at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1067)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n        at reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:403)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\n        Suppressed: io.netty.handler.ssl.StacklessSSLHandshakeException: Connection closed while SSL/TLS handshake was in progress\n        at io.netty.handler.ssl.SslHandler.channelInactive(Unknown Source)\n</code></pre>\n<p>Question:</p>\n<p>As I mentioned, I have <code>.handshakeTimeout(Duration.ofSeconds(59))));</code> configured.\nI even tried changing this magic number to some crazy values such as Integer.MAX_VALUE\nHowever, it seems not to be the correct configuration, as I am getting this 100% of the time.</p>\n<p>On the third party server side, there is no downtime, and they are able to serve traffic to clients other than me at the same timestamp.</p>\n<p>What is the appropriate configuration in order to resolve this issue?</p>\n"},{"tags":["java","static","programming-languages","language-design"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1547484166,"post_id":54184732,"comment_id":95199790,"body_markdown":"See also https://stackoverflow.com/q/5733427/4125191 for another method. It uses `getClass` but not an instance of your class.","body":"See also <a href=\"https://stackoverflow.com/q/5733427/4125191\">stackoverflow.com/q/5733427/4125191</a> for another method. It uses <code>getClass</code> but not an instance of your class."},{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1547558122,"post_id":54184732,"comment_id":95225819,"body_markdown":"Thanks, indeed this is a different but very relevant question.","body":"Thanks, indeed this is a different but very relevant question."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547482597,"creation_date":1547481275,"answer_id":54184858,"question_id":54184732,"body_markdown":"One way I found is to get the current stack trace first:\r\n\r\n    StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n    StackTraceElement current = stackTrace[1];\r\n \r\nThen, call `getClassName` and pass that to `Class.forName`:\r\n\r\n    Class&lt;?&gt; clazz = Class.forName(current.getClassName());","title":"Accesing the .class object statically without using the class name, in java","body":"<p>One way I found is to get the current stack trace first:</p>\n\n<pre><code>StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\nStackTraceElement current = stackTrace[1];\n</code></pre>\n\n<p>Then, call <code>getClassName</code> and pass that to <code>Class.forName</code>:</p>\n\n<pre><code>Class&lt;?&gt; clazz = Class.forName(current.getClassName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547483536,"creation_date":1547482148,"answer_id":54185105,"question_id":54184732,"body_markdown":"A Java 9 approach using the [`StackWalker`][1] API\r\n\r\n    Class&lt;?&gt; currentClass = StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE)\r\n            .walk(s -&gt; s.map(StackFrame::getDeclaringClass).findFirst().orElseThrow());\r\n\r\nThis approach avoids using the class name completely.\r\n\r\n----------\r\n\r\nAs for reasons why whis is not a core language feature, I can only guess, but one thing that comes to my mind are some complications around nested classes that would complicate implementing such a feature through some keyword. It wouldn&#39;t make much sense to add this without a way to refer to possibly multiple outer classes from within a nested class, etc. \r\n\r\nAnother reason is that this is not extremely useful - this is not a feature I&#39;ve ever missed. With todays IDEs and their powerful refactoring tools, using the class name is not very problematic, even if the class is later renamed. Even when generating source code, substituting the class name is relatively straightforward.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html","title":"Accesing the .class object statically without using the class name, in java","body":"<p>A Java 9 approach using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StackWalker.html\" rel=\"nofollow noreferrer\"><code>StackWalker</code></a> API</p>\n\n<pre><code>Class&lt;?&gt; currentClass = StackWalker.getInstance(Option.RETAIN_CLASS_REFERENCE)\n        .walk(s -&gt; s.map(StackFrame::getDeclaringClass).findFirst().orElseThrow());\n</code></pre>\n\n<p>This approach avoids using the class name completely.</p>\n\n<hr>\n\n<p>As for reasons why whis is not a core language feature, I can only guess, but one thing that comes to my mind are some complications around nested classes that would complicate implementing such a feature through some keyword. It wouldn't make much sense to add this without a way to refer to possibly multiple outer classes from within a nested class, etc. </p>\n\n<p>Another reason is that this is not extremely useful - this is not a feature I've ever missed. With todays IDEs and their powerful refactoring tools, using the class name is not very problematic, even if the class is later renamed. Even when generating source code, substituting the class name is relatively straightforward.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680324694,"creation_date":1666954505,"answer_id":74234341,"question_id":54184732,"body_markdown":"Revisiting this question, I add an oneliner that achieves the same result. The [MethodHandles][1] `class` of utilities returns the `Class&lt;?&gt;` in a single line, with a relatively good performance. This  is easier to memorize, read and copy-paste around. These properties are useful in cases like creating loggers.\r\n\r\n    final Class&lt;?&gt; clazz = MethodHandles.lookup().lookupClass();\r\n\r\nFor a performance benchmark comparison see [here][2] the answer by [Artyom Krivolapov][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.html\r\n  [2]: https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java\r\n  [3]: https://stackoverflow.com/users/1816338/artyom-krivolapov","title":"Accesing the .class object statically without using the class name, in java","body":"<p>Revisiting this question, I add an oneliner that achieves the same result. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.html\" rel=\"nofollow noreferrer\">MethodHandles</a> <code>class</code> of utilities returns the <code>Class&lt;?&gt;</code> in a single line, with a relatively good performance. This  is easier to memorize, read and copy-paste around. These properties are useful in cases like creating loggers.</p>\n<pre><code>final Class&lt;?&gt; clazz = MethodHandles.lookup().lookupClass();\n</code></pre>\n<p>For a performance benchmark comparison see <a href=\"https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java\">here</a> the answer by <a href=\"https://stackoverflow.com/users/1816338/artyom-krivolapov\">Artyom Krivolapov</a></p>\n"}],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74234341,"answer_count":3,"score":3,"last_activity_date":1695735076,"creation_date":1547480868,"question_id":54184732,"body_markdown":"In java it is possible to access the class without using (in other words typing) the name of the class. An example\r\n\r\n    public class Example {\r\n\r\n        /**\r\n         * Non static context, can only be called from an instance.\r\n         */\r\n        public void accessClass() {\r\n            System.out.println(this.getClass());\r\n        }\r\n\r\n    }\r\n\r\n\r\nHowever in a static context there is no similar method but only the .class static field. This question is focused in accessing the .class from within the java class itself, not from other classes.\r\n\r\n\r\n    public class Example2 {\r\n        //field used to demonstrate what is meant by &quot;indirectly referencing the class name.\r\n        private static Class&lt;Example2&gt; otherClass = Example2.class;\r\n        private static int intField = 1;\r\n       /**\r\n         * Non static context, can only be called from an instance.\r\n         */\r\n         public static void accessClass() {\r\n\r\n            // The .class static field can be accessed by using the name of the class\r\n            System.out.println(Example2.class);\r\n\r\n            // However the following is wrong\r\n            // System.out.println(class);\r\n\r\n            // Accessing static fields is in general possible\r\n            System.out.println(intField);\r\n\r\n            // Accessing a static field of the same Class is also possible, but does not satisfy the answer since the class name has been written in the declaration of the field and thus indirectly referenced.\r\n            System.out.println(otherClass);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nIs there a way to access the `.class` object of a class from a static context of the same class without referencing the class name (neither directly nor indirectly)?\r\n\r\nAnother restriction is that the answer is not allowed to instantiate the class or use the `.getClass()` instance method.\r\n\r\nI have created some examples above that try to demonstrate my findings.\r\nI was surprised to notice that I could not find a way to access the `.class` field without typing the class name from within the same class.\r\n\r\n Is this just a side-effect of some design decisions, a or is there any fundamental reason that accessing `.class` is not possible without the class name?\r\n\r\n ","title":"Accesing the .class object statically without using the class name, in java","body":"<p>In java it is possible to access the class without using (in other words typing) the name of the class. An example</p>\n\n<pre><code>public class Example {\n\n    /**\n     * Non static context, can only be called from an instance.\n     */\n    public void accessClass() {\n        System.out.println(this.getClass());\n    }\n\n}\n</code></pre>\n\n<p>However in a static context there is no similar method but only the .class static field. This question is focused in accessing the .class from within the java class itself, not from other classes.</p>\n\n<pre><code>public class Example2 {\n    //field used to demonstrate what is meant by \"indirectly referencing the class name.\n    private static Class&lt;Example2&gt; otherClass = Example2.class;\n    private static int intField = 1;\n   /**\n     * Non static context, can only be called from an instance.\n     */\n     public static void accessClass() {\n\n        // The .class static field can be accessed by using the name of the class\n        System.out.println(Example2.class);\n\n        // However the following is wrong\n        // System.out.println(class);\n\n        // Accessing static fields is in general possible\n        System.out.println(intField);\n\n        // Accessing a static field of the same Class is also possible, but does not satisfy the answer since the class name has been written in the declaration of the field and thus indirectly referenced.\n        System.out.println(otherClass);\n\n    }\n\n}\n</code></pre>\n\n<p>Is there a way to access the <code>.class</code> object of a class from a static context of the same class without referencing the class name (neither directly nor indirectly)?</p>\n\n<p>Another restriction is that the answer is not allowed to instantiate the class or use the <code>.getClass()</code> instance method.</p>\n\n<p>I have created some examples above that try to demonstrate my findings.\nI was surprised to notice that I could not find a way to access the <code>.class</code> field without typing the class name from within the same class.</p>\n\n<p>Is this just a side-effect of some design decisions, a or is there any fundamental reason that accessing <code>.class</code> is not possible without the class name?</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springfox"],"owner":{"account_id":3405149,"reputation":454,"user_id":2856415,"accept_rate":45,"display_name":"Kovo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695734201,"creation_date":1695734201,"question_id":77180370,"body_markdown":"I want to generate JSON and YAML files with my api spec everytime I build application (Gradle/Maven) that will be stored somewhere in project directory structure, is it possible other than by following class that I wrote ? \r\n\r\nIs there any simple setting that will do the following ?\r\n\r\nClass with code that catches content of DocumentationCache, converts it snd write into file:\r\n\r\n    package com.kovospace.paster.base.swagger.base;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.kovospace.paster.base.swagger.documentationMapperAdapter.DocumentationMapperAdapter;\r\n    import io.swagger.v3.core.util.Json;\r\n    import io.swagger.v3.core.util.Yaml;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.util.StringUtils;\r\n    import springfox.documentation.service.Documentation;\r\n    import springfox.documentation.spring.web.DocumentationCache;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    import java.util.function.BiFunction;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static com.kovospace.paster.base.utils.Utils.exceptionHandler;\r\n    \r\n    //@Component\r\n    public abstract class DocumentGenerator&lt;RESULT_OBJ&gt; implements CommandLineRunner {\r\n    \r\n        protected enum DocumentVersion {\r\n            V2, V3\r\n        }\r\n    \r\n        @Value(&quot;${app.swagger.generated.files.path}&quot;)\r\n        private String storagePath;\r\n    \r\n        @Autowired\r\n        private DocumentationCache documentationCache;\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        protected abstract DocumentationMapperAdapter&lt;RESULT_OBJ&gt; getMapper();\r\n        protected abstract DocumentVersion getDocumentVersion();\r\n    \r\n        @Override\r\n        public void run(String... args) throws IOException {\r\n        Optional.ofNullable(documentationCache.all())\r\n                    .map(docMap -&gt; docMap.entrySet())\r\n                    .map(docEntries -&gt; docEntries.stream())\r\n                    .orElseGet(Stream::empty)\r\n                    .forEach(docEntry -&gt; generateAllexpectedDocumentTypes(docEntry));\r\n        }\r\n    \r\n        private void generateAllexpectedDocumentTypes(final Map.Entry&lt;String, Documentation&gt; documentation) {\r\n            Arrays.stream(ExpectedDocumentType.values())\r\n                    .forEach(documentType -&gt; {\r\n                        final String outputFilePath = getOutputFilePath(documentation, documentType.extension());\r\n                        final String fileContent = converter.apply(documentation, documentType);\r\n                        writeFile(fileContent, outputFilePath);\r\n                    });\r\n        }\r\n    \r\n        private String getOutputFilePath(final Map.Entry&lt;String, Documentation&gt; documentation, final String extension) {\r\n            return StringUtils.isEmpty(storagePath)\r\n                    ? String.format(\r\n                            &quot;%s-%s.%s&quot;, documentation.getKey(), getDocumentVersion().name(), extension)\r\n                    : String.format(\r\n                            &quot;%s/%s-%s.%s&quot;, storagePath, documentation.getKey(), getDocumentVersion().name(), extension);\r\n        }\r\n    \r\n        private void writeFile(final String document, final String filePath) {\r\n            final File outputFile = new File(filePath);\r\n            if (!outputFile.exists()) {\r\n                outputFile.getParentFile().mkdirs();\r\n                try {\r\n                    outputFile.createNewFile();\r\n                } catch (IOException e) {\r\n                    //TODO\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            try (FileWriter fileWriter = new FileWriter(outputFile)) {\r\n                fileWriter.write(document);\r\n            } catch (Exception e) {\r\n                //TODO\r\n            }\r\n        }\r\n    \r\n        private BiFunction&lt;Map.Entry&lt;String, Documentation&gt;, ExpectedDocumentType, String&gt; converter =\r\n                (documentationEntry, expectedDocumentType) -&gt; {\r\n                    final RESULT_OBJ swagger = getMapper().mapDocumentation(\r\n                            documentationCache.documentationByGroup(documentationEntry.getKey()));\r\n                    switch (expectedDocumentType) {\r\n                        case JSON:\r\n                            return exceptionHandler(() -&gt; Json.pretty(swagger));\r\n                        case YAML:\r\n                        default:\r\n                            return exceptionHandler(() -&gt; Yaml.pretty().writeValueAsString(swagger));\r\n                    }\r\n                };\r\n    }\r\n   \r\n\r\nSpringFox Configuration class:\r\n\r\n    package com.kovospace.paster.base.configurations;\r\n    \r\n    import com.kovospace.paster.base.annotations.swagger.PublicEndpoint;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.MediaType;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    \r\n    import java.util.HashSet;\r\n    \r\n    @Configuration\r\n    public class SwaggerConfig {\r\n    \r\n        //TODO do konstant alebo properties\r\n        private static final String BASE_PACKAGE = &quot;com.kovospace.paster&quot;;\r\n        private static final String PUBLIC_API_GROUPNAME = &quot;public-api&quot;;\r\n        private static final String PRIVATE_API_GROUPNAME = &quot;devel-api&quot;;\r\n        private static final HashSet&lt;String&gt; RETURN_TYPES_POSSIBLE = new HashSet&lt;String&gt;() {{\r\n            add(MediaType.APPLICATION_JSON_VALUE);\r\n        }};\r\n    \r\n        @Bean\r\n        public Docket publicApi() {\r\n            return new Docket(DocumentationType.OAS_30)\r\n                    .groupName(PUBLIC_API_GROUPNAME)\r\n                    .produces(RETURN_TYPES_POSSIBLE)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withMethodAnnotation(PublicEndpoint.class))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public Docket developerApi() {\r\n            return new Docket(DocumentationType.OAS_30)\r\n                    .groupName(PRIVATE_API_GROUPNAME)\r\n                    .produces(RETURN_TYPES_POSSIBLE)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(BASE_PACKAGE))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    }","title":"SpringFox v3.0.0 get generated JSON and YAML files - store in project source (java resources)","body":"<p>I want to generate JSON and YAML files with my api spec everytime I build application (Gradle/Maven) that will be stored somewhere in project directory structure, is it possible other than by following class that I wrote ?</p>\n<p>Is there any simple setting that will do the following ?</p>\n<p>Class with code that catches content of DocumentationCache, converts it snd write into file:</p>\n<pre><code>package com.kovospace.paster.base.swagger.base;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.kovospace.paster.base.swagger.documentationMapperAdapter.DocumentationMapperAdapter;\nimport io.swagger.v3.core.util.Json;\nimport io.swagger.v3.core.util.Yaml;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.util.StringUtils;\nimport springfox.documentation.service.Documentation;\nimport springfox.documentation.spring.web.DocumentationCache;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.Optional;\nimport java.util.function.BiFunction;\nimport java.util.stream.Stream;\n\nimport static com.kovospace.paster.base.utils.Utils.exceptionHandler;\n\n//@Component\npublic abstract class DocumentGenerator&lt;RESULT_OBJ&gt; implements CommandLineRunner {\n\n    protected enum DocumentVersion {\n        V2, V3\n    }\n\n    @Value(&quot;${app.swagger.generated.files.path}&quot;)\n    private String storagePath;\n\n    @Autowired\n    private DocumentationCache documentationCache;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    protected abstract DocumentationMapperAdapter&lt;RESULT_OBJ&gt; getMapper();\n    protected abstract DocumentVersion getDocumentVersion();\n\n    @Override\n    public void run(String... args) throws IOException {\n    Optional.ofNullable(documentationCache.all())\n                .map(docMap -&gt; docMap.entrySet())\n                .map(docEntries -&gt; docEntries.stream())\n                .orElseGet(Stream::empty)\n                .forEach(docEntry -&gt; generateAllexpectedDocumentTypes(docEntry));\n    }\n\n    private void generateAllexpectedDocumentTypes(final Map.Entry&lt;String, Documentation&gt; documentation) {\n        Arrays.stream(ExpectedDocumentType.values())\n                .forEach(documentType -&gt; {\n                    final String outputFilePath = getOutputFilePath(documentation, documentType.extension());\n                    final String fileContent = converter.apply(documentation, documentType);\n                    writeFile(fileContent, outputFilePath);\n                });\n    }\n\n    private String getOutputFilePath(final Map.Entry&lt;String, Documentation&gt; documentation, final String extension) {\n        return StringUtils.isEmpty(storagePath)\n                ? String.format(\n                        &quot;%s-%s.%s&quot;, documentation.getKey(), getDocumentVersion().name(), extension)\n                : String.format(\n                        &quot;%s/%s-%s.%s&quot;, storagePath, documentation.getKey(), getDocumentVersion().name(), extension);\n    }\n\n    private void writeFile(final String document, final String filePath) {\n        final File outputFile = new File(filePath);\n        if (!outputFile.exists()) {\n            outputFile.getParentFile().mkdirs();\n            try {\n                outputFile.createNewFile();\n            } catch (IOException e) {\n                //TODO\n                throw new RuntimeException(e);\n            }\n        }\n        try (FileWriter fileWriter = new FileWriter(outputFile)) {\n            fileWriter.write(document);\n        } catch (Exception e) {\n            //TODO\n        }\n    }\n\n    private BiFunction&lt;Map.Entry&lt;String, Documentation&gt;, ExpectedDocumentType, String&gt; converter =\n            (documentationEntry, expectedDocumentType) -&gt; {\n                final RESULT_OBJ swagger = getMapper().mapDocumentation(\n                        documentationCache.documentationByGroup(documentationEntry.getKey()));\n                switch (expectedDocumentType) {\n                    case JSON:\n                        return exceptionHandler(() -&gt; Json.pretty(swagger));\n                    case YAML:\n                    default:\n                        return exceptionHandler(() -&gt; Yaml.pretty().writeValueAsString(swagger));\n                }\n            };\n}\n</code></pre>\n<p>SpringFox Configuration class:</p>\n<pre><code>package com.kovospace.paster.base.configurations;\n\nimport com.kovospace.paster.base.annotations.swagger.PublicEndpoint;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.MediaType;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\n\nimport java.util.HashSet;\n\n@Configuration\npublic class SwaggerConfig {\n\n    //TODO do konstant alebo properties\n    private static final String BASE_PACKAGE = &quot;com.kovospace.paster&quot;;\n    private static final String PUBLIC_API_GROUPNAME = &quot;public-api&quot;;\n    private static final String PRIVATE_API_GROUPNAME = &quot;devel-api&quot;;\n    private static final HashSet&lt;String&gt; RETURN_TYPES_POSSIBLE = new HashSet&lt;String&gt;() {{\n        add(MediaType.APPLICATION_JSON_VALUE);\n    }};\n\n    @Bean\n    public Docket publicApi() {\n        return new Docket(DocumentationType.OAS_30)\n                .groupName(PUBLIC_API_GROUPNAME)\n                .produces(RETURN_TYPES_POSSIBLE)\n                .select()\n                .apis(RequestHandlerSelectors.withMethodAnnotation(PublicEndpoint.class))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Bean\n    public Docket developerApi() {\n        return new Docket(DocumentationType.OAS_30)\n                .groupName(PRIVATE_API_GROUPNAME)\n                .produces(RETURN_TYPES_POSSIBLE)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(BASE_PACKAGE))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","windows","ubuntu","javac","amd-processor"],"comments":[{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508636355,"post_id":46869650,"comment_id":80686637,"body_markdown":"If you are trying to install openjdk under wsfl(unbuntu shell for windows) you probably want the headless version. The error appears to be that you already have the headless version openjdk-9-jdk-headless installed.","body":"If you are trying to install openjdk under wsfl(unbuntu shell for windows) you probably want the headless version. The error appears to be that you already have the headless version openjdk-9-jdk-headless installed."},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508637299,"post_id":46869650,"comment_id":80686767,"body_markdown":"headless does not have any of the graphical libraries as wsfl doesn&#39;t have any display capabilities (AFAIK) ,   Is that what you want or are you just trying to install java for windows ? If you run which java , whats the outpuit","body":"headless does not have any of the graphical libraries as wsfl doesn&#39;t have any display capabilities (AFAIK) ,   Is that what you want or are you just trying to install java for windows ? If you run which java , whats the outpuit"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637339,"post_id":46869650,"comment_id":80686774,"body_markdown":"Oh man, I had no idea..  But, when I run java *file*, it tells me to install java? So not sure whether it&#39;s set up incorrectly or not there.. Also, excuse my ignorance, but what&#39;s the difference between the headless version and normal?","body":"Oh man, I had no idea..  But, when I run java <i>file</i>, it tells me to install java? So not sure whether it&#39;s set up incorrectly or not there.. Also, excuse my ignorance, but what&#39;s the difference between the headless version and normal?"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637359,"post_id":46869650,"comment_id":80686779,"body_markdown":"Output is The program &#39;java&#39; can be found in the following packages:\n * default-jre\n * gcj-5-jre-headless\n * openjdk-8-jre-headless\n * gcj-4.8-jre-headless\n * gcj-4.9-jre-headless\n * openjdk-9-jre-headless\nTry: sudo apt install &lt;selected package&gt;","body":"Output is The program &#39;java&#39; can be found in the following packages:  * default-jre  * gcj-5-jre-headless  * openjdk-8-jre-headless  * gcj-4.8-jre-headless  * gcj-4.9-jre-headless  * openjdk-9-jre-headless Try: sudo apt install &lt;selected package&gt;"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508637450,"post_id":46869650,"comment_id":80686794,"body_markdown":"Could it have been that I had installed java for windows but am using an ubuntu shell which is causing this error?","body":"Could it have been that I had installed java for windows but am using an ubuntu shell which is causing this error?"},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":0,"creation_date":1508638130,"post_id":46869650,"comment_id":80686898,"body_markdown":"Have you got a default java and default javac set ? see https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java","body":"Have you got a default java and default javac set ? see <a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a>"},{"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"score":0,"creation_date":1508641347,"post_id":46869650,"comment_id":80687449,"body_markdown":"Ok, I tried installing jdk9-headless and it seems to have worked. I&#39;m thinking I had an imcomplete installation which trying install the normal jdk9 would conflict with.","body":"Ok, I tried installing jdk9-headless and it seems to have worked. I&#39;m thinking I had an imcomplete installation which trying install the normal jdk9 would conflict with."}],"owner":{"account_id":6102101,"reputation":55,"user_id":4760798,"accept_rate":57,"display_name":"jamarcus_13"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695734103,"creation_date":1508635364,"question_id":46869650,"body_markdown":"Have a problem installing JDK on Windows-10 x64 computer, while attempting to install `openjdk-9`, would repeatedly encounter message: `Errors were encountered while processing`. This was after running `sudo apt-get update` as well as install with `--fix-missing`. Any help would be much appreciated, thanks in advance!\r\n\r\n[![Error Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rwiNR.png","title":"Openjdk installation error on Win10 x64 - /usr/bin/dpkg returned error code (1)","body":"<p>Have a problem installing JDK on Windows-10 x64 computer, while attempting to install <code>openjdk-9</code>, would repeatedly encounter message: <code>Errors were encountered while processing</code>. This was after running <code>sudo apt-get update</code> as well as install with <code>--fix-missing</code>. Any help would be much appreciated, thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/rwiNR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rwiNR.png\" alt=\"Error Output\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1416127751,"post_id":26955263,"comment_id":42450205,"body_markdown":"Why would there be another way? What is the problem with sendKeys? API designers rarely provide 5 methods doing the same thing.","body":"Why would there be another way? What is the problem with sendKeys? API designers rarely provide 5 methods doing the same thing."},{"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"score":0,"creation_date":1416132027,"post_id":26955263,"comment_id":42451037,"body_markdown":"One interviewer asked this question...","body":"One interviewer asked this question..."}],"answers":[{"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695733355,"creation_date":1416128936,"answer_id":26955409,"question_id":26955263,"body_markdown":"Any other way is only to use native Javascript action to enter the value in the text box:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n\r\n    executor.executeScript(&quot;document.getElementById(&quot;textbox_id&quot;).value=&#39;new value&#39;;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Any other way is only to use native Javascript action to enter the value in the text box:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\n\nJavascriptExecutor executor = (JavascriptExecutor)driver;\n\nexecutor.executeScript(&quot;document.getElementById(&quot;textbox_id&quot;).value='new value';&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5587521,"reputation":1,"user_id":4427700,"display_name":"Virender Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427630297,"creation_date":1427630297,"answer_id":29328814,"question_id":26955263,"body_markdown":"@Vasntha, try mine code its tested one\r\n\r\n    driver.get(&quot;http://www.qajudge.com/&quot;);\r\n    WebElement cssValue= driver.findElement(By.xpath(&quot;.//*[@id=&#39;s&#39;]&quot;));\r\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    jse.executeScript(&quot;document.getElementById(&#39;s&#39;).value=&#39;Virender Testing   \r\n    sending&#39;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>@Vasntha, try mine code its tested one</p>\n\n<pre><code>driver.get(\"http://www.qajudge.com/\");\nWebElement cssValue= driver.findElement(By.xpath(\".//*[@id='s']\"));\nJavascriptExecutor jse = (JavascriptExecutor) driver;\njse.executeScript(\"document.getElementById('s').value='Virender Testing   \nsending'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11319175,"reputation":1,"user_id":8299956,"display_name":"jagannath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499932723,"creation_date":1499925923,"answer_id":45072577,"question_id":26955263,"body_markdown":"    WebElement name=driver.findElement(By.name(&quot;username&quot;));\r\n    ((JavascriptExecutor)driver).executeAsyncScript(&quot;arguments[0].value=&#39;admin&#39;&quot;,name);\t\r\n\r\n","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<pre><code>WebElement name=driver.findElement(By.name(\"username\"));\n((JavascriptExecutor)driver).executeAsyncScript(\"arguments[0].value='admin'\",name); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5772188,"reputation":515,"user_id":4555316,"accept_rate":33,"display_name":"ragesh-ragav 1993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576047593,"creation_date":1576047593,"answer_id":59280346,"question_id":26955263,"body_markdown":"Try below one, which I tried in Gmail and it works\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;you .exe path here&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://accounts.google.com/&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tThread.sleep(1000);\r\n        //Next button element\r\n        WebElement nextBtn = driver.findElement(By.id(&quot;identifierNext&quot;));\r\n\t\tJavascriptExecutor js = (JavascriptExecutor)driver;\r\n        //code to enter value in the email textbox\r\n\t\tjs.executeScript(&quot;document.getElementById(&#39;identifierId&#39;).value=&#39;testemail&#39;&quot;);\r\n        //code to click on next button\r\n        js.executeScript(&quot;arguments[0].click();&quot;, nextBtn);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Try below one, which I tried in Gmail and it works</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"you .exe path here\");\n    WebDriver driver = new ChromeDriver();\n    driver.get(\"https://accounts.google.com/\");\n    driver.manage().window().maximize();\n    Thread.sleep(1000);\n    //Next button element\n    WebElement nextBtn = driver.findElement(By.id(\"identifierNext\"));\n    JavascriptExecutor js = (JavascriptExecutor)driver;\n    //code to enter value in the email textbox\n    js.executeScript(\"document.getElementById('identifierId').value='testemail'\");\n    //code to click on next button\n    js.executeScript(\"arguments[0].click();\", nextBtn);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12729536,"reputation":101,"user_id":9246729,"display_name":"namal wijekoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609182561,"creation_date":1609182561,"answer_id":65482762,"question_id":26955263,"body_markdown":"Yes, use javascript executer. Here, I have written a code that uses XPath to capture the element.\r\n\r\n        WebElement webelement = driver.findElement(By.xpath(&quot;your xpath&quot;);\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].value=&#39;Techndeck&#39;;&quot;,webelement );\r\n","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Yes, use javascript executer. Here, I have written a code that uses XPath to capture the element.</p>\n<pre><code>    WebElement webelement = driver.findElement(By.xpath(&quot;your xpath&quot;);\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    js.executeScript(&quot;arguments[0].value='Techndeck';&quot;,webelement );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11030244,"reputation":105,"user_id":8101796,"display_name":"Shrawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613015631,"creation_date":1613015631,"answer_id":66148530,"question_id":26955263,"body_markdown":"**Enter text using javascriptexecutor**\r\nHow to use Javascriptexecutor for entering text in an element which , I want to enter text in an Textbox which does not take the input through SendKeys​. I proceeded with using Javascriptexecutor to enter the text  Example 2. Get/Retrieve text with JavascriptExecutor. In this example, we are accessing a website and trying to retrieve the text written on the login button using JavascriptExecutor\r\n\r\n**How To Send Texts And Get Texts Using JavascriptExecutor?,** \r\nSo in such case, we use JavascriptExecutor of Selenium WebDriver library to handle Well, let&#39;s start with handling sending text data to the text area using \r\n*If you still have any confusions please write in the comment below*. \r\nThis is another technique to send texts using JavascriptExecutor in Selenium WebDriver. Here is the sample code: ADA. \r\n\r\n`WebElement webl = driver.findElement(By.xpath(“xpath_expression”));JavascriptExecutor js = (JavascriptExecutor)driver;js.executeScript(“arguments[0].value=’SynTest’;”, webl);` \r\n\r\n\r\n1.**How to enter text using JavaScript in Selenium WebDriver**, \r\nFollowing are the commands you can use to enter text using javascript. You don&#39;t need to use sendkeys always. \r\nSyntax: \r\nJavascriptExecutor jexe  To enter text within a textbox identified through an xpath you can use the following notation: \r\n\r\n    (JavascriptExecutor) driver.executeScript(&quot;document.evaluate(xpathExpresion, document, null, 9, null).singleNodeValue.innerHTML=&quot;+ DesiredText);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p><strong>Enter text using javascriptexecutor</strong>\nHow to use Javascriptexecutor for entering text in an element which , I want to enter text in an Textbox which does not take the input through SendKeys​. I proceeded with using Javascriptexecutor to enter the text  Example 2. Get/Retrieve text with JavascriptExecutor. In this example, we are accessing a website and trying to retrieve the text written on the login button using JavascriptExecutor</p>\n<p><strong>How To Send Texts And Get Texts Using JavascriptExecutor?,</strong>\nSo in such case, we use JavascriptExecutor of Selenium WebDriver library to handle Well, let's start with handling sending text data to the text area using\n<em>If you still have any confusions please write in the comment below</em>.\nThis is another technique to send texts using JavascriptExecutor in Selenium WebDriver. Here is the sample code: ADA.</p>\n<p><code>WebElement webl = driver.findElement(By.xpath(“xpath_expression”));JavascriptExecutor js = (JavascriptExecutor)driver;js.executeScript(“arguments[0].value=’SynTest’;”, webl);</code></p>\n<p>1.<strong>How to enter text using JavaScript in Selenium WebDriver</strong>,\nFollowing are the commands you can use to enter text using javascript. You don't need to use sendkeys always.\nSyntax:\nJavascriptExecutor jexe  To enter text within a textbox identified through an xpath you can use the following notation:</p>\n<pre><code>(JavascriptExecutor) driver.executeScript(&quot;document.evaluate(xpathExpresion, document, null, 9, null).singleNodeValue.innerHTML=&quot;+ DesiredText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16984234,"reputation":1,"user_id":12285390,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664533156,"creation_date":1664533156,"answer_id":73907227,"question_id":26955263,"body_markdown":"\r\n\r\n    driver.get(&quot;http://automationpractice.com/index.php?controller=authentication&amp;back=my-account&quot;);\r\n    JavascriptExecutor js= (JavascriptExecutor)driver;\r\n    js.executeScript(&quot;document.getElementById(&#39;email&#39;).value=&#39;Arun Singh&#39;&quot;);\r\n    js.executeScript(&quot;document.getElementById(&#39;passwd&#39;).value=&#39;arunsingh&#39;&quot;);","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<pre><code>driver.get(&quot;http://automationpractice.com/index.php?controller=authentication&amp;back=my-account&quot;);\nJavascriptExecutor js= (JavascriptExecutor)driver;\njs.executeScript(&quot;document.getElementById('email').value='Arun Singh'&quot;);\njs.executeScript(&quot;document.getElementById('passwd').value='arunsingh'&quot;);\n</code></pre>\n"}],"owner":{"account_id":5270992,"reputation":373,"user_id":4209228,"accept_rate":50,"display_name":"Vasantha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1695733355,"creation_date":1416127452,"question_id":26955263,"body_markdown":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver ?","title":"Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver?","body":"<p>Is there any other way(not sendKeys) to enter text into textbox using selenium webdriver ?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","application.properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695734818,"post_id":77180280,"comment_id":136061932,"body_markdown":"Which is what yuou told it to do by setting the `org.hibernate.SQL` log level to debug.","body":"Which is what yuou told it to do by setting the <code>org.hibernate.SQL</code> log level to debug."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695735654,"post_id":77180280,"comment_id":136062124,"body_markdown":"I tried `DEBUG/INFO` both not working.","body":"I tried <code>DEBUG&#47;INFO</code> both not working."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695736141,"post_id":77180280,"comment_id":136062236,"body_markdown":"As long as `org.hibernate.SQL` is lower or the same as the default log level it will log all queries. Just remove it (or set it to FATAL or something alike). The `show_sql=true` will also influence query logging.","body":"As long as <code>org.hibernate.SQL</code> is lower or the same as the default log level it will log all queries. Just remove it (or set it to FATAL or something alike). The <code>show_sql=true</code> will also influence query logging."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695739788,"post_id":77180280,"comment_id":136063095,"body_markdown":"Currently i made the changes `logging.level.org.hibernate.SQL=FATAL` and `logging.level.org.hibernate.SQL_SLOW=INFO,\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=500` but no any progress now no query printing while few query taking more time then 500MS.","body":"Currently i made the changes <code>logging.level.org.hibernate.SQL=FATAL</code> and <code>logging.level.org.hibernate.SQL_SLOW=INFO, spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=50&zwnj;&#8203;0</code> but no any progress now no query printing while few query taking more time then 500MS."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695749148,"post_id":77180280,"comment_id":136065049,"body_markdown":"Are the queries really taking more then 500ms or is it the whole process that is taking more than 500ms. Those are different things.","body":"Are the queries really taking more then 500ms or is it the whole process that is taking more than 500ms. Those are different things."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695794351,"post_id":77180280,"comment_id":136070132,"body_markdown":"One query is taking more than 10min I want to print that query that&#39;s why I need this feature should work.","body":"One query is taking more than 10min I want to print that query that&#39;s why I need this feature should work."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695798084,"post_id":77180280,"comment_id":136070644,"body_markdown":"Is it **really the query** or the whole operation. Next to that what slow query means that it takes that long to get a response (so the query execution) if you get a response quickly but it takes 10 minutes to iterate trhough all the results that isn&#39;t a slow query.","body":"Is it <b>really the query</b> or the whole operation. Next to that what slow query means that it takes that long to get a response (so the query execution) if you get a response quickly but it takes 10 minutes to iterate trhough all the results that isn&#39;t a slow query."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695800021,"post_id":77180280,"comment_id":136070984,"body_markdown":"No @Denum its query which is taking time ...Support i will add `spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=1` atleaset some other query it should print but nothing is printing \n`spring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=FATAL\npring.datasource.health.validation-query=SELECT 1\norg.hibernate.SQL_SLOW=INFO\t\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=1`","body":"No @Denum its query which is taking time ...Support i will add <code>spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=1</code> atleaset some other query it should print but nothing is printing  <code>spring.jpa.properties.hibernate.use_sql_comments=true spring.jpa.properties.hibernate.format_sql=true spring.jpa.show-sql=true logging.level.org.hibernate.SQL=FATAL pring.datasource.health.validation-query=SELECT 1 org.hibernate.SQL_SLOW=INFO\t spring.jpa.properties.hibernate.session.events.log.LOG_QUERI&zwnj;&#8203;ES_SLOWER_THAN_MS=1</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695800582,"post_id":77180280,"comment_id":136071103,"body_markdown":"Don&#39;t add additional code/config as comments as that is totally unreadable. I would suggest enabling hibernate statistics and export them, that will give you more information on slow queries.","body":"Don&#39;t add additional code/config as comments as that is totally unreadable. I would suggest enabling hibernate statistics and export them, that will give you more information on slow queries."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1695808089,"post_id":77180280,"comment_id":136072564,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255437/discussion-between-subodh-joshi-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255437/discussion-between-subodh-joshi-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695808457,"post_id":77180280,"comment_id":136072651,"body_markdown":"See https://stackoverflow.com/questions/3349344/how-to-monitor-slow-sql-queries-executed-by-jpa-and-hibernate as that explains what to do. Are you actually using that properties file? Are you using auto configuration for JPA or doing things yourself in that area?","body":"See <a href=\"https://stackoverflow.com/questions/3349344/how-to-monitor-slow-sql-queries-executed-by-jpa-and-hibernate\" title=\"how to monitor slow sql queries executed by jpa and hibernate\">stackoverflow.com/questions/3349344/&hellip;</a> as that explains what to do. Are you actually using that properties file? Are you using auto configuration for JPA or doing things yourself in that area?"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695733323,"creation_date":1695733323,"question_id":77180280,"body_markdown":"I am using the below properties in `application.properties` file\r\n\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.show-sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\r\n    spring.datasource.health.validation-query=SELECT 1\r\n    logging.level.org.hibernate.SQL_SLOW=DEBUG\r\n    spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000\r\n    server.error.whitelabel.enabled=false\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\r\n\r\nand as expected i want to print the hibernate query which is taking more than 5second(`spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000`) to execute. But in the log, all queries are printing.\r\nExample.\r\n\r\n    2023-09-26 18:24:10,136 DEBUG org.hibernate.SQL                        | select lifecyclet0_.LIFECYCLE_TRANSITION_ID as lifecycl1_26_, lifecyclet0_.FROM_LIFECYCLE_STATE_ID as from_lif2_26_, lifecyclet0_.TO_LIFECYCLE_STATE_ID as to_lifec3_26_ from catmp6.LIFECYCLE_TRANSITIONS lifecyclet0_ where lifecyclet0_.FROM_LIFECYCLE_STATE_ID=?\r\n    2023-09-26 18:24:10,137 TRACE o.h.type.descriptor.sql.BasicBinder      | binding parameter [1] as [BIGINT] - [4]\r\n\r\nCan anyone suggest what is wrong here.\r\n\r\n    &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\r\n    &lt;psql.jdbc.version&gt;42.5.1&lt;/psql.jdbc.version&gt;\r\n\r\n","title":"Springboot : Show slow sql hibernate query properties not working as expected","body":"<p>I am using the below properties in <code>application.properties</code> file</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace\nspring.datasource.health.validation-query=SELECT 1\nlogging.level.org.hibernate.SQL_SLOW=DEBUG\nspring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000\nserver.error.whitelabel.enabled=false\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\n</code></pre>\n<p>and as expected i want to print the hibernate query which is taking more than 5second(<code>spring.jpa.properties.hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS=5000</code>) to execute. But in the log, all queries are printing.\nExample.</p>\n<pre><code>2023-09-26 18:24:10,136 DEBUG org.hibernate.SQL                        | select lifecyclet0_.LIFECYCLE_TRANSITION_ID as lifecycl1_26_, lifecyclet0_.FROM_LIFECYCLE_STATE_ID as from_lif2_26_, lifecyclet0_.TO_LIFECYCLE_STATE_ID as to_lifec3_26_ from catmp6.LIFECYCLE_TRANSITIONS lifecyclet0_ where lifecyclet0_.FROM_LIFECYCLE_STATE_ID=?\n2023-09-26 18:24:10,137 TRACE o.h.type.descriptor.sql.BasicBinder      | binding parameter [1] as [BIGINT] - [4]\n</code></pre>\n<p>Can anyone suggest what is wrong here.</p>\n<pre><code>&lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\n&lt;psql.jdbc.version&gt;42.5.1&lt;/psql.jdbc.version&gt;\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":22124897,"reputation":11,"user_id":16377456,"display_name":"nobody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695732852,"creation_date":1695732852,"question_id":77180223,"body_markdown":"[How it looks](https://i.stack.imgur.com/vYCkM.png)\r\n\r\nMy theme for the xml is:\r\n\r\n```\r\n&lt;style name=&quot;Theme.A.MaterialComponents&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\r\n        &lt;item name=&quot;background&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;backgroundColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;materialCalendarTheme&quot;&gt;@drawable/rounded_dialog_bg&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nMy theme for the Material Date Picker is:\r\n\r\n```\r\n&lt;style name=&quot;Theme.A.CustomMaterialDatePicker&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nThe code creating this Material Date Picker is:\r\n\r\n```\r\nMaterialDatePicker materialDatePicker = MaterialDatePicker.Builder.datePicker()\r\n          .setTitleText(&quot;Select Date&quot;).setTheme(R.style.Theme_SchoolProject_CustomMaterialDatePicker)\r\n          .setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\r\nmaterialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\r\n                    @Override\r\n                    public void onPositiveButtonClick(Object selection) {\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        calendar.setTimeInMillis((Long) selection);\r\n\r\n                        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;EEE, MMM d, yyyy&quot;);\r\n                        String goal = outFormat.format(calendar.getTime());\r\n                        dueDateView.setHint(goal);\r\n                    }\r\n                });\r\n\r\n                materialDatePicker.addOnDismissListener(new DialogInterface.OnDismissListener() {\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialogInterface) {\r\n                        //TODO Respond to dismiss events.\r\n                    }\r\n                });\r\n\r\n                materialDatePicker.show(getSupportFragmentManager(), &quot;datePickerDialog&quot;);\r\n```\r\n\r\nI tried changing the material date picker theme parent to something else instead of  &quot;Theme.MaterialComponents&quot; but it always gave me this error:\r\n\r\n`MaterialCalendar requires a value for the com.example.A:attr/materialCalendarStyle attribute to be set in your app theme. You can either set the attribute in your theme or update your theme to inherit from Theme.MaterialComponents (or a descendant).`\r\n\r\nEven if I changed it to Theme.MaterialComponents.Dialog or something like that.\r\n\r\nI tried changing the theme parent to Widget.MaterialComponents.MaterialCalendar but it gave me the same error.\r\nHow can I fix it?","title":"Android Material Date Picker Not Looking Right","body":"<p><a href=\"https://i.stack.imgur.com/vYCkM.png\" rel=\"nofollow noreferrer\">How it looks</a></p>\n<p>My theme for the xml is:</p>\n<pre><code>&lt;style name=&quot;Theme.A.MaterialComponents&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\n        &lt;item name=&quot;background&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;backgroundColor&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;materialCalendarTheme&quot;&gt;@drawable/rounded_dialog_bg&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>My theme for the Material Date Picker is:</p>\n<pre><code>&lt;style name=&quot;Theme.A.CustomMaterialDatePicker&quot; parent=&quot;Theme.MaterialComponents&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>The code creating this Material Date Picker is:</p>\n<pre><code>MaterialDatePicker materialDatePicker = MaterialDatePicker.Builder.datePicker()\n          .setTitleText(&quot;Select Date&quot;).setTheme(R.style.Theme_SchoolProject_CustomMaterialDatePicker)\n          .setSelection(MaterialDatePicker.todayInUtcMilliseconds()).build();\nmaterialDatePicker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\n                    @Override\n                    public void onPositiveButtonClick(Object selection) {\n                        Calendar calendar = Calendar.getInstance();\n                        calendar.setTimeInMillis((Long) selection);\n\n                        SimpleDateFormat outFormat = new SimpleDateFormat(&quot;EEE, MMM d, yyyy&quot;);\n                        String goal = outFormat.format(calendar.getTime());\n                        dueDateView.setHint(goal);\n                    }\n                });\n\n                materialDatePicker.addOnDismissListener(new DialogInterface.OnDismissListener() {\n                    @Override\n                    public void onDismiss(DialogInterface dialogInterface) {\n                        //TODO Respond to dismiss events.\n                    }\n                });\n\n                materialDatePicker.show(getSupportFragmentManager(), &quot;datePickerDialog&quot;);\n</code></pre>\n<p>I tried changing the material date picker theme parent to something else instead of  &quot;Theme.MaterialComponents&quot; but it always gave me this error:</p>\n<p><code>MaterialCalendar requires a value for the com.example.A:attr/materialCalendarStyle attribute to be set in your app theme. You can either set the attribute in your theme or update your theme to inherit from Theme.MaterialComponents (or a descendant).</code></p>\n<p>Even if I changed it to Theme.MaterialComponents.Dialog or something like that.</p>\n<p>I tried changing the theme parent to Widget.MaterialComponents.MaterialCalendar but it gave me the same error.\nHow can I fix it?</p>\n"},{"tags":["java","eclipse","maven","maven-cargo"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377147836,"creation_date":1377147836,"answer_id":18372015,"question_id":18371953,"body_markdown":" - Open the servers view \r\n - double click your tomcat server \r\n - click on Timeouts section \r\n - increase start up time out\r\n\r\n","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<ul>\n<li>Open the servers view </li>\n<li>double click your tomcat server </li>\n<li>click on Timeouts section </li>\n<li>increase start up time out</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13056223,"reputation":31,"user_id":9434994,"display_name":"Marcus Berro"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1583868522,"creation_date":1520006925,"answer_id":49072976,"question_id":18371953,"body_markdown":"_NOTE: Edited from original to add context._\r\n\r\nYou can try increasing the timeout value that Cargo uses while waiting for Tomcat to start/stop. \r\n\r\nExample:\r\n\r\n```xml\r\n&lt;container&gt;\r\n  [...]\r\n  &lt;timeout&gt;180000&lt;/timeout&gt;\r\n  [...]\r\n&lt;/container&gt;\r\n```\r\n\r\nCheck this description in Cargo website:\r\n\r\nhttps://codehaus-cargo.github.io/cargo/Container+Timeout.html","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p><em>NOTE: Edited from original to add context.</em></p>\n\n<p>You can try increasing the timeout value that Cargo uses while waiting for Tomcat to start/stop. </p>\n\n<p>Example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;container&gt;\n  [...]\n  &lt;timeout&gt;180000&lt;/timeout&gt;\n  [...]\n&lt;/container&gt;\n</code></pre>\n\n<p>Check this description in Cargo website:</p>\n\n<p><a href=\"https://codehaus-cargo.github.io/cargo/Container+Timeout.html\" rel=\"nofollow noreferrer\">https://codehaus-cargo.github.io/cargo/Container+Timeout.html</a></p>\n"},{"tags":[],"owner":{"account_id":10932492,"reputation":105,"user_id":8035169,"display_name":"OAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559815724,"creation_date":1559815724,"answer_id":56475372,"question_id":18371953,"body_markdown":"If you&#39;re using Hibernate, make sure your database connection details in your properties file are correct. In my case cargo was timing out because my database username and password were incorrect.","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>If you're using Hibernate, make sure your database connection details in your properties file are correct. In my case cargo was timing out because my database username and password were incorrect.</p>\n"},{"tags":[],"owner":{"account_id":132019,"reputation":2124,"user_id":332465,"display_name":"darraghmurphy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695731705,"creation_date":1695720850,"answer_id":77178750,"question_id":18371953,"body_markdown":"Set timeout to 0 in the execution portion of the Maven Cargo plugin config to disable the URL Deployable Monitor. Also comment out the pingURL &amp; pingTimeout elements\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n                    &lt;containerUrl&gt;file:///C://APPS/tomcat-9.0.29.zip&lt;/containerUrl&gt;\r\n                    &lt;container&gt;\r\n                        &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n                        &lt;type&gt;standalone&lt;/type&gt;\r\n                    &lt;/container&gt;\r\n                    &lt;deployables&gt;\r\n                        &lt;deployable&gt;\r\n                            &lt;artifactId&gt;MYAPP&lt;/artifactId&gt;\r\n                            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                            &lt;type&gt;war&lt;/type&gt;\r\n                            &lt;location&gt;deploy/generic/jclass/MYAPP.war&lt;/location&gt;\r\n                            &lt;!-- &lt;pingURL&gt;http://127.0.0.1:8080/MYAPP/index.jsp&lt;/pingURL&gt; --&gt;\r\n                            &lt;!-- &lt;pingTimeout&gt;150000&lt;/pingTimeout&gt; --&gt;\r\n                        &lt;/deployable&gt;\r\n                    &lt;/deployables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;start-server&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;container&gt;\r\n                                &lt;timeout&gt;0&lt;/timeout&gt;\r\n                            &lt;/container&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;stop-server&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;container&gt;\r\n                                &lt;timeout&gt;0&lt;/timeout&gt;\r\n                            &lt;/container&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>Set timeout to 0 in the execution portion of the Maven Cargo plugin config to disable the URL Deployable Monitor. Also comment out the pingURL &amp; pingTimeout elements</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.10.8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                &lt;containerUrl&gt;file:///C://APPS/tomcat-9.0.29.zip&lt;/containerUrl&gt;\n                &lt;container&gt;\n                    &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                    &lt;type&gt;standalone&lt;/type&gt;\n                &lt;/container&gt;\n                &lt;deployables&gt;\n                    &lt;deployable&gt;\n                        &lt;artifactId&gt;MYAPP&lt;/artifactId&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;type&gt;war&lt;/type&gt;\n                        &lt;location&gt;deploy/generic/jclass/MYAPP.war&lt;/location&gt;\n                        &lt;!-- &lt;pingURL&gt;http://127.0.0.1:8080/MYAPP/index.jsp&lt;/pingURL&gt; --&gt;\n                        &lt;!-- &lt;pingTimeout&gt;150000&lt;/pingTimeout&gt; --&gt;\n                    &lt;/deployable&gt;\n                &lt;/deployables&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;start-server&lt;/id&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;container&gt;\n                            &lt;timeout&gt;0&lt;/timeout&gt;\n                        &lt;/container&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;stop-server&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stop&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;container&gt;\n                            &lt;timeout&gt;0&lt;/timeout&gt;\n                        &lt;/container&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2166587,"reputation":501,"user_id":1919581,"accept_rate":50,"display_name":"user1919581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8804,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1695731705,"creation_date":1377147425,"question_id":18371953,"body_markdown":"whenever I up the application by through CMD it is getting up, but the same code if I run through eclipse, getting the below mentioned error...\r\n\r\n    [DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [120000] ms...\r\n    [DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected\r\n    [DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@a55f49]\r\n    [INFO] [yer.DeployerWatchdog] Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] FATAL ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Failed to start the Tomcat 6.x container.\r\n    Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [DEBUG] Trace\r\n    org.codehaus.cargo.container.ContainerException: Failed to start the Tomcat 6.x container.\r\n    .\r\n    .\r\n    .\r\n    .\r\n    \r\n    Caused by: org.codehaus.cargo.container.ContainerException: Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\r\n    \t\r\n    at org.codehaus.cargo.container.spi.deployer.DeployerWatchdog.watch (DeployerWatchdog.java:111)**\r\n\r\n\r\nbut if I run through command prompt its getting up... why in eclipse am facing this issue and how to solve that?\r\nThanks in Advance.","title":"how to solve org.codehaus.cargo.container.ContainerException","body":"<p>whenever I up the application by through CMD it is getting up, but the same code if I run through eclipse, getting the below mentioned error...</p>\n\n<pre><code>[DEBUG] [URLDeployableMonitor] Checking URL [http://localhost:8080/cargocpc/index.html] for status using a timeout of [120000] ms...\n[DEBUG] [URLDeployableMonitor] URL [http://localhost:8080/cargocpc/index.html] is not responding: 400 Cycle Detected\n[DEBUG] [URLDeployableMonitor] Notifying monitor listener [org.codehaus.cargo.container.spi.deployer.DeployerWatchdog@a55f49]\n[INFO] [yer.DeployerWatchdog] Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n[INFO] ------------------------------------------------------------------------\n[ERROR] FATAL ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Failed to start the Tomcat 6.x container.\nDeployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n[INFO] ------------------------------------------------------------------------\n[DEBUG] Trace\norg.codehaus.cargo.container.ContainerException: Failed to start the Tomcat 6.x container.\n.\n.\n.\n.\n\nCaused by: org.codehaus.cargo.container.ContainerException: Deployable [http://localhost:8080/cargocpc/index.html] failed to finish deploying within the timeout period [120000]. The Deployable state is thus unknown.\n\nat org.codehaus.cargo.container.spi.deployer.DeployerWatchdog.watch (DeployerWatchdog.java:111)**\n</code></pre>\n\n<p>but if I run through command prompt its getting up... why in eclipse am facing this issue and how to solve that?\nThanks in Advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695730774,"creation_date":1695729759,"answer_id":77179831,"question_id":77179726,"body_markdown":"On stackoverflow are a lot of posts about how to migrate but also you should read next references:\r\n\r\n 1. [Migration Guide][1]\r\n    \r\n 2.   [spring-security-without-the-websecurityconfigureradapter][2]\r\n    \r\n 3.   [Deprecated List][3]\r\n\r\nAlso the `filterChain` that you provided will have next one body:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      http.authorizeHttpRequests(request -&gt; {\r\n        request.requestMatchers(&quot;/**&quot;).permitAll();\r\n      });\r\n      http.cors(Customizer.withDefaults());\r\n    \r\n      http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n      http.httpBasic(Customizer.withDefaults());\r\n    \r\n      return http.build();\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/index.html\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/deprecated-list.html","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>On stackoverflow are a lot of posts about how to migrate but also you should read next references:</p>\n<ol>\n<li><p><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/index.html\" rel=\"nofollow noreferrer\">Migration Guide</a></p>\n</li>\n<li><p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring-security-without-the-websecurityconfigureradapter</a></p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/deprecated-list.html\" rel=\"nofollow noreferrer\">Deprecated List</a></p>\n</li>\n</ol>\n<p>Also the <code>filterChain</code> that you provided will have next one body:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  http.authorizeHttpRequests(request -&gt; {\n    request.requestMatchers(&quot;/**&quot;).permitAll();\n  });\n  http.cors(Customizer.withDefaults());\n\n  http.csrf(AbstractHttpConfigurer::disable);\n\n  http.httpBasic(Customizer.withDefaults());\n\n  return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4004102,"reputation":99,"user_id":3856160,"display_name":"dilansalinda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695731344,"creation_date":1695731344,"answer_id":77180039,"question_id":77179726,"body_markdown":"welcome to Stack Overflow!\r\n\r\nIn the first issue, the problem lies in the requestMatcher pattern. You should change it to `&quot;/**&quot;` because Spring MVC&#39;s pattern matching is relative to the servlet path. This means that if you have mapped any servlet to a path that starts with &quot;/&quot; and is greater than one, you should use this pattern.\r\n\r\nAs [this answer][2] correctly suggests, you can use `authorizeHttpRequests` with a lambda function.\r\n\r\n[1]: https://stackoverflow.com/users/10907749/hermi-wael\r\n[2]: https://stackoverflow.com/a/77179831/3856160\r\n","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>welcome to Stack Overflow!</p>\n<p>In the first issue, the problem lies in the requestMatcher pattern. You should change it to <code>&quot;/**&quot;</code> because Spring MVC's pattern matching is relative to the servlet path. This means that if you have mapped any servlet to a path that starts with &quot;/&quot; and is greater than one, you should use this pattern.</p>\n<p>As <a href=\"https://stackoverflow.com/a/77179831/3856160\">this answer</a> correctly suggests, you can use <code>authorizeHttpRequests</code> with a lambda function.</p>\n"}],"owner":{"account_id":15115060,"reputation":1,"user_id":10907749,"display_name":"hermi wael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695813330,"accepted_answer_id":77179831,"answer_count":2,"score":-2,"last_activity_date":1695731344,"creation_date":1695728755,"question_id":77179726,"body_markdown":"I want to migrate this code to spring security 6.1.x \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().requestMatchers(&quot;/&quot;).permitAll();\r\n        http.cors().and().csrf().disable();\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to use authorizeHttpRequests but it gives me 403 error","title":"How to migrate from Spring Security 5.x to spring 6.1.x?","body":"<p>I want to migrate this code to spring security 6.1.x</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests().requestMatchers(&quot;/&quot;).permitAll();\n        http.cors().and().csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>I tried to use authorizeHttpRequests but it gives me 403 error</p>\n"},{"tags":["java","spring-boot","hibernate","liquibase","multi-tenant"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695730617,"post_id":77179840,"comment_id":136060964,"body_markdown":"You did ofcourse read the documentation (upgrade guide for hibernate -&gt; https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification) instead of just blindly upgrading...","body":"You did ofcourse read the documentation (upgrade guide for hibernate -&gt; <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/6.0/&hellip;</a>) instead of just blindly upgrading..."},{"owner":{"account_id":14768294,"reputation":23,"user_id":10665618,"display_name":"Pavithra Ranasinghe"},"score":0,"creation_date":1695789425,"post_id":77179840,"comment_id":136069621,"body_markdown":"@M.DeinumThank you for reply. I&#39;m just create spring boot new version(3) projects","body":"@M.DeinumThank you for reply. I&#39;m just create spring boot new version(3) projects"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695730842,"creation_date":1695730842,"answer_id":77179964,"question_id":77179840,"body_markdown":"from hibernate 6 [migration guide][1]\r\n\r\n&gt; Remove any reference to MultiTenancyStrategy from your application: they are no longer necessary. hibernate.multiTenancy will be ignored and AvailableSettings.MULTI_TENANT/MultiTenancyStrategy will lead to compilation errors since they have been removed.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification","title":"Is MultiTenancyStrategy deprecated in Hibernate 6","body":"<p>from hibernate 6 <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#multitenancy-simplification\" rel=\"nofollow noreferrer\">migration guide</a></p>\n<blockquote>\n<p>Remove any reference to MultiTenancyStrategy from your application: they are no longer necessary. hibernate.multiTenancy will be ignored and AvailableSettings.MULTI_TENANT/MultiTenancyStrategy will lead to compilation errors since they have been removed.</p>\n</blockquote>\n"}],"owner":{"account_id":14768294,"reputation":23,"user_id":10665618,"display_name":"Pavithra Ranasinghe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77179964,"answer_count":1,"score":2,"last_activity_date":1695730842,"creation_date":1695729832,"question_id":77179840,"body_markdown":"I&#39;m trying to implement Multi-tenant application using Spring Boot 3.\r\n\r\nNow I need to connect multiple schemas in single database. Also I use LIQUIBASE for manage schema changes\r\n\r\nWhen configure Hibernate entity manager for tenants entity manger factory, I can&#39;t configure MULTI_TENANT Strategy type. **MultiTenancyStrategy** cannot find in hibernate.\r\n\r\n\r\n```\r\nMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.remove(AvailableSettings.DEFAULT_SCHEMA);\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n```\r\n`properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);` \r\n\r\nPlease anyone give me a solution for this.","title":"Is MultiTenancyStrategy deprecated in Hibernate 6","body":"<p>I'm trying to implement Multi-tenant application using Spring Boot 3.</p>\n<p>Now I need to connect multiple schemas in single database. Also I use LIQUIBASE for manage schema changes</p>\n<p>When configure Hibernate entity manager for tenants entity manger factory, I can't configure MULTI_TENANT Strategy type. <strong>MultiTenancyStrategy</strong> cannot find in hibernate.</p>\n<pre><code>Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.remove(AvailableSettings.DEFAULT_SCHEMA);\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n</code></pre>\n<p><code>properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);</code></p>\n<p>Please anyone give me a solution for this.</p>\n"},{"tags":["java","android","google-drive-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695749335,"post_id":77179961,"comment_id":136065096,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22429412,"reputation":1,"user_id":16635508,"display_name":"Hassan Yaseen 203"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730829,"creation_date":1695730829,"question_id":77179961,"body_markdown":"I am trying to accessing Google Drive from my own android application. I am stuck in a situation that my app is working perfectly in **DEBUG APK** but not working in **RELEASE APK**. Google drive is access able in debug apk but not in release apk. I am trying to create folder and upload any image in that folder. \r\n\r\nI try to access google drive. I am able to access it in DEBUG mode but not in RELEASE mode. Again i have cross checked my SSH-1, it&#39;s correct.","title":"Google Drive is not access able in RELEASE apk android application?","body":"<p>I am trying to accessing Google Drive from my own android application. I am stuck in a situation that my app is working perfectly in <strong>DEBUG APK</strong> but not working in <strong>RELEASE APK</strong>. Google drive is access able in debug apk but not in release apk. I am trying to create folder and upload any image in that folder.</p>\n<p>I try to access google drive. I am able to access it in DEBUG mode but not in RELEASE mode. Again i have cross checked my SSH-1, it's correct.</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695641734,"post_id":77172032,"comment_id":136047173,"body_markdown":"The duplink is tentative.  You should be able confirm it by looking at the `kc.bat` file installed on your system.","body":"The duplink is tentative.  You should be able confirm it by looking at the <code>kc.bat</code> file installed on your system."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695642442,"post_id":77172032,"comment_id":136047311,"body_markdown":"If it is not that problem, my advice would be to add some debugging to the `kc.bat` file to capture the complete Java command line.  Or (if I am reading the bat file correctly) setting `%PRINT_ENV%` to `true` will print out the final settings for `%JAVA_OPTS%` and `%JAVA_RUN_OPTS%`.","body":"If it is not that problem, my advice would be to add some debugging to the <code>kc.bat</code> file to capture the complete Java command line.  Or (if I am reading the bat file correctly) setting <code>%PRINT_ENV%</code> to <code>true</code> will print out the final settings for <code>%JAVA_OPTS%</code> and <code>%JAVA_RUN_OPTS%</code>."},{"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"score":0,"creation_date":1695727269,"post_id":77172032,"comment_id":136060280,"body_markdown":"Hello Stephen,\nThank you for the reply.\nI&#39;m not sure what you mean by the &quot;duplink is tentative&quot;.\n\nWhat I found with process explorer is that java.exe is looking for Mobile.class inside the Keycloak bin folder which doesn&#39;t exist and I have no idea why. I installed the software on another machine and there this is not happening.\n\n [Mobile.Class.Screenshot](https://i.imgur.com/8XHHPKa.png)","body":"Hello Stephen, Thank you for the reply. I&#39;m not sure what you mean by the &quot;duplink is tentative&quot;.  What I found with process explorer is that java.exe is looking for Mobile.class inside the Keycloak bin folder which doesn&#39;t exist and I have no idea why. I installed the software on another machine and there this is not happening.   <a href=\"https://i.imgur.com/8XHHPKa.png\" rel=\"nofollow noreferrer\">Mobile.Class.Screenshot</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695729496,"post_id":77172032,"comment_id":136060728,"body_markdown":"My hunch is that because you are in a directory called &quot;Scanman Mobile Application&quot; the batch file is passing that string to Java and Java is taking it as three separate words, hence looking for a class called &quot;Mobile&quot;. Maybe try installing KeyCloak in a different directory if possible, and see if it fixes it.","body":"My hunch is that because you are in a directory called &quot;Scanman Mobile Application&quot; the batch file is passing that string to Java and Java is taking it as three separate words, hence looking for a class called &quot;Mobile&quot;. Maybe try installing KeyCloak in a different directory if possible, and see if it fixes it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695730456,"post_id":77172032,"comment_id":136060940,"body_markdown":"k314159&#39;s suggestion is plausible.  You want to use an installation directory name that doesn&#39;t have spaces in its name!  But if that isn&#39;t the problem, try what I suggested in my second comment.","body":"k314159&#39;s suggestion is plausible.  You want to use an installation directory name that doesn&#39;t have spaces in its name!  But if that isn&#39;t the problem, try what I suggested in my second comment."},{"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"score":1,"creation_date":1695882672,"post_id":77172032,"comment_id":136083667,"body_markdown":"Hello, \nk314159 that was it! Renaming the folder did the trick, thank you!\nStepen C, thank you for the help, too!","body":"Hello,  k314159 that was it! Renaming the folder did the trick, thank you! Stepen C, thank you for the help, too!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695888672,"post_id":77172032,"comment_id":136084715,"body_markdown":"Glad you&#39;ve got it working. I think this is an error in the batch file: it should be wrapping the directory in quotes so that it doesn&#39;t split its name using the space characters. You might want to report this bug to the vendor.","body":"Glad you&#39;ve got it working. I think this is an error in the batch file: it should be wrapping the directory in quotes so that it doesn&#39;t split its name using the space characters. You might want to report this bug to the vendor."}],"owner":{"account_id":29528893,"reputation":1,"user_id":22629933,"display_name":"Alexander Evtimov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730389,"creation_date":1695639168,"question_id":77172032,"body_markdown":"I&#39;m trying to start the bat file but it always fails with the below error.\r\nI have tried different openJDK version 20,21.. but the error is always the same.\r\n\r\nkc.bat start-dev\r\nError: Could not find or load main class Mobile\r\nCaused by: java.lang.ClassNotFoundException: Mobile\r\n\r\nExpected result: Start the Keycloak server.","title":"Keycloak 22.0.3 Error: Could not find or load main class Mobile","body":"<p>I'm trying to start the bat file but it always fails with the below error.\nI have tried different openJDK version 20,21.. but the error is always the same.</p>\n<p>kc.bat start-dev\nError: Could not find or load main class Mobile\nCaused by: java.lang.ClassNotFoundException: Mobile</p>\n<p>Expected result: Start the Keycloak server.</p>\n"},{"tags":["java","eclipse","language-lawyer","java-17","jsr305"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1695657599,"post_id":77159583,"comment_id":136050710,"body_markdown":"Works with 2023-06. Interestingly, the older version even allows to place such an annotation at a type parameter, which contradicts the specification (prior to Java&#160;21). It seems, they tried to fix this and made it worse…","body":"Works with 2023-06. Interestingly, the older version even allows to place such an annotation at a type parameter, which contradicts the specification (prior to Java 21). It seems, they tried to fix this and made it worse…"},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695658327,"post_id":77159583,"comment_id":136050873,"body_markdown":"Just tried `public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)` and it works! Now I wonder if that has the same semantics? If yes this might be a good solution. Would still be curious why the bad one still compiles fine with Gradle and other IDEs — also probably JSR305 is not even related as I get the same behaviour with &quot;straighter&quot; annotations like `@Deprecated`.","body":"Just tried <code>public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)</code> and it works! Now I wonder if that has the same semantics? If yes this might be a good solution. Would still be curious why the bad one still compiles fine with Gradle and other IDEs — also probably JSR305 is not even related as I get the same behaviour with &quot;straighter&quot; annotations like <code>@Deprecated</code>."},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695667037,"post_id":77159583,"comment_id":136052361,"body_markdown":"Compliance is JavaSE17 and I believe it&#39;s set automagically by reading `sourceCompatibility = &#39;17&#39;` from my _build.gradle_ file.","body":"Compliance is JavaSE17 and I believe it&#39;s set automagically by reading <code>sourceCompatibility = &#39;17&#39;</code> from my <i>build.gradle</i> file."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695725741,"creation_date":1695725741,"answer_id":77179346,"question_id":77159583,"body_markdown":"It may seem as if the declarations\r\n\r\n```java\r\npublic &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something)\r\npublic @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)\r\n```\r\n\r\nare syntactically different, i.e. that in the first variant, the annotation is bound to the return type. Apparently, Eclipse follows this idea.\r\n\r\nThe [grammar of the specification], however, shows both as part of the method declaration:\r\n\r\n&gt; ```none\r\n&gt; MethodDeclaration:\r\n&gt;     {MethodModifier} MethodHeader MethodBody\r\n&gt; MethodHeader:\r\n&gt;     Result MethodDeclarator [Throws]\r\n&gt;     TypeParameters {Annotation} Result MethodDeclarator [Throws]\r\n&gt; MethodDeclarator:\r\n&gt;     Identifier ( [ReceiverParameter ,] [FormalParameterList] ) [Dims]\r\n&gt; ```\r\n[MethodModifier]\r\n&gt; ```none\r\n&gt; MethodModifier:\r\n&gt;     (one of)\r\n&gt;     Annotation public protected private\r\n&gt;     abstract static final synchronized native strictfp\r\n&gt; ```\r\nNote that `{Annotation}` between `TypeParameters` and `Result` is part of the `MethodHeader`.\r\n\r\nThen the [Java Language Specification, &#167;9.7.4] says:\r\n\r\n&gt; It is possible for an annotation to appear at a syntactic location in a program where it could plausibly apply to a declaration, or a type, or both.\r\n&gt; \r\n&gt; [...]\r\n&gt; \r\n&gt; The grammar of the Java programming language unambiguously treats annotations at these locations as modifiers for a declaration (&#167;8.3), but that is purely a syntactic matter. Whether an annotation applies to the declaration or to the type of the declared entity - and thus, whether the annotation is a declaration annotation or a type annotation - depends on the applicability of the annotation&#39;s interface […]\r\n\r\nThe way I read this, is that the syntactic location shouldn’t matter, but only the applicability of annotation, given by the `@Target` annotation or its absence. That’s also, how `javac` handles this, unlike Eclipse:\r\n\r\n```java\r\npublic class AnnotationExample {\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        Method m = AnnotationExample.class.getMethod(&quot;methodName&quot;);\r\n        System.out.println(&quot;method:      &quot; + Arrays.toString(m.getAnnotations()));\r\n        System.out.println(&quot;return type: &quot;\r\n            + Arrays.toString(m.getAnnotatedReturnType().getAnnotations()));\r\n    }\r\n\r\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface A {}\r\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface B {}\r\n\r\n    public static @A &lt;T extends Enum&lt;T&gt;&gt; @B Set&lt;T&gt; methodName() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nWhen compiled with `javac`, it will print\r\n\r\n```none\r\nmethod:      [@AnnotationExample$A(), @AnnotationExample$B()]\r\nreturn type: [@AnnotationExample$A(), @AnnotationExample$B()]\r\n```\r\n\r\nbut when compiled with Eclipse, it prints\r\n\r\n```none\r\nmethod:      [@AnnotationExample.A()]\r\nreturn type: [@AnnotationExample.A(), @AnnotationExample.B()]\r\n```\r\nindicating that Eclipse treats the annotation behind the type parameter declaration as an annotation of the return type only. Consequently, changing `B`’s declaration to `@Target(METHOD)` produces a compile error in Eclipse.\r\n\r\n---\r\n\r\nThis behavior interacts with the targets assumed to be valid when no `@Target` annotation has been given:\r\n\r\nFrom Java&#160;8 to Java&#160;13, [the specification looked like][J8]\r\n\r\n&gt; If an annotation of type `java.lang.annotation.Target` is not present on the declaration of an annotation type `T`, then `T` is applicable in all declaration contexts except type parameter declarations, and in no type contexts.\r\n\r\nStarting with Java&#160;17, [the specification looks like][J17]\r\n\r\n&gt; If an annotation of type `java.lang.annotation.Target` is not present on the declaration of an annotation interface `A`, then `A` is applicable in all declaration contexts and in no type contexts.\r\n\r\nSo, this looks like a straight-forward change, now also permitting type parameter declarations as target when no `@Target` has been given, which does not affect our scenario.\r\n\r\nIf there weren’t the in-between versions, [14 to 16]:\r\n\r\n&gt; If an annotation of type java.lang.annotation.Target is not present on the declaration of an annotation interface A, then A is applicable in all nine declaration contexts and in all 16 type contexts.\r\n\r\n&lt;sup&gt;(in Java&#160;16, there are ten declaration contexts and 17 type contexts)&lt;/sup&gt;\r\n\r\nThis directly affects compilers assuming that the annotation following the type parameter declaration are type contexts only. And since this is more permissive than the subsequent version, it’s understandable if a compiler vendor gets surprised by this and has to deliver the more restrictive behavior in an update.\r\n\r\n(Note that `javac` dodged this by not implementing these changes in the first place, JDK&#160;21 is the first to implement the behavior specified since Java&#160;17, see [JDK-8309743])\r\n\r\n---\r\n\r\nIt’s important to keep in mind that while the compiler error shouldn’t happen, the specification changes will still affect what is reported to be annotated when inspecting the code. When you want to be able to annotate types, rather than the method, you need an explicit `@Target` including `TYPE_USE`.\r\n\r\n[grammar of the specification]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4\r\n[MethodModifier]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3\r\n[Java Language Specification, &#167;9.7.4]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.7.4\r\n[J8]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.1\r\n[J17]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.1\r\n[14 to 16]: https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.6.4.1\r\n[JDK-8309743]: https://bugs.openjdk.org/browse/JDK-8309743\r\n","title":"@Nullable annotation cannot be applied here","body":"<p>It may seem as if the declarations</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something)\npublic @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)\n</code></pre>\n<p>are syntactically different, i.e. that in the first variant, the annotation is bound to the return type. Apparently, Eclipse follows this idea.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4\" rel=\"nofollow noreferrer\">grammar of the specification</a>, however, shows both as part of the method declaration:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>MethodDeclaration:\n    {MethodModifier} MethodHeader MethodBody\nMethodHeader:\n    Result MethodDeclarator [Throws]\n    TypeParameters {Annotation} Result MethodDeclarator [Throws]\nMethodDeclarator:\n    Identifier ( [ReceiverParameter ,] [FormalParameterList] ) [Dims]\n</code></pre>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3\" rel=\"nofollow noreferrer\">MethodModifier</a></p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>MethodModifier:\n    (one of)\n    Annotation public protected private\n    abstract static final synchronized native strictfp\n</code></pre>\n</blockquote>\n<p>Note that <code>{Annotation}</code> between <code>TypeParameters</code> and <code>Result</code> is part of the <code>MethodHeader</code>.</p>\n<p>Then the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.7.4\" rel=\"nofollow noreferrer\">Java Language Specification, §9.7.4</a> says:</p>\n<blockquote>\n<p>It is possible for an annotation to appear at a syntactic location in a program where it could plausibly apply to a declaration, or a type, or both.</p>\n<p>[...]</p>\n<p>The grammar of the Java programming language unambiguously treats annotations at these locations as modifiers for a declaration (§8.3), but that is purely a syntactic matter. Whether an annotation applies to the declaration or to the type of the declared entity - and thus, whether the annotation is a declaration annotation or a type annotation - depends on the applicability of the annotation's interface […]</p>\n</blockquote>\n<p>The way I read this, is that the syntactic location shouldn’t matter, but only the applicability of annotation, given by the <code>@Target</code> annotation or its absence. That’s also, how <code>javac</code> handles this, unlike Eclipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnnotationExample {\n    public static void main(String[] args) throws NoSuchMethodException {\n        Method m = AnnotationExample.class.getMethod(&quot;methodName&quot;);\n        System.out.println(&quot;method:      &quot; + Arrays.toString(m.getAnnotations()));\n        System.out.println(&quot;return type: &quot;\n            + Arrays.toString(m.getAnnotatedReturnType().getAnnotations()));\n    }\n\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface A {}\n    @Retention(RetentionPolicy.RUNTIME) @Target({TYPE_USE, METHOD}) @interface B {}\n\n    public static @A &lt;T extends Enum&lt;T&gt;&gt; @B Set&lt;T&gt; methodName() {\n        return null;\n    }\n}\n</code></pre>\n<p>When compiled with <code>javac</code>, it will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>method:      [@AnnotationExample$A(), @AnnotationExample$B()]\nreturn type: [@AnnotationExample$A(), @AnnotationExample$B()]\n</code></pre>\n<p>but when compiled with Eclipse, it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>method:      [@AnnotationExample.A()]\nreturn type: [@AnnotationExample.A(), @AnnotationExample.B()]\n</code></pre>\n<p>indicating that Eclipse treats the annotation behind the type parameter declaration as an annotation of the return type only. Consequently, changing <code>B</code>’s declaration to <code>@Target(METHOD)</code> produces a compile error in Eclipse.</p>\n<hr />\n<p>This behavior interacts with the targets assumed to be valid when no <code>@Target</code> annotation has been given:</p>\n<p>From Java 8 to Java 13, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">the specification looked like</a></p>\n<blockquote>\n<p>If an annotation of type <code>java.lang.annotation.Target</code> is not present on the declaration of an annotation type <code>T</code>, then <code>T</code> is applicable in all declaration contexts except type parameter declarations, and in no type contexts.</p>\n</blockquote>\n<p>Starting with Java 17, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">the specification looks like</a></p>\n<blockquote>\n<p>If an annotation of type <code>java.lang.annotation.Target</code> is not present on the declaration of an annotation interface <code>A</code>, then <code>A</code> is applicable in all declaration contexts and in no type contexts.</p>\n</blockquote>\n<p>So, this looks like a straight-forward change, now also permitting type parameter declarations as target when no <code>@Target</code> has been given, which does not affect our scenario.</p>\n<p>If there weren’t the in-between versions, <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.6.4.1\" rel=\"nofollow noreferrer\">14 to 16</a>:</p>\n<blockquote>\n<p>If an annotation of type java.lang.annotation.Target is not present on the declaration of an annotation interface A, then A is applicable in all nine declaration contexts and in all 16 type contexts.</p>\n</blockquote>\n<p><sup>(in Java 16, there are ten declaration contexts and 17 type contexts)</sup></p>\n<p>This directly affects compilers assuming that the annotation following the type parameter declaration are type contexts only. And since this is more permissive than the subsequent version, it’s understandable if a compiler vendor gets surprised by this and has to deliver the more restrictive behavior in an update.</p>\n<p>(Note that <code>javac</code> dodged this by not implementing these changes in the first place, JDK 21 is the first to implement the behavior specified since Java 17, see <a href=\"https://bugs.openjdk.org/browse/JDK-8309743\" rel=\"nofollow noreferrer\">JDK-8309743</a>)</p>\n<hr />\n<p>It’s important to keep in mind that while the compiler error shouldn’t happen, the specification changes will still affect what is reported to be annotated when inspecting the code. When you want to be able to annotate types, rather than the method, you need an explicit <code>@Target</code> including <code>TYPE_USE</code>.</p>\n"}],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77179346,"answer_count":1,"score":1,"last_activity_date":1695730372,"creation_date":1695403133,"question_id":77159583,"body_markdown":"Eclipse shows this as a Java problem:\r\n\r\n&gt; Annotation types that do not specify explicit target element types cannot be applied here.\r\n\r\nThis only happened when I upgraded from Eclipse 2022-09 to 2023-09.\r\n\r\nThis is an example when this happens:\r\n\r\n    public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something) {\r\n      // ...\r\n    }\r\n\r\nThe annotation is the `javax.annotation.Nullable` from the jsr305 library.\r\n\r\nI&#39;m using Adoptium OpenJDK 17.0.8.101-hotspot.\r\n\r\n - This didn&#39;t happen with Eclipse 2022-09.\r\n - This doesn&#39;t happen with IntelliJ.\r\n - This doesn&#39;t happen when I compile via `gradlew compileJava`.\r\n - This doesn&#39;t happen with `public @Nullable Set&lt;?&gt; getSomeSet() { ... }`\r\n - This doesn&#39;t happen with `public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)`\r\n\r\nI don&#39;t understand why is that happening in this specific circumstance now (and not in all other cases) and what can I do to make that error disappear from my Eclipse IDE. I didn&#39;t find any option to disable this kind of error in the preferences.\r\n\r\n**EDIT:** Simplified the minimal reproduction case and added &quot;doesn&#39;t happen&quot; case #4.\r\n\r\n**EDIT2:** Added &quot;doesn&#39;t happen&quot; case #5.","title":"@Nullable annotation cannot be applied here","body":"<p>Eclipse shows this as a Java problem:</p>\n<blockquote>\n<p>Annotation types that do not specify explicit target element types cannot be applied here.</p>\n</blockquote>\n<p>This only happened when I upgraded from Eclipse 2022-09 to 2023-09.</p>\n<p>This is an example when this happens:</p>\n<pre><code>public &lt;T&gt; @Nullable Set&lt;T&gt; getSomeSet(T something) {\n  // ...\n}\n</code></pre>\n<p>The annotation is the <code>javax.annotation.Nullable</code> from the jsr305 library.</p>\n<p>I'm using Adoptium OpenJDK 17.0.8.101-hotspot.</p>\n<ul>\n<li>This didn't happen with Eclipse 2022-09.</li>\n<li>This doesn't happen with IntelliJ.</li>\n<li>This doesn't happen when I compile via <code>gradlew compileJava</code>.</li>\n<li>This doesn't happen with <code>public @Nullable Set&lt;?&gt; getSomeSet() { ... }</code></li>\n<li>This doesn't happen with <code>public @Nullable &lt;T&gt; Set&lt;T&gt; getSomeSet(T something)</code></li>\n</ul>\n<p>I don't understand why is that happening in this specific circumstance now (and not in all other cases) and what can I do to make that error disappear from my Eclipse IDE. I didn't find any option to disable this kind of error in the preferences.</p>\n<p><strong>EDIT:</strong> Simplified the minimal reproduction case and added &quot;doesn't happen&quot; case #4.</p>\n<p><strong>EDIT2:</strong> Added &quot;doesn't happen&quot; case #5.</p>\n"},{"tags":["java","spring","spring-boot","interceptor","spring-annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728265,"post_id":77179655,"comment_id":136060484,"body_markdown":"What is it you are trying to achieve, whyu do you need to annotation information? That being said the `@RequestMapping` should just work also for the other annotations if you use a recent enough Spring version.","body":"What is it you are trying to achieve, whyu do you need to annotation information? That being said the <code>@RequestMapping</code> should just work also for the other annotations if you use a recent enough Spring version."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695728705,"post_id":77179655,"comment_id":136060575,"body_markdown":"When i use specifically ```AnnotationUtils.findAnnotation(method, @RequestMapping.class)``` on the method annotated with ```@GetMapping``` i was not able to get the path information.","body":"When i use specifically <code>AnnotationUtils.findAnnotation(method, @RequestMapping.class)</code> on the method annotated with <code>@GetMapping</code> i was not able to get the path information."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728771,"post_id":77179655,"comment_id":136060585,"body_markdown":"It shoudl as it is a meta annotation and the `findAnnotation` looks for meta annotations as well. At least if you use a decent recent enough version of Spring. So which version of Spring (Boot) are you using? I also suspect that the 2 methods you posted are only part of the problem and we need to see the whole controller. Nonetheless the usecase of what you are trying to achieve still isn&#39;t clear.","body":"It shoudl as it is a meta annotation and the <code>findAnnotation</code> looks for meta annotations as well. At least if you use a decent recent enough version of Spring. So which version of Spring (Boot) are you using? I also suspect that the 2 methods you posted are only part of the problem and we need to see the whole controller. Nonetheless the usecase of what you are trying to achieve still isn&#39;t clear."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695728864,"post_id":77179655,"comment_id":136060605,"body_markdown":"I was on ```2.7.14``` , let me check with the latest","body":"I was on <code>2.7.14</code> , let me check with the latest"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695728917,"post_id":77179655,"comment_id":136060614,"body_markdown":"That should do a look on meta-annotations already. So it seems you haven&#39;t shown the full picture but just snippets of look-alike code which doesn&#39;t have the problem.","body":"That should do a look on meta-annotations already. So it seems you haven&#39;t shown the full picture but just snippets of look-alike code which doesn&#39;t have the problem."},{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1695730131,"post_id":77179655,"comment_id":136060866,"body_markdown":"I tried with Latest 2.7.16, still same issue. Can i share the reproducable repo link for quick check","body":"I tried with Latest 2.7.16, still same issue. Can i share the reproducable repo link for quick check"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695730188,"post_id":77179655,"comment_id":136060879,"body_markdown":"I&#39;m not going to go through your full code (unless you hire me to do so), include the needed information in your question.","body":"I&#39;m not going to go through your full code (unless you hire me to do so), include the needed information in your question."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695753463,"post_id":77179655,"comment_id":136065780,"body_markdown":"i  don&#39;t require you to hire me . but if you consider to provide enough bounties for the question , i am happy to take a look . cheers.","body":"i  don&#39;t require you to hire me . but if you consider to provide enough bounties for the question , i am happy to take a look . cheers."}],"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695730211,"creation_date":1695728123,"question_id":77179655,"body_markdown":"I was trying to setup usage of REST APIs in one of our application. SO I was trying to achieving this with interceptor approach.\r\n\r\nThe problem i was having as we are having two kinds of restful definitions spread-ed across controllers. some of them are with @Get/@post mappings while others with verbose `@RequestMapping`. \r\n\r\n\r\nSo when i use `AnnotationUtils.findAnnotation(method, RequestMapping.class)` we are not getting the path value where we are using HttpVerb maapings (`@GETMapping`).\r\n\r\nMy Solution for this is if we are getting empty path with `@RequestMapping`, then go to switch case and then check with each Http Verb, and then call the associated  `AnnotationUtils.findAnnotation(method, HttpVerbMapping.class)`. I am posting here, is there any better and simpler solution for this?\r\n\r\n```\r\n@GetMapping(&quot;/say-good-bye&quot;)\r\npublic ResponseEntity&lt;String&gt; sayGoodBye1() {\r\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\r\n    }\r\n```\r\n```\r\n@RequestMapping(value = &quot;/say-good-bye2&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;String&gt; sayGoodBye2() {\r\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class MyOwnInterceptor implements HandlerInterceptor {\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        Method method = ((HandlerMethod) handler).getMethod();\r\n\r\n        RequestMapping requestMapping = AnnotationUtils.findAnnotation(method, RequestMapping.class);\r\n        }\r\n}\r\n```\r\nWhen i use ``` curl --location &#39;http://localhost:8080/say-good-bye&#39;``` the ```AnnotationUtils.findAnnotation(method, RequestMapping.class)``` its returning empty path.","title":"AnnotationUtils.findAnnotation not gives path value when restMethod uses GetMapping","body":"<p>I was trying to setup usage of REST APIs in one of our application. SO I was trying to achieving this with interceptor approach.</p>\n<p>The problem i was having as we are having two kinds of restful definitions spread-ed across controllers. some of them are with @Get/@post mappings while others with verbose <code>@RequestMapping</code>.</p>\n<p>So when i use <code>AnnotationUtils.findAnnotation(method, RequestMapping.class)</code> we are not getting the path value where we are using HttpVerb maapings (<code>@GETMapping</code>).</p>\n<p>My Solution for this is if we are getting empty path with <code>@RequestMapping</code>, then go to switch case and then check with each Http Verb, and then call the associated  <code>AnnotationUtils.findAnnotation(method, HttpVerbMapping.class)</code>. I am posting here, is there any better and simpler solution for this?</p>\n<pre><code>@GetMapping(&quot;/say-good-bye&quot;)\npublic ResponseEntity&lt;String&gt; sayGoodBye1() {\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\n    }\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/say-good-bye2&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;String&gt; sayGoodBye2() {\n        return ResponseEntity.ok(&quot;Good bye see you later&quot;);\n}\n</code></pre>\n<pre><code>@Component\npublic class MyOwnInterceptor implements HandlerInterceptor {\n\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        Method method = ((HandlerMethod) handler).getMethod();\n\n        RequestMapping requestMapping = AnnotationUtils.findAnnotation(method, RequestMapping.class);\n        }\n}\n</code></pre>\n<p>When i use <code> curl --location 'http://localhost:8080/say-good-bye'</code> the <code>AnnotationUtils.findAnnotation(method, RequestMapping.class)</code> its returning empty path.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541883176,"post_id":53243285,"comment_id":93372058,"body_markdown":"Use exceptions to handle exceptional conditions only. If you can predict and detect the problem, there is no need to use an exception.","body":"Use exceptions to handle exceptional conditions only. If you can predict and detect the problem, there is no need to use an exception."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1541883606,"post_id":53243285,"comment_id":93372167,"body_markdown":"There is the option of returning `Optional&lt;User&gt;` which is only filled if valid, empty otherwise.","body":"There is the option of returning <code>Optional&lt;User&gt;</code> which is only filled if valid, empty otherwise."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1541883663,"post_id":53243285,"comment_id":93372183,"body_markdown":"Any opposition to closing this as a duplicate of https://stackoverflow.com/questions/2972307/when-to-return-bool-throw-an-exception-and-which-exception-to-throw ?","body":"Any opposition to closing this as a duplicate of <a href=\"https://stackoverflow.com/questions/2972307/when-to-return-bool-throw-an-exception-and-which-exception-to-throw\" title=\"when to return bool throw an exception and which exception to throw\">stackoverflow.com/questions/2972307/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1541884351,"creation_date":1541883689,"answer_id":53243373,"question_id":53243285,"body_markdown":"Short answer: \r\n\r\nYou should *NEVER* use try/catch for &quot;control logic&quot;. \r\n\r\nAs  Andy Turner said, &quot;Use exceptions to handle exceptional conditions only.&quot;\r\n\r\nThis is equally true of all languages that support exceptions - not just Java. Useful article: \r\n\r\n[Best practices for exceptions](https://learn.microsoft.com/en-us/dotnet/standard/exceptions/best-practices-for-exceptions)\r\n\r\nPS: try/catch is *NOT* &quot;just similar&quot; to &quot;if/else&quot;.  It has a different implementation, a different intent ... and it&#39;s *FAR* more expensive.\r\n\r\nADDITIONAL NOTE:\r\n\r\n&gt; \r\n&gt; *Exceptions: Why throw early? Why catch late?*\r\n&gt; \r\n&gt; https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\r\n&gt; \r\n&gt; In my experience, its best to throw exceptions at the point where the\r\n&gt; errors occur. You do this because it&#39;s the point where you know the\r\n&gt; most about why the exception was triggered.\r\n&gt; \r\n&gt; As the exception unwinds back up the layers, catching and rethrowing\r\n&gt; is a good way to add additional context to the exception. This can\r\n&gt; mean throwing a different type of exception, but include the original\r\n&gt; exception when you do this.\r\n&gt; \r\n&gt; Eventually the exception will reach a layer where you are able to make\r\n&gt; decisions on code flow (e.g a prompt the user for action). This is the\r\n&gt; point where you should finally handle the exception and continue\r\n&gt; normal execution.\r\n&gt; \r\n&gt; With practice and experience with your code base it becomes quite easy\r\n&gt; to judge when to add additional context to errors, and where it&#39;s most\r\n&gt; sensible to actually, finally handle the errors.\r\n&gt; \r\n&gt; * Catch → Rethrow\r\n&gt; \r\n&gt;   Do this where you can usefully add more information that would save\r\n&gt; a developer having to work through all the layers to understand the\r\n&gt; problem.\r\n&gt; \r\n&gt; * Catch → Handle\r\n&gt; \r\n&gt;   Do this where you can make final decisions on what is an\r\n&gt; appropriate, but different execution flow through the software.\r\n&gt; \r\n&gt; * Catch → Error Return\r\n&gt; \r\n&gt;   Whilst there are situations where this is appropriate, catching\r\n&gt; exceptions and returning an error value to the caller should be\r\n&gt; considered for refactoring into a Catch → Rethrow implementation.\r\n\r\n","title":"return boolean or try catch","body":"<p>Short answer: </p>\n\n<p>You should <em>NEVER</em> use try/catch for \"control logic\". </p>\n\n<p>As  Andy Turner said, \"Use exceptions to handle exceptional conditions only.\"</p>\n\n<p>This is equally true of all languages that support exceptions - not just Java. Useful article: </p>\n\n<p><a href=\"https://learn.microsoft.com/en-us/dotnet/standard/exceptions/best-practices-for-exceptions\" rel=\"noreferrer\">Best practices for exceptions</a></p>\n\n<p>PS: try/catch is <em>NOT</em> \"just similar\" to \"if/else\".  It has a different implementation, a different intent ... and it's <em>FAR</em> more expensive.</p>\n\n<p>ADDITIONAL NOTE:</p>\n\n<blockquote>\n  <p><em>Exceptions: Why throw early? Why catch late?</em></p>\n  \n  <p><a href=\"https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\">https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late</a></p>\n  \n  <p>In my experience, its best to throw exceptions at the point where the\n  errors occur. You do this because it's the point where you know the\n  most about why the exception was triggered.</p>\n  \n  <p>As the exception unwinds back up the layers, catching and rethrowing\n  is a good way to add additional context to the exception. This can\n  mean throwing a different type of exception, but include the original\n  exception when you do this.</p>\n  \n  <p>Eventually the exception will reach a layer where you are able to make\n  decisions on code flow (e.g a prompt the user for action). This is the\n  point where you should finally handle the exception and continue\n  normal execution.</p>\n  \n  <p>With practice and experience with your code base it becomes quite easy\n  to judge when to add additional context to errors, and where it's most\n  sensible to actually, finally handle the errors.</p>\n  \n  <ul>\n  <li><p>Catch → Rethrow</p>\n  \n  <p>Do this where you can usefully add more information that would save\n  a developer having to work through all the layers to understand the\n  problem.</p></li>\n  <li><p>Catch → Handle</p>\n  \n  <p>Do this where you can make final decisions on what is an\n  appropriate, but different execution flow through the software.</p></li>\n  <li><p>Catch → Error Return</p>\n  \n  <p>Whilst there are situations where this is appropriate, catching\n  exceptions and returning an error value to the caller should be\n  considered for refactoring into a Catch → Rethrow implementation.</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25795974,"reputation":21,"user_id":19539143,"display_name":"Raymond Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695730210,"creation_date":1695729473,"answer_id":77179795,"question_id":53243285,"body_markdown":"In case someone else finds this, I found another Stack Overflow thread where someone suggested creating a new class to handle this scenario (see https://stackoverflow.com/questions/13902174/try-catch-or-boolean-check).\r\n\r\nI tried it and it works brilliantly. If-boolean can be a bit simplistic if our method calls other methods that each check one thing. And try-catch should ideally be used for genuine exceptions. \r\n\r\nBy creating a Result class (e.g. with a boolean property and a String property), we can return the result (true/false) and a meaningful message that can be printed to the console or to a GUI (e.g. JavaFX).","title":"return boolean or try catch","body":"<p>In case someone else finds this, I found another Stack Overflow thread where someone suggested creating a new class to handle this scenario (see <a href=\"https://stackoverflow.com/questions/13902174/try-catch-or-boolean-check\">Try Catch or Boolean check</a>).</p>\n<p>I tried it and it works brilliantly. If-boolean can be a bit simplistic if our method calls other methods that each check one thing. And try-catch should ideally be used for genuine exceptions.</p>\n<p>By creating a Result class (e.g. with a boolean property and a String property), we can return the result (true/false) and a meaningful message that can be printed to the console or to a GUI (e.g. JavaFX).</p>\n"}],"owner":{"account_id":14659691,"reputation":63,"user_id":10587288,"display_name":"A. Go"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6855,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53243373,"answer_count":2,"score":4,"last_activity_date":1695730210,"creation_date":1541883073,"question_id":53243285,"body_markdown":"when a function or method encouter error/invalid data, do return false or throw an exception?\r\nConsider a class Loginer has such method :\r\n\r\n    public boolean login(String username){\r\n    \t//retrieve data...\r\n    \tif(username.equals(record.username)){\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn false;\r\n    }\r\n\r\nthen at the main or some other class \r\n\r\n    String username = &quot;ggwp&quot;;\r\n    if(Loginer.login(username)){\r\n    \t//successful login, show homepage...\r\n        new User(username);\r\n    } else {\r\n    \t//invalid username\r\n    }\r\n\r\nwon&#39;t it be inefficient as it has been checked two time with if-else statement, one in Loginer, and another one check for true again at main.\r\nwon&#39;t try catch will do the same? having the Loginer to throw an Exception:\r\n\r\n    public User login(String username){\r\n    \t//retrieve record data...\r\n    \tif(username.equals(record.username)){\r\n    \t\treturn new User(username);\r\n    \t}\r\n    \r\n    \t/* Exception if no record found for such username */\r\n    \tthrow new MyException(&quot;invalid username&quot;);\r\n    }\r\n\r\nthen on the main:\r\n\r\n    String username = &quot;ggwp2&quot;;\r\n    User theUser;\r\n    try{\r\n    \t//sucessful login\r\n    \ttheUser = Loginer.login(username);\r\n    }catch(MyException e){\r\n    \t//invalid username\r\n    }\r\n\r\nthe try-catch need no check second time for true or false. (this example i use return User object, it could be void and return nothing but the point is, why use boolean which will eventual being check twice?)\r\n\r\nsome website sources say not to use try-catch for &#39;code jumping&#39; but in this case it just do the same. (try-catch is just too similar to if-else statement)\r\n\r\nSo which is correct and why? please guide and sorry if this question is incorrect, im newbie to OO.\r\n","title":"return boolean or try catch","body":"<p>when a function or method encouter error/invalid data, do return false or throw an exception?\nConsider a class Loginer has such method :</p>\n\n<pre><code>public boolean login(String username){\n    //retrieve data...\n    if(username.equals(record.username)){\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>then at the main or some other class </p>\n\n<pre><code>String username = \"ggwp\";\nif(Loginer.login(username)){\n    //successful login, show homepage...\n    new User(username);\n} else {\n    //invalid username\n}\n</code></pre>\n\n<p>won't it be inefficient as it has been checked two time with if-else statement, one in Loginer, and another one check for true again at main.\nwon't try catch will do the same? having the Loginer to throw an Exception:</p>\n\n<pre><code>public User login(String username){\n    //retrieve record data...\n    if(username.equals(record.username)){\n        return new User(username);\n    }\n\n    /* Exception if no record found for such username */\n    throw new MyException(\"invalid username\");\n}\n</code></pre>\n\n<p>then on the main:</p>\n\n<pre><code>String username = \"ggwp2\";\nUser theUser;\ntry{\n    //sucessful login\n    theUser = Loginer.login(username);\n}catch(MyException e){\n    //invalid username\n}\n</code></pre>\n\n<p>the try-catch need no check second time for true or false. (this example i use return User object, it could be void and return nothing but the point is, why use boolean which will eventual being check twice?)</p>\n\n<p>some website sources say not to use try-catch for 'code jumping' but in this case it just do the same. (try-catch is just too similar to if-else statement)</p>\n\n<p>So which is correct and why? please guide and sorry if this question is incorrect, im newbie to OO.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":29534919,"reputation":1,"user_id":22634694,"display_name":"OutOfMemory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695729821,"creation_date":1695701016,"question_id":77176952,"body_markdown":"In my spring boot web project,  there is a property named &#39;processType&#39; configurred in application.properties file, the enums of this property are &#39;web&#39;,&#39;worker&#39; and &#39;service&#39;, I  build different docker services according to  processType value  using the same gitlab codes.   And I want to exclude all controllers from registering as spring beans when processType value is &#39;worker&#39; and &#39;service&#39;. Of course, when this property value is web,  all controller need registering into spring container as component to handle web requests. I don&#39;t want use @ConditionalOnProperty annotation cause too many controllers need be handled.\r\n\r\nhere is my code.\r\n\r\nproject main class\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableCustomSwagger\r\n@EnableAsync\r\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\r\n@EnableElasticsearchRepositories\r\n@EnableCaching\r\n@EnableApolloConfig\r\n//@SpringBootConfiguration\r\n//@EnableAutoConfiguration\r\n//@ComponentScan(\r\n//    value = &quot;com.example.package.subpack&quot;,\r\n//    excludeFilters = {\r\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),\r\n//      @ComponentScan.Filter(\r\n//          type = FilterType.CUSTOM,\r\n//          classes = AutoConfigurationExcludeFilter.class),\r\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)\r\n//    })\r\npublic class TaskServiceApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(TaskServiceApplication.class, args);\r\n  }\r\n\r\n  @Bean\r\n  public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\r\n    return new RestTemplate(factory);\r\n  }\r\n\r\n  @Bean\r\n  public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\r\n    SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\r\n    factory.setConnectTimeout(15000);\r\n    factory.setReadTimeout(15000);\r\n    return factory;\r\n  }\r\n}\r\n```\r\n\r\nmy custom TypeExcludeFilter:\r\n\r\n```java\r\n/**\r\n * 按理讲只要继承TypeExcludeFilter就能自动执行match逻辑，但是实际测试多次，都不执行本Filter的match内容。 本过滤器无需修改启动类的springboot注解\r\n *\r\n * &lt;p&gt;改用{@link ControllerExcludeTypeFilter}实现，该类需要改动springboot的注解。\r\n *\r\n * @author hebin\r\n * @date 2023/9/22 17:37\r\n */\r\n@Slf4j\r\npublic class ControllerTypeExcludeFilter extends TypeExcludeFilter {\r\n\r\n    private String processType;\r\n    private BeanFactory beanFactory;\r\n    private final String controllerPackage = &quot;com.example.package.subpack.controller&quot;;\r\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n        log.info(&quot;controller exclude filter match&quot;);\r\n\r\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\r\n        ClassMetadata classMetadata = metadataReader.getClassMetadata();\r\n        String className = classMetadata.getClassName();\r\n\r\n        Set&lt;String&gt; annotationTypes = annotationMetadata.getAnnotationTypes();\r\n        String processType = getProcessType();\r\n        log.info(&quot;current service process type is : {}&quot;, processType);\r\n        if (!ProcessTypeConst.WEB.equals(processType)) {\r\n            if (isControllerPackageClass(className) &amp;&amp; !isHealthCheckControllerClass(className)) {\r\n                log.info(&quot;class is normal Controller. className:{},annotationTypes:{}&quot;, className, annotationTypes);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean isControllerPackageClass(String className) {\r\n        return className.startsWith(controllerPackage);\r\n    }\r\n\r\n    private boolean isHealthCheckControllerClass(String className) {\r\n        return className.startsWith(healthCheckController);\r\n    }\r\n\r\n    public String getProcessType() {\r\n        if (StringUtils.isBlank(processType)) {\r\n            readProcessType();\r\n        }\r\n        return processType;\r\n    }\r\n\r\n    private void readProcessType() {\r\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\r\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return (obj != null) &amp;&amp; (getClass() == obj.getClass());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n\r\nin my mind, i just need extend TypeExcludeFilter, and it will work cause TypeExcludeFilter class will find all its sub class to do some filter logic. source codes are:\r\n\r\n```java\r\npublic class TypeExcludeFilter implements TypeFilter, BeanFactoryAware {\r\n\r\n    private BeanFactory beanFactory;\r\n\r\n    private Collection&lt;TypeExcludeFilter&gt; delegates;\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\r\n        if (this.beanFactory instanceof ListableBeanFactory &amp;&amp; getClass() == TypeExcludeFilter.class) {\r\n            for (TypeExcludeFilter delegate : getDelegates()) {\r\n                if (delegate.match(metadataReader, metadataReaderFactory)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private Collection&lt;TypeExcludeFilter&gt; getDelegates() {\r\n        Collection&lt;TypeExcludeFilter&gt; delegates = this.delegates;\r\n        if (delegates == null) {\r\n            delegates = ((ListableBeanFactory) this.beanFactory).getBeansOfType(TypeExcludeFilter.class).values();\r\n            this.delegates = delegates;\r\n        }\r\n        return delegates;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented equals&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented hashCode&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, in fact, my custom Filter wont work expected. so why?\r\n\r\nFinally I give up @SpringBootApplication annotation, and code as follows. it works well, but i still don&#39;t know why my custom TypeExcludeFilter does not work?\r\n\r\nproject main class\r\n\r\n```java\r\n//@SpringBootApplication\r\n@EnableCustomSwagger\r\n@EnableAsync\r\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\r\n@EnableElasticsearchRepositories\r\n@EnableCaching\r\n@EnableApolloConfig\r\n@SpringBootConfiguration\r\n@EnableAutoConfiguration\r\n@ComponentScan(value = &quot;com.example.package.subpack&quot;, excludeFilters = {@ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)})\r\npublic class TaskServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskServiceApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\r\n        return new RestTemplate(factory);\r\n    }\r\n\r\n    @Bean\r\n    public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\r\n        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\r\n        factory.setConnectTimeout(15000);\r\n        factory.setReadTimeout(15000);\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nMy own FilterType:\r\n\r\n```java\r\n/**\r\n * 该类需要改动springboot的注解。删掉@SpringBootApplication，改用其内三个注解，其中ComponentScan注解增加本过滤器\r\n *\r\n * @date 2023/9/22 17:37\r\n */\r\n@Slf4j\r\npublic class ControllerExcludeTypeFilter implements TypeFilter, BeanFactoryAware {\r\n\r\n    private String processType;\r\n    private BeanFactory beanFactory;\r\n    private static final String controllerAnnotationName = Controller.class.getName();\r\n\r\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\r\n\r\n    @Override\r\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n        String processType = getProcessType();\r\n        if (ProcessTypeConst.WEB.equals(processType)) {\r\n            return false;\r\n        }\r\n\r\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\r\n        if (!annotationMetadata.isAnnotated(controllerAnnotationName)) {\r\n            return false;\r\n        }\r\n\r\n        String className = metadataReader.getClassMetadata().getClassName();\r\n        if (isHealthCheckControllerClass(className)) {\r\n            return false;\r\n        }\r\n\r\n        log.info(&quot;class is normal Controller and will not be registered into spring container.processType:{}, className:{}&quot;, processType, className);\r\n        return true;\r\n\r\n    }\r\n\r\n    private boolean isHealthCheckControllerClass(String className) {\r\n        return className.startsWith(healthCheckController);\r\n    }\r\n\r\n    public String getProcessType() {\r\n        if (StringUtils.isBlank(processType)) {\r\n            readProcessType();\r\n        }\r\n        return processType;\r\n    }\r\n\r\n    private void readProcessType() {\r\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\r\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\r\n        log.info(&quot;controller exclude type filter has read process type property. processType:{}&quot;, processType);\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n}\r\n```","title":"Why My custom TypeExcludeFilter does not work?","body":"<p>In my spring boot web project,  there is a property named 'processType' configurred in application.properties file, the enums of this property are 'web','worker' and 'service', I  build different docker services according to  processType value  using the same gitlab codes.   And I want to exclude all controllers from registering as spring beans when processType value is 'worker' and 'service'. Of course, when this property value is web,  all controller need registering into spring container as component to handle web requests. I don't want use @ConditionalOnProperty annotation cause too many controllers need be handled.</p>\n<p>here is my code.</p>\n<p>project main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableCustomSwagger\n@EnableAsync\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\n@EnableElasticsearchRepositories\n@EnableCaching\n@EnableApolloConfig\n//@SpringBootConfiguration\n//@EnableAutoConfiguration\n//@ComponentScan(\n//    value = &quot;com.example.package.subpack&quot;,\n//    excludeFilters = {\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),\n//      @ComponentScan.Filter(\n//          type = FilterType.CUSTOM,\n//          classes = AutoConfigurationExcludeFilter.class),\n//      @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)\n//    })\npublic class TaskServiceApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(TaskServiceApplication.class, args);\n  }\n\n  @Bean\n  public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\n    return new RestTemplate(factory);\n  }\n\n  @Bean\n  public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\n    SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n    factory.setConnectTimeout(15000);\n    factory.setReadTimeout(15000);\n    return factory;\n  }\n}\n</code></pre>\n<p>my custom TypeExcludeFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * 按理讲只要继承TypeExcludeFilter就能自动执行match逻辑，但是实际测试多次，都不执行本Filter的match内容。 本过滤器无需修改启动类的springboot注解\n *\n * &lt;p&gt;改用{@link ControllerExcludeTypeFilter}实现，该类需要改动springboot的注解。\n *\n * @author hebin\n * @date 2023/9/22 17:37\n */\n@Slf4j\npublic class ControllerTypeExcludeFilter extends TypeExcludeFilter {\n\n    private String processType;\n    private BeanFactory beanFactory;\n    private final String controllerPackage = &quot;com.example.package.subpack.controller&quot;;\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n        log.info(&quot;controller exclude filter match&quot;);\n\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\n        ClassMetadata classMetadata = metadataReader.getClassMetadata();\n        String className = classMetadata.getClassName();\n\n        Set&lt;String&gt; annotationTypes = annotationMetadata.getAnnotationTypes();\n        String processType = getProcessType();\n        log.info(&quot;current service process type is : {}&quot;, processType);\n        if (!ProcessTypeConst.WEB.equals(processType)) {\n            if (isControllerPackageClass(className) &amp;&amp; !isHealthCheckControllerClass(className)) {\n                log.info(&quot;class is normal Controller. className:{},annotationTypes:{}&quot;, className, annotationTypes);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private boolean isControllerPackageClass(String className) {\n        return className.startsWith(controllerPackage);\n    }\n\n    private boolean isHealthCheckControllerClass(String className) {\n        return className.startsWith(healthCheckController);\n    }\n\n    public String getProcessType() {\n        if (StringUtils.isBlank(processType)) {\n            readProcessType();\n        }\n        return processType;\n    }\n\n    private void readProcessType() {\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return (obj != null) &amp;&amp; (getClass() == obj.getClass());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>in my mind, i just need extend TypeExcludeFilter, and it will work cause TypeExcludeFilter class will find all its sub class to do some filter logic. source codes are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeExcludeFilter implements TypeFilter, BeanFactoryAware {\n\n    private BeanFactory beanFactory;\n\n    private Collection&lt;TypeExcludeFilter&gt; delegates;\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {\n        if (this.beanFactory instanceof ListableBeanFactory &amp;&amp; getClass() == TypeExcludeFilter.class) {\n            for (TypeExcludeFilter delegate : getDelegates()) {\n                if (delegate.match(metadataReader, metadataReaderFactory)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private Collection&lt;TypeExcludeFilter&gt; getDelegates() {\n        Collection&lt;TypeExcludeFilter&gt; delegates = this.delegates;\n        if (delegates == null) {\n            delegates = ((ListableBeanFactory) this.beanFactory).getBeansOfType(TypeExcludeFilter.class).values();\n            this.delegates = delegates;\n        }\n        return delegates;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented equals&quot;);\n    }\n\n    @Override\n    public int hashCode() {\n        throw new IllegalStateException(&quot;TypeExcludeFilter &quot; + getClass() + &quot; has not implemented hashCode&quot;);\n    }\n\n}\n</code></pre>\n<p>However, in fact, my custom Filter wont work expected. so why?</p>\n<p>Finally I give up @SpringBootApplication annotation, and code as follows. it works well, but i still don't know why my custom TypeExcludeFilter does not work?</p>\n<p>project main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@SpringBootApplication\n@EnableCustomSwagger\n@EnableAsync\n@ImportResource({&quot;classpath:dubbo.xml&quot;, &quot;classpath:dubbo-consumer.xml&quot;})\n@EnableElasticsearchRepositories\n@EnableCaching\n@EnableApolloConfig\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(value = &quot;com.example.package.subpack&quot;, excludeFilters = {@ComponentScan.Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class), @ComponentScan.Filter(type = FilterType.CUSTOM, classes = ControllerExcludeTypeFilter.class)})\npublic class TaskServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskServiceApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate restTemplate(ClientHttpRequestFactory factory) {\n        return new RestTemplate(factory);\n    }\n\n    @Bean\n    public ClientHttpRequestFactory simpleClientHttpRequestFactory() {\n        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n        factory.setConnectTimeout(15000);\n        factory.setReadTimeout(15000);\n        return factory;\n    }\n}\n</code></pre>\n<p>My own FilterType:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * 该类需要改动springboot的注解。删掉@SpringBootApplication，改用其内三个注解，其中ComponentScan注解增加本过滤器\n *\n * @date 2023/9/22 17:37\n */\n@Slf4j\npublic class ControllerExcludeTypeFilter implements TypeFilter, BeanFactoryAware {\n\n    private String processType;\n    private BeanFactory beanFactory;\n    private static final String controllerAnnotationName = Controller.class.getName();\n\n    private final String healthCheckController = &quot;com.example.package.subpack.controller.health.HealthCheckController&quot;;\n\n    @Override\n    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n        String processType = getProcessType();\n        if (ProcessTypeConst.WEB.equals(processType)) {\n            return false;\n        }\n\n        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();\n        if (!annotationMetadata.isAnnotated(controllerAnnotationName)) {\n            return false;\n        }\n\n        String className = metadataReader.getClassMetadata().getClassName();\n        if (isHealthCheckControllerClass(className)) {\n            return false;\n        }\n\n        log.info(&quot;class is normal Controller and will not be registered into spring container.processType:{}, className:{}&quot;, processType, className);\n        return true;\n\n    }\n\n    private boolean isHealthCheckControllerClass(String className) {\n        return className.startsWith(healthCheckController);\n    }\n\n    public String getProcessType() {\n        if (StringUtils.isBlank(processType)) {\n            readProcessType();\n        }\n        return processType;\n    }\n\n    private void readProcessType() {\n        ConfigurableEnvironment environment = beanFactory.getBean(ConfigurableEnvironment.class);\n        processType = environment.getProperty(ProcessTypeConst.PROCESS_TYPE);\n        log.info(&quot;controller exclude type filter has read process type property. processType:{}&quot;, processType);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = beanFactory;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695729843,"post_id":77179816,"comment_id":136060809,"body_markdown":"Why are you assuming the bottleneck is in the Java code?","body":"Why are you assuming the bottleneck is in the Java code?"},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695729984,"post_id":77179816,"comment_id":136060840,"body_markdown":"The transfer is done on two SSD disks (read from one, write to the other), and the internet connection as I mentioned is above that. And the speed is always limited to 3 MB/s.","body":"The transfer is done on two SSD disks (read from one, write to the other), and the internet connection as I mentioned is above that. And the speed is always limited to 3 MB/s."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695730513,"post_id":77179816,"comment_id":136060948,"body_markdown":"That still doesn&#39;t mean the problem is in your code. It could be, but it&#39;s still an assumption.","body":"That still doesn&#39;t mean the problem is in your code. It could be, but it&#39;s still an assumption."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1695730711,"post_id":77179816,"comment_id":136060985,"body_markdown":"Among the alternatives being the configuration of the underlying local system and the configuration of the network over which the data are being transferred.  Having a 1Gb link is not the same as being able to sustain a data transfer at or near line speed.","body":"Among the alternatives being the configuration of the underlying local system and the configuration of the network over which the data are being transferred.  Having a 1Gb link is not the same as being able to sustain a data transfer at or near line speed."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695733437,"post_id":77179816,"comment_id":136061624,"body_markdown":"I understand, but should that also apply to other apps as well if it wasn&#39;t a problem with the socket? Like for example when downloading and uploading using a torrent app when getting copyright free content, downloading stays at max speed, and upload I&#39;ve seen a lot bigger then 3 MB/s.","body":"I understand, but should that also apply to other apps as well if it wasn&#39;t a problem with the socket? Like for example when downloading and uploading using a torrent app when getting copyright free content, downloading stays at max speed, and upload I&#39;ve seen a lot bigger then 3 MB/s."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695749961,"post_id":77179816,"comment_id":136065211,"body_markdown":"You are reading and writing `beforeSize` and `totalSize` in multiple threads.  Without synchronization or locking or a thread-safe type like AtomicLong, there is no guarantee updates are seen by other threads.  See https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3.","body":"You are reading and writing <code>beforeSize</code> and <code>totalSize</code> in multiple threads.  Without synchronization or locking or a thread-safe type like AtomicLong, there is no guarantee updates are seen by other threads.  See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-1&zwnj;&#8203;7.3</a>."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1695753636,"post_id":77179816,"comment_id":136065813,"body_markdown":"That is not the problem, that is just a very simple/basic/unsafe check for debugging only, and the same thing is seen in Task Manager, the same speed.","body":"That is not the problem, that is just a very simple/basic/unsafe check for debugging only, and the same thing is seen in Task Manager, the same speed."}],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695729602,"creation_date":1695729602,"question_id":77179816,"body_markdown":"I have a socket that can transfer files in `byte[]` chunks, but no matter what size I set to buffer, or how many clients connect to the server, the transfer speed is limited to 3 MB/s (on 1 Gbps ~125 MB/s Up/Down connection).\r\n\r\nSome suggestions that I found were to set `socket.setTcpNoDelay(true);` but the limit is the same, then I tried to also add `BufferedOutputStream` to `ObjectOutputStream dataOut = new ObjectOutputStream(new BufferedOutputStream( socket.getOutputStream()));` and still the same. These two were the only answers I kept seeing for this problem.\r\n\r\nThe files are send with correct data, only they are send with a slow speed.\r\n\r\nI&#39;m using `ObjectStream` because beside the file transfer, in the actual app I have some other objects classes being transferred. On transfer handler I&#39;m using `Object auxX = dataIn.readObject();` for a more granular check between server and client.\r\n\r\nWhy is the speed still limited, and what else should I do to remove it?\r\n\r\nHere are the classes:\r\n\r\n**Client:**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.Socket;\r\nimport java.util.Arrays;\r\n\r\npublic class aClient {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSocket socket = new Socket(&quot;IP Address, not localhost&quot;, 40001);\r\n\t\t\t\t\t\tsocket.setTcpNoDelay(true);\r\n\t\t\t\t\t\tObjectOutputStream dataOut = new ObjectOutputStream(\r\n\t\t\t\t\t\t\t\tnew BufferedOutputStream(socket.getOutputStream()));\r\n\t\t\t\t\t\tBufferedInputStream is = new BufferedInputStream(new FileInputStream(new File(&quot;E:\\\\a.mp4&quot;)));\r\n\t\t\t\t\t\tbyte[] buffer = new byte[8192];\r\n\t\t\t\t\t\tint sizeRead = 0;\r\n\t\t\t\t\t\twhile ((sizeRead = is.read(buffer, 0, 8192)) &gt;= 0) {\r\n\t\t\t\t\t\t\tdataOut.writeObject(true);\r\n\t\t\t\t\t\t\tdataOut.writeObject(sizeRead);\r\n\t\t\t\t\t\t\tdataOut.writeObject(Arrays.copyOf(buffer, sizeRead));\r\n\t\t\t\t\t\t\tdataOut.flush();\r\n\t\t\t\t\t\t\tbuffer = new byte[8192];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tis.close();\r\n\t\t\t\t\t\tdataOut.writeObject(false);\r\n\t\t\t\t\t\tdataOut.flush();\r\n\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.start();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n**Server (also contains the code to show transfer speed):**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.List;\r\nimport java.util.Vector;\r\n\r\npublic class aServer implements Runnable {\r\n\tstatic List&lt;ClientThread&gt; threadList = new Vector&lt;ClientThread&gt;();\r\n\tstatic ServerSocket serverSocket;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tThread clientsThread = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tif (threadList.size() &gt; 0) {\r\n\t\t\t\t\t\tThread toRun = threadList.get(0);\r\n\t\t\t\t\t\tthreadList.remove(toRun);\r\n\t\t\t\t\t\ttoRun.start();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tclientsThread.start();\r\n\t\tserverSocket = new ServerSocket(40001);\r\n\r\n\t\taServer a = new aServer();\r\n\t\tspeed();\r\n\t\ta.run();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\tSocket socketClient = serverSocket.accept();\r\n\t\t\t\tthreadList.add(new ClientThread(socketClient));\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void speed() {\r\n\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tlong beforeSize = ClientThread.beforeSize;\r\n\t\t\t\t\tlong totalSize = ClientThread.totalSize;\r\n\t\t\t\t\tSystem.out.println(getSizeConversion(totalSize - beforeSize) + &quot;/s&quot;);\r\n\t\t\t\t\tClientThread.beforeSize = totalSize;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\r\n\t}\r\n\r\n\tpublic static String getSizeConversion(long value) {\r\n\t\tDouble valueD = Double.valueOf(value);\r\n\t\tString valueS = &quot;&quot;;\r\n\t\tif (valueD &gt;= 1024) {\r\n\t\t\tif ((valueD / 1024) &gt;= 1024) {\r\n\t\t\t\tif ((valueD / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\t\tif ((valueD / 1024 / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\r\n\t\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn valueS + &quot; EiB&quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn valueS + &quot; PiB&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn valueS + &quot; TiB&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024 / 1024);\r\n\t\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn valueS + &quot; GiB&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueS = String.valueOf(valueD / 1024 / 1024);\r\n\t\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn valueS + &quot; MiB&quot;;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvalueS = String.valueOf(valueD / 1024);\r\n\t\t\t\tif (valueS.indexOf(&quot;.&quot;) != -1) {\r\n\t\t\t\t\tif (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\r\n\t\t\t\t\t\tvalueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn valueS + &quot; KiB&quot;;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn valueD.intValue() + &quot; B&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n**Transfer handler:**\r\n```\r\npackage zDevelopment;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.ObjectInputStream;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class ClientThread extends Thread {\r\n\r\n\tstatic long beforeSize = 0;\r\n\tstatic long totalSize = 0;\r\n\r\n\tSocket socket;\r\n\r\n\tpublic ClientThread(Socket socket) {\r\n\t\tthis.socket = socket;\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tObjectInputStream dataIn = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\r\n\t\t\tFile file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\r\n\t\t\twhile (file.exists()) {\r\n\t\t\t\tfile = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\r\n\t\t\t}\r\n\t\t\tBufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(file));\r\n\t\t\tObject auxKeepReading = dataIn.readObject();\r\n\t\t\tif (auxKeepReading instanceof Boolean) {\r\n\t\t\t\twhile ((boolean) auxKeepReading) {\r\n\t\t\t\t\tObject auxSize = dataIn.readObject();\r\n\t\t\t\t\ttotalSize += (int) auxSize;\r\n\t\t\t\t\tif (!(auxSize instanceof Integer)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tObject auxBuffer = dataIn.readObject();\r\n\t\t\t\t\tif (!(auxBuffer instanceof byte[])) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbos.write((byte[]) auxBuffer, 0, (int) auxSize);\r\n\t\t\t\t\tauxKeepReading = dataIn.readObject();\r\n\t\t\t\t\tif (!(auxKeepReading instanceof Boolean)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbos.close();\r\n\t\t\tsocket.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to remove Java Socket speed limit when sending files in chunks byte[]","body":"<p>I have a socket that can transfer files in <code>byte[]</code> chunks, but no matter what size I set to buffer, or how many clients connect to the server, the transfer speed is limited to 3 MB/s (on 1 Gbps ~125 MB/s Up/Down connection).</p>\n<p>Some suggestions that I found were to set <code>socket.setTcpNoDelay(true);</code> but the limit is the same, then I tried to also add <code>BufferedOutputStream</code> to <code>ObjectOutputStream dataOut = new ObjectOutputStream(new BufferedOutputStream( socket.getOutputStream()));</code> and still the same. These two were the only answers I kept seeing for this problem.</p>\n<p>The files are send with correct data, only they are send with a slow speed.</p>\n<p>I'm using <code>ObjectStream</code> because beside the file transfer, in the actual app I have some other objects classes being transferred. On transfer handler I'm using <code>Object auxX = dataIn.readObject();</code> for a more granular check between server and client.</p>\n<p>Why is the speed still limited, and what else should I do to remove it?</p>\n<p>Here are the classes:</p>\n<p><strong>Client:</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\nimport java.util.Arrays;\n\npublic class aClient {\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        Socket socket = new Socket(&quot;IP Address, not localhost&quot;, 40001);\n                        socket.setTcpNoDelay(true);\n                        ObjectOutputStream dataOut = new ObjectOutputStream(\n                                new BufferedOutputStream(socket.getOutputStream()));\n                        BufferedInputStream is = new BufferedInputStream(new FileInputStream(new File(&quot;E:\\\\a.mp4&quot;)));\n                        byte[] buffer = new byte[8192];\n                        int sizeRead = 0;\n                        while ((sizeRead = is.read(buffer, 0, 8192)) &gt;= 0) {\n                            dataOut.writeObject(true);\n                            dataOut.writeObject(sizeRead);\n                            dataOut.writeObject(Arrays.copyOf(buffer, sizeRead));\n                            dataOut.flush();\n                            buffer = new byte[8192];\n                        }\n                        is.close();\n                        dataOut.writeObject(false);\n                        dataOut.flush();\n                        socket.close();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p><strong>Server (also contains the code to show transfer speed):</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.List;\nimport java.util.Vector;\n\npublic class aServer implements Runnable {\n    static List&lt;ClientThread&gt; threadList = new Vector&lt;ClientThread&gt;();\n    static ServerSocket serverSocket;\n\n    public static void main(String[] args) throws Exception {\n        Thread clientsThread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    if (threadList.size() &gt; 0) {\n                        Thread toRun = threadList.get(0);\n                        threadList.remove(toRun);\n                        toRun.start();\n                    } else {\n                        try {\n                            Thread.sleep(10);\n                        } catch (InterruptedException e) {\n                        }\n                    }\n                }\n            }\n        });\n        clientsThread.start();\n        serverSocket = new ServerSocket(40001);\n\n        aServer a = new aServer();\n        speed();\n        a.run();\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true) {\n                Socket socketClient = serverSocket.accept();\n                threadList.add(new ClientThread(socketClient));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void speed() {\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    long beforeSize = ClientThread.beforeSize;\n                    long totalSize = ClientThread.totalSize;\n                    System.out.println(getSizeConversion(totalSize - beforeSize) + &quot;/s&quot;);\n                    ClientThread.beforeSize = totalSize;\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        });\n        thread.start();\n    }\n\n    public static String getSizeConversion(long value) {\n        Double valueD = Double.valueOf(value);\n        String valueS = &quot;&quot;;\n        if (valueD &gt;= 1024) {\n            if ((valueD / 1024) &gt;= 1024) {\n                if ((valueD / 1024 / 1024) &gt;= 1024) {\n                    if ((valueD / 1024 / 1024 / 1024) &gt;= 1024) {\n                        if ((valueD / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\n                            if ((valueD / 1024 / 1024 / 1024 / 1024 / 1024) &gt;= 1024) {\n                                valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024 / 1024);\n                                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                    }\n                                }\n                                return valueS + &quot; EiB&quot;;\n                            } else {\n                                valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024 / 1024);\n                                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                    }\n                                }\n                                return valueS + &quot; PiB&quot;;\n                            }\n                        } else {\n                            valueS = String.valueOf(valueD / 1024 / 1024 / 1024 / 1024);\n                            if (valueS.indexOf(&quot;.&quot;) != -1) {\n                                if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                    valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                                }\n                            }\n                            return valueS + &quot; TiB&quot;;\n                        }\n                    } else {\n                        valueS = String.valueOf(valueD / 1024 / 1024 / 1024);\n                        if (valueS.indexOf(&quot;.&quot;) != -1) {\n                            if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                                valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                            }\n                        }\n                        return valueS + &quot; GiB&quot;;\n                    }\n                } else {\n                    valueS = String.valueOf(valueD / 1024 / 1024);\n                    if (valueS.indexOf(&quot;.&quot;) != -1) {\n                        if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                            valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                        }\n                    }\n                    return valueS + &quot; MiB&quot;;\n                }\n            } else {\n                valueS = String.valueOf(valueD / 1024);\n                if (valueS.indexOf(&quot;.&quot;) != -1) {\n                    if (valueS.substring(valueS.indexOf(&quot;.&quot;)).length() &gt; 3) {\n                        valueS = valueS.substring(0, valueS.indexOf(&quot;.&quot;) + 3);\n                    }\n                }\n                return valueS + &quot; KiB&quot;;\n            }\n        } else {\n            return valueD.intValue() + &quot; B&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>Transfer handler:</strong></p>\n<pre><code>package zDevelopment;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.ObjectInputStream;\nimport java.net.Socket;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class ClientThread extends Thread {\n\n    static long beforeSize = 0;\n    static long totalSize = 0;\n\n    Socket socket;\n\n    public ClientThread(Socket socket) {\n        this.socket = socket;\n    }\n\n    public void run() {\n        try {\n            ObjectInputStream dataIn = new ObjectInputStream(new BufferedInputStream(socket.getInputStream()));\n            File file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\n            while (file.exists()) {\n                file = new File(&quot;F:\\\\Testing\\\\&quot; + ThreadLocalRandom.current().nextInt(0, 5000000) + &quot;.mp4&quot;);\n            }\n            BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(file));\n            Object auxKeepReading = dataIn.readObject();\n            if (auxKeepReading instanceof Boolean) {\n                while ((boolean) auxKeepReading) {\n                    Object auxSize = dataIn.readObject();\n                    totalSize += (int) auxSize;\n                    if (!(auxSize instanceof Integer)) {\n                        break;\n                    }\n                    Object auxBuffer = dataIn.readObject();\n                    if (!(auxBuffer instanceof byte[])) {\n                        break;\n                    }\n                    bos.write((byte[]) auxBuffer, 0, (int) auxSize);\n                    auxKeepReading = dataIn.readObject();\n                    if (!(auxKeepReading instanceof Boolean)) {\n                        break;\n                    }\n                }\n            }\n            bos.close();\n            socket.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"score":1,"creation_date":1673554626,"post_id":75101812,"comment_id":132531736,"body_markdown":"What error you are getting?","body":"What error you are getting?"},{"owner":{"account_id":27513609,"reputation":1,"user_id":20995027,"display_name":"Mikaela Irish"},"score":0,"creation_date":1673555103,"post_id":75101812,"comment_id":132531876,"body_markdown":"404, plus I can see in the actuator the RestController isn&#39;t being bound.","body":"404, plus I can see in the actuator the RestController isn&#39;t being bound."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673557380,"post_id":75101812,"comment_id":132532552,"body_markdown":"Is the bean being loaded? Do you see &quot;Started MuninService&quot; in your log output? How do you try to access your endpoint?","body":"Is the bean being loaded? Do you see &quot;Started MuninService&quot; in your log output? How do you try to access your endpoint?"},{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":0,"creation_date":1673576848,"post_id":75101812,"comment_id":132535981,"body_markdown":"The answer from @timofeevle is right. You exclude ```@ComponentScan``` from ```@SpringBootApplication``` by using your custom bootstrap class.","body":"The answer from @timofeevle is right. You exclude <code>@ComponentScan</code> from <code>@SpringBootApplication</code> by using your custom bootstrap class."}],"answers":[{"tags":[],"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673561525,"creation_date":1673561091,"answer_id":75102772,"question_id":75101812,"body_markdown":"You have no `@ComponentScan` annotation in your `MuninContext`. Actually you can write `SpringApplication.run(Main.class, args)` in main method as Spring Initializr generate by default, you don&#39;t really need your context, because @SpringBootApplication work as configuration and contains @EnableAutoConfiguration, @ComponentScan, and some other annotations. Otherwise, as you pass your config class as argument in SpringApplication.run method, annotation @SpringBootApplication in Main class has no effect","title":"Spring Boot not finding RestController","body":"<p>You have no <code>@ComponentScan</code> annotation in your <code>MuninContext</code>. Actually you can write <code>SpringApplication.run(Main.class, args)</code> in main method as Spring Initializr generate by default, you don't really need your context, because @SpringBootApplication work as configuration and contains @EnableAutoConfiguration, @ComponentScan, and some other annotations. Otherwise, as you pass your config class as argument in SpringApplication.run method, annotation @SpringBootApplication in Main class has no effect</p>\n"},{"tags":[],"owner":{"account_id":28770067,"reputation":1,"user_id":22034021,"display_name":"Premkumar Vijayakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695729355,"creation_date":1695729355,"answer_id":77179787,"question_id":75101812,"body_markdown":"In the MuninService RestController you have defined only a constructor() MuninService(),and added a /health endpoint supporting the actuator, but there are no user defined endpoints defined in the Controller, so even though the service started without issues(as per your comment) there are no endpoints to test the status of Controller.","title":"Spring Boot not finding RestController","body":"<p>In the MuninService RestController you have defined only a constructor() MuninService(),and added a /health endpoint supporting the actuator, but there are no user defined endpoints defined in the Controller, so even though the service started without issues(as per your comment) there are no endpoints to test the status of Controller.</p>\n"}],"owner":{"account_id":27513609,"reputation":1,"user_id":20995027,"display_name":"Mikaela Irish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695729355,"creation_date":1673554384,"question_id":75101812,"body_markdown":"So I&#39;ve got a simple spring boot app, @SpringBootApplication, a stub @Configuration and a @RestController all in the same package.  Spring-boot-web-starter is there and the webserver comes up fine, actuator endpoints and all.  But I cannot for the life of me get the app to pick up the @RestControllers.\r\n\r\n[enter image description here](https://i.stack.imgur.com/pB1Hr.png)\r\n\r\nMain.class:\r\n\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MuninContext.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMuninContext.class:\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableAutoConfiguration\r\npublic class MuninContext {\r\n\r\n}\r\n\r\n```\r\n\r\nMuninService.class:\r\n```\r\npackage com.iglossolalia.munin;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MuninService {\r\n    private static final Logger LOG = LoggerFactory.getLogger(MuninService.class);\r\n\r\n    public MuninService() {\r\n        LOG.info(&quot;Started MuninService&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/health&quot;)\r\n    public String healthCheck() {\r\n        return &quot;pong&quot;;\r\n    }\r\n}\r\n```\r\n\r\nTried explicitly adding the rest controller to the component scan with no luck there.","title":"Spring Boot not finding RestController","body":"<p>So I've got a simple spring boot app, @SpringBootApplication, a stub @Configuration and a @RestController all in the same package.  Spring-boot-web-starter is there and the webserver comes up fine, actuator endpoints and all.  But I cannot for the life of me get the app to pick up the @RestControllers.</p>\n<p><a href=\"https://i.stack.imgur.com/pB1Hr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Main.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(MuninContext.class, args);\n    }\n}\n\n</code></pre>\n<p>MuninContext.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableAutoConfiguration\npublic class MuninContext {\n\n}\n\n</code></pre>\n<p>MuninService.class:</p>\n<pre><code>package com.iglossolalia.munin;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MuninService {\n    private static final Logger LOG = LoggerFactory.getLogger(MuninService.class);\n\n    public MuninService() {\n        LOG.info(&quot;Started MuninService&quot;);\n    }\n\n    @GetMapping(&quot;/health&quot;)\n    public String healthCheck() {\n        return &quot;pong&quot;;\n    }\n}\n</code></pre>\n<p>Tried explicitly adding the rest controller to the component scan with no luck there.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1695674296,"post_id":77017181,"comment_id":136053508,"body_markdown":"To answer your question, pls update your question with the layout file","body":"To answer your question, pls update your question with the layout file"},{"owner":{"account_id":18853229,"reputation":45,"user_id":13751873,"display_name":"Vladislav"},"score":0,"creation_date":1695729227,"post_id":77017181,"comment_id":136060673,"body_markdown":"@Ash There are several of them, I&#39;ve added the one I modified.","body":"@Ash There are several of them, I&#39;ve added the one I modified."}],"owner":{"account_id":18853229,"reputation":45,"user_id":13751873,"display_name":"Vladislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695729142,"creation_date":1693495061,"question_id":77017181,"body_markdown":"I am using Android Studio Flamingo, trying to make a japanese dictionary app. I&#39;ve got a TableLayout for the dictionary and TableRows for each word in it. Within that TableRows I&#39;ve got two TextViews: one for original word, one for translation. The problem is, the first TextView should have bigger TextSize. Here is the simplified version:\r\n\r\n    public void init_words_list() throws IOException {\r\n        TableLayout stk = findViewById(R.id.table_main);\r\n        TypedValue typedValue = new TypedValue();\r\n        getTheme().resolveAttribute(com.google.android.material.R.attr.colorOnSecondary, typedValue, true);\r\n        int text_color = ContextCompat.getColor(this, typedValue.resourceId);\r\n        String[] dict = { &quot;学&quot;, &quot;learning, education&quot; };\r\n        double[] widths = { 0.6, 0.4 };\r\n        int[] heights = { 30, 20 };\r\n        TableRow tbrow = new TableRow(this);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            TextView tv = new TextView(this);\r\n            tv.setText(dict[i]);\r\n            tv.setWidth((int) Math.round(widths[i] * (stk.getWidth())));\r\n            tv.setTextSize(heights[i]);\r\n            tv.setTextColor(text_color);\r\n            tv.setGravity(Gravity.START);\r\n            tbrow.addView(tv);\r\n        }\r\n        stk.addView(tbrow);\r\n    }\r\nThis results in the second TextView being cut off. Like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m guessing, that the reason is the height of TextView being calculated before it is added to the row. However after being added, the first line in the second TextView is aligned with the first line in the first TextView. And because one is bigger than the other, an offset occurs. If I make first TextView&#39;s font smaller, the problem will resolve:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUnfortunately, I want it big. So, are there any workarounds for this problem?\r\n\r\nUPD\r\nLayout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n    \r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/words_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/colorOnPrimary&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n    \r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table_main&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;/TableLayout&gt;\r\n    \r\n        &lt;/ScrollView&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Ht0nr.png\r\n  [2]: https://i.stack.imgur.com/an6Bu.png","title":"Android, text within a TextView is partially invisible","body":"<p>I am using Android Studio Flamingo, trying to make a japanese dictionary app. I've got a TableLayout for the dictionary and TableRows for each word in it. Within that TableRows I've got two TextViews: one for original word, one for translation. The problem is, the first TextView should have bigger TextSize. Here is the simplified version:</p>\n<pre><code>public void init_words_list() throws IOException {\n    TableLayout stk = findViewById(R.id.table_main);\n    TypedValue typedValue = new TypedValue();\n    getTheme().resolveAttribute(com.google.android.material.R.attr.colorOnSecondary, typedValue, true);\n    int text_color = ContextCompat.getColor(this, typedValue.resourceId);\n    String[] dict = { &quot;学&quot;, &quot;learning, education&quot; };\n    double[] widths = { 0.6, 0.4 };\n    int[] heights = { 30, 20 };\n    TableRow tbrow = new TableRow(this);\n    for (int i = 0; i &lt; 2; i++) {\n        TextView tv = new TextView(this);\n        tv.setText(dict[i]);\n        tv.setWidth((int) Math.round(widths[i] * (stk.getWidth())));\n        tv.setTextSize(heights[i]);\n        tv.setTextColor(text_color);\n        tv.setGravity(Gravity.START);\n        tbrow.addView(tv);\n    }\n    stk.addView(tbrow);\n}\n</code></pre>\n<p>This results in the second TextView being cut off. Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ht0nr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht0nr.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm guessing, that the reason is the height of TextView being calculated before it is added to the row. However after being added, the first line in the second TextView is aligned with the first line in the first TextView. And because one is bigger than the other, an offset occurs. If I make first TextView's font smaller, the problem will resolve:</p>\n<p><a href=\"https://i.stack.imgur.com/an6Bu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/an6Bu.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, I want it big. So, are there any workarounds for this problem?</p>\n<p>UPD\nLayout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/words_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/colorOnPrimary&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\n\n        &lt;TableLayout\n            android:id=&quot;@+id/table_main&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;/TableLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","amd-processor"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1546598115,"post_id":54037030,"comment_id":94909648,"body_markdown":"I&#39;m not sure this can be answered comprehensively, as the details of how Java Threads are implemented are, well, details of the implementation, that is the JVM. There are multiple JVM implementations in use, each in multiple different versions, and I would be surprised if they all behaved the same way in that regard. However, most implementations probably use OS Threads one way or the other.","body":"I&#39;m not sure this can be answered comprehensively, as the details of how Java Threads are implemented are, well, details of the implementation, that is the JVM. There are multiple JVM implementations in use, each in multiple different versions, and I would be surprised if they all behaved the same way in that regard. However, most implementations probably use OS Threads one way or the other."},{"owner":{"account_id":5337205,"reputation":2148,"user_id":4255756,"accept_rate":69,"display_name":"usertest"},"score":0,"creation_date":1546598333,"post_id":54037030,"comment_id":94909779,"body_markdown":"Oracle JDK 8, would that narrow it down? and I&#39;m not looking for details just if someone here have access to a threadripper WX CPU and have some insights. just a high level answer.","body":"Oracle JDK 8, would that narrow it down? and I&#39;m not looking for details just if someone here have access to a threadripper WX CPU and have some insights. just a high level answer."},{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":1,"creation_date":1546598522,"post_id":54037030,"comment_id":94909893,"body_markdown":"Oracle JDK 8 uses OS threads.","body":"Oracle JDK 8 uses OS threads."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1546598909,"post_id":54037030,"comment_id":94910097,"body_markdown":"@yole if you can provide a source for that claim, this would make a good answer","body":"@yole if you can provide a source for that claim, this would make a good answer"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546601320,"creation_date":1546601320,"answer_id":54038095,"question_id":54037030,"body_markdown":"I think that @yole was right with his comment and at least the Oracle JDK 8 uses a 1:1 mapping to OS Threads. \r\n\r\nAs shown in the [Java SE Technologies](https://docs.oracle.com/javase/8/docs/index.html), the JVM in use here is the Java HotSpot VM. Somewhat burried in a document about a change in how thread priorities are propagated in [the Java SE 8 technotes](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/thread-priorities.html), I found the following statement:\r\n\r\n&gt; The Java HotSpot virtual machine currently associates each Java thread with a unique native thread. The relationship between the Java thread and the native thread is stable and persists for the lifetime of the Java thread.\r\n\r\n&quot;native&quot; seems to imply &quot;Operating System&quot; within this context, as far as I can tell, as the text goes on discussing specifics about Solaris Kernel Threads/LWPs.\r\n\r\n&lt;sub&gt;(I also found some historic references to early (pre-java 1.2) versions that used &quot;Green Threads&quot; fully simulated within the JVM, but it seems that is no longer in use)&lt;/sub&gt;","title":"how does java play with AMD Threadripper platform","body":"<p>I think that @yole was right with his comment and at least the Oracle JDK 8 uses a 1:1 mapping to OS Threads. </p>\n\n<p>As shown in the <a href=\"https://docs.oracle.com/javase/8/docs/index.html\" rel=\"nofollow noreferrer\">Java SE Technologies</a>, the JVM in use here is the Java HotSpot VM. Somewhat burried in a document about a change in how thread priorities are propagated in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/thread-priorities.html\" rel=\"nofollow noreferrer\">the Java SE 8 technotes</a>, I found the following statement:</p>\n\n<blockquote>\n  <p>The Java HotSpot virtual machine currently associates each Java thread with a unique native thread. The relationship between the Java thread and the native thread is stable and persists for the lifetime of the Java thread.</p>\n</blockquote>\n\n<p>\"native\" seems to imply \"Operating System\" within this context, as far as I can tell, as the text goes on discussing specifics about Solaris Kernel Threads/LWPs.</p>\n\n<p><sub>(I also found some historic references to early (pre-java 1.2) versions that used \"Green Threads\" fully simulated within the JVM, but it seems that is no longer in use)</sub></p>\n"}],"owner":{"account_id":5337205,"reputation":2148,"user_id":4255756,"accept_rate":69,"display_name":"usertest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695728812,"creation_date":1546597412,"question_id":54037030,"body_markdown":"There has been a lot of talks about application performance on AMD Threadripper CPUs like 2990WX https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps\r\n\r\nI&#39;m wondering if Java (Oracle JDK 8) handles multithreaded workloads like Linux (best performance) or like Windows (buggy kernel: worst performance). or does Java offload it to the operating system?","title":"how does java play with AMD Threadripper platform","body":"<p>There has been a lot of talks about application performance on AMD Threadripper CPUs like 2990WX <a href=\"https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps\" rel=\"nofollow noreferrer\">https://level1techs.com/article/unlocking-2990wx-less-numa-aware-apps</a></p>\n<p>I'm wondering if Java (Oracle JDK 8) handles multithreaded workloads like Linux (best performance) or like Windows (buggy kernel: worst performance). or does Java offload it to the operating system?</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695725650,"post_id":77179309,"comment_id":136059967,"body_markdown":"It looks to me like your methods `tab0Layout()` and `tab1Layout` register action listeners which will then call those methods again. So `tab0Layout()` will create an action listener that when fired will call `tab0Layout()` again, creating another action listener. Now you already have 2 action listeners registered. Next click each one will call the method again and register another listener so you&#39;ll have 4, then 8 etc. pp","body":"It looks to me like your methods <code>tab0Layout()</code> and <code>tab1Layout</code> register action listeners which will then call those methods again. So <code>tab0Layout()</code> will create an action listener that when fired will call <code>tab0Layout()</code> again, creating another action listener. Now you already have 2 action listeners registered. Next click each one will call the method again and register another listener so you&#39;ll have 4, then 8 etc. pp"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695726818,"creation_date":1695725711,"answer_id":77179337,"question_id":77179309,"body_markdown":"Every time the first ActionListener runs, it calls `tab0Layout()` adding a *new* ActionListener to the t0Test variable, and likewise, every time the second ActionListener runs, it calls `tab1Layout()` adding a *new* ActionListener to the t1Test variable. This means, that each ActionListener adds a new copy of itself to its own button which each call, and this causes a bunch of listeners to be added to buttons, all calling at the same time. Not good.\r\n\r\n```\r\npublic class SwingTest extends JFrame  {\r\n\t//...\r\n\t\r\n\tJButton t0Test = new JButton(&quot;Test&quot;); \r\n\t\r\n\t//...\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//...\r\n\t}\r\n\r\n\tpublic SwingTest() {\r\n\t\t//...\r\n\t\t\r\n\t\tMainScreen.add(&quot;Tab 0&quot;,tab0Layout());\r\n\t\t\r\n\t\t//...\r\n\t}\r\n\r\n\tpublic JPanel tab0Layout() {\r\n\t\t// ...\r\n\t\tt0Test.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// ...\r\n\t\t\t\tMainScreen.setComponentAt(0, tab0Layout()); // ***** HERE\r\n\t\t\t\t// ..\r\n\t\t\t}\r\n\t\t});    \r\n\t\treturn tab0Panel;\r\n\t}\r\n\r\n\t// ...\r\n}\r\n```\r\n\r\nThe solution is to add the listener once, and not within the listener.","title":"Trying to understand why an actionlistener fires multiple times","body":"<p>Every time the first ActionListener runs, it calls <code>tab0Layout()</code> adding a <em>new</em> ActionListener to the t0Test variable, and likewise, every time the second ActionListener runs, it calls <code>tab1Layout()</code> adding a <em>new</em> ActionListener to the t1Test variable. This means, that each ActionListener adds a new copy of itself to its own button which each call, and this causes a bunch of listeners to be added to buttons, all calling at the same time. Not good.</p>\n<pre><code>public class SwingTest extends JFrame  {\n    //...\n    \n    JButton t0Test = new JButton(&quot;Test&quot;); \n    \n    //...\n\n    public static void main(String[] args) {\n        //...\n    }\n\n    public SwingTest() {\n        //...\n        \n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\n        \n        //...\n    }\n\n    public JPanel tab0Layout() {\n        // ...\n        t0Test.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                // ...\n                MainScreen.setComponentAt(0, tab0Layout()); // ***** HERE\n                // ..\n            }\n        });    \n        return tab0Panel;\n    }\n\n    // ...\n}\n</code></pre>\n<p>The solution is to add the listener once, and not within the listener.</p>\n"}],"owner":{"account_id":29537522,"reputation":1,"user_id":22636872,"display_name":"jeskibuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695728012,"answer_count":1,"score":-1,"last_activity_date":1695728789,"creation_date":1695725440,"question_id":77179309,"body_markdown":"I have an application which is much more complicated than this, but this simplified code has the same issue.  The full application has 4 tabs in a tabbed pane and queries a database to update tables within scroll panes.  As each search for information is requested the listeners fire more than once per request, causing the application to slow down to the point of being unusable.\r\n\r\nThe following minimized code demonstrates the problem.  There is a button on each tab which has a listener attached.  The buttons are &quot;pressed&quot; alternatively...tab 0, tab 1, tab 0, tab 1, etc.   The system output shows how the multiplication propagates.  Iterations #1 &amp; 2 are fine...the listeners are fired once each.  Iterations 3 through 6 show each listener firing twice although the buttons were pressed once each time.  Iterations 7 through 14 then show each listener firing 4 times.  It&#39;s obvious that this doubling each time is drastically slowing down the application by querying the database multiple times for the same information.\r\n\r\n**System output:**\r\n\r\n    Iteration #1 Tab 0 listener alerted\r\n    Iteration #2 Tab 1 listener alerted\r\n    Iteration #3 Tab 0 listener alerted\r\n    Iteration #4 Tab 0 listener alerted\r\n    Iteration #5 Tab 1 listener alerted\r\n    Iteration #6 Tab 1 listener alerted\r\n    Iteration #7 Tab 0 listener alerted\r\n    Iteration #8 Tab 0 listener alerted\r\n    Iteration #9 Tab 0 listener alerted\r\n    Iteration #10 Tab 0 listener alerted\r\n    Iteration #11 Tab 1 listener alerted\r\n    Iteration #12 Tab 1 listener alerted\r\n    Iteration #13 Tab 1 listener alerted\r\n    Iteration #14 Tab 1 listener alerted\r\n\r\nHere&#39;s the code:\r\n--------------------------------------------------------\r\n\r\n``` lang-java\r\npackage SwingTest;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\n\r\npublic class SwingTest extends JFrame \r\n   {JTabbedPane MainScreen = new JTabbedPane();\r\n\r\n    final static long serialVersionUID = 1L;\r\n    int iter = 0;\r\n    \r\n    JPanel tab0Panel = new JPanel();`your text`\r\n    final JLabel t0ID = new JLabel(&quot;Tab 0&quot;);\r\n    JButton t0Test = new JButton(&quot;Test&quot;); \r\n    \r\n    JPanel tab1Panel = new JPanel();\r\n    final JLabel t1ID = new JLabel(&quot;Tab 1&quot;);\r\n    JButton t1Test = new JButton(&quot;Test&quot;); \r\n                           \r\n    public static void main(String[] args) \r\n       {JFrame MainDisplay = new SwingTest();\r\n        MainDisplay.setVisible(true);\r\n        MainDisplay.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n    public SwingTest() \r\n       {super(&quot;SwingTest&quot;); \r\n        \r\n        setSize(300, 300);\r\n        getContentPane().setLayout(null); \r\n        setLocationRelativeTo(null);\r\n \r\n        MainScreen.setBounds(0, 0, 300, 300);\r\n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\r\n        MainScreen.add(&quot;Tab 1&quot;,tab1Layout());  \r\n        getContentPane().add(MainScreen);\r\n        }\r\n          \r\n    public JPanel tab0Layout()\r\n       {tab0Panel.setSize(300, 300);\r\n        \r\n        t0ID.setBounds(100,100,60,20);\r\n\t    tab0Panel.add(t0ID);\r\n\r\n\t    t0Test.setBounds(100,150,60,20);\r\n\t    tab0Panel.add(t0Test);\t   \r\n        t0Test.addActionListener\r\n           (new ActionListener()\r\n               {public void actionPerformed(ActionEvent e)\r\n     \t          {iter++;\r\n     \t           System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 0 listener alerted&quot;);\r\n     \t           MainScreen.setComponentAt(0, tab0Layout());\r\n     \t           revalidate();\r\n     \t           repaint();\r\n     \t           }\r\n               }\r\n            );    \r\n\r\n        return tab0Panel;\r\n        }\r\n\r\n    public JPanel tab1Layout()\r\n       {tab1Panel.setSize(300, 300);\r\n        t1ID.setBounds(100,100,60,20);\r\n        tab1Panel.add(t1ID);\r\n\r\n        t1Test.setBounds(100,150,60,20);\r\n        tab1Panel.add(t1Test);\t    \r\n        t1Test.addActionListener\r\n           (new ActionListener()\r\n               {public void actionPerformed(ActionEvent e)\r\n     \t          {iter++;\r\n     \t           System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 1 listener alerted&quot;);\r\n     \t           MainScreen.setComponentAt(1, tab1Layout());\r\n     \t           revalidate();\r\n     \t           repaint();\r\n     \t           }\r\n               }\r\n            );\r\n        return tab1Panel;\r\n        }\r\n    }\r\n \r\n```\r\n\r\n\r\n --------------------------------------------------------\r\nThanks in advance for your help!\r\n\r\nObviously I&#39;m doing something wrong and don&#39;t understand the cause.  ","title":"Trying to understand why an actionlistener fires multiple times","body":"<p>I have an application which is much more complicated than this, but this simplified code has the same issue.  The full application has 4 tabs in a tabbed pane and queries a database to update tables within scroll panes.  As each search for information is requested the listeners fire more than once per request, causing the application to slow down to the point of being unusable.</p>\n<p>The following minimized code demonstrates the problem.  There is a button on each tab which has a listener attached.  The buttons are &quot;pressed&quot; alternatively...tab 0, tab 1, tab 0, tab 1, etc.   The system output shows how the multiplication propagates.  Iterations #1 &amp; 2 are fine...the listeners are fired once each.  Iterations 3 through 6 show each listener firing twice although the buttons were pressed once each time.  Iterations 7 through 14 then show each listener firing 4 times.  It's obvious that this doubling each time is drastically slowing down the application by querying the database multiple times for the same information.</p>\n<p><strong>System output:</strong></p>\n<pre><code>Iteration #1 Tab 0 listener alerted\nIteration #2 Tab 1 listener alerted\nIteration #3 Tab 0 listener alerted\nIteration #4 Tab 0 listener alerted\nIteration #5 Tab 1 listener alerted\nIteration #6 Tab 1 listener alerted\nIteration #7 Tab 0 listener alerted\nIteration #8 Tab 0 listener alerted\nIteration #9 Tab 0 listener alerted\nIteration #10 Tab 0 listener alerted\nIteration #11 Tab 1 listener alerted\nIteration #12 Tab 1 listener alerted\nIteration #13 Tab 1 listener alerted\nIteration #14 Tab 1 listener alerted\n</code></pre>\n<h2>Here's the code:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package SwingTest;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class SwingTest extends JFrame \n   {JTabbedPane MainScreen = new JTabbedPane();\n\n    final static long serialVersionUID = 1L;\n    int iter = 0;\n    \n    JPanel tab0Panel = new JPanel();`your text`\n    final JLabel t0ID = new JLabel(&quot;Tab 0&quot;);\n    JButton t0Test = new JButton(&quot;Test&quot;); \n    \n    JPanel tab1Panel = new JPanel();\n    final JLabel t1ID = new JLabel(&quot;Tab 1&quot;);\n    JButton t1Test = new JButton(&quot;Test&quot;); \n                           \n    public static void main(String[] args) \n       {JFrame MainDisplay = new SwingTest();\n        MainDisplay.setVisible(true);\n        MainDisplay.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        }\n    \n    public SwingTest() \n       {super(&quot;SwingTest&quot;); \n        \n        setSize(300, 300);\n        getContentPane().setLayout(null); \n        setLocationRelativeTo(null);\n \n        MainScreen.setBounds(0, 0, 300, 300);\n        MainScreen.add(&quot;Tab 0&quot;,tab0Layout());\n        MainScreen.add(&quot;Tab 1&quot;,tab1Layout());  \n        getContentPane().add(MainScreen);\n        }\n          \n    public JPanel tab0Layout()\n       {tab0Panel.setSize(300, 300);\n        \n        t0ID.setBounds(100,100,60,20);\n        tab0Panel.add(t0ID);\n\n        t0Test.setBounds(100,150,60,20);\n        tab0Panel.add(t0Test);     \n        t0Test.addActionListener\n           (new ActionListener()\n               {public void actionPerformed(ActionEvent e)\n                  {iter++;\n                   System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 0 listener alerted&quot;);\n                   MainScreen.setComponentAt(0, tab0Layout());\n                   revalidate();\n                   repaint();\n                   }\n               }\n            );    \n\n        return tab0Panel;\n        }\n\n    public JPanel tab1Layout()\n       {tab1Panel.setSize(300, 300);\n        t1ID.setBounds(100,100,60,20);\n        tab1Panel.add(t1ID);\n\n        t1Test.setBounds(100,150,60,20);\n        tab1Panel.add(t1Test);      \n        t1Test.addActionListener\n           (new ActionListener()\n               {public void actionPerformed(ActionEvent e)\n                  {iter++;\n                   System.out.println(&quot;Iteration #&quot;+iter+&quot; Tab 1 listener alerted&quot;);\n                   MainScreen.setComponentAt(1, tab1Layout());\n                   revalidate();\n                   repaint();\n                   }\n               }\n            );\n        return tab1Panel;\n        }\n    }\n \n</code></pre>\n<hr />\n<p>Thanks in advance for your help!</p>\n<p>Obviously I'm doing something wrong and don't understand the cause.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695723062,"post_id":77178998,"comment_id":136059467,"body_markdown":"From the looks of `@Getter` and `@Setter`, you are already using Lombok, so use [`@EqualsAndHashCode`](https://projectlombok.org/features/EqualsAndHashCode). It has a boolean attribute called `callSuper` which you probably want","body":"From the looks of <code>@Getter</code> and <code>@Setter</code>, you are already using Lombok, so use <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\"><code>@EqualsAndHashCode</code></a>. It has a boolean attribute called <code>callSuper</code> which you probably want"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1695723248,"post_id":77178998,"comment_id":136059499,"body_markdown":"don&#39;t use the `@EqualsAndHashCode` as that generates the wrong equals / hashcode methods for jpa. Use `getTaskId` as that is the name of the property not id.","body":"don&#39;t use the <code>@EqualsAndHashCode</code> as that generates the wrong equals / hashcode methods for jpa. Use <code>getTaskId</code> as that is the name of the property not id."},{"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"score":0,"creation_date":1695723442,"post_id":77178998,"comment_id":136059535,"body_markdown":"According to this i should write my own : https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/ but now to do this in this case?","body":"According to this i should write my own : <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> but now to do this in this case?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695728170,"creation_date":1695728170,"answer_id":77179661,"question_id":77178998,"body_markdown":"You have named the `@Id` field `taskId`, not `id`. And the field itself is `private`, so you have to use the getter in subclasses. Update your code:\r\n\r\n```\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n\r\n    if (!(o instanceof ChangeTyre))\r\n        return false;\r\n\r\n    ChangeTyre other = (ChangeTye) o;\r\n\r\n    return getTaskId() != null &amp;&amp;\r\n            getTaskId().equals(other.getTaskId());\r\n}\r\n```\r\n","title":"Equals method for sub classes of abstract class","body":"<p>You have named the <code>@Id</code> field <code>taskId</code>, not <code>id</code>. And the field itself is <code>private</code>, so you have to use the getter in subclasses. Update your code:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n\n    if (!(o instanceof ChangeTyre))\n        return false;\n\n    ChangeTyre other = (ChangeTye) o;\n\n    return getTaskId() != null &amp;&amp;\n            getTaskId().equals(other.getTaskId());\n}\n</code></pre>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77179661,"answer_count":1,"score":0,"last_activity_date":1695728170,"creation_date":1695722879,"question_id":77178998,"body_markdown":"I need to have a equals method for my classes which are extended from a abstract class.\r\n \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public abstract class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;car_seq&quot;)\r\n    private Long taskId;\r\n    }\r\n\r\nand the extended class:\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class ChangeTyre extends Car {\r\n\r\n    @Column(unique = true)\r\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\r\n    private String code;\r\n    @JoinColumn(name =&quot;date_changed&quot;)\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate dateChanged;\r\n    @Lob\r\n    private String comment;\r\n\r\nNormally a equals method would look like:\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n\r\n        if (!(o instanceof ChangeTyre))\r\n            return false;\r\n\r\n        ChangeTyre other = (ChangeTye) o;\r\n\r\n        return id != null &amp;&amp;\r\n                id.equals(other.getId());\r\n    }\r\n\r\nBut for the above code the compiler complains there is no `Id` on ChangeTyre its on the abstract class Car. How should I implement the equals method in such a case?","title":"Equals method for sub classes of abstract class","body":"<p>I need to have a equals method for my classes which are extended from a abstract class.</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic abstract class Car {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;car_seq&quot;)\nprivate Long taskId;\n}\n</code></pre>\n<p>and the extended class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class ChangeTyre extends Car {\n\n@Column(unique = true)\n@NotEmpty(message = &quot;Name must not be null or empty&quot;)\nprivate String code;\n@JoinColumn(name =&quot;date_changed&quot;)\n@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate dateChanged;\n@Lob\nprivate String comment;\n</code></pre>\n<p>Normally a equals method would look like:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n\n    if (!(o instanceof ChangeTyre))\n        return false;\n\n    ChangeTyre other = (ChangeTye) o;\n\n    return id != null &amp;&amp;\n            id.equals(other.getId());\n}\n</code></pre>\n<p>But for the above code the compiler complains there is no <code>Id</code> on ChangeTyre its on the abstract class Car. How should I implement the equals method in such a case?</p>\n"},{"tags":["java","xml","spring","xslt","dom4j"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1695618783,"post_id":77169885,"comment_id":136043288,"body_markdown":"Please provide a clear statement of the logic by which you want to sort the items.","body":"Please provide a clear statement of the logic by which you want to sort the items."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1695635933,"post_id":77169885,"comment_id":136046050,"body_markdown":"Many people would consider the order you are getting is entirely reasonable, e.g. for the index of a book. It&#39;s not clear what exactly are the rules you want to apply. The actual sort rules depend on the XSLT processor you are using. If you want precise control over the sort order, especially in XSLT 1.0, then it&#39;s probablly simplest to do a preprocessing transformation phase that computes a sort key, for example by stripping out ignorable characters and converting letters to upper case or lower case.","body":"Many people would consider the order you are getting is entirely reasonable, e.g. for the index of a book. It&#39;s not clear what exactly are the rules you want to apply. The actual sort rules depend on the XSLT processor you are using. If you want precise control over the sort order, especially in XSLT 1.0, then it&#39;s probablly simplest to do a preprocessing transformation phase that computes a sort key, for example by stripping out ignorable characters and converting letters to upper case or lower case."},{"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"score":0,"creation_date":1695637092,"post_id":77169885,"comment_id":136046299,"body_markdown":"Sorry for the unclear statement. I want the sorting in &quot;ASCIIbetical&quot; order, character gets priority following the ASCII table, [Uppercase &lt; Lowercase]  [&amp; &lt; ;] and characters are not ignorable, all special character should consider @Michael Kay","body":"Sorry for the unclear statement. I want the sorting in &quot;ASCIIbetical&quot; order, character gets priority following the ASCII table, [Uppercase &lt; Lowercase]  [&amp; &lt; ;] and characters are not ignorable, all special character should consider @Michael Kay"}],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695617194,"creation_date":1695617194,"answer_id":77169957,"question_id":77169885,"body_markdown":"First, your code snippet sorts `employee`s, not `name`s. \r\n\r\nNow, the result you get **is** the expected output after sorting the names. If you want the entry of `Test 2 - test` to come first because it starts with a capital `T`, then you need to do:\r\n\r\n\t\t&lt;xsl:for-each select=&quot;name&quot;&gt;\r\n\t\t\t&lt;xsl:sort collation=&quot;http://www.w3.org/2005/xpath-functions/collation/codepoint&quot;/&gt;\r\n\t\t\t....\r\n\t\t&lt;/xsl:for-each&gt;\t\r\n\r\nand you will need a processor that supports XSLT 2.0 or higher for that.\r\n\r\nI don&#39;t see what the presence of the dot or any other character has to do with any of this.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p>First, your code snippet sorts <code>employee</code>s, not <code>name</code>s.</p>\n<p>Now, the result you get <strong>is</strong> the expected output after sorting the names. If you want the entry of <code>Test 2 - test</code> to come first because it starts with a capital <code>T</code>, then you need to do:</p>\n<pre><code>    &lt;xsl:for-each select=&quot;name&quot;&gt;\n        &lt;xsl:sort collation=&quot;http://www.w3.org/2005/xpath-functions/collation/codepoint&quot;/&gt;\n        ....\n    &lt;/xsl:for-each&gt; \n</code></pre>\n<p>and you will need a processor that supports XSLT 2.0 or higher for that.</p>\n<p>I don't see what the presence of the dot or any other character has to do with any of this.</p>\n"},{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695647186,"creation_date":1695647186,"answer_id":77172911,"question_id":77169885,"body_markdown":"&gt; **The expected sorting order is ASCIIbatical order.**\r\n\r\nIf we accept the definition of &quot;sorting in ASCIIbetical order&quot; as sorting by the order in which characters appear in the ASCII table (i.e. their Unicode codepoint values), while considering only printable characters (i.e. characters in the range from `&amp;#32;` to  `&amp;#126;`), then we could do the sorting as shown in the following example:\r\n\r\n**XML**\r\n\r\n    &lt;input&gt;\r\n       &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\r\n       &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\r\n       &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\r\n       &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\r\n       &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\r\n       &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\r\n       &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\r\n       &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\r\n       &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\r\n       &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\r\n       &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\r\n       &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\r\n       &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\r\n       &lt;char ascii=&quot;39&quot;&gt;&#39;&lt;/char&gt;\r\n       &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\r\n       &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\r\n       &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\r\n       &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\r\n       &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\r\n       &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\r\n       &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\r\n       &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\r\n       &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\r\n       &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\r\n       &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\r\n       &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\r\n       &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\r\n       &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\r\n       &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\r\n       &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\r\n       &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\r\n       &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\r\n       &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\r\n       &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\r\n       &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\r\n       &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\r\n       &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\r\n       &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\r\n       &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\r\n       &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\r\n       &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\r\n       &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\r\n       &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\r\n       &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\r\n       &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\r\n       &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\r\n       &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\r\n       &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\r\n       &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\r\n       &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\r\n       &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\r\n       &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\r\n       &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\r\n       &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\r\n       &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\r\n       &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\r\n       &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\r\n       &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\r\n       &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\r\n       &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\r\n       &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\r\n       &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\r\n       &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\r\n       &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\r\n       &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\r\n       &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\r\n       &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\r\n       &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\r\n       &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\r\n       &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\r\n       &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\r\n       &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\r\n       &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\r\n       &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\r\n       &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\r\n       &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\r\n       &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\r\n       &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\r\n       &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\r\n       &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\r\n       &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\r\n       &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\r\n       &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\r\n       &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\r\n       &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\r\n       &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\r\n       &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\r\n       &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\r\n       &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\r\n       &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\r\n       &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\r\n       &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\r\n       &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\r\n       &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\r\n       &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\r\n    &lt;/input&gt;\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    &lt;xsl:param name=&quot;ascii&quot;&gt;!&quot;#$%&amp;amp;&#39;()*+,-./0123456789:;&amp;lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~&lt;/xsl:param&gt;\r\n    &lt;xsl:param name=&quot;en&quot;&gt;-_,;:!?/.`^~&#39;&quot;()[]{}@$*\\&amp;amp;#%+&amp;lt;=&gt;|0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ&lt;/xsl:param&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/root&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:for-each select=&quot;char&quot;&gt;\r\n    \t\t\t&lt;xsl:sort select=&quot;translate(., $ascii, $en)&quot; lang=&quot;en&quot;/&gt;\r\n    \t\t\t&lt;xsl:copy-of select=&quot;.&quot;/&gt;\r\n    \t\t&lt;/xsl:for-each&gt;\t\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**Result***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\r\n    &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\r\n    &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\r\n    &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\r\n    &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\r\n    &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\r\n    &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\r\n    &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\r\n    &lt;char ascii=&quot;39&quot;&gt;&#39;&lt;/char&gt;\r\n    &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\r\n    &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\r\n    &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\r\n    &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\r\n    &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\r\n    &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\r\n    &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\r\n    &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\r\n    &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\r\n    &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\r\n    &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\r\n    &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\r\n    &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\r\n    &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\r\n    &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\r\n    &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\r\n    &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\r\n    &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\r\n    &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\r\n    &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\r\n    &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\r\n    &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\r\n    &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\r\n    &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\r\n    &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\r\n    &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\r\n    &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\r\n    &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\r\n    &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\r\n    &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\r\n    &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\r\n    &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\r\n    &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\r\n    &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\r\n    &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\r\n    &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\r\n    &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\r\n    &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\r\n    &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\r\n    &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\r\n    &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\r\n    &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\r\n    &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\r\n    &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\r\n    &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\r\n    &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\r\n    &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\r\n    &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\r\n    &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\r\n    &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\r\n    &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\r\n    &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\r\n    &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\r\n    &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\r\n    &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\r\n    &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\r\n    &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\r\n    &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\r\n    &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\r\n    &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\r\n    &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\r\n    &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\r\n    &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\r\n    &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\r\n    &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\r\n    &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\r\n    &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\r\n    &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\r\n    &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\r\n    &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\r\n    &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\r\n    &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\r\n    &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\r\n    &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\r\n    &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\r\n    &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\r\n    &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\r\n    &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\r\n    &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\r\n    &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\r\n    &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\r\n    &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\r\n    &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\r\n    &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\r\n    &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\r\n    &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\r\n    &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\r\n    &lt;/root&gt;\r\n\r\n(*)IMPORTANT:\r\n--\r\nThe above result was produced using the Xalan 2.7.2 processor with `lang=&quot;en&quot;`. You may easily get a different result if using a different processor and/or a different `lang` value. In such case you need to adjust the `$en` parameter to reflect the actual sorting order of your environment. \r\n\r\nAnd of course, as shown in my other answer, all this is unnecessary if you are using a processor that supports XSLT 2.0+.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<blockquote>\n<p><strong>The expected sorting order is ASCIIbatical order.</strong></p>\n</blockquote>\n<p>If we accept the definition of &quot;sorting in ASCIIbetical order&quot; as sorting by the order in which characters appear in the ASCII table (i.e. their Unicode codepoint values), while considering only printable characters (i.e. characters in the range from <code>&amp;#32;</code> to  <code>&amp;#126;</code>), then we could do the sorting as shown in the following example:</p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;input&gt;\n   &lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\n   &lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\n   &lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\n   &lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\n   &lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\n   &lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\n   &lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\n   &lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\n   &lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\n   &lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\n   &lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\n   &lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\n   &lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\n   &lt;char ascii=&quot;39&quot;&gt;'&lt;/char&gt;\n   &lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\n   &lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\n   &lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\n   &lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\n   &lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\n   &lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\n   &lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\n   &lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\n   &lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\n   &lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\n   &lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\n   &lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\n   &lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\n   &lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\n   &lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\n   &lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\n   &lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\n   &lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\n   &lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\n   &lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\n   &lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\n   &lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\n   &lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\n   &lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\n   &lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\n   &lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\n   &lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\n   &lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\n   &lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\n   &lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\n   &lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\n   &lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\n   &lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\n   &lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\n   &lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\n   &lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\n   &lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\n   &lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\n   &lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\n   &lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\n   &lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\n   &lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\n   &lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\n   &lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\n   &lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\n   &lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\n   &lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\n   &lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\n   &lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\n   &lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\n   &lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\n   &lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\n   &lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\n   &lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\n   &lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\n   &lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\n   &lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\n   &lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\n   &lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\n   &lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\n   &lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\n   &lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\n   &lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\n   &lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\n   &lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\n   &lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\n   &lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\n   &lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\n   &lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\n   &lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\n   &lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\n   &lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\n   &lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\n   &lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\n   &lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\n   &lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\n   &lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\n   &lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\n   &lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\n   &lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\n   &lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\n&lt;/input&gt;\n</code></pre>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n&lt;xsl:param name=&quot;ascii&quot;&gt;!&quot;#$%&amp;amp;'()*+,-./0123456789:;&amp;lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~&lt;/xsl:param&gt;\n&lt;xsl:param name=&quot;en&quot;&gt;-_,;:!?/.`^~'&quot;()[]{}@$*\\&amp;amp;#%+&amp;lt;=&gt;|0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ&lt;/xsl:param&gt;\n\n&lt;xsl:template match=&quot;/root&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:for-each select=&quot;char&quot;&gt;\n            &lt;xsl:sort select=&quot;translate(., $ascii, $en)&quot; lang=&quot;en&quot;/&gt;\n            &lt;xsl:copy-of select=&quot;.&quot;/&gt;\n        &lt;/xsl:for-each&gt; \n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Result</strong>*</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\n&lt;char ascii=&quot;32&quot;&gt; &lt;/char&gt;\n&lt;char ascii=&quot;33&quot;&gt;!&lt;/char&gt;\n&lt;char ascii=&quot;34&quot;&gt;&quot;&lt;/char&gt;\n&lt;char ascii=&quot;35&quot;&gt;#&lt;/char&gt;\n&lt;char ascii=&quot;36&quot;&gt;$&lt;/char&gt;\n&lt;char ascii=&quot;37&quot;&gt;%&lt;/char&gt;\n&lt;char ascii=&quot;38&quot;&gt;&amp;amp;&lt;/char&gt;\n&lt;char ascii=&quot;39&quot;&gt;'&lt;/char&gt;\n&lt;char ascii=&quot;40&quot;&gt;(&lt;/char&gt;\n&lt;char ascii=&quot;41&quot;&gt;)&lt;/char&gt;\n&lt;char ascii=&quot;42&quot;&gt;*&lt;/char&gt;\n&lt;char ascii=&quot;43&quot;&gt;+&lt;/char&gt;\n&lt;char ascii=&quot;44&quot;&gt;,&lt;/char&gt;\n&lt;char ascii=&quot;45&quot;&gt;-&lt;/char&gt;\n&lt;char ascii=&quot;46&quot;&gt;.&lt;/char&gt;\n&lt;char ascii=&quot;47&quot;&gt;/&lt;/char&gt;\n&lt;char ascii=&quot;48&quot;&gt;0&lt;/char&gt;\n&lt;char ascii=&quot;49&quot;&gt;1&lt;/char&gt;\n&lt;char ascii=&quot;50&quot;&gt;2&lt;/char&gt;\n&lt;char ascii=&quot;51&quot;&gt;3&lt;/char&gt;\n&lt;char ascii=&quot;52&quot;&gt;4&lt;/char&gt;\n&lt;char ascii=&quot;53&quot;&gt;5&lt;/char&gt;\n&lt;char ascii=&quot;54&quot;&gt;6&lt;/char&gt;\n&lt;char ascii=&quot;55&quot;&gt;7&lt;/char&gt;\n&lt;char ascii=&quot;56&quot;&gt;8&lt;/char&gt;\n&lt;char ascii=&quot;57&quot;&gt;9&lt;/char&gt;\n&lt;char ascii=&quot;58&quot;&gt;:&lt;/char&gt;\n&lt;char ascii=&quot;59&quot;&gt;;&lt;/char&gt;\n&lt;char ascii=&quot;60&quot;&gt;&amp;lt;&lt;/char&gt;\n&lt;char ascii=&quot;61&quot;&gt;=&lt;/char&gt;\n&lt;char ascii=&quot;62&quot;&gt;&amp;gt;&lt;/char&gt;\n&lt;char ascii=&quot;63&quot;&gt;?&lt;/char&gt;\n&lt;char ascii=&quot;64&quot;&gt;@&lt;/char&gt;\n&lt;char ascii=&quot;65&quot;&gt;A&lt;/char&gt;\n&lt;char ascii=&quot;66&quot;&gt;B&lt;/char&gt;\n&lt;char ascii=&quot;67&quot;&gt;C&lt;/char&gt;\n&lt;char ascii=&quot;68&quot;&gt;D&lt;/char&gt;\n&lt;char ascii=&quot;69&quot;&gt;E&lt;/char&gt;\n&lt;char ascii=&quot;70&quot;&gt;F&lt;/char&gt;\n&lt;char ascii=&quot;71&quot;&gt;G&lt;/char&gt;\n&lt;char ascii=&quot;72&quot;&gt;H&lt;/char&gt;\n&lt;char ascii=&quot;73&quot;&gt;I&lt;/char&gt;\n&lt;char ascii=&quot;74&quot;&gt;J&lt;/char&gt;\n&lt;char ascii=&quot;75&quot;&gt;K&lt;/char&gt;\n&lt;char ascii=&quot;76&quot;&gt;L&lt;/char&gt;\n&lt;char ascii=&quot;77&quot;&gt;M&lt;/char&gt;\n&lt;char ascii=&quot;78&quot;&gt;N&lt;/char&gt;\n&lt;char ascii=&quot;79&quot;&gt;O&lt;/char&gt;\n&lt;char ascii=&quot;80&quot;&gt;P&lt;/char&gt;\n&lt;char ascii=&quot;81&quot;&gt;Q&lt;/char&gt;\n&lt;char ascii=&quot;82&quot;&gt;R&lt;/char&gt;\n&lt;char ascii=&quot;83&quot;&gt;S&lt;/char&gt;\n&lt;char ascii=&quot;84&quot;&gt;T&lt;/char&gt;\n&lt;char ascii=&quot;85&quot;&gt;U&lt;/char&gt;\n&lt;char ascii=&quot;86&quot;&gt;V&lt;/char&gt;\n&lt;char ascii=&quot;87&quot;&gt;W&lt;/char&gt;\n&lt;char ascii=&quot;88&quot;&gt;X&lt;/char&gt;\n&lt;char ascii=&quot;89&quot;&gt;Y&lt;/char&gt;\n&lt;char ascii=&quot;90&quot;&gt;Z&lt;/char&gt;\n&lt;char ascii=&quot;91&quot;&gt;[&lt;/char&gt;\n&lt;char ascii=&quot;92&quot;&gt;\\&lt;/char&gt;\n&lt;char ascii=&quot;93&quot;&gt;]&lt;/char&gt;\n&lt;char ascii=&quot;94&quot;&gt;^&lt;/char&gt;\n&lt;char ascii=&quot;95&quot;&gt;_&lt;/char&gt;\n&lt;char ascii=&quot;96&quot;&gt;`&lt;/char&gt;\n&lt;char ascii=&quot;97&quot;&gt;a&lt;/char&gt;\n&lt;char ascii=&quot;98&quot;&gt;b&lt;/char&gt;\n&lt;char ascii=&quot;99&quot;&gt;c&lt;/char&gt;\n&lt;char ascii=&quot;100&quot;&gt;d&lt;/char&gt;\n&lt;char ascii=&quot;101&quot;&gt;e&lt;/char&gt;\n&lt;char ascii=&quot;102&quot;&gt;f&lt;/char&gt;\n&lt;char ascii=&quot;103&quot;&gt;g&lt;/char&gt;\n&lt;char ascii=&quot;104&quot;&gt;h&lt;/char&gt;\n&lt;char ascii=&quot;105&quot;&gt;i&lt;/char&gt;\n&lt;char ascii=&quot;106&quot;&gt;j&lt;/char&gt;\n&lt;char ascii=&quot;107&quot;&gt;k&lt;/char&gt;\n&lt;char ascii=&quot;108&quot;&gt;l&lt;/char&gt;\n&lt;char ascii=&quot;109&quot;&gt;m&lt;/char&gt;\n&lt;char ascii=&quot;110&quot;&gt;n&lt;/char&gt;\n&lt;char ascii=&quot;111&quot;&gt;o&lt;/char&gt;\n&lt;char ascii=&quot;112&quot;&gt;p&lt;/char&gt;\n&lt;char ascii=&quot;113&quot;&gt;q&lt;/char&gt;\n&lt;char ascii=&quot;114&quot;&gt;r&lt;/char&gt;\n&lt;char ascii=&quot;115&quot;&gt;s&lt;/char&gt;\n&lt;char ascii=&quot;116&quot;&gt;t&lt;/char&gt;\n&lt;char ascii=&quot;117&quot;&gt;u&lt;/char&gt;\n&lt;char ascii=&quot;118&quot;&gt;v&lt;/char&gt;\n&lt;char ascii=&quot;119&quot;&gt;w&lt;/char&gt;\n&lt;char ascii=&quot;120&quot;&gt;x&lt;/char&gt;\n&lt;char ascii=&quot;121&quot;&gt;y&lt;/char&gt;\n&lt;char ascii=&quot;122&quot;&gt;z&lt;/char&gt;\n&lt;char ascii=&quot;123&quot;&gt;{&lt;/char&gt;\n&lt;char ascii=&quot;124&quot;&gt;|&lt;/char&gt;\n&lt;char ascii=&quot;125&quot;&gt;}&lt;/char&gt;\n&lt;char ascii=&quot;126&quot;&gt;~&lt;/char&gt;\n&lt;/root&gt;\n</code></pre>\n<h2>(*)IMPORTANT:</h2>\n<p>The above result was produced using the Xalan 2.7.2 processor with <code>lang=&quot;en&quot;</code>. You may easily get a different result if using a different processor and/or a different <code>lang</code> value. In such case you need to adjust the <code>$en</code> parameter to reflect the actual sorting order of your environment.</p>\n<p>And of course, as shown in my other answer, all this is unnecessary if you are using a processor that supports XSLT 2.0+.</p>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695727953,"creation_date":1695727953,"answer_id":77179635,"question_id":77169885,"body_markdown":"This might not fit your requirement at all, but noting that DOM4J uses &quot;live&quot; lists for element content, sorting the nodes directly in code becomes quite elegant:\r\n\r\n    doc.getRootElement().content().sort(Comparator.comparing(Node::getText));\r\n\r\nOf course it messes up any existing formatting, but that can probably be fixed with a pretty printing option.","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p>This might not fit your requirement at all, but noting that DOM4J uses &quot;live&quot; lists for element content, sorting the nodes directly in code becomes quite elegant:</p>\n<pre><code>doc.getRootElement().content().sort(Comparator.comparing(Node::getText));\n</code></pre>\n<p>Of course it messes up any existing formatting, but that can probably be fixed with a pretty printing option.</p>\n"}],"owner":{"account_id":13245997,"reputation":1,"user_id":9565121,"display_name":"Nadim Mahmud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695727953,"creation_date":1695615516,"question_id":77169885,"body_markdown":"**xsl:sort** is not working properly when special character like &quot;, : ;&quot; are presents. What might be the problem here?\r\n\r\nI am trying to render html from xml data with **java dom4j library**. Though the real project has multiple sorting criteria, I am illustrating a summery here to the specific problem.\r\n\r\n**The expected sorting order is ASCIIbatical order.** The online [String Sort Toll](https://onlinestringtools.com/sort-strings) is also giving my expected output.\r\n\r\n\r\n\r\nI have some xml data ex:\r\n\r\n```\r\n&lt;employee&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[test 1.8 - test]]&gt;\r\n    &lt;/name&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[test 4 - test]]&gt;\r\n    &lt;/name&gt;\r\n    &lt;name&gt;\r\n        &lt;![CDATA[Test 2 - test]]&gt;\r\n    &lt;/name&gt;\r\n&lt;/employee&gt;\r\n```\r\n\r\n\r\nI am trying to sort them with xsl transformer with **&lt;?xml version=&quot;1.0&quot;?&gt;**. The snippet for sorting it...\r\n```\r\n&lt;xsl:for-each select=&quot;employee/name&quot;&gt;\r\n    &lt;xsl:sort select=&quot;name&quot; case-order=&quot;upper-first&quot;/&gt;\r\n...\r\n```\r\n\r\nExpected **Output Order**:\r\n```\r\nTest 2 - test\r\ntest 1.8 - test\r\ntest 4 - test\r\n```\r\nThe **Output Order** I am getting:\r\n```\r\ntest 1.8 - test\r\nTest 2 - test\r\ntest 4 - test\r\n```\r\n\r\nLike this getting the order\r\n```\r\n; - ;\r\n&amp; - &amp;\r\nT1 - T1\r\n```\r\nIn stead of\r\n```\r\n&amp; - &amp;\r\n; - ;\r\nT1 - T1\r\n```","title":"&lt;xls:sort is not working when special character [i.e. dot(.), colon(:), semicolon(;)] is present","body":"<p><strong>xsl:sort</strong> is not working properly when special character like &quot;, : ;&quot; are presents. What might be the problem here?</p>\n<p>I am trying to render html from xml data with <strong>java dom4j library</strong>. Though the real project has multiple sorting criteria, I am illustrating a summery here to the specific problem.</p>\n<p><strong>The expected sorting order is ASCIIbatical order.</strong> The online <a href=\"https://onlinestringtools.com/sort-strings\" rel=\"nofollow noreferrer\">String Sort Toll</a> is also giving my expected output.</p>\n<p>I have some xml data ex:</p>\n<pre><code>&lt;employee&gt;\n    &lt;name&gt;\n        &lt;![CDATA[test 1.8 - test]]&gt;\n    &lt;/name&gt;\n    &lt;name&gt;\n        &lt;![CDATA[test 4 - test]]&gt;\n    &lt;/name&gt;\n    &lt;name&gt;\n        &lt;![CDATA[Test 2 - test]]&gt;\n    &lt;/name&gt;\n&lt;/employee&gt;\n</code></pre>\n<p>I am trying to sort them with xsl transformer with <strong></strong>. The snippet for sorting it...</p>\n<pre><code>&lt;xsl:for-each select=&quot;employee/name&quot;&gt;\n    &lt;xsl:sort select=&quot;name&quot; case-order=&quot;upper-first&quot;/&gt;\n...\n</code></pre>\n<p>Expected <strong>Output Order</strong>:</p>\n<pre><code>Test 2 - test\ntest 1.8 - test\ntest 4 - test\n</code></pre>\n<p>The <strong>Output Order</strong> I am getting:</p>\n<pre><code>test 1.8 - test\nTest 2 - test\ntest 4 - test\n</code></pre>\n<p>Like this getting the order</p>\n<pre><code>; - ;\n&amp; - &amp;\nT1 - T1\n</code></pre>\n<p>In stead of</p>\n<pre><code>&amp; - &amp;\n; - ;\nT1 - T1\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1669799115,"post_id":74618707,"comment_id":131722816,"body_markdown":"Please provide additional information about recent code changes.","body":"Please provide additional information about recent code changes."}],"answers":[{"tags":[],"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669751752,"creation_date":1669747962,"answer_id":74618945,"question_id":74618707,"body_markdown":"Remove CascadeType.ALL from User.roles. Roles should only be referenced, not owned.\r\n\r\nRoles need to be created and stored just once, best with some database script. In your code, load all available roles, put them in a Map and add required roles to the users. Never create roles with new Role(...).","title":"Spring Boot (Java) - java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key another table","body":"<p>Remove CascadeType.ALL from User.roles. Roles should only be referenced, not owned.</p>\n<p>Roles need to be created and stored just once, best with some database script. In your code, load all available roles, put them in a Map and add required roles to the users. Never create roles with new Role(...).</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74618945,"answer_count":1,"score":0,"last_activity_date":1695727929,"creation_date":1669746625,"question_id":74618707,"body_markdown":"I have a problem about inserting a new user with its role after adding a user with its role.\r\n\r\nI firstly created a user with ROLE_USER and a user with ROLE_ADMIN.\r\n\r\nWhen I tried to create a new with its role, I got **Duplicate entry for key** error.\r\n\r\nHow can I fix it?\r\n\r\nHere is my request body shown below\r\n\r\n    {\r\n        &quot;username&quot; : &quot;admin1&quot;,\r\n        &quot;password&quot; : &quot;admin1&quot;,\r\n        &quot;email&quot; : &quot;admin1@refreshtoken.com&quot;,\r\n        &quot;roles&quot; : [\r\n                &quot;ROLE_ADMIN&quot;\r\n        ]\r\n    }\r\n\r\n\r\nHere are classes shown below\r\n\r\n    @Entity\r\n    @Table(name = &quot;Roles&quot;)\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Role extends IdBasedEntity implements Serializable {\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(length = 20, unique = true)\r\n        private ERole name;\r\n    \r\n        public Role(ERole name){\r\n            this.name = name;\r\n        }\r\n    \r\n        public ERole getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class User extends IdBasedEntity implements Serializable {\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String email;\r\n    \r\n        private String password;\r\n    \r\n        @ManyToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;user_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    public enum ERole {\r\n        ROLE_USER,\r\n        ROLE_ADMIN\r\n    }\r\n\r\n    @MappedSuperclass\r\n    @Getter\r\n    @Setter\r\n    public class IdBasedEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;RefreshToken&quot;)\r\n    @Data\r\n    public class RefreshToken extends IdBasedEntity implements Serializable {\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String token;\r\n    \r\n        @Column(nullable = false)\r\n        private Instant expiryDate;\r\n    }\r\n\r\nHere is my code snippet shown below.\r\n\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@RequestBody SignUpRequest signUpRequest) {\r\n    \r\n            String username = signUpRequest.getUsername();\r\n            String email = signUpRequest.getEmail();\r\n            String password = signUpRequest.getPassword();\r\n            Set&lt;String&gt; strRoles = signUpRequest.getRoles();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n            if(userService.existsByUsername(username)){\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n            }\r\n    \r\n            if(userService.existsByEmail(email)){\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Email is already taken!&quot;));\r\n            }\r\n    \r\n            User user = new User();\r\n            user.setEmail(email);\r\n            user.setUsername(username);\r\n            user.setPassword(encoder.encode(password));\r\n    \r\n            if (strRoles != null) {\r\n                strRoles.forEach(role -&gt; {\r\n                    switch (role) {\r\n                        case &quot;ROLE_ADMIN&quot;:\r\n                            roles.add(new Role(ERole.ROLE_ADMIN));\r\n                            break;\r\n                        default:\r\n                            roles.add(new Role(ERole.ROLE_USER));\r\n                    }\r\n                });\r\n            }else{\r\n                roles.add(new Role(ERole.ROLE_USER));\r\n            }\r\n    \r\n            user.setRoles(roles);\r\n            userService.saveUser(user);  // ERROR LINE\r\n    \r\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n        }\r\n\r\nHere is my error shown below.\r\n\r\n    // Create User\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;ROLE_USER&#39; for key &#39;roles.UK_ofx66keruapi6vyqpv6f2or37&#39;\r\n    // Create Admin\r\n    java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;ROLE_ADMIN&#39; for key &#39;roles.UK_ofx66keruapi6vyqpv6f2or37&#39;\r\n\r\n","title":"Spring Boot (Java) - java.sql.SQLIntegrityConstraintViolationException: Duplicate entry for key another table","body":"<p>I have a problem about inserting a new user with its role after adding a user with its role.</p>\n<p>I firstly created a user with ROLE_USER and a user with ROLE_ADMIN.</p>\n<p>When I tried to create a new with its role, I got <strong>Duplicate entry for key</strong> error.</p>\n<p>How can I fix it?</p>\n<p>Here is my request body shown below</p>\n<pre><code>{\n    &quot;username&quot; : &quot;admin1&quot;,\n    &quot;password&quot; : &quot;admin1&quot;,\n    &quot;email&quot; : &quot;admin1@refreshtoken.com&quot;,\n    &quot;roles&quot; : [\n            &quot;ROLE_ADMIN&quot;\n    ]\n}\n</code></pre>\n<p>Here are classes shown below</p>\n<pre><code>@Entity\n@Table(name = &quot;Roles&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Role extends IdBasedEntity implements Serializable {\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20, unique = true)\n    private ERole name;\n\n    public Role(ERole name){\n        this.name = name;\n    }\n\n    public ERole getName() {\n        return name;\n    }\n}\n\n@Entity\n@Table(name = &quot;Users&quot;)\n@Data\n@NoArgsConstructor\npublic class User extends IdBasedEntity implements Serializable {\n\n    @Column(unique = true, nullable = false)\n    private String username;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    private String password;\n\n    @ManyToMany(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n}\n\npublic enum ERole {\n    ROLE_USER,\n    ROLE_ADMIN\n}\n\n@MappedSuperclass\n@Getter\n@Setter\npublic class IdBasedEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n}\n\n@Entity\n@Table(name = &quot;RefreshToken&quot;)\n@Data\npublic class RefreshToken extends IdBasedEntity implements Serializable {\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @Column(nullable = false, unique = true)\n    private String token;\n\n    @Column(nullable = false)\n    private Instant expiryDate;\n}\n</code></pre>\n<p>Here is my code snippet shown below.</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@RequestBody SignUpRequest signUpRequest) {\n\n        String username = signUpRequest.getUsername();\n        String email = signUpRequest.getEmail();\n        String password = signUpRequest.getPassword();\n        Set&lt;String&gt; strRoles = signUpRequest.getRoles();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n        if(userService.existsByUsername(username)){\n            return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n        }\n\n        if(userService.existsByEmail(email)){\n            return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Email is already taken!&quot;));\n        }\n\n        User user = new User();\n        user.setEmail(email);\n        user.setUsername(username);\n        user.setPassword(encoder.encode(password));\n\n        if (strRoles != null) {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                    case &quot;ROLE_ADMIN&quot;:\n                        roles.add(new Role(ERole.ROLE_ADMIN));\n                        break;\n                    default:\n                        roles.add(new Role(ERole.ROLE_USER));\n                }\n            });\n        }else{\n            roles.add(new Role(ERole.ROLE_USER));\n        }\n\n        user.setRoles(roles);\n        userService.saveUser(user);  // ERROR LINE\n\n        return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n    }\n</code></pre>\n<p>Here is my error shown below.</p>\n<pre><code>// Create User\njava.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'ROLE_USER' for key 'roles.UK_ofx66keruapi6vyqpv6f2or37'\n// Create Admin\njava.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'ROLE_ADMIN' for key 'roles.UK_ofx66keruapi6vyqpv6f2or37'\n</code></pre>\n"},{"tags":["java","maven","unit-testing","cobertura"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694513647,"post_id":77088129,"comment_id":135897522,"body_markdown":"In Gradle, each fork would write to a separate coverage file. You could then combine the coverage files into a single file after all tests finished before running the coverage report (no synchronization of coverage files required). I&#39;m not sure how you&#39;d do this with maven.","body":"In Gradle, each fork would write to a separate coverage file. You could then combine the coverage files into a single file after all tests finished before running the coverage report (no synchronization of coverage files required). I&#39;m not sure how you&#39;d do this with maven."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694561334,"post_id":77088129,"comment_id":135906731,"body_markdown":"First coberatura is outdated.. second why not using JaCoCo and also why using old plugin version (surefire-plugin: ? Which JDK, Maven version do you run?","body":"First coberatura is outdated.. second why not using JaCoCo and also why using old plugin version (surefire-plugin: ? Which JDK, Maven version do you run?"},{"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"score":0,"creation_date":1694568885,"post_id":77088129,"comment_id":135907371,"body_markdown":"Why not JaCoCo? In a multi-module scenario, aggregating coverage reports requires adding an additional module, which I don&#39;t want to do. JDK1.8 , Maven 3.5.0","body":"Why not JaCoCo? In a multi-module scenario, aggregating coverage reports requires adding an additional module, which I don&#39;t want to do. JDK1.8 , Maven 3.5.0"},{"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"score":0,"creation_date":1695021077,"post_id":77088129,"comment_id":135963018,"body_markdown":"After conducting some tests, it was found that the issue was actually caused by the configuration forkCount=1C.","body":"After conducting some tests, it was found that the issue was actually caused by the configuration forkCount=1C."}],"answers":[{"tags":[],"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695727446,"creation_date":1695727446,"answer_id":77179572,"question_id":77088129,"body_markdown":"Finally，I figured out this question myself.Hope it can help someone else.\r\nhttps://github.com/cobertura/cobertura/issues/434\r\nI just remove those lines and deploy a new version into my own repository, and it works for me.","title":"When configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect","body":"<p>Finally，I figured out this question myself.Hope it can help someone else.\n<a href=\"https://github.com/cobertura/cobertura/issues/434\" rel=\"nofollow noreferrer\">https://github.com/cobertura/cobertura/issues/434</a>\nI just remove those lines and deploy a new version into my own repository, and it works for me.</p>\n"}],"owner":{"account_id":7973500,"reputation":31,"user_id":6017386,"display_name":"Mitch Leo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77179572,"answer_count":1,"score":1,"last_activity_date":1695727446,"creation_date":1694513341,"question_id":77088129,"body_markdown":"In maven project, when configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect. Moreover, the results vary with each execution。\r\n\r\nMy configuration is as follows:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;1C&lt;/forkCount&gt;\r\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n        &lt;trimStackTrace&gt;true&lt;/trimStackTrace&gt;\r\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;xml&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;outputDirectory&gt;${project.reporting.outputDirectory}/cobertura&lt;/outputDirectory&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n        &lt;check&gt;\r\n        &lt;/check&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe issue occurs in my actual business project. However, it cannot be reproduced in a simpler example project.\r\n\r\n\r\nAs mentioned above. After I removed the configuration lines in the maven-surefire-plugin, the coverage data reported by Cobertura is correct, and, the results of multiple executions are the same.","title":"When configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect","body":"<p>In maven project, when configuring multi-threaded execution for unit tests, the coverage data reported by Cobertura is incorrect. Moreover, the results vary with each execution。</p>\n<p>My configuration is as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;1C&lt;/forkCount&gt;\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\n        &lt;trimStackTrace&gt;true&lt;/trimStackTrace&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n            &lt;format&gt;xml&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;outputDirectory&gt;${project.reporting.outputDirectory}/cobertura&lt;/outputDirectory&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;aggregate&gt;true&lt;/aggregate&gt;\n        &lt;check&gt;\n        &lt;/check&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The issue occurs in my actual business project. However, it cannot be reproduced in a simpler example project.</p>\n<p>As mentioned above. After I removed the configuration lines in the maven-surefire-plugin, the coverage data reported by Cobertura is correct, and, the results of multiple executions are the same.</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695727027,"post_id":77179507,"comment_id":136060226,"body_markdown":"mock the call instead of &quot;hoping it&#39;ll work out&quot;","body":"mock the call instead of &quot;hoping it&#39;ll work out&quot;"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695727160,"post_id":77179507,"comment_id":136060251,"body_markdown":"@Stultuske Hi, I&#39;ve forgotten to include in the original post that I do not want to mock anything here. Would you still have any suggestions?","body":"@Stultuske Hi, I&#39;ve forgotten to include in the original post that I do not want to mock anything here. Would you still have any suggestions?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695727508,"post_id":77179507,"comment_id":136060341,"body_markdown":"if an exception is thrown, catch it in your test, remove your assertions, ... This would, however, render your test pretty pointless","body":"if an exception is thrown, catch it in your test, remove your assertions, ... This would, however, render your test pretty pointless"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695727755,"post_id":77179507,"comment_id":136060397,"body_markdown":"Use a try-catch-block in your test?","body":"Use a try-catch-block in your test?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695728465,"post_id":77179507,"comment_id":136060535,"body_markdown":"@Stultuske @Jens yes, obviously try-catch would work, but a simple `System.out.println` within the catch block would not render any big warning. So, I would not know immedietaly that the response did not come in. I&#39;d have to go into raport and see each test case if it contains any message sent by `System.out.println`.","body":"@Stultuske @Jens yes, obviously try-catch would work, but a simple <code>System.out.println</code> within the catch block would not render any big warning. So, I would not know immedietaly that the response did not come in. I&#39;d have to go into raport and see each test case if it contains any message sent by <code>System.out.println</code>."}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695727182,"creation_date":1695726980,"question_id":77179507,"body_markdown":"I have an integration test which is dependent on an external API. It is quite weird, because it does not always pass.\r\n\r\nIt goes something like this:\r\n\r\n1. In the test I send a request to my API&#39;s endpoint.\r\n2. There&#39;s some logic going on within my application (for example database insertions).\r\n3. At last, before returning a response, there&#39;s a async call to external API.\r\n\r\nWaiting for external API&#39;s response sometimes takes 500ms, but may as well take 8 seconds. I use Awaitality to wait until the response comes in, but it just makes my tests execute even 2 minutes longer (I have several test cases).\r\n\r\nWhat I&#39;d like to achieve is something like that: test waits 1 second for the response. If it does not come up within that period, then show some-kind-of warning (preferably to console). Also, do not let this test case fail because the response was not present, let this test pass.\r\n\r\nHere&#39;s how I wait for the response.\r\n```\r\nawait().atMost(UNTIL, TimeUnit.MILLISECONDS)\r\n                        .pollInterval(ONE_REQUEST_PER, TimeUnit.MILLISECONDS)\r\n                        .until(() -&gt; // logic that acquires the response);\r\n```\r\nIf the condition within `.until` is not fulfilled within some time, then test case is failed. I&#39;d rather - as explained - have it send a warning to the console, not fail the test.\r\n\r\nNOTE: I do not want to mock the API&#39;s response.","title":"Send just a warning on assertion fail","body":"<p>I have an integration test which is dependent on an external API. It is quite weird, because it does not always pass.</p>\n<p>It goes something like this:</p>\n<ol>\n<li>In the test I send a request to my API's endpoint.</li>\n<li>There's some logic going on within my application (for example database insertions).</li>\n<li>At last, before returning a response, there's a async call to external API.</li>\n</ol>\n<p>Waiting for external API's response sometimes takes 500ms, but may as well take 8 seconds. I use Awaitality to wait until the response comes in, but it just makes my tests execute even 2 minutes longer (I have several test cases).</p>\n<p>What I'd like to achieve is something like that: test waits 1 second for the response. If it does not come up within that period, then show some-kind-of warning (preferably to console). Also, do not let this test case fail because the response was not present, let this test pass.</p>\n<p>Here's how I wait for the response.</p>\n<pre><code>await().atMost(UNTIL, TimeUnit.MILLISECONDS)\n                        .pollInterval(ONE_REQUEST_PER, TimeUnit.MILLISECONDS)\n                        .until(() -&gt; // logic that acquires the response);\n</code></pre>\n<p>If the condition within <code>.until</code> is not fulfilled within some time, then test case is failed. I'd rather - as explained - have it send a warning to the console, not fail the test.</p>\n<p>NOTE: I do not want to mock the API's response.</p>\n"},{"tags":["java","selenium-webdriver","appium","mobile-devices","selenium-remotedriver"],"owner":{"account_id":29537741,"reputation":1,"user_id":22637048,"display_name":"Shiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695727010,"creation_date":1695725815,"question_id":77179365,"body_markdown":"Getting the below error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n\tat com.deloitte.convergeprosperity.bankingsuite.testRunners.AppiumTest.main(AppiumTest.java:45)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 1 more\r\n```\r\ni am trying to connect with remote server to access the cloud devices.","title":"Getting &quot;JsonToWebElementConverter&quot; exception when i am trying to connect with remote server to access the cloud devices","body":"<p>Getting the below error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at com.deloitte.convergeprosperity.bankingsuite.testRunners.AppiumTest.main(AppiumTest.java:45)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 1 more\n</code></pre>\n<p>i am trying to connect with remote server to access the cloud devices.</p>\n"},{"tags":["java","hibernate","jpa","junit","autotest"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695738879,"post_id":77178659,"comment_id":136062880,"body_markdown":"An in-memory database allows you to keep test data separate from dev environment data - I prefer this for unit tests so that devs interactions don&#39;t mess with a running test; JPA can help with DDL generation to create tables on start up, and can drop the tables on demand as well. You can use the same behavior to create tables in a test specific schema in any database as well though. Otherwise, tests should have before/after setup methods that track exactly what they create and clean it up after - Sometimes in suites if they take more time to run.","body":"An in-memory database allows you to keep test data separate from dev environment data - I prefer this for unit tests so that devs interactions don&#39;t mess with a running test; JPA can help with DDL generation to create tables on start up, and can drop the tables on demand as well. You can use the same behavior to create tables in a test specific schema in any database as well though. Otherwise, tests should have before/after setup methods that track exactly what they create and clean it up after - Sometimes in suites if they take more time to run."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695738976,"post_id":77178659,"comment_id":136062899,"body_markdown":"If cleanup takes that much time, you&#39;ll want to figure out why exactly. Is the DB indexed correctly, are other processes running concurrently slowing down locks, can the delete statements be optimized? If it takes longer for your tests, it might mean something you overlooked that might affect production down the road. Cascade delete can help, but the cost of an extra statement shouldn&#39;t be &#39;that&#39; high if you do it manually. Tests I write try to use bulk deletes for cleanup, using test specific keys for all data. I try not to rely on the model (cascades) or DB for clean up as they can change.","body":"If cleanup takes that much time, you&#39;ll want to figure out why exactly. Is the DB indexed correctly, are other processes running concurrently slowing down locks, can the delete statements be optimized? If it takes longer for your tests, it might mean something you overlooked that might affect production down the road. Cascade delete can help, but the cost of an extra statement shouldn&#39;t be &#39;that&#39; high if you do it manually. Tests I write try to use bulk deletes for cleanup, using test specific keys for all data. I try not to rely on the model (cascades) or DB for clean up as they can change."},{"owner":{"account_id":26095373,"reputation":3,"user_id":19791566,"display_name":"sekerbekova"},"score":0,"creation_date":1697690915,"post_id":77178659,"comment_id":136312183,"body_markdown":"I can&#39;t use in-memory database, because these are end-to-end tests, not unit tests, I am using selenide to do stuff on the website (dev environment) I need my entities to be on dev in order to check dev behaviour","body":"I can&#39;t use in-memory database, because these are end-to-end tests, not unit tests, I am using selenide to do stuff on the website (dev environment) I need my entities to be on dev in order to check dev behaviour"}],"answers":[{"tags":[],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695726974,"creation_date":1695726974,"answer_id":77179506,"question_id":77178659,"body_markdown":"There are 3 ways to do that. Probably both are not „the best”, but works. \r\n\r\n 1. Hibernate has a feature called initial import, that use `import.sql` file. You need to recreate database before each test. This solution is ancient, and difficult to maintain in an environment with multiple tests.  \r\n 2. You can use a combination of [Liquidbase](https://www.liquibase.org/) or [Flyway](https://flywaydb.org/) and [testcontainers](https://testcontainers.com/). Then each test will start with a separated DB from docker container. Testcontainer will be set up database and liquidbase/flyway will fill it.\r\n 3. Use an old library called [DBUnit](https://gitlab.com/dbUnit/dbunit-extension) with some [extensions](https://github.com/rmpestano/dbunit-rules) for Junit5.\r\n\r\n","title":"Cleaning db entities after test","body":"<p>There are 3 ways to do that. Probably both are not „the best”, but works.</p>\n<ol>\n<li>Hibernate has a feature called initial import, that use <code>import.sql</code> file. You need to recreate database before each test. This solution is ancient, and difficult to maintain in an environment with multiple tests.</li>\n<li>You can use a combination of <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquidbase</a> or <a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">Flyway</a> and <a href=\"https://testcontainers.com/\" rel=\"nofollow noreferrer\">testcontainers</a>. Then each test will start with a separated DB from docker container. Testcontainer will be set up database and liquidbase/flyway will fill it.</li>\n<li>Use an old library called <a href=\"https://gitlab.com/dbUnit/dbunit-extension\" rel=\"nofollow noreferrer\">DBUnit</a> with some <a href=\"https://github.com/rmpestano/dbunit-rules\" rel=\"nofollow noreferrer\">extensions</a> for Junit5.</li>\n</ol>\n"}],"owner":{"account_id":26095373,"reputation":3,"user_id":19791566,"display_name":"sekerbekova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77179506,"answer_count":1,"score":0,"last_activity_date":1695726974,"creation_date":1695720110,"question_id":77178659,"body_markdown":"I&#39;m writing an autotest(with java maven+junit+cucumber)\r\n- Before the start of testcase I need to create a user for test and some entities in db(lets name them entity1 and entity2)\r\n- During the testcase I create entity3 by clicking &quot;create&quot; button in UI(entity3 is connected to entity1 as many to one)\r\n- After the end of testcase I need to clean up(which means to delete all the data that I created before the test and all the data created from ui during the test)\r\n\r\n\r\nNow I try to make some delete queries to db after the end, but face some problems:\r\n1) Tables are connected between each other and by the end of the test I have a bunch of rows in the other tables that reference to my initial entity1 and entity2 and need to cascade delete them and that takes a lot of time, eventually it will lead to after method taking more time than test itself\r\n2) Tables are not specified on cascade delete and I cant change it since it is expected behavior\r\n3) it is dev environment that is used for manual tests also so I cant just delete all data, I need to delete only what is created by autotest\r\n \r\nI know there is some hibernate thing but I have never used it and Im not sure if It can make what I need\r\n\r\nIm looking for some options were I can save how db was before test then do test and then revert all what happend to db so it is same as it was before test","title":"Cleaning db entities after test","body":"<p>I'm writing an autotest(with java maven+junit+cucumber)</p>\n<ul>\n<li>Before the start of testcase I need to create a user for test and some entities in db(lets name them entity1 and entity2)</li>\n<li>During the testcase I create entity3 by clicking &quot;create&quot; button in UI(entity3 is connected to entity1 as many to one)</li>\n<li>After the end of testcase I need to clean up(which means to delete all the data that I created before the test and all the data created from ui during the test)</li>\n</ul>\n<p>Now I try to make some delete queries to db after the end, but face some problems:</p>\n<ol>\n<li>Tables are connected between each other and by the end of the test I have a bunch of rows in the other tables that reference to my initial entity1 and entity2 and need to cascade delete them and that takes a lot of time, eventually it will lead to after method taking more time than test itself</li>\n<li>Tables are not specified on cascade delete and I cant change it since it is expected behavior</li>\n<li>it is dev environment that is used for manual tests also so I cant just delete all data, I need to delete only what is created by autotest</li>\n</ol>\n<p>I know there is some hibernate thing but I have never used it and Im not sure if It can make what I need</p>\n<p>Im looking for some options were I can save how db was before test then do test and then revert all what happend to db so it is same as it was before test</p>\n"},{"tags":["java","docker","apache-poi","java-11","alpine-linux"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673422005,"post_id":75079448,"comment_id":132492499,"body_markdown":"Running `wb.getFontAt(0)` on a new workbook returns `Calibri`. That is with apache poi 5.2.2 on java 8. Might be different for other versions, but that you can test yourself","body":"Running <code>wb.getFontAt(0)</code> on a new workbook returns <code>Calibri</code>. That is with apache poi 5.2.2 on java 8. Might be different for other versions, but that you can test yourself"},{"owner":{"account_id":3073732,"reputation":986,"user_id":2992404,"accept_rate":67,"display_name":"Jewels"},"score":0,"creation_date":1673426262,"post_id":75079448,"comment_id":132493804,"body_markdown":"@XtremeBaumer Calibri is the default font for poi, but it doesn&#39;t exist on alpine. i need to know how to make this work","body":"@XtremeBaumer Calibri is the default font for poi, but it doesn&#39;t exist on alpine. i need to know how to make this work"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673426968,"post_id":75079448,"comment_id":132494053,"body_markdown":"https://unix.stackexchange.com/a/438269","body":"<a href=\"https://unix.stackexchange.com/a/438269\">unix.stackexchange.com/a/438269</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673441836,"post_id":75079448,"comment_id":132499182,"body_markdown":"Is [_headless mode_](https://www.oracle.com/technical-resources/articles/javase/headless.html) relevant in this context?","body":"Is <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\"><i>headless mode</i></a> relevant in this context?"}],"answers":[{"tags":[],"owner":{"account_id":1760631,"reputation":2655,"user_id":10710587,"display_name":"Maciej Skorski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681103626,"creation_date":1681103626,"answer_id":75974420,"question_id":75079448,"body_markdown":"The diagnosis is right, alpine images lack fonts and this becomes apparent when producing documents. I have seen this when off-screen rendering UMLs.\r\n\r\n`RUN apk add fontconfig ttf-dejavu`\r\n\r\nhelped in my case, and [here is the working docker file](https://github.com/maciejskorski/plantuml-docker/blob/a0afa5f5d821f249efde990737432562b7aa02b2/Dockerfile#L28).","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>The diagnosis is right, alpine images lack fonts and this becomes apparent when producing documents. I have seen this when off-screen rendering UMLs.</p>\n<p><code>RUN apk add fontconfig ttf-dejavu</code></p>\n<p>helped in my case, and <a href=\"https://github.com/maciejskorski/plantuml-docker/blob/a0afa5f5d821f249efde990737432562b7aa02b2/Dockerfile#L28\" rel=\"nofollow noreferrer\">here is the working docker file</a>.</p>\n"},{"tags":[],"owner":{"account_id":24209292,"reputation":21,"user_id":18166034,"display_name":"Lagrange91"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695726791,"creation_date":1695726791,"answer_id":77179480,"question_id":75079448,"body_markdown":"I had the same problem. I went through the stacktrace. In the SheetUtil.java getDefaultCharWidth is called. In case of an internal error as reported by OP you can handle that error when the system property &quot;org.apache.poi.ss.ignoreMissingFontSystem&quot; is set to true. It will return a default char width then instead of rethrowing the error.\r\n\r\nSo you either set this property to true in your environment or you might add a configuration to your spring application as following:\r\n\r\n```    \r\n@configuration\r\npublic class FontConfiguration {\r\n\r\n@PostConstruct\r\npublic void setProperty() {\r\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;);\r\n}\r\n}\r\n```\r\n","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>I had the same problem. I went through the stacktrace. In the SheetUtil.java getDefaultCharWidth is called. In case of an internal error as reported by OP you can handle that error when the system property &quot;org.apache.poi.ss.ignoreMissingFontSystem&quot; is set to true. It will return a default char width then instead of rethrowing the error.</p>\n<p>So you either set this property to true in your environment or you might add a configuration to your spring application as following:</p>\n<pre><code>@configuration\npublic class FontConfiguration {\n\n@PostConstruct\npublic void setProperty() {\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3073732,"reputation":986,"user_id":2992404,"accept_rate":67,"display_name":"Jewels"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695726791,"creation_date":1673421196,"question_id":75079448,"body_markdown":"I am running a java 11 application with a dependency on apache-poi. When running the application in docker using the alpine image I get the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\r\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n        at java.desktop/java.awt.Font.getFont2D(Font.java:497)\r\n        at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2250)\r\n        at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\r\n        at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\r\n        at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\r\n        at ImportExportExcel.main(ImportExportExcel.java:44)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\r\n        ... 8 more\r\nCaused by: java.lang.NullPointerException\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\r\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\r\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:379)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:324)\r\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\r\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\r\n        ... 13 more\r\n\r\n```\r\n\r\nIt seems to me that the underlying issue is that the alpine docker image does not have any fonts by default. I want to know what the minimal fonts are that I need to install in the docker image in order for the code not to fail.","title":"java.lang.InternalError when generating excel file with apache-poi on alpine in java 11/17","body":"<p>I am running a java 11 application with a dependency on apache-poi. When running the application in docker using the alpine image I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:86)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\n        at java.desktop/java.awt.Font.getFont2D(Font.java:497)\n        at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2250)\n        at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\n        at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\n        at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285)\n        at ImportExportExcel.main(ImportExportExcel.java:44)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:84)\n        ... 8 more\nCaused by: java.lang.NullPointerException\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:719)\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:379)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:324)\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\n        ... 13 more\n\n</code></pre>\n<p>It seems to me that the underlying issue is that the alpine docker image does not have any fonts by default. I want to know what the minimal fonts are that I need to install in the docker image in order for the code not to fail.</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":4624003,"reputation":2609,"user_id":3748302,"accept_rate":83,"display_name":"Remees M Syde"},"score":0,"creation_date":1555477723,"post_id":55720195,"comment_id":98120287,"body_markdown":"Have you tried this https://stackoverflow.com/questions/28688946/using-a-webview-to-browse-the-photo-gallery","body":"Have you tried this <a href=\"https://stackoverflow.com/questions/28688946/using-a-webview-to-browse-the-photo-gallery\" title=\"using a webview to browse the photo gallery\">stackoverflow.com/questions/28688946/&hellip;</a>"},{"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"score":1,"creation_date":1555478292,"post_id":55720195,"comment_id":98120475,"body_markdown":"@RemeesMSyde. Thank you for quick reply :) \nThere is no fixed html content in webview as in my case webview is loaded from url.","body":"@RemeesMSyde. Thank you for quick reply :)  There is no fixed html content in webview as in my case webview is loaded from url."},{"owner":{"account_id":7648414,"reputation":378,"user_id":5798163,"display_name":"Ajith Madhu"},"score":2,"creation_date":1555478487,"post_id":55720195,"comment_id":98120518,"body_markdown":"Try this [Question](https://stackoverflow.com/questions/29045637/html-input-type-file-is-not-working-on-webview-in-android-there-is-any-way-to). Tested and working","body":"Try this <a href=\"https://stackoverflow.com/questions/29045637/html-input-type-file-is-not-working-on-webview-in-android-there-is-any-way-to\">Question</a>. Tested and working"},{"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"score":1,"creation_date":1555480091,"post_id":55720195,"comment_id":98121038,"body_markdown":"@AjithMadhu Thank you so much, this solution worked for me. :)","body":"@AjithMadhu Thank you so much, this solution worked for me. :)"}],"answers":[{"tags":[],"owner":{"account_id":15761094,"reputation":55,"user_id":11372789,"display_name":"zahra salmaninejad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557498380,"creation_date":1555491939,"answer_id":55723833,"question_id":55720195,"body_markdown":"\r\nWell you can achieve it like this\r\n\r\n\twebView.setWebViewClient(new WebViewClient() {\r\n\t\t@Override\r\n\t\tpublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\t\t    if (url.equals(&quot;alert://alert&quot;)) {\r\n\t\t        Toast.makeText(this, &quot;alert&quot;, Toast.LENGTH_LONG).show();\r\n\t\t    } else if (url.equals(&quot;choose://image&quot;)) {\r\n\t\t        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n\t\t        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t        intent.setType(&quot;image/*&quot;);\r\n\r\n\t\t        startActivityForResult(intent, FILECHOOSER_RESULTCODE);\r\n\t\t    }\r\n\t\t    return true;\r\n\t\t}\r\n\t});      \r\n\r\nand your html should be like this\r\n\r\n    &lt;!doctype html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;title&gt;Test Android Popup&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;label&gt;Test Alert 1:&lt;/label&gt;\r\n            &lt;form action=&quot;alert://alert&quot;&gt;\r\n                 &lt;input type=&quot;submit&quot; value=&quot;Click me!&quot;&gt;\r\n            &lt;/form&gt;\r\n            &lt;br&gt;\r\n            &lt;label&gt;Test Browse file&lt;/label&gt;\r\n            &lt;form action=&quot;image://choose&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Choose File&quot;&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n","title":"How to allow photo gallery permission to WebView in android?","body":"<p>Well you can achieve it like this</p>\n\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        if (url.equals(\"alert://alert\")) {\n            Toast.makeText(this, \"alert\", Toast.LENGTH_LONG).show();\n        } else if (url.equals(\"choose://image\")) {\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.setType(\"image/*\");\n\n            startActivityForResult(intent, FILECHOOSER_RESULTCODE);\n        }\n        return true;\n    }\n});      \n</code></pre>\n\n<p>and your html should be like this</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Test Android Popup&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;label&gt;Test Alert 1:&lt;/label&gt;\n        &lt;form action=\"alert://alert\"&gt;\n             &lt;input type=\"submit\" value=\"Click me!\"&gt;\n        &lt;/form&gt;\n        &lt;br&gt;\n        &lt;label&gt;Test Browse file&lt;/label&gt;\n        &lt;form action=\"image://choose\"&gt;\n            &lt;input type=\"submit\" value=\"Choose File\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":15630539,"reputation":93,"user_id":11276973,"display_name":"PinkalB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695726765,"creation_date":1555477068,"question_id":55720195,"body_markdown":"I am loading WebView using URL. My URL contains one button which is used to take a photo from mobile either from photo gallery or using the device camera. I have also set the permissions to access the photo gallery. But the button not opens the photo gallery.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nwebJobForm.getSettings().setLoadsImagesAutomatically(true);\r\nwebJobForm.getSettings().setPluginState(WebSettings.PluginState.ON);\r\nwebJobForm.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\nwebJobForm.getSettings().setSupportZoom(true);\r\nwebJobForm.getSettings().setBuiltInZoomControls(true);\r\nwebJobForm.getSettings().setDisplayZoomControls(true);\r\nwebJobForm.getSettings().setLoadWithOverviewMode(true);\r\nwebJobForm.setVerticalScrollBarEnabled(true);\r\nwebJobForm.setHorizontalScrollBarEnabled(true);\r\nwebJobForm.getSettings().setUseWideViewPort(true);\r\nwebJobForm.getSettings().setAllowFileAccess(true);\r\nwebJobForm.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\nwebJobForm.getSettings().setAllowContentAccess(true);\r\nwebJobForm.getSettings().setAllowFileAccessFromFileURLs(true);\r\nwebJobForm.getSettings().setMediaPlaybackRequiresUserGesture(true);\r\nwebJobForm.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\nwebJobForm.getSettings().setJavaScriptEnabled(true);\r\nwebJobForm.setWebChromeClient(new WebChromeClient());\r\nwebJobForm.postUrl(bundle.getString(&quot;FormUrl&quot;),JobID.getBytes());\r\n```","title":"How to allow photo gallery permission to WebView in android?","body":"<p>I am loading WebView using URL. My URL contains one button which is used to take a photo from mobile either from photo gallery or using the device camera. I have also set the permissions to access the photo gallery. But the button not opens the photo gallery.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>webJobForm.getSettings().setLoadsImagesAutomatically(true);\nwebJobForm.getSettings().setPluginState(WebSettings.PluginState.ON);\nwebJobForm.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\nwebJobForm.getSettings().setSupportZoom(true);\nwebJobForm.getSettings().setBuiltInZoomControls(true);\nwebJobForm.getSettings().setDisplayZoomControls(true);\nwebJobForm.getSettings().setLoadWithOverviewMode(true);\nwebJobForm.setVerticalScrollBarEnabled(true);\nwebJobForm.setHorizontalScrollBarEnabled(true);\nwebJobForm.getSettings().setUseWideViewPort(true);\nwebJobForm.getSettings().setAllowFileAccess(true);\nwebJobForm.getSettings().setAllowUniversalAccessFromFileURLs(true);\nwebJobForm.getSettings().setAllowContentAccess(true);\nwebJobForm.getSettings().setAllowFileAccessFromFileURLs(true);\nwebJobForm.getSettings().setMediaPlaybackRequiresUserGesture(true);\nwebJobForm.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\nwebJobForm.getSettings().setJavaScriptEnabled(true);\nwebJobForm.setWebChromeClient(new WebChromeClient());\nwebJobForm.postUrl(bundle.getString(\"FormUrl\"),JobID.getBytes());\n</code></pre>\n"},{"tags":["java","machine-learning","neural-network","one-hot-encoding"],"owner":{"account_id":10460487,"reputation":27,"user_id":7711407,"display_name":"Andy58"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695726668,"creation_date":1695670744,"question_id":77175325,"body_markdown":"I have made a functioning neural network using the following code to compute weights*:\r\n\r\n    public double compute(double input1, double input2){\r\n          double preActivation = (this.weight1 * input1) + (this.weight2 * input2) + this.bias;\r\n          double output = Utilities.sigmoid(preActivation);\r\n          return output;\r\n    }\r\n\r\nI have changed the input to a `int[][]` array and im trying to multiply this result by the weights ive assigned above. This wont work however Im struggling to understand how a one hot encoded representation of string (below):\r\n\r\n    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\r\n\r\nis fed into a neural network. There are lot of resources explaining one hot encoding but I cant find out how to handle the end result. You can multiply a matrix with another matrix but I cant seem to multiply a matrix with a double representing a weight. Is there a way I can multiply the above binary vector with a double or how else would I feed this to a neural network? Should I use a different method to alter the weights rather than sigmoid and if so what would be best? how do you handle this data? \r\n\r\nUpdate:\r\nSo far I’ve converted each nested array in the matrices into a decimal using BigInteger enclosing a stream `.stream().map(item -&gt; item.toString()).join(“”); this returns a decimal I then get the sum of all decimals and convert this to double using .doubleValue() instance method however I’ve not chance to get results of network training yet. I will update once I have.\r\n","title":"Feeding a neural network one hot encode binary vectors","body":"<p>I have made a functioning neural network using the following code to compute weights*:</p>\n<pre><code>public double compute(double input1, double input2){\n      double preActivation = (this.weight1 * input1) + (this.weight2 * input2) + this.bias;\n      double output = Utilities.sigmoid(preActivation);\n      return output;\n}\n</code></pre>\n<p>I have changed the input to a <code>int[][]</code> array and im trying to multiply this result by the weights ive assigned above. This wont work however Im struggling to understand how a one hot encoded representation of string (below):</p>\n<pre><code>[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\n</code></pre>\n<p>is fed into a neural network. There are lot of resources explaining one hot encoding but I cant find out how to handle the end result. You can multiply a matrix with another matrix but I cant seem to multiply a matrix with a double representing a weight. Is there a way I can multiply the above binary vector with a double or how else would I feed this to a neural network? Should I use a different method to alter the weights rather than sigmoid and if so what would be best? how do you handle this data?</p>\n<p>Update:\nSo far I’ve converted each nested array in the matrices into a decimal using BigInteger enclosing a stream `.stream().map(item -&gt; item.toString()).join(“”); this returns a decimal I then get the sum of all decimals and convert this to double using .doubleValue() instance method however I’ve not chance to get results of network training yet. I will update once I have.</p>\n"},{"tags":["java","arangodb"],"answers":[{"tags":[],"owner":{"account_id":257499,"reputation":1062,"user_id":538959,"accept_rate":87,"display_name":"darkfrog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695725696,"creation_date":1506696891,"answer_id":46491516,"question_id":46491401,"body_markdown":"I don&#39;t believe you can do that since the service needs to bind to an IP address. Usually, when dealing with dynamic IP addresses your ISP is changing the IP but internally you can configure your IP address statically. Bind to your internal static IP and configure your router to port forward to that internal IP address. Many routers support dynamic DNS through various providers that will map the domain to your changing IP address. I hope that helps.\r\n\r\nUpdate: Setting up HTTPS should be pretty easily done, just follow the docs:\r\n- https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint\r\n- https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl","title":"Specify https host as arangodb host in properties","body":"<p>I don't believe you can do that since the service needs to bind to an IP address. Usually, when dealing with dynamic IP addresses your ISP is changing the IP but internally you can configure your IP address statically. Bind to your internal static IP and configure your router to port forward to that internal IP address. Many routers support dynamic DNS through various providers that will map the domain to your changing IP address. I hope that helps.</p>\n<p>Update: Setting up HTTPS should be pretty easily done, just follow the docs:</p>\n<ul>\n<li><a href=\"https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint\" rel=\"nofollow noreferrer\">https://docs.arangodb.com/3.11/components/arangodb-server/options/#--serverendpoint</a></li>\n<li><a href=\"https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl\" rel=\"nofollow noreferrer\">https://docs.arangodb.com/3.11/components/arangodb-server/options/#ssl</a></li>\n</ul>\n"}],"owner":{"account_id":6835939,"reputation":1361,"user_id":5257935,"accept_rate":95,"display_name":"Sergei Podlipaev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46491516,"answer_count":1,"score":5,"last_activity_date":1695725696,"creation_date":1506696548,"question_id":46491401,"body_markdown":"I&#39;m building CRUD interface for ArangoDB as Java service.\r\n\r\nMy ArangoDB service has dynamic IP, but static URL. Thus I want to specify URL instead of IP and port.\r\n\r\nBut when I set it in arangodb.properties file I get the following exception:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.netcracker.unm.activeinventory.services.ArangoService]: Constructor threw exception; nested exception is com.arangodb.ArangoDBException: Could not load property-value arangodb.hosts=127.0.0.1:8538,127.0.0.1:8529,http://arangodb-nms-infra.sdnoshm05.com:443. Expected format ip:port,ip:port,...\r\n\r\nHow can I do it?\r\n\r\n**Update**\r\n\r\nI have figured out that I have to connect to https server. How can I specify it in my arangodb.properties file?\r\n\r\nI have tried to connect to the servers endpoint using unix `wget` command. It doesn&#39;t connect if I dont specify https protocol. And so my ArangoDB client doesn&#39;t, if there is plain ip:port. I just get `java.net.ConnectException: Connection refused` exception.","title":"Specify https host as arangodb host in properties","body":"<p>I'm building CRUD interface for ArangoDB as Java service.</p>\n\n<p>My ArangoDB service has dynamic IP, but static URL. Thus I want to specify URL instead of IP and port.</p>\n\n<p>But when I set it in arangodb.properties file I get the following exception:</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.netcracker.unm.activeinventory.services.ArangoService]: Constructor threw exception; nested exception is com.arangodb.ArangoDBException: Could not load property-value arangodb.hosts=127.0.0.1:8538,127.0.0.1:8529,http://arangodb-nms-infra.sdnoshm05.com:443. Expected format ip:port,ip:port,...\n</code></pre>\n\n<p>How can I do it?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I have figured out that I have to connect to https server. How can I specify it in my arangodb.properties file?</p>\n\n<p>I have tried to connect to the servers endpoint using unix <code>wget</code> command. It doesn't connect if I dont specify https protocol. And so my ArangoDB client doesn't, if there is plain ip:port. I just get <code>java.net.ConnectException: Connection refused</code> exception.</p>\n"},{"tags":["java","android","flutter","braintree"],"comments":[{"owner":{"account_id":3043306,"reputation":900,"user_id":2579725,"display_name":"ben"},"score":1,"creation_date":1571991559,"post_id":57696147,"comment_id":103429018,"body_markdown":"I have actually the same problem and I am not able to fix it...","body":"I have actually the same problem and I am not able to fix it..."},{"owner":{"account_id":22947934,"reputation":1740,"user_id":17079652,"display_name":"G H Prakash"},"score":0,"creation_date":1638420814,"post_id":57696147,"comment_id":124085008,"body_markdown":"did you got this @Funkberater","body":"did you got this @Funkberater"}],"answers":[{"tags":[],"owner":{"account_id":3043306,"reputation":900,"user_id":2579725,"display_name":"ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572025255,"creation_date":1572025255,"answer_id":58563282,"question_id":57696147,"body_markdown":"I have solved the issue by renaming my application id. Apparently the braintree SDK does not like to have underscores in the application id. It worked after I renamed the application id to an id without special characters...\r\nI hope that helps.","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>I have solved the issue by renaming my application id. Apparently the braintree SDK does not like to have underscores in the application id. It worked after I renamed the application id to an id without special characters...\nI hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":13836862,"reputation":1,"user_id":9988180,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576492760,"creation_date":1576492760,"answer_id":59354912,"question_id":57696147,"body_markdown":"Make sure your application ID doesn&#39;t have any special characters and upper case alphabets. If so please remove the special characters and change the application id to lower case alphabets. ","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Make sure your application ID doesn't have any special characters and upper case alphabets. If so please remove the special characters and change the application id to lower case alphabets. </p>\n"},{"tags":[],"owner":{"account_id":15044477,"reputation":21,"user_id":10858073,"display_name":"Rehan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599217889,"creation_date":1599217889,"answer_id":63740037,"question_id":57696147,"body_markdown":"Remove underscores in your package name\r\n\r\n&quot;Note: The scheme you define must use all lowercase letters. If your package contains underscores, the underscores should be removed when specifying the scheme in your Android Manifest.&quot;\r\n\r\nplease check this for more information \r\nhttps://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Remove underscores in your package name</p>\n<p>&quot;Note: The scheme you define must use all lowercase letters. If your package contains underscores, the underscores should be removed when specifying the scheme in your Android Manifest.&quot;</p>\n<p>please check this for more information\n<a href=\"https://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/guides/client-sdk/setup/android/v2#browser-switch</a></p>\n"},{"tags":[],"owner":{"account_id":22507912,"reputation":21,"user_id":16703230,"display_name":"Himanshu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629357404,"creation_date":1629357404,"answer_id":68843524,"question_id":57696147,"body_markdown":"Just remove special characters from your app&#39;s package name/id. like underscores and etc.\r\n\r\nex: com.example.smaple_app\r\nsolved: ex: com.example.smapleapp","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Just remove special characters from your app's package name/id. like underscores and etc.</p>\n<p>ex: com.example.smaple_app\nsolved: ex: com.example.smapleapp</p>\n"},{"tags":[],"owner":{"account_id":22044518,"reputation":1,"user_id":16309775,"display_name":"Sinan Kanmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695725464,"creation_date":1695725275,"answer_id":77179281,"question_id":57696147,"body_markdown":"Add this lines in the `application` bloc,  to `AndroidManifest.xml`\r\n\r\n&lt;activity android:name=&quot;com.braintreepayments.api.ThreeDSecureActivity&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\r\n&lt;/activity&gt;\r\n\r\nand this line\r\n\r\n    &lt;activity android:name=&quot;${applicationId}.FlutterBraintreeCustom&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>Add this lines in the <code>application</code> bloc,  to <code>AndroidManifest.xml</code></p>\n\n\n<p>and this line</p>\n<pre><code>&lt;activity android:name=&quot;${applicationId}.FlutterBraintreeCustom&quot; android:theme=&quot;@style/Theme.AppCompat.Light&quot; android:exported=&quot;true&quot;&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":13158736,"reputation":775,"user_id":9504999,"display_name":"Funkberater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3479,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1695725464,"creation_date":1567007604,"question_id":57696147,"body_markdown":"I&#39;m trying to implement the Braintree Android SDK into my app. I&#39;m facing a weird error when I try to use the PayPal payment method. The documentation of Braintree says that I have to implement this into my AndroidManifest:\r\n\r\n```\r\n&lt;activity android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nso this is my AndroidManifest after implementing:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.plugon.flutterbraintree_example&quot;&gt;\r\n\r\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\r\n         calls FlutterMain.startInitialization(this); in its onCreate method.\r\n         In most cases you can leave this as-is, but you if you want to provide\r\n         additional functionality it is fine to subclass or reimplement\r\n         FlutterApplication and put your custom class here. --&gt;\r\n    &lt;application\r\n        android:name=&quot;io.flutter.app.FlutterApplication&quot;\r\n        android:label=&quot;flutterbraintree_example&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- This keeps the window background of the activity showing\r\n                 until Flutter renders its first frame. It can be removed if\r\n                 there is no splash screen (such as the default splash screen\r\n                 defined in @style/LaunchTheme). --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;io.flutter.app.android.SplashScreenUntilFirstFrame&quot;\r\n                android:value=&quot;true&quot; /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nSo my code works fine everything is showing up but when I select Paypal for payment I get this error: ***BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app.***\r\n\r\nSo any ideas what I&#39;m doing wrong?\r\n\r\nThanks!","title":"BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app","body":"<p>I'm trying to implement the Braintree Android SDK into my app. I'm facing a weird error when I try to use the PayPal payment method. The documentation of Braintree says that I have to implement this into my AndroidManifest:</p>\n\n<pre><code>&lt;activity android:name=\"com.braintreepayments.api.BraintreeBrowserSwitchActivity\"\n            android:launchMode=\"singleTask\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n                &lt;data android:scheme=\"${applicationId}.braintree\" /&gt;\n            &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>so this is my AndroidManifest after implementing:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.plugon.flutterbraintree_example\"&gt;\n\n    &lt;!-- io.flutter.app.FlutterApplication is an android.app.Application that\n         calls FlutterMain.startInitialization(this); in its onCreate method.\n         In most cases you can leave this as-is, but you if you want to provide\n         additional functionality it is fine to subclass or reimplement\n         FlutterApplication and put your custom class here. --&gt;\n    &lt;application\n        android:name=\"io.flutter.app.FlutterApplication\"\n        android:label=\"flutterbraintree_example\"\n        android:icon=\"@mipmap/ic_launcher\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:launchMode=\"singleTop\"\n            android:theme=\"@style/LaunchTheme\"\n            android:configChanges=\"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode\"\n            android:hardwareAccelerated=\"true\"\n            android:windowSoftInputMode=\"adjustResize\"&gt;\n            &lt;!-- This keeps the window background of the activity showing\n                 until Flutter renders its first frame. It can be removed if\n                 there is no splash screen (such as the default splash screen\n                 defined in @style/LaunchTheme). --&gt;\n            &lt;meta-data\n                android:name=\"io.flutter.app.android.SplashScreenUntilFirstFrame\"\n                android:value=\"true\" /&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\"com.braintreepayments.api.BraintreeBrowserSwitchActivity\"\n            android:launchMode=\"singleTask\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n                &lt;data android:scheme=\"${applicationId}.braintree\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n\n<p>So my code works fine everything is showing up but when I select Paypal for payment I get this error: <strong><em>BraintreeBrowserSwitchActivity missing, incorrectly configured in AndroidManifest.xml or another app defines the same browser switch url as this app.</em></strong></p>\n\n<p>So any ideas what I'm doing wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","threadpoolexecutor"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695725926,"post_id":77179306,"comment_id":136060025,"body_markdown":"`Executor#execute` does not necessarily run on another thread. That task may run on the calling method’s thread. Read the Javadoc.","body":"<code>Executor#execute</code> does not necessarily run on another thread. That task may run on the calling method’s thread. Read the Javadoc."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695771574,"post_id":77179306,"comment_id":136068210,"body_markdown":"When posting here, you&#39;ll generally get best results if you contrive a simplified example to demonstrate your issue.","body":"When posting here, you&#39;ll generally get best results if you contrive a simplified example to demonstrate your issue."}],"owner":{"account_id":29537445,"reputation":1,"user_id":22636811,"display_name":"Masar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695725408,"creation_date":1695725408,"question_id":77179306,"body_markdown":"I am using executor to access RoomDatabase and it seems that nothing happen under these background tasks. For example for the creation of a entity in my database (here called Note):\r\n\r\n**NoteDataRepository Class**\r\n```\r\npackage com.example.grimoire.data.repositories;\r\n\r\n...\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class NoteDataRepository {\r\n\r\n    private final NoteDao noteDao;\r\n    private final Executor executor = Executors.newFixedThreadPool(4);\r\n    private final ExecutorService pool = Executors.newFixedThreadPool(2);\r\n\r\n    Note note;\r\n\r\n\r\n    public NoteDataRepository(Context context) {\r\n\r\n        GrimoireDatabase db = GrimoireDatabase.getInstance(context);\r\n        this.noteDao = db.noteDao();\r\n        this.allNotes = getAllNotes();\r\n    }\r\n\r\n\r\n    //=== Create Note ===//\r\n    public long createNote(){\r\n        Note note = new Note();\r\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId before executor : &quot; + note.getId());\r\n        executor.execute(() -&gt; {\r\n            Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId in executor : &quot; + note.getId());\r\n            noteDao.insertNote(note);});\r\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId after executor : &quot; + note.getId());\r\n        return note.getId();};\r\n\r\n    //...\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I call the `createNote()` method from the NoteDataRepository class I get this Logcat :\r\n\r\n\r\n```\r\n2023-09-26 12:22:46.737 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId before executor : 0\r\n2023-09-26 12:22:46.738 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId after executor : 0\r\n2023-09-26 12:22:46.739 10805-10805 NoteViewMo...createNote com.example.grimoire                 I  newNoteId : 0\r\n2023-09-26 12:22:46.742 10805-10805 AndroidRuntime          com.example.grimoire                 D  Shutting down VM\r\n2023-09-26 12:22:46.745 10805-10805 AndroidRuntime          com.example.grimoire                 E  FATAL EXCEPTION: main\r\n```\r\n\r\nHere are **NoteDaoClass** :\r\n```\r\npackage com.example.grimoire.data.dao;\r\n\r\nimport android.database.Cursor;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\nimport androidx.room.Update;\r\n\r\nimport com.example.grimoire.data.model.Note;\r\n\r\nimport java.util.List;\r\n\r\n@Dao\r\npublic interface NoteDao {\r\n    @Query(&quot;SELECT * FROM Note WHERE id = :id&quot;)\r\n    Note getNote(Long id);\r\n\r\n    @Query(&quot;SELECT * FROM Note ORDER BY id ASC&quot;)\r\n    List&lt;Note&gt; getAllNote();\r\n\r\n    @Query(&quot;SELECT * FROM Note WHERE Id = :Id&quot;)\r\n    Cursor getItemWithCursor(Long Id);\r\n\r\n    @Insert\r\n    void insertNote(Note note);\r\n\r\n\r\n    @Query(&quot;DELETE FROM Note WHERE Id = :Id&quot;)\r\n    int deleteItem(long Id);\r\n\r\n    @Update\r\n    void updateNote(Note note);\r\n}\r\n```\r\n\r\n\r\n**GrimoireDatabase Class**: \r\n\r\n```\r\npackage com.example.grimoire.data;\r\n\r\nimport static android.webkit.ConsoleMessage.MessageLevel.LOG;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.room.Database;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.sqlite.db.SupportSQLiteDatabase;\r\n\r\nimport com.example.grimoire.data.model.AttachedFile;\r\nimport com.example.grimoire.data.model.Category;\r\nimport com.example.grimoire.data.model.Note;\r\n\r\nimport com.example.grimoire.data.dao.*;\r\n\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Database(entities = {Note.class, Category.class, AttachedFile.class}, version = 1, exportSchema = false)\r\npublic abstract class GrimoireDatabase extends RoomDatabase {\r\n\r\n    // --- SINGLETON ---\r\n\r\n    private static volatile GrimoireDatabase INSTANCE;\r\n\r\n    // --- DAO ---\r\n\r\n    public abstract NoteDao noteDao();\r\n\r\n    public abstract CategoryDao categoryDao();\r\n\r\n    public abstract AttachedFileDao attachedFileDao();\r\n    private final Executor executor = Executors.newFixedThreadPool(4);\r\n\r\n\r\n    // --- INSTANCE ---\r\n\r\n    public static GrimoireDatabase getInstance(Context context) {\r\n\r\n        if (INSTANCE == null) {\r\n            synchronized (GrimoireDatabase.class) {\r\n                if (INSTANCE == null) {\r\n                    INSTANCE = Room.databaseBuilder(context,\r\n                                   GrimoireDatabase.class, &quot;MyDatabase.db&quot;)\r\n                            .addCallback(prepopulateDatabase())\r\n                            .build();\r\n\r\n                    Log.i(&quot;GrimoireDatabase&quot;,&quot;INstance builded&quot;);\r\n                }\r\n            }\r\n        }\r\n        return INSTANCE;\r\n\r\n    }\r\n\r\n    private static Callback prepopulateDatabase() {\r\n        Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase&quot;,&quot;before onCreate&quot;);\r\n        return new Callback() {\r\n\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase.OnCreate&quot;,&quot;onCreate PAssed&quot;);\r\n                super.onCreate(db);\r\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\r\n\r\n                    Category cat = new Category(0, &quot;Carnet Perso&quot;);\r\n                    INSTANCE.categoryDao().insertCategory(cat);\r\n\r\n                    Note note = new Note(cat.getIdCategory(), 0, &quot;Moi&quot;, &quot;Autun&quot;, &quot;Sujet alpha&quot;, &quot;sous-titre alpha&quot;, &quot;exemple de note a&quot;, &quot;10/9/2023&quot;, false, false);\r\n                    INSTANCE.noteDao().insertNote(note);\r\n                    note.setParameters(cat.getIdCategory(), 0, &quot;Toi&quot;, &quot;chamb&#233;ry&quot;, &quot;Sujet b&#233;ta&quot;, &quot;sous-titre b&#233;ta&quot;, &quot;exemple de note b&quot;, &quot;05/10/2023&quot;, false, false);\r\n                    INSTANCE.noteDao().insertNote(note);\r\n                    Log.i(&quot;GrimoireDatabase.callback.prepolulate&quot;,&quot;note number : &quot;+INSTANCE.noteDao().getAllNote().size()+&quot;/n Category number : &quot;+INSTANCE.categoryDao().getAllCategory().size());\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                super.onOpen(db);\r\n            }\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have also tried Executors.newSingleThreadExecutor() with the same result that nothing happens into this thread...\r\n\r\nI am looking for solutions but not sure they are best practices :\r\n\r\nHow could I wait the background task from executor is done ? If I do what the purpose to have a asynchronous task if it is for waiting for it... Does someone can give me a good practice ?","title":"How to proceed tasks under executor thread?","body":"<p>I am using executor to access RoomDatabase and it seems that nothing happen under these background tasks. For example for the creation of a entity in my database (here called Note):</p>\n<p><strong>NoteDataRepository Class</strong></p>\n<pre><code>package com.example.grimoire.data.repositories;\n\n...\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class NoteDataRepository {\n\n    private final NoteDao noteDao;\n    private final Executor executor = Executors.newFixedThreadPool(4);\n    private final ExecutorService pool = Executors.newFixedThreadPool(2);\n\n    Note note;\n\n\n    public NoteDataRepository(Context context) {\n\n        GrimoireDatabase db = GrimoireDatabase.getInstance(context);\n        this.noteDao = db.noteDao();\n        this.allNotes = getAllNotes();\n    }\n\n\n    //=== Create Note ===//\n    public long createNote(){\n        Note note = new Note();\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId before executor : &quot; + note.getId());\n        executor.execute(() -&gt; {\n            Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId in executor : &quot; + note.getId());\n            noteDao.insertNote(note);});\n        Log.i(&quot;NoteDataRepository:createNote&quot;, &quot;newNoteId after executor : &quot; + note.getId());\n        return note.getId();};\n\n    //...\n\n}\n\n</code></pre>\n<p>When I call the <code>createNote()</code> method from the NoteDataRepository class I get this Logcat :</p>\n<pre><code>2023-09-26 12:22:46.737 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId before executor : 0\n2023-09-26 12:22:46.738 10805-10805 NoteDataRe...createNote com.example.grimoire                 I  newNoteId after executor : 0\n2023-09-26 12:22:46.739 10805-10805 NoteViewMo...createNote com.example.grimoire                 I  newNoteId : 0\n2023-09-26 12:22:46.742 10805-10805 AndroidRuntime          com.example.grimoire                 D  Shutting down VM\n2023-09-26 12:22:46.745 10805-10805 AndroidRuntime          com.example.grimoire                 E  FATAL EXCEPTION: main\n</code></pre>\n<p>Here are <strong>NoteDaoClass</strong> :</p>\n<pre><code>package com.example.grimoire.data.dao;\n\nimport android.database.Cursor;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Dao;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.Update;\n\nimport com.example.grimoire.data.model.Note;\n\nimport java.util.List;\n\n@Dao\npublic interface NoteDao {\n    @Query(&quot;SELECT * FROM Note WHERE id = :id&quot;)\n    Note getNote(Long id);\n\n    @Query(&quot;SELECT * FROM Note ORDER BY id ASC&quot;)\n    List&lt;Note&gt; getAllNote();\n\n    @Query(&quot;SELECT * FROM Note WHERE Id = :Id&quot;)\n    Cursor getItemWithCursor(Long Id);\n\n    @Insert\n    void insertNote(Note note);\n\n\n    @Query(&quot;DELETE FROM Note WHERE Id = :Id&quot;)\n    int deleteItem(long Id);\n\n    @Update\n    void updateNote(Note note);\n}\n</code></pre>\n<p><strong>GrimoireDatabase Class</strong>:</p>\n<pre><code>package com.example.grimoire.data;\n\nimport static android.webkit.ConsoleMessage.MessageLevel.LOG;\n\nimport android.content.Context;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.lifecycle.LiveData;\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.sqlite.db.SupportSQLiteDatabase;\n\nimport com.example.grimoire.data.model.AttachedFile;\nimport com.example.grimoire.data.model.Category;\nimport com.example.grimoire.data.model.Note;\n\nimport com.example.grimoire.data.dao.*;\n\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Database(entities = {Note.class, Category.class, AttachedFile.class}, version = 1, exportSchema = false)\npublic abstract class GrimoireDatabase extends RoomDatabase {\n\n    // --- SINGLETON ---\n\n    private static volatile GrimoireDatabase INSTANCE;\n\n    // --- DAO ---\n\n    public abstract NoteDao noteDao();\n\n    public abstract CategoryDao categoryDao();\n\n    public abstract AttachedFileDao attachedFileDao();\n    private final Executor executor = Executors.newFixedThreadPool(4);\n\n\n    // --- INSTANCE ---\n\n    public static GrimoireDatabase getInstance(Context context) {\n\n        if (INSTANCE == null) {\n            synchronized (GrimoireDatabase.class) {\n                if (INSTANCE == null) {\n                    INSTANCE = Room.databaseBuilder(context,\n                                   GrimoireDatabase.class, &quot;MyDatabase.db&quot;)\n                            .addCallback(prepopulateDatabase())\n                            .build();\n\n                    Log.i(&quot;GrimoireDatabase&quot;,&quot;INstance builded&quot;);\n                }\n            }\n        }\n        return INSTANCE;\n\n    }\n\n    private static Callback prepopulateDatabase() {\n        Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase&quot;,&quot;before onCreate&quot;);\n        return new Callback() {\n\n            @Override\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                Log.i(&quot;GrimoireDatabase.Callback.prepopulateDatabase.OnCreate&quot;,&quot;onCreate PAssed&quot;);\n                super.onCreate(db);\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\n\n                    Category cat = new Category(0, &quot;Carnet Perso&quot;);\n                    INSTANCE.categoryDao().insertCategory(cat);\n\n                    Note note = new Note(cat.getIdCategory(), 0, &quot;Moi&quot;, &quot;Autun&quot;, &quot;Sujet alpha&quot;, &quot;sous-titre alpha&quot;, &quot;exemple de note a&quot;, &quot;10/9/2023&quot;, false, false);\n                    INSTANCE.noteDao().insertNote(note);\n                    note.setParameters(cat.getIdCategory(), 0, &quot;Toi&quot;, &quot;chambéry&quot;, &quot;Sujet béta&quot;, &quot;sous-titre béta&quot;, &quot;exemple de note b&quot;, &quot;05/10/2023&quot;, false, false);\n                    INSTANCE.noteDao().insertNote(note);\n                    Log.i(&quot;GrimoireDatabase.callback.prepolulate&quot;,&quot;note number : &quot;+INSTANCE.noteDao().getAllNote().size()+&quot;/n Category number : &quot;+INSTANCE.categoryDao().getAllCategory().size());\n                });\n            }\n\n            @Override\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\n                super.onOpen(db);\n            }\n\n        };\n    }\n}\n</code></pre>\n<p>I have also tried Executors.newSingleThreadExecutor() with the same result that nothing happens into this thread...</p>\n<p>I am looking for solutions but not sure they are best practices :</p>\n<p>How could I wait the background task from executor is done ? If I do what the purpose to have a asynchronous task if it is for waiting for it... Does someone can give me a good practice ?</p>\n"},{"tags":["java","set","iteration"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433512,"post_id":7069052,"comment_id":8457618,"body_markdown":"Sets generally don&#39;t have an internal order, so the &quot;index&quot; of an element doesn&#39;t really make sense - it might make sense for set implementations, but not in the general case.","body":"Sets generally don&#39;t have an internal order, so the &quot;index&quot; of an element doesn&#39;t really make sense - it might make sense for set implementations, but not in the general case."},{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":0,"creation_date":1313433598,"post_id":7069052,"comment_id":8457648,"body_markdown":"Is there a particular Set implementation that allows for this?","body":"Is there a particular Set implementation that allows for this?"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433732,"post_id":7069052,"comment_id":8457673,"body_markdown":"I don&#39;t know, but if the position is important, you should not really be using a set. You should be using some sort of list or array.","body":"I don&#39;t know, but if the position is important, you should not really be using a set. You should be using some sort of list or array."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":3,"creation_date":1313433763,"post_id":7069052,"comment_id":8457684,"body_markdown":"@Mat LinkedHashSet is ordered, it does more than his Set contract requires it to do, so the question is quite reasonable","body":"@Mat LinkedHashSet is ordered, it does more than his Set contract requires it to do, so the question is quite reasonable"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":1,"creation_date":1313433783,"post_id":7069052,"comment_id":8457688,"body_markdown":"Is there a reason you are stuck with a Set?  If you need to work with indices, clearly you should use a List.","body":"Is there a reason you are stuck with a Set?  If you need to work with indices, clearly you should use a List."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":0,"creation_date":1313433799,"post_id":7069052,"comment_id":8457696,"body_markdown":"@Mat no a list allows duplicates, a Set does not","body":"@Mat no a list allows duplicates, a Set does not"},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1313433865,"post_id":7069052,"comment_id":8457712,"body_markdown":"I doubt that there is a Set implementation that behaves like a List.  It would be very bad design since List is made for that.","body":"I doubt that there is a Set implementation that behaves like a List.  It would be very bad design since List is made for that."},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1313433878,"post_id":7069052,"comment_id":8457717,"body_markdown":"@Omnaest: whatever LinkedHashSet provides is irrelevant after the cast to Set&lt;&gt;, isn&#39;t it? I know Sets have unique guarantees.","body":"@Omnaest: whatever LinkedHashSet provides is irrelevant after the cast to Set&lt;&gt;, isn&#39;t it? I know Sets have unique guarantees."},{"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"score":0,"creation_date":1313434068,"post_id":7069052,"comment_id":8457790,"body_markdown":"@Mat I dont know, that depends on the context. We should not overinterprete a one line statement.","body":"@Mat I dont know, that depends on the context. We should not overinterprete a one line statement."},{"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"score":1,"creation_date":1424300998,"post_id":7069052,"comment_id":45498081,"body_markdown":"I find it quite weird that it is not possible. LinkedHashSet even explicitly states that the elements are stored in a linked list, why is there no method to get the index?","body":"I find it quite weird that it is not possible. LinkedHashSet even explicitly states that the elements are stored in a linked list, why is there no method to get the index?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":4,"up_vote_count":27,"is_accepted":true,"score":23,"last_activity_date":1313433747,"creation_date":1313433747,"answer_id":7069150,"question_id":7069052,"body_markdown":"The [`Set` interface][1] doesn&#39;t have something like as an `indexOf()` method. You&#39;d really need to iterate over it or to use the [`List` interface][2] instead which offers an [`indexOf()` method][3].\r\n\r\nIf you would like to, converting `Set` to `List` is pretty trivial, it should be a matter of passing the `Set` through the constructor of the `List` implementation. E.g.\r\n\r\n    List&lt;String&gt; nameList = new ArrayList&lt;String&gt;(nameSet);\r\n    // ...\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Set.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#indexOf%28java.lang.Object%29","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code> interface</a> doesn't have something like as an <code>indexOf()</code> method. You'd really need to iterate over it or to use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code> interface</a> instead which offers an <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#indexOf%28java.lang.Object%29\" rel=\"noreferrer\"><code>indexOf()</code> method</a>.</p>\n\n<p>If you would like to, converting <code>Set</code> to <code>List</code> is pretty trivial, it should be a matter of passing the <code>Set</code> through the constructor of the <code>List</code> implementation. E.g.</p>\n\n<pre><code>List&lt;String&gt; nameList = new ArrayList&lt;String&gt;(nameSet);\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313433778,"creation_date":1313433778,"answer_id":7069156,"question_id":7069052,"body_markdown":"I don&#39;t believe so, but you could create a `LinkedHashSetWithIndex` wrapper class that would do the iteration for you, or keep a separate table with the indexes of each entry, if the performance decrease is acceptable for your use case.","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>I don't believe so, but you could create a <code>LinkedHashSetWithIndex</code> wrapper class that would do the iteration for you, or keep a separate table with the indexes of each entry, if the performance decrease is acceptable for your use case.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1313433795,"creation_date":1313433795,"answer_id":7069162,"question_id":7069052,"body_markdown":"Although not as efficient for the machine, this achieves it in one line:\r\n\r\n    int index = new ArrayList&lt;String&gt;(names).indexOf(&quot;John&quot;);","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Although not as efficient for the machine, this achieves it in one line:</p>\n\n<pre><code>int index = new ArrayList&lt;String&gt;(names).indexOf(\"John\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1313433856,"creation_date":1313433856,"answer_id":7069178,"question_id":7069052,"body_markdown":"A better way there is not, only a single lined one (which makes use of the iterator, too but implicitly):\r\n\r\n    new ArrayList(names).get(0)","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>A better way there is not, only a single lined one (which makes use of the iterator, too but implicitly):</p>\n\n<pre><code>new ArrayList(names).get(0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414583,"reputation":1782,"user_id":788887,"display_name":"ReyCharles"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1313433923,"creation_date":1313433923,"answer_id":7069190,"question_id":7069052,"body_markdown":"It is generally not possible for a Set to return the index because it&#39;s not necessarily well defined for the particular Set implementation. For example it says in the HashSet documentation\r\n\r\n&gt; It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time.\r\n\r\nSo you shouldn&#39;t say the type is Set when what you actually expect is a Set implementing som order.","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>It is generally not possible for a Set to return the index because it's not necessarily well defined for the particular Set implementation. For example it says in the HashSet documentation</p>\n\n<blockquote>\n  <p>It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time.</p>\n</blockquote>\n\n<p>So you shouldn't say the type is Set when what you actually expect is a Set implementing som order.</p>\n"},{"tags":[],"owner":{"account_id":931121,"reputation":21651,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1438361150,"creation_date":1438356778,"answer_id":31749969,"question_id":7069052,"body_markdown":"Here is an implementation that does insertions, removals, retainings, backed by an arraylist to achieve o(1) on get(index). \r\n    \r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\r\n                    super(initialCapacity, loadFactor);\r\n            }\r\n            public $IndexLinkedHashSet() {\r\n                    super();\r\n            }\r\n            public $IndexLinkedHashSet(int initialCapacity) {\r\n                    super(initialCapacity);\r\n            }\r\n            public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\r\n                    super(c);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean add(E e) {\r\n                    if ( super.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean remove(Object o) {\r\n                    if ( super.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void clear() {\r\n                    super.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( super.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( super.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            /**\r\n             * Copied from super class\r\n             */\r\n            @Override\r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n    }\r\n\r\nTo test it: \r\n\r\n    public static void main(String[] args) {\r\n            \r\n            $IndexLinkedHashSet&lt;String&gt; abc = new $IndexLinkedHashSet&lt;String&gt;();\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            abc.add(&quot;2&quot;);\r\n            abc.add(&quot;3&quot;);\r\n            abc.add(&quot;4&quot;);\r\n            abc.add(&quot;1&quot;);\r\n            abc.add(&quot;5&quot;);\r\n            abc.add(&quot;8&quot;);\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            int i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n            abc.remove(&quot;8&quot;);\r\n            abc.remove(&quot;5&quot;);\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n            abc.clear();\r\n            \r\n            System.out.println(&quot;Size: &quot; + abc.size());\r\n            i = 0;\r\n            while ( i &lt; abc.size()) {\r\n                    System.out.println( abc.get(i) );\r\n                    i++;\r\n            }\r\n            \r\n    }\r\n\r\nWhich outputs: \r\n\r\n    Size: 6\r\n    8\r\n    2\r\n    3\r\n    4\r\n    1\r\n    5\r\n    Size: 4\r\n    2\r\n    3\r\n    4\r\n    1\r\n    Size: 0\r\n\r\nOfcourse remove, removeAll, retainAll now has the same or worse performance as ArrayList. But I do not use them and so I am ok with that.\r\n\r\nEnjoy!\r\n\r\n\r\n\r\n**EDIT:**\r\n\r\nHere is **another implementation**, which does not extend LinkedHashSet because that&#39;s redundant. Instead it uses a HashSet and an ArrayList. \r\n\r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\r\n            private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\r\n    \r\n            public synchronized boolean add(E e) {\r\n                    if ( set.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean remove(Object o) {\r\n                    if ( set.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean containsAll(Collection&lt;?&gt; c) {\r\n                    return set.containsAll(c);\r\n            }\r\n    \r\n            public synchronized void clear() {\r\n                    set.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n    \r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( set.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( set.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized int size() {\r\n                    return set.size();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean isEmpty() {\r\n                    return set.isEmpty();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean contains(Object o) {\r\n                    return set.contains(o);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Iterator&lt;E&gt; iterator() {\r\n                    return list.iterator();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Object[] toArray() {\r\n                    return list.toArray();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized &lt;T&gt; T[] toArray(T[] a) {\r\n                    return list.toArray(a);\r\n            }\r\n    }\r\n\r\nNow you have two implementations, I would prefer the second one. ","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Here is an implementation that does insertions, removals, retainings, backed by an arraylist to achieve o(1) on get(index). </p>\n\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\n\n        public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\n                super(initialCapacity, loadFactor);\n        }\n        public $IndexLinkedHashSet() {\n                super();\n        }\n        public $IndexLinkedHashSet(int initialCapacity) {\n                super(initialCapacity);\n        }\n        public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\n                super(c);\n        }\n\n        @Override\n        public synchronized boolean add(E e) {\n                if ( super.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized boolean remove(Object o) {\n                if ( super.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized void clear() {\n                super.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n\n        @Override\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( super.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        @Override\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( super.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        /**\n         * Copied from super class\n         */\n        @Override\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n}\n</code></pre>\n\n<p>To test it: </p>\n\n<pre><code>public static void main(String[] args) {\n\n        $IndexLinkedHashSet&lt;String&gt; abc = new $IndexLinkedHashSet&lt;String&gt;();\n        abc.add(\"8\");\n        abc.add(\"8\");\n        abc.add(\"8\");\n        abc.add(\"2\");\n        abc.add(\"3\");\n        abc.add(\"4\");\n        abc.add(\"1\");\n        abc.add(\"5\");\n        abc.add(\"8\");\n\n        System.out.println(\"Size: \" + abc.size());\n        int i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n        abc.remove(\"8\");\n        abc.remove(\"5\");\n\n        System.out.println(\"Size: \" + abc.size());\n        i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n        abc.clear();\n\n        System.out.println(\"Size: \" + abc.size());\n        i = 0;\n        while ( i &lt; abc.size()) {\n                System.out.println( abc.get(i) );\n                i++;\n        }\n\n}\n</code></pre>\n\n<p>Which outputs: </p>\n\n<pre><code>Size: 6\n8\n2\n3\n4\n1\n5\nSize: 4\n2\n3\n4\n1\nSize: 0\n</code></pre>\n\n<p>Ofcourse remove, removeAll, retainAll now has the same or worse performance as ArrayList. But I do not use them and so I am ok with that.</p>\n\n<p>Enjoy!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is <strong>another implementation</strong>, which does not extend LinkedHashSet because that's redundant. Instead it uses a HashSet and an ArrayList. </p>\n\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\n        private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\n\n        public synchronized boolean add(E e) {\n                if ( set.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        public synchronized boolean remove(Object o) {\n                if ( set.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public boolean containsAll(Collection&lt;?&gt; c) {\n                return set.containsAll(c);\n        }\n\n        public synchronized void clear() {\n                set.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( set.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( set.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n        @Override\n        public synchronized int size() {\n                return set.size();\n        }\n\n        @Override\n        public synchronized boolean isEmpty() {\n                return set.isEmpty();\n        }\n\n        @Override\n        public synchronized boolean contains(Object o) {\n                return set.contains(o);\n        }\n\n        @Override\n        public synchronized Iterator&lt;E&gt; iterator() {\n                return list.iterator();\n        }\n\n        @Override\n        public synchronized Object[] toArray() {\n                return list.toArray();\n        }\n\n        @Override\n        public synchronized &lt;T&gt; T[] toArray(T[] a) {\n                return list.toArray(a);\n        }\n}\n</code></pre>\n\n<p>Now you have two implementations, I would prefer the second one. </p>\n"},{"tags":[],"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617108810,"creation_date":1574181328,"answer_id":58938873,"question_id":7069052,"body_markdown":"You can convert your Set to List then you can do any indexing operations.\r\n\r\nExample: need to crop Set list to 5 items.\r\n\r\n\r\n            Set&lt;String&gt; listAsLinkedHashSet = new LinkedHashSet&lt;&gt;();\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;2&quot;);\r\n            listAsLinkedHashSet.add(&quot;3&quot;);\r\n            listAsLinkedHashSet.add(&quot;4&quot;);\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;2&quot;);\r\n            listAsLinkedHashSet.add(&quot;5&quot;);\r\n            listAsLinkedHashSet.add(&quot;7&quot;);\r\n            listAsLinkedHashSet.add(&quot;9&quot;);\r\n            listAsLinkedHashSet.add(&quot;8&quot;);\r\n            listAsLinkedHashSet.add(&quot;1&quot;);\r\n            listAsLinkedHashSet.add(&quot;10&quot;);\r\n            listAsLinkedHashSet.add(&quot;11&quot;);\r\n    \r\n            List&lt;String&gt; listAsArrayList = new ArrayList&lt;&gt;(listAsLinkedHashSet);\r\n            //crop list to 5 elements\r\n            if (listAsArrayList.size() &gt; 5) {\r\n                for (int i = 5; i &lt; listAsArrayList.size(); i++) {\r\n                    listAsArrayList.remove(i);\r\n                    i--;\r\n                }\r\n            }\r\n            listAsLinkedHashSet.clear();\r\n            listAsLinkedHashSet.addAll(listAsArrayList);","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>You can convert your Set to List then you can do any indexing operations.</p>\n<p>Example: need to crop Set list to 5 items.</p>\n<pre><code>        Set&lt;String&gt; listAsLinkedHashSet = new LinkedHashSet&lt;&gt;();\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;2&quot;);\n        listAsLinkedHashSet.add(&quot;3&quot;);\n        listAsLinkedHashSet.add(&quot;4&quot;);\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;2&quot;);\n        listAsLinkedHashSet.add(&quot;5&quot;);\n        listAsLinkedHashSet.add(&quot;7&quot;);\n        listAsLinkedHashSet.add(&quot;9&quot;);\n        listAsLinkedHashSet.add(&quot;8&quot;);\n        listAsLinkedHashSet.add(&quot;1&quot;);\n        listAsLinkedHashSet.add(&quot;10&quot;);\n        listAsLinkedHashSet.add(&quot;11&quot;);\n\n        List&lt;String&gt; listAsArrayList = new ArrayList&lt;&gt;(listAsLinkedHashSet);\n        //crop list to 5 elements\n        if (listAsArrayList.size() &gt; 5) {\n            for (int i = 5; i &lt; listAsArrayList.size(); i++) {\n                listAsArrayList.remove(i);\n                i--;\n            }\n        }\n        listAsLinkedHashSet.clear();\n        listAsLinkedHashSet.addAll(listAsArrayList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29112889,"reputation":99,"user_id":22302305,"display_name":"M. R. M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695725174,"creation_date":1695724825,"answer_id":77179230,"question_id":7069052,"body_markdown":"I modified the [mjs&#39;s solution][1] to accommodate `indexOf()`\r\n\r\n**Implementation 1:**\r\n\r\n    /**\r\n     * @Author Mo. Joseph\r\n     *\r\n     * Allows you to call get with o(1) instead of o(n) to get an instance by index\r\n     */\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\r\n                    super(initialCapacity, loadFactor);\r\n            }\r\n            public $IndexLinkedHashSet() {\r\n                    super();\r\n            }\r\n            public $IndexLinkedHashSet(int initialCapacity) {\r\n                    super(initialCapacity);\r\n            }\r\n            public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\r\n                    super(c);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean add(E e) {\r\n                    if ( super.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean remove(Object o) {\r\n                    if ( super.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized void clear() {\r\n                    super.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n            \r\n            \r\n            // Added this function\r\n            public synchronized int indexOf(E element) {\r\n                    return list.indexOf(element);\r\n            }\r\n            //\r\n    \r\n    \r\n            @Override\r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( super.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( super.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            /**\r\n             * Copied from super class\r\n             */\r\n            @Override\r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n    }\r\n\r\n**Implementation 2:**\r\n\r\n    public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\r\n            private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\r\n            private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\r\n    \r\n            public synchronized boolean add(E e) {\r\n                    if ( set.add(e) ) {\r\n                            return list.add(e);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean remove(Object o) {\r\n                    if ( set.remove(o) ) {\r\n                            return list.remove(o);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean containsAll(Collection&lt;?&gt; c) {\r\n                    return set.containsAll(c);\r\n            }\r\n    \r\n            public synchronized void clear() {\r\n                    set.clear();\r\n                    list.clear();\r\n            }\r\n    \r\n            public synchronized E get(int index) {\r\n                    return list.get(index);\r\n            }\r\n            \r\n            \r\n            // Added this function\r\n            public synchronized int indexOf(E element) {\r\n                    return list.indexOf(element);\r\n            }\r\n            //\r\n            \r\n            public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n                    if ( set.removeAll(c) ) {\r\n                            return list.removeAll(c);\r\n                    }\r\n                    return true;\r\n            }\r\n    \r\n            public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n                    if ( set.retainAll(c) ) {\r\n                            return list.retainAll(c);\r\n                    }\r\n                    return false;\r\n            }\r\n    \r\n            public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\r\n                    boolean modified = false;\r\n                    for (E e : c)\r\n                            if (add(e))\r\n                                    modified = true;\r\n                    return modified;\r\n            }\r\n    \r\n            @Override\r\n            public synchronized int size() {\r\n                    return set.size();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean isEmpty() {\r\n                    return set.isEmpty();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized boolean contains(Object o) {\r\n                    return set.contains(o);\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Iterator&lt;E&gt; iterator() {\r\n                    return list.iterator();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized Object[] toArray() {\r\n                    return list.toArray();\r\n            }\r\n    \r\n            @Override\r\n            public synchronized &lt;T&gt; T[] toArray(T[] a) {\r\n                    return list.toArray(a);\r\n            }\r\n    }\r\n\r\n\r\nExample:\r\n\r\n      public static void main (String[]args)\r\n      {\r\n        $IndexLinkedHashSet&lt;String&gt; names = new $IndexLinkedHashSet&lt;String&gt;();\r\n        names.add(&quot;Mike&quot;);\r\n        names.add(&quot;John&quot;);\r\n        names.add(&quot;Karen&quot;);\r\n        \r\n        System.out.println(&quot;what&#39;s the index of John? &quot;+names.indexOf(&quot;John&quot;)); // 1\r\n        System.out.println(&quot;Who comes after John? &quot;+names.get(names.indexOf(&quot;John&quot;)+1)); // Karen\r\n      }\r\n\r\n  [1]: https://stackoverflow.com/a/31749969/22302305","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>I modified the <a href=\"https://stackoverflow.com/a/31749969/22302305\">mjs's solution</a> to accommodate <code>indexOf()</code></p>\n<p><strong>Implementation 1:</strong></p>\n<pre><code>/**\n * @Author Mo. Joseph\n *\n * Allows you to call get with o(1) instead of o(n) to get an instance by index\n */\npublic static final class $IndexLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;();\n\n        public $IndexLinkedHashSet(int initialCapacity, float loadFactor) {\n                super(initialCapacity, loadFactor);\n        }\n        public $IndexLinkedHashSet() {\n                super();\n        }\n        public $IndexLinkedHashSet(int initialCapacity) {\n                super(initialCapacity);\n        }\n        public $IndexLinkedHashSet(Collection&lt;? extends E&gt; c) {\n                super(c);\n        }\n\n        @Override\n        public synchronized boolean add(E e) {\n                if ( super.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized boolean remove(Object o) {\n                if ( super.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public synchronized void clear() {\n                super.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n        \n        \n        // Added this function\n        public synchronized int indexOf(E element) {\n                return list.indexOf(element);\n        }\n        //\n\n\n        @Override\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( super.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        @Override\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( super.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        /**\n         * Copied from super class\n         */\n        @Override\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n}\n</code></pre>\n<p><strong>Implementation 2:</strong></p>\n<pre><code>public static final class $IndexLinkedHashSet&lt;E&gt; implements Set&lt;E&gt; {\n        private final ArrayList&lt;E&gt; list = new ArrayList&lt;&gt;( );\n        private final HashSet&lt;E&gt;   set  = new HashSet&lt;&gt;  ( );\n\n        public synchronized boolean add(E e) {\n                if ( set.add(e) ) {\n                        return list.add(e);\n                }\n                return false;\n        }\n\n        public synchronized boolean remove(Object o) {\n                if ( set.remove(o) ) {\n                        return list.remove(o);\n                }\n                return false;\n        }\n\n        @Override\n        public boolean containsAll(Collection&lt;?&gt; c) {\n                return set.containsAll(c);\n        }\n\n        public synchronized void clear() {\n                set.clear();\n                list.clear();\n        }\n\n        public synchronized E get(int index) {\n                return list.get(index);\n        }\n        \n        \n        // Added this function\n        public synchronized int indexOf(E element) {\n                return list.indexOf(element);\n        }\n        //\n        \n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n                if ( set.removeAll(c) ) {\n                        return list.removeAll(c);\n                }\n                return true;\n        }\n\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n                if ( set.retainAll(c) ) {\n                        return list.retainAll(c);\n                }\n                return false;\n        }\n\n        public synchronized boolean addAll(Collection&lt;? extends E&gt; c) {\n                boolean modified = false;\n                for (E e : c)\n                        if (add(e))\n                                modified = true;\n                return modified;\n        }\n\n        @Override\n        public synchronized int size() {\n                return set.size();\n        }\n\n        @Override\n        public synchronized boolean isEmpty() {\n                return set.isEmpty();\n        }\n\n        @Override\n        public synchronized boolean contains(Object o) {\n                return set.contains(o);\n        }\n\n        @Override\n        public synchronized Iterator&lt;E&gt; iterator() {\n                return list.iterator();\n        }\n\n        @Override\n        public synchronized Object[] toArray() {\n                return list.toArray();\n        }\n\n        @Override\n        public synchronized &lt;T&gt; T[] toArray(T[] a) {\n                return list.toArray(a);\n        }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>  public static void main (String[]args)\n  {\n    $IndexLinkedHashSet&lt;String&gt; names = new $IndexLinkedHashSet&lt;String&gt;();\n    names.add(&quot;Mike&quot;);\n    names.add(&quot;John&quot;);\n    names.add(&quot;Karen&quot;);\n    \n    System.out.println(&quot;what's the index of John? &quot;+names.indexOf(&quot;John&quot;)); // 1\n    System.out.println(&quot;Who comes after John? &quot;+names.get(names.indexOf(&quot;John&quot;)+1)); // Karen\n  }\n</code></pre>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53854,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":7069150,"answer_count":8,"score":30,"last_activity_date":1695725174,"creation_date":1313433279,"question_id":7069052,"body_markdown":"Is it even possible?\r\n\r\nSay you have \r\n\r\n    private Set&lt;String&gt; names = new LinkedHashSet&lt;String&gt;();\r\n\r\nand `Strings` are &quot;Mike&quot;, &quot;John&quot;, &quot;Karen&quot;.\r\n\r\nIs it possible to get &quot;1&quot; in return to &quot;what&#39;s the index of &quot;John&quot; without iteration?\r\n\r\nThe following works fine .. with this question i wonder if there is a better way\r\n\r\n\r\n\tfor (String s : names) {\r\n\t    ++i;\r\n\t    if (s.equals(someRandomInputString)) {\r\n\t\t    break;\r\n\t    }\r\n\t}\r\n","title":"How to obtain index of a given LinkedHashSet element without iteration?","body":"<p>Is it even possible?</p>\n\n<p>Say you have </p>\n\n<pre><code>private Set&lt;String&gt; names = new LinkedHashSet&lt;String&gt;();\n</code></pre>\n\n<p>and <code>Strings</code> are \"Mike\", \"John\", \"Karen\".</p>\n\n<p>Is it possible to get \"1\" in return to \"what's the index of \"John\" without iteration?</p>\n\n<p>The following works fine .. with this question i wonder if there is a better way</p>\n\n<pre><code>for (String s : names) {\n    ++i;\n    if (s.equals(someRandomInputString)) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695725511,"post_id":77179243,"comment_id":136059944,"body_markdown":"Looks like your Spring version isn&#39;t compatible with Hibernate 6.3.1. Tried the same version of Hibernate with Spring Boot 3.1.3/Spring Framework 6.0.11 last week and ended up switching back to Hibernate 6.2.8.","body":"Looks like your Spring version isn&#39;t compatible with Hibernate 6.3.1. Tried the same version of Hibernate with Spring Boot 3.1.3/Spring Framework 6.0.11 last week and ended up switching back to Hibernate 6.2.8."},{"owner":{"account_id":16236497,"reputation":199,"user_id":11723872,"display_name":"orid"},"score":0,"creation_date":1701935179,"post_id":77179243,"comment_id":136837017,"body_markdown":"@Karsten - how did you switch back to hibernate 6.2.8 ?","body":"@Karsten - how did you switch back to hibernate 6.2.8 ?"},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1702115064,"post_id":77179243,"comment_id":136859529,"body_markdown":"I&#39;m using Maven. In Eclipse I checked which Hibernate dependencies are drawn by Spring (with spring-boot:3.1.3: hibernate-core:6.2.7 and hibernate-commons-annotations:6.0.6). Because there wasn&#39;t a newer version for the annotations lib I only added hibernate-core:6.2.8 to my pom.","body":"I&#39;m using Maven. In Eclipse I checked which Hibernate dependencies are drawn by Spring (with spring-boot:3.1.3: hibernate-core:6.2.7 and hibernate-commons-annotations:6.0.6). Because there wasn&#39;t a newer version for the annotations lib I only added hibernate-core:6.2.8 to my pom."}],"owner":{"account_id":22843508,"reputation":11,"user_id":16990142,"display_name":"devendra patidar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695724955,"creation_date":1695724955,"question_id":77179243,"body_markdown":"\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\r\nat java.base/java.lang.Class.getConstructor0(Class.java:3578)\r\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\r\nat org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:350)\r\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:34)\r\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:53)\r\n- at org.springframework.orm.hibernate5.SpringBeanContainer.createBean(SpringBeanContainer.java:208)\r\nat org.springframework.orm.hibernate5.SpringBeanContainer.getBean(SpringBeanContainer.java:124)\r\nat org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.getBean(ManagedBeanRegistryImpl.java:110)\r\nat org.hibernate.mapping.BasicValue.setExplicitCustomType(BasicValue.java:825)\r\nat org.hibernate.cfg.annotations.BasicValueBinder.fillSimpleValue(BasicValueBinder.java:1238)\r\nat org.hibernate.cfg.SetBasicValueTypeSecondPass.doSecondPass(SetBasicValueTypeSecondPass.java:26)\r\n```\r\nNote: I am using Hibernate Core 6.3.1 Final.\r\nAnd hypersistence-utils-hibernate-62:3.5.3\r\nDependency\r\nI am seeking assistance to resolve this issue. Any help or guidance would be greatly appreciated.\r\n- Thank you!\r\n","title":"Hibernate 6.3.1 Final getting NoClassDefFoundError for org/hibernate/type/descriptor/converter/spi/EnumValueConverter","body":"<pre><code>Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\nat java.base/java.lang.Class.getConstructor0(Class.java:3578)\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\nat org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:350)\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:34)\nat org.hibernate.boot.model.TypeBeanInstanceProducer.produceBeanInstance(TypeBeanInstanceProducer.java:53)\n- at org.springframework.orm.hibernate5.SpringBeanContainer.createBean(SpringBeanContainer.java:208)\nat org.springframework.orm.hibernate5.SpringBeanContainer.getBean(SpringBeanContainer.java:124)\nat org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.getBean(ManagedBeanRegistryImpl.java:110)\nat org.hibernate.mapping.BasicValue.setExplicitCustomType(BasicValue.java:825)\nat org.hibernate.cfg.annotations.BasicValueBinder.fillSimpleValue(BasicValueBinder.java:1238)\nat org.hibernate.cfg.SetBasicValueTypeSecondPass.doSecondPass(SetBasicValueTypeSecondPass.java:26)\n</code></pre>\n<p>Note: I am using Hibernate Core 6.3.1 Final.\nAnd hypersistence-utils-hibernate-62:3.5.3\nDependency\nI am seeking assistance to resolve this issue. Any help or guidance would be greatly appreciated.</p>\n<ul>\n<li>Thank you!</li>\n</ul>\n"},{"tags":["java","spring","http-status-code-404"],"answers":[{"tags":[],"owner":{"account_id":26453216,"reputation":51,"user_id":20096126,"display_name":"明天见i"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695720678,"creation_date":1695720678,"answer_id":77178730,"question_id":77178533,"body_markdown":"Try adding a &#39;/&#39; at the end of the request url","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>Try adding a '/' at the end of the request url</p>\n"},{"tags":[],"owner":{"account_id":23576127,"reputation":1,"user_id":17615764,"display_name":"wangjinguang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695724809,"creation_date":1695724809,"answer_id":77179228,"question_id":77178533,"body_markdown":"Try listing all registered request mappings in the log at application startup.","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>Try listing all registered request mappings in the log at application startup.</p>\n"}],"owner":{"account_id":29536809,"reputation":1,"user_id":22636275,"display_name":"aleshkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695724809,"creation_date":1695719042,"question_id":77178533,"body_markdown":"i&#39;ve have started lerning spring and have created simple spring mvc app.\r\nthis is my config and controller:\r\n\r\nSpringCongig:\r\n\r\n``` lang-java\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;exhibition&quot;)\r\npublic class SpringConfig implements WebMvcConfigurer {\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n}\r\n```\r\n\r\nSpringServletInitializer:\r\n\r\n``` lang-java\r\npublic class SpringServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] {&quot;/&quot;};\r\n    }\r\n}\r\n```\r\n\r\nController:\r\n\r\n```lang-java\r\n@Controller\r\n@RequestMapping(&quot;/halls&quot;)\r\npublic class HallController {\r\n    @GetMapping()\r\n    public String index(){\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nindex.html:\r\n\r\n```lang-html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;halls&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;\r\n    Hello world!\r\n&lt;/h2&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nBut when i folow &quot;/halls&quot;, i always get 404 error. But earlier when i use the same configs all was good. idk what happend. Server setting was the same and ide too. I&#39;m using tomcat 9.0.65.","title":"Why 404 error is returning, while getting right url, in spring MVC?","body":"<p>i've have started lerning spring and have created simple spring mvc app.\nthis is my config and controller:</p>\n<p>SpringCongig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;exhibition&quot;)\npublic class SpringConfig implements WebMvcConfigurer {\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n}\n</code></pre>\n<p>SpringServletInitializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpringServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/halls&quot;)\npublic class HallController {\n    @GetMapping()\n    public String index(){\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>index.html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;halls&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;\n    Hello world!\n&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But when i folow &quot;/halls&quot;, i always get 404 error. But earlier when i use the same configs all was good. idk what happend. Server setting was the same and ide too. I'm using tomcat 9.0.65.</p>\n"},{"tags":["java","apache-poi","openxml","openxml-sdk"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1604868874,"post_id":64710327,"comment_id":114471715,"body_markdown":"https://poi.apache.org/components/slideshow/xslf-cookbook.html highlights the PPTX2PNG sample","body":"<a href=\"https://poi.apache.org/components/slideshow/xslf-cookbook.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/slideshow/xslf-cookbook.html</a> highlights the PPTX2PNG sample"},{"owner":{"account_id":3769282,"reputation":998,"user_id":3131918,"display_name":"Aditya Bhave"},"score":0,"creation_date":1604905687,"post_id":64710327,"comment_id":114478788,"body_markdown":"@PJFanning I have already tried PPTX2PNG. It converts slide to png but not with animations. It gives a static image of the slide. I want the animations. So, if the image could be provided after each animation frame, that will work for me. But that is not possible with PPTX2PNG.","body":"@PJFanning I have already tried PPTX2PNG. It converts slide to png but not with animations. It gives a static image of the slide. I want the animations. So, if the image could be provided after each animation frame, that will work for me. But that is not possible with PPTX2PNG."}],"answers":[{"tags":[],"owner":{"account_id":22639114,"reputation":54,"user_id":16815548,"display_name":"Andrey P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695724491,"creation_date":1695724491,"answer_id":77179190,"question_id":64710327,"body_markdown":"To convert a PowerPoint presentation to a video with shape animations and slide transitions, you can use [Aspose.Slides for Java](https://products.aspose.com/slides/java/). This library allows generate a set of frames for an entire animation with a specific frame per second (FPS). Those frames can then be used to create a video through tools like FFmpeg.\r\n```java\r\nfinal int FPS = 30;\r\nPresentation presentation = new Presentation(&quot;animated.pptx&quot;);\r\ntry {\r\n    PresentationAnimationsGenerator animationsGenerator = new PresentationAnimationsGenerator(presentation);\r\n    try {\r\n        PresentationPlayer player = new PresentationPlayer(animationsGenerator, FPS);\r\n        try {\r\n            player.setFrameTick((sender, args) -&gt;\r\n            {\r\n                try {\r\n                    ImageIO.write(args.getFrame(), &quot;PNG&quot;, new File(&quot;frame_&quot; + sender.getFrameIndex() + &quot;.png&quot;));\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            animationsGenerator.run(presentation.getSlides());\r\n        } finally {\r\n            if (player != null) player.dispose();\r\n        }\r\n    } finally {\r\n        if (animationsGenerator != null) animationsGenerator.dispose();\r\n    }\r\n} finally {\r\n    if (presentation != null) presentation.dispose();\r\n}\r\n```\r\nYou can find out more details [here](https://docs.aspose.com/slides/java/convert-powerpoint-to-video/).","title":"How to export powerpoint (pptx) to video with animations programmatically using Java","body":"<p>To convert a PowerPoint presentation to a video with shape animations and slide transitions, you can use <a href=\"https://products.aspose.com/slides/java/\" rel=\"nofollow noreferrer\">Aspose.Slides for Java</a>. This library allows generate a set of frames for an entire animation with a specific frame per second (FPS). Those frames can then be used to create a video through tools like FFmpeg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int FPS = 30;\nPresentation presentation = new Presentation(&quot;animated.pptx&quot;);\ntry {\n    PresentationAnimationsGenerator animationsGenerator = new PresentationAnimationsGenerator(presentation);\n    try {\n        PresentationPlayer player = new PresentationPlayer(animationsGenerator, FPS);\n        try {\n            player.setFrameTick((sender, args) -&gt;\n            {\n                try {\n                    ImageIO.write(args.getFrame(), &quot;PNG&quot;, new File(&quot;frame_&quot; + sender.getFrameIndex() + &quot;.png&quot;));\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            animationsGenerator.run(presentation.getSlides());\n        } finally {\n            if (player != null) player.dispose();\n        }\n    } finally {\n        if (animationsGenerator != null) animationsGenerator.dispose();\n    }\n} finally {\n    if (presentation != null) presentation.dispose();\n}\n</code></pre>\n<p>You can find out more details <a href=\"https://docs.aspose.com/slides/java/convert-powerpoint-to-video/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3769282,"reputation":998,"user_id":3131918,"display_name":"Aditya Bhave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695724491,"creation_date":1604647126,"question_id":64710327,"body_markdown":"I am trying to export powerpoint presentation to video programmatically. I have tried following.\r\n\r\n 1. Open pptx file using `org.apache.poixslf.usermodel.SlideShow`\r\n 2. Update the slides as per requirement\r\n 3. Create image for each slide (using `slide.draw()`)\r\n 4. Create a video by appending slide images one after the other\r\n\r\nThe code is generating a video. The video is collection of static images of slides. The problem is the animations contained in a slide is not present in the video. \r\n\r\nIs there any way to get the animations exported in the video using apache.poi or any other option ?","title":"How to export powerpoint (pptx) to video with animations programmatically using Java","body":"<p>I am trying to export powerpoint presentation to video programmatically. I have tried following.</p>\n<ol>\n<li>Open pptx file using <code>org.apache.poixslf.usermodel.SlideShow</code></li>\n<li>Update the slides as per requirement</li>\n<li>Create image for each slide (using <code>slide.draw()</code>)</li>\n<li>Create a video by appending slide images one after the other</li>\n</ol>\n<p>The code is generating a video. The video is collection of static images of slides. The problem is the animations contained in a slide is not present in the video.</p>\n<p>Is there any way to get the animations exported in the video using apache.poi or any other option ?</p>\n"},{"tags":["java","linux","java-home","path-variables"],"answers":[{"tags":[],"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1500445972,"creation_date":1404853635,"answer_id":24641633,"question_id":24641536,"body_markdown":"You could use /etc/profile or better a file like /etc/profile.d/jdk_home.sh\r\n\r\n    export JAVA_HOME=/usr/java/jdk1.7.0_05/\r\n\r\nYou have to remember that this file is only loaded with new login shells.. So after bash -l or a new gnome-session and that it doesn&#39;t change with new Java versions.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>You could use /etc/profile or better a file like /etc/profile.d/jdk_home.sh</p>\n\n<pre><code>export JAVA_HOME=/usr/java/jdk1.7.0_05/\n</code></pre>\n\n<p>You have to remember that this file is only loaded with new login shells.. So after bash -l or a new gnome-session and that it doesn't change with new Java versions.</p>\n"},{"tags":[],"owner":{"account_id":2271694,"reputation":5582,"user_id":3798545,"display_name":"That Dave Guy"},"down_vote_count":6,"up_vote_count":540,"is_accepted":true,"score":534,"last_activity_date":1527104489,"creation_date":1404853677,"answer_id":24641640,"question_id":24641536,"body_markdown":"1. `find /usr/lib/jvm/java-1.x.x-openjdk`\r\n2. `vim /etc/profile`\r\n\r\n    Prepend sudo if logged in as not-privileged user, ie. `sudo vim`\r\n3. Press &#39;i&#39; to get in insert mode\r\n4. add:\r\n\r\n    \r\n        export JAVA_HOME=&quot;path that you found&quot;\r\n    \r\n        export PATH=$JAVA_HOME/bin:$PATH\r\n5. logout and login again, reboot, or use `source /etc/profile` to apply changes immediately in your current shell","title":"How to set JAVA_HOME in Linux for all users","body":"<ol>\n<li><code>find /usr/lib/jvm/java-1.x.x-openjdk</code></li>\n<li><p><code>vim /etc/profile</code></p>\n\n<p>Prepend sudo if logged in as not-privileged user, ie. <code>sudo vim</code></p></li>\n<li>Press 'i' to get in insert mode</li>\n<li><p>add:</p>\n\n<pre><code>export JAVA_HOME=\"path that you found\"\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre></li>\n<li>logout and login again, reboot, or use <code>source /etc/profile</code> to apply changes immediately in your current shell</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5262084,"reputation":91,"user_id":4203334,"display_name":"Steve S"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1414773998,"creation_date":1414773998,"answer_id":26679588,"question_id":24641536,"body_markdown":"Doing what Oracle does (as a former Sun Employee I can&#39;t get used to that one)\r\n\r\nln -s latestJavaRelease /usr/java/default  \r\nWhere latestJavaRelease is the version that you want to use\r\n\r\nthen export JAVA_HOME=/usr/java/default","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Doing what Oracle does (as a former Sun Employee I can't get used to that one)</p>\n\n<p>ln -s latestJavaRelease /usr/java/default<br>\nWhere latestJavaRelease is the version that you want to use</p>\n\n<p>then export JAVA_HOME=/usr/java/default</p>\n"},{"tags":[],"owner":{"account_id":1133874,"reputation":4257,"user_id":1119345,"accept_rate":75,"display_name":"Eero Aaltonen"},"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1617020285,"creation_date":1428999996,"answer_id":29622512,"question_id":24641536,"body_markdown":"For all users, I would recommend creating a file in `/etc/profile.d/java_home.sh` the following lines\r\n\r\n    # Set JDK installation directory according to selected Java compiler\r\n    \r\n    export JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\r\n\r\nThis will update dynamically and works well with the *alternatives* system. Do note though that the update will only take place in a new login shell.","title":"How to set JAVA_HOME in Linux for all users","body":"<p>For all users, I would recommend creating a file in <code>/etc/profile.d/java_home.sh</code> the following lines</p>\n<pre><code># Set JDK installation directory according to selected Java compiler\n\nexport JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\n</code></pre>\n<p>This will update dynamically and works well with the <em>alternatives</em> system. Do note though that the update will only take place in a new login shell.</p>\n"},{"tags":[],"owner":{"account_id":3186155,"reputation":359,"user_id":2691717,"display_name":"Bryant Bernstein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433810115,"creation_date":1433810115,"answer_id":30721240,"question_id":24641536,"body_markdown":"Probably a good idea to source whatever profile you edit to save having to use a fresh login.\r\n\r\neither:\r\nsource /etc/&lt;profile&gt;\r\nor\r\n. /etc/&lt;profile&gt;\r\n\r\nWhere &lt;profile&gt; is whatever profile you edited.","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Probably a good idea to source whatever profile you edit to save having to use a fresh login.</p>\n\n<p>either:\nsource /etc/\nor\n. /etc/</p>\n\n<p>Where  is whatever profile you edited.</p>\n"},{"tags":[],"owner":{"account_id":367920,"reputation":1384,"user_id":714413,"display_name":"darkhipo"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1436923270,"creation_date":1436923270,"answer_id":31419950,"question_id":24641536,"body_markdown":"I use the line:\r\n\r\n    export JAVA_HOME=$(readlink -f $(dirname $(readlink -f $(which java) ))/../)\r\n\r\nto my ~/.profile so it uses the base of the default java directory at login time. This is for bash.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>I use the line:</p>\n\n<pre><code>export JAVA_HOME=$(readlink -f $(dirname $(readlink -f $(which java) ))/../)\n</code></pre>\n\n<p>to my ~/.profile so it uses the base of the default java directory at login time. This is for bash.</p>\n"},{"tags":[],"owner":{"account_id":3371376,"reputation":325,"user_id":2830505,"accept_rate":75,"display_name":"VirangaMahesh"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1565781045,"creation_date":1438602125,"answer_id":31786316,"question_id":24641536,"body_markdown":"Copy the bin file path you installed\r\n\r\n    YOUR PATH\r\n\r\nopen terminal and edit environment file by typing following command,\r\n\r\n    sudo nano /etc/environment\r\n\r\nIn this file, add the following line (replacing `YOUR_PATH` by the just copied path):\r\n\r\n    JAVA_HOME=&quot;YOUR_PATH&quot;\r\n\r\nThat should be enough to set the environment variable. Now reload this file:\r\n\r\n    source /etc/environment\r\n\r\nnow test it by executing:\r\n\r\n    echo $JAVA_HOME\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Copy the bin file path you installed</p>\n\n<pre><code>YOUR PATH\n</code></pre>\n\n<p>open terminal and edit environment file by typing following command,</p>\n\n<pre><code>sudo nano /etc/environment\n</code></pre>\n\n<p>In this file, add the following line (replacing <code>YOUR_PATH</code> by the just copied path):</p>\n\n<pre><code>JAVA_HOME=\"YOUR_PATH\"\n</code></pre>\n\n<p>That should be enough to set the environment variable. Now reload this file:</p>\n\n<pre><code>source /etc/environment\n</code></pre>\n\n<p>now test it by executing:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7176586,"reputation":29,"user_id":5482293,"display_name":"Emanuel Oliveira"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1446637755,"creation_date":1446637755,"answer_id":33521094,"question_id":24641536,"body_markdown":"On Linux I add this line to my ~/.profile:\r\n\r\n    export JAVA_HOME=$(readlink -ze /usr/bin/javac | xargs -0 dirname -z | xargs -0 dirname)\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>On Linux I add this line to my ~/.profile:</p>\n\n<pre><code>export JAVA_HOME=$(readlink -ze /usr/bin/javac | xargs -0 dirname -z | xargs -0 dirname)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905177,"reputation":8322,"user_id":940217,"accept_rate":77,"display_name":"Kyle Falconer"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1449536792,"creation_date":1449536792,"answer_id":34146264,"question_id":24641536,"body_markdown":"None of the other answers were &quot;sticking&quot; for me in RHEL 7, even setting `JAVA_HOME` and `PATH` directly in `/etc/profile` or `~/.bash_profile` would not work. Each time I tried to check if `JAVA_HOME` was set, it would come up blank:\r\n\r\n    $ echo $JAVA_HOME\r\n        (&lt;-- no output)\r\n\r\nWhat I had to do was set up a *script* in `/etc/profile.d/jdk_home.sh`:\r\n\r\n    #!/bin/sh\r\n    export JAVA_HOME=/opt/ibm/java-x86_64-60/\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nI initially neglected the first line (the `#!/bin/sh`), and it won&#39;t work without it.\r\n\r\nNow it&#39;s working:\r\n\r\n    $ echo $JAVA_HOME\r\n    /opt/ibm/java-x86_64-60/\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>None of the other answers were \"sticking\" for me in RHEL 7, even setting <code>JAVA_HOME</code> and <code>PATH</code> directly in <code>/etc/profile</code> or <code>~/.bash_profile</code> would not work. Each time I tried to check if <code>JAVA_HOME</code> was set, it would come up blank:</p>\n\n<pre><code>$ echo $JAVA_HOME\n    (&lt;-- no output)\n</code></pre>\n\n<p>What I had to do was set up a <em>script</em> in <code>/etc/profile.d/jdk_home.sh</code>:</p>\n\n<pre><code>#!/bin/sh\nexport JAVA_HOME=/opt/ibm/java-x86_64-60/\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>I initially neglected the first line (the <code>#!/bin/sh</code>), and it won't work without it.</p>\n\n<p>Now it's working:</p>\n\n<pre><code>$ echo $JAVA_HOME\n/opt/ibm/java-x86_64-60/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603351,"reputation":91,"user_id":6444175,"display_name":"guest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465883461,"creation_date":1465883461,"answer_id":37803887,"question_id":24641536,"body_markdown":"While we are up to setting JAVA_HOME, let me share some benefits of setting JAVA_HOME or any other environment variable:\r\n\r\n1) It&#39;s easy to upgrade JDK without affecting your application startup and config file which points to JAVA_HOME. you just need to download new version and make sure your JAVA_HOME points to new version of Java. This is best benefit of using environment variable or links.\r\n\r\n2) JAVA_HOME variable is short and concise instead of full path to JDK installation directory.\r\n\r\n3) JAVA_HOME variable is platform independence i.e. if your startup script uses JAVA_HOME then it can run on Windows and UNIX without any modification, you just need to set JAVA_HOME on respective operating system.\r\n\r\nRead more: http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH","title":"How to set JAVA_HOME in Linux for all users","body":"<p>While we are up to setting JAVA_HOME, let me share some benefits of setting JAVA_HOME or any other environment variable:</p>\n\n<p>1) It's easy to upgrade JDK without affecting your application startup and config file which points to JAVA_HOME. you just need to download new version and make sure your JAVA_HOME points to new version of Java. This is best benefit of using environment variable or links.</p>\n\n<p>2) JAVA_HOME variable is short and concise instead of full path to JDK installation directory.</p>\n\n<p>3) JAVA_HOME variable is platform independence i.e. if your startup script uses JAVA_HOME then it can run on Windows and UNIX without any modification, you just need to set JAVA_HOME on respective operating system.</p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH\" rel=\"nofollow\">http://javarevisited.blogspot.com/2012/02/how-to-set-javahome-environment-in.html#ixzz4BWmaYIjH</a></p>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1695723575,"creation_date":1474832670,"answer_id":39691105,"question_id":24641536,"body_markdown":"\r\n1.  Open terminal and type  `sudo gedit .bashrc`\r\n\r\n2. It will ask you your password. After typing the password, it will open the bash file. Then go to end and type:\r\n\r\n       export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;\r\n       export PATH=$PATH:$JAVA_HOME/bin\r\n4. Then save the file and exit from file\r\n\r\nAbove is for a single user. For all users, you have to follow below steps\r\n1. `sudo gedit /etc/profile`\r\n\r\n2.  `export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;`\r\n3. `export PATH=$PATH:$JAVA_HOME/bin`\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<ol>\n<li><p>Open terminal and type  <code>sudo gedit .bashrc</code></p>\n</li>\n<li><p>It will ask you your password. After typing the password, it will open the bash file. Then go to end and type:</p>\n<pre><code>export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n</li>\n<li><p>Then save the file and exit from file</p>\n</li>\n</ol>\n<p>Above is for a single user. For all users, you have to follow below steps</p>\n<ol>\n<li><p><code>sudo gedit /etc/profile</code></p>\n</li>\n<li><p><code>export JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/&quot;</code></p>\n</li>\n<li><p><code>export PATH=$PATH:$JAVA_HOME/bin</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10239049,"reputation":455,"user_id":7557036,"display_name":"Dylan Breugne"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492163821,"creation_date":1492098192,"answer_id":43396555,"question_id":24641536,"body_markdown":"This is a very simple script to solve the problem\r\n\r\n    export JAVA_HOME_BIN=`which java`\r\n    export JAVA_HOME_DIR=`dirname $JAVA_HOME_BIN`\r\n    export JAVA_HOME=`dirname $JAVA_HOME_DIR`\r\n\r\nAnd for testing:\r\n\r\n    echo $JAVA_HOME","title":"How to set JAVA_HOME in Linux for all users","body":"<p>This is a very simple script to solve the problem</p>\n\n<pre><code>export JAVA_HOME_BIN=`which java`\nexport JAVA_HOME_DIR=`dirname $JAVA_HOME_BIN`\nexport JAVA_HOME=`dirname $JAVA_HOME_DIR`\n</code></pre>\n\n<p>And for testing:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299217,"reputation":395,"user_id":4894340,"accept_rate":40,"display_name":"alok ailawadi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1505452448,"creation_date":1505452448,"answer_id":46232075,"question_id":24641536,"body_markdown":"The answer is given previous posts is valid. But not one answer is complete with respect to: \r\n\r\n1. Changing the /etc/profile is not recommended simply because of the reason (as stated in /etc/profile):\r\n\r\n&gt; *  It&#39;s NOT a good idea to change this file unless you know what you are doing. It&#39;s much better to create a custom.sh shell script in\r\n&gt; /etc/profile.d/ to make custom changes to your environment, as this\r\n&gt; will prevent the need for merging in future updates.*\r\n\r\n2. So as stated above create /etc/profile.d/custom.sh file for custom changes.\r\n\r\n3. Now, to always keep updated with newer versions of Java being installed, never put the absolute path, instead use:\r\n      \r\n    \r\n\r\n&gt;   #if making jdk as java home\r\n&gt;         \r\n&gt;   export JAVA_HOME=$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)\r\n&gt;     \r\n&gt;   OR\r\n&gt;     \r\n&gt;  #if making jre as java home\r\n&gt;  \r\n&gt;  export JAVA_HOME=$(readlink -f /usr/bin/java | sed &quot;s:/bin/java::&quot;)\r\n\r\n4. And remember to have ***#! /bin/bash*** on the custom.sh file\r\n ","title":"How to set JAVA_HOME in Linux for all users","body":"<p>The answer is given previous posts is valid. But not one answer is complete with respect to: </p>\n\n<ol>\n<li>Changing the /etc/profile is not recommended simply because of the reason (as stated in /etc/profile):</li>\n</ol>\n\n<blockquote>\n  <ul>\n  <li>It's NOT a good idea to change this file unless you know what you are doing. It's much better to create a custom.sh shell script in\n  /etc/profile.d/ to make custom changes to your environment, as this\n  will prevent the need for merging in future updates.*</li>\n  </ul>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>So as stated above create /etc/profile.d/custom.sh file for custom changes.</p></li>\n<li><p>Now, to always keep updated with newer versions of Java being installed, never put the absolute path, instead use:</p></li>\n</ol>\n\n<blockquote>\n  <p>#if making jdk as java home</p>\n  \n  <p>export JAVA_HOME=$(readlink -f /usr/bin/javac | sed \"s:/bin/javac::\")</p>\n  \n  <p>OR</p>\n  \n  <p>#if making jre as java home</p>\n  \n  <p>export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:/bin/java::\")</p>\n</blockquote>\n\n<ol start=\"4\">\n<li>And remember to have <strong><em>#! /bin/bash</em></strong> on the custom.sh file</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2059546,"reputation":2127,"user_id":1836483,"accept_rate":90,"display_name":"Van Peer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505724625,"creation_date":1505724625,"answer_id":46275158,"question_id":24641536,"body_markdown":"Posting as answer, as I don&#39;t have the privilege to comment.\r\n\r\n**Point to note**: follow the accepted answer posted by &quot;That Dave Guy&quot;.\r\n\r\nAfter setting the variables, make sure you set the appropriate permissions to the java directory where it&#39;s installed.\r\n\r\n    chmod -R 755 /usr/java","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Posting as answer, as I don't have the privilege to comment.</p>\n\n<p><strong>Point to note</strong>: follow the accepted answer posted by \"That Dave Guy\".</p>\n\n<p>After setting the variables, make sure you set the appropriate permissions to the java directory where it's installed.</p>\n\n<pre><code>chmod -R 755 /usr/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5849308,"reputation":887,"user_id":4608441,"display_name":"swapnil shashank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540986774,"creation_date":1540986774,"answer_id":53082733,"question_id":24641536,"body_markdown":"Step 1 - check the current java version by  &quot;echo $JAVA_HOME&quot;\r\n\r\nStep 2 - vim /etc/profile\r\n\r\nStep 3 - At the end of file you will find\r\nexport JAVA_HOME, we need to provide the new path here, make sure that it is not relative.\r\n\r\nStep 4 - Save and exit :wq\r\n\r\nStep 5 - &quot;source /etc/profile/&quot;, this would execute the change\r\n\r\nStep 6 - Again do a echo $JAVA_HOME - change would have been reflected.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Step 1 - check the current java version by  \"echo $JAVA_HOME\"</p>\n\n<p>Step 2 - vim /etc/profile</p>\n\n<p>Step 3 - At the end of file you will find\nexport JAVA_HOME, we need to provide the new path here, make sure that it is not relative.</p>\n\n<p>Step 4 - Save and exit :wq</p>\n\n<p>Step 5 - \"source /etc/profile/\", this would execute the change</p>\n\n<p>Step 6 - Again do a echo $JAVA_HOME - change would have been reflected.</p>\n"},{"tags":[],"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569576204,"creation_date":1569575018,"answer_id":58131259,"question_id":24641536,"body_markdown":"1...Using the short cut `Ctlr` + `Alt` + `T` to open terminal\r\n\r\n2...Execute the below command:\r\n\r\n    echo export JAVA_HOME=&#39;$(readlink -f /usr/bin/javac | sed &quot;s:/bin/javac::&quot;)&#39; | sudo tee /etc/profile.d/jdk_home.sh &gt; /dev/null\r\n\r\n3...(Recommended) Restart your VM / computer. You can use `source /etc/source` if don&#39;t want to restart computer\r\n\r\n4...Using the short cut `Ctlr` + `Alt` + `T` to open terminal\r\n\r\n5...Verified JAVA_HOME installment with \r\n\r\n    echo $JAVA_HOME\r\n\r\n----------------------\r\n\r\nOne-liner copy from **flob**, credit to them","title":"How to set JAVA_HOME in Linux for all users","body":"<p>1...Using the short cut <code>Ctlr</code> + <code>Alt</code> + <code>T</code> to open terminal</p>\n\n<p>2...Execute the below command:</p>\n\n<pre><code>echo export JAVA_HOME='$(readlink -f /usr/bin/javac | sed \"s:/bin/javac::\")' | sudo tee /etc/profile.d/jdk_home.sh &gt; /dev/null\n</code></pre>\n\n<p>3...(Recommended) Restart your VM / computer. You can use <code>source /etc/source</code> if don't want to restart computer</p>\n\n<p>4...Using the short cut <code>Ctlr</code> + <code>Alt</code> + <code>T</code> to open terminal</p>\n\n<p>5...Verified JAVA_HOME installment with </p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<hr>\n\n<p>One-liner copy from <strong>flob</strong>, credit to them</p>\n"},{"tags":[],"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579787570,"creation_date":1579787570,"answer_id":59880198,"question_id":24641536,"body_markdown":"Use SDKMAN [sdkman.io][1] to switch btw. your sdk&#39;s.\r\n\r\nIt sets the JAVA_HOME for you.\r\n\r\n\r\n  [1]: http://sdkman.io","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Use SDKMAN <a href=\"http://sdkman.io\" rel=\"nofollow noreferrer\">sdkman.io</a> to switch btw. your sdk's.</p>\n\n<p>It sets the JAVA_HOME for you.</p>\n"},{"tags":[],"owner":{"account_id":11489369,"reputation":41,"user_id":8420876,"display_name":"Ashish Verma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587057502,"creation_date":1587057502,"answer_id":61256148,"question_id":24641536,"body_markdown":"open **kafka-run-class.sh** with sudo to write\r\n\r\nyou can find **kafka-run-class.sh** in your kafka folder : **kafka/bin/kafka-run-class.sh**\r\n\r\ncheck for these lines\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gn6ox.png\r\n\r\nModify the JAVA variable in the else part to point to the java executable in your java/bin. like **JAVA=&quot;$JAVA_HOME/java&quot;**","title":"How to set JAVA_HOME in Linux for all users","body":"<p>open <strong>kafka-run-class.sh</strong> with sudo to write</p>\n\n<p>you can find <strong>kafka-run-class.sh</strong> in your kafka folder : <strong>kafka/bin/kafka-run-class.sh</strong></p>\n\n<p>check for these lines</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gn6ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gn6ox.png\" alt=\"enter image description here\"></a></p>\n\n<p>Modify the JAVA variable in the else part to point to the java executable in your java/bin. like <strong>JAVA=\"$JAVA_HOME/java\"</strong></p>\n"},{"tags":[],"owner":{"account_id":329088,"reputation":1085,"user_id":652414,"accept_rate":70,"display_name":"ahmet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590853775,"creation_date":1590853775,"answer_id":62104925,"question_id":24641536,"body_markdown":"All operational steps(finding java, parent dir, editing file,...) one solution\r\n\r\n\tzFileProfile=&quot;/etc/profile&quot;\r\n\tzJavaHomePath=$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\r\n\techo $zJavaHomePath\r\n\r\n\techo &quot;export JAVA_HOME=\\&quot;${zJavaHomePath}\\&quot;&quot; &gt;&gt; $zFileProfile\r\n\techo &quot;export PATH=\\$PATH:\\$JAVA_HOME/bin&quot; &gt;&gt; $zFileProfile\r\n\t\r\nResult:\r\n\r\n\t# tail -2 $zFileProfile\r\n\texport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64&quot;\r\n\texport PATH=$PATH:$JAVA_HOME/bin\r\n \r\nExplanation:\r\n\r\n1) Let&#39;s break the full command into pieces\r\n\r\n    $(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\r\n    \r\n\r\n2) Find java path from java command\r\n\r\n    # $(which java)\r\n    &quot;/usr/bin/java&quot;\r\n\r\n3) Get relative path from symbolic path\r\n\r\n    # readlink -ze /usr/bin/java\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java&quot;\r\n4) Get parent path of `/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java`\r\n\r\n    # readlink -ze /usr/bin/java | xargs -0 dirname\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin&quot;\r\n5) Get parent path of `/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/`\r\n\r\n    # readlink -ze /usr/bin/java | xargs -0 dirname | xargs -0 dirname\r\n\t&quot;/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64&quot;","title":"How to set JAVA_HOME in Linux for all users","body":"<p>All operational steps(finding java, parent dir, editing file,...) one solution</p>\n\n<pre><code>zFileProfile=\"/etc/profile\"\nzJavaHomePath=$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\necho $zJavaHomePath\n\necho \"export JAVA_HOME=\\\"${zJavaHomePath}\\\"\" &gt;&gt; $zFileProfile\necho \"export PATH=\\$PATH:\\$JAVA_HOME/bin\" &gt;&gt; $zFileProfile\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code># tail -2 $zFileProfile\nexport JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64\"\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>1) Let's break the full command into pieces</p>\n\n<pre><code>$(readlink -ze $(which java) | xargs -0 dirname | xargs -0 dirname)\n</code></pre>\n\n<p>2) Find java path from java command</p>\n\n<pre><code># $(which java)\n\"/usr/bin/java\"\n</code></pre>\n\n<p>3) Get relative path from symbolic path</p>\n\n<pre><code># readlink -ze /usr/bin/java\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java\"\n</code></pre>\n\n<p>4) Get parent path of <code>/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/java</code></p>\n\n<pre><code># readlink -ze /usr/bin/java | xargs -0 dirname\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin\"\n</code></pre>\n\n<p>5) Get parent path of <code>/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64/bin/</code></p>\n\n<pre><code># readlink -ze /usr/bin/java | xargs -0 dirname | xargs -0 dirname\n\"/usr/lib/jvm/java-11-openjdk-11.0.7.10-1.el8_1.x86_64\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18830235,"reputation":57,"user_id":13734203,"display_name":"Noha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591966528,"creation_date":1591966528,"answer_id":62344725,"question_id":24641536,"body_markdown":"In /etc/profile , if you open that will you’ll get to know that IT IS no recommended to write on that file. Instead of that make a script of your commands(suppose test.sh)go to /etc/profile.d folder and Put test.sh there. Every time you instance reboot it’ll be automatically called by /etc/profile.\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>In /etc/profile , if you open that will you’ll get to know that IT IS no recommended to write on that file. Instead of that make a script of your commands(suppose test.sh)go to /etc/profile.d folder and Put test.sh there. Every time you instance reboot it’ll be automatically called by /etc/profile.</p>\n"},{"tags":[],"owner":{"account_id":5183395,"reputation":101,"user_id":4148386,"display_name":"Amal K V"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1618213934,"creation_date":1618213934,"answer_id":67054520,"question_id":24641536,"body_markdown":"First you need to find out which Java is installed in your PC and which one to use.\r\nFor that open terminal with root permission.\r\n \r\n     sudo su\r\n\r\n     ls /usr/lib/jvm/\r\n\r\nNow it will list the available java versions.\r\nSelect the listed version.\r\n\r\n\r\nCopy the path till there.\r\n\r\n\r\nNow open bashrc\r\n\r\n      nano ~/.bashrc\r\n\r\nadd the following commands to the end\r\n\r\n     export JAVA_HOME=&quot;path that you copied&quot;\r\n\r\n      export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nafter that save the file and exit by pressing Ctrl+S  followed by Ctrl+X\r\n\r\nNow run the below command:\r\n\r\n\r\n      source ~/.bashrc\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>First you need to find out which Java is installed in your PC and which one to use.\nFor that open terminal with root permission.</p>\n<pre><code> sudo su\n\n ls /usr/lib/jvm/\n</code></pre>\n<p>Now it will list the available java versions.\nSelect the listed version.</p>\n<p>Copy the path till there.</p>\n<p>Now open bashrc</p>\n<pre><code>  nano ~/.bashrc\n</code></pre>\n<p>add the following commands to the end</p>\n<pre><code> export JAVA_HOME=&quot;path that you copied&quot;\n\n  export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>after that save the file and exit by pressing Ctrl+S  followed by Ctrl+X</p>\n<p>Now run the below command:</p>\n<pre><code>  source ~/.bashrc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19362845,"reputation":13,"user_id":14157782,"display_name":"Jauhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625352255,"creation_date":1625352255,"answer_id":68240457,"question_id":24641536,"body_markdown":"Using vim might be a bit difficult for new user. We can use gedit text editor instead.\r\n\r\n 1. Find /usr/lib/jvm/java-1.x.x-openjdk\r\n 2. Enter &quot;gedit /etc/profile&quot; or use &quot;sudo gedit /etc/profile&quot; if logged in as not-privileged\r\n 3. Add the following at the end of line:\r\n\r\n    export JAVA_HOME=&quot;path that you found&quot;\r\n\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n 4. Enter &quot;source /etc/profile&quot; in your current shell to apply the changes\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Using vim might be a bit difficult for new user. We can use gedit text editor instead.</p>\n<ol>\n<li><p>Find /usr/lib/jvm/java-1.x.x-openjdk</p>\n</li>\n<li><p>Enter &quot;gedit /etc/profile&quot; or use &quot;sudo gedit /etc/profile&quot; if logged in as not-privileged</p>\n</li>\n<li><p>Add the following at the end of line:</p>\n<p>export JAVA_HOME=&quot;path that you found&quot;</p>\n<p>export PATH=$JAVA_HOME/bin:$PATH</p>\n</li>\n<li><p>Enter &quot;source /etc/profile&quot; in your current shell to apply the changes</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24135384,"reputation":1,"user_id":18102401,"display_name":"Ivan B"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1663332994,"creation_date":1663332994,"answer_id":73745161,"question_id":24641536,"body_markdown":"Try this if doesn&#39;t work:\r\n```\r\napt install openjdk-8-jdk-headless\r\n```","title":"How to set JAVA_HOME in Linux for all users","body":"<p>Try this if doesn't work:</p>\n<pre><code>apt install openjdk-8-jdk-headless\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681101257,"creation_date":1681101257,"answer_id":75974285,"question_id":24641536,"body_markdown":"`export JAVA_HOME=&quot;/usr/lib/jvm/jdk-*&quot;` solves the issue","title":"How to set JAVA_HOME in Linux for all users","body":"<p><code>export JAVA_HOME=&quot;/usr/lib/jvm/jdk-*&quot;</code> solves the issue</p>\n"},{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688397007,"creation_date":1688397007,"answer_id":76606026,"question_id":24641536,"body_markdown":"AND also i had problem if someone else export PATH in other script, in my case in .bashrc there was line for sdkman\r\n\r\n`\r\nexport PATH=/home/ars/.sdkman/candidates/gradle/current/bin:/home/ars/.nvm/versions/node/v15.14.0/bin:/home/ars/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n`\r\n\r\nSo when i run `echo $JAVA_HOME` there was a result but when a run `echo $PATH` there was no `$JAVA_HOME/bin`\r\n\r\n\r\n","title":"How to set JAVA_HOME in Linux for all users","body":"<p>AND also i had problem if someone else export PATH in other script, in my case in .bashrc there was line for sdkman</p>\n<p><code>export PATH=/home/ars/.sdkman/candidates/gradle/current/bin:/home/ars/.nvm/versions/node/v15.14.0/bin:/home/ars/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</code></p>\n<p>So when i run <code>echo $JAVA_HOME</code> there was a result but when a run <code>echo $PATH</code> there was no <code>$JAVA_HOME/bin</code></p>\n"}],"owner":{"account_id":915838,"reputation":3865,"user_id":948654,"accept_rate":39,"display_name":"Bosco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404917,"favorite_count":0,"down_vote_count":0,"up_vote_count":290,"accepted_answer_id":24641640,"answer_count":25,"score":290,"last_activity_date":1695723575,"creation_date":1404853274,"question_id":24641536,"body_markdown":"I am new to Linux system and there seem to be too many Java folders. \r\n\r\njava -version gives me:\r\n\r\n- java version &quot;1.7.0_55&quot;\r\n- OpenJDK Runtime Environment (rhel-2.4.7.1.el6_5-x86_64 u55-b13)\r\n- OpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)\r\n\r\nWhen I am trying to build a Maven project , I am getting error:\r\n\r\n        \r\n    Error: JAVA_HOME is not defined correctly.\r\n    We cannot execute /usr/java/jdk1.7.0_05/bin/java\r\n\r\nCould you please tell me which files I need to modify for root as well as not-root user and where exactly is java located?","title":"How to set JAVA_HOME in Linux for all users","body":"<p>I am new to Linux system and there seem to be too many Java folders. </p>\n\n<p>java -version gives me:</p>\n\n<ul>\n<li>java version \"1.7.0_55\"</li>\n<li>OpenJDK Runtime Environment (rhel-2.4.7.1.el6_5-x86_64 u55-b13)</li>\n<li>OpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)</li>\n</ul>\n\n<p>When I am trying to build a Maven project , I am getting error:</p>\n\n<pre><code>Error: JAVA_HOME is not defined correctly.\nWe cannot execute /usr/java/jdk1.7.0_05/bin/java\n</code></pre>\n\n<p>Could you please tell me which files I need to modify for root as well as not-root user and where exactly is java located?</p>\n"},{"tags":["java","spring","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1695730963,"post_id":77177938,"comment_id":136061040,"body_markdown":"Have you tried using `$`: `.group(&quot;$applicationNumber&quot;).push(&quot;$allRecords.coreRecord.recordType&quot;)` ?","body":"Have you tried using <code>$</code>: <code>.group(&quot;$applicationNumber&quot;).push(&quot;$allRecords.coreRecord.re&zwnj;&#8203;cordType&quot;)</code> ?"}],"owner":{"account_id":8333379,"reputation":1,"user_id":6261140,"display_name":"Souvik Adhikary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695723485,"creation_date":1695714177,"question_id":77177938,"body_markdown":"I have mongo aggregate query as below:\r\n```\r\n{\r\n$group: {\r\n     _id: {applicationNumber: &quot;$applicationNumber&quot;},\r\n     recordTypes: { $push: &quot;$allRecords.coreRecord.recordType&quot;}\r\n    }\r\n}\r\n```\r\n\r\nI need to write its respective java code in aggregation.\r\nI tried as below, but got exception **Invalid reference allRecords.coreRecord.recordType**\r\n\r\n    Aggregation.group(&quot;applicationNumber&quot;).push(&quot;allRecords.coreRecord.recordType&quot;).as(&quot;recordTypes);","title":"MongoDB $aggregate $push operation in Java","body":"<p>I have mongo aggregate query as below:</p>\n<pre><code>{\n$group: {\n     _id: {applicationNumber: &quot;$applicationNumber&quot;},\n     recordTypes: { $push: &quot;$allRecords.coreRecord.recordType&quot;}\n    }\n}\n</code></pre>\n<p>I need to write its respective java code in aggregation.\nI tried as below, but got exception <strong>Invalid reference allRecords.coreRecord.recordType</strong></p>\n<pre><code>Aggregation.group(&quot;applicationNumber&quot;).push(&quot;allRecords.coreRecord.recordType&quot;).as(&quot;recordTypes);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5698955,"reputation":1,"user_id":4504610,"display_name":"sanjay mohanty"},"score":0,"creation_date":1695731098,"post_id":77178924,"comment_id":136061065,"body_markdown":"found the solution \nwhen you are running the application in local , put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments\n\n\n--add-opens java.base/java.util.concurrent=ALL-UNNAMED\n --add-opens java.base/java.lang=ALL-UNNAMED \n--add-opens java.base/java.util=ALL-UNNAMED\n\n\nfor remote /server running in my case as we are using Kubernetes , in values.yaml file I have added below \n\n- name: JAVA_OPTS\n    value: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;","body":"found the solution  when you are running the application in local , put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments   --add-opens java.base/java.util.concurrent=ALL-UNNAMED  --add-opens java.base/java.lang=ALL-UNNAMED  --add-opens java.base/java.util=ALL-UNNAMED   for remote /server running in my case as we are using Kubernetes , in values.yaml file I have added below   - name: JAVA_OPTS     value: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;"}],"owner":{"account_id":5698955,"reputation":1,"user_id":4504610,"display_name":"sanjay mohanty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695725902,"answer_count":0,"score":0,"last_activity_date":1695722657,"creation_date":1695722315,"question_id":77178924,"body_markdown":"I am getting the below exception while upgrading from java 8 to java 17.\r\n\r\nIf anyone is facing the below issue and have some solution , please post it.\r\nDetails stack trace is mentioned below\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-26 01:29:07 - o.s.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: **Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask**(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @433defed\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n```\r\njava 8 to java 17 upgradation ","title":"Nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture","body":"<p>I am getting the below exception while upgrading from java 8 to java 17.</p>\n<p>If anyone is facing the below issue and have some solution , please post it.\nDetails stack trace is mentioned below</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-09-26 01:29:07 - o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: **Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask**(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @433defed\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n</code></pre>\n<p>java 8 to java 17 upgradation</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695722615,"creation_date":1695722615,"question_id":77178964,"body_markdown":"I am implementing an ag-grid from the server side. I have implemented the first three basic steps in the code I have implemented pagination searching and ordering from the backend for ag-grid I want to grouping from the backend and pivoting from backend how can I do this code in this code? if you have any suggestions to implement\r\n\r\n```\r\n@Service\r\npublic class CompanyService {\r\n\r\n    @Autowired\r\n    EntityManager entityManager;\r\n\r\n    public Page&lt;CompanyResponse&gt; getCompanies(Pageable pageable, RequestWithFilterAndSort requestWithFilterAndSort){\r\n        CriteriaBuilder criteriaBuilder=entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;CompanyResponse&gt; companyResponseCriteriaQuery=criteriaBuilder.createQuery(CompanyResponse.class);\r\n        Root&lt;Company&gt; companyRoot=companyResponseCriteriaQuery.from(Company.class);\r\n\r\n        companyResponseCriteriaQuery.multiselect(companyRoot.get(&quot;id&quot;),\r\n                companyRoot.get(&quot;companyName&quot;),\r\n                companyRoot.get(&quot;employeeName&quot;),\r\n                companyRoot.get(&quot;description&quot;),\r\n                companyRoot.get(&quot;leave&quot;)\r\n                );\r\n\r\n        if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;desc&quot;)){\r\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.desc(companyRoot.get(requestWithFilterAndSort.getColId())));\r\n        }\r\n        else if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;asc&quot;)){\r\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.asc(companyRoot.get(requestWithFilterAndSort.getColId())));\r\n        }\r\n\r\n        List&lt;Predicate&gt; predicateList=new ArrayList&lt;&gt;();\r\n        predicateList.addAll(getFilter(criteriaBuilder,predicateList,companyRoot,requestWithFilterAndSort));\r\n        Predicate predicateArray[]=new Predicate[predicateList.size()];\r\n\r\n        companyResponseCriteriaQuery.where(criteriaBuilder.and(predicateList.toArray(predicateArray)));\r\n\r\n        List&lt;CompanyResponse&gt; companyResponseList=entityManager.createQuery(companyResponseCriteriaQuery).getResultList();\r\n        List&lt;CompanyResponse&gt; companyResponses=entityManager.createQuery(companyResponseCriteriaQuery).\r\n                setFirstResult((int) pageable.getOffset()).\r\n                setMaxResults(pageable.getPageSize()).\r\n                getResultList();\r\n        return new PageImpl&lt;&gt;(companyResponses,pageable,companyResponseList.size());\r\n    }\r\n\r\n    private List&lt;Predicate&gt; getFilter(CriteriaBuilder criteriaBuilder,List&lt;Predicate&gt; predicateList,Root&lt;Company&gt; companyRoot,RequestWithFilterAndSort requestWithFilterAndSort){\r\n        Optional.ofNullable(requestWithFilterAndSort.getFilterModel()).ifPresent(filterModelMap-&gt;{\r\n            for(Map.Entry&lt;String, FilterModel&gt; filterModelEntry:filterModelMap.entrySet()){\r\n\r\n                String colName=filterModelEntry.getKey();\r\n                FilterModel filterModel=filterModelEntry.getValue();\r\n                System.out.println(&quot;colName in filter : &quot;+colName);\r\n                /*if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;GREATETHEN&quot;)){\r\n                    predicateList.add(criteriaBuilder.ge(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;LESSTHEN&quot;)){\r\n                    predicateList.add(criteriaBuilder.lessThan(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\r\n\r\n                }*/\r\n                if(filterModel.getType().equalsIgnoreCase(&quot;equals&quot;)){\r\n                    predicateList.add(criteriaBuilder.equal(companyRoot.get(colName),filterModel.getFilter()));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notEqual&quot;)){\r\n                    predicateList.add(criteriaBuilder.notEqual(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;contains&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notContains&quot;)){\r\n                    predicateList.add(criteriaBuilder.notLike(companyRoot.get(colName),filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;startsWith&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),&quot;%&quot;+filterModel.getFilter()));\r\n\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;endsWith&quot;)){\r\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()+&quot;%&quot;));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;blank&quot;)){\r\n                    predicateList.add(criteriaBuilder.isNull(companyRoot.get(colName)));\r\n                }\r\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notBlank&quot;)){\r\n                    predicateList.add(criteriaBuilder.isNotNull(companyRoot.get(colName)));\r\n                }\r\n            }\r\n        });\r\n        return  predicateList;\r\n    }\r\n}\r\n```","title":"i want to do server side grouping in this code how can i do server side grouping and pivot from backend","body":"<p>I am implementing an ag-grid from the server side. I have implemented the first three basic steps in the code I have implemented pagination searching and ordering from the backend for ag-grid I want to grouping from the backend and pivoting from backend how can I do this code in this code? if you have any suggestions to implement</p>\n<pre><code>@Service\npublic class CompanyService {\n\n    @Autowired\n    EntityManager entityManager;\n\n    public Page&lt;CompanyResponse&gt; getCompanies(Pageable pageable, RequestWithFilterAndSort requestWithFilterAndSort){\n        CriteriaBuilder criteriaBuilder=entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;CompanyResponse&gt; companyResponseCriteriaQuery=criteriaBuilder.createQuery(CompanyResponse.class);\n        Root&lt;Company&gt; companyRoot=companyResponseCriteriaQuery.from(Company.class);\n\n        companyResponseCriteriaQuery.multiselect(companyRoot.get(&quot;id&quot;),\n                companyRoot.get(&quot;companyName&quot;),\n                companyRoot.get(&quot;employeeName&quot;),\n                companyRoot.get(&quot;description&quot;),\n                companyRoot.get(&quot;leave&quot;)\n                );\n\n        if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;desc&quot;)){\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.desc(companyRoot.get(requestWithFilterAndSort.getColId())));\n        }\n        else if(requestWithFilterAndSort.getColId()!=null &amp;&amp; requestWithFilterAndSort.getSort().equals(&quot;asc&quot;)){\n            companyResponseCriteriaQuery.orderBy(criteriaBuilder.asc(companyRoot.get(requestWithFilterAndSort.getColId())));\n        }\n\n        List&lt;Predicate&gt; predicateList=new ArrayList&lt;&gt;();\n        predicateList.addAll(getFilter(criteriaBuilder,predicateList,companyRoot,requestWithFilterAndSort));\n        Predicate predicateArray[]=new Predicate[predicateList.size()];\n\n        companyResponseCriteriaQuery.where(criteriaBuilder.and(predicateList.toArray(predicateArray)));\n\n        List&lt;CompanyResponse&gt; companyResponseList=entityManager.createQuery(companyResponseCriteriaQuery).getResultList();\n        List&lt;CompanyResponse&gt; companyResponses=entityManager.createQuery(companyResponseCriteriaQuery).\n                setFirstResult((int) pageable.getOffset()).\n                setMaxResults(pageable.getPageSize()).\n                getResultList();\n        return new PageImpl&lt;&gt;(companyResponses,pageable,companyResponseList.size());\n    }\n\n    private List&lt;Predicate&gt; getFilter(CriteriaBuilder criteriaBuilder,List&lt;Predicate&gt; predicateList,Root&lt;Company&gt; companyRoot,RequestWithFilterAndSort requestWithFilterAndSort){\n        Optional.ofNullable(requestWithFilterAndSort.getFilterModel()).ifPresent(filterModelMap-&gt;{\n            for(Map.Entry&lt;String, FilterModel&gt; filterModelEntry:filterModelMap.entrySet()){\n\n                String colName=filterModelEntry.getKey();\n                FilterModel filterModel=filterModelEntry.getValue();\n                System.out.println(&quot;colName in filter : &quot;+colName);\n                /*if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;GREATETHEN&quot;)){\n                    predicateList.add(criteriaBuilder.ge(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;NUMBER&quot;) &amp;&amp; filterModel.getFilterType().equalsIgnoreCase(&quot;LESSTHEN&quot;)){\n                    predicateList.add(criteriaBuilder.lessThan(companyRoot.get(colName),Long.parseLong(filterModel.getFilter())));\n\n                }*/\n                if(filterModel.getType().equalsIgnoreCase(&quot;equals&quot;)){\n                    predicateList.add(criteriaBuilder.equal(companyRoot.get(colName),filterModel.getFilter()));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notEqual&quot;)){\n                    predicateList.add(criteriaBuilder.notEqual(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;contains&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notContains&quot;)){\n                    predicateList.add(criteriaBuilder.notLike(companyRoot.get(colName),filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;startsWith&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),&quot;%&quot;+filterModel.getFilter()));\n\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;endsWith&quot;)){\n                    predicateList.add(criteriaBuilder.like(companyRoot.get(colName),filterModel.getFilter()+&quot;%&quot;));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;blank&quot;)){\n                    predicateList.add(criteriaBuilder.isNull(companyRoot.get(colName)));\n                }\n                else if(filterModel.getType().equalsIgnoreCase(&quot;notBlank&quot;)){\n                    predicateList.add(criteriaBuilder.isNotNull(companyRoot.get(colName)));\n                }\n            }\n        });\n        return  predicateList;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","memcached"],"answers":[{"tags":[],"owner":{"account_id":185945,"reputation":1421,"user_id":422979,"accept_rate":76,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695722452,"creation_date":1695722452,"answer_id":77178943,"question_id":77157071,"body_markdown":"Could you try removing the `spring.cache.type=GENERIC` from your `application.properties` and try again.\r\n\r\nThe issue you have reported is related to the cache configuration in the application itself.\r\n\r\nIn case the `spring.cache.type` is specified, the **memcached-spring-boot-starter** library will skip its auto-configuration and use **Spring Boot** cache auto-configuration instead. Being the [GENERIC][1] cache type is missing proper configuration (`org.springframework.cache.Cache` bean), the application startup will fail.\r\n\r\nYou should also consider upgrading the **memcached-spring-boot-starter** to the latest version `2.5.0`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/3.2.x/reference/html/io.html#io.caching.provider.generic","title":"Memcached configuration in springboot app","body":"<p>Could you try removing the <code>spring.cache.type=GENERIC</code> from your <code>application.properties</code> and try again.</p>\n<p>The issue you have reported is related to the cache configuration in the application itself.</p>\n<p>In case the <code>spring.cache.type</code> is specified, the <strong>memcached-spring-boot-starter</strong> library will skip its auto-configuration and use <strong>Spring Boot</strong> cache auto-configuration instead. Being the <a href=\"https://docs.spring.io/spring-boot/docs/3.2.x/reference/html/io.html#io.caching.provider.generic\" rel=\"nofollow noreferrer\">GENERIC</a> cache type is missing proper configuration (<code>org.springframework.cache.Cache</code> bean), the application startup will fail.</p>\n<p>You should also consider upgrading the <strong>memcached-spring-boot-starter</strong> to the latest version <code>2.5.0</code>.</p>\n"}],"owner":{"account_id":22737956,"reputation":35,"user_id":16899906,"display_name":"Amir Katorza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77178943,"answer_count":1,"score":0,"last_activity_date":1695722452,"creation_date":1695380781,"question_id":77157071,"body_markdown":"I&#39;m trying to CI a Java SpringBoot app, the app is making use of memcached.\r\n`pom.xml` dependency:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.sixhours&lt;/groupId&gt;\r\n  &lt;artifactId&gt;memcached-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3.1&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```\r\n\r\nI&#39;v created a `docker-compose.yaml` file with `memcached` container, `app` container and `nginx` as reverse proxy all running on the same network `ci_network`:\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  memcached:\r\n    image: memcached:latest\r\n    ports:\r\n      - &quot;11211:11211&quot;\r\n    networks:\r\n      - ci_network\r\n    healthcheck:\r\n      test: [&quot;CMD&quot;, &quot;echo&quot;, &quot;stats&quot;, &quot;|&quot;, &quot;nc&quot;, &quot;localhost&quot;, &quot;11211&quot;]\r\n      interval: 10s\r\n      timeout: 2s\r\n      retries: 5\r\n  \r\n  # Backend - ted-search app\r\n  app:\r\n    image: ted-search:latest\r\n    depends_on:\r\n      memcached:\r\n        condition: service_healthy\r\n    networks:\r\n      - ci_network\r\n\r\n  # Reverse Proxy - Nginx\r\n  proxy:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile.nginx    \r\n    ports:\r\n      - &quot;80:80&quot;\r\n    depends_on:\r\n      - app    \r\n    networks:\r\n      - ci_network\r\n\r\nnetworks:\r\n  ci_network:\r\n    external: true\r\n```\r\n\r\nI&#39;ve configured the `application.properties` file to enable memcached as follows:\r\n```\r\nserver.port: 9191\r\n\r\nspring.cache.type=GENERIC\r\n\r\n# MEMCACHED CACHE\r\nmemcached.cache.servers: memcached:11211\r\nmemcached.cache.mode: static\r\nmemcached.cache.expirations: 3600, oembed:3600\r\nmemcached.cache.prefix: memcached:spring-boot\r\nmemcached.cache.namespace: namespace\r\nmemcached.cache.protocol: text\r\n\r\n\r\n#Metrics related configurations\r\nmanagement.endpoint.metrics.enabled=true\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.prometheus.enabled=true\r\nmanagement.metrics.export.prometheus.enabled=true\r\n\r\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\r\nmanagement.metrics.distribution.sla.server.requests: 450ms\r\n```\r\n\r\nfor some reason every time I&#39;m running my docker compose orchestration the app is crashing with the following error:\r\n```\r\n18:21:03  ted-search_master-app-1        | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheAutoConfigurationValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;GENERIC&#39;)\r\n```\r\n\r\nwhat am I doing wrong?","title":"Memcached configuration in springboot app","body":"<p>I'm trying to CI a Java SpringBoot app, the app is making use of memcached.\n<code>pom.xml</code> dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.sixhours&lt;/groupId&gt;\n  &lt;artifactId&gt;memcached-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>I'v created a <code>docker-compose.yaml</code> file with <code>memcached</code> container, <code>app</code> container and <code>nginx</code> as reverse proxy all running on the same network <code>ci_network</code>:</p>\n<pre><code>version: '3'\n\nservices:\n  memcached:\n    image: memcached:latest\n    ports:\n      - &quot;11211:11211&quot;\n    networks:\n      - ci_network\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;echo&quot;, &quot;stats&quot;, &quot;|&quot;, &quot;nc&quot;, &quot;localhost&quot;, &quot;11211&quot;]\n      interval: 10s\n      timeout: 2s\n      retries: 5\n  \n  # Backend - ted-search app\n  app:\n    image: ted-search:latest\n    depends_on:\n      memcached:\n        condition: service_healthy\n    networks:\n      - ci_network\n\n  # Reverse Proxy - Nginx\n  proxy:\n    build:\n      context: .\n      dockerfile: Dockerfile.nginx    \n    ports:\n      - &quot;80:80&quot;\n    depends_on:\n      - app    \n    networks:\n      - ci_network\n\nnetworks:\n  ci_network:\n    external: true\n</code></pre>\n<p>I've configured the <code>application.properties</code> file to enable memcached as follows:</p>\n<pre><code>server.port: 9191\n\nspring.cache.type=GENERIC\n\n# MEMCACHED CACHE\nmemcached.cache.servers: memcached:11211\nmemcached.cache.mode: static\nmemcached.cache.expirations: 3600, oembed:3600\nmemcached.cache.prefix: memcached:spring-boot\nmemcached.cache.namespace: namespace\nmemcached.cache.protocol: text\n\n\n#Metrics related configurations\nmanagement.endpoint.metrics.enabled=true\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.prometheus.enabled=true\nmanagement.metrics.export.prometheus.enabled=true\n\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\nmanagement.metrics.distribution.sla.server.requests: 450ms\n</code></pre>\n<p>for some reason every time I'm running my docker compose orchestration the app is crashing with the following error:</p>\n<pre><code>18:21:03  ted-search_master-app-1        | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheAutoConfigurationValidator' defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'GENERIC')\n</code></pre>\n<p>what am I doing wrong?</p>\n"},{"tags":["java","jersey","jax-rs","jersey-client"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695722233,"creation_date":1695722233,"answer_id":77178911,"question_id":77177702,"body_markdown":"Starting with JDK 16, it is no longer possible to use reflection on JDK internal classes and add PATCH method to a list of supported HTTP methods by the default HTTPUrlConnector (which is what `client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);` tries to do.\r\n\r\nPlease select another connector from the [list of supported connectors][1] to support HTTP Patch method.\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/client.html#d0e4892","title":"How to make PATCH request using Jersey client?","body":"<p>Starting with JDK 16, it is no longer possible to use reflection on JDK internal classes and add PATCH method to a list of supported HTTP methods by the default HTTPUrlConnector (which is what <code>client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);</code> tries to do.</p>\n<p>Please select another connector from the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/client.html#d0e4892\" rel=\"nofollow noreferrer\">list of supported connectors</a> to support HTTP Patch method.</p>\n"}],"owner":{"account_id":29535988,"reputation":1,"user_id":22635576,"display_name":"Mehul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695722233,"creation_date":1695712098,"question_id":77177702,"body_markdown":"```\r\nWebTarget target = client.target(url);            client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);\r\nResponse response = target\r\n                    .request(MediaType.APPLICATION_JSON_PATCH_JSON)\r\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                    .method(&quot;PATCH&quot;, Entity.json(JSONUtils.convertToJSON(List.of(startStopPayload))));\r\n```\r\nI tried making request like,\r\nBut received an error\r\nThis is the error:\r\n```\r\njakarta.ws.rs.ProcessingException: Unable to make field private final sun.net.www.protocol.https.DelegateHttpsURLConnection sun.net.www.protocol.https.HttpsURLConnectionImpl.delegate accessible: module java.base does not &quot;opens sun.net.www.protocol.https&quot; to unnamed module @47f37ef1\r\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:309)\r\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\r\n        at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n        at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\r\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439)\r\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient.stopInstance(K8sBlockchainPlatformInstanceClient.java:183)\r\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient$Proxy$_$$_WeldClientProxy.stopInstance(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager.stopBlockchainPlatform(BPServiceManager.java:749)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldSubclass.stopBlockchainPlatform(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\r\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource.stopBlockchainPlatform(BlockchainPlatformResource.java:393)\r\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n        at io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$4(JerseySupport.java:334)\r\n        at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\r\n        at io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI tried adding \r\n`client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);`\r\n\r\nI&#39;m using jdk 17","title":"How to make PATCH request using Jersey client?","body":"<pre><code>WebTarget target = client.target(url);            client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);\nResponse response = target\n                    .request(MediaType.APPLICATION_JSON_PATCH_JSON)\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                    .method(&quot;PATCH&quot;, Entity.json(JSONUtils.convertToJSON(List.of(startStopPayload))));\n</code></pre>\n<p>I tried making request like,\nBut received an error\nThis is the error:</p>\n<pre><code>jakarta.ws.rs.ProcessingException: Unable to make field private final sun.net.www.protocol.https.DelegateHttpsURLConnection sun.net.www.protocol.https.HttpsURLConnectionImpl.delegate accessible: module java.base does not &quot;opens sun.net.www.protocol.https&quot; to unnamed module @47f37ef1\n        at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:309)\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$0(JerseyInvocation.java:662)\n        at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n        at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n        at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n        at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:661)\n        at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:439)\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient.stopInstance(K8sBlockchainPlatformInstanceClient.java:183)\n        at com.oracle.blockchain.opcp.restserver.client.k8s.K8sBlockchainPlatformInstanceClient$Proxy$_$$_WeldClientProxy.stopInstance(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager.stopBlockchainPlatform(BPServiceManager.java:749)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldSubclass.stopBlockchainPlatform(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.manager.BPServiceManager$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource.stopBlockchainPlatform(BlockchainPlatformResource.java:393)\n        at com.oracle.blockchain.opcp.restserver.resources.BlockchainPlatformResource$Proxy$_$$_WeldClientProxy.stopBlockchainPlatform(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n        at io.helidon.webserver.jersey.JerseySupport$JerseyHandler.lambda$doAccept$4(JerseySupport.java:334)\n        at io.helidon.common.context.Contexts.runInContext(Contexts.java:117)\n        at io.helidon.common.context.ContextAwareExecutorImpl.lambda$wrap$7(ContextAwareExecutorImpl.java:154)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I tried adding\n<code>client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND,true);</code></p>\n<p>I'm using jdk 17</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9832,"page":160,"page_size":100}
